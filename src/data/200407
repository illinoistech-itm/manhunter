From lucene-user-return-9012-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 01 09:36:16 2004
Return-Path: <lucene-user-return-9012-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74714 invoked from network); 1 Jul 2004 09:36:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Jul 2004 09:36:16 -0000
Received: (qmail 97168 invoked by uid 500); 1 Jul 2004 09:36:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96986 invoked by uid 500); 1 Jul 2004 09:36:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96892 invoked by uid 99); 1 Jul 2004 09:36:24 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=DATE_IN_PAST_12_24
X-Spam-Check-By: apache.org
Received: from [66.94.16.97] (HELO postfix.mail.ehatchersolutions.com) (66.94.16.97)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 01 Jul 2004 02:36:23 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 4C1357AD0A3
	for <lucene-user@jakarta.apache.org>; Thu,  1 Jul 2004 05:35:35 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <20040629151237.6689.qmail@web90103.mail.scd.yahoo.com>
References: <20040629151237.6689.qmail@web90103.mail.scd.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <3C1D1B80-CACD-11D8-A6FD-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: how to incorporate french stemmer in snowball?
Date: Wed, 30 Jun 2004 12:39:43 -0700
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jun 29, 2004, at 8:12 AM, uddam chukmol wrote:
> Thanks alot Erik for  this hint. I went to the repository of  
> "jakarta-lucene-sandbox/contribution/analyzers/src/java/org/apache/ 
> lucene/analysis/fr" and found the source of three class for analyzing  
> the french text.

The Snowball analyzer family is under  
jakarta-lucene-sandbox/contribution/snowball

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9013-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 01 11:12:04 2004
Return-Path: <lucene-user-return-9013-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17928 invoked from network); 1 Jul 2004 11:12:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Jul 2004 11:12:04 -0000
Received: (qmail 38187 invoked by uid 500); 1 Jul 2004 11:11:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38044 invoked by uid 500); 1 Jul 2004 11:11:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37917 invoked by uid 99); 1 Jul 2004 11:11:45 -0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD,HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [66.218.94.79] (HELO web90108.mail.scd.yahoo.com) (66.218.94.79)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Thu, 01 Jul 2004 04:11:42 -0700
Message-ID: <20040701111139.7743.qmail@web90108.mail.scd.yahoo.com>
Received: from [134.214.105.166] by web90108.mail.scd.yahoo.com via HTTP; Thu, 01 Jul 2004 04:11:39 PDT
Date: Thu, 1 Jul 2004 04:11:39 -0700 (PDT)
From: uddam chukmol <uddam_chukmol@yahoo.com>
Subject: Re: how to incorporate french stemmer in snowball?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3C1D1B80-CACD-11D8-A6FD-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-205232541-1088680299=:7481"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-205232541-1088680299=:7481
Content-Type: text/plain; charset=us-ascii

Well, actually, i'm working with the one i fetched from the URL shown before and it works quite well. I think, i'll made the choice for it!
 
Thanks anyway for your help!
 
Regards
 
Uddam


Erik Hatcher <erik@ehatchersolutions.com> wrote:On Jun 29, 2004, at 8:12 AM, uddam chukmol wrote:
> Thanks alot Erik for this hint. I went to the repository of 
> "jakarta-lucene-sandbox/contribution/analyzers/src/java/org/apache/ 
> lucene/analysis/fr" and found the source of three class for analyzing 
> the french text.

The Snowball analyzer family is under 
jakarta-lucene-sandbox/contribution/snowball

Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



		
---------------------------------
Do you Yahoo!?
Yahoo! Mail - 50x more storage than other providers!
--0-205232541-1088680299=:7481--

From lucene-user-return-9014-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 01 13:09:57 2004
Return-Path: <lucene-user-return-9014-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79848 invoked from network); 1 Jul 2004 13:09:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Jul 2004 13:09:57 -0000
Received: (qmail 81473 invoked by uid 500); 1 Jul 2004 13:09:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81422 invoked by uid 500); 1 Jul 2004 13:09:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81397 invoked by uid 99); 1 Jul 2004 13:09:49 -0000
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=DATE_IN_PAST_96_XX
X-Spam-Check-By: apache.org
Received: from [218.214.54.211] (HELO FIREBIRD) (218.214.54.211)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 01 Jul 2004 06:09:49 -0700
From: "Anson Lau" <alau@fulfil-net.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: question on setting boost factor
Date: Tue, 22 Jun 2004 21:30:37 +1000
Message-ID: <20040622213038.36927D8E.FE122FCB@FIREBIRD>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcRYTFYKSRGzFISNS+6QcjnXzLgdrg==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi guys,

Lets say I want to search the term "hello world" over 3 fields with
different boost:

((hello:field1 world:field1)^0.001 (hello:field2 world:field2)^100
(hello:field3 world:field3)^20000))

Note I've given field1 a really low boost, a heavy boost to field2 and a
REALLY heavy boost to field3.

What is happening to me is that a term that matches both field1 and field2,
will have a higher score than a term that matches field3 only, even though
field3's boost is WAY higher.

Can I change this behaviour such that the match in field3 only will actually
have a higher score because of the boost?

Thanks,

Anson


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9015-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 01 14:16:06 2004
Return-Path: <lucene-user-return-9015-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36810 invoked from network); 1 Jul 2004 14:16:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Jul 2004 14:16:06 -0000
Received: (qmail 85378 invoked by uid 500); 1 Jul 2004 14:16:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85235 invoked by uid 500); 1 Jul 2004 14:15:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85196 invoked by uid 99); 1 Jul 2004 14:15:58 -0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=HTML_40_50,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [64.65.202.3] (HELO contextmedia.com) (64.65.202.3)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 01 Jul 2004 07:15:51 -0700
Received: from ppeddi ([192.168.1.44]) by contextmedia.com ; Thu, 01 Jul 2004 10:14:02 -0400
Message-ID: <037501c45f75$e679f0a0$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "lucenelist" <lucene-user@jakarta.apache.org>
Subject: Sorting and tokenization
Date: Thu, 1 Jul 2004 10:15:45 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0372_01C45F54.5F59F8C0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0372_01C45F54.5F59F8C0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello all,
Now that lucene 1.4 rc3 has sorting functionality built in, I am adding =
sorting functionality to our searching. Before posting any question to =
this mailing list, I have been going thru most of the email responses in =
this mailing list related to sorting. I have found that I cannot =
tokenize the fields that I want to sort on.

Lets take the example I have.
I use lucene 1.3 final for searching. Sorting is in fact a very =
important feature in our application. But we found that lucene does not =
support out of box, we had to implement sorting by score and doc id =
programatically which is kind of useless for us. So I thought lucene's =
new sorting feature will best suit now. But unfortunately, the field =
called "title" is tokenized currently. And this is done purposefully =
because users would want to search partial matches (or rather search on =
multiple words of the title). So if we make it un tokenized we may lose =
an improtant functionality.

My question is, is there any way I can achieve sorting the objects by =
title and keeping title as tokenized?

Thanks in advance.

Praveen


**************************************************************=20
Praveen Peddi
Sr Software Engg, Context Media, Inc.=20
email:ppeddi@contextmedia.com=20
Tel:  401.854.3475=20
Fax:  401.861.3596=20
web: http://www.contextmedia.com=20
**************************************************************=20
Context Media- "The Leader in Enterprise Content Integration"=20

------=_NextPart_000_0372_01C45F54.5F59F8C0--


From lucene-user-return-9016-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 01 14:24:49 2004
Return-Path: <lucene-user-return-9016-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41469 invoked from network); 1 Jul 2004 14:24:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Jul 2004 14:24:49 -0000
Received: (qmail 12343 invoked by uid 500); 1 Jul 2004 14:24:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12230 invoked by uid 500); 1 Jul 2004 14:24:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12196 invoked by uid 99); 1 Jul 2004 14:24:34 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=DNS_FROM_RFC_POST
X-Spam-Check-By: apache.org
Received: from [195.110.64.125] (HELO smtp.uk.colt.net) (195.110.64.125)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 01 Jul 2004 07:24:32 -0700
Received: from rte.ie (mx.rte.ie [217.173.98.209])
	by smtp.uk.colt.net (Postfix) with ESMTP id A7D72144F43
	for <lucene-user@jakarta.apache.org>; Thu,  1 Jul 2004 15:25:11 +0100 (BST)
Subject: Re: Sorting and tokenization
From: John Moylan <johnm@rte.ie>
Reply-To: johnm@rte.ie
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <037501c45f75$e679f0a0$aa87a8c0@ppeddi>
References: <037501c45f75$e679f0a0$aa87a8c0@ppeddi>
Content-Type: text/plain
Organization: Radio Telifis Eireann
Message-Id: <1088691861.11662.20.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5) 
Date: 01 Jul 2004 15:24:21 +0100
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

You just need to have another title field that is not tokenized - for
sorting purposes.

Best,
John

On Thu, 2004-07-01 at 15:15, Praveen Peddi wrote:
> Hello all,
> Now that lucene 1.4 rc3 has sorting functionality built in, I am adding sorting functionality to our searching. Before posting any question to this mailing list, I have been going thru most of the email responses in this mailing list related to sorting. I have found that I cannot tokenize the fields that I want to sort on.
> 
> Lets take the example I have.
> I use lucene 1.3 final for searching. Sorting is in fact a very important feature in our application. But we found that lucene does not support out of box, we had to implement sorting by score and doc id programatically which is kind of useless for us. So I thought lucene's new sorting feature will best suit now. But unfortunately, the field called "title" is tokenized currently. And this is done purposefully because users would want to search partial matches (or rather search on multiple words of the title). So if we make it un tokenized we may lose an improtant functionality.
> 
> My question is, is there any way I can achieve sorting the objects by title and keeping title as tokenized?
> 
> Thanks in advance.
> 
> Praveen
> 
> 
> ************************************************************** 
> Praveen Peddi
> Sr Software Engg, Context Media, Inc. 
> email:ppeddi@contextmedia.com 
> Tel:  401.854.3475 
> Fax:  401.861.3596 
> web: http://www.contextmedia.com
> ************************************************************** 
> Context Media- "The Leader in Enterprise Content Integration" 
-- 
John Moylan
----------------------
ePublishing
Radio Telefis Eireann,
Montrose House,
Donnybrook,
Dublin 4,
Eire
t:+353 1 2083564
e:john.moylan@rte.ie


******************************************************************************
The information in this e-mail is confidential and may be legally privileged.
It is intended solely for the addressee. Access to this e-mail by anyone else
is unauthorised. If you are not the intended recipient, any disclosure,
copying, distribution, or any action taken or omitted to be taken in reliance
on it, is prohibited and may be unlawful.
Please note that emails to, from and within RTÉ may be subject to the Freedom
of Information Act 1997 and may be liable to disclosure.
******************************************************************************

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9017-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 01 14:35:41 2004
Return-Path: <lucene-user-return-9017-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48996 invoked from network); 1 Jul 2004 14:35:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Jul 2004 14:35:41 -0000
Received: (qmail 48734 invoked by uid 500); 1 Jul 2004 14:35:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48574 invoked by uid 500); 1 Jul 2004 14:35:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48500 invoked by uid 99); 1 Jul 2004 14:35:25 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [64.65.202.3] (HELO contextmedia.com) (64.65.202.3)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 01 Jul 2004 07:35:20 -0700
Received: from ppeddi ([192.168.1.44]) by contextmedia.com ; Thu, 01 Jul 2004 10:33:31 -0400
Message-ID: <039101c45f78$9fc8fcc0$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <037501c45f75$e679f0a0$aa87a8c0@ppeddi> <1088691861.11662.20.camel@localhost.localdomain>
Subject: Re: Sorting and tokenization
Date: Thu, 1 Jul 2004 10:35:15 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The solution you suggested is exactly as I expected and I already thought
about implementing it. But the problem is the memory in efficiency. Somce
times titles are huge. And with i18n, title can be in japanese, chinese or
any language which takes mroe memory than english.

Ok. how about taking the first token of the title and using it just for the
sake of sorting. Does anyone see any problem with it? This solution saves
atleast some memory, compared to the other solution.

Praveen

----- Original Message ----- 
From: "John Moylan" <johnm@rte.ie>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, July 01, 2004 10:24 AM
Subject: Re: Sorting and tokenization


> Hi,
>
> You just need to have another title field that is not tokenized - for
> sorting purposes.
>
> Best,
> John
>
> On Thu, 2004-07-01 at 15:15, Praveen Peddi wrote:
> > Hello all,
> > Now that lucene 1.4 rc3 has sorting functionality built in, I am adding
sorting functionality to our searching. Before posting any question to this
mailing list, I have been going thru most of the email responses in this
mailing list related to sorting. I have found that I cannot tokenize the
fields that I want to sort on.
> >
> > Lets take the example I have.
> > I use lucene 1.3 final for searching. Sorting is in fact a very
important feature in our application. But we found that lucene does not
support out of box, we had to implement sorting by score and doc id
programatically which is kind of useless for us. So I thought lucene's new
sorting feature will best suit now. But unfortunately, the field called
"title" is tokenized currently. And this is done purposefully because users
would want to search partial matches (or rather search on multiple words of
the title). So if we make it un tokenized we may lose an improtant
functionality.
> >
> > My question is, is there any way I can achieve sorting the objects by
title and keeping title as tokenized?
> >
> > Thanks in advance.
> >
> > Praveen
> >
> >
> > **************************************************************
> > Praveen Peddi
> > Sr Software Engg, Context Media, Inc.
> > email:ppeddi@contextmedia.com
> > Tel:  401.854.3475
> > Fax:  401.861.3596
> > web: http://www.contextmedia.com
> > **************************************************************
> > Context Media- "The Leader in Enterprise Content Integration"
> -- 
> John Moylan
> ----------------------
> ePublishing
> Radio Telefis Eireann,
> Montrose House,
> Donnybrook,
> Dublin 4,
> Eire
> t:+353 1 2083564
> e:john.moylan@rte.ie
>
>
>
****************************************************************************
**
> The information in this e-mail is confidential and may be legally
privileged.
> It is intended solely for the addressee. Access to this e-mail by anyone
else
> is unauthorised. If you are not the intended recipient, any disclosure,
> copying, distribution, or any action taken or omitted to be taken in
reliance
> on it, is prohibited and may be unlawful.
> Please note that emails to, from and within RTÉ may be subject to the
Freedom
> of Information Act 1997 and may be liable to disclosure.
>
****************************************************************************
**
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9018-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 01 15:12:05 2004
Return-Path: <lucene-user-return-9018-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72484 invoked from network); 1 Jul 2004 15:12:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Jul 2004 15:12:05 -0000
Received: (qmail 46094 invoked by uid 500); 1 Jul 2004 15:12:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46007 invoked by uid 500); 1 Jul 2004 15:12:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45994 invoked by uid 99); 1 Jul 2004 15:12:03 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [212.135.149.8] (HELO gateway.klearsystems.com) (212.135.149.8)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 01 Jul 2004 08:12:02 -0700
Received: from [192.168.7.24] ([192.168.7.24])
	(authenticated bits=0)
	by gateway.klearsystems.com (8.12.9/8.12.9) with ESMTP id i61FBAni026418
	for <lucene-user@jakarta.apache.org>; Thu, 1 Jul 2004 16:11:11 +0100 (BST)
Subject: Sort in Cocoon/XSP
From: Rob Clews <robc@klearsystems.com>
To: lucene-user@jakarta.apache.org
Content-Type: text/plain
Organization: Klear Systems Ltd
Date: Thu, 01 Jul 2004 16:11:41 +0100
Message-Id: <1088694701.3472.15.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Evolution 1.5.9.2 (1.5.9.2-1) 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I'm experiencing a problem with Cocoon, and whilst I know this list is
for Lucene I wonder if you can help me with a sort of related problem.

When I try and import the Sort class I get the following:

// start error (lines 69-69) "Only a type can be imported. org.apache.
lucene.search.Sort resolves to a package"

Nothing on Google really gives a solution to this. I have lucene 1.4 rc3
jar in $COCOON_HOME/WEB-INF/lib.

Thanks
-- 
Rob Clews
Klear Systems Ltd
t: +44 (0)121 707 8558 e: robc@klearsystems.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9019-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 01 16:13:58 2004
Return-Path: <lucene-user-return-9019-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12720 invoked from network); 1 Jul 2004 16:13:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Jul 2004 16:13:57 -0000
Received: (qmail 1698 invoked by uid 500); 1 Jul 2004 16:13:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1660 invoked by uid 500); 1 Jul 2004 16:13:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1638 invoked by uid 99); 1 Jul 2004 16:13:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.104.168] (HELO postfix.mail.ehatchersolutions.com) (128.143.104.168)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 01 Jul 2004 09:13:54 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id B85BC7ADA47
	for <lucene-user@jakarta.apache.org>; Thu,  1 Jul 2004 12:13:45 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <20040622213038.36927D8E.FE122FCB@FIREBIRD>
References: <20040622213038.36927D8E.FE122FCB@FIREBIRD>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <9FB57078-CB79-11D8-A641-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: question on setting boost factor
Date: Thu, 1 Jul 2004 12:13:43 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jun 22, 2004, at 7:30 AM, Anson Lau wrote:

> Hi guys,
>
> Lets say I want to search the term "hello world" over 3 fields with
> different boost:
>
> ((hello:field1 world:field1)^0.001 (hello:field2 world:field2)^100
> (hello:field3 world:field3)^20000))
>
> Note I've given field1 a really low boost, a heavy boost to field2 and  
> a
> REALLY heavy boost to field3.
>
> What is happening to me is that a term that matches both field1 and  
> field2,
> will have a higher score than a term that matches field3 only, even  
> though
> field3's boost is WAY higher.
>
> Can I change this behaviour such that the match in field3 only will  
> actually
> have a higher score because of the boost?

First step is to get familiar with the actual factors coming out in the  
IndexSearcher.explain() output (just System.out.println the Explanation  
object).  The coord() factor -  
<http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/ 
Similarity.html#coord(int,%20int)> - is what you'll want to tweak to  
change how scores are affected when multiple terms match by creating  
your own DefaultSimilarity sublass (and probably just returning 1.0).   
Read the javadocs for Similarity to see how to hook in your own  
implementation (see also section).

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9020-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 01 16:23:32 2004
Return-Path: <lucene-user-return-9020-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17797 invoked from network); 1 Jul 2004 16:23:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Jul 2004 16:23:31 -0000
Received: (qmail 20251 invoked by uid 500); 1 Jul 2004 16:22:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20110 invoked by uid 500); 1 Jul 2004 16:22:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19970 invoked by uid 99); 1 Jul 2004 16:22:39 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 01 Jul 2004 09:22:38 -0700
Received: from [128.230.38.212] (syru38-212.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.1296AEA4@mailer.syr.edu>; Thu, 1 Jul 2004 12:22:23 -0400
Message-ID: <40E43A3C.7080505@syr.edu>
Date: Thu, 01 Jul 2004 12:22:20 -0400
From: Steven Rowe <sarowe@syr.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: question on setting boost factor
References: <20040622213038.36927D8E.FE122FCB@FIREBIRD> <9FB57078-CB79-11D8-A641-000393A564E6@ehatchersolutions.com>
In-Reply-To: <9FB57078-CB79-11D8-A641-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Repaired URL (was extra space before "Similarity.html"):
<http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/Similarity.html#coord(int,%20int)>

Corresponding Tiny URL:
<URL:http://tinyurl.com/3bo8y>

Erik Hatcher wrote:
> On Jun 22, 2004, at 7:30 AM, Anson Lau wrote:
>> Hi guys,
>>
>> Lets say I want to search the term "hello world" over 3 fields with
>> different boost:
>>
>> ((hello:field1 world:field1)^0.001 (hello:field2 world:field2)^100
>> (hello:field3 world:field3)^20000))
>>
>> Note I've given field1 a really low boost, a heavy boost to field2 and  a
>> REALLY heavy boost to field3.
>>
>> What is happening to me is that a term that matches both field1 and  
>> field2,
>> will have a higher score than a term that matches field3 only, even  
>> though
>> field3's boost is WAY higher.
>>
>> Can I change this behaviour such that the match in field3 only will  
>> actually
>> have a higher score because of the boost?
> 
> 
> First step is to get familiar with the actual factors coming out in the  
> IndexSearcher.explain() output (just System.out.println the Explanation  
> object).  The coord() factor -  
> <http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/ 
> Similarity.html#coord(int,%20int)> - is what you'll want to tweak to  
> change how scores are affected when multiple terms match by creating  
> your own DefaultSimilarity sublass (and probably just returning 1.0).   
> Read the javadocs for Similarity to see how to hook in your own  
> implementation (see also section).
> 
>     Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9021-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 01 16:34:45 2004
Return-Path: <lucene-user-return-9021-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24592 invoked from network); 1 Jul 2004 16:34:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Jul 2004 16:34:45 -0000
Received: (qmail 55207 invoked by uid 500); 1 Jul 2004 16:34:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55129 invoked by uid 500); 1 Jul 2004 16:34:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55116 invoked by uid 99); 1 Jul 2004 16:34:45 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.104.168] (HELO postfix.mail.ehatchersolutions.com) (128.143.104.168)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 01 Jul 2004 09:34:44 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 80DCC7ADA91
	for <lucene-user@jakarta.apache.org>; Thu,  1 Jul 2004 12:34:35 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <3414790679479308471QHGHRLGOSE.tlai@trekspace.com>
References: <3414790679479308471QHGHRLGOSE.tlai@trekspace.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <88F01299-CB7C-11D8-A641-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Building query to match a sub-string of a field
Date: Thu, 1 Jul 2004 12:34:34 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jun 29, 2004, at 5:28 PM, Terence Lai wrote:
> Hi Everyone,
>
> I am trying to construct a query which matches a sub-string of a 
> field. As an illustration, I would like to search the following words 
> by using the sub-string "test":
>
> - test
> - testing
> - contest
> - contestable
>
> I realize that Lucene does support wildcard searches using "*" and "?" 
> in the custom query. Therefore, the query string "*test*" should give 
> me the right result. However, the Lucene query syntax 
> (http://jakarta.apache.org/lucene/docs/queryparsersyntax.html) does 
> not allow the wildcard "*" as the first character of the search. 
> Therefore, the query "*test*" is invalid. Does anyone have a solution 
> to build the query to achieve the same result?

Query query = new WildcardQuery(new Term("field", "*test*"));

Careful with performance and term expansion on this though.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9022-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 01 19:24:55 2004
Return-Path: <lucene-user-return-9022-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43893 invoked from network); 1 Jul 2004 19:24:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Jul 2004 19:24:55 -0000
Received: (qmail 65206 invoked by uid 500); 1 Jul 2004 19:24:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65155 invoked by uid 500); 1 Jul 2004 19:24:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65117 invoked by uid 99); 1 Jul 2004 19:24:54 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 01 Jul 2004 12:24:53 -0700
Received: (qmail 83672 invoked by uid 89); 1 Jul 2004 19:24:32 -0000
Received: from unknown (HELO ?192.168.168.81?) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 1 Jul 2004 19:24:31 -0000
Message-ID: <40E464DB.9020202@apache.org>
Date: Thu, 01 Jul 2004 12:24:11 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040619
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Making a case for Lucene
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

 > The best example that I've been able to find is the Yahoo research
 > lab - as I understand it, this is a Nutch (i.e. Lucene)
 > implementation that's providing impressive performance over a
 > 100 million document repository.

This demo runs on a handful of boxes.  It was originally running on 
three dual-processor boxes, but I think Yahoo! subsequently moved it to 
six or eight single-processor boxes.  Queries are broadcast to all 
servers, and the top-scoring matches overall are presented.

In Nutch-based benchmarks, we found that a single-processor box with 4GB 
of memory and a 2M page Nutch index (i.e., the entire index fits in RAM) 
could handle over 20 Nutch searches/second.  A box with 1GB of memory 
and a 20M page Nutch index (i.e., the entire index does not fit in 
memory) could only handle around 1 or 2 Nutch searches/second.  These 
were done with Lucene 1.3.  Lucene 1.4 should be somewhat faster. 
Performance will obviously vary with processor speed, disk speed, 
average document size, average number terms per query, etc.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9023-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 01 19:37:09 2004
Return-Path: <lucene-user-return-9023-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51416 invoked from network); 1 Jul 2004 19:37:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Jul 2004 19:37:09 -0000
Received: (qmail 94478 invoked by uid 500); 1 Jul 2004 19:37:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94392 invoked by uid 500); 1 Jul 2004 19:37:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94351 invoked by uid 99); 1 Jul 2004 19:37:08 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 01 Jul 2004 12:37:07 -0700
Received: (qmail 97772 invoked by uid 89); 1 Jul 2004 19:36:46 -0000
Received: from unknown (HELO ?192.168.168.81?) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 1 Jul 2004 19:36:45 -0000
Message-ID: <40E467B9.8070809@apache.org>
Date: Thu, 01 Jul 2004 12:36:25 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040619
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Running OutOfMemory while optimizing and searching
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

 > What do your queries look like?  The memory required
 > for a query can be computed by the following equation:
 >
 > 1 Byte * Number of fields in your query * Number of
 > docs in your index
 >
 > So if your query searches on all 50 fields of your 3.5
 > Million document index then each search would take
 > about 175MB.  If your 3-4 searches run concurrently
 > then that's about 525MB to 700MB chewed up at once.

That's not quite right.  If you use the same IndexSearcher (or 
IndexReader) for all of the searches, then only 175MB are used.  The 
arrays in question (the norms) are read-only and can be shared by all 
searches.

In general, the amount of memory required is:

1 byte * Number of searchable fields in your index * Number of docs in 
your index

plus

1k bytes * number of terms in query

plus

1k bytes * number of phrase terms in query

The latter are for i/o buffers.  There are a few other things, but these 
are the major ones.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9024-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 01 21:15:01 2004
Return-Path: <lucene-user-return-9024-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97950 invoked from network); 1 Jul 2004 21:15:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Jul 2004 21:15:01 -0000
Received: (qmail 51914 invoked by uid 500); 1 Jul 2004 21:15:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51849 invoked by uid 500); 1 Jul 2004 21:15:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51812 invoked by uid 99); 1 Jul 2004 21:15:05 -0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=HTML_40_50,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [64.65.202.3] (HELO contextmedia.com) (64.65.202.3)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 01 Jul 2004 14:15:02 -0700
Received: from ppeddi ([192.168.1.44]) by contextmedia.com ; Thu, 01 Jul 2004 17:11:20 -0400
Message-ID: <043701c45fb0$3166f3d0$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "lucenelist" <lucene-user@jakarta.apache.org>
Subject: languages lucene can support
Date: Thu, 1 Jul 2004 17:13:01 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0434_01C45F8E.AA472300"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0434_01C45F8E.AA472300
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I have read many emails in lucene mailing list regarding analyzers.

Following is the list of languages lucene supports out of box. So they =
will be supported with no change in our code but just a configuration =
change.
English
German
Russian

Following is the list of languages that are available as external =
downloads on lucene's site:

Chinese
Japanese
Korean (all of the above come as single download)
Brazilian
CZech
French
Dutch

I also read that lucene's StandardAnalyzer supports most of the european =
languages. Does it mean it supports spanish also? or is there a separate =
analyzer for that? I didn't see any spanish analyzer in the sand box or =
lucene release.

Another question regarding FrenchAnalyzer. I downloaded FrenchAnalyzer =
and some methods do not throw IOException where it is supposed to throw. =
For example, the constructor. I am using 1.4 final (I know its relased =
only today :)). Whats the fix for it?

Praveen

Praveen

**************************************************************=20
Praveen Peddi
Sr Software Engg, Context Media, Inc.=20
email:ppeddi@contextmedia.com=20
Tel:  401.854.3475=20
Fax:  401.861.3596=20
web: http://www.contextmedia.com=20
**************************************************************=20
Context Media- "The Leader in Enterprise Content Integration" 
------=_NextPart_000_0434_01C45F8E.AA472300--


From lucene-user-return-9025-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 01 21:29:18 2004
Return-Path: <lucene-user-return-9025-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6219 invoked from network); 1 Jul 2004 21:29:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Jul 2004 21:29:18 -0000
Received: (qmail 92234 invoked by uid 500); 1 Jul 2004 21:29:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92176 invoked by uid 500); 1 Jul 2004 21:29:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92140 invoked by uid 99); 1 Jul 2004 21:29:25 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [66.139.76.19] (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 01 Jul 2004 14:29:22 -0700
Received: (qmail 16368 invoked by uid 532); 1 Jul 2004 21:28:32 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 2.63.  Clear:. 
 Processed in 0.204811 secs); 01 Jul 2004 21:28:32 -0000
Received: from unknown (HELO tropo.com) (127.0.0.1)
  by 0 with SMTP; 1 Jul 2004 21:28:32 -0000
Message-ID: <40E48217.4030202@tropo.com>
Date: Thu, 01 Jul 2004 14:28:55 -0700
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7b) Gecko/20040316
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Visualization of Lucene search results with a treemap
References: <40E464DB.9020202@apache.org>
In-Reply-To: <40E464DB.9020202@apache.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Inspired by these guys who put results from Google into a treemap...
http://google.hivegroup.com/

I did up my own version running against my index of OSS/javadoc trees.
This query for "thread pool" shows it off nicely:

http://www.searchmorph.com/kat/tsearch.jsp?s=thread%20pool&side=300&goal=500

This is the empty search form:

http://www.searchmorph.com/kat/tsearch.jsp

And the weblog entry has a few more links, esp useful if you don't know 
what a treemap is:

http://searchmorph.com/weblog/index.php?id=18

Oh: As a start, a treemap is a visualization technique, not 
java.util.Treemap. Bigger boxes show a higher score, and x,y location 
has no significance.

Enjoy,
   Dave



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9026-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 01 21:35:13 2004
Return-Path: <lucene-user-return-9026-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9401 invoked from network); 1 Jul 2004 21:35:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Jul 2004 21:35:13 -0000
Received: (qmail 13779 invoked by uid 500); 1 Jul 2004 21:35:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13671 invoked by uid 500); 1 Jul 2004 21:35:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13492 invoked by uid 99); 1 Jul 2004 21:35:09 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received: from [212.122.43.181] (HELO zeus.rz1.connectline.net) (212.122.43.181)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 01 Jul 2004 14:35:06 -0700
Received: from [82.82.218.78] (dsl-082-082-218-078.arcor-ip.net [82.82.218.78])
	by zeus.rz1.connectline.net (Postfix) with ESMTP id 670472B6A49
	for <lucene-user@jakarta.apache.org>; Thu,  1 Jul 2004 23:34:25 +0200 (CEST)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <40E48217.4030202@tropo.com>
References: <40E464DB.9020202@apache.org> <40E48217.4030202@tropo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <7B41C79B-CBA6-11D8-926A-000A95CDCC98@media-style.com>
Content-Transfer-Encoding: 7bit
From: Stefan Groschupf <sg@media-style.com>
Subject: Re: Visualization of Lucene search results with a treemap
Date: Thu, 1 Jul 2004 23:34:50 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dave,
cool stuff, think aboout to contribute that to nutch.. ;-)!
Do you know:
http://websom.hut.fi/websom/comp.ai.neural-nets-new/html/root.html ?

Cheers,
Stefan

Am 01.07.2004 um 23:28 schrieb David Spencer:

>
> Inspired by these guys who put results from Google into a treemap...
> http://google.hivegroup.com/
>
> I did up my own version running against my index of OSS/javadoc trees.
> This query for "thread pool" shows it off nicely:
>
> http://www.searchmorph.com/kat/tsearch.jsp? 
> s=thread%20pool&side=300&goal=500
>
> This is the empty search form:
>
> http://www.searchmorph.com/kat/tsearch.jsp
>
> And the weblog entry has a few more links, esp useful if you don't  
> know what a treemap is:
>
> http://searchmorph.com/weblog/index.php?id=18
>
> Oh: As a start, a treemap is a visualization technique, not  
> java.util.Treemap. Bigger boxes show a higher score, and x,y location  
> has no significance.
>
> Enjoy,
>   Dave
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
---------------------------------------------------------------
enterprise information technology consulting
open technology:   http://www.media-style.com
open source:           http://www.weta-group.net
open discussion:    http://www.text-mining.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9027-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 01 21:39:29 2004
Return-Path: <lucene-user-return-9027-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11181 invoked from network); 1 Jul 2004 21:39:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Jul 2004 21:39:28 -0000
Received: (qmail 26270 invoked by uid 500); 1 Jul 2004 21:39:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26223 invoked by uid 500); 1 Jul 2004 21:39:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26204 invoked by uid 99); 1 Jul 2004 21:39:35 -0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=HTML_40_50,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [69.10.155.68] (HELO nexo.dattaweb.com) (69.10.155.68)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 01 Jul 2004 14:39:34 -0700
Received: from ol137-27.fibertel.com.ar ([24.232.27.137] helo=ernesto)
	by nexo.dattaweb.com with asmtp (Exim 4.34)
	id 1Bg9Gv-00076l-Nr
	for lucene-user@jakarta.apache.org; Thu, 01 Jul 2004 18:39:11 -0300
Message-ID: <006201c45fb3$f39cf0f0$891be818@ernesto>
From: "Ernesto De Santis" <ernesto.desantis@colaborativa.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <043701c45fb0$3166f3d0$aa87a8c0@ppeddi>
Subject: Re: languages lucene can support
Date: Thu, 1 Jul 2004 18:39:52 -0300
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPart_000_005E_01C45F9A.CC0E2D60"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - nexo.dattaweb.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - colaborativa.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_005E_01C45F9A.CC0E2D60
Content-Type: multipart/alternative;
	boundary="----=_NextPart_001_005F_01C45F9A.CC0E2D60"


------=_NextPart_001_005F_01C45F9A.CC0E2D60
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi Praveen

You can develope your SpanishAnalyzer easily (or another language) with =
SnowballAnalyzer.

I send you my SpanishAnalyzer.

Bye, Ernesto.


----- Original Message -----=20
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "lucenelist" <lucene-user@jakarta.apache.org>
Sent: Thursday, July 01, 2004 6:13 PM
Subject: languages lucene can support


I have read many emails in lucene mailing list regarding analyzers.

Following is the list of languages lucene supports out of box. So they =
will be supported with no change in our code but just a configuration =
change.
English
German
Russian

Following is the list of languages that are available as external =
downloads on lucene's site:

Chinese
Japanese
Korean (all of the above come as single download)
Brazilian
CZech
French
Dutch

I also read that lucene's StandardAnalyzer supports most of the european =
languages. Does it mean it supports spanish also? or is there a separate =
analyzer for that? I didn't see any spanish analyzer in the sand box or =
lucene release.

Another question regarding FrenchAnalyzer. I downloaded FrenchAnalyzer =
and some methods do not throw IOException where it is supposed to throw. =
For example, the constructor. I am using 1.4 final (I know its relased =
only today :)). Whats the fix for it?

Praveen

Praveen

**************************************************************=20
Praveen Peddi
Sr Software Engg, Context Media, Inc.=20
email:ppeddi@contextmedia.com=20
Tel:  401.854.3475=20
Fax:  401.861.3596=20
web: http://www.contextmedia.com=20
**************************************************************=20
Context Media- "The Leader in Enterprise Content Integration"


---
Outgoing mail is certified Virus Free.
Checked by AVG anti-virus system (http://www.grisoft.com).
Version: 6.0.712 / Virus Database: 468 - Release Date: 27/06/2004
------=_NextPart_001_005F_01C45F9A.CC0E2D60
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<META content=3D"MSHTML 6.00.2800.1400" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY>
<DIV><FONT face=3DArial size=3D2>Hi Praveen</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>You can develope your SpanishAnalyzer =
easily (or=20
another language)&nbsp;with SnowballAnalyzer.</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>I send you my =
SpanishAnalyzer.</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Bye, Ernesto.</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>----- Original Message ----- </FONT>
<DIV><FONT face=3DArial size=3D2>From: "Praveen Peddi" &lt;</FONT><A=20
href=3D"mailto:ppeddi@contextmedia.com"><FONT face=3DArial=20
size=3D2>ppeddi@contextmedia.com</FONT></A><FONT face=3DArial=20
size=3D2>&gt;</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>To: "lucenelist" &lt;</FONT><A=20
href=3D"mailto:lucene-user@jakarta.apache.org"><FONT face=3DArial=20
size=3D2>lucene-user@jakarta.apache.org</FONT></A><FONT face=3DArial=20
size=3D2>&gt;</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>Sent: Thursday, July 01, 2004 6:13 =
PM</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>Subject: languages lucene can=20
support</FONT></DIV></DIV>
<DIV><FONT face=3DArial><BR><FONT size=3D2></FONT></FONT></DIV>
<DIV><FONT face=3DArial size=3D2>I have read many emails in lucene =
mailing list=20
regarding analyzers.<BR><BR>Following is the list of languages lucene =
supports=20
out of box. So they will be supported with no change in our code but =
just a=20
configuration change.<BR>English<BR>German<BR>Russian<BR><BR>Following =
is the=20
list of languages that are available as external downloads on lucene's=20
site:<BR><BR>Chinese<BR>Japanese<BR>Korean (all of the above come as =
single=20
download)<BR>Brazilian<BR>CZech<BR>French<BR>Dutch<BR><BR>I also read =
that=20
lucene's StandardAnalyzer supports most of the european languages. Does =
it mean=20
it supports spanish also? or is there a separate analyzer for that? I =
didn't see=20
any spanish analyzer in the sand box or lucene release.<BR><BR>Another =
question=20
regarding FrenchAnalyzer. I downloaded FrenchAnalyzer and some methods =
do not=20
throw IOException where it is supposed to throw. For example, the =
constructor. I=20
am using 1.4 final (I know its relased only today :)). Whats the fix for =

it?<BR><BR>Praveen<BR><BR>Praveen<BR><BR>********************************=
******************************=20
<BR>Praveen Peddi<BR>Sr Software Engg, Context Media, Inc.=20
<BR>email:ppeddi@contextmedia.com <BR>Tel:&nbsp; 401.854.3475 =
<BR>Fax:&nbsp;=20
401.861.3596 <BR>web: </FONT><A =
href=3D"http://www.contextmedia.com"><FONT=20
face=3DArial size=3D2>http://www.contextmedia.com</FONT></A><FONT =
face=3DArial size=3D2>=20
<BR>************************************************************** =
<BR>Context=20
Media- "The Leader in Enterprise Content Integration"</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2><BR>---<BR>Outgoing mail is certified =
Virus=20
Free.<BR>Checked by AVG anti-virus system (<A=20
href=3D"http://www.grisoft.com">http://www.grisoft.com</A>).<BR>Version: =
6.0.712 /=20
Virus Database: 468 - Release Date: =
27/06/2004</FONT></DIV></BODY></HTML>

------=_NextPart_001_005F_01C45F9A.CC0E2D60--


------=_NextPart_000_005E_01C45F9A.CC0E2D60
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------=_NextPart_000_005E_01C45F9A.CC0E2D60--


From lucene-user-return-9028-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 01 22:39:31 2004
Return-Path: <lucene-user-return-9028-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39438 invoked from network); 1 Jul 2004 22:39:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Jul 2004 22:39:31 -0000
Received: (qmail 94152 invoked by uid 500); 1 Jul 2004 22:39:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94070 invoked by uid 500); 1 Jul 2004 22:39:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93999 invoked by uid 99); 1 Jul 2004 22:39:37 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=HTML_70_80,HTML_MESSAGE,HTML_TEXT_AFTER_BODY,HTML_TEXT_AFTER_HTML,MIME_HTML_NO_CHARSET
X-Spam-Check-By: apache.org
Received: from [202.147.44.168] (HELO angel.lonelyplanet.com.au) (202.147.44.168)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 01 Jul 2004 15:39:36 -0700
Received: from shiva.au.lpint.net ([192.168.61.22]) by angel with InterScan Messaging Security Suite; Fri, 02 Jul 2004 08:27:57 +1000
Received: by shiva.au.lpint.net with Internet Mail Service (5.5.2656.59)
	id <NYQ1QVZS>; Fri, 2 Jul 2004 08:38:20 +1000
Message-ID: <82E30406384FFB44AFD1012BAB230B550397B1A3@shiva.au.lpint.net>
From: Toby Tremayne <Toby.Tremayne@lonelyplanet.com.au>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: search multiple indexes
Date: Fri, 2 Jul 2004 08:38:15 +1000 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C45FBC.1925BB10"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C45FBC.1925BB10
Content-Type: text/plain


Possibly a silly question - but how would I go about searching multiple
indexes using lucene?  Do I need to basically repeat the code I use to
search one index for each one, or is there a better way to do it?

 

Toby

 

-------------------------------------------------------------------

 

     Life is poetry - write it in your own words

 

-------------------------------------------------------------------

 

Toby Tremayne

Code Poet and Zen Master of the Heavy Sleep

Lonely Planet Publications

+61 416 048 090

ICQ: 13107913

 



______________________________________________________________________
This email, including attachments, is intended only for the addressee
and may be confidential, privileged and subject to copyright.  If you
have received this email in error, please advise the sender and delete
it.  If you are not the intended recipient of this email, you must not
use, copy or disclose its content to anyone.  You must not copy or 
communicate to others content that is confidential or subject to 
copyright, unless you have the consent of the content owner.
------_=_NextPart_001_01C45FBC.1925BB10--

From lucene-user-return-9029-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 01 22:42:04 2004
Return-Path: <lucene-user-return-9029-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40377 invoked from network); 1 Jul 2004 22:42:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Jul 2004 22:42:04 -0000
Received: (qmail 1045 invoked by uid 500); 1 Jul 2004 22:42:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1010 invoked by uid 500); 1 Jul 2004 22:42:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 995 invoked by uid 99); 1 Jul 2004 22:42:14 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received: from [212.122.43.181] (HELO zeus.rz1.connectline.net) (212.122.43.181)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 01 Jul 2004 15:42:11 -0700
Received: from [82.82.218.78] (dsl-082-082-218-078.arcor-ip.net [82.82.218.78])
	by zeus.rz1.connectline.net (Postfix) with ESMTP id 0E7492B6A4B
	for <lucene-user@jakarta.apache.org>; Fri,  2 Jul 2004 00:41:26 +0200 (CEST)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <82E30406384FFB44AFD1012BAB230B550397B1A3@shiva.au.lpint.net>
References: <82E30406384FFB44AFD1012BAB230B550397B1A3@shiva.au.lpint.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <D8BA8F72-CBAF-11D8-926A-000A95CDCC98@media-style.com>
Content-Transfer-Encoding: 7bit
From: Stefan Groschupf <sg@media-style.com>
Subject: Re: search multiple indexes
Date: Fri, 2 Jul 2004 00:41:52 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Possibly a silly question - but how would I go about searching multiple
> indexes using lucene?  Do I need to basically repeat the code I use to
> search one index for each one, or is there a better way to do it?

Take a look to the nutch.org sourcecode. It does what you are searching 
for.
HTH
Stefan
---------------------------------------------------------------
enterprise information technology consulting
open technology:   http://www.media-style.com
open source:           http://www.weta-group.net
open discussion:    http://www.text-mining.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9030-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 01 23:13:53 2004
Return-Path: <lucene-user-return-9030-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52597 invoked from network); 1 Jul 2004 23:13:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Jul 2004 23:13:53 -0000
Received: (qmail 61561 invoked by uid 500); 1 Jul 2004 23:14:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61003 invoked by uid 500); 1 Jul 2004 23:14:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60988 invoked by uid 99); 1 Jul 2004 23:14:08 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [66.139.76.19] (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 01 Jul 2004 16:14:07 -0700
Received: (qmail 24381 invoked by uid 532); 1 Jul 2004 23:13:02 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 2.63.  Clear:. 
 Processed in 0.129579 secs); 01 Jul 2004 23:13:02 -0000
Received: from unknown (HELO tropo.com) (127.0.0.1)
  by 0 with SMTP; 1 Jul 2004 23:13:01 -0000
Message-ID: <40E49A95.3040004@tropo.com>
Date: Thu, 01 Jul 2004 16:13:25 -0700
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7b) Gecko/20040316
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: search multiple indexes
References: <82E30406384FFB44AFD1012BAB230B550397B1A3@shiva.au.lpint.net> <D8BA8F72-CBAF-11D8-926A-000A95CDCC98@media-style.com>
In-Reply-To: <D8BA8F72-CBAF-11D8-926A-000A95CDCC98@media-style.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Stefan Groschupf wrote:

>> Possibly a silly question - but how would I go about searching multiple
>> indexes using lucene?  Do I need to basically repeat the code I use to
>> search one index for each one, or is there a better way to do it?
> 
> 
> Take a look to the nutch.org sourcecode. It does what you are searching 

Isn't the answer closer to home?

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/MultiSearcher.html

> for.
> HTH
> Stefan
> ---------------------------------------------------------------
> enterprise information technology consulting
> open technology:   http://www.media-style.com
> open source:           http://www.weta-group.net
> open discussion:    http://www.text-mining.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9031-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 01 23:18:22 2004
Return-Path: <lucene-user-return-9031-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54572 invoked from network); 1 Jul 2004 23:18:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Jul 2004 23:18:22 -0000
Received: (qmail 70306 invoked by uid 500); 1 Jul 2004 23:18:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70214 invoked by uid 500); 1 Jul 2004 23:18:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70130 invoked by uid 99); 1 Jul 2004 23:18:29 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=HTML_40_50,HTML_MESSAGE,HTML_TEXT_AFTER_BODY,HTML_TEXT_AFTER_HTML,MIME_HTML_NO_CHARSET
X-Spam-Check-By: apache.org
Received: from [202.147.44.168] (HELO angel.lonelyplanet.com.au) (202.147.44.168)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 01 Jul 2004 16:18:29 -0700
Received: from shiva.au.lpint.net ([192.168.61.22]) by angel with InterScan Messaging Security Suite; Fri, 02 Jul 2004 09:06:21 +1000
Received: by shiva.au.lpint.net with Internet Mail Service (5.5.2656.59)
	id <NYQ1QWLR>; Fri, 2 Jul 2004 09:16:45 +1000
Message-ID: <82E30406384FFB44AFD1012BAB230B550397B1A6@shiva.au.lpint.net>
From: Toby Tremayne <Toby.Tremayne@lonelyplanet.com.au>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: search multiple indexes
Date: Fri, 2 Jul 2004 09:16:35 +1000 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C45FC1.7450B670"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C45FC1.7450B670
Content-Type: text/plain


thanks for that - I'll take a look at nutch as well.  I was hping to find
some examples as I'm unfortunately a java newbie :)

cheers,
Toby

-----Original Message-----
From: David Spencer [mailto:dave-lucene-user@tropo.com] 
Sent: Friday, 2 July 2004 9:13 AM
To: Lucene Users List
Subject: Re: search multiple indexes

Stefan Groschupf wrote:

>> Possibly a silly question - but how would I go about searching multiple
>> indexes using lucene?  Do I need to basically repeat the code I use to
>> search one index for each one, or is there a better way to do it?
> 
> 
> Take a look to the nutch.org sourcecode. It does what you are searching 

Isn't the answer closer to home?

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/MultiSear
cher.html

> for.
> HTH
> Stefan
> ---------------------------------------------------------------
> enterprise information technology consulting
> open technology:   http://www.media-style.com
> open source:           http://www.weta-group.net
> open discussion:    http://www.text-mining.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


______________________________________________________________________
This email, including attachments, is intended only for the addressee
and may be confidential, privileged and subject to copyright.  If you
have received this email in error, please advise the sender and delete
it.  If you are not the intended recipient of this email, you must not
use, copy or disclose its content to anyone.  You must not copy or 
communicate to others content that is confidential or subject to 
copyright, unless you have the consent of the content owner.
------_=_NextPart_001_01C45FC1.7450B670--

From lucene-user-return-9032-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 01 23:21:14 2004
Return-Path: <lucene-user-return-9032-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55671 invoked from network); 1 Jul 2004 23:21:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Jul 2004 23:21:14 -0000
Received: (qmail 76461 invoked by uid 500); 1 Jul 2004 23:21:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76355 invoked by uid 500); 1 Jul 2004 23:21:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76295 invoked by uid 99); 1 Jul 2004 23:21:21 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received: from [212.122.43.181] (HELO zeus.rz1.connectline.net) (212.122.43.181)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 01 Jul 2004 16:21:20 -0700
Received: from [82.82.218.78] (dsl-082-082-218-078.arcor-ip.net [82.82.218.78])
	by zeus.rz1.connectline.net (Postfix) with ESMTP id 4FA5C2B6A49
	for <lucene-user@jakarta.apache.org>; Fri,  2 Jul 2004 01:20:36 +0200 (CEST)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <40E49A95.3040004@tropo.com>
References: <82E30406384FFB44AFD1012BAB230B550397B1A3@shiva.au.lpint.net> <D8BA8F72-CBAF-11D8-926A-000A95CDCC98@media-style.com> <40E49A95.3040004@tropo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <513787AD-CBB5-11D8-926A-000A95CDCC98@media-style.com>
Content-Transfer-Encoding: 7bit
From: Stefan Groschupf <sg@media-style.com>
Subject: Re: search multiple indexes
Date: Fri, 2 Jul 2004 01:21:01 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/ 
> MultiSearcher.html
>
100% Right.
I personal found code samples more interesting then just java doc.
That why my hint, here the code snippet from nutch:

/** Construct given a number of indexed segments. */
   public IndexSearcher(File[] segmentDirs) throws IOException {
     NutchSimilarity sim = new NutchSimilarity();
     Searchable[] searchables = new Searchable[segmentDirs.length];
     segmentNames = new String[segmentDirs.length];
     for (int i = 0; i < segmentDirs.length; i++) {
       org.apache.lucene.search.Searcher searcher =
         new org.apache.lucene.search.IndexSearcher
         (new File(segmentDirs[i], "index").toString());
       searcher.setSimilarity(sim);
       searchables[i] = searcher;
       segmentNames[i] = segmentDirs[i].getName();
     }
     this.luceneSearcher = new MultiSearcher(searchables);
     this.luceneSearcher.setSimilarity(sim);
   }

Kent Beck said: "Monkey see, Monkey do." ;-)

Cheers,
Stefan

---------------------------------------------------------------
enterprise information technology consulting
open technology:   http://www.media-style.com
open source:           http://www.weta-group.net
open discussion:    http://www.text-mining.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9033-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 01 23:24:47 2004
Return-Path: <lucene-user-return-9033-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57081 invoked from network); 1 Jul 2004 23:24:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Jul 2004 23:24:47 -0000
Received: (qmail 84329 invoked by uid 500); 1 Jul 2004 23:24:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84281 invoked by uid 500); 1 Jul 2004 23:24:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84205 invoked by uid 99); 1 Jul 2004 23:24:54 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [66.139.76.19] (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 01 Jul 2004 16:24:53 -0700
Received: (qmail 24681 invoked by uid 532); 1 Jul 2004 23:23:59 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 2.63.  Clear:. 
 Processed in 0.139286 secs); 01 Jul 2004 23:23:59 -0000
Received: from unknown (HELO tropo.com) (127.0.0.1)
  by 0 with SMTP; 1 Jul 2004 23:23:59 -0000
Message-ID: <40E49D26.3050904@tropo.com>
Date: Thu, 01 Jul 2004 16:24:22 -0700
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7b) Gecko/20040316
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: search multiple indexes
References: <82E30406384FFB44AFD1012BAB230B550397B1A3@shiva.au.lpint.net> <D8BA8F72-CBAF-11D8-926A-000A95CDCC98@media-style.com> <40E49A95.3040004@tropo.com> <513787AD-CBB5-11D8-926A-000A95CDCC98@media-style.com>
In-Reply-To: <513787AD-CBB5-11D8-926A-000A95CDCC98@media-style.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Stefan Groschupf wrote:
>> http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/ 
>> MultiSearcher.html
>>
> 100% Right.
> I personal found code samples more interesting then just java doc.

Good point.

> That why my hint, here the code snippet from nutch:

But - warning - in normal use of Lucene you don't need the Similarity 
stuff..
> 
> /** Construct given a number of indexed segments. */
>   public IndexSearcher(File[] segmentDirs) throws IOException {
>     NutchSimilarity sim = new NutchSimilarity();
>     Searchable[] searchables = new Searchable[segmentDirs.length];
>     segmentNames = new String[segmentDirs.length];
>     for (int i = 0; i < segmentDirs.length; i++) {
>       org.apache.lucene.search.Searcher searcher =
>         new org.apache.lucene.search.IndexSearcher
>         (new File(segmentDirs[i], "index").toString());
>       searcher.setSimilarity(sim);
>       searchables[i] = searcher;
>       segmentNames[i] = segmentDirs[i].getName();
>     }
>     this.luceneSearcher = new MultiSearcher(searchables);
>     this.luceneSearcher.setSimilarity(sim);
>   }
> 
> Kent Beck said: "Monkey see, Monkey do." ;-)
> 
> Cheers,
> Stefan
> 
> ---------------------------------------------------------------
> enterprise information technology consulting
> open technology:   http://www.media-style.com
> open source:           http://www.weta-group.net
> open discussion:    http://www.text-mining.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9034-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 01 23:26:37 2004
Return-Path: <lucene-user-return-9034-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57888 invoked from network); 1 Jul 2004 23:26:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Jul 2004 23:26:37 -0000
Received: (qmail 88726 invoked by uid 500); 1 Jul 2004 23:26:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88627 invoked by uid 500); 1 Jul 2004 23:26:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88583 invoked by uid 99); 1 Jul 2004 23:26:43 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=HTML_40_50,HTML_MESSAGE,HTML_TEXT_AFTER_BODY,HTML_TEXT_AFTER_HTML,MIME_HTML_NO_CHARSET
X-Spam-Check-By: apache.org
Received: from [202.147.44.168] (HELO angel.lonelyplanet.com.au) (202.147.44.168)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 01 Jul 2004 16:26:42 -0700
Received: from shiva.au.lpint.net ([192.168.61.22]) by angel with InterScan Messaging Security Suite; Fri, 02 Jul 2004 09:15:03 +1000
Received: by shiva.au.lpint.net with Internet Mail Service (5.5.2656.59)
	id <NYQ1QWQJ>; Fri, 2 Jul 2004 09:25:26 +1000
Message-ID: <82E30406384FFB44AFD1012BAB230B550397B1AB@shiva.au.lpint.net>
From: Toby Tremayne <Toby.Tremayne@lonelyplanet.com.au>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: search multiple indexes
Date: Fri, 2 Jul 2004 09:25:25 +1000 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C45FC2.AFCA9580"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C45FC2.AFCA9580
Content-Type: text/plain


thanks guys - apologies for being a leech, but would you mind pasting a
snippet that might work just for pure lucene - or something I can learn
from?  I'm not entirely sure what's what in the nutch sample Stefan pasted.

cheers,
Toby

-----Original Message-----
From: David Spencer [mailto:dave-lucene-user@tropo.com] 
Sent: Friday, 2 July 2004 9:24 AM
To: Lucene Users List
Subject: Re: search multiple indexes

Stefan Groschupf wrote:
>> http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/ 
>> MultiSearcher.html
>>
> 100% Right.
> I personal found code samples more interesting then just java doc.

Good point.

> That why my hint, here the code snippet from nutch:

But - warning - in normal use of Lucene you don't need the Similarity 
stuff..
> 
> /** Construct given a number of indexed segments. */
>   public IndexSearcher(File[] segmentDirs) throws IOException {
>     NutchSimilarity sim = new NutchSimilarity();
>     Searchable[] searchables = new Searchable[segmentDirs.length];
>     segmentNames = new String[segmentDirs.length];
>     for (int i = 0; i < segmentDirs.length; i++) {
>       org.apache.lucene.search.Searcher searcher =
>         new org.apache.lucene.search.IndexSearcher
>         (new File(segmentDirs[i], "index").toString());
>       searcher.setSimilarity(sim);
>       searchables[i] = searcher;
>       segmentNames[i] = segmentDirs[i].getName();
>     }
>     this.luceneSearcher = new MultiSearcher(searchables);
>     this.luceneSearcher.setSimilarity(sim);
>   }
> 
> Kent Beck said: "Monkey see, Monkey do." ;-)
> 
> Cheers,
> Stefan
> 
> ---------------------------------------------------------------
> enterprise information technology consulting
> open technology:   http://www.media-style.com
> open source:           http://www.weta-group.net
> open discussion:    http://www.text-mining.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


______________________________________________________________________
This email, including attachments, is intended only for the addressee
and may be confidential, privileged and subject to copyright.  If you
have received this email in error, please advise the sender and delete
it.  If you are not the intended recipient of this email, you must not
use, copy or disclose its content to anyone.  You must not copy or 
communicate to others content that is confidential or subject to 
copyright, unless you have the consent of the content owner.
------_=_NextPart_001_01C45FC2.AFCA9580--

From lucene-user-return-9035-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 01 23:29:01 2004
Return-Path: <lucene-user-return-9035-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58962 invoked from network); 1 Jul 2004 23:29:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Jul 2004 23:29:01 -0000
Received: (qmail 95069 invoked by uid 500); 1 Jul 2004 23:29:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94932 invoked by uid 500); 1 Jul 2004 23:29:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94768 invoked by uid 99); 1 Jul 2004 23:29:02 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [66.139.76.19] (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 01 Jul 2004 16:29:00 -0700
Received: (qmail 24983 invoked by uid 532); 1 Jul 2004 23:28:07 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 2.63.  Clear:. 
 Processed in 0.019008 secs); 01 Jul 2004 23:28:07 -0000
Received: from unknown (HELO tropo.com) (127.0.0.1)
  by 0 with SMTP; 1 Jul 2004 23:28:07 -0000
Message-ID: <40E49E1E.3040609@tropo.com>
Date: Thu, 01 Jul 2004 16:28:30 -0700
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7b) Gecko/20040316
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Visualization of Lucene search results with a treemap
References: <40E464DB.9020202@apache.org> <40E48217.4030202@tropo.com> <7B41C79B-CBA6-11D8-926A-000A95CDCC98@media-style.com>
In-Reply-To: <7B41C79B-CBA6-11D8-926A-000A95CDCC98@media-style.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Stefan Groschupf wrote:

> Dave,
> cool stuff, think aboout to contribute that to nutch.. ;-)!

Well the code is very generic - basically 1 method that takes a 
Searcher, a Query, the # of cells to show, and the size of the diagram. 
Technically I think it would be a Lucene sandbox contribution - but - 
for my site I do want to convert the custom spider/cache to use Nutch...

> Do you know:
> http://websom.hut.fi/websom/comp.ai.neural-nets-new/html/root.html ?

Interesting - is there any code avail to draw the maps?

thx,
  Dave

> 
> Cheers,
> Stefan
> 
> Am 01.07.2004 um 23:28 schrieb David Spencer:
> 
>>
>> Inspired by these guys who put results from Google into a treemap...
>> http://google.hivegroup.com/
>>
>> I did up my own version running against my index of OSS/javadoc trees.
>> This query for "thread pool" shows it off nicely:
>>
>> http://www.searchmorph.com/kat/tsearch.jsp? 
>> s=thread%20pool&side=300&goal=500
>>
>> This is the empty search form:
>>
>> http://www.searchmorph.com/kat/tsearch.jsp
>>
>> And the weblog entry has a few more links, esp useful if you don't  
>> know what a treemap is:
>>
>> http://searchmorph.com/weblog/index.php?id=18
>>
>> Oh: As a start, a treemap is a visualization technique, not  
>> java.util.Treemap. Bigger boxes show a higher score, and x,y location  
>> has no significance.
>>
>> Enjoy,
>>   Dave
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
> ---------------------------------------------------------------
> enterprise information technology consulting
> open technology:   http://www.media-style.com
> open source:           http://www.weta-group.net
> open discussion:    http://www.text-mining.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9036-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 01 23:35:53 2004
Return-Path: <lucene-user-return-9036-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61862 invoked from network); 1 Jul 2004 23:35:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Jul 2004 23:35:53 -0000
Received: (qmail 10770 invoked by uid 500); 1 Jul 2004 23:36:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10659 invoked by uid 500); 1 Jul 2004 23:36:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10576 invoked by uid 99); 1 Jul 2004 23:35:58 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received: from [212.122.43.181] (HELO zeus.rz1.connectline.net) (212.122.43.181)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 01 Jul 2004 16:35:54 -0700
Received: from [82.82.218.78] (dsl-082-082-218-078.arcor-ip.net [82.82.218.78])
	by zeus.rz1.connectline.net (Postfix) with ESMTP id CA20A2B6A49
	for <lucene-user@jakarta.apache.org>; Fri,  2 Jul 2004 01:35:09 +0200 (CEST)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <40E49E1E.3040609@tropo.com>
References: <40E464DB.9020202@apache.org> <40E48217.4030202@tropo.com> <7B41C79B-CBA6-11D8-926A-000A95CDCC98@media-style.com> <40E49E1E.3040609@tropo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <59DA332A-CBB7-11D8-926A-000A95CDCC98@media-style.com>
Content-Transfer-Encoding: 7bit
From: Stefan Groschupf <sg@media-style.com>
Subject: Re: Visualization of Lucene search results with a treemap
Date: Fri, 2 Jul 2004 01:35:35 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>
>> Do you know:
>> http://websom.hut.fi/websom/comp.ai.neural-nets-new/html/root.html ?
>
> Interesting - is there any code avail to draw the maps?

The algorithm is described here;
http://www.cis.hut.fi/research/som-research/book/

A short summary and some sample code is available here:

http://davis.wpi.edu/~matt/courses/soms/

Some more interesting papers about visualization is available at the 
text-mining.org community page.
http://www.text-mining.org/index.jsp?folderPK=793


Happy hacking! :-)

Stefan
---------------------------------------------------------------
enterprise information technology consulting
open technology:   http://www.media-style.com
open source:           http://www.weta-group.net
open discussion:    http://www.text-mining.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9037-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 02 00:35:33 2004
Return-Path: <lucene-user-return-9037-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31012 invoked from network); 2 Jul 2004 00:35:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jul 2004 00:35:33 -0000
Received: (qmail 45907 invoked by uid 500); 2 Jul 2004 00:35:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45855 invoked by uid 500); 2 Jul 2004 00:35:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45841 invoked by uid 99); 2 Jul 2004 00:35:48 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [216.193.202.192] (HELO nasa.lunarpages.com) (216.193.202.192)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 01 Jul 2004 17:35:46 -0700
Received: from pcp09870746pcs.ewndsr01.nj.comcast.net ([68.36.204.99] helo=pmc)
	by nasa.lunarpages.com with asmtp (Exim 4.34)
	id 1BgC2E-0003H2-Hp
	for lucene-user@jakarta.apache.org; Thu, 01 Jul 2004 17:36:10 -0700
Message-ID: <00e901c45fcc$7182ef70$6400a8c0@CORP.AD.FACTIVA.NET>
From: "Peter M Cipollone" <lu1@bihvhar.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <82E30406384FFB44AFD1012BAB230B550397B1A6@shiva.au.lpint.net>
Subject: Re: search multiple indexes
Date: Thu, 1 Jul 2004 20:35:12 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - nasa.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - bihvhar.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Toby,

Check
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/MultiSearcher.html

and
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/ParallelMultiSearcher.html

If you need sample code, check the test cases in the source distribution.
They show usage examples for all the key classes.

Pete


----- Original Message ----- 
From: "Toby Tremayne" <Toby.Tremayne@lonelyplanet.com.au>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Thursday, July 01, 2004 7:16 PM
Subject: RE: search multiple indexes


>
> thanks for that - I'll take a look at nutch as well.  I was hping to find
> some examples as I'm unfortunately a java newbie :)
>
> cheers,
> Toby
>
> -----Original Message-----
> From: David Spencer [mailto:dave-lucene-user@tropo.com]
> Sent: Friday, 2 July 2004 9:13 AM
> To: Lucene Users List
> Subject: Re: search multiple indexes
>
> Stefan Groschupf wrote:
>
> >> Possibly a silly question - but how would I go about searching multiple
> >> indexes using lucene?  Do I need to basically repeat the code I use to
> >> search one index for each one, or is there a better way to do it?
> >
> >
> > Take a look to the nutch.org sourcecode. It does what you are searching
>
> Isn't the answer closer to home?
>
>
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/MultiSear
> cher.html
>
> > for.
> > HTH
> > Stefan
> > ---------------------------------------------------------------
> > enterprise information technology consulting
> > open technology:   http://www.media-style.com
> > open source:           http://www.weta-group.net
> > open discussion:    http://www.text-mining.org
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ______________________________________________________________________
> This email, including attachments, is intended only for the addressee
> and may be confidential, privileged and subject to copyright.  If you
> have received this email in error, please advise the sender and delete
> it.  If you are not the intended recipient of this email, you must not
> use, copy or disclose its content to anyone.  You must not copy or
> communicate to others content that is confidential or subject to
> copyright, unless you have the consent of the content owner.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9038-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 02 00:36:29 2004
Return-Path: <lucene-user-return-9038-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31254 invoked from network); 2 Jul 2004 00:36:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jul 2004 00:36:29 -0000
Received: (qmail 48012 invoked by uid 500); 2 Jul 2004 00:36:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47958 invoked by uid 500); 2 Jul 2004 00:36:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47909 invoked by uid 99); 2 Jul 2004 00:36:39 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=HTML_50_60,HTML_MESSAGE,MIME_HTML_NO_CHARSET
X-Spam-Check-By: apache.org
Received: from [202.147.44.168] (HELO angel.lonelyplanet.com.au) (202.147.44.168)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 01 Jul 2004 17:36:38 -0700
Received: from shiva.au.lpint.net ([192.168.61.22]) by angel with InterScan Messaging Security Suite; Fri, 02 Jul 2004 10:24:54 +1000
Received: by shiva.au.lpint.net with Internet Mail Service (5.5.2656.59)
	id <NYQ1QXXW>; Fri, 2 Jul 2004 10:35:18 +1000
Message-ID: <82E30406384FFB44AFD1012BAB230B550397B1B3@shiva.au.lpint.net>
From: Toby Tremayne <Toby.Tremayne@lonelyplanet.com.au>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: search multiple indexes
Date: Fri, 2 Jul 2004 10:35:14 +1000 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C45FCC.710EF7F0"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C45FCC.710EF7F0
Content-Type: text/plain

thank you muchly - I'll poke about with the test cases and see how I go


-----Original Message-----
From: Peter M Cipollone [mailto:lu1@bihvhar.com] 
Sent: Friday, 2 July 2004 10:35 AM
To: Lucene Users List
Subject: Re: search multiple indexes

Toby,

Check
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/MultiSear
cher.html

and
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/ParallelM
ultiSearcher.html

If you need sample code, check the test cases in the source distribution.
They show usage examples for all the key classes.

Pete


----- Original Message ----- 
From: "Toby Tremayne" <Toby.Tremayne@lonelyplanet.com.au>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Thursday, July 01, 2004 7:16 PM
Subject: RE: search multiple indexes


>
> thanks for that - I'll take a look at nutch as well.  I was hping to find
> some examples as I'm unfortunately a java newbie :)
>
> cheers,
> Toby
>
> -----Original Message-----
> From: David Spencer [mailto:dave-lucene-user@tropo.com]
> Sent: Friday, 2 July 2004 9:13 AM
> To: Lucene Users List
> Subject: Re: search multiple indexes
>
> Stefan Groschupf wrote:
>
> >> Possibly a silly question - but how would I go about searching multiple
> >> indexes using lucene?  Do I need to basically repeat the code I use to
> >> search one index for each one, or is there a better way to do it?
> >
> >
> > Take a look to the nutch.org sourcecode. It does what you are searching
>
> Isn't the answer closer to home?
>
>
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/MultiSear
> cher.html
>
> > for.
> > HTH
> > Stefan
> > ---------------------------------------------------------------
> > enterprise information technology consulting
> > open technology:   http://www.media-style.com
> > open source:           http://www.weta-group.net
> > open discussion:    http://www.text-mining.org
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ______________________________________________________________________
> This email, including attachments, is intended only for the addressee
> and may be confidential, privileged and subject to copyright.  If you
> have received this email in error, please advise the sender and delete
> it.  If you are not the intended recipient of this email, you must not
> use, copy or disclose its content to anyone.  You must not copy or
> communicate to others content that is confidential or subject to
> copyright, unless you have the consent of the content owner.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

------_=_NextPart_001_01C45FCC.710EF7F0--

From lucene-user-return-9039-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 02 09:33:42 2004
Return-Path: <lucene-user-return-9039-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60020 invoked from network); 2 Jul 2004 09:33:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jul 2004 09:33:41 -0000
Received: (qmail 79186 invoked by uid 500); 2 Jul 2004 09:33:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78776 invoked by uid 500); 2 Jul 2004 09:33:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78581 invoked by uid 99); 2 Jul 2004 09:33:38 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [193.62.196.100] (HELO maui.ebi.ac.uk) (193.62.196.100)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 02 Jul 2004 02:33:36 -0700
Received: from neptune.ebi.ac.uk (neptune.ebi.ac.uk [172.22.8.118])
	by maui.ebi.ac.uk (8.11.7+Sun/8.11.7) with ESMTP id i629WqF12943
	for <lucene-user@jakarta.apache.org>; Fri, 2 Jul 2004 10:32:52 +0100 (BST)
Received: (from kirsch@localhost)
	by neptune.ebi.ac.uk (8.11.6/8.11.6) id i629Wqn29519
	for lucene-user@jakarta.apache.org; Fri, 2 Jul 2004 10:32:52 +0100
Date: Fri, 2 Jul 2004 10:32:52 +0100
From: Harald Kirsch <kirsch@ebi.ac.uk>
To: lucene-user@jakarta.apache.org
Subject: multiple documents per file, seek and character encoding
Message-ID: <20040702103252.C28845@neptune.ebi.ac.uk>
References: <1088760054.49091.ezmlm@jakarta.apache.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5.1i
In-Reply-To: <1088760054.49091.ezmlm@jakarta.apache.org>; from lucene-user-help@jakarta.apache.org on Fri, Jul 02, 2004 at 09:20:54AM -0000
X-EBI-Information: This email is scanned using www.mailscanner.info.
X-EBI: Found to be clean
X-EBI-SpamCheck: not spam, SpamAssassin (score=0, required 5)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

when indexing files which contain several thenthousand individual
documents, I want to keep for each document the name of the file where
it comes from and its byte position. In a query, I want to seek to the
byte position to then read the document. I cannot store all the
documents in the index. The whole corpus is about 50GB.

Question: For indexing I read through the file and add a Document to
lucene every time I find it. Is there an easy way to keep track of
byte positions while reading characters from the file? Or do I have to
run the CharsetDecoder myself on top of reading bytes?

  Harald.

-- 
------------------------------------------------------------------------
Harald Kirsch | kirsch@ebi.ac.uk | +44 (0) 1223/49-2593

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9040-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 02 09:37:48 2004
Return-Path: <lucene-user-return-9040-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62197 invoked from network); 2 Jul 2004 09:37:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jul 2004 09:37:48 -0000
Received: (qmail 91608 invoked by uid 500); 2 Jul 2004 09:38:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91492 invoked by uid 500); 2 Jul 2004 09:38:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91156 invoked by uid 99); 2 Jul 2004 09:37:56 -0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=DNS_FROM_RFC_POST,HTML_60_70,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [64.4.31.198] (HELO hotmail.com) (64.4.31.198)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 02 Jul 2004 02:37:52 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Fri, 2 Jul 2004 02:37:09 -0700
Received: from 194.206.251.22 by bay13-dav24.bay13.hotmail.com with DAV;
	Fri, 02 Jul 2004 09:37:09 +0000
X-Originating-IP: [194.206.251.22]
X-Originating-Email: [ocatteau_lucene@hotmail.com]
X-Sender: ocatteau_lucene@hotmail.com
From: "Olivier Catteau" <ocatteau_lucene@hotmail.com>
To: <lucene-user@jakarta.apache.org>
Subject: Problems with special characters
Date: Fri, 2 Jul 2004 11:41:20 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0037_01C46029.7E311CD0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Message-ID: <BAY13-DAV24kuutSgcO0000e5a0@hotmail.com>
X-OriginalArrivalTime: 02 Jul 2004 09:37:09.0739 (UTC) FILETIME=[257913B0:01C46018]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0037_01C46029.7E311CD0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi !

I've got big problems with special characters such as +, -, ", ', *, ...
I use a StandartAnalyzer and when I release a search with =
MultiFieldQueryParser. It makes my application crashing because I get an =
exception.
org.apache.lucene.queryParser.ParseException: Encountered "<EOF>" at =
line 1, column 2.  ....

What is the solution to solve this problem ? because I need to be able =
to search strings such as "c++", "c#", ...

Thanks for your help.

Olivier
------=_NextPart_000_0037_01C46029.7E311CD0--

From lucene-user-return-9041-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 02 10:45:33 2004
Return-Path: <lucene-user-return-9041-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90434 invoked from network); 2 Jul 2004 10:45:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jul 2004 10:45:33 -0000
Received: (qmail 29472 invoked by uid 500); 2 Jul 2004 10:45:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29276 invoked by uid 500); 2 Jul 2004 10:45:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29212 invoked by uid 99); 2 Jul 2004 10:45:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [199.217.212.91] (HELO stlspfw2.sial.com) (199.217.212.91)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Fri, 02 Jul 2004 03:45:10 -0700
Received: from stllnhub01.sial.com (stllnhub01.sial.com [141.247.245.88])
	by stlspfw2.sial.com with ESMTP id i62Aj5nD002794
	for <lucene-user@jakarta.apache.org>; Fri, 2 Jul 2004 05:45:05 -0500 (CDT)
Received: from munlnspk04.sial.com ([141.247.30.45])
          by stllnhub01.sial.com (Lotus Domino Release 6.0.3)
          with ESMTP id 2004070205440697-184804 ;
          Fri, 2 Jul 2004 05:44:06 -0500 
Received: from lynlnspk01 ([141.247.40.32])
          by munlnspk04.sial.com (Lotus Domino Release 5.0.12)
          with ESMTP id 2004070212450575:9925 ;
          Fri, 2 Jul 2004 12:45:05 +0200 
Subject: Re: Problems with special characters
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Message-ID: <OF63016216.69CADBD5-ONC1256EC5.003A481B-C1256EC5.003B0892@sial.com>
From: "Marten Senkel" <MSenkel@europe.sial.com>
Date: Fri, 2 Jul 2004 12:44:48 +0200
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


I had a similar problem.
I don't know whether there is a more intelligent solution, but the quickest I had in mind was to
convert the special characters I needed to look up into a fixed random character string. For
example: prior to indexing I replace all occurences of '+' by 'PLUSsdfaEGsgfAE'.

When searching I intercept the terms the user entered, replace '+' by the same random character
string and search for it instead of the original special character.
This works, of course, only if one constructs the query by oneself giving the user only some basic
checkbox options to specify 'AND' or 'OR' queries for example.

If you use sth like this users wouldn't be able to write themselves 'advanced' searches like +foo
+bar as the command sign '+' would be converted as well.
A fix for that problem could be to convert 'C+' to a random string and replace only 'C+' by the
random string when searching ... this would leave the command '+' intact.

It's a very basic and quick & dirty solution, I know, but it worked well for me.

Marten



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9042-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 02 12:46:50 2004
Return-Path: <lucene-user-return-9042-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36144 invoked from network); 2 Jul 2004 12:46:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jul 2004 12:46:50 -0000
Received: (qmail 23104 invoked by uid 500); 2 Jul 2004 12:46:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22916 invoked by uid 500); 2 Jul 2004 12:46:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22871 invoked by uid 99); 2 Jul 2004 12:46:34 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [216.155.196.70] (HELO web60807.mail.yahoo.com) (216.155.196.70)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Fri, 02 Jul 2004 05:46:33 -0700
Message-ID: <20040702124627.24087.qmail@web60807.mail.yahoo.com>
Received: from [61.16.175.2] by web60807.mail.yahoo.com via HTTP; Fri, 02 Jul 2004 13:46:27 BST
Date: Fri, 2 Jul 2004 13:46:27 +0100 (BST)
From: =?iso-8859-1?q?Honey=20George?= <honey_george@yahoo.com>
Subject: RE: Not deleting temp files after updating/optimising
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
  I am facing the same problem with temporary index
files. I can see lot of temporary files(hidden) not
being deleted(luncee-1.3-final + Linux RH7 + jdk
1.3.1).

The size of the temporary files is almost same as that
of the index. I have deleted all the hidden temporary
files and now my directory contents are as given
below.

_2lok.fdt  _2lok.fnm  _6c2h.fdx  _6hgv.fdt  _6hgv.fnm 
_6hh1.fdx  _7gqr.fdt  _7gqr.fnm  _918i.fdx  deletable
_2lok.fdx  _6c2h.fdt  _6c2h.fnm  _6hgv.fdx  _6hh1.fdt 
_6hh1.fnm  _7gqr.fdx  _918i.fdt  _918i.fnm  segments

Again I see that the index size is bigger than the
data size. The data size is 5.3GB but the size of the
index is 7GB. I have almost 2,00,000 documents in the
index.

Any help in the above 2 problems is much appreciated.

Thanks & regards,
   George


	
	
		
___________________________________________________________ALL-NEW Yahoo! Messenger - sooooo many all-new ways to express yourself http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9043-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 02 13:08:03 2004
Return-Path: <lucene-user-return-9043-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46423 invoked from network); 2 Jul 2004 13:08:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jul 2004 13:08:02 -0000
Received: (qmail 78913 invoked by uid 500); 2 Jul 2004 13:07:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78794 invoked by uid 500); 2 Jul 2004 13:07:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78557 invoked by uid 99); 2 Jul 2004 13:07:39 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_70_80,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [64.65.202.3] (HELO contextmedia.com) (64.65.202.3)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 02 Jul 2004 06:07:35 -0700
Received: from ppeddi ([192.168.1.44]) by contextmedia.com ; Fri, 02 Jul 2004 09:05:49 -0400
Message-ID: <051601c46035$8985d880$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <043701c45fb0$3166f3d0$aa87a8c0@ppeddi> <006201c45fb3$f39cf0f0$891be818@ernesto>
Subject: Compile errors in FrenchAnalyzer
Date: Fri, 2 Jul 2004 09:07:32 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0513_01C46014.02636FA0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0513_01C46014.02636FA0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I get compile time errors with FrenchAnalyzer in the constructor with =
file name and the method setStemExclusionTable.
Unhandled exception type IOException

How do I fix these errors? Should I just throw IOException or catch the =
exception in the method and ignore.

I am using lucene 1.4 final.

Praveen
------=_NextPart_000_0513_01C46014.02636FA0--


From lucene-user-return-9044-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 02 13:54:00 2004
Return-Path: <lucene-user-return-9044-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81580 invoked from network); 2 Jul 2004 13:53:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jul 2004 13:53:59 -0000
Received: (qmail 17511 invoked by uid 500); 2 Jul 2004 13:54:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17445 invoked by uid 500); 2 Jul 2004 13:54:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17382 invoked by uid 99); 2 Jul 2004 13:53:59 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [216.155.196.68] (HELO web60805.mail.yahoo.com) (216.155.196.68)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Fri, 02 Jul 2004 06:53:58 -0700
Message-ID: <20040702135349.27281.qmail@web60805.mail.yahoo.com>
Received: from [61.16.175.2] by web60805.mail.yahoo.com via HTTP; Fri, 02 Jul 2004 14:53:49 BST
Date: Fri, 2 Jul 2004 14:53:49 +0100 (BST)
From: =?iso-8859-1?q?Honey=20George?= <honey_george@yahoo.com>
Subject: RE: Not deleting temp files after updating/optimising
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20040702124627.24087.qmail@web60807.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--- Honey George <honey_george@yahoo.com> wrote: > Hi,
>   I am facing the same problem with temporary index
> files. I can see lot of temporary files(hidden) not
> being deleted(luncee-1.3-final + Linux RH7 + jdk
> 1.3.1).
Sorry for the spam. I use lucene-1.2. The problem was
actually found in lucene-1.2.


	
	
		
___________________________________________________________ALL-NEW Yahoo! Messenger - sooooo many all-new ways to express yourself http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9045-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 02 14:20:21 2004
Return-Path: <lucene-user-return-9045-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94602 invoked from network); 2 Jul 2004 14:20:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jul 2004 14:20:21 -0000
Received: (qmail 99150 invoked by uid 500); 2 Jul 2004 14:20:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99034 invoked by uid 500); 2 Jul 2004 14:20:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98945 invoked by uid 99); 2 Jul 2004 14:20:11 -0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=HTML_60_70,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [81.80.239.198] (HELO outbound1.sopragroup.com) (81.80.239.198)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 02 Jul 2004 07:20:10 -0700
Received: by outbound1.sopragroup.com (8.12.10/8.12.10/outbound-A02) with ESMTP id i62EJeKp015001
          for <lucene-user@jakarta.apache.org>; Fri, 2 Jul 2004 16:19:46 +0200
content-class: urn:content-classes:message
Subject: Question about remote searching
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C4603F.9C941C98"
Date: Fri, 2 Jul 2004 16:19:39 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.0.6556.0
Message-ID: <5933531F07A5144E9E53E1AA45257E4BD0F93A@wexchbe03.ancy.fr.sopra>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Question about remote searching
Thread-Index: AcRgP5aIZE9Fl6iRS5GotSTqZgp3+Q==
From: "Cocula Remi" <rcocula@sopragroup.com>
To: "lucene-user" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 02 Jul 2004 14:26:14.0062 (UTC) FILETIME=[877EBCE0:01C46040]
X-Scanned-By: MIMEDefang 2.38
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4603F.9C941C98
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,

I am trying to do remote searching via RMI.
In a first step I wrote my own remote search method that should return =
results as an object of type Hits.
But it does not work as the Hit class is not Serializable.
Then I took a look at the RemoteSearchable class and realized that it =
implements search using the low level API (ie:  public void search(Query =
query, Filter filter, HitCollector results)).

Elsewhere in Lucene source code I read that using the high level API =
(those how deals with Hits) is much more efficient.

Question : would it be possible to make the Hit class Serializable so it =
could be used through RMI mechanisms ?

------_=_NextPart_001_01C4603F.9C941C98--

From lucene-user-return-9046-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 02 14:58:25 2004
Return-Path: <lucene-user-return-9046-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17543 invoked from network); 2 Jul 2004 14:58:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jul 2004 14:58:25 -0000
Received: (qmail 11736 invoked by uid 500); 2 Jul 2004 14:57:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11635 invoked by uid 500); 2 Jul 2004 14:57:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11554 invoked by uid 99); 2 Jul 2004 14:57:52 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_BY_IP,SB_NEW_BULK,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [64.233.170.194] (HELO mproxy.gmail.com) (64.233.170.194)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Fri, 02 Jul 2004 07:57:51 -0700
Received: by mproxy.gmail.com with SMTP id 55so471155rni
        for <lucene-user@jakarta.apache.org>; Fri, 02 Jul 2004 07:57:40 -0700 (PDT)
Received: by 10.38.71.2 with SMTP id t2mr49551rna;
        Fri, 02 Jul 2004 07:57:40 -0700 (PDT)
Message-ID: <48b7084904070207573c9f9f22@mail.gmail.com>
Date: Fri, 2 Jul 2004 23:57:40 +0900
From: Cheolgoo Kang <appler@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Problems with special characters
In-Reply-To: <OF63016216.69CADBD5-ONC1256EC5.003A481B-C1256EC5.003B0892@sial.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <OF63016216.69CADBD5-ONC1256EC5.003A481B-C1256EC5.003B0892@sial.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

How about creating a special-char-converting-reader like this?

public class LuceneReader extends Reader {
 private Reader source = null;
 private char buffer = (char) 0;
 public LuceneReader( Reader sourceReader ) {
  this.source = sourceReader;
 }
 public int read() {
  char result = (char) 0;
  if ( buffer != (char) 0 ) {
   result = buffer;
   buffer = (char) 0;
   return result;
  }
  result = (char) source.read();
  if ( isSpecialCharacter( result ) ) {
   buffer = result;
   return '\\';
  }
  return result;
 }
 private boolean isSpecialCharacter( char c ) {
  return ( c == '+' /* all special characters */ );
 }
}

The LuceneReader.read() above checks for the char to be returned.
if it's one of those special characters, it buffers the char and return '\'.

I've just wrote it instantly and of course not a complete one but can
be your starting point.

Cheolgoo


On Fri, 2 Jul 2004 12:44:48 +0200, Marten Senkel
<msenkel@europe.sial.com> wrote:
> 
> 
> I had a similar problem.
> I don't know whether there is a more intelligent solution, but the quickest I had in mind was to
> convert the special characters I needed to look up into a fixed random character string. For
> example: prior to indexing I replace all occurences of '+' by 'PLUSsdfaEGsgfAE'.
> 
> When searching I intercept the terms the user entered, replace '+' by the same random character
> string and search for it instead of the original special character.
> This works, of course, only if one constructs the query by oneself giving the user only some basic
> checkbox options to specify 'AND' or 'OR' queries for example.
> 
> If you use sth like this users wouldn't be able to write themselves 'advanced' searches like +foo
> +bar as the command sign '+' would be converted as well.
> A fix for that problem could be to convert 'C+' to a random string and replace only 'C+' by the
> random string when searching ... this would leave the command '+' intact.
> 
> It's a very basic and quick & dirty solution, I know, but it worked well for me.
> 
> Marten
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9047-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 02 15:59:22 2004
Return-Path: <lucene-user-return-9047-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54310 invoked from network); 2 Jul 2004 15:59:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jul 2004 15:59:22 -0000
Received: (qmail 78198 invoked by uid 500); 2 Jul 2004 15:59:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78149 invoked by uid 500); 2 Jul 2004 15:59:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78112 invoked by uid 99); 2 Jul 2004 15:59:12 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [209.10.150.70] (HELO admin01-nyc.clicvu.com) (209.10.150.70)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 02 Jul 2004 08:59:11 -0700
Received: from smtp.clicvu.com ([192.168.0.72]) by admin01-nyc.clicvu.com
          (Post.Office MTA v3.5.3 release 223 ID# 0-64039U1000L100S0V35)
          with ESMTP id com for <lucene-user@jakarta.apache.org>;
          Fri, 2 Jul 2004 11:56:57 -0400
Content-type: text/plain
Date: Fri, 02 Jul 2004 11:54:56 -0400
From: roy-lucene-user@xemaps.com
Subject: moving 1.2 index to 1.4
To: lucene-user@jakarta.apache.org
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey guys,

We have a couple of giant indexes that were done in lucene 1.2.  We would like to move to lucene 1.4 at some point.

We have heard that we would probably need to re-index our indexes to take advantage of certain new features/optimizations of lucene 1.3/1.4.

We were wondering if it was possible to open our old 1.2 index with an IndexReader, get each Document object, and add it to a new 1.4 index?  Would it be the same as re-building an index from scratch?

Thanks!

Roy.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9048-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 02 16:42:35 2004
Return-Path: <lucene-user-return-9048-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76834 invoked from network); 2 Jul 2004 16:42:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jul 2004 16:42:35 -0000
Received: (qmail 6178 invoked by uid 500); 2 Jul 2004 16:42:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6138 invoked by uid 500); 2 Jul 2004 16:42:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6097 invoked by uid 99); 2 Jul 2004 16:42:34 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [150.215.214.117] (HELO ein.wrq.com) (150.215.214.117)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 02 Jul 2004 09:42:29 -0700
Received: from abra.na.wrq.com (wrq.com [150.215.15.20])
	by ein.wrq.com (8.12.8/8.12.8) with ESMTP id i62GgFPD020000
	for <lucene-user@jakarta.apache.org>; Fri, 2 Jul 2004 09:42:15 -0700
Received: by abra.na.wrq.com with Internet Mail Service (5.5.2657.72)
	id <3B8R3JHG>; Fri, 2 Jul 2004 09:42:14 -0700
Message-ID: <1A6B6A5A3597C340BB63728001DC787958AF06@kodos.na.wrq.com>
From: Jon Schuster <jons@wrq.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Compile errors in FrenchAnalyzer
Date: Fri, 2 Jul 2004 09:42:07 -0700 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I ran into this problem as well. I just added the throws IOException to the
constructor and to the setStemExclusionTable method and everything seems to
work fine.

The FrenchAnalyzer has dependencies on the GermanAnalyzer, and from the cvs
history, it appears that the throws clauses were added to the GermanAnalyzer
at the end of March, but the current version of the FrenchAnalyzer was
checked in a couple of weeks before the edits to GermanAnalyzer.

--Jon

-----Original Message-----
From: Praveen Peddi [mailto:ppeddi@contextmedia.com] 
Sent: Friday, July 02, 2004 6:08 AM
To: Lucene Users List
Subject: Compile errors in FrenchAnalyzer


I get compile time errors with FrenchAnalyzer in the constructor with file
name and the method setStemExclusionTable.
Unhandled exception type IOException

How do I fix these errors? Should I just throw IOException or catch the
exception in the method and ignore.

I am using lucene 1.4 final.

Praveen

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9049-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 02 17:03:15 2004
Return-Path: <lucene-user-return-9049-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84716 invoked from network); 2 Jul 2004 17:03:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jul 2004 17:03:15 -0000
Received: (qmail 57087 invoked by uid 500); 2 Jul 2004 17:03:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57008 invoked by uid 500); 2 Jul 2004 17:03:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56959 invoked by uid 99); 2 Jul 2004 17:03:03 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [66.218.93.24] (HELO web41108.mail.yahoo.com) (66.218.93.24)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Fri, 02 Jul 2004 10:03:02 -0700
Message-ID: <20040702170247.53892.qmail@web41108.mail.yahoo.com>
Received: from [12.13.3.252] by web41108.mail.yahoo.com via HTTP; Fri, 02 Jul 2004 10:02:47 PDT
Date: Fri, 2 Jul 2004 10:02:47 -0700 (PDT)
From: James Dunn <james_h_dunn@yahoo.com>
Subject: Re: Sort in Cocoon/XSP
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1088694701.3472.15.camel@localhost.localdomain>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think the default Cocoon build includes an older
version Lucene, 1.2 maybe.  There maybe a library
conflict on your machine.

Hope that helps,

Jim

--- Rob Clews <robc@klearsystems.com> wrote:
> Hi,
> 
> I'm experiencing a problem with Cocoon, and whilst I
> know this list is
> for Lucene I wonder if you can help me with a sort
> of related problem.
> 
> When I try and import the Sort class I get the
> following:
> 
> // start error (lines 69-69) "Only a type can be
> imported. org.apache.
> lucene.search.Sort resolves to a package"
> 
> Nothing on Google really gives a solution to this. I
> have lucene 1.4 rc3
> jar in $COCOON_HOME/WEB-INF/lib.
> 
> Thanks
> -- 
> Rob Clews
> Klear Systems Ltd
> t: +44 (0)121 707 8558 e: robc@klearsystems.com
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9050-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 02 17:16:25 2004
Return-Path: <lucene-user-return-9050-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89017 invoked from network); 2 Jul 2004 17:16:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jul 2004 17:16:25 -0000
Received: (qmail 89204 invoked by uid 500); 2 Jul 2004 17:16:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89134 invoked by uid 500); 2 Jul 2004 17:16:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89089 invoked by uid 99); 2 Jul 2004 17:16:23 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [66.218.93.22] (HELO web41106.mail.yahoo.com) (66.218.93.22)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Fri, 02 Jul 2004 10:16:22 -0700
Message-ID: <20040702171607.11054.qmail@web41106.mail.yahoo.com>
Received: from [12.13.3.252] by web41106.mail.yahoo.com via HTTP; Fri, 02 Jul 2004 10:16:07 PDT
Date: Fri, 2 Jul 2004 10:16:07 -0700 (PDT)
From: James Dunn <james_h_dunn@yahoo.com>
Subject: Re: Question about remote searching
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <5933531F07A5144E9E53E1AA45257E4BD0F93A@wexchbe03.ancy.fr.sopra>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You could wrap your RemoteSearchable in a
MultiSearcher and then search against that to get your
Hits object:

/Get a handle on the remote searchable
Searchable remoteSearchable = (Searchable)
Naming.lookup(serverName);

//Create an array of searchables, for use with
MultiSearcher
Searchable[] searchables = new Searchable[1];
searchables[0] = remoteSearchable;

//Create the searcher
MultiSearcher searcher = new
MultiSearcher(searchables);

//Build query
Query q = .....;

Hits hits = searcher.search(q);

--- Cocula Remi <rcocula@sopragroup.com> wrote:
> Hi,
> 
> I am trying to do remote searching via RMI.
> In a first step I wrote my own remote search method
> that should return results as an object of type
> Hits.
> But it does not work as the Hit class is not
> Serializable.
> Then I took a look at the RemoteSearchable class and
> realized that it implements search using the low
> level API (ie:  public void search(Query query,
> Filter filter, HitCollector results)).
> 
> Elsewhere in Lucene source code I read that using
> the high level API (those how deals with Hits) is
> much more efficient.
> 
> Question : would it be possible to make the Hit
> class Serializable so it could be used through RMI
> mechanisms ?
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9051-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 02 17:29:32 2004
Return-Path: <lucene-user-return-9051-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93734 invoked from network); 2 Jul 2004 17:29:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jul 2004 17:29:32 -0000
Received: (qmail 18819 invoked by uid 500); 2 Jul 2004 17:29:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18744 invoked by uid 500); 2 Jul 2004 17:29:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18720 invoked by uid 99); 2 Jul 2004 17:29:30 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [66.218.93.31] (HELO web41115.mail.yahoo.com) (66.218.93.31)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Fri, 02 Jul 2004 10:29:29 -0700
Message-ID: <20040702172913.37773.qmail@web41115.mail.yahoo.com>
Received: from [12.13.3.252] by web41115.mail.yahoo.com via HTTP; Fri, 02 Jul 2004 10:29:13 PDT
Date: Fri, 2 Jul 2004 10:29:13 -0700 (PDT)
From: James Dunn <james_h_dunn@yahoo.com>
Subject: Re: Running OutOfMemory while optimizing and searching
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <40E467B9.8070809@apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ah yes, I don't think I made that clear enough.  From
Mark's original post, I believe he mentioned that he
used seperate readers for each simultaneous query.

His other issue was that he was getting an OOM during
an optimize, even when he set the JVM heap to 2GB.  He
said his index was about 10.5GB spread over ~7000
files on Linux.  

My guess is that OOM might actually be a "too many
open files" error.  I have seen that type of error
being reported by the JVM as an OutOfMemory error on
Linux before.  I had the same problem but once I
switched to the new Lucene compound file format, I
haven't had that problem since.  

Mark, have you tried switching to the compound file
format?  

Jim




--- Doug Cutting <cutting@apache.org> wrote:
>  > What do your queries look like?  The memory
> required
>  > for a query can be computed by the following
> equation:
>  >
>  > 1 Byte * Number of fields in your query * Number
> of
>  > docs in your index
>  >
>  > So if your query searches on all 50 fields of
> your 3.5
>  > Million document index then each search would
> take
>  > about 175MB.  If your 3-4 searches run
> concurrently
>  > then that's about 525MB to 700MB chewed up at
> once.
> 
> That's not quite right.  If you use the same
> IndexSearcher (or 
> IndexReader) for all of the searches, then only
> 175MB are used.  The 
> arrays in question (the norms) are read-only and can
> be shared by all 
> searches.
> 
> In general, the amount of memory required is:
> 
> 1 byte * Number of searchable fields in your index *
> Number of docs in 
> your index
> 
> plus
> 
> 1k bytes * number of terms in query
> 
> plus
> 
> 1k bytes * number of phrase terms in query
> 
> The latter are for i/o buffers.  There are a few
> other things, but these 
> are the major ones.
> 
> Doug
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9052-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 02 18:06:34 2004
Return-Path: <lucene-user-return-9052-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14484 invoked from network); 2 Jul 2004 18:06:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jul 2004 18:06:34 -0000
Received: (qmail 601 invoked by uid 500); 2 Jul 2004 18:06:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 553 invoked by uid 500); 2 Jul 2004 18:06:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 531 invoked by uid 99); 2 Jul 2004 18:06:35 -0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=HTML_40_50,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [64.65.202.3] (HELO contextmedia.com) (64.65.202.3)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 02 Jul 2004 11:06:24 -0700
Received: from ppeddi ([192.168.1.44]) by contextmedia.com ; Fri, 02 Jul 2004 14:04:28 -0400
Message-ID: <05fa01c4605f$422754d0$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "lucenelist" <lucene-user@jakarta.apache.org>
Subject: snowball analyzer and default analyzers in lucene core
Date: Fri, 2 Jul 2004 14:06:12 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_05F7_01C4603D.BB075CF0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_05F7_01C4603D.BB075CF0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I have seen that default lucene core has GermanAnalyzer, Russian =
analyzer. Also snowball has German and Russian Stemmers. If I want to =
support german characters, which analyzer should I be using (snow ball =
stemmer or the one from lucene core)? Or are both same (or equivalent)?

Praveen
**************************************************************=20
Praveen Peddi
Sr Software Engg, Context Media, Inc.=20
email:ppeddi@contextmedia.com=20
Tel:  401.854.3475=20
Fax:  401.861.3596=20
web: http://www.contextmedia.com=20
**************************************************************=20
Context Media- "The Leader in Enterprise Content Integration"=20

------=_NextPart_000_05F7_01C4603D.BB075CF0--


From lucene-user-return-9053-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 02 18:07:29 2004
Return-Path: <lucene-user-return-9053-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14768 invoked from network); 2 Jul 2004 18:07:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jul 2004 18:07:29 -0000
Received: (qmail 2674 invoked by uid 500); 2 Jul 2004 18:07:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2612 invoked by uid 500); 2 Jul 2004 18:07:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2586 invoked by uid 99); 2 Jul 2004 18:07:31 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [64.30.32.11] (HELO smtp.airsmail.com) (64.30.32.11)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 02 Jul 2004 11:07:31 -0700
Received: from trinidad (trinidad.airscorp.com [10.0.4.100])
	(authenticated)
	by smtp.airsmail.com (8.11.6/8.11.6) with ESMTP id i62I7DI05639
	for <lucene-user@jakarta.apache.org>; Fri, 2 Jul 2004 14:07:14 -0400
From: "Mark Florence" <mflorence@airsmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Running OutOfMemory while optimizing and searching
Date: Fri, 2 Jul 2004 14:07:12 -0400
Message-ID: <DIENLCKNNDCDMPIEODNMCECJJDAA.mflorence@airsmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
In-Reply-To: <20040702172913.37773.qmail@web41115.mail.yahoo.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks, Jim. I'm pretty sure I'm throwing OOM for real,
and not because I've run out of file handles. I can easily
recreate the latter condition, and it is always reported
accurately. I've also monitored the OOM as it occurs using
"top" and I can see memory usage climbing until it is
exhausted -- if you will excuse the pun!

I'm not familiar with the new compound file format. Where
can I look to find more information?

-- Mark

-----Original Message-----
From: James Dunn [mailto:james_h_dunn@yahoo.com]
Sent: Friday, July 02, 2004 01:29 pm
To: Lucene Users List
Subject: Re: Running OutOfMemory while optimizing and searching


Ah yes, I don't think I made that clear enough.  From
Mark's original post, I believe he mentioned that he
used seperate readers for each simultaneous query.

His other issue was that he was getting an OOM during
an optimize, even when he set the JVM heap to 2GB.  He
said his index was about 10.5GB spread over ~7000
files on Linux.  

My guess is that OOM might actually be a "too many
open files" error.  I have seen that type of error
being reported by the JVM as an OutOfMemory error on
Linux before.  I had the same problem but once I
switched to the new Lucene compound file format, I
haven't had that problem since.  

Mark, have you tried switching to the compound file
format?  

Jim




--- Doug Cutting <cutting@apache.org> wrote:
>  > What do your queries look like?  The memory
> required
>  > for a query can be computed by the following
> equation:
>  >
>  > 1 Byte * Number of fields in your query * Number
> of
>  > docs in your index
>  >
>  > So if your query searches on all 50 fields of
> your 3.5
>  > Million document index then each search would
> take
>  > about 175MB.  If your 3-4 searches run
> concurrently
>  > then that's about 525MB to 700MB chewed up at
> once.
> 
> That's not quite right.  If you use the same
> IndexSearcher (or 
> IndexReader) for all of the searches, then only
> 175MB are used.  The 
> arrays in question (the norms) are read-only and can
> be shared by all 
> searches.
> 
> In general, the amount of memory required is:
> 
> 1 byte * Number of searchable fields in your index *
> Number of docs in 
> your index
> 
> plus
> 
> 1k bytes * number of terms in query
> 
> plus
> 
> 1k bytes * number of phrase terms in query
> 
> The latter are for i/o buffers.  There are a few
> other things, but these 
> are the major ones.
> 
> Doug
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9054-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 02 18:50:53 2004
Return-Path: <lucene-user-return-9054-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30060 invoked from network); 2 Jul 2004 18:50:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jul 2004 18:50:53 -0000
Received: (qmail 236 invoked by uid 500); 2 Jul 2004 18:50:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 169 invoked by uid 500); 2 Jul 2004 18:50:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99992 invoked by uid 99); 2 Jul 2004 18:50:52 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [66.139.76.19] (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 02 Jul 2004 11:50:52 -0700
Received: (qmail 31507 invoked by uid 532); 2 Jul 2004 18:50:08 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 2.63.  Clear:. 
 Processed in 0.283263 secs); 02 Jul 2004 18:50:08 -0000
Received: from unknown (HELO tropo.com) (127.0.0.1)
  by 0 with SMTP; 2 Jul 2004 18:50:08 -0000
Message-ID: <40E5AE79.3090702@tropo.com>
Date: Fri, 02 Jul 2004 11:50:33 -0700
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7b) Gecko/20040316
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Running OutOfMemory while optimizing and searching
References: <DIENLCKNNDCDMPIEODNMCECJJDAA.mflorence@airsmail.com>
In-Reply-To: <DIENLCKNNDCDMPIEODNMCECJJDAA.mflorence@airsmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This in theory should not help, but anyway, just in case, the idea is to 
call gc() periodically to "force" gc - this is the code I use which 
tries to force it...


public static long gc()
	{
		long bef = mem();
		System.gc();
		sleep( 100);
		System.runFinalization();
		sleep( 100);
		System.gc();
		long aft= mem();
		return aft-bef;
	}

Mark Florence wrote:

> Thanks, Jim. I'm pretty sure I'm throwing OOM for real,
> and not because I've run out of file handles. I can easily
> recreate the latter condition, and it is always reported
> accurately. I've also monitored the OOM as it occurs using
> "top" and I can see memory usage climbing until it is
> exhausted -- if you will excuse the pun!
> 
> I'm not familiar with the new compound file format. Where
> can I look to find more information?
> 
> -- Mark
> 
> -----Original Message-----
> From: James Dunn [mailto:james_h_dunn@yahoo.com]
> Sent: Friday, July 02, 2004 01:29 pm
> To: Lucene Users List
> Subject: Re: Running OutOfMemory while optimizing and searching
> 
> 
> Ah yes, I don't think I made that clear enough.  From
> Mark's original post, I believe he mentioned that he
> used seperate readers for each simultaneous query.
> 
> His other issue was that he was getting an OOM during
> an optimize, even when he set the JVM heap to 2GB.  He
> said his index was about 10.5GB spread over ~7000
> files on Linux.  
> 
> My guess is that OOM might actually be a "too many
> open files" error.  I have seen that type of error
> being reported by the JVM as an OutOfMemory error on
> Linux before.  I had the same problem but once I
> switched to the new Lucene compound file format, I
> haven't had that problem since.  
> 
> Mark, have you tried switching to the compound file
> format?  
> 
> Jim
> 
> 
> 
> 
> --- Doug Cutting <cutting@apache.org> wrote:
> 
>> > What do your queries look like?  The memory
>>required
>> > for a query can be computed by the following
>>equation:
>> >
>> > 1 Byte * Number of fields in your query * Number
>>of
>> > docs in your index
>> >
>> > So if your query searches on all 50 fields of
>>your 3.5
>> > Million document index then each search would
>>take
>> > about 175MB.  If your 3-4 searches run
>>concurrently
>> > then that's about 525MB to 700MB chewed up at
>>once.
>>
>>That's not quite right.  If you use the same
>>IndexSearcher (or 
>>IndexReader) for all of the searches, then only
>>175MB are used.  The 
>>arrays in question (the norms) are read-only and can
>>be shared by all 
>>searches.
>>
>>In general, the amount of memory required is:
>>
>>1 byte * Number of searchable fields in your index *
>>Number of docs in 
>>your index
>>
>>plus
>>
>>1k bytes * number of terms in query
>>
>>plus
>>
>>1k bytes * number of phrase terms in query
>>
>>The latter are for i/o buffers.  There are a few
>>other things, but these 
>>are the major ones.
>>
>>Doug
>>
>>
>>
> 
> ---------------------------------------------------------------------
> 
>>To unsubscribe, e-mail:
>>lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail:
>>lucene-user-help@jakarta.apache.org
>>
>>
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9055-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 02 19:04:16 2004
Return-Path: <lucene-user-return-9055-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34954 invoked from network); 2 Jul 2004 19:04:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jul 2004 19:04:15 -0000
Received: (qmail 30672 invoked by uid 500); 2 Jul 2004 19:04:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30582 invoked by uid 500); 2 Jul 2004 19:04:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30529 invoked by uid 99); 2 Jul 2004 19:04:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.103.130] (HELO postfix.mail.ehatchersolutions.com) (128.143.103.130)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 02 Jul 2004 12:04:11 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id AE2B57B18D4
	for <lucene-user@jakarta.apache.org>; Fri,  2 Jul 2004 15:04:00 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <05fa01c4605f$422754d0$aa87a8c0@ppeddi>
References: <05fa01c4605f$422754d0$aa87a8c0@ppeddi>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <9334D92A-CC5A-11D8-822C-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: snowball analyzer and default analyzers in lucene core
Date: Fri, 2 Jul 2004 15:03:59 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jul 2, 2004, at 2:06 PM, Praveen Peddi wrote:
> I have seen that default lucene core has GermanAnalyzer, Russian 
> analyzer. Also snowball has German and Russian Stemmers. If I want to 
> support german characters, which analyzer should I be using (snow ball 
> stemmer or the one from lucene core)? Or are both same (or 
> equivalent)?

Which one works best for your needs?!  :)

It is really difficult to say which analyzer is best... there is no 
one-size-fits-all and it is highly dependent on your data and your 
searching requirements.  Try them and see which is the best fit.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9056-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 02 20:15:42 2004
Return-Path: <lucene-user-return-9056-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66837 invoked from network); 2 Jul 2004 20:15:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jul 2004 20:15:42 -0000
Received: (qmail 90856 invoked by uid 500); 2 Jul 2004 20:15:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90800 invoked by uid 500); 2 Jul 2004 20:15:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90770 invoked by uid 99); 2 Jul 2004 20:15:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [192.18.42.14] (HELO nwkea-mail-2.sun.com) (192.18.42.14)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 02 Jul 2004 13:15:42 -0700
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by nwkea-mail-2.sun.com (8.12.10/8.12.9) with ESMTP id i62KF60x016652
	for <lucene-user@jakarta.apache.org>; Fri, 2 Jul 2004 13:15:22 -0700 (PDT)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0I0800101QSQPN@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Fri, 02 Jul 2004 13:15:20 -0700 (PDT)
Received: from Sun.COM (sr1-usjc07-02.SFBay.Sun.COM [129.145.21.53])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0I0800IM9QXE3L@ha21sca-mail1.sfbay.sun.com> for
 lucene-user@jakarta.apache.org; Fri, 02 Jul 2004 13:15:14 -0700 (PDT)
Date: Fri, 02 Jul 2004 13:15:14 -0700
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Search Result
To: Lucene Users List <lucene-user@jakarta.apache.org>
Reply-to: Hetan.Shah@Sun.COM
Message-id: <40E5C252.9080301@Sun.COM>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.4) Gecko/20040414
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

My search results are only displaying the top portion of the indexed 
documents. It does match the query in the later part of the document. 
Where should I look to change the code in demo3 of default 1.3 final 
distribution. In general if I want to show the block of document that 
matches with the query string which classes should I use?

Thanks guys.
-H


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9057-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 02 20:50:00 2004
Return-Path: <lucene-user-return-9057-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75646 invoked from network); 2 Jul 2004 20:50:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jul 2004 20:50:00 -0000
Received: (qmail 63488 invoked by uid 500); 2 Jul 2004 20:50:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63415 invoked by uid 500); 2 Jul 2004 20:49:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63363 invoked by uid 99); 2 Jul 2004 20:49:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [150.215.214.117] (HELO ein.wrq.com) (150.215.214.117)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 02 Jul 2004 13:49:54 -0700
Received: from abra.na.wrq.com (wrq.com [150.215.15.20])
	by ein.wrq.com (8.12.8/8.12.8) with ESMTP id i62KnVPD028768
	for <lucene-user@jakarta.apache.org>; Fri, 2 Jul 2004 13:49:32 -0700
Received: by abra.na.wrq.com with Internet Mail Service (5.5.2657.72)
	id <3B8R3ZRR>; Fri, 2 Jul 2004 13:49:30 -0700
Message-ID: <1A6B6A5A3597C340BB63728001DC787958AF07@kodos.na.wrq.com>
From: Jon Schuster <jons@wrq.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Problems indexing Japanese with CJKAnalyzer
Date: Fri, 2 Jul 2004 13:49:19 -0700 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I've gone through all of the past messages regarding the CJKAnalyzer but I
still must be doing something wrong because my searches don't work.

I'm using the IndexHTML application from the org.apache.lucene.demo package
to do the indexing, and I've changed the analyzer to use the CJKAnalyzer.
I've also tried with and without setting the file.encoding to Shift-JIS.
I've tried indexing the HTML files, which contain Shift-JIS, without
conversion to Unicode and I get assorted "Parse Aborted: Lexical error..."
messages. I've also tried converting the Shift-JIS HTML files to Unicode by
first running them through the native2ascii tool.

When the files are converted via native2ascii, they index without errors,
but the index appears to contain the Unicode characters as literal strings
such as "u7aef", "u7af6", etc. Searching for an English word produces
results that have text like "code \u5c5e\u6027".

Since others have gotten Japanese indexing to work, what's the secret I'm
missing?

Thanks,
Jon


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9058-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 02 21:13:24 2004
Return-Path: <lucene-user-return-9058-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81070 invoked from network); 2 Jul 2004 21:13:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jul 2004 21:13:24 -0000
Received: (qmail 18096 invoked by uid 500); 2 Jul 2004 21:13:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18035 invoked by uid 500); 2 Jul 2004 21:13:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17962 invoked by uid 99); 2 Jul 2004 21:13:22 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [66.139.76.19] (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 02 Jul 2004 14:13:21 -0700
Received: (qmail 4792 invoked by uid 532); 2 Jul 2004 21:12:32 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 2.63.  Clear:. 
 Processed in 0.108173 secs); 02 Jul 2004 21:12:32 -0000
Received: from unknown (HELO tropo.com) (127.0.0.1)
  by 0 with SMTP; 2 Jul 2004 21:12:32 -0000
Message-ID: <40E5CFD9.6070000@tropo.com>
Date: Fri, 02 Jul 2004 14:12:57 -0700
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7b) Gecko/20040316
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Search Result
References: <40E5C252.9080301@Sun.COM>
In-Reply-To: <40E5C252.9080301@Sun.COM>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hetan Shah wrote:

> My search results are only displaying the top portion of the indexed 
> documents. It does match the query in the later part of the document. 
> Where should I look to change the code in demo3 of default 1.3 final 
> distribution. In general if I want to show the block of document that 
> matches with the query string which classes should I use?

Sounds like this:

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexWriter.html#DEFAULT_MAX_FIELD_LENGTH
> 
> Thanks guys.
> -H
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9060-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 02 21:25:57 2004
Return-Path: <lucene-user-return-9060-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84462 invoked from network); 2 Jul 2004 21:25:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jul 2004 21:25:57 -0000
Received: (qmail 47904 invoked by uid 500); 2 Jul 2004 21:25:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47847 invoked by uid 500); 2 Jul 2004 21:25:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47746 invoked by uid 99); 2 Jul 2004 21:25:48 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [63.251.235.106] (HELO mail.entopia.com) (63.251.235.106)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 02 Jul 2004 14:25:48 -0700
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Importance: normal
Priority: normal
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: Indexing documents through a set of (word, weight) pairs
Date: Fri, 2 Jul 2004 14:25:59 -0700
Message-ID: <470E7CF011FFBD4DB7D7D000489165B00129A801@mail.us.kangaroo.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Indexing documents through a set of (word, weight) pairs
thread-index: AcRgewo0VdckW/mPTfaqZP7kK+4D5g==
From: "Igor Perisic" <iperisic@entopia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Lucene experts:

=A0=A0=A0We are trying to build a simple document index on top of =
Lucene.=20

   We have:=20
	Given a document, there is a list of terms (e.g. word and weight =
pairs).=20
	The queries we want to be able to handle are:
		* Given a document, what are the terms?
		* Given some terms, what are the documents?=20
		Note here that the above weights are used for our own customized =
scoring.

We want to use Lucene as much as possible (not wanting to reinvent the =
wheel), what are our options?

We can reuse some of the classes such as TermInfosWriter/Reader to store =
our lexicon, but is there more stuff in Lucene we can take advantage of? =
Are we going in the right direction?



Cheers,

		Igor




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9059-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 02 21:25:58 2004
Return-Path: <lucene-user-return-9059-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84476 invoked from network); 2 Jul 2004 21:25:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jul 2004 21:25:58 -0000
Received: (qmail 48214 invoked by uid 500); 2 Jul 2004 21:25:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47818 invoked by uid 500); 2 Jul 2004 21:25:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47732 invoked by uid 99); 2 Jul 2004 21:25:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [63.251.235.106] (HELO mail.entopia.com) (63.251.235.106)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 02 Jul 2004 14:25:43 -0700
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Importance: normal
Priority: normal
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: About lexicon storing and Front Encoding
Date: Fri, 2 Jul 2004 14:25:54 -0700
Message-ID: <470E7CF011FFBD4DB7D7D000489165B00129A800@mail.us.kangaroo.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: About lexicon storing and Front Encoding
thread-index: AcRgewc352Vch5TPQJmmVa956oxi6g==
From: "Igor Perisic" <iperisic@entopia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi Lucene experts!

Lucene is using Front Encoding to store the lexicon, right?

If so, how does Lucene search for a term in the lexicon, seems binary
search is no longer possible? Furthermore, how does Lucene handle
updates to the lexicon, e.g. adding and removing a new term?


Cheers,

Igor


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9061-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 02 21:39:15 2004
Return-Path: <lucene-user-return-9061-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89110 invoked from network); 2 Jul 2004 21:39:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jul 2004 21:39:15 -0000
Received: (qmail 79405 invoked by uid 500); 2 Jul 2004 21:39:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79302 invoked by uid 500); 2 Jul 2004 21:39:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79242 invoked by uid 99); 2 Jul 2004 21:39:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [192.18.98.36] (HELO brmea-mail-4.sun.com) (192.18.98.36)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 02 Jul 2004 14:39:10 -0700
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by brmea-mail-4.sun.com (8.12.10/8.12.9) with ESMTP id i62Lao53003719
	for <lucene-user@jakarta.apache.org>; Fri, 2 Jul 2004 15:36:50 -0600 (MDT)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0I0800B01UMU1S@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Fri, 02 Jul 2004 14:38:49 -0700 (PDT)
Received: from Sun.COM (sr1-usjc07-02.SFBay.Sun.COM [129.145.21.53])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0I0800AJXUSHZ9@ha21sca-mail1.sfbay.sun.com> for
 lucene-user@jakarta.apache.org; Fri, 02 Jul 2004 14:38:42 -0700 (PDT)
Date: Fri, 02 Jul 2004 14:38:41 -0700
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Re: Search Result
In-reply-to: <40E5CFD9.6070000@tropo.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Reply-to: Hetan.Shah@Sun.COM
Message-id: <40E5D5E1.9010107@Sun.COM>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.4) Gecko/20040414
References: <40E5C252.9080301@Sun.COM> <40E5CFD9.6070000@tropo.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

David,

Do you know, in the demo code, how do I override or change this value so 
that I get to see the appropriate chuck of document? Would this change 
make the actual result to show the relevant section of the document?

Sorry to sound so ignorant, I am very new at the whole search 
technology, getting to learn a lot from a great supportive community.

Thanks,
-H
David Spencer wrote:

> Hetan Shah wrote:
>
>> My search results are only displaying the top portion of the indexed 
>> documents. It does match the query in the later part of the document. 
>> Where should I look to change the code in demo3 of default 1.3 final 
>> distribution. In general if I want to show the block of document that 
>> matches with the query string which classes should I use?
>
>
> Sounds like this:
>
> http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexWriter.html#DEFAULT_MAX_FIELD_LENGTH 
>
>
>>
>> Thanks guys.
>> -H
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9062-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 02 22:16:17 2004
Return-Path: <lucene-user-return-9062-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5725 invoked from network); 2 Jul 2004 22:16:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jul 2004 22:16:17 -0000
Received: (qmail 73189 invoked by uid 500); 2 Jul 2004 22:16:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73106 invoked by uid 500); 2 Jul 2004 22:16:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73060 invoked by uid 99); 2 Jul 2004 22:16:20 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [209.10.150.70] (HELO admin01-nyc.clicvu.com) (209.10.150.70)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 02 Jul 2004 15:16:18 -0700
Received: from smtp.clicvu.com ([192.168.0.71]) by admin01-nyc.clicvu.com
          (Post.Office MTA v3.5.3 release 223 ID# 0-64039U1000L100S0V35)
          with ESMTP id com for <lucene-user@jakarta.apache.org>;
          Fri, 2 Jul 2004 18:13:54 -0400
Content-type: text/plain
Date: Fri, 02 Jul 2004 18:13:31 -0400
From: roy-lucene-user@xemaps.com
Subject: addIndexes vs addDocument
To: lucene-user@jakarta.apache.org
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi guys,

I have question dealing with addIndexes.  When an addIndexes method is done merging indexes together, it calls optimize.  We would like to avoid the optimize and had though about just opening a reader to each index to be merged and adding them in manually with the addDocument method.

So we were wondering how efficient the addIndexes was compared to the addDocument?

lots'o thanx

Roy.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9063-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 02 22:39:06 2004
Return-Path: <lucene-user-return-9063-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12334 invoked from network); 2 Jul 2004 22:39:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jul 2004 22:39:06 -0000
Received: (qmail 27439 invoked by uid 500); 2 Jul 2004 22:39:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27387 invoked by uid 500); 2 Jul 2004 22:39:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27156 invoked by uid 99); 2 Jul 2004 22:39:08 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [192.18.42.13] (HELO nwkea-mail-1.sun.com) (192.18.42.13)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 02 Jul 2004 15:39:06 -0700
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by nwkea-mail-1.sun.com (8.12.10/8.12.9) with ESMTP id i62MciJ6016666
	for <lucene-user@jakarta.apache.org>; Fri, 2 Jul 2004 15:38:44 -0700 (PDT)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0I0800901XC4PJ@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Fri, 02 Jul 2004 15:38:44 -0700 (PDT)
Received: from Sun.COM (sr1-usjc07-02.SFBay.Sun.COM [129.145.21.53])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0I0800476XKJCU@ha21sca-mail1.sfbay.sun.com> for
 lucene-user@jakarta.apache.org; Fri, 02 Jul 2004 15:38:44 -0700 (PDT)
Date: Fri, 02 Jul 2004 15:38:43 -0700
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Re: Search Result
In-reply-to: <40E5D5E1.9010107@Sun.COM>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Reply-to: Hetan.Shah@Sun.COM
Message-id: <40E5E3F3.2090605@Sun.COM>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.4) Gecko/20040414
References: <40E5C252.9080301@Sun.COM> <40E5CFD9.6070000@tropo.com>
 <40E5D5E1.9010107@Sun.COM>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

What I am trying to figure out is. In my search result which is returned 
by the

Document doc = hits.doc(i);
<text to show> = doc.get("summary");

The summary field seems to contain only the first few lines of the 
document. How can I make it to contain the piece that matches the query 
string?

Thanks.
-H

Hetan Shah wrote:

> David,
>
> Do you know, in the demo code, how do I override or change this value 
> so that I get to see the appropriate chuck of document? Would this 
> change make the actual result to show the relevant section of the 
> document?
>
> Sorry to sound so ignorant, I am very new at the whole search 
> technology, getting to learn a lot from a great supportive community.
>
> Thanks,
> -H
> David Spencer wrote:
>
>> Hetan Shah wrote:
>>
>>> My search results are only displaying the top portion of the indexed 
>>> documents. It does match the query in the later part of the 
>>> document. Where should I look to change the code in demo3 of default 
>>> 1.3 final distribution. In general if I want to show the block of 
>>> document that matches with the query string which classes should I use?
>>
>>
>>
>> Sounds like this:
>>
>> http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexWriter.html#DEFAULT_MAX_FIELD_LENGTH 
>>
>>
>>>
>>> Thanks guys.
>>> -H
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9064-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 05 08:48:57 2004
Return-Path: <lucene-user-return-9064-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15025 invoked from network); 5 Jul 2004 08:48:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jul 2004 08:48:57 -0000
Received: (qmail 17709 invoked by uid 500); 5 Jul 2004 08:48:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17669 invoked by uid 500); 5 Jul 2004 08:48:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17654 invoked by uid 99); 5 Jul 2004 08:48:56 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=DNS_FROM_RFC_POST
X-Spam-Check-By: apache.org
Received: from [195.110.64.125] (HELO smtp.uk.colt.net) (195.110.64.125)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 05 Jul 2004 01:48:53 -0700
Received: from rte.ie (mx.rte.ie [217.173.98.209])
	by smtp.uk.colt.net (Postfix) with ESMTP
	id DA28F126AE7; Mon,  5 Jul 2004 09:45:23 +0100 (BST)
Subject: Re: Search Result
From: John Moylan <johnm@rte.ie>
Reply-To: johnm@rte.ie
To: Hetan.Shah@Sun.COM
Cc: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <40E5E3F3.2090605@Sun.COM>
References: <40E5C252.9080301@Sun.COM> <40E5CFD9.6070000@tropo.com>
	 <40E5D5E1.9010107@Sun.COM>  <40E5E3F3.2090605@Sun.COM>
Content-Type: text/plain
Organization: Radio Telifis Eireann
Message-Id: <1089017310.28966.0.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5) 
Date: 05 Jul 2004 09:48:30 +0100
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The highlighter class.

On Fri, 2004-07-02 at 23:38, Hetan Shah wrote:
> What I am trying to figure out is. In my search result which is returned 
> by the
> 
> Document doc = hits.doc(i);
> <text to show> = doc.get("summary");
> 
> The summary field seems to contain only the first few lines of the 
> document. How can I make it to contain the piece that matches the query 
> string?
> 
> Thanks.
> -H
> 
> Hetan Shah wrote:
> 
> > David,
> >
> > Do you know, in the demo code, how do I override or change this value 
> > so that I get to see the appropriate chuck of document? Would this 
> > change make the actual result to show the relevant section of the 
> > document?
> >
> > Sorry to sound so ignorant, I am very new at the whole search 
> > technology, getting to learn a lot from a great supportive community.
> >
> > Thanks,
> > -H
> > David Spencer wrote:
> >
> >> Hetan Shah wrote:
> >>
> >>> My search results are only displaying the top portion of the indexed 
> >>> documents. It does match the query in the later part of the 
> >>> document. Where should I look to change the code in demo3 of default 
> >>> 1.3 final distribution. In general if I want to show the block of 
> >>> document that matches with the query string which classes should I use?
> >>
> >>
> >>
> >> Sounds like this:
> >>
> >> http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexWriter.html#DEFAULT_MAX_FIELD_LENGTH
> >>
> >>
> >>>
> >>> Thanks guys.
> >>> -H
> >>>
> >>>
> >>> ---------------------------------------------------------------------
> >>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>>
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
-- 
John Moylan
----------------------
ePublishing
Radio Telefis Eireann,
Montrose House,
Donnybrook,
Dublin 4,
Eire
t:+353 1 2083564
e:john.moylan@rte.ie


******************************************************************************
The information in this e-mail is confidential and may be legally privileged.
It is intended solely for the addressee. Access to this e-mail by anyone else
is unauthorised. If you are not the intended recipient, any disclosure,
copying, distribution, or any action taken or omitted to be taken in reliance
on it, is prohibited and may be unlawful.
Please note that emails to, from and within RTÉ may be subject to the Freedom
of Information Act 1997 and may be liable to disclosure.
******************************************************************************

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9065-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 05 09:07:17 2004
Return-Path: <lucene-user-return-9065-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23192 invoked from network); 5 Jul 2004 09:07:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jul 2004 09:07:17 -0000
Received: (qmail 54076 invoked by uid 500); 5 Jul 2004 09:07:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54023 invoked by uid 500); 5 Jul 2004 09:07:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53993 invoked by uid 99); 5 Jul 2004 09:07:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [62.97.113.150] (HELO mail.imente.com) (62.97.113.150)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 05 Jul 2004 02:07:15 -0700
Received: from localhost (localhost [127.0.0.1])
	by mail.imente.com (Postfix) with ESMTP id 69B8C520
	for <lucene-user@jakarta.apache.org>; Mon,  5 Jul 2004 11:06:45 +0200 (CEST)
Received: from mail.imente.com ([127.0.0.1])
	by localhost (peggy [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
	id 19437-01 for <lucene-user@jakarta.apache.org>;
	Mon, 5 Jul 2004 11:06:45 +0200 (CEST)
Received: from [192.168.0.30] (grn.imente.com [212.145.99.45])
	by mail.imente.com (Postfix) with ESMTP id 09EAA51F
	for <lucene-user@jakarta.apache.org>; Mon,  5 Jul 2004 11:06:45 +0200 (CEST)
Message-ID: <40E91A0D.70705@imente.com>
Date: Mon, 05 Jul 2004 11:06:21 +0200
From: Albert Vila <avp@imente.com>
User-Agent: Mozilla Thunderbird 0.6 (X11/20040502)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Using '*' wildcard in phrase searches
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: by amavisd-new-20030616-p7 (Debian) at imente.com
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I wanna use the * in the middle of a phrase search like "java j2*". 
Anyone knows how can i achieve that?

Thanks,
Albert


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9066-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 05 11:16:18 2004
Return-Path: <lucene-user-return-9066-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 850 invoked from network); 5 Jul 2004 11:16:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jul 2004 11:16:18 -0000
Received: (qmail 39598 invoked by uid 500); 5 Jul 2004 11:16:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39482 invoked by uid 500); 5 Jul 2004 11:16:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39464 invoked by uid 99); 5 Jul 2004 11:16:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.103.66] (HELO postfix.mail.ehatchersolutions.com) (128.143.103.66)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 05 Jul 2004 04:16:06 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id A61607BB8A2
	for <lucene-user@jakarta.apache.org>; Mon,  5 Jul 2004 07:16:04 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <40E91A0D.70705@imente.com>
References: <40E91A0D.70705@imente.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <B3D7A4C5-CE74-11D8-882E-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Using '*' wildcard in phrase searches
Date: Mon, 5 Jul 2004 07:16:03 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jul 5, 2004, at 5:06 AM, Albert Vila wrote:
> I wanna use the * in the middle of a phrase search like "java j2*". 
> Anyone knows how can i achieve that?

This is not possible with QueryParser, currently.

But through the API, you could (and it would take a little bit of code 
- see Lucene's test cases for more details) use a PhrasePrefixQuery to 
do this - it boils down to you manually expanding all the terms for 
j2*.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9067-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 05 11:37:48 2004
Return-Path: <lucene-user-return-9067-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12061 invoked from network); 5 Jul 2004 11:37:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jul 2004 11:37:48 -0000
Received: (qmail 83588 invoked by uid 500); 5 Jul 2004 11:37:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83529 invoked by uid 500); 5 Jul 2004 11:37:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83497 invoked by uid 99); 5 Jul 2004 11:37:36 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received: from [195.226.6.68] (HELO erbium.wyona.ch) (195.226.6.68)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 05 Jul 2004 04:37:34 -0700
Received: from smile7242-2.clients.easynet.fr ([212.180.69.18] helo=wyona.com)
	by erbium.wyona.ch with asmtp (Exim 3.35 #1 (Debian))
	id 1BhRmn-00076u-00
	for <lucene-user@jakarta.apache.org>; Mon, 05 Jul 2004 13:37:26 +0200
Message-ID: <40E93D5C.4010902@wyona.com>
Date: Mon, 05 Jul 2004 13:37:00 +0200
From: Michael Wechner <michael.wechner@wyona.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7b) Gecko/20040421
X-Accept-Language: en-us, en, de
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: incrementally indexing a million documents
References: <40CDA7D4.2060808@wyona.com> <40CEA9AF.3060606@bayt.net>
In-Reply-To: <40CEA9AF.3060606@bayt.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Nader Henein wrote:

> How are you documents named? is it alphabetical 


alphabetically

> or numerical, Mine where numerical so I I creates n directories like so
> 11 , 12, 13, 14, .... 19, 21 , 22 , 23 .. ........ 99   you get the idea 



right, but don't I loose all the performance on sorting and could 
instead rebuild the index from scratch ... ?

Thanks

Michi


> and I stored the files into the directories that each belonged to 
> depending on the last two numbers in the file name (you could use file 
> size to shuffle the files around as well (ie, use the 2 rightmost  
> numbers in the file size in bytes)  so at this point you'll have 
> shuffled your million docs into 100 directories and then  Lucene can 
> spider through each set of directories indexing let's say 5000 files 
> at a time and then deleting them or moving them into another location, 
> it you get 100 million files simply up the precision on the directory 
> to a 3 digit setup or a 4 digit setup (once you automate it, sky's the 
> limit)
> Hope this helps
>
> Nader Henein
>
>
> Michael Wechner wrote:
>
>> I try to index around a million documents. The problem is
>> that I run out of memory during sorting by uid when I go through
>> the directory recursively.
>>
>> Well, I could add more memory, but this wouldn't really solve my 
>> problem,
>> because at some point I will always run out of memory (e.g. 10 
>> million documents).
>>
>> Is there another approach than sorting by uid?
>>
>> Thanks
>>
>> Michi
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


-- 
Michael Wechner
Wyona Inc.  -   Open Source Content Management   -   Apache Lenya
http://www.wyona.com              http://cocoon.apache.org/lenya/
michael.wechner@wyona.com                        michi@apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9068-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 05 13:01:36 2004
Return-Path: <lucene-user-return-9068-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53417 invoked from network); 5 Jul 2004 13:01:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jul 2004 13:01:36 -0000
Received: (qmail 89548 invoked by uid 500); 5 Jul 2004 13:01:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89448 invoked by uid 500); 5 Jul 2004 13:01:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89431 invoked by uid 99); 5 Jul 2004 13:01:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received: from [195.226.6.68] (HELO erbium.wyona.ch) (195.226.6.68)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 05 Jul 2004 06:01:26 -0700
Received: from smile7242-2.clients.easynet.fr ([212.180.69.18] helo=wyona.com)
	by erbium.wyona.ch with asmtp (Exim 3.35 #1 (Debian))
	id 1BhT5p-0007YF-00
	for <lucene-user@jakarta.apache.org>; Mon, 05 Jul 2004 15:01:09 +0200
Message-ID: <40E950FA.8040600@wyona.com>
Date: Mon, 05 Jul 2004 15:00:42 +0200
From: Michael Wechner <michael.wechner@wyona.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7b) Gecko/20040421
X-Accept-Language: en-us, en, de
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: indexing incrementally concurrently
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If several users are saving documents on the server concurrently
and during saving the index shall be updated incrementally ... do
I have to make sure that it's going to be "threadsave" or does Lucene
take care of this?

Thanks

Michi

-- 
Michael Wechner
Wyona Inc.  -   Open Source Content Management   -   Apache Lenya
http://www.wyona.com              http://cocoon.apache.org/lenya/
michael.wechner@wyona.com                        michi@apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9069-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 05 13:25:37 2004
Return-Path: <lucene-user-return-9069-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73954 invoked from network); 5 Jul 2004 13:25:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jul 2004 13:25:37 -0000
Received: (qmail 53462 invoked by uid 500); 5 Jul 2004 13:25:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53431 invoked by uid 500); 5 Jul 2004 13:25:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53417 invoked by uid 99); 5 Jul 2004 13:25:30 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.103.66] (HELO postfix.mail.ehatchersolutions.com) (128.143.103.66)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 05 Jul 2004 06:25:27 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 14B2C7BBED2
	for <lucene-user@jakarta.apache.org>; Mon,  5 Jul 2004 09:25:22 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <40E950FA.8040600@wyona.com>
References: <40E950FA.8040600@wyona.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <C38CF132-CE86-11D8-882E-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: indexing incrementally concurrently
Date: Mon, 5 Jul 2004 09:25:20 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jul 5, 2004, at 9:00 AM, Michael Wechner wrote:
> If several users are saving documents on the server concurrently
> and during saving the index shall be updated incrementally ... do
> I have to make sure that it's going to be "threadsave" or does Lucene
> take care of this?

Only a single IndexWriter instance at a time can be used - so you will 
need to coordinate things.  Multiple threads can share a single 
IndexWriter though, so no worries there.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9070-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 05 13:57:14 2004
Return-Path: <lucene-user-return-9070-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89292 invoked from network); 5 Jul 2004 13:57:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jul 2004 13:57:14 -0000
Received: (qmail 34670 invoked by uid 500); 5 Jul 2004 13:57:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34601 invoked by uid 500); 5 Jul 2004 13:57:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34416 invoked by uid 99); 5 Jul 2004 13:56:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received: from [195.226.6.68] (HELO erbium.wyona.ch) (195.226.6.68)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 05 Jul 2004 06:56:58 -0700
Received: from smile7242-2.clients.easynet.fr ([212.180.69.18] helo=wyona.com)
	by erbium.wyona.ch with asmtp (Exim 3.35 #1 (Debian))
	id 1BhTxh-0007mv-00
	for <lucene-user@jakarta.apache.org>; Mon, 05 Jul 2004 15:56:50 +0200
Message-ID: <40E95E07.5050800@wyona.com>
Date: Mon, 05 Jul 2004 15:56:23 +0200
From: Michael Wechner <michael.wechner@wyona.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7b) Gecko/20040421
X-Accept-Language: en-us, en, de
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: indexing incrementally concurrently
References: <40E950FA.8040600@wyona.com> <C38CF132-CE86-11D8-882E-000393A564E6@ehatchersolutions.com>
In-Reply-To: <C38CF132-CE86-11D8-882E-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:

>
> On Jul 5, 2004, at 9:00 AM, Michael Wechner wrote:
>
>> If several users are saving documents on the server concurrently
>> and during saving the index shall be updated incrementally ... do
>> I have to make sure that it's going to be "threadsave" or does Lucene
>> take care of this?
>
>
> Only a single IndexWriter instance at a time can be used - so you will 
> need to coordinate things.  Multiple threads can share a single 
> IndexWriter though, so no worries there.


ok. Thanks very much for the info

Michi

>
>     Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


-- 
Michael Wechner
Wyona Inc.  -   Open Source Content Management   -   Apache Lenya
http://www.wyona.com              http://cocoon.apache.org/lenya/
michael.wechner@wyona.com                        michi@apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9071-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 05 14:45:59 2004
Return-Path: <lucene-user-return-9071-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14891 invoked from network); 5 Jul 2004 14:45:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jul 2004 14:45:59 -0000
Received: (qmail 57350 invoked by uid 500); 5 Jul 2004 14:45:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57299 invoked by uid 500); 5 Jul 2004 14:45:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57248 invoked by uid 99); 5 Jul 2004 14:45:48 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=FOR_FREE
X-Spam-Check-By: apache.org
Received: from [216.200.145.37] (HELO omta06.mta.everyone.net) (216.200.145.37)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 05 Jul 2004 07:45:46 -0700
Received: from sitemail.everyone.net (bigip1-snat [216.200.145.29])
	by omta06.mta.everyone.net (Postfix) with ESMTP id AF67F42694
	for <lucene-user@jakarta.apache.org>; Mon,  5 Jul 2004 07:45:36 -0700 (PDT)
Received: by sitemail.everyone.net (Postfix, from userid 99)
	id 88BCD726C; Mon,  5 Jul 2004 07:45:36 -0700 (PDT)
Content-Type: text/plain
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0
X-Mailer: MIME-tools 5.41 (Entity 5.404)
Date: Mon, 5 Jul 2004 07:45:36 -0700 (PDT)
From: Ian McDonnell <ian@spinnerscity.com>
To: lucene-user@jakarta.apache.org
Subject: Silly newbie classpath problem
Reply-To: ian@spinnerscity.com
X-Originating-Ip: [213.202.156.46]
X-Eon-Sig: AQDOAZ5A6WmQAAd9gAEAAAAB,8fe1e1dba460b7acc712530841455b9f
Message-Id: <20040705144536.88BCD726C@sitemail.everyone.net>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've just started using lucene and unfortunately still use jbuilder. I've added the lucene jar files to the classpath but am still getting errors when i run the files, ie, isnt recognising the classed that are called even though they're part of the same project.

Any help would be much appreciated.

ian

_____________________________________________________________
Sign up for FREE email from SpinnersCity Online Dance Magazine & Vortal at http://www.spinnerscity.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9072-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 05 16:21:39 2004
Return-Path: <lucene-user-return-9072-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87088 invoked from network); 5 Jul 2004 16:21:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jul 2004 16:21:39 -0000
Received: (qmail 92029 invoked by uid 500); 5 Jul 2004 16:21:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91859 invoked by uid 500); 5 Jul 2004 16:21:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91670 invoked by uid 99); 5 Jul 2004 16:21:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [66.141.113.33] (HELO mail.redbaritone.com) (66.141.113.33)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 05 Jul 2004 09:21:28 -0700
Received: from redbaritone.com ([192.168.1.1])
	(authenticated)
	by mail.redbaritone.com (8.11.6/8.11.6) with ESMTP id i65GJ7e20178
	for <lucene-user@jakarta.apache.org>; Mon, 5 Jul 2004 11:19:07 -0500
Message-ID: <40E98026.9020805@redbaritone.com>
Date: Mon, 05 Jul 2004 11:21:58 -0500
From: Robert Brown <rbrown@redbaritone.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: Underscore character and case issue
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I traverse a series of files under a parent directory (similar to the 
demo sample) and store the filename in a Document Keyword field called 
'Filename'.  I am using the StandardAnalyzer for both building the index 
and searching the index.

I have two things I am trying to understand:

1. A search does not find files if they contain capitalization.  If I 
search for a known file in the index (N3151.txt) with a search string of 
'N3151.txt' it is not found.  As a workaround, I am storing the filename 
in a different "Unstored" field and converting the filename to lowercase 
for the Filename field.  It behaves like the search filtered to 
lowercase but the index did not.  Do I have to explicitly use 
.toLowerCase() on a field during indexing or am I building my index 
incorrectly?

2. A few of my filenames have underscores in them (e.g. readme_v32.txt) 
and I am having a hard time finding API documentation that relates to 
this character.  I cannot find a filename when typing the name exactly 
but am able to see it with a wildcard search string (e.g. readme*.txt or 
r*v32.txt).  What do I do to handle the underscore?  Is this a weight 
problem, something to do with the QueryParserConstants, or something 
entirely different?

Thanks for your help out there!

				R


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9073-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 05 16:34:58 2004
Return-Path: <lucene-user-return-9073-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92176 invoked from network); 5 Jul 2004 16:34:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jul 2004 16:34:57 -0000
Received: (qmail 18423 invoked by uid 500); 5 Jul 2004 16:34:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18390 invoked by uid 500); 5 Jul 2004 16:34:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18375 invoked by uid 99); 5 Jul 2004 16:34:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 05 Jul 2004 09:34:56 -0700
Received: from [192.168.0.254] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id i65GYk429789
	for <lucene-user@jakarta.apache.org>; Mon, 5 Jul 2004 11:34:46 -0500
Message-ID: <40E9832D.3050403@getopt.org>
Date: Mon, 05 Jul 2004 18:34:53 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7) Gecko/20040608
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Underscore character and case issue
References: <40E98026.9020805@redbaritone.com>
In-Reply-To: <40E98026.9020805@redbaritone.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Robert Brown wrote:
> I traverse a series of files under a parent directory (similar to the 
> demo sample) and store the filename in a Document Keyword field called 
> 'Filename'.  I am using the StandardAnalyzer for both building the index 
> and searching the index.

... and here lies your problem. StandardAnalyzer lowercases the tokens, 
and strips most of the non-letters from tokens. I suggest using Luke 
(http://www.getopt.org/luke) to look inside your index, and see the 
terms as they ended up in the index, and to try out some other analyzers 
to see which is the most appropriate in your case.

-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9074-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 05 17:25:50 2004
Return-Path: <lucene-user-return-9074-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8032 invoked from network); 5 Jul 2004 17:25:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jul 2004 17:25:50 -0000
Received: (qmail 12090 invoked by uid 500); 5 Jul 2004 17:25:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12055 invoked by uid 500); 5 Jul 2004 17:25:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12033 invoked by uid 99); 5 Jul 2004 17:25:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [66.141.113.33] (HELO mail.redbaritone.com) (66.141.113.33)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 05 Jul 2004 10:25:45 -0700
Received: from redbaritone.com ([192.168.1.1])
	(authenticated)
	by mail.redbaritone.com (8.11.6/8.11.6) with ESMTP id i65HNMe20240
	for <lucene-user@jakarta.apache.org>; Mon, 5 Jul 2004 12:23:23 -0500
Message-ID: <40E98F36.7050304@redbaritone.com>
Date: Mon, 05 Jul 2004 12:26:14 -0500
From: Robert Brown <rbrown@redbaritone.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Underscore character and case issue
References: <40E98026.9020805@redbaritone.com> <40E9832D.3050403@getopt.org>
In-Reply-To: <40E9832D.3050403@getopt.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>> I traverse a series of files under a parent directory (similar to the 
>> demo sample) and store the filename in a Document Keyword field called 
>> 'Filename'.  I am using the StandardAnalyzer for both building the 
>> index and searching the index.
>
> ... and here lies your problem. StandardAnalyzer lowercases the tokens, 
> and strips most of the non-letters from tokens. I suggest using Luke 
> (http://www.getopt.org/luke) to look inside your index, and see the 
> terms as they ended up in the index, and to try out some other analyzers 
> to see which is the most appropriate in your case.

I looked at this at the beginning and could not get it to run initially.

Is this a SDK version problem perhaps?

F:\Apache\Lucene\AddOns\Luke\v0.5>java -jar lukeall.jar
Exception in thread "main" java.lang.NoSuchMethodError
         at org.getopt.luke.ClassFinder.findClassesThatExtend(Unknown 
Source)
         at 
org.getopt.luke.ClassFinder.getInstantiableSubclasses(Unknown Source)
         at org.getopt.luke.Luke.<init>(Unknown Source)
         at org.getopt.luke.Luke.main(Unknown Source)

F:\Apache\Lucene\AddOns\Luke\v0.5>java -classpath luke.jar;lucene.jar 
org.getopt.luke.Luke
Exception in thread "main" java.lang.NoSuchMethodError
         at org.getopt.luke.ClassFinder.findClassesThatExtend(Unknown 
Source)
         at 
org.getopt.luke.ClassFinder.getInstantiableSubclasses(Unknown Source)
         at org.getopt.luke.Luke.<init>(Unknown Source)
         at org.getopt.luke.Luke.main(Unknown Source)

F:\Apache\Lucene\AddOns\Luke\v0.5>java -fullversion
java full version "1.3.1_10-b03"

F:\Lucene\AddOns\Luke\v0.5>

				R


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9075-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 05 17:45:30 2004
Return-Path: <lucene-user-return-9075-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13853 invoked from network); 5 Jul 2004 17:45:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jul 2004 17:45:30 -0000
Received: (qmail 41158 invoked by uid 500); 5 Jul 2004 17:45:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41110 invoked by uid 500); 5 Jul 2004 17:45:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41091 invoked by uid 99); 5 Jul 2004 17:45:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 05 Jul 2004 10:45:26 -0700
Received: from [192.168.0.254] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id i65HjGO11642
	for <lucene-user@jakarta.apache.org>; Mon, 5 Jul 2004 12:45:16 -0500
Message-ID: <40E993B3.3000707@getopt.org>
Date: Mon, 05 Jul 2004 19:45:23 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7) Gecko/20040608
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Underscore character and case issue
References: <40E98026.9020805@redbaritone.com> <40E9832D.3050403@getopt.org> <40E98F36.7050304@redbaritone.com>
In-Reply-To: <40E98F36.7050304@redbaritone.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Robert Brown wrote:

> F:\Apache\Lucene\AddOns\Luke\v0.5>java -fullversion
> java full version "1.3.1_10-b03"
> 
> F:\Lucene\AddOns\Luke\v0.5>

I never tested it with anything below 1.4 ...

-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9076-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 05 19:35:08 2004
Return-Path: <lucene-user-return-9076-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68335 invoked from network); 5 Jul 2004 19:35:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jul 2004 19:35:08 -0000
Received: (qmail 66519 invoked by uid 500); 5 Jul 2004 19:35:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66466 invoked by uid 500); 5 Jul 2004 19:35:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66427 invoked by uid 99); 5 Jul 2004 19:35:05 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [207.69.200.148] (HELO granger.mail.mindspring.net) (207.69.200.148)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 05 Jul 2004 12:35:04 -0700
Received: from h-69-3-159-118.mclnva23.dynamic.covad.net ([69.3.159.118] helo=POWERPACK)
	by granger.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 1BhZEm-0002g8-00
	for lucene-user@jakarta.apache.org; Mon, 05 Jul 2004 15:34:49 -0400
Message-ID: <060c01c462c7$291a9b40$7301a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <40E98026.9020805@redbaritone.com> <40E9832D.3050403@getopt.org> <40E98F36.7050304@redbaritone.com> <40E993B3.3000707@getopt.org>
Subject: Re: Underscore character and case issue
Date: Mon, 5 Jul 2004 15:34:59 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Luke runs just fine with 1.3.1.  If you're using Windows, try highlighting
it with Windows Explorer, right-clicking on it, choosing the "Open with.."
menu option and selecting "javaw".

Regards,

Terry

----- Original Message ----- 
From: "Andrzej Bialecki" <ab@getopt.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, July 05, 2004 1:45 PM
Subject: Re: Underscore character and case issue


> Robert Brown wrote:
>
> > F:\Apache\Lucene\AddOns\Luke\v0.5>java -fullversion
> > java full version "1.3.1_10-b03"
> >
> > F:\Lucene\AddOns\Luke\v0.5>
>
> I never tested it with anything below 1.4 ...
>
> -- 
> Best regards,
> Andrzej Bialecki
>
> -------------------------------------------------
> Software Architect, System Integration Specialist
> CEN/ISSS EC Workshop, ECIMF project chair
> EU FP6 E-Commerce Expert/Evaluator
> -------------------------------------------------
> FreeBSD developer (http://www.freebsd.org)
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9077-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 05 21:04:56 2004
Return-Path: <lucene-user-return-9077-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8302 invoked from network); 5 Jul 2004 21:04:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jul 2004 21:04:56 -0000
Received: (qmail 51544 invoked by uid 500); 5 Jul 2004 21:05:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51499 invoked by uid 500); 5 Jul 2004 21:04:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51477 invoked by uid 99); 5 Jul 2004 21:04:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [66.141.113.33] (HELO mail.redbaritone.com) (66.141.113.33)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 05 Jul 2004 14:04:57 -0700
Received: from redbaritone.com ([192.168.1.1])
	(authenticated)
	by mail.redbaritone.com (8.11.6/8.11.6) with ESMTP id i65L2Re20422
	for <lucene-user@jakarta.apache.org>; Mon, 5 Jul 2004 16:02:27 -0500
Message-ID: <40E9C28F.5060508@redbaritone.com>
Date: Mon, 05 Jul 2004 16:05:19 -0500
From: Robert Brown <rbrown@redbaritone.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Underscore character and case issue
References: <40E98026.9020805@redbaritone.com> <40E9832D.3050403@getopt.org> <40E98F36.7050304@redbaritone.com> <40E993B3.3000707@getopt.org> <060c01c462c7$291a9b40$7301a8c0@POWERPACK>
In-Reply-To: <060c01c462c7$291a9b40$7301a8c0@POWERPACK>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Luke runs just fine with 1.3.1.  If you're using Windows, try highlighting
> it with Windows Explorer, right-clicking on it, choosing the "Open with.."
> menu option and selecting "javaw".

That's the ticket...now why didn't I think of that.  Thank you!

				R


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9078-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 05 23:35:45 2004
Return-Path: <lucene-user-return-9078-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58455 invoked from network); 5 Jul 2004 23:35:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jul 2004 23:35:45 -0000
Received: (qmail 99794 invoked by uid 500); 5 Jul 2004 23:35:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99757 invoked by uid 500); 5 Jul 2004 23:35:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99716 invoked by uid 99); 5 Jul 2004 23:35:44 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=FOR_FREE
X-Spam-Check-By: apache.org
Received: from [216.200.145.37] (HELO omta08.mta.everyone.net) (216.200.145.37)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 05 Jul 2004 16:35:42 -0700
Received: from sitemail.everyone.net (bigip1-snat [216.200.145.29])
	by omta08.mta.everyone.net (Postfix) with ESMTP id 09F3C13DA80
	for <lucene-user@jakarta.apache.org>; Mon,  5 Jul 2004 16:35:22 -0700 (PDT)
Received: by sitemail.everyone.net (Postfix, from userid 99)
	id DE1923977; Mon,  5 Jul 2004 16:35:21 -0700 (PDT)
Content-Type: text/plain
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0
X-Mailer: MIME-tools 5.41 (Entity 5.404)
Date: Mon, 5 Jul 2004 16:35:21 -0700 (PDT)
From: Ian McDonnell <ian@spinnerscity.com>
To: lucene-user@jakarta.apache.org
Subject: Problem with IndexFiles.java
Reply-To: ian@spinnerscity.com
X-Originating-Ip: [213.202.169.189]
X-Eon-Sig: AQDOAZ5A6eW5AA1TlwEAAAAB,2a874739d873b346e8e118e86372ffe4
Message-Id: <20040705233521.DE1923977@sitemail.everyone.net>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

When i try to run this program in JBuilder, it gives me the error message

"Usage: java class org.apache.lucene.demo.IndexFiles <root_directory>"

Obviously this means that args==0. I'm unsure on how to change this to ensure that it creates a directory called Index.

again any help would be great, cos i'm a total novice with lucene and am struggling slightly with getting the hang of it.

Thx

_____________________________________________________________
Sign up for FREE email from SpinnersCity Online Dance Magazine & Vortal at http://www.spinnerscity.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9079-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 06 01:45:31 2004
Return-Path: <lucene-user-return-9079-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23475 invoked from network); 6 Jul 2004 01:45:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jul 2004 01:45:31 -0000
Received: (qmail 49202 invoked by uid 500); 6 Jul 2004 01:45:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49159 invoked by uid 500); 6 Jul 2004 01:45:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49137 invoked by uid 99); 6 Jul 2004 01:45:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_70_80,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [203.120.211.130] (HELO bigonthenet.com) (203.120.211.130)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 05 Jul 2004 18:45:29 -0700
Received: from smile ([192.168.4.100])
	by bigonthenet.com (8.9.3/8.9.3) with SMTP id JAA02028
	for <lucene-user@jakarta.apache.org>; Tue, 6 Jul 2004 09:47:48 +0800
Message-ID: <002f01c462fa$dc5bb440$0f02a8c0@smile>
From: "Alex Aw Seat Kiong" <alex.aw@bigonthenet.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <40E91A0D.70705@imente.com> <B3D7A4C5-CE74-11D8-882E-000393A564E6@ehatchersolutions.com>
Subject: How to use QueryParser to query to get the index summary info?
Date: Tue, 6 Jul 2004 09:44:34 +0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_002A_01C4633D.D84E9500"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_002A_01C4633D.D84E9500
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi!

How to use QueryParser to query to get the index summary info, like?
a. Last and first index document?=20
b. Size of each document was indexed?
b. Total size of all documents were indexed?
c. Total count of all documents were indexed?
Anyone know about it?

Thanks.

Regards,
Alex
------=_NextPart_000_002A_01C4633D.D84E9500--


From lucene-user-return-9080-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 06 05:00:08 2004
Return-Path: <lucene-user-return-9080-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93796 invoked from network); 6 Jul 2004 05:00:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jul 2004 05:00:08 -0000
Received: (qmail 38318 invoked by uid 500); 6 Jul 2004 04:59:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38202 invoked by uid 500); 6 Jul 2004 04:59:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37975 invoked by uid 99); 6 Jul 2004 04:59:53 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=UPPERCASE_25_50
X-Spam-Check-By: apache.org
Received: from [203.199.26.74] (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Mon, 05 Jul 2004 21:59:51 -0700
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I0EZRK00.G0S for <lucene-user@jakarta.apache.org>; Tue,
          6 Jul 2004 10:41:44 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Latest StopAnalyzer.java
Date: Tue, 6 Jul 2004 10:38:54 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIKEPHCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
In-Reply-To: <05fa01c4605f$422754d0$aa87a8c0@ppeddi>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi Guy's

APologies...


Can SomeBody Tell me Where Can I find Latest copy of   "StopAnalyzer.java"
which can be used with Lucene1_4-final,
On Lucene-Sandbox I am not able to Find it.

[ My Company Prohibits me from using CVS ]

So URL would be great.






      WITH WARM REGARDS
      HAVE A NICE DAY
      [ N.S.KARTHIK]


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9081-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 06 06:54:22 2004
Return-Path: <lucene-user-return-9081-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32877 invoked from network); 6 Jul 2004 06:54:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jul 2004 06:54:22 -0000
Received: (qmail 87798 invoked by uid 500); 6 Jul 2004 06:54:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87730 invoked by uid 500); 6 Jul 2004 06:54:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87672 invoked by uid 99); 6 Jul 2004 06:54:21 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received: from [213.61.178.43] (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 05 Jul 2004 23:54:20 -0700
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id 21A1C23B93
	for <lucene-user@jakarta.apache.org>; Tue,  6 Jul 2004 08:54:07 +0200 (CEST)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 26080-07 for <lucene-user@jakarta.apache.org>;
 Tue,  6 Jul 2004 08:54:07 +0200 (CEST)
Received: from tucholsky.office.tanto.de (morus.xipolis.net [10.0.1.4])
	by mail.tanto.de (Postfix) with ESMTP id EAA2423B8F
	for <lucene-user@jakarta.apache.org>; Tue,  6 Jul 2004 08:54:06 +0200 (CEST)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id i666rpGL006394
	for <lucene-user@jakarta.apache.org>; Tue, 6 Jul 2004 08:53:51 +0200
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id i666rppu006390;
	Tue, 6 Jul 2004 08:53:51 +0200
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16618.19583.329056.314728@tanto-xipolis.de>
Date: Tue, 6 Jul 2004 08:53:51 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Latest StopAnalyzer.java
In-Reply-To: <LOEGLEEGOAKBOLAJCCKIKEPHCAAA.karthik@controlnet.co.in>
References: <05fa01c4605f$422754d0$aa87a8c0@ppeddi>
	<LOEGLEEGOAKBOLAJCCKIKEPHCAAA.karthik@controlnet.co.in>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Karthik N S writes:
> 
> Can SomeBody Tell me Where Can I find Latest copy of   "StopAnalyzer.java"
> which can be used with Lucene1_4-final,
> On Lucene-Sandbox I am not able to Find it.
> 
> [ My Company Prohibits me from using CVS ]
> 
There is no lucene 1.4 final but org.apache.lucene.analysis.StopAnalyzer
is part of the lucene core.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9082-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 06 08:08:59 2004
Return-Path: <lucene-user-return-9082-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80263 invoked from network); 6 Jul 2004 08:08:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jul 2004 08:08:59 -0000
Received: (qmail 71402 invoked by uid 500); 6 Jul 2004 08:08:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71363 invoked by uid 500); 6 Jul 2004 08:08:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71315 invoked by uid 99); 6 Jul 2004 08:08:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [143.205.118.212] (HELO proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 06 Jul 2004 01:08:57 -0700
Received: from es.ifit.uni-klu.ac.at ([143.205.118.16]) by proserver2.ifit.uni-klu.ac.at with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 6 Jul 2004 10:09:01 +0200
Received: from localhost (es.ifit.uni-klu.ac.at [143.205.118.16])
	by es.ifit.uni-klu.ac.at (Postfix) with ESMTP
	id A92BA65C006; Tue,  6 Jul 2004 10:08:25 +0200 (CEST)
Received: from ifit.uni-klu.ac.at (prodock1.ifit.uni-klu.ac.at [143.205.118.98])
	by es.ifit.uni-klu.ac.at (Postfix) with ESMTP
	id 7D60C65C005; Tue,  6 Jul 2004 10:08:25 +0200 (CEST)
Message-ID: <40EA5E1C.90306@ifit.uni-klu.ac.at>
Date: Tue, 06 Jul 2004 10:09:00 +0200
From: Sergiu Gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.5) Gecko/20031007
X-Accept-Language: en-us, de-at, en, it
MIME-Version: 1.0
To: lucene-dev@jakarta.apache.org,
	Lucene Users List <lucene-user@jakarta.apache.org>
Subject: MultifieldQueryParser.parse()
References: <69D276452CD2904980D5B6AC33C9BE170174D31E@gtlbmlexs0006.bagmail.net>
In-Reply-To: <69D276452CD2904980D5B6AC33C9BE170174D31E@gtlbmlexs0006.bagmail.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 06 Jul 2004 08:09:01.0522 (UTC) FILETIME=[7F1A3320:01C46330]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi all,

 I have a question,

 I have an index with more fileds and I have to create conjunctive 
queries by default.
So what I'm trying to say is that we develop a project and we provide 
search functionality
basing on lucene indexer.

 From what I can see, Multifield query parser creates disjunctive queries:
if I search for "best test" in fields {title, description} the

MultiFieldQueryParser.parse(string, fields, analizer)

will create a query that will mean "fields contain 'best' OR fileds 
contain 'test'" [1]
by I want to create "fields contain 'best' AND fileds contain 'test'"[2]
I know, I can place a + before each of this terms, but we also want to 
let the users to create
custom queries using logical operators and + -, grouping and exact phrases.

So in this situation we have to parse the query string twice wit the 
only change that we will ad AND operator to
link the TERMS in the places were no operator is found.

This seems to me to be just overhead, and I think that tha best way 
would be to overload parse function to

MultiFieldQueryParser.parse(String queryString, String[] fields, 
Analizer analizer, String/int defaultoperator)[3]
were default operator can be "AND" or "OR"
so that I can choose if I want to create query [1] or query [2].

 Do we have an alternative solution, reasonably simple for this problem?
What do you think about my suggestion of implementing the [3] method .


 Thanks for understanding,

  Sergiu



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9083-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 06 09:18:53 2004
Return-Path: <lucene-user-return-9083-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18856 invoked from network); 6 Jul 2004 09:18:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jul 2004 09:18:53 -0000
Received: (qmail 39623 invoked by uid 500); 6 Jul 2004 09:19:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39544 invoked by uid 500); 6 Jul 2004 09:19:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39507 invoked by uid 99); 6 Jul 2004 09:19:00 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [143.205.118.212] (HELO proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 06 Jul 2004 02:18:59 -0700
Received: from es.ifit.uni-klu.ac.at ([143.205.118.16]) by proserver2.ifit.uni-klu.ac.at with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 6 Jul 2004 11:19:01 +0200
Received: from localhost (es.ifit.uni-klu.ac.at [143.205.118.16])
	by es.ifit.uni-klu.ac.at (Postfix) with ESMTP id D494E65C006
	for <lucene-user@jakarta.apache.org>; Tue,  6 Jul 2004 11:18:25 +0200 (CEST)
Received: from ifit.uni-klu.ac.at (prodock1.ifit.uni-klu.ac.at [143.205.118.98])
	by es.ifit.uni-klu.ac.at (Postfix) with ESMTP id AD1AC65C005
	for <lucene-user@jakarta.apache.org>; Tue,  6 Jul 2004 11:18:25 +0200 (CEST)
Message-ID: <40EA6E85.6060303@ifit.uni-klu.ac.at>
Date: Tue, 06 Jul 2004 11:19:01 +0200
From: Sergiu Gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.5) Gecko/20031007
X-Accept-Language: en-us, de-at, en, it
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: MultifieldQueryParser.parse()
References: <69D276452CD2904980D5B6AC33C9BE170174D31E@gtlbmlexs0006.bagmail.net> <40EA5E1C.90306@ifit.uni-klu.ac.at> <200407061036.05713.daniel.naber@intrafind.de>
In-Reply-To: <200407061036.05713.daniel.naber@intrafind.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 06 Jul 2004 09:19:01.0938 (UTC) FILETIME=[46BED120:01C4633A]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Daniel Naber wrote:

>On Tuesday 06 July 2004 10:09, Sergiu Gordea wrote:
>
>  
>
>>Do we have an alternative solution, reasonably simple for this problem?
>>    
>>
>
>No, but are you sure that MultifieldQueryParser does the right thing at all? 
>If someone searches for +a +b the parser will (currently) build something 
>like this (assuming the fields you want to search arw title and body):
>
>(+title:a +title:b) (+body:a +body:b)
>
>  
>
... unfortunately you are right, but it is a pitty that it not working 
as we want to,
it seemed to be so useful. It seems that this is the backside of the 
"reverse indexing" medal...

  Has anyone some Ideeas about how can we avoid this situation?

 Except ... indexing everithing in one column?

 Or ... do we have some other classes as an alternative to

MultifieldQueryParser?

  Thanks,
 
  Sergiu

>This is usually not what I'd expect: the user wants both terms to occur, no 
>matter in which field ('a' might be in title, 'b' might be in body). So I 
>think MultifieldQueryParser is just broken for many use cases.
>
>Regards
> Daniel
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9084-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 06 09:39:01 2004
Return-Path: <lucene-user-return-9084-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31714 invoked from network); 6 Jul 2004 09:39:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jul 2004 09:39:01 -0000
Received: (qmail 90208 invoked by uid 500); 6 Jul 2004 09:38:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90145 invoked by uid 500); 6 Jul 2004 09:38:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90034 invoked by uid 99); 6 Jul 2004 09:38:13 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.103.47] (HELO postfix.mail.ehatchersolutions.com) (128.143.103.47)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 06 Jul 2004 02:38:11 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 758487BD30C
	for <lucene-user@jakarta.apache.org>; Tue,  6 Jul 2004 05:37:39 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <LOEGLEEGOAKBOLAJCCKIKEPHCAAA.karthik@controlnet.co.in>
References: <LOEGLEEGOAKBOLAJCCKIKEPHCAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <014DE704-CF30-11D8-93A9-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Latest StopAnalyzer.java
Date: Tue, 6 Jul 2004 05:36:49 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jul 6, 2004, at 1:08 AM, Karthik N S wrote:
> Can SomeBody Tell me Where Can I find Latest copy of    
> "StopAnalyzer.java"
> which can be used with Lucene1_4-final,
> On Lucene-Sandbox I am not able to Find it.
>
> [ My Company Prohibits me from using CVS ]

<http://cvs.apache.org/viewcvs.cgi/jakarta-lucene/src/java/org/apache/ 
lucene/analysis/StopAnalyzer.java?rev=1.6&view=auto>

All of Jakarta's CVS can be browsed this way.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9085-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 06 09:52:01 2004
Return-Path: <lucene-user-return-9085-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39443 invoked from network); 6 Jul 2004 09:52:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jul 2004 09:52:01 -0000
Received: (qmail 34083 invoked by uid 500); 6 Jul 2004 09:52:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34029 invoked by uid 500); 6 Jul 2004 09:52:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33996 invoked by uid 99); 6 Jul 2004 09:52:04 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received: from [212.227.126.186] (HELO moutng.kundenserver.de) (212.227.126.186)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 06 Jul 2004 02:52:02 -0700
Received: from [212.227.126.155] (helo=mrelayng.kundenserver.de)
	by moutng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1Bhmbn-00047F-00
	for lucene-user@jakarta.apache.org; Tue, 06 Jul 2004 11:51:27 +0200
Received: from [82.135.2.12] (helo=192.168.10.101)
	by mrelayng.kundenserver.de with asmtp (TLSv1:RC4-MD5:128)
	(Exim 3.35 #1)
	id 1Bhmbn-0004NN-00
	for lucene-user@jakarta.apache.org; Tue, 06 Jul 2004 11:51:27 +0200
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: MultifieldQueryParser.parse()
Date: Tue, 6 Jul 2004 11:51:25 +0200
User-Agent: KMail/1.5.1
References: <69D276452CD2904980D5B6AC33C9BE170174D31E@gtlbmlexs0006.bagmail.net> <200407061036.05713.daniel.naber@intrafind.de> <40EA6E85.6060303@ifit.uni-klu.ac.at>
In-Reply-To: <40EA6E85.6060303@ifit.uni-klu.ac.at>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200407061151.25734.daniel.naber@t-online.de>
X-Provags-ID: kundenserver.de abuse@kundenserver.de auth:94b5a5949d2eb00693e70b0c89be5163
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday 06 July 2004 11:19, Sergiu Gordea wrote:

> >(+title:a +title:b) (+body:a +body:b)
> >
> ... unfortunately you are right, but it is a pitty that it not working
> as we want to,
> it seemed to be so useful. It seems that this is the backside of the
> "reverse indexing" medal...
>
>   Has anyone some Ideeas about how can we avoid this situation?

You'll have to do a real query rewriting, as Nutch does. So "+a +b" will 
become +(title:a body:a) + (title:b body:b)

Unfortunately you cannot just copy+paste code from Nutch as they added a layer 
on top of the query stuff (or something like that).

Regards
 Daniel


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9086-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 06 10:56:32 2004
Return-Path: <lucene-user-return-9086-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71586 invoked from network); 6 Jul 2004 10:56:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jul 2004 10:56:31 -0000
Received: (qmail 78688 invoked by uid 500); 6 Jul 2004 10:56:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78609 invoked by uid 500); 6 Jul 2004 10:56:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78593 invoked by uid 99); 6 Jul 2004 10:56:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.103.47] (HELO postfix.mail.ehatchersolutions.com) (128.143.103.47)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 06 Jul 2004 03:56:15 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 0ACD07D1929
	for <lucene-user@jakarta.apache.org>; Tue,  6 Jul 2004 06:56:14 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <16618.19583.329056.314728@tanto-xipolis.de>
References: <05fa01c4605f$422754d0$aa87a8c0@ppeddi> <LOEGLEEGOAKBOLAJCCKIKEPHCAAA.karthik@controlnet.co.in> <16618.19583.329056.314728@tanto-xipolis.de>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <7EA672D0-CF3A-11D8-93A9-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Latest StopAnalyzer.java
Date: Tue, 6 Jul 2004 06:51:54 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jul 6, 2004, at 2:53 AM, Morus Walter wrote:
> Karthik N S writes:
>>
>> Can SomeBody Tell me Where Can I find Latest copy of   
>> "StopAnalyzer.java"
>> which can be used with Lucene1_4-final,
>> On Lucene-Sandbox I am not able to Find it.
>>
>> [ My Company Prohibits me from using CVS ]
>>
> There is no lucene 1.4 final but 
> org.apache.lucene.analysis.StopAnalyzer
> is part of the lucene core.

Actually Doug did create Lucene 1.4 final:

	http://jakarta.apache.org/lucene/docs/index.html

I'll try to squeeze in some time today to make it more official by 
ensuring the binaries are mirrored and such.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9087-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 06 11:24:59 2004
Return-Path: <lucene-user-return-9087-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85130 invoked from network); 6 Jul 2004 11:24:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jul 2004 11:24:59 -0000
Received: (qmail 29994 invoked by uid 500); 6 Jul 2004 11:24:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29969 invoked by uid 500); 6 Jul 2004 11:24:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29950 invoked by uid 99); 6 Jul 2004 11:24:52 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.103.47] (HELO postfix.mail.ehatchersolutions.com) (128.143.103.47)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 06 Jul 2004 04:24:51 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 92E357D1AAE
	for <lucene-user@jakarta.apache.org>; Tue,  6 Jul 2004 07:24:46 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <002f01c462fa$dc5bb440$0f02a8c0@smile>
References: <40E91A0D.70705@imente.com> <B3D7A4C5-CE74-11D8-882E-000393A564E6@ehatchersolutions.com> <002f01c462fa$dc5bb440$0f02a8c0@smile>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <14F713C0-CF3F-11D8-93A9-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: How to use QueryParser to query to get the index summary info?
Date: Tue, 6 Jul 2004 07:24:44 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jul 5, 2004, at 9:44 PM, Alex Aw Seat Kiong wrote:
> How to use QueryParser to query to get the index summary info, like?

QueryParser is not the appropriate place to get the information you 
want.  Use IndexReader instead.

> a. Last and first index document?

reader.document(0) and reader.document(reader.numDocs() - 1)  (assuming 
an optimized index with no deleted documents).

> b. Size of each document was indexed?

Lucene won't really be able to help, I don't think.  If you need this 
type of information, you probably should tally it during indexing.  You 
could certainly do some tricks with IndexReader to determine how terms 
and bytes and such a document takes up in Lucene, but I'm not sure that 
would be the best solution for what you're after.

> b. Total size of all documents were indexed?

Again, probably should tally this during indexing.  If you want to know 
the index size, look at the file system and see how big the files in 
the index directory are.  This is not the size of the original 
documents indexed - in fact, Lucene would really have no way of knowing 
that.

> c. Total count of all documents were indexed?

IndexReader.numDocs()

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9088-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 06 12:01:26 2004
Return-Path: <lucene-user-return-9088-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96673 invoked from network); 6 Jul 2004 12:01:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jul 2004 12:01:26 -0000
Received: (qmail 75071 invoked by uid 500); 6 Jul 2004 12:01:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75029 invoked by uid 500); 6 Jul 2004 12:01:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75012 invoked by uid 99); 6 Jul 2004 12:01:21 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=FOR_FREE
X-Spam-Check-By: apache.org
Received: from [212.68.203.254] (HELO mirapoint5.brutele.be) (212.68.203.254)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 06 Jul 2004 05:01:19 -0700
Received: from [192.168.0.3] (212.68.227.204.brutele.be [212.68.227.204])
	by mirapoint5.brutele.be (MOS 3.4.7-GR)
	with ESMTP id APY14724;
	Tue, 6 Jul 2004 14:01:04 +0200 (CEST)
Message-ID: <40EA9452.3080307@b2boost.com>
Date: Tue, 06 Jul 2004 14:00:18 +0200
From: Luis Muniz <luis.muniz@b2boost.com>
User-Agent: Mozilla Thunderbird 0.7.1 (Windows/20040626)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Problem with IndexFiles.java
References: <20040705233521.DE1923977@sitemail.everyone.net>
In-Reply-To: <20040705233521.DE1923977@sitemail.everyone.net>
X-Enigmail-Version: 0.84.2.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Junkmail-Status: score=12/50, host=mirapoint5.brutele.be
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Ian,

Your problem doesn't seem to be Lucene (not yet, at least ;-) ), but 
JBuilder. You just need to find the way in JBuilder to feed arguments to 
your program.

Usage: java class org.apache.lucene.demo.IndexFiles <root_directory>

only means that the application IndexFiles expects an argument pointing to your document root directory.

I hope this helps a little

Ian McDonnell wrote:

>When i try to run this program in JBuilder, it gives me the error message
>
>"Usage: java class org.apache.lucene.demo.IndexFiles <root_directory>"
>
>Obviously this means that args==0. I'm unsure on how to change this to ensure that it creates a directory called Index.
>
>again any help would be great, cos i'm a total novice with lucene and am struggling slightly with getting the hang of it.
>
>Thx
>
>_____________________________________________________________
>Sign up for FREE email from SpinnersCity Online Dance Magazine & Vortal at http://www.spinnerscity.com
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9089-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 06 15:45:35 2004
Return-Path: <lucene-user-return-9089-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16140 invoked from network); 6 Jul 2004 15:45:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jul 2004 15:45:35 -0000
Received: (qmail 91458 invoked by uid 500); 6 Jul 2004 15:30:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91254 invoked by uid 500); 6 Jul 2004 15:30:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91112 invoked by uid 99); 6 Jul 2004 15:30:15 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [216.136.173.245] (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 06 Jul 2004 08:30:12 -0700
Message-ID: <20040706153001.53271.qmail@web12708.mail.yahoo.com>
Received: from [211.95.204.99] by web12708.mail.yahoo.com via HTTP; Tue, 06 Jul 2004 08:30:01 PDT
Date: Tue, 6 Jul 2004 08:30:01 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Indexing documents through a set of (word, weight) pairs
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <470E7CF011FFBD4DB7D7D000489165B00129A801@mail.us.kangaroo.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Bok Igor,

For the first use case, you are really looking for what's called a
Forward Index.  If my memory serves me well, there was a project that
used Lucene at MIT called Haystack, and its author developed code that
worked with Lucene and created forward indices.  I never actually tried
it.

If that doesn't do it for you, see this:
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexReader.html#getTermFreqVectors(int)

For the second use case - well, that is precisely what Lucene does. :)

It sounds like you are going in the right direction.  I suggest reading
a few Lucene articles (links on the Lucene Wiki) to get started.

Otis



--- Igor Perisic <iperisic@entopia.com> wrote:
> Hi Lucene experts:
> 
>    We are trying to build a simple document index on top of Lucene. 
> 
>    We have: 
> 	Given a document, there is a list of terms (e.g. word and weight
> pairs). 
> 	The queries we want to be able to handle are:
> 		* Given a document, what are the terms?
> 		* Given some terms, what are the documents? 
> 		Note here that the above weights are used for our own customized
> scoring.
> 
> We want to use Lucene as much as possible (not wanting to reinvent
> the wheel), what are our options?
> 
> We can reuse some of the classes such as TermInfosWriter/Reader to
> store our lexicon, but is there more stuff in Lucene we can take
> advantage of? Are we going in the right direction?
> 
> 
> 
> Cheers,
> 
> 		Igor
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9090-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 06 15:51:49 2004
Return-Path: <lucene-user-return-9090-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17768 invoked from network); 6 Jul 2004 15:48:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jul 2004 15:48:37 -0000
Received: (qmail 1749 invoked by uid 500); 6 Jul 2004 15:34:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1668 invoked by uid 500); 6 Jul 2004 15:34:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1446 invoked by uid 99); 6 Jul 2004 15:34:03 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [216.136.173.240] (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 06 Jul 2004 08:34:01 -0700
Message-ID: <20040706153352.52517.qmail@web12703.mail.yahoo.com>
Received: from [211.95.204.99] by web12703.mail.yahoo.com via HTTP; Tue, 06 Jul 2004 08:33:52 PDT
Date: Tue, 6 Jul 2004 08:33:52 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: addIndexes vs addDocument
To: Lucene Users List <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Roy,

I'm not sure about the performance difference answer, but I imagine our
instinct about this is the same.  However, note that manually adding
documents will not work if you didn't _store_ (e.g. Field.Text) fields
in original indices, because you will not be able to retrieve the
original field value.

Otis


--- roy-lucene-user@xemaps.com wrote:
> Hi guys,
> 
> I have question dealing with addIndexes.  When an addIndexes method
> is done merging indexes together, it calls optimize.  We would like
> to avoid the optimize and had though about just opening a reader to
> each index to be merged and adding them in manually with the
> addDocument method.
> 
> So we were wondering how efficient the addIndexes was compared to the
> addDocument?
> 
> lots'o thanx
> 
> Roy.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9091-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 06 15:56:23 2004
Return-Path: <lucene-user-return-9091-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23911 invoked from network); 6 Jul 2004 15:56:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jul 2004 15:56:23 -0000
Received: (qmail 24072 invoked by uid 500); 6 Jul 2004 15:39:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23965 invoked by uid 500); 6 Jul 2004 15:39:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23796 invoked by uid 99); 6 Jul 2004 15:39:00 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [216.136.173.244] (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 06 Jul 2004 08:38:58 -0700
Message-ID: <20040706153851.31389.qmail@web12707.mail.yahoo.com>
Received: from [211.95.204.100] by web12707.mail.yahoo.com via HTTP; Tue, 06 Jul 2004 08:38:51 PDT
Date: Tue, 6 Jul 2004 08:38:51 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: moving 1.2 index to 1.4
To: Lucene Users List <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello Roy,

Probably not possible with addDocument as I mentioned in the previous
email.  But addIndexes may work, although I remember that some new
'fields' were added to Lucene's index files since version 1.2.  Have
you tried addIndexes approach maybe, since you wrote this email a few
days ago?

Otis

--- roy-lucene-user@xemaps.com wrote:
> Hey guys,
> 
> We have a couple of giant indexes that were done in lucene 1.2.  We
> would like to move to lucene 1.4 at some point.
> 
> We have heard that we would probably need to re-index our indexes to
> take advantage of certain new features/optimizations of lucene
> 1.3/1.4.
> 
> We were wondering if it was possible to open our old 1.2 index with
> an IndexReader, get each Document object, and add it to a new 1.4
> index?  Would it be the same as re-building an index from scratch?
> 
> Thanks!
> 
> Roy.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9092-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 06 16:31:49 2004
Return-Path: <lucene-user-return-9092-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44718 invoked from network); 6 Jul 2004 16:31:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jul 2004 16:31:49 -0000
Received: (qmail 60214 invoked by uid 500); 6 Jul 2004 16:17:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60191 invoked by uid 500); 6 Jul 2004 16:17:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60176 invoked by uid 99); 6 Jul 2004 16:17:37 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [216.136.173.239] (HELO web12702.mail.yahoo.com) (216.136.173.239)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 06 Jul 2004 09:17:35 -0700
Message-ID: <20040706161725.15888.qmail@web12702.mail.yahoo.com>
Received: from [211.95.204.100] by web12702.mail.yahoo.com via HTTP; Tue, 06 Jul 2004 09:17:25 PDT
Date: Tue, 6 Jul 2004 09:17:25 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Running OutOfMemory while optimizing and searching
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <40E5AE79.3090702@tropo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Note that force is really just 'suggest'.  Regardless, I have seen apps
running under 1.3.1 JVM where this worked.

Otis

--- David Spencer <dave-lucene-user@tropo.com> wrote:
> This in theory should not help, but anyway, just in case, the idea is
> to 
> call gc() periodically to "force" gc - this is the code I use which 
> tries to force it...
> 
> 
> public static long gc()
> 	{
> 		long bef = mem();
> 		System.gc();
> 		sleep( 100);
> 		System.runFinalization();
> 		sleep( 100);
> 		System.gc();
> 		long aft= mem();
> 		return aft-bef;
> 	}
> 
> Mark Florence wrote:
> 
> > Thanks, Jim. I'm pretty sure I'm throwing OOM for real,
> > and not because I've run out of file handles. I can easily
> > recreate the latter condition, and it is always reported
> > accurately. I've also monitored the OOM as it occurs using
> > "top" and I can see memory usage climbing until it is
> > exhausted -- if you will excuse the pun!
> > 
> > I'm not familiar with the new compound file format. Where
> > can I look to find more information?
> > 
> > -- Mark
> > 
> > -----Original Message-----
> > From: James Dunn [mailto:james_h_dunn@yahoo.com]
> > Sent: Friday, July 02, 2004 01:29 pm
> > To: Lucene Users List
> > Subject: Re: Running OutOfMemory while optimizing and searching
> > 
> > 
> > Ah yes, I don't think I made that clear enough.  From
> > Mark's original post, I believe he mentioned that he
> > used seperate readers for each simultaneous query.
> > 
> > His other issue was that he was getting an OOM during
> > an optimize, even when he set the JVM heap to 2GB.  He
> > said his index was about 10.5GB spread over ~7000
> > files on Linux.  
> > 
> > My guess is that OOM might actually be a "too many
> > open files" error.  I have seen that type of error
> > being reported by the JVM as an OutOfMemory error on
> > Linux before.  I had the same problem but once I
> > switched to the new Lucene compound file format, I
> > haven't had that problem since.  
> > 
> > Mark, have you tried switching to the compound file
> > format?  
> > 
> > Jim
> > 
> > 
> > 
> > 
> > --- Doug Cutting <cutting@apache.org> wrote:
> > 
> >> > What do your queries look like?  The memory
> >>required
> >> > for a query can be computed by the following
> >>equation:
> >> >
> >> > 1 Byte * Number of fields in your query * Number
> >>of
> >> > docs in your index
> >> >
> >> > So if your query searches on all 50 fields of
> >>your 3.5
> >> > Million document index then each search would
> >>take
> >> > about 175MB.  If your 3-4 searches run
> >>concurrently
> >> > then that's about 525MB to 700MB chewed up at
> >>once.
> >>
> >>That's not quite right.  If you use the same
> >>IndexSearcher (or 
> >>IndexReader) for all of the searches, then only
> >>175MB are used.  The 
> >>arrays in question (the norms) are read-only and can
> >>be shared by all 
> >>searches.
> >>
> >>In general, the amount of memory required is:
> >>
> >>1 byte * Number of searchable fields in your index *
> >>Number of docs in 
> >>your index
> >>
> >>plus
> >>
> >>1k bytes * number of terms in query
> >>
> >>plus
> >>
> >>1k bytes * number of phrase terms in query
> >>
> >>The latter are for i/o buffers.  There are a few
> >>other things, but these 
> >>are the major ones.
> >>
> >>Doug
> >>
> >>
> >>
> > 
> >
> ---------------------------------------------------------------------
> > 
> >>To unsubscribe, e-mail:
> >>lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail:
> >>lucene-user-help@jakarta.apache.org
> >>
> >>
> > 
> > 
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9093-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 06 17:23:44 2004
Return-Path: <lucene-user-return-9093-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71788 invoked from network); 6 Jul 2004 17:23:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jul 2004 17:23:43 -0000
Received: (qmail 654 invoked by uid 500); 6 Jul 2004 17:08:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 122 invoked by uid 500); 6 Jul 2004 17:08:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99628 invoked by uid 99); 6 Jul 2004 17:08:13 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 06 Jul 2004 09:54:00 -0700
Received: from [128.230.38.212] (syru38-212.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.12ADEC59@mailer.syr.edu>; Tue, 6 Jul 2004 12:53:48 -0400
Message-ID: <40EAD91A.50602@syr.edu>
Date: Tue, 06 Jul 2004 12:53:46 -0400
From: Steven Rowe <sarowe@syr.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Problems indexing Japanese with CJKAnalyzer
References: <1A6B6A5A3597C340BB63728001DC787958AF07@kodos.na.wrq.com>
In-Reply-To: <1A6B6A5A3597C340BB63728001DC787958AF07@kodos.na.wrq.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Jon,

It sounds to me like you have a character encoding problem.  The 
native2ascii tool is designed to produce input for the Java compiler; 
the "\u7aef" notation you're seeing is understood by Java string 
interpreters to mean the corresponding hexadecimal Unicode code point. 
Other Java programs, however, depending on their implementation, may not 
understand this notation.  Alternatively, maybe the notation is 
understood, but the conversion from Shift-JIS to Java Unicode format is 
not being performed properly; if you don't tell native2ascii the source 
encoding, it will assume the "native" encoding for the platform--on 
Windows, depending on which localized version you've got, this is likely 
to be the so-called code page 1252 (ISO-8859-1 with a few 
modifications).  Converting from one character encoding to another with 
incorrect assumptions about the source encoding can only lead to sorrow 
and confusion.

I think you can use the native2ascii tool to do what you want 
(untested), but it will take two passes:

1. Use native2ascii to convert your file(s) to Java Unicode format, but 
tell it the source encoding:

    native2ascii -encoding SJIS inputfile outputfile1

2. Tell it to convert from Java Unicode format to UTF-8:

    native2ascii -reverse -encoding UTF8 outputfile1 finaloutput

Here's a web page with more information on native2ascii:

<URL:http://java.sun.com/j2se/1.4.2/docs/tooldocs/windows/native2ascii.html>

Hope it helps,
Steve Rowe

Jon Schuster wrote:
> I've gone through all of the past messages regarding the CJKAnalyzer but I
> still must be doing something wrong because my searches don't work.
> 
> I'm using the IndexHTML application from the org.apache.lucene.demo package
> to do the indexing, and I've changed the analyzer to use the CJKAnalyzer.
> I've also tried with and without setting the file.encoding to Shift-JIS.
> I've tried indexing the HTML files, which contain Shift-JIS, without
> conversion to Unicode and I get assorted "Parse Aborted: Lexical error..."
> messages. I've also tried converting the Shift-JIS HTML files to Unicode by
> first running them through the native2ascii tool.
> 
> When the files are converted via native2ascii, they index without errors,
> but the index appears to contain the Unicode characters as literal strings
> such as "u7aef", "u7af6", etc. Searching for an English word produces
> results that have text like "code \u5c5e\u6027".
> 
> Since others have gotten Japanese indexing to work, what's the secret I'm
> missing?
> 
> Thanks,
> Jon


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9094-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 06 17:30:48 2004
Return-Path: <lucene-user-return-9094-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74954 invoked from network); 6 Jul 2004 17:30:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jul 2004 17:30:48 -0000
Received: (qmail 14910 invoked by uid 500); 6 Jul 2004 17:14:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14816 invoked by uid 500); 6 Jul 2004 17:14:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14731 invoked by uid 99); 6 Jul 2004 17:14:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 06 Jul 2004 10:14:06 -0700
Received: from [128.230.38.212] (syru38-212.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.12ADEC59@mailer.syr.edu>; Tue, 6 Jul 2004 12:53:48 -0400
Message-ID: <40EAD91A.50602@syr.edu>
Date: Tue, 06 Jul 2004 12:53:46 -0400
From: Steven Rowe <sarowe@syr.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Problems indexing Japanese with CJKAnalyzer
References: <1A6B6A5A3597C340BB63728001DC787958AF07@kodos.na.wrq.com>
In-Reply-To: <1A6B6A5A3597C340BB63728001DC787958AF07@kodos.na.wrq.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Jon,

It sounds to me like you have a character encoding problem.  The 
native2ascii tool is designed to produce input for the Java compiler; 
the "\u7aef" notation you're seeing is understood by Java string 
interpreters to mean the corresponding hexadecimal Unicode code point. 
Other Java programs, however, depending on their implementation, may not 
understand this notation.  Alternatively, maybe the notation is 
understood, but the conversion from Shift-JIS to Java Unicode format is 
not being performed properly; if you don't tell native2ascii the source 
encoding, it will assume the "native" encoding for the platform--on 
Windows, depending on which localized version you've got, this is likely 
to be the so-called code page 1252 (ISO-8859-1 with a few 
modifications).  Converting from one character encoding to another with 
incorrect assumptions about the source encoding can only lead to sorrow 
and confusion.

I think you can use the native2ascii tool to do what you want 
(untested), but it will take two passes:

1. Use native2ascii to convert your file(s) to Java Unicode format, but 
tell it the source encoding:

    native2ascii -encoding SJIS inputfile outputfile1

2. Tell it to convert from Java Unicode format to UTF-8:

    native2ascii -reverse -encoding UTF8 outputfile1 finaloutput

Here's a web page with more information on native2ascii:

<URL:http://java.sun.com/j2se/1.4.2/docs/tooldocs/windows/native2ascii.html>

Hope it helps,
Steve Rowe

Jon Schuster wrote:
> I've gone through all of the past messages regarding the CJKAnalyzer but I
> still must be doing something wrong because my searches don't work.
> 
> I'm using the IndexHTML application from the org.apache.lucene.demo package
> to do the indexing, and I've changed the analyzer to use the CJKAnalyzer.
> I've also tried with and without setting the file.encoding to Shift-JIS.
> I've tried indexing the HTML files, which contain Shift-JIS, without
> conversion to Unicode and I get assorted "Parse Aborted: Lexical error..."
> messages. I've also tried converting the Shift-JIS HTML files to Unicode by
> first running them through the native2ascii tool.
> 
> When the files are converted via native2ascii, they index without errors,
> but the index appears to contain the Unicode characters as literal strings
> such as "u7aef", "u7af6", etc. Searching for an English word produces
> results that have text like "code \u5c5e\u6027".
> 
> Since others have gotten Japanese indexing to work, what's the secret I'm
> missing?
> 
> Thanks,
> Jon


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9095-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 06 18:08:56 2004
Return-Path: <lucene-user-return-9095-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95567 invoked from network); 6 Jul 2004 18:08:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jul 2004 18:08:56 -0000
Received: (qmail 28823 invoked by uid 500); 6 Jul 2004 17:58:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28751 invoked by uid 500); 6 Jul 2004 17:58:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28720 invoked by uid 99); 6 Jul 2004 17:58:06 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.230.248.25] (HELO gwia201.syr.edu) (128.230.248.25)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 06 Jul 2004 10:58:05 -0700
Received: from MTA2-MTA by gwia201.syr.edu
	with Novell_GroupWise; Tue, 06 Jul 2004 13:57:45 -0400
Message-Id: <s0eaafd9.003@gwia201.syr.edu>
X-Mailer: Novell GroupWise Internet Agent 6.0.4
Date: Tue, 06 Jul 2004 13:57:18 -0400
From: "Grant Ingersoll" <gsingers@syr.edu>
To: <lucene-user@jakarta.apache.org>
Subject: Re: Problems indexing Japanese with CJKAnalyzer
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Jon,

Java expects your files to be in the encoding of the Native Locale.  In =
most cases in the U.S., this will be English.  If you want to read files =
in that are in a different encoding, you have to tell Java what your =
encoding is, in this case, Shift JIS.  See the javadocs for java.io.InputSt=
reamReader.

Thus, you will most likely have to alter the Lucene demo to load your =
document in a different way.  If you look at HTMLDocument, my guess is you =
can replace the construction of the HTMLParser with something like =
(somewhere around line 63):

HTMLParser parser =3D new HTMLParser(new InputStreamReader(new FileInputStr=
eam(file), "SJIS")); //Not sure if "SJIS" is the right moniker for =
Shift-Jis.

I have not tested this, but I recall do this when I first started to be =
able to index my UTF-8 docs.

I am not exactly sure if SJIS is the abbreviated form for Shift-JIS. It =
will throw a UnsupportedEncodinException if it is not right.  In that =
case, you can look up in the Java documentation to see what is supported.

Btw, do this with your original files, which are in Shift-JIS.

>>> sarowe@syr.edu 07/06/04 12:53PM >>>
Hi Jon,

It sounds to me like you have a character encoding problem.  The=20
native2ascii tool is designed to produce input for the Java compiler;=20
the "\u7aef" notation you're seeing is understood by Java string=20
interpreters to mean the corresponding hexadecimal Unicode code point.=20
Other Java programs, however, depending on their implementation, may =
not=20
understand this notation.  Alternatively, maybe the notation is=20
understood, but the conversion from Shift-JIS to Java Unicode format is=20
not being performed properly; if you don't tell native2ascii the source=20
encoding, it will assume the "native" encoding for the platform--on=20
Windows, depending on which localized version you've got, this is =
likely=20
to be the so-called code page 1252 (ISO-8859-1 with a few=20
modifications).  Converting from one character encoding to another with=20
incorrect assumptions about the source encoding can only lead to sorrow=20
and confusion.

I think you can use the native2ascii tool to do what you want=20
(untested), but it will take two passes:

1. Use native2ascii to convert your file(s) to Java Unicode format, but=20
tell it the source encoding:

    native2ascii -encoding SJIS inputfile outputfile1

2. Tell it to convert from Java Unicode format to UTF-8:

    native2ascii -reverse -encoding UTF8 outputfile1 finaloutput

Here's a web page with more information on native2ascii:

<URL:http://java.sun.com/j2se/1.4.2/docs/tooldocs/windows/native2ascii.html=
>

Hope it helps,
Steve Rowe

Jon Schuster wrote:
> I've gone through all of the past messages regarding the CJKAnalyzer but =
I
> still must be doing something wrong because my searches don't work.
>=20
> I'm using the IndexHTML application from the org.apache.lucene.demo =
package
> to do the indexing, and I've changed the analyzer to use the CJKAnalyzer.=

> I've also tried with and without setting the file.encoding to Shift-JIS.
> I've tried indexing the HTML files, which contain Shift-JIS, without
> conversion to Unicode and I get assorted "Parse Aborted: Lexical =
error..."
> messages. I've also tried converting the Shift-JIS HTML files to Unicode =
by
> first running them through the native2ascii tool.
>=20
> When the files are converted via native2ascii, they index without =
errors,
> but the index appears to contain the Unicode characters as literal =
strings
> such as "u7aef", "u7af6", etc. Searching for an English word produces
> results that have text like "code \u5c5e\u6027".
>=20
> Since others have gotten Japanese indexing to work, what's the secret =
I'm
> missing?
>=20
> Thanks,
> Jon


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org=20
For additional commands, e-mail: lucene-user-help@jakarta.apache.org=20



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9096-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 06 18:20:20 2004
Return-Path: <lucene-user-return-9096-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 436 invoked from network); 6 Jul 2004 18:20:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jul 2004 18:20:20 -0000
Received: (qmail 55525 invoked by uid 500); 6 Jul 2004 18:10:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55480 invoked by uid 500); 6 Jul 2004 18:10:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55457 invoked by uid 99); 6 Jul 2004 18:10:14 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [209.10.150.72] (HELO web02-nyc.clicvu.com) (209.10.150.72)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 06 Jul 2004 11:10:12 -0700
Received: from [192.168.0.72] by web02-nyc.clicvu.com
          (Post.Office MTA v3.5.3 release 223 ID# 0-64039U1000L100S0V35)
          with SMTP id com for <lucene-user@jakarta.apache.org>;
          Tue, 6 Jul 2004 14:06:33 -0400
Received: from giant-pandas.net (localhost [127.0.0.1])
	by host21.the-web-host.com (8.12.10/8.12.9) with ESMTP id i66I9X8n023202
	for <*Email Address Suppressed*>; Tue, 6 Jul 2004 14:09:43 -0400
From: roy-lucene-user@xemaps.com
To: lucene-user@jakarta.apache.org                                                                                                                                                                                                                                 
Subject: Re: addIndexes vs addDocument
Date: Tue, 6 Jul 2004 13:09:33 -0500
Message-Id: <20040706180933.M88824@giant-pandas.net>
In-Reply-To: <20040706153352.52517.qmail@web12703.mail.yahoo.com>
References: <20040706153352.52517.qmail@web12703.mail.yahoo.com>
X-Mailer: Open WebMail 1.81 20021127
X-OriginatingIP: 209.21.98.168 (roy)
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis,

Thanks for the reply.  Not sure about your comment about _store_.  Do you mean
the addIndexes method would retain all fields in all documents regardless of
_store_, but that individual addDocument calls would not?

Roy.

On Tue, 6 Jul 2004 08:33:52 -0700 (PDT), Otis Gospodnetic wrote
> Roy,
> 
> I'm not sure about the performance difference answer, but I imagine our
> instinct about this is the same.  However, note that manually adding
> documents will not work if you didn't _store_ (e.g. Field.Text)
>  fields in original indices, because you will not be able to 
> retrieve the original field value.
> 
> Otis
> 
> --- roy-lucene-user@xemaps.com wrote:
> > Hi guys,
> > 
> > I have question dealing with addIndexes.  When an addIndexes method
> > is done merging indexes together, it calls optimize.  We would like
> > to avoid the optimize and had though about just opening a reader to
> > each index to be merged and adding them in manually with the
> > addDocument method.
> > 
> > So we were wondering how efficient the addIndexes was compared to the
> > addDocument?
> > 
> > lots'o thanx
> > 
> > Roy.
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> > 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9097-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 02:46:50 2004
Return-Path: <lucene-user-return-9097-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58731 invoked from network); 7 Jul 2004 02:46:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 02:46:49 -0000
Received: (qmail 19302 invoked by uid 500); 7 Jul 2004 02:47:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18933 invoked by uid 500); 7 Jul 2004 02:47:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18920 invoked by uid 99); 7 Jul 2004 02:47:02 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [216.136.173.245] (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 06 Jul 2004 19:47:00 -0700
Message-ID: <20040707024630.49936.qmail@web12708.mail.yahoo.com>
Received: from [211.95.204.99] by web12708.mail.yahoo.com via HTTP; Tue, 06 Jul 2004 19:46:30 PDT
Date: Tue, 6 Jul 2004 19:46:30 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: addIndexes vs addDocument
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20040706180933.M88824@giant-pandas.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Roy,

Quick example.
Index A has fields 'title' and 'contents'.
Field 'contents' is stored in A as Field.UnStored.
This means that you cannot retrieve the original content of the
'contents' field, since that value was not stored verbatim in the
index.
Therefore, you cannot create a new Document instance, pull out String
value of the 'contents' field from A, use it to create another field,
add it to the new Document instance, and add that Document to a new
index B using addDocument method.

addIndexes method does not need to pull out the original String field
values from Documents, so it will work.

Otis


--- roy-lucene-user@xemaps.com wrote:
> Otis,
> 
> Thanks for the reply.  Not sure about your comment about _store_.  Do
> you mean
> the addIndexes method would retain all fields in all documents
> regardless of
> _store_, but that individual addDocument calls would not?
> 
> Roy.
> 
> On Tue, 6 Jul 2004 08:33:52 -0700 (PDT), Otis Gospodnetic wrote
> > Roy,
> > 
> > I'm not sure about the performance difference answer, but I imagine
> our
> > instinct about this is the same.  However, note that manually
> adding
> > documents will not work if you didn't _store_ (e.g. Field.Text)
> >  fields in original indices, because you will not be able to 
> > retrieve the original field value.
> > 
> > Otis
> > 
> > --- roy-lucene-user@xemaps.com wrote:
> > > Hi guys,
> > > 
> > > I have question dealing with addIndexes.  When an addIndexes
> method
> > > is done merging indexes together, it calls optimize.  We would
> like
> > > to avoid the optimize and had though about just opening a reader
> to
> > > each index to be merged and adding them in manually with the
> > > addDocument method.
> > > 
> > > So we were wondering how efficient the addIndexes was compared to
> the
> > > addDocument?
> > > 
> > > lots'o thanx
> > > 
> > > Roy.
> > > 
> > >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > > 
> > > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9098-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 03:51:57 2004
Return-Path: <lucene-user-return-9098-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82577 invoked from network); 7 Jul 2004 03:51:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 03:51:56 -0000
Received: (qmail 96235 invoked by uid 500); 7 Jul 2004 03:52:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95971 invoked by uid 500); 7 Jul 2004 03:52:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95958 invoked by uid 99); 7 Jul 2004 03:52:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.199.26.74] (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 06 Jul 2004 20:52:07 -0700
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I0GRAK00.L2U for <lucene-user@jakarta.apache.org>; Wed,
          7 Jul 2004 09:33:56 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Search & Hit Score
Date: Wed, 7 Jul 2004 09:31:07 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIKEPLCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <7EA672D0-CF3A-11D8-93A9-000393A564E6@ehatchersolutions.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi
Dev Guys

Apologies.....

I have 3 Questions for u.

1)
  I have a situation in here where I am suppose to group  unique indexerd
Documents
  depending upon the number of  hit's per document.

  To Breifly Explain this

  All documet with "n"  hits  for a Search word would be grouped under
"Catagory A"

 and all document with  hits "n+1"  for the same Search Word should be
grouped under  "Catagory B".

 Can Lucene provide some means internally to handle this situation.


2) What is this weight /Boost factor  avaliable for the hits  ,and how to
use this Effectively.


3) Is there any thing in Lucene Core which reveles the version numbering of
current used jar files

       something like on command prompt  "Java -version"  displaying the
version.





with regards
Karthik




-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Tuesday, July 06, 2004 4:22 PM
To: Lucene Users List
Subject: Re: Latest StopAnalyzer.java


On Jul 6, 2004, at 2:53 AM, Morus Walter wrote:
> Karthik N S writes:
>>
>> Can SomeBody Tell me Where Can I find Latest copy of
>> "StopAnalyzer.java"
>> which can be used with Lucene1_4-final,
>> On Lucene-Sandbox I am not able to Find it.
>>
>> [ My Company Prohibits me from using CVS ]
>>
> There is no lucene 1.4 final but
> org.apache.lucene.analysis.StopAnalyzer
> is part of the lucene core.

Actually Doug did create Lucene 1.4 final:

	http://jakarta.apache.org/lucene/docs/index.html

I'll try to squeeze in some time today to make it more official by
ensuring the binaries are mirrored and such.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9099-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 04:21:06 2004
Return-Path: <lucene-user-return-9099-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96180 invoked from network); 7 Jul 2004 04:21:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 04:21:06 -0000
Received: (qmail 34831 invoked by uid 500); 7 Jul 2004 04:21:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34287 invoked by uid 500); 7 Jul 2004 04:21:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34269 invoked by uid 99); 7 Jul 2004 04:21:19 -0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=HTML_60_70,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [203.120.211.130] (HELO bigonthenet.com) (203.120.211.130)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 06 Jul 2004 21:21:18 -0700
Received: from smile ([192.168.4.100])
	by bigonthenet.com (8.9.3/8.9.3) with SMTP id MAA06562
	for <lucene-user@jakarta.apache.org>; Wed, 7 Jul 2004 12:23:30 +0800
Message-ID: <001901c463d9$c694a560$0f02a8c0@smile>
From: "Alex Aw Seat Kiong" <alex.aw@bigonthenet.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20040707024630.49936.qmail@web12708.mail.yahoo.com>
Subject: upgrade from Lucene 1.3 final to 1.4rc3 problem
Date: Wed, 7 Jul 2004 12:20:16 +0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0009_01C4641C.C2C5A090"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0009_01C4641C.C2C5A090
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi!

I'm using Lucene 1.3 final currently, all things were working fine.
But, after i'm upgraded from Lucene 1.3 final to 1.4rc3 (simply =
overwrite the lucene-1.4-final.jar to lucene-1.4-rc3.jar and re-compile =
it)
We can re-compile it successfuly. but when will try to index the =
document. It give the error as below:
java.lang.NullPointerException
        at =
org.apache.lucene.store.FSDirectory.create(FSDirectory.java:146)
        at =
org.apache.lucene.store.FSDirectory.<init>(FSDirectory.java:126)
        at =
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:102)
        at =
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:83)
        at =
org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:173)
Which wrong? Pls help.

Thanks.

Regards,
Alex




------=_NextPart_000_0009_01C4641C.C2C5A090--


From lucene-user-return-9100-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 04:27:35 2004
Return-Path: <lucene-user-return-9100-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98200 invoked from network); 7 Jul 2004 04:27:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 04:27:35 -0000
Received: (qmail 41009 invoked by uid 500); 7 Jul 2004 04:27:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40806 invoked by uid 500); 7 Jul 2004 04:27:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40792 invoked by uid 99); 7 Jul 2004 04:27:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.199.26.74] (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 06 Jul 2004 21:27:49 -0700
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I0GSY000.U3B for <lucene-user@jakarta.apache.org>; Wed,
          7 Jul 2004 10:09:36 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Upgrade from Lucene 1.3 final to 1.4 problem
Date: Wed, 7 Jul 2004 10:06:48 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKICEPMCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <001901c463d9$c694a560$0f02a8c0@smile>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey

Apologies ....

  Same with me tooo...

  The no of Hits on set of Documents  indexed using 1.3-final  is not same
on  1.4-final  version
  [ The only modification done to the src is , I have upgraded my
CustomAnalyzer  on basis of StopAnalyzer avaliable in 1.4 ]
  Does doing this effect the performance.


  Some body please explain.


with regards
Karthik

-----Original Message-----
From: Alex Aw Seat Kiong [mailto:alex.aw@bigonthenet.com]
Sent: Wednesday, July 07, 2004 9:50 AM
To: Lucene Users List
Subject: upgrade from Lucene 1.3 final to 1.4rc3 problem


Hi!

I'm using Lucene 1.3 final currently, all things were working fine.
But, after i'm upgraded from Lucene 1.3 final to 1.4rc3 (simply overwrite
the lucene-1.4-final.jar to lucene-1.4-rc3.jar and re-compile it)
We can re-compile it successfuly. but when will try to index the document.
It give the error as below:
java.lang.NullPointerException
        at org.apache.lucene.store.FSDirectory.create(FSDirectory.java:146)
        at org.apache.lucene.store.FSDirectory.<init>(FSDirectory.java:126)
        at
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:102)
        at
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:83)
        at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:173)
Which wrong? Pls help.

Thanks.

Regards,
Alex





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9101-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 05:45:00 2004
Return-Path: <lucene-user-return-9101-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39598 invoked from network); 7 Jul 2004 05:45:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 05:45:00 -0000
Received: (qmail 33672 invoked by uid 500); 7 Jul 2004 05:45:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33651 invoked by uid 500); 7 Jul 2004 05:45:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33635 invoked by uid 99); 7 Jul 2004 05:45:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [12.43.53.196] (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 06 Jul 2004 22:45:10 -0700
Received: from [192.168.1.100] (dsl093-132-107.sfo4.dsl.speakeasy.net [66.93.132.107])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id i675iaam027456
	for <lucene-user@jakarta.apache.org>; Tue, 6 Jul 2004 22:44:37 -0700
Message-ID: <40EB8DC8.9040007@newsmonster.org>
Date: Tue, 06 Jul 2004 22:44:40 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Most efficient way to index 14M documents (out of memory/file handles)
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm trying to burn an index of 14M documents.

I have two problems.

1.  I have to run optimize() every 50k documents or I run out of file 
handles.  this takes TIME and of course is linear to the size of the 
index so it just gets slower by the time I complete.  It starts to crawl 
at about 3M documents.

2.  I eventually will run out of memory in this configuration.

I KNOW this has been covered before but for the life of me I can't find 
it in the archives, the FAQ or the wiki. 

I'm using an IndexWriter with a mergeFactor of 5k and then optimizing 
every 50k documents.

Does it make sense to just create a new IndexWriter for every 50k docs 
and then do one big optimize() at the end?

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9102-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 06:25:05 2004
Return-Path: <lucene-user-return-9102-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61376 invoked from network); 7 Jul 2004 06:25:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 06:25:05 -0000
Received: (qmail 92983 invoked by uid 500); 7 Jul 2004 06:25:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92936 invoked by uid 500); 7 Jul 2004 06:25:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92910 invoked by uid 99); 7 Jul 2004 06:25:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTTP_WITH_EMAIL_IN_URL
X-Spam-Check-By: apache.org
Received: from [209.228.33.240] (HELO c007.snv.cp.net) (209.228.33.240)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 06 Jul 2004 23:25:15 -0700
Received: (cpmta 27496 invoked from network); 6 Jul 2004 23:24:40 -0700
Received: from 213.132.40.2 (HELO ?192.168.1.24?)
  by smtp.bayt.net (209.228.33.240) with SMTP; 6 Jul 2004 23:24:40 -0700
X-Sent: 7 Jul 2004 06:24:40 GMT
Message-ID: <40EB9726.9010300@bayt.net>
Date: Wed, 07 Jul 2004 10:24:38 +0400
From: Nader Henein <nsh@bayt.net>
Reply-To:  nsh@bayt.net
Organization: Bayt.com
User-Agent: Mozilla Thunderbird 0.6 (Windows/20040502)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Most efficient way to index 14M documents (out of memory/file
 handles)
References: <40EB8DC8.9040007@newsmonster.org>
In-Reply-To: <40EB8DC8.9040007@newsmonster.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Here's the thread you want :

http://issues.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&msgId=1722573

Nader Henein

Kevin A. Burton wrote:

> I'm trying to burn an index of 14M documents.
>
> I have two problems.
>
> 1.  I have to run optimize() every 50k documents or I run out of file 
> handles.  this takes TIME and of course is linear to the size of the 
> index so it just gets slower by the time I complete.  It starts to 
> crawl at about 3M documents.
>
> 2.  I eventually will run out of memory in this configuration.
>
> I KNOW this has been covered before but for the life of me I can't 
> find it in the archives, the FAQ or the wiki.
> I'm using an IndexWriter with a mergeFactor of 5k and then optimizing 
> every 50k documents.
>
> Does it make sense to just create a new IndexWriter for every 50k docs 
> and then do one big optimize() at the end?
>
> Kevin
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9103-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 06:26:14 2004
Return-Path: <lucene-user-return-9103-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61980 invoked from network); 7 Jul 2004 06:26:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 06:26:14 -0000
Received: (qmail 95443 invoked by uid 500); 7 Jul 2004 06:26:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95426 invoked by uid 500); 7 Jul 2004 06:26:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95413 invoked by uid 99); 7 Jul 2004 06:26:31 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received: from [194.109.24.11] (HELO smtp-out1.xs4all.nl) (194.109.24.11)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 06 Jul 2004 23:26:29 -0700
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out1.xs4all.nl (8.12.10/8.12.10) with ESMTP id i676PsPv038198
	for <lucene-user@jakarta.apache.org>; Wed, 7 Jul 2004 08:25:54 +0200 (CEST)
From: Ype Kingma <ykingma@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Search & Hit Score
Date: Wed, 7 Jul 2004 08:25:54 +0200
User-Agent: KMail/1.5.4
References: <LOEGLEEGOAKBOLAJCCKIKEPLCAAA.karthik@controlnet.co.in>
In-Reply-To: <LOEGLEEGOAKBOLAJCCKIKEPLCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200407070825.54088.ykingma@xs4all.nl>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Karthik,

On Wednesday 07 July 2004 06:01, Karthik N S wrote:
> Hi
> Dev Guys
>
> Apologies.....
>
> I have 3 Questions for u.
>
> 1)
>   I have a situation in here where I am suppose to group  unique indexerd
> Documents
>   depending upon the number of  hit's per document.
>
>   To Breifly Explain this
>
>   All documet with "n"  hits  for a Search word would be grouped under
> "Catagory A"
>
>  and all document with  hits "n+1"  for the same Search Word should be
> grouped under  "Catagory B".
>
>  Can Lucene provide some means internally to handle this situation.

For a single term query, one can iterate through
IndexReader.termDocs(Term) and store the document numbers by
TermDocs.docFreq().

>
> 2) What is this weight /Boost factor  avaliable for the hits  ,and how to
> use this Effectively.

Could you be a bit more precise? Lucene has weights for fields
and for queries (called boost) and in Hits the documents have a score.

>
> 3) Is there any thing in Lucene Core which reveles the version numbering of
> current used jar files

The name of the jar file, but no API that I know of. You might invoke java
with -Dsomeproperty=lucenexxxxxxxxx.jar, and use that java system property.


Kind regards,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9104-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 06:38:44 2004
Return-Path: <lucene-user-return-9104-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67981 invoked from network); 7 Jul 2004 06:38:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 06:38:44 -0000
Received: (qmail 23110 invoked by uid 500); 7 Jul 2004 06:38:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23028 invoked by uid 500); 7 Jul 2004 06:38:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23010 invoked by uid 99); 7 Jul 2004 06:38:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received: from [194.109.24.7] (HELO smtp-out6.xs4all.nl) (194.109.24.7)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 06 Jul 2004 23:38:55 -0700
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out6.xs4all.nl (8.12.10/8.12.10) with ESMTP id i676cJew089884
	for <lucene-user@jakarta.apache.org>; Wed, 7 Jul 2004 08:38:20 +0200 (CEST)
From: Ype Kingma <ykingma@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Search & Hit Score
Date: Wed, 7 Jul 2004 08:38:19 +0200
User-Agent: KMail/1.5.4
References: <LOEGLEEGOAKBOLAJCCKIKEPLCAAA.karthik@controlnet.co.in> <200407070825.54088.ykingma@xs4all.nl>
In-Reply-To: <200407070825.54088.ykingma@xs4all.nl>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200407070838.19573.ykingma@xs4all.nl>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday 07 July 2004 08:25, Ype Kingma wrote:
>
> For a single term query, one can iterate through
> IndexReader.termDocs(Term) and store the document numbers by
> TermDocs.docFreq().

That should be TermDocs.freq()

Oops,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9105-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 07:23:48 2004
Return-Path: <lucene-user-return-9105-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99356 invoked from network); 7 Jul 2004 07:23:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 07:23:48 -0000
Received: (qmail 2362 invoked by uid 500); 7 Jul 2004 07:24:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2317 invoked by uid 500); 7 Jul 2004 07:24:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2304 invoked by uid 99); 7 Jul 2004 07:24:01 -0000
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=DNS_FROM_RFC_ABUSE,NO_REAL_NAME,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received: from [194.106.33.237] (HELO outmail.freedom2surf.net) (194.106.33.237)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 07 Jul 2004 00:23:57 -0700
Received: from Z-ISV03M0372 (i-194-106-34-5.freedom2surf.net [194.106.34.5])
	by outmail.freedom2surf.net (8.12.10/8.12.10) with SMTP id i677NJU9023504
	for <lucene-user@jakarta.apache.org>; Wed, 7 Jul 2004 08:23:19 +0100
Date: Wed, 7 Jul 2004 08:23:19 +0100
Message-Id: <200407070723.i677NJU9023504@outmail.freedom2surf.net>
From: markharw00d@yahoo.co.uk
To: lucene-user@jakarta.apache.org
Subject: Re: Most efficient way to index 14M documents (out of memory/file handles)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

A colleague of mine found the fastest way to index was to use a RAMDirectory, letting it grow
to a pre-defined maximum size, then merging it to a new temporary file-based index to
flush it. Repeat this, creating new directories for all the file based indexes then perform 
a merge into one index once all docs are indexed.

I haven't managed to test this for myself but my colleague  says he noticed a 
considerable speed up by merging once at the end with this approach so you may want
to give it a try. (This was with Lucene 1.3)

I know Lucene uses RAMDirectory internally but the mergeFactor that controls the size of the cache
is also used to determine the number of files used when flushed (which can get out of control).


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9106-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 14:21:59 2004
Return-Path: <lucene-user-return-9106-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84887 invoked from network); 7 Jul 2004 14:21:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 14:21:58 -0000
Received: (qmail 18503 invoked by uid 500); 7 Jul 2004 07:38:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18484 invoked by uid 500); 7 Jul 2004 07:38:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18471 invoked by uid 99); 7 Jul 2004 07:38:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [193.62.196.100] (HELO maui.ebi.ac.uk) (193.62.196.100)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 07 Jul 2004 00:38:40 -0700
Received: from neptune.ebi.ac.uk (neptune.ebi.ac.uk [172.22.8.118])
	by maui.ebi.ac.uk (8.11.7+Sun/8.11.7) with ESMTP id i677XLF29365
	for <lucene-user@jakarta.apache.org>; Wed, 7 Jul 2004 08:33:21 +0100 (BST)
Received: (from kirsch@localhost)
	by neptune.ebi.ac.uk (8.11.6/8.11.6) id i677XLs10554
	for lucene-user@jakarta.apache.org; Wed, 7 Jul 2004 08:33:21 +0100
Date: Wed, 7 Jul 2004 08:33:21 +0100
From: Harald Kirsch <kirsch@ebi.ac.uk>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Most efficient way to index 14M documents (out of memory/file handles)
Message-ID: <20040707083320.A10461@neptune.ebi.ac.uk>
References: <40EB8DC8.9040007@newsmonster.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5.1i
In-Reply-To: <40EB8DC8.9040007@newsmonster.org>; from burton@newsmonster.org on Tue, Jul 06, 2004 at 10:44:40PM -0700
X-EBI-Information: This email is scanned using www.mailscanner.info.
X-EBI: Found to be clean
X-EBI-SpamCheck: not spam, SpamAssassin (score=0, required 5)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tue, Jul 06, 2004 at 10:44:40PM -0700, Kevin A. Burton wrote:
> I'm trying to burn an index of 14M documents.
> 
> I have two problems.
> 
> 1.  I have to run optimize() every 50k documents or I run out of file 
> handles.  this takes TIME and of course is linear to the size of the 
> index so it just gets slower by the time I complete.  It starts to crawl 
> at about 3M documents.

Recently I indexed roughly this many documents. I separated the whole
thing first into 100 jobs (we happen to have that many machines in the
cluster.-) each indexing its share into its own index. I used
mergeFactor=100 and only optimized just before closing the index.

Then I merged them all into one index simply by

  writer.mergeFactor = 150; 
  writer.addIndexes(dirs);

I was surprised myself that it went through easily within under two
hours for each of the 101 indexes. The documents have, however, only
three fields.

  Maybe this helps,
  Harald.

-- 
------------------------------------------------------------------------
Harald Kirsch | kirsch@ebi.ac.uk | +44 (0) 1223/49-2593

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9107-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 14:23:11 2004
Return-Path: <lucene-user-return-9107-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86466 invoked from network); 7 Jul 2004 14:23:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 14:23:10 -0000
Received: (qmail 31806 invoked by uid 500); 7 Jul 2004 07:52:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31776 invoked by uid 500); 7 Jul 2004 07:52:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31762 invoked by uid 99); 7 Jul 2004 07:52:45 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=DATE_IN_PAST_12_24,FORGED_RCVD_HELO,MIME_QP_LONG_LINE
X-Spam-Check-By: apache.org
Received: from [210.193.2.49] (HELO velum.qala.com.sg) (210.193.2.49)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 07 Jul 2004 00:52:44 -0700
X-Qala-Anti-Virus: This mail is checked for Viruses by Qala Antivirus Service. Server No. 4
Received: from 192.168.1.89 (adsl-210-193-14-76.qala.com.sg [210.193.14.76])
	by velum.qala.com.sg (8.12.10/8.12.10) with SMTP id i677ps9r006185
	for <lucene-user@jakarta.apache.org>; Wed, 7 Jul 2004 15:51:55 +0800 (SGT)
From: Kelvin Tan <lists-kelvin@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: PocoMail 3.1 (1880) - Licensed Version
Date: Tue, 6 Jul 2004 11:26:17 +0200
Message-ID: <200476112617.845134@Inspiron>
In-Reply-To: <40EA5E1C.90306@ifit.uni-klu.ac.at>
Delivery-Date: Tue, 6 Jul 2004 11:26:46 -0000
Subject: Re: MultifieldQueryParser.parse()
Mime-Version: 1.0
Content-Type: text/plain; charset="ISO-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Sergiu,

First of all, if your application is web-based, its not necessary to 
programmatically construct the query based on user-input (via 
MultiFieldQueryParser). you can use luceneQueryConstructor.js in Lucene=
 sandbox. 
You can find the documentation here:
http://cvs.apache.org/viewcvs.cgi/*checkout*/jakarta-lucene-sandbox/contribu=
tion
s/javascript/queryConstructor/luceneQueryConstructor.html

Secondly, if still necessary to programmatically construct the query,=
 perhaps 
you can consider creating an int[] of MultiFieldQueryParser.REQUIRED_FIELD=
 and 
using 
    public static Query parse(String query, String[] fields, int[] flags,
=09Analyzer analyzer)
instead?

Kelvin

On Tue, 06 Jul 2004 10:09:00 +0200, Sergiu Gordea said:
> 
> Hi all,
> I have a question,
> I have an index with more fileds and I have to create conjunctive
> queries by default.
> So what I'm trying to say is that we develop a project and we provide
> search functionality
> basing on lucene indexer.
> From what I can see, Multifield query parser creates disjunctive queries:
> if I search for "best test" in fields {title, description} the
> MultiFieldQueryParser.parse(string, fields, analizer)
> will create a query that will mean "fields contain 'best' OR fileds
> contain 'test'" [1]
> by I want to create "fields contain 'best' AND fileds contain 'test'"[2]
> I know, I can place a + before each of this terms, but we also want to
> let the users to create
> custom queries using logical operators and + -, grouping and exact=
 phrases.
> So in this situation we have to parse the query string twice wit the
> only change that we will ad AND operator to
> link the TERMS in the places were no operator is found.
> This seems to me to be just overhead, and I think that tha best way
> would be to overload parse function to
> MultiFieldQueryParser.parse(String queryString, String[] fields,
> Analizer analizer, String/int defaultoperator)[3]
> were default operator can be "AND" or "OR"
> so that I can choose if I want to create query [1] or query [2].
> Do we have an alternative solution, reasonably simple for this problem?
> What do you think about my suggestion of implementing the [3] method .
> 
> Thanks for understanding,
> Sergiu
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org

dow


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9110-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 14:35:30 2004
Return-Path: <lucene-user-return-9110-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99577 invoked from network); 7 Jul 2004 14:35:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 14:35:30 -0000
Received: (qmail 47733 invoked by uid 500); 7 Jul 2004 10:08:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47694 invoked by uid 500); 7 Jul 2004 10:08:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47661 invoked by uid 99); 7 Jul 2004 10:08:36 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [217.160.131.136] (HELO p15105029.pureserver.info) (217.160.131.136)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 07 Jul 2004 03:08:33 -0700
Received: (qmail 23234 invoked by uid 89); 7 Jul 2004 12:07:55 +0200
Received: from unknown (HELO max.osuatech.local) (max%osua.de@217.25.196.25)
  by 0 with SMTP; 7 Jul 2004 12:07:55 +0200
Date: Wed, 7 Jul 2004 13:09:09 +0300
From: Maxim Patramanskij <max@osua.de>
X-Mailer: The Bat! (v1.62i) Business
Reply-To: Maxim Patramanskij <max@osua.de>
Organization: OSUA technology
X-Priority: 3 (Normal)
Message-ID: <157703455218.20040707130909@osua.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: upgrade from Lucene 1.3 final to 1.4rc3 problem
In-Reply-To: <001901c463d9$c694a560$0f02a8c0@smile>
References: <20040707024630.49936.qmail@web12708.mail.yahoo.com>
 <001901c463d9$c694a560$0f02a8c0@smile>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello Alex.

I had the similar problem when I've upgraded to Lucene 1.4 rc3 from
1.3 final.

After short investigation, I realized that problem is in the
code of constructor FSDirectory() below:

private FSDirectory(File path, boolean create) throws IOException {
 directory = path;
 lockDir = new File(LOCK_DIR);
   if (!lockDir.isAbsolute()) {
     lockDir = new File(directory, LOCK_DIR);
   }
 [...]

 }
The LOCK_DIR constant, deefined as:

public static final String LOCK_DIR =
    System.getProperty("org.apache.lucene.lockdir",
      System.getProperty("java.io.tmpdir", "."));

may have one of the following values :

System.getProperty("org.apache.lucene.lockdir") if it has been set before

System.getProperty("java.io.tmpdir") if it has been set before

"." if no one of above properties specified.

In my case (I'm running Lucene under Tomcat 4.1.27 on WinXp) "java.io.tmpdir"
was set to "..\temp" by Tomcat startup script.

Therefore, the check of lockDir.isAbsolute() returned false and
lockDir was assigned with instance of File(MY_INDEX_DIRECTORY, "..\temp").

Because there was no directory "temp" corresponding to one level above
MY_INDEX_DIRECTORY, method create() threw
NullPointerException when there was a try to access files.length,
because files variable already had null value after calling

files = lockDir.list();



I solved this problem by changing Tomcat startup script the way that
it sets java.io.tmpdir to absolute path.

However, Lucene 1.4 final release is announced by Doug on July, 2 and
available here
http://cvs.apache.org/dist/jakarta/lucene/v1.4-final/

The code for obtaining lockDir location and LOCK_DIR constant has been
changed:

private FSDirectory(File path, boolean create) throws IOException {
 directory = path;
    if (LOCK_DIR == null) {
      lockDir = directory;
    }
    else {
      lockDir = new File(LOCK_DIR);
    }
[...]
}

  public static final String LOCK_DIR =
    System.getProperty("org.apache.lucene.lockdir",
      System.getProperty("java.io.tmpdir"));

The above changes stay that if no one of  "org.apache.lucene.lockdir" or
"java.io.tmpdir" has been set before starting indexing, then lockfile
will be created in the same directory where index files are located.
      
With 1.4 final everything is working just fine for without having to change
Tomcat startup script.


Hope this will help.


Best regards,
 Maxim


Wednesday, July 7, 2004, 7:20:16 AM, you wrote:

AASK> Hi!

AASK> I'm using Lucene 1.3 final currently, all things were working fine.
AASK> But, after i'm upgraded from Lucene 1.3 final to 1.4rc3 (simply overwrite the lucene-1.4-final.jar to lucene-1.4-rc3.jar and re-compile it)
AASK> We can re-compile it successfuly. but when will try to index the document. It give the error as below:
AASK> java.lang.NullPointerException
AASK>         at org.apache.lucene.store.FSDirectory.create(FSDirectory.java:146)
AASK>         at org.apache.lucene.store.FSDirectory.<init>(FSDirectory.java:126)
AASK>         at org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:102)
AASK>         at org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:83)
AASK>         at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:173)
AASK> Which wrong? Pls help.

AASK> Thanks.

AASK> Regards,
AASK> Alex


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9111-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 14:58:42 2004
Return-Path: <lucene-user-return-9111-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21428 invoked from network); 7 Jul 2004 14:58:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 14:58:42 -0000
Received: (qmail 13322 invoked by uid 500); 7 Jul 2004 13:02:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13296 invoked by uid 500); 7 Jul 2004 13:02:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13283 invoked by uid 99); 7 Jul 2004 13:02:24 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_BY_IP,SB_NEW_BULK,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [64.233.170.206] (HELO mproxy.gmail.com) (64.233.170.206)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 07 Jul 2004 06:02:23 -0700
Received: by mproxy.gmail.com with SMTP id 62so155584rni
        for <lucene-user@jakarta.apache.org>; Wed, 07 Jul 2004 06:02:05 -0700 (PDT)
Received: by 10.38.71.16 with SMTP id t16mr77730rna;
        Wed, 07 Jul 2004 06:02:05 -0700 (PDT)
Message-ID: <8f8e14c404070706022f7b4ea9@mail.gmail.com>
Date: Wed, 7 Jul 2004 09:02:05 -0400
From: Drew Farris <drew.farris@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Optimizing for long queries?
In-Reply-To: <007001c45ce6$9412ccb0$6a0010ac@teck>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <8f8e14c40406251124102752ba@mail.gmail.com> <007001c45ce6$9412ccb0$6a0010ac@teck>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mon, 28 Jun 2004 10:04:40 +0200, Julien Nioche
<julien.nioche@lingway.com> wrote:
> Hello Drew,
> 
> I don't think it's in the FAQ.
> 

Julien,

Thanks for the advice, and the in-depth exploration of INDEX_INTERVAL
here and on the developer's list. If I have the opportunity to run
similar benchmarks comparing both modified INDEX_INTERVALS and sorted
queries,  I'll share the results as well.

You mentioned that you were using queries from query logs for your
application. Do you have a general idea of the average query length of
these queries?

Drew.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9112-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 15:00:10 2004
Return-Path: <lucene-user-return-9112-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22683 invoked from network); 7 Jul 2004 15:00:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 15:00:10 -0000
Received: (qmail 18825 invoked by uid 500); 7 Jul 2004 13:08:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18807 invoked by uid 500); 7 Jul 2004 13:08:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18792 invoked by uid 99); 7 Jul 2004 13:08:39 -0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=HTML_60_70,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [65.61.157.209] (HELO www.emacmillan.org) (65.61.157.209)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 07 Jul 2004 06:08:38 -0700
Received: from mail.emacmillan.com ([203.200.41.230])
	by www.emacmillan.org (8.11.6/8.11.6) with ESMTP id i67D8YY20396
	for <lucene-user@jakarta.apache.org>; Wed, 7 Jul 2004 08:08:35 -0500
Received: from NIRAJ [192.168.1.177] by emacmillan.com [192.168.1.7]
	with SMTP (MDaemon.v2.83.R)
	for <lucene-user@jakarta.apache.org>; Wed, 07 Jul 2004 18:39:39 +0530
Message-ID: <020401c46423$107e4480$b101a8c0@emacmillan.edu>
From: "Niraj Alok" <niraj@emacmillan.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: boolean operators and score
Date: Wed, 7 Jul 2004 18:35:14 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_01FE_01C46451.24FF5BA0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-MDaemon-Deliver-To: lucene-user@jakarta.apache.org
X-Return-Path: niraj@emacmillan.com
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_01FE_01C46451.24FF5BA0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

Hi Guys,

Finally I have sorted the problem of hits score thanks to the great help of
Franck.

I have hit another problem with the boolean operators now.
When I search for "Winston and churchill" i get a set of perfectly
acceptable results.
But when I change the order, "churchill and winston" the results are the
same but the order of the results changes.

Is it possible to have the same order (hits.score) irrespective of which
term is given before or after?


Regards,
Niraj

------=_NextPart_000_01FE_01C46451.24FF5BA0--




From lucene-user-return-9115-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 15:18:08 2004
Return-Path: <lucene-user-return-9115-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40738 invoked from network); 7 Jul 2004 15:18:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 15:18:08 -0000
Received: (qmail 95485 invoked by uid 500); 7 Jul 2004 15:10:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95378 invoked by uid 500); 7 Jul 2004 15:10:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95232 invoked by uid 99); 7 Jul 2004 15:10:33 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=FORGED_RCVD_HELO,HTML_30_40,HTML_FONT_BIG,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [66.207.192.3] (HELO mta1.beanfield.net) (66.207.192.3)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 07 Jul 2004 08:10:30 -0700
Received: from don.webimpact.com (66-207-218-34.beanfield.net [66.207.218.34] (may be forged))
	by mta1.beanfield.net (8.12.11/8.12.6) with ESMTP id i67FALnV090193
	for <lucene-user@jakarta.apache.org>; Wed, 7 Jul 2004 11:10:22 -0400 (EDT)
	(envelope-from donv@webimpact.com)
Message-Id: <6.1.1.1.0.20040707110744.01aca360@localhost>
X-Sender: donv@web-impact.com@localhost
X-Mailer: QUALCOMM Windows Eudora Version 6.1.1.1
Date: Wed, 07 Jul 2004 11:11:42 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Don Vaillancourt <donv@webimpact.com>
Subject: Re: boolean operators and score
In-Reply-To: <020401c46423$107e4480$b101a8c0@emacmillan.edu>
References: <020401c46423$107e4480$b101a8c0@emacmillan.edu>
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====================_7530171==.ALT"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=====================_7530171==.ALT
Content-Type: text/plain; charset="us-ascii"; format=flowed

I think that the only way to resolve this would be to order your keywords 
alphabetically to control the result every single time prior to submitting 
your search to Lucene.  I don't know if Lucene does this, but I'm fairly 
sure that sorting the criteria would be a complex matter.

At 09:05 AM 07/07/2004, you wrote:
>Hi Guys,
>
>Finally I have sorted the problem of hits score thanks to the great help of
>Franck.
>
>I have hit another problem with the boolean operators now.
>When I search for "Winston and churchill" i get a set of perfectly
>acceptable results.
>But when I change the order, "churchill and winston" the results are the
>same but the order of the results changes.
>
>Is it possible to have the same order (hits.score) irrespective of which
>term is given before or after?
>
>
>Regards,
>Niraj

Don Vaillancourt
Director of Software Development

WEB IMPACT INC.
416-815-2000 ext. 245
email: donv@web-impact.com
web: http://www.web-impact.com




This email message is intended only for the addressee(s)
and contains information that may be confidential and/or
copyright.  If you are not the intended recipient please
notify the sender by reply email and immediately delete
this email. Use, disclosure or reproduction of this email
by anyone other than the intended recipient(s) is strictly
prohibited. No representation is made that this email or
any attachments are free of viruses. Virus scanning is
recommended and is the responsibility of the recipient.












--=====================_7530171==.ALT--


From lucene-user-return-9114-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 16:06:08 2004
Return-Path: <lucene-user-return-9114-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66230 invoked from network); 7 Jul 2004 16:06:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 16:06:08 -0000
Received: (qmail 30730 invoked by uid 500); 7 Jul 2004 14:33:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30591 invoked by uid 500); 7 Jul 2004 14:33:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23851 invoked by uid 99); 7 Jul 2004 14:31:31 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [194.159.73.194] (HELO post-24.mail.nl.demon.net) (194.159.73.194)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 07 Jul 2004 07:31:27 -0700
Received: from mda.demon.nl ([212.238.156.229]:42060 helo=[127.0.0.1])
	by post-24.mail.nl.demon.net with esmtp (Exim 4.34)
	id 1BiDSF-000Bua-1A; Wed, 07 Jul 2004 14:31:23 +0000
Message-ID: <40EC0992.9040007@zilverline.org>
Date: Wed, 07 Jul 2004 16:32:50 +0200
From: Zilverline info <info@zilverline.org>
User-Agent: Mozilla Thunderbird 0.7.1 (Windows/20040626)
X-Accept-Language: nl, en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: upgrade from Lucene 1.3 final to 1.4rc3 problem
References: <20040707024630.49936.qmail@web12708.mail.yahoo.com> <001901c463d9$c694a560$0f02a8c0@smile>
In-Reply-To: <001901c463d9$c694a560$0f02a8c0@smile>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This is a bug (see posting 'Lockfile Problem Solved'), upgrade to 
1.4-final, and you'll be fine

Alex Aw Seat Kiong wrote:

>Hi!
>
>I'm using Lucene 1.3 final currently, all things were working fine.
>But, after i'm upgraded from Lucene 1.3 final to 1.4rc3 (simply overwrite the lucene-1.4-final.jar to lucene-1.4-rc3.jar and re-compile it)
>We can re-compile it successfuly. but when will try to index the document. It give the error as below:
>java.lang.NullPointerException
>        at org.apache.lucene.store.FSDirectory.create(FSDirectory.java:146)
>        at org.apache.lucene.store.FSDirectory.<init>(FSDirectory.java:126)
>        at org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:102)
>        at org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:83)
>        at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:173)
>Which wrong? Pls help.
>
>Thanks.
>
>Regards,
>Alex
>
>
>
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9113-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 16:11:16 2004
Return-Path: <lucene-user-return-9113-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71170 invoked from network); 7 Jul 2004 16:11:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 16:11:16 -0000
Received: (qmail 52292 invoked by uid 500); 7 Jul 2004 13:49:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52275 invoked by uid 500); 7 Jul 2004 13:49:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52254 invoked by uid 99); 7 Jul 2004 13:49:35 -0000
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=FORGED_RCVD_HELO,HTML_20_30,HTML_FONT_BIG,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [66.207.192.3] (HELO mta1.beanfield.net) (66.207.192.3)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 07 Jul 2004 06:49:33 -0700
Received: from don.webimpact.com (66-207-218-34.beanfield.net [66.207.218.34] (may be forged))
	by mta1.beanfield.net (8.12.11/8.12.6) with ESMTP id i67DnJGU080441
	for <lucene-user@jakarta.apache.org>; Wed, 7 Jul 2004 09:49:20 -0400 (EDT)
	(envelope-from donv@webimpact.com)
Message-Id: <6.1.1.1.0.20040707094035.01b50ec0@localhost>
X-Sender: donv@web-impact.com@localhost
X-Mailer: QUALCOMM Windows Eudora Version 6.1.1.1
Date: Wed, 07 Jul 2004 09:49:41 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Don Vaillancourt <donv@webimpact.com>
Subject: MultiSearcher is very slow
In-Reply-To: <40EB9726.9010300@bayt.net>
References: <40EB8DC8.9040007@newsmonster.org>
 <40EB9726.9010300@bayt.net>
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====================_2673375==.ALT"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=====================_2673375==.ALT
Content-Type: text/plain; charset="us-ascii"; format=flowed

Hi all,

I've managed to add multi-index searching capability to my code.  But one 
thing that I have noticed is that Lucene is extremely slow in searching.

For example I have been testing with 2 indexes for the past month or so and 
searching them returns results in under 250ms and sometimes even surprising 
me at under 50ms.  All of this on my desktop computer.

If I search both indexes with the MultiSearcher class, it take over 2000ms 
to search.  I have compared the search results and they do match.  But why 
is it taking so much longer.

I'm assuming that each index is searched separately and then the Hits 
results from each search is merged and sorted.  But still, I don't think 
that this should take any longer than 750ms.

Is it just the way Lucene MultiSearcher class was engineered that makes it 
slow or is there something that I am doing wrong?

Thanks


Don Vaillancourt
Director of Software Development

WEB IMPACT INC.
416-815-2000 ext. 245
email: donv@web-impact.com
web: http://www.web-impact.com




This email message is intended only for the addressee(s)
and contains information that may be confidential and/or
copyright.  If you are not the intended recipient please
notify the sender by reply email and immediately delete
this email. Use, disclosure or reproduction of this email
by anyone other than the intended recipient(s) is strictly
prohibited. No representation is made that this email or
any attachments are free of viruses. Virus scanning is
recommended and is the responsibility of the recipient.












--=====================_2673375==.ALT--


From lucene-user-return-9109-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 16:20:36 2004
Return-Path: <lucene-user-return-9109-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79652 invoked from network); 7 Jul 2004 16:20:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 16:20:35 -0000
Received: (qmail 38306 invoked by uid 500); 7 Jul 2004 09:58:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38286 invoked by uid 500); 7 Jul 2004 09:58:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38259 invoked by uid 99); 7 Jul 2004 09:58:31 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 07 Jul 2004 02:58:30 -0700
Received: from [192.168.0.254] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id i679vrI05356
	for <lucene-user@jakarta.apache.org>; Wed, 7 Jul 2004 04:57:53 -0500
Message-ID: <40EBC921.4000209@getopt.org>
Date: Wed, 07 Jul 2004 11:57:53 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7) Gecko/20040608
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Most efficient way to index 14M documents (out of memory/file
 handles)
References: <200407070723.i677NJU9023504@outmail.freedom2surf.net>
In-Reply-To: <200407070723.i677NJU9023504@outmail.freedom2surf.net>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

markharw00d@yahoo.co.uk wrote:

> A colleague of mine found the fastest way to index was to use a RAMDirectory, letting it grow
> to a pre-defined maximum size, then merging it to a new temporary file-based index to
> flush it. Repeat this, creating new directories for all the file based indexes then perform 
> a merge into one index once all docs are indexed.
> 
> I haven't managed to test this for myself but my colleague  says he noticed a 
> considerable speed up by merging once at the end with this approach so you may want
> to give it a try. (This was with Lucene 1.3)

I can confirm that this approach works quite well - I use it myself in 
some applications, both with Lucene 1.3 and 1.4. The disadvantage is of 
course that the memory consumption goes up, so you have to be careful to 
   cap the max size of RAMDirectory according to your max heap size limits.

-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9108-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 16:32:18 2004
Return-Path: <lucene-user-return-9108-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93312 invoked from network); 7 Jul 2004 16:32:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 16:32:18 -0000
Received: (qmail 83398 invoked by uid 500); 7 Jul 2004 08:56:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83374 invoked by uid 500); 7 Jul 2004 08:56:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83361 invoked by uid 99); 7 Jul 2004 08:56:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.199.26.74] (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 07 Jul 2004 01:56:04 -0700
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I0H4KH00.O75 for <lucene-user@jakarta.apache.org>; Wed,
          7 Jul 2004 14:20:41 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Search & Hit Score
Date: Wed, 7 Jul 2004 14:17:53 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIEEPNCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
In-Reply-To: <200407070838.19573.ykingma@xs4all.nl>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey Ype

 Apologies .....


 I would be more intrested in Boost/Weight factor in terms of  Query rather
then Fields.

 Please explain with example src.....

With regards
Karthik


-----Original Message-----
From: Ype Kingma [mailto:ykingma@xs4all.nl]
Sent: Wednesday, July 07, 2004 12:08 PM
To: lucene-user@jakarta.apache.org
Subject: Re: Search & Hit Score


On Wednesday 07 July 2004 08:25, Ype Kingma wrote:
>
> For a single term query, one can iterate through
> IndexReader.termDocs(Term) and store the document numbers by
> TermDocs.docFreq().

That should be TermDocs.freq()

Oops,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9116-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 17:01:33 2004
Return-Path: <lucene-user-return-9116-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30774 invoked from network); 7 Jul 2004 17:01:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 17:01:32 -0000
Received: (qmail 84420 invoked by uid 500); 7 Jul 2004 16:54:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84233 invoked by uid 500); 7 Jul 2004 16:54:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84080 invoked by uid 99); 7 Jul 2004 16:54:48 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 07 Jul 2004 09:54:47 -0700
Received: (qmail 61215 invoked by uid 89); 7 Jul 2004 16:54:38 -0000
Received: from unknown (HELO ?192.168.168.81?) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 7 Jul 2004 16:54:38 -0000
Message-ID: <40EC2AC5.1010504@apache.org>
Date: Wed, 07 Jul 2004 09:54:29 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040619
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Most efficient way to index 14M documents (out of memory/file
 handles)
References: <40EB8DC8.9040007@newsmonster.org>
In-Reply-To: <40EB8DC8.9040007@newsmonster.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

A mergeFactor of 5000 is a bad idea.  If you want to index faster, try 
increasing minMergeDocs instead.  If you have lots of memory this can 
probably be 5000 or higher.

Also, why do you optimize before you're done?  That only slows things. 
Perhaps you have to do it because you've set mergeFactor to such an 
extreme value?  I do not recommend a merge factor higher than 100.

Doug


Kevin A. Burton wrote:
> I'm trying to burn an index of 14M documents.
> 
> I have two problems.
> 
> 1.  I have to run optimize() every 50k documents or I run out of file 
> handles.  this takes TIME and of course is linear to the size of the 
> index so it just gets slower by the time I complete.  It starts to crawl 
> at about 3M documents.
> 
> 2.  I eventually will run out of memory in this configuration.
> 
> I KNOW this has been covered before but for the life of me I can't find 
> it in the archives, the FAQ or the wiki.
> I'm using an IndexWriter with a mergeFactor of 5k and then optimizing 
> every 50k documents.
> 
> Does it make sense to just create a new IndexWriter for every 50k docs 
> and then do one big optimize() at the end?
> 
> Kevin
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9117-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 17:04:17 2004
Return-Path: <lucene-user-return-9117-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36643 invoked from network); 7 Jul 2004 17:04:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 17:04:17 -0000
Received: (qmail 19722 invoked by uid 500); 7 Jul 2004 17:01:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19626 invoked by uid 500); 7 Jul 2004 17:01:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19498 invoked by uid 99); 7 Jul 2004 17:01:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [213.56.31.17] (HELO smtp1.clb.oleane.net) (213.56.31.17)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 07 Jul 2004 10:01:53 -0700
Received: from teck ([217.167.130.37]) (authenticated)
	by smtp1.clb.oleane.net with ESMTP id i67H1gPs012050
	for <lucene-user@jakarta.apache.org>; Wed, 7 Jul 2004 19:01:42 +0200
Message-ID: <004b01c46444$6168d330$6a0010ac@teck>
From: "Julien Nioche" <Julien.Nioche@lingway.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <40EB8DC8.9040007@newsmonster.org>
Subject: Re: Most efficient way to index 14M documents (out of memory/file handles)
Date: Wed, 7 Jul 2004 19:03:49 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

It is not surprising that you run out of file handles with such a large
mergeFactor.

Before trying more complex strategies involving RAMDirectories and/or
splitting your indexation on several machines, I reckon you should try
simple things like using a low mergeFactor (eg: 10) combined with a higher
minMergeDocs (ex: 1000) and optimize only at the end of the process.

By setting a higher value to minMergeDocs, you'll index and merge with a
RAMDirectory. When the limit is reached (ex 1000) a segment is written in
the FS. MergeFactor controls the number of segments to be merged, so when
you have 10 segments on the FS (which is already 10x1000 docs), the
IndexWriter will merge them all into a single segment. This is equivalent to
an optimize I think. The process continues like that until it's finished.

Combining theses parameters should be enough to achieve good performance.
The good point of using minMergeDocs is that you make a heavy use of the
RAMDirectory used by your IndexWriter (== fast) without having to be too
careful with the RAM (which would be the case with RamDirectory). At the
same time keeping your mergeFactor low limits the risks of too many handles
problem.


----- Original Message ----- 
From: "Kevin A. Burton" <burton@newsmonster.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, July 07, 2004 7:44 AM
Subject: Most efficient way to index 14M documents (out of memory/file
handles)


> I'm trying to burn an index of 14M documents.
>
> I have two problems.
>
> 1.  I have to run optimize() every 50k documents or I run out of file
> handles.  this takes TIME and of course is linear to the size of the
> index so it just gets slower by the time I complete.  It starts to crawl
> at about 3M documents.
>
> 2.  I eventually will run out of memory in this configuration.
>
> I KNOW this has been covered before but for the life of me I can't find
> it in the archives, the FAQ or the wiki.
>
> I'm using an IndexWriter with a mergeFactor of 5k and then optimizing
> every 50k documents.
>
> Does it make sense to just create a new IndexWriter for every 50k docs
> and then do one big optimize() at the end?
>
> Kevin
>
> -- 
>
> Please reply using PGP.
>
>     http://peerfear.org/pubkey.asc
>
>     NewsMonster - http://www.newsmonster.org/
>
> Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
>        AIM/YIM - sfburtonator,  Web - http://peerfear.org/
> GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
>   IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9118-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 17:11:05 2004
Return-Path: <lucene-user-return-9118-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40651 invoked from network); 7 Jul 2004 17:11:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 17:11:05 -0000
Received: (qmail 56255 invoked by uid 500); 7 Jul 2004 17:11:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56211 invoked by uid 500); 7 Jul 2004 17:10:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56158 invoked by uid 99); 7 Jul 2004 17:10:59 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [209.10.150.71] (HELO web01-nyc.clicvu.com) (209.10.150.71)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 07 Jul 2004 10:10:56 -0700
Received: from [192.168.0.71] by web01-nyc.clicvu.com
          (Post.Office MTA v3.5.3 release 223 ID# 0-64039U1000L100S0V35)
          with SMTP id com for <lucene-user@jakarta.apache.org>;
          Wed, 7 Jul 2004 13:08:53 -0400
Received: from giant-pandas.net (localhost [127.0.0.1])
	by host21.the-web-host.com (8.12.10/8.12.9) with ESMTP id i67HAc8n028554
	for <*Email Address Suppressed*>; Wed, 7 Jul 2004 13:10:38 -0400
From: roy-lucene-user@xemaps.com
To: lucene-user@jakarta.apache.org                                                                                                                                                                                                                                 
Subject: Re: addIndexes vs addDocument
Date: Wed, 7 Jul 2004 12:10:38 -0500
Message-Id: <20040707171038.M42150@giant-pandas.net>
In-Reply-To: <20040707024630.49936.qmail@web12708.mail.yahoo.com>
References: <20040706180933.M88824@giant-pandas.net> <20040707024630.49936.qmail@web12708.mail.yahoo.com>
X-Mailer: Open WebMail 1.81 20021127
X-OriginatingIP: 209.21.98.168 (roy)
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis,

Okay, got it... however we weren't creating new document objects... just
grabbing a document through an IndexReader and calling addDocument on another
index.  Would that still work with unstored fields(well, its working for us
since we don't have any unstored fields)?

Thanks a lot!

Roy.

On Tue, 6 Jul 2004 19:46:30 -0700 (PDT), Otis Gospodnetic wrote
> Quick example.
> Index A has fields 'title' and 'contents'.
> Field 'contents' is stored in A as Field.UnStored.
> This means that you cannot retrieve the original content of the
> 'contents' field, since that value was not stored verbatim in the
> index.
> Therefore, you cannot create a new Document instance, pull out String
> value of the 'contents' field from A, use it to create another field,
> add it to the new Document instance, and add that Document to a new
> index B using addDocument method.
> 
> addIndexes method does not need to pull out the original String field
> values from Documents, so it will work.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9119-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 17:13:59 2004
Return-Path: <lucene-user-return-9119-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41747 invoked from network); 7 Jul 2004 17:13:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 17:13:58 -0000
Received: (qmail 68218 invoked by uid 500); 7 Jul 2004 17:13:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68103 invoked by uid 500); 7 Jul 2004 17:13:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68001 invoked by uid 99); 7 Jul 2004 17:13:18 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [209.10.150.70] (HELO admin01-nyc.clicvu.com) (209.10.150.70)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 07 Jul 2004 10:13:17 -0700
Received: from smtp.clicvu.com ([192.168.0.71]) by admin01-nyc.clicvu.com
          (Post.Office MTA v3.5.3 release 223 ID# 0-64039U1000L100S0V35)
          with ESMTP id com for <lucene-user@jakarta.apache.org>;
          Wed, 7 Jul 2004 13:11:06 -0400
Content-type: text/plain
Date: Wed, 07 Jul 2004 13:11:03 -0400
From: roy-lucene-user@xemaps.com
Subject: addIndexes and optimize
To: lucene-user@jakarta.apache.org
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey y'all again,

Just wondering why the IndexWriter.addIndexes method calls optimize before and after it starts merging segments together.

We would like to create an addIndexes method that doesn't optimize and call optimize on the IndexWriter later.

Roy.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9120-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 17:15:56 2004
Return-Path: <lucene-user-return-9120-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42973 invoked from network); 7 Jul 2004 17:15:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 17:15:56 -0000
Received: (qmail 80050 invoked by uid 500); 7 Jul 2004 17:15:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79972 invoked by uid 500); 7 Jul 2004 17:15:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79954 invoked by uid 99); 7 Jul 2004 17:15:49 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 07 Jul 2004 10:15:48 -0700
Received: (qmail 87390 invoked by uid 89); 7 Jul 2004 17:15:40 -0000
Received: from unknown (HELO ?192.168.168.81?) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 7 Jul 2004 17:15:40 -0000
Message-ID: <40EC2FB3.2010308@apache.org>
Date: Wed, 07 Jul 2004 10:15:31 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040619
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Most efficient way to index 14M documents (out of memory/file
 handles)
References: <40EB8DC8.9040007@newsmonster.org> <004b01c46444$6168d330$6a0010ac@teck>
In-Reply-To: <004b01c46444$6168d330$6a0010ac@teck>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Julien,

Thanks for the excellent explanation.

I think this thread points to a documentation problem.  We should 
improve the javadoc for these parameters to make it easier for folks to

In particular, the javadoc for mergeFactor should mention that very 
large values (>100) are not recommended, since they can run into file 
handle limitations with FSDirectory.  The maximum number of open files 
while merging is around mergeFactor * (5 + number of indexed fields). 
Perhaps mergeFactor should be tagged an "Expert" parameter to discourage 
folks playing with it, as it is such a common source of problems.

The javadoc should instead encourage using minMergeDocs to increase 
indexing speed by using more memory.  This parameter is unfortunately 
poorly named.  It should really be called something like maxBufferedDocs.

Doug

Julien Nioche wrote:
> It is not surprising that you run out of file handles with such a large
> mergeFactor.
> 
> Before trying more complex strategies involving RAMDirectories and/or
> splitting your indexation on several machines, I reckon you should try
> simple things like using a low mergeFactor (eg: 10) combined with a higher
> minMergeDocs (ex: 1000) and optimize only at the end of the process.
> 
> By setting a higher value to minMergeDocs, you'll index and merge with a
> RAMDirectory. When the limit is reached (ex 1000) a segment is written in
> the FS. MergeFactor controls the number of segments to be merged, so when
> you have 10 segments on the FS (which is already 10x1000 docs), the
> IndexWriter will merge them all into a single segment. This is equivalent to
> an optimize I think. The process continues like that until it's finished.
> 
> Combining theses parameters should be enough to achieve good performance.
> The good point of using minMergeDocs is that you make a heavy use of the
> RAMDirectory used by your IndexWriter (== fast) without having to be too
> careful with the RAM (which would be the case with RamDirectory). At the
> same time keeping your mergeFactor low limits the risks of too many handles
> problem.
> 
> 
> ----- Original Message ----- 
> From: "Kevin A. Burton" <burton@newsmonster.org>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Wednesday, July 07, 2004 7:44 AM
> Subject: Most efficient way to index 14M documents (out of memory/file
> handles)
> 
> 
> 
>>I'm trying to burn an index of 14M documents.
>>
>>I have two problems.
>>
>>1.  I have to run optimize() every 50k documents or I run out of file
>>handles.  this takes TIME and of course is linear to the size of the
>>index so it just gets slower by the time I complete.  It starts to crawl
>>at about 3M documents.
>>
>>2.  I eventually will run out of memory in this configuration.
>>
>>I KNOW this has been covered before but for the life of me I can't find
>>it in the archives, the FAQ or the wiki.
>>
>>I'm using an IndexWriter with a mergeFactor of 5k and then optimizing
>>every 50k documents.
>>
>>Does it make sense to just create a new IndexWriter for every 50k docs
>>and then do one big optimize() at the end?
>>
>>Kevin
>>
>>-- 
>>
>>Please reply using PGP.
>>
>>    http://peerfear.org/pubkey.asc
>>
>>    NewsMonster - http://www.newsmonster.org/
>>
>>Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
>>       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
>>GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
>>  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9121-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 17:53:25 2004
Return-Path: <lucene-user-return-9121-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60227 invoked from network); 7 Jul 2004 17:53:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 17:53:25 -0000
Received: (qmail 18791 invoked by uid 500); 7 Jul 2004 17:53:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18703 invoked by uid 500); 7 Jul 2004 17:53:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18690 invoked by uid 99); 7 Jul 2004 17:53:21 -0000
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=DNS_FROM_RFC_ABUSE,NO_REAL_NAME,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received: from [194.106.33.237] (HELO outmail.freedom2surf.net) (194.106.33.237)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 07 Jul 2004 10:53:20 -0700
Received: from dell (i-194-106-34-5.freedom2surf.net [194.106.34.5])
	by outmail.freedom2surf.net (8.12.10/8.12.10) with SMTP id i67HrAU9031502
	for <lucene-user@jakarta.apache.org>; Wed, 7 Jul 2004 18:53:10 +0100
Date: Wed, 7 Jul 2004 18:53:10 +0100
Message-Id: <200407071753.i67HrAU9031502@outmail.freedom2surf.net>
From: markharw00d@yahoo.co.uk
To: lucene-user@jakarta.apache.org
Subject: Re: Most efficient way to index 14M documents (out of memory/file
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Would it make more sense to use a parameter defining RAM size for the cache rather than  minMergeDocs?
Tuning RAM usage is the real issue here and controlling this by guessing the number of docs you can
squeeze into RAM is not the most helpful approach. How about a "setMaxCacheSize(int megabytes)" method?
I've found monitoring RAM usage with the following doesn't incur too much overhead:

public int getRAMSize() throws IOException
{
  String []segs=bulkLoadRAMDir.list();
  int totalSize=0;
  for(int i=0;i<segs.length;i++)
  {
    totalSize+=bulkLoadRAMDir.fileLength(segs[i]);
  }
  return totalSize;
}


Cheers
Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9122-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 18:04:44 2004
Return-Path: <lucene-user-return-9122-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66227 invoked from network); 7 Jul 2004 18:04:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 18:04:44 -0000
Received: (qmail 59798 invoked by uid 500); 7 Jul 2004 18:04:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59690 invoked by uid 500); 7 Jul 2004 18:04:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59606 invoked by uid 99); 7 Jul 2004 18:04:38 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [12.43.53.196] (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 07 Jul 2004 11:04:34 -0700
Received: from [192.168.1.100] ([12.43.53.196])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id i67I49LQ002758
	for <lucene-user@jakarta.apache.org>; Wed, 7 Jul 2004 11:04:14 -0700
Message-ID: <40EC3B12.1010106@newsmonster.org>
Date: Wed, 07 Jul 2004 11:04:02 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Most efficient way to index 14M documents (out of memory/file
 handles)
References: <40EB8DC8.9040007@newsmonster.org> <004b01c46444$6168d330$6a0010ac@teck> <40EC2FB3.2010308@apache.org>
In-Reply-To: <40EC2FB3.2010308@apache.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:

> Julien,
>
> Thanks for the excellent explanation.
>
> I think this thread points to a documentation problem. We should 
> improve the javadoc for these parameters to make it easier for folks to
>
> In particular, the javadoc for mergeFactor should mention that very 
> large values (>100) are not recommended, since they can run into file 
> handle limitations with FSDirectory. The maximum number of open files 
> while merging is around mergeFactor * (5 + number of indexed fields). 
> Perhaps mergeFactor should be tagged an "Expert" parameter to 
> discourage folks playing with it, as it is such a common source of 
> problems.
>
> The javadoc should instead encourage using minMergeDocs to increase 
> indexing speed by using more memory. This parameter is unfortunately 
> poorly named. It should really be called something like maxBufferedDocs.

I'd like to see something like this done...

BTW.. I'm willing to add it to the wiki in the interim.

This conversation has happened a few times now...

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9123-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 18:27:36 2004
Return-Path: <lucene-user-return-9123-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76590 invoked from network); 7 Jul 2004 18:27:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 18:27:35 -0000
Received: (qmail 99992 invoked by uid 500); 7 Jul 2004 18:27:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99965 invoked by uid 500); 7 Jul 2004 18:27:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99952 invoked by uid 99); 7 Jul 2004 18:27:33 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=FROM_ENDS_IN_NUMS,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [216.148.212.184] (HELO w02.bloglines.com) (216.148.212.184)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 07 Jul 2004 11:27:32 -0700
Received: (qmail 7386 invoked by uid 99); 7 Jul 2004 18:27:14 -0000
Message-ID: <1089224834.4274189607.7382.sendItem@bloglines.com>
Date: 7 Jul 2004 18:27:14 -0000
From: yahootintin.1247688@bloglines.com
To: lucene-user@jakarta.apache.org
Subject: Searching for asterisk in a term
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I'm trying to search for a term that contains an asterisk.  

This
is the field that I indexed:
- new Field("testField", "Hello *foo bar", true,
true, true);

I'm trying to find this document by matching '*foo':
- new
TermQuery(new Term("testField", "*me"));

I've also tried to escape the
* like this:
- new TermQuery(new Term("testField", "\\*me"));

Neither
of these queries return this document.  Is this type of search possible with
Lucene?

Thanks.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9124-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 18:28:19 2004
Return-Path: <lucene-user-return-9124-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76768 invoked from network); 7 Jul 2004 18:28:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 18:28:19 -0000
Received: (qmail 1640 invoked by uid 500); 7 Jul 2004 18:28:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1465 invoked by uid 500); 7 Jul 2004 18:28:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1449 invoked by uid 99); 7 Jul 2004 18:28:17 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_BY_IP,SB_NEW_BULK,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [216.239.56.240] (HELO mproxy.gmail.com) (216.239.56.240)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 07 Jul 2004 11:28:17 -0700
Received: by mproxy.gmail.com with SMTP id w29so4419473cwb
        for <lucene-user@jakarta.apache.org>; Wed, 07 Jul 2004 11:28:03 -0700 (PDT)
Received: by 10.11.118.68 with SMTP id q68mr551573cwc;
        Wed, 07 Jul 2004 11:28:03 -0700 (PDT)
Message-ID: <8837fb7704070711283ad148b8@mail.gmail.com>
Date: Wed, 7 Jul 2004 11:28:03 -0700
From: John Wang <john.wang@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: indexing help
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi gurus:

     I am trying to be able to control the indexing process. 

     While lucene tokenizes the words in the document, it counts the
frequency and figures out the position, we are trying to bypass this
stage: For each document, I have a set of words with a know frequency,
e.g. java (5), lucene (6) etc. (I don't care about the position, so it
can always be 0.)

     What I can do now is to create a dummy document, e.g. "java java
java java java lucene lucene lucene lucene lucene" and pass it to
lucene.

     This seems hacky and cumbersome. Is there a better alternative? I
browsed around in the source code, but couldn't find anything.

      Too bad the Field class is final, otherwise I can derive from it
and do something on that line...


Thanks

-John

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9125-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 19:07:25 2004
Return-Path: <lucene-user-return-9125-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93952 invoked from network); 7 Jul 2004 19:07:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 19:07:25 -0000
Received: (qmail 85559 invoked by uid 500); 7 Jul 2004 19:07:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85537 invoked by uid 500); 7 Jul 2004 19:07:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85522 invoked by uid 99); 7 Jul 2004 19:07:22 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [216.136.173.238] (HELO web12701.mail.yahoo.com) (216.136.173.238)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 07 Jul 2004 12:07:20 -0700
Message-ID: <20040707190710.36594.qmail@web12701.mail.yahoo.com>
Received: from [211.95.204.99] by web12701.mail.yahoo.com via HTTP; Wed, 07 Jul 2004 12:07:10 PDT
Date: Wed, 7 Jul 2004 12:07:10 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Searching for asterisk in a term
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1089224834.4274189607.7382.sendItem@bloglines.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The first thing you'll want to check is that you are using an Analyzer
that does not discard that '*' before indexing.  StandardAnalyzer, for
instance, will discard it.  Check one of Erik Hatcher's articles that
includes a tool that helps you see what your Analyzer does with the any
given text input.  You can also use Luke to see what your index
contains.

Otis

--- yahootintin.1247688@bloglines.com wrote:
> Hi,
> 
> I'm trying to search for a term that contains an asterisk.  
> 
> This
> is the field that I indexed:
> - new Field("testField", "Hello *foo bar", true,
> true, true);
> 
> I'm trying to find this document by matching '*foo':
> - new
> TermQuery(new Term("testField", "*me"));
> 
> I've also tried to escape the
> * like this:
> - new TermQuery(new Term("testField", "\\*me"));
> 
> Neither
> of these queries return this document.  Is this type of search
> possible with
> Lucene?
> 
> Thanks.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9126-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 19:41:59 2004
Return-Path: <lucene-user-return-9126-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19712 invoked from network); 7 Jul 2004 19:41:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 19:41:59 -0000
Received: (qmail 76548 invoked by uid 500); 7 Jul 2004 19:42:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76377 invoked by uid 500); 7 Jul 2004 19:41:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76363 invoked by uid 99); 7 Jul 2004 19:41:58 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=FROM_ENDS_IN_NUMS,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [216.148.212.184] (HELO w02.bloglines.com) (216.148.212.184)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 07 Jul 2004 12:41:57 -0700
Received: (qmail 4659 invoked by uid 99); 7 Jul 2004 19:41:46 -0000
Message-ID: <1089229306.2357745928.4658.sendItem@bloglines.com>
Date: 7 Jul 2004 19:41:46 -0000
From: yahootintin.1247688@bloglines.com
To: lucene-user@jakarta.apache.org
Subject: Re: Searching for asterisk in a term
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Can you recommend an analyzer that doesn't discard '*' or '/'?

--- Lucene
Users List" <lucene-user@jakarta.apache.org wrote:
The first thing you'll
want to check is that you are using an Analyzer
> that does not discard that
'*' before indexing.  StandardAnalyzer, for
> instance, will discard it.
 Check one of Erik Hatcher's articles that
> includes a tool that helps you
see what your Analyzer does with the any
> given text input.  You can also
use Luke to see what your index
> contains.
> 
> Otis
> 
> --- yahootintin.1247688@bloglines.com
wrote:
> > Hi,
> > 
> > I'm trying to search for a term that contains an
asterisk.  
> > 
> > This
> > is the field that I indexed:
> > - new Field("testField",
"Hello *foo bar", true,
> > true, true);
> > 
> > I'm trying to find this
document by matching '*foo':
> > - new
> > TermQuery(new Term("testField",
"*me"));
> > 
> > I've also tried to escape the
> > * like this:
> > -
new TermQuery(new Term("testField", "\\*me"));
> > 
> > Neither
> > of
these queries return this document.  Is this type of search
> > possible
with
> > Lucene?
> > 
> > Thanks.
> > 
> > ---------------------------------------------------------------------

> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> 
> > 
> 
> 
> ---------------------------------------------------------------------

> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For
additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9127-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 19:50:35 2004
Return-Path: <lucene-user-return-9127-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23404 invoked from network); 7 Jul 2004 19:50:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 19:50:35 -0000
Received: (qmail 97330 invoked by uid 500); 7 Jul 2004 19:50:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97201 invoked by uid 500); 7 Jul 2004 19:50:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97185 invoked by uid 99); 7 Jul 2004 19:50:34 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.103.85] (HELO postfix.mail.ehatchersolutions.com) (128.143.103.85)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 07 Jul 2004 12:50:31 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 9AEB47D5E91
	for <lucene-user@jakarta.apache.org>; Wed,  7 Jul 2004 15:50:16 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <1089229306.2357745928.4658.sendItem@bloglines.com>
References: <1089229306.2357745928.4658.sendItem@bloglines.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <DD822B70-D04E-11D8-A8E7-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Searching for asterisk in a term
Date: Wed, 7 Jul 2004 15:50:14 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jul 7, 2004, at 3:41 PM, yahootintin.1247688@bloglines.com wrote:
> Can you recommend an analyzer that doesn't discard '*' or '/'?

WhitespaceAnalyzer :)

Check the wiki AnalysisParalysis page also.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9128-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 19:53:21 2004
Return-Path: <lucene-user-return-9128-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24714 invoked from network); 7 Jul 2004 19:53:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 19:53:21 -0000
Received: (qmail 4604 invoked by uid 500); 7 Jul 2004 19:53:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4538 invoked by uid 500); 7 Jul 2004 19:53:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4523 invoked by uid 99); 7 Jul 2004 19:53:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.103.85] (HELO postfix.mail.ehatchersolutions.com) (128.143.103.85)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 07 Jul 2004 12:53:16 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 9E5F77D5F35
	for <lucene-user@jakarta.apache.org>; Wed,  7 Jul 2004 15:53:03 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <1089229306.2357745928.4658.sendItem@bloglines.com>
References: <1089229306.2357745928.4658.sendItem@bloglines.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <DD822B70-D04E-11D8-A8E7-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Searching for asterisk in a term
Date: Wed, 7 Jul 2004 15:50:14 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jul 7, 2004, at 3:41 PM, yahootintin.1247688@bloglines.com wrote:
> Can you recommend an analyzer that doesn't discard '*' or '/'?

WhitespaceAnalyzer :)

Check the wiki AnalysisParalysis page also.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9129-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 20:16:47 2004
Return-Path: <lucene-user-return-9129-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34688 invoked from network); 7 Jul 2004 20:16:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 20:16:47 -0000
Received: (qmail 58113 invoked by uid 500); 7 Jul 2004 20:16:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58047 invoked by uid 500); 7 Jul 2004 20:16:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58030 invoked by uid 99); 7 Jul 2004 20:16:48 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_80_90,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [209.167.138.140] (HELO tango.casebank.com) (209.167.138.140)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 07 Jul 2004 13:16:46 -0700
Received: from plitvak ([172.17.200.95]) by tango.casebank.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 7 Jul 2004 16:16:30 -0400
From: "Polina Litvak" <plitvak@casebank.com>
To: <lucene-user@jakarta.apache.org>
Subject: Problem with match on a non tokenized field.
Date: Wed, 7 Jul 2004 16:19:40 -0400
Message-ID: <017b01c4645f$bb903f40$5fc811ac@plitvak>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_017C_01C4643E.347E9F40"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Importance: Normal
X-OriginalArrivalTime: 07 Jul 2004 20:16:30.0843 (UTC) FILETIME=[4A89C4B0:01C4645F]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_017C_01C4643E.347E9F40
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

I have a Lucene Document with a field named Code which is stored 
and indexed but not tokenized. The value of the field is ABC5-LB.
The only way I can match the field when searching is by entering 
Code:"ABC5-LB" because when I drop the quotes, every Analyzer I've tried
using breaks my
query into Code:ABC5 -Code:LB.
 
I need to be able to match this field by doing something like
Code:ABC5-L*, therefore always using quotes is not an option.
 
How would I go about writing my own analyzer that will not tokenize the
query ?
 
Thanks,
Polina
 

------=_NextPart_000_017C_01C4643E.347E9F40--


From lucene-user-return-9130-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 20:38:35 2004
Return-Path: <lucene-user-return-9130-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48495 invoked from network); 7 Jul 2004 20:38:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 20:38:35 -0000
Received: (qmail 1921 invoked by uid 500); 7 Jul 2004 20:38:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1890 invoked by uid 500); 7 Jul 2004 20:38:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1865 invoked by uid 99); 7 Jul 2004 20:38:36 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [63.100.163.104] (HELO mercury.corp.cyveillance.com) (63.100.163.104)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 07 Jul 2004 13:38:34 -0700
Received: by mercury.corp.cyveillance.com with Internet Mail Service (5.5.2655.55)
	id <3MWJQPX5>; Wed, 7 Jul 2004 16:37:50 -0400
Message-ID: <E65AE9703B683F4C81B5B39C692EB26D1B0279@mercury.corp.cyveillance.com>
From: wallen@Cyveillance.com
To: lucene-user@jakarta.apache.org
Subject: RE: Problem with match on a non tokenized field.
Date: Wed, 7 Jul 2004 16:37:49 -0400 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Use org.apache.lucene.analysis.PerFieldAnalyzerWrapper

Here is how I use it:

                PerFieldAnalyzerWrapper analyzer  = new
org.apache.lucene.analysis.PerFieldAnalyzerWrapper(new MyAnalyzer());
                analyzer.addAnalyzer("url", new NullAnalyzer());
                try 
                {
                        query = QueryParser.parse(searchQuery, "contents",
analyzer);

-----Original Message-----
From: Polina Litvak [mailto:plitvak@casebank.com]
Sent: Wednesday, July 07, 2004 4:20 PM
To: lucene-user@jakarta.apache.org
Subject: Problem with match on a non tokenized field.


I have a Lucene Document with a field named Code which is stored 
and indexed but not tokenized. The value of the field is ABC5-LB.
The only way I can match the field when searching is by entering 
Code:"ABC5-LB" because when I drop the quotes, every Analyzer I've tried
using breaks my
query into Code:ABC5 -Code:LB.
 
I need to be able to match this field by doing something like
Code:ABC5-L*, therefore always using quotes is not an option.
 
How would I go about writing my own analyzer that will not tokenize the
query ?
 
Thanks,
Polina
 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9131-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 21:20:40 2004
Return-Path: <lucene-user-return-9131-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71885 invoked from network); 7 Jul 2004 21:20:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 21:20:40 -0000
Received: (qmail 89695 invoked by uid 500); 7 Jul 2004 21:20:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89600 invoked by uid 500); 7 Jul 2004 21:20:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89586 invoked by uid 99); 7 Jul 2004 21:20:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 07 Jul 2004 14:20:41 -0700
Received: (qmail 25039 invoked by uid 89); 7 Jul 2004 21:20:25 -0000
Received: from unknown (HELO ?192.168.168.11?) (doug@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 7 Jul 2004 21:20:25 -0000
Message-ID: <40EC6918.5000303@apache.org>
Date: Wed, 07 Jul 2004 14:20:24 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: indexing help
References: <8837fb7704070711283ad148b8@mail.gmail.com>
In-Reply-To: <8837fb7704070711283ad148b8@mail.gmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

John Wang wrote:
>      While lucene tokenizes the words in the document, it counts the
> frequency and figures out the position, we are trying to bypass this
> stage: For each document, I have a set of words with a know frequency,
> e.g. java (5), lucene (6) etc. (I don't care about the position, so it
> can always be 0.)
> 
>      What I can do now is to create a dummy document, e.g. "java java
> java java java lucene lucene lucene lucene lucene" and pass it to
> lucene.
> 
>      This seems hacky and cumbersome. Is there a better alternative? I
> browsed around in the source code, but couldn't find anything.

Write an analyzer that returns terms with the appropriate distribution.

For example:

public class VectorTokenStream extends TokenStream {
   private int term;
   private int freq;
   public VectorTokenStream(String[] terms, int[] freqs) {
     this.terms = terms;
     this.freqs = freqs;
   }
   public Token next() {
     if (freq == 0) {
       term++;
       if (term >= terms.length)
         return null;
       freq = freqs[term];
     }
     freq--;
     return new Token(terms[term], 0, 0);
   }
}

Document doc = new Document();
doc.add(Field.Text("content", ""));
indexWriter.addDocument(doc, new Analyzer() {
   public TokenStream tokenStream(String field, Reader reader) {
     return new VectorTokenStream(new String[] {"java","lucene"},
                                  new int[] {5,6});
   }
});

>       Too bad the Field class is final, otherwise I can derive from it
> and do something on that line...

Extending Field would not help.  That's why it's final.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9132-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 22:25:17 2004
Return-Path: <lucene-user-return-9132-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95453 invoked from network); 7 Jul 2004 22:25:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 22:25:17 -0000
Received: (qmail 1013 invoked by uid 500); 7 Jul 2004 22:25:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 962 invoked by uid 500); 7 Jul 2004 22:25:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 943 invoked by uid 99); 7 Jul 2004 22:25:18 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=FROM_ENDS_IN_NUMS,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [216.148.212.184] (HELO w02.bloglines.com) (216.148.212.184)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 07 Jul 2004 15:25:15 -0700
Received: (qmail 1505 invoked by uid 99); 7 Jul 2004 22:24:57 -0000
Message-ID: <1089239097.2615636519.1504.sendItem@bloglines.com>
Date: 7 Jul 2004 22:24:57 -0000
From: yahootintin.1247688@bloglines.com
To: lucene-user@jakarta.apache.org
Subject: PhraseQuery with Wildcards?
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Is there any way to do a PhraseQuery with Wildcards?

I'd like to
search for:
  MyField:"foo bar*"

I thought I could cobble something together
using PhraseQuery and Wildcards but I couldn't get this functionality to work
due to my lack of experience with Lucene.

Is there a way to do this with
Lucene?

Thanks.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9133-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 07 23:37:29 2004
Return-Path: <lucene-user-return-9133-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19569 invoked from network); 7 Jul 2004 23:37:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jul 2004 23:37:29 -0000
Received: (qmail 1188 invoked by uid 500); 7 Jul 2004 23:37:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1059 invoked by uid 500); 7 Jul 2004 23:37:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1041 invoked by uid 99); 7 Jul 2004 23:37:32 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_BY_IP,SB_NEW_BULK,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [216.239.56.245] (HELO mproxy.gmail.com) (216.239.56.245)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 07 Jul 2004 16:37:30 -0700
Received: by mproxy.gmail.com with SMTP id w29so4922044cwb
        for <lucene-user@jakarta.apache.org>; Wed, 07 Jul 2004 16:37:09 -0700 (PDT)
Received: by 10.11.116.8 with SMTP id o8mr217559cwc;
        Wed, 07 Jul 2004 16:37:09 -0700 (PDT)
Message-ID: <8837fb770407071637412b0f5f@mail.gmail.com>
Date: Wed, 7 Jul 2004 16:37:09 -0700
From: John Wang <john.wang@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: indexing help
In-Reply-To: <40EC6918.5000303@apache.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <8837fb7704070711283ad148b8@mail.gmail.com> <40EC6918.5000303@apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Doug:
     Thanks for the response!

     The solution you proposed is still a derivative of creating a
dummy document stream. Taking the same example, java (5), lucene (6),
VectorTokenStream would create a total of 11 Tokens whereas only 2 is
neccessary.

    Given many documents with many terms and frequencies, it would
create many extra Token instances.

   The reason I was looking to derving the Field class is because I
can directly manipulate the FieldInfo by setting the frequency. But
the class is final...

   Any other suggestions?

Thanks

-John

On Wed, 07 Jul 2004 14:20:24 -0700, Doug Cutting <cutting@apache.org> wrote:
> John Wang wrote:
> >      While lucene tokenizes the words in the document, it counts the
> > frequency and figures out the position, we are trying to bypass this
> > stage: For each document, I have a set of words with a know frequency,
> > e.g. java (5), lucene (6) etc. (I don't care about the position, so it
> > can always be 0.)
> >
> >      What I can do now is to create a dummy document, e.g. "java java
> > java java java lucene lucene lucene lucene lucene" and pass it to
> > lucene.
> >
> >      This seems hacky and cumbersome. Is there a better alternative? I
> > browsed around in the source code, but couldn't find anything.
> 
> Write an analyzer that returns terms with the appropriate distribution.
> 
> For example:
> 
> public class VectorTokenStream extends TokenStream {
>   private int term;
>   private int freq;
>   public VectorTokenStream(String[] terms, int[] freqs) {
>     this.terms = terms;
>     this.freqs = freqs;
>   }
>   public Token next() {
>     if (freq == 0) {
>       term++;
>       if (term >= terms.length)
>         return null;
>       freq = freqs[term];
>     }
>     freq--;
>     return new Token(terms[term], 0, 0);
>   }
> }
> 
> Document doc = new Document();
> doc.add(Field.Text("content", ""));
> indexWriter.addDocument(doc, new Analyzer() {
>   public TokenStream tokenStream(String field, Reader reader) {
>     return new VectorTokenStream(new String[] {"java","lucene"},
>                                  new int[] {5,6});
>   }
> });
> 
> >       Too bad the Field class is final, otherwise I can derive from it
> > and do something on that line...
> 
> Extending Field would not help.  That's why it's final.
> 
> Doug
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9134-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 01:29:31 2004
Return-Path: <lucene-user-return-9134-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70320 invoked from network); 8 Jul 2004 01:29:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 01:29:31 -0000
Received: (qmail 36565 invoked by uid 500); 8 Jul 2004 01:29:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36372 invoked by uid 500); 8 Jul 2004 01:29:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36187 invoked by uid 99); 8 Jul 2004 01:29:22 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [67.76.89.113] (HELO postfix.mail.ehatchersolutions.com) (67.76.89.113)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 07 Jul 2004 18:29:19 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 8ABBF7D64D5
	for <lucene-user@jakarta.apache.org>; Wed,  7 Jul 2004 21:29:00 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <1089239097.2615636519.1504.sendItem@bloglines.com>
References: <1089239097.2615636519.1504.sendItem@bloglines.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <2F235C88-D07E-11D8-903A-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: PhraseQuery with Wildcards?
Date: Wed, 7 Jul 2004 21:28:58 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jul 7, 2004, at 6:24 PM, yahootintin.1247688@bloglines.com wrote:
> Hi,
>
> Is there any way to do a PhraseQuery with Wildcards?

No.

This very question came up a few days ago.  Look at PhrasePrefixQuery - 
although this will be a bit of effort to expand the terms matching the 
wildcarded term.

>
> I'd like to
> search for:
>   MyField:"foo bar*"
>
> I thought I could cobble something together
> using PhraseQuery and Wildcards but I couldn't get this functionality 
> to work
> due to my lack of experience with Lucene.
>
> Is there a way to do this with
> Lucene?
>
> Thanks.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9135-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 01:47:03 2004
Return-Path: <lucene-user-return-9135-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75144 invoked from network); 8 Jul 2004 01:47:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 01:47:03 -0000
Received: (qmail 51462 invoked by uid 500); 8 Jul 2004 01:47:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51333 invoked by uid 500); 8 Jul 2004 01:47:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51319 invoked by uid 99); 8 Jul 2004 01:47:07 -0000
X-ASF-Spam-Status: No, hits=3.0 required=10.0
	tests=RCVD_IN_NJABL_PROXY,RCVD_IN_SORBS_HTTP,RCVD_IN_SORBS_MISC
X-Spam-Check-By: apache.org
Received: from [151.164.30.28] (HELO mta4.rcsntx.swbell.net) (151.164.30.28)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 07 Jul 2004 18:47:06 -0700
Received: from [192.168.1.10] (adsl-66-141-53-102.dsl.austtx.swbell.net [66.141.53.102])
	by mta4.rcsntx.swbell.net (8.12.10/8.12.10) with ESMTP id i681kkaN005306
	for <lucene-user@jakarta.apache.org>; Wed, 7 Jul 2004 20:46:46 -0500 (CDT)
Mime-Version: 1.0 (Apple Message framework v618)
Content-Transfer-Encoding: 7bit
Message-Id: <AAA3272E-D080-11D8-9DD9-003065AB24D4@otherwise.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: Lucene Users List <lucene-user@jakarta.apache.org>
From: Bill Tschumy <bill@otherwise.com>
Subject: Deleting a Doc found via a Query
Date: Wed, 7 Jul 2004 20:46:44 -0500
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I must be missing something here, but I can't see an easy way to delete 
a Document that has been found via searching.  The delete() method of 
IndexReader takes a docNum.  How do I get the docNum corresponding to 
the Document in the Hits?

I tried scanning through all the Documents using IndexReader's 
document(i) method, testing for equality (==) with my queried Document, 
but it wasn't found.  I assume this is because the Documents returned 
in Hits are copies of the Documents the document() method returns.
-- 
Bill Tschumy
Otherwise -- Austin, TX
http://www.otherwise.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9136-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 01:50:17 2004
Return-Path: <lucene-user-return-9136-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75976 invoked from network); 8 Jul 2004 01:50:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 01:50:16 -0000
Received: (qmail 57721 invoked by uid 500); 8 Jul 2004 01:50:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57669 invoked by uid 500); 8 Jul 2004 01:50:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57639 invoked by uid 99); 8 Jul 2004 01:50:21 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [216.193.202.192] (HELO nasa.lunarpages.com) (216.193.202.192)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 07 Jul 2004 18:50:19 -0700
Received: from pcp09870746pcs.ewndsr01.nj.comcast.net ([68.36.204.99] helo=pmc)
	by nasa.lunarpages.com with asmtp (Exim 4.34)
	id 1BiO4y-0000Ql-V6
	for lucene-user@jakarta.apache.org; Wed, 07 Jul 2004 18:52:05 -0700
Message-ID: <004101c4648d$e0f845b0$6400a8c0@CORP.AD.FACTIVA.NET>
From: "Peter M Cipollone" <lu1@bihvhar.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <AAA3272E-D080-11D8-9DD9-003065AB24D4@otherwise.com>
Subject: Re: Deleting a Doc found via a Query
Date: Wed, 7 Jul 2004 21:49:56 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - nasa.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - bihvhar.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Bill,

Check
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/Hits.html#id(int)

Pete

----- Original Message ----- 
From: "Bill Tschumy" <bill@otherwise.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, July 07, 2004 9:46 PM
Subject: Deleting a Doc found via a Query


> I must be missing something here, but I can't see an easy way to delete
> a Document that has been found via searching.  The delete() method of
> IndexReader takes a docNum.  How do I get the docNum corresponding to
> the Document in the Hits?
>
> I tried scanning through all the Documents using IndexReader's
> document(i) method, testing for equality (==) with my queried Document,
> but it wasn't found.  I assume this is because the Documents returned
> in Hits are copies of the Documents the document() method returns.
> -- 
> Bill Tschumy
> Otherwise -- Austin, TX
> http://www.otherwise.com
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9137-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 02:53:05 2004
Return-Path: <lucene-user-return-9137-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96835 invoked from network); 8 Jul 2004 02:53:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 02:53:05 -0000
Received: (qmail 38131 invoked by uid 500); 8 Jul 2004 02:52:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38085 invoked by uid 500); 8 Jul 2004 02:52:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38050 invoked by uid 99); 8 Jul 2004 02:52:47 -0000
X-ASF-Spam-Status: No, hits=3.0 required=10.0
	tests=RCVD_IN_NJABL_PROXY,RCVD_IN_SORBS_HTTP,RCVD_IN_SORBS_MISC
X-Spam-Check-By: apache.org
Received: from [151.164.30.28] (HELO mta4.rcsntx.swbell.net) (151.164.30.28)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 07 Jul 2004 19:52:47 -0700
Received: from [192.168.1.10] (adsl-66-141-53-102.dsl.austtx.swbell.net [66.141.53.102])
	by mta4.rcsntx.swbell.net (8.12.10/8.12.10) with ESMTP id i682N5aN024354
	for <lucene-user@jakarta.apache.org>; Wed, 7 Jul 2004 21:23:05 -0500 (CDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <004101c4648d$e0f845b0$6400a8c0@CORP.AD.FACTIVA.NET>
References: <AAA3272E-D080-11D8-9DD9-003065AB24D4@otherwise.com> <004101c4648d$e0f845b0$6400a8c0@CORP.AD.FACTIVA.NET>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <BE02158A-D085-11D8-9DD9-003065AB24D4@otherwise.com>
Content-Transfer-Encoding: 7bit
From: Bill Tschumy <bill@otherwise.com>
Subject: Re: Deleting a Doc found via a Query
Date: Wed, 7 Jul 2004 21:23:04 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks.  This works fine.  I guess I was missing something <g>.  I  
would have expected this to be a property of Document.


On Jul 7, 2004, at 8:49 PM, Peter M Cipollone wrote:

> Bill,
>
> Check
> http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/ 
> Hits.html#id(int)
>
> Pete
>
> ----- Original Message -----
> From: "Bill Tschumy" <bill@otherwise.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Wednesday, July 07, 2004 9:46 PM
> Subject: Deleting a Doc found via a Query
>
>
>> I must be missing something here, but I can't see an easy way to  
>> delete
>> a Document that has been found via searching.  The delete() method of
>> IndexReader takes a docNum.  How do I get the docNum corresponding to
>> the Document in the Hits?
>>
>> I tried scanning through all the Documents using IndexReader's
>> document(i) method, testing for equality (==) with my queried  
>> Document,
>> but it wasn't found.  I assume this is because the Documents returned
>> in Hits are copies of the Documents the document() method returns.
>> -- 
>> Bill Tschumy
>> Otherwise -- Austin, TX
>> http://www.otherwise.com
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
-- 
Bill Tschumy
Otherwise -- Austin, TX
http://www.otherwise.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9138-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 03:26:56 2004
Return-Path: <lucene-user-return-9138-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11305 invoked from network); 8 Jul 2004 03:26:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 03:26:56 -0000
Received: (qmail 72168 invoked by uid 500); 8 Jul 2004 03:26:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72142 invoked by uid 500); 8 Jul 2004 03:26:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72122 invoked by uid 99); 8 Jul 2004 03:26:40 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.120.211.130] (HELO bigonthenet.com) (203.120.211.130)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 07 Jul 2004 20:26:38 -0700
Received: from smile ([192.168.4.100])
	by bigonthenet.com (8.9.3/8.9.3) with SMTP id KAA09581
	for <lucene-user@jakarta.apache.org>; Thu, 8 Jul 2004 10:26:37 +0800
Message-ID: <002b01c46492$9c128a00$0f02a8c0@smile>
From: "Alex Aw Seat Kiong" <alex.aw@bigonthenet.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20040707024630.49936.qmail@web12708.mail.yahoo.com> <001901c463d9$c694a560$0f02a8c0@smile> <40EC0992.9040007@zilverline.org>
Subject: Re: upgrade from Lucene 1.3 final to 1.4rc3 problem
Date: Thu, 8 Jul 2004 10:23:21 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi!

Thanks, the problem was sovled by using lucene1.4 final.

Regards,
AlexAw


----- Original Message ----- 
From: "Zilverline info" <info@zilverline.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, July 07, 2004 10:32 PM
Subject: Re: upgrade from Lucene 1.3 final to 1.4rc3 problem


> This is a bug (see posting 'Lockfile Problem Solved'), upgrade to
> 1.4-final, and you'll be fine
>
> Alex Aw Seat Kiong wrote:
>
> >Hi!
> >
> >I'm using Lucene 1.3 final currently, all things were working fine.
> >But, after i'm upgraded from Lucene 1.3 final to 1.4rc3 (simply overwrite
the lucene-1.4-final.jar to lucene-1.4-rc3.jar and re-compile it)
> >We can re-compile it successfuly. but when will try to index the
document. It give the error as below:
> >java.lang.NullPointerException
> >        at
org.apache.lucene.store.FSDirectory.create(FSDirectory.java:146)
> >        at
org.apache.lucene.store.FSDirectory.<init>(FSDirectory.java:126)
> >        at
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:102)
> >        at
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:83)
> >        at
org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:173)
> >Which wrong? Pls help.
> >
> >Thanks.
> >
> >Regards,
> >Alex
> >
> >
> >
> >
> >
> >
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9139-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 04:34:49 2004
Return-Path: <lucene-user-return-9139-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48390 invoked from network); 8 Jul 2004 04:34:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 04:34:49 -0000
Received: (qmail 45100 invoked by uid 500); 8 Jul 2004 04:34:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45059 invoked by uid 500); 8 Jul 2004 04:34:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45046 invoked by uid 99); 8 Jul 2004 04:34:32 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [12.43.53.196] (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 07 Jul 2004 21:34:30 -0700
Received: from [192.168.1.100] (dsl093-132-107.sfo4.dsl.speakeasy.net [66.93.132.107])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id i684YM8P011067
	for <lucene-user@jakarta.apache.org>; Wed, 7 Jul 2004 21:34:27 -0700
Message-ID: <40ECCED1.3020107@newsmonster.org>
Date: Wed, 07 Jul 2004 21:34:25 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Lucene shouldn't use java.io.tmpdir
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

As per 1.3 (or was it 1.4) Lucene migrated to using java.iot.tmpdir to 
store the locks for the index.

While under most situations this is save a lot of application servers 
change java.io.tmpdir at runtime.

Tomcat is a good example.  Within Tomcat this property is set to 
TOMCAT_HOME/temp..

Under this situation if I were to create two IndexWriters within two VMs 
and try to write to the same index  the index would get corrupted if one 
Lucene instance was within Tomcat and the other was within a standard VM.

I think we should consider either:

1. Using out own tmpdir property based on the given OS.
2. Go back to the old mechanism of storing the locks within the index 
basedir (if it's not readonly).

Thoughts?

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9140-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 05:02:07 2004
Return-Path: <lucene-user-return-9140-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59763 invoked from network); 8 Jul 2004 05:02:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 05:02:07 -0000
Received: (qmail 73174 invoked by uid 500); 8 Jul 2004 05:01:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73051 invoked by uid 500); 8 Jul 2004 05:01:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73036 invoked by uid 99); 8 Jul 2004 05:01:39 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [216.136.173.241] (HELO web12704.mail.yahoo.com) (216.136.173.241)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 07 Jul 2004 22:01:37 -0700
Message-ID: <20040708050135.74044.qmail@web12704.mail.yahoo.com>
Received: from [211.95.204.100] by web12704.mail.yahoo.com via HTTP; Wed, 07 Jul 2004 22:01:35 PDT
Date: Wed, 7 Jul 2004 22:01:35 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene shouldn't use java.io.tmpdir
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <40ECCED1.3020107@newsmonster.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey Kevin,

Not sure if you're aware of it, but you can specify the lock dir, so in
your example, both JVMs could use the exact same lock dir, as long as
you invoke the VMs with the same params.  You shouldn't be writing the
same index with more than 1 IndexWriter though (not sure if this was
just a bad example or a real scenario).

Otis


--- "Kevin A. Burton" <burton@newsmonster.org> wrote:
> As per 1.3 (or was it 1.4) Lucene migrated to using java.iot.tmpdir
> to 
> store the locks for the index.
> 
> While under most situations this is save a lot of application servers
> 
> change java.io.tmpdir at runtime.
> 
> Tomcat is a good example.  Within Tomcat this property is set to 
> TOMCAT_HOME/temp..
> 
> Under this situation if I were to create two IndexWriters within two
> VMs 
> and try to write to the same index  the index would get corrupted if
> one 
> Lucene instance was within Tomcat and the other was within a standard
> VM.
> 
> I think we should consider either:
> 
> 1. Using out own tmpdir property based on the given OS.
> 2. Go back to the old mechanism of storing the locks within the index
> 
> basedir (if it's not readonly).
> 
> Thoughts?
> 
> -- 
> 
> Please reply using PGP.
> 
>     http://peerfear.org/pubkey.asc    
>     
>     NewsMonster - http://www.newsmonster.org/
>     
> Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
>        AIM/YIM - sfburtonator,  Web - http://peerfear.org/
> GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
>   IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9141-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 05:05:38 2004
Return-Path: <lucene-user-return-9141-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61305 invoked from network); 8 Jul 2004 05:05:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 05:05:37 -0000
Received: (qmail 79212 invoked by uid 500); 8 Jul 2004 05:05:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78888 invoked by uid 500); 8 Jul 2004 05:05:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78868 invoked by uid 99); 8 Jul 2004 05:05:22 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [216.136.173.244] (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 07 Jul 2004 22:05:21 -0700
Message-ID: <20040708050519.19002.qmail@web12707.mail.yahoo.com>
Received: from [211.95.204.100] by web12707.mail.yahoo.com via HTTP; Wed, 07 Jul 2004 22:05:19 PDT
Date: Wed, 7 Jul 2004 22:05:19 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: unicode-compatible
To: lucene-user@jakarta.apache.org
Cc: shafipour elnaz <elnaz_sh_y@yahoo.com>
In-Reply-To: <20040708042840.81683.qmail@web54008.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Moving to lucene-user list.

Persian = Farsi?  What you would need is a Farsi Analyzer, and Lucene
does not come with one, unfortunately.  You'll likely have to write it
yourself, or find an existing one.

Otis

--- shafipour elnaz <elnaz_sh_y@yahoo.com> wrote:
> I want to make it to be compatible with persian unicode but I don't
> know where should I do these changes.
> 
> Erik Hatcher <erik@ehatchersolutions.com> wrote:On Jul 7, 2004, at
> 8:53 AM, shafipour elnaz wrote:
> > Could any one tell me how can I make lucene unicode-compatible?
> 
> It already is.
> 
> Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9142-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 05:10:24 2004
Return-Path: <lucene-user-return-9142-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63435 invoked from network); 8 Jul 2004 05:10:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 05:10:24 -0000
Received: (qmail 86016 invoked by uid 500); 8 Jul 2004 05:10:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85977 invoked by uid 500); 8 Jul 2004 05:10:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85964 invoked by uid 99); 8 Jul 2004 05:10:08 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.199.26.74] (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 07 Jul 2004 22:10:08 -0700
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I0IOTC00.K86 for <lucene-user@jakarta.apache.org>; Thu,
          8 Jul 2004 10:35:36 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Search & Hit Score
Date: Thu, 8 Jul 2004 10:32:49 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKICEAECBAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <LOEGLEEGOAKBOLAJCCKIKEPLCAAA.karthik@controlnet.co.in>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hey

 Dev Guys

 Apologies........



  Can some body  Explain me How to Retrieve  All hits  avaliable per indexed
document.

   To explain in Detail


   A Physical Search on Single document would list 3 places  for a certain
word occurance,

   So if  i am suppose to retrieve all the 3 Occurances from the same Field
using Lucene ...

   How to handle the query .. ... Explain with a simple SRC Example


 with regards
  Karthik





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9143-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 05:16:21 2004
Return-Path: <lucene-user-return-9143-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65963 invoked from network); 8 Jul 2004 05:16:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 05:16:21 -0000
Received: (qmail 94852 invoked by uid 500); 8 Jul 2004 05:16:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94832 invoked by uid 500); 8 Jul 2004 05:16:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94819 invoked by uid 99); 8 Jul 2004 05:16:04 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_30_40,HTML_BADTAG_00_10,HTML_MESSAGE,HTML_NONELEMENT_10_20
X-Spam-Check-By: apache.org
Received: from [206.190.36.226] (HELO web54002.mail.yahoo.com) (206.190.36.226)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 07 Jul 2004 22:16:02 -0700
Message-ID: <20040708051600.66274.qmail@web54002.mail.yahoo.com>
Received: from [217.219.145.7] by web54002.mail.yahoo.com via HTTP; Wed, 07 Jul 2004 22:16:00 PDT
Date: Wed, 7 Jul 2004 22:16:00 -0700 (PDT)
From: shafipour elnaz <elnaz_sh_y@yahoo.com>
Subject: Re: unicode-compatible
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20040708050519.19002.qmail@web12707.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-356352100-1089263760=:64748"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-356352100-1089263760=:64748
Content-Type: text/plain; charset=us-ascii

I want to search farsi pages so I need a way to index farsi pages.One told me to chang tokenizer .I do this but it doesn't work. 
Ofcourse if there is one I prefere to use thet but i didn't find any yet.

Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
Moving to lucene-user list.

Persian = Farsi? What you would need is a Farsi Analyzer, and Lucene
does not come with one, unfortunately. You'll likely have to write it
yourself, or find an existing one.

Otis

--- shafipour elnaz wrote:
> I want to make it to be compatible with persian unicode but I don't
> know where should I do these changes.
> 
> Erik Hatcher wrote:On Jul 7, 2004, at
> 8:53 AM, shafipour elnaz wrote:
> > Could any one tell me how can I make lucene unicode-compatible?
> 
> It already is.
> 
> Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


		
---------------------------------
Do you Yahoo!?
Yahoo! Mail - 50x more storage than other providers!
--0-356352100-1089263760=:64748--

From lucene-user-return-9144-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 06:19:58 2004
Return-Path: <lucene-user-return-9144-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96639 invoked from network); 8 Jul 2004 06:19:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 06:19:58 -0000
Received: (qmail 59620 invoked by uid 500); 8 Jul 2004 06:19:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59601 invoked by uid 500); 8 Jul 2004 06:19:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59585 invoked by uid 99); 8 Jul 2004 06:19:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.199.26.74] (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 07 Jul 2004 23:19:40 -0700
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I0ISTD00.R7Z for <lucene-user@jakarta.apache.org>; Thu,
          8 Jul 2004 12:02:01 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Lucene 1.3 final to 1.4final  problem
Date: Thu, 8 Jul 2004 11:59:13 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIAEAFCBAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <001901c463d9$c694a560$0f02a8c0@smile>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey

Dev Guys

Apologies ....

I have a Quick Problem...

  The no of Hits on set of Documents  indexed using 1.3-final  is not same
on  1.4-final  version
  [ The only modification done to the src is , I have upgraded my
CustomAnalyzer  on basis of StopAnalyzer avaliable in 1.4 ]
  Does doing this effect the performance.


  Some body please explain.


with regards
Karthik




-----Original Message-----
From: Alex Aw Seat Kiong [mailto:alex.aw@bigonthenet.com]
Sent: Wednesday, July 07, 2004 9:50 AM
To: Lucene Users List
Subject: upgrade from Lucene 1.3 final to 1.4rc3 problem


Hi!

I'm using Lucene 1.3 final currently, all things were working fine.
But, after i'm upgraded from Lucene 1.3 final to 1.4rc3 (simply overwrite
the lucene-1.4-final.jar to lucene-1.4-rc3.jar and re-compile it)
We can re-compile it successfuly. but when will try to index the document.
It give the error as below:
java.lang.NullPointerException
        at org.apache.lucene.store.FSDirectory.create(FSDirectory.java:146)
        at org.apache.lucene.store.FSDirectory.<init>(FSDirectory.java:126)
        at
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:102)
        at
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:83)
        at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:173)
Which wrong? Pls help.

Thanks.

Regards,
Alex





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9145-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 06:49:31 2004
Return-Path: <lucene-user-return-9145-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11713 invoked from network); 8 Jul 2004 06:49:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 06:49:31 -0000
Received: (qmail 90952 invoked by uid 500); 8 Jul 2004 06:49:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90907 invoked by uid 500); 8 Jul 2004 06:49:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90890 invoked by uid 99); 8 Jul 2004 06:49:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.199.26.74] (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 07 Jul 2004 23:49:10 -0700
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I0IU6N00.B84 for <lucene-user@jakarta.apache.org>; Thu,
          8 Jul 2004 12:31:35 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Lucene 1.3 final to 1.4final  problem
Date: Thu, 8 Jul 2004 12:28:48 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIGEAFCBAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
In-Reply-To: <LOEGLEEGOAKBOLAJCCKIAEAFCBAA.karthik@controlnet.co.in>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hey

Dev Guys

Apologies....


 Can Some body Explain me

  Why  for an I/P word "TA1111" to  the StopAnalyzer.java  returns  [ta]
instead of [ta1111]

  "TA1111"  ==> [ta]   instead of  [ta1111]

  "$125.96  === [125.95] instead of [$125.95]

  Is it something wrong I have been missing.


 with regards
Karthik




-----Original Message-----
From: Karthik N S [mailto:karthik@controlnet.co.in]
Sent: Thursday, July 08, 2004 11:59 AM
To: Lucene Users List
Subject: Lucene 1.3 final to 1.4final problem


Hey

Dev Guys

Apologies ....

I have a Quick Problem...

  The no of Hits on set of Documents  indexed using 1.3-final  is not same
on  1.4-final  version
  [ The only modification done to the src is , I have upgraded my
CustomAnalyzer  on basis of StopAnalyzer avaliable in 1.4 ]
  Does doing this effect the performance.


  Some body please explain.


with regards
Karthik




-----Original Message-----
From: Alex Aw Seat Kiong [mailto:alex.aw@bigonthenet.com]
Sent: Wednesday, July 07, 2004 9:50 AM
To: Lucene Users List
Subject: upgrade from Lucene 1.3 final to 1.4rc3 problem


Hi!

I'm using Lucene 1.3 final currently, all things were working fine.
But, after i'm upgraded from Lucene 1.3 final to 1.4rc3 (simply overwrite
the lucene-1.4-final.jar to lucene-1.4-rc3.jar and re-compile it)
We can re-compile it successfuly. but when will try to index the document.
It give the error as below:
java.lang.NullPointerException
        at org.apache.lucene.store.FSDirectory.create(FSDirectory.java:146)
        at org.apache.lucene.store.FSDirectory.<init>(FSDirectory.java:126)
        at
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:102)
        at
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:83)
        at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:173)
Which wrong? Pls help.

Thanks.

Regards,
Alex





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9146-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 08:56:45 2004
Return-Path: <lucene-user-return-9146-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2972 invoked from network); 8 Jul 2004 08:56:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 08:56:44 -0000
Received: (qmail 91295 invoked by uid 500); 8 Jul 2004 08:56:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91271 invoked by uid 500); 8 Jul 2004 08:56:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91258 invoked by uid 99); 8 Jul 2004 08:56:36 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_50_60,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [65.61.157.209] (HELO www.emacmillan.org) (65.61.157.209)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 01:56:34 -0700
Received: from mail.emacmillan.com ([203.200.41.230])
	by www.emacmillan.org (8.11.6/8.11.6) with ESMTP id i688uVY15006
	for <lucene-user@jakarta.apache.org>; Thu, 8 Jul 2004 03:56:32 -0500
Received: from NIRAJ [192.168.1.177] by emacmillan.com [192.168.1.7]
	with SMTP (MDaemon.v2.83.R)
	for <lucene-user@jakarta.apache.org>; Thu, 08 Jul 2004 14:27:28 +0530
Message-ID: <004201c464c8$ff832c80$b101a8c0@emacmillan.edu>
From: "Niraj Alok" <niraj@emacmillan.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <020401c46423$107e4480$b101a8c0@emacmillan.edu> <200407071726.33424.daniel.naber@intrafind.de>
Subject: Re: boolean operators and score
Date: Thu, 8 Jul 2004 14:23:11 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_003E_01C464F7.19239AC0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-MDaemon-Deliver-To: lucene-user@jakarta.apache.org
X-Return-Path: niraj@emacmillan.com
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_003E_01C464F7.19239AC0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

If i do it by sorting the input before sending it to lucene, it could become
unmanageable to handle and could also throw unexpected results for the user.

e.g . if i type: winston churchill and world war and germany

i could split the string by "and" and get the sorted string as (churchill
winston) and (germany) and (war world) .
this would obviously make the hits.score throw up unexpected results.

isnt there any other solution which comes from lucene itself ? i am using
1.4 final

Regards,
Niraj

------=_NextPart_000_003E_01C464F7.19239AC0--




From lucene-user-return-9147-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 09:55:17 2004
Return-Path: <lucene-user-return-9147-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35578 invoked from network); 8 Jul 2004 09:55:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 09:55:16 -0000
Received: (qmail 93528 invoked by uid 500); 8 Jul 2004 09:55:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90424 invoked by uid 500); 8 Jul 2004 09:54:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87709 invoked by uid 99); 8 Jul 2004 09:53:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received: from [62.23.206.102] (HELO smtp.kelkoo.net) (62.23.206.102)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 02:53:39 -0700
Received: from kelkoo.net (alix.kelkoo-gre.net [192.168.1.144])
	(authenticated bits=0)
	by smtp.kelkoo.net (Kelkoo.Secure-SMTP/X.Y.Z) with ESMTP id i689raZd027235
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Thu, 8 Jul 2004 11:53:37 +0200
Message-ID: <40ED1983.3070405@kelkoo.net>
Date: Thu, 08 Jul 2004 11:53:07 +0200
From: Brisbart Franck <Franck.Brisbart@kelkoo.net>
Reply-To: Lucene Users List <lucene-user@jakarta.apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031114
X-Accept-Language: fr, French/France, fr-FR, French, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: boolean operators and score
References: <020401c46423$107e4480$b101a8c0@emacmillan.edu>
In-Reply-To: <020401c46423$107e4480$b101a8c0@emacmillan.edu>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Security-Warning: SMTP AUTH used with SSL, from a friendly host. No further checking required.
X-Spam-Warning: Message skipped by SpamAssassin. [Relay 192.168.1.144 has authenticated securely.]
X-Scanned-By: MIMEDefang 2.42
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Niraj Alok wrote:
> Hi Guys,
> 
> Finally I have sorted the problem of hits score thanks to the great help of
> Franck.
> 
> I have hit another problem with the boolean operators now.
> When I search for "Winston and churchill" i get a set of perfectly
> acceptable results.
> But when I change the order, "churchill and winston" the results are the
> same but the order of the results changes.
> 
I don't it is interpreted as the same request. As you should know the 
terms of a boolean query have a 'required' flag.
As to me, your request 'winston and churchill' is interpreted as 
'winston (not required)' and 'churchill (required)'
But your request 'churchill and winston' is interpreted as 'churchill 
(not required)' and 'winston (required)'

I think you'd rather search for 'and winston and churchill' (which 
should be the same than 'and churchill and winston') to have the both 
terms required

Franck


> Is it possible to have the same order (hits.score) irrespective of which
> term is given before or after?
> 
> 
> Regards,
> Niraj
> 


-- 
Franck Brisbart
R&D
http://www.kelkoo.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9148-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 12:51:30 2004
Return-Path: <lucene-user-return-9148-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27159 invoked from network); 8 Jul 2004 12:51:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 12:51:30 -0000
Received: (qmail 17540 invoked by uid 500); 8 Jul 2004 12:51:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17457 invoked by uid 500); 8 Jul 2004 12:51:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17440 invoked by uid 99); 8 Jul 2004 12:51:22 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.230.248.25] (HELO gwia201.syr.edu) (128.230.248.25)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Thu, 08 Jul 2004 05:51:22 -0700
Received: from MTA2-MTA by gwia201.syr.edu
	with Novell_GroupWise; Thu, 08 Jul 2004 08:51:18 -0400
Message-Id: <s0ed0b06.020@gwia201.syr.edu>
X-Mailer: Novell GroupWise Internet Agent 6.0.4
Date: Thu, 08 Jul 2004 08:50:44 -0400
From: "Grant Ingersoll" <gsingers@syr.edu>
To: <lucene-user@jakarta.apache.org>
Subject: Re: indexing help
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi John,

The source code is available from CVS, make it non-final and do what you =
need to do.  Of course, you may have a hard time finding help later if you =
aren't using something everyone else is and your solution doesn't work...  =
:-)

If I understand correctly what you are trying to do, you already know all =
of the answers for indexing, you just want Lucene to do the retrieval side =
of the coin, correct?  I suppose a crazy idea might be to write a program =
that took your info and output it in the Lucene file format, but that =
seems a bit like overkill.

-Grant

>>> john.wang@gmail.com 07/07/04 07:37PM >>>
Hi Doug:
     Thanks for the response!

     The solution you proposed is still a derivative of creating a
dummy document stream. Taking the same example, java (5), lucene (6),
VectorTokenStream would create a total of 11 Tokens whereas only 2 is
neccessary.

    Given many documents with many terms and frequencies, it would
create many extra Token instances.

   The reason I was looking to derving the Field class is because I
can directly manipulate the FieldInfo by setting the frequency. But
the class is final...

   Any other suggestions?

Thanks

-John

On Wed, 07 Jul 2004 14:20:24 -0700, Doug Cutting <cutting@apache.org> =
wrote:
> John Wang wrote:
> >      While lucene tokenizes the words in the document, it counts the
> > frequency and figures out the position, we are trying to bypass this
> > stage: For each document, I have a set of words with a know frequency,
> > e.g. java (5), lucene (6) etc. (I don't care about the position, so it
> > can always be 0.)
> >
> >      What I can do now is to create a dummy document, e.g. "java java
> > java java java lucene lucene lucene lucene lucene" and pass it to
> > lucene.
> >
> >      This seems hacky and cumbersome. Is there a better alternative? I
> > browsed around in the source code, but couldn't find anything.
>=20
> Write an analyzer that returns terms with the appropriate distribution.
>=20
> For example:
>=20
> public class VectorTokenStream extends TokenStream {
>   private int term;
>   private int freq;
>   public VectorTokenStream(String[] terms, int[] freqs) {
>     this.terms =3D terms;
>     this.freqs =3D freqs;
>   }
>   public Token next() {
>     if (freq =3D=3D 0) {
>       term++;
>       if (term >=3D terms.length)
>         return null;
>       freq =3D freqs[term];
>     }
>     freq--;
>     return new Token(terms[term], 0, 0);
>   }
> }
>=20
> Document doc =3D new Document();
> doc.add(Field.Text("content", ""));
> indexWriter.addDocument(doc, new Analyzer() {
>   public TokenStream tokenStream(String field, Reader reader) {
>     return new VectorTokenStream(new String[] {"java","lucene"},
>                                  new int[] {5,6});
>   }
> });
>=20
> >       Too bad the Field class is final, otherwise I can derive from it
> > and do something on that line...
>=20
> Extending Field would not help.  That's why it's final.
>=20
> Doug
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org=20
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org=20
>=20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org=20
For additional commands, e-mail: lucene-user-help@jakarta.apache.org=20



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9149-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 13:44:28 2004
Return-Path: <lucene-user-return-9149-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70918 invoked from network); 8 Jul 2004 13:44:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 13:44:28 -0000
Received: (qmail 46359 invoked by uid 500); 8 Jul 2004 13:44:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46290 invoked by uid 500); 8 Jul 2004 13:44:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46276 invoked by uid 99); 8 Jul 2004 13:44:19 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=FORGED_RCVD_HELO,HTML_30_40,HTML_FONT_BIG,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [66.207.192.6] (HELO mta0.beanfield.net) (66.207.192.6)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 06:44:17 -0700
Received: from don.webimpact.com (66-207-218-34.beanfield.net [66.207.218.34] (may be forged))
	by mta0.beanfield.net (8.12.11/8.12.6) with ESMTP id i68Di3nT028946
	for <lucene-user@jakarta.apache.org>; Thu, 8 Jul 2004 09:44:04 -0400 (EDT)
	(envelope-from donv@webimpact.com)
Message-Id: <6.1.1.1.0.20040708094338.01bd4ec0@localhost>
X-Sender: donv@web-impact.com@localhost
X-Mailer: QUALCOMM Windows Eudora Version 6.1.1.1
Date: Thu, 08 Jul 2004 09:45:33 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Don Vaillancourt <donv@webimpact.com>
Subject: Re: boolean operators and score
In-Reply-To: <020401c46423$107e4480$b101a8c0@emacmillan.edu>
References: <020401c46423$107e4480$b101a8c0@emacmillan.edu>
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====================_53423734==.ALT"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=====================_53423734==.ALT
Content-Type: text/plain; charset="us-ascii"; format=flowed

What could actually be done is perhaps sort the search result by document 
id.  Of course your relevancy will be all shot, but at least you would have 
control over the sorting order.

At 09:05 AM 07/07/2004, you wrote:
>Hi Guys,
>
>Finally I have sorted the problem of hits score thanks to the great help of
>Franck.
>
>I have hit another problem with the boolean operators now.
>When I search for "Winston and churchill" i get a set of perfectly
>acceptable results.
>But when I change the order, "churchill and winston" the results are the
>same but the order of the results changes.
>
>Is it possible to have the same order (hits.score) irrespective of which
>term is given before or after?
>
>
>Regards,
>Niraj

Don Vaillancourt
Director of Software Development

WEB IMPACT INC.
416-815-2000 ext. 245
email: donv@web-impact.com
web: http://www.web-impact.com




This email message is intended only for the addressee(s)
and contains information that may be confidential and/or
copyright.  If you are not the intended recipient please
notify the sender by reply email and immediately delete
this email. Use, disclosure or reproduction of this email
by anyone other than the intended recipient(s) is strictly
prohibited. No representation is made that this email or
any attachments are free of viruses. Virus scanning is
recommended and is the responsibility of the recipient.












--=====================_53423734==.ALT--


From lucene-user-return-9150-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 14:15:54 2004
Return-Path: <lucene-user-return-9150-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94540 invoked from network); 8 Jul 2004 14:15:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 14:15:54 -0000
Received: (qmail 14974 invoked by uid 500); 8 Jul 2004 14:15:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14754 invoked by uid 500); 8 Jul 2004 14:15:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14739 invoked by uid 99); 8 Jul 2004 14:15:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.167.138.140] (HELO tango.casebank.com) (209.167.138.140)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 07:15:44 -0700
Received: from plitvak ([172.17.200.95]) by tango.casebank.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 8 Jul 2004 10:15:34 -0400
From: "Polina Litvak" <plitvak@casebank.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Problem with match on a non tokenized field.
Date: Thu, 8 Jul 2004 10:18:49 -0400
Message-ID: <019f01c464f6$7d2ba040$5fc811ac@plitvak>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
In-Reply-To: <E65AE9703B683F4C81B5B39C692EB26D1B0279@mercury.corp.cyveillance.com>
Importance: Normal
X-OriginalArrivalTime: 08 Jul 2004 14:15:34.0437 (UTC) FILETIME=[08BA3550:01C464F6]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks a lot for your help.
I have one more question:

How would you handle a query consisting of two fields combined with a
Boolean operator, where one field is only indexed and stored (a Keyword)
and another is tokenized, indexed and store ?
Is it possible to have parts of the same query analyzed with different
analyzers ?


-----Original Message-----
From: wallen@Cyveillance.com [mailto:wallen@Cyveillance.com] 
Sent: July 7, 2004 4:38 PM
To: lucene-user@jakarta.apache.org
Subject: RE: Problem with match on a non tokenized field.

Use org.apache.lucene.analysis.PerFieldAnalyzerWrapper

Here is how I use it:

                PerFieldAnalyzerWrapper analyzer  = new
org.apache.lucene.analysis.PerFieldAnalyzerWrapper(new MyAnalyzer());
                analyzer.addAnalyzer("url", new NullAnalyzer());
                try 
                {
                        query = QueryParser.parse(searchQuery,
"contents",
analyzer);

-----Original Message-----
From: Polina Litvak [mailto:plitvak@casebank.com]
Sent: Wednesday, July 07, 2004 4:20 PM
To: lucene-user@jakarta.apache.org
Subject: Problem with match on a non tokenized field.


I have a Lucene Document with a field named Code which is stored 
and indexed but not tokenized. The value of the field is ABC5-LB.
The only way I can match the field when searching is by entering 
Code:"ABC5-LB" because when I drop the quotes, every Analyzer I've tried
using breaks my
query into Code:ABC5 -Code:LB.
 
I need to be able to match this field by doing something like
Code:ABC5-L*, therefore always using quotes is not an option.
 
How would I go about writing my own analyzer that will not tokenize the
query ?
 
Thanks,
Polina
 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9151-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 14:42:48 2004
Return-Path: <lucene-user-return-9151-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18098 invoked from network); 8 Jul 2004 14:42:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 14:42:48 -0000
Received: (qmail 75105 invoked by uid 500); 8 Jul 2004 14:42:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75072 invoked by uid 500); 8 Jul 2004 14:42:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75059 invoked by uid 99); 8 Jul 2004 14:42:42 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_BY_IP,SB_NEW_BULK,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [216.239.56.247] (HELO mproxy.gmail.com) (216.239.56.247)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Thu, 08 Jul 2004 07:42:41 -0700
Received: by mproxy.gmail.com with SMTP id q44so6861849cwc
        for <lucene-user@jakarta.apache.org>; Thu, 08 Jul 2004 07:42:40 -0700 (PDT)
Received: by 10.11.99.49 with SMTP id w49mr573340cwb;
        Thu, 08 Jul 2004 07:42:40 -0700 (PDT)
Message-ID: <8837fb77040708074254dfeed7@mail.gmail.com>
Date: Thu, 8 Jul 2004 07:42:40 -0700
From: John Wang <john.wang@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: indexing help
In-Reply-To: <s0ed0b06.020@gwia201.syr.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <s0ed0b06.020@gwia201.syr.edu>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Grant:
     Thanks for the options. How likely will the lucene file formats change?

     Are there really no more optiosn? :(...

Thanks

-John

On Thu, 08 Jul 2004 08:50:44 -0400, Grant Ingersoll <gsingers@syr.edu> wrote:
> Hi John,
> 
> The source code is available from CVS, make it non-final and do what you need to do.  Of course, you may have a hard time finding help later if you aren't using something everyone else is and your solution doesn't work...  :-)
> 
> If I understand correctly what you are trying to do, you already know all of the answers for indexing, you just want Lucene to do the retrieval side of the coin, correct?  I suppose a crazy idea might be to write a program that took your info and output it in the Lucene file format, but that seems a bit like overkill.
> 
> -Grant
> 
> >>> john.wang@gmail.com 07/07/04 07:37PM >>>
> 
> 
> Hi Doug:
>     Thanks for the response!
> 
>     The solution you proposed is still a derivative of creating a
> dummy document stream. Taking the same example, java (5), lucene (6),
> VectorTokenStream would create a total of 11 Tokens whereas only 2 is
> neccessary.
> 
>    Given many documents with many terms and frequencies, it would
> create many extra Token instances.
> 
>   The reason I was looking to derving the Field class is because I
> can directly manipulate the FieldInfo by setting the frequency. But
> the class is final...
> 
>   Any other suggestions?
> 
> Thanks
> 
> -John
> 
> On Wed, 07 Jul 2004 14:20:24 -0700, Doug Cutting <cutting@apache.org> wrote:
> > John Wang wrote:
> > >      While lucene tokenizes the words in the document, it counts the
> > > frequency and figures out the position, we are trying to bypass this
> > > stage: For each document, I have a set of words with a know frequency,
> > > e.g. java (5), lucene (6) etc. (I don't care about the position, so it
> > > can always be 0.)
> > >
> > >      What I can do now is to create a dummy document, e.g. "java java
> > > java java java lucene lucene lucene lucene lucene" and pass it to
> > > lucene.
> > >
> > >      This seems hacky and cumbersome. Is there a better alternative? I
> > > browsed around in the source code, but couldn't find anything.
> >
> > Write an analyzer that returns terms with the appropriate distribution.
> >
> > For example:
> >
> > public class VectorTokenStream extends TokenStream {
> >   private int term;
> >   private int freq;
> >   public VectorTokenStream(String[] terms, int[] freqs) {
> >     this.terms = terms;
> >     this.freqs = freqs;
> >   }
> >   public Token next() {
> >     if (freq == 0) {
> >       term++;
> >       if (term >= terms.length)
> >         return null;
> >       freq = freqs[term];
> >     }
> >     freq--;
> >     return new Token(terms[term], 0, 0);
> >   }
> > }
> >
> > Document doc = new Document();
> > doc.add(Field.Text("content", ""));
> > indexWriter.addDocument(doc, new Analyzer() {
> >   public TokenStream tokenStream(String field, Reader reader) {
> >     return new VectorTokenStream(new String[] {"java","lucene"},
> >                                  new int[] {5,6});
> >   }
> > });
> >
> > >       Too bad the Field class is final, otherwise I can derive from it
> > > and do something on that line...
> >
> > Extending Field would not help.  That's why it's final.
> >
> > Doug
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9152-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 15:10:26 2004
Return-Path: <lucene-user-return-9152-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33703 invoked from network); 8 Jul 2004 15:10:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 15:10:26 -0000
Received: (qmail 46558 invoked by uid 500); 8 Jul 2004 15:10:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46394 invoked by uid 500); 8 Jul 2004 15:10:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46379 invoked by uid 99); 8 Jul 2004 15:10:18 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.230.248.25] (HELO gwia201.syr.edu) (128.230.248.25)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Thu, 08 Jul 2004 08:10:17 -0700
Received: from MTA2-MTA by gwia201.syr.edu
	with Novell_GroupWise; Thu, 08 Jul 2004 11:10:16 -0400
Message-Id: <s0ed2b98.049@gwia201.syr.edu>
X-Mailer: Novell GroupWise Internet Agent 6.0.4
Date: Thu, 08 Jul 2004 11:10:07 -0400
From: "Grant Ingersoll" <gsingers@syr.edu>
To: <lucene-user@jakarta.apache.org>
Subject: Re: indexing help
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey John,

Those are just options, didn't say they were good ones!  :-)

I guess the real question is, what is the background of what you are =
trying to do?  Presumably you have some other program that is generating =
frequencies for you, do you really need that in the current form?  Can't =
the Lucene indexing engine act as a stand-in for this process since your =
end result _should_ be the same?  The Lucene Analyzer process is quite =
flexible, I bet you could even find a way to hook in your existing tools =
into the Analyzer process.

-Grant

>>> john.wang@gmail.com 07/08/04 10:42AM >>>
Hi Grant:
     Thanks for the options. How likely will the lucene file formats =
change?

     Are there really no more optiosn? :(...

Thanks

-John

On Thu, 08 Jul 2004 08:50:44 -0400, Grant Ingersoll <gsingers@syr.edu> =
wrote:
> Hi John,
>=20
> The source code is available from CVS, make it non-final and do what you =
need to do.  Of course, you may have a hard time finding help later if you =
aren't using something everyone else is and your solution doesn't work...  =
:-)
>=20
> If I understand correctly what you are trying to do, you already know =
all of the answers for indexing, you just want Lucene to do the retrieval =
side of the coin, correct?  I suppose a crazy idea might be to write a =
program that took your info and output it in the Lucene file format, but =
that seems a bit like overkill.
>=20
> -Grant
>=20
> >>> john.wang@gmail.com 07/07/04 07:37PM >>>
>=20
>=20
> Hi Doug:
>     Thanks for the response!
>=20
>     The solution you proposed is still a derivative of creating a
> dummy document stream. Taking the same example, java (5), lucene (6),
> VectorTokenStream would create a total of 11 Tokens whereas only 2 is
> neccessary.
>=20
>    Given many documents with many terms and frequencies, it would
> create many extra Token instances.
>=20
>   The reason I was looking to derving the Field class is because I
> can directly manipulate the FieldInfo by setting the frequency. But
> the class is final...
>=20
>   Any other suggestions?
>=20
> Thanks
>=20
> -John
>=20
> On Wed, 07 Jul 2004 14:20:24 -0700, Doug Cutting <cutting@apache.org> =
wrote:
> > John Wang wrote:
> > >      While lucene tokenizes the words in the document, it counts the
> > > frequency and figures out the position, we are trying to bypass this
> > > stage: For each document, I have a set of words with a know =
frequency,
> > > e.g. java (5), lucene (6) etc. (I don't care about the position, so =
it
> > > can always be 0.)
> > >
> > >      What I can do now is to create a dummy document, e.g. "java =
java
> > > java java java lucene lucene lucene lucene lucene" and pass it to
> > > lucene.
> > >
> > >      This seems hacky and cumbersome. Is there a better alternative? =
I
> > > browsed around in the source code, but couldn't find anything.
> >
> > Write an analyzer that returns terms with the appropriate distribution.=

> >
> > For example:
> >
> > public class VectorTokenStream extends TokenStream {
> >   private int term;
> >   private int freq;
> >   public VectorTokenStream(String[] terms, int[] freqs) {
> >     this.terms =3D terms;
> >     this.freqs =3D freqs;
> >   }
> >   public Token next() {
> >     if (freq =3D=3D 0) {
> >       term++;
> >       if (term >=3D terms.length)
> >         return null;
> >       freq =3D freqs[term];
> >     }
> >     freq--;
> >     return new Token(terms[term], 0, 0);
> >   }
> > }
> >
> > Document doc =3D new Document();
> > doc.add(Field.Text("content", ""));
> > indexWriter.addDocument(doc, new Analyzer() {
> >   public TokenStream tokenStream(String field, Reader reader) {
> >     return new VectorTokenStream(new String[] {"java","lucene"},
> >                                  new int[] {5,6});
> >   }
> > });
> >
> > >       Too bad the Field class is final, otherwise I can derive from =
it
> > > and do something on that line...
> >
> > Extending Field would not help.  That's why it's final.
> >
> > Doug
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org=20
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org=20=

> >
> >
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org=20
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org=20
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org=20
>=20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org=20
For additional commands, e-mail: lucene-user-help@jakarta.apache.org=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9153-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 15:19:53 2004
Return-Path: <lucene-user-return-9153-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37993 invoked from network); 8 Jul 2004 15:19:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 15:19:53 -0000
Received: (qmail 67669 invoked by uid 500); 8 Jul 2004 15:19:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67636 invoked by uid 500); 8 Jul 2004 15:19:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67613 invoked by uid 99); 8 Jul 2004 15:19:29 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_BY_IP,SB_NEW_BULK,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [216.239.56.248] (HELO mproxy.gmail.com) (216.239.56.248)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Thu, 08 Jul 2004 08:19:25 -0700
Received: by mproxy.gmail.com with SMTP id w29so5204633cwb
        for <lucene-user@jakarta.apache.org>; Thu, 08 Jul 2004 08:19:24 -0700 (PDT)
Received: by 10.11.116.8 with SMTP id o8mr246443cwc;
        Thu, 08 Jul 2004 08:19:24 -0700 (PDT)
Message-ID: <8837fb7704070808193296fff3@mail.gmail.com>
Date: Thu, 8 Jul 2004 08:19:24 -0700
From: John Wang <john.wang@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: indexing help
In-Reply-To: <s0ed2b98.049@gwia201.syr.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <s0ed2b98.049@gwia201.syr.edu>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Grant:

     I have something that would extract only the important words from
a document along with its importance, furthermore, these important
words may not be physically in the document, it could be synonyms to
some of the words in the document. So the output of a process for a
document is a list of word/importance pairs.

    I want to be able to query using only these words on the document. 

   I don't think Lucene has such capability.

   Can you suggest what I can do with the analysers process in doing
this without replicating words/tokens?

Thanks

-John

On Thu, 08 Jul 2004 11:10:07 -0400, Grant Ingersoll <gsingers@syr.edu> wrote:
> Hey John,
> 
> Those are just options, didn't say they were good ones!  :-)
> 
> I guess the real question is, what is the background of what you are trying to do?  Presumably you have some other program that is generating frequencies for you, do you really need that in the current form?  Can't the Lucene indexing engine act as a stand-in for this process since your end result _should_ be the same?  The Lucene Analyzer process is quite flexible, I bet you could even find a way to hook in your existing tools into the Analyzer process.
> 
> -Grant
> 
> >>> john.wang@gmail.com 07/08/04 10:42AM >>>
> 
> 
> Hi Grant:
>     Thanks for the options. How likely will the lucene file formats change?
> 
>     Are there really no more optiosn? :(...
> 
> Thanks
> 
> -John
> 
> On Thu, 08 Jul 2004 08:50:44 -0400, Grant Ingersoll <gsingers@syr.edu> wrote:
> > Hi John,
> >
> > The source code is available from CVS, make it non-final and do what you need to do.  Of course, you may have a hard time finding help later if you aren't using something everyone else is and your solution doesn't work...  :-)
> >
> > If I understand correctly what you are trying to do, you already know all of the answers for indexing, you just want Lucene to do the retrieval side of the coin, correct?  I suppose a crazy idea might be to write a program that took your info and output it in the Lucene file format, but that seems a bit like overkill.
> >
> > -Grant
> >
> > >>> john.wang@gmail.com 07/07/04 07:37PM >>>
> >
> >
> > Hi Doug:
> >     Thanks for the response!
> >
> >     The solution you proposed is still a derivative of creating a
> > dummy document stream. Taking the same example, java (5), lucene (6),
> > VectorTokenStream would create a total of 11 Tokens whereas only 2 is
> > neccessary.
> >
> >    Given many documents with many terms and frequencies, it would
> > create many extra Token instances.
> >
> >   The reason I was looking to derving the Field class is because I
> > can directly manipulate the FieldInfo by setting the frequency. But
> > the class is final...
> >
> >   Any other suggestions?
> >
> > Thanks
> >
> > -John
> >
> > On Wed, 07 Jul 2004 14:20:24 -0700, Doug Cutting <cutting@apache.org> wrote:
> > > John Wang wrote:
> > > >      While lucene tokenizes the words in the document, it counts the
> > > > frequency and figures out the position, we are trying to bypass this
> > > > stage: For each document, I have a set of words with a know frequency,
> > > > e.g. java (5), lucene (6) etc. (I don't care about the position, so it
> > > > can always be 0.)
> > > >
> > > >      What I can do now is to create a dummy document, e.g. "java java
> > > > java java java lucene lucene lucene lucene lucene" and pass it to
> > > > lucene.
> > > >
> > > >      This seems hacky and cumbersome. Is there a better alternative? I
> > > > browsed around in the source code, but couldn't find anything.
> > >
> > > Write an analyzer that returns terms with the appropriate distribution.
> > >
> > > For example:
> > >
> > > public class VectorTokenStream extends TokenStream {
> > >   private int term;
> > >   private int freq;
> > >   public VectorTokenStream(String[] terms, int[] freqs) {
> > >     this.terms = terms;
> > >     this.freqs = freqs;
> > >   }
> > >   public Token next() {
> > >     if (freq == 0) {
> > >       term++;
> > >       if (term >= terms.length)
> > >         return null;
> > >       freq = freqs[term];
> > >     }
> > >     freq--;
> > >     return new Token(terms[term], 0, 0);
> > >   }
> > > }
> > >
> > > Document doc = new Document();
> > > doc.add(Field.Text("content", ""));
> > > indexWriter.addDocument(doc, new Analyzer() {
> > >   public TokenStream tokenStream(String field, Reader reader) {
> > >     return new VectorTokenStream(new String[] {"java","lucene"},
> > >                                  new int[] {5,6});
> > >   }
> > > });
> > >
> > > >       Too bad the Field class is final, otherwise I can derive from it
> > > > and do something on that line...
> > >
> > > Extending Field would not help.  That's why it's final.
> > >
> > > Doug
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > >
> > >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9154-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 15:48:42 2004
Return-Path: <lucene-user-return-9154-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53880 invoked from network); 8 Jul 2004 15:48:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 15:48:42 -0000
Received: (qmail 43312 invoked by uid 500); 8 Jul 2004 15:48:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43286 invoked by uid 500); 8 Jul 2004 15:48:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43273 invoked by uid 99); 8 Jul 2004 15:48:33 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_BY_IP,SB_NEW_BULK,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [216.239.56.245] (HELO mproxy.gmail.com) (216.239.56.245)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Thu, 08 Jul 2004 08:48:32 -0700
Received: by mproxy.gmail.com with SMTP id w29so5211441cwb
        for <lucene-user@jakarta.apache.org>; Thu, 08 Jul 2004 08:48:31 -0700 (PDT)
Received: by 10.11.99.30 with SMTP id w30mr595294cwb;
        Thu, 08 Jul 2004 08:48:31 -0700 (PDT)
Message-ID: <8837fb7704070808487646ff3b@mail.gmail.com>
Date: Thu, 8 Jul 2004 08:48:31 -0700
From: John Wang <john.wang@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: final Token
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi gurus:

Please forgive some more of my ignorant questions :)

The Token class is declared as final. 

The tokenizers and the analyzers I am writing produce token objects
with more information encapsulated than the Token class defined in
lucene.

So it makes sense to me to be able to derive from it. 

I see that even within the Lucene API, classes such as
org.apache.lucene.analysis.standard.Token are created and the
corresponding Tokenizers are customized maybe because of this
limitation.

Am I missing something? Can this class be "unfinaled"? 

Thanks

-John

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9155-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 17:02:13 2004
Return-Path: <lucene-user-return-9155-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96384 invoked from network); 8 Jul 2004 17:02:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 17:02:13 -0000
Received: (qmail 17905 invoked by uid 500); 8 Jul 2004 17:02:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17778 invoked by uid 500); 8 Jul 2004 17:02:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17718 invoked by uid 99); 8 Jul 2004 17:02:02 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 10:02:01 -0700
Received: (qmail 80795 invoked by uid 89); 8 Jul 2004 17:01:59 -0000
Received: from unknown (HELO ?192.168.168.11?) (doug@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 8 Jul 2004 17:01:59 -0000
Message-ID: <40ED7E07.8040609@apache.org>
Date: Thu, 08 Jul 2004 10:01:59 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: indexing help
References: <8837fb7704070711283ad148b8@mail.gmail.com> <40EC6918.5000303@apache.org> <8837fb770407071637412b0f5f@mail.gmail.com>
In-Reply-To: <8837fb770407071637412b0f5f@mail.gmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

John Wang wrote:
>      The solution you proposed is still a derivative of creating a
> dummy document stream. Taking the same example, java (5), lucene (6),
> VectorTokenStream would create a total of 11 Tokens whereas only 2 is
> neccessary.

That's easy to fix.  We just need to reuse the token:

public class VectorTokenStream extends TokenStream {
   private int term = -1;
   private int freq = 0;
   private Token token;
   public VectorTokenStream(String[] terms, int[] freqs) {
     this.terms = terms;
     this.freqs = freqs;
   }
   public Token next() {
     if (freq == 0) {
       term++;
       if (term >= terms.length)
         return null;
       token = new Token(terms[term], 0, 0);
       freq = freqs[term];
     }
     freq--;
     return token;
   }
}

Then only two tokens are created, as you desire.

If you for some reason don't want to create a dummy document stream, 
then you could instead implement an IndexReader that delivers a 
synthetic index for a single document.  Then use 
IndexWriter.addIndexes() to turn this into a real, FSDirectory-based 
index.  However that would be a lot more work and only very marginally 
faster.  So I'd stick with the approach I've outlined above.  (Note: 
this code has not been compiled or run.  It may have bugs.)

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9156-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 17:08:15 2004
Return-Path: <lucene-user-return-9156-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99695 invoked from network); 8 Jul 2004 17:08:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 17:08:15 -0000
Received: (qmail 28091 invoked by uid 500); 8 Jul 2004 17:08:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28071 invoked by uid 500); 8 Jul 2004 17:08:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28055 invoked by uid 99); 8 Jul 2004 17:08:08 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [193.96.115.65] (HELO relay.materna.de) (193.96.115.65)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 10:08:07 -0700
Received: from ganymed.materna.de (ganymed [139.2.34.141])
	by relay.materna.de (Postfix) with ESMTP id 9019C6807
	for <lucene-user@jakarta.apache.org>; Thu,  8 Jul 2004 19:08:03 +0200 (MEST)
Received: from ganymed.materna.de (localhost [127.0.0.1])
	by mail.materna.de (Postfix) with ESMTP id 4910B25436
	for <lucene-user@jakarta.apache.org>; Thu,  8 Jul 2004 19:08:03 +0200 (MEST)
Received: from ntexc0mat.materna.com (ntexc0mat.materna.com [139.2.35.5])
	by mail.materna.de (Postfix) with ESMTP id 311F625423
	for <lucene-user@jakarta.apache.org>; Thu,  8 Jul 2004 19:08:03 +0200 (MEST)
Received: by ntexc0mat.materna.com with Internet Mail Service (5.5.2657.72)
	id <3P2V72HY>; Thu, 8 Jul 2004 19:08:03 +0200
Message-ID: <FA8D2061DD37E848AD6D4244EF0DED5602C68DF7@ntexc3mat.materna.com>
From: Martin.Stein@materna.de
To: lucene-user@jakarta.apache.org
Subject: Understanding TooManyClauses-Exception and  Query-RAM-size
Date: Thu, 8 Jul 2004 19:08:01 +0200 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi,

a couple of weeks ago we migrated from Lucene 1.2 to 1.4rc3. Everything went
smoothly, but we are experiencing some problems with that new constant limit


	maxClauseCount=1024

which leeds to Exceptions of type 

	org.apache.lucene.search.BooleanQuery$TooManyClauses 

when certain RangeQueries are executed (in fact, we get this Excpetion when
we execute certain Wildcard queries, too). Although we are working with a
fairly small index with about 35.000 documents, we encounter this Exception
when we search for the property "modificationDate". For example

	modificationDate:[000000 TO 0dwc970kw] 

It is my understanding that Lucene iterates over all modificationDate-Fields
inside the index and expands that RangeQuery into some kind of an internal
OR-Query using every modificationDate entry that fits the given range. 

Obviously, we will have many different modificationDates which means that we
will easily hit the limit of 1024 clauses. I know that we can increase the
limit by setting the JVM-Parameter

	-Dorg.apache.lucene.maxClauseCount=100000

or choose an even higher number that exceeds the number of indexed
documents, but then again this limit was introduced for a reason which is to
prevent OutOfMemory-Exceptions in case the internal OR-Query gets too large.


I am wondering how people with millions of indexed documents handle this
situation. Do you take care not to construct those type of "large"
RangeQuery by keeping the query's upper and lower boundaries close together?
Do you keep increasing the maxClauseCount limit as your index grows? 

A couple of days ago Doug Cutting gave a formula which estimates the
RAM-size of a given Query which was 


1 byte * Number of searchable fields in your index * Number of docs in 
your index

plus

1k bytes * number of terms in query

plus

1k bytes * number of phrase terms in query

According to Luke, our index consists of about 500 fields 35.000 documents.
The first line gives 

1 * 500 * 35.000 = 17.500.000 Bytes = 17.5 MB

when we assume that the RangeQuery includes virtually all of our documents
the second line gives

1 k * 35.000 = 35 MB 

we don't expect too many phrase terms so we have a total size of about 52.5
MB per query. 

Once again, our index is pretty small, still we get that pretty big
query-RAM-sizes. If we increase the number of indexed documents by a factor
of 10 we will have 520 MB which in my opinion is getting out of hand. 

Am I missing something? How do other people handle this situation? 


Thanks,

Martin Stein











-- 
Dipl.-Math. Martin Stein
Software Engineer 
CC Portale und Content Management
Business Unit Information
_________________________________________________
MATERNA GmbH Information & Communications
Vosskuhle 37 * 44141 Dortmund * Germany
phone.: +49 231 5599 - 8614 * fax: -8975  
<http://www.materna.de>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9157-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 17:10:25 2004
Return-Path: <lucene-user-return-9157-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 585 invoked from network); 8 Jul 2004 17:10:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 17:10:24 -0000
Received: (qmail 34383 invoked by uid 500); 8 Jul 2004 17:10:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34358 invoked by uid 500); 8 Jul 2004 17:10:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34345 invoked by uid 99); 8 Jul 2004 17:10:17 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [63.100.163.104] (HELO mercury.corp.cyveillance.com) (63.100.163.104)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 10:10:16 -0700
Received: by mercury.corp.cyveillance.com with Internet Mail Service (5.5.2655.55)
	id <3MWJQSNS>; Thu, 8 Jul 2004 13:09:41 -0400
Message-ID: <E65AE9703B683F4C81B5B39C692EB26D1B0288@mercury.corp.cyveillance.com>
From: wallen@Cyveillance.com
To: lucene-user@jakarta.apache.org
Subject: RE: Problem with match on a non tokenized field.
Date: Thu, 8 Jul 2004 13:09:40 -0400 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The PerFieldAnalyzerWrapper is constructed with your default analyzer,
suppose this is the analyzer you use to tokenize.  You then call the
addAnalyzer method for each non-tokenized/keyword fields.

In the case below, url is a keyword, all other fields are tokenized:

PerFieldAnalyzerWrapper analyzer  = new
org.apache.lucene.analysis.PerFieldAnalyzerWrapper(new MyAnalyzer());
analyzer.addAnalyzer("url", new NullAnalyzer());
query = QueryParser.parse(searchQuery,"contents",analyzer);



-----Original Message-----
From: Polina Litvak [mailto:plitvak@casebank.com]
Sent: Thursday, July 08, 2004 10:19 AM
To: 'Lucene Users List'
Subject: RE: Problem with match on a non tokenized field.


Thanks a lot for your help.
I have one more question:

How would you handle a query consisting of two fields combined with a
Boolean operator, where one field is only indexed and stored (a Keyword)
and another is tokenized, indexed and store ?
Is it possible to have parts of the same query analyzed with different
analyzers ?


-----Original Message-----
From: wallen@Cyveillance.com [mailto:wallen@Cyveillance.com] 
Sent: July 7, 2004 4:38 PM
To: lucene-user@jakarta.apache.org
Subject: RE: Problem with match on a non tokenized field.

Use org.apache.lucene.analysis.PerFieldAnalyzerWrapper

Here is how I use it:

                PerFieldAnalyzerWrapper analyzer  = new
org.apache.lucene.analysis.PerFieldAnalyzerWrapper(new MyAnalyzer());
                analyzer.addAnalyzer("url", new NullAnalyzer());
                try 
                {
                        query = QueryParser.parse(searchQuery,
"contents",
analyzer);

-----Original Message-----
From: Polina Litvak [mailto:plitvak@casebank.com]
Sent: Wednesday, July 07, 2004 4:20 PM
To: lucene-user@jakarta.apache.org
Subject: Problem with match on a non tokenized field.


I have a Lucene Document with a field named Code which is stored 
and indexed but not tokenized. The value of the field is ABC5-LB.
The only way I can match the field when searching is by entering 
Code:"ABC5-LB" because when I drop the quotes, every Analyzer I've tried
using breaks my
query into Code:ABC5 -Code:LB.
 
I need to be able to match this field by doing something like
Code:ABC5-L*, therefore always using quotes is not an option.
 
How would I go about writing my own analyzer that will not tokenize the
query ?
 
Thanks,
Polina
 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9158-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 18:02:22 2004
Return-Path: <lucene-user-return-9158-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23560 invoked from network); 8 Jul 2004 18:02:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 18:02:22 -0000
Received: (qmail 46261 invoked by uid 500); 8 Jul 2004 18:02:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46217 invoked by uid 500); 8 Jul 2004 18:02:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46204 invoked by uid 99); 8 Jul 2004 18:02:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [12.43.53.196] (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 11:02:14 -0700
Received: from [192.168.1.100] (dsl093-132-107.sfo4.dsl.speakeasy.net [66.93.132.107])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id i68I2CuP019447
	for <lucene-user@jakarta.apache.org>; Thu, 8 Jul 2004 11:02:13 -0700
Message-ID: <40ED8C29.40601@newsmonster.org>
Date: Thu, 08 Jul 2004 11:02:17 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Way to repair an index broking during 1/2 optimize?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

So.. the other day I sent an email about building an index with 14M 
documents.

That went well but the optimize() was taking FOREVER.  It took 7 hours 
to generate the whole index and when complete as of 10AM it was still 
optimizing (6 hours later) and I needed the box back.

So is it possible to fix this index now?  Can I just delete the most 
recent segment that was created?  I can find this by ls -alt

Also... what can I do to speed up this optimize?  Ideally it wouldn't 
take 6 hours.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9159-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 18:13:25 2004
Return-Path: <lucene-user-return-9159-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28433 invoked from network); 8 Jul 2004 18:13:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 18:13:25 -0000
Received: (qmail 63873 invoked by uid 500); 8 Jul 2004 18:13:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63816 invoked by uid 500); 8 Jul 2004 18:13:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63789 invoked by uid 99); 8 Jul 2004 18:13:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [216.193.202.192] (HELO nasa.lunarpages.com) (216.193.202.192)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 11:13:08 -0700
Received: from pcp09870746pcs.ewndsr01.nj.comcast.net ([68.36.204.99] helo=pmc)
	by nasa.lunarpages.com with asmtp (Exim 4.34)
	id 1BidQS-0004FE-SQ
	for lucene-user@jakarta.apache.org; Thu, 08 Jul 2004 11:15:17 -0700
Message-ID: <00b301c46517$35b4a1a0$6400a8c0@CORP.AD.FACTIVA.NET>
From: "Peter M Cipollone" <lu1@bihvhar.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <40ED8C29.40601@newsmonster.org>
Subject: Re: Way to repair an index broking during 1/2 optimize?
Date: Thu, 8 Jul 2004 14:13:00 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - nasa.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - bihvhar.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You might try merging the existing index into a new index located on a ram
disk.  Once it is done, you can move the directory from ram disk back to
your hard disk.  I think this will work as long as the old index did not
finish merging.  You might do a "strings" command on the segments file to
make sure the new (merged) segment is not in there, and if there's a
"deletable" file, make sure there are no segments from the old index listed
therein.

----- Original Message ----- 
From: "Kevin A. Burton" <burton@newsmonster.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, July 08, 2004 2:02 PM
Subject: Way to repair an index broking during 1/2 optimize?


> So.. the other day I sent an email about building an index with 14M
> documents.
>
> That went well but the optimize() was taking FOREVER.  It took 7 hours
> to generate the whole index and when complete as of 10AM it was still
> optimizing (6 hours later) and I needed the box back.
>
> So is it possible to fix this index now?  Can I just delete the most
> recent segment that was created?  I can find this by ls -alt
>
> Also... what can I do to speed up this optimize?  Ideally it wouldn't
> take 6 hours.
>
> Kevin
>
> -- 
>
> Please reply using PGP.
>
>     http://peerfear.org/pubkey.asc
>
>     NewsMonster - http://www.newsmonster.org/
>
> Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
>        AIM/YIM - sfburtonator,  Web - http://peerfear.org/
> GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
>   IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9160-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 18:37:56 2004
Return-Path: <lucene-user-return-9160-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38076 invoked from network); 8 Jul 2004 18:37:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 18:37:55 -0000
Received: (qmail 3642 invoked by uid 500); 8 Jul 2004 18:37:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3535 invoked by uid 500); 8 Jul 2004 18:37:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3451 invoked by uid 99); 8 Jul 2004 18:37:37 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 11:37:35 -0700
Received: (qmail 90214 invoked by uid 89); 8 Jul 2004 18:37:33 -0000
Received: from unknown (HELO ?192.168.168.11?) (doug@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 8 Jul 2004 18:37:33 -0000
Message-ID: <40ED946B.1070700@apache.org>
Date: Thu, 08 Jul 2004 11:37:31 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Way to repair an index broking during 1/2 optimize?
References: <40ED8C29.40601@newsmonster.org>
In-Reply-To: <40ED8C29.40601@newsmonster.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin A. Burton wrote:
> Also... what can I do to speed up this optimize?  Ideally it wouldn't 
> take 6 hours.

Was this the index with the mergeFactor of 5000?  If so, that's why it's 
so slow: you've delayed all of the work until the end.  Indexing on a 
ramfs will make things faster in general, however, if you have enough RAM...

Doug



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9161-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 18:50:45 2004
Return-Path: <lucene-user-return-9161-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42737 invoked from network); 8 Jul 2004 18:50:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 18:50:45 -0000
Received: (qmail 22613 invoked by uid 500); 8 Jul 2004 18:50:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22541 invoked by uid 500); 8 Jul 2004 18:50:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22483 invoked by uid 99); 8 Jul 2004 18:50:27 -0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=HTML_60_70,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [152.73.7.112] (HELO mail2.nnit.dk) (152.73.7.112)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 11:50:26 -0700
Received: from localhost (localhost.novonordisk.com [127.0.0.1])
	by localhost.novonordisk.com (Postfix) with ESMTP id 309DC204184
	for <lucene-user@jakarta.apache.org>; Thu,  8 Jul 2004 20:50:24 +0200 (CEST)
Received: from mail2.nnit.dk ([127.0.0.1])
 by localhost (mail8k-ext.novo.dk [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 10646-17 for <lucene-user@jakarta.apache.org>;
 Thu,  8 Jul 2004 20:50:17 +0200 (CEST)
Received: from mail9m-int.novo.dk (mail9m-int.novo.dk [10.1.13.98])
	by mail8k-ext.novo.dk (Postfix) with ESMTP id 5539B20402E
	for <lucene-user@jakarta.apache.org>; Thu,  8 Jul 2004 20:50:17 +0200 (CEST)
Received: from EXDKHUB070.corp.novocorp.net (exdkhub070.corp.novocorp.net [10.1.37.30])
	by mail9m-int.novo.dk (Postfix) with ESMTP id 52DB4148049
	for <lucene-user@jakarta.apache.org>; Thu,  8 Jul 2004 20:50:17 +0200 (CEST)
Received: from EXDKHUB041.corp.novocorp.net ([10.1.8.121]) by EXDKHUB070.corp.novocorp.net with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 8 Jul 2004 20:50:17 +0200
Received: from exdkba020.corp.novocorp.net ([10.1.26.1]) by EXDKHUB041.corp.novocorp.net with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 8 Jul 2004 20:50:17 +0200
Received: from EXDKBA023.corp.novocorp.net ([10.1.25.2]) by exdkba020.corp.novocorp.net with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 8 Jul 2004 20:50:17 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.0.6524.0
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C4651C.6926DD5B"
Subject: problem running lucene 1.4 demo on a solaris machine (permission denied)
Date: Thu, 8 Jul 2004 20:50:17 +0200
Message-ID: <264C522BA3BC7941BD1560AD9A17C4FA030C734E@exdkba023.novo.dk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: problem running lucene 1.4 demo on a solaris machine (permission denied)
thread-index: AcRlHGj8FGPBbNzySIyrt4WNuVq3DQ==
From: "MATL (Mats Lindberg)" <matl@nnit.com>
To: <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 08 Jul 2004 18:50:17.0191 (UTC) FILETIME=[6936DF70:01C4651C]
X-Virus-Scanned: by amavisd-new/catpipe/nnit at nnit.dk
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4651C.6926DD5B
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hello
=20
I have downloaded the lucene 1.4 to a windows machine, and it all works
fine, when i tries to move this to a solaris machine i get the following
error:
=20
/opt/tomcat/common/lib/lucene-1.4-final.jar: cannot execute
=20
If i then tries to change the permission (777) on the above file, i get
the following error:
/opt/tomcat/common/lib/lucene-1.4-final.jar: PK^C^D: not found
/opt/tomcat/common/lib/lucene-1.4-final.jar: \304U\3410: not found
/opt/tomcat/common/lib/lucene-1.4-final.jar: syntax error at line 3: `('
unexpected

=20
any ideas how to solve this, or what causes the error
=20
I am runinng in the following environment:
java version "1.2.2"
Solaris VM (build Solaris_JDK_1.2.2_10, native threads, sunwjit)

but have tried on a java version 1.4.2 (i believe it was), but with the
same error.
=20
When i copied the lucene jar file to the solaris machine from the
windows machine i used a ftp program.
=20
Any help is much appreciated.
=20
Best regards,
Mats Lindberg

------_=_NextPart_001_01C4651C.6926DD5B--

From lucene-user-return-9162-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 18:53:57 2004
Return-Path: <lucene-user-return-9162-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43857 invoked from network); 8 Jul 2004 18:53:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 18:53:57 -0000
Received: (qmail 31411 invoked by uid 500); 8 Jul 2004 18:53:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31316 invoked by uid 500); 8 Jul 2004 18:53:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31302 invoked by uid 99); 8 Jul 2004 18:53:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 11:53:48 -0700
Received: (qmail 13802 invoked by uid 89); 8 Jul 2004 18:53:45 -0000
Received: from unknown (HELO ?192.168.168.11?) (doug@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 8 Jul 2004 18:53:45 -0000
Message-ID: <40ED9838.1080902@apache.org>
Date: Thu, 08 Jul 2004 11:53:44 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Way to repair an index broking during 1/2 optimize?
References: <40ED8C29.40601@newsmonster.org>
In-Reply-To: <40ED8C29.40601@newsmonster.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin A. Burton wrote:
> So is it possible to fix this index now?  Can I just delete the most 
> recent segment that was created?  I can find this by ls -alt

Sorry, I forgot to answer your question: this should work fine.  I don't 
think you should even have to delete that segment.

Also, to elaborate on my previous comment, a mergeFactor of 5000 not 
only delays the work until the end, but it also makes the disk workload 
more seek-dominated, which is not optimal.  So I suspect a smaller merge 
factor, together with a larger minMergeDocs, will be much faster 
overall, including the final optimize().  Please tell us how it goes.

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9163-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 18:55:26 2004
Return-Path: <lucene-user-return-9163-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44845 invoked from network); 8 Jul 2004 18:55:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 18:55:25 -0000
Received: (qmail 35104 invoked by uid 500); 8 Jul 2004 18:55:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34993 invoked by uid 500); 8 Jul 2004 18:55:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34908 invoked by uid 99); 8 Jul 2004 18:55:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 11:55:06 -0700
Received: (qmail 15579 invoked by uid 89); 8 Jul 2004 18:55:04 -0000
Received: from unknown (HELO ?192.168.168.11?) (doug@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 8 Jul 2004 18:55:04 -0000
Message-ID: <40ED9887.8010208@apache.org>
Date: Thu, 08 Jul 2004 11:55:03 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: problem running lucene 1.4 demo on a solaris machine (permission
 denied)
References: <264C522BA3BC7941BD1560AD9A17C4FA030C734E@exdkba023.novo.dk>
In-Reply-To: <264C522BA3BC7941BD1560AD9A17C4FA030C734E@exdkba023.novo.dk>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

MATL (Mats Lindberg) wrote:
> When i copied the lucene jar file to the solaris machine from the
> windows machine i used a ftp program.

FTP probably mangled the file.  You need to use FTP's binary mode.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9164-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 19:00:25 2004
Return-Path: <lucene-user-return-9164-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47252 invoked from network); 8 Jul 2004 19:00:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 19:00:25 -0000
Received: (qmail 45421 invoked by uid 500); 8 Jul 2004 19:00:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45391 invoked by uid 500); 8 Jul 2004 19:00:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45376 invoked by uid 99); 8 Jul 2004 19:00:19 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [12.43.53.196] (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 12:00:15 -0700
Received: from [192.168.1.100] ([12.43.53.196])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id i68J09MG020270
	for <lucene-user@jakarta.apache.org>; Thu, 8 Jul 2004 12:00:09 -0700
Message-ID: <40ED99B9.5040109@newsmonster.org>
Date: Thu, 08 Jul 2004 12:00:09 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Way to repair an index broking during 1/2 optimize?
References: <40ED8C29.40601@newsmonster.org> <00b301c46517$35b4a1a0$6400a8c0@CORP.AD.FACTIVA.NET>
In-Reply-To: <00b301c46517$35b4a1a0$6400a8c0@CORP.AD.FACTIVA.NET>
Content-Type: text/plain; charset=iso-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Peter M Cipollone wrote:

>You might try merging the existing index into a new index located on a ram
>disk.  Once it is done, you can move the directory from ram disk back to
>your hard disk.  I think this will work as long as the old index did not
>finish merging.  You might do a "strings" command on the segments file to
>make sure the new (merged) segment is not in there, and if there's a
>"deletable" file, make sure there are no segments from the old index listed
>therein.
>  
>
Its a HUGE index.  It won't fit in memory ;)  Right now its at 8G...

Thanks though! :)

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9165-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 19:01:12 2004
Return-Path: <lucene-user-return-9165-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47670 invoked from network); 8 Jul 2004 19:01:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 19:01:12 -0000
Received: (qmail 48268 invoked by uid 500); 8 Jul 2004 19:01:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48243 invoked by uid 500); 8 Jul 2004 19:01:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48218 invoked by uid 99); 8 Jul 2004 19:01:01 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [152.73.7.112] (HELO mail2.nnit.dk) (152.73.7.112)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 12:00:58 -0700
Received: from localhost (localhost.novonordisk.com [127.0.0.1])
	by localhost.novonordisk.com (Postfix) with ESMTP id 16C3F204295
	for <lucene-user@jakarta.apache.org>; Thu,  8 Jul 2004 21:00:56 +0200 (CEST)
Received: from mail2.nnit.dk ([127.0.0.1])
 by localhost (mail8k-ext.novo.dk [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 12565-19 for <lucene-user@jakarta.apache.org>;
 Thu,  8 Jul 2004 21:00:55 +0200 (CEST)
Received: from mail9m-int.novo.dk (mail9m-int.novo.dk [10.1.13.98])
	by mail8k-ext.novo.dk (Postfix) with ESMTP id 082DD20402E
	for <lucene-user@jakarta.apache.org>; Thu,  8 Jul 2004 21:00:55 +0200 (CEST)
Received: from EXDKHUB071.corp.novocorp.net (exdkhub071.corp.novocorp.net [10.1.35.71])
	by mail9m-int.novo.dk (Postfix) with ESMTP id 0599A148049
	for <lucene-user@jakarta.apache.org>; Thu,  8 Jul 2004 21:00:55 +0200 (CEST)
Received: from EXDKHUB041.corp.novocorp.net ([10.1.8.121]) by EXDKHUB071.corp.novocorp.net with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 8 Jul 2004 21:00:55 +0200
Received: from exdkba020.corp.novocorp.net ([10.1.26.1]) by EXDKHUB041.corp.novocorp.net with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 8 Jul 2004 21:00:55 +0200
Received: from EXDKBA023.corp.novocorp.net ([10.1.25.2]) by exdkba020.corp.novocorp.net with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 8 Jul 2004 21:00:54 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.0.6524.0
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: SV: problem running lucene 1.4 demo on a solaris machine (permission denied)
Date: Thu, 8 Jul 2004 21:00:54 +0200
Message-ID: <264C522BA3BC7941BD1560AD9A17C4FA030C734F@exdkba023.novo.dk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: problem running lucene 1.4 demo on a solaris machine (permission denied)
thread-index: AcRlHSKrrQ+ouDiERwWWBH73cMaKlAAAHorA
From: "MATL (Mats Lindberg)" <matl@nnit.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 08 Jul 2004 19:00:54.0921 (UTC) FILETIME=[E554BF90:01C4651D]
X-Virus-Scanned: by amavisd-new/catpipe/nnit at nnit.dk
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for the fast response

The ftp program or the one i use is the F-secure SSH File transfer
program, was in binary mode.

best regards,
Mats Lindberg

=20

-----Oprindelig meddelelse-----
Fra: Doug Cutting [mailto:cutting@apache.org]=20
Sendt: 8. juli 2004 20:55
Til: Lucene Users List
Emne: Re: problem running lucene 1.4 demo on a solaris machine
(permission denied)

MATL (Mats Lindberg) wrote:
> When i copied the lucene jar file to the solaris machine from the=20
> windows machine i used a ftp program.

FTP probably mangled the file.  You need to use FTP's binary mode.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9166-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 19:01:33 2004
Return-Path: <lucene-user-return-9166-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48128 invoked from network); 8 Jul 2004 19:01:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 19:01:33 -0000
Received: (qmail 49715 invoked by uid 500); 8 Jul 2004 19:01:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49663 invoked by uid 500); 8 Jul 2004 19:01:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49650 invoked by uid 99); 8 Jul 2004 19:01:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [12.43.53.196] (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 12:01:27 -0700
Received: from [192.168.1.100] ([12.43.53.196])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id i68J1FNY020305
	for <lucene-user@jakarta.apache.org>; Thu, 8 Jul 2004 12:01:21 -0700
Message-ID: <40ED99F1.9000003@newsmonster.org>
Date: Thu, 08 Jul 2004 12:01:05 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Way to repair an index broking during 1/2 optimize?
References: <40ED8C29.40601@newsmonster.org> <40ED946B.1070700@apache.org>
In-Reply-To: <40ED946B.1070700@apache.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:

> Kevin A. Burton wrote:
>
>> Also... what can I do to speed up this optimize? Ideally it wouldn't 
>> take 6 hours.
>
>
> Was this the index with the mergeFactor of 5000? If so, that's why 
> it's so slow: you've delayed all of the work until the end. Indexing 
> on a ramfs will make things faster in general, however, if you have 
> enough RAM...

No... I changed the mergeFactor back to 10 as you suggested.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9167-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 19:05:18 2004
Return-Path: <lucene-user-return-9167-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50010 invoked from network); 8 Jul 2004 19:05:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 19:05:18 -0000
Received: (qmail 55606 invoked by uid 500); 8 Jul 2004 19:05:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55560 invoked by uid 500); 8 Jul 2004 19:05:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55540 invoked by uid 99); 8 Jul 2004 19:05:11 -0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=HTML_40_50,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [141.156.69.115] (HELO mail.infosciences.com) (141.156.69.115)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 12:05:10 -0700
Received: from Aviran (unknown [141.156.69.109])
	by mail.infosciences.com (Postfix) with ESMTP id AB0601182D3
	for <lucene-user@jakarta.apache.org>; Thu,  8 Jul 2004 15:08:02 -0400 (EDT)
From: "Aviran" <amordo@infosciences.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Are synchronized objects necessary in FieldInfos
Date: Thu, 8 Jul 2004 15:21:27 -0400
Message-ID: <002e01c46520$c769e020$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_002F_01C464FF.40584020"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_002F_01C464FF.40584020
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi all,
First let me explain what I found out. I'm running Lucene on a 4 CPU =
server.
While doing some stress tests I've noticed that searching threads are
blocked on the method: public FieldInfo fieldInfo(int fieldNumber)
This causes for a significant cpu idle time. I noticed that the class
org.apache.lucene.index.FieldInfos uses private class members Vector
byNumber and Hashtable byName, both of which are synchronized objects. =
By
changing the Vector byNumber to ArrayList byNumber I was able to get =
110%
improvement in performance (number of searches per second).
=20
My question is: do the fields byNumber and byName have to be =
synchronized
and what can happen if I'll change them to be ArrayList and HashMap =
which
are not synchronized ?

------=_NextPart_000_002F_01C464FF.40584020--



From lucene-user-return-9168-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 19:08:49 2004
Return-Path: <lucene-user-return-9168-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50990 invoked from network); 8 Jul 2004 19:08:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 19:08:49 -0000
Received: (qmail 60162 invoked by uid 500); 8 Jul 2004 19:08:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60124 invoked by uid 500); 8 Jul 2004 19:08:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60111 invoked by uid 99); 8 Jul 2004 19:08:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [12.43.53.196] (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 12:08:41 -0700
Received: from [192.168.1.100] ([12.43.53.196])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id i68J8cZu020388
	for <lucene-user@jakarta.apache.org>; Thu, 8 Jul 2004 12:08:38 -0700
Message-ID: <40ED9BA1.9080602@newsmonster.org>
Date: Thu, 08 Jul 2004 12:08:17 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Way to repair an index broking during 1/2 optimize?
References: <40ED8C29.40601@newsmonster.org> <40ED9838.1080902@apache.org>
In-Reply-To: <40ED9838.1080902@apache.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:

> Kevin A. Burton wrote:
>
>> So is it possible to fix this index now? Can I just delete the most 
>> recent segment that was created? I can find this by ls -alt
>
>
> Sorry, I forgot to answer your question: this should work fine. I 
> don't think you should even have to delete that segment.

I'm worried about duplicate or missing content from the original index. 
I'd rather rebuild the index and waste another 6 hours (I've probably 
blown 100 hours of CPU time on this already) and have a correct index :)

During an optimize I assume Lucene starts writing to a new segment and 
leaves all others in place until everything is done and THEN deletes them?

> Also, to elaborate on my previous comment, a mergeFactor of 5000 not 
> only delays the work until the end, but it also makes the disk 
> workload more seek-dominated, which is not optimal. 

The only settings I uses are:

targetIndex.mergeFactor=10;
targetIndex.minMergeDocs=1000;

the resulting index has 230k files in it :-/

I assume this is contributing to all the disk seeks.

> So I suspect a smaller merge factor, together with a larger 
> minMergeDocs, will be much faster overall, including the final 
> optimize(). Please tell us how it goes.
>
This is what I did for this last round but then I ended up with the 
highly fragmented index.

hm...

Thanks for all the help btw!

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9169-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 19:12:22 2004
Return-Path: <lucene-user-return-9169-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52537 invoked from network); 8 Jul 2004 19:12:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 19:12:22 -0000
Received: (qmail 71582 invoked by uid 500); 8 Jul 2004 19:11:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71469 invoked by uid 500); 8 Jul 2004 19:11:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71313 invoked by uid 99); 8 Jul 2004 19:11:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [12.43.53.196] (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 12:11:42 -0700
Received: from [192.168.1.100] ([12.43.53.196])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id i68JBTMq020468
	for <lucene-user@jakarta.apache.org>; Thu, 8 Jul 2004 12:11:35 -0700
Message-ID: <40ED9C61.9000402@newsmonster.org>
Date: Thu, 08 Jul 2004 12:11:29 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Understanding TooManyClauses-Exception and  Query-RAM-size
References: <FA8D2061DD37E848AD6D4244EF0DED5602C68DF7@ntexc3mat.materna.com>
In-Reply-To: <FA8D2061DD37E848AD6D4244EF0DED5602C68DF7@ntexc3mat.materna.com>
Content-Type: text/plain; charset=iso-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Martin.Stein@materna.de wrote:

>Hi,
>
>a couple of weeks ago we migrated from Lucene 1.2 to 1.4rc3. Everything went
>smoothly, but we are experiencing some problems with that new constant limit
>
>
>	maxClauseCount=1024
>
>which leeds to Exceptions of type 
>
>	org.apache.lucene.search.BooleanQuery$TooManyClauses 
>
>when certain RangeQueries are executed (in fact, we get this Excpetion when
>we execute certain Wildcard queries, too). Although we are working with a
>fairly small index with about 35.000 documents, we encounter this Exception
>when we search for the property "modificationDate". For example
>
>	modificationDate:[000000 TO 0dwc970kw] 
>
>  
>
We talked about this the other day.

http://wiki.apache.org/jakarta-lucene/IndexingDateFields

Find out what type of precision you need and use that.  If you only need 
days or hours or minutes then use that.   Millis is just too small. 

We're only using days and have queries for just the last 7 days as max 
so this really works out well...

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9170-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 19:16:06 2004
Return-Path: <lucene-user-return-9170-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56205 invoked from network); 8 Jul 2004 19:16:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 19:16:06 -0000
Received: (qmail 84145 invoked by uid 500); 8 Jul 2004 19:16:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84124 invoked by uid 500); 8 Jul 2004 19:16:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84111 invoked by uid 99); 8 Jul 2004 19:16:00 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_BY_IP,SB_NEW_BULK,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [216.239.56.245] (HELO mproxy.gmail.com) (216.239.56.245)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Thu, 08 Jul 2004 12:15:59 -0700
Received: by mproxy.gmail.com with SMTP id q44so7093394cwc
        for <lucene-user@jakarta.apache.org>; Thu, 08 Jul 2004 12:15:53 -0700 (PDT)
Received: by 10.11.99.49 with SMTP id w49mr586714cwb;
        Thu, 08 Jul 2004 12:15:52 -0700 (PDT)
Message-ID: <8837fb770407081215436717bd@mail.gmail.com>
Date: Thu, 8 Jul 2004 12:15:52 -0700
From: John Wang <john.wang@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: indexing help
In-Reply-To: <40ED7E07.8040609@apache.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <8837fb7704070711283ad148b8@mail.gmail.com> <40EC6918.5000303@apache.org> <8837fb770407071637412b0f5f@mail.gmail.com> <40ED7E07.8040609@apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks Doug. I will do just that.

Just for my education, can you maybe elaborate on using the
"implement an IndexReader that delivers a
synthetic index" approach?

Thanks in advance

-John

On Thu, 08 Jul 2004 10:01:59 -0700, Doug Cutting <cutting@apache.org> wrote:
> John Wang wrote:
> >      The solution you proposed is still a derivative of creating a
> > dummy document stream. Taking the same example, java (5), lucene (6),
> > VectorTokenStream would create a total of 11 Tokens whereas only 2 is
> > neccessary.
> 
> That's easy to fix.  We just need to reuse the token:
> 
> public class VectorTokenStream extends TokenStream {
>   private int term = -1;
>   private int freq = 0;
>   private Token token;
>   public VectorTokenStream(String[] terms, int[] freqs) {
>     this.terms = terms;
>     this.freqs = freqs;
>   }
>   public Token next() {
>     if (freq == 0) {
>       term++;
>       if (term >= terms.length)
>         return null;
>       token = new Token(terms[term], 0, 0);
>       freq = freqs[term];
>     }
>     freq--;
>     return token;
>   }
> }
> 
> Then only two tokens are created, as you desire.
> 
> If you for some reason don't want to create a dummy document stream,
> then you could instead implement an IndexReader that delivers a
> synthetic index for a single document.  Then use
> IndexWriter.addIndexes() to turn this into a real, FSDirectory-based
> index.  However that would be a lot more work and only very marginally
> faster.  So I'd stick with the approach I've outlined above.  (Note:
> this code has not been compiled or run.  It may have bugs.)
> 
> 
> 
> Doug
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9171-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 19:16:56 2004
Return-Path: <lucene-user-return-9171-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56571 invoked from network); 8 Jul 2004 19:16:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 19:16:56 -0000
Received: (qmail 85449 invoked by uid 500); 8 Jul 2004 19:16:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85413 invoked by uid 500); 8 Jul 2004 19:16:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85398 invoked by uid 99); 8 Jul 2004 19:16:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 12:16:47 -0700
Received: (qmail 43179 invoked by uid 89); 8 Jul 2004 19:16:45 -0000
Received: from unknown (HELO ?192.168.168.81?) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 8 Jul 2004 19:16:45 -0000
Message-ID: <40ED9D92.2070504@apache.org>
Date: Thu, 08 Jul 2004 12:16:34 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040619
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Way to repair an index broking during 1/2 optimize?
References: <40ED8C29.40601@newsmonster.org> <40ED946B.1070700@apache.org> <40ED99F1.9000003@newsmonster.org>
In-Reply-To: <40ED99F1.9000003@newsmonster.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin A. Burton wrote:
> No... I changed the mergeFactor back to 10 as you suggested.

Then I am confused about why it should take so long.

Did you by chance set the IndexWriter.infoStream to something, so that 
it logs merges?  If so, it would be interesting to see that output, 
especially the last entry.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9172-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 19:18:22 2004
Return-Path: <lucene-user-return-9172-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57398 invoked from network); 8 Jul 2004 19:18:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 19:18:22 -0000
Received: (qmail 91916 invoked by uid 500); 8 Jul 2004 19:18:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91850 invoked by uid 500); 8 Jul 2004 19:18:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91741 invoked by uid 99); 8 Jul 2004 19:18:01 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [12.43.53.196] (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 12:18:00 -0700
Received: from [192.168.1.100] ([12.43.53.196])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id i68JHh7c020650
	for <lucene-user@jakarta.apache.org>; Thu, 8 Jul 2004 12:17:52 -0700
Message-ID: <40ED9DD7.6010204@newsmonster.org>
Date: Thu, 08 Jul 2004 12:17:43 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene shouldn't use java.io.tmpdir
References: <20040708050135.74044.qmail@web12704.mail.yahoo.com>
In-Reply-To: <20040708050135.74044.qmail@web12704.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis Gospodnetic wrote:

>Hey Kevin,
>
>Not sure if you're aware of it, but you can specify the lock dir, so in
>your example, both JVMs could use the exact same lock dir, as long as
>you invoke the VMs with the same params.  
>
Most people won't do this or won't even understand WHY they need to do 
this :-/.

>You shouldn't be writing the
>same index with more than 1 IndexWriter though (not sure if this was
>just a bad example or a real scenario).
>  
>
Yes... I realize that you shouldn't use more than one IndexWriter. That 
was the point. The locks are to prevent this from happening. If one were 
to accidentally do this the locks would be in different directories and 
our IndexWriter would corrupt the index.

This is why I think it makes more sense to use our own java.io.tmpdir to 
be on the safe side.

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9173-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 19:20:27 2004
Return-Path: <lucene-user-return-9173-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64421 invoked from network); 8 Jul 2004 19:20:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 19:20:27 -0000
Received: (qmail 929 invoked by uid 500); 8 Jul 2004 19:20:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 873 invoked by uid 500); 8 Jul 2004 19:20:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 791 invoked by uid 99); 8 Jul 2004 19:20:18 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [12.43.53.196] (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 12:20:18 -0700
Received: from [192.168.1.100] ([12.43.53.196])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id i68JKFfN020694
	for <lucene-user@jakarta.apache.org>; Thu, 8 Jul 2004 12:20:16 -0700
Message-ID: <40ED9E6F.8010104@newsmonster.org>
Date: Thu, 08 Jul 2004 12:20:15 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Way to repair an index broking during 1/2 optimize?
References: <40ED8C29.40601@newsmonster.org> <40ED946B.1070700@apache.org> <40ED99F1.9000003@newsmonster.org> <40ED9D92.2070504@apache.org>
In-Reply-To: <40ED9D92.2070504@apache.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:

> Kevin A. Burton wrote:
>
>> No... I changed the mergeFactor back to 10 as you suggested.
>
>
> Then I am confused about why it should take so long.
>
> Did you by chance set the IndexWriter.infoStream to something, so that 
> it logs merges? If so, it would be interesting to see that output, 
> especially the last entry.
>
No I didn't actually... If I run it again I'll be sure to do this.

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9174-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 20:50:09 2004
Return-Path: <lucene-user-return-9174-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5548 invoked from network); 8 Jul 2004 20:50:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 20:50:09 -0000
Received: (qmail 17164 invoked by uid 500); 8 Jul 2004 20:50:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17096 invoked by uid 500); 8 Jul 2004 20:50:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17058 invoked by uid 99); 8 Jul 2004 20:50:00 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 13:50:00 -0700
Received: (qmail 46400 invoked by uid 89); 8 Jul 2004 20:49:58 -0000
Received: from unknown (HELO ?192.168.168.81?) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 8 Jul 2004 20:49:57 -0000
Message-ID: <40EDB36A.2090001@apache.org>
Date: Thu, 08 Jul 2004 13:49:46 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040619
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene shouldn't use java.io.tmpdir
References: <20040708050135.74044.qmail@web12704.mail.yahoo.com> <40ED9DD7.6010204@newsmonster.org>
In-Reply-To: <40ED9DD7.6010204@newsmonster.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin A. Burton wrote:
> This is why I think it makes more sense to use our own java.io.tmpdir to 
> be on the safe side.

I think the bug is that Tomcat changes java.io.tmpdir.  I thought that 
the point of the system property java.io.tmpdir was to have a portable 
name for /tmp on unix, c:\windows\tmp on Windows, etc.  Tomcat breaks 
that.  So must Lucene have its own way of finding the platform-specific 
temporary directory that everyone can write to?  Perhaps, but it seems a 
shame, since Java already has a standard mechanism for this, which 
Tomcat abuses...

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9175-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 21:09:54 2004
Return-Path: <lucene-user-return-9175-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14386 invoked from network); 8 Jul 2004 21:09:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 21:09:53 -0000
Received: (qmail 671 invoked by uid 500); 8 Jul 2004 21:09:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 586 invoked by uid 500); 8 Jul 2004 21:09:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 444 invoked by uid 99); 8 Jul 2004 21:09:37 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 14:09:01 -0700
Received: (qmail 67544 invoked by uid 89); 8 Jul 2004 21:08:50 -0000
Received: from unknown (HELO ?192.168.168.81?) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 8 Jul 2004 21:08:50 -0000
Message-ID: <40EDB7D6.50802@apache.org>
Date: Thu, 08 Jul 2004 14:08:38 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040619
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: indexing help
References: <8837fb7704070711283ad148b8@mail.gmail.com> <40EC6918.5000303@apache.org> <8837fb770407071637412b0f5f@mail.gmail.com> <40ED7E07.8040609@apache.org> <8837fb770407081215436717bd@mail.gmail.com>
In-Reply-To: <8837fb770407081215436717bd@mail.gmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

John Wang wrote:
> Just for my education, can you maybe elaborate on using the
> "implement an IndexReader that delivers a
> synthetic index" approach?

IndexReader is an abstract class.  It has few data fields, and few 
non-static methods that are not implemented in terms of abstract 
methods.  So, in effect, it is an interface.

When Lucene indexes a token stream it creates a single-document index 
that is then merged with other single- and multi-document indexes to 
form an index that is searched.  You could bypass the first step of this 
(indexing a token stream) by instead directly implementing all of 
IndexReader's abstract methods to return the same thing as the 
single-document index that Lucene would create.  This would be 
marginally faster, as no Token objects would be created at all.  But, 
since IndexReader has a lot of abstract methods, it would be a lot of 
work.  I didn't really mean it as a practical suggestion.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9176-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 22:20:41 2004
Return-Path: <lucene-user-return-9176-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47699 invoked from network); 8 Jul 2004 22:20:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 22:20:41 -0000
Received: (qmail 27493 invoked by uid 500); 8 Jul 2004 22:20:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27156 invoked by uid 500); 8 Jul 2004 22:20:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27128 invoked by uid 99); 8 Jul 2004 22:20:32 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [12.43.53.196] (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 15:20:26 -0700
Received: from [192.168.1.105] ([12.43.53.196])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id i68MKL9Y022989
	for <lucene-user@jakarta.apache.org>; Thu, 8 Jul 2004 15:20:21 -0700
Message-ID: <40EDC8A3.90800@newsmonster.org>
Date: Thu, 08 Jul 2004 15:20:19 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene shouldn't use java.io.tmpdir
References: <20040708050135.74044.qmail@web12704.mail.yahoo.com> <40ED9DD7.6010204@newsmonster.org> <40EDB36A.2090001@apache.org>
In-Reply-To: <40EDB36A.2090001@apache.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:

> Kevin A. Burton wrote:
>
>> This is why I think it makes more sense to use our own java.io.tmpdir 
>> to be on the safe side.
>
>
> I think the bug is that Tomcat changes java.io.tmpdir. I thought that 
> the point of the system property java.io.tmpdir was to have a portable 
> name for /tmp on unix, c:\windows\tmp on Windows, etc. Tomcat breaks 
> that. So must Lucene have its own way of finding the platform-specific 
> temporary directory that everyone can write to? Perhaps, but it seems 
> a shame, since Java already has a standard mechanism for this, which 
> Tomcat abuses...

I've seen this done in other places as well. I think Weblogic did/does 
it. I'm wondering what some of these big EJB containsers use which is 
why I brought this up. I'm not sure the problem is just with Tomcat.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9177-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 22:32:49 2004
Return-Path: <lucene-user-return-9177-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54843 invoked from network); 8 Jul 2004 22:32:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 22:32:48 -0000
Received: (qmail 47725 invoked by uid 500); 8 Jul 2004 22:32:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47693 invoked by uid 500); 8 Jul 2004 22:32:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47680 invoked by uid 99); 8 Jul 2004 22:32:42 -0000
X-ASF-Spam-Status: No, hits=3.0 required=10.0
	tests=RCVD_IN_NJABL_PROXY,RCVD_IN_SORBS_HTTP,RCVD_IN_SORBS_MISC
X-Spam-Check-By: apache.org
Received: from [64.164.98.8] (HELO mta7.pltn13.pbi.net) (64.164.98.8)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 15:32:39 -0700
Received: from [192.168.1.10] (adsl-66-141-53-102.dsl.austtx.swbell.net [66.141.53.102])
	by mta7.pltn13.pbi.net (8.12.10/8.12.10) with ESMTP id i68MWYhv007511
	for <lucene-user@jakarta.apache.org>; Thu, 8 Jul 2004 15:32:34 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v618)
Content-Transfer-Encoding: quoted-printable
Message-Id: <B1B01166-D12E-11D8-9DD9-003065AB24D4@otherwise.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
To: Lucene Users List <lucene-user@jakarta.apache.org>
From: Bill Tschumy <bill@otherwise.com>
Subject: =?ISO-8859-1?Q?Where's_the_search=28Query=A0query,__Sort=A0sort?=
 =?ISO-8859-1?Q?=29_method_of_Searcher?=
Date: Thu, 8 Jul 2004 17:32:28 -0500
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm trying to do a search and sort the results using a Sort object. =20
The 1.4-final API says that Searcher has the following method.

Hits search(Query=A0query,  Sort=A0sort)

However, when I try to use it in the code below:

         IndexSearcher is =3D new IndexSearcher(fsDir);
         Query query =3D QueryParser.parse("Nuggets", "creator", new=20
StandardAnalyzer());
         Hits hits =3D is.search(query, new Sort("created"));

I get the following compile error:

     [javac] Compiling 18 source files to /Users/bill/Nuggets/classes
     [javac]=20
/Users/bill/Nuggets/src/com/otherwise/nuggets/MySearcher.java:44:=20
cannot resolve symbol
     [javac] symbol  : method search=20
(org.apache.lucene.search.Query,org.apache.lucene.search.Sort)
     [javac] location: class org.apache.lucene.search.IndexSearcher
     [javac]             hits =3D is.search(query, new Sort("created"));
     [javac]                      ^

If I do the same call without the Sort object it compiles just fine.

This seems to be indicating the search(Query, Sort) method is not in=20
the jar file.  Either the API is in error (doubtful) or I'm doing=20
something really stupid (likely).  Can someone explain which it is?
--=20
Bill Tschumy
Otherwise -- Austin, TX
http://www.otherwise.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9178-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 08 23:03:32 2004
Return-Path: <lucene-user-return-9178-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64614 invoked from network); 8 Jul 2004 23:03:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jul 2004 23:03:32 -0000
Received: (qmail 95300 invoked by uid 500); 8 Jul 2004 23:03:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95246 invoked by uid 500); 8 Jul 2004 23:03:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95015 invoked by uid 99); 8 Jul 2004 23:03:21 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 16:03:18 -0700
Received: (qmail 65377 invoked by uid 89); 8 Jul 2004 23:03:17 -0000
Received: from unknown (HELO ?192.168.168.81?) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 8 Jul 2004 23:03:17 -0000
Message-ID: <40EDD2A9.5080807@apache.org>
Date: Thu, 08 Jul 2004 16:03:05 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040619
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Way to repair an index broking during 1/2 optimize?
References: <40ED8C29.40601@newsmonster.org> <40ED9838.1080902@apache.org> <40ED9BA1.9080602@newsmonster.org>
In-Reply-To: <40ED9BA1.9080602@newsmonster.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin A. Burton wrote:
> During an optimize I assume Lucene starts writing to a new segment and 
> leaves all others in place until everything is done and THEN deletes them?

That's correct.

> The only settings I uses are:
> 
> targetIndex.mergeFactor=10;
> targetIndex.minMergeDocs=1000;
> 
> the resulting index has 230k files in it :-/

Something sounds very wrong for there to be that many files.

The maximum number of files should be around:

   (7 + numIndexedFields) * (mergeFactor-1) * 
(log_base_mergeFactor(numDocs/minMergeDocs))

With 14M documents, log_10(14M/1000) is 4, which gives, for you:

   (7 + numIndexedFields) * 36 = 230k
    7*36 + numIndexedFields*36 = 230k
    numIndexedFields = (230k - 7*36) / 36 =~ 6k

So you'd have to have around 6k unique field names to get 230k files. 
Or something else must be wrong.  Are you running on win32, where file 
deletion can be difficult?

With the typical handful of fields, one should never see more than 
hundreds of files.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9179-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 09 01:57:20 2004
Return-Path: <lucene-user-return-9179-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42380 invoked from network); 9 Jul 2004 01:57:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Jul 2004 01:57:20 -0000
Received: (qmail 80428 invoked by uid 500); 9 Jul 2004 01:57:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80398 invoked by uid 500); 9 Jul 2004 01:57:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80384 invoked by uid 99); 9 Jul 2004 01:57:11 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [12.43.53.196] (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 18:57:06 -0700
Received: from [192.168.1.105] ([12.43.53.196])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id i691v1Yu026153
	for <lucene-user@jakarta.apache.org>; Thu, 8 Jul 2004 18:57:01 -0700
Message-ID: <40EDFB62.4030902@newsmonster.org>
Date: Thu, 08 Jul 2004 18:56:50 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Way to repair an index broking during 1/2 optimize?
References: <40ED8C29.40601@newsmonster.org> <40ED9838.1080902@apache.org> <40ED9BA1.9080602@newsmonster.org> <40EDD2A9.5080807@apache.org>
In-Reply-To: <40EDD2A9.5080807@apache.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:

>
> Something sounds very wrong for there to be that many files.
>
> The maximum number of files should be around:
>
> (7 + numIndexedFields) * (mergeFactor-1) * 
> (log_base_mergeFactor(numDocs/minMergeDocs))
>
> With 14M documents, log_10(14M/1000) is 4, which gives, for you:
>
> (7 + numIndexedFields) * 36 = 230k
> 7*36 + numIndexedFields*36 = 230k
> numIndexedFields = (230k - 7*36) / 36 =~ 6k
>
> So you'd have to have around 6k unique field names to get 230k files. 
> Or something else must be wrong. Are you running on win32, where file 
> deletion can be difficult?
>
> With the typical handful of fields, one should never see more than 
> hundreds of files.
>
We only have 13 fields... Though to be honest I'm worried that even if I 
COULD do the optimize that it would run out of file handles.

This is very strange...

I'm going to increase minMergeDocs to 10000 and then run the full 
converstion on one box and then try to do an optimize (of the corrupt) 
another box. See which one finishes first.

I assume the speed of optimize() can be increased the same way that 
indexing is increased...

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9180-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 09 02:28:00 2004
Return-Path: <lucene-user-return-9180-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55419 invoked from network); 9 Jul 2004 02:28:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Jul 2004 02:28:00 -0000
Received: (qmail 4099 invoked by uid 500); 9 Jul 2004 02:27:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3869 invoked by uid 500); 9 Jul 2004 02:27:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3855 invoked by uid 99); 9 Jul 2004 02:27:53 -0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=HTML_40_50,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [80.67.64.10] (HELO smtp2.akamai.com) (80.67.64.10)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 19:27:48 -0700
Received: from smtp1.akamai.com (vwall2.kendall.corp.akamai.com [172.17.4.34])
	by smtp2.akamai.com (8.12.10/8.12.10) with ESMTP id i692RgwM024559
	for <lucene-user@jakarta.apache.org>; Thu, 8 Jul 2004 22:27:42 -0400 (EDT)
Received: from USMA1EX-GATE1.kendall.corp.akamai.com (usma1ex-gate1.kendall.corp.akamai.com [172.17.0.215])
	by smtp1.akamai.com (8.12.10/8.12.10) with ESMTP id i692Rg5s022142
	for <lucene-user@jakarta.apache.org>; Thu, 8 Jul 2004 22:27:42 -0400 (EDT)
Received: from USMA1EX-PRIV2.kendall.corp.akamai.com ([172.17.0.183]) by USMA1EX-GATE1.kendall.corp.akamai.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 8 Jul 2004 22:27:42 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C4655C.4F88BF18"
Subject: Browse by Letter within a Category
Date: Thu, 8 Jul 2004 22:27:41 -0400
Message-ID: <CABA0DCC5207904AAA5ECE8449E964CE02890834@usma1ex-priv2.kendall.corp.akamai.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Browse by Letter within a Category
Thread-Index: AcRlXE6WVbQywPe1R5O6cmi8fCJBUA==
From: "O'Hare, Thomas" <tohare@akamai.com>
To: <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 09 Jul 2004 02:27:42.0103 (UTC) FILETIME=[4FA81A70:01C4655C]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4655C.4F88BF18
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I would like to implement the following functionality:

- Search a specific field (category) and limit the search where the
title field begins with a given letter, and return the results sorted in
alphabetical order by title. Both the category and title fields are
tokenized, indexed and stored in the index (type Field.Text). How should
I construct the search and sort? I tried the following, but the titles
are not being displayed in alphabetical order:

Searcher.search("category:\"Products\" AND title:\"A*\"", new
Sort("title"));

I want to display all results where Products is the category whose title
begins with the letter A, sorted in alphabetical order by title. I'm
using Lucene 1.4 final release.=20

Thanks,=20
Tom



------_=_NextPart_001_01C4655C.4F88BF18--

From lucene-user-return-9181-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 09 05:52:52 2004
Return-Path: <lucene-user-return-9181-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52440 invoked from network); 9 Jul 2004 05:52:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Jul 2004 05:52:52 -0000
Received: (qmail 75841 invoked by uid 500); 9 Jul 2004 05:52:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75808 invoked by uid 500); 9 Jul 2004 05:52:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75785 invoked by uid 99); 9 Jul 2004 05:52:42 -0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=HTML_60_70,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [65.61.157.209] (HELO www.emacmillan.org) (65.61.157.209)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 22:52:35 -0700
Received: from mail.emacmillan.com ([203.200.41.230])
	by www.emacmillan.org (8.11.6/8.11.6) with ESMTP id i695qRY08795
	for <lucene-user@jakarta.apache.org>; Fri, 9 Jul 2004 00:52:28 -0500
Received: from NIRAJ [192.168.1.177] by emacmillan.com [192.168.1.7]
	with SMTP (MDaemon.v2.83.R)
	for <lucene-user@jakarta.apache.org>; Fri, 09 Jul 2004 11:23:39 +0530
Message-ID: <018f01c46578$74402be0$b101a8c0@emacmillan.edu>
From: "Niraj Alok" <niraj@emacmillan.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <020401c46423$107e4480$b101a8c0@emacmillan.edu> <6.1.1.1.0.20040708094338.01bd4ec0@localhost>
Subject: Re: boolean operators and score
Date: Fri, 9 Jul 2004 11:18:44 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0181_01C465A6.7F69E780"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-MDaemon-Deliver-To: lucene-user@jakarta.apache.org
X-Return-Path: niraj@emacmillan.com
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0181_01C465A6.7F69E780
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

Hi Don,

After months of struggling with lucene and finally achieving the complex
relevancy desired, the client would kill me if i now make that relevancy all
lost.

I am trying to do it with the way Franck suggested by sorting the words the
user has entered, but otherwise, isn't this a bug of lucene ?

Regards,
Niraj

----- Original Message -----
From: "Don Vaillancourt" <donv@webimpact.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, July 08, 2004 7:15 PM
Subject: Re: boolean operators and score


> What could actually be done is perhaps sort the search result by document
> id.  Of course your relevancy will be all shot, but at least you would
have
> control over the sorting order.
>
>
>
>
>
>

------=_NextPart_000_0181_01C465A6.7F69E780--




From lucene-user-return-9182-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 09 06:24:37 2004
Return-Path: <lucene-user-return-9182-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64844 invoked from network); 9 Jul 2004 06:24:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Jul 2004 06:24:37 -0000
Received: (qmail 11917 invoked by uid 500); 9 Jul 2004 06:24:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11821 invoked by uid 500); 9 Jul 2004 06:24:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11807 invoked by uid 99); 9 Jul 2004 06:24:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [12.43.53.196] (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 08 Jul 2004 23:24:26 -0700
Received: from [192.168.1.100] (dsl093-132-107.sfo4.dsl.speakeasy.net [66.93.132.107])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id i696OKbv028902
	for <lucene-user@jakarta.apache.org>; Thu, 8 Jul 2004 23:24:20 -0700
Message-ID: <40EE3A19.4000401@newsmonster.org>
Date: Thu, 08 Jul 2004 23:24:25 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Increasing Linux kernel open file limits.
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Don't know if anyone knew this:

http://www.hp-eloquence.com/sdb/html/linux_limits.html

> The kernel allocates filehandles dynamically up to a limit specified 
> by file-max.
>
> The value in file-max denotes the maximum number of file- handles that 
> the Linux kernel will allocate. When you get lots of error messages 
> about running out of file handles, you might want to increase this limit.
>
> The three values in file-nr denote the number of allocated file 
> handles, the number of used file handles and the maximum number of 
> file handles. When the allocated filehandles come close to the 
> maximum, but the number of actually used ones is far behind, you've 
> encountered a peak in your filehandle usage and you don't need to 
> increase the maximum.
>
So while root you can allocate as many file handles without any limits 
enforced by glibc you still have to fight against the kernel

Just doing a echo 1000000 > /proc/sys/fs/file-max works fine.

Then I can keep track of my file limit by doing a

cat /proc/sys/fs/file-nr

At least this works on 2.6.x...

Think this is going to save me a lot of headache!

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9183-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 09 07:44:48 2004
Return-Path: <lucene-user-return-9183-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9040 invoked from network); 9 Jul 2004 07:44:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Jul 2004 07:44:48 -0000
Received: (qmail 26047 invoked by uid 500); 9 Jul 2004 07:44:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25866 invoked by uid 500); 9 Jul 2004 07:44:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25853 invoked by uid 99); 9 Jul 2004 07:44:40 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received: from [62.23.206.102] (HELO smtp.kelkoo.net) (62.23.206.102)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 09 Jul 2004 00:44:35 -0700
Received: from kelkoo.net (alix.kelkoo-gre.net [192.168.1.144])
	(authenticated bits=0)
	by smtp.kelkoo.net (Kelkoo.Secure-SMTP/X.Y.Z) with ESMTP id i697iSh7012049
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Fri, 9 Jul 2004 09:44:29 +0200
Message-ID: <40EE4CBE.5030207@kelkoo.net>
Date: Fri, 09 Jul 2004 09:43:58 +0200
From: Brisbart Franck <Franck.Brisbart@kelkoo.net>
Reply-To: Lucene Users List <lucene-user@jakarta.apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.1) Gecko/20031114
X-Accept-Language: fr, French/France, fr-FR, French, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: boolean operators and score
References: <020401c46423$107e4480$b101a8c0@emacmillan.edu> <6.1.1.1.0.20040708094338.01bd4ec0@localhost> <018f01c46578$74402be0$b101a8c0@emacmillan.edu>
In-Reply-To: <018f01c46578$74402be0$b101a8c0@emacmillan.edu>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Security-Warning: SMTP AUTH used with SSL, from a friendly host. No further checking required.
X-Spam-Warning: Message skipped by SpamAssassin. [Relay 192.168.1.144 has authenticated securely.]
X-Scanned-By: MIMEDefang 2.42
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

There's no need to sort the words here.
You just have to ensure that the lucene query built is the same for the 
requests that you consider as equivalent.
I mean that if a request 'word1 word2' gives results different than 
'word2 word1', the problem is in your query parser or in the way you 
give the requests to it.
I keep on saying that with the lucene query parser, the requests 'word1 
and word2' & the request 'word2 and word1' are different because of the 
'required' flag.

Franck

Niraj Alok wrote:
> Hi Don,
> 
> After months of struggling with lucene and finally achieving the complex
> relevancy desired, the client would kill me if i now make that relevancy all
> lost.
> 
> I am trying to do it with the way Franck suggested by sorting the words the
> user has entered, but otherwise, isn't this a bug of lucene ?
> 
> Regards,
> Niraj
> 
> ----- Original Message -----
> From: "Don Vaillancourt" <donv@webimpact.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Thursday, July 08, 2004 7:15 PM
> Subject: Re: boolean operators and score
> 
> 
> 
>>What could actually be done is perhaps sort the search result by document
>>id.  Of course your relevancy will be all shot, but at least you would
> 
> have
> 
>>control over the sorting order.
>>
>>
>>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9184-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 09 08:33:54 2004
Return-Path: <lucene-user-return-9184-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56586 invoked from network); 9 Jul 2004 08:33:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Jul 2004 08:33:54 -0000
Received: (qmail 93101 invoked by uid 500); 9 Jul 2004 08:33:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93071 invoked by uid 500); 9 Jul 2004 08:33:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93057 invoked by uid 99); 9 Jul 2004 08:33:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received: from [212.227.126.177] (HELO moutng.kundenserver.de) (212.227.126.177)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 09 Jul 2004 01:33:42 -0700
Received: from [212.227.126.161] (helo=mrelayng.kundenserver.de)
	by moutng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1BiqpA-0005Ej-00
	for lucene-user@jakarta.apache.org; Fri, 09 Jul 2004 10:33:40 +0200
Received: from [82.135.0.43] (helo=192.168.10.101)
	by mrelayng.kundenserver.de with asmtp (TLSv1:RC4-MD5:128)
	(Exim 3.35 #1)
	id 1BiqpA-0000Vr-00
	for lucene-user@jakarta.apache.org; Fri, 09 Jul 2004 10:33:40 +0200
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Browse by Letter within a Category
Date: Fri, 9 Jul 2004 10:33:39 +0200
User-Agent: KMail/1.5.1
References: <CABA0DCC5207904AAA5ECE8449E964CE02890834@usma1ex-priv2.kendall.corp.akamai.com>
In-Reply-To: <CABA0DCC5207904AAA5ECE8449E964CE02890834@usma1ex-priv2.kendall.corp.akamai.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200407091033.39341.daniel.naber@t-online.de>
X-Provags-ID: kundenserver.de abuse@kundenserver.de auth:94b5a5949d2eb00693e70b0c89be5163
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday 09 July 2004 04:27, O'Hare, Thomas wrote:

> Searcher.search("category:\"Products\" AND title:\"A*\"", new
> Sort("title"));

You can only sort on fields which are not tokenized I think. So add an extra 
field with the title, but untokenized, just for sorting. Also, "A*" might 
slow down the query execution so you might want to add another field which 
just contains the first letter so there's no need for the asterisk.

Regards
 Daniel


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9185-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 09 09:22:25 2004
Return-Path: <lucene-user-return-9185-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81365 invoked from network); 9 Jul 2004 09:22:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Jul 2004 09:22:24 -0000
Received: (qmail 67111 invoked by uid 500); 9 Jul 2004 09:22:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67087 invoked by uid 500); 9 Jul 2004 09:22:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67074 invoked by uid 99); 9 Jul 2004 09:22:17 -0000
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=DNS_FROM_RFC_ABUSE,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [130.104.229.109] (HELO info.ucl.ac.be) (130.104.229.109)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 09 Jul 2004 02:22:15 -0700
Received: from renoir.info.ucl.ac.be (r-renoir [130.104.229.88])
	by info.ucl.ac.be (8.12.11/8.12.11) with ESMTP id i699M8HF019949
	for <lucene-user@jakarta.apache.org>; Fri, 9 Jul 2004 11:22:08 +0200 (MET DST)
Received: (from www@localhost)
	by renoir.info.ucl.ac.be (8.12.9/8.12.9/Submit) id i699M8SV013767
	for lucene-user@jakarta.apache.org; Fri, 9 Jul 2004 11:22:08 +0200 (CEST)
X-Authentication-Warning: renoir.info.ucl.ac.be: www set sender to clibois@student.info.ucl.ac.be using -f
Received: from ns1.denali.be (ns1.denali.be [194.183.235.197]) 
	by renoir.info.ucl.ac.be (IMP) with HTTP 
	for <clibois@imap.student.info.ucl.ac.be>; Fri,  9 Jul 2004 11:22:08 +0200
Message-ID: <1089364928.40ee63c03d264@renoir.info.ucl.ac.be>
Date: Fri,  9 Jul 2004 11:22:08 +0200
From: clibois@student.info.ucl.ac.be
To: lucene-user@jakarta.apache.org
Subject: How to acces informations from a part of the index
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.2.1
X-Originating-IP: 194.183.235.197
X-INGI-MailScanner-Information: Please contact the ISP for more information
X-INGI-MailScanner: Found to be clean
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,
for my thesis I have to use Lucene index for a Text categorization program.
For that I need to split the index in two. So i have a learning set and a 
validation set. The problem is that I don't know how to ask lucene to give 
me,for exemple, the number of documents IN ONLY ONE of these subsets 
containing a specific term.
For example, I would to get number of document containing term "hello" in a 
subset of document. This subset is a set of the document number({5,3} and the 
complete index would contains document {0,1,2,3,4,5})
How can I do this in an efficient way?
I tried to get all document containing the term and then verify which document 
belong to my subset. However, it appears that it's very slow to do this.
Thanks in advance
Claude Libois


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9186-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 09 09:29:22 2004
Return-Path: <lucene-user-return-9186-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84848 invoked from network); 9 Jul 2004 09:29:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Jul 2004 09:29:22 -0000
Received: (qmail 74223 invoked by uid 500); 9 Jul 2004 09:29:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73871 invoked by uid 500); 9 Jul 2004 09:29:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73856 invoked by uid 99); 9 Jul 2004 09:29:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [134.96.191.5] (HELO mousepad.xtramind.dfki.de) (134.96.191.5)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 09 Jul 2004 02:29:07 -0700
Received: from localhost (localhost [127.0.0.1])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id 307DE7F26
	for <lucene-user@jakarta.apache.org>; Fri,  9 Jul 2004 11:29:01 +0200 (MEST)
Received: from omicron.win.xtramind.dfki.de (omicron.xtramind.dfki.de [192.168.4.37])
	by mousepad.xtramind.dfki.de (Postfix) with ESMTP id 0C1117F33
	for <lucene-user@jakarta.apache.org>; Fri,  9 Jul 2004 11:28:57 +0200 (MEST)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: AW: How to acces informations from a part of the index
Date: Fri, 9 Jul 2004 11:28:56 +0200
Message-ID: <3B48940F2D7712428BD31A041A367DDC2B644E@omicron.win.xtramind.dfki.de>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: How to acces informations from a part of the index
Thread-Index: AcRllkz7yHLQabnmQOKYePyK9dncKgAAE0Mw
From: "Karsten Konrad" <Karsten.Konrad@xtramind.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Scanned: by AMaViS with Sophos Sweep
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi,

Why don't you just use two indexes? You probably do not hate to index =
the test set at all.

If you have two or more subsets, just use filters that only matches the =
subsets you are interested in. Counting documents and such that do =
contain a certain term in one of the subset becomes then a search over =
the filtered document index and counting the number of results. Filters =
are quite
efficient.

Hope this helps,

Karsten


--

Dr.-Ing. Karsten Konrad
Head of Artificial Intelligence Lab

Xtramind Technologies GmbH=20
Stuhlsatzenhausweg 3=20
D-66123 Saarbr=FCcken

Phone +49 (681) 3 02-51 13=20
Fax +49 (681) 3 02-51 09
karsten.konrad@xtramind.com=20
www.xtramind.com




-----Urspr=FCngliche Nachricht-----
Von: clibois@student.info.ucl.ac.be =
[mailto:clibois@student.info.ucl.ac.be]=20
Gesendet: Freitag, 9. Juli 2004 11:22
An: lucene-user@jakarta.apache.org
Betreff: How to acces informations from a part of the index


Hello,
for my thesis I have to use Lucene index for a Text categorization =
program. For that I need to split the index in two. So i have a learning =
set and a=20
validation set. The problem is that I don't know how to ask lucene to =
give=20
me,for exemple, the number of documents IN ONLY ONE of these subsets=20
containing a specific term.
For example, I would to get number of document containing term "hello" =
in a=20
subset of document. This subset is a set of the document number({5,3} =
and the=20
complete index would contains document {0,1,2,3,4,5})
How can I do this in an efficient way?
I tried to get all document containing the term and then verify which =
document=20
belong to my subset. However, it appears that it's very slow to do this. =
Thanks in advance Claude Libois


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9187-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 09 09:53:08 2004
Return-Path: <lucene-user-return-9187-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99235 invoked from network); 9 Jul 2004 09:53:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Jul 2004 09:53:07 -0000
Received: (qmail 11163 invoked by uid 500); 9 Jul 2004 09:52:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11077 invoked by uid 500); 9 Jul 2004 09:52:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11048 invoked by uid 99); 9 Jul 2004 09:52:58 -0000
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=HTML_40_50,HTML_MESSAGE,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [160.62.1.169] (HELO fw-mail12.novartis.com) (160.62.1.169)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 09 Jul 2004 02:52:53 -0700
Received: from mtap1.is.chbs ([192.37.33.20])
	by fw-mail12.novartis.com (Switch-3.1.4/Switch-3.1.0) with ESMTP id i699qkem15540230
	for <lucene-user@jakarta.apache.org>; Fri, 9 Jul 2004 11:52:46 +0200
Received: from phchbs-s3026.EU.novartis.net (phchbs-s3026.eu.novartis.net [192.37.31.115])
	by mtap1.is.chbs (Switch-3.1.4/Switch-3.1.0) with ESMTP id i699qjHo9265250
	for <lucene-user@jakarta.apache.org>; Fri, 9 Jul 2004 11:52:45 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: why same query different execution time?
MIME-Version: 1.0
Message-ID: <OF0202E934.34040AB3-ONC1256ECC.0035A412-C1256ECC.0036444A@EU.novartis.net>
From: iouli.golovatyi@group.novartis.com
Date: Fri, 9 Jul 2004 11:52:44 +0200
Content-Type: multipart/alternative; boundary="=_alternative 00364421C1256ECC_="
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=_alternative 00364421C1256ECC_=
Content-Type: text/plain; charset="us-ascii"

Can somebody explain me following:

I execute search with  the same query, on the same index using the same pc 
an get always different execution time, for example:

1st run:
LuceneItems: Search for : +contents:vasella, Documents found : 121, 
Documents age : [15.09.04 -10.08.02]
LuceneItems: Last document retrieved - 39, Search time(ms) - 1362
2d run:
LuceneItems: Search for : +contents:vasella, Documents found : 121, 
Documents age : [15.09.04 -10.08.02]
LuceneItems: Last document retrieved - 39, Search time(ms) - 584

Regards
Joel
--=_alternative 00364421C1256ECC_=--

From lucene-user-return-9188-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 09 10:05:04 2004
Return-Path: <lucene-user-return-9188-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6545 invoked from network); 9 Jul 2004 10:05:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Jul 2004 10:05:04 -0000
Received: (qmail 24542 invoked by uid 500); 9 Jul 2004 10:04:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24509 invoked by uid 500); 9 Jul 2004 10:04:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24474 invoked by uid 99); 9 Jul 2004 10:04:54 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [213.61.178.43] (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 09 Jul 2004 03:04:49 -0700
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id 8CDD623BE2
	for <lucene-user@jakarta.apache.org>; Fri,  9 Jul 2004 12:04:45 +0200 (CEST)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 27298-02 for <lucene-user@jakarta.apache.org>;
 Fri,  9 Jul 2004 12:04:45 +0200 (CEST)
Received: from tucholsky.office.tanto.de (unknown [10.0.1.4])
	by mail.tanto.de (Postfix) with ESMTP id 70B7023B8F
	for <lucene-user@jakarta.apache.org>; Fri,  9 Jul 2004 12:04:45 +0200 (CEST)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id i69A4hGL028817
	for <lucene-user@jakarta.apache.org>; Fri, 9 Jul 2004 12:04:43 +0200
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id i69A4hpZ028813;
	Fri, 9 Jul 2004 12:04:43 +0200
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16622.28091.439241.195652@tanto-xipolis.de>
Date: Fri, 9 Jul 2004 12:04:43 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: why same query different execution time?
In-Reply-To: <OF0202E934.34040AB3-ONC1256ECC.0035A412-C1256ECC.0036444A@EU.novartis.net>
References: <OF0202E934.34040AB3-ONC1256ECC.0035A412-C1256ECC.0036444A@EU.novartis.net>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

> I execute search with  the same query, on the same index using the same pc 
> an get always different execution time, for example:
> 
> 1st run:
> LuceneItems: Search for : +contents:vasella, Documents found : 121, 
> Documents age : [15.09.04 -10.08.02]
> LuceneItems: Last document retrieved - 39, Search time(ms) - 1362
> 2d run:
> LuceneItems: Search for : +contents:vasella, Documents found : 121, 
> Documents age : [15.09.04 -10.08.02]
> LuceneItems: Last document retrieved - 39, Search time(ms) - 584
> 
The first search reads the index from disk to memory. The second profits
of caching (by the operating system, not by lucene) and thus is faster.
To get the same time you need to make sure that the conditions are equal.
E.g. boot before each test... And it will still slightly differ due to
background processes.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9189-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 09 12:27:03 2004
Return-Path: <lucene-user-return-9189-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74212 invoked from network); 9 Jul 2004 12:27:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Jul 2004 12:27:03 -0000
Received: (qmail 21613 invoked by uid 500); 9 Jul 2004 12:26:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21323 invoked by uid 500); 9 Jul 2004 12:26:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21306 invoked by uid 99); 9 Jul 2004 12:26:56 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [203.200.48.226] (HELO services.india.aalayance.com) (203.200.48.226)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 09 Jul 2004 05:26:51 -0700
Received: from ajitendra (unknown [192.168.1.141])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by services.india.aalayance.com (Postfix) with ESMTP id 0E96EC1975
	for <lucene-user@jakarta.apache.org>; Fri,  9 Jul 2004 17:56:44 +0530 (IST)
Message-ID: <007501c465b0$a4aa9a30$8d01a8c0@india.aalayance.com>
From: "jitender ahuja" <ajitender@aalayance.com>
To: <lucene-user@jakarta.apache.org>
Subject: Re:how to ensure that AND occurs, pl. help
Date: Fri, 9 Jul 2004 18:01:22 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0072_01C465DE.BE2BC0A0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0072_01C465DE.BE2BC0A0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

On Friday, July 09, 2004 1:57, Daniel Naber wrote

>For fields title, body and query "aaa bbb" this will lead to
> +(title:aaa title:bbb) +(body:aaa body:bbb)
>=20
> So the clauses are required, but not the individual terms in a clause. =
I don't=20
> know a (simple) clean solution, but you could parse the query twice, =
first to=20
> get the AND right (queryParser.setOperator()), then again to get the =
fields=20
> right.
--------
 Thanks for your reply. I think you mean to say that  for the case of 2 =
fields title, body and query "aaa bbb"
what the AND should look in the "query" data item is:
+(title:aaa + title:bbb) +(body:aaa + body:bbb)
and not
+(title:aaa title:bbb) +(body:aaa body:bbb)

But will this apply if on eof the fields is null as my original query =
had missed one issue, i.e. if one field is null=20
for a given Hit object even it ( the given Hit object  ) is there.

Regards,
Jitender
------=_NextPart_000_0072_01C465DE.BE2BC0A0--


From lucene-user-return-9190-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 09 14:16:16 2004
Return-Path: <lucene-user-return-9190-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48865 invoked from network); 9 Jul 2004 14:16:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Jul 2004 14:16:16 -0000
Received: (qmail 70929 invoked by uid 500); 9 Jul 2004 14:15:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70815 invoked by uid 500); 9 Jul 2004 14:15:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70746 invoked by uid 99); 9 Jul 2004 14:15:53 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [129.176.212.21] (HELO mhro1.mayo.edu) (129.176.212.21)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 09 Jul 2004 07:15:49 -0700
Received: from excsrv01.mayo.edu (excsrv01.mayo.edu [129.176.235.101]) by mhro1.mayo.edu with ESMTP for lucene-user@jakarta.apache.org; Fri, 9 Jul 2004 09:15:21 -0500
Received: by excsrv01.mayo.edu with Internet Mail Service (5.5.2653.19)
	id <3Q9ASDRD>; Fri, 9 Jul 2004 09:15:21 -0500
Message-Id: <7A1D7964C7C943419AB6D2C323383853036778CC@excsrv44.mayo.edu>
From: "Armbrust, Daniel C." <Armbrust.Daniel@mayo.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: Lucene shouldn't use java.io.tmpdir
Date: Fri, 9 Jul 2004 09:15:13 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The problem I ran into the other day with the new lock location is that Person A had started an index, ran into problems, erased the index and asked me to look at it.  I tried to rebuild the index (in the same place on a Solaris machine) and found out that A) - her locks still existed, B) - I didn't have a clue where it put the locks on the Solaris machine (since no full path was given with the error - has this been fixed?) and C) - I didn't have permission to remove her locks.

I think the locks should go back in the index, and we should fall back or give an option to put them elsewhere for the case of the read-only index.

Dan 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9191-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 09 14:25:47 2004
Return-Path: <lucene-user-return-9191-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55761 invoked from network); 9 Jul 2004 14:25:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Jul 2004 14:25:47 -0000
Received: (qmail 95497 invoked by uid 500); 9 Jul 2004 14:25:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95457 invoked by uid 500); 9 Jul 2004 14:25:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95411 invoked by uid 99); 9 Jul 2004 14:25:14 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received: from [212.227.126.190] (HELO moutng.kundenserver.de) (212.227.126.190)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 09 Jul 2004 07:25:08 -0700
Received: from [212.227.126.179] (helo=mrelayng.kundenserver.de)
	by moutng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1BiwJG-00009n-00
	for lucene-user@jakarta.apache.org; Fri, 09 Jul 2004 16:25:06 +0200
Received: from [82.135.0.43] (helo=192.168.10.101)
	by mrelayng.kundenserver.de with asmtp (TLSv1:RC4-MD5:128)
	(Exim 3.35 #1)
	id 1BiwJG-0002cn-00
	for lucene-user@jakarta.apache.org; Fri, 09 Jul 2004 16:25:06 +0200
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Lucene shouldn't use java.io.tmpdir
Date: Fri, 9 Jul 2004 16:25:04 +0200
User-Agent: KMail/1.5.1
References: <7A1D7964C7C943419AB6D2C323383853036778CC@excsrv44.mayo.edu>
In-Reply-To: <7A1D7964C7C943419AB6D2C323383853036778CC@excsrv44.mayo.edu>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-15"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200407091625.04982.daniel.naber@t-online.de>
X-Provags-ID: kundenserver.de abuse@kundenserver.de auth:94b5a5949d2eb00693e70b0c89be5163
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday 09 July 2004 16:15, Armbrust, Daniel C. wrote:

> (since no full path was given with the error - has this been fixed?) and C)

That's fixed in Lucene 1.4.

> I think the locks should go back in the index, and we should fall back or
> give an option to put them elsewhere for the case of the read-only index.

There's already a Java system property that let's you specify the lock 
directory.

Regards
 Daniel


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9192-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 09 14:59:37 2004
Return-Path: <lucene-user-return-9192-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86340 invoked from network); 9 Jul 2004 14:59:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Jul 2004 14:59:37 -0000
Received: (qmail 89610 invoked by uid 500); 9 Jul 2004 14:59:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89549 invoked by uid 500); 9 Jul 2004 14:59:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89494 invoked by uid 99); 9 Jul 2004 14:59:24 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_90_100,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [209.167.138.140] (HELO tango.casebank.com) (209.167.138.140)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 09 Jul 2004 07:59:19 -0700
Received: from plitvak ([172.17.200.95]) by tango.casebank.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 9 Jul 2004 10:59:06 -0400
From: "Polina Litvak" <plitvak@casebank.com>
To: <lucene-user@jakarta.apache.org>
Subject: NullAnalyzer still tokenizes fields
Date: Fri, 9 Jul 2004 10:53:47 -0400
Message-ID: <01c501c465c4$89bc4930$5fc811ac@plitvak>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_01C6_01C465A3.02AAA930"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Importance: Normal
X-OriginalArrivalTime: 09 Jul 2004 14:59:06.0671 (UTC) FILETIME=[48273BF0:01C465C5]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_01C6_01C465A3.02AAA930
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

I tried to create my own analyzer so it returns fields as they are
(without any tokenizing done), using code posted on lucene-user a short
while a go:
 
private static class NullAnalyzer
   extends Analyzer
    {
      public TokenStream tokenStream(String fieldName, Reader reader)
      {
        return new CharTokenizer(reader)
        {
          protected boolean isTokenChar(char c)
          {
            return true;
          }
        };
     }
 }
 
 
After testing this analyzer I found out that fields I pass to it still
get tokenized. 
E.g. I have a field with value ABCD-EF. When passing it through the
analyzer, the only characters that end up in isTokenChar() are "A, B, C,
D, E, F". So looks like "-" gets filtered out before it even gets to
isTokenChar().
 
Did anyone encounter this problem ? 
Any help will be greatly appreciated!
 
Thanks,
Polina 
 
 

------=_NextPart_000_01C6_01C465A3.02AAA930--


From lucene-user-return-9193-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 09 15:36:37 2004
Return-Path: <lucene-user-return-9193-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8304 invoked from network); 9 Jul 2004 15:36:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Jul 2004 15:36:37 -0000
Received: (qmail 98652 invoked by uid 500); 9 Jul 2004 15:36:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98535 invoked by uid 500); 9 Jul 2004 15:36:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98514 invoked by uid 99); 9 Jul 2004 15:36:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [193.122.42.66] (HELO mx.qwghlm.org) (193.122.42.66)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 09 Jul 2004 08:36:25 -0700
Received: from ojd by mx.qwghlm.org with local (Exim 3.35 #1 (Debian))
	id 1BixQF-0004of-00
	for <lucene-user@jakarta.apache.org>; Fri, 09 Jul 2004 16:36:23 +0100
Date: Fri, 9 Jul 2004 16:36:23 +0100
From: Jim Downing <jimdowning@pobox.com>
To: lucene-user@jakarta.apache.org
Subject: Underscore tokenization
Message-ID: <20040709153623.GC17419@pling.qwghlm.org>
Reply-To: jimdowning@pobox.com
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.3.28i
Sender: Jim Downing <jimdowning@pobox.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I'm trying to put together an Analyzer that doesn't separate tokens on
the underscore character. What's the best / easiest way to achieve this?

I've tried removing the references to char code 95 in
StandardTokenizerTokenManager, but it doesn't seem to cut the mustard.
Should I be looking at modifying StandardTokenizer.jj and having javacc
generate my own tokenizer classes?

thanks,
jim

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9194-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 09 16:05:02 2004
Return-Path: <lucene-user-return-9194-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27690 invoked from network); 9 Jul 2004 16:05:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Jul 2004 16:05:02 -0000
Received: (qmail 56499 invoked by uid 500); 9 Jul 2004 16:04:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56466 invoked by uid 500); 9 Jul 2004 16:04:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56441 invoked by uid 99); 9 Jul 2004 16:04:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 09 Jul 2004 09:04:07 -0700
Received: (qmail 88597 invoked by uid 89); 9 Jul 2004 16:04:05 -0000
Received: from unknown (HELO ?192.168.168.81?) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 9 Jul 2004 16:04:05 -0000
Message-ID: <40EEC1E8.2020309@apache.org>
Date: Fri, 09 Jul 2004 09:03:52 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040619
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Way to repair an index broking during 1/2 optimize?
References: <40ED8C29.40601@newsmonster.org> <40ED9838.1080902@apache.org> <40ED9BA1.9080602@newsmonster.org> <40EDD2A9.5080807@apache.org> <40EDFB62.4030902@newsmonster.org>
In-Reply-To: <40EDFB62.4030902@newsmonster.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin A. Burton wrote:
>> With the typical handful of fields, one should never see more than 
>> hundreds of files.
>>
> We only have 13 fields... Though to be honest I'm worried that even if I 
> COULD do the optimize that it would run out of file handles.

Optimization doesn't open all files at once.  The most files that are 
ever opened by an IndexWriter is just:

4 + (5 + numIndexedFields) * (mergeFactor-1)

This includes during optimization.

However, when searching, an IndexReader must keep most files open.  In 
particular, the maximum number of files an unoptimized, non-compound 
IndexReader can have open is:

(5 + numIndexedFields) * (mergeFactor-1) * 
(log_base_mergeFactor(numDocs/minMergeDocs))

A compound IndexReader, on the other hand, should open at most, just:

(mergeFactor-1) * (log_base_mergeFactor(numDocs/minMergeDocs))

An optimized, non-compound IndexReader will open just (5 + 
numIndexedFields) files.

And an optimized, compound IndexReader should only keep one file open.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9195-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 09 17:07:15 2004
Return-Path: <lucene-user-return-9195-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67961 invoked from network); 9 Jul 2004 17:07:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Jul 2004 17:07:15 -0000
Received: (qmail 25061 invoked by uid 500); 9 Jul 2004 17:07:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25002 invoked by uid 500); 9 Jul 2004 17:07:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24954 invoked by uid 99); 9 Jul 2004 17:07:04 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 09 Jul 2004 10:07:01 -0700
Received: (qmail 52416 invoked by uid 89); 9 Jul 2004 17:06:59 -0000
Received: from unknown (HELO ?192.168.168.81?) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 9 Jul 2004 17:06:59 -0000
Message-ID: <40EED0A6.40305@apache.org>
Date: Fri, 09 Jul 2004 10:06:46 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040619
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene shouldn't use java.io.tmpdir
References: <7A1D7964C7C943419AB6D2C323383853036778CC@excsrv44.mayo.edu>
In-Reply-To: <7A1D7964C7C943419AB6D2C323383853036778CC@excsrv44.mayo.edu>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Armbrust, Daniel C. wrote:
> The problem I ran into the other day with the new lock location is that Person A had started an index, ran into problems, erased the index and asked me to look at it.  I tried to rebuild the index (in the same place on a Solaris machine) and found out that A) - her locks still existed, B) - I didn't have a clue where it put the locks on the Solaris machine (since no full path was given with the error - has this been fixed?) and C) - I didn't have permission to remove her locks.

I think these problems have been fixed.  When an index is created, all 
old locks are first removed.  And when a lock cannot be obtained, it's 
full pathname is printed.  Can you replicate this with 1.4-final?

> I think the locks should go back in the index, and we should fall back or give an option to put them elsewhere for the case of the read-only index.

Changing the lock location is risky.  Code which writes an index would 
not be required to alter the lock location, but code which reads it 
would be.  This can easily lead to uncoordinated access.

So it is best if the default lock location works well in most cases.  We 
try to use a temporary directory writable by all users, and attempt to 
handle situations like those you describe above.  Please tell me if you 
continue to have problems with locking.

Thanks,

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9196-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 09 20:43:34 2004
Return-Path: <lucene-user-return-9196-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7338 invoked from network); 9 Jul 2004 20:43:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Jul 2004 20:43:34 -0000
Received: (qmail 19526 invoked by uid 500); 9 Jul 2004 20:43:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19410 invoked by uid 500); 9 Jul 2004 20:43:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19391 invoked by uid 99); 9 Jul 2004 20:43:24 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [216.136.173.241] (HELO web12704.mail.yahoo.com) (216.136.173.241)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Fri, 09 Jul 2004 13:43:21 -0700
Message-ID: <20040709204319.70013.qmail@web12704.mail.yahoo.com>
Received: from [211.95.204.99] by web12704.mail.yahoo.com via HTTP; Fri, 09 Jul 2004 13:43:19 PDT
Date: Fri, 9 Jul 2004 13:43:19 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Role of "Operator"  in QueryParser 
To: lucene-user@jakarta.apache.org
Cc: jitender ahuja <ajitender@aalayance.com>
In-Reply-To: <00e201c465e4$f7bbded0$8d01a8c0@india.aalayance.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Moving to lucene-user list.

Correct.
If I remember correctly, setting it to AND will turn query like: foo
bar into foo AND bar (or +foo +bar).

Otis

--- jitender ahuja <ajitender@aalayance.com> wrote:
> Hi All,
> 
>          Can anyone, particularly those more enlightened in the inner
> details of Lucene, tell the specific role of "Operator" in
> QueryParser class.
> Can it be used to set an AND operator for multiple terms having
> query.
> 
> 
> Regards,
> Jitender


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9197-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 09 20:51:08 2004
Return-Path: <lucene-user-return-9197-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11615 invoked from network); 9 Jul 2004 20:51:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Jul 2004 20:51:08 -0000
Received: (qmail 34210 invoked by uid 500); 9 Jul 2004 20:51:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34002 invoked by uid 500); 9 Jul 2004 20:51:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33988 invoked by uid 99); 9 Jul 2004 20:51:01 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.167.138.140] (HELO tango.casebank.com) (209.167.138.140)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 09 Jul 2004 13:50:55 -0700
Received: from plitvak ([172.17.200.95]) by tango.casebank.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 9 Jul 2004 16:50:43 -0400
From: "Polina Litvak" <plitvak@casebank.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Problem with match on a non tokenized field.
Date: Fri, 9 Jul 2004 16:45:24 -0400
Message-ID: <023301c465f5$a878abd0$5fc811ac@plitvak>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2616
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
In-Reply-To: <E65AE9703B683F4C81B5B39C692EB26D1B0288@mercury.corp.cyveillance.com>
Importance: Normal
X-OriginalArrivalTime: 09 Jul 2004 20:50:43.0390 (UTC) FILETIME=[66C715E0:01C465F6]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks a lot for your help. I've done what you suggested and it works
great except in this particular case:

I am trying to search for something like "abc-ef*" - i.e. I want to find
all fields that start with: "abc-ef".
I use PerFieldAnalyzerWrapper together with NullAnalyzer to make sure
this field doesn't get tokenized on the "-", but at the same time I need
the analyzer to realize that '*' is the wildcard search, not part of the
field value itself.

Would you know how to work around this ?

Thank you,
Polina

-----Original Message-----
From: wallen@Cyveillance.com [mailto:wallen@Cyveillance.com] 
Sent: July 8, 2004 1:10 PM
To: lucene-user@jakarta.apache.org
Subject: RE: Problem with match on a non tokenized field.

The PerFieldAnalyzerWrapper is constructed with your default analyzer,
suppose this is the analyzer you use to tokenize.  You then call the
addAnalyzer method for each non-tokenized/keyword fields.

In the case below, url is a keyword, all other fields are tokenized:

PerFieldAnalyzerWrapper analyzer  = new
org.apache.lucene.analysis.PerFieldAnalyzerWrapper(new MyAnalyzer());
analyzer.addAnalyzer("url", new NullAnalyzer());
query = QueryParser.parse(searchQuery,"contents",analyzer);



-----Original Message-----
From: Polina Litvak [mailto:plitvak@casebank.com]
Sent: Thursday, July 08, 2004 10:19 AM
To: 'Lucene Users List'
Subject: RE: Problem with match on a non tokenized field.


Thanks a lot for your help.
I have one more question:

How would you handle a query consisting of two fields combined with a
Boolean operator, where one field is only indexed and stored (a Keyword)
and another is tokenized, indexed and store ?
Is it possible to have parts of the same query analyzed with different
analyzers ?


-----Original Message-----
From: wallen@Cyveillance.com [mailto:wallen@Cyveillance.com] 
Sent: July 7, 2004 4:38 PM
To: lucene-user@jakarta.apache.org
Subject: RE: Problem with match on a non tokenized field.

Use org.apache.lucene.analysis.PerFieldAnalyzerWrapper

Here is how I use it:

                PerFieldAnalyzerWrapper analyzer  = new
org.apache.lucene.analysis.PerFieldAnalyzerWrapper(new MyAnalyzer());
                analyzer.addAnalyzer("url", new NullAnalyzer());
                try 
                {
                        query = QueryParser.parse(searchQuery,
"contents",
analyzer);

-----Original Message-----
From: Polina Litvak [mailto:plitvak@casebank.com]
Sent: Wednesday, July 07, 2004 4:20 PM
To: lucene-user@jakarta.apache.org
Subject: Problem with match on a non tokenized field.


I have a Lucene Document with a field named Code which is stored 
and indexed but not tokenized. The value of the field is ABC5-LB.
The only way I can match the field when searching is by entering 
Code:"ABC5-LB" because when I drop the quotes, every Analyzer I've tried
using breaks my
query into Code:ABC5 -Code:LB.
 
I need to be able to match this field by doing something like
Code:ABC5-L*, therefore always using quotes is not an option.
 
How would I go about writing my own analyzer that will not tokenize the
query ?
 
Thanks,
Polina
 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9198-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 09 20:55:15 2004
Return-Path: <lucene-user-return-9198-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13332 invoked from network); 9 Jul 2004 20:55:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Jul 2004 20:55:15 -0000
Received: (qmail 43087 invoked by uid 500); 9 Jul 2004 20:55:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42892 invoked by uid 500); 9 Jul 2004 20:55:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42878 invoked by uid 99); 9 Jul 2004 20:55:07 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [63.100.163.104] (HELO mercury.corp.cyveillance.com) (63.100.163.104)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 09 Jul 2004 13:55:02 -0700
Received: by mercury.corp.cyveillance.com with Internet Mail Service (5.5.2655.55)
	id <3MWJQWKF>; Fri, 9 Jul 2004 16:54:14 -0400
Message-ID: <E65AE9703B683F4C81B5B39C692EB26D1B0293@mercury.corp.cyveillance.com>
From: wallen@Cyveillance.com
To: lucene-user@jakarta.apache.org
Subject: RE: Problem with match on a non tokenized field.
Date: Fri, 9 Jul 2004 16:54:09 -0400 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I do not know how to work around that.

It is indeed an interesting situation that would require more understanding
as to how the analyzer (in this case NullAnalyzer) interacts with the
special characters such as the * and ~.

You could try using the whitespace analyzer instead of the nullanalyzer!

-Will

-----Original Message-----
From: Polina Litvak [mailto:plitvak@casebank.com]
Sent: Friday, July 09, 2004 4:45 PM
To: 'Lucene Users List'
Subject: RE: Problem with match on a non tokenized field.


Thanks a lot for your help. I've done what you suggested and it works
great except in this particular case:

I am trying to search for something like "abc-ef*" - i.e. I want to find
all fields that start with: "abc-ef".
I use PerFieldAnalyzerWrapper together with NullAnalyzer to make sure
this field doesn't get tokenized on the "-", but at the same time I need
the analyzer to realize that '*' is the wildcard search, not part of the
field value itself.

Would you know how to work around this ?

Thank you,
Polina

-----Original Message-----
From: wallen@Cyveillance.com [mailto:wallen@Cyveillance.com] 
Sent: July 8, 2004 1:10 PM
To: lucene-user@jakarta.apache.org
Subject: RE: Problem with match on a non tokenized field.

The PerFieldAnalyzerWrapper is constructed with your default analyzer,
suppose this is the analyzer you use to tokenize.  You then call the
addAnalyzer method for each non-tokenized/keyword fields.

In the case below, url is a keyword, all other fields are tokenized:

PerFieldAnalyzerWrapper analyzer  = new
org.apache.lucene.analysis.PerFieldAnalyzerWrapper(new MyAnalyzer());
analyzer.addAnalyzer("url", new NullAnalyzer());
query = QueryParser.parse(searchQuery,"contents",analyzer);



-----Original Message-----
From: Polina Litvak [mailto:plitvak@casebank.com]
Sent: Thursday, July 08, 2004 10:19 AM
To: 'Lucene Users List'
Subject: RE: Problem with match on a non tokenized field.


Thanks a lot for your help.
I have one more question:

How would you handle a query consisting of two fields combined with a
Boolean operator, where one field is only indexed and stored (a Keyword)
and another is tokenized, indexed and store ?
Is it possible to have parts of the same query analyzed with different
analyzers ?


-----Original Message-----
From: wallen@Cyveillance.com [mailto:wallen@Cyveillance.com] 
Sent: July 7, 2004 4:38 PM
To: lucene-user@jakarta.apache.org
Subject: RE: Problem with match on a non tokenized field.

Use org.apache.lucene.analysis.PerFieldAnalyzerWrapper

Here is how I use it:

                PerFieldAnalyzerWrapper analyzer  = new
org.apache.lucene.analysis.PerFieldAnalyzerWrapper(new MyAnalyzer());
                analyzer.addAnalyzer("url", new NullAnalyzer());
                try 
                {
                        query = QueryParser.parse(searchQuery,
"contents",
analyzer);

-----Original Message-----
From: Polina Litvak [mailto:plitvak@casebank.com]
Sent: Wednesday, July 07, 2004 4:20 PM
To: lucene-user@jakarta.apache.org
Subject: Problem with match on a non tokenized field.


I have a Lucene Document with a field named Code which is stored 
and indexed but not tokenized. The value of the field is ABC5-LB.
The only way I can match the field when searching is by entering 
Code:"ABC5-LB" because when I drop the quotes, every Analyzer I've tried
using breaks my
query into Code:ABC5 -Code:LB.
 
I need to be able to match this field by doing something like
Code:ABC5-L*, therefore always using quotes is not an option.
 
How would I go about writing my own analyzer that will not tokenize the
query ?
 
Thanks,
Polina
 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9199-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jul 11 00:38:30 2004
Return-Path: <lucene-user-return-9199-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2103 invoked from network); 11 Jul 2004 00:38:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jul 2004 00:38:30 -0000
Received: (qmail 14399 invoked by uid 500); 11 Jul 2004 00:38:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14360 invoked by uid 500); 11 Jul 2004 00:38:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14347 invoked by uid 99); 11 Jul 2004 00:38:23 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [12.43.53.196] (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Sat, 10 Jul 2004 17:38:20 -0700
Received: from [192.168.123.200] (adsl-67-121-78-197.dsl.snfc21.pacbell.net [67.121.78.197])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id i6B0cEbB023770
	for <lucene-user@jakarta.apache.org>; Sat, 10 Jul 2004 17:38:14 -0700
Message-ID: <40F072B4.2060002@newsmonster.org>
Date: Sat, 10 Jul 2004 15:50:28 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Why is Field.java final?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I was going to create a new IDField class which just calls super( name, 
value, false, true, false) but noticed I was prevented because 
Field.java is final?

Why is this?  I can't see any harm in making it non-final...

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9200-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jul 11 00:52:31 2004
Return-Path: <lucene-user-return-9200-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4168 invoked from network); 11 Jul 2004 00:52:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jul 2004 00:52:31 -0000
Received: (qmail 27327 invoked by uid 500); 11 Jul 2004 00:52:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27280 invoked by uid 500); 11 Jul 2004 00:52:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27258 invoked by uid 99); 11 Jul 2004 00:52:23 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_BY_IP,SB_NEW_BULK,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [216.239.56.249] (HELO mproxy.gmail.com) (216.239.56.249)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Sat, 10 Jul 2004 17:52:18 -0700
Received: by mproxy.gmail.com with SMTP id w29so7585572cwb
        for <lucene-user@jakarta.apache.org>; Sat, 10 Jul 2004 17:52:17 -0700 (PDT)
Received: by 10.11.99.74 with SMTP id w74mr38539cwb;
        Sat, 10 Jul 2004 17:52:17 -0700 (PDT)
Message-ID: <8837fb77040710175213bed424@mail.gmail.com>
Date: Sat, 10 Jul 2004 17:52:17 -0700
From: John Wang <john.wang@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Why is Field.java final?
In-Reply-To: <40F072B4.2060002@newsmonster.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <40F072B4.2060002@newsmonster.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I was running into the similar problems with Lucene classes being
final. In my case the Token class. I sent out an email but no one
responeded :(

-John

On Sat, 10 Jul 2004 15:50:28 -0700, Kevin A. Burton
<burton@newsmonster.org> wrote:
> I was going to create a new IDField class which just calls super( name,
> value, false, true, false) but noticed I was prevented because
> Field.java is final?
> 
> Why is this?  I can't see any harm in making it non-final...
> 
> Kevin
> 
> --
> 
> Please reply using PGP.
> 
>    http://peerfear.org/pubkey.asc
> 
>    NewsMonster - http://www.newsmonster.org/
> 
> Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
>       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
> GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
>  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9201-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jul 11 05:43:26 2004
Return-Path: <lucene-user-return-9201-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66353 invoked from network); 11 Jul 2004 05:43:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jul 2004 05:43:26 -0000
Received: (qmail 80268 invoked by uid 500); 11 Jul 2004 05:43:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80222 invoked by uid 500); 11 Jul 2004 05:43:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80209 invoked by uid 99); 11 Jul 2004 05:43:20 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=FROM_ENDS_IN_NUMS,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [216.148.212.184] (HELO w02.bloglines.com) (216.148.212.184)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Sat, 10 Jul 2004 22:43:15 -0700
Received: (qmail 15232 invoked by uid 99); 11 Jul 2004 05:43:10 -0000
Message-ID: <1089524590.3958980576.15231.sendItem@bloglines.com>
Date: 11 Jul 2004 05:43:10 -0000
From: yahootintin.1247688@bloglines.com
To: lucene-user@jakarta.apache.org
Subject: Pool of IndexReaders or Pool of Searchers?
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I have multiple threads reading an index.  Should they all be using
the same IndexReader and using a pool of IndexSearchers?  Or should they be
using a pool of IndexReaders?

Basically, one reader or many?

Thanks.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9202-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jul 11 05:56:23 2004
Return-Path: <lucene-user-return-9202-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68389 invoked from network); 11 Jul 2004 05:56:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jul 2004 05:56:23 -0000
Received: (qmail 95560 invoked by uid 500); 11 Jul 2004 05:56:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94782 invoked by uid 500); 11 Jul 2004 05:56:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94769 invoked by uid 99); 11 Jul 2004 05:56:19 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [216.136.173.242] (HELO web12705.mail.yahoo.com) (216.136.173.242)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Sat, 10 Jul 2004 22:56:14 -0700
Message-ID: <20040711055613.44284.qmail@web12705.mail.yahoo.com>
Received: from [211.95.204.99] by web12705.mail.yahoo.com via HTTP; Sat, 10 Jul 2004 22:56:13 PDT
Date: Sat, 10 Jul 2004 22:56:13 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Pool of IndexReaders or Pool of Searchers?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1089524590.3958980576.15231.sendItem@bloglines.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

1 should be sufficient, as IR/IS are thread-safe, I believe.

Otis

--- yahootintin.1247688@bloglines.com wrote:
> Hi,
> 
> I have multiple threads reading an index.  Should they all be using
> the same IndexReader and using a pool of IndexSearchers?  Or should
> they be
> using a pool of IndexReaders?
> 
> Basically, one reader or many?
> 
> Thanks.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9203-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jul 11 06:23:21 2004
Return-Path: <lucene-user-return-9203-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73298 invoked from network); 11 Jul 2004 06:23:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jul 2004 06:23:21 -0000
Received: (qmail 6659 invoked by uid 500); 11 Jul 2004 06:23:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6637 invoked by uid 500); 11 Jul 2004 06:23:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6618 invoked by uid 99); 11 Jul 2004 06:23:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.111.107.196] (HELO mail.fulfilnet.com.au) (203.111.107.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Sat, 10 Jul 2004 23:23:11 -0700
Message-ID: <1089526889.40f0dc69803d1@webmail.firstsite.com.au>
Date: Sun, 11 Jul 2004 16:21:29 +1000
From: Anson Lau <alau@fulfil-net.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Pool of IndexReaders or Pool of Searchers?
References: <1089524590.3958980576.15231.sendItem@bloglines.com>
In-Reply-To: <1089524590.3958980576.15231.sendItem@bloglines.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

When I did some load testing on a lucene powered search app, using a
pool of index searchers doesn't give me any more search per second
than just using a singleton index searcher.

Anson


Quoting yahootintin.1247688@bloglines.com:

> Hi,
> 
> I have multiple threads reading an index.  Should they all be
> using
> the same IndexReader and using a pool of IndexSearchers?  Or
> should they be
> using a pool of IndexReaders?
> 
> Basically, one reader or many?
> 
> Thanks.
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9204-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jul 11 09:19:45 2004
Return-Path: <lucene-user-return-9204-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10920 invoked from network); 11 Jul 2004 09:19:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jul 2004 09:19:45 -0000
Received: (qmail 83171 invoked by uid 500); 11 Jul 2004 09:19:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83128 invoked by uid 500); 11 Jul 2004 09:19:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83115 invoked by uid 99); 11 Jul 2004 09:19:36 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [12.43.53.196] (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Sun, 11 Jul 2004 02:19:33 -0700
Received: from [192.168.1.100] (dsl093-132-107.sfo4.dsl.speakeasy.net [66.93.132.107])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id i6B9JRj0029435
	for <lucene-user@jakarta.apache.org>; Sun, 11 Jul 2004 02:19:27 -0700
Message-ID: <40F102A6.4090302@newsmonster.org>
Date: Sun, 11 Jul 2004 02:04:38 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Field.java -> STORED, NOT_STORED, etc...
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've been working with the Field class doing index conversions between 
an old index format to my new external content store proposal (thus the 
email about the 14M convert).

Anyway... I find the whole Field.Keyword, Field.Text thing confusing.  
The main problem is that the constructor to Field just takes booleans 
and if you forget the ordering of the booleans its very confusing.

new Field( "name", "value", true, false, true );

So looking at that you have NO idea what its doing without fetching javadoc.

So I added a few constants to my class:

new Field( "name", "value", NOT_STORED, INDEXED, NOT_TOKENIZED );

which IMO is a lot easier to maintain.

Why not add these constants to Field.java:

    public static final boolean STORED = true;
    public static final boolean NOT_STORED = false;

    public static final boolean INDEXED = true;
    public static final boolean NOT_INDEXED = false;

    public static final boolean TOKENIZED = true;
    public static final boolean NOT_TOKENIZED = false;

Of course you still have to remember the order but this becomes a lot 
easier to maintain.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9205-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jul 11 09:32:14 2004
Return-Path: <lucene-user-return-9205-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13614 invoked from network); 11 Jul 2004 09:32:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jul 2004 09:32:14 -0000
Received: (qmail 89435 invoked by uid 500); 11 Jul 2004 09:32:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89219 invoked by uid 500); 11 Jul 2004 09:32:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89206 invoked by uid 99); 11 Jul 2004 09:32:08 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [12.43.53.196] (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Sun, 11 Jul 2004 02:32:06 -0700
Received: from [192.168.1.100] (dsl093-132-107.sfo4.dsl.speakeasy.net [66.93.132.107])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id i6B9VxG1029569
	for <lucene-user@jakarta.apache.org>; Sun, 11 Jul 2004 02:32:04 -0700
Message-ID: <40F1058B.9020505@newsmonster.org>
Date: Sun, 11 Jul 2004 02:16:59 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Why is Field.java final?
References: <40F072B4.2060002@newsmonster.org> <8837fb77040710175213bed424@mail.gmail.com>
In-Reply-To: <8837fb77040710175213bed424@mail.gmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

John Wang wrote:

>I was running into the similar problems with Lucene classes being
>final. In my case the Token class. I sent out an email but no one
>responeded :(
>  
>
final is often abused... as is private.

anyway... maybe we can submit a patch :)

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9206-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jul 11 11:33:08 2004
Return-Path: <lucene-user-return-9206-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35361 invoked from network); 11 Jul 2004 11:33:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jul 2004 11:33:08 -0000
Received: (qmail 38320 invoked by uid 500); 11 Jul 2004 11:33:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38289 invoked by uid 500); 11 Jul 2004 11:33:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38276 invoked by uid 99); 11 Jul 2004 11:33:00 -0000
X-ASF-Spam-Status: No, hits=3.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,NO_REAL_NAME,RCVD_NUMERIC_HELO
X-Spam-Check-By: apache.org
Received: from [130.104.229.109] (HELO info.ucl.ac.be) (130.104.229.109)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Sun, 11 Jul 2004 04:32:56 -0700
Received: from renoir.info.ucl.ac.be (r-renoir [130.104.229.88])
	by info.ucl.ac.be (8.12.11/8.12.11) with ESMTP id i6BBWjBE009570
	for <lucene-user@jakarta.apache.org>; Sun, 11 Jul 2004 13:32:45 +0200 (MET DST)
Received: (from www@localhost)
	by renoir.info.ucl.ac.be (8.12.9/8.12.9/Submit) id i6BBWim4023838
	for lucene-user@jakarta.apache.org; Sun, 11 Jul 2004 13:32:44 +0200 (CEST)
X-Authentication-Warning: renoir.info.ucl.ac.be: www set sender to clibois@student.info.ucl.ac.be using -f
Received: from 213.189.180.24.brutele.be (213.189.180.24.brutele.be [213.189.180.24]) 
	by renoir.info.ucl.ac.be (IMP) with HTTP 
	for <clibois@imap.student.info.ucl.ac.be>; Sun, 11 Jul 2004 13:32:44 +0200
Message-ID: <1089545564.40f1255ca679a@renoir.info.ucl.ac.be>
Date: Sun, 11 Jul 2004 13:32:44 +0200
From: clibois@student.info.ucl.ac.be
To: lucene-user@jakarta.apache.org
Subject: How to get all the values of a field in all the index
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.2.1
X-Originating-IP: 213.189.180.24
X-INGI-MailScanner-Information: Please contact the ISP for more information
X-INGI-MailScanner: Found to be clean
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



Hello,
I have indexed a database which contains a field category.
I would like to get an enumeration of all the category of the index.
So for that i need to get all possible different value of this field inside 
the index. For the moment I use  the terms() method,check if for each term if 
it's a category term and if so get the value of this term.
However it's rather inefficient. Do you have any solution for that?
Claude Libois

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9207-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jul 11 13:52:45 2004
Return-Path: <lucene-user-return-9207-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74032 invoked from network); 11 Jul 2004 13:52:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jul 2004 13:52:45 -0000
Received: (qmail 9782 invoked by uid 500); 11 Jul 2004 13:52:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9750 invoked by uid 500); 11 Jul 2004 13:52:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9737 invoked by uid 99); 11 Jul 2004 13:52:41 -0000
X-ASF-Spam-Status: No, hits=3.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,NO_REAL_NAME,RCVD_NUMERIC_HELO
X-Spam-Check-By: apache.org
Received: from [130.104.229.109] (HELO info.ucl.ac.be) (130.104.229.109)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Sun, 11 Jul 2004 06:52:36 -0700
Received: from renoir.info.ucl.ac.be (r-renoir [130.104.229.88])
	by info.ucl.ac.be (8.12.11/8.12.11) with ESMTP id i6BDqML6016438
	for <lucene-user@jakarta.apache.org>; Sun, 11 Jul 2004 15:52:22 +0200 (MET DST)
Received: (from www@localhost)
	by renoir.info.ucl.ac.be (8.12.9/8.12.9/Submit) id i6BDqMg0006471
	for lucene-user@jakarta.apache.org; Sun, 11 Jul 2004 15:52:22 +0200 (CEST)
X-Authentication-Warning: renoir.info.ucl.ac.be: www set sender to clibois@student.info.ucl.ac.be using -f
Received: from 213.189.180.24.brutele.be (213.189.180.24.brutele.be [213.189.180.24]) 
	by renoir.info.ucl.ac.be (IMP) with HTTP 
	for <clibois@imap.student.info.ucl.ac.be>; Sun, 11 Jul 2004 15:52:21 +0200
Message-ID: <1089553941.40f14615edafb@renoir.info.ucl.ac.be>
Date: Sun, 11 Jul 2004 15:52:21 +0200
From: clibois@student.info.ucl.ac.be
To: lucene-user@jakarta.apache.org
Subject: Is it possible to delete a term?
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.2.1
X-Originating-IP: 213.189.180.24
X-INGI-MailScanner-Information: Please contact the ISP for more information
X-INGI-MailScanner: Found to be clean
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,
I am still working on my categorizing tools and I am implementing a 
dimensional reduction. I would like to reduce my index to a subset of his 
terms. So i was asking me if it's possible to delete not a document but a term?
Maybe is there any other solution to reduce my number of terms?
What I exactly need is to get a TermFreqVector that can contains only  terms 
that i have define before. Is it possible to do that whith a filtered query? 
If so could you give me a code example because i have difficulties to see how?
Thanks in advance
Claude Libois


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9208-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jul 11 15:20:43 2004
Return-Path: <lucene-user-return-9208-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94723 invoked from network); 11 Jul 2004 15:20:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jul 2004 15:20:43 -0000
Received: (qmail 84641 invoked by uid 500); 11 Jul 2004 15:20:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84396 invoked by uid 500); 11 Jul 2004 15:20:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84383 invoked by uid 99); 11 Jul 2004 15:20:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Sun, 11 Jul 2004 08:20:31 -0700
Received: (qmail 78478 invoked by uid 89); 11 Jul 2004 15:20:29 -0000
Received: from unknown (HELO ?192.168.168.11?) (doug@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 11 Jul 2004 15:20:29 -0000
Message-ID: <40F15AB8.9020905@apache.org>
Date: Sun, 11 Jul 2004 08:20:24 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Why is Field.java final?
References: <40F072B4.2060002@newsmonster.org>
In-Reply-To: <40F072B4.2060002@newsmonster.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin A. Burton wrote:
> I was going to create a new IDField class which just calls super( name, 
> value, false, true, false) but noticed I was prevented because 
> Field.java is final?

You don't need to subclass to do this, just a static method somewhere.

> Why is this?  I can't see any harm in making it non-final...

Field and Document are not designed to be extensible.  They are 
persisted in such a way that added methods are not available when the 
field is restored.  In other words, when a field is read, it always 
constructs an instance of Field, not a subclass.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9209-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jul 11 15:36:07 2004
Return-Path: <lucene-user-return-9209-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98920 invoked from network); 11 Jul 2004 15:36:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jul 2004 15:36:07 -0000
Received: (qmail 95902 invoked by uid 500); 11 Jul 2004 15:36:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95667 invoked by uid 500); 11 Jul 2004 15:35:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95654 invoked by uid 99); 11 Jul 2004 15:35:58 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Sun, 11 Jul 2004 08:35:56 -0700
Received: (qmail 90219 invoked by uid 89); 11 Jul 2004 15:35:55 -0000
Received: from unknown (HELO ?192.168.168.11?) (doug@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 11 Jul 2004 15:35:54 -0000
Message-ID: <40F15E56.3060808@apache.org>
Date: Sun, 11 Jul 2004 08:35:50 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Field.java -> STORED, NOT_STORED, etc...
References: <40F102A6.4090302@newsmonster.org>
In-Reply-To: <40F102A6.4090302@newsmonster.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin A. Burton wrote:
> So I added a few constants to my class:
> 
> new Field( "name", "value", NOT_STORED, INDEXED, NOT_TOKENIZED );
> 
> which IMO is a lot easier to maintain.
> 
> Why not add these constants to Field.java:
> 
>    public static final boolean STORED = true;
>    public static final boolean NOT_STORED = false;
> 
>    public static final boolean INDEXED = true;
>    public static final boolean NOT_INDEXED = false;
> 
>    public static final boolean TOKENIZED = true;
>    public static final boolean NOT_TOKENIZED = false;
> 
> Of course you still have to remember the order but this becomes a lot 
> easier to maintain.

It would be best to get the compiler to check the order.

If we change this, why not use type-safe enumerations:

http://www.javapractices.com/Topic1.cjp

The calls would look like:

new Field("name", "value", Stored.YES, Indexed.NO, Tokenized.YES);

Stored could be implemented as the nested class:

public final class Stored {
   private Stored() {}
   public static final Stored YES = new Stored();
   public static final Stored NO = new Stored();
}

and the compiler would check the order of arguments.

How's that?

Doug



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9210-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jul 11 16:03:20 2004
Return-Path: <lucene-user-return-9210-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3881 invoked from network); 11 Jul 2004 16:03:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jul 2004 16:03:19 -0000
Received: (qmail 12204 invoked by uid 500); 11 Jul 2004 16:03:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12123 invoked by uid 500); 11 Jul 2004 16:03:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12108 invoked by uid 99); 11 Jul 2004 16:03:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Sun, 11 Jul 2004 09:03:13 -0700
Received: (qmail 4232 invoked by uid 89); 11 Jul 2004 16:03:11 -0000
Received: from unknown (HELO ?192.168.168.11?) (doug@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 11 Jul 2004 16:03:11 -0000
Message-ID: <40F164BB.6070405@apache.org>
Date: Sun, 11 Jul 2004 09:03:07 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Field.java -> STORED, NOT_STORED, etc...
References: <40F102A6.4090302@newsmonster.org> <40F15E56.3060808@apache.org>
In-Reply-To: <40F15E56.3060808@apache.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:
> The calls would look like:
> 
> new Field("name", "value", Stored.YES, Indexed.NO, Tokenized.YES);
> 
> Stored could be implemented as the nested class:
> 
> public final class Stored {
>   private Stored() {}
>   public static final Stored YES = new Stored();
>   public static final Stored NO = new Stored();
> }

Actually, while we're at it, Indexed and Tokenized are confounded.  A 
single entry would be better, something like:

public final class Index {
   private Index() {}
   public static final Index NO = new Index();
   public static final Index TOKENIZED = new Index();
   public static final Index UN_TOKENIZED = new Index();
}

then calls would look like just:

new Field("name", "value", Store.YES, Index.TOKENIZED);

BTW, I think Stored would be better named Store too.

BooleanQuery's required and prohibited flags could get the same 
treatment, with the addition of a nested class like:

public final class Occur {
   private Occur() {}
   public static final Occur MUST_NOT = new Occur();
   public static final Occur SHOULD = new Occur();
   public static final Occur MUST = new Occur();
}

and adding a boolean clause would look like:

booleanQuery.add(new TermQuery(...), Occur.MUST);

Then we can deprecate the old methods.

Comments?

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9211-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jul 11 17:46:19 2004
Return-Path: <lucene-user-return-9211-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35533 invoked from network); 11 Jul 2004 17:46:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jul 2004 17:46:19 -0000
Received: (qmail 88845 invoked by uid 500); 11 Jul 2004 17:46:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88818 invoked by uid 500); 11 Jul 2004 17:46:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88803 invoked by uid 99); 11 Jul 2004 17:46:13 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [216.241.36.13] (HELO mz2.forethought.net) (216.241.36.13)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Sun, 11 Jul 2004 10:46:10 -0700
Received: from j72.denver.dsl.forethought.net ([216.241.38.72])
	by mz2.forethought.net with esmtp (Exim 4.30)
	id 1BjiOm-0005bO-Nc
	for lucene-user@jakarta.apache.org; Sun, 11 Jul 2004 11:46:04 -0600
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Field.java -> STORED, NOT_STORED, etc...
Date: Sun, 11 Jul 2004 11:45:56 -0600
User-Agent: KMail/1.5
References: <40F102A6.4090302@newsmonster.org> <40F15E56.3060808@apache.org> <40F164BB.6070405@apache.org>
In-Reply-To: <40F164BB.6070405@apache.org>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200407111145.56576.tatu@hypermall.net>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Sunday 11 July 2004 10:03, Doug Cutting wrote:
> Doug Cutting wrote:
> > The calls would look like:
> >
> > new Field("name", "value", Stored.YES, Indexed.NO, Tokenized.YES);
> >
.
> Actually, while we're at it, Indexed and Tokenized are confounded.  A
> single entry would be better, something like:
...
> then calls would look like just:
>
> new Field("name", "value", Store.YES, Index.TOKENIZED);
...
> and adding a boolean clause would look like:
>
> booleanQuery.add(new TermQuery(...), Occur.MUST);
>
> Then we can deprecate the old methods.
>
> Comments?

I was about to suggest this, instead of int/boolean constants, since it is a 
"recommended good practice", and allows better type safety (until JDK 1.5's 
real enums at least). I would prefer this over un-typesafe consts; although
even just defining and using simple consts in itself would be an improvement 
over existing situation.

Another possibility (or maybe complementary approach) would be to just 
completely do away with constructor access; make the constructors private or 
protected, and only allow factory methods to be used externally. This would 
have the benefit of even better readability: minimum number of arguments 
(method name would replace one or two args) and full type checking. Plus it'd 
be easier to modify implementations should that become necessary. Factory 
methods are especially useful for classes like Field, that are not designed 
to be sub-classed.

-+ Tatu +-


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9212-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 12 07:04:56 2004
Return-Path: <lucene-user-return-9212-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86029 invoked from network); 12 Jul 2004 07:04:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jul 2004 07:04:56 -0000
Received: (qmail 61536 invoked by uid 500); 12 Jul 2004 07:04:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60770 invoked by uid 500); 12 Jul 2004 07:04:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60756 invoked by uid 99); 12 Jul 2004 07:04:52 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [213.61.178.43] (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 00:04:48 -0700
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id DA6A923BDE
	for <lucene-user@jakarta.apache.org>; Mon, 12 Jul 2004 09:04:51 +0200 (CEST)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 08030-07 for <lucene-user@jakarta.apache.org>;
 Mon, 12 Jul 2004 09:04:51 +0200 (CEST)
Received: from tucholsky.office.tanto.de (unknown [10.0.1.4])
	by mail.tanto.de (Postfix) with ESMTP id B791E23B8F
	for <lucene-user@jakarta.apache.org>; Mon, 12 Jul 2004 09:04:51 +0200 (CEST)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id i6C74iGL021682
	for <lucene-user@jakarta.apache.org>; Mon, 12 Jul 2004 09:04:44 +0200
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id i6C74hOU021678;
	Mon, 12 Jul 2004 09:04:43 +0200
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16626.14347.614667.242087@tanto-xipolis.de>
Date: Mon, 12 Jul 2004 09:04:43 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Lucene shouldn't use java.io.tmpdir
In-Reply-To: <40EED0A6.40305@apache.org>
References: <7A1D7964C7C943419AB6D2C323383853036778CC@excsrv44.mayo.edu>
	<40EED0A6.40305@apache.org>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting writes:
> Armbrust, Daniel C. wrote:
> > The problem I ran into the other day with the new lock location is that Person A had started an index, ran into problems, erased the index and asked me to look at it.  I tried to rebuild the index (in the same place on a Solaris machine) and found out that A) - her locks still existed, B) - I didn't have a clue where it put the locks on the Solaris machine (since no full path was given with the error - has this been fixed?) and C) - I didn't have permission to remove her locks.
> 
> I think these problems have been fixed.  When an index is created, all 
> old locks are first removed.  And when a lock cannot be obtained, it's 
> full pathname is printed.  Can you replicate this with 1.4-final?
>
Hmm.
If user A creates a lock in /tmp and lucene crashes leaving the lock, user
B won't be able to remove the lock (unless B is root) since /tmp usually
has permissions 
drwxrwxrwt   12 root     root         8192 Jul 12 08:50 tmp/
were the 't' means that normal users may delete only their own files 
(at least on linux and IIRC solaris).

Or did I miss something?
Lucene might work around this by creating a directory in java.io.tmpdir
setting apropriate permission (can that be done with java os independently?)
and put the lock there.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9213-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 12 07:14:18 2004
Return-Path: <lucene-user-return-9213-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91550 invoked from network); 12 Jul 2004 07:14:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jul 2004 07:14:17 -0000
Received: (qmail 69520 invoked by uid 500); 12 Jul 2004 07:14:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69341 invoked by uid 500); 12 Jul 2004 07:14:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69328 invoked by uid 99); 12 Jul 2004 07:14:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [194.25.134.17] (HELO mailout02.sul.t-online.com) (194.25.134.17)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 00:14:04 -0700
Received: from fwd00.aul.t-online.de 
	by mailout02.sul.t-online.com with smtp 
	id 1Bjv0j-0000Eo-0A; Mon, 12 Jul 2004 09:14:01 +0200
Received: from pD9EBF346.dip.t-dialin.net (XKn+v0ZAreHVmlmeuLL0euB6N-xKTwCBJLmxqjopF8lC1XP9cT4nQd@[217.235.243.70]) by fmrl00.sul.t-online.com
	with esmtp id 1Bjv0U-0mTYYa0; Mon, 12 Jul 2004 09:13:46 +0200
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Lucene shouldn't use java.io.tmpdir
Date: Mon, 12 Jul 2004 09:14:13 +0200
User-Agent: KMail/1.6.82
References: <7A1D7964C7C943419AB6D2C323383853036778CC@excsrv44.mayo.edu> <40EED0A6.40305@apache.org> <16626.14347.614667.242087@tanto-xipolis.de>
In-Reply-To: <16626.14347.614667.242087@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200407120914.13443@danielnaber.de>
X-Seen: false
X-ID: XKn+v0ZAreHVmlmeuLL0euB6N-xKTwCBJLmxqjopF8lC1XP9cT4nQd@t-dialin.net
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday 12 July 2004 09:04, Morus Walter wrote:

> Lucene might work around this by creating a directory in java.io.tmpdir
> setting apropriate permission (can that be done with java os
> independently?) and put the lock there.

But if everybody can delete your lock files, that would be a security 
problem. Deleting stale locks isn't a problem, but how would one decide if 
a lock is stale?

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9214-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 12 09:43:08 2004
Return-Path: <lucene-user-return-9214-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78817 invoked from network); 12 Jul 2004 09:43:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jul 2004 09:43:08 -0000
Received: (qmail 45268 invoked by uid 500); 12 Jul 2004 09:43:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45243 invoked by uid 500); 12 Jul 2004 09:42:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45230 invoked by uid 99); 12 Jul 2004 09:42:59 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [193.96.115.65] (HELO relay.materna.de) (193.96.115.65)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 02:42:56 -0700
Received: from ganymed.materna.de (ganymed [139.2.34.141])
	by relay.materna.de (Postfix) with ESMTP id 1557C67FC
	for <lucene-user@jakarta.apache.org>; Mon, 12 Jul 2004 11:42:48 +0200 (MEST)
Received: from ganymed.materna.de (localhost [127.0.0.1])
	by mail.materna.de (Postfix) with ESMTP id 1B47A25360
	for <lucene-user@jakarta.apache.org>; Mon, 12 Jul 2004 11:42:48 +0200 (MEST)
Received: from ntexc0mat.materna.com (ntexc0mat.materna.com [139.2.35.5])
	by mail.materna.de (Postfix) with ESMTP id EA93F2535D
	for <lucene-user@jakarta.apache.org>; Mon, 12 Jul 2004 11:42:47 +0200 (MEST)
Received: by ntexc0mat.materna.com with Internet Mail Service (5.5.2657.72)
	id <3XQLSQB4>; Mon, 12 Jul 2004 11:42:47 +0200
Message-ID: <FA8D2061DD37E848AD6D4244EF0DED5602C68E0A@ntexc3mat.materna.com>
From: Martin.Stein@materna.de
To: lucene-user@jakarta.apache.org
Subject: AW: Understanding TooManyClauses-Exception and  Query-RAM-size
Date: Mon, 12 Jul 2004 11:42:42 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Kevin,

thanks for your answer. That could really solve the problem with the
modificationDate or similar fields.

But what if you create queries that ultimately return only a few hits =
but
contain a RangeQuery that searches for example an ID-Field of some =
kind,
where you have to cover a wide range of IDs? I think in general, you =
will
always have fields that contain lots of different terms and searching =
even a
small range of one of these fields may lead to this Exception.=20

The bottom line in my opinion is, that you have to take care for =
yourself,
not to create certain type of queries that could lead to this =
Exception. The
type of query completely depends on the index which means as the index =
grows
you have to restrict the ranges of more and more rangequeries.

One way would be, to catch this Exception and gracefully present a =
message
to the user to further restrict his query. But this could lead to some
confusion, if the user knows that he has entered some very restrictive =
query
in addition to some RangeQuery that internally leads to this Exception. =


What I  really would like to see are some best practices or some advice =
from
some users who are working with really large indices how they handle =
this
situation, or why they  don't have to  care about it or maybe why I am
completely missing the point ;-))


Thanks,

Martin


-----Urspr=FCngliche Nachricht-----
Von: Kevin A. Burton [mailto:burton@newsmonster.org]
Gesendet: Donnerstag, 8. Juli 2004 21:11
An: Lucene Users List
Betreff: Re: Understanding TooManyClauses-Exception and Query-RAM-size


Martin.Stein@materna.de wrote:

>Hi,
>
>a couple of weeks ago we migrated from Lucene 1.2 to 1.4rc3. =
Everything
went
>smoothly, but we are experiencing some problems with that new constant
limit
>
>
>	maxClauseCount=3D1024
>
>which leeds to Exceptions of type=20
>
>	org.apache.lucene.search.BooleanQuery$TooManyClauses=20
>
>when certain RangeQueries are executed (in fact, we get this Excpetion =
when
>we execute certain Wildcard queries, too). Although we are working =
with a
>fairly small index with about 35.000 documents, we encounter this =
Exception
>when we search for the property "modificationDate". For example
>
>	modificationDate:[000000 TO 0dwc970kw]=20
>
> =20
>
We talked about this the other day.

http://wiki.apache.org/jakarta-lucene/IndexingDateFields

Find out what type of precision you need and use that.  If you only =
need=20
days or hours or minutes then use that.   Millis is just too small.=20

We're only using days and have queries for just the last 7 days as max=20
so this really works out well...

Kevin

--=20

Please reply using PGP.

    http://peerfear.org/pubkey.asc   =20
   =20
    NewsMonster - http://www.newsmonster.org/
   =20
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9215-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 12 14:10:48 2004
Return-Path: <lucene-user-return-9215-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60303 invoked from network); 12 Jul 2004 14:10:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jul 2004 14:10:48 -0000
Received: (qmail 47311 invoked by uid 500); 12 Jul 2004 14:10:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47279 invoked by uid 500); 12 Jul 2004 14:10:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47266 invoked by uid 99); 12 Jul 2004 14:10:40 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [141.156.69.115] (HELO mail.infosciences.com) (141.156.69.115)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 07:10:35 -0700
Received: from Aviran (unknown [141.156.69.109])
	by mail.infosciences.com (Postfix) with ESMTP id 111BA1182D3
	for <lucene-user@jakarta.apache.org>; Mon, 12 Jul 2004 10:12:56 -0400 (EDT)
From: "Aviran" <amordo@infosciences.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Lucene Search has poor cpu utilization on a 4-CPU machine
Date: Mon, 12 Jul 2004 10:27:04 -0400
Message-ID: <003101c4681c$50c7f070$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all,
First let me explain what I found out. I'm running Lucene on a 4 CPU =
server.
While doing some stress tests I've noticed (by doing full thread dump) =
that
searching threads are blocked on the method: public FieldInfo =
fieldInfo(int
fieldNumber) This causes for a significant cpu idle time.=20
I noticed that the class org.apache.lucene.index.FieldInfos uses private
class members Vector byNumber and Hashtable byName, both of which are
synchronized objects. By changing the Vector byNumber to ArrayList =
byNumber
I was able to get 110% improvement in performance (number of searches =
per
second).
=20
My question is: do the fields byNumber and byName have to be =
synchronized
and what can happen if I'll change them to be ArrayList and HashMap =
which
are not synchronized ? Can this corrupt the index or the integrity of =
the
results?

Thanks,
Aviran



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9216-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 12 14:16:46 2004
Return-Path: <lucene-user-return-9216-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64299 invoked from network); 12 Jul 2004 14:16:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jul 2004 14:16:45 -0000
Received: (qmail 61619 invoked by uid 500); 12 Jul 2004 14:16:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61584 invoked by uid 500); 12 Jul 2004 14:16:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61570 invoked by uid 99); 12 Jul 2004 14:16:38 -0000
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=LINES_OF_YELLING,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [63.100.163.104] (HELO mercury.corp.cyveillance.com) (63.100.163.104)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 07:16:35 -0700
Received: by mercury.corp.cyveillance.com with Internet Mail Service (5.5.2655.55)
	id <3MWJQ64W>; Mon, 12 Jul 2004 10:15:42 -0400
Message-ID: <E65AE9703B683F4C81B5B39C692EB26D1B0298@mercury.corp.cyveillance.com>
From: wallen@Cyveillance.com
To: lucene-user@jakarta.apache.org
Subject: RE: Field.java -> STORED, NOT_STORED, etc...
Date: Mon, 12 Jul 2004 10:15:39 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have 2 suggestions:

1) use Eclipse, or an IDE that references the javadoc with mouseovers
2) if you are going to create constants, consider using a bitflag.  Then
your constants can have a 2's value, ie

STORED = 1
INDEXED = 2
TOKENIZED = 4

Then you can have the constructor look like:

new Field("name", "value", STORED + TOKENIZED)

The constructor would break that down bitwise!

-----Original Message-----
From: Kevin A. Burton [mailto:burton@newsmonster.org]
Sent: Sunday, July 11, 2004 5:05 AM
To: Lucene Users List
Subject: Field.java -> STORED, NOT_STORED, etc...


I've been working with the Field class doing index conversions between 
an old index format to my new external content store proposal (thus the 
email about the 14M convert).

Anyway... I find the whole Field.Keyword, Field.Text thing confusing.  
The main problem is that the constructor to Field just takes booleans 
and if you forget the ordering of the booleans its very confusing.

new Field( "name", "value", true, false, true );

So looking at that you have NO idea what its doing without fetching javadoc.

So I added a few constants to my class:

new Field( "name", "value", NOT_STORED, INDEXED, NOT_TOKENIZED );

which IMO is a lot easier to maintain.

Why not add these constants to Field.java:

    public static final boolean STORED = true;
    public static final boolean NOT_STORED = false;

    public static final boolean INDEXED = true;
    public static final boolean NOT_INDEXED = false;

    public static final boolean TOKENIZED = true;
    public static final boolean NOT_TOKENIZED = false;

Of course you still have to remember the order but this becomes a lot 
easier to maintain.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9217-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 12 14:22:06 2004
Return-Path: <lucene-user-return-9217-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67664 invoked from network); 12 Jul 2004 14:22:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jul 2004 14:22:06 -0000
Received: (qmail 72288 invoked by uid 500); 12 Jul 2004 14:21:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72259 invoked by uid 500); 12 Jul 2004 14:21:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72239 invoked by uid 99); 12 Jul 2004 14:21:58 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [204.127.198.35] (HELO rwcrmhc11.comcast.net) (204.127.198.35)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 07:21:55 -0700
Received: from [192.168.0.104] (pcp04235632pcs.gnscrp01.va.comcast.net[68.86.186.23])
          by comcast.net (rwcrmhc11) with ESMTP
          id <2004071214215101300j0877e>; Mon, 12 Jul 2004 14:21:51 +0000
Message-ID: <40F29E72.5040900@ikestrel.com>
Date: Mon, 12 Jul 2004 10:21:38 -0400
From: Joel Shellman <joel@ikestrel.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040514
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  lucene-user@jakarta.apache.org
Subject: IndexSearcher usage and caching?
X-Enigmail-Version: 0.84.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm working on a document management system using lucene to search 
through all the documents.

This means that I'll be adding/updating/deleting documents at the same 
time searches are going on.

I thought to create an IndexSearcher and reuse it throughout, but that 
doesn't seem to work. If I do a search, then add a document, and do 
another search with the same IndexSearcher, it won't find the newly 
added document.

I'd rather not have to create a new IndexSearcher for every query... do 
I have to?

Thanks,

-joel shellman

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9218-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 12 14:27:11 2004
Return-Path: <lucene-user-return-9218-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71134 invoked from network); 12 Jul 2004 14:27:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jul 2004 14:27:11 -0000
Received: (qmail 80542 invoked by uid 500); 12 Jul 2004 14:27:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80472 invoked by uid 500); 12 Jul 2004 14:27:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80455 invoked by uid 99); 12 Jul 2004 14:27:03 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [216.136.173.240] (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Mon, 12 Jul 2004 07:27:00 -0700
Message-ID: <20040712142658.82377.qmail@web12703.mail.yahoo.com>
Received: from [211.95.204.100] by web12703.mail.yahoo.com via HTTP; Mon, 12 Jul 2004 07:26:58 PDT
Date: Mon, 12 Jul 2004 07:26:58 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: IndexSearcher usage and caching?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <40F29E72.5040900@ikestrel.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Cache/reuse your IndexSearcher.
On every search, check if the index has changed (there are methods for
that).
If it has changed, create a new IndexSearcher and assign it to your
IndexSearcher variable, and do not close the old IndexSearcher, just in
case something is still using it.

Otis

--- Joel Shellman <joel@ikestrel.com> wrote:
> I'm working on a document management system using lucene to search 
> through all the documents.
> 
> This means that I'll be adding/updating/deleting documents at the
> same 
> time searches are going on.
> 
> I thought to create an IndexSearcher and reuse it throughout, but
> that 
> doesn't seem to work. If I do a search, then add a document, and do 
> another search with the same IndexSearcher, it won't find the newly 
> added document.
> 
> I'd rather not have to create a new IndexSearcher for every query...
> do 
> I have to?
> 
> Thanks,
> 
> -joel shellman

> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9219-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 12 15:48:34 2004
Return-Path: <lucene-user-return-9219-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20070 invoked from network); 12 Jul 2004 15:48:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jul 2004 15:48:33 -0000
Received: (qmail 61419 invoked by uid 500); 12 Jul 2004 15:48:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61388 invoked by uid 500); 12 Jul 2004 15:48:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61374 invoked by uid 99); 12 Jul 2004 15:48:26 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_50_60,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [80.67.64.10] (HELO smtp2.akamai.com) (80.67.64.10)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 08:48:21 -0700
Received: from smtp2.akamai.com (vwall3.kendall.corp.akamai.com [172.17.4.35])
	by smtp2.akamai.com (8.12.10/8.12.10) with ESMTP id i6CFmGwM028023
	for <lucene-user@jakarta.apache.org>; Mon, 12 Jul 2004 11:48:16 -0400 (EDT)
Received: from USMA1EX-GATE1.kendall.corp.akamai.com (usma1ex-gate1.kendall.corp.akamai.com [172.17.0.215])
	by smtp2.akamai.com (8.12.10/8.12.10) with ESMTP id i6CFmFxX028018;
	Mon, 12 Jul 2004 11:48:15 -0400 (EDT)
Received: from USMA1EX-PRIV2.kendall.corp.akamai.com ([172.17.0.183]) by USMA1EX-GATE1.kendall.corp.akamai.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Mon, 12 Jul 2004 11:48:15 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C46827.A395F5BD"
Subject: RE: Browse by Letter within a Category
Date: Mon, 12 Jul 2004 11:48:13 -0400
Message-ID: <CABA0DCC5207904AAA5ECE8449E964CE02890BD6@usma1ex-priv2.kendall.corp.akamai.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Browse by Letter within a Category
Thread-Index: AcRlj3cHME6q+6OUQd2tEk7t0CUeJgClteeQ
From: "O'Hare, Thomas" <tohare@akamai.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
        <daniel.naber@t-online.de>
X-OriginalArrivalTime: 12 Jul 2004 15:48:15.0118 (UTC) FILETIME=[A4CDCAE0:01C46827]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C46827.A395F5BD
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Thank you for the suggestion. I implemented what you recommended and now
having it working. I'm sorting on the first word in the title.=20
=20
Does Lucene have a "beginning of line" query syntax, like the regular
expression ^ symbol? For example,
=20
title:^A*
=20
What is the best way to sort by a date? I currently have a date field
that is used for searching in the format YYYYMMDD as a Field.Keyword.=20
=20
Thanks,
Tom

  _____ =20

From: Daniel Naber [mailto:daniel.naber@t-online.de]=20
Sent: Friday, July 09, 2004 4:34 AM
To: Lucene Users List
Subject: Re: Browse by Letter within a Category



On Friday 09 July 2004 04:27, O'Hare, Thomas wrote:

> Searcher.search("category:\"Products\" AND title:\"A*\"", new
> Sort("title"));

You can only sort on fields which are not tokenized I think. So add an
extra
field with the title, but untokenized, just for sorting. Also, "A*"
might
slow down the query execution so you might want to add another field
which
just contains the first letter so there's no need for the asterisk.

Regards
 Daniel


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




------_=_NextPart_001_01C46827.A395F5BD--

From lucene-user-return-9220-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 12 15:58:56 2004
Return-Path: <lucene-user-return-9220-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24632 invoked from network); 12 Jul 2004 15:58:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jul 2004 15:58:56 -0000
Received: (qmail 75105 invoked by uid 500); 12 Jul 2004 15:58:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74996 invoked by uid 500); 12 Jul 2004 15:58:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74955 invoked by uid 99); 12 Jul 2004 15:58:43 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [216.193.202.192] (HELO nasa.lunarpages.com) (216.193.202.192)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 08:58:39 -0700
Received: from pcp09870746pcs.ewndsr01.nj.comcast.net ([68.36.204.99] helo=pmc)
	by nasa.lunarpages.com with asmtp (Exim 4.34)
	id 1Bk3Cl-0002YX-Pt
	for lucene-user@jakarta.apache.org; Mon, 12 Jul 2004 08:58:59 -0700
Message-ID: <018301c46829$1701d380$6400a8c0@CORP.AD.FACTIVA.NET>
From: "Peter M Cipollone" <lu1@bihvhar.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <CABA0DCC5207904AAA5ECE8449E964CE02890BD6@usma1ex-priv2.kendall.corp.akamai.com>
Subject: Re: Browse by Letter within a Category
Date: Mon, 12 Jul 2004 11:58:27 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - nasa.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - bihvhar.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You can use
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/spans/SpanFirstQuery.html

Pete

----- Original Message ----- 
From: "O'Hare, Thomas" <tohare@akamai.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>;
<daniel.naber@t-online.de>
Sent: Monday, July 12, 2004 11:48 AM
Subject: RE: Browse by Letter within a Category


Thank you for the suggestion. I implemented what you recommended and now
having it working. I'm sorting on the first word in the title.

Does Lucene have a "beginning of line" query syntax, like the regular
expression ^ symbol? For example,

title:^A*


What is the best way to sort by a date? I currently have a date field
that is used for searching in the format YYYYMMDD as a Field.Keyword.

Thanks,
Tom

  _____

From: Daniel Naber [mailto:daniel.naber@t-online.de]
Sent: Friday, July 09, 2004 4:34 AM
To: Lucene Users List
Subject: Re: Browse by Letter within a Category



On Friday 09 July 2004 04:27, O'Hare, Thomas wrote:

> Searcher.search("category:\"Products\" AND title:\"A*\"", new
> Sort("title"));

You can only sort on fields which are not tokenized I think. So add an
extra
field with the title, but untokenized, just for sorting. Also, "A*"
might
slow down the query execution so you might want to add another field
which
just contains the first letter so there's no need for the asterisk.

Regards
 Daniel


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9221-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 12 16:29:33 2004
Return-Path: <lucene-user-return-9221-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41248 invoked from network); 12 Jul 2004 16:29:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jul 2004 16:29:33 -0000
Received: (qmail 35961 invoked by uid 500); 12 Jul 2004 16:29:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35813 invoked by uid 500); 12 Jul 2004 16:29:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35800 invoked by uid 99); 12 Jul 2004 16:29:26 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 09:29:21 -0700
Received: (qmail 79427 invoked by uid 89); 12 Jul 2004 16:29:20 -0000
Received: from unknown (HELO ?192.168.168.81?) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 12 Jul 2004 16:29:19 -0000
Message-ID: <40F2BC55.4090800@apache.org>
Date: Mon, 12 Jul 2004 09:29:09 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040619
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: AW: Understanding TooManyClauses-Exception and  Query-RAM-size
References: <FA8D2061DD37E848AD6D4244EF0DED5602C68E0A@ntexc3mat.materna.com>
In-Reply-To: <FA8D2061DD37E848AD6D4244EF0DED5602C68E0A@ntexc3mat.materna.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Martin.Stein@materna.de wrote:
> What I  really would like to see are some best practices or some advice from
> some users who are working with really large indices how they handle this
> situation, or why they  don't have to  care about it or maybe why I am
> completely missing the point ;-))

Many folks with really large indexes just don't permit things like 
wildcard and range searches.  For example, Google supports no wildcards 
and has only recently added limited numeric range searching.  Yahoo! 
supports neither.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9222-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 12 16:35:33 2004
Return-Path: <lucene-user-return-9222-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44704 invoked from network); 12 Jul 2004 16:35:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jul 2004 16:35:33 -0000
Received: (qmail 54663 invoked by uid 500); 12 Jul 2004 16:35:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54548 invoked by uid 500); 12 Jul 2004 16:35:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54467 invoked by uid 99); 12 Jul 2004 16:35:19 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=FORGED_RCVD_HELO,HTML_30_40,HTML_FONT_BIG,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [66.207.192.6] (HELO mta0.beanfield.net) (66.207.192.6)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 09:35:16 -0700
Received: from don.webimpact.com (66-207-218-34.beanfield.net [66.207.218.34] (may be forged))
	by mta0.beanfield.net (8.12.11/8.12.6) with ESMTP id i6CGZAZh005440
	for <lucene-user@jakarta.apache.org>; Mon, 12 Jul 2004 12:35:10 -0400 (EDT)
	(envelope-from donv@webimpact.com)
Message-Id: <6.1.1.1.0.20040712122830.01c67ec0@localhost>
X-Sender: donv@web-impact.com@localhost
X-Mailer: QUALCOMM Windows Eudora Version 6.1.1.1
Date: Mon, 12 Jul 2004 12:36:29 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Don Vaillancourt <donv@webimpact.com>
Subject: Anyone use MultiSearcher class
In-Reply-To: <6.1.1.1.0.20040707094035.01b50ec0@localhost>
References: <40EB8DC8.9040007@newsmonster.org>
 <40EB9726.9010300@bayt.net>
 <6.1.1.1.0.20040707094035.01b50ec0@localhost>
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====================_256379906==.ALT"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=====================_256379906==.ALT
Content-Type: text/plain; charset="us-ascii"; format=flowed

Hello,

Has anyone used the Multisearcher class?

I have noticed that searching two indexes using this MultiSearcher class 
takes 8 times longer than searching only one index.  I could understand if 
it took 3 to 4 times longer to search due to sorting the two search results 
and stuff, but why 8 times longer.

Is there some optimization that can be done to hasten the search?  Or 
should I just write my own MultiSearcher.  The problem though is that there 
is no way for me to create my own Hits object (no methods are available and 
the class is final).

Anyone have any clue?

Thanks


Don Vaillancourt
Director of Software Development

WEB IMPACT INC.
416-815-2000 ext. 245
email: donv@web-impact.com
web: http://www.web-impact.com




This email message is intended only for the addressee(s)
and contains information that may be confidential and/or
copyright.  If you are not the intended recipient please
notify the sender by reply email and immediately delete
this email. Use, disclosure or reproduction of this email
by anyone other than the intended recipient(s) is strictly
prohibited. No representation is made that this email or
any attachments are free of viruses. Virus scanning is
recommended and is the responsibility of the recipient.












--=====================_256379906==.ALT--


From lucene-user-return-9223-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 12 16:41:59 2004
Return-Path: <lucene-user-return-9223-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48627 invoked from network); 12 Jul 2004 16:41:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jul 2004 16:41:59 -0000
Received: (qmail 70440 invoked by uid 500); 12 Jul 2004 16:41:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70326 invoked by uid 500); 12 Jul 2004 16:41:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70313 invoked by uid 99); 12 Jul 2004 16:41:52 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 09:41:50 -0700
Received: (qmail 93419 invoked by uid 89); 12 Jul 2004 16:41:48 -0000
Received: from unknown (HELO ?192.168.168.81?) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 12 Jul 2004 16:41:48 -0000
Message-ID: <40F2BF40.8030704@apache.org>
Date: Mon, 12 Jul 2004 09:41:36 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040619
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene Search has poor cpu utilization on a 4-CPU machine
References: <003101c4681c$50c7f070$6a00a8c0@Aviran>
In-Reply-To: <003101c4681c$50c7f070$6a00a8c0@Aviran>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Aviran wrote:
> First let me explain what I found out. I'm running Lucene on a 4 CPU server.
> While doing some stress tests I've noticed (by doing full thread dump) that
> searching threads are blocked on the method: public FieldInfo fieldInfo(int
> fieldNumber) This causes for a significant cpu idle time. 

What version of Lucene are you running?  Also, can you please send the 
stack traces of the blocked threads, or at least a description of them? 
  I'd be interested to see what context this happens in.  In particular, 
which IndexReader and Searcher/Scorer/Weight methods does it happen under?

> I noticed that the class org.apache.lucene.index.FieldInfos uses private
> class members Vector byNumber and Hashtable byName, both of which are
> synchronized objects. By changing the Vector byNumber to ArrayList byNumber
> I was able to get 110% improvement in performance (number of searches per
> second).

That's impressive!  Good job finding a bottleneck!

> My question is: do the fields byNumber and byName have to be synchronized
> and what can happen if I'll change them to be ArrayList and HashMap which
> are not synchronized ? Can this corrupt the index or the integrity of the
> results?

I think that is a safe change.  FieldInfos is only modifed by 
DocumentWriter and SegmentMerger, and there is no possibility of other 
threads accessing those instances.  Please submit a patch to the 
developer mailing list.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9224-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 12 17:10:36 2004
Return-Path: <lucene-user-return-9224-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62198 invoked from network); 12 Jul 2004 17:10:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jul 2004 17:10:35 -0000
Received: (qmail 37361 invoked by uid 500); 12 Jul 2004 17:10:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37321 invoked by uid 500); 12 Jul 2004 17:10:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37307 invoked by uid 99); 12 Jul 2004 17:10:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received: from [213.56.31.18] (HELO smtp2.clb.oleane.net) (213.56.31.18)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 10:10:22 -0700
Received: from smtp2.clb.oleane.net (localhost [127.0.0.1]) 
	by smtp2.clb.oleane.net (antivirus) with ESMTP id i6CHAHkJ025783
	for <lucene-user@jakarta.apache.org>; Mon, 12 Jul 2004 19:10:17 +0200
Received: from oleane.com (cust1.clb.oleane.net [213.56.31.97]) (authenticated)
	by smtp2.clb.oleane.net with ESMTP id i6CHAHsH025777
	for <lucene-user@jakarta.apache.org>; Mon, 12 Jul 2004 19:10:17 +0200
Date: Mon, 12 Jul 2004 19:10:17 +0200
Message-Id: <I0R115$DA7DCB236C21E86056A3CD1944FC32F9@oleane.com>
Subject: =?iso-8859-1?Q?Re:Anyone_use_MultiSearcher_class?=
MIME-Version: 1.0
X-Sensitivity: 3
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
From: "=?iso-8859-1?Q?fp235-5?=" <julien.nioche@lingway.com>
To: "=?iso-8859-1?Q?lucene-user?=" <lucene-user@jakarta.apache.org>
X-XaM3-API-Version: 3.2 R32 (B53pl7)
X-type: 0
X-SenderIP: 62.39.230.79
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

 =0D=0AI think there is a ParallelMultiSearcher class that extands Multis=
earcher. Have=0D=0Ayou tried it?=0D=0A=0D=0A---------- Debut du message i=
nitial -----------=0D=0A=0D=0ADe     : Don Vaillancourt <donv@webimpact.c=
om>=0D=0AA      : "Lucene Users List" <lucene-user@jakarta.apache.org>=0D=
=0ACopies : =0D=0ADate   : Mon, 12 Jul 2004 12:36:29 -0400=0D=0ASujet  : =
Anyone use MultiSearcher class=0D=0A=0D=0AHello,=0D=0A=0D=0AHas anyone us=
ed the Multisearcher class?=0D=0A=0D=0AI have noticed that searching two =
indexes using this MultiSearcher class =0D=0Atakes 8 times longer than se=
arching only one index.  I could understand if =0D=0Ait took 3 to 4 times=
 longer to search due to sorting the two search results =0D=0Aand stuff, =
but why 8 times longer.=0D=0A=0D=0AIs there some optimization that can be=
 done to hasten the search?  Or =0D=0Ashould I just write my own MultiSea=
rcher.  The problem though is that there =0D=0Ais no way for me to create=
 my own Hits object (no methods are available and =0D=0Athe class is fina=
l).=0D=0A=0D=0AAnyone have any clue?=0D=0A=0D=0AThanks=0D=0A=0D=0A=0D=0AD=
on Vaillancourt=0D=0ADirector of Software Development=0D=0A=0D=0AWEB IMPA=
CT INC.=0D=0A416-815-2000 ext. 245=0D=0Aemail: donv@web-impact.com=0D=0Aw=
eb: http://www.web-impact.com=0D=0A=0D=0A=0D=0A=0D=0A=0D=0AThis email mes=
sage is intended only for the addressee(s)=0D=0Aand contains information =
that may be confidential and/or=0D=0Acopyright.  If you are not the inten=
ded recipient please=0D=0Anotify the sender by reply email and immediatel=
y delete=0D=0Athis email. Use, disclosure or reproduction of this email=0D=
=0Aby anyone other than the intended recipient(s) is strictly=0D=0Aprohib=
ited. No representation is made that this email or=0D=0Aany attachments a=
re free of viruses. Virus scanning is=0D=0Arecommended and is the respons=
ibility of the recipient.=0D=0A=0D=0A=0D=0A=0D=0A=0D=0A=0D=0A=0D=0A=0D=0A=
=0D=0A=0D=0A=0D=0A=0D=0A=0D=0A


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9225-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 12 17:23:51 2004
Return-Path: <lucene-user-return-9225-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68604 invoked from network); 12 Jul 2004 17:23:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jul 2004 17:23:50 -0000
Received: (qmail 70044 invoked by uid 500); 12 Jul 2004 17:23:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70023 invoked by uid 500); 12 Jul 2004 17:23:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70010 invoked by uid 99); 12 Jul 2004 17:23:43 -0000
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=FORGED_RCVD_HELO,HTML_20_30,HTML_FONT_BIG,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [66.207.192.6] (HELO mta0.beanfield.net) (66.207.192.6)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 10:23:39 -0700
Received: from don.webimpact.com (66-207-218-34.beanfield.net [66.207.218.34] (may be forged))
	by mta0.beanfield.net (8.12.11/8.12.6) with ESMTP id i6CHNZZE016752
	for <lucene-user@jakarta.apache.org>; Mon, 12 Jul 2004 13:23:35 -0400 (EDT)
	(envelope-from donv@webimpact.com)
Message-Id: <6.1.1.1.0.20040712132207.01b33ec0@localhost>
X-Sender: donv@web-impact.com@localhost
X-Mailer: QUALCOMM Windows Eudora Version 6.1.1.1
Date: Mon, 12 Jul 2004 13:24:13 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Don Vaillancourt <donv@webimpact.com>
Subject: Re:Anyone use MultiSearcher class
In-Reply-To: <I0R115$DA7DCB236C21E86056A3CD1944FC32F9@oleane.com>
References: <I0R115$DA7DCB236C21E86056A3CD1944FC32F9@oleane.com>
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====================_259285078==.ALT"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=====================_259285078==.ALT
Content-Type: text/plain; charset="us-ascii"; format=flowed

Actually, after I implemented the MultiSeacher, I had totally forgotten 
about this class.  Although it isn't clear what I does.  I'm assuming that 
it uses threads to search multiple indexes.

I'll have to try it.

Thanks

At 01:10 PM 12/07/2004, you wrote:
>
>I think there is a ParallelMultiSearcher class that extands Multisearcher. 
>Have
>you tried it?
>
>---------- Debut du message initial -----------
>
>De     : Don Vaillancourt <donv@webimpact.com>
>A      : "Lucene Users List" <lucene-user@jakarta.apache.org>
>Copies :
>Date   : Mon, 12 Jul 2004 12:36:29 -0400
>Sujet  : Anyone use MultiSearcher class
>
>Hello,
>
>Has anyone used the Multisearcher class?
>
>I have noticed that searching two indexes using this MultiSearcher class
>takes 8 times longer than searching only one index.  I could understand if
>it took 3 to 4 times longer to search due to sorting the two search results
>and stuff, but why 8 times longer.
>
>Is there some optimization that can be done to hasten the search?  Or
>should I just write my own MultiSearcher.  The problem though is that there
>is no way for me to create my own Hits object (no methods are available and
>the class is final).
>
>Anyone have any clue?
>
>Thanks
>
>
>Don Vaillancourt
>Director of Software Development
>
>WEB IMPACT INC.
>416-815-2000 ext. 245
>email: donv@web-impact.com
>web: http://www.web-impact.com
>
>
>
>
>This email message is intended only for the addressee(s)
>and contains information that may be confidential and/or
>copyright.  If you are not the intended recipient please
>notify the sender by reply email and immediately delete
>this email. Use, disclosure or reproduction of this email
>by anyone other than the intended recipient(s) is strictly
>prohibited. No representation is made that this email or
>any attachments are free of viruses. Virus scanning is
>recommended and is the responsibility of the recipient.
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org

Don Vaillancourt
Director of Software Development

WEB IMPACT INC.
416-815-2000 ext. 245
email: donv@web-impact.com
web: http://www.web-impact.com




This email message is intended only for the addressee(s)
and contains information that may be confidential and/or
copyright.  If you are not the intended recipient please
notify the sender by reply email and immediately delete
this email. Use, disclosure or reproduction of this email
by anyone other than the intended recipient(s) is strictly
prohibited. No representation is made that this email or
any attachments are free of viruses. Virus scanning is
recommended and is the responsibility of the recipient.












--=====================_259285078==.ALT--


From lucene-user-return-9226-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 12 17:26:36 2004
Return-Path: <lucene-user-return-9226-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69945 invoked from network); 12 Jul 2004 17:26:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jul 2004 17:26:35 -0000
Received: (qmail 76752 invoked by uid 500); 12 Jul 2004 17:26:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76708 invoked by uid 500); 12 Jul 2004 17:26:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76695 invoked by uid 99); 12 Jul 2004 17:26:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [194.159.73.194] (HELO post-24.mail.nl.demon.net) (194.159.73.194)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 10:26:26 -0700
Received: from mda.demon.nl ([212.238.156.229]:34944 helo=[127.0.0.1])
	by post-24.mail.nl.demon.net with esmtp (Exim 4.34)
	id 1Bk4ZJ-000Ji1-Ll; Mon, 12 Jul 2004 17:26:22 +0000
Message-ID: <40F2CA2A.4060103@zilverline.org>
Date: Mon, 12 Jul 2004 19:28:10 +0200
From: Zilverline info <info@zilverline.org>
User-Agent: Mozilla Thunderbird 0.7.1 (Windows/20040626)
X-Accept-Language: nl, en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Anyone use MultiSearcher class
References: <40EB8DC8.9040007@newsmonster.org> <40EB9726.9010300@bayt.net> <6.1.1.1.0.20040707094035.01b50ec0@localhost> <6.1.1.1.0.20040712122830.01c67ec0@localhost>
In-Reply-To: <6.1.1.1.0.20040712122830.01c67ec0@localhost>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Don,

Yes, I'm using the MultiSearcher (in Zilverline), and have seen no 
serious performance issues with it. The app performs well with multiple 
indexes, it's responds so quick (with 100k+ documents) that I haven't 
even taken the time to measure the difference to a single index search.
Michael Franken

Don Vaillancourt wrote:

> Hello,
>
> Has anyone used the Multisearcher class?
>
> I have noticed that searching two indexes using this MultiSearcher 
> class takes 8 times longer than searching only one index.  I could 
> understand if it took 3 to 4 times longer to search due to sorting the 
> two search results and stuff, but why 8 times longer.
>
> Is there some optimization that can be done to hasten the search?  Or 
> should I just write my own MultiSearcher.  The problem though is that 
> there is no way for me to create my own Hits object (no methods are 
> available and the class is final).
>
> Anyone have any clue?
>
> Thanks
>
>
> Don Vaillancourt
> Director of Software Development
>
> WEB IMPACT INC.
> 416-815-2000 ext. 245
> email: donv@web-impact.com
> web: http://www.web-impact.com
>
>
>
>
> This email message is intended only for the addressee(s)
> and contains information that may be confidential and/or
> copyright.  If you are not the intended recipient please
> notify the sender by reply email and immediately delete
> this email. Use, disclosure or reproduction of this email
> by anyone other than the intended recipient(s) is strictly
> prohibited. No representation is made that this email or
> any attachments are free of viruses. Virus scanning is
> recommended and is the responsibility of the recipient.
>
>
>
>
>
>
>
>
>
>
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9227-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 12 17:31:10 2004
Return-Path: <lucene-user-return-9227-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71780 invoked from network); 12 Jul 2004 17:31:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jul 2004 17:31:10 -0000
Received: (qmail 85238 invoked by uid 500); 12 Jul 2004 17:31:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85108 invoked by uid 500); 12 Jul 2004 17:31:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85095 invoked by uid 99); 12 Jul 2004 17:31:02 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [141.156.69.115] (HELO mail.infosciences.com) (141.156.69.115)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 10:30:59 -0700
Received: from Aviran (unknown [141.156.69.109])
	by mail.infosciences.com (Postfix) with ESMTP id 79A271182D3
	for <lucene-user@jakarta.apache.org>; Mon, 12 Jul 2004 13:33:17 -0400 (EDT)
From: "Aviran" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Lucene Search has poor cpu utilization on a 4-CPU machine
Date: Mon, 12 Jul 2004 13:47:36 -0400
Message-ID: <003f01c46838$51164dd0$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
In-Reply-To: <40F2BF40.8030704@apache.org>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I use Lucene 1.4 final

Here is the thread dump for one blocked thread (If you want a full =
thread
dump for all threads I can do that too)

"Thread-32" daemon prio=3D1 tid=3D0x082334c0 nid=3D0xa66 waiting for =
monitor entry
[4f385000..4f38687c]
        at java.util.Vector.elementAt(Vector.java:430)
        - waiting to lock <0x452b93a8> (a java.util.Vector)
        at =
org.apache.lucene.index.FieldInfos.fieldInfo(FieldInfos.java:155)
        at =
org.apache.lucene.index.FieldInfos.fieldName(FieldInfos.java:151)
        at
org.apache.lucene.index.SegmentTermEnum.readTerm(SegmentTermEnum.java:149=
)
        at
org.apache.lucene.index.SegmentTermEnum.next(SegmentTermEnum.java:115)
        at
org.apache.lucene.index.TermInfosReader.scanEnum(TermInfosReader.java:143=
)
        at
org.apache.lucene.index.TermInfosReader.get(TermInfosReader.java:137)
        at
org.apache.lucene.index.SegmentTermDocs.seek(SegmentTermDocs.java:51)
        at
org.apache.lucene.index.IndexReader.termDocs(IndexReader.java:364)
        at
org.apache.lucene.search.TermQuery$TermWeight.scorer(TermQuery.java:59)
        at
org.apache.lucene.search.BooleanQuery$BooleanWeight.scorer(BooleanQuery.j=
ava
:165)
        at
org.apache.lucene.search.BooleanQuery$BooleanWeight.scorer(BooleanQuery.j=
ava
:165)
        at
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:154)
        at
gov.gsa.search.SearcherByPageAndSortedField.search(SearcherByPageAndSorte=
dFi
eld.java:317)
        at
gov.gsa.search.SearcherByPageAndSortedField.search(SearcherByPageAndSorte=
dFi
eld.java:203)
        at
gov.gsa.search.grants.SearchGrants.searchByPageAndSortedField(SearchGrant=
s.j
ava:308)
        at
gov.gsa.search.grants.SearchServlet.searchByIndex(SearchServlet.java:1541=
)
        at
gov.gsa.search.grants.SearchServlet.getResults(SearchServlet.java:1325)
        at =
gov.gsa.search.grants.SearchServlet.doGet(SearchServlet.java:500)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:740)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)
        at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applicat=
ion
FilterChain.java:247)
        at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilte=
rCh
ain.java:193)
        at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve=
.ja
va:256)
        at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.in=
vok
eNext(StandardPipeline.java:643)
        at
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:48=
0)
        at
org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
        at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve=
.ja
va:191)
        at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.in=
vok
eNext(StandardPipeline.java:643)
        at
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:48=
0)
        at
org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
        at
org.apache.catalina.core.StandardContext.invoke(StandardContext.java:2415=
)
        at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:=
180
)
        at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.in=
vok
eNext(StandardPipeline.java:643)
        at
org.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatcherVal=
ve.
java:171)
        at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.in=
vok
eNext(StandardPipeline.java:641)
        at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:=
172
)
        at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.in=
vok
eNext(StandardPipeline.java:641)
        at
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:48=
0)
        at
org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
        at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.j=
ava
:174)
        at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.in=
vok
eNext(StandardPipeline.java:643)
        at
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:48=
0)
        at
org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
        at
org.apache.coyote.tomcat4.CoyoteAdapter.service(CoyoteAdapter.java:223)
        at
org.apache.jk.server.JkCoyoteHandler.invoke(JkCoyoteHandler.java:261)
        at
org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:360)
        at =
org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:604)
        at
org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:5=
62)
        at
org.apache.jk.common.SocketConnection.runIt(ChannelSocket.java:679)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.=
jav
a:619)
        at java.lang.Thread.run(Thread.java:534)


And how do I submit a patch to the developer mailing list? Just attach a
changed java file to an email?

Aviran

-----Original Message-----
From: Doug Cutting [mailto:cutting@apache.org]=20
Sent: Monday, July 12, 2004 12:42 PM
To: Lucene Users List
Subject: Re: Lucene Search has poor cpu utilization on a 4-CPU machine


Aviran wrote:
> First let me explain what I found out. I'm running Lucene on a 4 CPU=20
> server. While doing some stress tests I've noticed (by doing full=20
> thread dump) that searching threads are blocked on the method: public=20
> FieldInfo fieldInfo(int
> fieldNumber) This causes for a significant cpu idle time.=20

What version of Lucene are you running?  Also, can you please send the=20
stack traces of the blocked threads, or at least a description of them?=20
  I'd be interested to see what context this happens in.  In particular, =

which IndexReader and Searcher/Scorer/Weight methods does it happen =
under?

> I noticed that the class org.apache.lucene.index.FieldInfos uses=20
> private class members Vector byNumber and Hashtable byName, both of=20
> which are synchronized objects. By changing the Vector byNumber to=20
> ArrayList byNumber I was able to get 110% improvement in performance=20
> (number of searches per second).

That's impressive!  Good job finding a bottleneck!

> My question is: do the fields byNumber and byName have to be=20
> synchronized and what can happen if I'll change them to be ArrayList=20
> and HashMap which are not synchronized ? Can this corrupt the index or =

> the integrity of the results?

I think that is a safe change.  FieldInfos is only modifed by=20
DocumentWriter and SegmentMerger, and there is no possibility of other=20
threads accessing those instances.  Please submit a patch to the=20
developer mailing list.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9228-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 12 17:38:22 2004
Return-Path: <lucene-user-return-9228-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74465 invoked from network); 12 Jul 2004 17:38:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jul 2004 17:38:22 -0000
Received: (qmail 603 invoked by uid 500); 12 Jul 2004 17:38:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 427 invoked by uid 500); 12 Jul 2004 17:38:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 414 invoked by uid 99); 12 Jul 2004 17:38:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 10:38:15 -0700
Received: (qmail 71467 invoked by uid 89); 12 Jul 2004 17:38:13 -0000
Received: from unknown (HELO ?192.168.168.81?) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 12 Jul 2004 17:38:13 -0000
Message-ID: <40F2CC7A.5050508@apache.org>
Date: Mon, 12 Jul 2004 10:38:02 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040619
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene Search has poor cpu utilization on a 4-CPU machine
References: <003f01c46838$51164dd0$6a00a8c0@Aviran>
In-Reply-To: <003f01c46838$51164dd0$6a00a8c0@Aviran>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Aviran wrote:
> I use Lucene 1.4 final
> 
> Here is the thread dump for one blocked thread (If you want a full thread
> dump for all threads I can do that too)

Thanks.  I think I get the point.  I recently removed a synchronization 
point higher in the stack, so that now this one shows up!

Whether or not you submit a patch, please file a bug report in Bugzilla 
with your proposed change, so that we don't lose track of this issue.

Thanks,

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9229-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 12 17:46:39 2004
Return-Path: <lucene-user-return-9229-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78091 invoked from network); 12 Jul 2004 17:46:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jul 2004 17:46:38 -0000
Received: (qmail 19087 invoked by uid 500); 12 Jul 2004 17:46:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19054 invoked by uid 500); 12 Jul 2004 17:46:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19041 invoked by uid 99); 12 Jul 2004 17:46:31 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [194.25.134.21] (HELO mailout10.sul.t-online.com) (194.25.134.21)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 10:46:28 -0700
Received: from fwd00.aul.t-online.de 
	by mailout10.sul.t-online.com with smtp 
	id 1Bk4sj-0004Fm-04; Mon, 12 Jul 2004 19:46:25 +0200
Received: from p54802FD4.dip.t-dialin.net (bLj9G6ZfgeG+N9raUkzD9TCr6YvHA5TckU6RUCJ6z7LwbhgQP2VKc2@[84.128.47.212]) by fmrl00.sul.t-online.com
	with esmtp id 1Bk4sV-0666FM0; Mon, 12 Jul 2004 19:46:11 +0200
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Browse by Letter within a Category
Date: Mon, 12 Jul 2004 19:46:41 +0200
User-Agent: KMail/1.6.82
References: <CABA0DCC5207904AAA5ECE8449E964CE02890BD6@usma1ex-priv2.kendall.corp.akamai.com>
In-Reply-To: <CABA0DCC5207904AAA5ECE8449E964CE02890BD6@usma1ex-priv2.kendall.corp.akamai.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200407121946.41471@danielnaber.de>
X-ID: bLj9G6ZfgeG+N9raUkzD9TCr6YvHA5TckU6RUCJ6z7LwbhgQP2VKc2@t-dialin.net
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday 12 July 2004 17:48, O'Hare, Thomas wrote:

> Does Lucene have a "beginning of line" query syntax, like the regular
> expression ^ symbol? For example,
> =C2=A0
> title:^A*

If your title isn't tokenized the "^" is implicit, I think. As usual, if=20
your title is tokenized you can easily add another field with the same=20
value as title, but in untokenized form.

> What is the best way to sort by a date? I currently have a date field
> that is used for searching in the format YYYYMMDD as a Field.Keyword.=20

Lucene 1.4 added an IndexSearcher.search() method that takes a Sort()=20
object which lets you sort by any field. Your date field can be used for=20
that, as it has the correct format (because sorting it alphabetically will=
=20
give you the right order already).

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9230-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 12 17:50:34 2004
Return-Path: <lucene-user-return-9230-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79788 invoked from network); 12 Jul 2004 17:50:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jul 2004 17:50:33 -0000
Received: (qmail 27683 invoked by uid 500); 12 Jul 2004 17:50:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27605 invoked by uid 500); 12 Jul 2004 17:50:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27587 invoked by uid 99); 12 Jul 2004 17:50:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [141.156.69.115] (HELO mail.infosciences.com) (141.156.69.115)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 10:50:25 -0700
Received: from Aviran (unknown [141.156.69.109])
	by mail.infosciences.com (Postfix) with ESMTP id 9CF011182D3
	for <lucene-user@jakarta.apache.org>; Mon, 12 Jul 2004 13:52:45 -0400 (EDT)
From: "Aviran" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Lucene Search has poor cpu utilization on a 4-CPU machine
Date: Mon, 12 Jul 2004 14:07:04 -0400
Message-ID: <004501c4683b$09724760$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
In-Reply-To: <40F2CC7A.5050508@apache.org>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Bug 30058 posted

Aviran

-----Original Message-----
From: Doug Cutting [mailto:cutting@apache.org] 
Sent: Monday, July 12, 2004 1:38 PM
To: Lucene Users List
Subject: Re: Lucene Search has poor cpu utilization on a 4-CPU machine


Aviran wrote:
> I use Lucene 1.4 final
> 
> Here is the thread dump for one blocked thread (If you want a full 
> thread dump for all threads I can do that too)

Thanks.  I think I get the point.  I recently removed a synchronization 
point higher in the stack, so that now this one shows up!

Whether or not you submit a patch, please file a bug report in Bugzilla 
with your proposed change, so that we don't lose track of this issue.

Thanks,

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9231-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 12 19:17:58 2004
Return-Path: <lucene-user-return-9231-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19887 invoked from network); 12 Jul 2004 19:17:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jul 2004 19:17:58 -0000
Received: (qmail 68294 invoked by uid 500); 12 Jul 2004 19:17:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68085 invoked by uid 500); 12 Jul 2004 19:17:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68069 invoked by uid 99); 12 Jul 2004 19:17:50 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=FROM_ENDS_IN_NUMS,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [216.148.212.185] (HELO w03.bloglines.com) (216.148.212.185)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Mon, 12 Jul 2004 12:17:47 -0700
Received: (qmail 6060 invoked by uid 99); 12 Jul 2004 19:17:44 -0000
Message-ID: <1089659864.2801577119.6050.sendItem@bloglines.com>
Date: 12 Jul 2004 19:17:44 -0000
From: yahootintin.1247688@bloglines.com
To: lucene-user@jakarta.apache.org
Subject: Exact match search
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I want to match documents that exactly equal a certain value, not just
contain it.

If I search for "foo" in Lucene I get back documents like these:

"foo"
"foo bar"
"bar foo"

Is there a way to just get the ones that exactly
equal the value I'm searching for?  In this case, I want to only return the
first document (ex. "foo").

I have a workaround where I store all the values
and then after I get the hits I go through them and skip those that don't
match.  But this will return result sets of hundreds of documents that I don't
need.

Help!

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9232-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 12 19:24:50 2004
Return-Path: <lucene-user-return-9232-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29480 invoked from network); 12 Jul 2004 19:24:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jul 2004 19:24:50 -0000
Received: (qmail 81466 invoked by uid 500); 12 Jul 2004 19:24:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81186 invoked by uid 500); 12 Jul 2004 19:24:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81173 invoked by uid 99); 12 Jul 2004 19:24:43 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=FORGED_RCVD_HELO,HTML_30_40,HTML_FONT_BIG,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [66.207.192.6] (HELO mta0.beanfield.net) (66.207.192.6)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 12:24:41 -0700
Received: from don.webimpact.com (66-207-218-34.beanfield.net [66.207.218.34] (may be forged))
	by mta0.beanfield.net (8.12.11/8.12.6) with ESMTP id i6CJOYNZ046302
	for <lucene-user@jakarta.apache.org>; Mon, 12 Jul 2004 15:24:34 -0400 (EDT)
	(envelope-from donv@webimpact.com)
Message-Id: <6.1.1.1.0.20040712152233.01b448e8@localhost>
X-Sender: donv@web-impact.com@localhost
X-Mailer: QUALCOMM Windows Eudora Version 6.1.1.1
Date: Mon, 12 Jul 2004 15:24:36 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Don Vaillancourt <donv@webimpact.com>
Subject: Re: Exact match search
In-Reply-To: <1089659864.2801577119.6050.sendItem@bloglines.com>
References: <1089659864.2801577119.6050.sendItem@bloglines.com>
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====================_266544500==.ALT"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=====================_266544500==.ALT
Content-Type: text/plain; charset="us-ascii"; format=flowed

How do you go about getting an exact match for a document that can contain 
hundreds of words?  As I understand it, when you tokenize a document it is 
broken into words so really all the results you show are exact matches.

At 03:17 PM 12/07/2004, you wrote:
>Hi,
>
>I want to match documents that exactly equal a certain value, not just
>contain it.
>
>If I search for "foo" in Lucene I get back documents like these:
>
>"foo"
>"foo bar"
>"bar foo"
>
>Is there a way to just get the ones that exactly
>equal the value I'm searching for?  In this case, I want to only return the
>first document (ex. "foo").
>
>I have a workaround where I store all the values
>and then after I get the hits I go through them and skip those that don't
>match.  But this will return result sets of hundreds of documents that I don't
>need.
>
>Help!
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org

Don Vaillancourt
Director of Software Development

WEB IMPACT INC.
416-815-2000 ext. 245
email: donv@web-impact.com
web: http://www.web-impact.com




This email message is intended only for the addressee(s)
and contains information that may be confidential and/or
copyright.  If you are not the intended recipient please
notify the sender by reply email and immediately delete
this email. Use, disclosure or reproduction of this email
by anyone other than the intended recipient(s) is strictly
prohibited. No representation is made that this email or
any attachments are free of viruses. Virus scanning is
recommended and is the responsibility of the recipient.












--=====================_266544500==.ALT--


From lucene-user-return-9233-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 12 19:38:57 2004
Return-Path: <lucene-user-return-9233-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37667 invoked from network); 12 Jul 2004 19:38:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jul 2004 19:38:57 -0000
Received: (qmail 5707 invoked by uid 500); 12 Jul 2004 19:38:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5661 invoked by uid 500); 12 Jul 2004 19:38:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5648 invoked by uid 99); 12 Jul 2004 19:38:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [194.25.134.19] (HELO mailout06.sul.t-online.com) (194.25.134.19)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 12:38:49 -0700
Received: from fwd03.aul.t-online.de 
	by mailout06.sul.t-online.com with smtp 
	id 1Bk6dS-0006GC-02; Mon, 12 Jul 2004 21:38:46 +0200
Received: from p54802299.dip.t-dialin.net (G-17O+ZLweOFCz6xz4unw9XX5Jo7YOzkvjRJl74kdvHYaR5ApZ3yop@[84.128.34.153]) by fmrl03.sul.t-online.com
	with esmtp id 1Bk6dL-1B59tY0; Mon, 12 Jul 2004 21:38:39 +0200
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Exact match search
Date: Mon, 12 Jul 2004 21:39:09 +0200
User-Agent: KMail/1.6.82
References: <1089659864.2801577119.6050.sendItem@bloglines.com>
In-Reply-To: <1089659864.2801577119.6050.sendItem@bloglines.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200407122139.09375@danielnaber.de>
X-Seen: false
X-ID: G-17O+ZLweOFCz6xz4unw9XX5Jo7YOzkvjRJl74kdvHYaR5ApZ3yop@t-dialin.net
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday 12 July 2004 21:17, yahootintin.1247688@bloglines.com wrote:

> I want to match documents that exactly equal a certain value, not just
> contain it.

Just don't tokenize your Fields, and make sure that the query also doesn't 
get tokenized (the easiest way to ensure that is probably to not use 
QueryParser but just build a TermQuery directly from the user's input).

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9234-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 12 20:52:30 2004
Return-Path: <lucene-user-return-9234-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70631 invoked from network); 12 Jul 2004 20:52:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jul 2004 20:52:30 -0000
Received: (qmail 18534 invoked by uid 500); 12 Jul 2004 20:52:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18515 invoked by uid 500); 12 Jul 2004 20:52:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18502 invoked by uid 99); 12 Jul 2004 20:52:23 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_80_90,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [65.161.4.46] (HELO smtp02corp.interwoven.com) (65.161.4.46)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 13:52:23 -0700
Received: from exbesv01.Interwoven.com (localhost [127.0.0.1])
	by smtp02corp.interwoven.com (8.12.10/8.12.10) with ESMTP id i6CKqKYO016047
	for <lucene-user@jakarta.apache.org>; Mon, 12 Jul 2004 13:52:20 -0700 (PDT)
Received: from exbecg01.Interwoven.com ([10.5.18.35]) by exbesv01.Interwoven.com with Microsoft SMTPSVC(6.0.3790.0);
	 Mon, 12 Jul 2004 13:52:20 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C46852.1F4DFA72"
Subject: Could search results give an idea of which field matched
Date: Mon, 12 Jul 2004 15:52:19 -0500
Message-ID: <91B8D84A21EFD746B9191AC1CFD665492C6AA8@exbecg01.Interwoven.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Could search results give an idea of which field matched
Thread-Index: AcRoUh8E14YWS6EOQOOAjy+ePS2SdA==
From: "Sildy Augustine" <saugustine@interwoven.com>
To: <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 12 Jul 2004 20:52:20.0534 (UTC) FILETIME=[1FEB5560:01C46852]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C46852.1F4DFA72
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I search the index on multiple fields. Could the search results also
tell me which field matched so that the document was selected? From what
I can tell, only the document number and a score are returned, is there
a way to also find out what was the field(s) of the document matched the
query?

=20

Sildy

=20


------_=_NextPart_001_01C46852.1F4DFA72--

From lucene-user-return-9235-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 12 20:59:46 2004
Return-Path: <lucene-user-return-9235-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75460 invoked from network); 12 Jul 2004 20:59:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jul 2004 20:59:46 -0000
Received: (qmail 32365 invoked by uid 500); 12 Jul 2004 20:59:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32324 invoked by uid 500); 12 Jul 2004 20:59:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32311 invoked by uid 99); 12 Jul 2004 20:59:38 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.230.248.25] (HELO gwia201.syr.edu) (128.230.248.25)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Mon, 12 Jul 2004 13:59:33 -0700
Received: from MTA2-MTA by gwia201.syr.edu
	with Novell_GroupWise; Mon, 12 Jul 2004 16:59:30 -0400
Message-Id: <s0f2c372.018@gwia201.syr.edu>
X-Mailer: Novell GroupWise Internet Agent 6.0.4
Date: Mon, 12 Jul 2004 16:59:00 -0400
From: "Grant Ingersoll" <gsingers@syr.edu>
To: <lucene-user@jakarta.apache.org>
Subject: Re: Could search results give an idea of which field matched
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

See the explain functionality in the Javadocs and previous threads.  You =
can ask Lucene to explain why it got the results it did for a give hit.

>>> saugustine@interwoven.com 07/12/04 04:52PM >>>
I search the index on multiple fields. Could the search results also
tell me which field matched so that the document was selected? From what
I can tell, only the document number and a score are returned, is there
a way to also find out what was the field(s) of the document matched the
query?

=20

Sildy

=20



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9236-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 12 21:08:00 2004
Return-Path: <lucene-user-return-9236-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79407 invoked from network); 12 Jul 2004 21:08:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jul 2004 21:08:00 -0000
Received: (qmail 44219 invoked by uid 500); 12 Jul 2004 21:07:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43996 invoked by uid 500); 12 Jul 2004 21:07:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43982 invoked by uid 99); 12 Jul 2004 21:07:54 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [205.142.197.62] (HELO n6mcgw16.cchmc.org) (205.142.197.62)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 14:07:51 -0700
Received: from DOMSVC03-MTA by n6mcgw16.cchmc.org
	with Novell_GroupWise; Mon, 12 Jul 2004 17:07:47 -0400
Message-Id: <s0f2c563.064@n6mcgw16.cchmc.org>
X-Mailer: Novell GroupWise Internet Agent 6.5.1 
Date: Mon, 12 Jul 2004 17:07:20 -0400
From: "Gerard Sychay" <Gerard.Sychay@cchmc.org>
To: <lucene-user@jakarta.apache.org>
Subject: Re: Field.java -> STORED, NOT_STORED, etc...
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think this is a great idea.

I've never used the Field.Keyword and Field.Text type methods because I
can never remember what their 3-boolean-argument equivalents are. I
always stick the constructor format in a comment somewhere and use it.

>>> Doug Cutting <cutting@apache.org> 07/11/04 12:03PM >>>
Doug Cutting wrote:
> The calls would look like:
> 
> new Field("name", "value", Stored.YES, Indexed.NO, Tokenized.YES);
> 
> Stored could be implemented as the nested class:
> 
> public final class Stored {
>   private Stored() {}
>   public static final Stored YES = new Stored();
>   public static final Stored NO = new Stored();
> }

Actually, while we're at it, Indexed and Tokenized are confounded.  A 
single entry would be better, something like:

public final class Index {
   private Index() {}
   public static final Index NO = new Index();
   public static final Index TOKENIZED = new Index();
   public static final Index UN_TOKENIZED = new Index();
}

then calls would look like just:

new Field("name", "value", Store.YES, Index.TOKENIZED);

BTW, I think Stored would be better named Store too.

BooleanQuery's required and prohibited flags could get the same 
treatment, with the addition of a nested class like:

public final class Occur {
   private Occur() {}
   public static final Occur MUST_NOT = new Occur();
   public static final Occur SHOULD = new Occur();
   public static final Occur MUST = new Occur();
}

and adding a boolean clause would look like:

booleanQuery.add(new TermQuery(...), Occur.MUST);

Then we can deprecate the old methods.

Comments?

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9237-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 00:41:06 2004
Return-Path: <lucene-user-return-9237-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54806 invoked from network); 13 Jul 2004 00:41:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 00:41:06 -0000
Received: (qmail 11513 invoked by uid 500); 13 Jul 2004 00:41:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11336 invoked by uid 500); 13 Jul 2004 00:40:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11323 invoked by uid 99); 13 Jul 2004 00:40:58 -0000
X-ASF-Spam-Status: No, hits=3.0 required=10.0
	tests=RCVD_IN_NJABL_PROXY,RCVD_IN_SORBS_HTTP,RCVD_IN_SORBS_MISC
X-Spam-Check-By: apache.org
Received: from [66.225.192.151] (HELO otherwise.scservers.com) (66.225.192.151)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 17:40:56 -0700
Received: from [192.168.1.10] (adsl-66-141-53-102.dsl.austtx.swbell.net [66.141.53.102])
	by otherwise.scservers.com (8.11.6/8.11.6) with ESMTP id i6D0Qfr30578
	for <lucene-user@jakarta.apache.org>; Mon, 12 Jul 2004 19:26:41 -0500
Mime-Version: 1.0 (Apple Message framework v618)
Content-Transfer-Encoding: 7bit
Message-Id: <480721AA-D465-11D8-BEEE-003065AB24D4@otherwise.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: Lucene Users List <lucene-user@jakarta.apache.org>
From: Bill Tschumy <bill@otherwise.com>
Subject: Optimizing the index
Date: Mon, 12 Jul 2004 19:40:47 -0500
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Is optimizing the index something you should do periodically even if 
you are continually adding documents.  I guess another way of asking 
the question is does optimization have any negative effects on speed of 
adding documents?
-- 
Bill Tschumy
Otherwise -- Austin, TX
http://www.otherwise.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9238-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 01:40:43 2004
Return-Path: <lucene-user-return-9238-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81455 invoked from network); 13 Jul 2004 01:40:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 01:40:43 -0000
Received: (qmail 66130 invoked by uid 500); 13 Jul 2004 01:40:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65356 invoked by uid 500); 13 Jul 2004 01:40:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65342 invoked by uid 99); 13 Jul 2004 01:40:39 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [12.43.53.196] (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 18:40:36 -0700
Received: from [192.168.1.105] ([12.43.53.196])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id i6D1eUXt023921
	for <lucene-user@jakarta.apache.org>; Mon, 12 Jul 2004 18:40:30 -0700
Message-ID: <40F33A13.1040304@newsmonster.org>
Date: Mon, 12 Jul 2004 18:25:39 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene Search has poor cpu utilization on a 4-CPU machine
References: <003101c4681c$50c7f070$6a00a8c0@Aviran> <40F2BF40.8030704@apache.org>
In-Reply-To: <40F2BF40.8030704@apache.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:

> I noticed that the class org.apache.lucene.index.FieldInfos uses private
>
>> class members Vector byNumber and Hashtable byName, both of which are
>> synchronized objects. By changing the Vector byNumber to ArrayList 
>> byNumber
>> I was able to get 110% improvement in performance (number of searches 
>> per
>> second).
>
>
> That's impressive! Good job finding a bottleneck!

Wow... thats awesome.

We have all dual XEONs with Hyperthreading and kernel 2.6 so I imagine 
in this situation we'd see an improvement too.

I wonder if we could break this out into a patch for legacy Lucene 
users. I'd like to see the stacktrace too.

We're using a lot of synchronized code (Hashtable, Vector, etc) so I'm 
willing to bet this is happening in other places.

>> My question is: do the fields byNumber and byName have to be 
>> synchronized
>> and what can happen if I'll change them to be ArrayList and HashMap 
>> which
>> are not synchronized ? Can this corrupt the index or the integrity of 
>> the
>> results?
>
>
> I think that is a safe change. FieldInfos is only modifed by 
> DocumentWriter and SegmentMerger, and there is no possibility of other 
> threads accessing those instances. Please submit a patch to the 
> developer mailing list.
>
That would be great!

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9239-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 01:46:06 2004
Return-Path: <lucene-user-return-9239-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82938 invoked from network); 13 Jul 2004 01:46:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 01:46:06 -0000
Received: (qmail 68854 invoked by uid 500); 13 Jul 2004 01:46:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68829 invoked by uid 500); 13 Jul 2004 01:46:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68815 invoked by uid 99); 13 Jul 2004 01:46:00 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [12.43.53.196] (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 18:45:58 -0700
Received: from [192.168.1.105] ([12.43.53.196])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id i6D1jvOR023985
	for <lucene-user@jakarta.apache.org>; Mon, 12 Jul 2004 18:45:57 -0700
Message-ID: <40F33B47.9070100@newsmonster.org>
Date: Mon, 12 Jul 2004 18:30:47 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Field.java -> STORED, NOT_STORED, etc...
References: <40F102A6.4090302@newsmonster.org> <40F15E56.3060808@apache.org>
In-Reply-To: <40F15E56.3060808@apache.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:

>
> It would be best to get the compiler to check the order.
>
> If we change this, why not use type-safe enumerations:
>
> http://www.javapractices.com/Topic1.cjp
>
> The calls would look like:
>
> new Field("name", "value", Stored.YES, Indexed.NO, Tokenized.YES);
>
> Stored could be implemented as the nested class:
>
> public final class Stored {
> private Stored() {}
> public static final Stored YES = new Stored();
> public static final Stored NO = new Stored();
> }

+1... I'm not in love with this pattern but since Java < 1.4 doesnt' 
support enum its better than nothing.

I also didn't want to submit a recommendation that would break APIs. I 
assume the old API would be deprecated?

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9240-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 01:48:24 2004
Return-Path: <lucene-user-return-9240-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83542 invoked from network); 13 Jul 2004 01:48:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 01:48:23 -0000
Received: (qmail 70588 invoked by uid 500); 13 Jul 2004 01:48:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70454 invoked by uid 500); 13 Jul 2004 01:48:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70441 invoked by uid 99); 13 Jul 2004 01:48:14 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [12.43.53.196] (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 18:48:14 -0700
Received: from [192.168.1.105] ([12.43.53.196])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id i6D1mDpF024028
	for <lucene-user@jakarta.apache.org>; Mon, 12 Jul 2004 18:48:13 -0700
Message-ID: <40F33BD0.40807@newsmonster.org>
Date: Mon, 12 Jul 2004 18:33:04 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Why is Field.java final?
References: <40F072B4.2060002@newsmonster.org> <40F15AB8.9020905@apache.org>
In-Reply-To: <40F15AB8.9020905@apache.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:

> Kevin A. Burton wrote:
>
>> I was going to create a new IDField class which just calls super( 
>> name, value, false, true, false) but noticed I was prevented because 
>> Field.java is final?
>
>
> You don't need to subclass to do this, just a static method somewhere.
>
>> Why is this? I can't see any harm in making it non-final...
>
>
> Field and Document are not designed to be extensible. They are 
> persisted in such a way that added methods are not available when the 
> field is restored. In other words, when a field is read, it always 
> constructs an instance of Field, not a subclass.

Thats fine... I think thats acceptable behavior. I don't think anyone 
would assume that inner vars are restored or that the field is serialized.

Not a big deal but it would be nice...

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9241-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 01:57:10 2004
Return-Path: <lucene-user-return-9241-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86029 invoked from network); 13 Jul 2004 01:57:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 01:57:10 -0000
Received: (qmail 75311 invoked by uid 500); 13 Jul 2004 01:57:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75197 invoked by uid 500); 13 Jul 2004 01:57:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75181 invoked by uid 99); 13 Jul 2004 01:57:04 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [12.43.53.196] (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 18:57:04 -0700
Received: from [192.168.1.105] ([12.43.53.196])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id i6D1v3sS024120
	for <lucene-user@jakarta.apache.org>; Mon, 12 Jul 2004 18:57:03 -0700
Message-ID: <40F33DF4.10806@newsmonster.org>
Date: Mon, 12 Jul 2004 18:42:12 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene Search has poor cpu utilization on a 4-CPU machine
References: <004501c4683b$09724760$6a00a8c0@Aviran>
In-Reply-To: <004501c4683b$09724760$6a00a8c0@Aviran>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Aviran wrote:

>Bug 30058 posted
>
>  
>
Which of course is here:

http://issues.apache.org/bugzilla/show_bug.cgi?id=30058

Is this the source of the revision you modified?

http://www.mail-archive.com/lucene-dev@jakarta.apache.org/msg06116.html

Also what version of Lucene?

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9242-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 04:51:27 2004
Return-Path: <lucene-user-return-9242-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51193 invoked from network); 13 Jul 2004 04:51:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 04:51:27 -0000
Received: (qmail 15668 invoked by uid 500); 13 Jul 2004 04:51:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15628 invoked by uid 500); 13 Jul 2004 04:51:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15610 invoked by uid 99); 13 Jul 2004 04:51:21 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_BY_IP,SB_NEW_BULK,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [216.239.56.240] (HELO mproxy.gmail.com) (216.239.56.240)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Mon, 12 Jul 2004 21:51:18 -0700
Received: by mproxy.gmail.com with SMTP id w29so9086991cwb
        for <lucene-user@jakarta.apache.org>; Mon, 12 Jul 2004 21:51:18 -0700 (PDT)
Received: by 10.11.118.39 with SMTP id q39mr135781cwc;
        Mon, 12 Jul 2004 21:51:18 -0700 (PDT)
Message-ID: <8837fb770407122151692c5d59@mail.gmail.com>
Date: Mon, 12 Jul 2004 21:51:18 -0700
From: John Wang <john.wang@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Why is Field.java final?
In-Reply-To: <40F33BD0.40807@newsmonster.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <40F072B4.2060002@newsmonster.org> <40F15AB8.9020905@apache.org> <40F33BD0.40807@newsmonster.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi:
   On the same thought, how about the org.apache.lucene.analysis.Token
class. Can we make it non-final?

   I sent out this question 3 different times and still got no responses...

Thanks

-John

On Mon, 12 Jul 2004 18:33:04 -0700, Kevin A. Burton
<burton@newsmonster.org> wrote:
> Doug Cutting wrote:
> 
> > Kevin A. Burton wrote:
> >
> >> I was going to create a new IDField class which just calls super(
> >> name, value, false, true, false) but noticed I was prevented because
> >> Field.java is final?
> >
> >
> > You don't need to subclass to do this, just a static method somewhere.
> >
> >> Why is this? I can't see any harm in making it non-final...
> >
> >
> > Field and Document are not designed to be extensible. They are
> > persisted in such a way that added methods are not available when the
> > field is restored. In other words, when a field is read, it always
> > constructs an instance of Field, not a subclass.
> 
> Thats fine... I think thats acceptable behavior. I don't think anyone
> would assume that inner vars are restored or that the field is serialized.
> 
> Not a big deal but it would be nice...
> 
> 
> 
> --
> 
> Please reply using PGP.
> 
>    http://peerfear.org/pubkey.asc
> 
>    NewsMonster - http://www.newsmonster.org/
> 
> Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
>       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
> GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
>  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9243-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 05:47:41 2004
Return-Path: <lucene-user-return-9243-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71840 invoked from network); 13 Jul 2004 05:47:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 05:47:40 -0000
Received: (qmail 55380 invoked by uid 500); 13 Jul 2004 05:47:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55351 invoked by uid 500); 13 Jul 2004 05:47:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55337 invoked by uid 99); 13 Jul 2004 05:47:32 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [216.98.200.82] (HELO hacienda.taluskie.com) (216.98.200.82)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 12 Jul 2004 22:47:29 -0700
Received: from taluskie.com (keymaster.taluskie.com [192.168.37.254])
	by hacienda.taluskie.com (8.11.6/8.11.6) with ESMTP id i6D5lNZ03081
	for <lucene-user@jakarta.apache.org>; Mon, 12 Jul 2004 23:47:23 -0600
Message-ID: <40F3781F.7070309@taluskie.com>
Date: Mon, 12 Jul 2004 23:50:23 -0600
From: Vince Taluskie <vince@taluskie.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.7a) Gecko/20040219
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Pool of IndexReaders or Pool of Searchers?
References: <1089524590.3958980576.15231.sendItem@bloglines.com> <1089526889.40f0dc69803d1@webmail.firstsite.com.au>
In-Reply-To: <1089526889.40f0dc69803d1@webmail.firstsite.com.au>
X-Enigmail-Version: 0.83.5.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Can you supply details on the config tested?

Vince

Anson Lau wrote:

>Hi,
>
>When I did some load testing on a lucene powered search app, using a
>pool of index searchers doesn't give me any more search per second
>than just using a singleton index searcher.
>
>Anson
>
>
>Quoting yahootintin.1247688@bloglines.com:
>
>  
>
>>Hi,
>>
>>I have multiple threads reading an index.  Should they all be
>>using
>>the same IndexReader and using a pool of IndexSearchers?  Or
>>should they be
>>using a pool of IndexReaders?
>>
>>Basically, one reader or many?
>>
>>Thanks.
>>
>>
>>    
>>
>---------------------------------------------------------------------
>  
>
>>To unsubscribe, e-mail:
>>lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail:
>>lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9244-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 07:39:20 2004
Return-Path: <lucene-user-return-9244-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35980 invoked from network); 13 Jul 2004 07:39:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 07:39:20 -0000
Received: (qmail 76752 invoked by uid 500); 13 Jul 2004 07:39:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76723 invoked by uid 500); 13 Jul 2004 07:39:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76709 invoked by uid 99); 13 Jul 2004 07:39:08 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.111.107.196] (HELO mail.fulfilnet.com.au) (203.111.107.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 00:39:04 -0700
Message-Id: <200407130737.i6D7bK022248@mail.fulfilnet.com.au>
From: "Anson Lau" <alau@fulfil-net.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Pool of IndexReaders or Pool of Searchers?
Date: Tue, 13 Jul 2004 17:39:34 +1000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
In-Reply-To: <40F3781F.7070309@taluskie.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Don't have a formal report but I can give you a bit more details:

What are we testing: a search app powered by lucene, search app is a web app
built on Struts.
Index: 1.8 million database records
Hardware: Dual P4 2.8 HT, 4G Ram, Raid 5 SCIC HDs.
Directory type: FSDirectory

Load test app: A load test app which has 15 threads, each firing 1 search
request (http request) per second to the search app.

All the http requests are search request, but keep in mind all the overhead
of jsp, struts, etc.

We thought especially with multiple CPU systems using a small pool of index
searcher may improve concurrency.

Under lucene 1.4:
Using 1 static index searcher: 12 request per second.
Using a pool of 4 index search: same 12 request per second

Under lucene 1.3:
I can't remember the exact numbers, but pooling index searcher did make a
noticeable difference.


Hope that's useful.

Anson



-----Original Message-----
From: Vince Taluskie [mailto:vince@taluskie.com]
Sent: Tuesday, July 13, 2004 3:50 PM
To: Lucene Users List
Subject: Re: Pool of IndexReaders or Pool of Searchers?

Can you supply details on the config tested?

Vince

Anson Lau wrote:

>Hi,
>
>When I did some load testing on a lucene powered search app, using a
>pool of index searchers doesn't give me any more search per second
>than just using a singleton index searcher.
>
>Anson
>
>
>Quoting yahootintin.1247688@bloglines.com:
>
>  
>
>>Hi,
>>
>>I have multiple threads reading an index.  Should they all be
>>using
>>the same IndexReader and using a pool of IndexSearchers?  Or
>>should they be
>>using a pool of IndexReaders?
>>
>>Basically, one reader or many?
>>
>>Thanks.
>>
>>
>>    
>>
>---------------------------------------------------------------------
>  
>
>>To unsubscribe, e-mail:
>>lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail:
>>lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9245-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 07:41:27 2004
Return-Path: <lucene-user-return-9245-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36776 invoked from network); 13 Jul 2004 07:41:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 07:41:27 -0000
Received: (qmail 79588 invoked by uid 500); 13 Jul 2004 07:41:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79358 invoked by uid 500); 13 Jul 2004 07:41:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79338 invoked by uid 99); 13 Jul 2004 07:41:11 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [143.205.118.212] (HELO proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 00:41:07 -0700
Received: from ifit.uni-klu.ac.at ([143.205.118.98]) by proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 13 Jul 2004 09:41:45 +0200
Message-ID: <40F39239.4060905@ifit.uni-klu.ac.at>
Date: Tue, 13 Jul 2004 09:41:45 +0200
From: Sergiu Gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.5) Gecko/20031007
X-Accept-Language: de-at, ro, it, en, en-us
MIME-Version: 1.0
To: NATARAJAN THILLAI <thillairaj@yahoo.com>, 
 POI Users List <poi-user@jakarta.apache.org>,
 Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Indexing word documents
References: <20040713071438.20555.qmail@web60908.mail.yahoo.com>
In-Reply-To: <20040713071438.20555.qmail@web60908.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-OriginalArrivalTime: 13 Jul 2004 07:41:45.0583 (UTC) FILETIME=[D8E5F7F0:01C468AC]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

NATARAJAN THILLAI wrote:
 Hi Sergiu,
    I am Natarajan from India and now I was working search engine 
project. I saw u r article in the net     
(http://article.gmane.org/gmane.comp.jakarta.poi.user/4851). It's very 
nice and useful to me.

  I want to Indexing exe file so pls send me your 
"com.configworks.cwk.share.Utils" file.
 
Advance Thanks.
 
Regards
Natarajan.
 

------------------------------------------------------------------------

Hi,

 I'm glad to find that the code I submitted (I cannot claim is mine) is 
usefull for other programmers.
 I can sent you the utils class, no problem. But we are not indexing  
exe files. the ExeConverterImpl is an external converter that converts 
different
file formats to text in a batch mode. For example antiword is such an 
converter.
Also the ppt converter I submitted throws an OutOfMemoryError. I'll send 
the code with the bugfix.
 
   I wish you luck in your work, and here is the classes:

  Sergiu

/******* Util class *******/
package com.configworks.cwk.share;

import com.configworks.cwk.be.system.CwkConfigurationFactory;
import com.configworks.cwk.be.system.Debug;
import com.configworks.cwk.be.system.ICwkConfiguration;
import java.io.File;
import java.io.IOException;
import java.text.SimpleDateFormat;
import java.util.Date;
import org.apache.commons.logging.Log;
import org.apache.commons.logging.LogFactory;
import org.apache.turbine.services.intake.model.Field;


/**
 * KM-Portal Utilities Alle möglichen Methoden, die das programmieren 
mit dem KM-Portal erleichtern
 * sollen.
 *
 * @author Christine Keim
 * @version 1
 */
public class Utils {

    private static final Log logger = 
LogFactory.getLog(Utils.class.getName());

    public static final String DATE_PATTERN = "dd.MM.yyyy";
    public static final String DATE_TIME_PATTERN = "dd.MM.yyyy HH:mm:ss";

    public static final SimpleDateFormat DATE_FORMAT = new 
SimpleDateFormat(DATE_PATTERN);
    public final static SimpleDateFormat DATE_TIME_FORMAT = new 
SimpleDateFormat(DATE_TIME_PATTERN);

    private static final int MAX_FILENAME_LENGTH = 
Integer.parseInt(CwkConfigurationFactory.getConfigurationInstance(
        
CwkConfigurationFactory.PROP_FILE_CONFIGURATION).getProperty(ICwkConfiguration.FILENAMES_LENGTH_MAX));

    private static String[] typeimages = {"pdf.gif", "audio.gif", 
"video.gif", "image.gif",
                                          "office.gif", "data.gif", 
"archive.gif", "link.gif",
                                          "unknown.gif", "word.gif", 
"excel.gif", "powerpoint.gif"};

    private static String unknownTypeimage = "unknown.gif";

    public String getDatePattern() {
        return DATE_PATTERN;
    }

    /**
     * Checks wether the given String is ull or empty, contains nothing 
or only blanks...
     *
     * @param v String to check
     * @return true if string is empty, else false
     */
    public static boolean isEmpty(String v) {
       
        return (v == null || "".equals(v.trim()));
       
    }

    /**
     * @param current DOCUMENT ME!
     * @return DOCUMENT ME!
     * @see com.configworks.cwk.fe.tools.CwkToolkit#getRatingImage(float)
     * @deprecated Use cwktoolkit.getRatingImage instead
     */
    public static String getRatingImage(float current) {
        if (current < 0) {
            return "unrated.gif";
        }

        if (current == 0) {
            return "stars-0-0.gif";
        }

        if (current <= 1) {
            return "stars-0-5.gif";
        }

        if (current <= 2) {
            return "stars-1-0.gif";
        }

        if (current <= 3) {
            return "stars-1-5.gif";
        }

        if (current <= 4) {
            return "stars-2-0.gif";
        }

        if (current <= 5) {
            return "stars-2-5.gif";
        }

        if (current <= 6) {
            return "stars-3-0.gif";
        }

        if (current <= 7) {
            return "stars-3-5.gif";
        }

        if (current <= 8) {
            return "stars-4-0.gif";
        }

        if (current <= 9) {
            return "stars-4-5.gif";
        } else {
            return "stars-5-0.gif";
        }
    }

    /**
     * @param type DOCUMENT ME!
     * @return DOCUMENT ME!
     * @see com.configworks.cwk.fe.tools.CwkToolkit#getTypeImage(int)
     * @deprecated use cwktoolkit.getTypeImage instead
     */
    public static String getTypeImage(int type) {
        if ((type >= 0) && (type < typeimages.length)) {
            return typeimages[type];
        } else {
            return unknownTypeimage;
        }
    }

    /**
     * DOCUMENT ME!
     *
     * @param quality  DOCUMENT ME!
     * @param maxvalue DOCUMENT ME!
     * @return DOCUMENT ME!
     */
    public static String calculatePercentage(float quality, float 
maxvalue) {
        float result = (quality * 100) / maxvalue;

        if (result < 0) {
            result = 0;
        }

        return "" + Math.round(result);
    }

    /**
     * DOCUMENT ME!
     *
     * @param s DOCUMENT ME!
     * @return DOCUMENT ME!
     */
    public static String capitalize(String s) {
        String ret = s.substring(0, 1).toUpperCase() + s.substring(1, 
s.length());

        return ret;
    }

    /**
     * DOCUMENT ME!
     *
     * @param fn DOCUMENT ME!
     * @return DOCUMENT ME!
     */
    public static String cutFileName(String fn) {
        String separator = File.separator;
        String cutfn = null;

        if (fn.startsWith("/")) {
            separator = "/";
        } else {
            separator = "\\";
        }

        if (fn.lastIndexOf(separator) >= 0) {
            cutfn = fn.substring(fn.lastIndexOf(separator) + 1);
        } else {
            cutfn = fn;
        }
        return cutfn;
    }

    /**
     * Cats the Classname from a packagePath+className string
     * com.configworks.cwk.share.om.Tutorial becomes Tutorial
     * @param fn String to cut ClassName from
     *
     * @return className
     */
    public static String cutClassName(String fn) {
        String separator = ".";
        String cutfn = null;
       
        if (fn.lastIndexOf(separator) >= 0) {
            cutfn = fn.substring(fn.lastIndexOf(separator) + 1);
        } else {
            cutfn = fn;
        }
        return cutfn;
    }
    /**
     * @param date DOCUMENT ME!
     * @return DOCUMENT ME!
     * @see com.configworks.cwk.fe.tools.CwkToolkit#formatDate(Date, Locale)
     * @deprecated use cwktoolkit.formatDate instead
     */
    public static String dateToString(Date date) {
        if (date != null) {
            return DATE_FORMAT.format(date);
        } else {
            return null;
        }
    }

    /**
     * @param date   DOCUMENT ME!
     * @param format DOCUMENT ME!
     * @return DOCUMENT ME!
     * @deprecated use cwktoolkit.formatDate or 
cwktoolkit.formatDateTime  instead
     *             DOCUMENT ME!
     */
    public static String dateToString(Date date, String format) {
        if (date != null) {
            SimpleDateFormat df = new SimpleDateFormat(format);

            return df.format(date);
        } else {
            return null;
        }
    }

    /**
     * @param date DOCUMENT ME!
     * @return DOCUMENT ME!
     * @deprecated use cwktoolkit.formatDate or 
cwktoolkit.formatDateTime  instead
     *             <p/>
     *             DOCUMENT ME!
     */
    public static String dateToString(Field date) {
        if ((date != null) && (date.getValue() != null)) {
            return DATE_FORMAT.format(date.getValue());
        } else {
            return null;
        }
    }

    /**
     * converts an Java conform name to  a torque underscore name
     *
     * @param javaname
     * @return
     */
    public static String jToU(String javaname) {
        char[] chars = javaname.toCharArray();
        StringBuffer underscore = new StringBuffer();
        underscore.append(Character.toLowerCase(chars[0]));

        for (int i = 1; i < chars.length; i++) {
            if (Character.isUpperCase(chars[i])) {
                underscore.append("_");
                underscore.append(Character.toLowerCase(chars[i]));
            } else {
                underscore.append(chars[i]);
            }
        }

        Debug.println(javaname + " =>" + underscore);

        return underscore.toString();
    }

    /**
     * DOCUMENT ME!
     *
     * @param in DOCUMENT ME!
     * @return DOCUMENT ME!
     */
    public static String nl2br(String in) {
        return in.replaceAll("\n", "<br>");
    }

    /**
     * @param in DOCUMENT ME!
     * @return DOCUMENT ME!
     * @see com.configworks.cwk.fe.tools.CwkToolkit#htmlEncode(String)
     * @deprecated use cwktoolkit.htmlencode instead
     */
    public static String out(String in) {

        return nl2br(in);
    }

    /**
     * replaces a torque name with underscores with an Java conform name
     *
     * @param uname
     * @return
     */
    public static String uToJ(String uname) {
        char[] chars = uname.toCharArray();
        StringBuffer java = new StringBuffer();

        for (int i = 0; i < chars.length; i++) {
            if (chars[i] == '_') {
                i++;
                java.append(Character.toUpperCase(chars[i]));
            } else {
                java.append(chars[i]);
            }
        }

        Debug.println(uname + " =>" + java);

        return java.toString();
    }

    /**
     * this method is used to execute an OS COmmand
     *
     * @param execPath        the execution path (path to executable file)
     * @param sourcePath      the source path (path to imput file)
     * @param destinationPath the destination path (path to output file)
     * @param params          aditional parameters (if null or ""  this 
parameter is ignored)
     * @return a refference of the created proccess
     * @throws IOException
     */
    public static Process executeOSCommand(String execPath, String 
sourcePath,
                                           String destinationPath, 
String params)
        throws IOException {
        final String source = "<source>";
        final String destination = "<destination>";

        Runtime runtime = Runtime.getRuntime();

        if (execPath == null) {
            if (logger.isErrorEnabled())
                logger.error("Execution command is not specified!");
            return null;
        }

        int sourceIndex = execPath.indexOf(source);
        int destinationIndex = execPath.indexOf(destination);

        if ((sourceIndex >= 0) && (destinationIndex >= 0)) {
            String execCommand = execPath.substring(0, sourceIndex) + 
sourcePath + execPath.substring(
                sourceIndex + source.length(), destinationIndex) + 
destinationPath + execPath.substring(
                    destinationIndex + destination.length());

            if (Utils.notEmptyString(params))
                execCommand += " " + params;
           
            //for windows change all / in the path to \ otherwise the 
command cannot be executed
            if (File.separator.equals("\\"))
                execCommand = execCommand.replace('/', '\\');

            System.out.println(execCommand);
            if (logger.isTraceEnabled())
                logger.trace("Executing command: " + execCommand);
            return runtime.exec(execCommand);
        }
        return null;
    }

    /**
     * !isEmptyString
     *
     * @param s
     * @return
     * @see #isEmpty(String)
     * @since CWK 1.4.0
     */
    public static boolean notEmptyString(String s) {
        return !isEmpty(s);
    }

    /**
     * @param s
     * @return
     * @see
     * @see #isEmpty(String)
     * @since CWK 1.4.0
     * @deprecated use isempty instead
     *             True if s==null or ""
     */
    public static boolean isEmptyString(String s) {
        return (s == null || s.equals(""));
    }

}

/****************************** ppt converter implementation 
***************/

/* @(#) CWK 1.5 23.06.2004
 *
 * Copyright 2003-2005 ConfigWorks Informationssysteme & Consulting GmbH
 * Universitätsstr. 94/7 9020 Klagenfurt Austria
 * www.configworks.com
 * All rights reserved.
 */

package com.configworks.cwk.be.search.converters;

import java.io.BufferedOutputStream;
import java.io.BufferedReader;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.FileReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.Reader;
import org.apache.poi.hpsf.PropertySetFactory;
import org.apache.poi.poifs.eventfilesystem.POIFSReader;
import org.apache.poi.poifs.eventfilesystem.POIFSReaderEvent;
import org.apache.poi.poifs.eventfilesystem.POIFSReaderListener;
import org.apache.poi.util.LittleEndian;

/**
 * Class description
 *
 * @author sergiu
 * @version 1.0
 * @since CWK 1.5
 */
public class PPTConverterImpl extends Converter {

    static final String lineSeparator = 
System.getProperty("line.separator");
    private BufferedOutputStream txtFileWriter = null;
   
    File dest = null;
   
    /* (non-Javadoc)
     * @see 
com.configworks.cwk.be.search.converters.Converter#convertSource(java.io.File)
     */
    public Reader convertSource(File source) {
        if (source == null)
            return null;
        Reader reader = null;
        InputStream inputStream = null;
       
        try {
            String filename = source.getName();
            filename = filename.replace('.', '_');
            filename += ".txt";
            File tmpDir = new File(_config.getTempDirectory());
            tmpDir.mkdirs();
            dest = new File(tmpDir.getPath(), filename);
            boolean created = dest.createNewFile();           
           
            //create the input and output streams
            txtFileWriter = new BufferedOutputStream(
                    new FileOutputStream(dest));
            inputStream = new FileInputStream(source);
           
            extractText(inputStream);
           
            if (!dest.exists())
                return null;
            dest.deleteOnExit();
            reader = new BufferedReader(new FileReader(dest));

        } catch (Exception e) {
            getLogger().error("JavaDocumentConverter cannot convert the 
source file: "
                    + source.getAbsolutePath(), e);
            reader = null;
        }finally{
            try {
                if(txtFileWriter != null)
                    txtFileWriter.close();
                if(inputStream != null)
                    inputStream.close();
            } catch (IOException ex) {
                if(getLogger().isDebugEnabled())
                    getLogger().error("Cannot close the stream: " + ex);
            }
        }
        return reader;

    }
   
   
    /**
     * Extract the text from a number of presentations.
     */
    public boolean extractText(InputStream  reader) throws IOException{
           
            if(txtFileWriter == null)
                throw new IOException("Writer Not Iititalized!");
           
            POIFSReader r = new POIFSReader();

            /* Register a listener for *all* documents. */
            PptDocReaderListener listener = new 
PptDocReaderListener(txtFileWriter);
            r.registerListener(listener, "PowerPoint Document");
            r.read(reader);
            //if no exception was trown, consider that the conversion 
was successful 
            return true;
    }   
   
    class PptDocReaderListener implements POIFSReaderListener{
        private BufferedOutputStream writer = null;
       
        public PptDocReaderListener(){
        }
       
        public PptDocReaderListener(BufferedOutputStream writer){
            this.writer = writer;
        }

        public void processPOIFSReaderEvent(POIFSReaderEvent event) {
           
            try{
           
                org.apache.poi.poifs.filesystem.DocumentInputStream dis 
= null;
                if(!event.getName().equalsIgnoreCase("PowerPoint Document"))
                    return;
               
                dis=event.getStream();
               
                byte btoWrite[]= new byte[12];
                dis.read(btoWrite);
               
                btoWrite = new byte[dis.available()];
                dis.read(btoWrite, 0, dis.available());

                long type = 0;
                long size = 0;
                int offset = 0;
                int length = 0;
               
                for(int i=0; i<btoWrite.length-20; i++){

                    type=LittleEndian.getUShort(btoWrite,i+2);
                    size=LittleEndian.getUInt(btoWrite,i+4);
                   
                    if (type==4008){
                            length = (int)size+3;
                            offset = i+4+1;
                            writer.write(btoWrite, offset, length);
                       
                        //skip the bytes that were already read   
                        i = Math.max(i, (offset + length));
                    }
                }
               
                PropertySetFactory.create(event.getStream());
            }catch (Exception e){
                String msg = "Cannot index ppt file: \n";
                if(getLogger().isErrorEnabled())
                    getLogger().error(msg + e);
            }   
        }   
    }

    /* (non-Javadoc)
     * @see 
com.configworks.cwk.be.search.converters.JavaDocumentConverter#initWriter(java.io.File)
     */
    public void initWriter(File dest) throws IOException {
        if (txtFileWriter == null)
            txtFileWriter = new BufferedOutputStream(new 
FileOutputStream(dest));
    }

    /* (non-Javadoc)
     * @see 
com.configworks.cwk.be.search.converters.JavaDocumentConverter#closeWriter()
     */
    public void closeWriter() throws IOException {
        if(txtFileWriter != null)
            txtFileWriter.close();
        else
            throw new IOException("Cannot close the writer, the object 
is Null!");
    }
}





> Do you Yahoo!?
> Take Yahoo! Mail with you! 
> <http://us.rd.yahoo.com/mail_us/taglines/mobile/*http://mobile.yahoo.com/maildemo> 
> Get it on your mobile phone. 




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9246-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 09:51:53 2004
Return-Path: <lucene-user-return-9246-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5004 invoked from network); 13 Jul 2004 09:51:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 09:51:53 -0000
Received: (qmail 67568 invoked by uid 500); 13 Jul 2004 09:51:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67427 invoked by uid 500); 13 Jul 2004 09:51:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67414 invoked by uid 99); 13 Jul 2004 09:51:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.199.26.74] (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 13 Jul 2004 02:51:43 -0700
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I0SBYP00.VJH for <lucene-user@jakarta.apache.org>; Tue,
          13 Jul 2004 15:34:01 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: HOWTO USE SORT on QUERY PARSER :(
Date: Tue, 13 Jul 2004 15:31:18 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIGEBHCBAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
In-Reply-To: <s0f2c372.018@gwia201.syr.edu>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey

  Guys

Apologies....

   Can somebody please explain to me with a simple SRC example of  how to
use SORT on Query parser [1.4 lucene]
  [ I am confused with the code snippet on the CVS Test Case]



with regards
Karthik

-----Original Message-----
From: Grant Ingersoll [mailto:gsingers@syr.edu]
Sent: Tuesday, July 13, 2004 2:29 AM
To: lucene-user@jakarta.apache.org
Subject: Re: Could search results give an idea of which field matched


See the explain functionality in the Javadocs and previous threads.  You can
ask Lucene to explain why it got the results it did for a give hit.

>>> saugustine@interwoven.com 07/12/04 04:52PM >>>
I search the index on multiple fields. Could the search results also
tell me which field matched so that the document was selected? From what
I can tell, only the document number and a score are returned, is there
a way to also find out what was the field(s) of the document matched the
query?



Sildy





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9247-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 12:19:53 2004
Return-Path: <lucene-user-return-9247-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93805 invoked from network); 13 Jul 2004 12:19:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 12:19:53 -0000
Received: (qmail 78101 invoked by uid 500); 13 Jul 2004 12:19:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78010 invoked by uid 500); 13 Jul 2004 12:19:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77919 invoked by uid 99); 13 Jul 2004 12:19:43 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.103.113] (HELO postfix.mail.ehatchersolutions.com) (128.143.103.113)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 05:19:40 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 6D11E7E42E7
	for <lucene-user@jakarta.apache.org>; Tue, 13 Jul 2004 08:19:38 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <8837fb770407122151692c5d59@mail.gmail.com>
References: <40F072B4.2060002@newsmonster.org> <40F15AB8.9020905@apache.org> <40F33BD0.40807@newsmonster.org> <8837fb770407122151692c5d59@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <E61D543C-D4C6-11D8-AB01-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Why is Field.java final?
Date: Tue, 13 Jul 2004 08:19:33 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jul 13, 2004, at 12:51 AM, John Wang wrote:
> Hi:
>    On the same thought, how about the org.apache.lucene.analysis.Token
> class. Can we make it non-final?

I searched for uses of the Token constructors and I'm currently of the 
opinion that it is ok for Token to be made non-final.  Any reasons not 
to open it up some?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9248-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 13:20:46 2004
Return-Path: <lucene-user-return-9248-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35862 invoked from network); 13 Jul 2004 13:20:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 13:20:45 -0000
Received: (qmail 86083 invoked by uid 500); 13 Jul 2004 13:20:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85950 invoked by uid 500); 13 Jul 2004 13:20:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85887 invoked by uid 99); 13 Jul 2004 13:20:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [141.156.69.115] (HELO mail.infosciences.com) (141.156.69.115)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 06:20:14 -0700
Received: from Aviran (unknown [141.156.69.109])
	by mail.infosciences.com (Postfix) with ESMTP id 636C0118412
	for <lucene-user@jakarta.apache.org>; Tue, 13 Jul 2004 09:22:24 -0400 (EDT)
From: "Aviran" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Lucene Search has poor cpu utilization on a 4-CPU machine
Date: Tue, 13 Jul 2004 09:36:44 -0400
Message-ID: <001a01c468de$7305b9c0$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
In-Reply-To: <40F33DF4.10806@newsmonster.org>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I changed the Lucene 1.4 final source code and yes this is the source
version I changed.

Aviran

-----Original Message-----
From: Kevin A. Burton [mailto:burton@newsmonster.org] 
Sent: Monday, July 12, 2004 9:42 PM
To: Lucene Users List
Subject: Re: Lucene Search has poor cpu utilization on a 4-CPU machine


Aviran wrote:

>Bug 30058 posted
>
>  
>
Which of course is here:

http://issues.apache.org/bugzilla/show_bug.cgi?id=30058

Is this the source of the revision you modified?

http://www.mail-archive.com/lucene-dev@jakarta.apache.org/msg06116.html

Also what version of Lucene?

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9249-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 13:25:50 2004
Return-Path: <lucene-user-return-9249-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39102 invoked from network); 13 Jul 2004 13:25:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 13:25:49 -0000
Received: (qmail 96709 invoked by uid 500); 13 Jul 2004 13:25:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96690 invoked by uid 500); 13 Jul 2004 13:25:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96677 invoked by uid 99); 13 Jul 2004 13:25:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [141.156.69.115] (HELO mail.infosciences.com) (141.156.69.115)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 06:25:41 -0700
Received: from Aviran (unknown [141.156.69.109])
	by mail.infosciences.com (Postfix) with ESMTP id CFEBB1182D3
	for <lucene-user@jakarta.apache.org>; Tue, 13 Jul 2004 09:27:55 -0400 (EDT)
From: "Aviran" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Pool of IndexReaders or Pool of Searchers?
Date: Tue, 13 Jul 2004 09:42:20 -0400
Message-ID: <001b01c468df$38957090$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
In-Reply-To: <200407130737.i6D7bK022248@mail.fulfilnet.com.au>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Try to compile this code changes into lucene
http://www.mail-archive.com/lucene-dev@jakarta.apache.org/msg06116.html
In our tests it improved performance by ~100%

Aviran

-----Original Message-----
From: Anson Lau [mailto:alau@fulfil-net.com]=20
Sent: Tuesday, July 13, 2004 3:40 AM
To: 'Lucene Users List'
Subject: RE: Pool of IndexReaders or Pool of Searchers?


Don't have a formal report but I can give you a bit more details:

What are we testing: a search app powered by lucene, search app is a web =
app
built on Struts.
Index: 1.8 million database records
Hardware: Dual P4 2.8 HT, 4G Ram, Raid 5 SCIC HDs.
Directory type: FSDirectory

Load test app: A load test app which has 15 threads, each firing 1 =
search
request (http request) per second to the search app.

All the http requests are search request, but keep in mind all the =
overhead
of jsp, struts, etc.

We thought especially with multiple CPU systems using a small pool of =
index
searcher may improve concurrency.

Under lucene 1.4:
Using 1 static index searcher: 12 request per second.
Using a pool of 4 index search: same 12 request per second

Under lucene 1.3:
I can't remember the exact numbers, but pooling index searcher did make =
a
noticeable difference.


Hope that's useful.

Anson



-----Original Message-----
From: Vince Taluskie [mailto:vince@taluskie.com]
Sent: Tuesday, July 13, 2004 3:50 PM
To: Lucene Users List
Subject: Re: Pool of IndexReaders or Pool of Searchers?

Can you supply details on the config tested?

Vince

Anson Lau wrote:

>Hi,
>
>When I did some load testing on a lucene powered search app, using a=20
>pool of index searchers doesn't give me any more search per second than =

>just using a singleton index searcher.
>
>Anson
>
>
>Quoting yahootintin.1247688@bloglines.com:
>
> =20
>
>>Hi,
>>
>>I have multiple threads reading an index.  Should they all be using
>>the same IndexReader and using a pool of IndexSearchers?  Or
>>should they be
>>using a pool of IndexReaders?
>>
>>Basically, one reader or many?
>>
>>Thanks.
>>
>>
>>   =20
>>
>---------------------------------------------------------------------
> =20
>
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail:
>>lucene-user-help@jakarta.apache.org
>>
>>   =20
>>
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> =20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9250-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 13:29:38 2004
Return-Path: <lucene-user-return-9250-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41080 invoked from network); 13 Jul 2004 13:29:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 13:29:37 -0000
Received: (qmail 6280 invoked by uid 500); 13 Jul 2004 13:29:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6259 invoked by uid 500); 13 Jul 2004 13:29:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6245 invoked by uid 99); 13 Jul 2004 13:29:31 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [141.156.69.115] (HELO mail.infosciences.com) (141.156.69.115)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 06:29:31 -0700
Received: from Aviran (unknown [141.156.69.109])
	by mail.infosciences.com (Postfix) with ESMTP id A91BA1182D3
	for <lucene-user@jakarta.apache.org>; Tue, 13 Jul 2004 09:31:45 -0400 (EDT)
From: "Aviran" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Optimizing the index
Date: Tue, 13 Jul 2004 09:46:05 -0400
Message-ID: <001c01c468df$c19994c0$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
In-Reply-To: <480721AA-D465-11D8-BEEE-003065AB24D4@otherwise.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You should optimize your index only after you finished adding all the
documents

Aviran

-----Original Message-----
From: Bill Tschumy [mailto:bill@otherwise.com] 
Sent: Monday, July 12, 2004 8:41 PM
To: Lucene Users List
Subject: Optimizing the index


Is optimizing the index something you should do periodically even if 
you are continually adding documents.  I guess another way of asking 
the question is does optimization have any negative effects on speed of 
adding documents?
-- 
Bill Tschumy
Otherwise -- Austin, TX
http://www.otherwise.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9251-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 13:46:21 2004
Return-Path: <lucene-user-return-9251-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51541 invoked from network); 13 Jul 2004 13:46:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 13:46:21 -0000
Received: (qmail 39556 invoked by uid 500); 13 Jul 2004 13:46:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39501 invoked by uid 500); 13 Jul 2004 13:46:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39394 invoked by uid 99); 13 Jul 2004 13:46:04 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=HTML_60_70,HTML_MESSAGE,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [160.62.1.169] (HELO fw-mail12.novartis.com) (160.62.1.169)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 06:45:59 -0700
Received: from mtap1.is.chbs ([192.37.33.20])
	by fw-mail12.novartis.com (Switch-3.1.4/Switch-3.1.0) with ESMTP id i6DDjrr915753444
	for <lucene-user@jakarta.apache.org>; Tue, 13 Jul 2004 15:45:53 +0200
Received: from phchbs-s3025.EU.novartis.net (phchbs-s3025.eu.novartis.net [192.37.31.249])
	by mtap1.is.chbs (Switch-3.1.4/Switch-3.1.0) with ESMTP id i6DDjqwo7569602
	for <lucene-user@jakarta.apache.org>; Tue, 13 Jul 2004 15:45:52 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: How to retrive last N docs sorted by sertain field  from index ?
MIME-Version: 1.0
Message-ID: <OF75302E21.0C3E3247-ONC1256ED0.004B2379-C1256ED0.004B9C1B@EU.novartis.net>
From: iouli.golovatyi@group.novartis.com
Date: Tue, 13 Jul 2004 15:45:51 +0200
Content-Type: multipart/alternative; boundary="=_alternative 004B9BFAC1256ED0_="
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=_alternative 004B9BFAC1256ED0_=
Content-Type: text/plain; charset="us-ascii"

Can somebody mail me a code how to retrive last N docs sorted by sertain 
field  from index .
i.e. smth like

openIndex();
setOrderByField(field);
for(i;i++;i<N){
getDoc(i);
}


Thanks in advance


J.
--=_alternative 004B9BFAC1256ED0_=--

From lucene-user-return-9252-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 14:46:41 2004
Return-Path: <lucene-user-return-9252-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3197 invoked from network); 13 Jul 2004 14:46:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 14:46:41 -0000
Received: (qmail 77254 invoked by uid 500); 13 Jul 2004 14:46:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77181 invoked by uid 500); 13 Jul 2004 14:46:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77165 invoked by uid 99); 13 Jul 2004 14:46:33 -0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=DNS_FROM_RFC_BOGUSMX
X-Spam-Check-By: apache.org
Received: from [66.179.38.26] (HELO hamhock.hoovers.com) (66.179.38.26)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 07:46:31 -0700
Received: from exchange.hoovers.com (gamma.hoovers.com [66.179.38.8])
	by hamhock.hoovers.com (HamHock-OUTBOUND) with ESMTP id C7C83196F70
	for <lucene-user@jakarta.apache.org>; Tue, 13 Jul 2004 09:46:25 -0500 (CDT)
Received: by gamma.hoovers.com with Internet Mail Service (5.5.2657.72)
	id <3ZBQ40AT>; Tue, 13 Jul 2004 09:46:24 -0500
Message-ID: <4810C017B52BD4118EEA00B0D020B0ED0F9EBC98@gamma.hoovers.com>
From: Lynn Li <lli@hoovers.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Spell Checker
Date: Tue, 13 Jul 2004 09:46:24 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi All,
I am looking for a java spell checker, open source or not. Can anyone
recommend a good one?

Thanks in advance,
Lynn

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9253-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 14:51:41 2004
Return-Path: <lucene-user-return-9253-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5796 invoked from network); 13 Jul 2004 14:51:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 14:51:41 -0000
Received: (qmail 87283 invoked by uid 500); 13 Jul 2004 14:49:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87197 invoked by uid 500); 13 Jul 2004 14:49:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87079 invoked by uid 99); 13 Jul 2004 14:49:33 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [69.156.221.15] (HELO extremesoftware.ca) (69.156.221.15)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 07:49:30 -0700
Subject: RE: Spell Checker
Date: Tue, 13 Jul 2004 10:49:23 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Message-ID: <41989D7DF8323B4CB0F7A58F5BA01019039BAC@sydney.extremesoftware.ca>
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Spell Checker
Thread-Index: AcRo6DILG5pYGUwtR3O3xXNAx/jHDgAAD9Vw
From: "Wesley MacDonald" <wes@extremesoftware.ca>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

GNU aspell

http://aspell.sourceforge.net

Wes=20

-----Original Message-----
From: Lynn Li [mailto:lli@hoovers.com]=20
Sent: July 13, 2004 10:46 AM
To: 'lucene-user@jakarta.apache.org'
Subject: Spell Checker

Hi All,
I am looking for a java spell checker, open source or not. Can anyone
recommend a good one?

Thanks in advance,
Lynn

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9254-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 15:03:18 2004
Return-Path: <lucene-user-return-9254-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12308 invoked from network); 13 Jul 2004 15:03:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 15:03:17 -0000
Received: (qmail 15683 invoked by uid 500); 13 Jul 2004 15:03:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15656 invoked by uid 500); 13 Jul 2004 15:03:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15643 invoked by uid 99); 13 Jul 2004 15:03:10 -0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=DNS_FROM_RFC_BOGUSMX
X-Spam-Check-By: apache.org
Received: from [66.179.38.26] (HELO hamhock.hoovers.com) (66.179.38.26)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 08:03:09 -0700
Received: from exchange.hoovers.com (gamma.hoovers.com [66.179.38.8])
	by hamhock.hoovers.com (HamHock-OUTBOUND) with ESMTP id DE44F197069
	for <lucene-user@jakarta.apache.org>; Tue, 13 Jul 2004 10:03:07 -0500 (CDT)
Received: by gamma.hoovers.com with Internet Mail Service (5.5.2657.72)
	id <3ZBQ40PV>; Tue, 13 Jul 2004 10:03:07 -0500
Message-ID: <4810C017B52BD4118EEA00B0D020B0ED0F9EBC99@gamma.hoovers.com>
From: Lynn Li <lli@hoovers.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Spell Checker
Date: Tue, 13 Jul 2004 10:03:06 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thank you Wes. But Aspell is in C++. Can you recommend a java based? Sorry I
did not specify it earlier.

-----Original Message-----
From: Wesley MacDonald [mailto:wes@extremesoftware.ca]
Sent: Tuesday, July 13, 2004 9:49 AM
To: Lucene Users List
Subject: RE: Spell Checker


GNU aspell

http://aspell.sourceforge.net

Wes 

-----Original Message-----
From: Lynn Li [mailto:lli@hoovers.com] 
Sent: July 13, 2004 10:46 AM
To: 'lucene-user@jakarta.apache.org'
Subject: Spell Checker

Hi All,
I am looking for a java spell checker, open source or not. Can anyone
recommend a good one?

Thanks in advance,
Lynn

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9255-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 15:07:02 2004
Return-Path: <lucene-user-return-9255-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14359 invoked from network); 13 Jul 2004 15:07:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 15:07:02 -0000
Received: (qmail 29105 invoked by uid 500); 13 Jul 2004 15:06:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29036 invoked by uid 500); 13 Jul 2004 15:06:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28952 invoked by uid 99); 13 Jul 2004 15:06:49 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=DATE_IN_FUTURE_03_06
X-Spam-Check-By: apache.org
Received: from [203.200.20.178] (HELO crimsonlogic.co.in) (203.200.20.178)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 08:06:47 -0700
Received: from INA098tnat (localhost.localdomain [127.0.0.1])
	by crimsonlogic.co.in (Postfix) with ESMTP id A81CA233DD
	for <lucene-user@jakarta.apache.org>; Tue, 13 Jul 2004 20:36:27 +0530 (IST)
From: "Natarajan.T" <natarajant@crimsonlogic.co.in>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Spell Checker
Date: Tue, 13 Jul 2004 20:38:07 +0100
Message-ID: <002201c46910$ed007580$8714a8c0@INA098tnat>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <4810C017B52BD4118EEA00B0D020B0ED0F9EBC99@gamma.hoovers.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

You know how to use Write and Write.Lock lucene java API.
If u have any sample source?

Regards,
Natarajan.

-----Original Message-----
From: Lynn Li [mailto:lli@hoovers.com] 
Sent: Tuesday, July 13, 2004 4:03 PM
To: 'Lucene Users List'
Subject: RE: Spell Checker

Thank you Wes. But Aspell is in C++. Can you recommend a java based?
Sorry I
did not specify it earlier.

-----Original Message-----
From: Wesley MacDonald [mailto:wes@extremesoftware.ca]
Sent: Tuesday, July 13, 2004 9:49 AM
To: Lucene Users List
Subject: RE: Spell Checker


GNU aspell

http://aspell.sourceforge.net

Wes 

-----Original Message-----
From: Lynn Li [mailto:lli@hoovers.com] 
Sent: July 13, 2004 10:46 AM
To: 'lucene-user@jakarta.apache.org'
Subject: Spell Checker

Hi All,
I am looking for a java spell checker, open source or not. Can anyone
recommend a good one?

Thanks in advance,
Lynn

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9256-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 15:14:18 2004
Return-Path: <lucene-user-return-9256-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18182 invoked from network); 13 Jul 2004 15:14:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 15:14:18 -0000
Received: (qmail 45168 invoked by uid 500); 13 Jul 2004 15:14:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45139 invoked by uid 500); 13 Jul 2004 15:14:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45123 invoked by uid 99); 13 Jul 2004 15:14:10 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_RFC_IPWHOIS
X-Spam-Check-By: apache.org
Received: from [69.156.221.15] (HELO extremesoftware.ca) (69.156.221.15)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 08:14:06 -0700
Subject: RE: Spell Checker
Date: Tue, 13 Jul 2004 11:14:04 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Message-ID: <41989D7DF8323B4CB0F7A58F5BA01019039BAD@sydney.extremesoftware.ca>
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Spell Checker
Thread-Index: AcRo6oQLjYL0bySUQriJyjrtsS0eHgAASkGA
From: "Wesley MacDonald" <wes@extremesoftware.ca>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

http://jazzy.sourceforge.net/

http://linux.org.mt/projects/jtextcheck/index.html


Wes

-----Original Message-----
From: Lynn Li [mailto:lli@hoovers.com]=20
Sent: July 13, 2004 11:03 AM
To: 'Lucene Users List'
Subject: RE: Spell Checker

Thank you Wes. But Aspell is in C++. Can you recommend a java based?
Sorry I did not specify it earlier.

-----Original Message-----
From: Wesley MacDonald [mailto:wes@extremesoftware.ca]
Sent: Tuesday, July 13, 2004 9:49 AM
To: Lucene Users List
Subject: RE: Spell Checker


GNU aspell

http://aspell.sourceforge.net

Wes=20

-----Original Message-----
From: Lynn Li [mailto:lli@hoovers.com]
Sent: July 13, 2004 10:46 AM
To: 'lucene-user@jakarta.apache.org'
Subject: Spell Checker

Hi All,
I am looking for a java spell checker, open source or not. Can anyone
recommend a good one?

Thanks in advance,
Lynn

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9257-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 15:54:15 2004
Return-Path: <lucene-user-return-9257-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41411 invoked from network); 13 Jul 2004 15:54:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 15:54:15 -0000
Received: (qmail 22243 invoked by uid 500); 13 Jul 2004 15:54:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21984 invoked by uid 500); 13 Jul 2004 15:54:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21970 invoked by uid 99); 13 Jul 2004 15:54:07 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_BY_IP,SB_NEW_BULK,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [216.239.56.250] (HELO mproxy.gmail.com) (216.239.56.250)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 13 Jul 2004 08:54:04 -0700
Received: by mproxy.gmail.com with SMTP id w29so9429787cwb
        for <lucene-user@jakarta.apache.org>; Tue, 13 Jul 2004 08:54:03 -0700 (PDT)
Received: by 10.11.99.11 with SMTP id w11mr1364cwb;
        Tue, 13 Jul 2004 08:54:03 -0700 (PDT)
Message-ID: <3f0b9bc4040713085476cff5@mail.gmail.com>
Date: Tue, 13 Jul 2004 11:54:03 -0400
From: Byron Miller <byronm@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Spell Checker
In-Reply-To: <4810C017B52BD4118EEA00B0D020B0ED0F9EBC99@gamma.hoovers.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <4810C017B52BD4118EEA00B0D020B0ED0F9EBC99@gamma.hoovers.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

http://www.thesolutioncafe.com/
http://www.preceive.com/spelledge/
http://xde.net/xq/tool.spell-checker/qx/index.htm
http://www.spellex.com/products/web_based.htm
http://www.wintertree-software.com/dev/ssce/java/



On Tue, 13 Jul 2004 10:03:06 -0500, Lynn Li <lli@hoovers.com> wrote:
> Thank you Wes. But Aspell is in C++. Can you recommend a java based? Sorry I
> did not specify it earlier.
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9258-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 16:00:37 2004
Return-Path: <lucene-user-return-9258-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46414 invoked from network); 13 Jul 2004 16:00:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 16:00:36 -0000
Received: (qmail 31596 invoked by uid 500); 13 Jul 2004 16:00:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31552 invoked by uid 500); 13 Jul 2004 16:00:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31539 invoked by uid 99); 13 Jul 2004 16:00:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 09:00:27 -0700
Received: (qmail 1418 invoked by uid 89); 13 Jul 2004 16:00:25 -0000
Received: from unknown (HELO ?192.168.168.81?) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 13 Jul 2004 16:00:25 -0000
Message-ID: <40F4070C.9000301@apache.org>
Date: Tue, 13 Jul 2004 09:00:12 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040619
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene Search has poor cpu utilization on a 4-CPU machine
References: <001a01c468de$7305b9c0$6a00a8c0@Aviran>
In-Reply-To: <001a01c468de$7305b9c0$6a00a8c0@Aviran>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Aviran wrote:
> I changed the Lucene 1.4 final source code and yes this is the source
> version I changed.

Note that this patch won't produce the a speedup on earlier releases, 
since their was another multi-thread bottleneck higher up the stack that 
was only recently removed, revealing this lower-level bottleneck.

The other patch was:

http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg07873.html

Both are required to see the speedup.

Also, is there any reason folks cannot use 1.4 final now?

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9259-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 16:05:18 2004
Return-Path: <lucene-user-return-9259-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48786 invoked from network); 13 Jul 2004 16:05:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 16:05:17 -0000
Received: (qmail 39858 invoked by uid 500); 13 Jul 2004 16:05:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39839 invoked by uid 500); 13 Jul 2004 16:05:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39825 invoked by uid 99); 13 Jul 2004 16:05:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 09:05:09 -0700
Received: (qmail 6618 invoked by uid 89); 13 Jul 2004 16:05:07 -0000
Received: from unknown (HELO ?192.168.168.81?) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 13 Jul 2004 16:05:07 -0000
Message-ID: <40F40826.5060608@apache.org>
Date: Tue, 13 Jul 2004 09:04:54 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040619
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Why is Field.java final?
References: <40F072B4.2060002@newsmonster.org> <40F15AB8.9020905@apache.org> <40F33BD0.40807@newsmonster.org>
In-Reply-To: <40F33BD0.40807@newsmonster.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin A. Burton wrote:
> Doug Cutting wrote:
>> Field and Document are not designed to be extensible. They are 
>> persisted in such a way that added methods are not available when the 
>> field is restored. In other words, when a field is read, it always 
>> constructs an instance of Field, not a subclass.
> 
> Thats fine... I think thats acceptable behavior. I don't think anyone 
> would assume that inner vars are restored or that the field is serialized.

You'd be surprised what people would assume!

The bottom line is that making this non-final would enable you to do 
anything that you cannot do today, and it would permit lots of folks to 
try things that won't work, get confused, and complain.  Part of the job 
of an API is to steer you towards best practices and away from dead 
ends.  If there were important functionality that would be enabled by 
making this non-final then I'd be for it.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9260-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 16:12:43 2004
Return-Path: <lucene-user-return-9260-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53286 invoked from network); 13 Jul 2004 16:12:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 16:12:43 -0000
Received: (qmail 56268 invoked by uid 500); 13 Jul 2004 16:12:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56186 invoked by uid 500); 13 Jul 2004 16:12:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56160 invoked by uid 99); 13 Jul 2004 16:12:26 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 09:12:24 -0700
Received: (qmail 14547 invoked by uid 89); 13 Jul 2004 16:12:22 -0000
Received: from unknown (HELO ?192.168.168.81?) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 13 Jul 2004 16:12:22 -0000
Message-ID: <40F409D9.5070505@apache.org>
Date: Tue, 13 Jul 2004 09:12:09 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040619
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Why is Field.java final?
References: <40F072B4.2060002@newsmonster.org> <40F15AB8.9020905@apache.org> <40F33BD0.40807@newsmonster.org> <8837fb770407122151692c5d59@mail.gmail.com>
In-Reply-To: <8837fb770407122151692c5d59@mail.gmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

John Wang wrote:
>    On the same thought, how about the org.apache.lucene.analysis.Token
> class. Can we make it non-final?

Sure, if you make a case for why it should be non-final.

What would your subclasses do?  Which methods would you override?

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9261-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 16:14:23 2004
Return-Path: <lucene-user-return-9261-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54217 invoked from network); 13 Jul 2004 16:14:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 16:14:23 -0000
Received: (qmail 62784 invoked by uid 500); 13 Jul 2004 16:14:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62762 invoked by uid 500); 13 Jul 2004 16:14:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62748 invoked by uid 99); 13 Jul 2004 16:14:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 09:14:15 -0700
Received: (qmail 16633 invoked by uid 89); 13 Jul 2004 16:14:13 -0000
Received: from unknown (HELO ?192.168.168.81?) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 13 Jul 2004 16:14:13 -0000
Message-ID: <40F40A48.90909@apache.org>
Date: Tue, 13 Jul 2004 09:14:00 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040619
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Pool of IndexReaders or Pool of Searchers?
References: <001b01c468df$38957090$6a00a8c0@Aviran>
In-Reply-To: <001b01c468df$38957090$6a00a8c0@Aviran>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Whether this will make a difference depends on the size of the index. 
If your index is relatively small, then this patch will help more.  If 
your index is large, it will help less.

Aviran wrote:
> Try to compile this code changes into lucene
> http://www.mail-archive.com/lucene-dev@jakarta.apache.org/msg06116.html
> In our tests it improved performance by ~100%
> 
> Aviran
> 
> -----Original Message-----
> From: Anson Lau [mailto:alau@fulfil-net.com] 
> Sent: Tuesday, July 13, 2004 3:40 AM
> To: 'Lucene Users List'
> Subject: RE: Pool of IndexReaders or Pool of Searchers?
> 
> 
> Don't have a formal report but I can give you a bit more details:
> 
> What are we testing: a search app powered by lucene, search app is a web app
> built on Struts.
> Index: 1.8 million database records
> Hardware: Dual P4 2.8 HT, 4G Ram, Raid 5 SCIC HDs.
> Directory type: FSDirectory
> 
> Load test app: A load test app which has 15 threads, each firing 1 search
> request (http request) per second to the search app.
> 
> All the http requests are search request, but keep in mind all the overhead
> of jsp, struts, etc.
> 
> We thought especially with multiple CPU systems using a small pool of index
> searcher may improve concurrency.
> 
> Under lucene 1.4:
> Using 1 static index searcher: 12 request per second.
> Using a pool of 4 index search: same 12 request per second
> 
> Under lucene 1.3:
> I can't remember the exact numbers, but pooling index searcher did make a
> noticeable difference.
> 
> 
> Hope that's useful.
> 
> Anson
> 
> 
> 
> -----Original Message-----
> From: Vince Taluskie [mailto:vince@taluskie.com]
> Sent: Tuesday, July 13, 2004 3:50 PM
> To: Lucene Users List
> Subject: Re: Pool of IndexReaders or Pool of Searchers?
> 
> Can you supply details on the config tested?
> 
> Vince
> 
> Anson Lau wrote:
> 
> 
>>Hi,
>>
>>When I did some load testing on a lucene powered search app, using a 
>>pool of index searchers doesn't give me any more search per second than 
>>just using a singleton index searcher.
>>
>>Anson
>>
>>
>>Quoting yahootintin.1247688@bloglines.com:
>>
>> 
>>
>>
>>>Hi,
>>>
>>>I have multiple threads reading an index.  Should they all be using
>>>the same IndexReader and using a pool of IndexSearchers?  Or
>>>should they be
>>>using a pool of IndexReaders?
>>>
>>>Basically, one reader or many?
>>>
>>>Thanks.
>>>
>>>
>>>   
>>>
>>
>>---------------------------------------------------------------------
>> 
>>
>>
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail:
>>>lucene-user-help@jakarta.apache.org
>>>
>>>   
>>>
>>
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>> 
>>
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9262-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 16:54:43 2004
Return-Path: <lucene-user-return-9262-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82449 invoked from network); 13 Jul 2004 16:54:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 16:54:42 -0000
Received: (qmail 46020 invoked by uid 500); 13 Jul 2004 16:54:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45902 invoked by uid 500); 13 Jul 2004 16:54:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45888 invoked by uid 99); 13 Jul 2004 16:54:35 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_BY_IP,SB_NEW_BULK,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [216.239.56.243] (HELO mproxy.gmail.com) (216.239.56.243)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 13 Jul 2004 09:54:32 -0700
Received: by mproxy.gmail.com with SMTP id w29so9469369cwb
        for <lucene-user@jakarta.apache.org>; Tue, 13 Jul 2004 09:54:28 -0700 (PDT)
Received: by 10.11.99.11 with SMTP id w11mr4137cwb;
        Tue, 13 Jul 2004 09:54:28 -0700 (PDT)
Message-ID: <8837fb77040713095411dae20e@mail.gmail.com>
Date: Tue, 13 Jul 2004 09:54:28 -0700
From: John Wang <john.wang@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Why is Field.java final?
In-Reply-To: <40F409D9.5070505@apache.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <40F072B4.2060002@newsmonster.org> <40F15AB8.9020905@apache.org> <40F33BD0.40807@newsmonster.org> <8837fb770407122151692c5d59@mail.gmail.com> <40F409D9.5070505@apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Doug:
     I have sent an email before stating why I'd like the Token class
be extensible. But allow me to reiterate.
 
    It is not so much what to override, it is more what extra
information I want to encapsulate in the token.

    In my case, while tokenizing a file, I want to store information
such as what is the sentence the word is in and which word index is
etc. so I can figure what to store in Lucene and what not to.

   Much like the org.apache.lucene.analysis.standard.Token class, it
contains more information that is accessible in the standard Token
class. Seems like Lucene, as well, it has to do this to overcome the
fact the Token class is final. Wouldn't it be simpler to make this
class to dervie from Token? Why is it done this way?

    I am not sure I am 100% agree with your statement on making API
dictating its usage. I know of a quote: "A tool is successful when it
is able to do what its creator never even dreamt of". And I think
Lucene is certainly capable of that.

   Just my two cents.

Thanks

-John

On Tue, 13 Jul 2004 09:12:09 -0700, Doug Cutting <cutting@apache.org> wrote:
> John Wang wrote:
> >    On the same thought, how about the org.apache.lucene.analysis.Token
> > class. Can we make it non-final?
> 
> Sure, if you make a case for why it should be non-final.
> 
> What would your subclasses do?  Which methods would you override?
> 
> Doug
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9263-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 18:32:34 2004
Return-Path: <lucene-user-return-9263-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33240 invoked from network); 13 Jul 2004 18:32:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 18:32:34 -0000
Received: (qmail 23038 invoked by uid 500); 13 Jul 2004 18:32:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22997 invoked by uid 500); 13 Jul 2004 18:32:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22984 invoked by uid 99); 13 Jul 2004 18:32:26 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=WEIRD_PORT
X-Spam-Check-By: apache.org
Received: from [192.18.98.36] (HELO brmea-mail-4.sun.com) (192.18.98.36)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 11:32:24 -0700
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by brmea-mail-4.sun.com (8.12.10/8.12.9) with ESMTP id i6DIUG53008357
	for <lucene-user@jakarta.apache.org>; Tue, 13 Jul 2004 12:30:16 -0600 (MDT)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0I0S00701ZDEU6@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Tue, 13 Jul 2004 11:32:23 -0700 (PDT)
Received: from Sun.COM (sr1-usjc07-03.SFBay.Sun.COM [129.145.21.58])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0I0S003W6ZHYLG@ha21sca-mail1.sfbay.sun.com> for
 lucene-user@jakarta.apache.org; Tue, 13 Jul 2004 11:32:23 -0700 (PDT)
Date: Tue, 13 Jul 2004 11:32:22 -0700
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Re: Search Result
In-reply-to: <40E5E3F3.2090605@Sun.COM>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Reply-to: Hetan.Shah@Sun.COM
Message-id: <40F42AB6.6090906@Sun.COM>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.4) Gecko/20040414
References: <40E5C252.9080301@Sun.COM> <40E5CFD9.6070000@tropo.com>
 <40E5D5E1.9010107@Sun.COM> <40E5E3F3.2090605@Sun.COM>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think I have not explained my question correctly. What is happening is 
when I show the result on a page the text below the link as shown below.

Test Page for Apache Installation 
<http://dev-server.sfbay:8880/docs/sample.htm>
Sample content

Jakarta Lucene - Lucene Sandbox 
<http://dev-server.sfbay:8880/docs/lucene-sandbox/index.html>
[Jakarta Lucene] About Overview Powered by Lucene Who We Are Mailing 
Lists Resources FAQ (Official) jGuru FAQ Getting Started Query Syntax 
File Formats Javadoc Contributions Articles, etc. Benchmark


In first example the search criteria "sample" occurs in the beginning of 
the page and so it shows up in the text below the link. In the second 
example the keyword "sample" shows up somewhere later in the document 
and so it does not show up in the text below the link. What can I do so 
that in all cases the text below the link always has the piece of the 
document where the keyword is found?

thanks in advance.

-H

Hetan Shah wrote:

> What I am trying to figure out is. In my search result which is 
> returned by the
>
> Document doc = hits.doc(i);
> <text to show> = doc.get("summary");
>
> The summary field seems to contain only the first few lines of the 
> document. How can I make it to contain the piece that matches the 
> query string?
>
> Thanks.
> -H
>
> Hetan Shah wrote:
>
>> David,
>>
>> Do you know, in the demo code, how do I override or change this value 
>> so that I get to see the appropriate chuck of document? Would this 
>> change make the actual result to show the relevant section of the 
>> document?
>>
>> Sorry to sound so ignorant, I am very new at the whole search 
>> technology, getting to learn a lot from a great supportive community.
>>
>> Thanks,
>> -H
>> David Spencer wrote:
>>
>>> Hetan Shah wrote:
>>>
>>>> My search results are only displaying the top portion of the 
>>>> indexed documents. It does match the query in the later part of the 
>>>> document. Where should I look to change the code in demo3 of 
>>>> default 1.3 final distribution. In general if I want to show the 
>>>> block of document that matches with the query string which classes 
>>>> should I use?
>>>
>>>
>>>
>>>
>>> Sounds like this:
>>>
>>> http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexWriter.html#DEFAULT_MAX_FIELD_LENGTH 
>>>
>>>
>>>>
>>>> Thanks guys.
>>>> -H
>>>>
>>>>
>>>> ---------------------------------------------------------------------
>>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>>
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9264-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 19:35:53 2004
Return-Path: <lucene-user-return-9264-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77079 invoked from network); 13 Jul 2004 19:35:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 19:35:53 -0000
Received: (qmail 16929 invoked by uid 500); 13 Jul 2004 19:35:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16865 invoked by uid 500); 13 Jul 2004 19:35:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16789 invoked by uid 99); 13 Jul 2004 19:35:40 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=WEIRD_PORT
X-Spam-Check-By: apache.org
Received: from [128.143.103.113] (HELO postfix.mail.ehatchersolutions.com) (128.143.103.113)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 12:35:39 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 9CFDF7E540F
	for <lucene-user@jakarta.apache.org>; Tue, 13 Jul 2004 15:35:37 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <40F42AB6.6090906@Sun.COM>
References: <40E5C252.9080301@Sun.COM> <40E5CFD9.6070000@tropo.com> <40E5D5E1.9010107@Sun.COM> <40E5E3F3.2090605@Sun.COM> <40F42AB6.6090906@Sun.COM>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <D0B4DF55-D503-11D8-AB01-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Search Result
Date: Tue, 13 Jul 2004 15:35:37 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Look at the Term Highlighter here:

	http://jakarta.apache.org/lucene/docs/lucene-sandbox/


On Jul 13, 2004, at 2:32 PM, Hetan Shah wrote:

> I think I have not explained my question correctly. What is happening  
> is when I show the result on a page the text below the link as shown  
> below.
>
> Test Page for Apache Installation  
> <http://dev-server.sfbay:8880/docs/sample.htm>
> Sample content
>
> Jakarta Lucene - Lucene Sandbox  
> <http://dev-server.sfbay:8880/docs/lucene-sandbox/index.html>
> [Jakarta Lucene] About Overview Powered by Lucene Who We Are Mailing  
> Lists Resources FAQ (Official) jGuru FAQ Getting Started Query Syntax  
> File Formats Javadoc Contributions Articles, etc. Benchmark
>
>
> In first example the search criteria "sample" occurs in the beginning  
> of the page and so it shows up in the text below the link. In the  
> second example the keyword "sample" shows up somewhere later in the  
> document and so it does not show up in the text below the link. What  
> can I do so that in all cases the text below the link always has the  
> piece of the document where the keyword is found?
>
> thanks in advance.
>
> -H
>
> Hetan Shah wrote:
>
>> What I am trying to figure out is. In my search result which is  
>> returned by the
>>
>> Document doc = hits.doc(i);
>> <text to show> = doc.get("summary");
>>
>> The summary field seems to contain only the first few lines of the  
>> document. How can I make it to contain the piece that matches the  
>> query string?
>>
>> Thanks.
>> -H
>>
>> Hetan Shah wrote:
>>
>>> David,
>>>
>>> Do you know, in the demo code, how do I override or change this  
>>> value so that I get to see the appropriate chuck of document? Would  
>>> this change make the actual result to show the relevant section of  
>>> the document?
>>>
>>> Sorry to sound so ignorant, I am very new at the whole search  
>>> technology, getting to learn a lot from a great supportive  
>>> community.
>>>
>>> Thanks,
>>> -H
>>> David Spencer wrote:
>>>
>>>> Hetan Shah wrote:
>>>>
>>>>> My search results are only displaying the top portion of the  
>>>>> indexed documents. It does match the query in the later part of  
>>>>> the document. Where should I look to change the code in demo3 of  
>>>>> default 1.3 final distribution. In general if I want to show the  
>>>>> block of document that matches with the query string which classes  
>>>>> should I use?
>>>>
>>>>
>>>>
>>>>
>>>> Sounds like this:
>>>>
>>>> http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/ 
>>>> IndexWriter.html#DEFAULT_MAX_FIELD_LENGTH
>>>>
>>>>>
>>>>> Thanks guys.
>>>>> -H
>>>>>
>>>>>
>>>>> ------------------------------------------------------------------- 
>>>>> --
>>>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>>> For additional commands, e-mail:  
>>>>> lucene-user-help@jakarta.apache.org
>>>>>
>>>>
>>>>
>>>> -------------------------------------------------------------------- 
>>>> -
>>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>>
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9265-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 20:28:00 2004
Return-Path: <lucene-user-return-9265-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4505 invoked from network); 13 Jul 2004 20:28:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 20:28:00 -0000
Received: (qmail 99214 invoked by uid 500); 13 Jul 2004 20:27:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99184 invoked by uid 500); 13 Jul 2004 20:27:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99159 invoked by uid 99); 13 Jul 2004 20:27:51 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=WEIRD_PORT
X-Spam-Check-By: apache.org
Received: from [192.18.98.36] (HELO brmea-mail-4.sun.com) (192.18.98.36)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 13:27:48 -0700
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by brmea-mail-4.sun.com (8.12.10/8.12.9) with ESMTP id i6DKPe53019188
	for <lucene-user@jakarta.apache.org>; Tue, 13 Jul 2004 14:25:41 -0600 (MDT)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0I0T00A014S77F@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Tue, 13 Jul 2004 13:27:47 -0700 (PDT)
Received: from Sun.COM (sr1-usjc07-03.SFBay.Sun.COM [129.145.21.58])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0I0T00HKK4UBRA@ha21sca-mail1.sfbay.sun.com> for
 lucene-user@jakarta.apache.org; Tue, 13 Jul 2004 13:27:47 -0700 (PDT)
Date: Tue, 13 Jul 2004 13:27:47 -0700
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Re: Search Result
In-reply-to: <D0B4DF55-D503-11D8-AB01-000393A564E6@ehatchersolutions.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Reply-to: Hetan.Shah@Sun.COM
Message-id: <40F445C3.7050101@Sun.COM>
MIME-version: 1.0
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.4) Gecko/20040414
References: <40E5C252.9080301@Sun.COM> <40E5CFD9.6070000@tropo.com>
 <40E5D5E1.9010107@Sun.COM> <40E5E3F3.2090605@Sun.COM>
 <40F42AB6.6090906@Sun.COM>
 <D0B4DF55-D503-11D8-AB01-000393A564E6@ehatchersolutions.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik,

Is it not true that without using Highlighter I should be able to search 
for the relevant keyword in the document and be able to show it in the 
resulting summary ? Or am I missing something. I am already using the 
highlighting part. If I am missing something would you please be so kind 
to walk me though the piece that I am missing to implement in capturing 
the correct information from the result and display in the summary section.

Thanks.
-H

Erik Hatcher wrote:

> Look at the Term Highlighter here:
>
>     http://jakarta.apache.org/lucene/docs/lucene-sandbox/
>
>
> On Jul 13, 2004, at 2:32 PM, Hetan Shah wrote:
>
>> I think I have not explained my question correctly. What is 
>> happening  is when I show the result on a page the text below the 
>> link as shown  below.
>>
>> Test Page for Apache Installation  
>> <http://dev-server.sfbay:8880/docs/sample.htm>
>> Sample content
>>
>> Jakarta Lucene - Lucene Sandbox  
>> <http://dev-server.sfbay:8880/docs/lucene-sandbox/index.html>
>> [Jakarta Lucene] About Overview Powered by Lucene Who We Are Mailing  
>> Lists Resources FAQ (Official) jGuru FAQ Getting Started Query 
>> Syntax  File Formats Javadoc Contributions Articles, etc. Benchmark
>>
>>
>> In first example the search criteria "sample" occurs in the 
>> beginning  of the page and so it shows up in the text below the link. 
>> In the  second example the keyword "sample" shows up somewhere later 
>> in the  document and so it does not show up in the text below the 
>> link. What  can I do so that in all cases the text below the link 
>> always has the  piece of the document where the keyword is found?
>>
>> thanks in advance.
>>
>> -H
>>
>> Hetan Shah wrote:
>>
>>> What I am trying to figure out is. In my search result which is  
>>> returned by the
>>>
>>> Document doc = hits.doc(i);
>>> <text to show> = doc.get("summary");
>>>
>>> The summary field seems to contain only the first few lines of the  
>>> document. How can I make it to contain the piece that matches the  
>>> query string?
>>>
>>> Thanks.
>>> -H
>>>
>>> Hetan Shah wrote:
>>>
>>>> David,
>>>>
>>>> Do you know, in the demo code, how do I override or change this  
>>>> value so that I get to see the appropriate chuck of document? 
>>>> Would  this change make the actual result to show the relevant 
>>>> section of  the document?
>>>>
>>>> Sorry to sound so ignorant, I am very new at the whole search  
>>>> technology, getting to learn a lot from a great supportive  community.
>>>>
>>>> Thanks,
>>>> -H
>>>> David Spencer wrote:
>>>>
>>>>> Hetan Shah wrote:
>>>>>
>>>>>> My search results are only displaying the top portion of the  
>>>>>> indexed documents. It does match the query in the later part of  
>>>>>> the document. Where should I look to change the code in demo3 of  
>>>>>> default 1.3 final distribution. In general if I want to show the  
>>>>>> block of document that matches with the query string which 
>>>>>> classes  should I use?
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> Sounds like this:
>>>>>
>>>>> http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/ 
>>>>> IndexWriter.html#DEFAULT_MAX_FIELD_LENGTH
>>>>>
>>>>>>
>>>>>> Thanks guys.
>>>>>> -H
>>>>>>
>>>>>>
>>>>>> ------------------------------------------------------------------- 
>>>>>> -- 
>>>>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>>>> For additional commands, e-mail:  
>>>>>> lucene-user-help@jakarta.apache.org
>>>>>>
>>>>>
>>>>>
>>>>> -------------------------------------------------------------------- 
>>>>> -
>>>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>>>
>>>>
>>>>
>>>> ---------------------------------------------------------------------
>>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>>
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9266-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 21:15:00 2004
Return-Path: <lucene-user-return-9266-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31114 invoked from network); 13 Jul 2004 21:15:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 21:15:00 -0000
Received: (qmail 80228 invoked by uid 500); 13 Jul 2004 21:14:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80151 invoked by uid 500); 13 Jul 2004 21:14:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80125 invoked by uid 99); 13 Jul 2004 21:14:49 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_BY_IP,SB_NEW_BULK,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [216.239.56.252] (HELO mproxy.gmail.com) (216.239.56.252)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 13 Jul 2004 14:14:46 -0700
Received: by mproxy.gmail.com with SMTP id w29so9713656cwb
        for <lucene-user@jakarta.apache.org>; Tue, 13 Jul 2004 14:14:45 -0700 (PDT)
Received: by 10.11.99.40 with SMTP id w40mr165105cwb;
        Tue, 13 Jul 2004 14:14:45 -0700 (PDT)
Message-ID: <8837fb770407131414634119f4@mail.gmail.com>
Date: Tue, 13 Jul 2004 14:14:45 -0700
From: John Wang <john.wang@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: lucene philosophy
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi:

    I am trying to store certain types of document fields in my own
format by intercepting the indexing process. One the same line as the
previous discussions on final modifiers on classes, it would be nice
to be able to extend the FieldWriter, DocumentWriter etc. classes.

     Otis suggested writing a forward index some time ago. But that
would lead to management of 2 indexes containing the same set of
documents. Furthermore, there would be more headaches in keeping the
docIds in sync etc. (have a feeling docIds seem to be an entity not to
be used/abused outside of the index)

    Is the Lucene philosophy discouraging this? Is it against best
practices in creating your own index format using Lucene classes?

Thanks

-John

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9267-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 21:30:29 2004
Return-Path: <lucene-user-return-9267-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38417 invoked from network); 13 Jul 2004 21:30:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 21:30:29 -0000
Received: (qmail 96935 invoked by uid 500); 13 Jul 2004 21:30:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96899 invoked by uid 500); 13 Jul 2004 21:30:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96886 invoked by uid 99); 13 Jul 2004 21:30:21 -0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=HTML_40_50,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [64.65.202.3] (HELO contextmedia.com) (64.65.202.3)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 14:30:18 -0700
Received: from ppeddi ([192.168.1.48]) by contextmedia.com ; Tue, 13 Jul 2004 17:30:10 -0400
Message-ID: <00c801c46920$9685af30$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "lucenelist" <lucene-user@jakarta.apache.org>
Subject: wierd error in weblogic due to lucene
Date: Tue, 13 Jul 2004 17:30:15 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00C5_01C468FF.0F65DE60"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00C5_01C468FF.0F65DE60
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello,
I am seeing wierd problem with weblogic when I have lot of data in =
lucene. Wehave a concept of content objects and each content object maps =
to a lucene document. We tested with 500K objects and lucene even though =
indexed fine, was creating problems while searching.=20

When we spawned 25 searches at the same time on weblogic app server, =
weblogic started un deploying the application. Its wierd, isn't it?

The reason I think lucene is causing this problem is, the root exception =
given by weblogic is related to number of files open (see below for the =
exception).

Did anyone see this problem before? Is lucene capable of handling 500K =
documents?

Why would lucene un deploy the application


<Jul 12, 2004 3:09:56 PM PDT> <Critical> <WebLogicServer> <000204> =
<Failed to=20
listen on port 7001, failure count: 1, failing for 0 seconds,=20
java.net.SocketException: Too many open files>=20
<Jul 12, 2004 3:09:56 PM PDT> <Notice> <Application Poller> <149401> =
<Removing=20
application: interchange>=20
<Jul 12, 2004 3:09:57 PM PDT> <Notice> <Application Poller> <149404> =
<Remove=20
application interchange on suntestadmin - Running>=20
<Jul 12, 2004 3:09:57 PM PDT> <Notice> <WebLogicServer> <000205> <After =
having=20
failed to listen, the server is now listening on port 7001>=20
<Jul 12, 2004 3:09:59 PM PDT> <Notice> <Application Poller> <149404> =
<Remove=20
application interchange on suntestadmin - Running>=20

Any help is appreciated.

Thanks
Praveen


**************************************************************=20
Praveen Peddi
Sr Software Engg, Context Media, Inc.=20
email:ppeddi@contextmedia.com=20
Tel:  401.854.3475=20
Fax:  401.861.3596=20
web: http://www.contextmedia.com=20
**************************************************************=20
Context Media- "The Leader in Enterprise Content Integration"=20

------=_NextPart_000_00C5_01C468FF.0F65DE60--


From lucene-user-return-9268-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 21:40:52 2004
Return-Path: <lucene-user-return-9268-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43137 invoked from network); 13 Jul 2004 21:40:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 21:40:52 -0000
Received: (qmail 9707 invoked by uid 500); 13 Jul 2004 21:40:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9497 invoked by uid 500); 13 Jul 2004 21:40:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9482 invoked by uid 99); 13 Jul 2004 21:40:45 -0000
X-ASF-Spam-Status: No, hits=3.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_50_60,HTML_IMAGE_ONLY_08,HTML_MESSAGE,MSGID_FROM_MTA_HEADER
X-Spam-Check-By: apache.org
Received: from [203.199.83.247] (HELO rediffmail.com) (203.199.83.247)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 13 Jul 2004 14:40:43 -0700
Received: (qmail 11276 invoked by uid 510); 13 Jul 2004 21:40:39 -0000
Date: 13 Jul 2004 21:40:39 -0000
Message-ID: <20040713214039.11275.qmail@mailweb34.rediffmail.com>
Received: from unknown (137.53.21.84) by rediffmail.com via HTTP; 13 jul 2004 21:40:39 -0000
MIME-Version: 1.0
From: "Jones G" <jones.g@rediffmail.com>
Reply-To: "Jones G" <jones.g@rediffmail.com>
To: lucene-user@jakarta.apache.org
Subject: Internal Document ID!
Content-type: multipart/alternative;
	boundary="Next_1089754839---0-203.199.83.247-11271"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--Next_1089754839---0-203.199.83.247-11271
Content-type: text/plain;
	charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

This is probably too simple a question but I already have spent several hou=
rs on it.=0A=0AHow do I get the internal document id within an index?=0A=0A=
I need this for the IndexSearcher explain function.=0A=0AThanks.
--Next_1089754839---0-203.199.83.247-11271--


From lucene-user-return-9269-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 21:42:03 2004
Return-Path: <lucene-user-return-9269-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43623 invoked from network); 13 Jul 2004 21:42:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 21:42:02 -0000
Received: (qmail 11180 invoked by uid 500); 13 Jul 2004 21:41:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11152 invoked by uid 500); 13 Jul 2004 21:41:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11138 invoked by uid 99); 13 Jul 2004 21:41:56 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [63.100.163.104] (HELO mercury.corp.cyveillance.com) (63.100.163.104)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 14:41:53 -0700
Received: by mercury.corp.cyveillance.com with Internet Mail Service (5.5.2655.55)
	id <3MWJRA53>; Tue, 13 Jul 2004 17:40:55 -0400
Message-ID: <E65AE9703B683F4C81B5B39C692EB26D1B02AF@mercury.corp.cyveillance.com>
From: wallen@Cyveillance.com
To: lucene-user@jakarta.apache.org
Subject: corrupt indexes?
Date: Tue, 13 Jul 2004 17:40:50 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Has anyone had any experience with their index getting corrupted?

Are there any tools to repair it should it get corrupted?

I have not had any problems, but was curious at how resiliant this data
store seems to be.

-Will

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9270-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 22:00:39 2004
Return-Path: <lucene-user-return-9270-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52143 invoked from network); 13 Jul 2004 22:00:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 22:00:39 -0000
Received: (qmail 40205 invoked by uid 500); 13 Jul 2004 22:00:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40183 invoked by uid 500); 13 Jul 2004 22:00:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40170 invoked by uid 99); 13 Jul 2004 22:00:33 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [194.25.134.20] (HELO mailout08.sul.t-online.com) (194.25.134.20)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 15:00:28 -0700
Received: from fwd01.aul.t-online.de 
	by mailout08.sul.t-online.com with smtp 
	id 1BkVK5-0005By-00; Wed, 14 Jul 2004 00:00:25 +0200
Received: from pD9EBE4EB.dip.t-dialin.net (XdwUykZAYeIyh55uWegsF5RIGgohybh9SUGiCZSFq50aVJtpN3D-6D@[217.235.228.235]) by fmrl01.sul.t-online.com
	with esmtp id 1BkVJw-1vS6Do0; Wed, 14 Jul 2004 00:00:16 +0200
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: wierd error in weblogic due to lucene
Date: Wed, 14 Jul 2004 00:00:49 +0200
User-Agent: KMail/1.6.82
References: <00c801c46920$9685af30$aa87a8c0@ppeddi>
In-Reply-To: <00c801c46920$9685af30$aa87a8c0@ppeddi>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200407140000.49457@danielnaber.de>
X-ID: XdwUykZAYeIyh55uWegsF5RIGgohybh9SUGiCZSFq50aVJtpN3D-6D@t-dialin.net
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday 13 July 2004 23:30, Praveen Peddi wrote:

> The reason I think lucene is causing this problem is, the root exception
> given by weblogic is related to number of files open (see below for the
> exception).

Are you sure you close all Lucene IndexReaders/Writers/Searchers? It's best 
to close them in a finally block so they get closed even when an exception 
is thrown. The number of files shouldn't be the problem. Although you 
could of course try with the compound index if your are not using that 
already (IndexWriter.setUsecompoundFile()).

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9271-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 22:02:30 2004
Return-Path: <lucene-user-return-9271-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52731 invoked from network); 13 Jul 2004 22:02:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 22:02:30 -0000
Received: (qmail 44780 invoked by uid 500); 13 Jul 2004 22:02:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44736 invoked by uid 500); 13 Jul 2004 22:02:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44722 invoked by uid 99); 13 Jul 2004 22:02:22 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [194.25.134.85] (HELO mailout11.sul.t-online.com) (194.25.134.85)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 15:02:21 -0700
Received: from fwd10.aul.t-online.de 
	by mailout11.sul.t-online.com with smtp 
	id 1BkVLv-0000J1-01; Wed, 14 Jul 2004 00:02:19 +0200
Received: from pD9EBE4EB.dip.t-dialin.net (Ek+w3-Zrgen5igb3r3UWQZQSwMS+weYpwQ8kdu7fkNMSQe4VDQRGoE@[217.235.228.235]) by fmrl10.sul.t-online.com
	with esmtp id 1BkVLj-0whwO00; Wed, 14 Jul 2004 00:02:07 +0200
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Internal Document ID!
Date: Wed, 14 Jul 2004 00:02:38 +0200
User-Agent: KMail/1.6.82
References: <20040713214039.11275.qmail@mailweb34.rediffmail.com>
In-Reply-To: <20040713214039.11275.qmail@mailweb34.rediffmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200407140002.38344@danielnaber.de>
X-ID: Ek+w3-Zrgen5igb3r3UWQZQSwMS+weYpwQ8kdu7fkNMSQe4VDQRGoE@t-dialin.net
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday 13 July 2004 23:40, Jones G wrote:

> How do I get the internal document id within an index?

It's Hits.id(n), with n being the current hit number (e.g. 0-9 when you 
iterate over the first ten hits).

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9272-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 22:10:52 2004
Return-Path: <lucene-user-return-9272-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55806 invoked from network); 13 Jul 2004 22:10:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 22:10:52 -0000
Received: (qmail 57616 invoked by uid 500); 13 Jul 2004 22:10:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57576 invoked by uid 500); 13 Jul 2004 22:10:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57562 invoked by uid 99); 13 Jul 2004 22:10:46 -0000
X-ASF-Spam-Status: No, hits=3.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_30_40,HTML_IMAGE_ONLY_12,HTML_MESSAGE,MSGID_FROM_MTA_HEADER
X-Spam-Check-By: apache.org
Received: from [202.54.124.151] (HELO rediffmail.com) (202.54.124.151)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 13 Jul 2004 15:10:44 -0700
Received: (qmail 18582 invoked by uid 510); 13 Jul 2004 22:10:35 -0000
Date: 13 Jul 2004 22:10:35 -0000
Message-ID: <20040713221035.18581.qmail@webmail6.rediffmail.com>
Received: from unknown (137.53.21.84) by rediffmail.com via HTTP; 13 jul 2004 22:10:35 -0000
MIME-Version: 1.0
From: "Jones G" <jones.g@rediffmail.com>
Reply-To: "Jones G" <jones.g@rediffmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Re: Internal Document ID!
Content-type: multipart/alternative;
	boundary="Next_1089756635---0-202.54.124.151-18577"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--Next_1089756635---0-202.54.124.151-18577
Content-type: text/plain;
	charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Thanks a bunch for the quick reply. This has been driving me crazy till now=
.=0A=0AOn Wed, 14 Jul 2004 Daniel Naber wrote :=0A>On Tuesday 13 July 2004 =
23:40, Jones G wrote:=0A>=0A> > How do I get the internal document id withi=
n an index?=0A>=0A>It's Hits.id(n), with n being the current hit number (e.=
g. 0-9 when you=0A>iterate over the first ten hits).=0A>=0A>Regards=0A>  Da=
niel=0A>=0A>--=0A>http://www.danielnaber.de=0A>=0A>------------------------=
---------------------------------------------=0A>To unsubscribe, e-mail: lu=
cene-user-unsubscribe@jakarta.apache.org=0A>For additional commands, e-mail=
: lucene-user-help@jakarta.apache.org=0A>=0A
--Next_1089756635---0-202.54.124.151-18577--


From lucene-user-return-9273-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 22:49:28 2004
Return-Path: <lucene-user-return-9273-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69650 invoked from network); 13 Jul 2004 22:49:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 22:49:28 -0000
Received: (qmail 17964 invoked by uid 500); 13 Jul 2004 22:49:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17820 invoked by uid 500); 13 Jul 2004 22:49:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17804 invoked by uid 99); 13 Jul 2004 22:49:23 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_BY_IP,SB_NEW_BULK,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [64.233.170.201] (HELO mproxy.gmail.com) (64.233.170.201)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 13 Jul 2004 15:49:20 -0700
Received: by mproxy.gmail.com with SMTP id d19so471289rnf
        for <lucene-user@jakarta.apache.org>; Tue, 13 Jul 2004 15:49:09 -0700 (PDT)
Received: by 10.38.9.67 with SMTP id 67mr139808rni;
        Tue, 13 Jul 2004 15:49:09 -0700 (PDT)
Message-ID: <ff737ac3040713154969c7e50@mail.gmail.com>
Date: Wed, 14 Jul 2004 00:49:09 +0200
From: Giulio Cesare Solaroli <giulio.cesare@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: corrupt indexes?
In-Reply-To: <E65AE9703B683F4C81B5B39C692EB26D1B02AF@mercury.corp.cyveillance.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <E65AE9703B683F4C81B5B39C692EB26D1B02AF@mercury.corp.cyveillance.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

We had a nightmare story, but we did not understand what had happened.

The net result was that an index, with almost 6 milion documents, that
was updated (adding and deleting documets) constantly for a few
months, one morning was reporting 0 documents, even if the space used
on the disk was still consistent with the 6 milion documents (about
30Gb).

We have not enough knowledge to debug the problem so we started
immediatly creating a new index on the whole set of documents.

Beside this nasty problem, we have experienced constant errors trying
to create a new index on a Sun V440 (with 4 CPU and 8Gb of RAM) with a
Sun JRE.

I will collect all the relevant information and post back full details
on this later problem because we have been forced to use other systems
(XServe with MacOSX 10.2) because using the V440 the index became
corrupted regularly. We have not other Sun hardware with enough
performace to support our indexing needs, so we haven't investigated
this problem further.

Regards,

Giulio Cesare Solaroli

On Tue, 13 Jul 2004 17:40:50 -0400, wallen@cyveillance.com
<wallen@cyveillance.com> wrote:
> Has anyone had any experience with their index getting corrupted?
> 
> Are there any tools to repair it should it get corrupted?
> 
> I have not had any problems, but was curious at how resiliant this data
> store seems to be.
> 
> -Will
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9274-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 23:01:31 2004
Return-Path: <lucene-user-return-9274-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73974 invoked from network); 13 Jul 2004 23:01:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 23:01:31 -0000
Received: (qmail 34041 invoked by uid 500); 13 Jul 2004 23:01:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33997 invoked by uid 500); 13 Jul 2004 23:01:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33983 invoked by uid 99); 13 Jul 2004 23:01:24 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=WEIRD_PORT
X-Spam-Check-By: apache.org
Received: from [192.18.42.14] (HELO nwkea-mail-2.sun.com) (192.18.42.14)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 16:01:23 -0700
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by nwkea-mail-2.sun.com (8.12.10/8.12.9) with ESMTP id i6DN1M0R024061
	for <lucene-user@jakarta.apache.org>; Tue, 13 Jul 2004 16:01:22 -0700 (PDT)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0I0T00B01BXC2Y@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Tue, 13 Jul 2004 16:01:22 -0700 (PDT)
Received: from Sun.COM (sr1-usjc07-03.SFBay.Sun.COM [129.145.21.58])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0I0T004JSBYAGL@ha21sca-mail1.sfbay.sun.com> for
 lucene-user@jakarta.apache.org; Tue, 13 Jul 2004 16:01:22 -0700 (PDT)
Date: Tue, 13 Jul 2004 16:01:22 -0700
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Re: Search Result
In-reply-to: <D0B4DF55-D503-11D8-AB01-000393A564E6@ehatchersolutions.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Reply-to: Hetan.Shah@Sun.COM
Message-id: <40F469C2.5000305@Sun.COM>
MIME-version: 1.0
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.4) Gecko/20040414
References: <40E5C252.9080301@Sun.COM> <40E5CFD9.6070000@tropo.com>
 <40E5D5E1.9010107@Sun.COM> <40E5E3F3.2090605@Sun.COM>
 <40F42AB6.6090906@Sun.COM>
 <D0B4DF55-D503-11D8-AB01-000393A564E6@ehatchersolutions.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Daniel, Erik,

I tried changing SUMMARY_LENGTH to 2000000 in the HTMLParser.java file recompiled and made a new jar file and redeployed the app. I still get the default length of 200 from I do not know where. Is there any place specific that I have to change this value along with the 
public static int SUMMARY_LENGTH = 2000000;

I know I am very close to getting what I am looking for. Thanks to you guys.
-H

On Saturday 03 July 2004 00:38, Hetan Shah wrote:


>> The summary field seems to contain only the first few lines of the
>> document. How can I make it to contain the piece that matches the query
>> string?
>  
>

It's SUMMARY_LENGTH in HTMLParser.java.

Regards
 Daniel


Erik Hatcher wrote:

> Look at the Term Highlighter here:
>
>     http://jakarta.apache.org/lucene/docs/lucene-sandbox/
>
>
> On Jul 13, 2004, at 2:32 PM, Hetan Shah wrote:
>
>> I think I have not explained my question correctly. What is 
>> happening  is when I show the result on a page the text below the 
>> link as shown  below.
>>
>> Test Page for Apache Installation  
>> <http://dev-server.sfbay:8880/docs/sample.htm>
>> Sample content
>>
>> Jakarta Lucene - Lucene Sandbox  
>> <http://dev-server.sfbay:8880/docs/lucene-sandbox/index.html>
>> [Jakarta Lucene] About Overview Powered by Lucene Who We Are Mailing  
>> Lists Resources FAQ (Official) jGuru FAQ Getting Started Query 
>> Syntax  File Formats Javadoc Contributions Articles, etc. Benchmark
>>
>>
>> In first example the search criteria "sample" occurs in the 
>> beginning  of the page and so it shows up in the text below the link. 
>> In the  second example the keyword "sample" shows up somewhere later 
>> in the  document and so it does not show up in the text below the 
>> link. What  can I do so that in all cases the text below the link 
>> always has the  piece of the document where the keyword is found?
>>
>> thanks in advance.
>>
>> -H
>>
>> Hetan Shah wrote:
>>
>>> What I am trying to figure out is. In my search result which is  
>>> returned by the
>>>
>>> Document doc = hits.doc(i);
>>> <text to show> = doc.get("summary");
>>>
>>> The summary field seems to contain only the first few lines of the  
>>> document. How can I make it to contain the piece that matches the  
>>> query string?
>>>
>>> Thanks.
>>> -H
>>>
>>> Hetan Shah wrote:
>>>
>>>> David,
>>>>
>>>> Do you know, in the demo code, how do I override or change this  
>>>> value so that I get to see the appropriate chuck of document? 
>>>> Would  this change make the actual result to show the relevant 
>>>> section of  the document?
>>>>
>>>> Sorry to sound so ignorant, I am very new at the whole search  
>>>> technology, getting to learn a lot from a great supportive  community.
>>>>
>>>> Thanks,
>>>> -H
>>>> David Spencer wrote:
>>>>
>>>>> Hetan Shah wrote:
>>>>>
>>>>>> My search results are only displaying the top portion of the  
>>>>>> indexed documents. It does match the query in the later part of  
>>>>>> the document. Where should I look to change the code in demo3 of  
>>>>>> default 1.3 final distribution. In general if I want to show the  
>>>>>> block of document that matches with the query string which 
>>>>>> classes  should I use?
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> Sounds like this:
>>>>>
>>>>> http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/ 
>>>>> IndexWriter.html#DEFAULT_MAX_FIELD_LENGTH
>>>>>
>>>>>>
>>>>>> Thanks guys.
>>>>>> -H
>>>>>>
>>>>>>
>>>>>> ------------------------------------------------------------------- 
>>>>>> -- 
>>>>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>>>> For additional commands, e-mail:  
>>>>>> lucene-user-help@jakarta.apache.org
>>>>>>
>>>>>
>>>>>
>>>>> -------------------------------------------------------------------- 
>>>>> -
>>>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>>>
>>>>
>>>>
>>>> ---------------------------------------------------------------------
>>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>>
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9275-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 23:10:42 2004
Return-Path: <lucene-user-return-9275-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77032 invoked from network); 13 Jul 2004 23:10:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 23:10:42 -0000
Received: (qmail 43887 invoked by uid 500); 13 Jul 2004 23:10:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43626 invoked by uid 500); 13 Jul 2004 23:10:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43613 invoked by uid 99); 13 Jul 2004 23:10:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_70_80,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [152.73.7.111] (HELO mail1.nnit.dk) (152.73.7.111)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 16:10:32 -0700
Received: from localhost (localhost [127.0.0.1])
	by localhost.novonordisk.com (Postfix) with ESMTP id 25B10150055
	for <lucene-user@jakarta.apache.org>; Wed, 14 Jul 2004 01:10:26 +0200 (CEST)
Received: from mail1.nnit.dk ([127.0.0.1])
 by localhost (mail9m-ext.novo.dk [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 19883-03 for <lucene-user@jakarta.apache.org>;
 Wed, 14 Jul 2004 01:10:25 +0200 (CEST)
Received: from mail9m-int.novo.dk (mail9m-int.novo.dk [10.1.13.98])
	by mail9m-ext.novo.dk (Postfix) with ESMTP id 0C57B150050
	for <lucene-user@jakarta.apache.org>; Wed, 14 Jul 2004 01:10:25 +0200 (CEST)
Received: from EXDKHUB071.corp.novocorp.net (exdkhub071.corp.novocorp.net [10.1.35.71])
	by mail9m-int.novo.dk (Postfix) with ESMTP id 09EF1148020
	for <lucene-user@jakarta.apache.org>; Wed, 14 Jul 2004 01:10:25 +0200 (CEST)
Received: from EXDKHUB041.corp.novocorp.net ([10.1.8.121]) by EXDKHUB071.corp.novocorp.net with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 14 Jul 2004 01:10:25 +0200
Received: from EXDKBA030.corp.novocorp.net ([10.1.14.81]) by EXDKHUB041.corp.novocorp.net with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 14 Jul 2004 01:10:24 +0200
Received: from EXDKBA023.corp.novocorp.net ([10.1.25.2]) by EXDKBA030.corp.novocorp.net with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 14 Jul 2004 01:10:24 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.0.6524.0
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C4692E.941A2F22"
Subject: lucene sort error - there are more terms than documents in field ....
Date: Wed, 14 Jul 2004 01:10:24 +0200
Message-ID: <264C522BA3BC7941BD1560AD9A17C4FA02470C2A@exdkba023.novo.dk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: lucene sort error - there are more terms than documents in field ....
thread-index: AcRpLpNn9rrUOeFeTECQldDbITVvfA==
From: "MATL (Mats Lindberg)" <matl@nnit.com>
To: <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 13 Jul 2004 23:10:24.0786 (UTC) FILETIME=[94219F20:01C4692E]
X-Virus-Scanned: by amavisd-new/catpipe/nnit at nnit.dk
X-Envelope-From: matl@nnit.com
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4692E.941A2F22
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hello.
=20
I am using:
import org.apache.lucene.search.Sort

 when searching an index, but for some reasons, in some indexes i get
this error:

caught a class java.lang.RuntimeException
 with message: there are more terms than documents in field
<TheFieldIAmSortingBy>
=20
does anybody know what causes this, or how to solve it.
=20
Best regards,
Mats Lindberg
=20

------_=_NextPart_001_01C4692E.941A2F22--

From lucene-user-return-9276-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 23:29:07 2004
Return-Path: <lucene-user-return-9276-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83768 invoked from network); 13 Jul 2004 23:29:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 23:29:07 -0000
Received: (qmail 75365 invoked by uid 500); 13 Jul 2004 23:29:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75331 invoked by uid 500); 13 Jul 2004 23:28:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75315 invoked by uid 99); 13 Jul 2004 23:28:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.103.113] (HELO postfix.mail.ehatchersolutions.com) (128.143.103.113)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 16:28:57 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id CC21E7E5A1E
	for <lucene-user@jakarta.apache.org>; Tue, 13 Jul 2004 19:28:54 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <264C522BA3BC7941BD1560AD9A17C4FA02470C2A@exdkba023.novo.dk>
References: <264C522BA3BC7941BD1560AD9A17C4FA02470C2A@exdkba023.novo.dk>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <6789AD98-D524-11D8-BBF4-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: lucene sort error - there are more terms than documents in field ....
Date: Tue, 13 Jul 2004 19:28:54 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jul 13, 2004, at 7:10 PM, MATL (Mats Lindberg) wrote:

> Hello.
>
> I am using:
> import org.apache.lucene.search.Sort
>
>  when searching an index, but for some reasons, in some indexes i get
> this error:
>
> caught a class java.lang.RuntimeException
>  with message: there are more terms than documents in field
> <TheFieldIAmSortingBy>
>
> does anybody know what causes this, or how to solve it.

You may only have a single term for each document.  How is the field 
indexed you're sorting by?  Field.Keyword is the only guaranteed safe 
one, and your analyzer will determine how the other fields are treated.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9277-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 23:32:32 2004
Return-Path: <lucene-user-return-9277-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84668 invoked from network); 13 Jul 2004 23:32:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 23:32:32 -0000
Received: (qmail 78782 invoked by uid 500); 13 Jul 2004 23:32:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78717 invoked by uid 500); 13 Jul 2004 23:32:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78704 invoked by uid 99); 13 Jul 2004 23:32:25 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [152.73.7.111] (HELO mail1.nnit.dk) (152.73.7.111)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 16:32:24 -0700
Received: from localhost (localhost [127.0.0.1])
	by localhost.novonordisk.com (Postfix) with ESMTP id 417AB1500CF
	for <lucene-user@jakarta.apache.org>; Wed, 14 Jul 2004 01:32:22 +0200 (CEST)
Received: from mail1.nnit.dk ([127.0.0.1])
 by localhost (mail9m-ext.novo.dk [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 22688-02 for <lucene-user@jakarta.apache.org>;
 Wed, 14 Jul 2004 01:32:21 +0200 (CEST)
Received: from mail9m-int.novo.dk (mail9m-int.novo.dk [10.1.13.98])
	by mail9m-ext.novo.dk (Postfix) with ESMTP id 3F2301500CE
	for <lucene-user@jakarta.apache.org>; Wed, 14 Jul 2004 01:32:21 +0200 (CEST)
Received: from EXDKHUB071.corp.novocorp.net (exdkhub071.corp.novocorp.net [10.1.35.71])
	by mail9m-int.novo.dk (Postfix) with ESMTP id 377C314801C
	for <lucene-user@jakarta.apache.org>; Wed, 14 Jul 2004 01:32:21 +0200 (CEST)
Received: from EXDKHUB041.corp.novocorp.net ([10.1.8.121]) by EXDKHUB071.corp.novocorp.net with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 14 Jul 2004 01:32:21 +0200
Received: from exdkba020.corp.novocorp.net ([10.1.26.1]) by EXDKHUB041.corp.novocorp.net with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 14 Jul 2004 01:32:21 +0200
Received: from EXDKBA023.corp.novocorp.net ([10.1.25.2]) by exdkba020.corp.novocorp.net with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 14 Jul 2004 01:32:21 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.0.6524.0
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: SV: lucene sort error - there are more terms than documents in field ....
Date: Wed, 14 Jul 2004 01:32:20 +0200
Message-ID: <264C522BA3BC7941BD1560AD9A17C4FA030C7363@exdkba023.novo.dk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: lucene sort error - there are more terms than documents in field ....
thread-index: AcRpMTSnb5GnPDN5Tz6pqMqPqhzZPQAADayw
From: "MATL (Mats Lindberg)" <matl@nnit.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 13 Jul 2004 23:32:21.0056 (UTC) FILETIME=[A4B07C00:01C46931]
X-Virus-Scanned: by amavisd-new/catpipe/nnit at nnit.dk
X-Envelope-From: matl@nnit.com
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello.

I only have one term, this is the sample code (where sortfield is a
fields that has been indexed):

hits =3D searcher.search(query, new Sort(sortField, false));=20


you mention Field.Keyword, what is that.

Mats

-----Oprindelig meddelelse-----
Fra: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Sendt: 14. juli 2004 01:29
Til: Lucene Users List
Emne: Re: lucene sort error - there are more terms than documents in
field ....


On Jul 13, 2004, at 7:10 PM, MATL (Mats Lindberg) wrote:

> Hello.
>
> I am using:
> import org.apache.lucene.search.Sort
>
>  when searching an index, but for some reasons, in some indexes i get=20
> this error:
>
> caught a class java.lang.RuntimeException  with message: there are=20
> more terms than documents in field <TheFieldIAmSortingBy>
>
> does anybody know what causes this, or how to solve it.

You may only have a single term for each document.  How is the field
indexed you're sorting by?  Field.Keyword is the only guaranteed safe
one, and your analyzer will determine how the other fields are treated.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9278-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 23:35:29 2004
Return-Path: <lucene-user-return-9278-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85318 invoked from network); 13 Jul 2004 23:35:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 23:35:29 -0000
Received: (qmail 81072 invoked by uid 500); 13 Jul 2004 23:35:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80891 invoked by uid 500); 13 Jul 2004 23:35:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80873 invoked by uid 99); 13 Jul 2004 23:35:21 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [152.73.7.111] (HELO mail1.nnit.dk) (152.73.7.111)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 16:35:21 -0700
Received: from localhost (localhost [127.0.0.1])
	by localhost.novonordisk.com (Postfix) with ESMTP id B232D1501EC
	for <lucene-user@jakarta.apache.org>; Wed, 14 Jul 2004 01:35:19 +0200 (CEST)
Received: from mail1.nnit.dk ([127.0.0.1])
 by localhost (mail9m-ext.novo.dk [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 22801-06 for <lucene-user@jakarta.apache.org>;
 Wed, 14 Jul 2004 01:35:17 +0200 (CEST)
Received: from mail9m-int.novo.dk (mail9m-int.novo.dk [10.1.13.98])
	by mail9m-ext.novo.dk (Postfix) with ESMTP id CF38E15013F
	for <lucene-user@jakarta.apache.org>; Wed, 14 Jul 2004 01:35:17 +0200 (CEST)
Received: from EXDKHUB071.corp.novocorp.net (exdkhub071.corp.novocorp.net [10.1.35.71])
	by mail9m-int.novo.dk (Postfix) with ESMTP id CD2B314801C
	for <lucene-user@jakarta.apache.org>; Wed, 14 Jul 2004 01:35:17 +0200 (CEST)
Received: from EXDKHUB040.corp.novocorp.net ([10.1.14.153]) by EXDKHUB071.corp.novocorp.net with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 14 Jul 2004 01:35:17 +0200
Received: from exdkba020.corp.novocorp.net ([10.1.26.1]) by EXDKHUB040.corp.novocorp.net with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 14 Jul 2004 01:35:17 +0200
Received: from EXDKBA023.corp.novocorp.net ([10.1.25.2]) by exdkba020.corp.novocorp.net with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 14 Jul 2004 01:35:17 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.0.6524.0
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: SV: lucene sort error - there are more terms than documents in field ....
Date: Wed, 14 Jul 2004 01:35:17 +0200
Message-ID: <264C522BA3BC7941BD1560AD9A17C4FA030C7364@exdkba023.novo.dk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: lucene sort error - there are more terms than documents in field ....
thread-index: AcRpMTSnb5GnPDN5Tz6pqMqPqhzZPQAADaywAAAezNA=
From: "MATL (Mats Lindberg)" <matl@nnit.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 13 Jul 2004 23:35:17.0258 (UTC) FILETIME=[0DB6C6A0:01C46932]
X-Virus-Scanned: by amavisd-new/catpipe/nnit at nnit.dk
X-Envelope-From: matl@nnit.com
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

when i index i use the Field.Text, do you mean that i should use
Field.Keyword instead

Mats=20

-----Oprindelig meddelelse-----
Fra: MATL (Mats Lindberg)=20
Sendt: 14. juli 2004 01:32
Til: Lucene Users List
Emne: SV: lucene sort error - there are more terms than documents in
field ....

Hello.

I only have one term, this is the sample code (where sortfield is a
fields that has been indexed):

hits =3D searcher.search(query, new Sort(sortField, false));=20


you mention Field.Keyword, what is that.

Mats

-----Oprindelig meddelelse-----
Fra: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sendt: 14. juli 2004 01:29
Til: Lucene Users List
Emne: Re: lucene sort error - there are more terms than documents in
field ....


On Jul 13, 2004, at 7:10 PM, MATL (Mats Lindberg) wrote:

> Hello.
>
> I am using:
> import org.apache.lucene.search.Sort
>
>  when searching an index, but for some reasons, in some indexes i get=20
> this error:
>
> caught a class java.lang.RuntimeException  with message: there are=20
> more terms than documents in field <TheFieldIAmSortingBy>
>
> does anybody know what causes this, or how to solve it.

You may only have a single term for each document.  How is the field
indexed you're sorting by?  Field.Keyword is the only guaranteed safe
one, and your analyzer will determine how the other fields are treated.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9279-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 13 23:55:10 2004
Return-Path: <lucene-user-return-9279-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90494 invoked from network); 13 Jul 2004 23:55:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jul 2004 23:55:10 -0000
Received: (qmail 99571 invoked by uid 500); 13 Jul 2004 23:55:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98780 invoked by uid 500); 13 Jul 2004 23:55:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98767 invoked by uid 99); 13 Jul 2004 23:55:05 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.79.71.204] (HELO gandalf.lan.waite.net.nz) (203.79.71.204)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 16:55:02 -0700
Received: from localhost ([127.0.0.1] ident=amavis)
	by gandalf.lan.waite.net.nz with esmtp (Exim 4.30 #1 (Debian))
	id 1BkX6u-0003ZK-6c
	for <lucene-user@jakarta.apache.org>; Wed, 14 Jul 2004 11:54:56 +1200
Received: from gandalf.lan.waite.net.nz ([127.0.0.1])
	by localhost (gandalf [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 13226-10 for <lucene-user@jakarta.apache.org>;
	Wed, 14 Jul 2004 11:54:51 +1200 (NZST)
Received: from frodo.lan.waite.net.nz ([192.168.1.29] ident=paul)
	by gandalf.lan.waite.net.nz with esmtp (Exim 4.30 #1 (Debian))
	id 1BkX6p-0003ZD-Ob
	for <lucene-user@jakarta.apache.org>; Wed, 14 Jul 2004 11:54:51 +1200
From: Paul <paul@waite.net.nz>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: corrupt indexes?
Date: Wed, 14 Jul 2004 11:54:46 +1200
User-Agent: KMail/1.6.2
References: <E65AE9703B683F4C81B5B39C692EB26D1B02AF@mercury.corp.cyveillance.com> <ff737ac3040713154969c7e50@mail.gmail.com>
In-Reply-To: <ff737ac3040713154969c7e50@mail.gmail.com>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: Text/Plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200407141154.51224.paul@waite.net.nz>
X-Virus-Scanned: by amavisd-new-20030616-p5 (Debian) at waite.net.nz
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On Tue, 13 Jul 2004 17:40:50 -0400, wallen@cyveillance.com
<wallen@cyveillance.com> wrote:
> Has anyone had any experience with their index getting corrupted?

See my previous postings under the subject "Optimize Crash" of around
4th April. I provided the index via FTP (again see the previous posts - it is
still available).

Sam Hough dug into it and found that two documents were corrupt in this
index, causing the optimize to trip up. He tried marking these as deleted
but reported that the term info was also corrupt so this didn't work.

My modus operandum prior to this happening was as follows. We index new
documents at around 1,000-1,500 per day, and so I was doing a single
optimize in the early hours of each morning. Searching is being done all the
while, but is pretty quiet outside working hours. No result code was being
returned from the optimization, so I wasn't aware of the corruption at the
actual time it occurred.

So far this has happened twice. The first time it happened, I just re-indexed
the whole archive (about 700,000 docs), and also moved to 1.3-Final, since
that had just come out.

Unfortunately the same problem then recurred, and this is when I posted to
this group and made the index available for anyone interested.

Obviously I still don't know what caused it. It could be nothing to do with
Lucene - possibly a JVM or hardware issue. It's very hard to diagnose.

My approach has therefore been as follows:

First of all I stopped doing any optimisation. The index still has the corrupt
documents in it, but otherwise behaves normally for searching and indexing
new content etc. Performance is fine.

Our optimisation run is going to be enhanced to check the success or
otherwise, as indication of index corruption having occurred. If the run was
a success, we will merge the index into an empty directory, creating a
'last known good' backup. If it failed, we will report the error.

If corruption occurs, we will then take the last known good backup and just
roll it forward through the few hundred new articles since backup, which
will only take about 10-15 minutes.

Cheers,
Paul.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.4 (GNU/Linux)

iD8DBQFA9HZKtfkpAgkMOyMRAvVBAJ0eIm7WNCn/uLDf+x1NiMAyvCi+qACfa1Y0
Jmfi3tKZPGHNM+oJVIku7mE=
=MtJS
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9280-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 14 00:45:02 2004
Return-Path: <lucene-user-return-9280-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1754 invoked from network); 14 Jul 2004 00:45:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jul 2004 00:45:02 -0000
Received: (qmail 39470 invoked by uid 500); 14 Jul 2004 00:44:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39440 invoked by uid 500); 14 Jul 2004 00:44:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39427 invoked by uid 99); 14 Jul 2004 00:44:58 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.103.113] (HELO postfix.mail.ehatchersolutions.com) (128.143.103.113)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 17:44:55 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id C87287E5DDF
	for <lucene-user@jakarta.apache.org>; Tue, 13 Jul 2004 20:44:48 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <264C522BA3BC7941BD1560AD9A17C4FA030C7364@exdkba023.novo.dk>
References: <264C522BA3BC7941BD1560AD9A17C4FA030C7364@exdkba023.novo.dk>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <020646A6-D52F-11D8-BBF4-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: SV: lucene sort error - there are more terms than documents in field ....
Date: Tue, 13 Jul 2004 20:44:48 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jul 13, 2004, at 7:35 PM, MATL (Mats Lindberg) wrote:
> when i index i use the Field.Text, do you mean that i should use
> Field.Keyword instead

When you use Field.Text, the terms split out and actually indexed are 
very likely numerous for that field.  Sorting has no idea which term 
you intend to sort on since there are multiple for that field.

So, yes, you should use Field.Keyword (or at least an untokenized field 
- read the sorting Javadocs for more details) for fields you wish to 
sort by.

	Erik

>
> Mats
>
> -----Oprindelig meddelelse-----
> Fra: MATL (Mats Lindberg)
> Sendt: 14. juli 2004 01:32
> Til: Lucene Users List
> Emne: SV: lucene sort error - there are more terms than documents in
> field ....
>
> Hello.
>
> I only have one term, this is the sample code (where sortfield is a
> fields that has been indexed):
>
> hits = searcher.search(query, new Sort(sortField, false));
>
>
> you mention Field.Keyword, what is that.
>
> Mats
>
> -----Oprindelig meddelelse-----
> Fra: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sendt: 14. juli 2004 01:29
> Til: Lucene Users List
> Emne: Re: lucene sort error - there are more terms than documents in
> field ....
>
>
> On Jul 13, 2004, at 7:10 PM, MATL (Mats Lindberg) wrote:
>
>> Hello.
>>
>> I am using:
>> import org.apache.lucene.search.Sort
>>
>>  when searching an index, but for some reasons, in some indexes i get
>> this error:
>>
>> caught a class java.lang.RuntimeException  with message: there are
>> more terms than documents in field <TheFieldIAmSortingBy>
>>
>> does anybody know what causes this, or how to solve it.
>
> You may only have a single term for each document.  How is the field
> indexed you're sorting by?  Field.Keyword is the only guaranteed safe
> one, and your analyzer will determine how the other fields are treated.
>
> 	Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9281-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 14 05:41:59 2004
Return-Path: <lucene-user-return-9281-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96922 invoked from network); 14 Jul 2004 05:41:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jul 2004 05:41:59 -0000
Received: (qmail 96210 invoked by uid 500); 14 Jul 2004 05:41:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96183 invoked by uid 500); 14 Jul 2004 05:41:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96163 invoked by uid 99); 14 Jul 2004 05:41:51 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [81.19.66.30] (HELO mxb.rambler.ru) (81.19.66.30)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 22:41:44 -0700
Received: from mail5.rambler.ru (mail5.rambler.ru [81.19.66.7])
	by mxb.rambler.ru (Postfix) with ESMTP id 5C13583C91
	for <lucene-user@jakarta.apache.org>; Wed, 14 Jul 2004 09:41:38 +0400 (MSD)
Received: from [81.19.66.146] (account vyuryev@rambler.ru)
  by mail5.rambler.ru (CommuniGate Pro WebUser 4.1.8)
  with HTTP id 47611914 for lucene-user@jakarta.apache.org; Wed, 14 Jul 2004 09:41:38 +0400
From: "Vladimir Yuryev" <vyuryev@rambler.ru>
Subject: Re: HOWTO USE SORT on QUERY PARSER :(
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: CommuniGate Pro WebUser Interface v.4.1.8
Date: Wed, 14 Jul 2004 09:41:38 +0400
Message-ID: <web-47611914@mail5.rambler.ru>
In-Reply-To: <LOEGLEEGOAKBOLAJCCKIGEBHCBAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain; charset="windows-1251"; format="flowed"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi!

 From CVS --> 
jakarta-lucene/src/test/org/apache/lucene/search/TestSort.java
Run it as  UnitTest  (   :-(   -->   :-)    )

Best regards,
Vladimir.

On Tue, 13 Jul 2004 15:31:18 +0530
  "Karthik N S" <karthik@controlnet.co.in> wrote:
>Hey
>
>  Guys
>
>Apologies....
>
>   Can somebody please explain to me with a simple SRC example of 
> how to
>use SORT on Query parser [1.4 lucene]
>  [ I am confused with the code snippet on the CVS Test Case]
>
>
>
>with regards
>Karthik
>
>-----Original Message-----
>From: Grant Ingersoll [mailto:gsingers@syr.edu]
>Sent: Tuesday, July 13, 2004 2:29 AM
>To: lucene-user@jakarta.apache.org
>Subject: Re: Could search results give an idea of which field matched
>
>
>See the explain functionality in the Javadocs and previous threads. 
> You can
>ask Lucene to explain why it got the results it did for a give hit.
>
>>>> saugustine@interwoven.com 07/12/04 04:52PM >>>
>I search the index on multiple fields. Could the search results also
>tell me which field matched so that the document was selected? From 
>what
>I can tell, only the document number and a score are returned, is 
>there
>a way to also find out what was the field(s) of the document matched 
>the
>query?
>
>
>
>Sildy
>
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9282-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 14 05:47:56 2004
Return-Path: <lucene-user-return-9282-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98925 invoked from network); 14 Jul 2004 05:47:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jul 2004 05:47:56 -0000
Received: (qmail 2728 invoked by uid 500); 14 Jul 2004 05:47:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2493 invoked by uid 500); 14 Jul 2004 05:47:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2480 invoked by uid 99); 14 Jul 2004 05:47:49 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.199.26.74] (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 13 Jul 2004 22:47:45 -0700
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I0TVC700.0IV for <lucene-user@jakarta.apache.org>; Wed,
          14 Jul 2004 11:30:07 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: HOWTO USE SORT on QUERY PARSER :(
Date: Wed, 14 Jul 2004 11:27:25 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIKEBNCBAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="windows-1251"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <web-47611914@mail5.rambler.ru>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi
Guys

Apologies

I am using Eclipse 3.0 Ide , so when I run this file within the IDE,I am not
able to VIEW the O/p Results.
[ Till now I have no Idea about how to setup and run the Junit tests/View
results on  the O.ps ]

Please give me some Tips on this .....

With regards
Karthik

-----Original Message-----
From: Vladimir Yuryev [mailto:vyuryev@rambler.ru]
Sent: Wednesday, July 14, 2004 11:12 AM
To: Lucene Users List
Subject: Re: HOWTO USE SORT on QUERY PARSER :(


Hi!

 From CVS -->
jakarta-lucene/src/test/org/apache/lucene/search/TestSort.java
Run it as  UnitTest  (   :-(   -->   :-)    )

Best regards,
Vladimir.

On Tue, 13 Jul 2004 15:31:18 +0530
  "Karthik N S" <karthik@controlnet.co.in> wrote:
>Hey
>
>  Guys
>
>Apologies....
>
>   Can somebody please explain to me with a simple SRC example of
> how to
>use SORT on Query parser [1.4 lucene]
>  [ I am confused with the code snippet on the CVS Test Case]
>
>
>
>with regards
>Karthik
>
>-----Original Message-----
>From: Grant Ingersoll [mailto:gsingers@syr.edu]
>Sent: Tuesday, July 13, 2004 2:29 AM
>To: lucene-user@jakarta.apache.org
>Subject: Re: Could search results give an idea of which field matched
>
>
>See the explain functionality in the Javadocs and previous threads.
> You can
>ask Lucene to explain why it got the results it did for a give hit.
>
>>>> saugustine@interwoven.com 07/12/04 04:52PM >>>
>I search the index on multiple fields. Could the search results also
>tell me which field matched so that the document was selected? From
>what
>I can tell, only the document number and a score are returned, is
>there
>a way to also find out what was the field(s) of the document matched
>the
>query?
>
>
>
>Sildy
>
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9283-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 14 06:08:25 2004
Return-Path: <lucene-user-return-9283-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6084 invoked from network); 14 Jul 2004 06:08:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jul 2004 06:08:25 -0000
Received: (qmail 20361 invoked by uid 500); 14 Jul 2004 06:08:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20338 invoked by uid 500); 14 Jul 2004 06:08:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20325 invoked by uid 99); 14 Jul 2004 06:08:19 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [81.19.66.30] (HELO mxb.rambler.ru) (81.19.66.30)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 23:08:16 -0700
Received: from mail5.rambler.ru (mail5.rambler.ru [81.19.66.7])
	by mxb.rambler.ru (Postfix) with ESMTP id C577583EE8
	for <lucene-user@jakarta.apache.org>; Wed, 14 Jul 2004 10:08:14 +0400 (MSD)
Received: from [81.19.66.146] (account vyuryev@rambler.ru)
  by mail5.rambler.ru (CommuniGate Pro WebUser 4.1.8)
  with HTTP id 47622172 for lucene-user@jakarta.apache.org; Wed, 14 Jul 2004 10:08:13 +0400
From: "Vladimir Yuryev" <vyuryev@rambler.ru>
Subject: Re: HOWTO USE SORT on QUERY PARSER :(
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: CommuniGate Pro WebUser Interface v.4.1.8
Date: Wed, 14 Jul 2004 10:08:13 +0400
Message-ID: <web-47622172@mail5.rambler.ru>
In-Reply-To: <LOEGLEEGOAKBOLAJCCKIKEBNCBAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain; charset="windows-1251"; format="flowed"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

It is config problem.
Run build.xml --> [Run ANT...]--> Run unit tests.
Vladimir. 

On Wed, 14 Jul 2004 11:27:25 +0530
  "Karthik N S" <karthik@controlnet.co.in> wrote:
>Hi
>Guys
>
>Apologies
>
>I am using Eclipse 3.0 Ide , so when I run this file within the IDE,I 
>am not
>able to VIEW the O/p Results.
>[ Till now I have no Idea about how to setup and run the Junit 
>tests/View
>results on  the O.ps ]
>
>Please give me some Tips on this .....
>
>With regards
>Karthik
>
>-----Original Message-----
>From: Vladimir Yuryev [mailto:vyuryev@rambler.ru]
>Sent: Wednesday, July 14, 2004 11:12 AM
>To: Lucene Users List
>Subject: Re: HOWTO USE SORT on QUERY PARSER :(
>
>
>Hi!
>
> From CVS -->
>jakarta-lucene/src/test/org/apache/lucene/search/TestSort.java
>Run it as  UnitTest  (   :-(   -->   :-)    )
>
>Best regards,
>Vladimir.
>
>On Tue, 13 Jul 2004 15:31:18 +0530
>  "Karthik N S" <karthik@controlnet.co.in> wrote:
>>Hey
>>
>>  Guys
>>
>>Apologies....
>>
>>   Can somebody please explain to me with a simple SRC example of
>> how to
>>use SORT on Query parser [1.4 lucene]
>>  [ I am confused with the code snippet on the CVS Test Case]
>>
>>
>>
>>with regards
>>Karthik
>>
>>-----Original Message-----
>>From: Grant Ingersoll [mailto:gsingers@syr.edu]
>>Sent: Tuesday, July 13, 2004 2:29 AM
>>To: lucene-user@jakarta.apache.org
>>Subject: Re: Could search results give an idea of which field matched
>>
>>
>>See the explain functionality in the Javadocs and previous threads.
>> You can
>>ask Lucene to explain why it got the results it did for a give hit.
>>
>>>>> saugustine@interwoven.com 07/12/04 04:52PM >>>
>>I search the index on multiple fields. Could the search results also
>>tell me which field matched so that the document was selected? From
>>what
>>I can tell, only the document number and a score are returned, is
>>there
>>a way to also find out what was the field(s) of the document matched
>>the
>>query?
>>
>>
>>
>>Sildy
>>
>>
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9284-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 14 06:22:54 2004
Return-Path: <lucene-user-return-9284-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10455 invoked from network); 14 Jul 2004 06:22:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jul 2004 06:22:53 -0000
Received: (qmail 32679 invoked by uid 500); 14 Jul 2004 06:22:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32656 invoked by uid 500); 14 Jul 2004 06:22:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32643 invoked by uid 99); 14 Jul 2004 06:22:45 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.199.26.74] (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 13 Jul 2004 23:22:41 -0700
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I0TWYR00.VL0 for <lucene-user@jakarta.apache.org>; Wed,
          14 Jul 2004 12:05:15 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: HOWTO USE SORT on QUERY PARSER :(
Date: Wed, 14 Jul 2004 12:02:33 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKICEBOCBAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="windows-1251"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <web-47622172@mail5.rambler.ru>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey
   Guys

Apologies....

   Before running the Build.xml for the  Junit Test files , Do I need to
Download all the Files present in  "Search folder"
    from lucene CVS TEST in order to get the O/p Results

With regards
Karthik



-----Original Message-----
From: Vladimir Yuryev [mailto:vyuryev@rambler.ru]
Sent: Wednesday, July 14, 2004 11:38 AM
To: Lucene Users List
Subject: Re: HOWTO USE SORT on QUERY PARSER :(


It is config problem.
Run build.xml --> [Run ANT...]--> Run unit tests.
Vladimir.

On Wed, 14 Jul 2004 11:27:25 +0530
  "Karthik N S" <karthik@controlnet.co.in> wrote:
>Hi
>Guys
>
>Apologies
>
>I am using Eclipse 3.0 Ide , so when I run this file within the IDE,I
>am not
>able to VIEW the O/p Results.
>[ Till now I have no Idea about how to setup and run the Junit
>tests/View
>results on  the O.ps ]
>
>Please give me some Tips on this .....
>
>With regards
>Karthik
>
>-----Original Message-----
>From: Vladimir Yuryev [mailto:vyuryev@rambler.ru]
>Sent: Wednesday, July 14, 2004 11:12 AM
>To: Lucene Users List
>Subject: Re: HOWTO USE SORT on QUERY PARSER :(
>
>
>Hi!
>
> From CVS -->
>jakarta-lucene/src/test/org/apache/lucene/search/TestSort.java
>Run it as  UnitTest  (   :-(   -->   :-)    )
>
>Best regards,
>Vladimir.
>
>On Tue, 13 Jul 2004 15:31:18 +0530
>  "Karthik N S" <karthik@controlnet.co.in> wrote:
>>Hey
>>
>>  Guys
>>
>>Apologies....
>>
>>   Can somebody please explain to me with a simple SRC example of
>> how to
>>use SORT on Query parser [1.4 lucene]
>>  [ I am confused with the code snippet on the CVS Test Case]
>>
>>
>>
>>with regards
>>Karthik
>>
>>-----Original Message-----
>>From: Grant Ingersoll [mailto:gsingers@syr.edu]
>>Sent: Tuesday, July 13, 2004 2:29 AM
>>To: lucene-user@jakarta.apache.org
>>Subject: Re: Could search results give an idea of which field matched
>>
>>
>>See the explain functionality in the Javadocs and previous threads.
>> You can
>>ask Lucene to explain why it got the results it did for a give hit.
>>
>>>>> saugustine@interwoven.com 07/12/04 04:52PM >>>
>>I search the index on multiple fields. Could the search results also
>>tell me which field matched so that the document was selected? From
>>what
>>I can tell, only the document number and a score are returned, is
>>there
>>a way to also find out what was the field(s) of the document matched
>>the
>>query?
>>
>>
>>
>>Sildy
>>
>>
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9285-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 14 06:37:58 2004
Return-Path: <lucene-user-return-9285-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15458 invoked from network); 14 Jul 2004 06:37:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jul 2004 06:37:57 -0000
Received: (qmail 50200 invoked by uid 500); 14 Jul 2004 06:37:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49403 invoked by uid 500); 14 Jul 2004 06:37:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49390 invoked by uid 99); 14 Jul 2004 06:37:53 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [81.19.66.30] (HELO mxb.rambler.ru) (81.19.66.30)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 13 Jul 2004 23:37:51 -0700
Received: from mail5.rambler.ru (mail5.rambler.ru [81.19.66.7])
	by mxb.rambler.ru (Postfix) with ESMTP id B35AA834EE
	for <lucene-user@jakarta.apache.org>; Wed, 14 Jul 2004 10:37:48 +0400 (MSD)
Received: from [81.19.66.146] (account vyuryev@rambler.ru)
  by mail5.rambler.ru (CommuniGate Pro WebUser 4.1.8)
  with HTTP id 47635410 for lucene-user@jakarta.apache.org; Wed, 14 Jul 2004 10:37:47 +0400
From: "Vladimir Yuryev" <vyuryev@rambler.ru>
Subject: Re: HOWTO USE SORT on QUERY PARSER :(
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: CommuniGate Pro WebUser Interface v.4.1.8
Date: Wed, 14 Jul 2004 10:37:47 +0400
Message-ID: <web-47635410@mail5.rambler.ru>
In-Reply-To: <LOEGLEEGOAKBOLAJCCKICEBOCBAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain; charset="windows-1251"; format="flowed"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

example:
	query = QueryParser.parse(queryString, FIELD_CONTENTS, analyzer);
	Sort sort =new Sort();
	sort.setSort(FIELD_DATE,true);
	//hits = searcher.search(query,sort);
	hits = multiSearcher.search(query,sort);
...
FIELD_DATE - indexed field.

Regards,
Vladimir

On Wed, 14 Jul 2004 12:02:33 +0530
  "Karthik N S" <karthik@controlnet.co.in> wrote:
>Hey
>   Guys
>
>Apologies....
>
>   Before running the Build.xml for the  Junit Test files , Do I need 
>to
>Download all the Files present in  "Search folder"
>    from lucene CVS TEST in order to get the O/p Results
>
>With regards
>Karthik
>
>
>
>-----Original Message-----
>From: Vladimir Yuryev [mailto:vyuryev@rambler.ru]
>Sent: Wednesday, July 14, 2004 11:38 AM
>To: Lucene Users List
>Subject: Re: HOWTO USE SORT on QUERY PARSER :(
>
>
>It is config problem.
>Run build.xml --> [Run ANT...]--> Run unit tests.
>Vladimir.
>
>On Wed, 14 Jul 2004 11:27:25 +0530
>  "Karthik N S" <karthik@controlnet.co.in> wrote:
>>Hi
>>Guys
>>
>>Apologies
>>
>>I am using Eclipse 3.0 Ide , so when I run this file within the IDE,I
>>am not
>>able to VIEW the O/p Results.
>>[ Till now I have no Idea about how to setup and run the Junit
>>tests/View
>>results on  the O.ps ]
>>
>>Please give me some Tips on this .....
>>
>>With regards
>>Karthik
>>
>>-----Original Message-----
>>From: Vladimir Yuryev [mailto:vyuryev@rambler.ru]
>>Sent: Wednesday, July 14, 2004 11:12 AM
>>To: Lucene Users List
>>Subject: Re: HOWTO USE SORT on QUERY PARSER :(
>>
>>
>>Hi!
>>
>> From CVS -->
>>jakarta-lucene/src/test/org/apache/lucene/search/TestSort.java
>>Run it as  UnitTest  (   :-(   -->   :-)    )
>>
>>Best regards,
>>Vladimir.
>>
>>On Tue, 13 Jul 2004 15:31:18 +0530
>>  "Karthik N S" <karthik@controlnet.co.in> wrote:
>>>Hey
>>>
>>>  Guys
>>>
>>>Apologies....
>>>
>>>   Can somebody please explain to me with a simple SRC example of
>>> how to
>>>use SORT on Query parser [1.4 lucene]
>>>  [ I am confused with the code snippet on the CVS Test Case]
>>>
>>>
>>>
>>>with regards
>>>Karthik
>>>
>>>-----Original Message-----
>>>From: Grant Ingersoll [mailto:gsingers@syr.edu]
>>>Sent: Tuesday, July 13, 2004 2:29 AM
>>>To: lucene-user@jakarta.apache.org
>>>Subject: Re: Could search results give an idea of which field matched
>>>
>>>
>>>See the explain functionality in the Javadocs and previous threads.
>>> You can
>>>ask Lucene to explain why it got the results it did for a give hit.
>>>
>>>>>> saugustine@interwoven.com 07/12/04 04:52PM >>>
>>>I search the index on multiple fields. Could the search results also
>>>tell me which field matched so that the document was selected? From
>>>what
>>>I can tell, only the document number and a score are returned, is
>>>there
>>>a way to also find out what was the field(s) of the document matched
>>>the
>>>query?
>>>
>>>
>>>
>>>Sildy
>>>
>>>
>>>
>>>
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9286-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 14 06:47:59 2004
Return-Path: <lucene-user-return-9286-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19538 invoked from network); 14 Jul 2004 06:47:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jul 2004 06:47:58 -0000
Received: (qmail 61600 invoked by uid 500); 14 Jul 2004 06:47:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61555 invoked by uid 500); 14 Jul 2004 06:47:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61539 invoked by uid 99); 14 Jul 2004 06:47:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.199.26.74] (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 13 Jul 2004 23:47:35 -0700
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I0TY3U00.FLJ for <lucene-user@jakarta.apache.org>; Wed,
          14 Jul 2004 12:29:54 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: HOWTO USE SORT on QUERY PARSER :)
Date: Wed, 14 Jul 2004 12:27:12 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIIEBPCBAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="windows-1251"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <web-47635410@mail5.rambler.ru>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey

  Guys'

Apologies...

Gee th's so simple u have explained me Thx a lot.


Please correct me If I am wrong....

1)

So U  tell me that On Field type  "FIELD_CONTENTS"  , the relevant hits can
be sorted  wrt  Field type "FIELD_DATE "

[ Where FIELD_DATE & FIELD_CONTENTS are Field Typos for Lucene].......


2)
  To Run the Junit test's Do I need to Dwnload all the Files from CVS [Will
there be a build .aml within the CVS] to run and execute  the Tests...


with regards
Karthik


-----Original Message-----
From: Vladimir Yuryev [mailto:vyuryev@rambler.ru]
Sent: Wednesday, July 14, 2004 12:08 PM
To: Lucene Users List
Subject: Re: HOWTO USE SORT on QUERY PARSER :(


example:
	query = QueryParser.parse(queryString, FIELD_CONTENTS, analyzer);
	Sort sort =new Sort();
	sort.setSort(FIELD_DATE,true);
	//hits = searcher.search(query,sort);
	hits = multiSearcher.search(query,sort);
...
FIELD_DATE - indexed field.

Regards,
Vladimir

On Wed, 14 Jul 2004 12:02:33 +0530
  "Karthik N S" <karthik@controlnet.co.in> wrote:
>Hey
>   Guys
>
>Apologies....
>
>   Before running the Build.xml for the  Junit Test files , Do I need
>to
>Download all the Files present in  "Search folder"
>    from lucene CVS TEST in order to get the O/p Results
>
>With regards
>Karthik
>
>
>
>-----Original Message-----
>From: Vladimir Yuryev [mailto:vyuryev@rambler.ru]
>Sent: Wednesday, July 14, 2004 11:38 AM
>To: Lucene Users List
>Subject: Re: HOWTO USE SORT on QUERY PARSER :(
>
>
>It is config problem.
>Run build.xml --> [Run ANT...]--> Run unit tests.
>Vladimir.
>
>On Wed, 14 Jul 2004 11:27:25 +0530
>  "Karthik N S" <karthik@controlnet.co.in> wrote:
>>Hi
>>Guys
>>
>>Apologies
>>
>>I am using Eclipse 3.0 Ide , so when I run this file within the IDE,I
>>am not
>>able to VIEW the O/p Results.
>>[ Till now I have no Idea about how to setup and run the Junit
>>tests/View
>>results on  the O.ps ]
>>
>>Please give me some Tips on this .....
>>
>>With regards
>>Karthik
>>
>>-----Original Message-----
>>From: Vladimir Yuryev [mailto:vyuryev@rambler.ru]
>>Sent: Wednesday, July 14, 2004 11:12 AM
>>To: Lucene Users List
>>Subject: Re: HOWTO USE SORT on QUERY PARSER :(
>>
>>
>>Hi!
>>
>> From CVS -->
>>jakarta-lucene/src/test/org/apache/lucene/search/TestSort.java
>>Run it as  UnitTest  (   :-(   -->   :-)    )
>>
>>Best regards,
>>Vladimir.
>>
>>On Tue, 13 Jul 2004 15:31:18 +0530
>>  "Karthik N S" <karthik@controlnet.co.in> wrote:
>>>Hey
>>>
>>>  Guys
>>>
>>>Apologies....
>>>
>>>   Can somebody please explain to me with a simple SRC example of
>>> how to
>>>use SORT on Query parser [1.4 lucene]
>>>  [ I am confused with the code snippet on the CVS Test Case]
>>>
>>>
>>>
>>>with regards
>>>Karthik
>>>
>>>-----Original Message-----
>>>From: Grant Ingersoll [mailto:gsingers@syr.edu]
>>>Sent: Tuesday, July 13, 2004 2:29 AM
>>>To: lucene-user@jakarta.apache.org
>>>Subject: Re: Could search results give an idea of which field matched
>>>
>>>
>>>See the explain functionality in the Javadocs and previous threads.
>>> You can
>>>ask Lucene to explain why it got the results it did for a give hit.
>>>
>>>>>> saugustine@interwoven.com 07/12/04 04:52PM >>>
>>>I search the index on multiple fields. Could the search results also
>>>tell me which field matched so that the document was selected? From
>>>what
>>>I can tell, only the document number and a score are returned, is
>>>there
>>>a way to also find out what was the field(s) of the document matched
>>>the
>>>query?
>>>
>>>
>>>
>>>Sildy
>>>
>>>
>>>
>>>
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9287-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 14 07:08:23 2004
Return-Path: <lucene-user-return-9287-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28862 invoked from network); 14 Jul 2004 07:08:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jul 2004 07:08:22 -0000
Received: (qmail 80288 invoked by uid 500); 14 Jul 2004 07:08:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80219 invoked by uid 500); 14 Jul 2004 07:08:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80205 invoked by uid 99); 14 Jul 2004 07:08:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received: from [212.227.126.183] (HELO moutng.kundenserver.de) (212.227.126.183)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 14 Jul 2004 00:08:12 -0700
Received: from [212.227.126.206] (helo=mrelayng.kundenserver.de)
	by moutng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1Bkds6-0005Lb-00
	for lucene-user@jakarta.apache.org; Wed, 14 Jul 2004 09:08:06 +0200
Received: from [145.254.175.112] (helo=puck.klawitter.local)
	by mrelayng.kundenserver.de with asmtp (TLSv1:RC4-MD5:128)
	(Exim 3.35 #1)
	id 1Bkds6-0007M3-00
	for lucene-user@jakarta.apache.org; Wed, 14 Jul 2004 09:08:06 +0200
From: Holger Klawitter <lists@klawitter.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Why is Field.java final?
Date: Wed, 14 Jul 2004 09:07:57 +0200
User-Agent: KMail/1.5.4
References: <40F072B4.2060002@newsmonster.org> <8837fb770407122151692c5d59@mail.gmail.com> <40F409D9.5070505@apache.org>
In-Reply-To: <40F409D9.5070505@apache.org>
MIME-Version: 1.0
Content-Type: Text/Plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Content-Description: clearsigned data
Content-Disposition: inline
Message-Id: <200407140908.02217.lists@klawitter.de>
X-Provags-ID: kundenserver.de abuse@kundenserver.de auth:c3f09bf0911098d231c83d2978ee4594
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

=2D----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On Tuesday 13 July 2004 18:12, Doug Cutting wrote:
> John Wang wrote:
> >    On the same thought, how about the org.apache.lucene.analysis.Token
> > class. Can we make it non-final?
> Sure, if you make a case for why it should be non-final.

How about the ability to provide a writer to termText in order to exchange
a word by a synonym without having to create another object?

I favor everything which makes the Lucene API less restricitve
thus making more unexpected things possible :-)

Mit freundlichem Gru=DF / With kind regards
	Holger Klawitter
=2D --
lists <at> klawitter <dot> de
=2D----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.2 (GNU/Linux)

iD8DBQFA9NvS1Xdt0HKSwgYRAg0IAKCFVclqmhjiD5yugIQenkQnRnELWgCgoaf2
rjrg92P0kWuMAj+wEXpH23Y=3D
=3Dz3rj
=2D----END PGP SIGNATURE-----


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9288-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 14 07:18:56 2004
Return-Path: <lucene-user-return-9288-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37116 invoked from network); 14 Jul 2004 07:18:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jul 2004 07:18:56 -0000
Received: (qmail 93300 invoked by uid 500); 14 Jul 2004 07:18:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93240 invoked by uid 500); 14 Jul 2004 07:18:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93227 invoked by uid 99); 14 Jul 2004 07:18:48 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [81.19.66.30] (HELO mxb.rambler.ru) (81.19.66.30)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 14 Jul 2004 00:18:44 -0700
Received: from mail5.rambler.ru (mail5.rambler.ru [81.19.66.7])
	by mxb.rambler.ru (Postfix) with ESMTP id 307B583CAE
	for <lucene-user@jakarta.apache.org>; Wed, 14 Jul 2004 11:18:41 +0400 (MSD)
Received: from [81.19.66.146] (account vyuryev@rambler.ru)
  by mail5.rambler.ru (CommuniGate Pro WebUser 4.1.8)
  with HTTP id 47654224 for lucene-user@jakarta.apache.org; Wed, 14 Jul 2004 11:18:41 +0400
From: "Vladimir Yuryev" <vyuryev@rambler.ru>
Subject: Re: HOWTO USE SORT on QUERY PARSER :)
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: CommuniGate Pro WebUser Interface v.4.1.8
Date: Wed, 14 Jul 2004 11:18:41 +0400
Message-ID: <web-47654224@mail5.rambler.ru>
In-Reply-To: <LOEGLEEGOAKBOLAJCCKIIEBPCBAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain; charset="windows-1251"; format="flowed"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Besides 1) the point is independent from 2) point.
Presence of test programs gives you a visual example to that as it is 
necessary to use the given class and a guarantee ~99.9... that this 
class works.

Regards,
Vladimir.

On Wed, 14 Jul 2004 12:27:12 +0530
  "Karthik N S" <karthik@controlnet.co.in> wrote:
>Hey
>
>  Guys'
>
>Apologies...
>
>Gee th's so simple u have explained me Thx a lot.
>
>
>Please correct me If I am wrong....
>
>1)
>
>So U  tell me that On Field type  "FIELD_CONTENTS"  , the relevant 
>hits can
>be sorted  wrt  Field type "FIELD_DATE "
>
>[ Where FIELD_DATE & FIELD_CONTENTS are Field Typos for 
>Lucene].......
>
>
>2)
>  To Run the Junit test's Do I need to Dwnload all the Files from CVS 
>[Will
>there be a build .aml within the CVS] to run and execute  the 
>Tests...
>
>
>with regards
>Karthik
>
>
>-----Original Message-----
>From: Vladimir Yuryev [mailto:vyuryev@rambler.ru]
>Sent: Wednesday, July 14, 2004 12:08 PM
>To: Lucene Users List
>Subject: Re: HOWTO USE SORT on QUERY PARSER :(
>
>
>example:
>	query = QueryParser.parse(queryString, FIELD_CONTENTS, analyzer);
>	Sort sort =new Sort();
>	sort.setSort(FIELD_DATE,true);
>	//hits = searcher.search(query,sort);
>	hits = multiSearcher.search(query,sort);
>...
>FIELD_DATE - indexed field.
>
>Regards,
>Vladimir
>
>On Wed, 14 Jul 2004 12:02:33 +0530
>  "Karthik N S" <karthik@controlnet.co.in> wrote:
>>Hey
>>   Guys
>>
>>Apologies....
>>
>>   Before running the Build.xml for the  Junit Test files , Do I need
>>to
>>Download all the Files present in  "Search folder"
>>    from lucene CVS TEST in order to get the O/p Results
>>
>>With regards
>>Karthik
>>
>>
>>
>>-----Original Message-----
>>From: Vladimir Yuryev [mailto:vyuryev@rambler.ru]
>>Sent: Wednesday, July 14, 2004 11:38 AM
>>To: Lucene Users List
>>Subject: Re: HOWTO USE SORT on QUERY PARSER :(
>>
>>
>>It is config problem.
>>Run build.xml --> [Run ANT...]--> Run unit tests.
>>Vladimir.
>>
>>On Wed, 14 Jul 2004 11:27:25 +0530
>>  "Karthik N S" <karthik@controlnet.co.in> wrote:
>>>Hi
>>>Guys
>>>
>>>Apologies
>>>
>>>I am using Eclipse 3.0 Ide , so when I run this file within the IDE,I
>>>am not
>>>able to VIEW the O/p Results.
>>>[ Till now I have no Idea about how to setup and run the Junit
>>>tests/View
>>>results on  the O.ps ]
>>>
>>>Please give me some Tips on this .....
>>>
>>>With regards
>>>Karthik
>>>
>>>-----Original Message-----
>>>From: Vladimir Yuryev [mailto:vyuryev@rambler.ru]
>>>Sent: Wednesday, July 14, 2004 11:12 AM
>>>To: Lucene Users List
>>>Subject: Re: HOWTO USE SORT on QUERY PARSER :(
>>>
>>>
>>>Hi!
>>>
>>> From CVS -->
>>>jakarta-lucene/src/test/org/apache/lucene/search/TestSort.java
>>>Run it as  UnitTest  (   :-(   -->   :-)    )
>>>
>>>Best regards,
>>>Vladimir.
>>>
>>>On Tue, 13 Jul 2004 15:31:18 +0530
>>>  "Karthik N S" <karthik@controlnet.co.in> wrote:
>>>>Hey
>>>>
>>>>  Guys
>>>>
>>>>Apologies....
>>>>
>>>>   Can somebody please explain to me with a simple SRC example of
>>>> how to
>>>>use SORT on Query parser [1.4 lucene]
>>>>  [ I am confused with the code snippet on the CVS Test Case]
>>>>
>>>>
>>>>
>>>>with regards
>>>>Karthik
>>>>
>>>>-----Original Message-----
>>>>From: Grant Ingersoll [mailto:gsingers@syr.edu]
>>>>Sent: Tuesday, July 13, 2004 2:29 AM
>>>>To: lucene-user@jakarta.apache.org
>>>>Subject: Re: Could search results give an idea of which field matched
>>>>
>>>>
>>>>See the explain functionality in the Javadocs and previous threads.
>>>> You can
>>>>ask Lucene to explain why it got the results it did for a give hit.
>>>>
>>>>>>> saugustine@interwoven.com 07/12/04 04:52PM >>>
>>>>I search the index on multiple fields. Could the search results also
>>>>tell me which field matched so that the document was selected? From
>>>>what
>>>>I can tell, only the document number and a score are returned, is
>>>>there
>>>>a way to also find out what was the field(s) of the document matched
>>>>the
>>>>query?
>>>>
>>>>
>>>>
>>>>Sildy
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>---------------------------------------------------------------------
>>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>>
>>>>
>>>>---------------------------------------------------------------------
>>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>>
>>>
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9289-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 14 09:55:21 2004
Return-Path: <lucene-user-return-9289-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23776 invoked from network); 14 Jul 2004 09:55:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jul 2004 09:55:21 -0000
Received: (qmail 85052 invoked by uid 500); 14 Jul 2004 09:55:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85027 invoked by uid 500); 14 Jul 2004 09:55:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85014 invoked by uid 99); 14 Jul 2004 09:55:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [12.43.53.196] (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 14 Jul 2004 02:55:10 -0700
Received: from [192.168.1.100] (dsl093-132-107.sfo4.dsl.speakeasy.net [66.93.132.107])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id i6E9t4i2012539
	for <lucene-user@jakarta.apache.org>; Wed, 14 Jul 2004 02:55:04 -0700
Message-ID: <40F4FF70.10606@newsmonster.org>
Date: Wed, 14 Jul 2004 02:40:00 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene Search has poor cpu utilization on a 4-CPU machine
References: <001a01c468de$7305b9c0$6a00a8c0@Aviran> <40F4070C.9000301@apache.org>
In-Reply-To: <40F4070C.9000301@apache.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:

> Aviran wrote:
>
>> I changed the Lucene 1.4 final source code and yes this is the source
>> version I changed.
>
>
> Note that this patch won't produce the a speedup on earlier releases, 
> since their was another multi-thread bottleneck higher up the stack 
> that was only recently removed, revealing this lower-level bottleneck.
>
> The other patch was:
>
> http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg07873.html
>
> Both are required to see the speedup.
>
Thanks...

> Also, is there any reason folks cannot use 1.4 final now?

No... just that I'm trying to be conservative... I'm probably going to 
look at just migrating to 1.4 ASAP but we're close to a milestone...

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9290-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 14 12:32:45 2004
Return-Path: <lucene-user-return-9290-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 495 invoked from network); 14 Jul 2004 12:32:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jul 2004 12:32:45 -0000
Received: (qmail 50354 invoked by uid 500); 14 Jul 2004 12:32:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50307 invoked by uid 500); 14 Jul 2004 12:32:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50293 invoked by uid 99); 14 Jul 2004 12:32:37 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=WEIRD_PORT
X-Spam-Check-By: apache.org
Received: from [203.199.26.74] (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 14 Jul 2004 05:32:32 -0700
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I0UE3300.0WQ for <lucene-user@jakarta.apache.org>; Wed,
          14 Jul 2004 18:15:03 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Search Result + Highlighter 
Date: Wed, 14 Jul 2004 18:12:21 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKICECBCBAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
In-Reply-To: <D0B4DF55-D503-11D8-AB01-000393A564E6@ehatchersolutions.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Guys

  Some week 's back had  reported a problem regarding  "Search on Indexed
file"  using Highlighter

  The Highlighter used to Dipslay   "[Pad]" or  "[0]" between  words  ( The
Field type is "Field.Text" type, stores the HTML summary )

  [ I am using  a CustomAnalyzer which is similar to  Standard Analyzer with
555 ENGLISH_STOP_WORDS]

  If any body has sombody looked into this matter for patch , please
specfy..



with rehards
Karthik

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Wednesday, July 14, 2004 1:06 AM
To: Lucene Users List
Subject: Re: Search Result


Look at the Term Highlighter here:

	http://jakarta.apache.org/lucene/docs/lucene-sandbox/


On Jul 13, 2004, at 2:32 PM, Hetan Shah wrote:

> I think I have not explained my question correctly. What is happening
> is when I show the result on a page the text below the link as shown
> below.
>
> Test Page for Apache Installation
> <http://dev-server.sfbay:8880/docs/sample.htm>
> Sample content
>
> Jakarta Lucene - Lucene Sandbox
> <http://dev-server.sfbay:8880/docs/lucene-sandbox/index.html>
> [Jakarta Lucene] About Overview Powered by Lucene Who We Are Mailing
> Lists Resources FAQ (Official) jGuru FAQ Getting Started Query Syntax
> File Formats Javadoc Contributions Articles, etc. Benchmark
>
>
> In first example the search criteria "sample" occurs in the beginning
> of the page and so it shows up in the text below the link. In the
> second example the keyword "sample" shows up somewhere later in the
> document and so it does not show up in the text below the link. What
> can I do so that in all cases the text below the link always has the
> piece of the document where the keyword is found?
>
> thanks in advance.
>
> -H
>
> Hetan Shah wrote:
>
>> What I am trying to figure out is. In my search result which is
>> returned by the
>>
>> Document doc = hits.doc(i);
>> <text to show> = doc.get("summary");
>>
>> The summary field seems to contain only the first few lines of the
>> document. How can I make it to contain the piece that matches the
>> query string?
>>
>> Thanks.
>> -H
>>
>> Hetan Shah wrote:
>>
>>> David,
>>>
>>> Do you know, in the demo code, how do I override or change this
>>> value so that I get to see the appropriate chuck of document? Would
>>> this change make the actual result to show the relevant section of
>>> the document?
>>>
>>> Sorry to sound so ignorant, I am very new at the whole search
>>> technology, getting to learn a lot from a great supportive
>>> community.
>>>
>>> Thanks,
>>> -H
>>> David Spencer wrote:
>>>
>>>> Hetan Shah wrote:
>>>>
>>>>> My search results are only displaying the top portion of the
>>>>> indexed documents. It does match the query in the later part of
>>>>> the document. Where should I look to change the code in demo3 of
>>>>> default 1.3 final distribution. In general if I want to show the
>>>>> block of document that matches with the query string which classes
>>>>> should I use?
>>>>
>>>>
>>>>
>>>>
>>>> Sounds like this:
>>>>
>>>> http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/
>>>> IndexWriter.html#DEFAULT_MAX_FIELD_LENGTH
>>>>
>>>>>
>>>>> Thanks guys.
>>>>> -H
>>>>>
>>>>>
>>>>> -------------------------------------------------------------------
>>>>> --
>>>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>>> For additional commands, e-mail:
>>>>> lucene-user-help@jakarta.apache.org
>>>>>
>>>>
>>>>
>>>> --------------------------------------------------------------------
>>>> -
>>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>>
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9291-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 14 20:51:29 2004
Return-Path: <lucene-user-return-9291-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65019 invoked from network); 14 Jul 2004 20:51:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jul 2004 20:51:29 -0000
Received: (qmail 85997 invoked by uid 500); 14 Jul 2004 20:51:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85964 invoked by uid 500); 14 Jul 2004 20:51:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85951 invoked by uid 99); 14 Jul 2004 20:51:21 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [150.215.214.117] (HELO ein.wrq.com) (150.215.214.117)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 14 Jul 2004 13:51:19 -0700
Received: from abra.na.wrq.com (wrq.com [150.215.15.20])
	by ein.wrq.com (8.12.8/8.12.8) with ESMTP id i6EKpE0V016113
	for <lucene-user@jakarta.apache.org>; Wed, 14 Jul 2004 13:51:14 -0700
Received: by abra.na.wrq.com with Internet Mail Service (5.5.2657.72)
	id <3T4L478S>; Wed, 14 Jul 2004 13:51:12 -0700
Message-ID: <1A6B6A5A3597C340BB63728001DC787958AF13@kodos.na.wrq.com>
From: Jon Schuster <jons@wrq.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Problems indexing Japanese with CJKAnalyzer
Date: Wed, 14 Jul 2004 13:50:58 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all,

Thanks for the help on indexing Japanese documents. I eventually got things
working, and here's an update so that other folks might have an easier time
in similar situations.

The problem I had was indeed with the encoding, but it was more than just
the encoding on the initial creation of the HTMLParser (from the Lucene demo
package). In HTMLDocument, doing this:

	InputStreamReader reader = new InputStreamReader( new
FileInputStream(f), "SJIS");
	HTMLParser parser = new HTMLParser( reader );

creates the parser and feeds it Unicode from the original Shift-JIS encoding
document, but then when the document contents is fetched using this line:

	Field fld = Field.Text("contents", parser.getReader() );

HTMLParser.getReader creates an InputStreamReader and OutputStreamWriter
using the default encoding, which in my case was Windows 1252 (essentially
Latin-1). That was bad.

In the HTMLParser.jj grammar file, adding an explicit encoding of "UTF8" on
both the Reader and Writer got things mostly working. The one missing piece
was in the "options" section of the HTMLParser.jj file. The original grammar
file generates an input character stream class that treats the input as a
stream of 1-byte characters. To have JavaCC generate a stream class that
handles double-byte characters, you need the option UNICODE_INPUT=true.

So, there were essentially three changes in two files:

HTMLParser.jj - add UNICODE_INPUT=true to options section; add explicit
"UTF8" encoding on Reader and Writer creation in getReader(). As far as I
can tell, this changes works fine for all of the languages I need to handle,
which are English, French, German, and Japanese.

HTMLDocument - add explicit encoding of "SJIS" when creating the Reader used
to create the HTMLParser. (For western languages, I use encoding of
"ISO8859_1".)

And of course, use the right language tokenizer.

--Jon

<earlier responses snipped; see the list archive>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9292-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 14 20:52:16 2004
Return-Path: <lucene-user-return-9292-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65456 invoked from network); 14 Jul 2004 20:52:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jul 2004 20:52:16 -0000
Received: (qmail 87764 invoked by uid 500); 14 Jul 2004 20:51:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87739 invoked by uid 500); 14 Jul 2004 20:51:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87720 invoked by uid 99); 14 Jul 2004 20:51:58 -0000
X-ASF-Spam-Status: No, hits=3.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_60_70,HTML_IMAGE_ONLY_04,HTML_MESSAGE,MSGID_FROM_MTA_HEADER
X-Spam-Check-By: apache.org
Received: from [203.199.83.27] (HELO rediffmail.com) (203.199.83.27)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 14 Jul 2004 13:51:54 -0700
Received: (qmail 15664 invoked by uid 510); 14 Jul 2004 20:51:49 -0000
Date: 14 Jul 2004 20:51:49 -0000
Message-ID: <20040714205149.15663.qmail@webmail17.rediffmail.com>
Received: from unknown (137.53.21.84) by rediffmail.com via HTTP; 14 jul 2004 20:51:49 -0000
MIME-Version: 1.0
From: "Jones G" <jones.g@rediffmail.com>
Reply-To: "Jones G" <jones.g@rediffmail.com>
To: lucene-user@jakarta.apache.org
Subject: Scoring without normalization!
Content-type: multipart/alternative;
	boundary="Next_1089838309---0-203.199.83.27-15659"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--Next_1089838309---0-203.199.83.27-15659
Content-type: text/plain;
	charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

How do I remove document normalization from scoring in Lucene? I just want =
to stick to TF IDF.=0A=0AThanks.
--Next_1089838309---0-203.199.83.27-15659--


From lucene-user-return-9293-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 14 21:58:41 2004
Return-Path: <lucene-user-return-9293-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93408 invoked from network); 14 Jul 2004 21:58:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jul 2004 21:58:41 -0000
Received: (qmail 96532 invoked by uid 500); 14 Jul 2004 21:58:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96492 invoked by uid 500); 14 Jul 2004 21:58:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96466 invoked by uid 99); 14 Jul 2004 21:58:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.218.33.11] (HELO gossamer.ckm.ucsf.edu) (128.218.33.11)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 14 Jul 2004 14:58:32 -0700
Received: from [128.218.15.87] (beani.library.ucsf.edu [128.218.15.87])
	by gossamer.ckm.ucsf.edu (8.11.6-20030924/8.11.6) with ESMTP id i6ELwRX25336
	for <lucene-user@jakarta.apache.org>; Wed, 14 Jul 2004 14:58:27 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <20040714205149.15663.qmail@webmail17.rediffmail.com>
References: <20040714205149.15663.qmail@webmail17.rediffmail.com>
Content-Type: multipart/alternative; boundary=Apple-Mail-6--134014748
Message-Id: <FFD4BBD5-D5E0-11D8-B3BF-003065E21F90@library.ucsf.edu>
From: Claude Devarenne <claude@library.ucsf.edu>
Subject: ArrayIndexOutOfBoundsException if stopword on left of bool clause w/ StandardAnalyzer
Date: Wed, 14 Jul 2004 14:58:54 -0700
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Filter-Version: 1.14 (gossamer)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--Apple-Mail-6--134014748
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=US-ASCII;
	delsp=yes;
	format=flowed

Hi,

A user mistyped their search terms and entered a query that looked like  
this:

the AND title:bla

I am using lucene 1.4 rc3. My web app,  which is using a  
StandardAnalyzer, got an ArrayIndexOutOfBoundsException (stack trace  
below).  I can reproduce this with the lucene demo (both the jsp and  
the comand line util).

Since I have the queryParser.parse(queryString) call in a try statement  
I am now catching this exception so it fixes the issue.

My question is: should the queryParser catch that there is no term  
before trying to add a clause when using a StandardAnalyzer?  Is this  
even possible? Should the burden be on the application to either catch  
the exception or parse the query before handing it out to the  
queryParser?

Claude


Here is the stack trace:

java.lang.ArrayIndexOutOfBoundsException: -1 < 0
java.util.Vector.elementAt(Vector.java:437) at
org.apache.lucene.queryParser.QueryParser.addClause(QueryParser.java: 
181)
at org.apache.lucene.queryParser.QueryParser.Query(QueryParser.java:509)
at org.apache.lucene.queryParser.QueryParser.parse(QueryParser.java:108)
at QueryExec.runQuery(QueryExec.java:245)
--Apple-Mail-6--134014748--


From lucene-user-return-9294-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 14 23:17:12 2004
Return-Path: <lucene-user-return-9294-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25993 invoked from network); 14 Jul 2004 23:17:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jul 2004 23:17:12 -0000
Received: (qmail 5666 invoked by uid 500); 14 Jul 2004 23:17:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5573 invoked by uid 500); 14 Jul 2004 23:17:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5559 invoked by uid 99); 14 Jul 2004 23:17:06 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.111.107.196] (HELO mail.fulfilnet.com.au) (203.111.107.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 14 Jul 2004 16:17:02 -0700
Message-Id: <200407142315.i6ENFIO24300@mail.fulfilnet.com.au>
From: "Anson Lau" <alau@fulfil-net.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Scoring without normalization!
Date: Thu, 15 Jul 2004 09:17:31 +1000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
In-Reply-To: <20040714205149.15663.qmail@webmail17.rediffmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If you don't mind hacking the source:

In Hits.java

In method "getMoreDocs()"



    // Comment out the following
    //float scoreNorm = 1.0f;
    //if (length > 0 && scoreDocs[0].score > 1.0f) {
    //  scoreNorm = 1.0f / scoreDocs[0].score;
    //}
    
    // And just set scoreNorm to 1.
    int scoreNorm = 1;


I don't know if u can do it without going to the src.

Anson


-----Original Message-----
From: Jones G [mailto:jones.g@rediffmail.com] 
Sent: Thursday, July 15, 2004 6:52 AM
To: lucene-user@jakarta.apache.org
Subject: Scoring without normalization!

How do I remove document normalization from scoring in Lucene? I just want
to stick to TF IDF.

Thanks.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9295-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 14 23:45:51 2004
Return-Path: <lucene-user-return-9295-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33421 invoked from network); 14 Jul 2004 23:45:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jul 2004 23:45:50 -0000
Received: (qmail 50762 invoked by uid 500); 14 Jul 2004 23:45:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50684 invoked by uid 500); 14 Jul 2004 23:45:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50671 invoked by uid 99); 14 Jul 2004 23:45:44 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_30_40,HTML_IMAGE_ONLY_20,HTML_MESSAGE,MSGID_FROM_MTA_HEADER
X-Spam-Check-By: apache.org
Received: from [203.199.83.39] (HELO rediffmail.com) (203.199.83.39)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 14 Jul 2004 16:45:40 -0700
Received: (qmail 32380 invoked by uid 510); 14 Jul 2004 23:45:31 -0000
Date: 14 Jul 2004 23:45:31 -0000
Message-ID: <20040714234531.32379.qmail@webmail29.rediffmail.com>
Received: from unknown (137.53.21.84) by rediffmail.com via HTTP; 14 jul 2004 23:45:31 -0000
MIME-Version: 1.0
From: "Jones G" <jones.g@rediffmail.com>
Reply-To: "Jones G" <jones.g@rediffmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: RE: Scoring without normalization!
Content-type: multipart/alternative;
	boundary="Next_1089848731---0-203.199.83.39-32375"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--Next_1089848731---0-203.199.83.39-32375
Content-type: text/plain;
	charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Thanks! Just what I wanted.=0A=0AOn Thu, 15 Jul 2004 Anson Lau wrote :=0A>I=
f you don't mind hacking the source:=0A>=0A>In Hits.java=0A>=0A>In method "=
getMoreDocs()"=0A>=0A>=0A>=0A>     // Comment out the following=0A>     //f=
loat scoreNorm =3D 1.0f;=0A>     //if (length > 0 && scoreDocs[0].score > 1=
.0f) {=0A>     //  scoreNorm =3D 1.0f / scoreDocs[0].score;=0A>     //}=0A>=
=0A>     // And just set scoreNorm to 1.=0A>     int scoreNorm =3D 1;=0A>=
=0A>=0A>I don't know if u can do it without going to the src.=0A>=0A>Anson=
=0A>=0A>=0A>-----Original Message-----=0A> From: Jones G [mailto:jones.g@re=
diffmail.com]=0A>Sent: Thursday, July 15, 2004 6:52 AM=0A>To: lucene-user@j=
akarta.apache.org=0A>Subject: Scoring without normalization!=0A>=0A>How do =
I remove document normalization from scoring in Lucene? I just want=0A>to s=
tick to TF IDF.=0A>=0A>Thanks.=0A>=0A>=0A>---------------------------------=
------------------------------------=0A>To unsubscribe, e-mail: lucene-user=
-unsubscribe@jakarta.apache.org=0A>For additional commands, e-mail: lucene-=
user-help@jakarta.apache.org=0A>=0A
--Next_1089848731---0-203.199.83.39-32375--


From lucene-user-return-9296-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 00:27:24 2004
Return-Path: <lucene-user-return-9296-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46193 invoked from network); 15 Jul 2004 00:27:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 00:27:24 -0000
Received: (qmail 10351 invoked by uid 500); 15 Jul 2004 00:26:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10186 invoked by uid 500); 15 Jul 2004 00:26:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10152 invoked by uid 99); 15 Jul 2004 00:26:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [192.18.98.36] (HELO brmea-mail-4.sun.com) (192.18.98.36)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 14 Jul 2004 17:26:45 -0700
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by brmea-mail-4.sun.com (8.12.10/8.12.9) with ESMTP id i6F0OZ53023505
	for <lucene-user@jakarta.apache.org>; Wed, 14 Jul 2004 18:24:35 -0600 (MDT)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0I0V00B01ACRM4@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Wed, 14 Jul 2004 17:26:44 -0700 (PDT)
Received: from Sun.COM (sr1-usjc07-03.SFBay.Sun.COM [129.145.21.58])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0I0V00B36AKJ8I@ha21sca-mail1.sfbay.sun.com> for
 lucene-user@jakarta.apache.org; Wed, 14 Jul 2004 17:26:44 -0700 (PDT)
Date: Wed, 14 Jul 2004 17:26:43 -0700
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Searching against Database
To: Lucene Users List <lucene-user@jakarta.apache.org>
Reply-to: Hetan.Shah@Sun.COM
Message-id: <40F5CF43.5040601@Sun.COM>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.4) Gecko/20040414
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello All,

I have got all the answers from this fantastic mailing list. I have 
another question ;)

What is the best way (Best Practices) to integrate Lucene with live 
database, Oracle to be more specific. Any pointers are really very much 
appreciated.

thanks guys.
-H


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9297-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 02:19:54 2004
Return-Path: <lucene-user-return-9297-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90388 invoked from network); 15 Jul 2004 02:19:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 02:19:54 -0000
Received: (qmail 8456 invoked by uid 500); 15 Jul 2004 02:19:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8437 invoked by uid 500); 15 Jul 2004 02:19:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8423 invoked by uid 99); 15 Jul 2004 02:19:47 -0000
X-ASF-Spam-Status: No, hits=4.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_40_50,HTML_IMAGE_ONLY_08,HTML_MESSAGE,MSGID_FROM_MTA_HEADER
X-Spam-Check-By: apache.org
Received: from [203.199.83.27] (HELO rediffmail.com) (203.199.83.27)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 14 Jul 2004 19:19:44 -0700
Received: (qmail 7875 invoked by uid 510); 15 Jul 2004 02:19:41 -0000
Date: 15 Jul 2004 02:19:41 -0000
Message-ID: <20040715021941.7874.qmail@webmail17.rediffmail.com>
Received: from unknown (137.53.21.84) by rediffmail.com via HTTP; 15 jul 2004 02:19:41 -0000
MIME-Version: 1.0
From: "Jones G" <jones.g@rediffmail.com>
Reply-To: "Jones G" <jones.g@rediffmail.com>
To: lucene-user@jakarta.apache.org
Subject: One Field!
Content-type: multipart/alternative;
	boundary="Next_1089857981---0-203.199.83.27-7869"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--Next_1089857981---0-203.199.83.27-7869
Content-type: text/plain;
	charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I have an index with multiple fields. Right now I am using MultiFieldQueryP=
arser to search the fields. This means that if the same term occurs in mult=
iple fields, it will be weighed accordingly. Is there any way to treat all =
the fields in question as one field and score the document accordingly with=
out having to reindex.=0A=0AThanks.
--Next_1089857981---0-203.199.83.27-7869--


From lucene-user-return-9298-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 06:21:23 2004
Return-Path: <lucene-user-return-9298-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76184 invoked from network); 15 Jul 2004 06:21:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 06:21:23 -0000
Received: (qmail 22698 invoked by uid 500); 15 Jul 2004 06:21:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22016 invoked by uid 500); 15 Jul 2004 06:21:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21985 invoked by uid 99); 15 Jul 2004 06:21:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [207.234.147.17] (HELO mail2.s2lmail.com) (207.234.147.17)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 14 Jul 2004 23:21:06 -0700
Received: (qmail 25429 invoked by uid 508); 15 Jul 2004 06:21:15 -0000
Received: from unknown (HELO infact12) (61.11.66.46)
  by mail2.s2lmail.com with SMTP; 15 Jul 2004 06:21:15 -0000
Message-ID: <007501c46a34$95b81790$0448170a@infact12>
From: "lingaraju" <lingaraju.shambulingaiah@infactindia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	"Lucene Developers List" <lucene-dev@jakarta.apache.org>
References: <40F5CF43.5040601@Sun.COM>
Subject: Re: Searching against Database
Date: Thu, 15 Jul 2004 11:55:52 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello

Even i am searching the same code as all my web display information is
stored  in database.
Early response will be very much helpful

Thanks and regards
Raju

----- Original Message ----- 
From: "Hetan Shah" <Hetan.Shah@Sun.COM>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, July 15, 2004 5:56 AM
Subject: Searching against Database


> Hello All,
>
> I have got all the answers from this fantastic mailing list. I have
> another question ;)
>
> What is the best way (Best Practices) to integrate Lucene with live
> database, Oracle to be more specific. Any pointers are really very much
> appreciated.
>
> thanks guys.
> -H
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9299-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 06:33:24 2004
Return-Path: <lucene-user-return-9299-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80584 invoked from network); 15 Jul 2004 06:33:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 06:33:24 -0000
Received: (qmail 39382 invoked by uid 500); 15 Jul 2004 06:33:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39254 invoked by uid 500); 15 Jul 2004 06:33:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39241 invoked by uid 99); 15 Jul 2004 06:33:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [213.61.178.43] (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 14 Jul 2004 23:33:14 -0700
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id A02A623BED
	for <lucene-user@jakarta.apache.org>; Thu, 15 Jul 2004 08:33:21 +0200 (CEST)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 28588-03 for <lucene-user@jakarta.apache.org>;
 Thu, 15 Jul 2004 08:33:21 +0200 (CEST)
Received: from tucholsky.office.tanto.de (unknown [10.0.1.4])
	by mail.tanto.de (Postfix) with ESMTP id 8483723B93
	for <lucene-user@jakarta.apache.org>; Thu, 15 Jul 2004 08:33:21 +0200 (CEST)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id i6F6X7GL000733
	for <lucene-user@jakarta.apache.org>; Thu, 15 Jul 2004 08:33:07 +0200
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id i6F6X7cv000729;
	Thu, 15 Jul 2004 08:33:07 +0200
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16630.9507.659400.500203@tanto-xipolis.de>
Date: Thu, 15 Jul 2004 08:33:07 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: ArrayIndexOutOfBoundsException if stopword on left of bool clause w/ StandardAnalyzer
In-Reply-To: <FFD4BBD5-D5E0-11D8-B3BF-003065E21F90@library.ucsf.edu>
References: <20040714205149.15663.qmail@webmail17.rediffmail.com>
	<FFD4BBD5-D5E0-11D8-B3BF-003065E21F90@library.ucsf.edu>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Claude Devarenne writes:
> 
> My question is: should the queryParser catch that there is no term  
> before trying to add a clause when using a StandardAnalyzer?  Is this  
> even possible? Should the burden be on the application to either catch  
> the exception or parse the query before handing it out to the  
> queryParser?
> 
Yes. Yes. No.
There are fixes in bugzilla that would make query parser read that query
as title:bla and simply drop the stop word.

see http://issues.apache.org/bugzilla/show_bug.cgi?id=9110
http://issues.apache.org/bugzilla/show_bug.cgi?id=25820

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9300-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 06:54:39 2004
Return-Path: <lucene-user-return-9300-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88866 invoked from network); 15 Jul 2004 06:54:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 06:54:39 -0000
Received: (qmail 70967 invoked by uid 500); 15 Jul 2004 06:54:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70939 invoked by uid 500); 15 Jul 2004 06:54:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70926 invoked by uid 99); 15 Jul 2004 06:54:30 -0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_20_30,HTML_IMAGE_ONLY_24,HTML_MESSAGE,MSGID_FROM_MTA_HEADER,NO_EXPERIENCE
X-Spam-Check-By: apache.org
Received: from [203.199.83.28] (HELO rediffmail.com) (203.199.83.28)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 14 Jul 2004 23:54:28 -0700
Received: (qmail 30909 invoked by uid 510); 15 Jul 2004 06:54:22 -0000
Date: 15 Jul 2004 06:54:22 -0000
Message-ID: <20040715065422.30908.qmail@webmail18.rediffmail.com>
Received: from unknown (137.53.21.84) by rediffmail.com via HTTP; 15 jul 2004 06:54:22 -0000
MIME-Version: 1.0
From: "Jones G" <jones.g@rediffmail.com>
Reply-To: "Jones G" <jones.g@rediffmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Re: Searching against Database
Content-type: multipart/alternative;
	boundary="Next_1089874462---0-203.199.83.28-30863"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--Next_1089874462---0-203.199.83.28-30863
Content-type: text/plain;
	charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I don't have any best practices to offer. I have been using Lucene with MyS=
QL for an year though.=0A=0AAll I do is store a key of some sort in the ind=
ex=0Anew Field("id", getPK(), true, false, false)=0A=0Aand then relate that=
 to the database in code.=0A=0AFor "Live Oracle" databases, you might consi=
der different things.=0A=0AAs I hear, Oracle lets you use Java in PL (no ex=
perience here). So you might consider to add some code into the triggers to=
 add and delete documents from the index. But modifying the index is not as=
 quick as modifying a database in most cases. So you might want to come up =
with some sort of a compromise on this.=0A=0APerhaps more experienced users=
 in this list will have better insights.=0A=0AHope that helps.=0A=0A=0AOn T=
hu, 15 Jul 2004 lingaraju wrote :=0A>Hello=0A>=0A>Even i am searching the s=
ame code as all my web display information is=0A>stored  in database.=0A>Ea=
rly response will be very much helpful=0A>=0A>Thanks and regards=0A>Raju=0A=
>=0A>----- Original Message -----=0A> From: "Hetan Shah" <Hetan.Shah@Sun.CO=
M>=0A>To: "Lucene Users List" <lucene-user@jakarta.apache.org>=0A>Sent: Thu=
rsday, July 15, 2004 5:56 AM=0A>Subject: Searching against Database=0A>=0A>=
=0A> > Hello All,=0A> >=0A> > I have got all the answers from this fantasti=
c mailing list. I have=0A> > another question ;)=0A> >=0A> > What is the be=
st way (Best Practices) to integrate Lucene with live=0A> > database, Oracl=
e to be more specific. Any pointers are really very much=0A> > appreciated.=
=0A> >=0A> > thanks guys.=0A> > -H
--Next_1089874462---0-203.199.83.28-30863--


From lucene-user-return-9301-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 06:57:48 2004
Return-Path: <lucene-user-return-9301-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89809 invoked from network); 15 Jul 2004 06:57:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 06:57:47 -0000
Received: (qmail 76376 invoked by uid 500); 15 Jul 2004 06:57:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76353 invoked by uid 500); 15 Jul 2004 06:57:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76339 invoked by uid 99); 15 Jul 2004 06:57:40 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [143.205.118.212] (HELO proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 14 Jul 2004 23:57:36 -0700
Received: from ifit.uni-klu.ac.at ([143.205.118.98]) by proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 15 Jul 2004 08:58:18 +0200
Message-ID: <40F62B03.3030805@ifit.uni-klu.ac.at>
Date: Thu, 15 Jul 2004 08:58:11 +0200
From: Sergiu Gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.5) Gecko/20031007
X-Accept-Language: en, de-at, ro, it, en-us
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Searching against Database
References: <40F5CF43.5040601@Sun.COM> <007501c46a34$95b81790$0448170a@infact12>
In-Reply-To: <007501c46a34$95b81790$0448170a@infact12>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 15 Jul 2004 06:58:18.0310 (UTC) FILETIME=[1BAB2E60:01C46A39]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I have a simillar problem. I'm working on a web application in which the 
users have different permissions.
Not all information stored in the index is public for all users.

The documents in Index are identified by the same  ID that the  rows 
have in database tables.

I can get the  IDs of the documents that can be accesible by the user, 
but if this are 1000, what will happen in Lucene?

 Is this a valid solution? Can anyone provide a better idea?

 Thanks,

 Sergiu


lingaraju wrote:

>Hello
>
>Even i am searching the same code as all my web display information is
>stored  in database.
>Early response will be very much helpful
>
>Thanks and regards
>Raju
>
>----- Original Message ----- 
>From: "Hetan Shah" <Hetan.Shah@Sun.COM>
>To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>Sent: Thursday, July 15, 2004 5:56 AM
>Subject: Searching against Database
>
>
>  
>
>>Hello All,
>>
>>I have got all the answers from this fantastic mailing list. I have
>>another question ;)
>>
>>What is the best way (Best Practices) to integrate Lucene with live
>>database, Oracle to be more specific. Any pointers are really very much
>>appreciated.
>>
>>thanks guys.
>>-H
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>    
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9302-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 07:04:21 2004
Return-Path: <lucene-user-return-9302-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93901 invoked from network); 15 Jul 2004 07:04:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 07:04:20 -0000
Received: (qmail 86813 invoked by uid 500); 15 Jul 2004 07:04:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 86780 invoked by uid 500); 15 Jul 2004 07:04:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86759 invoked by uid 99); 15 Jul 2004 07:04:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [143.205.118.212] (HELO proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 15 Jul 2004 00:04:10 -0700
Received: from ifit.uni-klu.ac.at ([143.205.118.98]) by proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 15 Jul 2004 09:04:56 +0200
Message-ID: <40F62C97.4050701@ifit.uni-klu.ac.at>
Date: Thu, 15 Jul 2004 09:04:55 +0200
From: Sergiu Gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.5) Gecko/20031007
X-Accept-Language: en, de-at, ro, it, en-us
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Searching against Database
References: <40F5CF43.5040601@Sun.COM> <007501c46a34$95b81790$0448170a@infact12> <40F62B03.3030805@ifit.uni-klu.ac.at>
In-Reply-To: <40F62B03.3030805@ifit.uni-klu.ac.at>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 15 Jul 2004 07:04:56.0120 (UTC) FILETIME=[08C82B80:01C46A3A]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi again,

 I'm thinking to get the list of IDs from the database and the list of 
hits from Lucene Index and to create a comparator in order to eliminate the
not permitted  Hits from the list.

 Which solution do you think is better?

 Thanks,

 Sergiu



Sergiu Gordea wrote:

> Hi,
>
> I have a simillar problem. I'm working on a web application in which 
> the users have different permissions.
> Not all information stored in the index is public for all users.
>
> The documents in Index are identified by the same  ID that the  rows 
> have in database tables.
>
> I can get the  IDs of the documents that can be accesible by the user, 
> but if this are 1000, what will happen in Lucene?
>
> Is this a valid solution? Can anyone provide a better idea?
>
> Thanks,
>
> Sergiu
>
>
> lingaraju wrote:
>
>> Hello
>>
>> Even i am searching the same code as all my web display information is
>> stored  in database.
>> Early response will be very much helpful
>>
>> Thanks and regards
>> Raju
>>
>> ----- Original Message ----- From: "Hetan Shah" <Hetan.Shah@Sun.COM>
>> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>> Sent: Thursday, July 15, 2004 5:56 AM
>> Subject: Searching against Database
>>
>>
>>  
>>
>>> Hello All,
>>>
>>> I have got all the answers from this fantastic mailing list. I have
>>> another question ;)
>>>
>>> What is the best way (Best Practices) to integrate Lucene with live
>>> database, Oracle to be more specific. Any pointers are really very much
>>> appreciated.
>>>
>>> thanks guys.
>>> -H
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>>
>>>   
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>  
>>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9303-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 10:16:16 2004
Return-Path: <lucene-user-return-9303-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15800 invoked from network); 15 Jul 2004 10:16:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 10:16:15 -0000
Received: (qmail 58240 invoked by uid 500); 15 Jul 2004 10:16:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58046 invoked by uid 500); 15 Jul 2004 10:16:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58032 invoked by uid 99); 15 Jul 2004 10:16:08 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=DNS_FROM_RFC_POST,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [194.158.96.111] (HELO relay-6v.club-internet.fr) (194.158.96.111)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 15 Jul 2004 03:16:05 -0700
Received: from Claire (lven2-4-132.n.club-internet.fr [213.44.103.132])
	by relay-6v.club-internet.fr (Postfix) with ESMTP id 4A00725614
	for <lucene-user@jakarta.apache.org>; Thu, 15 Jul 2004 12:16:02 +0200 (CEST)
From: "Bruno Tirel" <bruno.tirel@club-internet.fr>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Problems indexing Japanese with CJKAnalyzer
Date: Thu, 15 Jul 2004 12:15:02 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcRp5FVuAno0C479TbyJv5rAPiRbCwAbdxPA
In-Reply-To: <1A6B6A5A3597C340BB63728001DC787958AF13@kodos.na.wrq.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Message-Id: <20040715101602.4A00725614@relay-6v.club-internet.fr>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi All,

I am also trying to localize everything for French application, using =
UTF-8
encoding. I have already applied what Jon described. I fully confirm his
recommandation for HTML Parser and HTML Document changes with UNICODE =
and
"UTF-8" encoding specification.

In my case, I have still one case not functional : using meta-data from =
HTML
document, as in demo3 example. Trying to convert to "UTF-8", or
"ISO-8859-1", it is still not correctly encoded when I check with Luke.
A word "Propri=E9t=E9" is seen either as "Propri?t?" with a square, or =
as
"Propri=E3=A9t=E3=A9".
My local codepage is Cp1252, so should be viewed as ISO-8859-1. Same =
result
when I use "local FileEncoding parameter.
All the other fields are correctly encoded into UTF-8, tokenized and
successfully searched through JSP page.

Is anybody already facing this issue? Any help available?
Best regards,

Bruno


-----Message d'origine-----
De : Jon Schuster [mailto:jons@wrq.com]=20
Envoy=E9 : mercredi 14 juillet 2004 22:51
=C0 : 'Lucene Users List'
Objet : RE: Problems indexing Japanese with CJKAnalyzer

Hi all,

Thanks for the help on indexing Japanese documents. I eventually got =
things
working, and here's an update so that other folks might have an easier =
time
in similar situations.

The problem I had was indeed with the encoding, but it was more than =
just
the encoding on the initial creation of the HTMLParser (from the Lucene =
demo
package). In HTMLDocument, doing this:

	InputStreamReader reader =3D new InputStreamReader( new
FileInputStream(f), "SJIS");
	HTMLParser parser =3D new HTMLParser( reader );

creates the parser and feeds it Unicode from the original Shift-JIS =
encoding
document, but then when the document contents is fetched using this =
line:

	Field fld =3D Field.Text("contents", parser.getReader() );

HTMLParser.getReader creates an InputStreamReader and OutputStreamWriter
using the default encoding, which in my case was Windows 1252 =
(essentially
Latin-1). That was bad.

In the HTMLParser.jj grammar file, adding an explicit encoding of "UTF8" =
on
both the Reader and Writer got things mostly working. The one missing =
piece
was in the "options" section of the HTMLParser.jj file. The original =
grammar
file generates an input character stream class that treats the input as =
a
stream of 1-byte characters. To have JavaCC generate a stream class that
handles double-byte characters, you need the option =
UNICODE_INPUT=3Dtrue.

So, there were essentially three changes in two files:

HTMLParser.jj - add UNICODE_INPUT=3Dtrue to options section; add =
explicit
"UTF8" encoding on Reader and Writer creation in getReader(). As far as =
I
can tell, this changes works fine for all of the languages I need to =
handle,
which are English, French, German, and Japanese.

HTMLDocument - add explicit encoding of "SJIS" when creating the Reader =
used
to create the HTMLParser. (For western languages, I use encoding of
"ISO8859_1".)

And of course, use the right language tokenizer.

--Jon

<earlier responses snipped; see the list archive>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9304-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 10:46:50 2004
Return-Path: <lucene-user-return-9304-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33272 invoked from network); 15 Jul 2004 10:46:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 10:46:50 -0000
Received: (qmail 95618 invoked by uid 500); 15 Jul 2004 10:46:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95570 invoked by uid 500); 15 Jul 2004 10:46:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95557 invoked by uid 99); 15 Jul 2004 10:46:43 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.199.26.74] (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Thu, 15 Jul 2004 03:46:40 -0700
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I0W3TN00.FMF for <lucene-user@jakarta.apache.org>; Thu,
          15 Jul 2004 16:28:35 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "LUCENE" <lucene-user@jakarta.apache.org>
Subject: Search +QueryParser+Score
Date: Thu, 15 Jul 2004 16:25:53 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIIECECBAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <40F5CF43.5040601@Sun.COM>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


  Hey Guy's

 Apologies.....

 I have a Question

Is there any API avaliable in Lucene1.4 to set the "Score value to 1.0f or
lesser "
   BEFORE  doing the Query Parser  for search , so that the returns Hits for
the Score settings only.



with regards
Karthik



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9305-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 11:06:41 2004
Return-Path: <lucene-user-return-9305-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40176 invoked from network); 15 Jul 2004 11:06:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 11:06:41 -0000
Received: (qmail 30065 invoked by uid 500); 15 Jul 2004 11:06:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29910 invoked by uid 500); 15 Jul 2004 11:06:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29894 invoked by uid 99); 15 Jul 2004 11:06:33 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.135.56] (HELO postfix.mail.ehatchersolutions.com) (128.143.135.56)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 15 Jul 2004 04:06:30 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 29CA17E9198
	for <lucene-user@jakarta.apache.org>; Thu, 15 Jul 2004 07:06:28 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <20040715021941.7874.qmail@webmail17.rediffmail.com>
References: <20040715021941.7874.qmail@webmail17.rediffmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <046C9DD4-D64F-11D8-AEE4-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: One Field!
Date: Thu, 15 Jul 2004 07:06:27 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jul 14, 2004, at 10:19 PM, Jones G wrote:
> I have an index with multiple fields. Right now I am using 
> MultiFieldQueryParser to search the fields. This means that if the 
> same term occurs in multiple fields, it will be weighed accordingly. 
> Is there any way to treat all the fields in question as one field and 
> score the document accordingly without having to reindex.

You could change the coord() factor of Similarity in a custom 
implementation - that might do what you want with scoring.

But I prefer having a single queryable field that aggregates everything 
I want searchable, which would require re-indexing in your scenario.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9306-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 11:09:21 2004
Return-Path: <lucene-user-return-9306-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41305 invoked from network); 15 Jul 2004 11:09:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 11:09:20 -0000
Received: (qmail 35316 invoked by uid 500); 15 Jul 2004 11:09:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35283 invoked by uid 500); 15 Jul 2004 11:09:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35267 invoked by uid 99); 15 Jul 2004 11:09:13 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.135.56] (HELO postfix.mail.ehatchersolutions.com) (128.143.135.56)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 15 Jul 2004 04:09:13 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 6DC557E91BA
	for <lucene-user@jakarta.apache.org>; Thu, 15 Jul 2004 07:09:12 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <40F62C97.4050701@ifit.uni-klu.ac.at>
References: <40F5CF43.5040601@Sun.COM> <007501c46a34$95b81790$0448170a@infact12> <40F62B03.3030805@ifit.uni-klu.ac.at> <40F62C97.4050701@ifit.uni-klu.ac.at>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <65D5F931-D64F-11D8-AEE4-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Searching against Database
Date: Thu, 15 Jul 2004 07:09:10 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

In this situation, you may want to investigate implementing a custom  
Filter which is user-specific and constrains the search space to only  
the rows a specific user is allowed to search.

	Erik

On Jul 15, 2004, at 3:04 AM, Sergiu Gordea wrote:

>
> Hi again,
>
> I'm thinking to get the list of IDs from the database and the list of  
> hits from Lucene Index and to create a comparator in order to  
> eliminate the
> not permitted  Hits from the list.
>
> Which solution do you think is better?
>
> Thanks,
>
> Sergiu
>
>
>
> Sergiu Gordea wrote:
>
>> Hi,
>>
>> I have a simillar problem. I'm working on a web application in which  
>> the users have different permissions.
>> Not all information stored in the index is public for all users.
>>
>> The documents in Index are identified by the same  ID that the  rows  
>> have in database tables.
>>
>> I can get the  IDs of the documents that can be accesible by the  
>> user, but if this are 1000, what will happen in Lucene?
>>
>> Is this a valid solution? Can anyone provide a better idea?
>>
>> Thanks,
>>
>> Sergiu
>>
>>
>> lingaraju wrote:
>>
>>> Hello
>>>
>>> Even i am searching the same code as all my web display information  
>>> is
>>> stored  in database.
>>> Early response will be very much helpful
>>>
>>> Thanks and regards
>>> Raju
>>>
>>> ----- Original Message ----- From: "Hetan Shah" <Hetan.Shah@Sun.COM>
>>> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>>> Sent: Thursday, July 15, 2004 5:56 AM
>>> Subject: Searching against Database
>>>
>>>
>>>
>>>> Hello All,
>>>>
>>>> I have got all the answers from this fantastic mailing list. I have
>>>> another question ;)
>>>>
>>>> What is the best way (Best Practices) to integrate Lucene with live
>>>> database, Oracle to be more specific. Any pointers are really very  
>>>> much
>>>> appreciated.
>>>>
>>>> thanks guys.
>>>> -H
>>>>
>>>>
>>>> -------------------------------------------------------------------- 
>>>> -
>>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>>
>>>>
>>>>
>>>
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9307-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 11:15:16 2004
Return-Path: <lucene-user-return-9307-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43682 invoked from network); 15 Jul 2004 11:15:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 11:15:16 -0000
Received: (qmail 41330 invoked by uid 500); 15 Jul 2004 11:15:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41094 invoked by uid 500); 15 Jul 2004 11:15:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41079 invoked by uid 99); 15 Jul 2004 11:15:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.135.56] (HELO postfix.mail.ehatchersolutions.com) (128.143.135.56)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 15 Jul 2004 04:15:08 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 9064F7E91EA
	for <lucene-user@jakarta.apache.org>; Thu, 15 Jul 2004 07:15:07 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <LOEGLEEGOAKBOLAJCCKIIECECBAA.karthik@controlnet.co.in>
References: <LOEGLEEGOAKBOLAJCCKIIECECBAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <395DACBC-D650-11D8-AEE4-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Search +QueryParser+Score
Date: Thu, 15 Jul 2004 07:15:05 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kathik,

I have a really hard time following your questions, otherwise I'd chime 
in on them more often.  Your meaning is not often clear.

In the case of normalizing the score to 1.0 or less - this is precisely 
what Hits does for you.  I'm not sure what you mean by "BEFORE" doing 
QueryParser - a score is computed based on a query, so it necessarily 
must come after.

	Erik


On Jul 15, 2004, at 6:55 AM, Karthik N S wrote:

>
>   Hey Guy's
>
>  Apologies.....
>
>  I have a Question
>
> Is there any API avaliable in Lucene1.4 to set the "Score value to 
> 1.0f or
> lesser "
>    BEFORE  doing the Query Parser  for search , so that the returns 
> Hits for
> the Score settings only.
>
>
>
> with regards
> Karthik
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9308-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 11:26:25 2004
Return-Path: <lucene-user-return-9308-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48912 invoked from network); 15 Jul 2004 11:26:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 11:26:25 -0000
Received: (qmail 53158 invoked by uid 500); 15 Jul 2004 11:26:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52953 invoked by uid 500); 15 Jul 2004 11:26:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52939 invoked by uid 99); 15 Jul 2004 11:26:18 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.199.26.74] (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Thu, 15 Jul 2004 04:26:15 -0700
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I0W5OP00.FQV for <lucene-user@jakarta.apache.org>; Thu,
          15 Jul 2004 17:08:49 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Search +QueryParser+Score
Date: Thu, 15 Jul 2004 17:06:07 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIIECFCBAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <395DACBC-D650-11D8-AEE4-000393A564E6@ehatchersolutions.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey Guys...

Apologies


  Let me be more Specific regarding the last mail

  I would like to get all  Hits returned with score  = 1.0  ONLY  using
Query Parser .



  What are my Options.


with regards
Karthik





-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Thursday, July 15, 2004 4:45 PM
To: Lucene Users List
Subject: Re: Search +QueryParser+Score


Kathik,

I have a really hard time following your questions, otherwise I'd chime
in on them more often.  Your meaning is not often clear.

In the case of normalizing the score to 1.0 or less - this is precisely
what Hits does for you.  I'm not sure what you mean by "BEFORE" doing
QueryParser - a score is computed based on a query, so it necessarily
must come after.

	Erik


On Jul 15, 2004, at 6:55 AM, Karthik N S wrote:

>
>   Hey Guy's
>
>  Apologies.....
>
>  I have a Question
>
> Is there any API avaliable in Lucene1.4 to set the "Score value to
> 1.0f or
> lesser "
>    BEFORE  doing the Query Parser  for search , so that the returns
> Hits for
> the Score settings only.
>
>
>
> with regards
> Karthik
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9309-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 12:47:24 2004
Return-Path: <lucene-user-return-9309-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89236 invoked from network); 15 Jul 2004 12:47:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 12:47:24 -0000
Received: (qmail 67077 invoked by uid 500); 15 Jul 2004 12:47:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67027 invoked by uid 500); 15 Jul 2004 12:47:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67014 invoked by uid 99); 15 Jul 2004 12:47:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.135.56] (HELO postfix.mail.ehatchersolutions.com) (128.143.135.56)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 15 Jul 2004 05:47:13 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 17BEC81253F
	for <lucene-user@jakarta.apache.org>; Thu, 15 Jul 2004 08:47:05 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <LOEGLEEGOAKBOLAJCCKIIECFCBAA.karthik@controlnet.co.in>
References: <LOEGLEEGOAKBOLAJCCKIIECFCBAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <11BE2A68-D65D-11D8-AEE4-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Search +QueryParser+Score
Date: Thu, 15 Jul 2004 08:47:02 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I don't really understand what QueryParser has to do with your 
question.  If you want only Hits that have a score of 1.0 (keep in mind 
that Hits normalizes scores if they are over 1.0), why not just walk 
all the Hits in order until you get to one that is not 1.0?

Or, use a HitCollector to collect hits (scores not normalized with a 
HitCollector) and bail out when you are done.  (although bailing out of 
a HitCollector is not as clean as we should make it in Lucene 2.0 - we 
should add that to the whiteboard).

	Erik

On Jul 15, 2004, at 7:36 AM, Karthik N S wrote:

> Hey Guys...
>
> Apologies
>
>
>   Let me be more Specific regarding the last mail
>
>   I would like to get all  Hits returned with score  = 1.0  ONLY  using
> Query Parser .
>
>
>
>   What are my Options.
>
>
> with regards
> Karthik
>
>
>
>
>
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Thursday, July 15, 2004 4:45 PM
> To: Lucene Users List
> Subject: Re: Search +QueryParser+Score
>
>
> Kathik,
>
> I have a really hard time following your questions, otherwise I'd chime
> in on them more often.  Your meaning is not often clear.
>
> In the case of normalizing the score to 1.0 or less - this is precisely
> what Hits does for you.  I'm not sure what you mean by "BEFORE" doing
> QueryParser - a score is computed based on a query, so it necessarily
> must come after.
>
> 	Erik
>
>
> On Jul 15, 2004, at 6:55 AM, Karthik N S wrote:
>
>>
>>   Hey Guy's
>>
>>  Apologies.....
>>
>>  I have a Question
>>
>> Is there any API avaliable in Lucene1.4 to set the "Score value to
>> 1.0f or
>> lesser "
>>    BEFORE  doing the Query Parser  for search , so that the returns
>> Hits for
>> the Score settings only.
>>
>>
>>
>> with regards
>> Karthik
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9310-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 12:50:11 2004
Return-Path: <lucene-user-return-9310-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90691 invoked from network); 15 Jul 2004 12:50:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 12:50:11 -0000
Received: (qmail 71493 invoked by uid 500); 15 Jul 2004 12:50:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71475 invoked by uid 500); 15 Jul 2004 12:50:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71457 invoked by uid 99); 15 Jul 2004 12:50:02 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [63.100.163.104] (HELO mercury.corp.cyveillance.com) (63.100.163.104)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 15 Jul 2004 05:49:59 -0700
Received: by mercury.corp.cyveillance.com with Internet Mail Service (5.5.2655.55)
	id <3MWJRG1B>; Thu, 15 Jul 2004 08:48:57 -0400
Message-ID: <E65AE9703B683F4C81B5B39C692EB26D1B02B7@mercury.corp.cyveillance.com>
From: wallen@Cyveillance.com
To: lucene-user@jakarta.apache.org
Subject: RE: Searching against Database
Date: Thu, 15 Jul 2004 08:48:56 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If you know ahead of time which documents are viewable by a certain user
group you could add a field, such as group, and then when you index the
document you put the names of the user groups that are allowed to view that
document.  Then your query tool can append, for example "AND
group:developers" to the user's query.  Then you will not have to merge
results.

-Will

-----Original Message-----
From: Sergiu Gordea [mailto:gsergiu@ifit.uni-klu.ac.at]
Sent: Thursday, July 15, 2004 2:58 AM
To: Lucene Users List
Subject: Re: Searching against Database


Hi,

I have a simillar problem. I'm working on a web application in which the 
users have different permissions.
Not all information stored in the index is public for all users.

The documents in Index are identified by the same  ID that the  rows 
have in database tables.

I can get the  IDs of the documents that can be accesible by the user, 
but if this are 1000, what will happen in Lucene?

 Is this a valid solution? Can anyone provide a better idea?

 Thanks,

 Sergiu


lingaraju wrote:

>Hello
>
>Even i am searching the same code as all my web display information is
>stored  in database.
>Early response will be very much helpful
>
>Thanks and regards
>Raju
>
>----- Original Message ----- 
>From: "Hetan Shah" <Hetan.Shah@Sun.COM>
>To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>Sent: Thursday, July 15, 2004 5:56 AM
>Subject: Searching against Database
>
>
>  
>
>>Hello All,
>>
>>I have got all the answers from this fantastic mailing list. I have
>>another question ;)
>>
>>What is the best way (Best Practices) to integrate Lucene with live
>>database, Oracle to be more specific. Any pointers are really very much
>>appreciated.
>>
>>thanks guys.
>>-H
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>    
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9311-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 13:12:47 2004
Return-Path: <lucene-user-return-9311-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1275 invoked from network); 15 Jul 2004 13:12:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 13:12:46 -0000
Received: (qmail 12663 invoked by uid 500); 15 Jul 2004 13:12:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12629 invoked by uid 500); 15 Jul 2004 13:12:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12590 invoked by uid 99); 15 Jul 2004 13:12:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [64.65.202.3] (HELO contextmedia.com) (64.65.202.3)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 15 Jul 2004 06:12:28 -0700
Received: from ppeddi ([192.168.1.48]) by contextmedia.com ; Thu, 15 Jul 2004 09:12:19 -0400
Message-ID: <01db01c46a6d$5e828c90$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20040715101602.4A00725614@relay-6v.club-internet.fr>
Subject: Re: Problems indexing Japanese with CJKAnalyzer
Date: Thu, 15 Jul 2004 09:12:24 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If its a web application, you have to cal request.setEncoding("UTF-8")
before reading any parameters. Also make sure html page encoding is
specified as "UTF-8" in the metatag. most web app servers decode the request
paramaters in the system's default encoding algorithm. If u call above
method, I think it will solve ur problem.

Praveen
----- Original Message ----- 
From: "Bruno Tirel" <bruno.tirel@club-internet.fr>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Thursday, July 15, 2004 6:15 AM
Subject: RE: Problems indexing Japanese with CJKAnalyzer


Hi All,

I am also trying to localize everything for French application, using UTF-8
encoding. I have already applied what Jon described. I fully confirm his
recommandation for HTML Parser and HTML Document changes with UNICODE and
"UTF-8" encoding specification.

In my case, I have still one case not functional : using meta-data from HTML
document, as in demo3 example. Trying to convert to "UTF-8", or
"ISO-8859-1", it is still not correctly encoded when I check with Luke.
A word "Propriété" is seen either as "Propri?t?" with a square, or as
"Propriã©tã©".
My local codepage is Cp1252, so should be viewed as ISO-8859-1. Same result
when I use "local FileEncoding parameter.
All the other fields are correctly encoded into UTF-8, tokenized and
successfully searched through JSP page.

Is anybody already facing this issue? Any help available?
Best regards,

Bruno


-----Message d'origine-----
De : Jon Schuster [mailto:jons@wrq.com]
Envoyé : mercredi 14 juillet 2004 22:51
À : 'Lucene Users List'
Objet : RE: Problems indexing Japanese with CJKAnalyzer

Hi all,

Thanks for the help on indexing Japanese documents. I eventually got things
working, and here's an update so that other folks might have an easier time
in similar situations.

The problem I had was indeed with the encoding, but it was more than just
the encoding on the initial creation of the HTMLParser (from the Lucene demo
package). In HTMLDocument, doing this:

InputStreamReader reader = new InputStreamReader( new
FileInputStream(f), "SJIS");
HTMLParser parser = new HTMLParser( reader );

creates the parser and feeds it Unicode from the original Shift-JIS encoding
document, but then when the document contents is fetched using this line:

Field fld = Field.Text("contents", parser.getReader() );

HTMLParser.getReader creates an InputStreamReader and OutputStreamWriter
using the default encoding, which in my case was Windows 1252 (essentially
Latin-1). That was bad.

In the HTMLParser.jj grammar file, adding an explicit encoding of "UTF8" on
both the Reader and Writer got things mostly working. The one missing piece
was in the "options" section of the HTMLParser.jj file. The original grammar
file generates an input character stream class that treats the input as a
stream of 1-byte characters. To have JavaCC generate a stream class that
handles double-byte characters, you need the option UNICODE_INPUT=true.

So, there were essentially three changes in two files:

HTMLParser.jj - add UNICODE_INPUT=true to options section; add explicit
"UTF8" encoding on Reader and Writer creation in getReader(). As far as I
can tell, this changes works fine for all of the languages I need to handle,
which are English, French, German, and Japanese.

HTMLDocument - add explicit encoding of "SJIS" when creating the Reader used
to create the HTMLParser. (For western languages, I use encoding of
"ISO8859_1".)

And of course, use the right language tokenizer.

--Jon

<earlier responses snipped; see the list archive>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9312-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 13:15:15 2004
Return-Path: <lucene-user-return-9312-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4761 invoked from network); 15 Jul 2004 13:15:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 13:15:15 -0000
Received: (qmail 18648 invoked by uid 500); 15 Jul 2004 13:15:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18584 invoked by uid 500); 15 Jul 2004 13:15:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18571 invoked by uid 99); 15 Jul 2004 13:15:08 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [143.205.118.212] (HELO proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 15 Jul 2004 06:15:06 -0700
Received: from ifit.uni-klu.ac.at ([143.205.118.98]) by proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 15 Jul 2004 15:15:47 +0200
Message-ID: <40F68383.2040707@ifit.uni-klu.ac.at>
Date: Thu, 15 Jul 2004 15:15:47 +0200
From: Sergiu Gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.5) Gecko/20031007
X-Accept-Language: en, de-at, ro, it, en-us
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Searching against Database
References: <E65AE9703B683F4C81B5B39C692EB26D1B02B7@mercury.corp.cyveillance.com>
In-Reply-To: <E65AE9703B683F4C81B5B39C692EB26D1B02B7@mercury.corp.cyveillance.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 15 Jul 2004 13:15:47.0816 (UTC) FILETIME=[D7D38680:01C46A6D]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This is not a solution in my case,

becasue the permissions of the groups, and the user groups can be 
changed, and it will make managing index to be a nightmare.

  anyway,

  I appreciate the advice, maybe it will be useful for the other  guys 
that asked this question.

   Sergiu

wallen@Cyveillance.com wrote:

>If you know ahead of time which documents are viewable by a certain user
>group you could add a field, such as group, and then when you index the
>document you put the names of the user groups that are allowed to view that
>document.  Then your query tool can append, for example "AND
>group:developers" to the user's query.  Then you will not have to merge
>results.
>
>-Will
>
>-----Original Message-----
>From: Sergiu Gordea [mailto:gsergiu@ifit.uni-klu.ac.at]
>Sent: Thursday, July 15, 2004 2:58 AM
>To: Lucene Users List
>Subject: Re: Searching against Database
>
>
>Hi,
>
>I have a simillar problem. I'm working on a web application in which the 
>users have different permissions.
>Not all information stored in the index is public for all users.
>
>The documents in Index are identified by the same  ID that the  rows 
>have in database tables.
>
>I can get the  IDs of the documents that can be accesible by the user, 
>but if this are 1000, what will happen in Lucene?
>
> Is this a valid solution? Can anyone provide a better idea?
>
> Thanks,
>
> Sergiu
>
>
>lingaraju wrote:
>
>  
>
>>Hello
>>
>>Even i am searching the same code as all my web display information is
>>stored  in database.
>>Early response will be very much helpful
>>
>>Thanks and regards
>>Raju
>>
>>----- Original Message ----- 
>>From: "Hetan Shah" <Hetan.Shah@Sun.COM>
>>To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>>Sent: Thursday, July 15, 2004 5:56 AM
>>Subject: Searching against Database
>>
>>
>> 
>>
>>    
>>
>>>Hello All,
>>>
>>>I have got all the answers from this fantastic mailing list. I have
>>>another question ;)
>>>
>>>What is the best way (Best Practices) to integrate Lucene with live
>>>database, Oracle to be more specific. Any pointers are really very much
>>>appreciated.
>>>
>>>thanks guys.
>>>-H
>>>
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>>
>>>   
>>>
>>>      
>>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>> 
>>
>>    
>>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9313-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 13:37:17 2004
Return-Path: <lucene-user-return-9313-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24391 invoked from network); 15 Jul 2004 13:37:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 13:37:17 -0000
Received: (qmail 68990 invoked by uid 500); 15 Jul 2004 13:36:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68937 invoked by uid 500); 15 Jul 2004 13:36:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68907 invoked by uid 99); 15 Jul 2004 13:36:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [66.82.4.91] (HELO a34-mta02.direcway.com) (66.82.4.91)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 15 Jul 2004 06:36:50 -0700
Received: from [192.168.1.150] (dpc6935170015.direcpc.com [69.35.170.15])
 by a34-mta02.direcway.com
 (iPlanet Messaging Server 5.2 HotFix 1.12 (built Feb 13 2003))
 with ESMTP id <0I0W00G4ZB54GK@a34-mta02.direcway.com> for
 lucene-user@jakarta.apache.org; Thu, 15 Jul 2004 09:36:45 -0400 (EDT)
Date: Thu, 15 Jul 2004 09:36:39 -0400
From: Joel Shellman <joel@ikestrel.com>
Subject: Wildcard search with my own analyzer
In-reply-to: <40F68383.2040707@ifit.uni-klu.ac.at>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <40F68867.4090009@ikestrel.com>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040514
X-Enigmail-Version: 0.84.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
References:
 <E65AE9703B683F4C81B5B39C692EB26D1B02B7@mercury.corp.cyveillance.com>
 <40F68383.2040707@ifit.uni-klu.ac.at>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I wanted to support categories, and so I created my own analyzer so that:

Root Category||My Category||Some Other Things

Would be split up into three terms split by ||, and I wanted it to stay 
case sensitive.

If I do a search for:

categories:"Root Category"

it works fine. But if I do a search for:

categories:"Root Cate*"

it doesn't find it.

What do I need to do so that wildcard searching will work on this? I am 
using the same analyzer for indexing and searching (otherwise the first 
search wouldn't work either).

Thank you,

Joel Shellman

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9314-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 13:46:20 2004
Return-Path: <lucene-user-return-9314-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30185 invoked from network); 15 Jul 2004 13:46:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 13:46:20 -0000
Received: (qmail 88883 invoked by uid 500); 15 Jul 2004 13:46:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88849 invoked by uid 500); 15 Jul 2004 13:46:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88835 invoked by uid 99); 15 Jul 2004 13:46:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [64.30.32.11] (HELO smtp.airsmail.com) (64.30.32.11)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 15 Jul 2004 06:46:07 -0700
Received: from trinidad (dhcp5-004.airscorp.com [10.0.5.4])
	(authenticated)
	by smtp.airsmail.com (8.11.6/8.11.6) with ESMTP id i6FDk1I09577
	for <lucene-user@jakarta.apache.org>; Thu, 15 Jul 2004 09:46:01 -0400
From: "Mark Florence" <mflorence@airsmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Anyone use MultiSearcher class
Date: Thu, 15 Jul 2004 09:46:00 -0400
Message-ID: <DIENLCKNNDCDMPIEODNMEEOPJGAA.mflorence@airsmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
In-Reply-To: <6.1.1.1.0.20040712122830.01c67ec0@localhost>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Don, I think I finally understand your problem -- and mine -- with
MultiSearcher. I had tested an implementation of my system using
ParallelMultiSearcher to split a huge index over many computers.
I was very impressed by the results on my test data, but alarmed
after a trial with live data :)

Consider MultiSearcher.search(Query Q). Suppose that Q aggregated
over ALL the Searchables in the MultiSearcher would return 1000
documents. But, the Hits object created by search() will only cache
the first 100 documents. When Hits.doc(101) is called, Hits will
cache 200 documents -- then 400, 800, 1600 and so on. How does Hits
get these extra documents? By calling the MultiSearcher again.

Now consider a MultiSearcher as described above with 2 Searchables.
With respect to Q, Searchable S has 1000 documents, Searchable T
has zero. So to fetch the 101st document, not only is S searched,
but T is too, even though the result of Q applied to T is still zero
and will always be zero. The same thing will happen when fetching
the 201st, 401st and 801st document.

This accounts for my slow performance, and I think yours too. That
your observed degradation is a power of 2 is a clue.

My performance is especially vulnerable because "slave" Searchables
in the MultiSearcher are Remote -- accessed via RMI.

I guess I have to code smarter around MultiSearcher. One problem
you highlight is that Hits is final -- so it is not possible even to
modify the "100/200/400" cache size logic.

Any ideas from anyone would be much appreciated.

Mark Florence
CTO, AIRS
800-897-7714 x 1703
mflorence@airsmail.com




-----Original Message-----
From: Don Vaillancourt [mailto:donv@webimpact.com]
Sent: Monday, July 12, 2004 12:36 pm
To: Lucene Users List
Subject: Anyone use MultiSearcher class


Hello,

Has anyone used the Multisearcher class?

I have noticed that searching two indexes using this MultiSearcher class
takes 8 times longer than searching only one index.  I could understand if
it took 3 to 4 times longer to search due to sorting the two search results
and stuff, but why 8 times longer.

Is there some optimization that can be done to hasten the search?  Or
should I just write my own MultiSearcher.  The problem though is that there
is no way for me to create my own Hits object (no methods are available and
the class is final).

Anyone have any clue?

Thanks


Don Vaillancourt
Director of Software Development

WEB IMPACT INC.
416-815-2000 ext. 245
email: donv@web-impact.com
web: http://www.web-impact.com




This email message is intended only for the addressee(s)
and contains information that may be confidential and/or
copyright.  If you are not the intended recipient please
notify the sender by reply email and immediately delete
this email. Use, disclosure or reproduction of this email
by anyone other than the intended recipient(s) is strictly
prohibited. No representation is made that this email or
any attachments are free of viruses. Virus scanning is
recommended and is the responsibility of the recipient.













---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9315-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 14:03:38 2004
Return-Path: <lucene-user-return-9315-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41108 invoked from network); 15 Jul 2004 14:03:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 14:03:38 -0000
Received: (qmail 37476 invoked by uid 500); 15 Jul 2004 14:03:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37344 invoked by uid 500); 15 Jul 2004 14:03:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37273 invoked by uid 99); 15 Jul 2004 14:03:08 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [213.61.178.43] (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 15 Jul 2004 07:03:03 -0700
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id 26FFF23B94
	for <lucene-user@jakarta.apache.org>; Thu, 15 Jul 2004 16:03:11 +0200 (CEST)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 07640-09 for <lucene-user@jakarta.apache.org>;
 Thu, 15 Jul 2004 16:03:11 +0200 (CEST)
Received: from tucholsky.office.tanto.de (unknown [10.0.1.4])
	by mail.tanto.de (Postfix) with ESMTP id 049FA23B8F
	for <lucene-user@jakarta.apache.org>; Thu, 15 Jul 2004 16:03:11 +0200 (CEST)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id i6FE2uGL006185
	for <lucene-user@jakarta.apache.org>; Thu, 15 Jul 2004 16:02:56 +0200
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id i6FE2ukx006181;
	Thu, 15 Jul 2004 16:02:56 +0200
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16630.36496.770724.810574@tanto-xipolis.de>
Date: Thu, 15 Jul 2004 16:02:56 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Wildcard search with my own analyzer
In-Reply-To: <40F68867.4090009@ikestrel.com>
References: <E65AE9703B683F4C81B5B39C692EB26D1B02B7@mercury.corp.cyveillance.com>
	<40F68383.2040707@ifit.uni-klu.ac.at>
	<40F68867.4090009@ikestrel.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Joel Shellman writes:
> 
> What do I need to do so that wildcard searching will work on this? I am 
> using the same analyzer for indexing and searching (otherwise the first 
> search wouldn't work either).
> 
Check what query is produced (query.toString(...)).
I guess that query parser which seems to be what you are using does not
support wildcards within `"'.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9316-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 14:20:44 2004
Return-Path: <lucene-user-return-9316-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50147 invoked from network); 15 Jul 2004 14:20:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 14:20:44 -0000
Received: (qmail 83648 invoked by uid 500); 15 Jul 2004 14:20:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83601 invoked by uid 500); 15 Jul 2004 14:20:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83588 invoked by uid 99); 15 Jul 2004 14:20:34 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=DATE_IN_FUTURE_03_06
X-Spam-Check-By: apache.org
Received: from [203.200.20.178] (HELO crimsonlogic.co.in) (203.200.20.178)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 15 Jul 2004 07:20:31 -0700
Received: from INA098tnat (localhost.localdomain [127.0.0.1])
	by crimsonlogic.co.in (Postfix) with ESMTP id 3070E233E2
	for <lucene-user@jakarta.apache.org>; Thu, 15 Jul 2004 19:50:05 +0530 (IST)
From: "Natarajan.T" <natarajant@crimsonlogic.co.in>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Searching against Database
Date: Thu, 15 Jul 2004 19:51:45 +0100
Message-ID: <005001c46a9c$c6b91fc0$8714a8c0@INA098tnat>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
In-Reply-To: <40F68383.2040707@ifit.uni-klu.ac.at>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

You how to convert RTF file file txt file.
Any API available?

If u have any sample code pls send it to me.

Regards,
Natarajan.

-----Original Message-----
From: Sergiu Gordea [mailto:gsergiu@ifit.uni-klu.ac.at] 
Sent: Thursday, July 15, 2004 2:16 PM
To: Lucene Users List
Subject: Re: Searching against Database

This is not a solution in my case,

becasue the permissions of the groups, and the user groups can be 
changed, and it will make managing index to be a nightmare.

  anyway,

  I appreciate the advice, maybe it will be useful for the other  guys 
that asked this question.

   Sergiu

wallen@Cyveillance.com wrote:

>If you know ahead of time which documents are viewable by a certain
user
>group you could add a field, such as group, and then when you index the
>document you put the names of the user groups that are allowed to view
that
>document.  Then your query tool can append, for example "AND
>group:developers" to the user's query.  Then you will not have to merge
>results.
>
>-Will
>
>-----Original Message-----
>From: Sergiu Gordea [mailto:gsergiu@ifit.uni-klu.ac.at]
>Sent: Thursday, July 15, 2004 2:58 AM
>To: Lucene Users List
>Subject: Re: Searching against Database
>
>
>Hi,
>
>I have a simillar problem. I'm working on a web application in which
the 
>users have different permissions.
>Not all information stored in the index is public for all users.
>
>The documents in Index are identified by the same  ID that the  rows 
>have in database tables.
>
>I can get the  IDs of the documents that can be accesible by the user, 
>but if this are 1000, what will happen in Lucene?
>
> Is this a valid solution? Can anyone provide a better idea?
>
> Thanks,
>
> Sergiu
>
>
>lingaraju wrote:
>
>  
>
>>Hello
>>
>>Even i am searching the same code as all my web display information is
>>stored  in database.
>>Early response will be very much helpful
>>
>>Thanks and regards
>>Raju
>>
>>----- Original Message ----- 
>>From: "Hetan Shah" <Hetan.Shah@Sun.COM>
>>To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>>Sent: Thursday, July 15, 2004 5:56 AM
>>Subject: Searching against Database
>>
>>
>> 
>>
>>    
>>
>>>Hello All,
>>>
>>>I have got all the answers from this fantastic mailing list. I have
>>>another question ;)
>>>
>>>What is the best way (Best Practices) to integrate Lucene with live
>>>database, Oracle to be more specific. Any pointers are really very
much
>>>appreciated.
>>>
>>>thanks guys.
>>>-H
>>>
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>>
>>>   
>>>
>>>      
>>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>> 
>>
>>    
>>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9317-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 14:32:44 2004
Return-Path: <lucene-user-return-9317-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57995 invoked from network); 15 Jul 2004 14:32:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 14:32:44 -0000
Received: (qmail 18840 invoked by uid 500); 15 Jul 2004 14:32:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18767 invoked by uid 500); 15 Jul 2004 14:32:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18739 invoked by uid 99); 15 Jul 2004 14:32:34 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.135.56] (HELO postfix.mail.ehatchersolutions.com) (128.143.135.56)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 15 Jul 2004 07:32:33 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 31133812C94
	for <lucene-user@jakarta.apache.org>; Thu, 15 Jul 2004 10:32:27 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <16630.36496.770724.810574@tanto-xipolis.de>
References: <E65AE9703B683F4C81B5B39C692EB26D1B02B7@mercury.corp.cyveillance.com> <40F68383.2040707@ifit.uni-klu.ac.at> <40F68867.4090009@ikestrel.com> <16630.36496.770724.810574@tanto-xipolis.de>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <A885B574-D66B-11D8-AEE4-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Wildcard search with my own analyzer
Date: Thu, 15 Jul 2004 10:31:28 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jul 15, 2004, at 10:02 AM, Morus Walter wrote:

> Joel Shellman writes:
>>
>> What do I need to do so that wildcard searching will work on this? I 
>> am
>> using the same analyzer for indexing and searching (otherwise the 
>> first
>> search wouldn't work either).
>>
> Check what query is produced (query.toString(...)).
> I guess that query parser which seems to be what you are using does not
> support wildcards within `"'.

Right... when you use double-quotes, a PhraseQuery is implied, and it 
has no support for wildcards (currently).

Check the AnalysisParalysis page on the wiki for some insight into how 
to go about trouble-shooting things like this.  First is to eliminate 
QueryParser and see if you can make a query through the API that 
matches what you're after.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9318-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 14:33:11 2004
Return-Path: <lucene-user-return-9318-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58166 invoked from network); 15 Jul 2004 14:33:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 14:33:10 -0000
Received: (qmail 19189 invoked by uid 500); 15 Jul 2004 14:32:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19065 invoked by uid 500); 15 Jul 2004 14:32:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18873 invoked by uid 99); 15 Jul 2004 14:32:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [143.106.80.3] (HELO apolo.ccuec.unicamp.br) (143.106.80.3)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 15 Jul 2004 07:32:31 -0700
Received: from www.ccuec.unicamp.br (apolo [143.106.80.3])
	by apolo.ccuec.unicamp.br (Postfix) with SMTP id A900D3339EC
	for <lucene-user@jakarta.apache.org>; Thu, 15 Jul 2004 11:32:23 -0300 (BRT)
Received: from 200.171.230.83
        (SquirrelMail authenticated user daniel)
        by www.ccuec.unicamp.br with HTTP;
        Thu, 15 Jul 2004 11:32:23 -0300 (BRT)
Message-ID: <4437.200.171.230.83.1089901943.squirrel@www.ccuec.unicamp.br>
In-Reply-To: <005001c46a9c$c6b91fc0$8714a8c0@INA098tnat>
References: <40F68383.2040707@ifit.uni-klu.ac.at>
    <005001c46a9c$c6b91fc0$8714a8c0@INA098tnat>
Date: Thu, 15 Jul 2004 11:32:23 -0300 (BRT)
Subject: RE: Searching against Database
From: "Daniel de Souza Teixeira" <daniel@ccuec.unicamp.br>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Reply-To: daniel@ccuec.unicamp.br
User-Agent: SquirrelMail/1.4.2
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

See this document!
http://www.jguru.com/faq/view.jsp?EID=1074229

Regards!
-- 
Daniel

> Hi,
>
> You how to convert RTF file file txt file.
> Any API available?
>
> If u have any sample code pls send it to me.
>
> Regards,
> Natarajan.
>
> -----Original Message-----
> From: Sergiu Gordea [mailto:gsergiu@ifit.uni-klu.ac.at]
> Sent: Thursday, July 15, 2004 2:16 PM
> To: Lucene Users List
> Subject: Re: Searching against Database
>
> This is not a solution in my case,
>
> becasue the permissions of the groups, and the user groups can be
> changed, and it will make managing index to be a nightmare.
>
>   anyway,
>
>   I appreciate the advice, maybe it will be useful for the other  guys
> that asked this question.
>
>    Sergiu
>
> wallen@Cyveillance.com wrote:
>
>>If you know ahead of time which documents are viewable by a certain
> user
>>group you could add a field, such as group, and then when you index the
>>document you put the names of the user groups that are allowed to view
> that
>>document.  Then your query tool can append, for example "AND
>>group:developers" to the user's query.  Then you will not have to merge
>>results.
>>
>>-Will
>>
>>-----Original Message-----
>>From: Sergiu Gordea [mailto:gsergiu@ifit.uni-klu.ac.at]
>>Sent: Thursday, July 15, 2004 2:58 AM
>>To: Lucene Users List
>>Subject: Re: Searching against Database
>>
>>
>>Hi,
>>
>>I have a simillar problem. I'm working on a web application in which
> the
>>users have different permissions.
>>Not all information stored in the index is public for all users.
>>
>>The documents in Index are identified by the same  ID that the  rows
>>have in database tables.
>>
>>I can get the  IDs of the documents that can be accesible by the user,
>>but if this are 1000, what will happen in Lucene?
>>
>> Is this a valid solution? Can anyone provide a better idea?
>>
>> Thanks,
>>
>> Sergiu
>>
>>
>>lingaraju wrote:
>>
>>
>>
>>>Hello
>>>
>>>Even i am searching the same code as all my web display information is
>>>stored  in database.
>>>Early response will be very much helpful
>>>
>>>Thanks and regards
>>>Raju
>>>
>>>----- Original Message -----
>>>From: "Hetan Shah" <Hetan.Shah@Sun.COM>
>>>To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>>>Sent: Thursday, July 15, 2004 5:56 AM
>>>Subject: Searching against Database
>>>
>>>
>>>
>>>
>>>
>>>
>>>>Hello All,
>>>>
>>>>I have got all the answers from this fantastic mailing list. I have
>>>>another question ;)
>>>>
>>>>What is the best way (Best Practices) to integrate Lucene with live
>>>>database, Oracle to be more specific. Any pointers are really very
> much
>>>>appreciated.
>>>>
>>>>thanks guys.
>>>>-H
>>>>
>>>>
>>>>---------------------------------------------------------------------
>>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>>
>>>
>>>
>>>
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9319-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 15:09:00 2004
Return-Path: <lucene-user-return-9319-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80818 invoked from network); 15 Jul 2004 15:08:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 15:08:59 -0000
Received: (qmail 8554 invoked by uid 500); 15 Jul 2004 15:08:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8530 invoked by uid 500); 15 Jul 2004 15:08:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8477 invoked by uid 99); 15 Jul 2004 15:08:50 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=DNS_FROM_RFC_POST,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [194.158.104.45] (HELO relay-6m.club-internet.fr) (194.158.104.45)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 15 Jul 2004 08:08:46 -0700
Received: from Claire (lven2-4-132.n.club-internet.fr [213.44.103.132])
	by relay-6m.club-internet.fr (Postfix) with ESMTP id 2DA9825616
	for <lucene-user@jakarta.apache.org>; Thu, 15 Jul 2004 17:08:41 +0200 (CEST)
From: "Bruno Tirel" <bruno.tirel@club-internet.fr>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Problems indexing Japanese with CJKAnalyzer ... Or French with UTF-8 and MetaData
Date: Thu, 15 Jul 2004 17:07:18 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <01db01c46a6d$5e828c90$aa87a8c0@ppeddi>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Thread-Index: AcRqbWt0V2D7p7rOT4eWBo1UBDbnjwADom+Q
Message-Id: <20040715150841.2DA9825616@relay-6m.club-internet.fr>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I don't think I understand correctly your proposal.
As a basis, I am using Demo3 with indexHTML, HTMLDocument and =
HTMLParser.
Inside HTML parser, I am calling getMetaTags (calling addMetaData) wich
return Properties object. My issue is coming fron this definition :
Properties are stored into ISO-8859-1 encoding, when all my data =
encodings
inside and outside are "UTF-8".
I am not successful in getting UTF-8 values from this =
Parser.GetMetaTags()
through any conversion.
These data are extracted from an HTML page, with UTF-8 encoding declared =
at
the beginning of the file.
I do not see how to call a request.setEncoding("UTF-8") : I need the =
Parser
to have knowledge of UTF-8 encoding... And it doesn't appear when using
Properties object.

Any feedback?

-----Message d'origine-----
De : Praveen Peddi [mailto:ppeddi@contextmedia.com]=20
Envoy=E9 : jeudi 15 juillet 2004 15:12
=C0 : Lucene Users List
Objet : Re: Problems indexing Japanese with CJKAnalyzer

If its a web application, you have to cal request.setEncoding("UTF-8")
before reading any parameters. Also make sure html page encoding is
specified as "UTF-8" in the metatag. most web app servers decode the =
request
paramaters in the system's default encoding algorithm. If u call above
method, I think it will solve ur problem.

Praveen
----- Original Message -----
From: "Bruno Tirel" <bruno.tirel@club-internet.fr>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Thursday, July 15, 2004 6:15 AM
Subject: RE: Problems indexing Japanese with CJKAnalyzer


Hi All,

I am also trying to localize everything for French application, using =
UTF-8
encoding. I have already applied what Jon described. I fully confirm his
recommandation for HTML Parser and HTML Document changes with UNICODE =
and
"UTF-8" encoding specification.

In my case, I have still one case not functional : using meta-data from =
HTML
document, as in demo3 example. Trying to convert to "UTF-8", or
"ISO-8859-1", it is still not correctly encoded when I check with Luke.
A word "Propri=E9t=E9" is seen either as "Propri?t?" with a square, or =
as
"Propri=E3=A9t=E3=A9".
My local codepage is Cp1252, so should be viewed as ISO-8859-1. Same =
result
when I use "local FileEncoding parameter.
All the other fields are correctly encoded into UTF-8, tokenized and
successfully searched through JSP page.

Is anybody already facing this issue? Any help available?
Best regards,

Bruno


-----Message d'origine-----
De : Jon Schuster [mailto:jons@wrq.com]
Envoy=E9 : mercredi 14 juillet 2004 22:51
=C0 : 'Lucene Users List'
Objet : RE: Problems indexing Japanese with CJKAnalyzer

Hi all,

Thanks for the help on indexing Japanese documents. I eventually got =
things
working, and here's an update so that other folks might have an easier =
time
in similar situations.

The problem I had was indeed with the encoding, but it was more than =
just
the encoding on the initial creation of the HTMLParser (from the Lucene =
demo
package). In HTMLDocument, doing this:

InputStreamReader reader =3D new InputStreamReader( new
FileInputStream(f), "SJIS");
HTMLParser parser =3D new HTMLParser( reader );

creates the parser and feeds it Unicode from the original Shift-JIS =
encoding
document, but then when the document contents is fetched using this =
line:

Field fld =3D Field.Text("contents", parser.getReader() );

HTMLParser.getReader creates an InputStreamReader and OutputStreamWriter
using the default encoding, which in my case was Windows 1252 =
(essentially
Latin-1). That was bad.

In the HTMLParser.jj grammar file, adding an explicit encoding of "UTF8" =
on
both the Reader and Writer got things mostly working. The one missing =
piece
was in the "options" section of the HTMLParser.jj file. The original =
grammar
file generates an input character stream class that treats the input as =
a
stream of 1-byte characters. To have JavaCC generate a stream class that
handles double-byte characters, you need the option =
UNICODE_INPUT=3Dtrue.

So, there were essentially three changes in two files:

HTMLParser.jj - add UNICODE_INPUT=3Dtrue to options section; add =
explicit
"UTF8" encoding on Reader and Writer creation in getReader(). As far as =
I
can tell, this changes works fine for all of the languages I need to =
handle,
which are English, French, German, and Japanese.

HTMLDocument - add explicit encoding of "SJIS" when creating the Reader =
used
to create the HTMLParser. (For western languages, I use encoding of
"ISO8859_1".)

And of course, use the right language tokenizer.

--Jon

<earlier responses snipped; see the list archive>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9320-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 15:46:49 2004
Return-Path: <lucene-user-return-9320-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2617 invoked from network); 15 Jul 2004 15:46:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 15:46:48 -0000
Received: (qmail 8198 invoked by uid 500); 15 Jul 2004 15:46:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8091 invoked by uid 500); 15 Jul 2004 15:46:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7847 invoked by uid 99); 15 Jul 2004 15:46:17 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=FROM_ENDS_IN_NUMS,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [216.148.212.185] (HELO w03.bloglines.com) (216.148.212.185)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Thu, 15 Jul 2004 08:46:13 -0700
Received: (qmail 9503 invoked by uid 99); 15 Jul 2004 15:46:08 -0000
Message-ID: <1089906368.452340108.9501.sendItem@bloglines.com>
Date: 15 Jul 2004 15:46:08 -0000
From: yahootintin.1247688@bloglines.com
To: lucene-user@jakarta.apache.org
Subject: Powered By Lucene image?
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Are there any "powered by Lucene" images?  I thought there used to
be some on the site but I can't find them now.  Any help is appreciated!

Thanks.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9321-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 17:11:34 2004
Return-Path: <lucene-user-return-9321-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45324 invoked from network); 15 Jul 2004 17:11:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 17:11:34 -0000
Received: (qmail 87192 invoked by uid 500); 15 Jul 2004 17:11:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87154 invoked by uid 500); 15 Jul 2004 17:11:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87141 invoked by uid 99); 15 Jul 2004 17:11:25 -0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_40_50,HTML_MESSAGE,MSGID_FROM_MTA_HEADER
X-Spam-Check-By: apache.org
Received: from [203.199.83.31] (HELO rediffmail.com) (203.199.83.31)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Thu, 15 Jul 2004 10:11:22 -0700
Received: (qmail 17209 invoked by uid 510); 15 Jul 2004 17:11:17 -0000
Date: 15 Jul 2004 17:11:17 -0000
Message-ID: <20040715171117.17208.qmail@webmail46.rediffmail.com>
Received: from unknown (137.53.21.84) by rediffmail.com via HTTP; 15 jul 2004 17:11:17 -0000
MIME-Version: 1.0
From: "Jones G" <jones.g@rediffmail.com>
Reply-To: "Jones G" <jones.g@rediffmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: RE: Scoring without normalization!
Content-type: multipart/alternative;
	boundary="Next_1089911477---0-203.199.83.31-17202"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--Next_1089911477---0-203.199.83.31-17202
Content-type: text/plain;
	charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Sadly, I am still running into problems=0A=0AExplain shows the following af=
ter the modification.=0A=0ARank: 1     ID: 11285358    Score: 5.5740864E8=
=0A5.5740864E8 =3D product of:=0A  8.3611296E8 =3D sum of:=0A    8.3611296E=
8 =3D product of:=0A      6.6889037E9 =3D weight(title:iron in 1235940), pr=
oduct of:=0A        0.12621856 =3D queryWeight(title:iron), product of:=0A =
         7.0507255 =3D idf(docFreq=3D10816)=0A          0.017901499 =3D que=
ryNorm=0A        5.2994613E10 =3D fieldWeight(title:iron in 1235940), produ=
ct of:=0A          1.0 =3D tf(termFreq(title:iron)=3D1)=0A          7.05072=
55 =3D idf(docFreq=3D10816)=0A          7.5161928E9 =3D fieldNorm(field=3Dt=
itle, doc=3D1235940)=0A      0.125 =3D coord(1/8)=0A    2.7106019E-8 =3D pr=
oduct of:=0A      1.08424075E-7 =3D sum of:=0A        5.7318403E-9 =3D weig=
ht(abstract:an in 1235940), product of:=0A          0.03711049 =3D queryWei=
ght(abstract:an), product of:=0A            2.073038 =3D idf(docFreq=3D1569=
960)=0A            0.017901499 =3D queryNorm=0A          1.5445337E-7 =3D f=
ieldWeight(abstract:an in 1235940), product of:=0A            1.0 =3D tf(te=
rmFreq(abstract:an)=3D1)=0A            2.073038 =3D idf(docFreq=3D1569960)=
=0A            7.4505806E-8 =3D fieldNorm(field=3Dabstract, doc=3D1235940)=
=0A        1.0269223E-7 =3D weight(abstract:iron in 1235940), product of:=
=0A          0.111071706 =3D queryWeight(abstract:iron), product of:=0A    =
        6.2046037 =3D idf(docFreq=3D25209)=0A            0.017901499 =3D qu=
eryNorm=0A          9.24558E-7 =3D fieldWeight(abstract:iron in 1235940), p=
roduct of:=0A            2.0 =3D tf(termFreq(abstract:iron)=3D4)=0A        =
    6.2046037 =3D idf(docFreq=3D25209)=0A            7.4505806E-8 =3D field=
Norm(field=3Dabstract, doc=3D1235940)=0A      0.25 =3D coord(2/8)=0A  0.666=
6667 =3D coord(2/3)=0ARank: 2     ID: 8157438     Score: 2.7870432E8=0A2.78=
70432E8 =3D product of:=0A  8.3611296E8 =3D product of:=0A    6.6889037E9 =
=3D weight(title:iron in 159395), product of:=0A      0.12621856 =3D queryW=
eight(title:iron), product of:=0A        7.0507255 =3D idf(docFreq=3D10816)=
=0A        0.017901499 =3D queryNorm=0A      5.2994613E10 =3D fieldWeight(t=
itle:iron in 159395), product of:=0A        1.0 =3D tf(termFreq(title:iron)=
=3D1)=0A        7.0507255 =3D idf(docFreq=3D10816)=0A        7.5161928E9 =
=3D fieldNorm(field=3Dtitle, doc=3D159395)=0A    0.125 =3D coord(1/8)=0A  0=
.33333334 =3D coord(1/3)=0ARank: 3     ID: 10543103    Score: 2.7870432E8=
=0A2.7870432E8 =3D product of:=0A  8.3611296E8 =3D product of:=0A    6.6889=
037E9 =3D weight(title:iron in 553967), product of:=0A      0.12621856 =3D =
queryWeight(title:iron), product of:=0A        7.0507255 =3D idf(docFreq=3D=
10816)=0A        0.017901499 =3D queryNorm=0A      5.2994613E10 =3D fieldWe=
ight(title:iron in 553967), product of:=0A        1.0 =3D tf(termFreq(title=
:iron)=3D1)=0A        7.0507255 =3D idf(docFreq=3D10816)=0A        7.516192=
8E9 =3D fieldNorm(field=3Dtitle, doc=3D553967)=0A    0.125 =3D coord(1/8)=
=0A  0.33333334 =3D coord(1/3)=0ARank: 4     ID: 8753559     Score: 2.78704=
32E8=0A2.7870432E8 =3D product of:=0A  8.3611296E8 =3D product of:=0A    6.=
6889037E9 =3D weight(title:iron in 2563152), product of:=0A      0.12621856=
 =3D queryWeight(title:iron), product of:=0A        7.0507255 =3D idf(docFr=
eq=3D10816)=0A        0.017901499 =3D queryNorm=0A      5.2994613E10 =3D fi=
eldWeight(title:iron in 2563152), product of:=0A        1.0 =3D tf(termFreq=
(title:iron)=3D1)=0A        7.0507255 =3D idf(docFreq=3D10816)=0A        7.=
5161928E9 =3D fieldNorm(field=3Dtitle, doc=3D2563152)=0A    0.125 =3D coord=
(1/8)=0A  0.33333334 =3D coord(1/3)=0A=0AI would like to get rid of all nor=
malizations and just have TF and IDF.=0AWhat am I missing?=0A=0A=0AOn Thu, =
15 Jul 2004 Anson Lau wrote :=0A>If you don't mind hacking the source:=0A>=
=0A>In Hits.java=0A>=0A>In method "getMoreDocs()"=0A>=0A>=0A>=0A>     // Co=
mment out the following=0A>     //float scoreNorm =3D 1.0f;=0A>     //if (l=
ength > 0 && scoreDocs[0].score > 1.0f) {=0A>     //  scoreNorm =3D 1.0f / =
scoreDocs[0].score;=0A>     //}=0A>=0A>     // And just set scoreNorm to 1.=
=0A>     int scoreNorm =3D 1;=0A>=0A>=0A>I don't know if u can do it withou=
t going to the src.=0A>=0A>Anson=0A>=0A>=0A>-----Original Message-----=0A> =
From: Jones G [mailto:jones.g@rediffmail.com]=0A>Sent: Thursday, July 15, 2=
004 6:52 AM=0A>To: lucene-user@jakarta.apache.org=0A>Subject: Scoring witho=
ut normalization!=0A>=0A>How do I remove document normalization from scorin=
g in Lucene? I just want=0A>to stick to TF IDF.=0A>=0A>Thanks.=0A>=0A>=0A>-=
--------------------------------------------------------------------=0A>To =
unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org=0A>For addi=
tional commands, e-mail: lucene-user-help@jakarta.apache.org=0A>=0A
--Next_1089911477---0-203.199.83.31-17202--


From lucene-user-return-9322-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 17:20:27 2004
Return-Path: <lucene-user-return-9322-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49696 invoked from network); 15 Jul 2004 17:20:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 17:20:26 -0000
Received: (qmail 7251 invoked by uid 500); 15 Jul 2004 17:20:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7208 invoked by uid 500); 15 Jul 2004 17:20:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7185 invoked by uid 99); 15 Jul 2004 17:20:13 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 15 Jul 2004 10:20:11 -0700
Received: (qmail 11899 invoked by uid 89); 15 Jul 2004 17:20:09 -0000
Received: from unknown (HELO ?192.168.168.81?) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 15 Jul 2004 17:20:09 -0000
Message-ID: <40F6BCB7.8070409@apache.org>
Date: Thu, 15 Jul 2004 10:19:51 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040619
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Scoring without normalization!
References: <20040715171117.17208.qmail@webmail46.rediffmail.com>
In-Reply-To: <20040715171117.17208.qmail@webmail46.rediffmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Have you looked at:

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/Similarity.html

in particular, at:

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/Similarity.html#lengthNorm(java.lang.String,%20int)
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/Similarity.html#queryNorm(float)

Doug

Jones G wrote:
> Sadly, I am still running into problems
> 
> Explain shows the following after the modification.
> 
> Rank: 1     ID: 11285358    Score: 5.5740864E8
> 5.5740864E8 = product of:
>   8.3611296E8 = sum of:
>     8.3611296E8 = product of:
>       6.6889037E9 = weight(title:iron in 1235940), product of:
>         0.12621856 = queryWeight(title:iron), product of:
>           7.0507255 = idf(docFreq=10816)
>           0.017901499 = queryNorm
>         5.2994613E10 = fieldWeight(title:iron in 1235940), product of:
>           1.0 = tf(termFreq(title:iron)=1)
>           7.0507255 = idf(docFreq=10816)
>           7.5161928E9 = fieldNorm(field=title, doc=1235940)
>       0.125 = coord(1/8)
>     2.7106019E-8 = product of:
>       1.08424075E-7 = sum of:
>         5.7318403E-9 = weight(abstract:an in 1235940), product of:
>           0.03711049 = queryWeight(abstract:an), product of:
>             2.073038 = idf(docFreq=1569960)
>             0.017901499 = queryNorm
>           1.5445337E-7 = fieldWeight(abstract:an in 1235940), product of:
>             1.0 = tf(termFreq(abstract:an)=1)
>             2.073038 = idf(docFreq=1569960)
>             7.4505806E-8 = fieldNorm(field=abstract, doc=1235940)
>         1.0269223E-7 = weight(abstract:iron in 1235940), product of:
>           0.111071706 = queryWeight(abstract:iron), product of:
>             6.2046037 = idf(docFreq=25209)
>             0.017901499 = queryNorm
>           9.24558E-7 = fieldWeight(abstract:iron in 1235940), product of:
>             2.0 = tf(termFreq(abstract:iron)=4)
>             6.2046037 = idf(docFreq=25209)
>             7.4505806E-8 = fieldNorm(field=abstract, doc=1235940)
>       0.25 = coord(2/8)
>   0.6666667 = coord(2/3)
> Rank: 2     ID: 8157438     Score: 2.7870432E8
> 2.7870432E8 = product of:
>   8.3611296E8 = product of:
>     6.6889037E9 = weight(title:iron in 159395), product of:
>       0.12621856 = queryWeight(title:iron), product of:
>         7.0507255 = idf(docFreq=10816)
>         0.017901499 = queryNorm
>       5.2994613E10 = fieldWeight(title:iron in 159395), product of:
>         1.0 = tf(termFreq(title:iron)=1)
>         7.0507255 = idf(docFreq=10816)
>         7.5161928E9 = fieldNorm(field=title, doc=159395)
>     0.125 = coord(1/8)
>   0.33333334 = coord(1/3)
> Rank: 3     ID: 10543103    Score: 2.7870432E8
> 2.7870432E8 = product of:
>   8.3611296E8 = product of:
>     6.6889037E9 = weight(title:iron in 553967), product of:
>       0.12621856 = queryWeight(title:iron), product of:
>         7.0507255 = idf(docFreq=10816)
>         0.017901499 = queryNorm
>       5.2994613E10 = fieldWeight(title:iron in 553967), product of:
>         1.0 = tf(termFreq(title:iron)=1)
>         7.0507255 = idf(docFreq=10816)
>         7.5161928E9 = fieldNorm(field=title, doc=553967)
>     0.125 = coord(1/8)
>   0.33333334 = coord(1/3)
> Rank: 4     ID: 8753559     Score: 2.7870432E8
> 2.7870432E8 = product of:
>   8.3611296E8 = product of:
>     6.6889037E9 = weight(title:iron in 2563152), product of:
>       0.12621856 = queryWeight(title:iron), product of:
>         7.0507255 = idf(docFreq=10816)
>         0.017901499 = queryNorm
>       5.2994613E10 = fieldWeight(title:iron in 2563152), product of:
>         1.0 = tf(termFreq(title:iron)=1)
>         7.0507255 = idf(docFreq=10816)
>         7.5161928E9 = fieldNorm(field=title, doc=2563152)
>     0.125 = coord(1/8)
>   0.33333334 = coord(1/3)
> 
> I would like to get rid of all normalizations and just have TF and IDF.
> What am I missing?
> 
> 
> On Thu, 15 Jul 2004 Anson Lau wrote :
> 
>>If you don't mind hacking the source:
>>
>>In Hits.java
>>
>>In method "getMoreDocs()"
>>
>>
>>
>>    // Comment out the following
>>    //float scoreNorm = 1.0f;
>>    //if (length > 0 && scoreDocs[0].score > 1.0f) {
>>    //  scoreNorm = 1.0f / scoreDocs[0].score;
>>    //}
>>
>>    // And just set scoreNorm to 1.
>>    int scoreNorm = 1;
>>
>>
>>I don't know if u can do it without going to the src.
>>
>>Anson
>>
>>
>>-----Original Message-----
>>From: Jones G [mailto:jones.g@rediffmail.com]
>>Sent: Thursday, July 15, 2004 6:52 AM
>>To: lucene-user@jakarta.apache.org
>>Subject: Scoring without normalization!
>>
>>How do I remove document normalization from scoring in Lucene? I just want
>>to stick to TF IDF.
>>
>>Thanks.
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9323-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 17:47:03 2004
Return-Path: <lucene-user-return-9323-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63671 invoked from network); 15 Jul 2004 17:47:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 17:47:03 -0000
Received: (qmail 59706 invoked by uid 500); 15 Jul 2004 17:46:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59585 invoked by uid 500); 15 Jul 2004 17:46:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59507 invoked by uid 99); 15 Jul 2004 17:46:52 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [192.18.42.13] (HELO nwkea-mail-1.sun.com) (192.18.42.13)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 15 Jul 2004 10:46:48 -0700
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by nwkea-mail-1.sun.com (8.12.10/8.12.9) with ESMTP id i6FHklJ6004998
	for <lucene-user@jakarta.apache.org>; Thu, 15 Jul 2004 10:46:47 -0700 (PDT)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0I0W00201MMVM9@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Thu, 15 Jul 2004 10:46:47 -0700 (PDT)
Received: from Sun.COM (sr1-usjc07-03.SFBay.Sun.COM [129.145.21.58])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0I0W008H1MPYHI@ha21sca-mail1.sfbay.sun.com> for
 lucene-user@jakarta.apache.org; Thu, 15 Jul 2004 10:46:47 -0700 (PDT)
Date: Thu, 15 Jul 2004 10:46:46 -0700
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Re: Searching against Database
In-reply-to: 
 <E65AE9703B683F4C81B5B39C692EB26D1B02B7@mercury.corp.cyveillance.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Reply-to: Hetan.Shah@Sun.COM
Message-id: <40F6C306.4080904@Sun.COM>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.4) Gecko/20040414
References: 
 <E65AE9703B683F4C81B5B39C692EB26D1B02B7@mercury.corp.cyveillance.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

It seems to me that the solutions offered are based on the documents 
already existing in the database. My scenario is a little more complex 
then that. In my application the documents get generated dynamically and 
I search for various fields across various tables.

How do I start this task? Has anyone done anything like this before?

thanks.
-H

wallen@Cyveillance.com wrote:



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9324-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 18:43:31 2004
Return-Path: <lucene-user-return-9324-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96285 invoked from network); 15 Jul 2004 18:43:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 18:43:31 -0000
Received: (qmail 65054 invoked by uid 500); 15 Jul 2004 18:43:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65028 invoked by uid 500); 15 Jul 2004 18:43:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64999 invoked by uid 99); 15 Jul 2004 18:43:24 -0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_40_50,HTML_MESSAGE,MSGID_FROM_MTA_HEADER
X-Spam-Check-By: apache.org
Received: from [203.199.83.27] (HELO rediffmail.com) (203.199.83.27)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Thu, 15 Jul 2004 11:43:23 -0700
Received: (qmail 12939 invoked by uid 510); 15 Jul 2004 18:43:18 -0000
Date: 15 Jul 2004 18:43:18 -0000
Message-ID: <20040715184318.12938.qmail@webmail17.rediffmail.com>
Received: from unknown (137.53.21.84) by rediffmail.com via HTTP; 15 jul 2004 18:43:18 -0000
MIME-Version: 1.0
From: "Jones G" <jones.g@rediffmail.com>
Reply-To: "Jones G" <jones.g@rediffmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Re: Scoring without normalization!
Content-type: multipart/alternative;
	boundary="Next_1089916998---0-203.199.83.27-12930"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--Next_1089916998---0-203.199.83.27-12930
Content-type: text/plain;
	charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Thanks. I tried overriding Similarity, returning 1 in lengthNorm and queryN=
orm and setSimilarity on IndexSearcher with this.=0A=0AQuery: 1 Found: 1540=
632=0ARank: 1	ID: 8157438	Score: 0.99999994=0A3.73650457E11 =3D weight(titl=
e:iron in 159395), product of:=0A  7.0507255 =3D queryWeight(title:iron), p=
roduct of:=0A    7.0507255 =3D idf(docFreq=3D10816)=0A    1.0 =3D queryNorm=
=0A  5.2994613E10 =3D fieldWeight(title:iron in 159395), product of:=0A    =
1.0 =3D tf(termFreq(title:iron)=3D1)=0A    7.0507255 =3D idf(docFreq=3D1081=
6)=0A    7.5161928E9 =3D fieldNorm(field=3Dtitle, doc=3D159395)=0A=0AHow do=
 I get rid of QueryWeight, fieldWeight, fieldNorm from the scoring?=0A=0AI =
tried modifying TermQuery without much luck.=0A=0A=0AOn Thu, 15 Jul 2004 Do=
ug Cutting wrote :=0A>Have you looked at:=0A>=0A>http://jakarta.apache.org/=
lucene/docs/api/org/apache/lucene/search/Similarity.html=0A>=0A>in particul=
ar, at:=0A>=0A>http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/=
search/Similarity.html#lengthNorm(java.lang.String,%20int)=0A>http://jakart=
a.apache.org/lucene/docs/api/org/apache/lucene/search/Similarity.html#query=
Norm(float)=0A>=0A>Doug=0A>=0A>Jones G wrote:=0A>>Sadly, I am still running=
 into problems=0A>>=0A>>Explain shows the following after the modification.=
=0A>>=0A>>Rank: 1     ID: 11285358    Score: 5.5740864E8=0A>>5.5740864E8 =
=3D product of:=0A>>   8.3611296E8 =3D sum of:=0A>>     8.3611296E8 =3D pro=
duct of:=0A>>       6.6889037E9 =3D weight(title:iron in 1235940), product =
of:=0A>>         0.12621856 =3D queryWeight(title:iron), product of:=0A>>  =
         7.0507255 =3D idf(docFreq=3D10816)=0A>>           0.017901499 =3D =
queryNorm=0A>>         5.2994613E10 =3D fieldWeight(title:iron in 1235940),=
 product of:=0A>>           1.0 =3D tf(termFreq(title:iron)=3D1)=0A>>      =
     7.0507255 =3D idf(docFreq=3D10816)=0A>>           7.5161928E9 =3D fiel=
dNorm(field=3Dtitle, doc=3D1235940)=0A>>       0.125 =3D coord(1/8)=0A>>   =
  2.7106019E-8 =3D product of:=0A>>       1.08424075E-7 =3D sum of:=0A>>   =
      5.7318403E-9 =3D weight(abstract:an in 1235940), product of:=0A>>    =
       0.03711049 =3D queryWeight(abstract:an), product of:=0A>>           =
  2.073038 =3D idf(docFreq=3D1569960)=0A>>             0.017901499 =3D quer=
yNorm=0A>>           1.5445337E-7 =3D fieldWeight(abstract:an in 1235940), =
product of:=0A>>             1.0 =3D tf(termFreq(abstract:an)=3D1)=0A>>    =
         2.073038 =3D idf(docFreq=3D1569960)=0A>>             7.4505806E-8 =
=3D fieldNorm(field=3Dabstract, doc=3D1235940)=0A>>         1.0269223E-7 =
=3D weight(abstract:iron in 1235940), product of:=0A>>           0.11107170=
6 =3D queryWeight(abstract:iron), product of:=0A>>             6.2046037 =
=3D idf(docFreq=3D25209)=0A>>             0.017901499 =3D queryNorm=0A>>   =
        9.24558E-7 =3D fieldWeight(abstract:iron in 1235940), product of:=
=0A>>             2.0 =3D tf(termFreq(abstract:iron)=3D4)=0A>>             =
6.2046037 =3D idf(docFreq=3D25209)=0A>>             7.4505806E-8 =3D fieldN=
orm(field=3Dabstract, doc=3D1235940)=0A>>       0.25 =3D coord(2/8)=0A>>   =
0.6666667 =3D coord(2/3)=0A>>Rank: 2     ID: 8157438     Score: 2.7870432E8=
=0A>>2.7870432E8 =3D product of:=0A>>   8.3611296E8 =3D product of:=0A>>   =
  6.6889037E9 =3D weight(title:iron in 159395), product of:=0A>>       0.12=
621856 =3D queryWeight(title:iron), product of:=0A>>         7.0507255 =3D =
idf(docFreq=3D10816)=0A>>         0.017901499 =3D queryNorm=0A>>       5.29=
94613E10 =3D fieldWeight(title:iron in 159395), product of:=0A>>         1.=
0 =3D tf(termFreq(title:iron)=3D1)=0A>>         7.0507255 =3D idf(docFreq=
=3D10816)=0A>>         7.5161928E9 =3D fieldNorm(field=3Dtitle, doc=3D15939=
5)=0A>>     0.125 =3D coord(1/8)=0A>>   0.33333334 =3D coord(1/3)=0A>>Rank:=
 3     ID: 10543103    Score: 2.7870432E8=0A>>2.7870432E8 =3D product of:=
=0A>>   8.3611296E8 =3D product of:=0A>>     6.6889037E9 =3D weight(title:i=
ron in 553967), product of:=0A>>       0.12621856 =3D queryWeight(title:iro=
n), product of:=0A>>         7.0507255 =3D idf(docFreq=3D10816)=0A>>       =
  0.017901499 =3D queryNorm=0A>>       5.2994613E10 =3D fieldWeight(title:i=
ron in 553967), product of:=0A>>         1.0 =3D tf(termFreq(title:iron)=3D=
1)=0A>>         7.0507255 =3D idf(docFreq=3D10816)=0A>>         7.5161928E9=
 =3D fieldNorm(field=3Dtitle, doc=3D553967)=0A>>     0.125 =3D coord(1/8)=
=0A>>   0.33333334 =3D coord(1/3)=0A>>Rank: 4     ID: 8753559     Score: 2.=
7870432E8=0A>>2.7870432E8 =3D product of:=0A>>   8.3611296E8 =3D product of=
:=0A>>     6.6889037E9 =3D weight(title:iron in 2563152), product of:=0A>> =
      0.12621856 =3D queryWeight(title:iron), product of:=0A>>         7.05=
07255 =3D idf(docFreq=3D10816)=0A>>         0.017901499 =3D queryNorm=0A>> =
      5.2994613E10 =3D fieldWeight(title:iron in 2563152), product of:=0A>>=
         1.0 =3D tf(termFreq(title:iron)=3D1)=0A>>         7.0507255 =3D id=
f(docFreq=3D10816)=0A>>         7.5161928E9 =3D fieldNorm(field=3Dtitle, do=
c=3D2563152)=0A>>     0.125 =3D coord(1/8)=0A>>   0.33333334 =3D coord(1/3)=
=0A>>=0A>>I would like to get rid of all normalizations and just have TF an=
d IDF.=0A>>What am I missing?=0A>>=0A>>=0A>>On Thu, 15 Jul 2004 Anson Lau w=
rote :=0A>>=0A>>>If you don't mind hacking the source:=0A>>>=0A>>>In Hits.j=
ava=0A>>>=0A>>>In method "getMoreDocs()"=0A>>>=0A>>>=0A>>>=0A>>>    // Comm=
ent out the following=0A>>>    //float scoreNorm =3D 1.0f;=0A>>>    //if (l=
ength > 0 && scoreDocs[0].score > 1.0f) {=0A>>>    //  scoreNorm =3D 1.0f /=
 scoreDocs[0].score;=0A>>>    //}=0A>>>=0A>>>    // And just set scoreNorm =
to 1.=0A>>>    int scoreNorm =3D 1;=0A>>>=0A>>>=0A>>>I don't know if u can =
do it without going to the src.=0A>>>=0A>>>Anson=0A>>>=0A>>>=0A>>>-----Orig=
inal Message-----=0A>>> From: Jones G [mailto:jones.g@rediffmail.com]=0A>>>=
Sent: Thursday, July 15, 2004 6:52 AM=0A>>>To: lucene-user@jakarta.apache.o=
rg=0A>>>Subject: Scoring without normalization!=0A>>>=0A>>>How do I remove =
document normalization from scoring in Lucene? I just want=0A>>>to stick to=
 TF IDF.=0A>>>=0A>>>Thanks.=0A>>>=0A>>>=0A>>>------------------------------=
---------------------------------------=0A>>>To unsubscribe, e-mail: lucene=
-user-unsubscribe@jakarta.apache.org=0A>>>For additional commands, e-mail: =
lucene-user-help@jakarta.apache.org=0A>>>=0A>>=0A>>=0A>=0A>----------------=
-----------------------------------------------------=0A>To unsubscribe, e-=
mail: lucene-user-unsubscribe@jakarta.apache.org=0A>For additional commands=
, e-mail: lucene-user-help@jakarta.apache.org=0A>=0A
--Next_1089916998---0-203.199.83.27-12930--


From lucene-user-return-9325-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 18:53:48 2004
Return-Path: <lucene-user-return-9325-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2292 invoked from network); 15 Jul 2004 18:53:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 18:53:48 -0000
Received: (qmail 82566 invoked by uid 500); 15 Jul 2004 18:53:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82436 invoked by uid 500); 15 Jul 2004 18:53:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82423 invoked by uid 99); 15 Jul 2004 18:53:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.119.243.168] (HELO mail.cs.umass.edu) (128.119.243.168)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 15 Jul 2004 11:53:35 -0700
Received: from loki.cs.umass.edu (IDENT:TmQLKAHYQDRlOC69O8YJERPj70MqaEZP@localhost [127.0.0.1])
	by mail.cs.umass.edu (8.12.11/8.12.5) with ESMTP id i6FIrTZt007740
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT)
	for <lucene-user@jakarta.apache.org>; Thu, 15 Jul 2004 14:53:30 -0400
Received: from localhost (jlewis@localhost)
	by loki.cs.umass.edu (8.12.11/8.12.5/Submit) with ESMTP id i6FIrT5T007737
	for <lucene-user@jakarta.apache.org>; Thu, 15 Jul 2004 14:53:29 -0400
Date: Thu, 15 Jul 2004 14:53:29 -0400 (EDT)
From: Joshua Lewis <jlewis@cs.umass.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Re: Scoring without normalization!
In-Reply-To: <20040715184318.12938.qmail@webmail17.rediffmail.com>
Message-ID: <Pine.LNX.4.44.0407151448020.10215-100000@loki.cs.umass.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi,

Note that as 
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/Similarity.html#lengthNorm(java.lang.String,%20int)
points out:

"[T]hese values are computed under IndexWriter.addDocument(Document)  and
stored then using {#encodeNorm(float)}. Thus they have limited precision,
and documents must be re-indexed if this method is altered."

So you can't get rid of fieldNorm at search time, as it is stored for each
Field in the index itself; you have to reindex with a new Similarity that
returns 1 in lengthNorm using IndexWriter.setSimilarity(Similarity s).

If you want to stick to tf-idf, then you can override coord, queryNorm,
and lengthNorm, but again, lengthNorm can only be overriden at index time.

Alternately, as Anson suggested below, you can hack the source for the 
Hits class to ignore the fieldNorm stored in the index.

Hope this helps,

Josh

On 15 Jul 2004, Jones G wrote:

> Thanks. I tried overriding Similarity, returning 1 in lengthNorm and
> queryNorm and setSimilarity on IndexSearcher with this.

Query: 1 Found: 1540632
Rank: 1	ID: 8157438	Score: 0.99999994
3.73650457E11 = weight(title:iron in 159395), product of:
  7.0507255 = queryWeight(title:iron), product of:
    7.0507255 = idf(docFreq=10816)
    1.0 = queryNorm
  5.2994613E10 = fieldWeight(title:iron in 159395), product of:
    1.0 = tf(termFreq(title:iron)=1)
    7.0507255 = idf(docFreq=10816)
    7.5161928E9 = fieldNorm(field=title, doc=159395)

How do I get rid of QueryWeight, fieldWeight, fieldNorm from the scoring?

I tried modifying TermQuery without much luck.


On Thu, 15 Jul 2004 Doug Cutting wrote :
>Have you looked at:
>
>http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/Similarity.html
>
>in particular, at:
>
>http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/Similarity.html#lengthNorm(java.lang.String,%20int)
>http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/Similarity.html#queryNorm(float)
>
>Doug
>
>Jones G wrote:
>>Sadly, I am still running into problems
>>
>>Explain shows the following after the modification.
>>
>>Rank: 1     ID: 11285358    Score: 5.5740864E8
>>5.5740864E8 = product of:
>>   8.3611296E8 = sum of:
>>     8.3611296E8 = product of:
>>       6.6889037E9 = weight(title:iron in 1235940), product of:
>>         0.12621856 = queryWeight(title:iron), product of:
>>           7.0507255 = idf(docFreq=10816)
>>           0.017901499 = queryNorm
>>         5.2994613E10 = fieldWeight(title:iron in 1235940), product of:
>>           1.0 = tf(termFreq(title:iron)=1)
>>           7.0507255 = idf(docFreq=10816)
>>           7.5161928E9 = fieldNorm(field=title, doc=1235940)
>>       0.125 = coord(1/8)
>>     2.7106019E-8 = product of:
>>       1.08424075E-7 = sum of:
>>         5.7318403E-9 = weight(abstract:an in 1235940), product of:
>>           0.03711049 = queryWeight(abstract:an), product of:
>>             2.073038 = idf(docFreq=1569960)
>>             0.017901499 = queryNorm
>>           1.5445337E-7 = fieldWeight(abstract:an in 1235940), product of:
>>             1.0 = tf(termFreq(abstract:an)=1)
>>             2.073038 = idf(docFreq=1569960)
>>             7.4505806E-8 = fieldNorm(field=abstract, doc=1235940)
>>         1.0269223E-7 = weight(abstract:iron in 1235940), product of:
>>           0.111071706 = queryWeight(abstract:iron), product of:
>>             6.2046037 = idf(docFreq=25209)
>>             0.017901499 = queryNorm
>>           9.24558E-7 = fieldWeight(abstract:iron in 1235940), product of:
>>             2.0 = tf(termFreq(abstract:iron)=4)
>>             6.2046037 = idf(docFreq=25209)
>>             7.4505806E-8 = fieldNorm(field=abstract, doc=1235940)
>>       0.25 = coord(2/8)
>>   0.6666667 = coord(2/3)
>>Rank: 2     ID: 8157438     Score: 2.7870432E8
>>2.7870432E8 = product of:
>>   8.3611296E8 = product of:
>>     6.6889037E9 = weight(title:iron in 159395), product of:
>>       0.12621856 = queryWeight(title:iron), product of:
>>         7.0507255 = idf(docFreq=10816)
>>         0.017901499 = queryNorm
>>       5.2994613E10 = fieldWeight(title:iron in 159395), product of:
>>         1.0 = tf(termFreq(title:iron)=1)
>>         7.0507255 = idf(docFreq=10816)
>>         7.5161928E9 = fieldNorm(field=title, doc=159395)
>>     0.125 = coord(1/8)
>>   0.33333334 = coord(1/3)
>>Rank: 3     ID: 10543103    Score: 2.7870432E8
>>2.7870432E8 = product of:
>>   8.3611296E8 = product of:
>>     6.6889037E9 = weight(title:iron in 553967), product of:
>>       0.12621856 = queryWeight(title:iron), product of:
>>         7.0507255 = idf(docFreq=10816)
>>         0.017901499 = queryNorm
>>       5.2994613E10 = fieldWeight(title:iron in 553967), product of:
>>         1.0 = tf(termFreq(title:iron)=1)
>>         7.0507255 = idf(docFreq=10816)
>>         7.5161928E9 = fieldNorm(field=title, doc=553967)
>>     0.125 = coord(1/8)
>>   0.33333334 = coord(1/3)
>>Rank: 4     ID: 8753559     Score: 2.7870432E8
>>2.7870432E8 = product of:
>>   8.3611296E8 = product of:
>>     6.6889037E9 = weight(title:iron in 2563152), product of:
>>       0.12621856 = queryWeight(title:iron), product of:
>>         7.0507255 = idf(docFreq=10816)
>>         0.017901499 = queryNorm
>>       5.2994613E10 = fieldWeight(title:iron in 2563152), product of:
>>         1.0 = tf(termFreq(title:iron)=1)
>>         7.0507255 = idf(docFreq=10816)
>>         7.5161928E9 = fieldNorm(field=title, doc=2563152)
>>     0.125 = coord(1/8)
>>   0.33333334 = coord(1/3)
>>
>>I would like to get rid of all normalizations and just have TF and IDF.
>>What am I missing?
>>
>>
>>On Thu, 15 Jul 2004 Anson Lau wrote :
>>
>>>If you don't mind hacking the source:
>>>
>>>In Hits.java
>>>
>>>In method "getMoreDocs()"
>>>
>>>
>>>
>>>    // Comment out the following
>>>    //float scoreNorm = 1.0f;
>>>    //if (length > 0 && scoreDocs[0].score > 1.0f) {
>>>    //  scoreNorm = 1.0f / scoreDocs[0].score;
>>>    //}
>>>
>>>    // And just set scoreNorm to 1.
>>>    int scoreNorm = 1;
>>>
>>>
>>>I don't know if u can do it without going to the src.
>>>
>>>Anson
>>>
>>>
>>>-----Original Message-----
>>> From: Jones G [mailto:jones.g@rediffmail.com]
>>>Sent: Thursday, July 15, 2004 6:52 AM
>>>To: lucene-user@jakarta.apache.org
>>>Subject: Scoring without normalization!
>>>
>>>How do I remove document normalization from scoring in Lucene? I just want
>>>to stick to TF IDF.
>>>
>>>Thanks.
>>>
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>
>>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9326-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 19:19:10 2004
Return-Path: <lucene-user-return-9326-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21831 invoked from network); 15 Jul 2004 19:19:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 19:19:10 -0000
Received: (qmail 46275 invoked by uid 500); 15 Jul 2004 19:18:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46212 invoked by uid 500); 15 Jul 2004 19:18:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46142 invoked by uid 99); 15 Jul 2004 19:18:49 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received: from [213.56.31.19] (HELO smtp3.clb.oleane.net) (213.56.31.19)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 15 Jul 2004 12:18:45 -0700
Received: from smtp3.clb.oleane.net (localhost [127.0.0.1]) 
	by smtp3.clb.oleane.net (antivirus) with ESMTP id i6FJIcl2024734
	for <lucene-user@jakarta.apache.org>; Thu, 15 Jul 2004 21:18:38 +0200
Received: from oleane.com (cust1.clb.oleane.net [213.56.31.97]) (authenticated)
	by smtp3.clb.oleane.net with ESMTP id i6FJIbEX024727
	for <lucene-user@jakarta.apache.org>; Thu, 15 Jul 2004 21:18:38 +0200
Date: Thu, 15 Jul 2004 21:18:37 +0200
Message-Id: <I0WQZ1$D6016B65A2F3745E3B5A6D5C5592268B@oleane.com>
Subject: =?iso-8859-1?Q?Re:_release_&_migration_plan?=
MIME-Version: 1.0
X-Sensitivity: 3
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
From: "=?iso-8859-1?Q?fp235-5?=" <julien.nioche@lingway.com>
To: "=?iso-8859-1?Q?lucene-user?=" <lucene-user@jakarta.apache.org>
X-XaM3-API-Version: 3.2 R32 (B53pl7)
X-type: 0
X-SenderIP: 62.39.230.159
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am looking at the code to implement setIndexInterval() in IndexWriter. =
I'd=0D=0Alike to have your opinion on the best way to do it.=0D=0A=0D=0AC=
urrently the creation of an instance of TermInfosWriter requires the foll=
owing=0D=0Asteps:=0D=0A...=0D=0AIndexWriter.addDocument(Document)=0D=0AIn=
dexWriter.addDocument(Document, Analyser)=0D=0ADocumentWriter.addDocument=
(String, Document)=0D=0ADocumentWriter.writePostings(Posting[],String)=0D=
=0ATermInfosWriter.<init>=0D=0A=0D=0ATo give a different value to indexIn=
terval in TermInfosWriter, we need to add a=0D=0Avariable holding this va=
lue into IndexWriter and DocumentWriter and modify the=0D=0Aconstructors =
for DocumentWriter and TermInfosWriter. (quite heavy changes)=0D=0A=0D=0A=
Another option is to use a static variable in IndexWriter or TermInfosWri=
ter and=0D=0A access it directly.(quite dirty programming)=0D=0A=0D=0AWha=
t would be the best solution for you? Is there another one?=0D=0A=0D=0AAl=
so what would be the effect of changing this value between the indexation=
 of=0D=0Atwo documents? (harmless ???)=0D=0A=0D=0AJulien 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9327-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 20:20:38 2004
Return-Path: <lucene-user-return-9327-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64746 invoked from network); 15 Jul 2004 20:20:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 20:20:38 -0000
Received: (qmail 75149 invoked by uid 500); 15 Jul 2004 20:20:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75075 invoked by uid 500); 15 Jul 2004 20:20:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75062 invoked by uid 99); 15 Jul 2004 20:20:32 -0000
X-ASF-Spam-Status: No, hits=-0.1 required=10.0
	tests=ALL_TRUSTED
X-Spam-Check-By: apache.org
Received: from [209.237.232.202] (HELO ia00524.archive.org) (209.237.232.202)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 15 Jul 2004 13:20:30 -0700
Received: (qmail 10677 invoked by uid 100); 15 Jul 2004 20:11:26 -0000
Received: from b116-dyn-60.archive.org (HELO ?209.237.240.60?) (florian@archive.org@209.237.240.60)
  by mail-dev.archive.org with SMTP; 15 Jul 2004 20:11:26 -0000
Mime-Version: 1.0 (Apple Message framework v618)
Content-Transfer-Encoding: 7bit
Message-Id: <67BC1BB9-D69C-11D8-8BEE-000A95CCA058@archive.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: lucene-user <lucene-user@jakarta.apache.org>
From: Florian Sauvin <florian@archive.org>
Subject: Token or not Token, PerFieldAnalyzer
Date: Thu, 15 Jul 2004 13:20:25 -0700
X-Mailer: Apple Mail (2.618)
X-Spam-DCC: : 
X-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on ia00524.archive.org
X-Spam-Level: 
X-Spam-Status: No, hits=0.1 required=6.0 tests=AWL autolearn=ham version=2.63
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

When indexing a field, we have the choice of tokenizing it or not. I
have a custom analyzer that contains a tokenizer... does it mean that
if the boolean token is set to false, the analyzer is not applied on
the field content?

Everywhere in the documentation (and it seems logical) you say to use
the same analyzer for indexing and querying... how is this handled on
not tokenized fields?

In my case, I have certain fields on which I want the tokenization and
anlysis and everything to happen... but on other fields, I just want to
index the content as it is (no alterations at all) and not analyze at
query time... is that possible?

--

Florian


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9328-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 20:54:31 2004
Return-Path: <lucene-user-return-9328-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82003 invoked from network); 15 Jul 2004 20:54:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 20:54:31 -0000
Received: (qmail 34756 invoked by uid 500); 15 Jul 2004 20:54:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34663 invoked by uid 500); 15 Jul 2004 20:54:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34637 invoked by uid 99); 15 Jul 2004 20:54:23 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 15 Jul 2004 13:54:19 -0700
Received: (qmail 46764 invoked by uid 89); 15 Jul 2004 20:54:18 -0000
Received: from unknown (HELO ?192.168.168.81?) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 15 Jul 2004 20:54:18 -0000
Message-ID: <40F6EEE8.7030004@apache.org>
Date: Thu, 15 Jul 2004 13:54:00 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040619
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Token or not Token, PerFieldAnalyzer
References: <67BC1BB9-D69C-11D8-8BEE-000A95CCA058@archive.org>
In-Reply-To: <67BC1BB9-D69C-11D8-8BEE-000A95CCA058@archive.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Florian Sauvin wrote:
> Everywhere in the documentation (and it seems logical) you say to use
> the same analyzer for indexing and querying... how is this handled on
> not tokenized fields?

Imperfectly.

The QueryParser knows nothing about the index, so it does not know which 
fields were tokenized and which were not.  Moreover, even the index does 
not know this, since you can freely intermix tokenized and untokenized 
values in a single field.

> In my case, I have certain fields on which I want the tokenization and
> anlysis and everything to happen... but on other fields, I just want to
> index the content as it is (no alterations at all) and not analyze at
> query time... is that possible?

It is very possible.  A good way to handle this is to use 
PerFieldAnalyzerWrapper.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9329-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 21:07:06 2004
Return-Path: <lucene-user-return-9329-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87997 invoked from network); 15 Jul 2004 21:07:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 21:07:06 -0000
Received: (qmail 53133 invoked by uid 500); 15 Jul 2004 21:06:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53097 invoked by uid 500); 15 Jul 2004 21:06:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53043 invoked by uid 99); 15 Jul 2004 21:06:40 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 15 Jul 2004 14:06:39 -0700
Received: (qmail 59925 invoked by uid 89); 15 Jul 2004 21:06:37 -0000
Received: from unknown (HELO ?192.168.168.81?) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 15 Jul 2004 21:06:37 -0000
Message-ID: <40F6F1CB.8050308@apache.org>
Date: Thu, 15 Jul 2004 14:06:19 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040619
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: release & migration plan
References: <I0WQZ1$D6016B65A2F3745E3B5A6D5C5592268B@oleane.com>
In-Reply-To: <I0WQZ1$D6016B65A2F3745E3B5A6D5C5592268B@oleane.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

fp235-5 wrote:
> I am looking at the code to implement setIndexInterval() in IndexWriter. I'd
> like to have your opinion on the best way to do it.
> 
> Currently the creation of an instance of TermInfosWriter requires the following
> steps:
> ...
> IndexWriter.addDocument(Document)
> IndexWriter.addDocument(Document, Analyser)
> DocumentWriter.addDocument(String, Document)
> DocumentWriter.writePostings(Posting[],String)
> TermInfosWriter.<init>
> 
> To give a different value to indexInterval in TermInfosWriter, we need to add a
> variable holding this value into IndexWriter and DocumentWriter and modify the
> constructors for DocumentWriter and TermInfosWriter. (quite heavy changes)

I think this is the best approach.  I would replace other parameters in 
these constructors which can be derived from an IndexWriter with the 
IndexWriter.  That way, if we add more parameters like this, they can 
also be passed in through the IndexWriter.

All of the parameters to the DocumentWriter constructor are fields of 
IndexWriter.  So one can instead simply pass a single parameter, an 
IndexWriter, then access its directory, analyzer, similarity and 
maxFieldLength in the DocumentWriter constructor.  A public 
getDirectory() method would also need to be added to IndexWriter for 
this to work.

Similarly, two of SegmentMerger's constructor parameters could be 
replaced with an IndexWriter, the directory and boolean useCompoundFile.

In SegmentMerge I would replace the directory parameter with IndexWriter.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9330-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 15 23:51:48 2004
Return-Path: <lucene-user-return-9330-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62828 invoked from network); 15 Jul 2004 23:51:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jul 2004 23:51:48 -0000
Received: (qmail 84169 invoked by uid 500); 15 Jul 2004 23:51:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84144 invoked by uid 500); 15 Jul 2004 23:51:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84126 invoked by uid 99); 15 Jul 2004 23:51:40 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [192.18.42.13] (HELO nwkea-mail-1.sun.com) (192.18.42.13)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 15 Jul 2004 16:51:38 -0700
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by nwkea-mail-1.sun.com (8.12.10/8.12.9) with ESMTP id i6FNpWJC020241
	for <lucene-user@jakarta.apache.org>; Thu, 15 Jul 2004 16:51:37 -0700 (PDT)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0I0X008013IYXZ@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Thu, 15 Jul 2004 16:51:33 -0700 (PDT)
Received: from Sun.COM (sr1-usjc07-03.SFBay.Sun.COM [129.145.21.58])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0I0X00BDO3LXNI@ha21sca-mail1.sfbay.sun.com> for
 lucene-user@jakarta.apache.org; Thu, 15 Jul 2004 16:51:33 -0700 (PDT)
Date: Thu, 15 Jul 2004 16:51:32 -0700
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Re: Searching against Database
In-reply-to: <40F6C306.4080904@Sun.COM>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Reply-to: Hetan.Shah@Sun.COM
Message-id: <40F71884.3060804@Sun.COM>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.4) Gecko/20040414
References: 
 <E65AE9703B683F4C81B5B39C692EB26D1B02B7@mercury.corp.cyveillance.com>
 <40F6C306.4080904@Sun.COM>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Is it possible to search against the column in the table ? If so are 
there any limitations on the # of columns one should target to search 
against?

any other suggestions?
Thanks.
-H


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9331-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 16 00:05:38 2004
Return-Path: <lucene-user-return-9331-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68413 invoked from network); 16 Jul 2004 00:05:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Jul 2004 00:05:38 -0000
Received: (qmail 98337 invoked by uid 500); 16 Jul 2004 00:05:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98158 invoked by uid 500); 16 Jul 2004 00:05:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98145 invoked by uid 99); 16 Jul 2004 00:05:32 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [216.193.202.192] (HELO nasa.lunarpages.com) (216.193.202.192)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 15 Jul 2004 17:05:29 -0700
Received: from pcp09870746pcs.ewndsr01.nj.comcast.net ([68.36.204.99] helo=pmc)
	by nasa.lunarpages.com with asmtp (Exim 4.34)
	id 1BlGEc-0006l5-8m
	for lucene-user@jakarta.apache.org; Thu, 15 Jul 2004 17:05:54 -0700
Message-ID: <014f01c46ac8$96d6cec0$6400a8c0@CORP.AD.FACTIVA.NET>
From: "Peter M Cipollone" <lu1@bihvhar.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References:  <E65AE9703B683F4C81B5B39C692EB26D1B02B7@mercury.corp.cyveillance.com> <40F6C306.4080904@Sun.COM> <40F71884.3060804@Sun.COM>
Subject: Re: Searching against Database
Date: Thu, 15 Jul 2004 20:05:18 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - nasa.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - bihvhar.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


----- Original Message ----- 
From: "Hetan Shah" <Hetan.Shah@Sun.COM>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, July 15, 2004 7:51 PM
Subject: Re: Searching against Database


> Is it possible to search against the column in the table ? If so are
> there any limitations on the # of columns one should target to search
> against?

What you can search against all depends on how you index your columns.  I
believe you mentioned that you had data in multiple tables for each record
(or Document in Lucene).  If you map your your columns to Lucene Fields, and
make sure that the primary key for each record is stored in the same Lucene
Document object as the columns (Fields), then you should be golden.

Someone earlier pointed out that Oracle allows Java in its stored
procedures, so if you use a single stored procedure to insert a new record,
that same procedure can create a matching Lucene Document and add it to the
index.

For updates, you will need to delete the Lucene document and then add a new
copy of the updated record.  If you have a primary key field that is indexed
and stored in Lucene, you can use

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexReader.html#delete(org.apache.lucene.index.Term)

to delete the old version.

Pete




>
> any other suggestions?
> Thanks.
> -H
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9332-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 16 06:04:47 2004
Return-Path: <lucene-user-return-9332-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26245 invoked from network); 16 Jul 2004 06:04:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Jul 2004 06:04:47 -0000
Received: (qmail 11777 invoked by uid 500); 16 Jul 2004 06:04:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11757 invoked by uid 500); 16 Jul 2004 06:04:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11744 invoked by uid 99); 16 Jul 2004 06:04:39 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=UPPERCASE_25_50
X-Spam-Check-By: apache.org
Received: from [203.199.26.74] (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Thu, 15 Jul 2004 23:04:36 -0700
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I0XLGK00.FQ1 for <lucene-user@jakarta.apache.org>; Fri,
          16 Jul 2004 11:47:08 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "LUCENE" <lucene-user@jakarta.apache.org>
Subject: Score Range....
Date: Fri, 16 Jul 2004 11:44:27 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIOECJCBAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hey Guys....

Apologies......


I hava Silly Question.

On a avaliable Hit returns, How would one be able to get score between  an
upper  and lower limit  value

  Say    ' X > 0.4 and  X < 1.0 '


Do u think this will work....


with regards
Karthik



      WITH WARM REGARDS
      HAVE A NICE DAY
      [ N.S.KARTHIK]




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9333-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 16 14:22:35 2004
Return-Path: <lucene-user-return-9333-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82132 invoked from network); 16 Jul 2004 14:22:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Jul 2004 14:22:35 -0000
Received: (qmail 83364 invoked by uid 500); 16 Jul 2004 14:22:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83263 invoked by uid 500); 16 Jul 2004 14:22:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83247 invoked by uid 99); 16 Jul 2004 14:22:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [204.73.34.14] (HELO drizzle.mm.com) (204.73.34.14)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 16 Jul 2004 07:22:22 -0700
Received: from MUSCOVITE.OPIN.COM (diamond.opin.com [206.147.124.36])
	by drizzle.mm.com (Postfix) with ESMTP id 5256B5E16D
	for <lucene-user@jakarta.apache.org>; Fri, 16 Jul 2004 09:22:18 -0500 (CDT)
Received: by MUSCOVITE.OPIN.COM with Internet Mail Service (5.5.2657.72)
	id <NYH07ACY>; Thu, 15 Jul 2004 17:21:11 -0500
Message-ID: <E3B75407BA46FA4A87DF2F63ED9241CA05928B@MUSCOVITE.OPIN.COM>
From: Steve Rajavuori <SteveR@opin.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: Lock file problem
Date: Thu, 15 Jul 2004 17:20:44 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm having a problem with Lucene obtaining a lock file on Windows. Running
1.4 RC3, I see the error below repeatedly. I try stopping my process,
deleting the file, then restarting. The error just occurs again every time.

java.io.IOException: Lock obtain timed out:
Lock@C:\WINNT\TEMP\lucene-4bf302dec76f27bff81fc3dd3118abbb-write.lock
	at org.apache.lucene.store.Lock.obtain(Lock.java:58)
	at
org.apache.lucene.index.IndexReader.aquireWriteLock(IndexReader.java:408)
	at org.apache.lucene.index.IndexReader.delete(IndexReader.java:432)
	at org.apache.lucene.index.IndexReader.delete(IndexReader.java:454)

ANyone know the cause of this?

Steve Rajavuori
O'Pin Systems
2600 Eagan Woods Dr., Suite 400
Eagan, MN  55121
651-994-6556
stever@opin.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9334-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 16 14:28:32 2004
Return-Path: <lucene-user-return-9334-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85599 invoked from network); 16 Jul 2004 14:28:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Jul 2004 14:28:32 -0000
Received: (qmail 96001 invoked by uid 500); 16 Jul 2004 14:28:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95952 invoked by uid 500); 16 Jul 2004 14:28:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95920 invoked by uid 99); 16 Jul 2004 14:28:06 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [212.100.160.76] (HELO smtp2.mail.be.easynet.net) (212.100.160.76)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 16 Jul 2004 07:28:03 -0700
Received: from 213-193-184-43.adsl.easynet.be ([213.193.184.43] helo=[192.168.100.21])
	by smtp2.mail.be.easynet.net with esmtp (Exim 4.30)
	id 1BlTgr-0006Bc-4A
	for lucene-user@jakarta.apache.org; Fri, 16 Jul 2004 16:27:57 +0200
Message-ID: <40F7E5BA.7010802@b2boost.com>
Date: Fri, 16 Jul 2004 16:27:06 +0200
From: Luis Muniz <luis.muniz@b2boost.com>
User-Agent: Mozilla Thunderbird 0.7.1 (Windows/20040626)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lock file problem
References: <E3B75407BA46FA4A87DF2F63ED9241CA05928B@MUSCOVITE.OPIN.COM>
In-Reply-To: <E3B75407BA46FA4A87DF2F63ED9241CA05928B@MUSCOVITE.OPIN.COM>
X-Enigmail-Version: 0.84.2.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Are you already using an IndexWriter?
IndexWriter creates a lock i think. And IndexReader.delete wants to 
abtain a a lock also.
you have to perform your deletes before you use the indexWriter to add 
documents to the index.

I hope this helps

Steve Rajavuori wrote:

>I'm having a problem with Lucene obtaining a lock file on Windows. Running
>1.4 RC3, I see the error below repeatedly. I try stopping my process,
>deleting the file, then restarting. The error just occurs again every time.
>
>java.io.IOException: Lock obtain timed out:
>Lock@C:\WINNT\TEMP\lucene-4bf302dec76f27bff81fc3dd3118abbb-write.lock
>	at org.apache.lucene.store.Lock.obtain(Lock.java:58)
>	at
>org.apache.lucene.index.IndexReader.aquireWriteLock(IndexReader.java:408)
>	at org.apache.lucene.index.IndexReader.delete(IndexReader.java:432)
>	at org.apache.lucene.index.IndexReader.delete(IndexReader.java:454)
>
>ANyone know the cause of this?
>
>Steve Rajavuori
>O'Pin Systems
>2600 Eagan Woods Dr., Suite 400
>Eagan, MN  55121
>651-994-6556
>stever@opin.com 
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9335-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 16 17:58:03 2004
Return-Path: <lucene-user-return-9335-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1490 invoked from network); 16 Jul 2004 17:58:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Jul 2004 17:58:02 -0000
Received: (qmail 21031 invoked by uid 500); 16 Jul 2004 17:57:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20944 invoked by uid 500); 16 Jul 2004 17:57:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20880 invoked by uid 99); 16 Jul 2004 17:57:45 -0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=DNS_FROM_RFC_POST,FROM_ENDS_IN_NUMS
X-Spam-Check-By: apache.org
Received: from [65.54.186.62] (HELO hotmail.com) (65.54.186.62)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 16 Jul 2004 10:57:42 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Fri, 16 Jul 2004 10:57:42 -0700
Received: from 66.54.215.110 by by16fd.bay16.hotmail.msn.com with HTTP;
	Fri, 16 Jul 2004 17:57:41 GMT
X-Originating-IP: [66.54.215.110]
X-Originating-Email: [juandixon109@hotmail.com]
X-Sender: juandixon109@hotmail.com
From: "juan dix" <juandixon109@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: lucene 1.4 final src build error 
Date: Fri, 16 Jul 2004 10:57:41 -0700
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY16-F12RMWuLn5U9T0001f0b0@hotmail.com>
X-OriginalArrivalTime: 16 Jul 2004 17:57:42.0004 (UTC) FILETIME=[63E18B40:01C46B5E]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Just trying to do a src build using ant on lucene 1.4 final.  and getting 
compile error for SortComparator.java.  Any ideas?

#####################################
D:\lucene-1.4-final>ant
Buildfile: build.xml

init:
   [mkdir] Created dir: D:\lucene-1.4-final\build
   [mkdir] Created dir: D:\lucene-1.4-final\dist

compile-core:
   [mkdir] Created dir: D:\lucene-1.4-final\build\classes\java
   [javac] Compiling 160 source files to 
D:\lucene-1.4-final\build\classes\java

   [javac] 
D:\lucene-1.4-final\src\java\org\apache\lucene\search\SortComparator
.java:37: unreported exception java.io.IOException; must be caught or 
declared to be thrown
   [javac]       protected Comparable[] cachedValues = 
FieldCache.DEFAULT.getCustom (reader, field, SortComparator.this);
   [javac]                                                               ^
   [javac] 1 error

BUILD FAILED
D:\lucene-1.4-final\build.xml:140: Compile failed; see the compiler error 
output
for details.

Total time: 25 seconds

###################################################

should I just modify my own try and catch to the original src?  thanks.

-juan

_________________________________________________________________
Dont just search. Find. Check out the new MSN Search! 
http://search.msn.click-url.com/go/onm00200636ave/direct/01/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9336-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 16 18:14:26 2004
Return-Path: <lucene-user-return-9336-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8285 invoked from network); 16 Jul 2004 18:14:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Jul 2004 18:14:26 -0000
Received: (qmail 46040 invoked by uid 500); 16 Jul 2004 18:13:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46003 invoked by uid 500); 16 Jul 2004 18:13:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45968 invoked by uid 99); 16 Jul 2004 18:13:52 -0000
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received: from [12.158.35.211] (HELO psmtp.com) (12.158.35.211)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Fri, 16 Jul 2004 11:13:46 -0700
Received: from source ([139.56.4.13]) by exprod6ob1.obsmtp.com ([12.158.35.250]) with SMTP;
	Fri, 16 Jul 2004 11:13:41 PDT
Received: from triangulum2.broadvision.com (triangulum2.broadvision.com [10.10.102.101])
	by nebula2.broadvision.com (8.10.2+Sun/8.10.2) with ESMTP id i6GIDdr19932
	for <lucene-user@jakarta.apache.org>; Fri, 16 Jul 2004 11:13:39 -0700 (PDT)
Received: from rw-gw-01.BroadVision.com (localhost [127.0.0.1])
	by triangulum2.broadvision.com (8.9.3+Sun/8.9.3) with ESMTP id LAA13441
	for <lucene-user@jakarta.apache.org>; Fri, 16 Jul 2004 11:15:57 -0700 (PDT)
Received: by rw-gw-01.broadvision.com with Internet Mail Service (5.5.2655.55)
	id <2M6FWNDW>; Fri, 16 Jul 2004 11:13:40 -0700
Message-ID: <8B1D2D7C0F3AD711A289000629383E66023C76FC@rw-msg-01.broadvision.com>
From: "Zhang, Lisheng" <Lisheng.Zhang@broadvision.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: lucene 1.4 final src build error 
Date: Fri, 16 Jul 2004 11:13:31 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

What JVM version did you have, I guess possibly
yours is JVM1.3.x? From my experience I think 
lucene 1.4 can only be compiled under JVM1.4.x.

Regards, Lisheng

-----Original Message-----
From: juan dix [mailto:juandixon109@hotmail.com]
Sent: Friday, July 16, 2004 10:58 AM
To: lucene-user@jakarta.apache.org
Subject: lucene 1.4 final src build error 


Just trying to do a src build using ant on lucene 1.4 final.  and getting 
compile error for SortComparator.java.  Any ideas?

#####################################
D:\lucene-1.4-final>ant
Buildfile: build.xml

init:
   [mkdir] Created dir: D:\lucene-1.4-final\build
   [mkdir] Created dir: D:\lucene-1.4-final\dist

compile-core:
   [mkdir] Created dir: D:\lucene-1.4-final\build\classes\java
   [javac] Compiling 160 source files to 
D:\lucene-1.4-final\build\classes\java

   [javac] 
D:\lucene-1.4-final\src\java\org\apache\lucene\search\SortComparator
.java:37: unreported exception java.io.IOException; must be caught or 
declared to be thrown
   [javac]       protected Comparable[] cachedValues = 
FieldCache.DEFAULT.getCustom (reader, field, SortComparator.this);
   [javac]                                                               ^
   [javac] 1 error

BUILD FAILED
D:\lucene-1.4-final\build.xml:140: Compile failed; see the compiler error 
output
for details.

Total time: 25 seconds

###################################################

should I just modify my own try and catch to the original src?  thanks.

-juan

_________________________________________________________________
Don't just search. Find. Check out the new MSN Search! 
http://search.msn.click-url.com/go/onm00200636ave/direct/01/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9337-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 16 19:52:45 2004
Return-Path: <lucene-user-return-9337-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66812 invoked from network); 16 Jul 2004 19:52:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Jul 2004 19:52:45 -0000
Received: (qmail 32304 invoked by uid 500); 16 Jul 2004 19:52:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32195 invoked by uid 500); 16 Jul 2004 19:52:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32099 invoked by uid 99); 16 Jul 2004 19:52:21 -0000
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_POST,FROM_ENDS_IN_NUMS,MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received: from [65.54.186.56] (HELO hotmail.com) (65.54.186.56)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 16 Jul 2004 12:52:16 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Fri, 16 Jul 2004 12:52:15 -0700
Received: from 66.54.215.110 by by16fd.bay16.hotmail.msn.com with HTTP;
	Fri, 16 Jul 2004 19:52:15 GMT
X-Originating-IP: [66.54.215.110]
X-Originating-Email: [juandixon109@hotmail.com]
X-Sender: juandixon109@hotmail.com
From: "juan dix" <juandixon109@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: RE: lucene 1.4 final src build error
Date: Fri, 16 Jul 2004 12:52:15 -0700
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY16-F66lCPx33E1io0001b911@hotmail.com>
X-OriginalArrivalTime: 16 Jul 2004 19:52:15.0377 (UTC) FILETIME=[64BB0810:01C46B6E]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

thx but when installled java1.4 i am getting these errors now:

#############################################

D:\lucene-1.4-final>java -version
java version "1.4.2_05"
Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_05-b04)
Java HotSpot(TM) Client VM (build 1.4.2_05-b04, mixed mode)

D:\lucene-1.4-final>ant
Buildfile: build.xml

init:
    [mkdir] Created dir: D:\lucene-1.4-final\build

compile-core:
    [mkdir] Created dir: D:\lucene-1.4-final\build\classes\java
    [javac] Compiling 160 source files to 
D:\lucene-1.4-final\build\classes\java

     [rmic] RMI Compiling 1 class to D:\lucene-1.4-final\build\classes\java
     [rmic] error: Invalid class file format: 
D:\lucene-1.4-final\build\classes\
java\org\apache\lucene\search\RemoteSearchable.class, wrong version: 46, 
expected 45



     [rmic] error: Class org.apache.lucene.search.RemoteSearchable not 
found.



     [rmic] 2 errors



BUILD FAILED
D:\lucene-1.4-final\build.xml:145: Rmic failed; see the compiler error 
output for details.

Total time: 19 seconds
D:\lucene-1.4-final>
##########################################################

Strange I never had a problem with building lucene1.3.  Please advise.  
Thanks.

-juan


>From: "Zhang, Lisheng" <Lisheng.Zhang@broadvision.com>
>Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
>Subject: RE: lucene 1.4 final src build error Date: Fri, 16 Jul 2004 
>11:13:31 -0700
>
>Hi,
>
>What JVM version did you have, I guess possibly
>yours is JVM1.3.x? From my experience I think
>lucene 1.4 can only be compiled under JVM1.4.x.
>
>Regards, Lisheng
>
>-----Original Message-----
>From: juan dix [mailto:juandixon109@hotmail.com]
>Sent: Friday, July 16, 2004 10:58 AM
>To: lucene-user@jakarta.apache.org
>Subject: lucene 1.4 final src build error
>
>
>Just trying to do a src build using ant on lucene 1.4 final.  and getting
>compile error for SortComparator.java.  Any ideas?
>
>#####################################
>D:\lucene-1.4-final>ant
>Buildfile: build.xml
>
>init:
>    [mkdir] Created dir: D:\lucene-1.4-final\build
>    [mkdir] Created dir: D:\lucene-1.4-final\dist
>
>compile-core:
>    [mkdir] Created dir: D:\lucene-1.4-final\build\classes\java
>    [javac] Compiling 160 source files to
>D:\lucene-1.4-final\build\classes\java
>
>    [javac]
>D:\lucene-1.4-final\src\java\org\apache\lucene\search\SortComparator
>.java:37: unreported exception java.io.IOException; must be caught or
>declared to be thrown
>    [javac]       protected Comparable[] cachedValues =
>FieldCache.DEFAULT.getCustom (reader, field, SortComparator.this);
>    [javac]                                                               ^
>    [javac] 1 error
>
>BUILD FAILED
>D:\lucene-1.4-final\build.xml:140: Compile failed; see the compiler error
>output
>for details.
>
>Total time: 25 seconds
>
>###################################################
>
>should I just modify my own try and catch to the original src?  thanks.
>
>-juan
>
>_________________________________________________________________
>Don't just search. Find. Check out the new MSN Search!
>http://search.msn.click-url.com/go/onm00200636ave/direct/01/
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

_________________________________________________________________
Dont just search. Find. Check out the new MSN Search! 
http://search.msn.click-url.com/go/onm00200636ave/direct/01/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9338-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 16 20:04:35 2004
Return-Path: <lucene-user-return-9338-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71588 invoked from network); 16 Jul 2004 20:04:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Jul 2004 20:04:35 -0000
Received: (qmail 47399 invoked by uid 500); 16 Jul 2004 20:04:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47379 invoked by uid 500); 16 Jul 2004 20:04:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47366 invoked by uid 99); 16 Jul 2004 20:04:29 -0000
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received: from [12.158.35.213] (HELO psmtp.com) (12.158.35.213)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Fri, 16 Jul 2004 13:04:24 -0700
Received: from source ([139.56.4.14]) by exprod6ob3.obsmtp.com ([12.158.35.250]) with SMTP;
	Fri, 16 Jul 2004 13:04:19 PDT
Received: from triangulum1.broadvision.com (triangulum1.broadvision.com [10.10.102.100])
	by nebula3.broadvision.com (8.10.2+Sun/8.10.2) with ESMTP id i6GK1jW04178
	for <lucene-user@jakarta.apache.org>; Fri, 16 Jul 2004 13:01:45 -0700 (PDT)
Received: from rw-gw-02.BroadVision.com (localhost [127.0.0.1])
	by triangulum1.broadvision.com (8.9.3+Sun/8.9.3) with ESMTP id NAA00692
	for <lucene-user@jakarta.apache.org>; Fri, 16 Jul 2004 13:05:09 -0700 (PDT)
Received: by rw-gw-02.broadvision.com with Internet Mail Service (5.5.2655.55)
	id <NQQC4VTG>; Fri, 16 Jul 2004 13:04:18 -0700
Message-ID: <8B1D2D7C0F3AD711A289000629383E66023C76FE@rw-msg-01.broadvision.com>
From: "Zhang, Lisheng" <Lisheng.Zhang@broadvision.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: lucene 1.4 final src build error
Date: Fri, 16 Jul 2004 13:04:14 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Did you do a complete cleanup before compiling
under JVM14x?

Regards, Lisheng

-----Original Message-----
From: juan dix [mailto:juandixon109@hotmail.com]
Sent: Friday, July 16, 2004 12:52 PM
To: lucene-user@jakarta.apache.org
Subject: RE: lucene 1.4 final src build error


thx but when installled java1.4 i am getting these errors now:

#############################################

D:\lucene-1.4-final>java -version
java version "1.4.2_05"
Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_05-b04)
Java HotSpot(TM) Client VM (build 1.4.2_05-b04, mixed mode)

D:\lucene-1.4-final>ant
Buildfile: build.xml

init:
    [mkdir] Created dir: D:\lucene-1.4-final\build

compile-core:
    [mkdir] Created dir: D:\lucene-1.4-final\build\classes\java
    [javac] Compiling 160 source files to 
D:\lucene-1.4-final\build\classes\java

     [rmic] RMI Compiling 1 class to D:\lucene-1.4-final\build\classes\java
     [rmic] error: Invalid class file format: 
D:\lucene-1.4-final\build\classes\
java\org\apache\lucene\search\RemoteSearchable.class, wrong version: 46, 
expected 45



     [rmic] error: Class org.apache.lucene.search.RemoteSearchable not 
found.



     [rmic] 2 errors



BUILD FAILED
D:\lucene-1.4-final\build.xml:145: Rmic failed; see the compiler error 
output for details.

Total time: 19 seconds
D:\lucene-1.4-final>
##########################################################

Strange I never had a problem with building lucene1.3.  Please advise.  
Thanks.

-juan


>From: "Zhang, Lisheng" <Lisheng.Zhang@broadvision.com>
>Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
>Subject: RE: lucene 1.4 final src build error Date: Fri, 16 Jul 2004 
>11:13:31 -0700
>
>Hi,
>
>What JVM version did you have, I guess possibly
>yours is JVM1.3.x? From my experience I think
>lucene 1.4 can only be compiled under JVM1.4.x.
>
>Regards, Lisheng
>
>-----Original Message-----
>From: juan dix [mailto:juandixon109@hotmail.com]
>Sent: Friday, July 16, 2004 10:58 AM
>To: lucene-user@jakarta.apache.org
>Subject: lucene 1.4 final src build error
>
>
>Just trying to do a src build using ant on lucene 1.4 final.  and getting
>compile error for SortComparator.java.  Any ideas?
>
>#####################################
>D:\lucene-1.4-final>ant
>Buildfile: build.xml
>
>init:
>    [mkdir] Created dir: D:\lucene-1.4-final\build
>    [mkdir] Created dir: D:\lucene-1.4-final\dist
>
>compile-core:
>    [mkdir] Created dir: D:\lucene-1.4-final\build\classes\java
>    [javac] Compiling 160 source files to
>D:\lucene-1.4-final\build\classes\java
>
>    [javac]
>D:\lucene-1.4-final\src\java\org\apache\lucene\search\SortComparator
>.java:37: unreported exception java.io.IOException; must be caught or
>declared to be thrown
>    [javac]       protected Comparable[] cachedValues =
>FieldCache.DEFAULT.getCustom (reader, field, SortComparator.this);
>    [javac]                                                               ^
>    [javac] 1 error
>
>BUILD FAILED
>D:\lucene-1.4-final\build.xml:140: Compile failed; see the compiler error
>output
>for details.
>
>Total time: 25 seconds
>
>###################################################
>
>should I just modify my own try and catch to the original src?  thanks.
>
>-juan
>
>_________________________________________________________________
>Don't just search. Find. Check out the new MSN Search!
>http://search.msn.click-url.com/go/onm00200636ave/direct/01/
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

_________________________________________________________________
Don't just search. Find. Check out the new MSN Search! 
http://search.msn.click-url.com/go/onm00200636ave/direct/01/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9339-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 16 20:30:37 2004
Return-Path: <lucene-user-return-9339-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80530 invoked from network); 16 Jul 2004 20:30:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Jul 2004 20:30:37 -0000
Received: (qmail 85189 invoked by uid 500); 16 Jul 2004 20:30:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85152 invoked by uid 500); 16 Jul 2004 20:30:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85136 invoked by uid 99); 16 Jul 2004 20:30:28 -0000
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_POST,FROM_ENDS_IN_NUMS,MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received: from [65.54.186.71] (HELO hotmail.com) (65.54.186.71)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 16 Jul 2004 13:30:25 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Fri, 16 Jul 2004 13:30:24 -0700
Received: from 66.54.215.120 by by16fd.bay16.hotmail.msn.com with HTTP;
	Fri, 16 Jul 2004 20:30:24 GMT
X-Originating-IP: [66.54.215.120]
X-Originating-Email: [juandixon109@hotmail.com]
X-Sender: juandixon109@hotmail.com
From: "juan dix" <juandixon109@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: RE: lucene 1.4 final src build error
Date: Fri, 16 Jul 2004 13:30:24 -0700
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY16-F21POhJnDtKPI00049a56@hotmail.com>
X-OriginalArrivalTime: 16 Jul 2004 20:30:24.0898 (UTC) FILETIME=[B9643620:01C46B73]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

yes i deleted the build directory which contains the outputted class files.


>From: "Zhang, Lisheng" <Lisheng.Zhang@broadvision.com>
>Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
>Subject: RE: lucene 1.4 final src build error
>Date: Fri, 16 Jul 2004 13:04:14 -0700
>
>Hi,
>
>Did you do a complete cleanup before compiling
>under JVM14x?
>
>Regards, Lisheng
>
>-----Original Message-----
>From: juan dix [mailto:juandixon109@hotmail.com]
>Sent: Friday, July 16, 2004 12:52 PM
>To: lucene-user@jakarta.apache.org
>Subject: RE: lucene 1.4 final src build error
>
>
>thx but when installled java1.4 i am getting these errors now:
>
>#############################################
>
>D:\lucene-1.4-final>java -version
>java version "1.4.2_05"
>Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_05-b04)
>Java HotSpot(TM) Client VM (build 1.4.2_05-b04, mixed mode)
>
>D:\lucene-1.4-final>ant
>Buildfile: build.xml
>
>init:
>     [mkdir] Created dir: D:\lucene-1.4-final\build
>
>compile-core:
>     [mkdir] Created dir: D:\lucene-1.4-final\build\classes\java
>     [javac] Compiling 160 source files to
>D:\lucene-1.4-final\build\classes\java
>
>      [rmic] RMI Compiling 1 class to 
>D:\lucene-1.4-final\build\classes\java
>      [rmic] error: Invalid class file format:
>D:\lucene-1.4-final\build\classes\
>java\org\apache\lucene\search\RemoteSearchable.class, wrong version: 46,
>expected 45
>
>
>
>      [rmic] error: Class org.apache.lucene.search.RemoteSearchable not
>found.
>
>
>
>      [rmic] 2 errors
>
>
>
>BUILD FAILED
>D:\lucene-1.4-final\build.xml:145: Rmic failed; see the compiler error
>output for details.
>
>Total time: 19 seconds
>D:\lucene-1.4-final>
>##########################################################
>
>Strange I never had a problem with building lucene1.3.  Please advise.
>Thanks.
>
>-juan
>
>
> >From: "Zhang, Lisheng" <Lisheng.Zhang@broadvision.com>
> >Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> >To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
> >Subject: RE: lucene 1.4 final src build error Date: Fri, 16 Jul 2004
> >11:13:31 -0700
> >
> >Hi,
> >
> >What JVM version did you have, I guess possibly
> >yours is JVM1.3.x? From my experience I think
> >lucene 1.4 can only be compiled under JVM1.4.x.
> >
> >Regards, Lisheng
> >
> >-----Original Message-----
> >From: juan dix [mailto:juandixon109@hotmail.com]
> >Sent: Friday, July 16, 2004 10:58 AM
> >To: lucene-user@jakarta.apache.org
> >Subject: lucene 1.4 final src build error
> >
> >
> >Just trying to do a src build using ant on lucene 1.4 final.  and getting
> >compile error for SortComparator.java.  Any ideas?
> >
> >#####################################
> >D:\lucene-1.4-final>ant
> >Buildfile: build.xml
> >
> >init:
> >    [mkdir] Created dir: D:\lucene-1.4-final\build
> >    [mkdir] Created dir: D:\lucene-1.4-final\dist
> >
> >compile-core:
> >    [mkdir] Created dir: D:\lucene-1.4-final\build\classes\java
> >    [javac] Compiling 160 source files to
> >D:\lucene-1.4-final\build\classes\java
> >
> >    [javac]
> >D:\lucene-1.4-final\src\java\org\apache\lucene\search\SortComparator
> >.java:37: unreported exception java.io.IOException; must be caught or
> >declared to be thrown
> >    [javac]       protected Comparable[] cachedValues =
> >FieldCache.DEFAULT.getCustom (reader, field, SortComparator.this);
> >    [javac]                                                               
>^
> >    [javac] 1 error
> >
> >BUILD FAILED
> >D:\lucene-1.4-final\build.xml:140: Compile failed; see the compiler error
> >output
> >for details.
> >
> >Total time: 25 seconds
> >
> >###################################################
> >
> >should I just modify my own try and catch to the original src?  thanks.
> >
> >-juan
> >
> >_________________________________________________________________
> >Don't just search. Find. Check out the new MSN Search!
> >http://search.msn.click-url.com/go/onm00200636ave/direct/01/
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>_________________________________________________________________
>Don't just search. Find. Check out the new MSN Search!
>http://search.msn.click-url.com/go/onm00200636ave/direct/01/
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

_________________________________________________________________
Discover the best of the best at MSN Luxury Living. http://lexus.msn.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9340-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 16 21:24:24 2004
Return-Path: <lucene-user-return-9340-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3297 invoked from network); 16 Jul 2004 21:24:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Jul 2004 21:24:23 -0000
Received: (qmail 42427 invoked by uid 500); 16 Jul 2004 21:24:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42383 invoked by uid 500); 16 Jul 2004 21:24:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42370 invoked by uid 99); 16 Jul 2004 21:24:18 -0000
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_POST,FROM_ENDS_IN_NUMS,MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received: from [65.54.186.90] (HELO hotmail.com) (65.54.186.90)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 16 Jul 2004 14:24:13 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Fri, 16 Jul 2004 14:24:12 -0700
Received: from 66.54.215.120 by by16fd.bay16.hotmail.msn.com with HTTP;
	Fri, 16 Jul 2004 21:24:11 GMT
X-Originating-IP: [66.54.215.120]
X-Originating-Email: [juandixon109@hotmail.com]
X-Sender: juandixon109@hotmail.com
From: "juan dix" <juandixon109@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: RE: lucene 1.4 final src build error
Date: Fri, 16 Jul 2004 14:24:11 -0700
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY16-F40yi67EKRuYD00031129@hotmail.com>
X-OriginalArrivalTime: 16 Jul 2004 21:24:12.0247 (UTC) FILETIME=[3D0A9670:01C46B7B]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

hmmm I finally got it to work, I simply deleted the environent classpath 
variable and it finally built okay using ant 1.6.2 and java sdk 1.4.2.

I tried then switching to java 1.3 and it gave me my original error I posted 
earlier.  Maybe the build.txt should be updated to reflect the requirements. 
I don't think java1.2 would work as written there.  thx zhang.

-juan



>From: "juan dix" <juandixon109@hotmail.com>
>Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>To: lucene-user@jakarta.apache.org
>Subject: RE: lucene 1.4 final src build error
>Date: Fri, 16 Jul 2004 13:30:24 -0700
>
>yes i deleted the build directory which contains the outputted class files.
>
>
>>From: "Zhang, Lisheng" <Lisheng.Zhang@broadvision.com>
>>Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>>To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
>>Subject: RE: lucene 1.4 final src build error
>>Date: Fri, 16 Jul 2004 13:04:14 -0700
>>
>>Hi,
>>
>>Did you do a complete cleanup before compiling
>>under JVM14x?
>>
>>Regards, Lisheng
>>
>>-----Original Message-----
>>From: juan dix [mailto:juandixon109@hotmail.com]
>>Sent: Friday, July 16, 2004 12:52 PM
>>To: lucene-user@jakarta.apache.org
>>Subject: RE: lucene 1.4 final src build error
>>
>>
>>thx but when installled java1.4 i am getting these errors now:
>>
>>#############################################
>>
>>D:\lucene-1.4-final>java -version
>>java version "1.4.2_05"
>>Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_05-b04)
>>Java HotSpot(TM) Client VM (build 1.4.2_05-b04, mixed mode)
>>
>>D:\lucene-1.4-final>ant
>>Buildfile: build.xml
>>
>>init:
>>     [mkdir] Created dir: D:\lucene-1.4-final\build
>>
>>compile-core:
>>     [mkdir] Created dir: D:\lucene-1.4-final\build\classes\java
>>     [javac] Compiling 160 source files to
>>D:\lucene-1.4-final\build\classes\java
>>
>>      [rmic] RMI Compiling 1 class to 
>>D:\lucene-1.4-final\build\classes\java
>>      [rmic] error: Invalid class file format:
>>D:\lucene-1.4-final\build\classes\
>>java\org\apache\lucene\search\RemoteSearchable.class, wrong version: 46,
>>expected 45
>>
>>
>>
>>      [rmic] error: Class org.apache.lucene.search.RemoteSearchable not
>>found.
>>
>>
>>
>>      [rmic] 2 errors
>>
>>
>>
>>BUILD FAILED
>>D:\lucene-1.4-final\build.xml:145: Rmic failed; see the compiler error
>>output for details.
>>
>>Total time: 19 seconds
>>D:\lucene-1.4-final>
>>##########################################################
>>
>>Strange I never had a problem with building lucene1.3.  Please advise.
>>Thanks.
>>
>>-juan
>>
>>
>> >From: "Zhang, Lisheng" <Lisheng.Zhang@broadvision.com>
>> >Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>> >To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
>> >Subject: RE: lucene 1.4 final src build error Date: Fri, 16 Jul 2004
>> >11:13:31 -0700
>> >
>> >Hi,
>> >
>> >What JVM version did you have, I guess possibly
>> >yours is JVM1.3.x? From my experience I think
>> >lucene 1.4 can only be compiled under JVM1.4.x.
>> >
>> >Regards, Lisheng
>> >
>> >-----Original Message-----
>> >From: juan dix [mailto:juandixon109@hotmail.com]
>> >Sent: Friday, July 16, 2004 10:58 AM
>> >To: lucene-user@jakarta.apache.org
>> >Subject: lucene 1.4 final src build error
>> >
>> >
>> >Just trying to do a src build using ant on lucene 1.4 final.  and 
>>getting
>> >compile error for SortComparator.java.  Any ideas?
>> >
>> >#####################################
>> >D:\lucene-1.4-final>ant
>> >Buildfile: build.xml
>> >
>> >init:
>> >    [mkdir] Created dir: D:\lucene-1.4-final\build
>> >    [mkdir] Created dir: D:\lucene-1.4-final\dist
>> >
>> >compile-core:
>> >    [mkdir] Created dir: D:\lucene-1.4-final\build\classes\java
>> >    [javac] Compiling 160 source files to
>> >D:\lucene-1.4-final\build\classes\java
>> >
>> >    [javac]
>> >D:\lucene-1.4-final\src\java\org\apache\lucene\search\SortComparator
>> >.java:37: unreported exception java.io.IOException; must be caught or
>> >declared to be thrown
>> >    [javac]       protected Comparable[] cachedValues =
>> >FieldCache.DEFAULT.getCustom (reader, field, SortComparator.this);
>> >    [javac]                                                              
>>  ^
>> >    [javac] 1 error
>> >
>> >BUILD FAILED
>> >D:\lucene-1.4-final\build.xml:140: Compile failed; see the compiler 
>>error
>> >output
>> >for details.
>> >
>> >Total time: 25 seconds
>> >
>> >###################################################
>> >
>> >should I just modify my own try and catch to the original src?  thanks.
>> >
>> >-juan
>> >
>> >_________________________________________________________________
>> >Don't just search. Find. Check out the new MSN Search!
>> >http://search.msn.click-url.com/go/onm00200636ave/direct/01/
>> >
>> >
>> >---------------------------------------------------------------------
>> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>> >
>> >---------------------------------------------------------------------
>> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>> >
>>
>>_________________________________________________________________
>>Don't just search. Find. Check out the new MSN Search!
>>http://search.msn.click-url.com/go/onm00200636ave/direct/01/
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>_________________________________________________________________
>Discover the best of the best at MSN Luxury Living. http://lexus.msn.com/
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

_________________________________________________________________
Dont just search. Find. Check out the new MSN Search! 
http://search.msn.click-url.com/go/onm00200636ave/direct/01/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9341-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 16 22:22:01 2004
Return-Path: <lucene-user-return-9341-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26158 invoked from network); 16 Jul 2004 22:22:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Jul 2004 22:22:01 -0000
Received: (qmail 1220 invoked by uid 500); 16 Jul 2004 22:21:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1196 invoked by uid 500); 16 Jul 2004 22:21:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1182 invoked by uid 99); 16 Jul 2004 22:21:54 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [150.215.214.117] (HELO ein.wrq.com) (150.215.214.117)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 16 Jul 2004 15:21:51 -0700
Received: from abra.na.wrq.com (wrq.com [150.215.15.20])
	by ein.wrq.com (8.12.8/8.12.8) with ESMTP id i6GMLk1G007070
	for <lucene-user@jakarta.apache.org>; Fri, 16 Jul 2004 15:21:46 -0700
Received: by abra.na.wrq.com with Internet Mail Service (5.5.2657.72)
	id <3T4L7A1X>; Fri, 16 Jul 2004 15:21:43 -0700
Message-ID: <1A6B6A5A3597C340BB63728001DC787958AF29@kodos.na.wrq.com>
From: Jon Schuster <jons@wrq.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Problems indexing Japanese with CJKAnalyzer ... Or French wit
	h UTF-8 and MetaData
Date: Fri, 16 Jul 2004 15:02:03 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If you're specifying the correct encoding in HTMLDocument when you =
create an
InputStreamReader for the HTML file, and if you're specifying UTF8 as =
the
encoding for the InputStreamReader and OutputStreamWriter in
HTMLParser.getReader, I don't see how the meta tag data would have a
different encoding than the other content that gets indexed.

The stuff in the JDK docs about Properties being stored as 8859-1 =
applies
only when properties are saved or loaded from a stream using the
Properties.save and Properties.load methods. In Lucene, meta tag =
information
is stored in a Properties structure only while parsing and tokenizing.

Some strategically placed System.out.printlns should let you see if the =
meta
tag strings are what you think they are.

--Jon=20

-----Original Message-----
From: Bruno Tirel [mailto:bruno.tirel@club-internet.fr]=20
Sent: Thursday, July 15, 2004 8:07 AM
To: 'Lucene Users List'
Subject: RE: Problems indexing Japanese with CJKAnalyzer ... Or French =
with
UTF-8 and MetaData


I don't think I understand correctly your proposal.
As a basis, I am using Demo3 with indexHTML, HTMLDocument and =
HTMLParser.
Inside HTML parser, I am calling getMetaTags (calling addMetaData) wich
return Properties object. My issue is coming fron this definition :
Properties are stored into ISO-8859-1 encoding, when all my data =
encodings
inside and outside are "UTF-8".
I am not successful in getting UTF-8 values from this =
Parser.GetMetaTags()
through any conversion.
These data are extracted from an HTML page, with UTF-8 encoding =
declared at
the beginning of the file.
I do not see how to call a request.setEncoding("UTF-8") : I need the =
Parser
to have knowledge of UTF-8 encoding... And it doesn't appear when using
Properties object.

Any feedback?

-----Message d'origine-----
De : Praveen Peddi [mailto:ppeddi@contextmedia.com]=20
Envoy=E9 : jeudi 15 juillet 2004 15:12
=C0 : Lucene Users List
Objet : Re: Problems indexing Japanese with CJKAnalyzer

If its a web application, you have to cal request.setEncoding("UTF-8")
before reading any parameters. Also make sure html page encoding is
specified as "UTF-8" in the metatag. most web app servers decode the =
request
paramaters in the system's default encoding algorithm. If u call above
method, I think it will solve ur problem.

Praveen
----- Original Message -----
From: "Bruno Tirel" <bruno.tirel@club-internet.fr>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Thursday, July 15, 2004 6:15 AM
Subject: RE: Problems indexing Japanese with CJKAnalyzer


Hi All,

I am also trying to localize everything for French application, using =
UTF-8
encoding. I have already applied what Jon described. I fully confirm =
his
recommandation for HTML Parser and HTML Document changes with UNICODE =
and
"UTF-8" encoding specification.

In my case, I have still one case not functional : using meta-data from =
HTML
document, as in demo3 example. Trying to convert to "UTF-8", or
"ISO-8859-1", it is still not correctly encoded when I check with Luke.
A word "Propri=E9t=E9" is seen either as "Propri?t?" with a square, or =
as
"Propri=E3=A9t=E3=A9".
My local codepage is Cp1252, so should be viewed as ISO-8859-1. Same =
result
when I use "local FileEncoding parameter.
All the other fields are correctly encoded into UTF-8, tokenized and
successfully searched through JSP page.

Is anybody already facing this issue? Any help available?
Best regards,

Bruno


-----Message d'origine-----
De : Jon Schuster [mailto:jons@wrq.com]
Envoy=E9 : mercredi 14 juillet 2004 22:51
=C0 : 'Lucene Users List'
Objet : RE: Problems indexing Japanese with CJKAnalyzer

Hi all,

Thanks for the help on indexing Japanese documents. I eventually got =
things
working, and here's an update so that other folks might have an easier =
time
in similar situations.

The problem I had was indeed with the encoding, but it was more than =
just
the encoding on the initial creation of the HTMLParser (from the Lucene =
demo
package). In HTMLDocument, doing this:

InputStreamReader reader =3D new InputStreamReader( new
FileInputStream(f), "SJIS");
HTMLParser parser =3D new HTMLParser( reader );

creates the parser and feeds it Unicode from the original Shift-JIS =
encoding
document, but then when the document contents is fetched using this =
line:

Field fld =3D Field.Text("contents", parser.getReader() );

HTMLParser.getReader creates an InputStreamReader and =
OutputStreamWriter
using the default encoding, which in my case was Windows 1252 =
(essentially
Latin-1). That was bad.

In the HTMLParser.jj grammar file, adding an explicit encoding of =
"UTF8" on
both the Reader and Writer got things mostly working. The one missing =
piece
was in the "options" section of the HTMLParser.jj file. The original =
grammar
file generates an input character stream class that treats the input as =
a
stream of 1-byte characters. To have JavaCC generate a stream class =
that
handles double-byte characters, you need the option =
UNICODE_INPUT=3Dtrue.

So, there were essentially three changes in two files:

HTMLParser.jj - add UNICODE_INPUT=3Dtrue to options section; add =
explicit
"UTF8" encoding on Reader and Writer creation in getReader(). As far as =
I
can tell, this changes works fine for all of the languages I need to =
handle,
which are English, French, German, and Japanese.

HTMLDocument - add explicit encoding of "SJIS" when creating the Reader =
used
to create the HTMLParser. (For western languages, I use encoding of
"ISO8859_1".)

And of course, use the right language tokenizer.

--Jon

<earlier responses snipped; see the list archive>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9342-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jul 18 16:39:36 2004
Return-Path: <lucene-user-return-9342-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85454 invoked from network); 18 Jul 2004 16:39:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Jul 2004 16:39:36 -0000
Received: (qmail 68299 invoked by uid 500); 18 Jul 2004 16:39:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68277 invoked by uid 500); 18 Jul 2004 16:39:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68264 invoked by uid 99); 18 Jul 2004 16:39:27 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=HTTP_WITH_EMAIL_IN_URL,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Sun, 18 Jul 2004 09:39:22 -0700
Received: (qmail 23410 invoked by uid 65534); 18 Jul 2004 16:39:20 -0000
Received: from tpluempe.cs.ucl.ac.uk (EHLO [128.16.11.248]) (128.16.11.248)
  by mail.gmx.net (mp015) with SMTP; 18 Jul 2004 18:39:20 +0200
X-Authenticated: #1165889
Subject: Re: Query across multiple fields scenario not handled by
	"MultiFieldQueryParser"
From: Thomas =?ISO-8859-1?Q?Pl=FCmpe?= <thomanski@gmx.de>
To: lucene-user@jakarta.apache.org
Content-Type: text/plain
Message-Id: <1090168755.3002.29.camel@tpluempe.cs.ucl.ac.uk>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6-2.1.92mdk 
Date: Sun, 18 Jul 2004 17:39:15 +0100
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dear all,

I would like to do the exact same thing that Ali Rouhi posed as a
challenge in [*] and has found a solution for. Unfortunately I haven't
been able to get through to him. Does anybody here know which changes I
would have to make to QueryParser.jj to get the functionality described?

[*] http://issues.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&msgNo=4659

Thomas



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9343-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jul 18 19:20:54 2004
Return-Path: <lucene-user-return-9343-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37046 invoked from network); 18 Jul 2004 19:20:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Jul 2004 19:20:53 -0000
Received: (qmail 62762 invoked by uid 500); 18 Jul 2004 19:20:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62740 invoked by uid 500); 18 Jul 2004 19:20:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62715 invoked by uid 99); 18 Jul 2004 19:20:44 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [207.217.120.149] (HELO asmtp-a063f33.pas.sa.earthlink.net) (207.217.120.149)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Sun, 18 Jul 2004 12:20:43 -0700
Received: from qwest131-dsl4.cybermesa.com ([216.84.164.131] helo=[192.168.0.8])
	by asmtp-a063f33.pas.sa.earthlink.net with asmtp (TLSv1:AES256-SHA:256)
	(Exim 4.34)
	id 1BmHDG-0002sd-Vp; Sun, 18 Jul 2004 12:20:43 -0700
Message-ID: <40FACD57.9060400@earthlink.net>
Date: Sun, 18 Jul 2004 13:19:51 -0600
From: Dmitry <dmitrys@earthlink.net>
User-Agent: Mozilla Thunderbird 0.6 (X11/20040502)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Developers List <lucene-dev@jakarta.apache.org>, 
 Lucene User List <lucene-user@jakarta.apache.org>
Subject: Offer of services
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-ELNK-Trace: b9a8ec9b68c23176d780f4a490ca69564776905774d2ac4b1a8fd91c69665c5130c42262c8810425350badd9bab72f9c350badd9bab72f9c350badd9bab72f9c
X-Originating-IP: 216.84.164.131
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Greetings fellow Luceners,

I have recently finished a part-time contract and am now looking for a 
new one. I wanted to try to use this channel to offer my services to the 
Lucene community - perhaps we can help each other, and help Lucene in 
the process!

(Thanks for your patience with a bit of an off-topic post)

I've been working with Lucene for 3 years, even since before it was 
added to the Jakarta project, and have contributed code to it when I 
could. Of the larger features, I can claim credit for the Compund File 
support, as well as some initial work on the Term Vector, although 
proper credit for that goes to Grant Ingersoll and others who have 
recently integrated it into the latest Lucene release.
Besides the public work I have contributed, I have spent the last three 
years working for a company that very intesively uses Lucene in an 
enterprise-scale product, used by many household-name companies 
worldwide. I was responsible for initial evaluation of search engines 
(this is when I found Lucene) and for integrating Lucene into our system.

I've also done a lot of work on measuring and tuning Lucene's 
performance under very high loads, particularly in reducing memory 
allocation during searching. I would say that I understand Lucene 
architecture very well, particularly the deeper internals of it, such as 
the file IO, TermEnums, and SegmentMerger with friends.

Aside from Lucene, I have a BSEE degree from UC Berkeley, and close to 
10 years of experience with various CompSci technologies (C, Java, 
Python, databases, Snowball stemmers, internationalization, web 
crawlers), geographically spanning from California to New York.
Currently, I am based in Northern New Mexico. But if you are elsewhere 
in the world, no problem! That's what the Internet is for! So I'm 
offering to do Lucene-related work over the Internet - always 
professional service with a smile!  :)   

Some ideas could include:
   - Integration of Lucene into your product or site: from initial 
analysis, to full implementation

   - Improving Lucene performance and/or stability for your specific 
application requirements

   - Adding features that are missing or that would make your 
application better / easier / faster

   - Fixing specific bugs that you need fixed; researching problems; 
finding workarounds

   - Maintenance work on an existing application

   - Anything at all, doesn't even have be about Lucene! Limited only by 
your imagination!  :)

The resulting work can be contributed back to the Lucene project or can 
remain your property - whatever makes the most sense to you.

If you are interested, please e-mail me directly: dmitrys@earthlink.net.
References and the resume are available upon request. Payment hourly, or 
as a fixed bid.


May the source be with you!  :)


Thanks very much, and best wishes to everyone.
Dmitry Serebrennikov




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9344-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 19 09:02:44 2004
Return-Path: <lucene-user-return-9344-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31203 invoked from network); 19 Jul 2004 09:02:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jul 2004 09:02:44 -0000
Received: (qmail 15852 invoked by uid 500); 19 Jul 2004 09:02:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15813 invoked by uid 500); 19 Jul 2004 09:02:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15798 invoked by uid 99); 19 Jul 2004 09:02:36 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received: from [212.227.126.186] (HELO moutng.kundenserver.de) (212.227.126.186)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 19 Jul 2004 02:02:33 -0700
Received: from [212.227.126.155] (helo=mrelayng.kundenserver.de)
	by moutng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1BmU2Z-0007Ob-00
	for lucene-user@jakarta.apache.org; Mon, 19 Jul 2004 11:02:31 +0200
Received: from [82.135.8.240] (helo=192.168.10.101)
	by mrelayng.kundenserver.de with asmtp (TLSv1:RC4-MD5:128)
	(Exim 3.35 #1)
	id 1BmU2Z-0005RV-00
	for lucene-user@jakarta.apache.org; Mon, 19 Jul 2004 11:02:31 +0200
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Query across multiple fields scenario not handled by "MultiFieldQueryParser"
Date: Mon, 19 Jul 2004 11:02:29 +0200
User-Agent: KMail/1.5.1
References: <1090168755.3002.29.camel@tpluempe.cs.ucl.ac.uk>
In-Reply-To: <1090168755.3002.29.camel@tpluempe.cs.ucl.ac.uk>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-15"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200407191102.30051.daniel.naber@t-online.de>
X-Provags-ID: kundenserver.de abuse@kundenserver.de auth:94b5a5949d2eb00693e70b0c89be5163
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Sunday 18 July 2004 18:39, Thomas Pl=FCmpe wrote:

> Does anybody here know which changes I
> would have to make to QueryParser.jj to get the functionality described?

I haven't tried it but I guess you need to change the getXXXQuery() methods=
 so=20
they return a BooleanQuery. For example, getFieldQuery currently might retu=
rn=20
a TermQuery; you'll need to change that so it returns a BooleanQuery with t=
wo=20
TermQuerys. These two queries would have the same term, but a different=20
field.

Another approach is to leave QueryParser alone and modify the query after i=
t=20
has been parsed by recursively iterating over the parsed query, replacing=20
e.g. TermQuerys with BooleanQuerys (just like described above).

Regards
 Daniel


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9345-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 19 15:18:50 2004
Return-Path: <lucene-user-return-9345-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5706 invoked from network); 19 Jul 2004 15:18:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jul 2004 15:18:49 -0000
Received: (qmail 91832 invoked by uid 500); 19 Jul 2004 15:18:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91731 invoked by uid 500); 19 Jul 2004 15:18:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91681 invoked by uid 99); 19 Jul 2004 15:18:26 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [205.142.197.62] (HELO n6mcgw16.cchmc.org) (205.142.197.62)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 19 Jul 2004 08:18:23 -0700
Received: from DOMSVC03-MTA by n6mcgw16.cchmc.org
	with Novell_GroupWise; Mon, 19 Jul 2004 11:18:14 -0400
Message-Id: <s0fbadf6.015@n6mcgw16.cchmc.org>
X-Mailer: Novell GroupWise Internet Agent 6.5.1 
Date: Mon, 19 Jul 2004 11:17:38 -0400
From: "Gerard Sychay" <Gerard.Sychay@cchmc.org>
To: <lucene-user@jakarta.apache.org>
Subject: Re: Searching against Database
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You might run into problems with having too many Fields by treating each
record as a Document and each column as a Field in that Document. An
alternative would be to index each cell of the table as a Document and
store and keep metadata (primary key, column name, table name, etc.) as
stored, untokenized, unindexed Fields.  This depends on of course how
many columns are in your tables, but Lucene can obviously deal with a
LOT of documents.

As far as updating, our requirements allowed for nightly updates, so I
can't help you there.

>>> "Peter M Cipollone" <lu1@bihvhar.com> 07/15/04 08:05PM >>>

> Is it possible to search against the column in the table ? If so are
> there any limitations on the # of columns one should target to
search
> against?

What you can search against all depends on how you index your columns. 
I
believe you mentioned that you had data in multiple tables for each
record
(or Document in Lucene).  If you map your your columns to Lucene
Fields, and
make sure that the primary key for each record is stored in the same
Lucene
Document object as the columns (Fields), then you should be golden.

Someone earlier pointed out that Oracle allows Java in its stored
procedures, so if you use a single stored procedure to insert a new
record,
that same procedure can create a matching Lucene Document and add it to
the
index.

For updates, you will need to delete the Lucene document and then add a
new
copy of the updated record.  If you have a primary key field that is
indexed
and stored in Lucene, you can use

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexReader.html#delete(org.apache.lucene.index.Term)

to delete the old version.

Pete




>
> any other suggestions?
> Thanks.
> -H
>
>
>
---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org 
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org

>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9346-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 19 17:01:38 2004
Return-Path: <lucene-user-return-9346-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67806 invoked from network); 19 Jul 2004 17:01:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jul 2004 17:01:38 -0000
Received: (qmail 78419 invoked by uid 500); 19 Jul 2004 17:01:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78357 invoked by uid 500); 19 Jul 2004 17:01:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78344 invoked by uid 99); 19 Jul 2004 17:01:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [38.112.109.12] (HELO mail.blueprint.org) (38.112.109.12)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 19 Jul 2004 10:01:27 -0700
Received: from [38.112.108.69] (mail.blueprint.org [38.112.108.69])
 by mail.blueprint.org
 (iPlanet Messaging Server 5.2 Patch 1 (built Aug 19 2002))
 with ESMTP id <0I13009A0ZABE5@mail.blueprint.org> for
 lucene-user@jakarta.apache.org; Mon, 19 Jul 2004 13:01:23 -0400 (EDT)
Date: Mon, 19 Jul 2004 13:01:23 -0400
From: Shawn Konopinsky <skonopinsky@blueprint.org>
Subject: Limiting a unqiue field search.
To: lucene-user@jakarta.apache.org
Message-id: <1090256482.23653.21.camel@lisa.blueprint.org>
MIME-version: 1.0
X-Mailer: Ximian Evolution 1.4.6
Content-type: text/plain
Content-transfer-encoding: 7BIT
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am attempting to query a field in my index for all unique values. I am
using the following call to get all the unique values of the field:

TermEnum enumerator = reader.terms(new Term(field, ""));

where read is an IndexReader and 'field' is the field name. 

However, I would like further limit this by putting another constraint
in to limit the unique values to those who have a certain value in
another field. An exmaple would be to get 'the unique values of field1'
where 'field2 = true'.

Can anyone offer any advice how to best approach this problem?

Best Regards,
Shawn.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9347-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 19 17:04:44 2004
Return-Path: <lucene-user-return-9347-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69150 invoked from network); 19 Jul 2004 17:04:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jul 2004 17:04:44 -0000
Received: (qmail 87921 invoked by uid 500); 19 Jul 2004 17:03:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87874 invoked by uid 500); 19 Jul 2004 17:03:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87842 invoked by uid 99); 19 Jul 2004 17:03:24 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=FOR_FREE
X-Spam-Check-By: apache.org
Received: from [216.200.145.37] (HELO omta10.mta.everyone.net) (216.200.145.37)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 19 Jul 2004 10:03:23 -0700
Received: from sitemail.everyone.net (bigip1-snat [216.200.145.29])
	by omta10.mta.everyone.net (Postfix) with ESMTP id 3C7B0BF120
	for <lucene-user@jakarta.apache.org>; Mon, 19 Jul 2004 10:03:12 -0700 (PDT)
Received: by sitemail.everyone.net (Postfix, from userid 99)
	id 5EB6C282CA4; Mon, 19 Jul 2004 10:03:08 -0700 (PDT)
Content-Type: text/plain
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0
X-Mailer: MIME-tools 5.41 (Entity 5.404)
Date: Mon, 19 Jul 2004 10:03:08 -0700 (PDT)
From: Ian McDonnell <ian@spinnerscity.com>
To: lucene-user@jakarta.apache.org
Subject: Using Lucenes Indexer to Index to a MYSQL DB
Reply-To: ian@spinnerscity.com
X-Originating-Ip: [193.1.172.146]
X-Eon-Sig: AQDOAZ5A+/7MAAQBwAEAAAAB,75340c1fad02d030979fc3bfc96da5c9
Message-Id: <20040719170308.5EB6C282CA4@sitemail.everyone.net>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Currently, i just have a jsp form that submits details to a db. I'm designing a web server application and was wondering if there was a way in which i could integrate lucenes indexer into the jsp form.

I can post the source if that helps.

Ian



_____________________________________________________________
Sign up for FREE email from SpinnersCity Online Dance Magazine & Vortal at http://www.spinnerscity.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9348-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 19 21:42:37 2004
Return-Path: <lucene-user-return-9348-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29194 invoked from network); 19 Jul 2004 21:42:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jul 2004 21:42:36 -0000
Received: (qmail 46619 invoked by uid 500); 19 Jul 2004 21:42:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46553 invoked by uid 500); 19 Jul 2004 21:42:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46528 invoked by uid 99); 19 Jul 2004 21:42:29 -0000
X-ASF-Spam-Status: No, hits=3.0 required=10.0
	tests=RCVD_IN_NJABL_PROXY,RCVD_IN_SORBS_HTTP,RCVD_IN_SORBS_MISC
X-Spam-Check-By: apache.org
Received: from [66.225.192.151] (HELO otherwise.scservers.com) (66.225.192.151)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 19 Jul 2004 14:42:25 -0700
Received: from [192.168.1.10] (adsl-66-141-53-102.dsl.austtx.swbell.net [66.141.53.102])
	by otherwise.scservers.com (8.11.6/8.11.6) with ESMTP id i6JLPbr29658
	for <lucene-user@jakarta.apache.org>; Mon, 19 Jul 2004 16:25:37 -0500
Mime-Version: 1.0 (Apple Message framework v618)
Content-Transfer-Encoding: 7bit
Message-Id: <83E25FEC-D9CC-11D8-BEEE-003065AB24D4@otherwise.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: Lucene Users List <lucene-user@jakarta.apache.org>
From: Bill Tschumy <bill@otherwise.com>
Subject: Misbehaving query string
Date: Mon, 19 Jul 2004 16:42:21 -0500
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I would think the following strings passed to the QueryParser should 
yield the same results:

#1:   +telescope AND !operate

#2:   (+telescope) AND (!operate)

However the first string seems to give the correct results while the 
second gives "zero" hits.  Am I misunderstanding something or is there 
a bug?
-- 
Bill Tschumy
Otherwise -- Austin, TX
http://www.otherwise.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9349-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 05:28:09 2004
Return-Path: <lucene-user-return-9349-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41135 invoked from network); 20 Jul 2004 05:28:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 05:28:09 -0000
Received: (qmail 59923 invoked by uid 500); 20 Jul 2004 05:28:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59891 invoked by uid 500); 20 Jul 2004 05:28:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59875 invoked by uid 99); 20 Jul 2004 05:28:00 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_50_60,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [160.129.50.174] (HELO mailbe04.mc.vanderbilt.edu) (160.129.50.174)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 19 Jul 2004 22:28:00 -0700
x-mimeole: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C46E1A.504F7FA6"
Subject: Post-sorted inverted index?
Date: Tue, 20 Jul 2004 00:27:56 -0500
Message-ID: <F36CECB25A260542A3FD097C50B1EA3C03FD2A@mailbe04.mc.vanderbilt.edu>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Post-sorted inverted index?
Thread-Index: AcRuGlA+6zeC1zaVQU2Vc7JordwLmg==
From: "Aphinyanaphongs, Yindalon" <ping.pong@Vanderbilt.Edu>
To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C46E1A.504F7FA6
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I gather from reading the documentation that the scores for each =
document hit are computed at query time.  I have an application that, =
due to the complexity of the function, cannot compute scores at query =
time.  Would it be possible for me to store the documents in pre-sorted =
order in the inverted index? (i.e. after the initial index is created, =
to have a post processing step to sort and reindex the final documents).
=20
For example:
Document A - score 0.2
Document B - score 0.4
Document C - score 0.6
=20
Thus for the word 'the', the stored order in the index would be C,B,A.
=20
Thanks!

------_=_NextPart_001_01C46E1A.504F7FA6--

From lucene-user-return-9350-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 06:18:01 2004
Return-Path: <lucene-user-return-9350-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68984 invoked from network); 20 Jul 2004 06:18:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 06:18:01 -0000
Received: (qmail 21051 invoked by uid 500); 20 Jul 2004 06:17:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21020 invoked by uid 500); 20 Jul 2004 06:17:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21007 invoked by uid 99); 20 Jul 2004 06:17:54 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [213.61.178.43] (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 19 Jul 2004 23:17:52 -0700
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id 80FFD23BE4
	for <lucene-user@jakarta.apache.org>; Tue, 20 Jul 2004 08:18:09 +0200 (CEST)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 01223-05 for <lucene-user@jakarta.apache.org>;
 Tue, 20 Jul 2004 08:18:09 +0200 (CEST)
Received: from tucholsky.office.tanto.de (unknown [10.0.1.4])
	by mail.tanto.de (Postfix) with ESMTP id 5964B23B8F
	for <lucene-user@jakarta.apache.org>; Tue, 20 Jul 2004 08:18:09 +0200 (CEST)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id i6K6HjGL027403
	for <lucene-user@jakarta.apache.org>; Tue, 20 Jul 2004 08:17:45 +0200
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id i6K6HjZ7027399;
	Tue, 20 Jul 2004 08:17:45 +0200
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16636.47369.635019.126150@tanto-xipolis.de>
Date: Tue, 20 Jul 2004 08:17:45 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Misbehaving query string
In-Reply-To: <83E25FEC-D9CC-11D8-BEEE-003065AB24D4@otherwise.com>
References: <83E25FEC-D9CC-11D8-BEEE-003065AB24D4@otherwise.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Bill Tschumy writes:
> I would think the following strings passed to the QueryParser should 
> yield the same results:
> 
> #1:   +telescope AND !operate
> 
> #2:   (+telescope) AND (!operate)
> 
> However the first string seems to give the correct results while the 
> second gives "zero" hits.  Am I misunderstanding something or is there 
> a bug?

The first query creates a boolean query with a required and a prohibited term.
The second one, creates one boolean query for the !operate term, containing
only one prohibited term and combines this with a query for telescope where
both subqueries are required (don't ask me, if telescope makes a term query
or a boolean query, I suspect the former).
But lucene doesn't search boolean queries only containing prohibited terms.
So the !operate boolean query gives you an empty result, which leads to the
empty result of the whole query.

I don't know if there's a reason, why the boolean query doesn't throw an
exception in this case. Silently not working doesn't seem a good way of 
handling this.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9351-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 09:39:48 2004
Return-Path: <lucene-user-return-9351-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76699 invoked from network); 20 Jul 2004 09:39:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 09:39:48 -0000
Received: (qmail 39915 invoked by uid 500); 20 Jul 2004 09:39:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39835 invoked by uid 500); 20 Jul 2004 09:39:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39804 invoked by uid 99); 20 Jul 2004 09:39:34 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 20 Jul 2004 02:39:34 -0700
Received: (qmail 9831 invoked by uid 65534); 20 Jul 2004 09:39:31 -0000
Received: from tpluempe.cs.ucl.ac.uk (EHLO [128.16.11.248]) (128.16.11.248)
  by mail.gmx.net (mp024) with SMTP; 20 Jul 2004 11:39:31 +0200
X-Authenticated: #1165889
Subject: Re: Query across multiple fields scenario not handled by
	"MultiFieldQueryParser"
From: Thomas =?ISO-8859-1?Q?Pl=FCmpe?= <thomanski@gmx.de>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <200407191102.30051.daniel.naber@t-online.de>
References: <1090168755.3002.29.camel@tpluempe.cs.ucl.ac.uk>
	 <200407191102.30051.daniel.naber@t-online.de>
Content-Type: text/plain
Message-Id: <1090316357.5079.222.camel@tpluempe.cs.ucl.ac.uk>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6-2.1.92mdk 
Date: Tue, 20 Jul 2004 10:39:18 +0100
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Daniel,

> > Does anybody here know which changes I
> > would have to make to QueryParser.jj to get the functionality described?
> 
> I haven't tried it but I guess you need to change the getXXXQuery() methods so 
> they return a BooleanQuery. For example, getFieldQuery currently might return 
> a TermQuery; you'll need to change that so it returns a BooleanQuery with two 
> TermQuerys. These two queries would have the same term, but a different 
> field.
> 
> Another approach is to leave QueryParser alone and modify the query after it 
> has been parsed by recursively iterating over the parsed query, replacing 
> e.g. TermQuerys with BooleanQuerys (just like described above).
many thanks for your advice. Although I was hoping not to have to
implement the change (as it has apparently been done), I guess this is
enough to get me going.

Thomas



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9352-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 12:44:20 2004
Return-Path: <lucene-user-return-9352-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62525 invoked from network); 20 Jul 2004 12:44:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 12:44:20 -0000
Received: (qmail 9949 invoked by uid 500); 20 Jul 2004 12:44:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9918 invoked by uid 500); 20 Jul 2004 12:44:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9903 invoked by uid 99); 20 Jul 2004 12:44:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.184.74] (HELO postfix.mail.ehatchersolutions.com) (128.143.184.74)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 20 Jul 2004 05:44:09 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 0A51582578B
	for <lucene-user@jakarta.apache.org>; Tue, 20 Jul 2004 08:44:12 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <F36CECB25A260542A3FD097C50B1EA3C03FD2A@mailbe04.mc.vanderbilt.edu>
References: <F36CECB25A260542A3FD097C50B1EA3C03FD2A@mailbe04.mc.vanderbilt.edu>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <7F8BF9EF-DA4A-11D8-81B3-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Post-sorted inverted index?
Date: Tue, 20 Jul 2004 08:44:10 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jul 20, 2004, at 1:27 AM, Aphinyanaphongs, Yindalon wrote:
> I gather from reading the documentation that the scores for each 
> document hit are computed at query time.  I have an application that, 
> due to the complexity of the function, cannot compute scores at query 
> time.  Would it be possible for me to store the documents in 
> pre-sorted order in the inverted index? (i.e. after the initial index 
> is created, to have a post processing step to sort and reindex the 
> final documents).
>
> For example:
> Document A - score 0.2
> Document B - score 0.4
> Document C - score 0.6
>
> Thus for the word 'the', the stored order in the index would be C,B,A.

Lucene 1.4 includes a Sort facility - look at the additional 
IndexSearcher.search() methods for details.  By default, if the scores 
computed are identical, the results are then ordered by document id, 
which is the insertion order.

I hope this helps.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9353-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 12:45:20 2004
Return-Path: <lucene-user-return-9353-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63123 invoked from network); 20 Jul 2004 12:45:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 12:45:20 -0000
Received: (qmail 13831 invoked by uid 500); 20 Jul 2004 12:45:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13739 invoked by uid 500); 20 Jul 2004 12:45:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13631 invoked by uid 99); 20 Jul 2004 12:45:03 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=FOR_FREE
X-Spam-Check-By: apache.org
Received: from [216.200.145.37] (HELO omta10.mta.everyone.net) (216.200.145.37)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 20 Jul 2004 05:45:02 -0700
Received: from sitemail.everyone.net (bigip1-snat [216.200.145.29])
	by omta10.mta.everyone.net (Postfix) with ESMTP id 8086F51FC8
	for <lucene-user@jakarta.apache.org>; Tue, 20 Jul 2004 05:44:48 -0700 (PDT)
Received: by sitemail.everyone.net (Postfix, from userid 99)
	id 2F8BD394D; Tue, 20 Jul 2004 05:44:46 -0700 (PDT)
Content-Type: text/plain
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0
X-Mailer: MIME-tools 5.41 (Entity 5.404)
Date: Tue, 20 Jul 2004 05:44:46 -0700 (PDT)
From: Ian McDonnell <ian@spinnerscity.com>
To: lucene-user@jakarta.apache.org
Subject: The indexer
Reply-To: ian@spinnerscity.com
X-Originating-Ip: [193.1.132.28]
X-Eon-Sig: AQDOAZ5A/RO+AAKx9gEAAAAB,3b831ee25a4227f8017f534f07c67a50
Message-Id: <20040720124446.2F8BD394D@sitemail.everyone.net>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Can Lucenes indexer be used to store info in fields in a mysql db?

If so can anybody point me to an example or some documentation relating to it.

Ian

_____________________________________________________________
Sign up for FREE email from SpinnersCity Online Dance Magazine & Vortal at http://www.spinnerscity.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9354-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 13:25:51 2004
Return-Path: <lucene-user-return-9354-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91750 invoked from network); 20 Jul 2004 13:25:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 13:25:51 -0000
Received: (qmail 89793 invoked by uid 500); 20 Jul 2004 13:25:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89694 invoked by uid 500); 20 Jul 2004 13:25:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89677 invoked by uid 99); 20 Jul 2004 13:25:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.184.74] (HELO postfix.mail.ehatchersolutions.com) (128.143.184.74)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 20 Jul 2004 06:25:41 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id DF747825BB8
	for <lucene-user@jakarta.apache.org>; Tue, 20 Jul 2004 09:25:44 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <20040720124446.2F8BD394D@sitemail.everyone.net>
References: <20040720124446.2F8BD394D@sitemail.everyone.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <4CBF1710-DA50-11D8-81B3-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: The indexer
Date: Tue, 20 Jul 2004 09:25:42 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jul 20, 2004, at 8:44 AM, Ian McDonnell wrote:
> Can Lucenes indexer be used to store info in fields in a mysql db?

I'm not quite clear on your question.  You want to store a Lucene index 
(aka Directory) within mysql?

Or, you want to index data from your existing mysql database into a 
Lucene index?

A Directory implementation for Berkeley DB was created by the Chandler 
project and contributed to the Lucene sandbox (see Lucene's website for 
details on the sandbox and how to get to it).  There has been some 
efforts to put a Lucene index into SQL Server, I believe, but I haven't 
seen mention of that in a while.  It *can* be done, but I'm skeptical 
of the performance hit of adding in a relational database layer - and 
to do it well would certainly be non-trivial.

As for indexing data from mysql - there have been lots of discussions 
of that recently, so check the archives.  Basically you read the data, 
and index it with Lucene's API.  And you are responsible for keeping it 
in sync.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9355-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 13:29:50 2004
Return-Path: <lucene-user-return-9355-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93893 invoked from network); 20 Jul 2004 13:29:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 13:29:50 -0000
Received: (qmail 99381 invoked by uid 500); 20 Jul 2004 13:29:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99272 invoked by uid 500); 20 Jul 2004 13:29:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99209 invoked by uid 99); 20 Jul 2004 13:29:25 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=FOR_FREE
X-Spam-Check-By: apache.org
Received: from [216.200.145.37] (HELO omta10.mta.everyone.net) (216.200.145.37)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 20 Jul 2004 06:29:23 -0700
Received: from sitemail.everyone.net (bigip1-snat [216.200.145.29])
	by omta10.mta.everyone.net (Postfix) with ESMTP id 423A3557E5
	for <lucene-user@jakarta.apache.org>; Tue, 20 Jul 2004 06:29:15 -0700 (PDT)
Received: by sitemail.everyone.net (Postfix, from userid 99)
	id 625A7395D; Tue, 20 Jul 2004 06:29:12 -0700 (PDT)
Content-Type: text/plain
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0
X-Mailer: MIME-tools 5.41 (Entity 5.404)
Date: Tue, 20 Jul 2004 06:29:12 -0700 (PDT)
From: Ian McDonnell <ian@spinnerscity.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: The indexer
Reply-To: ian@spinnerscity.com
X-Originating-Ip: [193.1.132.28]
X-Eon-Sig: AQDOAZ5A/R4oAAV20AEAAAAB,075c40be4d07daf34733fe01f3d2b0bf
Message-Id: <20040720132912.625A7395D@sitemail.everyone.net>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Basically i add details about a movie clip as various fields in an sql db using a jsp form. When the form submits i want to add the details into the db and also want the fields to be stored as a searchable lucene index on the server.

Is this possible?

Ian


--- Erik Hatcher <erik@ehatchersolutions.com> wrote:
On Jul 20, 2004, at 8:44 AM, Ian McDonnell wrote:
> Can Lucenes indexer be used to store info in fields in a mysql db?

I'm not quite clear on your question.  You want to store a Lucene index 
(aka Directory) within mysql?

Or, you want to index data from your existing mysql database into a 
Lucene index?

A Directory implementation for Berkeley DB was created by the Chandler 
project and contributed to the Lucene sandbox (see Lucene's website for 
details on the sandbox and how to get to it).  There has been some 
efforts to put a Lucene index into SQL Server, I believe, but I haven't 
seen mention of that in a while.  It *can* be done, but I'm skeptical 
of the performance hit of adding in a relational database layer - and 
to do it well would certainly be non-trivial.

As for indexing data from mysql - there have been lots of discussions 
of that recently, so check the archives.  Basically you read the data, 
and index it with Lucene's API.  And you are responsible for keeping it 
in sync.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



_____________________________________________________________
Sign up for FREE email from SpinnersCity Online Dance Magazine & Vortal at http://www.spinnerscity.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9356-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 14:08:19 2004
Return-Path: <lucene-user-return-9356-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18218 invoked from network); 20 Jul 2004 14:08:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 14:08:19 -0000
Received: (qmail 88660 invoked by uid 500); 20 Jul 2004 14:07:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88601 invoked by uid 500); 20 Jul 2004 14:07:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88580 invoked by uid 99); 20 Jul 2004 14:07:47 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=FOR_FREE
X-Spam-Check-By: apache.org
Received: from [216.200.145.37] (HELO omta10.mta.everyone.net) (216.200.145.37)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 20 Jul 2004 07:07:46 -0700
Received: from sitemail.everyone.net (bigip1-snat [216.200.145.29])
	by omta10.mta.everyone.net (Postfix) with ESMTP id C370E13DFBB
	for <lucene-user@jakarta.apache.org>; Tue, 20 Jul 2004 07:07:32 -0700 (PDT)
Received: by sitemail.everyone.net (Postfix, from userid 99)
	id 2FABD3958; Tue, 20 Jul 2004 07:07:30 -0700 (PDT)
Content-Type: text/plain
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0
X-Mailer: MIME-tools 5.41 (Entity 5.404)
Date: Tue, 20 Jul 2004 07:07:30 -0700 (PDT)
From: Ian McDonnell <ian@spinnerscity.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: The indexer
Reply-To: ian@spinnerscity.com
X-Originating-Ip: [193.1.132.28]
X-Eon-Sig: AQDOAZ5A/SciAAJT0gEAAAAB,688bdc5c59d908218a2c71131b580fc8
Message-Id: <20040720140730.2FABD3958@sitemail.everyone.net>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yeah that last part of your reply seems to be what i'm trying to do(you're going to have to excuse me as i'm a total newbie to Lucene and am only finding my feet with it). I searched the archives and went back through it manually just there, but didnt find any relevant posts in the archive.

>As for indexing data from mysql - there have been lots of discussions 
>of that recently, so check the archives.  Basically you read the data, 
>and index it with Lucene's API.  And you are responsible for keeping it >in sync.

The problem i am having is reading the data from the sql tables and then using the indexer to store it. Has anybody indexed from a mysql table before? If so, do i need to create some kind of JDBC query that selects all the field values from the table and indexes them in a lucene document that is stored on the server? If i do this, how can this process be automated rather than manually running the program everytime a new profile is added via the jsp form? 

Erik, i'm not sure what you mean about keeping the db in sync. Are you talking about stale or updated db entries?

Ian

Ian

	Erik


--- Erik Hatcher <erik@ehatchersolutions.com> wrote:
On Jul 20, 2004, at 8:44 AM, Ian McDonnell wrote:
> Can Lucenes indexer be used to store info in fields in a mysql db?

I'm not quite clear on your question.  You want to store a Lucene index 
(aka Directory) within mysql?

Or, you want to index data from your existing mysql database into a 
Lucene index?

A Directory implementation for Berkeley DB was created by the Chandler 
project and contributed to the Lucene sandbox (see Lucene's website for 
details on the sandbox and how to get to it).  There has been some 
efforts to put a Lucene index into SQL Server, I believe, but I haven't 
seen mention of that in a while.  It *can* be done, but I'm skeptical 
of the performance hit of adding in a relational database layer - and 
to do it well would certainly be non-trivial.

As for indexing data from mysql - there have been lots of discussions 
of that recently, so check the archives.  Basically you read the data, 
and index it with Lucene's API.  And you are responsible for keeping it 
in sync.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



_____________________________________________________________
Sign up for FREE email from SpinnersCity Online Dance Magazine & Vortal at http://www.spinnerscity.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9357-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 14:09:16 2004
Return-Path: <lucene-user-return-9357-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18933 invoked from network); 20 Jul 2004 14:09:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 14:09:15 -0000
Received: (qmail 92139 invoked by uid 500); 20 Jul 2004 14:09:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92044 invoked by uid 500); 20 Jul 2004 14:09:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92025 invoked by uid 99); 20 Jul 2004 14:09:06 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=FOR_FREE
X-Spam-Check-By: apache.org
Received: from [128.143.184.74] (HELO postfix.mail.ehatchersolutions.com) (128.143.184.74)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 20 Jul 2004 07:09:03 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 40621826016
	for <lucene-user@jakarta.apache.org>; Tue, 20 Jul 2004 10:09:06 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <20040720132912.625A7395D@sitemail.everyone.net>
References: <20040720132912.625A7395D@sitemail.everyone.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <59D7F60C-DA56-11D8-81B3-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: The indexer
Date: Tue, 20 Jul 2004 10:09:01 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jul 20, 2004, at 9:29 AM, Ian McDonnell wrote:
> Basically i add details about a movie clip as various fields in an sql 
> db using a jsp form. When the form submits i want to add the details 
> into the db and also want the fields to be stored as a searchable 
> lucene index on the server.
>
> Is this possible?

Of course.  But you'll have to code it.  It's only a few lines of code 
to index a "document" into a Lucene index, but it is up to you to code 
those into the appropriate spot in your system (most likely right where 
you insert into mysql).

	Erik

>
> Ian
>
>
> --- Erik Hatcher <erik@ehatchersolutions.com> wrote:
> On Jul 20, 2004, at 8:44 AM, Ian McDonnell wrote:
>> Can Lucenes indexer be used to store info in fields in a mysql db?
>
> I'm not quite clear on your question.  You want to store a Lucene index
> (aka Directory) within mysql?
>
> Or, you want to index data from your existing mysql database into a
> Lucene index?
>
> A Directory implementation for Berkeley DB was created by the Chandler
> project and contributed to the Lucene sandbox (see Lucene's website for
> details on the sandbox and how to get to it).  There has been some
> efforts to put a Lucene index into SQL Server, I believe, but I haven't
> seen mention of that in a while.  It *can* be done, but I'm skeptical
> of the performance hit of adding in a relational database layer - and
> to do it well would certainly be non-trivial.
>
> As for indexing data from mysql - there have been lots of discussions
> of that recently, so check the archives.  Basically you read the data,
> and index it with Lucene's API.  And you are responsible for keeping it
> in sync.
>
> 	Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> _____________________________________________________________
> Sign up for FREE email from SpinnersCity Online Dance Magazine & 
> Vortal at http://www.spinnerscity.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9358-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 14:31:17 2004
Return-Path: <lucene-user-return-9358-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33408 invoked from network); 20 Jul 2004 14:31:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 14:31:17 -0000
Received: (qmail 39381 invoked by uid 500); 20 Jul 2004 14:31:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39358 invoked by uid 500); 20 Jul 2004 14:31:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39342 invoked by uid 99); 20 Jul 2004 14:31:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.184.74] (HELO postfix.mail.ehatchersolutions.com) (128.143.184.74)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 20 Jul 2004 07:31:05 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id AD933826166
	for <lucene-user@jakarta.apache.org>; Tue, 20 Jul 2004 10:31:09 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <20040720140730.2FABD3958@sitemail.everyone.net>
References: <20040720140730.2FABD3958@sitemail.everyone.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <70205950-DA59-11D8-81B3-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: The indexer
Date: Tue, 20 Jul 2004 10:31:07 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jul 20, 2004, at 10:07 AM, Ian McDonnell wrote:
>> As for indexing data from mysql - there have been lots of discussions
>> of that recently, so check the archives.  Basically you read the data,
>> and index it with Lucene's API.  And you are responsible for keeping 
>> it >in sync.
>
> The problem i am having is reading the data from the sql tables and 
> then using the indexer to store it. Has anybody indexed from a mysql 
> table before? If so, do i need to create some kind of JDBC query that 
> selects all the field values from the table and indexes them in a 
> lucene document that is stored on the server? If i do this, how can 
> this process be automated rather than manually running the program 
> everytime a new profile is added via the jsp form?

How you get the data from  your database is really up to you.  Some 
folks here may be able to offer some advice, but ultimately it is 
specific to your application and business process.

Once you have the data, via some query (again, this is up to you how 
you do it) you use Lucene's IndexWriter, create new Document's, add 
Field's to them, add the document to the writer, then close the writer. 
  That's all there is to indexing a document with Lucene.

As for automation - again this is up to your application but certainly 
you can interact with a Lucene index from your application so that it 
is not a manual separate indexing step.

> Erik, i'm not sure what you mean about keeping the db in sync. Are you 
> talking about stale or updated db entries?

You need to ensure that when data changes, the index is updated to 
reflect those changes.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9359-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 15:29:11 2004
Return-Path: <lucene-user-return-9359-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75357 invoked from network); 20 Jul 2004 15:29:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 15:29:11 -0000
Received: (qmail 86016 invoked by uid 500); 20 Jul 2004 15:28:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85947 invoked by uid 500); 20 Jul 2004 15:28:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85869 invoked by uid 99); 20 Jul 2004 15:28:36 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_BY_IP,SB_NEW_BULK,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [216.239.56.241] (HELO mproxy.gmail.com) (216.239.56.241)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 20 Jul 2004 08:28:33 -0700
Received: by mproxy.gmail.com with SMTP id w29so5824513cwb
        for <lucene-user@jakarta.apache.org>; Tue, 20 Jul 2004 08:28:32 -0700 (PDT)
Received: by 10.11.99.40 with SMTP id w40mr335894cwb;
        Tue, 20 Jul 2004 08:28:32 -0700 (PDT)
Message-ID: <8837fb77040720082869536f3d@mail.gmail.com>
Date: Tue, 20 Jul 2004 17:28:28 +0200
From: John Wang <john.wang@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: lucene cutomized indexing
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi:
   I am trying to store some Databased like field values into lucene.
I have my own way of storing field values in a customized format.

   I guess my question is wheather we can make the Reader/Writer
classes, e.g. FieldReader, FieldWriter, DocumentReader/Writer classes
non-final?

   I have asked to make the Lucene API less restrictive many many many
times but got no replies. Is this request feasible?

Thanks

-John

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9360-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 15:29:22 2004
Return-Path: <lucene-user-return-9360-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75483 invoked from network); 20 Jul 2004 15:29:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 15:29:22 -0000
Received: (qmail 87346 invoked by uid 500); 20 Jul 2004 15:28:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87235 invoked by uid 500); 20 Jul 2004 15:28:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87118 invoked by uid 99); 20 Jul 2004 15:28:50 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_50_60,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [64.65.202.3] (HELO contextmedia.com) (64.65.202.3)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 20 Jul 2004 08:28:47 -0700
Received: from ppeddi ([192.168.1.48]) by contextmedia.com ; Tue, 20 Jul 2004 11:28:35 -0400
Message-ID: <006d01c46e6e$3b6c2ea0$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "lucenelist" <lucene-user@jakarta.apache.org>
Subject: No change in the indexing time after increase the merge factor
Date: Tue, 20 Jul 2004 11:28:39 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_006A_01C46E4C.B44C36C0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_006A_01C46E4C.B44C36C0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I performed lucene indexing with 25,000 documents.
We feel that indexing is slow, so I am trying to tune it.
My configuration is as follow:
Machine: Windows XP, 1GB RAM, 3GHz
# of documents: 25,000
App Server: Weblogic 7.0
lucene version: lucene 1.4 final

I ran the indexer with merge factor of 10 and 50. Both times, the total =
indexing time (lucene time only) is almost the same (27.92 mins for =
mergefactor=3D10 and 28.11 mins for mergefactor=3D50).

>From the lucene mails and lucene related articles I read, I thought =
increasing merge factor will imporve the performance of indexing. Am I =
wrong?


Praveen


**************************************************************=20
Praveen Peddi
Sr Software Engg, Context Media, Inc.=20
email:ppeddi@contextmedia.com=20
Tel:  401.854.3475=20
Fax:  401.861.3596=20
web: http://www.contextmedia.com=20
**************************************************************=20
Context Media- "The Leader in Enterprise Content Integration"=20

------=_NextPart_000_006A_01C46E4C.B44C36C0--


From lucene-user-return-9361-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 16:00:19 2004
Return-Path: <lucene-user-return-9361-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99531 invoked from network); 20 Jul 2004 16:00:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 16:00:19 -0000
Received: (qmail 98540 invoked by uid 500); 20 Jul 2004 15:56:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98483 invoked by uid 500); 20 Jul 2004 15:56:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98400 invoked by uid 99); 20 Jul 2004 15:56:33 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received: from [212.227.126.183] (HELO moutng.kundenserver.de) (212.227.126.183)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 20 Jul 2004 08:56:30 -0700
Received: from [212.227.126.208] (helo=mrelayng.kundenserver.de)
	by moutng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1Bmwyh-00031S-00
	for lucene-user@jakarta.apache.org; Tue, 20 Jul 2004 17:56:27 +0200
Received: from [82.135.8.206] (helo=192.168.10.101)
	by mrelayng.kundenserver.de with asmtp (TLSv1:RC4-MD5:128)
	(Exim 3.35 #1)
	id 1Bmwyh-0003OQ-00
	for lucene-user@jakarta.apache.org; Tue, 20 Jul 2004 17:56:27 +0200
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: lucene cutomized indexing
Date: Tue, 20 Jul 2004 17:56:26 +0200
User-Agent: KMail/1.5.1
References: <8837fb77040720082869536f3d@mail.gmail.com>
In-Reply-To: <8837fb77040720082869536f3d@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200407201756.26479.daniel.naber@t-online.de>
X-Provags-ID: kundenserver.de abuse@kundenserver.de auth:94b5a5949d2eb00693e70b0c89be5163
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday 20 July 2004 17:28, John Wang wrote:

>    I have asked to make the Lucene API less restrictive many many many
> times but got no replies.

I suggest you just change it in your source and see if it works. Then you can 
still explain what exactly you did and why it's useful. From the developers 
point-of-view having things non-final means more stuff is exposed and making 
changes is more difficult (unless one accepts that derived classes may break 
with the next update).

Regards
 Daniel


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9362-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 16:05:16 2004
Return-Path: <lucene-user-return-9362-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5047 invoked from network); 20 Jul 2004 16:05:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 16:05:16 -0000
Received: (qmail 35513 invoked by uid 500); 20 Jul 2004 16:05:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35440 invoked by uid 500); 20 Jul 2004 16:05:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35346 invoked by uid 99); 20 Jul 2004 16:05:02 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 20 Jul 2004 09:04:59 -0700
Received: (qmail 44110 invoked by uid 89); 20 Jul 2004 16:04:57 -0000
Received: from unknown (HELO ?192.168.168.81?) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 20 Jul 2004 16:04:57 -0000
Message-ID: <40FD428C.9010101@apache.org>
Date: Tue, 20 Jul 2004 09:04:28 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040619
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Post-sorted inverted index?
References: <F36CECB25A260542A3FD097C50B1EA3C03FD2A@mailbe04.mc.vanderbilt.edu>
In-Reply-To: <F36CECB25A260542A3FD097C50B1EA3C03FD2A@mailbe04.mc.vanderbilt.edu>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You can define a subclass of FilterIndexReader that re-sorts documents 
in TermPositions(Term) and document(int), then use 
IndexWriter.addIndexes() to write this in Lucene's standard format.  I 
have done this in Nutch, with the (as yet unused) IndexOptimizer.

http://cvs.sourceforge.net/viewcvs.py/nutch/nutch/src/java/net/nutch/indexer/IndexOptimizer.java?view=markup

Doug

Aphinyanaphongs, Yindalon wrote:
> I gather from reading the documentation that the scores for each document hit are computed at query time.  I have an application that, due to the complexity of the function, cannot compute scores at query time.  Would it be possible for me to store the documents in pre-sorted order in the inverted index? (i.e. after the initial index is created, to have a post processing step to sort and reindex the final documents).
>  
> For example:
> Document A - score 0.2
> Document B - score 0.4
> Document C - score 0.6
>  
> Thus for the word 'the', the stored order in the index would be C,B,A.
>  
> Thanks!
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9363-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 16:12:57 2004
Return-Path: <lucene-user-return-9363-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10606 invoked from network); 20 Jul 2004 16:12:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 16:12:57 -0000
Received: (qmail 67480 invoked by uid 500); 20 Jul 2004 16:12:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67379 invoked by uid 500); 20 Jul 2004 16:12:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67306 invoked by uid 99); 20 Jul 2004 16:12:26 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_BY_IP,SB_NEW_BULK,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [216.239.56.243] (HELO mproxy.gmail.com) (216.239.56.243)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 20 Jul 2004 09:12:23 -0700
Received: by mproxy.gmail.com with SMTP id w29so5853572cwb
        for <lucene-user@jakarta.apache.org>; Tue, 20 Jul 2004 09:12:21 -0700 (PDT)
Received: by 10.11.99.56 with SMTP id w56mr183549cwb;
        Tue, 20 Jul 2004 09:12:21 -0700 (PDT)
Message-ID: <8837fb770407200912fdd5c28@mail.gmail.com>
Date: Tue, 20 Jul 2004 18:12:21 +0200
From: John Wang <john.wang@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: lucene cutomized indexing
In-Reply-To: <200407201756.26479.daniel.naber@t-online.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <8837fb77040720082869536f3d@mail.gmail.com> <200407201756.26479.daniel.naber@t-online.de>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Daniel:

     There are few things I want to do to be able to customize lucene:

1) to be able to plug in a different similarity model (e.g. bayesian,
vector space etc.)

2) to be able to store certain fields in its own format and provide
corresponding readers. I may not want to store every field in the
lexicon/inverted index structure. I may have fields that doesn't make
sense to store the position or frequency information.

3) to be able to customize analyzers to add more information to the
Token while doing tokenization.

Oleg mentioned about the HayStack project. In the HayStack source
code, they had to modifiy many lucene class to make them non-final in
order to customzie. They make sure during deployment their "versions"
gets loaded before the same classes in the lucene .jar. It is
cumbersome, but it is a Lucene restriction they had to live with.

I believe there are many other users feel the same way. 

If I write some classes that derives from the lucene API and it
breaks, then it is my responsibility to fix it. I don't understand why
it would add burden to the Lucene developers.

Thanks

-John

On Tue, 20 Jul 2004 17:56:26 +0200, Daniel Naber
<daniel.naber@t-online.de> wrote:
> On Tuesday 20 July 2004 17:28, John Wang wrote:
> 
> >    I have asked to make the Lucene API less restrictive many many many
> > times but got no replies.
> 
> I suggest you just change it in your source and see if it works. Then you can
> still explain what exactly you did and why it's useful. From the developers
> point-of-view having things non-final means more stuff is exposed and making
> changes is more difficult (unless one accepts that derived classes may break
> with the next update).
> 
> Regards
> Daniel
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9364-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 16:42:09 2004
Return-Path: <lucene-user-return-9364-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28092 invoked from network); 20 Jul 2004 16:42:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 16:42:09 -0000
Received: (qmail 50675 invoked by uid 500); 20 Jul 2004 16:42:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50625 invoked by uid 500); 20 Jul 2004 16:42:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50612 invoked by uid 99); 20 Jul 2004 16:42:03 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [216.136.173.238] (HELO web12701.mail.yahoo.com) (216.136.173.238)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 20 Jul 2004 09:41:59 -0700
Message-ID: <20040720164157.42184.qmail@web12701.mail.yahoo.com>
Received: from [194.152.216.207] by web12701.mail.yahoo.com via HTTP; Tue, 20 Jul 2004 09:41:57 PDT
Date: Tue, 20 Jul 2004 09:41:57 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: No change in the indexing time after increase the merge factor
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <006d01c46e6e$3b6c2ea0$aa87a8c0@ppeddi>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

All Lucene articles that I know of were written before
IndexWriter.minMergeDocs was added.  Check IndexWriter javadoc for more
info, but this is another field you can tune.

Otis 

--- Praveen Peddi <ppeddi@contextmedia.com> wrote:
> I performed lucene indexing with 25,000 documents.
> We feel that indexing is slow, so I am trying to tune it.
> My configuration is as follow:
> Machine: Windows XP, 1GB RAM, 3GHz
> # of documents: 25,000
> App Server: Weblogic 7.0
> lucene version: lucene 1.4 final
> 
> I ran the indexer with merge factor of 10 and 50. Both times, the
> total indexing time (lucene time only) is almost the same (27.92 mins
> for mergefactor=10 and 28.11 mins for mergefactor=50).
> 
> From the lucene mails and lucene related articles I read, I thought
> increasing merge factor will imporve the performance of indexing. Am
> I wrong?
> 
> 
> Praveen
> 
> 
> ************************************************************** 
> Praveen Peddi
> Sr Software Engg, Context Media, Inc. 
> email:ppeddi@contextmedia.com 
> Tel:  401.854.3475 
> Fax:  401.861.3596 
> web: http://www.contextmedia.com 
> ************************************************************** 
> Context Media- "The Leader in Enterprise Content Integration" 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9365-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 17:19:35 2004
Return-Path: <lucene-user-return-9365-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46741 invoked from network); 20 Jul 2004 17:19:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 17:19:35 -0000
Received: (qmail 13437 invoked by uid 500); 20 Jul 2004 17:19:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13274 invoked by uid 500); 20 Jul 2004 17:19:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13251 invoked by uid 99); 20 Jul 2004 17:19:27 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_70_80,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [216.136.173.58] (HELO smtp014.mail.yahoo.com) (216.136.173.58)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 20 Jul 2004 10:19:24 -0700
Received: from unknown (HELO Sergio) (shernade@80.38.0.43 with login)
  by smtp014.mail.yahoo.com with SMTP; 20 Jul 2004 17:19:23 -0000
Message-ID: <004b01c46e7d$b261ae90$e00aa8c0@Sergio>
From: "Sergio" <shernade@yahoo.es>
To: <lucene-user@jakarta.apache.org>
Subject: join two indexes
Date: Tue, 20 Jul 2004 19:19:19 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0048_01C46E8E.748FA980"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0048_01C46E8E.748FA980
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,
i want to join two lucene indexes but i dont know how to do that.

For example i have a student index and a school index.=20
In the scholl index i have the studentId field.


How to do that ?
Any idea will be wellcomed.
Thx, Sergio.


------=_NextPart_000_0048_01C46E8E.748FA980--


From lucene-user-return-9366-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 17:27:31 2004
Return-Path: <lucene-user-return-9366-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51011 invoked from network); 20 Jul 2004 17:27:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 17:27:31 -0000
Received: (qmail 24969 invoked by uid 500); 20 Jul 2004 17:27:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24862 invoked by uid 500); 20 Jul 2004 17:27:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24849 invoked by uid 99); 20 Jul 2004 17:27:23 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [192.18.98.34] (HELO brmea-mail-3.sun.com) (192.18.98.34)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 20 Jul 2004 10:27:21 -0700
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by brmea-mail-3.sun.com (8.12.10/8.12.9) with ESMTP id i6KHRKil027215
	for <lucene-user@jakarta.apache.org>; Tue, 20 Jul 2004 11:27:20 -0600 (MDT)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0I1500G01V1CXW@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Tue, 20 Jul 2004 10:27:20 -0700 (PDT)
Received: from Sun.COM (sr1-usjc07-03.SFBay.Sun.COM [129.145.21.58])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0I1500FZBV5KB9@ha21sca-mail1.sfbay.sun.com> for
 lucene-user@jakarta.apache.org; Tue, 20 Jul 2004 10:27:20 -0700 (PDT)
Date: Tue, 20 Jul 2004 10:27:20 -0700
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Syntax of Query
To: Lucene Users List <lucene-user@jakarta.apache.org>
Reply-to: Hetan.Shah@Sun.COM
Message-id: <40FD55F8.60901@Sun.COM>
MIME-version: 1.0
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.4) Gecko/20040414
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey guys,

Need some help with creating a query. Here is the scenario:

Field 1: ________________
Field 2: ________________
Field 3: ________________


MultiSelect 1 :____________
                    ____________
                    ____________
                    ____________


MultiSelect 2 :____________
                    ____________
                    ____________
                    ____________

What would the query look like if the condition is at any time there 
will be one entry from field 1, 2, or 3 and few entries from 
MultiSelect1 and few entries from MultiSelect.

Would it look something like

+field1 +(val11 OR val12 OR val14) +(val21 OR val23 OR val24)

Thanks for all you guys support.
-H


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9367-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 17:31:11 2004
Return-Path: <lucene-user-return-9367-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52939 invoked from network); 20 Jul 2004 17:31:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 17:31:10 -0000
Received: (qmail 36452 invoked by uid 500); 20 Jul 2004 17:31:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36423 invoked by uid 500); 20 Jul 2004 17:31:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36406 invoked by uid 99); 20 Jul 2004 17:31:00 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=FORGED_RCVD_HELO,HTML_30_40,HTML_FONT_BIG,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [66.207.192.6] (HELO mta0.beanfield.net) (66.207.192.6)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 20 Jul 2004 10:30:58 -0700
Received: from don.webimpact.com (66-207-218-34.beanfield.net [66.207.218.34] (may be forged))
	by mta0.beanfield.net (8.12.11/8.12.6) with ESMTP id i6KHUkoN025729
	for <lucene-user@jakarta.apache.org>; Tue, 20 Jul 2004 13:30:50 -0400 (EDT)
	(envelope-from donv@webimpact.com)
Message-Id: <6.1.1.1.0.20040720132703.01bc14d8@localhost>
X-Sender: donv@web-impact.com@localhost
X-Mailer: QUALCOMM Windows Eudora Version 6.1.1.1
Date: Tue, 20 Jul 2004 13:32:26 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Don Vaillancourt <donv@webimpact.com>
Subject: Here is how to search multiple indexes
In-Reply-To: <004b01c46e7d$b261ae90$e00aa8c0@Sergio>
References: <004b01c46e7d$b261ae90$e00aa8c0@Sergio>
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====================_525598843==.ALT"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=====================_525598843==.ALT
Content-Type: text/plain; charset="us-ascii"; format=flowed

Here is the code that I use to do multi-index searches:

// create a multi index searcher
IndexSearcher indexes[] = new IndexSearcher[n];  // where n is the number 
of indexes to search

for (int i = 0; i < n; i++)
{
         // use whichever IndexSearcher constructor you want
         // blah is the appropriate value to pass
         indexes[i] = new IndexSearcher(blah);
}

// This is the part which allows you to search multiple indexes
Searcher searcher = new MultiSearcher(indexes);

// do the search
Analyzer analyzer = new StandardAnalyzer();
Query query = QueryParser.parse(expression, colSearch, analyzer);

searcher.search(query);


At 01:19 PM 20/07/2004, you wrote:
>Hi,
>i want to join two lucene indexes but i dont know how to do that.
>
>For example i have a student index and a school index.
>In the scholl index i have the studentId field.
>
>
>How to do that ?
>Any idea will be wellcomed.
>Thx, Sergio.

Don Vaillancourt
Director of Software Development

WEB IMPACT INC.
416-815-2000 ext. 245
email: donv@web-impact.com
web: http://www.web-impact.com




This email message is intended only for the addressee(s)
and contains information that may be confidential and/or
copyright.  If you are not the intended recipient please
notify the sender by reply email and immediately delete
this email. Use, disclosure or reproduction of this email
by anyone other than the intended recipient(s) is strictly
prohibited. No representation is made that this email or
any attachments are free of viruses. Virus scanning is
recommended and is the responsibility of the recipient.












--=====================_525598843==.ALT--


From lucene-user-return-9368-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 17:40:42 2004
Return-Path: <lucene-user-return-9368-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57179 invoked from network); 20 Jul 2004 17:40:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 17:40:42 -0000
Received: (qmail 58183 invoked by uid 500); 20 Jul 2004 17:40:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58125 invoked by uid 500); 20 Jul 2004 17:40:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58112 invoked by uid 99); 20 Jul 2004 17:40:34 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.184.74] (HELO postfix.mail.ehatchersolutions.com) (128.143.184.74)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 20 Jul 2004 10:40:31 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 31FCA8321CB
	for <lucene-user@jakarta.apache.org>; Tue, 20 Jul 2004 13:40:29 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <8837fb770407200912fdd5c28@mail.gmail.com>
References: <8837fb77040720082869536f3d@mail.gmail.com> <200407201756.26479.daniel.naber@t-online.de> <8837fb770407200912fdd5c28@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <E3D902D0-DA73-11D8-81B3-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: lucene cutomized indexing
Date: Tue, 20 Jul 2004 13:40:28 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jul 20, 2004, at 12:12 PM, John Wang wrote:
>      There are few things I want to do to be able to customize lucene:
>
[...]
>
> 3) to be able to customize analyzers to add more information to the
> Token while doing tokenization.

I have already provided my opinion on this one - I think it would be 
fine to allow Token to be public.  I'll let others respond to the 
additional requests you've made.

> Oleg mentioned about the HayStack project. In the HayStack source
> code, they had to modifiy many lucene class to make them non-final in
> order to customzie. They make sure during deployment their "versions"
> gets loaded before the same classes in the lucene .jar. It is
> cumbersome, but it is a Lucene restriction they had to live with.

Wow - I didn't realize that they've made local changes.  Did they post 
with requests for opening things up as you have?  Did they submit 
patches with their local changes?

> I believe there are many other users feel the same way.

Then they should speak up :)

> If I write some classes that derives from the lucene API and it
> breaks, then it is my responsibility to fix it. I don't understand why
> it would add burden to the Lucene developers.

Making things extensible for no good reason is asking for maintenance 
troubles later when you need more control internally.  Lucene has been 
well designed from the start with extensibility only where it was 
needed in mind.  It has evolved to be more open in very specific areas 
after careful consideration of the performance impact has been weighed. 
  "Breaking" is not really the concern with extensibility, I don't 
think.  Real-world use cases are needed to show that changes need to be 
made.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9369-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 17:52:25 2004
Return-Path: <lucene-user-return-9369-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63395 invoked from network); 20 Jul 2004 17:52:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 17:52:24 -0000
Received: (qmail 81950 invoked by uid 500); 20 Jul 2004 17:52:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81741 invoked by uid 500); 20 Jul 2004 17:52:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81728 invoked by uid 99); 20 Jul 2004 17:52:17 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [64.30.32.11] (HELO smtp.airsmail.com) (64.30.32.11)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 20 Jul 2004 10:52:14 -0700
Received: from trinidad (dhcp5-004.airscorp.com [10.0.5.4])
	(authenticated)
	by smtp.airsmail.com (8.11.6/8.11.6) with ESMTP id i6KHq3I32559
	for <lucene-user@jakarta.apache.org>; Tue, 20 Jul 2004 13:52:06 -0400
From: "Mark Florence" <mflorence@airsmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Very slow IndexReader.open() performance
Date: Tue, 20 Jul 2004 13:52:03 -0400
Message-ID: <DIENLCKNNDCDMPIEODNMOEBLJJAA.mflorence@airsmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
Importance: Normal
In-Reply-To: <6.1.1.1.0.20040720132703.01bc14d8@localhost>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi -- We have a large index (~4m documents, ~14gb) that we haven't been
able to optimize for some time, because the JVM throws OutOfMemory, after
climbing to the maximum we can throw at it, 2gb. 

In fact, the OutOfMemory condition occurred most recently during a segment 
merge operation. maxMergeDocs was set to the default, and we seem to have
gotten around this problem by setting it to some lower value, currently
100,000. The index is highly interactive so I took the hint from earlier
posts to set it to this value.

Good news! No more OutOfMemory conditions.

Bad news: now, calling IndexReader.open() is taking 20+ seconds, and it 
is killing performance.

I followed the design pattern in another earlier post from Doug. I take a
batch of deletes, open an IndexReader, perform the deletes, then close it.
Then I take a batch of adds, open an IndexWriter, perform the adds, then
close it. Then I get a new IndexSearcher for searching.

But because the index is so interactive, this sequence repeats itself all
the time. 

My question is, is there a better way? Performance was fine when I could
optimize. Can I hold onto singleton a IndexReader/IndexWriter/IndexSearcher
to avoid the overhead of the open?

Any help would be most gratefully received.

Mark Florence, CTO, AIRS
mflorence@airsmail.com
800-897-7714x1703


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9370-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 18:02:36 2004
Return-Path: <lucene-user-return-9370-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69242 invoked from network); 20 Jul 2004 18:02:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 18:02:35 -0000
Received: (qmail 3194 invoked by uid 500); 20 Jul 2004 18:02:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3107 invoked by uid 500); 20 Jul 2004 18:02:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3079 invoked by uid 99); 20 Jul 2004 18:02:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [194.25.134.19] (HELO mailout06.sul.t-online.com) (194.25.134.19)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 20 Jul 2004 11:02:23 -0700
Received: from fwd03.aul.t-online.de 
	by mailout06.sul.t-online.com with smtp 
	id 1BmywX-0006Im-01; Tue, 20 Jul 2004 20:02:21 +0200
Received: from pD9EBF270.dip.t-dialin.net (Z4fMyMZbYe3zoRHBKn6P-OY8u3ZOAD5SGot-EisVETx6EgilH6XkUN@[217.235.242.112]) by fmrl03.sul.t-online.com
	with esmtp id 1BmywT-1OVWwC0; Tue, 20 Jul 2004 20:02:17 +0200
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: lucene cutomized indexing
Date: Tue, 20 Jul 2004 20:03:05 +0200
User-Agent: KMail/1.6.82
References: <8837fb77040720082869536f3d@mail.gmail.com> <200407201756.26479.daniel.naber@t-online.de> <8837fb770407200912fdd5c28@mail.gmail.com>
In-Reply-To: <8837fb770407200912fdd5c28@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200407202003.05088@danielnaber.de>
X-ID: Z4fMyMZbYe3zoRHBKn6P-OY8u3ZOAD5SGot-EisVETx6EgilH6XkUN@t-dialin.net
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday 20 July 2004 18:12, John Wang wrote:

> They make sure during deployment their "versions"
> gets loaded before the same classes in the lucene .jar.

I don't see why people cannot just make their own lucene.jar. Just remove 
the "final" and recompile. Finally, Lucene is Open Source.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9371-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 18:06:23 2004
Return-Path: <lucene-user-return-9371-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71242 invoked from network); 20 Jul 2004 18:06:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 18:06:22 -0000
Received: (qmail 8234 invoked by uid 500); 20 Jul 2004 18:06:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8147 invoked by uid 500); 20 Jul 2004 18:06:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8134 invoked by uid 99); 20 Jul 2004 18:06:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 20 Jul 2004 11:06:12 -0700
Received: (qmail 92617 invoked by uid 89); 20 Jul 2004 18:06:10 -0000
Received: from unknown (HELO ?192.168.168.81?) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 20 Jul 2004 18:06:10 -0000
Message-ID: <40FD5EF5.7050207@apache.org>
Date: Tue, 20 Jul 2004 11:05:41 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040619
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Very slow IndexReader.open() performance
References: <DIENLCKNNDCDMPIEODNMOEBLJJAA.mflorence@airsmail.com>
In-Reply-To: <DIENLCKNNDCDMPIEODNMOEBLJJAA.mflorence@airsmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Optimization should not require huge amounts of memory.  Can you tell a 
bit more about your configuration:  What JVM?  What OS?  How many 
fields?  What mergeFactor have you used?

Also, please attach the output of 'ls -l' of your index directory, as 
well as the stack trace you see when OutOfMemory is thrown.

Thanks,

Doug

Mark Florence wrote:
> Hi -- We have a large index (~4m documents, ~14gb) that we haven't been
> able to optimize for some time, because the JVM throws OutOfMemory, after
> climbing to the maximum we can throw at it, 2gb. 
> 
> In fact, the OutOfMemory condition occurred most recently during a segment 
> merge operation. maxMergeDocs was set to the default, and we seem to have
> gotten around this problem by setting it to some lower value, currently
> 100,000. The index is highly interactive so I took the hint from earlier
> posts to set it to this value.
> 
> Good news! No more OutOfMemory conditions.
> 
> Bad news: now, calling IndexReader.open() is taking 20+ seconds, and it 
> is killing performance.
> 
> I followed the design pattern in another earlier post from Doug. I take a
> batch of deletes, open an IndexReader, perform the deletes, then close it.
> Then I take a batch of adds, open an IndexWriter, perform the adds, then
> close it. Then I get a new IndexSearcher for searching.
> 
> But because the index is so interactive, this sequence repeats itself all
> the time. 
> 
> My question is, is there a better way? Performance was fine when I could
> optimize. Can I hold onto singleton a IndexReader/IndexWriter/IndexSearcher
> to avoid the overhead of the open?
> 
> Any help would be most gratefully received.
> 
> Mark Florence, CTO, AIRS
> mflorence@airsmail.com
> 800-897-7714x1703
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9372-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 18:08:20 2004
Return-Path: <lucene-user-return-9372-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72555 invoked from network); 20 Jul 2004 18:08:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 18:08:19 -0000
Received: (qmail 11653 invoked by uid 500); 20 Jul 2004 18:07:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11632 invoked by uid 500); 20 Jul 2004 18:07:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11609 invoked by uid 99); 20 Jul 2004 18:07:58 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [194.25.134.21] (HELO mailout10.sul.t-online.com) (194.25.134.21)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 20 Jul 2004 11:07:56 -0700
Received: from fwd00.aul.t-online.de 
	by mailout10.sul.t-online.com with smtp 
	id 1Bmz1v-0005Fa-00; Tue, 20 Jul 2004 20:07:55 +0200
Received: from pD9EBF270.dip.t-dialin.net (S8GnarZAYeW0bpccplwkdA7-ADCV6To8RwKCCyuWgMuBOXsOKNPS4T@[217.235.242.112]) by fmrl00.sul.t-online.com
	with esmtp id 1Bmz1o-1aDU3M0; Tue, 20 Jul 2004 20:07:48 +0200
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: join two indexes
Date: Tue, 20 Jul 2004 20:08:36 +0200
User-Agent: KMail/1.6.82
References: <004b01c46e7d$b261ae90$e00aa8c0@Sergio>
In-Reply-To: <004b01c46e7d$b261ae90$e00aa8c0@Sergio>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200407202008.36770@danielnaber.de>
X-ID: S8GnarZAYeW0bpccplwkdA7-ADCV6To8RwKCCyuWgMuBOXsOKNPS4T@t-dialin.net
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday 20 July 2004 19:19, Sergio wrote:

> i want to join two lucene indexes but i dont know how to do that.

There are two "addIndexes" methods in IndexWriter which you can use to 
write your own small merge tool (a ready-to-use tool for index merging 
doesn't exist AFAIK).

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9373-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 18:10:25 2004
Return-Path: <lucene-user-return-9373-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73841 invoked from network); 20 Jul 2004 18:10:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 18:10:25 -0000
Received: (qmail 17420 invoked by uid 500); 20 Jul 2004 18:10:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17231 invoked by uid 500); 20 Jul 2004 18:10:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17217 invoked by uid 99); 20 Jul 2004 18:10:14 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_BY_IP,SB_NEW_BULK,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [216.239.56.245] (HELO mproxy.gmail.com) (216.239.56.245)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 20 Jul 2004 11:10:12 -0700
Received: by mproxy.gmail.com with SMTP id w29so5924487cwb
        for <lucene-user@jakarta.apache.org>; Tue, 20 Jul 2004 11:10:11 -0700 (PDT)
Received: by 10.11.99.40 with SMTP id w40mr341269cwb;
        Tue, 20 Jul 2004 11:10:11 -0700 (PDT)
Message-ID: <8837fb770407201110beb1ad0@mail.gmail.com>
Date: Tue, 20 Jul 2004 20:10:11 +0200
From: John Wang <john.wang@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: lucene cutomized indexing
In-Reply-To: <E3D902D0-DA73-11D8-81B3-000393A564E6@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <8837fb77040720082869536f3d@mail.gmail.com> <200407201756.26479.daniel.naber@t-online.de> <8837fb770407200912fdd5c28@mail.gmail.com> <E3D902D0-DA73-11D8-81B3-000393A564E6@ehatchersolutions.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tue, 20 Jul 2004 13:40:28 -0400, Erik Hatcher
<erik@ehatchersolutions.com> wrote:
> On Jul 20, 2004, at 12:12 PM, John Wang wrote:
> >      There are few things I want to do to be able to customize lucene:
> >
> [...]
> >
> > 3) to be able to customize analyzers to add more information to the
> > Token while doing tokenization.
> 
> I have already provided my opinion on this one - I think it would be
> fine to allow Token to be public.  I'll let others respond to the
> additional requests you've made.

Great, what processes need to be in place before this gets in the code base? 
> 
> > Oleg mentioned about the HayStack project. In the HayStack source
> > code, they had to modifiy many lucene class to make them non-final in
> > order to customzie. They make sure during deployment their "versions"
> > gets loaded before the same classes in the lucene .jar. It is
> > cumbersome, but it is a Lucene restriction they had to live with.
> 
> Wow - I didn't realize that they've made local changes.  Did they post
> with requests for opening things up as you have?  Did they submit
> patches with their local changes?
> 
> > I believe there are many other users feel the same way.
> 
> Then they should speak up :)

Well, I AM speaking up. So have some other people in earlier emails.
But alike me, are getting ignored. The HayStack changes were needed
specifically due to the fact that many classes are declared to be
final and not extensible.

> 
> > If I write some classes that derives from the lucene API and it
> > breaks, then it is my responsibility to fix it. I don't understand why
> > it would add burden to the Lucene developers.
> 
> Making things extensible for no good reason is asking for maintenance
> troubles later when you need more control internally.  Lucene has been
> well designed from the start with extensibility only where it was
> needed in mind.  It has evolved to be more open in very specific areas
> after careful consideration of the performance impact has been weighed.
>  "Breaking" is not really the concern with extensibility, I don't
> think.  Real-world use cases are needed to show that changes need to be
> made.

I thought I gave many "real-world use cases" in the previous email.
And evidently also applies to the Haystack project. What other
information do we need to provide?

I don't want to diverge from the Lucene codebase like Haystack has
done. But I may not have a choice.

Thanks

-John

> 
>        Erik
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9374-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 18:19:34 2004
Return-Path: <lucene-user-return-9374-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77852 invoked from network); 20 Jul 2004 18:19:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 18:19:34 -0000
Received: (qmail 29021 invoked by uid 500); 20 Jul 2004 18:19:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28972 invoked by uid 500); 20 Jul 2004 18:19:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28958 invoked by uid 99); 20 Jul 2004 18:19:27 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_BY_IP,SB_NEW_BULK,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [216.239.56.252] (HELO mproxy.gmail.com) (216.239.56.252)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 20 Jul 2004 11:19:23 -0700
Received: by mproxy.gmail.com with SMTP id w29so5928818cwb
        for <lucene-user@jakarta.apache.org>; Tue, 20 Jul 2004 11:19:23 -0700 (PDT)
Received: by 10.11.99.40 with SMTP id w40mr341483cwb;
        Tue, 20 Jul 2004 11:19:23 -0700 (PDT)
Message-ID: <8837fb77040720111955abdbc5@mail.gmail.com>
Date: Tue, 20 Jul 2004 20:19:23 +0200
From: John Wang <john.wang@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: lucene cutomized indexing
In-Reply-To: <200407202003.05088@danielnaber.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <8837fb77040720082869536f3d@mail.gmail.com> <200407201756.26479.daniel.naber@t-online.de> <8837fb770407200912fdd5c28@mail.gmail.com> <200407202003.05088@danielnaber.de>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

That is what exactly they did and that's probably what I have to do.
But that means we are diverging from the lucene code base and future
fixes and enhancements need to be synchronized and that maybe a pain.

-John

On Tue, 20 Jul 2004 20:03:05 +0200, Daniel Naber
<daniel.naber@t-online.de> wrote:
> On Tuesday 20 July 2004 18:12, John Wang wrote:
> 
> > They make sure during deployment their "versions"
> > gets loaded before the same classes in the lucene .jar.
> 
> I don't see why people cannot just make their own lucene.jar. Just remove
> the "final" and recompile. Finally, Lucene is Open Source.
> 
> Regards
> Daniel
> 
> --
> http://www.danielnaber.de
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9375-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 18:20:33 2004
Return-Path: <lucene-user-return-9375-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78429 invoked from network); 20 Jul 2004 18:20:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 18:20:33 -0000
Received: (qmail 31449 invoked by uid 500); 20 Jul 2004 18:20:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31356 invoked by uid 500); 20 Jul 2004 18:20:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31221 invoked by uid 99); 20 Jul 2004 18:20:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.184.74] (HELO postfix.mail.ehatchersolutions.com) (128.143.184.74)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 20 Jul 2004 11:20:20 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 2E37C8322E2
	for <lucene-user@jakarta.apache.org>; Tue, 20 Jul 2004 14:20:24 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <8837fb770407201110beb1ad0@mail.gmail.com>
References: <8837fb77040720082869536f3d@mail.gmail.com> <200407201756.26479.daniel.naber@t-online.de> <8837fb770407200912fdd5c28@mail.gmail.com> <E3D902D0-DA73-11D8-81B3-000393A564E6@ehatchersolutions.com> <8837fb770407201110beb1ad0@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <76A6B387-DA79-11D8-81B3-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: lucene cutomized indexing
Date: Tue, 20 Jul 2004 14:20:22 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jul 20, 2004, at 2:10 PM, John Wang wrote:
>> I have already provided my opinion on this one - I think it would be
>> fine to allow Token to be public.  I'll let others respond to the
>> additional requests you've made.
>
> Great, what processes need to be in place before this gets in the code 
> base?

You're doing the right thing.  Although codebase details are most 
appropriate for the lucene-dev list.  And filing issues in Bugzilla 
ensures your requests do not get lost e-mail inboxes.

At this point, Lucene 1.4 has been released and Doug has put forth a 
proposal for Lucene 2.0 (with a migration path of a version 1.9 
intermediate release).  I'm not sure when the best time is to make this 
change.  We should put API changes to a VOTE on the lucene-dev list 
though.  In fact, I'll post a VOTE for Token now! :)


>> Then they should speak up :)
>
> Well, I AM speaking up. So have some other people in earlier emails.
> But alike me, are getting ignored.

You are not being ignored - not at all.  Look at the replies you've 
gotten already.

>  The HayStack changes were needed
> specifically due to the fact that many classes are declared to be
> final and not extensible.

Did they post their changes back?  Did they discuss them here?  I do 
not recall such discussions (although see above about being lost in 
e-mail inboxes - mine is swamped beyond belief).  Are there Bugzilla 
issues with their patches?

>> Making things extensible for no good reason is asking for maintenance
>> troubles later when you need more control internally.  Lucene has been
>> well designed from the start with extensibility only where it was
>> needed in mind.  It has evolved to be more open in very specific areas
>> after careful consideration of the performance impact has been 
>> weighed.
>>  "Breaking" is not really the concern with extensibility, I don't
>> think.  Real-world use cases are needed to show that changes need to 
>> be
>> made.
>
> I thought I gave many "real-world use cases" in the previous email.
> And evidently also applies to the Haystack project. What other
> information do we need to provide?

I was not referring to your requests in my comment, but rather a 
general comment regarding requests to make things "public" when quite 
sufficient alternatives exist.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9376-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 19:24:13 2004
Return-Path: <lucene-user-return-9376-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20602 invoked from network); 20 Jul 2004 19:24:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 19:24:13 -0000
Received: (qmail 21779 invoked by uid 500); 20 Jul 2004 19:24:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21067 invoked by uid 500); 20 Jul 2004 19:24:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21021 invoked by uid 99); 20 Jul 2004 19:24:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.230.248.25] (HELO gwia201.syr.edu) (128.230.248.25)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 20 Jul 2004 12:24:04 -0700
Received: from MTA2-MTA by gwia201.syr.edu
	with Novell_GroupWise; Tue, 20 Jul 2004 15:23:59 -0400
Message-Id: <s0fd390f.090@gwia201.syr.edu>
X-Mailer: Novell GroupWise Internet Agent 6.0.4
Date: Tue, 20 Jul 2004 15:23:33 -0400
From: "Grant Ingersoll" <gsingers@syr.edu>
To: <lucene-user@jakarta.apache.org>
Subject: Tokenizers and java.text.BreakIterator
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Was wondering if anyone uses java.text.BreakIterator#getWordInstance(Locale=
) as a tokenizer for various languages?  Does it do a good job?  It seems =
like it does, at least for languages where words are separated by spaces =
or punctuation, but I have only done simple tests.

Anyone have any thoughts on this?  What am I missing?  Does this seem like =
a valid approach?

Thanks,
Grant


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9377-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 19:29:54 2004
Return-Path: <lucene-user-return-9377-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24230 invoked from network); 20 Jul 2004 19:29:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 19:29:54 -0000
Received: (qmail 32143 invoked by uid 500); 20 Jul 2004 19:29:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31968 invoked by uid 500); 20 Jul 2004 19:29:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31955 invoked by uid 99); 20 Jul 2004 19:29:47 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_50_60,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [66.92.182.100] (HELO liquidsys.com) (66.92.182.100)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 20 Jul 2004 12:29:44 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
Subject: Lucene vs. MySQL Full-Text
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C46E90.68F26FA2"
Date: Tue, 20 Jul 2004 12:29:56 -0700
Message-ID: <062EF322A9DDF14B887BCAE6C5F7E075047C75@exch1.liquidsys.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene vs. MySQL Full-Text
Thread-Index: AcRuj/BkULNcOU4IQGiNxnwA4V8ZGA==
From: "Tim Brennan" <tim@liquidsys.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C46E90.68F26FA2
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Someone came into my office today and asked me about the project I am
trying to Lucene for -- "why aren't you just using a MySQL full-text
index to do that" -- after thinking about it for a few minutes, I
realized I don't have a great answer.
=20
MySQL builds inverted indexes for (in theory) doing the same type of
lookup that lucene does.  You'd maybe have to build some kind of a layer
on the front to mimic Lucene's analyzers, but that wouldn't be too
hard....
=20
My only experience with MySQLfulltext is trivial test apps -- but the
MySQL world does have some significant advantages (its a known quantity
from an operations perspective, etc).....  Does anyone out there have
anything more concrete they can add?
=20
--tim
=20

------_=_NextPart_001_01C46E90.68F26FA2--

From lucene-user-return-9378-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 19:37:49 2004
Return-Path: <lucene-user-return-9378-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29714 invoked from network); 20 Jul 2004 19:37:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 19:37:49 -0000
Received: (qmail 48324 invoked by uid 500); 20 Jul 2004 19:37:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48199 invoked by uid 500); 20 Jul 2004 19:37:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48185 invoked by uid 99); 20 Jul 2004 19:37:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.230.248.25] (HELO gwia201.syr.edu) (128.230.248.25)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 20 Jul 2004 12:37:41 -0700
Received: from MTA2-MTA by gwia201.syr.edu
	with Novell_GroupWise; Tue, 20 Jul 2004 15:37:39 -0400
Message-Id: <s0fd3c43.042@gwia201.syr.edu>
X-Mailer: Novell GroupWise Internet Agent 6.0.4
Date: Tue, 20 Jul 2004 15:37:35 -0400
From: "Grant Ingersoll" <gsingers@syr.edu>
To: <lucene-user@jakarta.apache.org>
Subject: Re: lucene cutomized indexing
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

It seems to me the answer to this is not necessarily to open up the API, =
but to provide a mechanism for adding Writers and Readers to the indexing/s=
earching process at the application level.  These readers and writers =
could be passed to Lucene and used to read and write to separate files =
(thus, not harming the index file format).  They could be used to =
read/write an arbitrary amount of metadata at the term, document and/or =
index level w/o affecting the core Lucene index.  Furthermore, previous =
versions could still work b/c they would just ignore the new files and the =
indexes could be used by other applications as well.

This is just a thought in the infancy stage, but it seems like it would =
solve the problem.  Of course, the trick is figuring out how it fits into =
the API (or maybe it becomes a part of 2.0).  Not sure if it is even =
feasible, but it seems like you could define interfaces for Readers and =
Writers that met the requirements to do this.

This may be better discussed on the dev list.

>>> john.wang@gmail.com 07/20/04 11:28AM >>>
Hi:
   I am trying to store some Databased like field values into lucene.
I have my own way of storing field values in a customized format.

   I guess my question is wheather we can make the Reader/Writer
classes, e.g. FieldReader, FieldWriter, DocumentReader/Writer classes
non-final?

   I have asked to make the Lucene API less restrictive many many many
times but got no replies. Is this request feasible?

Thanks

-John

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org=20
For additional commands, e-mail: lucene-user-help@jakarta.apache.org=20



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9379-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 20:27:42 2004
Return-Path: <lucene-user-return-9379-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61798 invoked from network); 20 Jul 2004 20:27:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 20:27:42 -0000
Received: (qmail 34673 invoked by uid 500); 20 Jul 2004 20:27:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34649 invoked by uid 500); 20 Jul 2004 20:27:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34635 invoked by uid 99); 20 Jul 2004 20:27:36 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [38.112.109.12] (HELO mail.blueprint.org) (38.112.109.12)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 20 Jul 2004 13:27:33 -0700
Received: from mail.blueprint.org (mail.blueprint.org [38.112.108.69])
 by mail.blueprint.org
 (iPlanet Messaging Server 5.2 Patch 1 (built Aug 19 2002))
 with ESMTP id <0I1600CDC3HSQI@mail.blueprint.org> for
 lucene-user@jakarta.apache.org; Tue, 20 Jul 2004 16:27:28 -0400 (EDT)
Date: Tue, 20 Jul 2004 16:27:28 -0400
From: Shawn Konopinsky <skonopinsky@blueprint.org>
Subject: Limiting Term Queries
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <1090355247.1788.22.camel@lisa.blueprint.org>
MIME-version: 1.0
X-Mailer: Ximian Evolution 1.4.6
Content-type: text/plain
Content-transfer-encoding: 7BIT
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Is it possible to limit a term query?

For example: I am indexing documents with (amongst other things)  a
string in one field and with a number in another field. All combinations
of strings and numbers are allowed and neither field is unique. I would
like a way to query Lucene to pull out all unique numbers for a specific
letter.

If I had: (a, 123) (b, 123) (a, 123) (b, 23) (a, 45)
I would want a way to pull all unqiue numbers such that the string is
'a':
- (a, 123) (a, 45)

Right now I am determining the unique numbers by performing a term
query: TermEnum enumerator = reader.terms(new Term(number_field, ""));

where reader is an IndexReader and number_field is the field containing
the number. This gives me a list of all unique numbers, but counts those
documents that might have different letters (i.e. not just 'a').

Any thoughts on this?

Shawn.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9380-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 20:28:21 2004
Return-Path: <lucene-user-return-9380-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62389 invoked from network); 20 Jul 2004 20:28:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 20:28:21 -0000
Received: (qmail 36545 invoked by uid 500); 20 Jul 2004 20:28:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36464 invoked by uid 500); 20 Jul 2004 20:28:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36450 invoked by uid 99); 20 Jul 2004 20:28:14 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.230.248.25] (HELO gwia201.syr.edu) (128.230.248.25)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 20 Jul 2004 13:28:11 -0700
Received: from MTA2-MTA by gwia201.syr.edu
	with Novell_GroupWise; Tue, 20 Jul 2004 16:28:05 -0400
Message-Id: <s0fd4815.031@gwia201.syr.edu>
X-Mailer: Novell GroupWise Internet Agent 6.0.4
Date: Tue, 20 Jul 2004 16:27:49 -0400
From: "Grant Ingersoll" <gsingers@syr.edu>
To: <lucene-user@jakarta.apache.org>
Subject: Re: Tokenizers and java.text.BreakIterator
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Answering my own question, I think it is b/c Tokenizer's work with a =
Reader and you would have to read in the whole document in order to use =
the BreakIterator, which operates on a String...

>>> gsingers@syr.edu 07/20/04 03:23PM >>>
Hi,

Was wondering if anyone uses java.text.BreakIterator#getWordInstance(Locale=
) as a tokenizer for various languages?  Does it do a good job?  It seems =
like it does, at least for languages where words are separated by spaces =
or punctuation, but I have only done simple tests.

Anyone have any thoughts on this?  What am I missing?  Does this seem like =
a valid approach?

Thanks,
Grant


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org=20
For additional commands, e-mail: lucene-user-help@jakarta.apache.org=20



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9381-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 21:43:15 2004
Return-Path: <lucene-user-return-9381-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9239 invoked from network); 20 Jul 2004 21:43:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 21:43:14 -0000
Received: (qmail 70770 invoked by uid 500); 20 Jul 2004 21:43:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70732 invoked by uid 500); 20 Jul 2004 21:43:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70719 invoked by uid 99); 20 Jul 2004 21:43:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [194.25.134.18] (HELO mailout04.sul.t-online.com) (194.25.134.18)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 20 Jul 2004 14:43:03 -0700
Received: from fwd03.aul.t-online.de 
	by mailout04.sul.t-online.com with smtp 
	id 1Bn2O5-0005lk-03; Tue, 20 Jul 2004 23:43:01 +0200
Received: from p5480238B.dip.t-dialin.net (GoV9SQZF8e+zi1oQ+EgzvKrpds0SF8idiZk-n3Elfa-b4Q+xw-Ihrl@[84.128.35.139]) by fmrl03.sul.t-online.com
	with esmtp id 1Bn2O4-1NfYh60; Tue, 20 Jul 2004 23:43:00 +0200
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Lucene vs. MySQL Full-Text
Date: Tue, 20 Jul 2004 23:43:48 +0200
User-Agent: KMail/1.6.82
References: <062EF322A9DDF14B887BCAE6C5F7E075047C75@exch1.liquidsys.com>
In-Reply-To: <062EF322A9DDF14B887BCAE6C5F7E075047C75@exch1.liquidsys.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200407202343.48727@danielnaber.de>
X-ID: GoV9SQZF8e+zi1oQ+EgzvKrpds0SF8idiZk-n3Elfa-b4Q+xw-Ihrl@t-dialin.net
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday 20 July 2004 21:29, Tim Brennan wrote:

> =C2=A0Does anyone out there have
> anything more concrete they can add?

Stemming is still on the MySQL TODO list:=20
http://dev.mysql.com/doc/mysql/en/Fulltext_TODO.html

Also, for most people it's easier to extend Lucene than MySQL (as MySQL is=
=20
written in C(++?)) and there are more powerful queries in Lucene, e.g.=20
fuzzy phrase search.

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9382-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 20 22:55:31 2004
Return-Path: <lucene-user-return-9382-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35575 invoked from network); 20 Jul 2004 22:55:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jul 2004 22:55:31 -0000
Received: (qmail 55644 invoked by uid 500); 20 Jul 2004 22:55:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55616 invoked by uid 500); 20 Jul 2004 22:55:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55603 invoked by uid 99); 20 Jul 2004 22:55:22 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.237.232.202] (HELO ia00524.archive.org) (209.237.232.202)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 20 Jul 2004 15:55:21 -0700
Received: (qmail 22761 invoked by uid 100); 20 Jul 2004 22:46:05 -0000
Received: from b116-dyn-233.archive.org (HELO ?207.241.238.233?) (florian@archive.org@207.241.238.233)
  by mail-dev.archive.org with SMTP; 20 Jul 2004 22:46:05 -0000
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <062EF322A9DDF14B887BCAE6C5F7E075047C75@exch1.liquidsys.com>
References: <062EF322A9DDF14B887BCAE6C5F7E075047C75@exch1.liquidsys.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <DDCF24C5-DA9F-11D8-8367-000A95CCA058@archive.org>
Content-Transfer-Encoding: 7bit
From: Florian Sauvin <florian@archive.org>
Subject: Re: Lucene vs. MySQL Full-Text
Date: Tue, 20 Jul 2004 15:55:16 -0700
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Spam-DCC: : 
X-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on ia00524.archive.org
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=none autolearn=ham version=2.63
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jul 20, 2004, at 12:29 PM, Tim Brennan wrote:

> Someone came into my office today and asked me about the project I am
> trying to Lucene for -- "why aren't you just using a MySQL full-text
> index to do that" -- after thinking about it for a few minutes, I
> realized I don't have a great answer.
>
> MySQL builds inverted indexes for (in theory) doing the same type of
> lookup that lucene does.  You'd maybe have to build some kind of a 
> layer
> on the front to mimic Lucene's analyzers, but that wouldn't be too
> hard....
>
> My only experience with MySQLfulltext is trivial test apps -- but the
> MySQL world does have some significant advantages (its a known quantity
> from an operations perspective, etc).....  Does anyone out there have
> anything more concrete they can add?
>
> --tim
>
>

I'd say that MySQL full text is much slower if you have a lot of
data... that is one of the reasons we started using lucene (We had a
mysql db to do the search), it's way faster!


--

Florian


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9383-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 00:13:47 2004
Return-Path: <lucene-user-return-9383-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60687 invoked from network); 21 Jul 2004 00:13:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 00:13:47 -0000
Received: (qmail 54748 invoked by uid 500); 21 Jul 2004 00:13:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54716 invoked by uid 500); 21 Jul 2004 00:13:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54702 invoked by uid 99); 21 Jul 2004 00:13:39 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.237.232.202] (HELO ia00524.archive.org) (209.237.232.202)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 20 Jul 2004 17:13:37 -0700
Received: (qmail 27388 invoked by uid 100); 21 Jul 2004 00:04:18 -0000
Received: from b116-dyn-233.archive.org (HELO ?207.241.238.233?) (florian@archive.org@207.241.238.233)
  by mail-dev.archive.org with SMTP; 21 Jul 2004 00:04:18 -0000
Mime-Version: 1.0 (Apple Message framework v618)
Content-Transfer-Encoding: 7bit
Message-Id: <CB12BCA0-DAAA-11D8-8367-000A95CCA058@archive.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: Lucene Users List <lucene-user@jakarta.apache.org>
From: Florian Sauvin <florian@archive.org>
Subject: Sorting on tokenized fields
Date: Tue, 20 Jul 2004 17:13:29 -0700
X-Mailer: Apple Mail (2.618)
X-Spam-DCC: : 
X-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on ia00524.archive.org
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=none autolearn=ham version=2.63
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I see in the Javadoc that it is only possible to sort on fields that 
are not tokenized, I have two questions about that:

1) What happens if the field is tokenized, is sorting done anyway, 
using the first term only?

2) Is there a way to do some sorting anyway, by concatenating all the 
tokens into one string?

--

Florian


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9384-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 00:19:20 2004
Return-Path: <lucene-user-return-9384-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62465 invoked from network); 21 Jul 2004 00:19:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 00:19:19 -0000
Received: (qmail 62707 invoked by uid 500); 21 Jul 2004 00:19:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62685 invoked by uid 500); 21 Jul 2004 00:19:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62671 invoked by uid 99); 21 Jul 2004 00:19:13 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.237.232.202] (HELO ia00524.archive.org) (209.237.232.202)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 20 Jul 2004 17:19:12 -0700
Received: (qmail 27840 invoked by uid 100); 21 Jul 2004 00:10:00 -0000
Received: from b116-dyn-233.archive.org (HELO ?207.241.238.233?) (florian@archive.org@207.241.238.233)
  by mail-dev.archive.org with SMTP; 21 Jul 2004 00:10:00 -0000
Mime-Version: 1.0 (Apple Message framework v618)
Content-Transfer-Encoding: 7bit
Message-Id: <96C028E2-DAAB-11D8-8367-000A95CCA058@archive.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: Lucene Users List <lucene-user@jakarta.apache.org>
From: Florian Sauvin <florian@archive.org>
Subject: Token or not Token, PerFieldAnalyzer
Date: Tue, 20 Jul 2004 17:19:11 -0700
X-Mailer: Apple Mail (2.618)
X-Spam-DCC: : 
X-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on ia00524.archive.org
X-Spam-Level: 
X-Spam-Status: No, hits=0.0 required=6.0 tests=none autolearn=ham version=2.63
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I still don't understand something, my analyzer contains a tokenizer, 
turning "hello world" into [hello] [world]

is this analyzer applied on non-tokenized field? What exactly is done 
on a field when the boolean token is set to true?

--

Florian


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9385-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 03:00:01 2004
Return-Path: <lucene-user-return-9385-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21184 invoked from network); 21 Jul 2004 03:00:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 03:00:01 -0000
Received: (qmail 10424 invoked by uid 500); 21 Jul 2004 02:59:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10401 invoked by uid 500); 21 Jul 2004 02:59:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10388 invoked by uid 99); 21 Jul 2004 02:59:52 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.111.107.196] (HELO mail.fulfilnet.com.au) (203.111.107.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 20 Jul 2004 19:59:48 -0700
Message-Id: <200407210258.i6L2w0B29746@mail.fulfilnet.com.au>
From: "Anson Lau" <alau@fulfil-net.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: speeding up lucene search
Date: Wed, 21 Jul 2004 13:00:28 +1000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello guys,

What are some general techniques to make lucene search faster?

I'm thinking about splitting up the index.  My current index has approx 1.8
million documents (small documents) and index size is about 550MB.  Am I
likely to get much gain out of splitting it up and use a
multiparallelsearcher?

Most of my search queries search queries search on 5-10 fields.

Are there other things I should look at?

Thanks to all,
Anson


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9386-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 08:03:44 2004
Return-Path: <lucene-user-return-9386-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40823 invoked from network); 21 Jul 2004 08:03:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 08:03:43 -0000
Received: (qmail 23609 invoked by uid 500); 21 Jul 2004 08:03:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23565 invoked by uid 500); 21 Jul 2004 08:03:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23540 invoked by uid 99); 21 Jul 2004 08:03:35 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_BY_IP,SB_NEW_BULK,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [216.239.56.243] (HELO mproxy.gmail.com) (216.239.56.243)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 21 Jul 2004 01:03:32 -0700
Received: by mproxy.gmail.com with SMTP id w29so6642359cwb
        for <lucene-user@jakarta.apache.org>; Wed, 21 Jul 2004 01:03:31 -0700 (PDT)
Received: by 10.11.99.74 with SMTP id w74mr207592cwb;
        Wed, 21 Jul 2004 01:03:31 -0700 (PDT)
Message-ID: <8837fb7704072101036844ed89@mail.gmail.com>
Date: Wed, 21 Jul 2004 10:03:31 +0200
From: John Wang <john.wang@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: lucene cutomized indexing
In-Reply-To: <s0fd3c43.042@gwia201.syr.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <s0fd3c43.042@gwia201.syr.edu>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Eric and Grant:

     Thanks for the replies and this is certainly encouraging. As
suggested, I will post furthere such discussions to the dev list.

Thanks

-John

On Tue, 20 Jul 2004 15:37:35 -0400, Grant Ingersoll <gsingers@syr.edu> wrote:
> It seems to me the answer to this is not necessarily to open up the API, but to provide a mechanism for adding Writers and Readers to the indexing/searching process at the application level.  These readers and writers could be passed to Lucene and used to read and write to separate files (thus, not harming the index file format).  They could be used to read/write an arbitrary amount of metadata at the term, document and/or index level w/o affecting the core Lucene index.  Furthermore, previous versions could still work b/c they would just ignore the new files and the indexes could be used by other applications as well.
> 
> This is just a thought in the infancy stage, but it seems like it would solve the problem.  Of course, the trick is figuring out how it fits into the API (or maybe it becomes a part of 2.0).  Not sure if it is even feasible, but it seems like you could define interfaces for Readers and Writers that met the requirements to do this.
> 
> This may be better discussed on the dev list.
> 
> >>> john.wang@gmail.com 07/20/04 11:28AM >>>
> 
> 
> Hi:
>   I am trying to store some Databased like field values into lucene.
> I have my own way of storing field values in a customized format.
> 
>   I guess my question is wheather we can make the Reader/Writer
> classes, e.g. FieldReader, FieldWriter, DocumentReader/Writer classes
> non-final?
> 
>   I have asked to make the Lucene API less restrictive many many many
> times but got no replies. Is this request feasible?
> 
> Thanks
> 
> -John
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9387-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 09:43:35 2004
Return-Path: <lucene-user-return-9387-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97025 invoked from network); 21 Jul 2004 09:43:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 09:43:35 -0000
Received: (qmail 30689 invoked by uid 500); 21 Jul 2004 09:43:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30649 invoked by uid 500); 21 Jul 2004 09:43:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30636 invoked by uid 99); 21 Jul 2004 09:43:26 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_BY_IP,SB_NEW_BULK,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [216.239.56.252] (HELO mproxy.gmail.com) (216.239.56.252)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 21 Jul 2004 02:43:23 -0700
Received: by mproxy.gmail.com with SMTP id w29so6695819cwb
        for <lucene-user@jakarta.apache.org>; Wed, 21 Jul 2004 02:43:22 -0700 (PDT)
Received: by 10.11.116.34 with SMTP id o34mr193601cwc;
        Wed, 21 Jul 2004 02:43:22 -0700 (PDT)
Message-ID: <8837fb77040721024365ffed1d@mail.gmail.com>
Date: Wed, 21 Jul 2004 11:43:22 +0200
From: John Wang <john.wang@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: speeding up lucene search
In-Reply-To: <200407210258.i6L2w0B29746@mail.fulfilnet.com.au>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <200407210258.i6L2w0B29746@mail.fulfilnet.com.au>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

In general, yes.
By splitting up a large index into smaller indicies, you are
linearizing the search time.
Furthermore, that allows you to make your search distributable.

-John

On Wed, 21 Jul 2004 13:00:28 +1000, Anson Lau <alau@fulfil-net.com> wrote:
> Hello guys,
> 
> What are some general techniques to make lucene search faster?
> 
> I'm thinking about splitting up the index.  My current index has approx 1.8
> million documents (small documents) and index size is about 550MB.  Am I
> likely to get much gain out of splitting it up and use a
> multiparallelsearcher?
> 
> Most of my search queries search queries search on 5-10 fields.
> 
> Are there other things I should look at?
> 
> Thanks to all,
> Anson
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9388-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 10:59:44 2004
Return-Path: <lucene-user-return-9388-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38750 invoked from network); 21 Jul 2004 10:59:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 10:59:44 -0000
Received: (qmail 27908 invoked by uid 500); 21 Jul 2004 10:59:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27881 invoked by uid 500); 21 Jul 2004 10:59:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27751 invoked by uid 99); 21 Jul 2004 10:59:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [212.80.64.146] (HELO sysel.etn) (212.80.64.146)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 21 Jul 2004 03:59:34 -0700
Received: (qmail 18580 invoked by uid 0); 21 Jul 2004 10:59:32 -0000
Received: from combayn.etn (HELO combayn) (192.168.1.38)
  by sysel.etn with SMTP; 21 Jul 2004 10:59:32 -0000
From: "Stepan Mik" <stepan@etnetera.cz>
To: <lucene-user@jakarta.apache.org>
Subject: Can I retrieve token offsets from Hits?
Date: Wed, 21 Jul 2004 12:59:11 +0200
Message-ID: <09ee01c46f11$d02aa780$2601a8c0@combayn>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <1090406649.6205.ezmlm@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

It is possible to retrieve tokens offsets (Token.startOffset(),
Token.endOffset()) later when document is found and returned in hit
collection? I need these values for hihglighting. I've already looked to
Highlighter in sandbox but it actually re-analyzes the original
document's field. However, this is not preffered way when using
complicated (performance demanding) analyzer. So my question is - it is
possible to store (somehow) token offsets and get them later without
reanalizing the document?

Thanks

   Stepan



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9389-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 11:13:05 2004
Return-Path: <lucene-user-return-9389-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44830 invoked from network); 21 Jul 2004 11:13:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 11:13:05 -0000
Received: (qmail 53647 invoked by uid 500); 21 Jul 2004 11:12:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53475 invoked by uid 500); 21 Jul 2004 11:12:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53461 invoked by uid 99); 21 Jul 2004 11:12:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.59.128] (HELO postfix.mail.ehatchersolutions.com) (128.143.59.128)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 04:12:54 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 9F3AB8341E7
	for <lucene-user@jakarta.apache.org>; Wed, 21 Jul 2004 07:12:57 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <09ee01c46f11$d02aa780$2601a8c0@combayn>
References: <09ee01c46f11$d02aa780$2601a8c0@combayn>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <EB42889D-DB06-11D8-B609-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Can I retrieve token offsets from Hits?
Date: Wed, 21 Jul 2004 07:12:57 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jul 21, 2004, at 6:59 AM, Stepan Mik wrote:
> It is possible to retrieve tokens offsets (Token.startOffset(),
> Token.endOffset()) later when document is found and returned in hit
> collection?

No.... offsets are not stored in the index.  In fact, the only place 
they are currently used is with the Highlighter code.

>  I need these values for hihglighting. I've already looked to
> Highlighter in sandbox but it actually re-analyzes the original
> document's field. However, this is not preffered way when using
> complicated (performance demanding) analyzer. So my question is - it is
> possible to store (somehow) token offsets and get them later without
> reanalizing the document?

There has been lots of discussion on this topic in the past.  Perhaps 
you could dig up those threads to get a feel for what the latest 
thinking on this is.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9390-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 11:28:58 2004
Return-Path: <lucene-user-return-9390-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52379 invoked from network); 21 Jul 2004 11:28:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 11:28:58 -0000
Received: (qmail 80918 invoked by uid 500); 21 Jul 2004 11:28:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80716 invoked by uid 500); 21 Jul 2004 11:28:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80702 invoked by uid 99); 21 Jul 2004 11:28:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.111.107.196] (HELO mail.fulfilnet.com.au) (203.111.107.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 04:28:47 -0700
Message-Id: <200407211127.i6LBR3v29989@mail.fulfilnet.com.au>
From: "Anson Lau" <alau@fulfil-net.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Lucene vs. MySQL Full-Text
Date: Wed, 21 Jul 2004 21:29:31 +1000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
In-Reply-To: <DDCF24C5-DA9F-11D8-8367-000A95CCA058@archive.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Depending on what MySQL Full-text search support you probably will lose some
of the advance things you get for free from Lucene, such as proximity
search, wildcard search, search term and search field boosting, scoring of
the documents, etc.

Afterall it depends on what you need to do.  In our dev team we are actually
currently having a mini debate over whether to use lucene for our project or
write something from scratch that's based on a DB.

We need really good performance. I feel lucene can do our job very well,
some of our guys feel using a DB based search can give us greater
performance on the type of search we do.


Anson

-----Original Message-----
From: Florian Sauvin [mailto:florian@archive.org] 
Sent: Wednesday, July 21, 2004 8:55 AM
To: Lucene Users List
Subject: Re: Lucene vs. MySQL Full-Text


On Jul 20, 2004, at 12:29 PM, Tim Brennan wrote:

> Someone came into my office today and asked me about the project I am
> trying to Lucene for -- "why aren't you just using a MySQL full-text
> index to do that" -- after thinking about it for a few minutes, I
> realized I don't have a great answer.
>
> MySQL builds inverted indexes for (in theory) doing the same type of
> lookup that lucene does.  You'd maybe have to build some kind of a 
> layer
> on the front to mimic Lucene's analyzers, but that wouldn't be too
> hard....
>
> My only experience with MySQLfulltext is trivial test apps -- but the
> MySQL world does have some significant advantages (its a known quantity
> from an operations perspective, etc).....  Does anyone out there have
> anything more concrete they can add?
>
> --tim
>
>

I'd say that MySQL full text is much slower if you have a lot of
data... that is one of the reasons we started using lucene (We had a
mysql db to do the search), it's way faster!


--

Florian


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9391-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 12:05:35 2004
Return-Path: <lucene-user-return-9391-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69247 invoked from network); 21 Jul 2004 12:05:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 12:05:35 -0000
Received: (qmail 28051 invoked by uid 500); 21 Jul 2004 12:05:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27976 invoked by uid 500); 21 Jul 2004 12:05:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27951 invoked by uid 99); 21 Jul 2004 12:05:25 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.59.128] (HELO postfix.mail.ehatchersolutions.com) (128.143.59.128)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 05:05:25 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id B1B668343F1
	for <lucene-user@jakarta.apache.org>; Wed, 21 Jul 2004 08:05:24 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <200407211127.i6LBR3v29989@mail.fulfilnet.com.au>
References: <200407211127.i6LBR3v29989@mail.fulfilnet.com.au>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <3E842EF8-DB0E-11D8-B609-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene vs. MySQL Full-Text
Date: Wed, 21 Jul 2004 08:05:23 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Interestingly (and ironically) enough, the project I'm currently 
working on requires full-text searching of Word and PDF resumes.  SQL 
Server is already the required database as well, so we are leveraging 
the full-text indexing capabilities it has.  There is a special trick 
to drop a BLOB into a table which also has a file extension and mime 
type columns, and have SQL Server index it with its Index Server 
capabilities.  Lucene was not needed, and we made the pragmatic 
(simplest that worked well) choice.

My recommendation would be to implement something rather than debate it 
- and if it is good enough, leave it alone, if not then try a different 
approach :)

	Erik



On Jul 21, 2004, at 7:29 AM, Anson Lau wrote:

> Depending on what MySQL Full-text search support you probably will 
> lose some
> of the advance things you get for free from Lucene, such as proximity
> search, wildcard search, search term and search field boosting, 
> scoring of
> the documents, etc.
>
> Afterall it depends on what you need to do.  In our dev team we are 
> actually
> currently having a mini debate over whether to use lucene for our 
> project or
> write something from scratch that's based on a DB.
>
> We need really good performance. I feel lucene can do our job very 
> well,
> some of our guys feel using a DB based search can give us greater
> performance on the type of search we do.
>
>
> Anson
>
> -----Original Message-----
> From: Florian Sauvin [mailto:florian@archive.org]
> Sent: Wednesday, July 21, 2004 8:55 AM
> To: Lucene Users List
> Subject: Re: Lucene vs. MySQL Full-Text
>
>
> On Jul 20, 2004, at 12:29 PM, Tim Brennan wrote:
>
>> Someone came into my office today and asked me about the project I am
>> trying to Lucene for -- "why aren't you just using a MySQL full-text
>> index to do that" -- after thinking about it for a few minutes, I
>> realized I don't have a great answer.
>>
>> MySQL builds inverted indexes for (in theory) doing the same type of
>> lookup that lucene does.  You'd maybe have to build some kind of a
>> layer
>> on the front to mimic Lucene's analyzers, but that wouldn't be too
>> hard....
>>
>> My only experience with MySQLfulltext is trivial test apps -- but the
>> MySQL world does have some significant advantages (its a known 
>> quantity
>> from an operations perspective, etc).....  Does anyone out there have
>> anything more concrete they can add?
>>
>> --tim
>>
>>
>
> I'd say that MySQL full text is much slower if you have a lot of
> data... that is one of the reasons we started using lucene (We had a
> mysql db to do the search), it's way faster!
>
>
> --
>
> Florian
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9392-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 12:10:29 2004
Return-Path: <lucene-user-return-9392-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71363 invoked from network); 21 Jul 2004 12:10:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 12:10:29 -0000
Received: (qmail 32085 invoked by uid 500); 21 Jul 2004 12:10:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32060 invoked by uid 500); 21 Jul 2004 12:10:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32047 invoked by uid 99); 21 Jul 2004 12:10:20 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=FOR_FREE
X-Spam-Check-By: apache.org
Received: from [216.200.145.37] (HELO omta06.mta.everyone.net) (216.200.145.37)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 05:10:19 -0700
Received: from sitemail.everyone.net (bigip1-snat [216.200.145.29])
	by omta06.mta.everyone.net (Postfix) with ESMTP id 608B4547B9
	for <lucene-user@jakarta.apache.org>; Wed, 21 Jul 2004 05:10:09 -0700 (PDT)
Received: by sitemail.everyone.net (Postfix, from userid 99)
	id 21FAC3948; Wed, 21 Jul 2004 05:10:08 -0700 (PDT)
Content-Type: text/plain
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0
X-Mailer: MIME-tools 5.41 (Entity 5.404)
Date: Wed, 21 Jul 2004 05:10:07 -0700 (PDT)
From: Ian McDonnell <ian@spinnerscity.com>
To: lucene-user@jakarta.apache.org
Subject: Extracting Lucene onto Tomcat
Reply-To: ian@spinnerscity.com
X-Originating-Ip: [193.1.132.28]
X-Eon-Sig: AQDOAZ5A/l0gAAAtkwEAAAAB,59f760e1d27f2f4cd8dc430b99562e0b
Message-Id: <20040721121008.21FAC3948@sitemail.everyone.net>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Is the package information and import paths ready to deploy on Tomcat server. I tried extracting lucene on the server, but when i compile files, it just throws numerous no class definition errors and errors relating to the package.

Ian

_____________________________________________________________
Sign up for FREE email from SpinnersCity Online Dance Magazine & Vortal at http://www.spinnerscity.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9393-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 12:13:33 2004
Return-Path: <lucene-user-return-9393-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73821 invoked from network); 21 Jul 2004 12:13:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 12:13:33 -0000
Received: (qmail 38922 invoked by uid 500); 21 Jul 2004 12:12:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38787 invoked by uid 500); 21 Jul 2004 12:12:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38751 invoked by uid 99); 21 Jul 2004 12:12:53 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.111.107.196] (HELO mail.fulfilnet.com.au) (203.111.107.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 05:12:51 -0700
Message-Id: <200407211211.i6LCB4v31402@mail.fulfilnet.com.au>
From: "Anson Lau" <alau@fulfil-net.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: speeding up lucene search
Date: Wed, 21 Jul 2004 22:13:32 +1000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
In-Reply-To: <8837fb77040721024365ffed1d@mail.gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Has anyone tried splitting up an index into smaller chunks, without putting
the different indicies on a different physical disk/box?  What sort of
performance gain do you get from it?
 
Anson


-----Original Message-----
From: John Wang [mailto:john.wang@gmail.com] 
Sent: Wednesday, July 21, 2004 7:43 PM
To: Lucene Users List
Subject: Re: speeding up lucene search

In general, yes.
By splitting up a large index into smaller indicies, you are
linearizing the search time.
Furthermore, that allows you to make your search distributable.

-John

On Wed, 21 Jul 2004 13:00:28 +1000, Anson Lau <alau@fulfil-net.com> wrote:
> Hello guys,
> 
> What are some general techniques to make lucene search faster?
> 
> I'm thinking about splitting up the index.  My current index has approx
1.8
> million documents (small documents) and index size is about 550MB.  Am I
> likely to get much gain out of splitting it up and use a
> multiparallelsearcher?
> 
> Most of my search queries search queries search on 5-10 fields.
> 
> Are there other things I should look at?
> 
> Thanks to all,
> Anson
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9394-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 12:30:50 2004
Return-Path: <lucene-user-return-9394-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82610 invoked from network); 21 Jul 2004 12:30:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 12:30:50 -0000
Received: (qmail 69014 invoked by uid 500); 21 Jul 2004 12:30:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68980 invoked by uid 500); 21 Jul 2004 12:30:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68965 invoked by uid 99); 21 Jul 2004 12:30:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.59.128] (HELO postfix.mail.ehatchersolutions.com) (128.143.59.128)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 05:30:39 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 7245A834460
	for <lucene-user@jakarta.apache.org>; Wed, 21 Jul 2004 08:30:42 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <20040721121008.21FAC3948@sitemail.everyone.net>
References: <20040721121008.21FAC3948@sitemail.everyone.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <C74C6BA8-DB11-11D8-B609-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Extracting Lucene onto Tomcat
Date: Wed, 21 Jul 2004 08:30:41 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jul 21, 2004, at 8:10 AM, Ian McDonnell wrote:
> Is the package information and import paths ready to deploy on Tomcat 
> server. I tried extracting lucene on the server, but when i compile 
> files, it just throws numerous no class definition errors and errors 
> relating to the package.

Huh?  Lucene certainly deploys just fine in Tomcat web applications (in 
a WAR under WEB-INF/lib).  Could you elaborate on what you mean here?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9395-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 13:19:13 2004
Return-Path: <lucene-user-return-9395-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11705 invoked from network); 21 Jul 2004 13:19:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 13:19:13 -0000
Received: (qmail 67137 invoked by uid 500); 21 Jul 2004 13:18:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67091 invoked by uid 500); 21 Jul 2004 13:18:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67059 invoked by uid 99); 21 Jul 2004 13:18:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [141.156.69.115] (HELO mail.infosciences.com) (141.156.69.115)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 06:18:55 -0700
Received: from Aviran (unknown [141.156.69.109])
	by mail.infosciences.com (Postfix) with ESMTP id 1A266118413
	for <lucene-user@jakarta.apache.org>; Wed, 21 Jul 2004 09:20:02 -0400 (EDT)
From: "Aviran" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Sorting on tokenized fields
Date: Wed, 21 Jul 2004 09:18:44 -0400
Message-ID: <002701c46f25$42c38740$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
Importance: Normal
In-Reply-To: <CB12BCA0-DAAA-11D8-8367-000A95CCA058@archive.org>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You can create a new field which contains the full untokened string and use
it as a sort field.


-----Original Message-----
From: Florian Sauvin [mailto:florian@archive.org] 
Sent: Tuesday, July 20, 2004 20:13 PM
To: Lucene Users List
Subject: Sorting on tokenized fields


I see in the Javadoc that it is only possible to sort on fields that 
are not tokenized, I have two questions about that:

1) What happens if the field is tokenized, is sorting done anyway, 
using the first term only?

2) Is there a way to do some sorting anyway, by concatenating all the 
tokens into one string?

--

Florian


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9396-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 13:22:27 2004
Return-Path: <lucene-user-return-9396-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19370 invoked from network); 21 Jul 2004 13:22:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 13:22:27 -0000
Received: (qmail 77449 invoked by uid 500); 21 Jul 2004 13:22:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77383 invoked by uid 500); 21 Jul 2004 13:22:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77366 invoked by uid 99); 21 Jul 2004 13:22:19 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [206.190.38.222] (HELO web51704.mail.yahoo.com) (206.190.38.222)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 21 Jul 2004 06:22:15 -0700
Message-ID: <20040721132213.40142.qmail@web51704.mail.yahoo.com>
Received: from [209.116.226.226] by web51704.mail.yahoo.com via HTTP; Wed, 21 Jul 2004 06:22:13 PDT
Date: Wed, 21 Jul 2004 06:22:13 -0700 (PDT)
From: Greg Gershman <greggersh@yahoo.com>
Subject: Sort: 1.4-rc3 vs. 1.4-final
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

When rc3 came out, I modified the classes used for
Sorting to, in addition to Integer, Float and
String-based sort keys, use Long values.  All I did
was add extra statements in 2 classes (SortField and
FieldSortedHitQueue) that made a special case for
longs, and created a LongSortedHitQueue identical to
the IntegerSortedHitQueue, only using longs.  

This worked as expected; Long values converted to
strings and stored in Field.Keyword type fields would
be sorted according to Long order.  The initial query
would take a while, to build the sorted array, but
subsequent queries would take little to no time at
all.

I went back to look at 1.4 final, and noticed the Sort
implementation has changed quite a bit.  I tried the
same type of modifications to the existing source
files, but was unable to achieve similiar results. 
Each subsequent query seems to take a significant
amount of time, as if the Sorted array is being
rebuilt each time.  Also, I tried sorting on an
Integer fields and got similar results, which leads me
to believe there might be a caching problem somewhere.

Has anyone else seen this in 1.4-final?  Also, I would
like it if Long sorted fields could become a part of
the API; it makes sorting by date a breeze.

Thanks!

Greg Gershman


		
__________________________________
Do you Yahoo!?
New and Improved Yahoo! Mail - Send 10MB messages!
http://promotions.yahoo.com/new_mail 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9397-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 13:35:11 2004
Return-Path: <lucene-user-return-9397-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28822 invoked from network); 21 Jul 2004 13:35:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 13:35:11 -0000
Received: (qmail 12497 invoked by uid 500); 21 Jul 2004 13:34:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12464 invoked by uid 500); 21 Jul 2004 13:34:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12437 invoked by uid 99); 21 Jul 2004 13:34:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [141.156.69.115] (HELO mail.infosciences.com) (141.156.69.115)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 06:34:49 -0700
Received: from Aviran (unknown [141.156.69.109])
	by mail.infosciences.com (Postfix) with ESMTP id C088A118416
	for <lucene-user@jakarta.apache.org>; Wed, 21 Jul 2004 09:36:01 -0400 (EDT)
From: "Aviran" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Sort: 1.4-rc3 vs. 1.4-final
Date: Wed, 21 Jul 2004 09:34:44 -0400
Message-ID: <003201c46f27$7efcc940$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
Importance: Normal
In-Reply-To: <20040721132213.40142.qmail@web51704.mail.yahoo.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Since I had to implement sorting in lucene 1.2 I had to write my own =
sorting
using something similar to a lucene's contribution called SortField.=20
Yesterday I did some tests, trying to use lucene 1.4 Sort objects and I
realized that my old implementation works 40% faster then Lucene's
implementation. My guess is that you are right and there is a problem =
with
the cache although I couldn't find what that is yet.

Aviran

-----Original Message-----
From: Greg Gershman [mailto:greggersh@yahoo.com]=20
Sent: Wednesday, July 21, 2004 9:22 AM
To: lucene-user@jakarta.apache.org
Subject: Sort: 1.4-rc3 vs. 1.4-final


When rc3 came out, I modified the classes used for
Sorting to, in addition to Integer, Float and
String-based sort keys, use Long values.  All I did
was add extra statements in 2 classes (SortField and
FieldSortedHitQueue) that made a special case for
longs, and created a LongSortedHitQueue identical to
the IntegerSortedHitQueue, only using longs. =20

This worked as expected; Long values converted to
strings and stored in Field.Keyword type fields would
be sorted according to Long order.  The initial query
would take a while, to build the sorted array, but
subsequent queries would take little to no time at
all.

I went back to look at 1.4 final, and noticed the Sort implementation =
has
changed quite a bit.  I tried the same type of modifications to the =
existing
source files, but was unable to achieve similiar results.=20
Each subsequent query seems to take a significant
amount of time, as if the Sorted array is being
rebuilt each time.  Also, I tried sorting on an
Integer fields and got similar results, which leads me
to believe there might be a caching problem somewhere.

Has anyone else seen this in 1.4-final?  Also, I would
like it if Long sorted fields could become a part of
the API; it makes sorting by date a breeze.

Thanks!

Greg Gershman


	=09
__________________________________
Do you Yahoo!?
New and Improved Yahoo! Mail - Send 10MB messages!
http://promotions.yahoo.com/new_mail=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9398-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 13:43:53 2004
Return-Path: <lucene-user-return-9398-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32989 invoked from network); 21 Jul 2004 13:43:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 13:43:53 -0000
Received: (qmail 33489 invoked by uid 500); 21 Jul 2004 13:43:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33342 invoked by uid 500); 21 Jul 2004 13:43:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33204 invoked by uid 99); 21 Jul 2004 13:43:19 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=FOR_FREE
X-Spam-Check-By: apache.org
Received: from [216.200.145.37] (HELO omta08.mta.everyone.net) (216.200.145.37)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 06:43:17 -0700
Received: from sitemail.everyone.net (bigip1-snat [216.200.145.29])
	by omta08.mta.everyone.net (Postfix) with ESMTP id 6C23769792
	for <lucene-user@jakarta.apache.org>; Wed, 21 Jul 2004 06:43:01 -0700 (PDT)
Received: by sitemail.everyone.net (Postfix, from userid 99)
	id A08B2394D; Wed, 21 Jul 2004 06:43:01 -0700 (PDT)
Content-Type: text/plain
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0
X-Mailer: MIME-tools 5.41 (Entity 5.404)
Date: Wed, 21 Jul 2004 06:43:01 -0700 (PDT)
From: Ian McDonnell <ian@spinnerscity.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Extracting Lucene onto Tomcat
Reply-To: ian@spinnerscity.com
X-Originating-Ip: [193.1.132.28]
X-Eon-Sig: AQDOAZ5A/nLlAAm0jwEAAAAB,13f90592594c65d1cdd81ca9f7b86799
Message-Id: <20040721134301.A08B2394D@sitemail.everyone.net>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Well when i extracted it, it created the org/apache/lucene directories in the public_html directory. When i try to compile any of the source it just throws numerous errors. I've got the classpath set to web-inf/classes.

Have i extraced it to the wrong directory?


--- Erik Hatcher <erik@ehatchersolutions.com> wrote:
On Jul 21, 2004, at 8:10 AM, Ian McDonnell wrote:
> Is the package information and import paths ready to deploy on Tomcat 
> server. I tried extracting lucene on the server, but when i compile 
> files, it just throws numerous no class definition errors and errors 
> relating to the package.

Huh?  Lucene certainly deploys just fine in Tomcat web applications (in 
a WAR under WEB-INF/lib).  Could you elaborate on what you mean here?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



_____________________________________________________________
Sign up for FREE email from SpinnersCity Online Dance Magazine & Vortal at http://www.spinnerscity.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9399-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 14:07:35 2004
Return-Path: <lucene-user-return-9399-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47139 invoked from network); 21 Jul 2004 14:07:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 14:07:35 -0000
Received: (qmail 98518 invoked by uid 500); 21 Jul 2004 14:07:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98472 invoked by uid 500); 21 Jul 2004 14:07:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98450 invoked by uid 99); 21 Jul 2004 14:07:26 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=DNS_FROM_RFC_POST
X-Spam-Check-By: apache.org
Received: from [64.4.10.105] (HELO hotmail.com) (64.4.10.105)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 07:07:24 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 21 Jul 2004 07:07:22 -0700
Received: from 202.57.131.189 by bay7-dav1.bay7.hotmail.com with DAV;
	Wed, 21 Jul 2004 14:07:22 +0000
X-Originating-IP: [202.57.131.189]
X-Originating-Email: [dev_johnpatterson@hotmail.com]
X-Sender: dev_johnpatterson@hotmail.com
Reply-To: "John Patterson" <dev_johnpatterson@hotmail.com>
From: "John Patterson" <dev_johnpatterson@hotmail.com>
To: <lucene-user@jakarta.apache.org>
Subject: Weighting database fields
Date: Wed, 21 Jul 2004 21:06:57 +0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Message-ID: <BAY7-DAV1BoFqgpq5mS00027182@hotmail.com>
X-OriginalArrivalTime: 21 Jul 2004 14:07:22.0274 (UTC) FILETIME=[0ABED820:01C46F2C]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

What is the best way to get Lucene to assign weightings to certain fields
from a database?  For example, the 'name' field should be weighted higher
than the 'description' field.

Thanks,

John.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9400-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 14:09:38 2004
Return-Path: <lucene-user-return-9400-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47964 invoked from network); 21 Jul 2004 14:09:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 14:09:38 -0000
Received: (qmail 1937 invoked by uid 500); 21 Jul 2004 14:09:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1887 invoked by uid 500); 21 Jul 2004 14:09:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1862 invoked by uid 99); 21 Jul 2004 14:09:19 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.111.107.196] (HELO mail.fulfilnet.com.au) (203.111.107.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 07:09:16 -0700
Message-Id: <200407211407.i6LE7Sv02109@mail.fulfilnet.com.au>
From: "Anson Lau" <alau@fulfil-net.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Weighting database fields
Date: Thu, 22 Jul 2004 00:09:56 +1000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
In-Reply-To: <BAY7-DAV1BoFqgpq5mS00027182@hotmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Apply boost factor to fields when you do a lucene search.

Anson

-----Original Message-----
From: John Patterson [mailto:dev_johnpatterson@hotmail.com] 
Sent: Thursday, July 22, 2004 12:07 AM
To: lucene-user@jakarta.apache.org
Subject: Weighting database fields

Hi,

What is the best way to get Lucene to assign weightings to certain fields
from a database?  For example, the 'name' field should be weighted higher
than the 'description' field.

Thanks,

John.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9401-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 14:18:26 2004
Return-Path: <lucene-user-return-9401-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52600 invoked from network); 21 Jul 2004 14:18:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 14:18:26 -0000
Received: (qmail 22285 invoked by uid 500); 21 Jul 2004 14:18:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22099 invoked by uid 500); 21 Jul 2004 14:18:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22086 invoked by uid 99); 21 Jul 2004 14:18:17 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=FOR_FREE
X-Spam-Check-By: apache.org
Received: from [216.200.145.37] (HELO omta08.mta.everyone.net) (216.200.145.37)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 07:18:16 -0700
Received: from sitemail.everyone.net (bigip1-snat [216.200.145.29])
	by omta08.mta.everyone.net (Postfix) with ESMTP id 9420A42E91
	for <lucene-user@jakarta.apache.org>; Wed, 21 Jul 2004 07:18:14 -0700 (PDT)
Received: by sitemail.everyone.net (Postfix, from userid 99)
	id 86DFE3947; Wed, 21 Jul 2004 07:18:14 -0700 (PDT)
Content-Type: text/plain
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0
X-Mailer: MIME-tools 5.41 (Entity 5.404)
Date: Wed, 21 Jul 2004 07:18:14 -0700 (PDT)
From: Ian McDonnell <ian@spinnerscity.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Extracting Lucene onto Tomcat
Reply-To: ian@spinnerscity.com
X-Originating-Ip: [193.1.132.28]
X-Eon-Sig: AQDOAZ5A/nsmAAcYAQEAAAAB,5fba16a211329ba85d105a7f0a113686
Message-Id: <20040721141814.86DFE3947@sitemail.everyone.net>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Also another silly question, do i need to setup a war on the server?


--- Ian McDonnell <ian@spinnerscity.com> wrote:
Well when i extracted it, it created the org/apache/lucene directories in the public_html directory. When i try to compile any of the source it just throws numerous errors. I've got the classpath set to web-inf/classes.

Have i extraced it to the wrong directory?


--- Erik Hatcher <erik@ehatchersolutions.com> wrote:
On Jul 21, 2004, at 8:10 AM, Ian McDonnell wrote:
> Is the package information and import paths ready to deploy on Tomcat 
> server. I tried extracting lucene on the server, but when i compile 
> files, it just throws numerous no class definition errors and errors 
> relating to the package.

Huh?  Lucene certainly deploys just fine in Tomcat web applications (in 
a WAR under WEB-INF/lib).  Could you elaborate on what you mean here?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



_____________________________________________________________
Sign up for FREE email from SpinnersCity Online Dance Magazine & Vortal at http://www.spinnerscity.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



_____________________________________________________________
Sign up for FREE email from SpinnersCity Online Dance Magazine & Vortal at http://www.spinnerscity.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9402-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 14:24:10 2004
Return-Path: <lucene-user-return-9402-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55961 invoked from network); 21 Jul 2004 14:24:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 14:24:09 -0000
Received: (qmail 44178 invoked by uid 500); 21 Jul 2004 14:23:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44074 invoked by uid 500); 21 Jul 2004 14:23:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43998 invoked by uid 99); 21 Jul 2004 14:23:51 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=FOR_FREE
X-Spam-Check-By: apache.org
Received: from [194.159.73.193] (HELO post-23.mail.nl.demon.net) (194.159.73.193)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 07:23:49 -0700
Received: from mda.demon.nl ([212.238.156.229]:56326 helo=[127.0.0.1])
	by post-23.mail.nl.demon.net with esmtp (Exim 4.34)
	id 1BnI0Y-000Bis-PO; Wed, 21 Jul 2004 14:23:46 +0000
Message-ID: <40FE7CE4.8070908@zilverline.org>
Date: Wed, 21 Jul 2004 16:25:40 +0200
From: Zilverline info <info@zilverline.org>
User-Agent: Mozilla Thunderbird 0.7.1 (Windows/20040626)
X-Accept-Language: nl, en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Extracting Lucene onto Tomcat
References: <20040721141814.86DFE3947@sitemail.everyone.net>
In-Reply-To: <20040721141814.86DFE3947@sitemail.everyone.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Ian,

Depending on what you want to do, you could also follow the installation 
instructions on http://www.zilverline.org. It describes how to install 
zilverline, but the same goes for the lucene war.

Hope this helps,

   Michael Franken

Ian McDonnell wrote:

>Also another silly question, do i need to setup a war on the server?
>
>
>--- Ian McDonnell <ian@spinnerscity.com> wrote:
>Well when i extracted it, it created the org/apache/lucene directories in the public_html directory. When i try to compile any of the source it just throws numerous errors. I've got the classpath set to web-inf/classes.
>
>Have i extraced it to the wrong directory?
>
>
>--- Erik Hatcher <erik@ehatchersolutions.com> wrote:
>On Jul 21, 2004, at 8:10 AM, Ian McDonnell wrote:
>  
>
>>Is the package information and import paths ready to deploy on Tomcat 
>>server. I tried extracting lucene on the server, but when i compile 
>>files, it just throws numerous no class definition errors and errors 
>>relating to the package.
>>    
>>
>
>Huh?  Lucene certainly deploys just fine in Tomcat web applications (in 
>a WAR under WEB-INF/lib).  Could you elaborate on what you mean here?
>
>	Erik
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>_____________________________________________________________
>Sign up for FREE email from SpinnersCity Online Dance Magazine & Vortal at http://www.spinnerscity.com
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>_____________________________________________________________
>Sign up for FREE email from SpinnersCity Online Dance Magazine & Vortal at http://www.spinnerscity.com
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9403-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 14:33:09 2004
Return-Path: <lucene-user-return-9403-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61790 invoked from network); 21 Jul 2004 14:33:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 14:33:09 -0000
Received: (qmail 78407 invoked by uid 500); 21 Jul 2004 14:32:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78172 invoked by uid 500); 21 Jul 2004 14:32:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78113 invoked by uid 99); 21 Jul 2004 14:32:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_90_100,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [203.200.20.178] (HELO crimsonlogic.co.in) (203.200.20.178)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 07:32:53 -0700
Received: from INA098tnat (localhost.localdomain [127.0.0.1])
	by crimsonlogic.co.in (Postfix) with ESMTP id 38CF7233DE
	for <lucene-user@jakarta.apache.org>; Wed, 21 Jul 2004 20:02:20 +0530 (IST)
From: "Natarajan.T" <natarajant@crimsonlogic.co.in>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Use of Convertes or Parser
Date: Wed, 21 Jul 2004 20:07:12 +0530
Message-ID: <002b01c46f30$363bd260$8714a8c0@ssl>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_002C_01C46F5E.4FF40E60"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_002C_01C46F5E.4FF40E60
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit

Hi Guys,
 
I have a small query, ie. Lucene 1.4 APIs directly indexing all the
documents(PPT,PDF,WORD,etc.) then why we go for Converters or Parsers.
 
 
Thanks,
Natarajan.
 

------=_NextPart_000_002C_01C46F5E.4FF40E60--


From lucene-user-return-9404-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 14:51:05 2004
Return-Path: <lucene-user-return-9404-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74722 invoked from network); 21 Jul 2004 14:51:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 14:51:04 -0000
Received: (qmail 24989 invoked by uid 500); 21 Jul 2004 14:50:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24941 invoked by uid 500); 21 Jul 2004 14:50:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24924 invoked by uid 99); 21 Jul 2004 14:50:55 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=FOR_FREE
X-Spam-Check-By: apache.org
Received: from [216.200.145.37] (HELO omta06.mta.everyone.net) (216.200.145.37)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 07:50:52 -0700
Received: from sitemail.everyone.net (bigip1-snat [216.200.145.29])
	by omta06.mta.everyone.net (Postfix) with ESMTP id 14C7A49FC3
	for <lucene-user@jakarta.apache.org>; Wed, 21 Jul 2004 07:50:41 -0700 (PDT)
Received: by sitemail.everyone.net (Postfix, from userid 99)
	id 8B9957266; Wed, 21 Jul 2004 07:50:38 -0700 (PDT)
Content-Type: text/plain
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0
X-Mailer: MIME-tools 5.41 (Entity 5.404)
Date: Wed, 21 Jul 2004 07:50:38 -0700 (PDT)
From: Ian McDonnell <ian@spinnerscity.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Extracting Lucene onto Tomcat
Reply-To: ian@spinnerscity.com
X-Originating-Ip: [193.1.132.28]
X-Eon-Sig: AQDOAZ5A/oK+AAjhbgEAAAAB,6613edb2c7ecbbea45e508c01435028a
Message-Id: <20040721145038.8B9957266@sitemail.everyone.net>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I was looking at your instructions there, but couldnt really figure out what you mean. Can i manually add the extracted directories onto the tomcat server, if so what should my root directory be?

Say for example the extracted directories org/apache/lucene/

Should i have that as public_html/WEB-INF/org/apache/lucene?

Ian


--- Zilverline info <info@zilverline.org> wrote:
Hi Ian,

Depending on what you want to do, you could also follow the installation 
instructions on http://www.zilverline.org. It describes how to install 
zilverline, but the same goes for the lucene war.

Hope this helps,

   Michael Franken

Ian McDonnell wrote:

>Also another silly question, do i need to setup a war on the server?
>
>
>--- Ian McDonnell <ian@spinnerscity.com> wrote:
>Well when i extracted it, it created the org/apache/lucene directories in the public_html directory. When i try to compile any of the source it just throws numerous errors. I've got the classpath set to web-inf/classes.
>
>Have i extraced it to the wrong directory?
>
>
>--- Erik Hatcher <erik@ehatchersolutions.com> wrote:
>On Jul 21, 2004, at 8:10 AM, Ian McDonnell wrote:
>  
>
>>Is the package information and import paths ready to deploy on Tomcat 
>>server. I tried extracting lucene on the server, but when i compile 
>>files, it just throws numerous no class definition errors and errors 
>>relating to the package.
>>    
>>
>
>Huh?  Lucene certainly deploys just fine in Tomcat web applications (in 
>a WAR under WEB-INF/lib).  Could you elaborate on what you mean here?
>
>	Erik
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>_____________________________________________________________
>Sign up for FREE email from SpinnersCity Online Dance Magazine & Vortal at http://www.spinnerscity.com
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>_____________________________________________________________
>Sign up for FREE email from SpinnersCity Online Dance Magazine & Vortal at http://www.spinnerscity.com
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



_____________________________________________________________
Sign up for FREE email from SpinnersCity Online Dance Magazine & Vortal at http://www.spinnerscity.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9405-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 14:52:12 2004
Return-Path: <lucene-user-return-9405-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75426 invoked from network); 21 Jul 2004 14:52:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 14:52:12 -0000
Received: (qmail 29503 invoked by uid 500); 21 Jul 2004 14:52:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29409 invoked by uid 500); 21 Jul 2004 14:52:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29394 invoked by uid 99); 21 Jul 2004 14:52:04 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.59.128] (HELO postfix.mail.ehatchersolutions.com) (128.143.59.128)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 07:52:04 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 034B78347B8
	for <lucene-user@jakarta.apache.org>; Wed, 21 Jul 2004 10:52:07 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <200407211407.i6LE7Sv02109@mail.fulfilnet.com.au>
References: <200407211407.i6LE7Sv02109@mail.fulfilnet.com.au>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <89148116-DB25-11D8-B609-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Weighting database fields
Date: Wed, 21 Jul 2004 10:52:06 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jul 21, 2004, at 10:09 AM, Anson Lau wrote:
> Apply boost factor to fields when you do a lucene search.

Or... set the boost on the Field during indexing.

	Erik


>
> Anson
>
> -----Original Message-----
> From: John Patterson [mailto:dev_johnpatterson@hotmail.com]
> Sent: Thursday, July 22, 2004 12:07 AM
> To: lucene-user@jakarta.apache.org
> Subject: Weighting database fields
>
> Hi,
>
> What is the best way to get Lucene to assign weightings to certain 
> fields
> from a database?  For example, the 'name' field should be weighted 
> higher
> than the 'description' field.
>
> Thanks,
>
> John.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9406-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 14:57:22 2004
Return-Path: <lucene-user-return-9406-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78322 invoked from network); 21 Jul 2004 14:57:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 14:57:22 -0000
Received: (qmail 46952 invoked by uid 500); 21 Jul 2004 14:57:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46829 invoked by uid 500); 21 Jul 2004 14:57:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46816 invoked by uid 99); 21 Jul 2004 14:57:14 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=FOR_FREE
X-Spam-Check-By: apache.org
Received: from [128.143.59.128] (HELO postfix.mail.ehatchersolutions.com) (128.143.59.128)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 07:57:13 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id A0E818347FB
	for <lucene-user@jakarta.apache.org>; Wed, 21 Jul 2004 10:57:16 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <20040721134301.A08B2394D@sitemail.everyone.net>
References: <20040721134301.A08B2394D@sitemail.everyone.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <402555DB-DB26-11D8-B609-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Extracting Lucene onto Tomcat
Date: Wed, 21 Jul 2004 10:57:13 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

There is no need to extract Lucene's JAR file.

Your questions indicate that you have some Tomcat and Java web 
application learning to do and this forum is not the most appropriate 
place to ask.  Lucene includes a web application demo that you could 
try deploying by following the steps here:  
http://jakarta.apache.org/lucene/docs/demo3.html

Just drop luceneweb.jar into CATALINA_HOME/webapps, restart Tomcat and 
try hitting http://localhost:8080/luceneweb and pressing the search 
button - you will get an error unless you've followed all the steps, 
but you should not get a class cast exception and Lucene will be 
working properly (now follow the steps to build an index and configure 
the pointer to it).

	Erik

On Jul 21, 2004, at 9:43 AM, Ian McDonnell wrote:

> Well when i extracted it, it created the org/apache/lucene directories 
> in the public_html directory. When i try to compile any of the source 
> it just throws numerous errors. I've got the classpath set to 
> web-inf/classes.
>
> Have i extraced it to the wrong directory?
>
>
> --- Erik Hatcher <erik@ehatchersolutions.com> wrote:
> On Jul 21, 2004, at 8:10 AM, Ian McDonnell wrote:
>> Is the package information and import paths ready to deploy on Tomcat
>> server. I tried extracting lucene on the server, but when i compile
>> files, it just throws numerous no class definition errors and errors
>> relating to the package.
>
> Huh?  Lucene certainly deploys just fine in Tomcat web applications (in
> a WAR under WEB-INF/lib).  Could you elaborate on what you mean here?
>
> 	Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> _____________________________________________________________
> Sign up for FREE email from SpinnersCity Online Dance Magazine & 
> Vortal at http://www.spinnerscity.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9407-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 15:03:38 2004
Return-Path: <lucene-user-return-9407-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82999 invoked from network); 21 Jul 2004 15:03:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 15:03:38 -0000
Received: (qmail 61799 invoked by uid 500); 21 Jul 2004 15:03:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61655 invoked by uid 500); 21 Jul 2004 15:03:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61640 invoked by uid 99); 21 Jul 2004 15:03:28 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=FOR_FREE
X-Spam-Check-By: apache.org
Received: from [194.159.73.192] (HELO post-22.mail.nl.demon.net) (194.159.73.192)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 08:03:26 -0700
Received: from mda.demon.nl ([212.238.156.229]:58706 helo=[127.0.0.1])
	by post-22.mail.nl.demon.net with esmtp (Exim 4.34)
	id 1BnIct-000B7a-P4; Wed, 21 Jul 2004 15:03:23 +0000
Message-ID: <40FE862B.7020202@zilverline.org>
Date: Wed, 21 Jul 2004 17:05:15 +0200
From: Zilverline info <info@zilverline.org>
User-Agent: Mozilla Thunderbird 0.7.1 (Windows/20040626)
X-Accept-Language: nl, en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Extracting Lucene onto Tomcat
References: <20040721145038.8B9957266@sitemail.everyone.net>
In-Reply-To: <20040721145038.8B9957266@sitemail.everyone.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Ian,

You don't extract war files, or jar files. To deploy a web application 
that comes as a war file, you just have to drop it into 
webserver/servlet engine. So just: copy lucene.war 
<tomcatserver>/webapps. That's it. I advice you to read some of the 
documentation on the Tomcat website on deploying webapplications, or if 
you're really serious buy this book: 
http://www.wiley.com/WileyCDA/WileyTitle/productCd-0471446629.html

regards,

   Michael

Ian McDonnell wrote:

>I was looking at your instructions there, but couldnt really figure out what you mean. Can i manually add the extracted directories onto the tomcat server, if so what should my root directory be?
>
>Say for example the extracted directories org/apache/lucene/
>
>Should i have that as public_html/WEB-INF/org/apache/lucene?
>
>Ian
>
>
>--- Zilverline info <info@zilverline.org> wrote:
>Hi Ian,
>
>Depending on what you want to do, you could also follow the installation 
>instructions on http://www.zilverline.org. It describes how to install 
>zilverline, but the same goes for the lucene war.
>
>Hope this helps,
>
>   Michael Franken
>
>Ian McDonnell wrote:
>
>  
>
>>Also another silly question, do i need to setup a war on the server?
>>
>>
>>--- Ian McDonnell <ian@spinnerscity.com> wrote:
>>Well when i extracted it, it created the org/apache/lucene directories in the public_html directory. When i try to compile any of the source it just throws numerous errors. I've got the classpath set to web-inf/classes.
>>
>>Have i extraced it to the wrong directory?
>>
>>
>>--- Erik Hatcher <erik@ehatchersolutions.com> wrote:
>>On Jul 21, 2004, at 8:10 AM, Ian McDonnell wrote:
>> 
>>
>>    
>>
>>>Is the package information and import paths ready to deploy on Tomcat 
>>>server. I tried extracting lucene on the server, but when i compile 
>>>files, it just throws numerous no class definition errors and errors 
>>>relating to the package.
>>>   
>>>
>>>      
>>>
>>Huh?  Lucene certainly deploys just fine in Tomcat web applications (in 
>>a WAR under WEB-INF/lib).  Could you elaborate on what you mean here?
>>
>>	Erik
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>>_____________________________________________________________
>>Sign up for FREE email from SpinnersCity Online Dance Magazine & Vortal at http://www.spinnerscity.com
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>>_____________________________________________________________
>>Sign up for FREE email from SpinnersCity Online Dance Magazine & Vortal at http://www.spinnerscity.com
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>> 
>>
>>    
>>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>_____________________________________________________________
>Sign up for FREE email from SpinnersCity Online Dance Magazine & Vortal at http://www.spinnerscity.com
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9408-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 15:20:20 2004
Return-Path: <lucene-user-return-9408-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92645 invoked from network); 21 Jul 2004 15:20:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 15:20:20 -0000
Received: (qmail 91936 invoked by uid 500); 21 Jul 2004 15:19:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91824 invoked by uid 500); 21 Jul 2004 15:19:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91710 invoked by uid 99); 21 Jul 2004 15:19:29 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=FOR_FREE
X-Spam-Check-By: apache.org
Received: from [216.200.145.37] (HELO omta08.mta.everyone.net) (216.200.145.37)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 08:19:27 -0700
Received: from sitemail.everyone.net (bigip1-snat [216.200.145.29])
	by omta08.mta.everyone.net (Postfix) with ESMTP id CD25D475EB
	for <lucene-user@jakarta.apache.org>; Wed, 21 Jul 2004 08:19:11 -0700 (PDT)
Received: by sitemail.everyone.net (Postfix, from userid 99)
	id A8E593978; Wed, 21 Jul 2004 08:19:11 -0700 (PDT)
Content-Type: text/plain
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0
X-Mailer: MIME-tools 5.41 (Entity 5.404)
Date: Wed, 21 Jul 2004 08:19:11 -0700 (PDT)
From: Ian McDonnell <ian@spinnerscity.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Extracting Lucene onto Tomcat
Reply-To: ian@spinnerscity.com
X-Originating-Ip: [193.1.132.28]
X-Eon-Sig: AQDOAZ5A/olvAAlRagEAAAAB,66749abc7158f9e9e841cf07ecf70009
Message-Id: <20040721151911.A8E593978@sitemail.everyone.net>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

No sorry i didnt mean that i was trying to extract the jars at all. 

I meant the extraction of the original lucene source bundle. I have been developing in java for going on 5 years now, but am relatively new to Web Apps. I have some experience in TomCat from days as an undergrad and do understand that perhaps the questions i'm asking wernt exactly tech questions relating to Lucene, but rather Tomcat related enquiries. I think the reason i was struggling was that i havn't been able to locate the lucene war files as they dont seem to have come as part of the latest source drops.

Thx for the advice and hopefully you can help me out when i'm further into the development process.

Ian


--- Erik Hatcher <erik@ehatchersolutions.com> wrote:
There is no need to extract Lucene's JAR file.

Your questions indicate that you have some Tomcat and Java web 
application learning to do and this forum is not the most appropriate 
place to ask.  Lucene includes a web application demo that you could 
try deploying by following the steps here:  
http://jakarta.apache.org/lucene/docs/demo3.html

Just drop luceneweb.jar into CATALINA_HOME/webapps, restart Tomcat and 
try hitting http://localhost:8080/luceneweb and pressing the search 
button - you will get an error unless you've followed all the steps, 
but you should not get a class cast exception and Lucene will be 
working properly (now follow the steps to build an index and configure 
the pointer to it).

	Erik

On Jul 21, 2004, at 9:43 AM, Ian McDonnell wrote:

> Well when i extracted it, it created the org/apache/lucene directories 
> in the public_html directory. When i try to compile any of the source 
> it just throws numerous errors. I've got the classpath set to 
> web-inf/classes.
>
> Have i extraced it to the wrong directory?
>
>
> --- Erik Hatcher <erik@ehatchersolutions.com> wrote:
> On Jul 21, 2004, at 8:10 AM, Ian McDonnell wrote:
>> Is the package information and import paths ready to deploy on Tomcat
>> server. I tried extracting lucene on the server, but when i compile
>> files, it just throws numerous no class definition errors and errors
>> relating to the package.
>
> Huh?  Lucene certainly deploys just fine in Tomcat web applications (in
> a WAR under WEB-INF/lib).  Could you elaborate on what you mean here?
>
> 	Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> _____________________________________________________________
> Sign up for FREE email from SpinnersCity Online Dance Magazine & 
> Vortal at http://www.spinnerscity.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



_____________________________________________________________
Sign up for FREE email from SpinnersCity Online Dance Magazine & Vortal at http://www.spinnerscity.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9409-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 15:36:50 2004
Return-Path: <lucene-user-return-9409-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5027 invoked from network); 21 Jul 2004 15:36:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 15:36:49 -0000
Received: (qmail 28418 invoked by uid 500); 21 Jul 2004 15:36:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28311 invoked by uid 500); 21 Jul 2004 15:36:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28298 invoked by uid 99); 21 Jul 2004 15:36:40 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=DNS_FROM_RFC_POST
X-Spam-Check-By: apache.org
Received: from [64.4.10.113] (HELO hotmail.com) (64.4.10.113)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 08:36:38 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 21 Jul 2004 08:36:37 -0700
Received: from 202.57.131.189 by bay7-dav9.bay7.hotmail.com with DAV;
	Wed, 21 Jul 2004 15:36:37 +0000
X-Originating-IP: [202.57.131.189]
X-Originating-Email: [dev_johnpatterson@hotmail.com]
X-Sender: dev_johnpatterson@hotmail.com
Reply-To: "John Patterson" <dev_johnpatterson@hotmail.com>
From: "John Patterson" <dev_johnpatterson@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <200407211407.i6LE7Sv02109@mail.fulfilnet.com.au> <89148116-DB25-11D8-B609-000393A564E6@ehatchersolutions.com>
Subject: Re: Weighting database fields
Date: Wed, 21 Jul 2004 22:36:19 +0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Message-ID: <BAY7-DAV9uFWjkOTGkd00027bde@hotmail.com>
X-OriginalArrivalTime: 21 Jul 2004 15:36:37.0597 (UTC) FILETIME=[82C448D0:01C46F38]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks, that was what I was after!

----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, July 21, 2004 9:52 PM
Subject: Re: Weighting database fields


> On Jul 21, 2004, at 10:09 AM, Anson Lau wrote:
> > Apply boost factor to fields when you do a lucene search.
> 
> Or... set the boost on the Field during indexing.
> 
> Erik
> 
> 
> >
> > Anson
> >
> > -----Original Message-----
> > From: John Patterson [mailto:dev_johnpatterson@hotmail.com]
> > Sent: Thursday, July 22, 2004 12:07 AM
> > To: lucene-user@jakarta.apache.org
> > Subject: Weighting database fields
> >
> > Hi,
> >
> > What is the best way to get Lucene to assign weightings to certain 
> > fields
> > from a database?  For example, the 'name' field should be weighted 
> > higher
> > than the 'description' field.
> >
> > Thanks,
> >
> > John.
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9410-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 15:40:27 2004
Return-Path: <lucene-user-return-9410-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7481 invoked from network); 21 Jul 2004 15:40:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 15:40:27 -0000
Received: (qmail 40011 invoked by uid 500); 21 Jul 2004 15:40:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39816 invoked by uid 500); 21 Jul 2004 15:40:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39802 invoked by uid 99); 21 Jul 2004 15:40:19 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.111.107.196] (HELO mail.fulfilnet.com.au) (203.111.107.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 08:40:16 -0700
Message-Id: <200407211538.i6LFcSv04296@mail.fulfilnet.com.au>
From: "Anson Lau" <alau@fulfil-net.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Weighting database fields
Date: Thu, 22 Jul 2004 01:40:56 +1000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
In-Reply-To: <89148116-DB25-11D8-B609-000393A564E6@ehatchersolutions.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik,

Is there any benefit to set the boost during indexing rather than set it
during query?

I usually set it when doing a query because you can change that boost values
easily without having to re-index.

Thanks,
ANson


-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Thursday, July 22, 2004 12:52 AM
To: Lucene Users List
Subject: Re: Weighting database fields

On Jul 21, 2004, at 10:09 AM, Anson Lau wrote:
> Apply boost factor to fields when you do a lucene search.

Or... set the boost on the Field during indexing.

	Erik


>
> Anson
>
> -----Original Message-----
> From: John Patterson [mailto:dev_johnpatterson@hotmail.com]
> Sent: Thursday, July 22, 2004 12:07 AM
> To: lucene-user@jakarta.apache.org
> Subject: Weighting database fields
>
> Hi,
>
> What is the best way to get Lucene to assign weightings to certain 
> fields
> from a database?  For example, the 'name' field should be weighted 
> higher
> than the 'description' field.
>
> Thanks,
>
> John.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9411-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 15:54:05 2004
Return-Path: <lucene-user-return-9411-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22454 invoked from network); 21 Jul 2004 15:54:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 15:54:05 -0000
Received: (qmail 79514 invoked by uid 500); 21 Jul 2004 15:53:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79416 invoked by uid 500); 21 Jul 2004 15:53:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79318 invoked by uid 99); 21 Jul 2004 15:53:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.59.128] (HELO postfix.mail.ehatchersolutions.com) (128.143.59.128)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 08:53:06 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 03166834EC7
	for <lucene-user@jakarta.apache.org>; Wed, 21 Jul 2004 11:53:08 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <20040721151911.A8E593978@sitemail.everyone.net>
References: <20040721151911.A8E593978@sitemail.everyone.net>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <0E90E828-DB2E-11D8-B609-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Extracting Lucene onto Tomcat
Date: Wed, 21 Jul 2004 11:53:06 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jul 21, 2004, at 11:19 AM, Ian McDonnell wrote:
> No sorry i didnt mean that i was trying to extract the jars at all.
>
> I meant the extraction of the original lucene source bundle. I have  
> been developing in java for going on 5 years now, but am relatively  
> new to Web Apps. I have some experience in TomCat from days as an  
> undergrad and do understand that perhaps the questions i'm asking  
> wernt exactly tech questions relating to Lucene, but rather Tomcat  
> related enquiries. I think the reason i was struggling was that i  
> havn't been able to locate the lucene war files as they dont seem to  
> have come as part of the latest source drops.

The webapp is built from the source code, not included directly as a  
WAR.  If you download the 1.4 binary distribution, luceneweb.war is  
pre-built at the top-level.  If you grab the source release for 1.4,  
use Ant with the war-demo target:

% ant war-demo
Buildfile: build.xml
.
.
.

compile-demo:
     [mkdir] Created dir:  
/Users/erik/Desktop/Downloads/lucene-1.4-final/build/classes/demo
     [javac] Compiling 17 source files to  
/Users/erik/Desktop/Downloads/lucene-1.4-final/build/classes/demo

jar-demo:
       [jar] Building jar:  
/Users/erik/Desktop/Downloads/lucene-1.4-final/build/lucene-demos-1.5- 
rc1-dev.jar

war-demo:
       [war] Building war:  
/Users/erik/Desktop/Downloads/lucene-1.4-final/build/luceneweb.war

BUILD SUCCESSFUL


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9412-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 15:56:40 2004
Return-Path: <lucene-user-return-9412-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25703 invoked from network); 21 Jul 2004 15:56:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 15:56:39 -0000
Received: (qmail 91074 invoked by uid 500); 21 Jul 2004 15:56:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90980 invoked by uid 500); 21 Jul 2004 15:56:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90839 invoked by uid 99); 21 Jul 2004 15:56:24 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.143.59.128] (HELO postfix.mail.ehatchersolutions.com) (128.143.59.128)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 08:56:22 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id D7D8B834EF8
	for <lucene-user@jakarta.apache.org>; Wed, 21 Jul 2004 11:56:25 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <200407211538.i6LFcSv04296@mail.fulfilnet.com.au>
References: <200407211538.i6LFcSv04296@mail.fulfilnet.com.au>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <83C9B22D-DB2E-11D8-B609-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Weighting database fields
Date: Wed, 21 Jul 2004 11:56:23 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jul 21, 2004, at 11:40 AM, Anson Lau wrote:
> Is there any benefit to set the boost during indexing rather than set 
> it
> during query?

It allows setting each document differently.  For example, 
TheServerSide is using field-level boosts at index time to control 
ordering by date, such that newer articles come up first.  This could 
not be done at query time since each document gets a different field 
boost.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9413-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 16:03:04 2004
Return-Path: <lucene-user-return-9413-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32739 invoked from network); 21 Jul 2004 16:03:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 16:03:04 -0000
Received: (qmail 874 invoked by uid 500); 21 Jul 2004 16:02:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 734 invoked by uid 500); 21 Jul 2004 16:02:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 717 invoked by uid 99); 21 Jul 2004 16:02:56 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [216.136.173.245] (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 21 Jul 2004 09:02:52 -0700
Message-ID: <20040721160251.36951.qmail@web12708.mail.yahoo.com>
Received: from [194.152.209.18] by web12708.mail.yahoo.com via HTTP; Wed, 21 Jul 2004 09:02:51 PDT
Date: Wed, 21 Jul 2004 09:02:51 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Use of Convertes or Parser
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <002b01c46f30$363bd260$8714a8c0@ssl>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Lucene cannot parse those document formats that you mentioned.  You
need 3rd party parsers to do that.  For example, POI will parse Excel
and MS Word docs, PDFBox will parse PDF.

Otis

--- "Natarajan.T" <natarajant@crimsonlogic.co.in> wrote:
> Hi Guys,
>  
> I have a small query, ie. Lucene 1.4 APIs directly indexing all the
> documents(PPT,PDF,WORD,etc.) then why we go for Converters or
> Parsers.
>  
>  
> Thanks,
> Natarajan.
>  
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9414-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 17:12:45 2004
Return-Path: <lucene-user-return-9414-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15559 invoked from network); 21 Jul 2004 17:12:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 17:12:45 -0000
Received: (qmail 47613 invoked by uid 500); 21 Jul 2004 17:12:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47543 invoked by uid 500); 21 Jul 2004 17:12:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47529 invoked by uid 99); 21 Jul 2004 17:12:37 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [206.190.38.220] (HELO web51702.mail.yahoo.com) (206.190.38.220)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 21 Jul 2004 10:12:35 -0700
Message-ID: <20040721171233.80619.qmail@web51702.mail.yahoo.com>
Received: from [209.116.226.226] by web51702.mail.yahoo.com via HTTP; Wed, 21 Jul 2004 10:12:33 PDT
Date: Wed, 21 Jul 2004 10:12:33 -0700 (PDT)
From: Greg Gershman <greggersh@yahoo.com>
Subject: RE: Sort: 1.4-rc3 vs. 1.4-final
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <003201c46f27$7efcc940$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've done a bit more snooping around; it seems that in
FieldSortedHitQueue.getCachedComparator(line 153),
calls to lookup a stored comparator in the cache
always return null.  This occurs even for the built-in
sort types (I tested it on integers and my code for
longs).  The comparators don't even appear to be being
stored in the HashMap to begin with.

Any ideas?

Greg

 

--- Aviran <amordo@infosciences.com> wrote:
> Since I had to implement sorting in lucene 1.2 I had
> to write my own sorting
> using something similar to a lucene's contribution
> called SortField. 
> Yesterday I did some tests, trying to use lucene 1.4
> Sort objects and I
> realized that my old implementation works 40% faster
> then Lucene's
> implementation. My guess is that you are right and
> there is a problem with
> the cache although I couldn't find what that is yet.
> 
> Aviran
> 
> -----Original Message-----
> From: Greg Gershman [mailto:greggersh@yahoo.com] 
> Sent: Wednesday, July 21, 2004 9:22 AM
> To: lucene-user@jakarta.apache.org
> Subject: Sort: 1.4-rc3 vs. 1.4-final
> 
> 
> When rc3 came out, I modified the classes used for
> Sorting to, in addition to Integer, Float and
> String-based sort keys, use Long values.  All I did
> was add extra statements in 2 classes (SortField and
> FieldSortedHitQueue) that made a special case for
> longs, and created a LongSortedHitQueue identical to
> the IntegerSortedHitQueue, only using longs.  
> 
> This worked as expected; Long values converted to
> strings and stored in Field.Keyword type fields
> would
> be sorted according to Long order.  The initial
> query
> would take a while, to build the sorted array, but
> subsequent queries would take little to no time at
> all.
> 
> I went back to look at 1.4 final, and noticed the
> Sort implementation has
> changed quite a bit.  I tried the same type of
> modifications to the existing
> source files, but was unable to achieve similiar
> results. 
> Each subsequent query seems to take a significant
> amount of time, as if the Sorted array is being
> rebuilt each time.  Also, I tried sorting on an
> Integer fields and got similar results, which leads
> me
> to believe there might be a caching problem
> somewhere.
> 
> Has anyone else seen this in 1.4-final?  Also, I
> would
> like it if Long sorted fields could become a part of
> the API; it makes sorting by date a breeze.
> 
> Thanks!
> 
> Greg Gershman
> 
> 
> 		
> __________________________________
> Do you Yahoo!?
> New and Improved Yahoo! Mail - Send 10MB messages!
> http://promotions.yahoo.com/new_mail 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> 
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> 



	
		
__________________________________
Do you Yahoo!?
Vote for the stars of Yahoo!'s next ad campaign!
http://advision.webevents.yahoo.com/yahoo/votelifeengine/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9415-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 17:30:27 2004
Return-Path: <lucene-user-return-9415-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34777 invoked from network); 21 Jul 2004 17:30:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 17:30:27 -0000
Received: (qmail 78997 invoked by uid 500); 21 Jul 2004 17:30:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78938 invoked by uid 500); 21 Jul 2004 17:30:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78859 invoked by uid 99); 21 Jul 2004 17:30:17 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [206.190.38.220] (HELO web51702.mail.yahoo.com) (206.190.38.220)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 21 Jul 2004 10:30:16 -0700
Message-ID: <20040721173014.84307.qmail@web51702.mail.yahoo.com>
Received: from [209.116.226.226] by web51702.mail.yahoo.com via HTTP; Wed, 21 Jul 2004 10:30:14 PDT
Date: Wed, 21 Jul 2004 10:30:14 -0700 (PDT)
From: Greg Gershman <greggersh@yahoo.com>
Subject: RE: Sort: 1.4-rc3 vs. 1.4-final
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20040721171233.80619.qmail@web51702.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I switched the Comparators and FieldCache classes to
use java.util.HashMap instead of
java.util.WeakHashMap, and got the performance boost I
was looking for (test index of 100K documents; initial
search took 991 ms, all subsequent searchs took <
90ms.  Before, I was seeing initial query of ~1sec,
subsequent queries between 500 and 700 ms, with
comparator and field lookup table computed each time).

I guess the question is why use a WeakHashMap here as
opposed to a HashMap?

Greg

--- Greg Gershman <greggersh@yahoo.com> wrote:
> I've done a bit more snooping around; it seems that
> in
> FieldSortedHitQueue.getCachedComparator(line 153),
> calls to lookup a stored comparator in the cache
> always return null.  This occurs even for the
> built-in
> sort types (I tested it on integers and my code for
> longs).  The comparators don't even appear to be
> being
> stored in the HashMap to begin with.
> 
> Any ideas?
> 
> Greg
> 
>  
> 
> --- Aviran <amordo@infosciences.com> wrote:
> > Since I had to implement sorting in lucene 1.2 I
> had
> > to write my own sorting
> > using something similar to a lucene's contribution
> > called SortField. 
> > Yesterday I did some tests, trying to use lucene
> 1.4
> > Sort objects and I
> > realized that my old implementation works 40%
> faster
> > then Lucene's
> > implementation. My guess is that you are right and
> > there is a problem with
> > the cache although I couldn't find what that is
> yet.
> > 
> > Aviran
> > 
> > -----Original Message-----
> > From: Greg Gershman [mailto:greggersh@yahoo.com] 
> > Sent: Wednesday, July 21, 2004 9:22 AM
> > To: lucene-user@jakarta.apache.org
> > Subject: Sort: 1.4-rc3 vs. 1.4-final
> > 
> > 
> > When rc3 came out, I modified the classes used for
> > Sorting to, in addition to Integer, Float and
> > String-based sort keys, use Long values.  All I
> did
> > was add extra statements in 2 classes (SortField
> and
> > FieldSortedHitQueue) that made a special case for
> > longs, and created a LongSortedHitQueue identical
> to
> > the IntegerSortedHitQueue, only using longs.  
> > 
> > This worked as expected; Long values converted to
> > strings and stored in Field.Keyword type fields
> > would
> > be sorted according to Long order.  The initial
> > query
> > would take a while, to build the sorted array, but
> > subsequent queries would take little to no time at
> > all.
> > 
> > I went back to look at 1.4 final, and noticed the
> > Sort implementation has
> > changed quite a bit.  I tried the same type of
> > modifications to the existing
> > source files, but was unable to achieve similiar
> > results. 
> > Each subsequent query seems to take a significant
> > amount of time, as if the Sorted array is being
> > rebuilt each time.  Also, I tried sorting on an
> > Integer fields and got similar results, which
> leads
> > me
> > to believe there might be a caching problem
> > somewhere.
> > 
> > Has anyone else seen this in 1.4-final?  Also, I
> > would
> > like it if Long sorted fields could become a part
> of
> > the API; it makes sorting by date a breeze.
> > 
> > Thanks!
> > 
> > Greg Gershman
> > 
> > 
> > 		
> > __________________________________
> > Do you Yahoo!?
> > New and Improved Yahoo! Mail - Send 10MB messages!
> > http://promotions.yahoo.com/new_mail 
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > 
> > 
> > 
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > 
> > 
> 
> 
> 
> 	
> 		
> __________________________________
> Do you Yahoo!?
> Vote for the stars of Yahoo!'s next ad campaign!
>
http://advision.webevents.yahoo.com/yahoo/votelifeengine/
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> 



	
		
__________________________________
Do you Yahoo!?
Vote for the stars of Yahoo!'s next ad campaign!
http://advision.webevents.yahoo.com/yahoo/votelifeengine/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9416-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 17:41:39 2004
Return-Path: <lucene-user-return-9416-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46315 invoked from network); 21 Jul 2004 17:41:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 17:41:38 -0000
Received: (qmail 6848 invoked by uid 500); 21 Jul 2004 17:41:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6783 invoked by uid 500); 21 Jul 2004 17:41:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6753 invoked by uid 99); 21 Jul 2004 17:41:30 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [141.156.69.115] (HELO mail.infosciences.com) (141.156.69.115)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 10:41:28 -0700
Received: from Aviran (unknown [141.156.69.109])
	by mail.infosciences.com (Postfix) with ESMTP id C1CE7118412
	for <lucene-user@jakarta.apache.org>; Wed, 21 Jul 2004 13:42:34 -0400 (EDT)
From: "Aviran" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Sort: 1.4-rc3 vs. 1.4-final
Date: Wed, 21 Jul 2004 13:42:01 -0400
Message-ID: <006d01c46f4a$0a8c0cb0$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
Importance: Normal
In-Reply-To: <20040721171233.80619.qmail@web51702.mail.yahoo.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think I found the problem
FieldCacheImpl uses WeakHashMap to store the cached objects, but since =
there
is no other reference to this cache it is getting released.
Switching to HashMap solves it.
The only problem is that I don't see anywhere where the cached object =
will
get released if you open a new IndexReader.

Aviran

-----Original Message-----
From: Greg Gershman [mailto:greggersh@yahoo.com]=20
Sent: Wednesday, July 21, 2004 13:13 PM
To: Lucene Users List
Subject: RE: Sort: 1.4-rc3 vs. 1.4-final


I've done a bit more snooping around; it seems that in
FieldSortedHitQueue.getCachedComparator(line 153), calls to lookup a =
stored
comparator in the cache always return null.  This occurs even for the
built-in sort types (I tested it on integers and my code for longs).  =
The
comparators don't even appear to be being stored in the HashMap to begin
with.

Any ideas?

Greg

=20

--- Aviran <amordo@infosciences.com> wrote:
> Since I had to implement sorting in lucene 1.2 I had
> to write my own sorting
> using something similar to a lucene's contribution
> called SortField.
> Yesterday I did some tests, trying to use lucene 1.4
> Sort objects and I
> realized that my old implementation works 40% faster
> then Lucene's
> implementation. My guess is that you are right and
> there is a problem with
> the cache although I couldn't find what that is yet.
>=20
> Aviran
>=20
> -----Original Message-----
> From: Greg Gershman [mailto:greggersh@yahoo.com]
> Sent: Wednesday, July 21, 2004 9:22 AM
> To: lucene-user@jakarta.apache.org
> Subject: Sort: 1.4-rc3 vs. 1.4-final
>=20
>=20
> When rc3 came out, I modified the classes used for
> Sorting to, in addition to Integer, Float and
> String-based sort keys, use Long values.  All I did
> was add extra statements in 2 classes (SortField and
> FieldSortedHitQueue) that made a special case for
> longs, and created a LongSortedHitQueue identical to
> the IntegerSortedHitQueue, only using longs.
>=20
> This worked as expected; Long values converted to
> strings and stored in Field.Keyword type fields
> would
> be sorted according to Long order.  The initial
> query
> would take a while, to build the sorted array, but
> subsequent queries would take little to no time at
> all.
>=20
> I went back to look at 1.4 final, and noticed the
> Sort implementation has
> changed quite a bit.  I tried the same type of
> modifications to the existing
> source files, but was unable to achieve similiar
> results.
> Each subsequent query seems to take a significant
> amount of time, as if the Sorted array is being
> rebuilt each time.  Also, I tried sorting on an
> Integer fields and got similar results, which leads
> me
> to believe there might be a caching problem
> somewhere.
>=20
> Has anyone else seen this in 1.4-final?  Also, I
> would
> like it if Long sorted fields could become a part of
> the API; it makes sorting by date a breeze.
>=20
> Thanks!
>=20
> Greg Gershman
>=20
>=20
> 	=09
> __________________________________
> Do you Yahoo!?
> New and Improved Yahoo! Mail - Send 10MB messages!
> http://promotions.yahoo.com/new_mail
>=20
>
---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20
>=20
>=20
>
---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20



=09
	=09
__________________________________
Do you Yahoo!?
Vote for the stars of Yahoo!'s next ad campaign!
http://advision.webevents.yahoo.com/yahoo/votelifeengine/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9417-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 17:45:01 2004
Return-Path: <lucene-user-return-9417-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48128 invoked from network); 21 Jul 2004 17:45:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 17:45:01 -0000
Received: (qmail 11114 invoked by uid 500); 21 Jul 2004 17:44:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10933 invoked by uid 500); 21 Jul 2004 17:44:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10920 invoked by uid 99); 21 Jul 2004 17:44:54 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [141.156.69.115] (HELO mail.infosciences.com) (141.156.69.115)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 10:44:53 -0700
Received: from Aviran (unknown [141.156.69.109])
	by mail.infosciences.com (Postfix) with ESMTP id AF868118412
	for <lucene-user@jakarta.apache.org>; Wed, 21 Jul 2004 13:46:04 -0400 (EDT)
From: "Aviran" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Sort: 1.4-rc3 vs. 1.4-final
Date: Wed, 21 Jul 2004 13:45:40 -0400
Message-ID: <006e01c46f4a$8a020df0$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
Importance: Normal
In-Reply-To: <20040721173014.84307.qmail@web51702.mail.yahoo.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I just saw this post, I guess we both came to the same conclusion. 
The only problem is that the cached object never gets released, and a new
one will get created every time you open a new IndexReader

Aviran

-----Original Message-----
From: Greg Gershman [mailto:greggersh@yahoo.com] 
Sent: Wednesday, July 21, 2004 13:30 PM
To: Lucene Users List
Subject: RE: Sort: 1.4-rc3 vs. 1.4-final


I switched the Comparators and FieldCache classes to
use java.util.HashMap instead of
java.util.WeakHashMap, and got the performance boost I
was looking for (test index of 100K documents; initial
search took 991 ms, all subsequent searchs took <
90ms.  Before, I was seeing initial query of ~1sec,
subsequent queries between 500 and 700 ms, with
comparator and field lookup table computed each time).

I guess the question is why use a WeakHashMap here as
opposed to a HashMap?

Greg

--- Greg Gershman <greggersh@yahoo.com> wrote:
> I've done a bit more snooping around; it seems that
> in
> FieldSortedHitQueue.getCachedComparator(line 153),
> calls to lookup a stored comparator in the cache
> always return null.  This occurs even for the
> built-in
> sort types (I tested it on integers and my code for
> longs).  The comparators don't even appear to be
> being
> stored in the HashMap to begin with.
> 
> Any ideas?
> 
> Greg
> 
>  
> 
> --- Aviran <amordo@infosciences.com> wrote:
> > Since I had to implement sorting in lucene 1.2 I
> had
> > to write my own sorting
> > using something similar to a lucene's contribution
> > called SortField.
> > Yesterday I did some tests, trying to use lucene
> 1.4
> > Sort objects and I
> > realized that my old implementation works 40%
> faster
> > then Lucene's
> > implementation. My guess is that you are right and
> > there is a problem with
> > the cache although I couldn't find what that is
> yet.
> > 
> > Aviran
> > 
> > -----Original Message-----
> > From: Greg Gershman [mailto:greggersh@yahoo.com]
> > Sent: Wednesday, July 21, 2004 9:22 AM
> > To: lucene-user@jakarta.apache.org
> > Subject: Sort: 1.4-rc3 vs. 1.4-final
> > 
> > 
> > When rc3 came out, I modified the classes used for
> > Sorting to, in addition to Integer, Float and
> > String-based sort keys, use Long values.  All I
> did
> > was add extra statements in 2 classes (SortField
> and
> > FieldSortedHitQueue) that made a special case for
> > longs, and created a LongSortedHitQueue identical
> to
> > the IntegerSortedHitQueue, only using longs.
> > 
> > This worked as expected; Long values converted to
> > strings and stored in Field.Keyword type fields
> > would
> > be sorted according to Long order.  The initial
> > query
> > would take a while, to build the sorted array, but subsequent 
> > queries would take little to no time at all.
> > 
> > I went back to look at 1.4 final, and noticed the
> > Sort implementation has
> > changed quite a bit.  I tried the same type of modifications to the 
> > existing source files, but was unable to achieve similiar
> > results. 
> > Each subsequent query seems to take a significant
> > amount of time, as if the Sorted array is being
> > rebuilt each time.  Also, I tried sorting on an
> > Integer fields and got similar results, which
> leads
> > me
> > to believe there might be a caching problem
> > somewhere.
> > 
> > Has anyone else seen this in 1.4-final?  Also, I
> > would
> > like it if Long sorted fields could become a part
> of
> > the API; it makes sorting by date a breeze.
> > 
> > Thanks!
> > 
> > Greg Gershman
> > 
> > 
> > 		
> > __________________________________
> > Do you Yahoo!?
> > New and Improved Yahoo! Mail - Send 10MB messages! 
> > http://promotions.yahoo.com/new_mail
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > 
> > 
> > 
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > 
> > 
> 
> 
> 
> 	
> 		
> __________________________________
> Do you Yahoo!?
> Vote for the stars of Yahoo!'s next ad campaign!
>
http://advision.webevents.yahoo.com/yahoo/votelifeengine/
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> 



	
		
__________________________________
Do you Yahoo!?
Vote for the stars of Yahoo!'s next ad campaign!
http://advision.webevents.yahoo.com/yahoo/votelifeengine/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9418-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 17:57:05 2004
Return-Path: <lucene-user-return-9418-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54964 invoked from network); 21 Jul 2004 17:57:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 17:57:05 -0000
Received: (qmail 35065 invoked by uid 500); 21 Jul 2004 17:56:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34979 invoked by uid 500); 21 Jul 2004 17:56:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34966 invoked by uid 99); 21 Jul 2004 17:56:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 10:56:55 -0700
Received: (qmail 34644 invoked by uid 89); 21 Jul 2004 17:56:53 -0000
Received: from unknown (HELO ?192.168.168.81?) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 21 Jul 2004 17:56:53 -0000
Message-ID: <40FEAE46.9080803@apache.org>
Date: Wed, 21 Jul 2004 10:56:22 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040619
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Sort: 1.4-rc3 vs. 1.4-final
References: <006d01c46f4a$0a8c0cb0$6a00a8c0@Aviran>
In-Reply-To: <006d01c46f4a$0a8c0cb0$6a00a8c0@Aviran>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The key in the WeakHashMap should be the IndexReader, not the Entry.  I 
think this should become a two-level cache, a WeakHashMap of HashMaps, 
the WeakHashMap keyed by IndexReader, the HashMap keyed by Entry.  I 
think the Entry class can also be changed to not include an IndexReader 
field.  Does this make sense?  Would someone like to construct a patch 
and submit it to the developer list?

Doug

Aviran wrote:
> I think I found the problem
> FieldCacheImpl uses WeakHashMap to store the cached objects, but since there
> is no other reference to this cache it is getting released.
> Switching to HashMap solves it.
> The only problem is that I don't see anywhere where the cached object will
> get released if you open a new IndexReader.
> 
> Aviran
> 
> -----Original Message-----
> From: Greg Gershman [mailto:greggersh@yahoo.com] 
> Sent: Wednesday, July 21, 2004 13:13 PM
> To: Lucene Users List
> Subject: RE: Sort: 1.4-rc3 vs. 1.4-final
> 
> 
> I've done a bit more snooping around; it seems that in
> FieldSortedHitQueue.getCachedComparator(line 153), calls to lookup a stored
> comparator in the cache always return null.  This occurs even for the
> built-in sort types (I tested it on integers and my code for longs).  The
> comparators don't even appear to be being stored in the HashMap to begin
> with.
> 
> Any ideas?
> 
> Greg
> 
>  
> 
> --- Aviran <amordo@infosciences.com> wrote:
> 
>>Since I had to implement sorting in lucene 1.2 I had
>>to write my own sorting
>>using something similar to a lucene's contribution
>>called SortField.
>>Yesterday I did some tests, trying to use lucene 1.4
>>Sort objects and I
>>realized that my old implementation works 40% faster
>>then Lucene's
>>implementation. My guess is that you are right and
>>there is a problem with
>>the cache although I couldn't find what that is yet.
>>
>>Aviran
>>
>>-----Original Message-----
>>From: Greg Gershman [mailto:greggersh@yahoo.com]
>>Sent: Wednesday, July 21, 2004 9:22 AM
>>To: lucene-user@jakarta.apache.org
>>Subject: Sort: 1.4-rc3 vs. 1.4-final
>>
>>
>>When rc3 came out, I modified the classes used for
>>Sorting to, in addition to Integer, Float and
>>String-based sort keys, use Long values.  All I did
>>was add extra statements in 2 classes (SortField and
>>FieldSortedHitQueue) that made a special case for
>>longs, and created a LongSortedHitQueue identical to
>>the IntegerSortedHitQueue, only using longs.
>>
>>This worked as expected; Long values converted to
>>strings and stored in Field.Keyword type fields
>>would
>>be sorted according to Long order.  The initial
>>query
>>would take a while, to build the sorted array, but
>>subsequent queries would take little to no time at
>>all.
>>
>>I went back to look at 1.4 final, and noticed the
>>Sort implementation has
>>changed quite a bit.  I tried the same type of
>>modifications to the existing
>>source files, but was unable to achieve similiar
>>results.
>>Each subsequent query seems to take a significant
>>amount of time, as if the Sorted array is being
>>rebuilt each time.  Also, I tried sorting on an
>>Integer fields and got similar results, which leads
>>me
>>to believe there might be a caching problem
>>somewhere.
>>
>>Has anyone else seen this in 1.4-final?  Also, I
>>would
>>like it if Long sorted fields could become a part of
>>the API; it makes sorting by date a breeze.
>>
>>Thanks!
>>
>>Greg Gershman
>>
>>
>>		
>>__________________________________
>>Do you Yahoo!?
>>New and Improved Yahoo! Mail - Send 10MB messages!
>>http://promotions.yahoo.com/new_mail
>>
>>
> 
> ---------------------------------------------------------------------
> 
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>>
>>
> 
> ---------------------------------------------------------------------
> 
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
> 
> 
> 
> 
> 	
> 		
> __________________________________
> Do you Yahoo!?
> Vote for the stars of Yahoo!'s next ad campaign!
> http://advision.webevents.yahoo.com/yahoo/votelifeengine/
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9419-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 18:16:00 2004
Return-Path: <lucene-user-return-9419-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65853 invoked from network); 21 Jul 2004 18:16:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 18:16:00 -0000
Received: (qmail 76305 invoked by uid 500); 21 Jul 2004 18:15:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76191 invoked by uid 500); 21 Jul 2004 18:15:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76178 invoked by uid 99); 21 Jul 2004 18:15:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [141.156.69.115] (HELO mail.infosciences.com) (141.156.69.115)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 11:15:48 -0700
Received: from Aviran (unknown [141.156.69.109])
	by mail.infosciences.com (Postfix) with ESMTP id D641F118412
	for <lucene-user@jakarta.apache.org>; Wed, 21 Jul 2004 14:16:58 -0400 (EDT)
From: "Aviran" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Sort: 1.4-rc3 vs. 1.4-final
Date: Wed, 21 Jul 2004 14:16:31 -0400
Message-ID: <006f01c46f4e$dc2faa20$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
Importance: Normal
In-Reply-To: <40FEAE46.9080803@apache.org>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I will post a patch soon

Aviran

-----Original Message-----
From: Doug Cutting [mailto:cutting@apache.org] 
Sent: Wednesday, July 21, 2004 13:56 PM
To: Lucene Users List
Subject: Re: Sort: 1.4-rc3 vs. 1.4-final


The key in the WeakHashMap should be the IndexReader, not the Entry.  I 
think this should become a two-level cache, a WeakHashMap of HashMaps, 
the WeakHashMap keyed by IndexReader, the HashMap keyed by Entry.  I 
think the Entry class can also be changed to not include an IndexReader 
field.  Does this make sense?  Would someone like to construct a patch 
and submit it to the developer list?

Doug

Aviran wrote:
> I think I found the problem
> FieldCacheImpl uses WeakHashMap to store the cached objects, but since 
> there is no other reference to this cache it is getting released. 
> Switching to HashMap solves it. The only problem is that I don't see 
> anywhere where the cached object will get released if you open a new 
> IndexReader.
> 
> Aviran
> 
> -----Original Message-----
> From: Greg Gershman [mailto:greggersh@yahoo.com]
> Sent: Wednesday, July 21, 2004 13:13 PM
> To: Lucene Users List
> Subject: RE: Sort: 1.4-rc3 vs. 1.4-final
> 
> 
> I've done a bit more snooping around; it seems that in 
> FieldSortedHitQueue.getCachedComparator(line 153), calls to lookup a 
> stored comparator in the cache always return null.  This occurs even 
> for the built-in sort types (I tested it on integers and my code for 
> longs).  The comparators don't even appear to be being stored in the 
> HashMap to begin with.
> 
> Any ideas?
> 
> Greg
> 
>  
> 
> --- Aviran <amordo@infosciences.com> wrote:
> 
>>Since I had to implement sorting in lucene 1.2 I had
>>to write my own sorting
>>using something similar to a lucene's contribution
>>called SortField.
>>Yesterday I did some tests, trying to use lucene 1.4
>>Sort objects and I
>>realized that my old implementation works 40% faster
>>then Lucene's
>>implementation. My guess is that you are right and
>>there is a problem with
>>the cache although I couldn't find what that is yet.
>>
>>Aviran
>>
>>-----Original Message-----
>>From: Greg Gershman [mailto:greggersh@yahoo.com]
>>Sent: Wednesday, July 21, 2004 9:22 AM
>>To: lucene-user@jakarta.apache.org
>>Subject: Sort: 1.4-rc3 vs. 1.4-final
>>
>>
>>When rc3 came out, I modified the classes used for
>>Sorting to, in addition to Integer, Float and
>>String-based sort keys, use Long values.  All I did
>>was add extra statements in 2 classes (SortField and
>>FieldSortedHitQueue) that made a special case for
>>longs, and created a LongSortedHitQueue identical to
>>the IntegerSortedHitQueue, only using longs.
>>
>>This worked as expected; Long values converted to
>>strings and stored in Field.Keyword type fields
>>would
>>be sorted according to Long order.  The initial
>>query
>>would take a while, to build the sorted array, but
>>subsequent queries would take little to no time at
>>all.
>>
>>I went back to look at 1.4 final, and noticed the
>>Sort implementation has
>>changed quite a bit.  I tried the same type of
>>modifications to the existing
>>source files, but was unable to achieve similiar
>>results.
>>Each subsequent query seems to take a significant
>>amount of time, as if the Sorted array is being
>>rebuilt each time.  Also, I tried sorting on an
>>Integer fields and got similar results, which leads
>>me
>>to believe there might be a caching problem
>>somewhere.
>>
>>Has anyone else seen this in 1.4-final?  Also, I
>>would
>>like it if Long sorted fields could become a part of
>>the API; it makes sorting by date a breeze.
>>
>>Thanks!
>>
>>Greg Gershman
>>
>>
>>		
>>__________________________________
>>Do you Yahoo!?
>>New and Improved Yahoo! Mail - Send 10MB messages! 
>>http://promotions.yahoo.com/new_mail
>>
>>
> 
> ---------------------------------------------------------------------
> 
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>>
>>
> 
> ---------------------------------------------------------------------
> 
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
> 
> 
> 
> 
> 	
> 		
> __________________________________
> Do you Yahoo!?
> Vote for the stars of Yahoo!'s next ad campaign! 
> http://advision.webevents.yahoo.com/yahoo/votelifeengine/
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9420-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 18:37:06 2004
Return-Path: <lucene-user-return-9420-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78216 invoked from network); 21 Jul 2004 18:37:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 18:37:06 -0000
Received: (qmail 22021 invoked by uid 500); 21 Jul 2004 18:36:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22001 invoked by uid 500); 21 Jul 2004 18:36:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21986 invoked by uid 99); 21 Jul 2004 18:36:56 -0000
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS,FROM_ENDS_IN_NUMS
X-Spam-Check-By: apache.org
Received: from [63.196.96.150] (HELO sr16sc81.INFXINC.NET) (63.196.96.150)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 11:36:53 -0700
Received: from WK16SC20 ([10.16.4.98]) by sr16sc81.INFXINC.NET with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 21 Jul 2004 11:37:08 -0700
Message-ID: <03cc01c46f51$baa55cd0$6204100a@INFXINC.NET>
From: "Rob Jose" <rjose89@comcast.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <006f01c46f4e$dc2faa20$6a00a8c0@Aviran>
Subject: Slightly off topic, I need to have luke use my Analyzer
Date: Wed, 21 Jul 2004 11:37:08 -0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-OriginalArrivalTime: 21 Jul 2004 18:37:08.0918 (UTC) FILETIME=[BABCB560:01C46F51]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Sorry for the slightly off topic post, but I have a need to use luke with my
Analyzer.  Has anyone done this?  I have added a jar file to my classpath,
but that didn't help.

Thanks in advance
Rob


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9421-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 19:16:44 2004
Return-Path: <lucene-user-return-9421-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1919 invoked from network); 21 Jul 2004 19:16:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 19:16:44 -0000
Received: (qmail 18680 invoked by uid 500); 21 Jul 2004 19:16:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18549 invoked by uid 500); 21 Jul 2004 19:16:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18536 invoked by uid 99); 21 Jul 2004 19:16:37 -0000
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received: from [67.104.106.23] (HELO ex2003.master.kanisa.com) (67.104.106.23)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 21 Jul 2004 12:16:34 -0700
Received: from EXCHANGE2000.master.kanisa.com ([172.16.0.45]) by ex2003.master.kanisa.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 21 Jul 2004 12:16:29 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Slightly off topic, I need to have luke use my Analyzer
Date: Wed, 21 Jul 2004 12:16:28 -0700
Message-ID: <7D12D34479EFEB428FD19B5245166BFD053C9619@EXCHANGE2000.master.kanisa.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Slightly off topic, I need to have luke use my Analyzer
thread-index: AcRvUkyosKGfck1uQWanFGRpONswywABIEFg
From: "Chellappa, Kannan" <Kannan.Chellappa@kanisa.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 21 Jul 2004 19:16:29.0145 (UTC) FILETIME=[398AC490:01C46F57]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Worked for me.=20
I added my jar to the classpath and my analyzer appeared in the =
analyzers list in the search tab as well as in the analyzers list in the =
plugins tab.

I am using Luke v 0.5 (2004-05-25)

Kannan


-----Original Message-----
From: Rob Jose [mailto:rjose89@comcast.net]
Sent: Wednesday, July 21, 2004 11:37 AM
To: Lucene Users List
Subject: Slightly off topic, I need to have luke use my Analyzer


Sorry for the slightly off topic post, but I have a need to use luke =
with my
Analyzer.  Has anyone done this?  I have added a jar file to my =
classpath,
but that didn't help.

Thanks in advance
Rob


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9422-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 19:19:57 2004
Return-Path: <lucene-user-return-9422-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7100 invoked from network); 21 Jul 2004 19:19:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 19:19:56 -0000
Received: (qmail 24316 invoked by uid 500); 21 Jul 2004 19:19:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24197 invoked by uid 500); 21 Jul 2004 19:19:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24182 invoked by uid 99); 21 Jul 2004 19:19:49 -0000
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received: from [67.104.106.23] (HELO ex2003.master.kanisa.com) (67.104.106.23)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 21 Jul 2004 12:19:49 -0700
Received: from EXCHANGE2000.master.kanisa.com ([172.16.0.45]) by ex2003.master.kanisa.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 21 Jul 2004 12:19:47 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Slightly off topic, I need to have luke use my Analyzer
Date: Wed, 21 Jul 2004 12:19:47 -0700
Message-ID: <7D12D34479EFEB428FD19B5245166BFD053C961A@EXCHANGE2000.master.kanisa.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Slightly off topic, I need to have luke use my Analyzer
thread-index: AcRvUkyosKGfck1uQWanFGRpONswywABIEFgAAAwO2A=
From: "Chellappa, Kannan" <Kannan.Chellappa@kanisa.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 21 Jul 2004 19:19:47.0781 (UTC) FILETIME=[AFF03750:01C46F57]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Sorry typo in the version date in my previous mail -- I meant Luke v 0.5 =
(2004-06-25)=20

-----Original Message-----
From: Chellappa, Kannan=20
Sent: Wednesday, July 21, 2004 12:16 PM
To: Lucene Users List
Subject: RE: Slightly off topic, I need to have luke use my Analyzer


Worked for me.=20
I added my jar to the classpath and my analyzer appeared in the =
analyzers list in the search tab as well as in the analyzers list in the =
plugins tab.

I am using Luke v 0.5 (2004-05-25)

Kannan


-----Original Message-----
From: Rob Jose [mailto:rjose89@comcast.net]
Sent: Wednesday, July 21, 2004 11:37 AM
To: Lucene Users List
Subject: Slightly off topic, I need to have luke use my Analyzer


Sorry for the slightly off topic post, but I have a need to use luke =
with my
Analyzer.  Has anyone done this?  I have added a jar file to my =
classpath,
but that didn't help.

Thanks in advance
Rob


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9423-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 20:15:40 2004
Return-Path: <lucene-user-return-9423-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36976 invoked from network); 21 Jul 2004 20:15:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 20:15:40 -0000
Received: (qmail 37052 invoked by uid 500); 21 Jul 2004 20:15:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36551 invoked by uid 500); 21 Jul 2004 20:15:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36536 invoked by uid 99); 21 Jul 2004 20:15:33 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [69.10.155.68] (HELO nexo.dattaweb.com) (69.10.155.68)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 13:15:27 -0700
Received: from ol46-27.fibertel.com.ar ([24.232.27.46] helo=ernesto)
	by nexo.dattaweb.com with asmtp (Exim 4.34)
	id 1BnNUm-0007Oe-Hc
	for lucene-user@jakarta.apache.org; Wed, 21 Jul 2004 17:15:21 -0300
Message-ID: <006001c46f5f$b74e3a30$2e1be818@ernesto>
From: "Ernesto De Santis" <ernesto.desantis@colaborativa.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <200407211538.i6LFcSv04296@mail.fulfilnet.com.au> <83C9B22D-DB2E-11D8-B609-000393A564E6@ehatchersolutions.com>
Subject: Re: Weighting database fields
Date: Wed, 21 Jul 2004 17:17:12 -0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - nexo.dattaweb.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - colaborativa.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Erik

> On Jul 21, 2004, at 11:40 AM, Anson Lau wrote:
> > Is there any benefit to set the boost during indexing rather than set
> > it
> > during query?
>
> It allows setting each document differently.  For example,
> TheServerSide is using field-level boosts at index time to control
> ordering by date, such that newer articles come up first.  This could
> not be done at query time since each document gets a different field
> boost.

If some field have set a boots value in index time, and when in search time
the query have another boost value for this field, what happens?
which value is used for boost?

Bye,
Ernesto.


---
Outgoing mail is certified Virus Free.
Checked by AVG anti-virus system (http://www.grisoft.com).
Version: 6.0.725 / Virus Database: 480 - Release Date: 19/07/2004


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9424-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 20:18:17 2004
Return-Path: <lucene-user-return-9424-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38368 invoked from network); 21 Jul 2004 20:18:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 20:18:17 -0000
Received: (qmail 42185 invoked by uid 500); 21 Jul 2004 20:18:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42154 invoked by uid 500); 21 Jul 2004 20:18:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42140 invoked by uid 99); 21 Jul 2004 20:18:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 13:18:05 -0700
Received: (qmail 14380 invoked by uid 89); 21 Jul 2004 20:18:03 -0000
Received: from unknown (HELO ?192.168.168.81?) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 21 Jul 2004 20:18:03 -0000
Message-ID: <40FECF5C.5020306@apache.org>
Date: Wed, 21 Jul 2004 13:17:32 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040619
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Weighting database fields
References: <200407211538.i6LFcSv04296@mail.fulfilnet.com.au> <83C9B22D-DB2E-11D8-B609-000393A564E6@ehatchersolutions.com> <006001c46f5f$b74e3a30$2e1be818@ernesto>
In-Reply-To: <006001c46f5f$b74e3a30$2e1be818@ernesto>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ernesto De Santis wrote:
> If some field have set a boots value in index time, and when in search time
> the query have another boost value for this field, what happens?
> which value is used for boost?

The two boosts are both multiplied into the score.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9425-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 20:32:28 2004
Return-Path: <lucene-user-return-9425-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45043 invoked from network); 21 Jul 2004 20:32:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 20:32:28 -0000
Received: (qmail 70235 invoked by uid 500); 21 Jul 2004 20:32:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70192 invoked by uid 500); 21 Jul 2004 20:32:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70179 invoked by uid 99); 21 Jul 2004 20:32:20 -0000
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=DNS_FROM_RFC_ABUSE,NO_REAL_NAME,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received: from [194.106.33.237] (HELO outmail.freedom2surf.net) (194.106.33.237)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 13:32:17 -0700
Received: from dell (i-194-106-34-5.freedom2surf.net [194.106.34.5])
	by outmail.freedom2surf.net (8.12.10/8.12.10) with SMTP id i6LKWAnF023720
	for <lucene-user@jakarta.apache.org>; Wed, 21 Jul 2004 21:32:11 +0100
Date: Wed, 21 Jul 2004 21:32:10 +0100
Message-Id: <200407212032.i6LKWAnF023720@outmail.freedom2surf.net>
From: markharw00d@yahoo.co.uk
To: lucene-user@jakarta.apache.org
Subject: Re: Can I retrieve token offsets from Hits?
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>  I need these values for hihglighting. I've already looked to
> Highlighter in sandbox but it actually re-analyzes the original
> document's field.

Technically not true, as of a few months ago. The good news is the highlighter has been redesigned
specifically to use TokenStreams not Analyzers. This would enable you to pass the token position information
in from a pre-computed store of token positions. The bad news is that such a token-position storage 
feature has not been added to core Lucene yet. 
If it ever is added the highlighter is already set up to make good use of it.

Cheers
Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9426-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 21 22:53:39 2004
Return-Path: <lucene-user-return-9426-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22361 invoked from network); 21 Jul 2004 22:53:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jul 2004 22:53:39 -0000
Received: (qmail 89553 invoked by uid 500); 21 Jul 2004 22:53:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89533 invoked by uid 500); 21 Jul 2004 22:53:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89518 invoked by uid 99); 21 Jul 2004 22:53:33 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [192.18.98.36] (HELO brmea-mail-4.sun.com) (192.18.98.36)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 15:53:30 -0700
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by brmea-mail-4.sun.com (8.12.10/8.12.9) with ESMTP id i6LMpD53029892
	for <lucene-user@jakarta.apache.org>; Wed, 21 Jul 2004 16:51:13 -0600 (MDT)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0I1800B014UXIG@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Wed, 21 Jul 2004 15:53:25 -0700 (PDT)
Received: from Sun.COM (sr1-usjc07-03.SFBay.Sun.COM [129.145.21.58])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0I180065G4X178@ha21sca-mail1.sfbay.sun.com> for
 lucene-user@jakarta.apache.org; Wed, 21 Jul 2004 15:53:25 -0700 (PDT)
Date: Wed, 21 Jul 2004 15:53:25 -0700
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Re: Syntax of Query
In-reply-to: <40FD55F8.60901@Sun.COM>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Reply-to: Hetan.Shah@Sun.COM
Message-id: <40FEF3E5.1070707@Sun.COM>
MIME-version: 1.0
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.4) Gecko/20040414
References: <40FD55F8.60901@Sun.COM>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Guys/Gals,

Does and one have any pointers for this kind of query?

Thanks.

> Need some help with creating a query. Here is the scenario:
>
> Field 1: ________________
> Field 2: ________________
> Field 3: ________________
>
>
> MultiSelect 1 :____________
>                    ____________
>                    ____________
>                    ____________
>
>
> MultiSelect 2 :____________
>                    ____________
>                    ____________
>                    ____________
>
> What would the query look like if the condition is at any time there 
> will be one entry from field 1, 2, or 3 and few entries from 
> MultiSelect1 and few entries from MultiSelect.
>
> Would it look something like
>
> +field1 +(val11 OR val12 OR val14) +(val21 OR val23 OR val24)
>
> Thanks for all you guys support.
> -H
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9427-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 22 03:53:37 2004
Return-Path: <lucene-user-return-9427-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27570 invoked from network); 22 Jul 2004 03:53:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jul 2004 03:53:37 -0000
Received: (qmail 60434 invoked by uid 500); 22 Jul 2004 03:53:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60387 invoked by uid 500); 22 Jul 2004 03:53:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60373 invoked by uid 99); 22 Jul 2004 03:53:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.200.20.178] (HELO crimsonlogic.co.in) (203.200.20.178)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 21 Jul 2004 20:53:26 -0700
Received: from INA098tnat (localhost.localdomain [127.0.0.1])
	by crimsonlogic.co.in (Postfix) with ESMTP id 131DD233DE
	for <lucene-user@jakarta.apache.org>; Thu, 22 Jul 2004 09:22:53 +0530 (IST)
From: "Natarajan.T" <natarajant@crimsonlogic.co.in>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Use of Convertes or Parser
Date: Thu, 22 Jul 2004 09:27:38 +0530
Message-ID: <000301c46fa0$081dd5c0$8714a8c0@ssl>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <20040721160251.36951.qmail@web12708.mail.yahoo.com>
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ok Thanks.

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
Sent: Wednesday, July 21, 2004 9:33 PM
To: Lucene Users List
Subject: Re: Use of Convertes or Parser

Lucene cannot parse those document formats that you mentioned.  You
need 3rd party parsers to do that.  For example, POI will parse Excel
and MS Word docs, PDFBox will parse PDF.

Otis

--- "Natarajan.T" <natarajant@crimsonlogic.co.in> wrote:
> Hi Guys,
>  
> I have a small query, ie. Lucene 1.4 APIs directly indexing all the
> documents(PPT,PDF,WORD,etc.) then why we go for Converters or
> Parsers.
>  
>  
> Thanks,
> Natarajan.
>  
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9428-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 22 04:04:16 2004
Return-Path: <lucene-user-return-9428-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33740 invoked from network); 22 Jul 2004 04:04:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jul 2004 04:04:15 -0000
Received: (qmail 66166 invoked by uid 500); 22 Jul 2004 04:04:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66109 invoked by uid 500); 22 Jul 2004 04:04:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66096 invoked by uid 99); 22 Jul 2004 04:04:09 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=FOR_FREE
X-Spam-Check-By: apache.org
Received: from [203.199.26.74] (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 21 Jul 2004 21:04:06 -0700
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I18JVQ00.N44 for <lucene-user@jakarta.apache.org>; Thu,
          22 Jul 2004 09:46:38 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Extracting Lucene onto Tomcat
Date: Thu, 22 Jul 2004 09:44:08 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIMEDOCBAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <40FE7CE4.8070908@zilverline.org>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

hi


  Just Copy the lucene.war file into the TomCat webApps Directory, and then
start the Tomcat

 On the Browser type...   http://localhost:8080/luceneweb   will serve u the
Pages.


  But first u have to index u'r directory  for the web module to Serve u the
searchable hits ,
  I think there should be some Information in the Lucene package itself for
doing this....


with regards
Karthik

-----Original Message-----
From: Zilverline info [mailto:info@zilverline.org]
Sent: Wednesday, July 21, 2004 7:56 PM
To: Lucene Users List
Subject: Re: Extracting Lucene onto Tomcat


Hi Ian,

Depending on what you want to do, you could also follow the installation
instructions on http://www.zilverline.org. It describes how to install
zilverline, but the same goes for the lucene war.

Hope this helps,

   Michael Franken

Ian McDonnell wrote:

>Also another silly question, do i need to setup a war on the server?
>
>
>--- Ian McDonnell <ian@spinnerscity.com> wrote:
>Well when i extracted it, it created the org/apache/lucene directories in
the public_html directory. When i try to compile any of the source it just
throws numerous errors. I've got the classpath set to web-inf/classes.
>
>Have i extraced it to the wrong directory?
>
>
>--- Erik Hatcher <erik@ehatchersolutions.com> wrote:
>On Jul 21, 2004, at 8:10 AM, Ian McDonnell wrote:
>
>
>>Is the package information and import paths ready to deploy on Tomcat
>>server. I tried extracting lucene on the server, but when i compile
>>files, it just throws numerous no class definition errors and errors
>>relating to the package.
>>
>>
>
>Huh?  Lucene certainly deploys just fine in Tomcat web applications (in
>a WAR under WEB-INF/lib).  Could you elaborate on what you mean here?
>
>	Erik
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>_____________________________________________________________
>Sign up for FREE email from SpinnersCity Online Dance Magazine & Vortal at
http://www.spinnerscity.com
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>_____________________________________________________________
>Sign up for FREE email from SpinnersCity Online Dance Magazine & Vortal at
http://www.spinnerscity.com
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9429-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 22 13:46:33 2004
Return-Path: <lucene-user-return-9429-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61841 invoked from network); 22 Jul 2004 13:46:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jul 2004 13:46:33 -0000
Received: (qmail 32556 invoked by uid 500); 22 Jul 2004 13:46:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32463 invoked by uid 500); 22 Jul 2004 13:46:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32444 invoked by uid 99); 22 Jul 2004 13:46:23 -0000
X-ASF-Spam-Status: No, hits=2.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS,FROM_ENDS_IN_NUMS,MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received: from [63.196.96.141] (HELO sr16sc81.INFXINC.NET) (63.196.96.141)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 22 Jul 2004 06:46:20 -0700
Received: from WK16SC20 ([10.16.4.98]) by sr16sc81.INFXINC.NET with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 22 Jul 2004 06:46:38 -0700
Message-ID: <001f01c46ff2$4fcf2200$6204100a@INFXINC.NET>
From: "Rob Jose" <rjose89@comcast.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <7D12D34479EFEB428FD19B5245166BFD053C961A@EXCHANGE2000.master.kanisa.com>
Subject: Re: Slightly off topic, I need to have luke use my Analyzer
Date: Thu, 22 Jul 2004 06:46:37 -0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-OriginalArrivalTime: 22 Jul 2004 13:46:38.0464 (UTC) FILETIME=[4FCA4000:01C46FF2]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks Kannan

Rob
----- Original Message ----- 
From: "Chellappa, Kannan" <Kannan.Chellappa@kanisa.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, July 21, 2004 12:19 PM
Subject: RE: Slightly off topic, I need to have luke use my Analyzer


Sorry typo in the version date in my previous mail -- I meant Luke v 0.5
(2004-06-25)

-----Original Message-----
From: Chellappa, Kannan
Sent: Wednesday, July 21, 2004 12:16 PM
To: Lucene Users List
Subject: RE: Slightly off topic, I need to have luke use my Analyzer


Worked for me.
I added my jar to the classpath and my analyzer appeared in the analyzers
list in the search tab as well as in the analyzers list in the plugins tab.

I am using Luke v 0.5 (2004-05-25)

Kannan


-----Original Message-----
From: Rob Jose [mailto:rjose89@comcast.net]
Sent: Wednesday, July 21, 2004 11:37 AM
To: Lucene Users List
Subject: Slightly off topic, I need to have luke use my Analyzer


Sorry for the slightly off topic post, but I have a need to use luke with my
Analyzer.  Has anyone done this?  I have added a jar file to my classpath,
but that didn't help.

Thanks in advance
Rob


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9430-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 22 14:37:25 2004
Return-Path: <lucene-user-return-9430-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2866 invoked from network); 22 Jul 2004 14:37:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jul 2004 14:37:24 -0000
Received: (qmail 36145 invoked by uid 500); 22 Jul 2004 14:37:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36063 invoked by uid 500); 22 Jul 2004 14:37:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36050 invoked by uid 99); 22 Jul 2004 14:37:16 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=DNS_FROM_RFC_POST
X-Spam-Check-By: apache.org
Received: from [64.4.10.108] (HELO hotmail.com) (64.4.10.108)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 22 Jul 2004 07:37:14 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 22 Jul 2004 07:37:13 -0700
Received: from 202.57.131.189 by bay7-dav4.bay7.hotmail.com with DAV;
	Thu, 22 Jul 2004 14:37:12 +0000
X-Originating-IP: [202.57.131.189]
X-Originating-Email: [dev_johnpatterson@hotmail.com]
X-Sender: dev_johnpatterson@hotmail.com
Reply-To: "John Patterson" <dev_johnpatterson@hotmail.com>
From: "John Patterson" <dev_johnpatterson@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <200407211538.i6LFcSv04296@mail.fulfilnet.com.au> <83C9B22D-DB2E-11D8-B609-000393A564E6@ehatchersolutions.com> <006001c46f5f$b74e3a30$2e1be818@ernesto> <40FECF5C.5020306@apache.org>
Subject: Unnecesary scan with required terms
Date: Thu, 22 Jul 2004 21:36:33 +0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Message-ID: <BAY7-DAV4Sox9fSRqym00002e0e@hotmail.com>
X-OriginalArrivalTime: 22 Jul 2004 14:37:13.0077 (UTC) FILETIME=[608F7250:01C46FF9]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I have been looking at how Lucene operates with queries where all terms are
required.  I expected that the algorithm would step through each term to
confirm that it did exist in the index and as soon as a clause is found that
does not occur, the search would be aborted.  As far as I can tell this does
not happen and the search continues on to find the frequencey of the other
terms even though no hits will be returned.

This occurs during the call to Query.weight() when the weightings are
calulated before terms are scored.

Is this correct?

Thanks,

John.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9431-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 22 14:48:16 2004
Return-Path: <lucene-user-return-9431-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10520 invoked from network); 22 Jul 2004 14:48:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jul 2004 14:48:16 -0000
Received: (qmail 52551 invoked by uid 500); 22 Jul 2004 14:48:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52476 invoked by uid 500); 22 Jul 2004 14:48:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52463 invoked by uid 99); 22 Jul 2004 14:48:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [143.205.118.212] (HELO proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 22 Jul 2004 07:48:03 -0700
Received: from ifit.uni-klu.ac.at ([143.205.118.98]) by proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 22 Jul 2004 16:48:53 +0200
Message-ID: <40FFD3D5.6040107@ifit.uni-klu.ac.at>
Date: Thu, 22 Jul 2004 16:48:53 +0200
From: Sergiu Gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.5) Gecko/20031007
X-Accept-Language: de-at, en, ro, it, en-us
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: rebuild index
References: <7D12D34479EFEB428FD19B5245166BFD053C961A@EXCHANGE2000.master.kanisa.com> <001f01c46ff2$4fcf2200$6204100a@INFXINC.NET>
In-Reply-To: <001f01c46ff2$4fcf2200$6204100a@INFXINC.NET>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 22 Jul 2004 14:48:53.0684 (UTC) FILETIME=[02279740:01C46FFB]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


 Hi all,

 I have a question related to reindexing of documents with lucene.
We want to implement the functinality of rebuilding lucene index.
That means I want to delete all documents in the index and to add newer 
versions.
All information I need to reindex is kept in the database so that I have 
a Term ID, which is unique.

My problem is that I don't have a deleteall() method in IndexReader, and 
I don't have undelete(int) and undelete(Term)
methods. I have only delete(Term) and  undeleteAll() methods that can be 
used for this action.

I would like to delete all documents (just mark as deleted). Add the new 
documents o the index and create a list of documents that were not 
succesfully indexed,
(from different reasons, that may depend on lucene or on our code). At 
the end I would like to restore (mark as undeleted) the documents in the 
list and to optimize the
index, so that the changes to be permanetly commited in the index.

 Is this possible witout hacking lucene code? Any Ideas?

 Thanks in advance,

 Sergiu
 

 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9432-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 22 14:59:49 2004
Return-Path: <lucene-user-return-9432-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20238 invoked from network); 22 Jul 2004 14:59:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jul 2004 14:59:49 -0000
Received: (qmail 80546 invoked by uid 500); 22 Jul 2004 14:59:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80528 invoked by uid 500); 22 Jul 2004 14:59:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80514 invoked by uid 99); 22 Jul 2004 14:59:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [141.156.69.115] (HELO mail.infosciences.com) (141.156.69.115)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 22 Jul 2004 07:59:39 -0700
Received: from Aviran (unknown [141.156.69.109])
	by mail.infosciences.com (Postfix) with ESMTP id 5CEDE118412
	for <lucene-user@jakarta.apache.org>; Thu, 22 Jul 2004 11:00:39 -0400 (EDT)
From: "Aviran" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: rebuild index
Date: Thu, 22 Jul 2004 11:00:33 -0400
Message-ID: <003f01c46ffc$a36f7950$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
In-reply-to: <40FFD3D5.6040107@ifit.uni-klu.ac.at>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Why don't you just build a new index in a different location and at the =
end
add the missing documents from the old index to the new one, and then =
delete
the old index.

Aviran

-----Original Message-----
From: Sergiu Gordea [mailto:gsergiu@ifit.uni-klu.ac.at]=20
Sent: Thursday, July 22, 2004 10:49 AM
To: Lucene Users List
Subject: rebuild index



 Hi all,

 I have a question related to reindexing of documents with lucene. We =
want
to implement the functinality of rebuilding lucene index. That means I =
want
to delete all documents in the index and to add newer=20
versions.
All information I need to reindex is kept in the database so that I have =

a Term ID, which is unique.

My problem is that I don't have a deleteall() method in IndexReader, and =

I don't have undelete(int) and undelete(Term)
methods. I have only delete(Term) and  undeleteAll() methods that can be =

used for this action.

I would like to delete all documents (just mark as deleted). Add the new =

documents o the index and create a list of documents that were not=20
succesfully indexed,
(from different reasons, that may depend on lucene or on our code). At=20
the end I would like to restore (mark as undeleted) the documents in the =

list and to optimize the
index, so that the changes to be permanetly commited in the index.

 Is this possible witout hacking lucene code? Any Ideas?

 Thanks in advance,

 Sergiu
=20

=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9433-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 22 15:14:59 2004
Return-Path: <lucene-user-return-9433-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34304 invoked from network); 22 Jul 2004 15:14:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jul 2004 15:14:59 -0000
Received: (qmail 21065 invoked by uid 500); 22 Jul 2004 15:14:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20964 invoked by uid 500); 22 Jul 2004 15:14:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20948 invoked by uid 99); 22 Jul 2004 15:14:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [143.205.118.212] (HELO proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 22 Jul 2004 08:14:48 -0700
Received: from ifit.uni-klu.ac.at ([143.205.118.98]) by proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 22 Jul 2004 17:15:42 +0200
Message-ID: <40FFDA1E.6050004@ifit.uni-klu.ac.at>
Date: Thu, 22 Jul 2004 17:15:42 +0200
From: Sergiu Gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.5) Gecko/20031007
X-Accept-Language: de-at, en, ro, it, en-us
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: rebuild index
References: <003f01c46ffc$a36f7950$6a00a8c0@Aviran>
In-Reply-To: <003f01c46ffc$a36f7950$6a00a8c0@Aviran>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 22 Jul 2004 15:15:42.0860 (UTC) FILETIME=[C14C5CC0:01C46FFE]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Because on the other hand I want to have a clean index, without any kind 
of garbage.

This is the requested funtionality of the rebuild index function.
Clean Index and don't loose data.

I was also thinking that I can delete the index location and create a 
new index, this may have the same effect as the missing
deleteAll() method. But in this case I loose all the data from index 
forever, and If  I get a error because of write lock,
I may have no index at all. Which is inacceptable for a productve system.

Anyway, thanks for ideea, It may work if I merge the indexes in my code, 
but I don't fill that this is the right way to solve the problem.

 Sergiu
 


Aviran wrote:

>Why don't you just build a new index in a different location and at the end
>add the missing documents from the old index to the new one, and then delete
>the old index.
>
>Aviran
>
>-----Original Message-----
>From: Sergiu Gordea [mailto:gsergiu@ifit.uni-klu.ac.at] 
>Sent: Thursday, July 22, 2004 10:49 AM
>To: Lucene Users List
>Subject: rebuild index
>
>
>
> Hi all,
>
> I have a question related to reindexing of documents with lucene. We want
>to implement the functinality of rebuilding lucene index. That means I want
>to delete all documents in the index and to add newer 
>versions.
>All information I need to reindex is kept in the database so that I have 
>a Term ID, which is unique.
>
>My problem is that I don't have a deleteall() method in IndexReader, and 
>I don't have undelete(int) and undelete(Term)
>methods. I have only delete(Term) and  undeleteAll() methods that can be 
>used for this action.
>
>I would like to delete all documents (just mark as deleted). Add the new 
>documents o the index and create a list of documents that were not 
>succesfully indexed,
>(from different reasons, that may depend on lucene or on our code). At 
>the end I would like to restore (mark as undeleted) the documents in the 
>list and to optimize the
>index, so that the changes to be permanetly commited in the index.
>
> Is this possible witout hacking lucene code? Any Ideas?
>
> Thanks in advance,
>
> Sergiu
> 
>
> 
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9434-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 22 17:36:47 2004
Return-Path: <lucene-user-return-9434-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27624 invoked from network); 22 Jul 2004 17:36:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jul 2004 17:36:47 -0000
Received: (qmail 59143 invoked by uid 500); 22 Jul 2004 17:36:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59102 invoked by uid 500); 22 Jul 2004 17:36:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59085 invoked by uid 99); 22 Jul 2004 17:36:38 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_BY_IP,SB_NEW_BULK,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [64.233.170.201] (HELO mproxy.gmail.com) (64.233.170.201)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Thu, 22 Jul 2004 10:36:34 -0700
Received: by mproxy.gmail.com with SMTP id d15so59661rng
        for <lucene-user@jakarta.apache.org>; Thu, 22 Jul 2004 10:36:27 -0700 (PDT)
Received: by 10.38.71.36 with SMTP id t36mr105575rna;
        Thu, 22 Jul 2004 10:36:27 -0700 (PDT)
Message-ID: <7f5f89bf04072210364ea85048@mail.gmail.com>
Date: Thu, 22 Jul 2004 10:36:27 -0700
From: Roy <roydebox@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Can I retrieve token offsets from Hits?
In-Reply-To: <200407212032.i6LKWAnF023720@outmail.freedom2surf.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <200407212032.i6LKWAnF023720@outmail.freedom2surf.net>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi, Lucene Guru:

I wonder if the information in termPositions or termVector can be used
to restore token position from indicies?

Thanks!

Roy


On Wed, 21 Jul 2004 21:32:10 +0100, markharw00d@yahoo.co.uk
<markharw00d@yahoo.co.uk> wrote:
> >  I need these values for hihglighting. I've already looked to
> > Highlighter in sandbox but it actually re-analyzes the original
> > document's field.
> 
> Technically not true, as of a few months ago. The good news is the highlighter has been redesigned
> specifically to use TokenStreams not Analyzers. This would enable you to pass the token position information
> in from a pre-computed store of token positions. The bad news is that such a token-position storage
> feature has not been added to core Lucene yet.
> If it ever is added the highlighter is already set up to make good use of it.
> 
> Cheers
> Mark
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9435-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 22 17:44:36 2004
Return-Path: <lucene-user-return-9435-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32924 invoked from network); 22 Jul 2004 17:44:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jul 2004 17:44:36 -0000
Received: (qmail 72207 invoked by uid 500); 22 Jul 2004 17:44:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72181 invoked by uid 500); 22 Jul 2004 17:44:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72166 invoked by uid 99); 22 Jul 2004 17:44:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 22 Jul 2004 10:44:26 -0700
Received: from [192.168.10.232] (gw.ampiro.com [80.252.165.66] (may be forged))
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id i6MHiN114252
	for <lucene-user@jakarta.apache.org>; Thu, 22 Jul 2004 12:44:23 -0500
Message-ID: <40FFFCEE.3050406@getopt.org>
Date: Thu, 22 Jul 2004 19:44:14 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7) Gecko/20040608
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Can I retrieve token offsets from Hits?
References: <200407212032.i6LKWAnF023720@outmail.freedom2surf.net> <7f5f89bf04072210364ea85048@mail.gmail.com>
In-Reply-To: <7f5f89bf04072210364ea85048@mail.gmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Roy wrote:
> Hi, Lucene Guru:
> 
> I wonder if the information in termPositions or termVector can be used
> to restore token position from indicies?
> 

Please take a look at Luke's function to Reconstruct & Edit - I'm using 
this information to retrieve and reconstruct content of UnStored fields. 
Of course, some information is irreversibly lost during the first 
tokenization, but still the terms are there.

http://www.getopt.org/luke

-- 
Best regards,
Andrzej Bialecki

-------------------------------------------------
Software Architect, System Integration Specialist
CEN/ISSS EC Workshop, ECIMF project chair
EU FP6 E-Commerce Expert/Evaluator
-------------------------------------------------
FreeBSD developer (http://www.freebsd.org)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9436-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 22 17:59:37 2004
Return-Path: <lucene-user-return-9436-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45272 invoked from network); 22 Jul 2004 17:59:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jul 2004 17:59:37 -0000
Received: (qmail 96631 invoked by uid 500); 22 Jul 2004 17:59:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96437 invoked by uid 500); 22 Jul 2004 17:59:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96421 invoked by uid 99); 22 Jul 2004 17:59:31 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_BY_IP,SB_NEW_BULK,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [216.239.56.249] (HELO mproxy.gmail.com) (216.239.56.249)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Thu, 22 Jul 2004 10:59:28 -0700
Received: by mproxy.gmail.com with SMTP id w29so1379536cwb
        for <lucene-user@jakarta.apache.org>; Thu, 22 Jul 2004 10:59:27 -0700 (PDT)
Received: by 10.11.116.63 with SMTP id o63mr45407cwc;
        Thu, 22 Jul 2004 10:59:27 -0700 (PDT)
Message-ID: <8837fb77040722105926a223bc@mail.gmail.com>
Date: Thu, 22 Jul 2004 19:59:27 +0200
From: John Wang <john.wang@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: authentication support in lucene
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi:

    Maybe this has been asked before.

    Is there a plan to support ACL check on the documents in lucene?
Say I have a customized ACL check module, e.g.:

     boolean ACLCheck(int docID,String user,String password);

     And have some sort of framework to plug in something like that.

    I was looking at the Filter class. I guess I can read the entire
index, for each document, feed it to the authentication module, if
authenticated, bitset the docID and return the BitSet instance. I
sounds very slow for large hits. I guess  I can play with cacheing
etc.

     Any other ideas?

Thanks

-John

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9437-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 22 18:08:05 2004
Return-Path: <lucene-user-return-9437-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50646 invoked from network); 22 Jul 2004 18:08:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jul 2004 18:08:05 -0000
Received: (qmail 12402 invoked by uid 500); 22 Jul 2004 18:07:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12302 invoked by uid 500); 22 Jul 2004 18:07:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12263 invoked by uid 99); 22 Jul 2004 18:07:53 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.230.248.25] (HELO gwia201.syr.edu) (128.230.248.25)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Thu, 22 Jul 2004 11:07:49 -0700
Received: from MTA2-MTA by gwia201.syr.edu
	with Novell_GroupWise; Thu, 22 Jul 2004 14:07:42 -0400
Message-Id: <s0ffca2e.089@gwia201.syr.edu>
X-Mailer: Novell GroupWise Internet Agent 6.0.4
Date: Thu, 22 Jul 2004 14:07:09 -0400
From: "Grant Ingersoll" <gsingers@syr.edu>
To: <lucene-user@jakarta.apache.org>
Subject: Re: authentication support in lucene
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You maybe could use the HitCollector mechanism for search.  Do your ACL =
check as you add the item to the HitCollector.  If the check fails, then =
don't add it to the Collector. =20

>>> john.wang@gmail.com 07/22/04 01:59PM >>>
Hi:

    Maybe this has been asked before.

    Is there a plan to support ACL check on the documents in lucene?
Say I have a customized ACL check module, e.g.:

     boolean ACLCheck(int docID,String user,String password);

     And have some sort of framework to plug in something like that.

    I was looking at the Filter class. I guess I can read the entire
index, for each document, feed it to the authentication module, if
authenticated, bitset the docID and return the BitSet instance. I
sounds very slow for large hits. I guess  I can play with cacheing
etc.

     Any other ideas?

Thanks

-John

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org=20
For additional commands, e-mail: lucene-user-help@jakarta.apache.org=20



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9438-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 22 18:15:57 2004
Return-Path: <lucene-user-return-9438-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55063 invoked from network); 22 Jul 2004 18:15:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jul 2004 18:15:56 -0000
Received: (qmail 24873 invoked by uid 500); 22 Jul 2004 18:15:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24767 invoked by uid 500); 22 Jul 2004 18:15:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24751 invoked by uid 99); 22 Jul 2004 18:15:50 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_BY_IP,SB_NEW_BULK,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [64.233.170.192] (HELO mproxy.gmail.com) (64.233.170.192)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Thu, 22 Jul 2004 11:15:49 -0700
Received: by mproxy.gmail.com with SMTP id 55so60296rni
        for <lucene-user@jakarta.apache.org>; Thu, 22 Jul 2004 11:15:47 -0700 (PDT)
Received: by 10.38.59.54 with SMTP id h54mr174075rna;
        Thu, 22 Jul 2004 11:15:47 -0700 (PDT)
Message-ID: <7f5f89bf04072211155b131b8a@mail.gmail.com>
Date: Thu, 22 Jul 2004 11:15:47 -0700
From: Roy <roydebox@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Can I retrieve token offsets from Hits?
In-Reply-To: <40FFFCEE.3050406@getopt.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <200407212032.i6LKWAnF023720@outmail.freedom2surf.net> <7f5f89bf04072210364ea85048@mail.gmail.com> <40FFFCEE.3050406@getopt.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for the pointer to Luke. It's a very useful tool.

I did more research but don't think Lucene stores the token position
in indicies. Token position is different from term position. So, for
highlighting, the original text has to be retokenized again.

On Thu, 22 Jul 2004 19:44:14 +0200, Andrzej Bialecki <ab@getopt.org> wrote:
> Roy wrote:
> > Hi, Lucene Guru:
> >
> > I wonder if the information in termPositions or termVector can be used
> > to restore token position from indicies?
> >
> 
> Please take a look at Luke's function to Reconstruct & Edit - I'm using
> this information to retrieve and reconstruct content of UnStored fields.
> Of course, some information is irreversibly lost during the first
> tokenization, but still the terms are there.
> 
> http://www.getopt.org/luke
> 
> --
> Best regards,
> Andrzej Bialecki
> 
> -------------------------------------------------
> Software Architect, System Integration Specialist
> CEN/ISSS EC Workshop, ECIMF project chair
> EU FP6 E-Commerce Expert/Evaluator
> -------------------------------------------------
> FreeBSD developer (http://www.freebsd.org)
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9439-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 22 18:19:52 2004
Return-Path: <lucene-user-return-9439-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56861 invoked from network); 22 Jul 2004 18:19:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jul 2004 18:19:52 -0000
Received: (qmail 32092 invoked by uid 500); 22 Jul 2004 18:19:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32030 invoked by uid 500); 22 Jul 2004 18:19:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31997 invoked by uid 99); 22 Jul 2004 18:19:44 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [63.100.163.104] (HELO mercury.corp.cyveillance.com) (63.100.163.104)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 22 Jul 2004 11:19:41 -0700
Received: by mercury.corp.cyveillance.com with Internet Mail Service (5.5.2655.55)
	id <PL2SMPSQ>; Thu, 22 Jul 2004 14:19:08 -0400
Message-ID: <63434C14F9A6F74CB36B85033E4C30CA01393B@hermes.corp.cyveillance.com>
From: wallen@Cyveillance.com
To: lucene-user@jakarta.apache.org
Subject: RE: Very slow IndexReader.open() performance
Date: Thu, 22 Jul 2004 14:19:21 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

It could also be that your disk space is filling up and the OS runs out of
swap room.

-----Original Message-----
From: Mark Florence [mailto:mflorence@airsmail.com]
Sent: Tuesday, July 20, 2004 1:52 PM
To: Lucene Users List
Subject: Very slow IndexReader.open() performance


Hi -- We have a large index (~4m documents, ~14gb) that we haven't been
able to optimize for some time, because the JVM throws OutOfMemory, after
climbing to the maximum we can throw at it, 2gb. 

In fact, the OutOfMemory condition occurred most recently during a segment 
merge operation. maxMergeDocs was set to the default, and we seem to have
gotten around this problem by setting it to some lower value, currently
100,000. The index is highly interactive so I took the hint from earlier
posts to set it to this value.

Good news! No more OutOfMemory conditions.

Bad news: now, calling IndexReader.open() is taking 20+ seconds, and it 
is killing performance.

I followed the design pattern in another earlier post from Doug. I take a
batch of deletes, open an IndexReader, perform the deletes, then close it.
Then I take a batch of adds, open an IndexWriter, perform the adds, then
close it. Then I get a new IndexSearcher for searching.

But because the index is so interactive, this sequence repeats itself all
the time. 

My question is, is there a better way? Performance was fine when I could
optimize. Can I hold onto singleton a IndexReader/IndexWriter/IndexSearcher
to avoid the overhead of the open?

Any help would be most gratefully received.

Mark Florence, CTO, AIRS
mflorence@airsmail.com
800-897-7714x1703


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9440-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 22 18:24:07 2004
Return-Path: <lucene-user-return-9440-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59157 invoked from network); 22 Jul 2004 18:24:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jul 2004 18:24:07 -0000
Received: (qmail 39144 invoked by uid 500); 22 Jul 2004 18:23:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39076 invoked by uid 500); 22 Jul 2004 18:23:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39062 invoked by uid 99); 22 Jul 2004 18:23:58 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [63.100.163.104] (HELO mercury.corp.cyveillance.com) (63.100.163.104)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 22 Jul 2004 11:23:57 -0700
Received: by mercury.corp.cyveillance.com with Internet Mail Service (5.5.2655.55)
	id <PL2SMPTD>; Thu, 22 Jul 2004 14:23:29 -0400
Message-ID: <63434C14F9A6F74CB36B85033E4C30CA01393C@hermes.corp.cyveillance.com>
From: wallen@Cyveillance.com
To: lucene-user@jakarta.apache.org
Subject: RE: Lucene vs. MySQL Full-Text
Date: Thu, 22 Jul 2004 14:23:39 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I also question whether it could handle extreme volume with such good =
query
speed.

Has anyone done numbers with  1+ million documents?

-----Original Message-----
From: Daniel Naber [mailto:daniel.naber@t-online.de]
Sent: Tuesday, July 20, 2004 5:44 PM
To: Lucene Users List
Subject: Re: Lucene vs. MySQL Full-Text


On Tuesday 20 July 2004 21:29, Tim Brennan wrote:

> =C2=A0Does anyone out there have
> anything more concrete they can add?

Stemming is still on the MySQL TODO list:=20
http://dev.mysql.com/doc/mysql/en/Fulltext_TODO.html

Also, for most people it's easier to extend Lucene than MySQL (as MySQL =
is=20
written in C(++?)) and there are more powerful queries in Lucene, e.g.=20
fuzzy phrase search.

Regards
 Daniel

--=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9441-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 22 18:34:51 2004
Return-Path: <lucene-user-return-9441-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67032 invoked from network); 22 Jul 2004 18:34:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jul 2004 18:34:51 -0000
Received: (qmail 67468 invoked by uid 500); 22 Jul 2004 18:34:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67372 invoked by uid 500); 22 Jul 2004 18:34:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67359 invoked by uid 99); 22 Jul 2004 18:34:44 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=DNS_FROM_RFC_POST
X-Spam-Check-By: apache.org
Received: from [64.4.10.121] (HELO hotmail.com) (64.4.10.121)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 22 Jul 2004 11:34:41 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 22 Jul 2004 11:34:40 -0700
Received: from 202.57.131.189 by bay7-dav17.bay7.hotmail.com with DAV;
	Thu, 22 Jul 2004 18:34:40 +0000
X-Originating-IP: [202.57.131.189]
X-Originating-Email: [dev_johnpatterson@hotmail.com]
X-Sender: dev_johnpatterson@hotmail.com
Reply-To: "John Patterson" <dev_johnpatterson@hotmail.com>
From: "John Patterson" <dev_johnpatterson@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <63434C14F9A6F74CB36B85033E4C30CA01393C@hermes.corp.cyveillance.com>
Subject: Re: Lucene vs. MySQL Full-Text
Date: Fri, 23 Jul 2004 01:34:19 +0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="UTF-8"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Message-ID: <BAY7-DAV17IlWrdFOSP00034292@hotmail.com>
X-OriginalArrivalTime: 22 Jul 2004 18:34:40.0402 (UTC) FILETIME=[8CA0B720:01C4701A]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I used the MySQL full text search to index about 70K business directory
records.  It became impossibly slow and I ended up creating my own text
search engine similar in concept to Lucene but database driven.  It worked
much faster than the native MySQL full text search.

Other limitations of MySQL MATCH syntax:
- only 4 letter words and over are indexed (if you change this it searches
VERY slowly)
- the MATCH value figure returned is next to useless (it ranges wildly and
is not normalized like Lucene values are)
- cannot weight certain fields as more important than others.

Really it is very limited.

John.

----- Original Message ----- 
From: <wallen@Cyveillance.com>
To: <lucene-user@jakarta.apache.org>
Sent: Friday, July 23, 2004 1:23 AM
Subject: RE: Lucene vs. MySQL Full-Text


I also question whether it could handle extreme volume with such good query
speed.

Has anyone done numbers with  1+ million documents?

-----Original Message-----
From: Daniel Naber [mailto:daniel.naber@t-online.de]
Sent: Tuesday, July 20, 2004 5:44 PM
To: Lucene Users List
Subject: Re: Lucene vs. MySQL Full-Text


On Tuesday 20 July 2004 21:29, Tim Brennan wrote:

> Does anyone out there have
> anything more concrete they can add?

Stemming is still on the MySQL TODO list:
http://dev.mysql.com/doc/mysql/en/Fulltext_TODO.html

Also, for most people it's easier to extend Lucene than MySQL (as MySQL is
written in C(++?)) and there are more powerful queries in Lucene, e.g.
fuzzy phrase search.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9442-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 22 19:19:38 2004
Return-Path: <lucene-user-return-9442-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98354 invoked from network); 22 Jul 2004 19:19:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jul 2004 19:19:38 -0000
Received: (qmail 52039 invoked by uid 500); 22 Jul 2004 19:19:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51979 invoked by uid 500); 22 Jul 2004 19:19:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51962 invoked by uid 99); 22 Jul 2004 19:19:32 -0000
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=DNS_FROM_RFC_ABUSE,NO_REAL_NAME,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received: from [194.106.33.237] (HELO outmail.freedom2surf.net) (194.106.33.237)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 22 Jul 2004 12:19:30 -0700
Received: from dell (i-194-106-34-5.freedom2surf.net [194.106.34.5])
	by outmail.freedom2surf.net (8.12.10/8.12.10) with SMTP id i6MJJSnF014709
	for <lucene-user@jakarta.apache.org>; Thu, 22 Jul 2004 20:19:28 +0100
Date: Thu, 22 Jul 2004 20:19:28 +0100
Message-Id: <200407221919.i6MJJSnF014709@outmail.freedom2surf.net>
From: markharw00d@yahoo.co.uk
To: lucene-user@jakarta.apache.org
Subject: Re: Can I retrieve token offsets from Hits? 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> I wonder if the information in termPositions or termVector can be used
> to restore token position from indicies?

TermFreqVector gives you term frequencies (not positions). This can be of use in computing document 
similarities.
TermPositions gives you the sequence number . eg in the last sentence the word "sequence" was 
token number 5,  (not character position 5). This is used for PhraseQueries to determine proximity.

Character position is what is required to do highlighting and this isnt stored anywhere currently. 
The requirements for such a store would be indexed access by doc number, and a compact means
of storing term/character position info. This could add considerable size to the index.

Previously we concluded that highlighting is only typically done on the first 10 or so records in a result set 
anyway and that re-analyzing the text shouldnt add too much of an overhead. If you want to limit the size of
an individual document's text to be tokenized use highlighter.setMaxDocBytesToAnalyze().
If you find tokenizing slow check you arent using StandardAnalyzer - I have found that to be slow
(see http://marc.theaimsgroup.com/?l=lucene-dev&m=108080820315779&w=2 )

Cheers
Mark




 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9443-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 22 19:37:20 2004
Return-Path: <lucene-user-return-9443-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6869 invoked from network); 22 Jul 2004 19:37:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jul 2004 19:37:20 -0000
Received: (qmail 84674 invoked by uid 500); 22 Jul 2004 19:37:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84460 invoked by uid 500); 22 Jul 2004 19:37:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84443 invoked by uid 99); 22 Jul 2004 19:37:14 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.230.248.25] (HELO gwia201.syr.edu) (128.230.248.25)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Thu, 22 Jul 2004 12:37:10 -0700
Received: from MTA2-MTA by gwia201.syr.edu
	with Novell_GroupWise; Thu, 22 Jul 2004 15:37:05 -0400
Message-Id: <s0ffdf21.048@gwia201.syr.edu>
X-Mailer: Novell GroupWise Internet Agent 6.0.4
Date: Thu, 22 Jul 2004 15:36:56 -0400
From: "Grant Ingersoll" <gsingers@syr.edu>
To: <lucene-user@jakarta.apache.org>
Subject: Re: Can I retrieve token offsets from Hits?
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am sensing a common theme throughout a variety of threads here:  Namely, =
a need for a pluggable set of Reader's and Writers (think Interface) that =
can write metadata about an Index/Document/Field/Term (which I see the =
TermVector stuff as being a instance of) and can be given to Lucene from =
the application level (or at least the application specifies which ones to =
use)

I proposed something like this a bit earlier, but didn't see any interest. =
 I suppose I should implement it as this is how things get going, but =
would be nice to have some input on requirements and whether the people =
who know Lucene better than I think this is possible.

Just my two cents on this one.  Doesn't help you w/ an immediate solution, =
but I think it would help us all in the long run.  If this existed, one =
could easily implement a Token position store and ask it for all of this =
information, I think.  :-)

-Grant

>>> markharw00d@yahoo.co.uk 07/22/04 03:19PM >>>
> I wonder if the information in termPositions or termVector can be used
> to restore token position from indicies?

TermFreqVector gives you term frequencies (not positions). This can be of =
use in computing document=20
similarities.
TermPositions gives you the sequence number . eg in the last sentence the =
word "sequence" was=20
token number 5,  (not character position 5). This is used for PhraseQueries=
 to determine proximity.

Character position is what is required to do highlighting and this isnt =
stored anywhere currently.=20
The requirements for such a store would be indexed access by doc number, =
and a compact means
of storing term/character position info. This could add considerable size =
to the index.

Previously we concluded that highlighting is only typically done on the =
first 10 or so records in a result set=20
anyway and that re-analyzing the text shouldnt add too much of an =
overhead. If you want to limit the size of
an individual document's text to be tokenized use highlighter.setMaxDocByte=
sToAnalyze().
If you find tokenizing slow check you arent using StandardAnalyzer - I =
have found that to be slow
(see http://marc.theaimsgroup.com/?l=3Dlucene-dev&m=3D108080820315779&w=3D2=
 )

Cheers
Mark




=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org=20
For additional commands, e-mail: lucene-user-help@jakarta.apache.org=20



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9444-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 22 23:56:57 2004
Return-Path: <lucene-user-return-9444-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31656 invoked from network); 22 Jul 2004 23:56:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jul 2004 23:56:57 -0000
Received: (qmail 8887 invoked by uid 500); 22 Jul 2004 23:56:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8721 invoked by uid 500); 22 Jul 2004 23:56:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8699 invoked by uid 99); 22 Jul 2004 23:56:49 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_BY_IP,SB_NEW_BULK,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [64.233.170.199] (HELO mproxy.gmail.com) (64.233.170.199)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Thu, 22 Jul 2004 16:56:46 -0700
Received: by mproxy.gmail.com with SMTP id d15so75931rng
        for <lucene-user@jakarta.apache.org>; Thu, 22 Jul 2004 16:56:44 -0700 (PDT)
Received: by 10.38.102.75 with SMTP id z75mr122487rnb;
        Thu, 22 Jul 2004 16:56:44 -0700 (PDT)
Message-ID: <3f0b9bc4040722165664d3114f@mail.gmail.com>
Date: Thu, 22 Jul 2004 19:56:44 -0400
From: Byron Miller <byronm@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Very slow IndexReader.open() performance
In-Reply-To: <63434C14F9A6F74CB36B85033E4C30CA01393B@hermes.corp.cyveillance.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <63434C14F9A6F74CB36B85033E4C30CA01393B@hermes.corp.cyveillance.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thu, 22 Jul 2004 14:19:21 -0400, wallen@cyveillance.com
<wallen@cyveillance.com> wrote:
> It could also be that your disk space is filling up and the OS runs out of
> swap room.

If you run Fedora you will also need to upgrade your kernel. There is
a severe bug with Java crashing on the default kernels.. If you need
info please feel free to email me.

I manage 100million docs running Fedora core 2 with the latest kernel
updates as well as running under Jdk 5 beta 2.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9445-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 22 23:59:25 2004
Return-Path: <lucene-user-return-9445-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32242 invoked from network); 22 Jul 2004 23:59:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jul 2004 23:59:25 -0000
Received: (qmail 15029 invoked by uid 500); 22 Jul 2004 23:59:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14934 invoked by uid 500); 22 Jul 2004 23:59:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14920 invoked by uid 99); 22 Jul 2004 23:59:18 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_BY_IP,SB_NEW_BULK,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [64.233.170.193] (HELO mproxy.gmail.com) (64.233.170.193)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Thu, 22 Jul 2004 16:59:15 -0700
Received: by mproxy.gmail.com with SMTP id 55so72548rni
        for <lucene-user@jakarta.apache.org>; Thu, 22 Jul 2004 16:59:14 -0700 (PDT)
Received: by 10.38.9.26 with SMTP id 26mr11122rni;
        Thu, 22 Jul 2004 16:59:14 -0700 (PDT)
Message-ID: <3f0b9bc4040722165911cfe721@mail.gmail.com>
Date: Thu, 22 Jul 2004 19:59:14 -0400
From: Byron Miller <byronm@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: speeding up lucene search
In-Reply-To: <200407211211.i6LCB4v31402@mail.fulfilnet.com.au>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <200407211211.i6LCB4v31402@mail.fulfilnet.com.au>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wed, 21 Jul 2004 22:13:32 +1000, Anson Lau <alau@fulfil-net.com> wrote:
> Has anyone tried splitting up an index into smaller chunks, without putting
> the different indicies on a different physical disk/box?  What sort of
> performance gain do you get from it?
> 

The best advantage to this would be to use multisearch and have each
segment on a seperate disk drive (even seperate controllers) to
distribute the IO load.

-byron

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9446-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 23 01:00:46 2004
Return-Path: <lucene-user-return-9446-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48932 invoked from network); 23 Jul 2004 01:00:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jul 2004 01:00:46 -0000
Received: (qmail 82493 invoked by uid 500); 23 Jul 2004 01:00:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82462 invoked by uid 500); 23 Jul 2004 01:00:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82449 invoked by uid 99); 23 Jul 2004 01:00:37 -0000
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=RCVD_NUMERIC_HELO
X-Spam-Check-By: apache.org
Received: from [207.172.4.61] (HELO smtp02.mrf.mail.rcn.net) (207.172.4.61)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 22 Jul 2004 18:00:35 -0700
X-Info: This message was accepted for relay by
	smtp02.mrf.mail.rcn.net as the sender used SMTP authentication
X-Trace: ppXSO+jbbQ902XpG+r6UbyuzgXyeo3FUNg9yubpx4lo=
Received: from 206.173.21.101.ptr.us.xo.net ([206.173.21.101])
	by smtp02.mrf.mail.rcn.net with asmtp (Exim 3.35 #7)
	id 1BnoQH-0004Lu-00
	for lucene-user@jakarta.apache.org; Thu, 22 Jul 2004 21:00:29 -0400
User-Agent: Microsoft-Entourage/10.1.4.030702.0
Date: Thu, 22 Jul 2004 18:00:29 -0700
Subject: Re: Very slow IndexReader.open() performance
From: Ram Subbaroyan <rams@rcn.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-ID: <BD25B13D.B8D3%rams@rcn.com>
In-Reply-To: <3f0b9bc4040722165664d3114f@mail.gmail.com>
Mime-version: 1.0
Content-type: text/plain; charset="US-ASCII"
Content-transfer-encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Byron,

I am planning on benchmarking Nutch on Opteron box ( 2 CPU, 2 TB, 2 Gig RAM)
using Fedora Core rc2 and jdk 1.5 beta 2. Are there any issues I should be
aware of?

Thanks for the help,

ram

On 7/22/04 4:56 PM, "Byron Miller" <byronm@gmail.com> wrote:

> On Thu, 22 Jul 2004 14:19:21 -0400, wallen@cyveillance.com
> <wallen@cyveillance.com> wrote:
>> It could also be that your disk space is filling up and the OS runs out of
>> swap room.
> 
> If you run Fedora you will also need to upgrade your kernel. There is
> a severe bug with Java crashing on the default kernels.. If you need
> info please feel free to email me.
> 
> I manage 100million docs running Fedora core 2 with the latest kernel
> updates as well as running under Jdk 5 beta 2.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9447-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 23 08:08:37 2004
Return-Path: <lucene-user-return-9447-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52574 invoked from network); 23 Jul 2004 08:08:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jul 2004 08:08:36 -0000
Received: (qmail 73502 invoked by uid 500); 23 Jul 2004 08:08:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73343 invoked by uid 500); 23 Jul 2004 08:08:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73190 invoked by uid 99); 23 Jul 2004 08:08:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [212.80.64.146] (HELO sysel.etn) (212.80.64.146)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Fri, 23 Jul 2004 01:08:17 -0700
Received: (qmail 13750 invoked by uid 0); 23 Jul 2004 08:08:06 -0000
Received: from combayn.etn (HELO combayn) (192.168.1.38)
  by sysel.etn with SMTP; 23 Jul 2004 08:08:06 -0000
From: "Stepan Mik" <stepan@etnetera.cz>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Can I retrieve token offsets from Hits?
Date: Fri, 23 Jul 2004 10:07:46 +0200
Message-ID: <0bd601c4708c$32b128e0$2601a8c0@combayn>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <s0ffdf21.048@gwia201.syr.edu>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Athough storing metadata would by very useful stuff, I believe that
Token (Term?) offsets should be integral part of index. Storing such
information would be optional (same as term frequencies) so users could
make thier own decision on index size. But this discussion probably
belongs to developer mailing list.
Reanalizing of original document content every time when excerpt is
needed is not best solution. With StandardAnalyzer it probably works
fine, but more complicated analyzers may be much slower. For example
(this is the case I'm trying to solve now) one may use lemmatizer as
part of tokenization process. In such case analyzing time of (even
small) set of documents is not acceptable for web application under
heavy load.=20
In fact one can store token positions already. Original document may be
stored to unindexed field (contents_original), the text may be
preprocesed to form "token1[start,end] token2[start,end] ..." and stored
to another indexed and tokenized field (contents). Then very simple
analyzer that removes [start,end] text would be aplied to the field. Of
course this approach is the least efficient (in sense of memory
sonsumtion) from any other proposed in this discsussion.

Stepan

> -----Original Message-----
> From: Grant Ingersoll [mailto:gsingers@syr.edu]
> Sent: Thursday, July 22, 2004 9:37 PM
> To: lucene-user@jakarta.apache.org
> Subject: Re: Can I retrieve token offsets from Hits?
>=20
>=20
> I am sensing a common theme throughout a variety of threads
> here:  Namely, a need for a pluggable set of Reader's and=20
> Writers (think Interface) that can write metadata about an=20
> Index/Document/Field/Term (which I see the TermVector stuff=20
> as being a instance of) and can be given to Lucene from the=20
> application level (or at least the application specifies=20
> which ones to use)
>=20
> I proposed something like this a bit earlier, but didn't see
> any interest.  I suppose I should implement it as this is how=20
> things get going, but would be nice to have some input on=20
> requirements and whether the people who know Lucene better=20
> than I think this is possible.
>=20
> Just my two cents on this one.  Doesn't help you w/ an
> immediate solution, but I think it would help us all in the=20
> long run.  If this existed, one could easily implement a=20
> Token position store and ask it for all of this information,=20
> I think.  :-)
>=20
> -Grant
>=20
> >>> markharw00d@yahoo.co.uk 07/22/04 03:19PM >>>
> > I wonder if the information in termPositions or termVector
> can be used
> > to restore token position from indicies?
>=20
> TermFreqVector gives you term frequencies (not positions).
> This can be of use in computing document=20
> similarities.
> TermPositions gives you the sequence number . eg in the last=20
> sentence the word "sequence" was=20
> token number 5,  (not character position 5). This is used for=20
> PhraseQueries to determine proximity.
>=20
> Character position is what is required to do highlighting and
> this isnt stored anywhere currently.=20
> The requirements for such a store would be indexed access by=20
> doc number, and a compact means of storing term/character=20
> position info. This could add considerable size to the index.
>=20
> Previously we concluded that highlighting is only typically
> done on the first 10 or so records in a result set=20
> anyway and that re-analyzing the text shouldnt add too much=20
> of an overhead. If you want to limit the size of an=20
> individual document's text to be tokenized use=20
> highlighter.setMaxDocBytesToAnalyze().
> If you find tokenizing slow check you arent using=20
> StandardAnalyzer - I have found that to be slow (see=20
http://marc.theaimsgroup.com/?l=3Dlucene-dev&m=3D108080820315779&w=3D2 )

Cheers
Mark




=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org=20
For additional commands, e-mail: lucene-user-help@jakarta.apache.org=20



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---
P=F8=EDchoz=ED zpr=E1va neobsahuje viry.
Zkontrolov=E1no antivirov=FDm syst=E9mem AVG (http://www.grisoft.cz).
Verze: 6.0.718 / Virov=E1 b=E1ze: 474 - datum vyd=E1n=ED: 9.7.2004
=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9448-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 23 08:24:35 2004
Return-Path: <lucene-user-return-9448-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62623 invoked from network); 23 Jul 2004 08:24:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jul 2004 08:24:35 -0000
Received: (qmail 800 invoked by uid 500); 23 Jul 2004 08:24:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 623 invoked by uid 500); 23 Jul 2004 08:24:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 608 invoked by uid 99); 23 Jul 2004 08:24:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,MIME_QP_LONG_LINE
X-Spam-Check-By: apache.org
Received: from [210.193.2.57] (HELO veneer.qala.com.sg) (210.193.2.57)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 23 Jul 2004 01:24:25 -0700
Received: from 192.168.1.167 (adsl-210-193-14-235.qala.com.sg [210.193.14.235])
	by veneer.qala.com.sg (8.12.10/8.12.10) with SMTP id i6N8OA6R011799
	for <lucene-user@jakarta.apache.org>; Fri, 23 Jul 2004 16:24:16 +0800 (SGT)
X-Qala-Anti-Virus: This mail is checked for Viruses by Qala Antivirus Service. Server No. 5
From: Kelvin Tan <lists-kelvin@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: PocoMail 3.1 (1880) - Licensed Version
Date: Fri, 23 Jul 2004 10:23:56 +0200
Message-ID: <2004723102356.714360@Inspiron>
In-Reply-To: <8837fb77040722105926a223bc@mail.gmail.com>
Subject: Re: authentication support in lucene
Mime-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If you don't have low-level access to the framework that can retrieve a=
 batch 
list of accessible IDs, document-by-document checking of ACL will be=
 _painful_.

I implemented ACL checking via Filters. Caching filters definitely helps,=
 but 
may not be applicable in every situation. I stored the UUID of each document=
 in 
the database as well as in Lucene. That way, by retrieving a list of=
 accessible 
documents via SQL, I can create the necessary BitSet.

Kelvin 

On Thu, 22 Jul 2004 19:59:27 +0200, John Wang said:
> Hi:
> Maybe this has been asked before.
> Is there a plan to support ACL check on the documents in lucene?
> Say I have a customized ACL check module, e.g.:
> boolean ACLCheck(int docID,String user,String password);
> And have some sort of framework to plug in something like that.
> I was looking at the Filter class. I guess I can read the entire
> index, for each document, feed it to the authentication module, if
> authenticated, bitset the docID and return the BitSet instance. I
> sounds very slow for large hits. I guess  I can play with cacheing
> etc.
> Any other ideas?
> Thanks
> -John
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9449-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 23 09:09:43 2004
Return-Path: <lucene-user-return-9449-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92618 invoked from network); 23 Jul 2004 09:09:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jul 2004 09:09:43 -0000
Received: (qmail 59114 invoked by uid 500); 23 Jul 2004 09:09:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59081 invoked by uid 500); 23 Jul 2004 09:09:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59068 invoked by uid 99); 23 Jul 2004 09:09:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [66.139.76.19] (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 23 Jul 2004 02:09:32 -0700
Received: (qmail 28309 invoked by uid 532); 23 Jul 2004 09:08:25 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 2.63.  Clear:. 
 Processed in 0.092045 secs); 23 Jul 2004 09:08:25 -0000
Received: from unknown (HELO ?192.168.39.121?) (127.0.0.1)
  by 0 with SMTP; 23 Jul 2004 09:08:25 -0000
Message-ID: <4100D5C5.4010202@tropo.com>
Date: Fri, 23 Jul 2004 10:09:25 +0100
From: Dave Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Macintosh; U; PPC Mac OS X Mach-O; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: authentication support in lucene
References: <2004723102356.714360@Inspiron>
In-Reply-To: <2004723102356.714360@Inspiron>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kelvin Tan wrote:

> If you don't have low-level access to the framework that can retrieve a batch 
> list of accessible IDs, document-by-document checking of ACL will be _painful_.
> 
> I implemented ACL checking via Filters. Caching filters definitely helps, but 
> may not be applicable in every situation. I stored the UUID of each document in 
> the database as well as in Lucene. That way, by retrieving a list of accessible 
> documents via SQL, I can create the necessary BitSet.


Maybe the only hope then is different indexes based on coarse grained 
"roles", not find grained ACLs.

> 
> Kelvin 
> 
> On Thu, 22 Jul 2004 19:59:27 +0200, John Wang said:
> 
>>Hi:
>>Maybe this has been asked before.
>>Is there a plan to support ACL check on the documents in lucene?
>>Say I have a customized ACL check module, e.g.:
>>boolean ACLCheck(int docID,String user,String password);
>>And have some sort of framework to plug in something like that.
>>I was looking at the Filter class. I guess I can read the entire
>>index, for each document, feed it to the authentication module, if
>>authenticated, bitset the docID and return the BitSet instance. I
>>sounds very slow for large hits. I guess  I can play with cacheing
>>etc.
>>Any other ideas?
>>Thanks
>>-John
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9450-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 23 10:02:03 2004
Return-Path: <lucene-user-return-9450-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19044 invoked from network); 23 Jul 2004 10:02:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jul 2004 10:02:02 -0000
Received: (qmail 64175 invoked by uid 500); 23 Jul 2004 10:01:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64149 invoked by uid 500); 23 Jul 2004 10:01:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64134 invoked by uid 99); 23 Jul 2004 10:01:53 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,MIME_QP_LONG_LINE
X-Spam-Check-By: apache.org
Received: from [210.193.2.57] (HELO veneer.qala.com.sg) (210.193.2.57)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 23 Jul 2004 03:01:50 -0700
Received: from 192.168.1.167 (adsl-210-193-14-235.qala.com.sg [210.193.14.235])
	by veneer.qala.com.sg (8.12.10/8.12.10) with SMTP id i6NA1e6R028190
	for <lucene-user@jakarta.apache.org>; Fri, 23 Jul 2004 18:01:42 +0800 (SGT)
X-Qala-Anti-Virus: This mail is checked for Viruses by Qala Antivirus Service. Server No. 5
From: Kelvin Tan <lists-kelvin@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: PocoMail 3.1 (1880) - Licensed Version
Date: Fri, 23 Jul 2004 12:01:26 +0200
Message-ID: <200472312126.623647@Inspiron>
In-Reply-To: <4100D5C5.4010202@tropo.com>
Subject: Re: authentication support in lucene
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Fri, 23 Jul 2004 10:09:25 +0100, Dave Spencer said:
>> I implemented ACL checking via Filters. Caching filters definitely helps,=
 but
>> may not be applicable in every situation. I stored the UUID of each=
 document 
in
>> the database as well as in Lucene. That way, by retrieving a list of 
accessible
>> documents via SQL, I can create the necessary BitSet.
> 
> Maybe the only hope then is different indexes based on coarse grained
> "roles", not find grained ACLs.

That really depends on how much access (low/high-level) you have to the=
 security 
subsystem. 

Different indexes can be pretty expensive to maintain, and creating a new=
 role 
involves creation of a new index? *ugh*

kelvin


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9451-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 23 11:54:55 2004
Return-Path: <lucene-user-return-9451-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61110 invoked from network); 23 Jul 2004 11:54:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jul 2004 11:54:55 -0000
Received: (qmail 87190 invoked by uid 500); 23 Jul 2004 11:54:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87137 invoked by uid 500); 23 Jul 2004 11:54:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87117 invoked by uid 99); 23 Jul 2004 11:54:45 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [81.80.42.215] (HELO mail-paris.sqli.com) (81.80.42.215)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 23 Jul 2004 04:54:44 -0700
Received: by mailhost.sqli.com with Internet Mail Service (5.5.2657.72)
	id <P2DQFGPF>; Fri, 23 Jul 2004 13:50:42 +0200
Message-ID: <192353F2A074154C82068805541676F20B8EC111@mailhost.sqli.com>
From: Thomas QUESTE <TQUESTE@sqli.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Searching word in an URL
Date: Fri, 23 Jul 2004 13:50:42 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello all, 



I need to search words on URL which have been indexed. 

For exemple, I have "www.jakarta.org", If I search "jakarta", Lucene won't 
return a result. If I search "www.jakarta*", Lucene returns me the correct 
result. 

How should I proceed to make Lucene to be able to index "jakarta" ? I think 
I can write a Analyser that will break www.jakarta.org in "www", "jakarta" 
and "org" but It won't be the best way. 

Thanks for your help, 

Thomas 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9452-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 23 12:24:28 2004
Return-Path: <lucene-user-return-9452-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71267 invoked from network); 23 Jul 2004 12:24:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jul 2004 12:24:28 -0000
Received: (qmail 23162 invoked by uid 500); 23 Jul 2004 12:24:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22971 invoked by uid 500); 23 Jul 2004 12:24:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22945 invoked by uid 99); 23 Jul 2004 12:24:21 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [193.62.196.100] (HELO maui.ebi.ac.uk) (193.62.196.100)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 23 Jul 2004 05:24:18 -0700
Received: from SILK (silk.dhcp.ebi.ac.uk [172.22.69.6])
	by maui.ebi.ac.uk (8.11.7+Sun/8.11.7) with SMTP id i6NCOBF27968
	for <lucene-user@jakarta.apache.org>; Fri, 23 Jul 2004 13:24:11 +0100 (BST)
From: "Rupinder Singh Mazara" <rsmazara@ebi.ac.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Large index files
Date: Fri, 23 Jul 2004 13:24:48 +0100
Message-ID: <CFEHIPOIEGKAJJPJENCECECICDAA.rsmazara@ebi.ac.uk>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.6604 (9.0.2911.0)
Importance: Normal
In-Reply-To: <192353F2A074154C82068805541676F20B8EC111@mailhost.sqli.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-EBI-Information: This email is scanned using www.mailscanner.info.
X-EBI: Found to be clean
X-EBI-SpamCheck: not spam, SpamAssassin (score=0, required 5)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all

  I am using lucene to index a large dataset, it so happens 10% of this data
yields indexes of
  400MB, in all likelihood it is possible the index may go upto 7GB.

  My deployment will be on a linux/tomcat  system, what will be a better
solution
  a) create one large index and hope linux does not mind
  b) generate 7-10 indexes based on some criteria and glue them together
using MultiReader, in this case I may cross the MAX file handles limit of
Tomcat ?

 regards







---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9453-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 23 12:34:25 2004
Return-Path: <lucene-user-return-9453-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74569 invoked from network); 23 Jul 2004 12:34:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jul 2004 12:34:25 -0000
Received: (qmail 33500 invoked by uid 500); 23 Jul 2004 12:34:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33473 invoked by uid 500); 23 Jul 2004 12:34:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33456 invoked by uid 99); 23 Jul 2004 12:34:19 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.199.26.74] (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Fri, 23 Jul 2004 05:34:16 -0700
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I1B26300.S3U for <lucene-user@jakarta.apache.org>; Fri,
          23 Jul 2004 18:16:51 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Large index files
Date: Fri, 23 Jul 2004 18:14:23 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIIEEHCBAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
In-Reply-To: <CFEHIPOIEGKAJJPJENCECECICDAA.rsmazara@ebi.ac.uk>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

  I think  (a) would be a better choice  [I have  done it on Linux  upt to
7GB , it's pretty faster then doing the same on win2000 PF]


with regards
Karthik

-----Original Message-----
From: Rupinder Singh Mazara [mailto:rsmazara@ebi.ac.uk]
Sent: Friday, July 23, 2004 5:55 PM
To: Lucene Users List
Subject: Large index files


Hi all

  I am using lucene to index a large dataset, it so happens 10% of this data
yields indexes of
  400MB, in all likelihood it is possible the index may go upto 7GB.

  My deployment will be on a linux/tomcat  system, what will be a better
solution
  a) create one large index and hope linux does not mind
  b) generate 7-10 indexes based on some criteria and glue them together
using MultiReader, in this case I may cross the MAX file handles limit of
Tomcat ?

 regards







---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9454-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 23 12:51:16 2004
Return-Path: <lucene-user-return-9454-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81574 invoked from network); 23 Jul 2004 12:51:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jul 2004 12:51:15 -0000
Received: (qmail 67307 invoked by uid 500); 23 Jul 2004 12:51:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67257 invoked by uid 500); 23 Jul 2004 12:51:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67197 invoked by uid 99); 23 Jul 2004 12:51:05 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Fri, 23 Jul 2004 05:51:02 -0700
Received: (qmail 6408 invoked by uid 65534); 23 Jul 2004 12:50:59 -0000
Received: from tpluempe.cs.ucl.ac.uk (EHLO [128.16.11.248]) (128.16.11.248)
  by mail.gmx.net (mp019) with SMTP; 23 Jul 2004 14:50:59 +0200
X-Authenticated: #1165889
Subject: Re: Searching word in an URL
From: Thomas =?ISO-8859-1?Q?Pl=FCmpe?= <thomanski@gmx.de>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <192353F2A074154C82068805541676F20B8EC111@mailhost.sqli.com>
References: <192353F2A074154C82068805541676F20B8EC111@mailhost.sqli.com>
Content-Type: text/plain
Message-Id: <1090587036.2933.42.camel@tpluempe.cs.ucl.ac.uk>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6-2.1.92mdk 
Date: Fri, 23 Jul 2004 13:50:36 +0100
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> For exemple, I have "www.jakarta.org", If I search "jakarta", Lucene won't 
> return a result. If I search "www.jakarta*", Lucene returns me the correct 
> result.
> 
> How should I proceed to make Lucene to be able to index "jakarta" ? I think 
> I can write a Analyser that will break www.jakarta.org in "www", "jakarta" 
> and "org" but It won't be the best way. 
I think this article
http://today.java.net/pub/a/today/2003/07/30/LuceneIntro.html
(look for headline Analysis) might be helpful in understanding the
options, one of which would be using a StopAnalyzer.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9455-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 23 13:14:14 2004
Return-Path: <lucene-user-return-9455-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91036 invoked from network); 23 Jul 2004 13:14:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jul 2004 13:14:14 -0000
Received: (qmail 15115 invoked by uid 500); 23 Jul 2004 13:14:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15043 invoked by uid 500); 23 Jul 2004 13:14:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15027 invoked by uid 99); 23 Jul 2004 13:14:07 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=DNS_FROM_RFC_POST
X-Spam-Check-By: apache.org
Received: from [195.110.64.125] (HELO smtp.uk.colt.net) (195.110.64.125)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 23 Jul 2004 06:14:06 -0700
Received: from rte.ie (mx.rte.ie [217.173.98.209])
	by smtp.uk.colt.net (Postfix) with ESMTP id 562E5E7A7A
	for <lucene-user@jakarta.apache.org>; Fri, 23 Jul 2004 14:07:42 +0100 (BST)
Subject: RE: Large index files
From: John Moylan <johnm@rte.ie>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <LOEGLEEGOAKBOLAJCCKIIEEHCBAA.karthik@controlnet.co.in>
References: <LOEGLEEGOAKBOLAJCCKIIEEHCBAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=UTF-8
Organization: RTE ePublishing
Message-Id: <1090588442.1980.23.camel@redsnapper>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 (1.4.6-2) 
Date: Fri, 23 Jul 2004 14:14:02 +0100
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

As long as your kernel has "Large File Support", then you should be
fine. Most modern distro's support >2GB files now out of the box.

John 

On Fri, 2004-07-23 at 13:44, Karthik N S wrote:
> Hi
> 
>   I think  (a) would be a better choice  [I have  done it on Linux  upt to
> 7GB , it's pretty faster then doing the same on win2000 PF]
> 
> 
> with regards
> Karthik
> 
> -----Original Message-----
> From: Rupinder Singh Mazara [mailto:rsmazara@ebi.ac.uk]
> Sent: Friday, July 23, 2004 5:55 PM
> To: Lucene Users List
> Subject: Large index files
> 
> 
> Hi all
> 
>   I am using lucene to index a large dataset, it so happens 10% of this data
> yields indexes of
>   400MB, in all likelihood it is possible the index may go upto 7GB.
> 
>   My deployment will be on a linux/tomcat  system, what will be a better
> solution
>   a) create one large index and hope linux does not mind
>   b) generate 7-10 indexes based on some criteria and glue them together
> using MultiReader, in this case I may cross the MAX file handles limit of
> Tomcat ?
> 
>  regards
> 
> 
> 
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
-- 
John Moylan
RTÃ ePublishing,
Montrose House,
Donnybrook,
Dublin 4
T: +353 1 2083564
E: john.moylan@rte.ie


******************************************************************************
The information in this e-mail is confidential and may be legally privileged.
It is intended solely for the addressee. Access to this e-mail by anyone else
is unauthorised. If you are not the intended recipient, any disclosure,
copying, distribution, or any action taken or omitted to be taken in reliance
on it, is prohibited and may be unlawful.
Please note that emails to, from and within RTÉ may be subject to the Freedom
of Information Act 1997 and may be liable to disclosure.
******************************************************************************

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9456-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 23 13:30:08 2004
Return-Path: <lucene-user-return-9456-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6998 invoked from network); 23 Jul 2004 13:30:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jul 2004 13:30:08 -0000
Received: (qmail 39555 invoked by uid 500); 23 Jul 2004 13:29:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39528 invoked by uid 500); 23 Jul 2004 13:29:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39513 invoked by uid 99); 23 Jul 2004 13:29:58 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [66.82.4.91] (HELO a34-mta02.direcway.com) (66.82.4.91)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 23 Jul 2004 06:29:55 -0700
Received: from [192.168.1.150] (dpc6935170015.direcpc.com [69.35.170.15])
 by a34-mta02.direcway.com
 (iPlanet Messaging Server 5.2 HotFix 1.12 (built Feb 13 2003))
 with ESMTP id <0I1B004KR45KWZ@a34-mta02.direcway.com> for
 lucene-user@jakarta.apache.org; Fri, 23 Jul 2004 09:29:50 -0400 (EDT)
Date: Fri, 23 Jul 2004 09:38:12 -0400
From: Joel Shellman <joel@ikestrel.com>
Subject: Re: Large index files
In-reply-to: <1090588442.1980.23.camel@redsnapper>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <410114C4.5070403@ikestrel.com>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040514
X-Enigmail-Version: 0.84.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
References: <LOEGLEEGOAKBOLAJCCKIIEEHCBAA.karthik@controlnet.co.in>
 <1090588442.1980.23.camel@redsnapper>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm a little confused by this. I thought Lucene keeps creating new files 
as the index gets bigger and any single file doesn't ever get all that 
big. Is that not the case?

Thanks,

Joel Shellman


John Moylan wrote:
> As long as your kernel has "Large File Support", then you should be
> fine. Most modern distro's support >2GB files now out of the box.
> 
> John 
> 
> On Fri, 2004-07-23 at 13:44, Karthik N S wrote:
> 
>>Hi
>>
>>  I think  (a) would be a better choice  [I have  done it on Linux  upt to
>>7GB , it's pretty faster then doing the same on win2000 PF]
>>
>>
>>with regards
>>Karthik
>>
>>-----Original Message-----
>>From: Rupinder Singh Mazara [mailto:rsmazara@ebi.ac.uk]
>>Sent: Friday, July 23, 2004 5:55 PM
>>To: Lucene Users List
>>Subject: Large index files
>>
>>
>>Hi all
>>
>>  I am using lucene to index a large dataset, it so happens 10% of this data
>>yields indexes of
>>  400MB, in all likelihood it is possible the index may go upto 7GB.
>>
>>  My deployment will be on a linux/tomcat  system, what will be a better
>>solution
>>  a) create one large index and hope linux does not mind
>>  b) generate 7-10 indexes based on some criteria and glue them together
>>using MultiReader, in this case I may cross the MAX file handles limit of
>>Tomcat ?
>>
>> regards
>>
>>
>>
>>
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9457-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 23 13:33:07 2004
Return-Path: <lucene-user-return-9457-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8123 invoked from network); 23 Jul 2004 13:33:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jul 2004 13:33:07 -0000
Received: (qmail 49924 invoked by uid 500); 23 Jul 2004 13:32:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49880 invoked by uid 500); 23 Jul 2004 13:32:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49864 invoked by uid 99); 23 Jul 2004 13:32:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [193.62.196.100] (HELO maui.ebi.ac.uk) (193.62.196.100)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 23 Jul 2004 06:32:54 -0700
Received: from SILK (silk.dhcp.ebi.ac.uk [172.22.69.6])
	by maui.ebi.ac.uk (8.11.7+Sun/8.11.7) with SMTP id i6NDWjF01576
	for <lucene-user@jakarta.apache.org>; Fri, 23 Jul 2004 14:32:45 +0100 (BST)
From: "Rupinder Singh Mazara" <rsmazara@ebi.ac.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Large index files
Date: Fri, 23 Jul 2004 14:33:26 +0100
Message-ID: <CFEHIPOIEGKAJJPJENCEGECICDAA.rsmazara@ebi.ac.uk>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.6604 (9.0.2911.0)
Importance: Normal
In-Reply-To: <410114C4.5070403@ikestrel.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-EBI-Information: This email is scanned using www.mailscanner.info.
X-EBI: Found to be clean
X-EBI-SpamCheck: not spam, SpamAssassin (score=0, required 5)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

by optimizing the created in index(es) u can reduce  multiple files into
a smaller set of files

and on some file systems might be a good idea to optimize once in while


>-----Original Message-----
>From: Joel Shellman [mailto:joel@ikestrel.com]
>Sent: 23 July 2004 14:38
>To: Lucene Users List
>Subject: Re: Large index files
>
>
>I'm a little confused by this. I thought Lucene keeps creating new files
>as the index gets bigger and any single file doesn't ever get all that
>big. Is that not the case?
>
>Thanks,
>
>Joel Shellman
>
>
>John Moylan wrote:
>> As long as your kernel has "Large File Support", then you should be
>> fine. Most modern distro's support >2GB files now out of the box.
>>
>> John
>>
>> On Fri, 2004-07-23 at 13:44, Karthik N S wrote:
>>
>>>Hi
>>>
>>>  I think  (a) would be a better choice  [I have  done it on
>Linux  upt to
>>>7GB , it's pretty faster then doing the same on win2000 PF]
>>>
>>>
>>>with regards
>>>Karthik
>>>
>>>-----Original Message-----
>>>From: Rupinder Singh Mazara [mailto:rsmazara@ebi.ac.uk]
>>>Sent: Friday, July 23, 2004 5:55 PM
>>>To: Lucene Users List
>>>Subject: Large index files
>>>
>>>
>>>Hi all
>>>
>>>  I am using lucene to index a large dataset, it so happens 10%
>of this data
>>>yields indexes of
>>>  400MB, in all likelihood it is possible the index may go upto 7GB.
>>>
>>>  My deployment will be on a linux/tomcat  system, what will be a better
>>>solution
>>>  a) create one large index and hope linux does not mind
>>>  b) generate 7-10 indexes based on some criteria and glue them together
>>>using MultiReader, in this case I may cross the MAX file handles limit of
>>>Tomcat ?
>>>
>>> regards
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9458-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 23 13:33:18 2004
Return-Path: <lucene-user-return-9458-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8204 invoked from network); 23 Jul 2004 13:33:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jul 2004 13:33:18 -0000
Received: (qmail 50625 invoked by uid 500); 23 Jul 2004 13:33:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50536 invoked by uid 500); 23 Jul 2004 13:33:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50459 invoked by uid 99); 23 Jul 2004 13:33:03 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [64.65.202.3] (HELO contextmedia.com) (64.65.202.3)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 23 Jul 2004 06:33:00 -0700
Received: from ppeddi ([192.168.1.48]) by contextmedia.com ; Fri, 23 Jul 2004 09:32:47 -0400
Message-ID: <02d101c470b9$8d54c4a0$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <LOEGLEEGOAKBOLAJCCKIIEEHCBAA.karthik@controlnet.co.in> <1090588442.1980.23.camel@redsnapper> <410114C4.5070403@ikestrel.com>
Subject: Re: Large index files
Date: Fri, 23 Jul 2004 09:32:50 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yes Lucene may create new file when you add document but based on merge
factor, minmergedocs, optimize and many other variables, it will merge the
multiple documents into single document. You may not always have a single
file but in most cases very few files.

Praveen
----- Original Message ----- 
From: "Joel Shellman" <joel@ikestrel.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, July 23, 2004 9:38 AM
Subject: Re: Large index files


> I'm a little confused by this. I thought Lucene keeps creating new files
> as the index gets bigger and any single file doesn't ever get all that
> big. Is that not the case?
>
> Thanks,
>
> Joel Shellman
>
>
> John Moylan wrote:
> > As long as your kernel has "Large File Support", then you should be
> > fine. Most modern distro's support >2GB files now out of the box.
> >
> > John
> >
> > On Fri, 2004-07-23 at 13:44, Karthik N S wrote:
> >
> >>Hi
> >>
> >>  I think  (a) would be a better choice  [I have  done it on Linux  upt
to
> >>7GB , it's pretty faster then doing the same on win2000 PF]
> >>
> >>
> >>with regards
> >>Karthik
> >>
> >>-----Original Message-----
> >>From: Rupinder Singh Mazara [mailto:rsmazara@ebi.ac.uk]
> >>Sent: Friday, July 23, 2004 5:55 PM
> >>To: Lucene Users List
> >>Subject: Large index files
> >>
> >>
> >>Hi all
> >>
> >>  I am using lucene to index a large dataset, it so happens 10% of this
data
> >>yields indexes of
> >>  400MB, in all likelihood it is possible the index may go upto 7GB.
> >>
> >>  My deployment will be on a linux/tomcat  system, what will be a better
> >>solution
> >>  a) create one large index and hope linux does not mind
> >>  b) generate 7-10 indexes based on some criteria and glue them together
> >>using MultiReader, in this case I may cross the MAX file handles limit
of
> >>Tomcat ?
> >>
> >> regards
> >>
> >>
> >>
> >>
> >>
> >>
> >>
> >>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>
> >>
> >>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9459-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 23 13:39:44 2004
Return-Path: <lucene-user-return-9459-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10614 invoked from network); 23 Jul 2004 13:39:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jul 2004 13:39:44 -0000
Received: (qmail 70964 invoked by uid 500); 23 Jul 2004 13:39:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70940 invoked by uid 500); 23 Jul 2004 13:39:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70925 invoked by uid 99); 23 Jul 2004 13:39:34 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=DNS_FROM_RFC_POST
X-Spam-Check-By: apache.org
Received: from [195.110.64.125] (HELO smtp.uk.colt.net) (195.110.64.125)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 23 Jul 2004 06:39:33 -0700
Received: from rte.ie (mx.rte.ie [217.173.98.209])
	by smtp.uk.colt.net (Postfix) with ESMTP id 348DCE311B
	for <lucene-user@jakarta.apache.org>; Fri, 23 Jul 2004 14:31:28 +0100 (BST)
Subject: Re: Large index files
From: John Moylan <johnm@rte.ie>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <410114C4.5070403@ikestrel.com>
References: <LOEGLEEGOAKBOLAJCCKIIEEHCBAA.karthik@controlnet.co.in>
	 <1090588442.1980.23.camel@redsnapper>  <410114C4.5070403@ikestrel.com>
Content-Type: text/plain; charset=UTF-8
Organization: RTE ePublishing
Message-Id: <1090589868.15859.2.camel@redsnapper>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 (1.4.6-2) 
Date: Fri, 23 Jul 2004 14:37:48 +0100
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Depends... I index everything to ram, optimize and then dump to the
disk. I end up with three files:

segments
deletable
_1.cfs

John

On Fri, 2004-07-23 at 14:38, Joel Shellman wrote:
> I'm a little confused by this. I thought Lucene keeps creating new files 
> as the index gets bigger and any single file doesn't ever get all that 
> big. Is that not the case?
> 
> Thanks,
> 
> Joel Shellman
> 
> 
> John Moylan wrote:
> > As long as your kernel has "Large File Support", then you should be
> > fine. Most modern distro's support >2GB files now out of the box.
> > 
> > John 
> > 
> > On Fri, 2004-07-23 at 13:44, Karthik N S wrote:
> > 
> >>Hi
> >>
> >>  I think  (a) would be a better choice  [I have  done it on Linux  upt to
> >>7GB , it's pretty faster then doing the same on win2000 PF]
> >>
> >>
> >>with regards
> >>Karthik
> >>
> >>-----Original Message-----
> >>From: Rupinder Singh Mazara [mailto:rsmazara@ebi.ac.uk]
> >>Sent: Friday, July 23, 2004 5:55 PM
> >>To: Lucene Users List
> >>Subject: Large index files
> >>
> >>
> >>Hi all
> >>
> >>  I am using lucene to index a large dataset, it so happens 10% of this data
> >>yields indexes of
> >>  400MB, in all likelihood it is possible the index may go upto 7GB.
> >>
> >>  My deployment will be on a linux/tomcat  system, what will be a better
> >>solution
> >>  a) create one large index and hope linux does not mind
> >>  b) generate 7-10 indexes based on some criteria and glue them together
> >>using MultiReader, in this case I may cross the MAX file handles limit of
> >>Tomcat ?
> >>
> >> regards
> >>
> >>
> >>
> >>
> >>
> >>
> >>
> >>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>
> >>
> >>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
-- 
John Moylan
RTÃ ePublishing,
Montrose House,
Donnybrook,
Dublin 4
T: +353 1 2083564
E: john.moylan@rte.ie


******************************************************************************
The information in this e-mail is confidential and may be legally privileged.
It is intended solely for the addressee. Access to this e-mail by anyone else
is unauthorised. If you are not the intended recipient, any disclosure,
copying, distribution, or any action taken or omitted to be taken in reliance
on it, is prohibited and may be unlawful.
Please note that emails to, from and within RTÉ may be subject to the Freedom
of Information Act 1997 and may be liable to disclosure.
******************************************************************************

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9460-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 23 13:58:16 2004
Return-Path: <lucene-user-return-9460-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20426 invoked from network); 23 Jul 2004 13:58:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jul 2004 13:58:16 -0000
Received: (qmail 20373 invoked by uid 500); 23 Jul 2004 13:57:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20281 invoked by uid 500); 23 Jul 2004 13:57:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20156 invoked by uid 99); 23 Jul 2004 13:57:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [193.62.196.100] (HELO maui.ebi.ac.uk) (193.62.196.100)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 23 Jul 2004 06:57:49 -0700
Received: from SILK (silk.dhcp.ebi.ac.uk [172.22.69.6])
	by maui.ebi.ac.uk (8.11.7+Sun/8.11.7) with SMTP id i6NDvhF13976
	for <lucene-user@jakarta.apache.org>; Fri, 23 Jul 2004 14:57:43 +0100 (BST)
From: "Rupinder Singh Mazara" <rsmazara@ebi.ac.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Merging indexes
Date: Fri, 23 Jul 2004 14:58:24 +0100
Message-ID: <CFEHIPOIEGKAJJPJENCEMECICDAA.rsmazara@ebi.ac.uk>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="UTF-8"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.6604 (9.0.2911.0)
Importance: Normal
In-Reply-To: <1090589868.15859.2.camel@redsnapper>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-EBI-Information: This email is scanned using www.mailscanner.info.
X-EBI: Found to be clean
X-EBI-SpamCheck: not spam, SpamAssassin (score=0, required 5)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all=20

  I got problem with merging indexes,
  I had to split up  the indexing of my data into 20 different =
indexes(based on a primary key)=20
  I wanted to merge them all into one master index=20

  for example i have=20
  /xxx/lucene/tmp/1001-1000
  /xxx/lucene/tmp/1001-2000
  /xxx/lucene/tmp/2001-3001 ....etc

  i want to merge them into the index
  /xxx/lucene/index/complete=20

  i was hoping to merge the indexes as the jobs get completed,

  i tried the following code , createNew: is a boolean variable turned =
to true for the first merge=20
 and then is turned to false for all other indexes =20
 tmpRoot: is the folder in which the split jobs are entered,
 d1: is the index i wanted merged

        Directory allIndexes[] =3D new Directory[1];
        allIndexes[0] =3D FSDirectory.getDirectory(new File(tmpRoot + =
d1), false);
        aLog.info("Dir's opened for merge ");

        IndexWriter iWriter =3D new =
IndexWriter(FSDirectory.getDirectory(new File(op), true), myAnalyzer, =
createNew);
        // IndexWriter iWriter =3D new =
IndexWriter(FSDirectory.getDirectory(new File(op), true), myAnalyzer, =
false);
        aLog.fatal("Retrieved Indexes preparing to MERGE ");
        iWriter.addIndexes(allIndexes);
        aLog.fatal("Preparing to optimize ");
        iWriter.optimize();
        aLog.fatal("Closing indexes  ");
        iWriter.close();

  the problems is the first run happens fine ,  but  the next job runs =
and ends up deleting the contents of the master index directory



=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9461-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 23 14:58:09 2004
Return-Path: <lucene-user-return-9461-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51923 invoked from network); 23 Jul 2004 14:58:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jul 2004 14:58:09 -0000
Received: (qmail 61965 invoked by uid 500); 23 Jul 2004 14:58:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61920 invoked by uid 500); 23 Jul 2004 14:58:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61903 invoked by uid 99); 23 Jul 2004 14:58:00 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_90_100,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [203.200.20.178] (HELO crimsonlogic.co.in) (203.200.20.178)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 23 Jul 2004 07:57:57 -0700
Received: from INA098tnat (localhost.localdomain [127.0.0.1])
	by crimsonlogic.co.in (Postfix) with ESMTP id D5FC1233EA
	for <lucene-user@jakarta.apache.org>; Fri, 23 Jul 2004 20:27:16 +0530 (IST)
From: "Natarajan.T" <natarajant@crimsonlogic.co.in>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: PDFBox problem.
Date: Fri, 23 Jul 2004 20:32:12 +0530
Message-ID: <003301c470c6$08b965e0$8714a8c0@ssl>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0034_01C470F4.2271A1E0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0034_01C470F4.2271A1E0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit

FYI,
 
I am using PDFBox.jar  to Convert PDF to Text.
 
Problem is in the runtime its printing lot of object messages
 
How can I avoid this one??? How can I go with this one. 
 
import java.io.InputStream;
import java.io.BufferedWriter;
import java.io.IOException;
 
import org.pdfbox.util.PDFTextStripper;
import org.pdfbox.pdfparser.PDFParser;
import org.pdfbox.pdmodel.PDDocument;
import org.pdfbox.pdmodel.PDDocumentInformation;
 
 
/**
 * @author natarajant
 *
 * TODO To change the template for this generated type comment go to
 * Window - Preferences - Java - Code Generation - Code and Comments  */
public class PDFConverter extends DocumentConverter{
 
      public PDFConverter() {
      }
 
       /**
        * This method will construct the Lucene document object from the
        * given information by extracting the text from PDF file.
        *
        * @param              reader and writer - InputStream
and BufferedWriter
        * @return             true or false i.e. extract the
text or not
        */
        public boolean extractText(InputStream  reader, BufferedWriter
writer) throws IOException{
 
             PDFParser parser = null;
             PDDocument pdDoc = null;
             PDFTextStripper stripper = null;
             String pdftext = "";
             String pdftitle = "";
             try {
             parser = new PDFParser(reader);
                   parser.parse();
                   pdDoc = parser.getPDDocument();
 
                   stripper = new PDFTextStripper();
                   pdftext = stripper.getText(pdDoc);
 
                   writer.write(pdftext +" ");
 
             PDDocumentInformation info =
pdDoc.getDocumentInformation();
                   pdftitle = info.getTitle();
 
       } catch(Exception err) {
 
                   System.out.println(err.getMessage());
            }
            writer.close();
            return true;
       }
 
 
}
 

------=_NextPart_000_0034_01C470F4.2271A1E0--


From lucene-user-return-9462-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 23 14:58:55 2004
Return-Path: <lucene-user-return-9462-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52380 invoked from network); 23 Jul 2004 14:58:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jul 2004 14:58:55 -0000
Received: (qmail 63733 invoked by uid 500); 23 Jul 2004 14:58:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63664 invoked by uid 500); 23 Jul 2004 14:58:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63651 invoked by uid 99); 23 Jul 2004 14:58:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [207.245.223.231] (HELO trekspace.trekspace.com) (207.245.223.231)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 23 Jul 2004 07:58:43 -0700
Received: from trekspace.trekspace.com (trekspace@trekspace.trekspace.com [192.168.2.234])
	by trekspace.trekspace.com (8.12.3/8.12.3/Debian-6.6) with ESMTP id i6NEwb3e023242
	for <lucene-user@jakarta.apache.org>; Fri, 23 Jul 2004 10:58:37 -0400
Message-ID: <5911698836835913921MSCVRIHDRG.tlai@trekspace.com>
Date: Fri, 23 Jul 2004 10:58:37 -0400 (EDT)
From: Terence Lai <tlai@trekspace.com>
Reply-To: Terence Lai <tlai@trekspace.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RangeQuery on Numeric values
Mime-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Mailer: Treklogic MailTool v1.6 http://www.treklogic.com
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I am currently using Lucene 1.4 Final. I want to construct a query that matches a numeric range. I believe that the RangeQuery defined in Lucene API uses the string comparision. It does not work for numeric contents. Does anyone know how to create a numeric range query?

Thanks,
Terence




----------------------------------------------------------
Get your free email account from http://www.trekspace.com
          Your Internet Virtual Desktop!

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9463-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 23 15:06:49 2004
Return-Path: <lucene-user-return-9463-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56785 invoked from network); 23 Jul 2004 15:06:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jul 2004 15:06:49 -0000
Received: (qmail 80362 invoked by uid 500); 23 Jul 2004 15:06:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80323 invoked by uid 500); 23 Jul 2004 15:06:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80309 invoked by uid 99); 23 Jul 2004 15:06:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [194.159.73.192] (HELO post-22.mail.nl.demon.net) (194.159.73.192)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 23 Jul 2004 08:06:38 -0700
Received: from mda.demon.nl ([212.238.156.229]:57397 helo=[127.0.0.1])
	by post-22.mail.nl.demon.net with esmtp (Exim 4.34)
	id 1Bo1d2-000Ltr-Oo; Fri, 23 Jul 2004 15:06:32 +0000
Message-ID: <410129EB.40005@zilverline.org>
Date: Fri, 23 Jul 2004 17:08:27 +0200
From: Zilverline info <info@zilverline.org>
User-Agent: Mozilla Thunderbird 0.7.1 (Windows/20040626)
X-Accept-Language: nl, en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: PDFBox problem.
References: <003301c470c6$08b965e0$8714a8c0@ssl>
In-Reply-To: <003301c470c6$08b965e0$8714a8c0@ssl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Natarajan.T wrote:

>FYI,
> 
>I am using PDFBox.jar  to Convert PDF to Text.
> 
>Problem is in the runtime its printing lot of object messages
> 
>How can I avoid this one??? How can I go with this one. 
> 
>import java.io.InputStream;
>import java.io.BufferedWriter;
>import java.io.IOException;
> 
>import org.pdfbox.util.PDFTextStripper;
>import org.pdfbox.pdfparser.PDFParser;
>import org.pdfbox.pdmodel.PDDocument;
>import org.pdfbox.pdmodel.PDDocumentInformation;
> 
> 
>/**
> * @author natarajant
> *
> * TODO To change the template for this generated type comment go to
> * Window - Preferences - Java - Code Generation - Code and Comments  */
>public class PDFConverter extends DocumentConverter{
> 
>      public PDFConverter() {
>      }
> 
>       /**
>        * This method will construct the Lucene document object from the
>        * given information by extracting the text from PDF file.
>        *
>        * @param              reader and writer - InputStream
>and BufferedWriter
>        * @return             true or false i.e. extract the
>text or not
>        */
>        public boolean extractText(InputStream  reader, BufferedWriter
>writer) throws IOException{
> 
>             PDFParser parser = null;
>             PDDocument pdDoc = null;
>             PDFTextStripper stripper = null;
>             String pdftext = "";
>             String pdftitle = "";
>             try {
>             parser = new PDFParser(reader);
>                   parser.parse();
>                   pdDoc = parser.getPDDocument();
> 
>                   stripper = new PDFTextStripper();
>                   pdftext = stripper.getText(pdDoc);
> 
>                   writer.write(pdftext +" ");
> 
>             PDDocumentInformation info =
>pdDoc.getDocumentInformation();
>                   pdftitle = info.getTitle();
> 
>       } catch(Exception err) {
> 
>                   System.out.println(err.getMessage());
>  
>
change this to
 return false;

>            }
>            writer.close();
>            return true;
>       }
>  
>
finally { // close all open resources }

> 
> 
>}
> 
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9464-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 23 15:08:54 2004
Return-Path: <lucene-user-return-9464-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57838 invoked from network); 23 Jul 2004 15:08:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jul 2004 15:08:53 -0000
Received: (qmail 84880 invoked by uid 500); 23 Jul 2004 15:08:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84658 invoked by uid 500); 23 Jul 2004 15:08:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84644 invoked by uid 99); 23 Jul 2004 15:08:46 -0000
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=BIZ_TLD
X-Spam-Check-By: apache.org
Received: from [213.53.169.170] (HELO mail.aduna.biz) (213.53.169.170)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 23 Jul 2004 08:08:40 -0700
Received: from smtp.aduna.biz (unknown [192.168.0.2])
	by mail.aduna.biz (Postfix) with ESMTP id DA92C558913
	for <lucene-user@jakarta.apache.org>; Fri, 23 Jul 2004 15:03:55 +0000 (UTC)
Received: from 192.168.0.1 ([192.168.0.1]) by smtp.aduna.biz (WinRoute Pro 4.2.5) with SMTP; Fri, 23 Jul 2004 17:10:35 +0200
Message-ID: <410129ED.70303@aduna.biz>
Date: Fri, 23 Jul 2004 17:08:29 +0200
From: Christiaan Fluit <Christiaan.Fluit@aduna.biz>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.1) Gecko/20040707
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: PDFBox problem.
References: <003301c470c6$08b965e0$8714a8c0@ssl>
In-Reply-To: <003301c470c6$08b965e0$8714a8c0@ssl>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

We invoke the following code in a static initializer that simply 
disables log4j's output entirely.

	static {
		Properties props = new Properties();
		props.put("log4j.threshold", "OFF");
		org.apache.log4j.PropertyConfigurator.configure(props);
	}

Of course, when you make use of log4j in your own code, you have to be 
more specific.


Regards,

Chris.
--

Natarajan.T wrote:

> FYI,
>  
> I am using PDFBox.jar  to Convert PDF to Text.
>  
> Problem is in the runtime its printing lot of object messages
>  
> How can I avoid this one??? How can I go with this one. 
>  
> import java.io.InputStream;
> import java.io.BufferedWriter;
> import java.io.IOException;
>  
> import org.pdfbox.util.PDFTextStripper;
> import org.pdfbox.pdfparser.PDFParser;
> import org.pdfbox.pdmodel.PDDocument;
> import org.pdfbox.pdmodel.PDDocumentInformation;
>  
>  
> /**
>  * @author natarajant
>  *
>  * TODO To change the template for this generated type comment go to
>  * Window - Preferences - Java - Code Generation - Code and Comments  */
> public class PDFConverter extends DocumentConverter{
>  
>       public PDFConverter() {
>       }
>  
>        /**
>         * This method will construct the Lucene document object from the
>         * given information by extracting the text from PDF file.
>         *
>         * @param              reader and writer - InputStream
> and BufferedWriter
>         * @return             true or false i.e. extract the
> text or not
>         */
>         public boolean extractText(InputStream  reader, BufferedWriter
> writer) throws IOException{
>  
>              PDFParser parser = null;
>              PDDocument pdDoc = null;
>              PDFTextStripper stripper = null;
>              String pdftext = "";
>              String pdftitle = "";
>              try {
>              parser = new PDFParser(reader);
>                    parser.parse();
>                    pdDoc = parser.getPDDocument();
>  
>                    stripper = new PDFTextStripper();
>                    pdftext = stripper.getText(pdDoc);
>  
>                    writer.write(pdftext +" ");
>  
>              PDDocumentInformation info =
> pdDoc.getDocumentInformation();
>                    pdftitle = info.getTitle();
>  
>        } catch(Exception err) {
>  
>                    System.out.println(err.getMessage());
>             }
>             writer.close();
>             return true;
>        }
>  
>  
> }
>  
> 


-- 
christiaan.fluit@aduna.biz

Aduna
Prinses Julianaplein 14-b
3817 CS Amersfoort
The Netherlands

+31 33 465 9987 phone
+31 33 465 9987 fax

http://aduna.biz


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9465-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 23 15:15:14 2004
Return-Path: <lucene-user-return-9465-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62371 invoked from network); 23 Jul 2004 15:15:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jul 2004 15:15:14 -0000
Received: (qmail 99137 invoked by uid 500); 23 Jul 2004 15:15:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98982 invoked by uid 500); 23 Jul 2004 15:15:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98965 invoked by uid 99); 23 Jul 2004 15:15:07 -0000
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=BIZ_TLD,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [129.21.60.6] (HELO blacksheep.csh.rit.edu) (129.21.60.6)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 23 Jul 2004 08:14:59 -0700
Received: from fury.csh.rit.edu (fury.csh.rit.edu [IPv6:2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id B352F92E8
	for <lucene-user@jakarta.apache.org>; Fri, 23 Jul 2004 11:14:53 -0400 (EDT)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id 6DA071493; Fri, 23 Jul 2004 11:14:53 -0400 (EDT)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id 49F4F148D
	for <lucene-user@jakarta.apache.org>; Fri, 23 Jul 2004 11:14:53 -0400 (EDT)
Date: Fri, 23 Jul 2004 11:14:53 -0400 (EDT)
From: Ben Litchfield <ben@csh.rit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: PDFBox problem.
In-Reply-To: <410129ED.70303@aduna.biz>
Message-ID: <Pine.GSO.4.53.0407231113300.2087@fury.csh.rit.edu>
References: <003301c470c6$08b965e0$8714a8c0@ssl> <410129ED.70303@aduna.biz>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



I usually use use -Dlog4j.configuration=log4j.xml when invoking java from
the command line, but I believe this depends on your environment.

ex

java -Dlog4j.configuration=log4j.xml org.pdfbox.ExtractText input.pdf

Ben



On Fri, 23 Jul 2004, Christiaan Fluit wrote:

> We invoke the following code in a static initializer that simply
> disables log4j's output entirely.
>
> 	static {
> 		Properties props = new Properties();
> 		props.put("log4j.threshold", "OFF");
> 		org.apache.log4j.PropertyConfigurator.configure(props);
> 	}
>
> Of course, when you make use of log4j in your own code, you have to be
> more specific.
>
>
> Regards,
>
> Chris.
> --
>
> Natarajan.T wrote:
>
> > FYI,
> >
> > I am using PDFBox.jar  to Convert PDF to Text.
> >
> > Problem is in the runtime its printing lot of object messages
> >
> > How can I avoid this one??? How can I go with this one.
> >
> > import java.io.InputStream;
> > import java.io.BufferedWriter;
> > import java.io.IOException;
> >
> > import org.pdfbox.util.PDFTextStripper;
> > import org.pdfbox.pdfparser.PDFParser;
> > import org.pdfbox.pdmodel.PDDocument;
> > import org.pdfbox.pdmodel.PDDocumentInformation;
> >
> >
> > /**
> >  * @author natarajant
> >  *
> >  * TODO To change the template for this generated type comment go to
> >  * Window - Preferences - Java - Code Generation - Code and Comments  */
> > public class PDFConverter extends DocumentConverter{
> >
> >       public PDFConverter() {
> >       }
> >
> >        /**
> >         * This method will construct the Lucene document object from the
> >         * given information by extracting the text from PDF file.
> >         *
> >         * @param              reader and writer - InputStream
> > and BufferedWriter
> >         * @return             true or false i.e. extract the
> > text or not
> >         */
> >         public boolean extractText(InputStream  reader, BufferedWriter
> > writer) throws IOException{
> >
> >              PDFParser parser = null;
> >              PDDocument pdDoc = null;
> >              PDFTextStripper stripper = null;
> >              String pdftext = "";
> >              String pdftitle = "";
> >              try {
> >              parser = new PDFParser(reader);
> >                    parser.parse();
> >                    pdDoc = parser.getPDDocument();
> >
> >                    stripper = new PDFTextStripper();
> >                    pdftext = stripper.getText(pdDoc);
> >
> >                    writer.write(pdftext +" ");
> >
> >              PDDocumentInformation info =
> > pdDoc.getDocumentInformation();
> >                    pdftitle = info.getTitle();
> >
> >        } catch(Exception err) {
> >
> >                    System.out.println(err.getMessage());
> >             }
> >             writer.close();
> >             return true;
> >        }
> >
> >
> > }
> >
> >
>
>
> --
> christiaan.fluit@aduna.biz
>
> Aduna
> Prinses Julianaplein 14-b
> 3817 CS Amersfoort
> The Netherlands
>
> +31 33 465 9987 phone
> +31 33 465 9987 fax
>
> http://aduna.biz
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9466-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 23 15:28:09 2004
Return-Path: <lucene-user-return-9466-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72306 invoked from network); 23 Jul 2004 15:28:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jul 2004 15:28:08 -0000
Received: (qmail 26493 invoked by uid 500); 23 Jul 2004 15:28:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26447 invoked by uid 500); 23 Jul 2004 15:28:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26434 invoked by uid 99); 23 Jul 2004 15:28:00 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received: from [212.227.126.189] (HELO moutng.kundenserver.de) (212.227.126.189)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 23 Jul 2004 08:27:53 -0700
Received: from [212.227.126.155] (helo=mrelayng.kundenserver.de)
	by moutng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1Bo1xf-0004Pz-00
	for lucene-user@jakarta.apache.org; Fri, 23 Jul 2004 17:27:51 +0200
Received: from [82.135.3.137] (helo=192.168.10.101)
	by mrelayng.kundenserver.de with asmtp (TLSv1:RC4-MD5:128)
	(Exim 3.35 #1)
	id 1Bo1xf-0000e3-00
	for lucene-user@jakarta.apache.org; Fri, 23 Jul 2004 17:27:51 +0200
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: RangeQuery on Numeric values
Date: Fri, 23 Jul 2004 17:27:49 +0200
User-Agent: KMail/1.5.1
References: <5911698836835913921MSCVRIHDRG.tlai@trekspace.com>
In-Reply-To: <5911698836835913921MSCVRIHDRG.tlai@trekspace.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200407231727.49497.daniel.naber@t-online.de>
X-Provags-ID: kundenserver.de abuse@kundenserver.de auth:94b5a5949d2eb00693e70b0c89be5163
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday 23 July 2004 16:58, Terence Lai wrote:

> I am currently using Lucene 1.4 Final. I want to construct a query that
> matches a numeric range. I believe that the RangeQuery defined in Lucene
> API uses the string comparision. It does not work for numeric contents.
> Does anyone know how to create a numeric range query?

RangeQuery works for numbers, too, but you have to store them in the index so 
they are sorted correctly when sorted alphabetically. For example, if your 
numbers are between 0 and 1000 you have to store them as strings "0000" to 
"1000".

Daniel


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9467-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 23 15:29:33 2004
Return-Path: <lucene-user-return-9467-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73171 invoked from network); 23 Jul 2004 15:29:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jul 2004 15:29:33 -0000
Received: (qmail 29250 invoked by uid 500); 23 Jul 2004 15:29:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29220 invoked by uid 500); 23 Jul 2004 15:29:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29206 invoked by uid 99); 23 Jul 2004 15:29:24 -0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=HTML_40_50,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [64.65.202.3] (HELO contextmedia.com) (64.65.202.3)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 23 Jul 2004 08:29:21 -0700
Received: from ppeddi ([192.168.1.48]) by contextmedia.com ; Fri, 23 Jul 2004 11:27:28 -0400
Message-ID: <035101c470c9$92d6bae0$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "lucenelist" <lucene-user@jakarta.apache.org>
Subject: merge factor and minMergeDocs
Date: Fri, 23 Jul 2004 11:27:32 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_034E_01C470A8.0BB6C300"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_034E_01C470A8.0BB6C300
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Is anything changed lucene 1.4 regarding mergefactor?
I recently ported to lucene 1.4 final and my indexing time doesnot =
change with change in the merge factor. Increasing minMergeDocs is =
improving my indexing as expected but changing mergefactor is making no =
difference.

If this is the case, I can always go with the default merge factor of 10 =
so I won't run into too many files open problem. But just vary =
minMergeDocs to tune the indexing perf.

Currently I tested with 25K objects and the indexing time is almost the =
same with mergefactor 10 and mergefactor of 100 (kept minMergeDocs =
=3D100 in both cases). I am confident that my indexing time used to vary =
with change in the merge factor before (with lucene 1.3 RC3 I think).


Praveen
**************************************************************=20
Praveen Peddi
Sr Software Engg, Context Media, Inc.=20
email:ppeddi@contextmedia.com=20
Tel:  401.854.3475=20
Fax:  401.861.3596=20
web: http://www.contextmedia.com=20
**************************************************************=20
Context Media- "The Leader in Enterprise Content Integration"=20

------=_NextPart_000_034E_01C470A8.0BB6C300--


From lucene-user-return-9468-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 23 16:57:21 2004
Return-Path: <lucene-user-return-9468-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9174 invoked from network); 23 Jul 2004 16:57:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jul 2004 16:57:20 -0000
Received: (qmail 89192 invoked by uid 500); 23 Jul 2004 16:56:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89096 invoked by uid 500); 23 Jul 2004 16:56:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88920 invoked by uid 99); 23 Jul 2004 16:56:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [66.219.38.46] (HELO mail.alterpoint.com) (66.219.38.46)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 23 Jul 2004 09:56:50 -0700
Subject: write lock: cleaning an index
From: Ravi Rao <rrao@alterpoint.com>
To: lucene-user@jakarta.apache.org
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Message-Id: <1090601810.3865.361.camel@rnr.inside.eclyptic.com>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.5-2.norlug 
Date: Fri, 23 Jul 2004 11:56:50 -0500
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

All,

I have an application that has one IndexWriter.  Once in a while the
enclosing application is taken down with a kill and IndexWriter leaves
a lock file behind.  Other than removing the lock file, is there
anything else I can do to clean the index.

The only general solution I can think of is to index to a temporary
index and then every so often merge it with the master index, which
cannot be allowed to be corrupted.  In this scheme we lose only the
temporary index rather than the master index.

Many thanks,
-- 
Ravi/




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9469-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 23 17:09:25 2004
Return-Path: <lucene-user-return-9469-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14401 invoked from network); 23 Jul 2004 17:09:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jul 2004 17:09:25 -0000
Received: (qmail 11180 invoked by uid 500); 23 Jul 2004 17:09:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11126 invoked by uid 500); 23 Jul 2004 17:09:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11093 invoked by uid 99); 23 Jul 2004 17:08:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [207.162.57.26] (HELO hercule.cirano.qc.ca) (207.162.57.26)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 23 Jul 2004 10:08:54 -0700
Received: from localhost (vauchers@localhost)
	by hercule.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id i6NH8lI00698;
	Fri, 23 Jul 2004 13:08:48 -0400
X-Authentication-Warning: hercule.cirano.qc.ca: vauchers owned process doing -bs
Date: Fri, 23 Jul 2004 13:08:47 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>,
   Terence Lai <tlai@trekspace.com>
Subject: Re: RangeQuery on Numeric values
In-Reply-To: <5911698836835913921MSCVRIHDRG.tlai@trekspace.com>
Message-ID: <Pine.LNX.4.33.0407231308360.660-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This might help:

http://wiki.apache.org/jakarta-lucene/SearchNumericalFields

sv

On Fri, 23 Jul 2004, Terence Lai wrote:

> Hi,
>
> I am currently using Lucene 1.4 Final. I want to construct a query that matches a numeric range. I believe that the RangeQuery defined in Lucene API uses the string comparision. It does not work for numeric contents. Does anyone know how to create a numeric range query?
>
> Thanks,
> Terence
>
>
>
>
> ----------------------------------------------------------
> Get your free email account from http://www.trekspace.com
>           Your Internet Virtual Desktop!
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9470-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jul 25 06:31:51 2004
Return-Path: <lucene-user-return-9470-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99220 invoked from network); 25 Jul 2004 06:31:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Jul 2004 06:31:51 -0000
Received: (qmail 45812 invoked by uid 500); 25 Jul 2004 06:31:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45782 invoked by uid 500); 25 Jul 2004 06:31:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45768 invoked by uid 99); 25 Jul 2004 06:31:45 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [216.136.173.242] (HELO web12705.mail.yahoo.com) (216.136.173.242)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Sat, 24 Jul 2004 23:31:40 -0700
Message-ID: <20040725063139.93903.qmail@web12705.mail.yahoo.com>
Received: from [195.29.101.22] by web12705.mail.yahoo.com via HTTP; Sat, 24 Jul 2004 23:31:39 PDT
Date: Sat, 24 Jul 2004 23:31:39 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: write lock: cleaning an index
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1090601810.3865.361.camel@rnr.inside.eclyptic.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Uh, that's rough on IndexWriter, killing it like that. :(  One simple
solution to your problem may be gentler with IndexWriter, and design
your application in a way that will allow you to notify it when you
want to stop indexing and close IndexWriter.  One frequently used and
simple approach is to use the file system as your messaging mechanism.

To the application that uses IndexWriter, add a bit of code that
periodically looks for some file (e.g. stop-indexing).  Then add a bit
of logic around IndexWriter that will allow you to close it.  Combine
the two and you will be able to close IndexWriter with its close()
method when you create that stop-indexing file in the file system. 
This way you won't be leaving any locks behind, and there will be no
danger of corrupting the index.  Don't remember to remove the
stop-indexing file before re-starting your indexing application.


Otis


--- Ravi Rao <rrao@alterpoint.com> wrote:
> All,
> 
> I have an application that has one IndexWriter.  Once in a while the
> enclosing application is taken down with a kill and IndexWriter
> leaves
> a lock file behind.  Other than removing the lock file, is there
> anything else I can do to clean the index.
> 
> The only general solution I can think of is to index to a temporary
> index and then every so often merge it with the master index, which
> cannot be allowed to be corrupted.  In this scheme we lose only the
> temporary index rather than the master index.
> 
> Many thanks,
> -- 
> Ravi/
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9471-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 26 09:32:52 2004
Return-Path: <lucene-user-return-9471-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22132 invoked from network); 26 Jul 2004 09:32:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jul 2004 09:32:52 -0000
Received: (qmail 90231 invoked by uid 500); 26 Jul 2004 09:32:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89332 invoked by uid 500); 26 Jul 2004 09:32:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89294 invoked by uid 99); 26 Jul 2004 09:32:35 -0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=HTML_60_70,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [207.234.147.17] (HELO mail2.s2lmail.com) (207.234.147.17)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Mon, 26 Jul 2004 02:32:30 -0700
Received: (qmail 20164 invoked by uid 508); 26 Jul 2004 09:32:37 -0000
Received: from unknown (HELO infact12) (61.11.66.46)
  by mail2.s2lmail.com with SMTP; 26 Jul 2004 09:32:37 -0000
Message-ID: <003701c472f4$3d963f60$0448170a@infact12>
From: "lingaraju" <lingaraju.shambulingaiah@infactindia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	"Lucene Developers List" <lucene-dev@jakarta.apache.org>
Subject: updating the index created for database search
Date: Mon, 26 Jul 2004 15:07:55 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0034_01C47322.545D00C0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0034_01C47322.545D00C0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Dear  All

I need  help  to  update the index created for the database search

I created the index with  three field  mapping to the three column of =
database(oid(primarykey),title, contents)
Then I created the document for each row and added to the writer     =20

    doc.add(Field.Keyword("OID",oid+""));
    doc.add(Field.Text("title",title));
    doc.add(Field.Text("contents",contents));
    writer.addDocument(doc);

Here search is only on  title and the contents and oid is the key to =
retrieve the details from the database.

Later if the "contents" column in the database is  updated. We have to =
updated the content in the index also

If I use the writer with false

IndexWriter writer =3D new IndexWriter("C\index", new =
StandardAnalyzer(),false);

then all the record are inserted in to index without deleting the old =
index causing duplication=20


If I use the writer with true

IndexWriter writer =3D new IndexWriter("C\index", new =
StandardAnalyzer(),false);

then record are inserted in to index deleting all the old index.

My question is=20
1) How to update the existing index=20
2) When I fetch the rows from the database in order to update or insert =
in index how to know which record is modified in database and which =
record is not present is index

Thanks is advance
Raju

------=_NextPart_000_0034_01C47322.545D00C0--


From lucene-user-return-9472-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 26 10:06:08 2004
Return-Path: <lucene-user-return-9472-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35216 invoked from network); 26 Jul 2004 10:06:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jul 2004 10:06:08 -0000
Received: (qmail 26105 invoked by uid 500); 26 Jul 2004 10:06:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26085 invoked by uid 500); 26 Jul 2004 10:05:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26072 invoked by uid 99); 26 Jul 2004 10:05:58 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received: from [212.227.126.187] (HELO moutng.kundenserver.de) (212.227.126.187)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 26 Jul 2004 03:05:54 -0700
Received: from [212.227.126.208] (helo=mrelayng.kundenserver.de)
	by moutng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1Bp2Me-0006cK-00
	for lucene-user@jakarta.apache.org; Mon, 26 Jul 2004 12:05:48 +0200
Received: from [82.135.6.131] (helo=192.168.10.101)
	by mrelayng.kundenserver.de with asmtp (TLSv1:RC4-MD5:128)
	(Exim 3.35 #1)
	id 1Bp2Me-00085E-00
	for lucene-user@jakarta.apache.org; Mon, 26 Jul 2004 12:05:48 +0200
From: Daniel Naber <daniel.naber@intrafind.de>
Organization: intrafind
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: updating the index created for database search
Date: Mon, 26 Jul 2004 12:05:47 +0200
User-Agent: KMail/1.5.1
References: <003701c472f4$3d963f60$0448170a@infact12>
In-Reply-To: <003701c472f4$3d963f60$0448170a@infact12>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200407261205.47494.daniel.naber@intrafind.de>
X-Provags-ID: kundenserver.de abuse@kundenserver.de auth:94b5a5949d2eb00693e70b0c89be5163
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday 26 July 2004 11:37, lingaraju wrote:

> 2) When I fetch the rows from the database in order to update or insert in
> index how to know which record is modified in database and which record is
> not present is index

Your database will need a "last modified" column. Then you can select those 
rows that have been modified since the last update and for each row check if 
it's in the Lucene index. If it is, delete it there and re-add the new 
version. If it's not, add it. To delete documents you will probably need to 
iterate over all your IDs in the Lucene index and check if they are still in 
the database. If that's too inefficient you could check if you can do it the 
way the file system indexer (IndexHTML in Lucene's demo) does it.

BTW, please don't cross-post to both lists.

Regards
 Daniel
 
-- 
Daniel Naber, IntraFind Software AG, Tel. 089-8906 9700


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9473-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 26 11:18:28 2004
Return-Path: <lucene-user-return-9473-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82471 invoked from network); 26 Jul 2004 11:18:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jul 2004 11:18:28 -0000
Received: (qmail 10764 invoked by uid 500); 26 Jul 2004 11:18:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10677 invoked by uid 500); 26 Jul 2004 11:18:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10614 invoked by uid 99); 26 Jul 2004 11:18:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_80_90,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [207.234.147.17] (HELO mail2.s2lmail.com) (207.234.147.17)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Mon, 26 Jul 2004 04:18:09 -0700
Received: (qmail 4701 invoked by uid 508); 26 Jul 2004 11:18:16 -0000
Received: from unknown (HELO infact12) (61.11.66.46)
  by mail2.s2lmail.com with SMTP; 26 Jul 2004 11:18:16 -0000
Message-ID: <005b01c47303$00988c30$0448170a@infact12>
From: "lingaraju" <lingaraju.shambulingaiah@infactindia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	"Lucene Developers List" <lucene-dev@jakarta.apache.org>
Subject: Logic of score method in hits class
Date: Mon, 26 Jul 2004 16:53:34 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0058_01C47331.16F679A0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0058_01C47331.16F679A0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Dear  All

How the score method works(logic) in Hits class
For 100% match also score is returning only 69%=20

Thanks and regards
Raju

------=_NextPart_000_0058_01C47331.16F679A0--


From lucene-user-return-9474-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 26 11:26:08 2004
Return-Path: <lucene-user-return-9474-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86163 invoked from network); 26 Jul 2004 11:26:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jul 2004 11:26:07 -0000
Received: (qmail 22064 invoked by uid 500); 26 Jul 2004 11:25:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21827 invoked by uid 500); 26 Jul 2004 11:25:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21803 invoked by uid 99); 26 Jul 2004 11:25:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [207.234.147.17] (HELO mail2.s2lmail.com) (207.234.147.17)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Mon, 26 Jul 2004 04:25:56 -0700
Received: (qmail 8196 invoked by uid 508); 26 Jul 2004 11:26:09 -0000
Received: from unknown (HELO infact12) (61.11.66.46)
  by mail2.s2lmail.com with SMTP; 26 Jul 2004 11:26:09 -0000
Message-ID: <006f01c47304$1a3c9d60$0448170a@infact12>
From: "lingaraju" <lingaraju.shambulingaiah@infactindia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <003701c472f4$3d963f60$0448170a@infact12> <200407261205.47494.daniel.naber@intrafind.de>
Subject: Re: updating the index created for database search
Date: Mon, 26 Jul 2004 17:01:28 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dear Daniel

Thanks a lot.
I do have the last-modified column in my database.
But how to know how many records are modified.
If it is new record  through which class we have to check that record is
present in the index
In the mean time I will look into IndexHTML in lucene demo

Regards
Raju

----- Original Message ----- 
From: "Daniel Naber" <daniel.naber@intrafind.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, July 26, 2004 3:35 PM
Subject: Re: updating the index created for database search


> On Monday 26 July 2004 11:37, lingaraju wrote:
>
> > 2) When I fetch the rows from the database in order to update or insert
in
> > index how to know which record is modified in database and which record
is
> > not present is index
>
> Your database will need a "last modified" column. Then you can select
those
> rows that have been modified since the last update and for each row check
if
> it's in the Lucene index. If it is, delete it there and re-add the new
> version. If it's not, add it. To delete documents you will probably need
to
> iterate over all your IDs in the Lucene index and check if they are still
in
> the database. If that's too inefficient you could check if you can do it
the
> way the file system indexer (IndexHTML in Lucene's demo) does it.
>
> BTW, please don't cross-post to both lists.
>
> Regards
>  Daniel
>
> -- 
> Daniel Naber, IntraFind Software AG, Tel. 089-8906 9700
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9475-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 26 11:51:54 2004
Return-Path: <lucene-user-return-9475-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96416 invoked from network); 26 Jul 2004 11:51:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jul 2004 11:51:53 -0000
Received: (qmail 54756 invoked by uid 500); 26 Jul 2004 11:51:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54673 invoked by uid 500); 26 Jul 2004 11:51:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54646 invoked by uid 99); 26 Jul 2004 11:51:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received: from [212.227.126.173] (HELO moutng.kundenserver.de) (212.227.126.173)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 26 Jul 2004 04:51:41 -0700
Received: from [212.227.126.207] (helo=mrelayng.kundenserver.de)
	by moutng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1Bp416-00024x-00
	for lucene-user@jakarta.apache.org; Mon, 26 Jul 2004 13:51:40 +0200
Received: from [82.135.6.131] (helo=192.168.10.101)
	by mrelayng.kundenserver.de with asmtp (TLSv1:RC4-MD5:128)
	(Exim 3.35 #1)
	id 1Bp415-0004iS-00
	for lucene-user@jakarta.apache.org; Mon, 26 Jul 2004 13:51:39 +0200
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: updating the index created for database search
Date: Mon, 26 Jul 2004 13:51:38 +0200
User-Agent: KMail/1.5.1
References: <003701c472f4$3d963f60$0448170a@infact12> <200407261205.47494.daniel.naber@intrafind.de> <006f01c47304$1a3c9d60$0448170a@infact12>
In-Reply-To: <006f01c47304$1a3c9d60$0448170a@infact12>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200407261351.38826.daniel.naber@t-online.de>
X-Provags-ID: kundenserver.de abuse@kundenserver.de auth:94b5a5949d2eb00693e70b0c89be5163
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday 26 July 2004 13:31, lingaraju wrote:

> If it is new record  through which class we have to check that record is
> present in the index

Just search for the id with a TermQuery. If you get a hit, the record is in 
the index already.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9476-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 26 12:12:24 2004
Return-Path: <lucene-user-return-9476-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5653 invoked from network); 26 Jul 2004 12:12:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jul 2004 12:12:24 -0000
Received: (qmail 95535 invoked by uid 500); 26 Jul 2004 12:12:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95411 invoked by uid 500); 26 Jul 2004 12:12:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95398 invoked by uid 99); 26 Jul 2004 12:12:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [207.234.147.17] (HELO mail2.s2lmail.com) (207.234.147.17)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Mon, 26 Jul 2004 05:12:15 -0700
Received: (qmail 2289 invoked by uid 508); 26 Jul 2004 12:12:27 -0000
Received: from unknown (HELO infact12) (61.11.66.46)
  by mail2.s2lmail.com with SMTP; 26 Jul 2004 12:12:27 -0000
Message-ID: <009001c4730a$92661f90$0448170a@infact12>
From: "lingaraju" <lingaraju.shambulingaiah@infactindia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <003701c472f4$3d963f60$0448170a@infact12> <200407261205.47494.daniel.naber@intrafind.de> <006f01c47304$1a3c9d60$0448170a@infact12> <200407261351.38826.daniel.naber@t-online.de>
Subject: Re: updating the index created for database search
Date: Mon, 26 Jul 2004 17:47:49 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dear Daniel

Thakns
Secod part is ok  What about the first part I mean "how to know how many
records are modified"

Regards
Raju

----- Original Message ----- 
From: "Daniel Naber" <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, July 26, 2004 5:21 PM
Subject: Re: updating the index created for database search


> On Monday 26 July 2004 13:31, lingaraju wrote:
>
> > If it is new record  through which class we have to check that record is
> > present in the index
>
> Just search for the id with a TermQuery. If you get a hit, the record is
in
> the index already.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9477-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 26 13:09:58 2004
Return-Path: <lucene-user-return-9477-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35168 invoked from network); 26 Jul 2004 13:09:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jul 2004 13:09:58 -0000
Received: (qmail 3780 invoked by uid 500); 26 Jul 2004 13:09:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3707 invoked by uid 500); 26 Jul 2004 13:09:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3615 invoked by uid 99); 26 Jul 2004 13:09:37 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [207.162.57.103] (HELO mere.cirano.qc.ca) (207.162.57.103)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 26 Jul 2004 06:09:34 -0700
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i6QD9QZH004697
	for <lucene-user@jakarta.apache.org>; Mon, 26 Jul 2004 09:09:26 -0400
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i6QD9QXg004693
	for <lucene-user@jakarta.apache.org>; Mon, 26 Jul 2004 09:09:26 -0400
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Mon, 26 Jul 2004 09:09:26 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: updating the index created for database search
In-Reply-To: <003701c472f4$3d963f60$0448170a@infact12>
Message-ID: <Pine.LNX.4.44.0407260903320.4647-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Firstly, please do not double-post, other comments inline:

On Mon, 26 Jul 2004, lingaraju wrote:

> Dear  All
> 
> I need  help  to  update the index created for the database search
> 
> I created the index with  three field  mapping to the three column of database(oid(primarykey),title, contents)
> Then I created the document for each row and added to the writer      
> 
>     doc.add(Field.Keyword("OID",oid+""));
>     doc.add(Field.Text("title",title));
>     doc.add(Field.Text("contents",contents));
>     writer.addDocument(doc);
> 
> Here search is only on  title and the contents and oid is the key to retrieve the details from the database.
> 
> Later if the "contents" column in the database is  updated. We have to updated the content in the index also
> 
> If I use the writer with false
> 
> IndexWriter writer = new IndexWriter("C\index", new StandardAnalyzer(),false);
> 
> then all the record are inserted in to index without deleting the old index causing duplication

It's a question of efficiency. The procedure for doing updates is 
described here:

http://wiki.apache.org/jakarta-lucene/UpdatingAnIndex

In a nutshell, it's up to you to decide when a record is modified and 
needs to be removed, then readded (there is no update)

> If I use the writer with true
> 
> IndexWriter writer = new IndexWriter("C\index", new StandardAnalyzer(),false);
> 
> then record are inserted in to index deleting all the old index.
> 
> My question is 
> 1) How to update the existing index 
> 2) When I fetch the rows from the database in order to update or insert in index how to know which record is modified in database and which record is not present is index
> 
> Thanks is advance
> Raju
> 

sv


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9478-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 26 13:56:48 2004
Return-Path: <lucene-user-return-9478-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79996 invoked from network); 26 Jul 2004 13:56:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jul 2004 13:56:47 -0000
Received: (qmail 10205 invoked by uid 500); 26 Jul 2004 13:56:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10176 invoked by uid 500); 26 Jul 2004 13:56:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10160 invoked by uid 99); 26 Jul 2004 13:56:37 -0000
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,FROM_ENDS_IN_NUMS
X-Spam-Check-By: apache.org
Received: from [218.102.48.219] (HELO wmail04dat.netvigator.com) (218.102.48.219)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 26 Jul 2004 06:56:35 -0700
Received: from homedesktop1 ([218.102.183.191])
          by wmail04dat.netvigator.com
          (InterMail vM.6.01.03.02 201-2131-111-104-20040324) with SMTP
          id <20040726135632.BPWH1005.wmail04dat.netvigator.com@homedesktop1>;
          Mon, 26 Jul 2004 21:56:32 +0800
Message-ID: <011001c47318$01a22770$6403a8c0@homedesktop1>
From: "Tea Yu" <teayu2002@netvigator.com>
To: <lucene-user@jakarta.apache.org>
Cc: <mflorence@airsmail.com>
Subject: RE: Anyone use MultiSearcher class 
Date: Mon, 26 Jul 2004 21:54:01 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="big5"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Mark,

I'm also planning a distributed index system.  After reading some code, I
think it's more efficient to get rid of Hits and work directly with TopDocs
returned by ParallelMultiSearcher.search(), I dun need the cache anyway as I
dun need stateful netvigation.

Another question is - does each Hits.doc(i) lead to an obj
serialization/traffic/deserialization?  Do we need a ValueListHolder to
optimize that?

I also wonder why many search() methods don't throw RemoteExceptions, any
idea?

Thanks
Tea

> Don, I think I finally understand your problem -- and mine -- with
> MultiSearcher. I had tested an implementation of my system using
> ParallelMultiSearcher to split a huge index over many computers.
> I was very impressed by the results on my test data, but alarmed
> after a trial with live data :)
>
> Consider MultiSearcher.search(Query Q). Suppose that Q aggregated
> over ALL the Searchables in the MultiSearcher would return 1000
> documents. But, the Hits object created by search() will only cache
> the first 100 documents. When Hits.doc(101) is called, Hits will
> cache 200 documents -- then 400, 800, 1600 and so on. How does Hits
> get these extra documents? By calling the MultiSearcher again.
>
> Now consider a MultiSearcher as described above with 2 Searchables.
> With respect to Q, Searchable S has 1000 documents, Searchable T
> has zero. So to fetch the 101st document, not only is S searched,
> but T is too, even though the result of Q applied to T is still zero
> and will always be zero. The same thing will happen when fetching
> the 201st, 401st and 801st document.
>
> This accounts for my slow performance, and I think yours too. That
> your observed degradation is a power of 2 is a clue.
>
> My performance is especially vulnerable because "slave" Searchables
> in the MultiSearcher are Remote -- accessed via RMI.
>
> I guess I have to code smarter around MultiSearcher. One problem
> you highlight is that Hits is final -- so it is not possible even to
> modify the "100/200/400" cache size logic.
>
> Any ideas from anyone would be much appreciated.
>
> Mark Florence
> CTO, AIRS
> 800-897-7714 x 1703
> [EMAIL PROTECTED]



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9479-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 26 15:04:23 2004
Return-Path: <lucene-user-return-9479-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23130 invoked from network); 26 Jul 2004 15:04:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jul 2004 15:04:22 -0000
Received: (qmail 56612 invoked by uid 500); 26 Jul 2004 15:04:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56564 invoked by uid 500); 26 Jul 2004 15:04:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56550 invoked by uid 99); 26 Jul 2004 15:04:14 -0000
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=FORGED_RCVD_HELO,HTML_20_30,HTML_FONT_BIG,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [66.207.192.3] (HELO mta1.beanfield.net) (66.207.192.3)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 26 Jul 2004 08:04:12 -0700
Received: from don.webimpact.com (66-207-218-34.beanfield.net [66.207.218.34] (may be forged))
	by mta1.beanfield.net (8.12.11/8.12.6) with ESMTP id i6QF3xEO075354;
	Mon, 26 Jul 2004 11:04:00 -0400 (EDT)
	(envelope-from donv@webimpact.com)
Message-Id: <6.1.1.1.0.20040726105814.01b99ec0@localhost>
X-Sender: donv@web-impact.com@localhost
X-Mailer: QUALCOMM Windows Eudora Version 6.1.1.1
Date: Mon, 26 Jul 2004 11:05:39 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
        "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Don Vaillancourt <donv@webimpact.com>
Subject: RE: Anyone use MultiSearcher class
In-Reply-To: <DIENLCKNNDCDMPIEODNMEEOPJGAA.mflorence@airsmail.com>
References: <6.1.1.1.0.20040712122830.01c67ec0@localhost>
 <DIENLCKNNDCDMPIEODNMEEOPJGAA.mflorence@airsmail.com>
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====================_237289156==.ALT"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=====================_237289156==.ALT
Content-Type: text/plain; charset="us-ascii"; format=flowed

Thanks for the info.

Maybe the best solution to this may be to perform multiple individual 
searches, create a container class and store all the hits sorted by 
relevance within that class and then cache/serialize this result for the 
current search for page by page manipulation.


At 09:46 AM 15/07/2004, Mark Florence wrote:
>Don, I think I finally understand your problem -- and mine -- with
>MultiSearcher. I had tested an implementation of my system using
>ParallelMultiSearcher to split a huge index over many computers.
>I was very impressed by the results on my test data, but alarmed
>after a trial with live data :)
>
>Consider MultiSearcher.search(Query Q). Suppose that Q aggregated
>over ALL the Searchables in the MultiSearcher would return 1000
>documents. But, the Hits object created by search() will only cache
>the first 100 documents. When Hits.doc(101) is called, Hits will
>cache 200 documents -- then 400, 800, 1600 and so on. How does Hits
>get these extra documents? By calling the MultiSearcher again.
>
>Now consider a MultiSearcher as described above with 2 Searchables.
>With respect to Q, Searchable S has 1000 documents, Searchable T
>has zero. So to fetch the 101st document, not only is S searched,
>but T is too, even though the result of Q applied to T is still zero
>and will always be zero. The same thing will happen when fetching
>the 201st, 401st and 801st document.
>
>This accounts for my slow performance, and I think yours too. That
>your observed degradation is a power of 2 is a clue.
>
>My performance is especially vulnerable because "slave" Searchables
>in the MultiSearcher are Remote -- accessed via RMI.
>
>I guess I have to code smarter around MultiSearcher. One problem
>you highlight is that Hits is final -- so it is not possible even to
>modify the "100/200/400" cache size logic.
>
>Any ideas from anyone would be much appreciated.
>
>Mark Florence
>CTO, AIRS
>800-897-7714 x 1703
>mflorence@airsmail.com
>
>
>
>
>-----Original Message-----
>From: Don Vaillancourt [mailto:donv@webimpact.com]
>Sent: Monday, July 12, 2004 12:36 pm
>To: Lucene Users List
>Subject: Anyone use MultiSearcher class
>
>
>Hello,
>
>Has anyone used the Multisearcher class?
>
>I have noticed that searching two indexes using this MultiSearcher class
>takes 8 times longer than searching only one index.  I could understand if
>it took 3 to 4 times longer to search due to sorting the two search results
>and stuff, but why 8 times longer.
>
>Is there some optimization that can be done to hasten the search?  Or
>should I just write my own MultiSearcher.  The problem though is that there
>is no way for me to create my own Hits object (no methods are available and
>the class is final).
>
>Anyone have any clue?
>
>Thanks
>
>
>Don Vaillancourt
>Director of Software Development
>
>WEB IMPACT INC.
>416-815-2000 ext. 245
>email: donv@web-impact.com
>web: http://www.web-impact.com
>
>
>
>
>This email message is intended only for the addressee(s)
>and contains information that may be confidential and/or
>copyright.  If you are not the intended recipient please
>notify the sender by reply email and immediately delete
>this email. Use, disclosure or reproduction of this email
>by anyone other than the intended recipient(s) is strictly
>prohibited. No representation is made that this email or
>any attachments are free of viruses. Virus scanning is
>recommended and is the responsibility of the recipient.
>
>
>
>
>
>
>
>
>
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org

Don Vaillancourt
Director of Software Development

WEB IMPACT INC.
416-815-2000 ext. 245
email: donv@web-impact.com
web: http://www.web-impact.com




This email message is intended only for the addressee(s)
and contains information that may be confidential and/or
copyright.  If you are not the intended recipient please
notify the sender by reply email and immediately delete
this email. Use, disclosure or reproduction of this email
by anyone other than the intended recipient(s) is strictly
prohibited. No representation is made that this email or
any attachments are free of viruses. Virus scanning is
recommended and is the responsibility of the recipient.












--=====================_237289156==.ALT--


From lucene-user-return-9480-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 26 15:18:02 2004
Return-Path: <lucene-user-return-9480-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31203 invoked from network); 26 Jul 2004 15:18:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jul 2004 15:18:01 -0000
Received: (qmail 95366 invoked by uid 500); 26 Jul 2004 15:17:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95170 invoked by uid 500); 26 Jul 2004 15:17:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95153 invoked by uid 99); 26 Jul 2004 15:17:53 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [217.195.2.162] (HELO mail.byteaction.de) (217.195.2.162)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Mon, 26 Jul 2004 08:17:50 -0700
Received: (qmail 18158 invoked by uid 1096); 26 Jul 2004 15:17:17 -0000
Received: from as@byteaction.de by maximus by uid 1003 with qmail-scanner-1.22 
 (dspam: 3.0.0. dspam: 3.0.0. dspam: 3.0.0. dspam: 3.0.0. dspam: 3.0.0. altermime: v0.3.4. clamdscan: 0.68. clamdscan_remove: 0.68. f-prot: 3.12/. f-prot_remove: 3.12/. spamassassin: 2.63.  Clear:RC:1(192.168.100.58):. 
 Processed in 0.210244 secs); 26 Jul 2004 15:17:17 -0000
Received: from unknown (HELO ?192.168.100.58?) (192.168.100.58)
  by mail.byteaction.de with SMTP; 26 Jul 2004 15:17:15 -0000
Subject: Matching
From: Akmal Sarhan <as@byteaction.de>
To: lucene-user@jakarta.apache.org
Content-Type: text/plain
Organization: ByteAction GmbH
Message-Id: <1090855036.2590.15.camel@dell-inspiron>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 
Date: Mon, 26 Jul 2004 17:17:16 +0200
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hallo,

I have documents that only have numeric values (and dates) and I want to
be able to do the following:

given e.g that the document represents a  Person
the fields are age,nr_of_children,last_login_date

I want to boost those with the oldest age to have a better score for
example but in conjunction with other criteria (therefore the new Sort
will not help I guess)

I can not set the boost at indexing time because I might want the ones
with less children for example to have a better score at searching time

what should be done to achieve this kind of search

thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9481-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 26 15:32:20 2004
Return-Path: <lucene-user-return-9481-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40220 invoked from network); 26 Jul 2004 15:32:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jul 2004 15:32:20 -0000
Received: (qmail 23984 invoked by uid 500); 26 Jul 2004 15:32:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23950 invoked by uid 500); 26 Jul 2004 15:32:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23934 invoked by uid 99); 26 Jul 2004 15:32:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [212.135.149.8] (HELO gateway.klearsystems.com) (212.135.149.8)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 26 Jul 2004 08:32:05 -0700
Received: from [192.168.7.24] ([192.168.7.24])
	(authenticated bits=0)
	by gateway.klearsystems.com (8.12.9/8.12.9) with ESMTP id i6QFagnh030019
	for <lucene-user@jakarta.apache.org>; Mon, 26 Jul 2004 16:36:42 +0100 (BST)
Subject: Boosting documents
From: Rob Clews <robc@klearsystems.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1090855036.2590.15.camel@dell-inspiron>
References: <1090855036.2590.15.camel@dell-inspiron>
Content-Type: text/plain
Organization: Klear Systems Ltd
Date: Mon, 26 Jul 2004 16:31:44 +0100
Message-Id: <1090855904.9386.15.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 1.5.90 (1.5.90-5) 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I want to do the same, set a boost for a field containing a date that
lowers as the date is further from now, is there any way I could do
this?

Also when I set a document boost at index time, with doc.setBoost(2);
then retrieve it via doc.getBoost() I always seem to get 1.0, even
though I can tell from a search that the boost works correctly. I
realise the docs say that the returned value may not be the same as the
indexed value, but should I always get 1? Essentially I'm trying to
allow an administrator to set the boost on the document through my
webapp.

Thanks

On Mon, 2004-07-26 at 17:17 +0200, Akmal Sarhan wrote:
> I want to boost those with the oldest age to have a better score for
> example but in conjunction with other criteria (therefore the new Sort
> will not help I guess)

-- 
Rob Clews
Klear Systems Ltd
t: +44 (0)121 707 8558 e: robc@klearsystems.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9482-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 26 15:32:46 2004
Return-Path: <lucene-user-return-9482-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40477 invoked from network); 26 Jul 2004 15:32:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jul 2004 15:32:45 -0000
Received: (qmail 25284 invoked by uid 500); 26 Jul 2004 15:32:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25244 invoked by uid 500); 26 Jul 2004 15:32:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25228 invoked by uid 99); 26 Jul 2004 15:32:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [213.56.31.20] (HELO smtp4.clb.oleane.net) (213.56.31.20)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 26 Jul 2004 08:32:31 -0700
Received: from smtp4.clb.oleane.net (localhost [127.0.0.1]) 
	by smtp4.clb.oleane.net (antivirus) with ESMTP id i6QFWMnk011706
	for <lucene-user@jakarta.apache.org>; Mon, 26 Jul 2004 17:32:22 +0200
Received: from [172.16.0.123] ([217.167.130.37]) (authenticated)
	by smtp4.clb.oleane.net with ESMTP id i6QFWMTi011689
	for <lucene-user@jakarta.apache.org>; Mon, 26 Jul 2004 17:32:22 +0200
Message-ID: <41052485.3050606@lingway.com>
Date: Mon, 26 Jul 2004 17:34:29 +0200
From: Vincent Le Maout <vincent.lemaout@lingway.com>
Reply-To: vincent.lemaout@lingway.com
Organization: Lingway
User-Agent: Mozilla Thunderbird 0.7.1 (Windows/20040626)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: over 300 GB to index: feasability and performance issue
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi everyone,

I have to index a huge, huge amount of data: about 10 million documents
making up about 300 GB. Is there any technical limitation in Lucene that
could prevent me from processing such amount (I mean, of course, apart
from the external limits induce by the hardware: RAM, disks, the system,
whatever) ? If possible, does anyone have an idea of the amount of resource
needed: RAM, CPU time, size of indexes, access time on such a collection ?
if not, is it possible to extrapolate an estimation from previous 
benchmarks ?

Thanks in advance.
Regards.

Vincent Le Maout

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9483-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 26 15:40:07 2004
Return-Path: <lucene-user-return-9483-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44765 invoked from network); 26 Jul 2004 15:40:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jul 2004 15:40:07 -0000
Received: (qmail 42416 invoked by uid 500); 26 Jul 2004 15:39:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42321 invoked by uid 500); 26 Jul 2004 15:39:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42240 invoked by uid 99); 26 Jul 2004 15:39:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [64.30.32.11] (HELO smtp.airsmail.com) (64.30.32.11)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 26 Jul 2004 08:39:37 -0700
Received: from trinidad (dhcp5-004.airscorp.com [10.0.5.4])
	(authenticated)
	by smtp.airsmail.com (8.11.6/8.11.6) with ESMTP id i6QFdMI30887
	for <lucene-user@jakarta.apache.org>; Mon, 26 Jul 2004 11:39:22 -0400
From: "Mark Florence" <mflorence@airsmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Anyone use MultiSearcher class
Date: Mon, 26 Jul 2004 11:39:22 -0400
Message-ID: <DIENLCKNNDCDMPIEODNMAEGLJLAA.mflorence@airsmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
Importance: Normal
In-Reply-To: <6.1.1.1.0.20040726105814.01b99ec0@localhost>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Don, at the low level, the issue isn't necessarily caching results
from page-to-page (as viewed by some UI.) Such a cache would need to
be co-ordinated with index writes.

Rather, I plan to focus on the way Hits first reads 100 hits, then 200,
then 400 and so on -- but all Hits knows about is the MultiSearcher.
This means that in order to find the 101st hit, Hits effectively asks
ALL the searchers in the MultiSearcher to search again -- even though it
could be known that SOME of those searchers are incapable of returning
results.

-- Mark Florence

-----Original Message-----
From: Don Vaillancourt [mailto:donv@webimpact.com]
Sent: Monday, July 26, 2004 11:06 am
To: Lucene Users List; Lucene Users List
Subject: RE: Anyone use MultiSearcher class


Thanks for the info.

Maybe the best solution to this may be to perform multiple individual
searches, create a container class and store all the hits sorted by
relevance within that class and then cache/serialize this result for the
current search for page by page manipulation.


At 09:46 AM 15/07/2004, Mark Florence wrote:
>Don, I think I finally understand your problem -- and mine -- with
>MultiSearcher. I had tested an implementation of my system using
>ParallelMultiSearcher to split a huge index over many computers.
>I was very impressed by the results on my test data, but alarmed
>after a trial with live data :)
>
>Consider MultiSearcher.search(Query Q). Suppose that Q aggregated
>over ALL the Searchables in the MultiSearcher would return 1000
>documents. But, the Hits object created by search() will only cache
>the first 100 documents. When Hits.doc(101) is called, Hits will
>cache 200 documents -- then 400, 800, 1600 and so on. How does Hits
>get these extra documents? By calling the MultiSearcher again.
>
>Now consider a MultiSearcher as described above with 2 Searchables.
>With respect to Q, Searchable S has 1000 documents, Searchable T
>has zero. So to fetch the 101st document, not only is S searched,
>but T is too, even though the result of Q applied to T is still zero
>and will always be zero. The same thing will happen when fetching
>the 201st, 401st and 801st document.
>
>This accounts for my slow performance, and I think yours too. That
>your observed degradation is a power of 2 is a clue.
>
>My performance is especially vulnerable because "slave" Searchables
>in the MultiSearcher are Remote -- accessed via RMI.
>
>I guess I have to code smarter around MultiSearcher. One problem
>you highlight is that Hits is final -- so it is not possible even to
>modify the "100/200/400" cache size logic.
>
>Any ideas from anyone would be much appreciated.
>
>Mark Florence
>CTO, AIRS
>800-897-7714 x 1703
>mflorence@airsmail.com
>
>
>
>
>-----Original Message-----
>From: Don Vaillancourt [mailto:donv@webimpact.com]
>Sent: Monday, July 12, 2004 12:36 pm
>To: Lucene Users List
>Subject: Anyone use MultiSearcher class
>
>
>Hello,
>
>Has anyone used the Multisearcher class?
>
>I have noticed that searching two indexes using this MultiSearcher class
>takes 8 times longer than searching only one index.  I could understand if
>it took 3 to 4 times longer to search due to sorting the two search results
>and stuff, but why 8 times longer.
>
>Is there some optimization that can be done to hasten the search?  Or
>should I just write my own MultiSearcher.  The problem though is that there
>is no way for me to create my own Hits object (no methods are available and
>the class is final).
>
>Anyone have any clue?
>
>Thanks
>
>
>Don Vaillancourt
>Director of Software Development
>
>WEB IMPACT INC.
>416-815-2000 ext. 245
>email: donv@web-impact.com
>web: http://www.web-impact.com
>
>
>
>
>This email message is intended only for the addressee(s)
>and contains information that may be confidential and/or
>copyright.  If you are not the intended recipient please
>notify the sender by reply email and immediately delete
>this email. Use, disclosure or reproduction of this email
>by anyone other than the intended recipient(s) is strictly
>prohibited. No representation is made that this email or
>any attachments are free of viruses. Virus scanning is
>recommended and is the responsibility of the recipient.
>
>
>
>
>
>
>
>
>
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org

Don Vaillancourt
Director of Software Development

WEB IMPACT INC.
416-815-2000 ext. 245
email: donv@web-impact.com
web: http://www.web-impact.com




This email message is intended only for the addressee(s)
and contains information that may be confidential and/or
copyright.  If you are not the intended recipient please
notify the sender by reply email and immediately delete
this email. Use, disclosure or reproduction of this email
by anyone other than the intended recipient(s) is strictly
prohibited. No representation is made that this email or
any attachments are free of viruses. Virus scanning is
recommended and is the responsibility of the recipient.













---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9484-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 26 16:12:59 2004
Return-Path: <lucene-user-return-9484-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63642 invoked from network); 26 Jul 2004 16:12:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jul 2004 16:12:59 -0000
Received: (qmail 17658 invoked by uid 500); 26 Jul 2004 16:12:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17491 invoked by uid 500); 26 Jul 2004 16:12:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17477 invoked by uid 99); 26 Jul 2004 16:12:49 -0000
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=FORGED_RCVD_HELO,HTML_20_30,HTML_FONT_BIG,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [66.207.192.6] (HELO mta0.beanfield.net) (66.207.192.6)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 26 Jul 2004 09:12:46 -0700
Received: from don.webimpact.com (66-207-218-34.beanfield.net [66.207.218.34] (may be forged))
	by mta0.beanfield.net (8.12.11/8.12.6) with ESMTP id i6QGCPi6078989
	for <lucene-user@jakarta.apache.org>; Mon, 26 Jul 2004 12:12:26 -0400 (EDT)
	(envelope-from donv@webimpact.com)
Message-Id: <6.1.1.1.0.20040726121256.01b07ec0@localhost>
X-Sender: donv@web-impact.com@localhost
X-Mailer: QUALCOMM Windows Eudora Version 6.1.1.1
Date: Mon, 26 Jul 2004 12:14:07 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Don Vaillancourt <donv@webimpact.com>
Subject: RE: Anyone use MultiSearcher class
In-Reply-To: <DIENLCKNNDCDMPIEODNMAEGLJLAA.mflorence@airsmail.com>
References: <6.1.1.1.0.20040726105814.01b99ec0@localhost>
 <DIENLCKNNDCDMPIEODNMAEGLJLAA.mflorence@airsmail.com>
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====================_1595046==.ALT"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=====================_1595046==.ALT
Content-Type: text/plain; charset="us-ascii"; format=flowed

Eh Mark,

Are you involved with Lucene development?


At 11:39 AM 26/07/2004, you wrote:
>Don, at the low level, the issue isn't necessarily caching results
>from page-to-page (as viewed by some UI.) Such a cache would need to
>be co-ordinated with index writes.
>
>Rather, I plan to focus on the way Hits first reads 100 hits, then 200,
>then 400 and so on -- but all Hits knows about is the MultiSearcher.
>This means that in order to find the 101st hit, Hits effectively asks
>ALL the searchers in the MultiSearcher to search again -- even though it
>could be known that SOME of those searchers are incapable of returning
>results.
>
>-- Mark Florence
>
>-----Original Message-----
>From: Don Vaillancourt [mailto:donv@webimpact.com]
>Sent: Monday, July 26, 2004 11:06 am
>To: Lucene Users List; Lucene Users List
>Subject: RE: Anyone use MultiSearcher class
>
>
>Thanks for the info.
>
>Maybe the best solution to this may be to perform multiple individual
>searches, create a container class and store all the hits sorted by
>relevance within that class and then cache/serialize this result for the
>current search for page by page manipulation.
>
>
>At 09:46 AM 15/07/2004, Mark Florence wrote:
> >Don, I think I finally understand your problem -- and mine -- with
> >MultiSearcher. I had tested an implementation of my system using
> >ParallelMultiSearcher to split a huge index over many computers.
> >I was very impressed by the results on my test data, but alarmed
> >after a trial with live data :)
> >
> >Consider MultiSearcher.search(Query Q). Suppose that Q aggregated
> >over ALL the Searchables in the MultiSearcher would return 1000
> >documents. But, the Hits object created by search() will only cache
> >the first 100 documents. When Hits.doc(101) is called, Hits will
> >cache 200 documents -- then 400, 800, 1600 and so on. How does Hits
> >get these extra documents? By calling the MultiSearcher again.
> >
> >Now consider a MultiSearcher as described above with 2 Searchables.
> >With respect to Q, Searchable S has 1000 documents, Searchable T
> >has zero. So to fetch the 101st document, not only is S searched,
> >but T is too, even though the result of Q applied to T is still zero
> >and will always be zero. The same thing will happen when fetching
> >the 201st, 401st and 801st document.
> >
> >This accounts for my slow performance, and I think yours too. That
> >your observed degradation is a power of 2 is a clue.
> >
> >My performance is especially vulnerable because "slave" Searchables
> >in the MultiSearcher are Remote -- accessed via RMI.
> >
> >I guess I have to code smarter around MultiSearcher. One problem
> >you highlight is that Hits is final -- so it is not possible even to
> >modify the "100/200/400" cache size logic.
> >
> >Any ideas from anyone would be much appreciated.
> >
> >Mark Florence
> >CTO, AIRS
> >800-897-7714 x 1703
> >mflorence@airsmail.com
> >
> >
> >
> >
> >-----Original Message-----
> >From: Don Vaillancourt [mailto:donv@webimpact.com]
> >Sent: Monday, July 12, 2004 12:36 pm
> >To: Lucene Users List
> >Subject: Anyone use MultiSearcher class
> >
> >
> >Hello,
> >
> >Has anyone used the Multisearcher class?
> >
> >I have noticed that searching two indexes using this MultiSearcher class
> >takes 8 times longer than searching only one index.  I could understand if
> >it took 3 to 4 times longer to search due to sorting the two search results
> >and stuff, but why 8 times longer.
> >
> >Is there some optimization that can be done to hasten the search?  Or
> >should I just write my own MultiSearcher.  The problem though is that there
> >is no way for me to create my own Hits object (no methods are available and
> >the class is final).
> >
> >Anyone have any clue?
> >
> >Thanks
> >
> >
> >Don Vaillancourt
> >Director of Software Development
> >
> >WEB IMPACT INC.
> >416-815-2000 ext. 245
> >email: donv@web-impact.com
> >web: http://www.web-impact.com
> >
> >
> >
> >
> >This email message is intended only for the addressee(s)
> >and contains information that may be confidential and/or
> >copyright.  If you are not the intended recipient please
> >notify the sender by reply email and immediately delete
> >this email. Use, disclosure or reproduction of this email
> >by anyone other than the intended recipient(s) is strictly
> >prohibited. No representation is made that this email or
> >any attachments are free of viruses. Virus scanning is
> >recommended and is the responsibility of the recipient.
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>Don Vaillancourt
>Director of Software Development
>
>WEB IMPACT INC.
>416-815-2000 ext. 245
>email: donv@web-impact.com
>web: http://www.web-impact.com
>
>
>
>
>This email message is intended only for the addressee(s)
>and contains information that may be confidential and/or
>copyright.  If you are not the intended recipient please
>notify the sender by reply email and immediately delete
>this email. Use, disclosure or reproduction of this email
>by anyone other than the intended recipient(s) is strictly
>prohibited. No representation is made that this email or
>any attachments are free of viruses. Virus scanning is
>recommended and is the responsibility of the recipient.
>
>
>
>
>
>
>
>
>
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org

Don Vaillancourt
Director of Software Development

WEB IMPACT INC.
416-815-2000 ext. 245
email: donv@web-impact.com
web: http://www.web-impact.com




This email message is intended only for the addressee(s)
and contains information that may be confidential and/or
copyright.  If you are not the intended recipient please
notify the sender by reply email and immediately delete
this email. Use, disclosure or reproduction of this email
by anyone other than the intended recipient(s) is strictly
prohibited. No representation is made that this email or
any attachments are free of viruses. Virus scanning is
recommended and is the responsibility of the recipient.












--=====================_1595046==.ALT--


From lucene-user-return-9485-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 26 17:23:31 2004
Return-Path: <lucene-user-return-9485-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7870 invoked from network); 26 Jul 2004 17:23:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jul 2004 17:23:31 -0000
Received: (qmail 35641 invoked by uid 500); 26 Jul 2004 17:23:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35609 invoked by uid 500); 26 Jul 2004 17:23:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35596 invoked by uid 99); 26 Jul 2004 17:23:23 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [64.30.32.11] (HELO smtp.airsmail.com) (64.30.32.11)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 26 Jul 2004 10:23:19 -0700
Received: from trinidad (dhcp5-004.airscorp.com [10.0.5.4])
	(authenticated)
	by smtp.airsmail.com (8.11.6/8.11.6) with ESMTP id i6QHN0I02548
	for <lucene-user@jakarta.apache.org>; Mon, 26 Jul 2004 13:23:00 -0400
From: "Mark Florence" <mflorence@airsmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Anyone use MultiSearcher class
Date: Mon, 26 Jul 2004 13:23:00 -0400
Message-ID: <DIENLCKNNDCDMPIEODNMEEHBJLAA.mflorence@airsmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
Importance: Normal
In-Reply-To: <6.1.1.1.0.20040726121256.01b07ec0@localhost>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

'Fraid not! Just a humble user :)

-- Mark

-----Original Message-----
From: Don Vaillancourt [mailto:donv@webimpact.com]
Sent: Monday, July 26, 2004 12:14 pm
To: Lucene Users List
Subject: RE: Anyone use MultiSearcher class


Eh Mark,

Are you involved with Lucene development?


At 11:39 AM 26/07/2004, you wrote:
>Don, at the low level, the issue isn't necessarily caching results
>from page-to-page (as viewed by some UI.) Such a cache would need to
>be co-ordinated with index writes.
>
>Rather, I plan to focus on the way Hits first reads 100 hits, then 200,
>then 400 and so on -- but all Hits knows about is the MultiSearcher.
>This means that in order to find the 101st hit, Hits effectively asks
>ALL the searchers in the MultiSearcher to search again -- even though it
>could be known that SOME of those searchers are incapable of returning
>results.
>
>-- Mark Florence
>
>-----Original Message-----
>From: Don Vaillancourt [mailto:donv@webimpact.com]
>Sent: Monday, July 26, 2004 11:06 am
>To: Lucene Users List; Lucene Users List
>Subject: RE: Anyone use MultiSearcher class
>
>
>Thanks for the info.
>
>Maybe the best solution to this may be to perform multiple individual
>searches, create a container class and store all the hits sorted by
>relevance within that class and then cache/serialize this result for the
>current search for page by page manipulation.
>
>
>At 09:46 AM 15/07/2004, Mark Florence wrote:
> >Don, I think I finally understand your problem -- and mine -- with
> >MultiSearcher. I had tested an implementation of my system using
> >ParallelMultiSearcher to split a huge index over many computers.
> >I was very impressed by the results on my test data, but alarmed
> >after a trial with live data :)
> >
> >Consider MultiSearcher.search(Query Q). Suppose that Q aggregated
> >over ALL the Searchables in the MultiSearcher would return 1000
> >documents. But, the Hits object created by search() will only cache
> >the first 100 documents. When Hits.doc(101) is called, Hits will
> >cache 200 documents -- then 400, 800, 1600 and so on. How does Hits
> >get these extra documents? By calling the MultiSearcher again.
> >
> >Now consider a MultiSearcher as described above with 2 Searchables.
> >With respect to Q, Searchable S has 1000 documents, Searchable T
> >has zero. So to fetch the 101st document, not only is S searched,
> >but T is too, even though the result of Q applied to T is still zero
> >and will always be zero. The same thing will happen when fetching
> >the 201st, 401st and 801st document.
> >
> >This accounts for my slow performance, and I think yours too. That
> >your observed degradation is a power of 2 is a clue.
> >
> >My performance is especially vulnerable because "slave" Searchables
> >in the MultiSearcher are Remote -- accessed via RMI.
> >
> >I guess I have to code smarter around MultiSearcher. One problem
> >you highlight is that Hits is final -- so it is not possible even to
> >modify the "100/200/400" cache size logic.
> >
> >Any ideas from anyone would be much appreciated.
> >
> >Mark Florence
> >CTO, AIRS
> >800-897-7714 x 1703
> >mflorence@airsmail.com
> >
> >
> >
> >
> >-----Original Message-----
> >From: Don Vaillancourt [mailto:donv@webimpact.com]
> >Sent: Monday, July 12, 2004 12:36 pm
> >To: Lucene Users List
> >Subject: Anyone use MultiSearcher class
> >
> >
> >Hello,
> >
> >Has anyone used the Multisearcher class?
> >
> >I have noticed that searching two indexes using this MultiSearcher class
> >takes 8 times longer than searching only one index.  I could understand
if
> >it took 3 to 4 times longer to search due to sorting the two search
results
> >and stuff, but why 8 times longer.
> >
> >Is there some optimization that can be done to hasten the search?  Or
> >should I just write my own MultiSearcher.  The problem though is that
there
> >is no way for me to create my own Hits object (no methods are available
and
> >the class is final).
> >
> >Anyone have any clue?
> >
> >Thanks
> >
> >
> >Don Vaillancourt
> >Director of Software Development
> >
> >WEB IMPACT INC.
> >416-815-2000 ext. 245
> >email: donv@web-impact.com
> >web: http://www.web-impact.com
> >
> >
> >
> >
> >This email message is intended only for the addressee(s)
> >and contains information that may be confidential and/or
> >copyright.  If you are not the intended recipient please
> >notify the sender by reply email and immediately delete
> >this email. Use, disclosure or reproduction of this email
> >by anyone other than the intended recipient(s) is strictly
> >prohibited. No representation is made that this email or
> >any attachments are free of viruses. Virus scanning is
> >recommended and is the responsibility of the recipient.
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>Don Vaillancourt
>Director of Software Development
>
>WEB IMPACT INC.
>416-815-2000 ext. 245
>email: donv@web-impact.com
>web: http://www.web-impact.com
>
>
>
>
>This email message is intended only for the addressee(s)
>and contains information that may be confidential and/or
>copyright.  If you are not the intended recipient please
>notify the sender by reply email and immediately delete
>this email. Use, disclosure or reproduction of this email
>by anyone other than the intended recipient(s) is strictly
>prohibited. No representation is made that this email or
>any attachments are free of viruses. Virus scanning is
>recommended and is the responsibility of the recipient.
>
>
>
>
>
>
>
>
>
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org

Don Vaillancourt
Director of Software Development

WEB IMPACT INC.
416-815-2000 ext. 245
email: donv@web-impact.com
web: http://www.web-impact.com




This email message is intended only for the addressee(s)
and contains information that may be confidential and/or
copyright.  If you are not the intended recipient please
notify the sender by reply email and immediately delete
this email. Use, disclosure or reproduction of this email
by anyone other than the intended recipient(s) is strictly
prohibited. No representation is made that this email or
any attachments are free of viruses. Virus scanning is
recommended and is the responsibility of the recipient.













---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9486-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 26 18:08:28 2004
Return-Path: <lucene-user-return-9486-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39841 invoked from network); 26 Jul 2004 18:08:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jul 2004 18:08:27 -0000
Received: (qmail 18228 invoked by uid 500); 26 Jul 2004 18:08:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18064 invoked by uid 500); 26 Jul 2004 18:08:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17826 invoked by uid 99); 26 Jul 2004 18:08:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 26 Jul 2004 11:08:06 -0700
Received: (qmail 1185 invoked by uid 89); 26 Jul 2004 18:07:58 -0000
Received: from unknown (HELO ?192.168.168.81?) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 26 Jul 2004 18:07:58 -0000
Message-ID: <41054853.9080404@apache.org>
Date: Mon, 26 Jul 2004 11:07:15 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040619
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Logic of score method in hits class
References: <005b01c47303$00988c30$0448170a@infact12>
In-Reply-To: <005b01c47303$00988c30$0448170a@infact12>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Lucene scores are not percentages.  They really only make sense compared 
to other scores for the same query.  If you like percentages, you can 
divide all scores by the first score and multiply by 100.

Doug

lingaraju wrote:
> Dear  All
> 
> How the score method works(logic) in Hits class
> For 100% match also score is returning only 69% 
> 
> Thanks and regards
> Raju
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9487-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 26 18:15:11 2004
Return-Path: <lucene-user-return-9487-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45465 invoked from network); 26 Jul 2004 18:15:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jul 2004 18:15:11 -0000
Received: (qmail 32104 invoked by uid 500); 26 Jul 2004 18:15:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32029 invoked by uid 500); 26 Jul 2004 18:15:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31887 invoked by uid 99); 26 Jul 2004 18:15:01 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 26 Jul 2004 11:15:00 -0700
Received: (qmail 9622 invoked by uid 89); 26 Jul 2004 18:14:51 -0000
Received: from unknown (HELO ?192.168.168.81?) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 26 Jul 2004 18:14:51 -0000
Message-ID: <410549F1.6020402@apache.org>
Date: Mon, 26 Jul 2004 11:14:09 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040619
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Boosting documents
References: <1090855036.2590.15.camel@dell-inspiron> <1090855904.9386.15.camel@localhost>
In-Reply-To: <1090855904.9386.15.camel@localhost>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Rob Clews wrote:
> I want to do the same, set a boost for a field containing a date that
> lowers as the date is further from now, is there any way I could do
> this?

You could implement Similarity.idf(Term, Searcher) to, when 
Term.field().equals("date"), return a value that is greater for more 
recent dates.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9488-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 26 18:21:48 2004
Return-Path: <lucene-user-return-9488-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51613 invoked from network); 26 Jul 2004 18:21:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jul 2004 18:21:48 -0000
Received: (qmail 60546 invoked by uid 500); 26 Jul 2004 18:21:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60505 invoked by uid 500); 26 Jul 2004 18:21:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60483 invoked by uid 99); 26 Jul 2004 18:21:37 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 26 Jul 2004 11:21:37 -0700
Received: (qmail 17916 invoked by uid 89); 26 Jul 2004 18:21:31 -0000
Received: from unknown (HELO ?192.168.168.81?) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 26 Jul 2004 18:21:31 -0000
Message-ID: <41054B80.8030801@apache.org>
Date: Mon, 26 Jul 2004 11:20:48 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040619
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: over 300 GB to index: feasability and performance issue
References: <41052485.3050606@lingway.com>
In-Reply-To: <41052485.3050606@lingway.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Vincent Le Maout wrote:
> I have to index a huge, huge amount of data: about 10 million documents
> making up about 300 GB. Is there any technical limitation in Lucene that
> could prevent me from processing such amount (I mean, of course, apart
> from the external limits induce by the hardware: RAM, disks, the system,
> whatever) ?

Lucene is in theory able to support up to 2B documents in a single 
index.  Folks have sucessfully built indexes with several hundred 
million documents.  10 million should not be a problem.

> If possible, does anyone have an idea of the amount of resource
> needed: RAM, CPU time, size of indexes, access time on such a collection ?
> if not, is it possible to extrapolate an estimation from previous 
> benchmarks ?

For simple 2-3 term queries, with average sized documents (~10k of text) 
you should get decent performance (1 second / query) on a 10M document 
index.  An index typically requires around 35% of the plain text size.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9489-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 26 19:41:54 2004
Return-Path: <lucene-user-return-9489-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16453 invoked from network); 26 Jul 2004 19:41:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jul 2004 19:41:54 -0000
Received: (qmail 68100 invoked by uid 500); 26 Jul 2004 19:41:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67914 invoked by uid 500); 26 Jul 2004 19:41:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67886 invoked by uid 99); 26 Jul 2004 19:41:47 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=DNS_FROM_RFC_POST
X-Spam-Check-By: apache.org
Received: from [64.4.10.114] (HELO hotmail.com) (64.4.10.114)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 26 Jul 2004 12:41:42 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Mon, 26 Jul 2004 12:41:36 -0700
Received: from 203.149.1.103 by bay7-dav10.bay7.hotmail.com with DAV;
	Mon, 26 Jul 2004 19:41:36 +0000
X-Originating-IP: [203.149.1.103]
X-Originating-Email: [dev_johnpatterson@hotmail.com]
X-Sender: dev_johnpatterson@hotmail.com
Reply-To: "John Patterson" <dev_johnpatterson@hotmail.com>
From: "John Patterson" <dev_johnpatterson@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Caching of TermDocs
Date: Tue, 27 Jul 2004 02:41:21 +0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
Message-ID: <BAY7-DAV10PEvXbY5ko000679ba@hotmail.com>
X-OriginalArrivalTime: 26 Jul 2004 19:41:36.0835 (UTC) FILETIME=[9042C130:01C47348]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Is there any way to cache TermDocs?  Is this a good idea?

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9490-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 26 20:07:29 2004
Return-Path: <lucene-user-return-9490-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29309 invoked from network); 26 Jul 2004 20:07:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jul 2004 20:07:29 -0000
Received: (qmail 15826 invoked by uid 500); 26 Jul 2004 20:07:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15638 invoked by uid 500); 26 Jul 2004 20:07:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15618 invoked by uid 99); 26 Jul 2004 20:07:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received: from [194.109.24.29] (HELO smtp-vbr9.xs4all.nl) (194.109.24.29)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 26 Jul 2004 13:07:18 -0700
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr9.xs4all.nl (8.12.11/8.12.11) with ESMTP id i6QK72GW094630
	for <lucene-user@jakarta.apache.org>; Mon, 26 Jul 2004 22:07:02 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Caching of TermDocs
Date: Mon, 26 Jul 2004 22:07:02 +0200
User-Agent: KMail/1.5.4
References: <BAY7-DAV10PEvXbY5ko000679ba@hotmail.com>
In-Reply-To: <BAY7-DAV10PEvXbY5ko000679ba@hotmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200407262207.02365.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday 26 July 2004 21:41, John Patterson wrote:

> Is there any way to cache TermDocs?  Is this a good idea?

Lucene does this internally by buffering
up to 32 document numbers in advance for a query Term.
You can view the details here in case you're interested:
http://cvs.apache.org/viewcvs.cgi/jakarta-lucene/src/java/org/apache/lucene/search/TermScorer.java
It uses the TermDocs.read() method to fill a buffer of document numbers.

Is this what you had in mind?

Regards,
Paul


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9491-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 26 20:59:07 2004
Return-Path: <lucene-user-return-9491-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58682 invoked from network); 26 Jul 2004 20:59:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jul 2004 20:59:07 -0000
Received: (qmail 50144 invoked by uid 500); 26 Jul 2004 20:58:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50107 invoked by uid 500); 26 Jul 2004 20:58:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50068 invoked by uid 99); 26 Jul 2004 20:58:34 -0000
X-ASF-Spam-Status: No, hits=0.8 required=10.0
	tests=DNS_FROM_RFC_ABUSE,NO_REAL_NAME,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received: from [194.106.33.237] (HELO outmail.freedom2surf.net) (194.106.33.237)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 26 Jul 2004 13:58:32 -0700
Received: from dell (i-194-106-34-5.freedom2surf.net [194.106.34.5])
	by outmail.freedom2surf.net (8.12.10/8.12.10) with SMTP id i6QKwTnF014017
	for <lucene-user@jakarta.apache.org>; Mon, 26 Jul 2004 21:58:29 +0100
Date: Mon, 26 Jul 2004 21:58:29 +0100
Message-Id: <200407262058.i6QKwTnF014017@outmail.freedom2surf.net>
From: markharw00d@yahoo.co.uk
To: lucene-user@jakarta.apache.org
Subject: Highlighter package updated with overlapping token support
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have updated the Highlighter code in CVS to support tokenizers that generate overlapping tokens.

The Junit test rig has a new example test that uses a "SynonymTokenizer" which generates multiple tokens 
in the same position for the same input token eg (the token "football" is expanded into tokens "soccer","footie" and "football"). 
The Formatter interface had to be changed to take a new "TokenGroup" object instead of a single token but
I doubt any code changes in clients are required because most people use the default Formatter implementation and haven't
created their own  implementations.

Cheers
Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9492-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 26 22:14:49 2004
Return-Path: <lucene-user-return-9492-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96728 invoked from network); 26 Jul 2004 22:14:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jul 2004 22:14:48 -0000
Received: (qmail 79427 invoked by uid 500); 26 Jul 2004 22:14:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79370 invoked by uid 500); 26 Jul 2004 22:14:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79336 invoked by uid 99); 26 Jul 2004 22:14:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [194.159.73.193] (HELO post-23.mail.nl.demon.net) (194.159.73.193)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 26 Jul 2004 15:14:38 -0700
Received: from mda.demon.nl ([212.238.156.229]:54910 helo=[127.0.0.1])
	by post-23.mail.nl.demon.net with esmtp (Exim 4.34)
	id 1BpDjs-000MhZ-F1; Mon, 26 Jul 2004 22:14:32 +0000
Message-ID: <410582AF.9070309@zilverline.org>
Date: Tue, 27 Jul 2004 00:16:15 +0200
From: Zilverline info <info@zilverline.org>
User-Agent: Mozilla Thunderbird 0.7.1 (Windows/20040626)
X-Accept-Language: nl, en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Zilverline release candidate 1.0-rc4 available
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

All,

I've just released a new candidate (*1.0-rc4*) New features
include Spanish GUI, RTF support, searching on date range,
customizable boosting factors, and configurable analyzers per 
collection. Zilverline now generates a MD5 Hash per file,
and prevents duplicate files from being added more than once.

Zilverline supports plugins. You can create your own extractors
for various file formats. I've provided Extractors for RTF, Text, PDF, 
Word, and HTML.

Zilverline supports collections. A collection is a set of files and 
directories in a directory. A collection can be indexed, and searched. 
The results of the search can be retrieved from local disk or remotely, 
if you run a webserver on your machine. Files inside zip, rar and chm 
files are extracted, indexed and can be cached. The cache can be mapped 
to sit behind your webserver as well.

It's also possible to specify your own handlers for archives. Say you
have a RAR archive, and you have a program on your system that can
extract the content from it, then you can specify that Zilverline should
use this program.

Zilverline is an free search engine based on lucene that's ready to
roll, and can be simply dropped in a Servlet Engine. It runs out of the 
box, and supports PDF, WORD, HTM, TXT, and
CHM, and can  index zip, rar, and many other formats.
Both on Windows and Linux.


Please take look at http://www.zilverline.org, and have a swing at it.

cheers,

   Michael Franken



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9493-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jul 26 23:12:20 2004
Return-Path: <lucene-user-return-9493-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22586 invoked from network); 26 Jul 2004 23:12:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jul 2004 23:12:19 -0000
Received: (qmail 57671 invoked by uid 500); 26 Jul 2004 23:11:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57584 invoked by uid 500); 26 Jul 2004 23:11:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57410 invoked by uid 99); 26 Jul 2004 23:11:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [192.18.42.13] (HELO nwkea-mail-1.sun.com) (192.18.42.13)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 26 Jul 2004 16:11:44 -0700
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by nwkea-mail-1.sun.com (8.12.10/8.12.9) with ESMTP id i6QNBgJ6009791
	for <lucene-user@jakarta.apache.org>; Mon, 26 Jul 2004 16:11:42 -0700 (PDT)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0I1H00A01F2SSV@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Mon, 26 Jul 2004 16:11:42 -0700 (PDT)
Received: from [127.0.0.1] (d-sjc06-25-188.SFBay.Sun.COM [129.145.25.188])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0I1H00D0IF39H7@ha21sca-mail1.sfbay.sun.com> for
 lucene-user@jakarta.apache.org; Mon, 26 Jul 2004 16:11:42 -0700 (PDT)
Date: Mon, 26 Jul 2004 16:11:28 -0700
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Phrase Query
To: lucene-user@jakarta.apache.org
Message-id: <41058FA0.3010002@sun.com>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7)
 Gecko/20040616
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

Can someone on the mailing list send me a copy of sample code of how to 
implement the phrase query for my search. Regular Query is working fine, 
but the Phrase Query does not seem to work.

TIA,
-H


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9494-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 27 03:54:06 2004
Return-Path: <lucene-user-return-9494-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26460 invoked from network); 27 Jul 2004 03:54:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jul 2004 03:54:06 -0000
Received: (qmail 76954 invoked by uid 500); 27 Jul 2004 03:53:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76827 invoked by uid 500); 27 Jul 2004 03:53:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76811 invoked by uid 99); 27 Jul 2004 03:53:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.199.26.74] (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Mon, 26 Jul 2004 20:53:52 -0700
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I1HSQX00.TAY for <lucene-user@jakarta.apache.org>; Tue,
          27 Jul 2004 09:36:33 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Highlighter package updated with overlapping token support
Date: Tue, 27 Jul 2004 09:34:08 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKICEFACBAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <200407262058.i6QKwTnF014017@outmail.freedom2surf.net>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi
   Mark

 Apologies....


      Please   Casn u Provide the URL for the Users to Dwnload the new
version
     of Highlighter package ( jar / Zip  format) from u'r main website page.

     [ Because some of the developers may not have access to
     CVS downloading (Organization restrictions) from Lucene - sandbox ]



Thx in advance

with regards
Karthik

-----Original Message-----
From: markharw00d@yahoo.co.uk [mailto:markharw00d@yahoo.co.uk]
Sent: Tuesday, July 27, 2004 2:28 AM
To: lucene-user@jakarta.apache.org
Subject: Highlighter package updated with overlapping token support


I have updated the Highlighter code in CVS to support tokenizers that
generate overlapping tokens.

The Junit test rig has a new example test that uses a "SynonymTokenizer"
which generates multiple tokens
in the same position for the same input token eg (the token "football" is
expanded into tokens "soccer","footie" and "football").
The Formatter interface had to be changed to take a new "TokenGroup" object
instead of a single token but
I doubt any code changes in clients are required because most people use the
default Formatter implementation and haven't
created their own  implementations.

Cheers
Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9495-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 27 04:24:59 2004
Return-Path: <lucene-user-return-9495-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38563 invoked from network); 27 Jul 2004 04:24:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jul 2004 04:24:59 -0000
Received: (qmail 6919 invoked by uid 500); 27 Jul 2004 04:24:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6128 invoked by uid 500); 27 Jul 2004 04:24:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6112 invoked by uid 99); 27 Jul 2004 04:24:54 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [69.30.47.66] (HELO smtp.elevennetworks.com) (69.30.47.66)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 26 Jul 2004 21:24:53 -0700
Received: from [209.180.166.194] (helo=postfix.mail.ehatchersolutions.com)
	by smtp.elevennetworks.com with esmtp (Exim 4.24; FreeBSD)
	id 1BpJWD-000KPS-Qn
	for lucene-user@jakarta.apache.org; Mon, 26 Jul 2004 21:24:49 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id BD9EB841507
	for <lucene-user@jakarta.apache.org>; Mon, 26 Jul 2004 21:24:46 -0700 (MST)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <41058FA0.3010002@sun.com>
References: <41058FA0.3010002@sun.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <E31F5FBE-DF84-11D8-9D44-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Phrase Query
Date: Mon, 26 Jul 2004 21:24:44 -0700
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Let's turn it around.... could you send us your code that is not 
working?

Lucene's test cases show PhraseQuery in action, and working.

	Erik


On Jul 26, 2004, at 4:11 PM, Hetan Shah wrote:

> Hello,
>
> Can someone on the mailing list send me a copy of sample code of how 
> to implement the phrase query for my search. Regular Query is working 
> fine, but the Phrase Query does not seem to work.
>
> TIA,
> -H
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9496-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 27 06:26:39 2004
Return-Path: <lucene-user-return-9496-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82946 invoked from network); 27 Jul 2004 06:26:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jul 2004 06:26:38 -0000
Received: (qmail 19069 invoked by uid 500); 27 Jul 2004 06:26:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19031 invoked by uid 500); 27 Jul 2004 06:26:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19011 invoked by uid 99); 27 Jul 2004 06:26:17 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [207.234.147.17] (HELO mail2.s2lmail.com) (207.234.147.17)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Mon, 26 Jul 2004 23:26:13 -0700
Received: (qmail 11013 invoked by uid 508); 27 Jul 2004 06:26:20 -0000
Received: from unknown (HELO infact12) (61.11.66.46)
  by mail2.s2lmail.com with SMTP; 27 Jul 2004 06:26:20 -0000
Message-ID: <014501c473a3$6447b120$0448170a@infact12>
From: "lingaraju" <lingaraju.shambulingaiah@infactindia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Cc: <cutting@apache.org>
References: <005b01c47303$00988c30$0448170a@infact12> <41054853.9080404@apache.org>
Subject: Re: Logic of score method in hits class
Date: Tue, 27 Jul 2004 12:01:41 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I did in the same way what you mentioned i mean "divide all scores by the
first score and multiply by 100"

Still I am not geeting exactly what I wanted.
I am searching for two words "asia cup" in the search
First three hits contains both words what i am searching for  but i got
percentages 100,69 and 33 respectively.

I am using

 String fields[] = new String[2];
 fields[0] = "title";
 fields[1] = "contents";
 Query q = MultiFieldQueryParser.parse(line,fields,analyzer);

 Hits hits = searcher.search(q);
 float sc = hits.score(i);

Thanks in advance
Raju






----- Original Message ----- 
From: "Doug Cutting" <cutting@apache.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, July 26, 2004 11:37 PM
Subject: Re: Logic of score method in hits class


> Lucene scores are not percentages.  They really only make sense compared
> to other scores for the same query.  If you like percentages, you can
> divide all scores by the first score and multiply by 100.
>
> Doug
>
> lingaraju wrote:
> > Dear  All
> >
> > How the score method works(logic) in Hits class
> > For 100% match also score is returning only 69%
> >
> > Thanks and regards
> > Raju
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9497-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 27 10:41:36 2004
Return-Path: <lucene-user-return-9497-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24388 invoked from network); 27 Jul 2004 10:41:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jul 2004 10:41:36 -0000
Received: (qmail 18021 invoked by uid 500); 27 Jul 2004 10:41:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17984 invoked by uid 500); 27 Jul 2004 10:41:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17969 invoked by uid 99); 27 Jul 2004 10:41:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_80_90,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [207.234.147.17] (HELO mail2.s2lmail.com) (207.234.147.17)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 27 Jul 2004 03:41:26 -0700
Received: (qmail 12200 invoked by uid 508); 27 Jul 2004 10:41:33 -0000
Received: from unknown (HELO infact12) (61.11.66.46)
  by mail2.s2lmail.com with SMTP; 27 Jul 2004 10:41:33 -0000
Message-ID: <006901c473c7$0a5d9d90$0448170a@infact12>
From: "lingaraju" <lingaraju.shambulingaiah@infactindia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Time of last insert
Date: Tue, 27 Jul 2004 16:16:52 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0066_01C473F5.20825290"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0066_01C473F5.20825290
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


Dear  All

How to know that, when(lastmodified time) last document is added to in =
index

Thanks and regards
Raju

------=_NextPart_000_0066_01C473F5.20825290--


From lucene-user-return-9498-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 27 11:20:32 2004
Return-Path: <lucene-user-return-9498-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41247 invoked from network); 27 Jul 2004 11:20:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jul 2004 11:20:32 -0000
Received: (qmail 75458 invoked by uid 500); 27 Jul 2004 11:20:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75426 invoked by uid 500); 27 Jul 2004 11:20:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75411 invoked by uid 99); 27 Jul 2004 11:20:22 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [217.195.2.162] (HELO mail.byteaction.de) (217.195.2.162)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 27 Jul 2004 04:20:19 -0700
Received: (qmail 8594 invoked by uid 1096); 27 Jul 2004 11:20:11 -0000
Received: from as@byteaction.de by maximus by uid 1003 with qmail-scanner-1.22 
 (dspam: 3.0.0. dspam: 3.0.0. dspam: 3.0.0. dspam: 3.0.0. dspam: 3.0.0. altermime: v0.3.4. clamdscan: 0.68. clamdscan_remove: 0.68. f-prot: 3.12/. f-prot_remove: 3.12/. spamassassin: 2.63.  Clear:RC:1(192.168.100.58):. 
 Processed in 0.430446 secs); 27 Jul 2004 11:20:11 -0000
Received: from unknown (HELO ?192.168.100.58?) (192.168.100.58)
  by mail.byteaction.de with SMTP; 27 Jul 2004 11:20:08 -0000
Subject: Re: Boosting documents
From: Akmal Sarhan <as@byteaction.de>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <410549F1.6020402@apache.org>
References: <1090855036.2590.15.camel@dell-inspiron>
	 <1090855904.9386.15.camel@localhost>  <410549F1.6020402@apache.org>
Content-Type: text/plain
Organization: ByteAction GmbH
Message-Id: <1090927209.11215.5.camel@dell-inspiron>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 
Date: Tue, 27 Jul 2004 13:20:09 +0200
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hallo,

I have followed your suggestion but I am not sure how it should be done
to achieve the following:
I want when I do the following search to have the score calculated so
that those with nr of kids higher get a better score and the less kids,
the less score , notice that I still want to get all documents

thanks for any input

import java.io.IOException;

import org.apache.lucene.analysis.SimpleAnalyzer;
import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.index.Term;
import org.apache.lucene.queryParser.ParseException;
import org.apache.lucene.queryParser.QueryParser;
import org.apache.lucene.search.DefaultSimilarity;
import org.apache.lucene.search.Hits;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.search.Query;
import org.apache.lucene.search.Searcher;
import org.apache.lucene.store.RAMDirectory;

public class TestMatching
{

    protected float f;

    public static void main(String[] args) throws IOException,
ParseException
    {

        RAMDirectory store = new RAMDirectory();
        IndexWriter writer = new IndexWriter(store, new
SimpleAnalyzer(), true);

        Field f1 = Field.Text("field", "word");
        Field kids1 = Field.Keyword("kids", "2");
        Field kids2 = Field.Keyword("kids", "3");
        Field kids3 = Field.Keyword("kids", "4");

        Document d1 = new Document();
        Document d2 = new Document();
        Document d3 = new Document();

        d1.add(f1);
        d2.add(f1);
        d3.add(f1);
        d1.add(kids1);
        d2.add(kids2);
        d3.add(kids3);

        d1.add(f1);
        writer.addDocument(d1);
        writer.addDocument(d2);
        writer.addDocument(d3);

        writer.optimize();
        writer.close();

        Searcher s = new IndexSearcher(store);

        s.setSimilarity(new DefaultSimilarity() {

            public float idf(Term term, Searcher searcher) throws
IOException
            {
                String string = term.text();
                String string2 = term.field();
                float f = 0.0f;
                if (term.field().equals("kids"))
                {
                    // and now ??
                } else
                {
                    f = idf(searcher.docFreq(term), searcher.maxDoc());
                }

                return f;
            }
        });
        Query query = QueryParser.parse("field:word kids:5", "field",
new StandardAnalyzer());
        Hits hits = s.search(query);

        for (int i = 0; i < hits.length(); ++i)
        {
            Document doc = hits.doc(i);
            System.out.println(i + " " + hits.score(i));

        }

    }
}

Am Mo, den 26.07.2004 schrieb Doug Cutting um 20:14:
> Rob Clews wrote:
> > I want to do the same, set a boost for a field containing a date that
> > lowers as the date is further from now, is there any way I could do
> > this?
> 
> You could implement Similarity.idf(Term, Searcher) to, when 
> Term.field().equals("date"), return a value that is greater for more 
> recent dates.
> 
> Doug
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> !EXCUBATOR:41054a2d101985076154790!
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9499-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 27 12:12:03 2004
Return-Path: <lucene-user-return-9499-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60453 invoked from network); 27 Jul 2004 12:12:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jul 2004 12:12:02 -0000
Received: (qmail 42711 invoked by uid 500); 27 Jul 2004 12:11:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42640 invoked by uid 500); 27 Jul 2004 12:11:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42579 invoked by uid 99); 27 Jul 2004 12:11:30 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=DNS_FROM_RFC_POST
X-Spam-Check-By: apache.org
Received: from [64.4.10.121] (HELO hotmail.com) (64.4.10.121)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 27 Jul 2004 05:11:25 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 27 Jul 2004 05:10:15 -0700
Received: from 202.57.131.189 by bay7-dav17.bay7.hotmail.com with DAV;
	Tue, 27 Jul 2004 12:10:15 +0000
X-Originating-IP: [202.57.131.189]
X-Originating-Email: [dev_johnpatterson@hotmail.com]
X-Sender: dev_johnpatterson@hotmail.com
Reply-To: "John Patterson" <dev_johnpatterson@hotmail.com>
From: "John Patterson" <dev_johnpatterson@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <BAY7-DAV10PEvXbY5ko000679ba@hotmail.com> <200407262207.02365.paul.elschot@xs4all.nl>
Subject: Re: Caching of TermDocs
Date: Tue, 27 Jul 2004 19:10:10 +0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
Message-ID: <BAY7-DAV1744qXvXtzK0006a6dc@hotmail.com>
X-OriginalArrivalTime: 27 Jul 2004 12:10:15.0424 (UTC) FILETIME=[ACE52000:01C473D2]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The caching by TermScorer of the next 32 Docs is a way to speed up the
serial (in order) reading of docs from the TermDocs object (probably coming
direct from disk).

I would like to hold a significant amount of the index in memory but use the
disk index as a spill over.  Obviously the best situation is to hold in
memory only the information that is likely to be used again soon.  It seems
that caching TermDocs would allow popular search terms to be searched more
efficiently while the less common terms would need to be read from disk.

Has anyone else done this?  Know of a better approach?

----- Original Message ----- 
From: "Paul Elschot" <paul.elschot@xs4all.nl>
To: <lucene-user@jakarta.apache.org>
Sent: Tuesday, July 27, 2004 3:07 AM
Subject: Re: Caching of TermDocs


> On Monday 26 July 2004 21:41, John Patterson wrote:
>
> > Is there any way to cache TermDocs?  Is this a good idea?
>
> Lucene does this internally by buffering
> up to 32 document numbers in advance for a query Term.
> You can view the details here in case you're interested:
>
http://cvs.apache.org/viewcvs.cgi/jakarta-lucene/src/java/org/apache/lucene/search/TermScorer.java
> It uses the TermDocs.read() method to fill a buffer of document numbers.
>
> Is this what you had in mind?
>
> Regards,
> Paul
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9500-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 27 12:16:03 2004
Return-Path: <lucene-user-return-9500-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62798 invoked from network); 27 Jul 2004 12:16:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jul 2004 12:16:02 -0000
Received: (qmail 50985 invoked by uid 500); 27 Jul 2004 12:15:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50900 invoked by uid 500); 27 Jul 2004 12:15:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50885 invoked by uid 99); 27 Jul 2004 12:15:54 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [216.136.173.244] (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 27 Jul 2004 05:15:50 -0700
Message-ID: <20040727121550.26125.qmail@web12707.mail.yahoo.com>
Received: from [195.29.106.64] by web12707.mail.yahoo.com via HTTP; Tue, 27 Jul 2004 05:15:50 PDT
Date: Tue, 27 Jul 2004 05:15:50 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Time of last insert
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <006901c473c7$0a5d9d90$0448170a@infact12>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

There is no API for that.  You could look at the modification time of
index files, but this is a hack-ish approach, and is not always correct
(index files get modified for other reasons, too, such as deletion).  I
think that the index version (IndexReader class) is actually a time
stamp of last modification, but again this is not for document addition
only.

This is so easy to add to an application that uses Lucene.  Why not
just keep track of last add date in your app?

Otis

--- lingaraju <lingaraju.shambulingaiah@infactindia.com> wrote:

> 
> Dear  All
> 
> How to know that, when(lastmodified time) last document is added to
> in index
> 
> Thanks and regards
> Raju
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9501-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 27 12:51:45 2004
Return-Path: <lucene-user-return-9501-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79847 invoked from network); 27 Jul 2004 12:51:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jul 2004 12:51:45 -0000
Received: (qmail 15584 invoked by uid 500); 27 Jul 2004 12:51:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15535 invoked by uid 500); 27 Jul 2004 12:51:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15517 invoked by uid 99); 27 Jul 2004 12:51:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [207.234.147.17] (HELO mail2.s2lmail.com) (207.234.147.17)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 27 Jul 2004 05:51:06 -0700
Received: (qmail 3141 invoked by uid 508); 27 Jul 2004 12:51:15 -0000
Received: from unknown (HELO infact12) (61.11.66.46)
  by mail2.s2lmail.com with SMTP; 27 Jul 2004 12:51:15 -0000
Message-ID: <013001c473d9$28edff40$0448170a@infact12>
From: "lingaraju" <lingaraju.shambulingaiah@infactindia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <003701c472f4$3d963f60$0448170a@infact12> <200407261205.47494.daniel.naber@intrafind.de> <006f01c47304$1a3c9d60$0448170a@infact12> <200407261351.38826.daniel.naber@t-online.de>
Subject: Re: updating the index created for database search
Date: Tue, 27 Jul 2004 18:26:35 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I tried but I am missing some thing
Please can you tell me the syntax how to use the TermQuery to check the
presence of document in index from key field say OID

----- Original Message ----- 
From: "Daniel Naber" <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, July 26, 2004 5:21 PM
Subject: Re: updating the index created for database search


> On Monday 26 July 2004 13:31, lingaraju wrote:
>
> > If it is new record  through which class we have to check that record is
> > present in the index
>
> Just search for the id with a TermQuery. If you get a hit, the record is
in
> the index already.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9502-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 27 12:55:42 2004
Return-Path: <lucene-user-return-9502-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82399 invoked from network); 27 Jul 2004 12:55:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jul 2004 12:55:42 -0000
Received: (qmail 25580 invoked by uid 500); 27 Jul 2004 12:55:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25550 invoked by uid 500); 27 Jul 2004 12:55:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25536 invoked by uid 99); 27 Jul 2004 12:55:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [69.30.47.66] (HELO smtp.elevennetworks.com) (69.30.47.66)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 27 Jul 2004 05:55:32 -0700
Received: from [209.180.166.194] (helo=postfix.mail.ehatchersolutions.com)
	by smtp.elevennetworks.com with esmtp (Exim 4.24; FreeBSD)
	id 1BpRUL-0004tu-A9
	for lucene-user@jakarta.apache.org; Tue, 27 Jul 2004 05:55:25 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 28AFA841ABB
	for <lucene-user@jakarta.apache.org>; Tue, 27 Jul 2004 05:55:26 -0700 (MST)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <20040727121550.26125.qmail@web12707.mail.yahoo.com>
References: <20040727121550.26125.qmail@web12707.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <39B5BD50-DFCC-11D8-8ED2-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Time of last insert
Date: Tue, 27 Jul 2004 05:55:24 -0700
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jul 27, 2004, at 5:15 AM, Otis Gospodnetic wrote:
> There is no API for that.

Yeah there is!  :)

	IndexReader.lastModified()

I borrowed that from LIMO's .jsp page, by the way.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9503-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 27 13:33:23 2004
Return-Path: <lucene-user-return-9503-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10886 invoked from network); 27 Jul 2004 13:33:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jul 2004 13:33:22 -0000
Received: (qmail 96584 invoked by uid 500); 27 Jul 2004 13:33:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96468 invoked by uid 500); 27 Jul 2004 13:33:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96455 invoked by uid 99); 27 Jul 2004 13:33:13 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 27 Jul 2004 06:33:11 -0700
Received: (qmail 62166 invoked by uid 89); 27 Jul 2004 13:33:09 -0000
Received: from unknown (HELO ?192.168.168.10?) (doug@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 27 Jul 2004 13:33:09 -0000
Message-ID: <4106598D.4010908@apache.org>
Date: Tue, 27 Jul 2004 06:33:01 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Caching of TermDocs
References: <BAY7-DAV10PEvXbY5ko000679ba@hotmail.com> <200407262207.02365.paul.elschot@xs4all.nl> <BAY7-DAV1744qXvXtzK0006a6dc@hotmail.com>
In-Reply-To: <BAY7-DAV1744qXvXtzK0006a6dc@hotmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

John Patterson wrote:
> I would like to hold a significant amount of the index in memory but use the
> disk index as a spill over.  Obviously the best situation is to hold in
> memory only the information that is likely to be used again soon.  It seems
> that caching TermDocs would allow popular search terms to be searched more
> efficiently while the less common terms would need to be read from disk.

The operating system already caches recent disk i/o.  So what you'd save 
primarily would be the overhead of parsing the data.  However the parsed 
form, a sequence of docNo and freq ints, is nearly eight times as large 
as its compressed size in the index.  So your cache would consume a lot 
of memory.

Whether it this provide much overall speedup depends on the distribution 
of common terms in your query traffic.  If you have a few terms that are 
searched very frequently then it might pay off.  In my experience with 
general-purpose search engines this is not usually the case: folks seem 
to use rarer words in queries than they do in ordinary text.  But in 
some search applications perhaps the traffic is more skewed.  Only some 
experiments would tell for sure.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9504-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 27 13:42:27 2004
Return-Path: <lucene-user-return-9504-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17532 invoked from network); 27 Jul 2004 13:42:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jul 2004 13:42:26 -0000
Received: (qmail 13067 invoked by uid 500); 27 Jul 2004 13:42:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12978 invoked by uid 500); 27 Jul 2004 13:42:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12947 invoked by uid 99); 27 Jul 2004 13:42:11 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [207.234.147.17] (HELO mail2.s2lmail.com) (207.234.147.17)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Tue, 27 Jul 2004 06:42:10 -0700
Received: (qmail 24733 invoked by uid 508); 27 Jul 2004 13:42:23 -0000
Received: from unknown (HELO infact12) (61.11.66.46)
  by mail2.s2lmail.com with SMTP; 27 Jul 2004 13:42:23 -0000
Message-ID: <014b01c473e0$4d900850$0448170a@infact12>
From: "lingaraju" <lingaraju.shambulingaiah@infactindia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20040727121550.26125.qmail@web12707.mail.yahoo.com> <39B5BD50-DFCC-11D8-8ED2-000393A564E6@ehatchersolutions.com>
Subject: Re: Time of last insert
Date: Tue, 27 Jul 2004 19:17:45 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

But  that method is "deprecated" and Replaced by getCurrentVersion()

----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, July 27, 2004 6:25 PM
Subject: Re: Time of last insert


> 
> On Jul 27, 2004, at 5:15 AM, Otis Gospodnetic wrote:
> > There is no API for that.
> 
> Yeah there is!  :)
> 
> IndexReader.lastModified()
> 
> I borrowed that from LIMO's .jsp page, by the way.
> 
> Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9505-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 27 13:49:18 2004
Return-Path: <lucene-user-return-9505-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22304 invoked from network); 27 Jul 2004 13:49:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jul 2004 13:49:18 -0000
Received: (qmail 36326 invoked by uid 500); 27 Jul 2004 13:48:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36234 invoked by uid 500); 27 Jul 2004 13:48:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36028 invoked by uid 99); 27 Jul 2004 13:48:49 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [196.14.132.50] (HELO smtpin.safmarine.co.za) (196.14.132.50)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 27 Jul 2004 06:48:47 -0700
Received: from smtpout.safmarine.co.za ([10.27.7.74])
          by smtpin.safmarine.co.za (Lotus Domino Release 6.5.2)
          with ESMTP id 2004072715495039-3966 ;
          Tue, 27 Jul 2004 15:49:50 +0200 
Received: from scrbmtazacpt002.safmarine.co.za ([10.27.0.31])
          by smtpout.safmarine.co.za (Lotus Domino Release 6.5.2)
          with ESMTP id 2004072715494696-4163 ;
          Tue, 27 Jul 2004 15:49:46 +0200 
To: lucene-user@jakarta.apache.org
Subject: storing a directory (indexes) in a database   [Our Ref:CPTB5FAD]
MIME-Version: 1.0
X-Mailer: Lotus Notes Release 6.5.2 June 01, 2004
Message-ID: <OF98A75894.2A93B1ED-ON42256EDE.004B5FAD-42256EDE.004BBA45@safmarine.co.za>
From: mchavda@za.safmarine.com
Date: Tue, 27 Jul 2004 15:48:42 +0200
X-MIMETrack: Serialize by Router on CPTMTA02/Linernet(Release 5.0.10 |March 22, 2002) at
 2004/07/27 15:47:05,
	Serialize complete at 2004/07/27 15:47:05,
	Itemize by SMTP Server on cptsmtp02/SafmarineSMTP(Release 6.5.2|June 01, 2004) at
 07/27/2004 03:49:46 PM,
	Serialize by Router on cptsmtp02/SafmarineSMTP(Release 6.5.2|June 01, 2004) at
 07/27/2004 03:49:50 PM,
	Serialize complete at 07/27/2004 03:49:50 PM,
	Itemize by SMTP Server on cptsmtp01/SafmarineSMTP(Release 6.5.2|June 01, 2004) at
 07/27/2004 03:49:50 PM,
	Serialize by Router on cptsmtp01/SafmarineSMTP(Release 6.5.2|June 01, 2004) at
 07/27/2004 03:50:56 PM,
	Serialize complete at 07/27/2004 03:50:56 PM
Content-Type: multipart/alternative; boundary="=_alternative 004BBA4342256EDE_="
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=_alternative 004BBA4342256EDE_=
Content-Type: text/plain; charset="US-ASCII"

hi there,

There seems to be lots of talk about storing Lucene directories in a 
relational DB, but I haven't found too many links.

I've looked at JDBCDirectory (http://ppinew.mnis.com/jdbcdirectory/) but 
get a NullPointerException when trying to get an index-reader on a newly 
created directory.

Has anyone else had success with JDBCDirectory?

Are there alternative implementation out there? 

thanks,
Manoj


This e-mail is intended exclusively for the addressee.
If you are not the addressee you must not read, copy,
use or disclose the e-mail nor the content; please notify
us immediately (by clicking "Reply") and delete this e-mail.



--=_alternative 004BBA4342256EDE_=--

From lucene-user-return-9506-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 27 13:53:45 2004
Return-Path: <lucene-user-return-9506-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25087 invoked from network); 27 Jul 2004 13:53:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jul 2004 13:53:45 -0000
Received: (qmail 53364 invoked by uid 500); 27 Jul 2004 13:53:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53186 invoked by uid 500); 27 Jul 2004 13:53:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53047 invoked by uid 99); 27 Jul 2004 13:53:26 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [69.2.125.12] (HELO advancemags.com) (69.2.125.12)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 27 Jul 2004 06:53:23 -0700
Received: from ([10.202.8.51])
	by samgdem01.advancemags.com with ESMTP ;
	Tue, 27 Jul 2004 09:52:46 -0400
Received: from samgdeca01.advancemags.com ([10.202.8.69]) by samgdea01.advancemags.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 27 Jul 2004 09:52:46 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6556.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: write lock: cleaning an index
Date: Tue, 27 Jul 2004 09:52:46 -0400
Message-ID: <F89A5DEC201E4642BEC9711D7D85E905044D08E6@samgdeca01.advancemags.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: write lock: cleaning an index
Thread-Index: AcRw10yWALBTZDTpRc2uRV5GU/QZGQDCaPcA
From: "Wu, Calvin" <Calvin_Wu@advancemags.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 27 Jul 2004 13:52:46.0803 (UTC) FILETIME=[FF671230:01C473E0]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

It looks like you didn't close the file handle properly.



-----Original Message-----
From: Ravi Rao [mailto:rrao@alterpoint.com]=20
Sent: Friday, July 23, 2004 12:57 PM
To: lucene-user@jakarta.apache.org
Subject: write lock: cleaning an index


All,

I have an application that has one IndexWriter.  Once in a while the
enclosing application is taken down with a kill and IndexWriter leaves a
lock file behind.  Other than removing the lock file, is there anything
else I can do to clean the index.

The only general solution I can think of is to index to a temporary
index and then every so often merge it with the master index, which
cannot be allowed to be corrupted.  In this scheme we lose only the
temporary index rather than the master index.

Many thanks,
--=20
Ravi/




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9507-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 27 15:05:55 2004
Return-Path: <lucene-user-return-9507-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72744 invoked from network); 27 Jul 2004 15:05:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jul 2004 15:05:55 -0000
Received: (qmail 58276 invoked by uid 500); 27 Jul 2004 15:05:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58247 invoked by uid 500); 27 Jul 2004 15:05:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58231 invoked by uid 99); 27 Jul 2004 15:05:45 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=DNS_FROM_RFC_POST
X-Spam-Check-By: apache.org
Received: from [64.4.10.108] (HELO hotmail.com) (64.4.10.108)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 27 Jul 2004 08:05:43 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 27 Jul 2004 08:05:35 -0700
Received: from 202.57.131.189 by bay7-dav4.bay7.hotmail.com with DAV;
	Tue, 27 Jul 2004 15:05:35 +0000
X-Originating-IP: [202.57.131.189]
X-Originating-Email: [dev_johnpatterson@hotmail.com]
X-Sender: dev_johnpatterson@hotmail.com
Reply-To: "John Patterson" <dev_johnpatterson@hotmail.com>
From: "John Patterson" <dev_johnpatterson@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <BAY7-DAV10PEvXbY5ko000679ba@hotmail.com> <200407262207.02365.paul.elschot@xs4all.nl> <BAY7-DAV1744qXvXtzK0006a6dc@hotmail.com> <4106598D.4010908@apache.org>
Subject: Re: Caching of TermDocs
Date: Tue, 27 Jul 2004 22:05:30 +0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
Message-ID: <BAY7-DAV4tPeGd6OTim0003406f@hotmail.com>
X-OriginalArrivalTime: 27 Jul 2004 15:05:35.0372 (UTC) FILETIME=[2B45CCC0:01C473EB]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Cool.  I'll give it a try.  Looks like extending FilterIndexReader is the
way to go.  Or possibly I could cache the compressed form at a lower level
getting the best of both worlds.  I'll look into both ways, profile the app,
and post my results.

----- Original Message ----- 
From: "Doug Cutting" <cutting@apache.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, July 27, 2004 8:33 PM
Subject: Re: Caching of TermDocs


> John Patterson wrote:
> > I would like to hold a significant amount of the index in memory but use
the
> > disk index as a spill over.  Obviously the best situation is to hold in
> > memory only the information that is likely to be used again soon.  It
seems
> > that caching TermDocs would allow popular search terms to be searched
more
> > efficiently while the less common terms would need to be read from disk.
>
> The operating system already caches recent disk i/o.  So what you'd save
> primarily would be the overhead of parsing the data.  However the parsed
> form, a sequence of docNo and freq ints, is nearly eight times as large
> as its compressed size in the index.  So your cache would consume a lot
> of memory.
>
> Whether it this provide much overall speedup depends on the distribution
> of common terms in your query traffic.  If you have a few terms that are
> searched very frequently then it might pay off.  In my experience with
> general-purpose search engines this is not usually the case: folks seem
> to use rarer words in queries than they do in ordinary text.  But in
> some search applications perhaps the traffic is more skewed.  Only some
> experiments would tell for sure.
>
> Doug
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9508-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jul 27 18:42:44 2004
Return-Path: <lucene-user-return-9508-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82671 invoked from network); 27 Jul 2004 18:42:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jul 2004 18:42:43 -0000
Received: (qmail 20323 invoked by uid 500); 27 Jul 2004 18:42:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20233 invoked by uid 500); 27 Jul 2004 18:42:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20220 invoked by uid 99); 27 Jul 2004 18:42:36 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [192.18.98.36] (HELO brmea-mail-4.sun.com) (192.18.98.36)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 27 Jul 2004 11:42:35 -0700
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by brmea-mail-4.sun.com (8.12.10/8.12.9) with ESMTP id i6RIeF57026723
	for <lucene-user@jakarta.apache.org>; Tue, 27 Jul 2004 12:40:15 -0600 (MDT)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0I1I00A01X6OVL@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Tue, 27 Jul 2004 11:42:33 -0700 (PDT)
Received: from [127.0.0.1] (d-sjc06-25-188.SFBay.Sun.COM [129.145.25.188])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0I1I00A22XAPZ4@ha21sca-mail1.sfbay.sun.com> for
 lucene-user@jakarta.apache.org; Tue, 27 Jul 2004 11:42:33 -0700 (PDT)
Date: Tue, 27 Jul 2004 11:42:16 -0700
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Re: Phrase Query
In-reply-to: <E31F5FBE-DF84-11D8-9D44-000393A564E6@ehatchersolutions.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <4106A208.8070204@sun.com>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7)
 Gecko/20040616
References: <41058FA0.3010002@sun.com>
 <E31F5FBE-DF84-11D8-9D44-000393A564E6@ehatchersolutions.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Works for me.
Here is what I am striving to achieve.

phraseString = 	request.getParameter("phrase");
if (phraseString.length() > 0){
	phraseQueryString = "\""+phraseString+("\"");
	phraseQuery = true;
	queryString = phraseQueryString;
}

if(phraseQuery){
	PhraseQuery pQuery = new PhraseQuery();
	pQuery.add(new Term("contents", phraseString));
	pQuery.setSlop(0);
	QueryParser qP = new QueryParser();
	query = qP.parse(phraseString);
}

This is piece of the code, what I intend to do is if there is any 
keyword entered in the Exact Phrase field of the form I want to use the 
phrase query other wise use regular Query.

Please correct the code if you'll think it is not correct. I am still 
learning about search and Lucene in general.

thanks.
-H

Erik Hatcher wrote:


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9509-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 28 06:00:15 2004
Return-Path: <lucene-user-return-9509-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75041 invoked from network); 28 Jul 2004 06:00:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jul 2004 06:00:15 -0000
Received: (qmail 67878 invoked by uid 500); 28 Jul 2004 06:00:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67797 invoked by uid 500); 28 Jul 2004 06:00:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67780 invoked by uid 99); 28 Jul 2004 06:00:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [69.30.47.66] (HELO smtp.elevennetworks.com) (69.30.47.66)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 27 Jul 2004 23:00:02 -0700
Received: from [209.180.166.194] (helo=postfix.mail.ehatchersolutions.com)
	by smtp.elevennetworks.com with esmtp (Exim 4.41 (FreeBSD))
	id 1BphTl-0006Bl-Gw
	for lucene-user@jakarta.apache.org; Tue, 27 Jul 2004 22:59:56 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id A48C18458A5
	for <lucene-user@jakarta.apache.org>; Tue, 27 Jul 2004 22:59:36 -0700 (MST)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <4106A208.8070204@sun.com>
References: <41058FA0.3010002@sun.com> <E31F5FBE-DF84-11D8-9D44-000393A564E6@ehatchersolutions.com> <4106A208.8070204@sun.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <4D52C5EE-E05B-11D8-8A97-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Phrase Query
Date: Tue, 27 Jul 2004 22:59:35 -0700
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jul 27, 2004, at 11:42 AM, Hetan Shah wrote:
> Works for me.
> Here is what I am striving to achieve.
>
> phraseString = 	request.getParameter("phrase");
> if (phraseString.length() > 0){
> 	phraseQueryString = "\""+phraseString+("\"");
> 	phraseQuery = true;
> 	queryString = phraseQueryString;
> }
>
> if(phraseQuery){
> 	PhraseQuery pQuery = new PhraseQuery();
> 	pQuery.add(new Term("contents", phraseString));
> 	pQuery.setSlop(0);
> 	QueryParser qP = new QueryParser();
> 	query = qP.parse(phraseString);
> }

I don't understand what you're attempting in the above.  You don't make 
a new Term and add it to a PhraseQuery instance with the term having 
quotes around it - it is QueryParser that deals with quoted strings and 
interpreting it into a PhraseQuery.

Are you using pQuery?  Or query?  You've got two Query instances there 
- query is the one you probably want.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9510-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 28 06:39:50 2004
Return-Path: <lucene-user-return-9510-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91439 invoked from network); 28 Jul 2004 06:39:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jul 2004 06:39:50 -0000
Received: (qmail 24370 invoked by uid 500); 28 Jul 2004 06:39:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24103 invoked by uid 500); 28 Jul 2004 06:39:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24086 invoked by uid 99); 28 Jul 2004 06:39:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [12.43.53.196] (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Tue, 27 Jul 2004 23:39:38 -0700
Received: from [192.168.1.100] ([12.43.53.196])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id i6S6dXwA014717
	for <lucene-user@jakarta.apache.org>; Tue, 27 Jul 2004 23:39:33 -0700
Message-ID: <410746A0.7050406@newsmonster.org>
Date: Tue, 27 Jul 2004 23:24:32 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: GROUP BY functionality.
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

In 1.4 we now have arbitrary sort support...

Is it possible to use GROUP BY without having do to this on the client 
(which would be inneficient)...

I have a field I want to make sure is unique in my search results.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9511-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 28 09:31:44 2004
Return-Path: <lucene-user-return-9511-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10486 invoked from network); 28 Jul 2004 09:31:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jul 2004 09:31:44 -0000
Received: (qmail 87361 invoked by uid 500); 28 Jul 2004 09:31:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87262 invoked by uid 500); 28 Jul 2004 09:31:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87248 invoked by uid 99); 28 Jul 2004 09:31:35 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_50_60,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [203.200.48.226] (HELO services.india.aalayance.com) (203.200.48.226)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 28 Jul 2004 02:31:32 -0700
Received: from ajitendra (unknown [192.168.1.141])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by services.india.aalayance.com (Postfix) with ESMTP id 9448EC1964
	for <lucene-user@jakarta.apache.org>; Wed, 28 Jul 2004 15:01:24 +0530 (IST)
Message-ID: <002701c47486$42b5b1e0$8d01a8c0@india.aalayance.com>
From: "jitender ahuja" <ajitender@aalayance.com>
To: <lucene-user@jakarta.apache.org>
Subject: continous index update
Date: Wed, 28 Jul 2004 15:05:46 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0024_01C474B4.5C430D50"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0024_01C474B4.5C430D50
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi all,
          I am trying to make an automatic index update file based o a =
background thread, but it gives errors in deleting the existing index, =
if (only if) the server accesses the index at the same time or has once =
accessed it and even if a different request is posed, i.e. for a =
different index directory or a different job, it makes no difference.
Can anyone tell that in such a continous update scenario, how the old =
index can be updated as I feel deletion is a must of the earlier =
contents so as to get the new contents in place.

Regards,
Jitender
------=_NextPart_000_0024_01C474B4.5C430D50--


From lucene-user-return-9512-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 28 09:41:36 2004
Return-Path: <lucene-user-return-9512-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23917 invoked from network); 28 Jul 2004 09:41:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jul 2004 09:41:36 -0000
Received: (qmail 7873 invoked by uid 500); 28 Jul 2004 09:41:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7843 invoked by uid 500); 28 Jul 2004 09:41:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7830 invoked by uid 99); 28 Jul 2004 09:41:28 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [216.136.173.244] (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 28 Jul 2004 02:41:24 -0700
Message-ID: <20040728094123.76938.qmail@web12707.mail.yahoo.com>
Received: from [195.29.104.16] by web12707.mail.yahoo.com via HTTP; Wed, 28 Jul 2004 02:41:23 PDT
Date: Wed, 28 Jul 2004 02:41:23 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: docfaq of IndexReader is showing the deleted document also
To: lucene-user@jakarta.apache.org
Cc: lingaraju.shambulingaiah@infactindia.com
In-Reply-To: <01aa01c47483$1c2103c0$0448170a@infact12>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Moved to the more appropriate lucene-user list.

Why don't you just use IndexSearcher with TermQuery with new
Term("OID","9365") ?

The search with such TermQuery will get you 1 or 0 hits, assuming OID
acts as a primary key.  1 if OID=9365 has not been deleted, 0
otherwise.

Otis

--- lingaraju <lingaraju.shambulingaiah@infactindia.com> wrote:

> 
> Thanks for information
> I have read the documentation for the IndexReader.delete. method
> After "Indexwriter optimize()" method "docFreq" is giving correct
> count I
> mean excluding deleted document
> I am having one more question
> Actually I am using docFreq method to find the particular document is
> present or not in index by using key(Unique) field OID
> 
>   IndexReader reader = IndexReader.open("c:/index");
>   Term term = new Term("OID","9365");
>   int i=reader.docFreq(term);
>   if (i!=0)
>   {System.out.println("Document present the index:"+i); }
> 
> This is the right way or is there any way to find out?
> 
> Regards
> Raju
> 
> 
> 
> ----- Original Message ----- 
> From: "Bernhard Messer" <Bernhard.Messer@intrafind.de>
> To: "Lucene Developers List" <lucene-dev@jakarta.apache.org>
> Sent: Tuesday, July 27, 2004 7:28 PM
> Subject: Re: docfaq of IndexReader is showing the deleted document
> also
> 
> 
> > Hi Raju,
> >
> > read the documentation for the IndexReader.delete method and you
> will
> > find your way ;-)
> >
> > /** Deletes the document numbered <code>docNum</code>.  Once a
> document is
> >    deleted it will not appear in TermDocs or TermPostitions
> enumerations.
> >    Attempts to read its field with the {@link #document}
> >    method will result in an error.  The presence of this document
> may
> > still be
> >    reflected in the {@link #docFreq} statistic, though
> >    this will be corrected eventually as the index is further
> modified.
> >    */
> >
> > public final synchronized void delete(int docNum) throws
> IOException
> >
> >
> > regards
> > Bernhard
> >
> > lingaraju wrote:
> >
> > >I used the below code
> > >
> > >reader.delete(term);
> > >i=reader.docFreq(term);
> > >System.out.println("docfaq:"+i);
> > >reader.close();
> > >
> > >reader.docFreq method is returning 10 count before delete even
> after
> delete
> > >also count is showing same why
> > >
> > >Regards
> > >Raju
> > >
> > >
> > >
> >
>
>---------------------------------------------------------------------
> > >To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
> > >For additional commands, e-mail:
> lucene-dev-help@jakarta.apache.org
> > >
> > >
> > >
> > >
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-dev-help@jakarta.apache.org
> >
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-dev-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9513-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 28 09:48:20 2004
Return-Path: <lucene-user-return-9513-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32921 invoked from network); 28 Jul 2004 09:48:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jul 2004 09:48:20 -0000
Received: (qmail 22472 invoked by uid 500); 28 Jul 2004 09:48:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22409 invoked by uid 500); 28 Jul 2004 09:48:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22316 invoked by uid 99); 28 Jul 2004 09:48:01 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [81.19.66.30] (HELO mxb.rambler.ru) (81.19.66.30)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 28 Jul 2004 02:47:58 -0700
Received: from mail5.rambler.ru (mail5.rambler.ru [81.19.66.7])
	by mxb.rambler.ru (Postfix) with ESMTP id CF43C83AB9
	for <lucene-user@jakarta.apache.org>; Wed, 28 Jul 2004 13:47:54 +0400 (MSD)
Received: from [81.19.66.146] (account vyuryev@rambler.ru)
  by mail5.rambler.ru (CommuniGate Pro WebUser 4.1.8)
  with HTTP id 52833886 for lucene-user@jakarta.apache.org; Wed, 28 Jul 2004 13:47:53 +0400
From: "Vladimir Yuryev" <vyuryev@rambler.ru>
Subject: Re: continous index update
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: CommuniGate Pro WebUser Interface v.4.1.8
Date: Wed, 28 Jul 2004 13:47:53 +0400
Message-ID: <web-52833886@mail5.rambler.ru>
In-Reply-To: <002701c47486$42b5b1e0$8d01a8c0@india.aalayance.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="windows-1251"; format="flowed"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi!

I do automatic index update by cron daemon.

Regards,
Vladimir.

On Wed, 28 Jul 2004 15:05:46 +0530
  "jitender ahuja" <ajitender@aalayance.com> wrote:
>Hi all,
>          I am trying to make an automatic index update file based o 
>a background thread, but it gives errors in deleting the existing 
>index, if (only if) the server accesses the index at the same time or 
>has once accessed it and even if a different request is posed, i.e. 
>for a different index directory or a different job, it makes no 
>difference.
>Can anyone tell that in such a continous update scenario, how the old 
>index can be updated as I feel deletion is a must of the earlier 
>contents so as to get the new contents in place.
>
>Regards,
>Jitender


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9514-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 28 10:39:49 2004
Return-Path: <lucene-user-return-9514-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77816 invoked from network); 28 Jul 2004 10:39:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jul 2004 10:39:49 -0000
Received: (qmail 24932 invoked by uid 500); 28 Jul 2004 10:39:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24825 invoked by uid 500); 28 Jul 2004 10:39:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24809 invoked by uid 99); 28 Jul 2004 10:39:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.200.48.226] (HELO services.india.aalayance.com) (203.200.48.226)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 28 Jul 2004 03:39:37 -0700
Received: from ajitendra (unknown [192.168.1.141])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by services.india.aalayance.com (Postfix) with ESMTP id CABA2C1967
	for <lucene-user@jakarta.apache.org>; Wed, 28 Jul 2004 16:09:29 +0530 (IST)
Message-ID: <00c401c4748f$c5b90980$8d01a8c0@india.aalayance.com>
From: "jitender ahuja" <ajitender@aalayance.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <web-52833886@mail5.rambler.ru>
Subject: Re: continous index update
Date: Wed, 28 Jul 2004 16:13:51 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="windows-1251"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
      I am working on Windows platform and I think it wouldn't work there.
If it can, do please tell me.

Regards,
Jitender
----- Original Message ----- 
From: "Vladimir Yuryev" <vyuryev@rambler.ru>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, July 28, 2004 3:17 PM
Subject: Re: continous index update


> Hi!
>
> I do automatic index update by cron daemon.
>
> Regards,
> Vladimir.
>
> On Wed, 28 Jul 2004 15:05:46 +0530
>   "jitender ahuja" <ajitender@aalayance.com> wrote:
> >Hi all,
> >          I am trying to make an automatic index update file based o
> >a background thread, but it gives errors in deleting the existing
> >index, if (only if) the server accesses the index at the same time or
> >has once accessed it and even if a different request is posed, i.e.
> >for a different index directory or a different job, it makes no
> >difference.
> >Can anyone tell that in such a continous update scenario, how the old
> >index can be updated as I feel deletion is a must of the earlier
> >contents so as to get the new contents in place.
> >
> >Regards,
> >Jitender
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9515-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 28 10:58:18 2004
Return-Path: <lucene-user-return-9515-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89739 invoked from network); 28 Jul 2004 10:58:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jul 2004 10:58:18 -0000
Received: (qmail 50282 invoked by uid 500); 28 Jul 2004 10:58:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50256 invoked by uid 500); 28 Jul 2004 10:58:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50243 invoked by uid 99); 28 Jul 2004 10:58:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [143.205.118.212] (HELO proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 28 Jul 2004 03:58:03 -0700
Received: from ifit.uni-klu.ac.at ([143.205.118.98]) by proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 28 Jul 2004 12:59:00 +0200
Message-ID: <410786F4.1060809@ifit.uni-klu.ac.at>
Date: Wed, 28 Jul 2004 12:59:00 +0200
From: Sergiu Gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.5) Gecko/20031007
X-Accept-Language: de-at, en, ro, it, en-us
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: continous index update
References: <web-52833886@mail5.rambler.ru> <00c401c4748f$c5b90980$8d01a8c0@india.aalayance.com>
In-Reply-To: <00c401c4748f$c5b90980$8d01a8c0@india.aalayance.com>
Content-Type: text/plain; charset=windows-1251; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 28 Jul 2004 10:59:00.0488 (UTC) FILETIME=[E33F6880:01C47491]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

you have to delete the documents using IndexReader and write the 
Documents using IndexWriter,
both of them place a lock on the index file, so ... you cannot work with 
both of them in the same time.
(you get errors when you have an opened IndexWriter and try to delete a 
document with an IndexWriter).

  I'm using lucene to index information I have in a database. Each time 
the records in database are modified, I delete
the document and I add it again. If you are working with threads, make 
sure that the instantiation and closing of IndexWriter and
IndexReaders are made in synchronized code.

 All the best,

  Sergiu


 
jitender ahuja wrote:

>Hi,
>      I am working on Windows platform and I think it wouldn't work there.
>If it can, do please tell me.
>
>Regards,
>Jitender
>----- Original Message ----- 
>From: "Vladimir Yuryev" <vyuryev@rambler.ru>
>To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>Sent: Wednesday, July 28, 2004 3:17 PM
>Subject: Re: continous index update
>
>
>  
>
>>Hi!
>>
>>I do automatic index update by cron daemon.
>>
>>Regards,
>>Vladimir.
>>
>>On Wed, 28 Jul 2004 15:05:46 +0530
>>  "jitender ahuja" <ajitender@aalayance.com> wrote:
>>    
>>
>>>Hi all,
>>>         I am trying to make an automatic index update file based o
>>>a background thread, but it gives errors in deleting the existing
>>>index, if (only if) the server accesses the index at the same time or
>>>has once accessed it and even if a different request is posed, i.e.
>>>for a different index directory or a different job, it makes no
>>>difference.
>>>Can anyone tell that in such a continous update scenario, how the old
>>>index can be updated as I feel deletion is a must of the earlier
>>>contents so as to get the new contents in place.
>>>
>>>Regards,
>>>Jitender
>>>      
>>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>    
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9516-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 28 11:08:57 2004
Return-Path: <lucene-user-return-9516-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94893 invoked from network); 28 Jul 2004 11:08:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jul 2004 11:08:57 -0000
Received: (qmail 70739 invoked by uid 500); 28 Jul 2004 11:08:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70699 invoked by uid 500); 28 Jul 2004 11:08:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70686 invoked by uid 99); 28 Jul 2004 11:08:47 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [81.19.66.30] (HELO mxb.rambler.ru) (81.19.66.30)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 28 Jul 2004 04:08:44 -0700
Received: from mail5.rambler.ru (mail5.rambler.ru [81.19.66.7])
	by mxb.rambler.ru (Postfix) with ESMTP id 2DF6A83967
	for <lucene-user@jakarta.apache.org>; Wed, 28 Jul 2004 15:08:37 +0400 (MSD)
Received: from [81.19.66.146] (account vyuryev@rambler.ru)
  by mail5.rambler.ru (CommuniGate Pro WebUser 4.1.8)
  with HTTP id 52866900 for lucene-user@jakarta.apache.org; Wed, 28 Jul 2004 15:08:34 +0400
From: "Vladimir Yuryev" <vyuryev@rambler.ru>
Subject: Re: continous index update
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: CommuniGate Pro WebUser Interface v.4.1.8
Date: Wed, 28 Jul 2004 15:08:34 +0400
Message-ID: <web-52866900@mail5.rambler.ru>
In-Reply-To: <00c401c4748f$c5b90980$8d01a8c0@india.aalayance.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="windows-1251"; format="flowed"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Jitender

Use task manager.

Regards,
Vladimir.

On Wed, 28 Jul 2004 16:13:51 +0530
  "jitender ahuja" <ajitender@aalayance.com> wrote:
>Hi,
>      I am working on Windows platform and I think it wouldn't work 
>there.
>If it can, do please tell me.
>
>Regards,
>
>----- Original Message ----- 
>From: "Vladimir Yuryev" <vyuryev@rambler.ru>
>To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>Sent: Wednesday, July 28, 2004 3:17 PM
>Subject: Re: continous index update
>
>
>> Hi!
>>
>> I do automatic index update by cron daemon.
>>
>> Regards,
>> Vladimir.
>>
>> On Wed, 28 Jul 2004 15:05:46 +0530
>>   "jitender ahuja" <ajitender@aalayance.com> wrote:
>> >Hi all,
>> >          I am trying to make an automatic index update file based 
>>o
>> >a background thread, but it gives errors in deleting the existing
>> >index, if (only if) the server accesses the index at the same time 
>>or
>> >has once accessed it and even if a different request is posed, i.e.
>> >for a different index directory or a different job, it makes no
>> >difference.
>> >Can anyone tell that in such a continous update scenario, how the 
>>old
>> >index can be updated as I feel deletion is a must of the earlier
>> >contents so as to get the new contents in place.
>> >
>> >Regards,
>> >Jitender
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9517-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 28 15:19:10 2004
Return-Path: <lucene-user-return-9517-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50944 invoked from network); 28 Jul 2004 15:19:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jul 2004 15:19:10 -0000
Received: (qmail 58307 invoked by uid 500); 28 Jul 2004 15:19:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58229 invoked by uid 500); 28 Jul 2004 15:19:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58216 invoked by uid 99); 28 Jul 2004 15:19:00 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=FROM_ENDS_IN_NUMS,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [216.148.212.183] (HELO w01.bloglines.com) (216.148.212.183)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 28 Jul 2004 08:18:57 -0700
Received: (qmail 1964 invoked by uid 99); 28 Jul 2004 15:18:53 -0000
Message-ID: <1091027933.1231814656.1958.sendItem@bloglines.com>
Date: 28 Jul 2004 15:18:53 -0000
From: yahootintin.1247688@bloglines.com
To: lucene-user@jakarta.apache.org
Subject: When does IndexReader pick up changes?
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

If I do this:

  - open index writer
  - add document
  - open
reader
  - search
  - close reader
  - close writer

Will the reader
pick up the document that was added to the index since it was opened after
the document was added?  Or will it only pick up changes that occur after
the index writer is closed?

Thanks for the help!

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9518-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 28 17:32:34 2004
Return-Path: <lucene-user-return-9518-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41088 invoked from network); 28 Jul 2004 17:32:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jul 2004 17:32:34 -0000
Received: (qmail 13253 invoked by uid 500); 28 Jul 2004 17:31:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13100 invoked by uid 500); 28 Jul 2004 17:31:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12992 invoked by uid 99); 28 Jul 2004 17:31:14 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=DNS_FROM_RFC_POST
X-Spam-Check-By: apache.org
Received: from [64.4.31.103] (HELO hotmail.com) (64.4.31.103)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 28 Jul 2004 10:31:10 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 28 Jul 2004 10:31:07 -0700
Received: from 193.63.235.44 by by13fd.bay13.hotmail.msn.com with HTTP;
	Wed, 28 Jul 2004 17:31:07 GMT
X-Originating-IP: [193.63.235.44]
X-Originating-Email: [hannahc7@hotmail.com]
X-Sender: hannahc7@hotmail.com
From: "Hannah c" <hannahc7@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Progress bar for Lucene
Date: Wed, 28 Jul 2004 17:31:07 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY13-F103gV2WZJGJ9000a715a@hotmail.com>
X-OriginalArrivalTime: 28 Jul 2004 17:31:07.0388 (UTC) FILETIME=[AA5F73C0:01C474C8]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi,

Is there anything in lucene that would help with the implementation of a 
progress bar. Somewhere I could throw an event that says the search is 10%, 
20% complete etc.  Or is there already an implementation of a progress bar 
available for lucene.

Thanks for your help,
Hannah



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9519-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 28 18:34:57 2004
Return-Path: <lucene-user-return-9519-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74437 invoked from network); 28 Jul 2004 18:34:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jul 2004 18:34:57 -0000
Received: (qmail 68153 invoked by uid 500); 28 Jul 2004 18:34:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68130 invoked by uid 500); 28 Jul 2004 18:34:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68117 invoked by uid 99); 28 Jul 2004 18:34:49 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [192.18.98.36] (HELO brmea-mail-4.sun.com) (192.18.98.36)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 28 Jul 2004 11:34:44 -0700
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by brmea-mail-4.sun.com (8.12.10/8.12.9) with ESMTP id i6SIWP53000579
	for <lucene-user@jakarta.apache.org>; Wed, 28 Jul 2004 12:32:25 -0600 (MDT)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0I1K00701RHEHE@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Wed, 28 Jul 2004 11:34:43 -0700 (PDT)
Received: from [127.0.0.1] (d-sjc06-25-188.SFBay.Sun.COM [129.145.25.188])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0I1K006E4RLNMZ@ha21sca-mail1.sfbay.sun.com> for
 lucene-user@jakarta.apache.org; Wed, 28 Jul 2004 11:34:43 -0700 (PDT)
Date: Wed, 28 Jul 2004 11:34:17 -0700
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Re: Phrase Query
In-reply-to: <4D52C5EE-E05B-11D8-8A97-000393A564E6@ehatchersolutions.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <4107F1A9.7020507@sun.com>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7)
 Gecko/20040616
References: <41058FA0.3010002@sun.com>
 <E31F5FBE-DF84-11D8-9D44-000393A564E6@ehatchersolutions.com>
 <4106A208.8070204@sun.com>
 <4D52C5EE-E05B-11D8-8A97-000393A564E6@ehatchersolutions.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Erik,

I am trying to create the query based on the field the user enters the 
keywords in.

I have these three field.

All the Words:
The Exact Phrase:
Any of the Words:

For All the words and Any of the words I am able to use Query. For The 
Exact Phrase I want to use the PhraseQuery. That is what I was showing 
in the code snippet. My mistake in not commenting out the line where I 
was per-pending and appending the quotation marks, which is taken care 
by  the PhraseQuery. So how would one go about creating the different 
queries and then do the actual search.

Any help and/or code snippet is highly appreciated.

Thanks.
-H

Erik Hatcher wrote:
> On Jul 27, 2004, at 11:42 AM, Hetan Shah wrote:
> 
>> Works for me.
>> Here is what I am striving to achieve.
>>
>> phraseString =     request.getParameter("phrase");
>> if (phraseString.length() > 0){
>>     phraseQueryString = "\""+phraseString+("\"");
>>     phraseQuery = true;
>>     queryString = phraseQueryString;
>> }
>>
>> if(phraseQuery){
>>     PhraseQuery pQuery = new PhraseQuery();
>>     pQuery.add(new Term("contents", phraseString));
>>     pQuery.setSlop(0);
>>     QueryParser qP = new QueryParser();
>>     query = qP.parse(phraseString);
>> }
> 
> 
> I don't understand what you're attempting in the above.  You don't make 
> a new Term and add it to a PhraseQuery instance with the term having 
> quotes around it - it is QueryParser that deals with quoted strings and 
> interpreting it into a PhraseQuery.
> 
> Are you using pQuery?  Or query?  You've got two Query instances there - 
> query is the one you probably want.
> 
>     Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9520-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 28 18:43:37 2004
Return-Path: <lucene-user-return-9520-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78396 invoked from network); 28 Jul 2004 18:43:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jul 2004 18:43:37 -0000
Received: (qmail 84089 invoked by uid 500); 28 Jul 2004 18:43:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84065 invoked by uid 500); 28 Jul 2004 18:43:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84029 invoked by uid 99); 28 Jul 2004 18:43:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [209.87.178.245] (HELO dc1mail02.digitalriver.com) (209.87.178.245)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 28 Jul 2004 11:43:17 -0700
Received: from dc1mailbox01.mpls.digitalriver.com ([172.20.109.76]) by dc1mail02.digitalriver.com with Microsoft SMTPSVC(6.0.3790.0);
	 Wed, 28 Jul 2004 13:43:12 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Subject: RE: continous index update
Date: Wed, 28 Jul 2004 13:43:11 -0500
Content-Type: multipart/signed;
	protocol="application/x-pkcs7-signature";
	micalg=SHA1;
	boundary="----=_NextPart_000_012E_01C474A8.D2C9BA20"
Message-ID: <BAED4A5052281C49B0181F191AD263E915724C@dc1mailbox01.mpls.digitalriver.com>
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
Thread-Topic: continous index update
Thread-Index: AcR0k0by9nhLE49XTLyB/G0DKrFk2AAPnp/A
From: "Lars Klevan" <lklevan@DigitalRiver.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 28 Jul 2004 18:43:12.0024 (UTC) FILETIME=[BC0E8980:01C474D2]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_012E_01C474A8.D2C9BA20
Content-Type: text/plain;
	charset="windows-1251"
Content-Transfer-Encoding: 7bit

When we do full rebuilds we build into a new Directory.  When it is
ready we create a commit lock on the active directory to block new
searches, sleep for a half-second to let exisitng searches finish, and
then copy the newly built directory over the old one.  This seemed to
avoid file system lock issues on windows and unix and ongoing searches
just wait for the commit lock to be released.

-Lars

To create the commit lock:

FSDirectory activeDirectory;
Lock searchLock;
try {
    searchLock = activeDirectory.makeLock(IndexWriter.COMMIT_LOCK_NAME);
    ... do the copy
} finally {
    searchLock.release();
}

-----Original Message-----
From: Vladimir Yuryev [mailto:vyuryev@rambler.ru]
Sent: Wednesday, July 28, 2004 6:09 AM
To: Lucene Users List
Subject: Re: continous index update


Jitender

Use task manager.

Regards,
Vladimir.

On Wed, 28 Jul 2004 16:13:51 +0530
  "jitender ahuja" <ajitender@aalayance.com> wrote:
>Hi,
>      I am working on Windows platform and I think it wouldn't work 
>there.
>If it can, do please tell me.
>
>Regards,
>
>----- Original Message ----- 
>From: "Vladimir Yuryev" <vyuryev@rambler.ru>
>To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>Sent: Wednesday, July 28, 2004 3:17 PM
>Subject: Re: continous index update
>
>
>> Hi!
>>
>> I do automatic index update by cron daemon.
>>
>> Regards,
>> Vladimir.
>>
>> On Wed, 28 Jul 2004 15:05:46 +0530
>>   "jitender ahuja" <ajitender@aalayance.com> wrote:
>> >Hi all,
>> >          I am trying to make an automatic index update file based 
>>o
>> >a background thread, but it gives errors in deleting the existing
>> >index, if (only if) the server accesses the index at the same time 
>>or
>> >has once accessed it and even if a different request is posed, i.e.
>> >for a different index directory or a different job, it makes no
>> >difference.
>> >Can anyone tell that in such a continous update scenario, how the 
>>old
>> >index can be updated as I feel deletion is a must of the earlier
>> >contents so as to get the new contents in place.
>> >
>> >Regards,
>> >Jitender
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


------=_NextPart_000_012E_01C474A8.D2C9BA20
Content-Type: application/x-pkcs7-signature;
	name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="smime.p7s"

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIG0TCCArcw
ggIgoAMCAQICARswDQYJKoZIhvcNAQEEBQAwUzELMAkGA1UEBhMCVVMxHDAaBgNVBAoTE0VxdWlm
YXggU2VjdXJlIEluYy4xJjAkBgNVBAMTHUVxdWlmYXggU2VjdXJlIGVCdXNpbmVzcyBDQS0xMB4X
DTAyMTAwNzE0NTQ0NVoXDTIwMDYyMTA0MDAwMFowTjELMAkGA1UEBhMCVVMxFjAUBgNVBAoTDUdl
b1RydXN0IEluYy4xJzAlBgNVBAMTHkdlb1RydXN0IFRydWUgQ3JlZGVudGlhbHMgQ0EgMjCBnzAN
BgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEAspcspZISpYX/aJqWoYcSyyGqFby3OvsepRzLRU0ENDJR
wJo7DwFpirRFOUQkTkKXsY6BQzX/CeCRrn9i4ny5gcXuI2JSyrSmDwobbwl52n5cPEbHGcebybWd
KfAf8vvkxYUnTmDZPtt2ob5RNpJTeTiq9MpNCB/5G7Ocr1hEljcCAwEAAaOBnzCBnDAOBgNVHQ8B
Af8EBAMCAcYwHQYDVR0OBBYEFCKDS00gAgwx9HxasBpNFch4XRFJMA8GA1UdEwEB/wQFMAMBAf8w
OQYDVR0fBDIwMDAuoCygKoYoaHR0cDovL2NybC5nZW90cnVzdC5jb20vY3Jscy9lYml6Y2ExLmNy
bDAfBgNVHSMEGDAWgBRKeDJSEdtZFjZe38EUNkBqR3xMoTANBgkqhkiG9w0BAQQFAAOBgQBLRStJ
FjcZfgeuxvHML01mmY1IhK5DVgAqpQisMP5VNeUF3fR0KQ/d/AycLwSyV+/2NI+BZLlaEFZ1AKoU
DQadI3rZ7pmx/BY4QYzqWctANkYoWelokjvLZf/i1aSrKUrv+PYfMKsZ3hWWT3jaUBMikWiunDrU
azE1jhkaa91knjCCBBIwggN7oAMCAQICAxAbqzANBgkqhkiG9w0BAQQFADBOMQswCQYDVQQGEwJV
UzEWMBQGA1UEChMNR2VvVHJ1c3QgSW5jLjEnMCUGA1UEAxMeR2VvVHJ1c3QgVHJ1ZSBDcmVkZW50
aWFscyBDQSAyMB4XDTA0MDcwODE0NTA1OVoXDTA1MDcyMjE0NTA1OVowggHIMUkwRwYDVQQKE0BH
ZW9UcnVzdCBUcnVlIENyZWRlbnRpYWxzIEN1c3RvbWVyIC0gT3JnYW5pemF0aW9uIG5vdCB2YWxp
ZGF0ZWQuMT8wPQYDVQQLEzZDUFMgdGVybXMgaW5jb3Jwb3JhdGVkIGJ5IHJlZmVyZW5jZSBsaWFi
aWxpdHkgbGltaXRlZC4xSTBHBgNVBAsTQFNlZSBUcnVlIENyZWRlbnRpYWxzIEV4cHJlc3MgQ1BT
IHd3dy5nZW90cnVzdC5jb20vcmVzb3VyY2VzL0NQUy4xLTArBgNVBAsTJEVtYWlsIGNvbnRyb2wg
dmFsaWRhdGVkIGJ5IEdlb1RydXN0LjE/MD0GA1UECxM2SWRlbnRpdHkgYXV0aGVudGljYXRlZCBi
eSBSZWdpc3RyYXRpb24gQXV0aG9yaXR5IChSQSkuMUAwPgYDVQQLFDdSZWdpc3RyYXRpb24gQXV0
aG9yaXR5IChSQSkgLSBqbW9ydHJ1ZEBkaWdpdGFscml2ZXIuY29tMRQwEgYDVQQDEwtMYXJzIEts
ZXZhbjEnMCUGCSqGSIb3DQEJARYYbGtsZXZhbkBkaWdpdGFscml2ZXIuY29tMIGfMA0GCSqGSIb3
DQEBAQUAA4GNADCBiQKBgQCxB4TiP3S4xRmPDp+kshNxbpw72WLqn31fw2DJJIznKineM/szQLzM
UV6ukoW7N1bm2QrDEfhz8wuhqcS1uNz77VufIUNvn1X1qmA8VJ5vdFiB/O83V5Xgz0feY4b8nZ2n
w4fsAsFL29KqQ+TY3FzgcxNrgkUOCw/oK52ibNqgeQIDAQABo4GBMH8wEQYJYIZIAYb4QgEBBAQD
AgWgMA4GA1UdDwEB/wQEAwIF4DA5BgNVHR8EMjAwMC6gLKAqhihodHRwOi8vY3JsLmdlb3RydXN0
LmNvbS9jcmxzL2d0dGNjYTIuY3JsMB8GA1UdIwQYMBaAFCKDS00gAgwx9HxasBpNFch4XRFJMA0G
CSqGSIb3DQEBBAUAA4GBABHTHXNE1DE3+ght7bITzrotQzjZQd20tzCaPIe18OU3vM8P4ly9dCmn
5zoo6IpUrIWGVYI45V4fa9zbDZfr/Q3/mrLoKAC5dYyu9wmIGC8wuKB1+ZPWmrOeYrbFU57RIEVF
k+W7cJE7K62zya0u3IKCpIkv5O72kFBBX3TCRpRAMYIChDCCAoACAQEwVTBOMQswCQYDVQQGEwJV
UzEWMBQGA1UEChMNR2VvVHJ1c3QgSW5jLjEnMCUGA1UEAxMeR2VvVHJ1c3QgVHJ1ZSBDcmVkZW50
aWFscyBDQSAyAgMQG6swCQYFKw4DAhoFAKCCAYUwGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEHATAc
BgkqhkiG9w0BCQUxDxcNMDQwNzI4MTg0MzExWjAjBgkqhkiG9w0BCQQxFgQUBW2ATlw9tmZ2HZrm
NHi94DZ3ewEwWAYJKoZIhvcNAQkPMUswSTAKBggqhkiG9w0DBzAOBggqhkiG9w0DAgICAIAwBwYF
Kw4DAgcwDQYIKoZIhvcNAwICASgwBwYFKw4DAhowCgYIKoZIhvcNAgUwZAYJKwYBBAGCNxAEMVcw
VTBOMQswCQYDVQQGEwJVUzEWMBQGA1UEChMNR2VvVHJ1c3QgSW5jLjEnMCUGA1UEAxMeR2VvVHJ1
c3QgVHJ1ZSBDcmVkZW50aWFscyBDQSAyAgMQG6swZgYLKoZIhvcNAQkQAgsxV6BVME4xCzAJBgNV
BAYTAlVTMRYwFAYDVQQKEw1HZW9UcnVzdCBJbmMuMScwJQYDVQQDEx5HZW9UcnVzdCBUcnVlIENy
ZWRlbnRpYWxzIENBIDICAxAbqzANBgkqhkiG9w0BAQEFAASBgC0VXKqXCdBszx26VKyv6XZcW/8i
9HeeQVGFhE48jxPLEDJQHZ0CvR7CmrjEoVJBbpez61qpRNG6KSHR9o26BgMdIDxjrEddxBas7HOW
RM9U8pbk3U6fS6Ujt9JyQ2giiryj5qNG+OwWJcgMFAXILYyY6P7XXKnrqCncW8aUOGNpAAAAAAAA

------=_NextPart_000_012E_01C474A8.D2C9BA20--

From lucene-user-return-9521-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 28 19:35:34 2004
Return-Path: <lucene-user-return-9521-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9665 invoked from network); 28 Jul 2004 19:35:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jul 2004 19:35:33 -0000
Received: (qmail 72858 invoked by uid 500); 28 Jul 2004 19:35:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72733 invoked by uid 500); 28 Jul 2004 19:35:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72720 invoked by uid 99); 28 Jul 2004 19:35:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [204.73.34.14] (HELO drizzle.mm.com) (204.73.34.14)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 28 Jul 2004 12:35:25 -0700
Received: from MUSCOVITE.OPIN.COM (diamond.opin.com [206.147.124.36])
	by drizzle.mm.com (Postfix) with ESMTP id 3D02E5E1C9
	for <lucene-user@jakarta.apache.org>; Wed, 28 Jul 2004 14:35:20 -0500 (CDT)
Received: by MUSCOVITE.OPIN.COM with Internet Mail Service (5.5.2657.72)
	id <PBGQD702>; Wed, 28 Jul 2004 14:38:59 -0500
Message-ID: <E3B75407BA46FA4A87DF2F63ED9241CA0592F2@MUSCOVITE.OPIN.COM>
From: Steve Rajavuori <SteveR@opin.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: Rebuild and corruption
Date: Wed, 28 Jul 2004 14:37:16 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Has anyone had any experience with their index getting corrupted by an
abnormal termination? We have occasionally seen problems occur when our
program gets killed abnormally -- e.g. power loss. Here's an example of what
we saw on one of these occasions:

2004-07-21 14:19:04.317] Error in IndexWriter [12]
java.io.IOException: read past EOF
	at org.apache.lucene.store.InputStream.refill(Unknown Source)
	at org.apache.lucene.store.InputStream.readByte(Unknown Source)
	at org.apache.lucene.index.SegmentMerger.mergeNorms(Unknown Source)
	at org.apache.lucene.index.SegmentMerger.merge(Unknown Source)
	at org.apache.lucene.index.IndexWriter.mergeSegments(Unknown Source)
	at org.apache.lucene.index.IndexWriter.maybeMergeSegments(Unknown
Source)
	at org.apache.lucene.index.IndexWriter.addDocument(Unknown Source)


I have two questions. 

1) Can anyone recommend the best way to avoid any possibility of corruption
in the case where an IndexWriter doesn't get closed properly? (It seems that
termination during a merge operation is the most vulnerable point.)

2) Is there any way to recover a corrupted index, other than rebuilding from
scratch?



Steve Rajavuori
O'Pin Systems
2600 Eagan Woods Dr., Suite 400
Eagan, MN  55121
651-994-6556
stever@opin.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9522-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 28 20:47:23 2004
Return-Path: <lucene-user-return-9522-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42392 invoked from network); 28 Jul 2004 20:47:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jul 2004 20:47:23 -0000
Received: (qmail 3150 invoked by uid 500); 28 Jul 2004 20:47:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3071 invoked by uid 500); 28 Jul 2004 20:47:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3057 invoked by uid 99); 28 Jul 2004 20:47:14 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [68.15.206.242] (HELO sluglust.thebasement.com) (68.15.206.242)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 28 Jul 2004 13:47:13 -0700
Received: (from apache@localhost)
	by sluglust.thebasement.com (8.11.6/8.11.6) id i6SKp2Y02061
	for lucene-user@jakarta.apache.org; Wed, 28 Jul 2004 15:51:02 -0500
X-Authentication-Warning: sluglust.thebasement.com: apache set sender to matt@thebasement.com using -f
Received: from 68.15.206.2 ( [68.15.206.2])
	as user gallowaym@127.0.0.1 by sluglust.thebasement.com with HTTP;
	Wed, 28 Jul 2004 15:51:02 -0500
Message-ID: <1091047862.410811b64d707@sluglust.thebasement.com>
Date: Wed, 28 Jul 2004 15:51:02 -0500
From: Matt Galloway <matt@thebasement.com>
To: lucene-user@jakarta.apache.org
Subject: TermFreqVector Beginner Question 
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.1
X-Originating-IP: 68.15.206.2
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Howdy,

I am new to Lucene and thus far I am very impressed.  Thanks to all who have
worked on this project!

I am working on a project where I want to do the following:

1.) Index a bunch of document.
2.) Pluck out one of the doucments by Lucene document number
3.) Get a term frequency for that document

After some digging and playing I came across this method...

   IndexReader.getTermFreqVector(int docNumber, String field)

This is exactly what I want.  So I ran the IndexFiles demo program with some
test documents and started poking at the index with an IndexReader. But when I
called

   IndexReader.getTermFreqVector(someDocNumber,"contents")

I get NULL back.  After a little more digging I find that for a TermVector to
exist the Field has to have the TermVector flag set.  So I changes some lines
in the demo FileDocument.Document method to:

    FileInputStream is = new FileInputStream(f);
    Reader reader = new BufferedReader(new InputStreamReader(is));
    doc.add(Field.Text("contents", reader.toString(),true));

with the "true" parameter causing the new Field to turn on the storeTermVector
flag, right? So then I reindex and get the same results - getTermFreqVector
returns NULL.  So I inspect the field list of the Document from the index:

   Document d = ir.document(td.doc());
   System.out.println("  Path: "+d.get("path"));
   for (Enumeration e = d.fields() ; e.hasMoreElements() ;) 
   {
      System.out.println(((Field)e.nextElement()).toString());
   }

and I discover that there is now NO "contents" Field.  If I change the paramter
in Field.Text to false, I get a "contents" Field but no TermVector.  To date I
haven't been able to figure out how to get a TermFreqVector at all.

What am I missing?

I have looked at the documents - all the tutorials I have found just cover the
basics.

I have read the news group postings related to "TermVectors" and
"TermFreqVectors" and everybody says stuff like "the new 1.4 Vector stuff is
great".  So how do they know?  Where can I learn about this?  Are there any more
complete user tutorials/references that cover TermVector features?

Oh, I am using the 1.4 Lucene release in case it matters.

Thanks in advance,

Matt Galloway
Tulsa, Oklahoma


(BTW, I also tired Field.UnStored with the same results.)



-------------------------------------------------
This mail sent through IMP: http://horde.org/imp/

----- End forwarded message -----




-------------------------------------------------
This mail sent through IMP: http://horde.org/imp/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9523-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 28 21:04:54 2004
Return-Path: <lucene-user-return-9523-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49266 invoked from network); 28 Jul 2004 21:04:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jul 2004 21:04:54 -0000
Received: (qmail 45386 invoked by uid 500); 28 Jul 2004 21:04:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45260 invoked by uid 500); 28 Jul 2004 21:04:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45148 invoked by uid 99); 28 Jul 2004 21:04:39 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [212.68.203.254] (HELO mirapoint5.brutele.be) (212.68.203.254)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 28 Jul 2004 14:04:37 -0700
Received: from [192.168.0.2] (212.68.227.204.brutele.be [212.68.227.204])
	by mirapoint5.brutele.be (MOS 3.4.7-GR)
	with ESMTP id ASQ27831;
	Wed, 28 Jul 2004 23:04:26 +0200 (CEST)
Message-ID: <410814A3.8060404@b2boost.com>
Date: Wed, 28 Jul 2004 23:03:31 +0200
From: Luis Muniz <luis.muniz@b2boost.com>
User-Agent: Mozilla Thunderbird 0.7.1 (Windows/20040626)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: continous index update
References: <BAED4A5052281C49B0181F191AD263E915724C@dc1mailbox01.mpls.digitalriver.com>
In-Reply-To: <BAED4A5052281C49B0181F191AD263E915724C@dc1mailbox01.mpls.digitalriver.com>
X-Enigmail-Version: 0.84.2.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Junkmail-Status: score=0/50, host=mirapoint5.brutele.be
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Why didn't you switch the IndexSearcher when you were done with the 
second index?
When you are done reindexing in the second directory, your queries 
switch from the IndexSearcher that
performed its searches on the old index, to the new IndexSearcher 
pointing to the new index.
This way, no locks on the search threads, the threads that had a search 
going will finish it on the old index.
Next time you index you use the old directory again, and so on.

Lars Klevan wrote:

>When we do full rebuilds we build into a new Directory.  When it is
>ready we create a commit lock on the active directory to block new
>searches, sleep for a half-second to let exisitng searches finish, and
>then copy the newly built directory over the old one.  This seemed to
>avoid file system lock issues on windows and unix and ongoing searches
>just wait for the commit lock to be released.
>
>-Lars
>
>To create the commit lock:
>
>FSDirectory activeDirectory;
>Lock searchLock;
>try {
>    searchLock = activeDirectory.makeLock(IndexWriter.COMMIT_LOCK_NAME);
>    ... do the copy
>} finally {
>    searchLock.release();
>}
>
>-----Original Message-----
>From: Vladimir Yuryev [mailto:vyuryev@rambler.ru]
>Sent: Wednesday, July 28, 2004 6:09 AM
>To: Lucene Users List
>Subject: Re: continous index update
>
>
>Jitender
>
>Use task manager.
>
>Regards,
>Vladimir.
>
>On Wed, 28 Jul 2004 16:13:51 +0530
>  "jitender ahuja" <ajitender@aalayance.com> wrote:
>  
>
>>Hi,
>>     I am working on Windows platform and I think it wouldn't work 
>>there.
>>If it can, do please tell me.
>>
>>Regards,
>>
>>----- Original Message ----- 
>>From: "Vladimir Yuryev" <vyuryev@rambler.ru>
>>To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>>Sent: Wednesday, July 28, 2004 3:17 PM
>>Subject: Re: continous index update
>>
>>
>>    
>>
>>>Hi!
>>>
>>>I do automatic index update by cron daemon.
>>>
>>>Regards,
>>>Vladimir.
>>>
>>>On Wed, 28 Jul 2004 15:05:46 +0530
>>>  "jitender ahuja" <ajitender@aalayance.com> wrote:
>>>      
>>>
>>>>Hi all,
>>>>         I am trying to make an automatic index update file based 
>>>>        
>>>>
>>>o
>>>      
>>>
>>>>a background thread, but it gives errors in deleting the existing
>>>>index, if (only if) the server accesses the index at the same time 
>>>>        
>>>>
>>>or
>>>      
>>>
>>>>has once accessed it and even if a different request is posed, i.e.
>>>>for a different index directory or a different job, it makes no
>>>>difference.
>>>>Can anyone tell that in such a continous update scenario, how the 
>>>>        
>>>>
>>>old
>>>      
>>>
>>>>index can be updated as I feel deletion is a must of the earlier
>>>>contents so as to get the new contents in place.
>>>>
>>>>Regards,
>>>>Jitender
>>>>        
>>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>>
>>>      
>>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9524-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 28 21:30:24 2004
Return-Path: <lucene-user-return-9524-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62992 invoked from network); 28 Jul 2004 21:30:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jul 2004 21:30:24 -0000
Received: (qmail 97404 invoked by uid 500); 28 Jul 2004 21:30:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97373 invoked by uid 500); 28 Jul 2004 21:30:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97360 invoked by uid 99); 28 Jul 2004 21:30:19 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received: from [83.238.30.161] (HELO redshrimp.com) (83.238.30.161)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 28 Jul 2004 14:30:17 -0700
Received: from redshrimp.com (1.31.67@sr-slo-gw.cza.warszawa.supermedia.pl [212.180.147.130])
	(authenticated bits=0)
	by redshrimp.com (8.12.11/8.12.8) with ESMTP id i6SLUnSa063271
	for <lucene-user@jakarta.apache.org>; Wed, 28 Jul 2004 23:30:53 +0200 (CEST)
	(envelope-from miro@redshrimp.com)
Message-ID: <41081963.50107@redshrimp.com>
Date: Wed, 28 Jul 2004 23:23:47 +0200
From: Miroslaw Milewski <miro@redshrimp.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: pdfbox performance.
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


  Hi,

  I have a serious performance problem while extracting text from pdf.

  Here is the code (w/o try/catch blocks):

  File file = new File("test.pdf");
  FileInputStream reader = new FileInputStream(file);

  PDFParser parser = new PDFParser(reader);
  parser.parse();
  PDDocument pdDoc = parser.getPDDocument();

  PDFTextStripper stripper = new PDFTextStripper();
  String pdftext = stripper.getText(pdDoc);

  pdDoc.close();

  Now, the whole process takes:
  - 37,4 sec w. a 74 kB file (parsing took 5,3 sec.)
  - 156,7 sec w. a 150 kB file (parsing: 11,0 sec.)
  - 157,8 sec w. a 270 kB file (parsing: 34,3 sec.)
  - 313,3 sec w. a 151 kB file (parsing: 5,9 sec.)

  Now, I can't really get the point here. Is this performance standard 
for pdfbox? Or is it my system (win2k, PIII 700, 512 RAM), or the code, 
or maybe the pdf docs (text only, the last one with some UML diags.)

  I am writing a knowledge base system at the moment, and planned to do 
real-time text extraction and indexing (using Lucene.) But this is not 
realistic, considering the extraction thime.
  Then maybe it is a better idea to run the extraction and indexing once 
every 24 h, processing all the documents added during that period.

  TIA for any comments/suggestions.

-- 
	Miroslaw Milewski


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9525-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 28 21:36:05 2004
Return-Path: <lucene-user-return-9525-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70747 invoked from network); 28 Jul 2004 21:36:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jul 2004 21:36:04 -0000
Received: (qmail 12116 invoked by uid 500); 28 Jul 2004 21:35:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11995 invoked by uid 500); 28 Jul 2004 21:35:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11884 invoked by uid 99); 28 Jul 2004 21:35:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.230.248.25] (HELO gwia201.syr.edu) (128.230.248.25)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 28 Jul 2004 14:35:48 -0700
Received: from MTA2-MTA by gwia201.syr.edu
	with Novell_GroupWise; Wed, 28 Jul 2004 17:35:41 -0400
Message-Id: <s107e3ed.072@gwia201.syr.edu>
X-Mailer: Novell GroupWise Internet Agent 6.0.4
Date: Wed, 28 Jul 2004 17:35:28 -0400
From: "Grant Ingersoll" <gsingers@syr.edu>
To: <lucene-user@jakarta.apache.org>
Subject: Re: TermFreqVector Beginner Question
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Can you post the whole section of related code?  Sounds like you are doing =
things right. =20

In the Lucene source code, there is a file called TestTermVectors.java, =
take a look at that and see how your stuff compares.  I ran the test =
against the HEAD and it worked.

>>> matt@thebasement.com 07/28/04 04:51PM >>>

Howdy,

I am new to Lucene and thus far I am very impressed.  Thanks to all who =
have
worked on this project!

I am working on a project where I want to do the following:

1.) Index a bunch of document.
2.) Pluck out one of the doucments by Lucene document number
3.) Get a term frequency for that document

After some digging and playing I came across this method...

   IndexReader.getTermFreqVector(int docNumber, String field)

This is exactly what I want.  So I ran the IndexFiles demo program with =
some
test documents and started poking at the index with an IndexReader. But =
when I
called

   IndexReader.getTermFreqVector(someDocNumber,"contents")

I get NULL back.  After a little more digging I find that for a TermVector =
to
exist the Field has to have the TermVector flag set.  So I changes some =
lines
in the demo FileDocument.Document method to:

    FileInputStream is =3D new FileInputStream(f);
    Reader reader =3D new BufferedReader(new InputStreamReader(is));
    doc.add(Field.Text("contents", reader.toString(),true));

with the "true" parameter causing the new Field to turn on the storeTermVec=
tor
flag, right? So then I reindex and get the same results - getTermFreqVector=

returns NULL.  So I inspect the field list of the Document from the index:

   Document d =3D ir.document(td.doc());
   System.out.println("  Path: "+d.get("path"));
   for (Enumeration e =3D d.fields() ; e.hasMoreElements() ;)=20
   {
      System.out.println(((Field)e.nextElement()).toString());
   }

and I discover that there is now NO "contents" Field.  If I change the =
paramter
in Field.Text to false, I get a "contents" Field but no TermVector.  To =
date I
haven't been able to figure out how to get a TermFreqVector at all.

What am I missing?

I have looked at the documents - all the tutorials I have found just cover =
the
basics.

I have read the news group postings related to "TermVectors" and
"TermFreqVectors" and everybody says stuff like "the new 1.4 Vector stuff =
is
great".  So how do they know?  Where can I learn about this?  Are there =
any more
complete user tutorials/references that cover TermVector features?

Oh, I am using the 1.4 Lucene release in case it matters.

Thanks in advance,

Matt Galloway
Tulsa, Oklahoma


(BTW, I also tired Field.UnStored with the same results.)



-------------------------------------------------
This mail sent through IMP: http://horde.org/imp/=20

----- End forwarded message -----




-------------------------------------------------
This mail sent through IMP: http://horde.org/imp/=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org=20
For additional commands, e-mail: lucene-user-help@jakarta.apache.org=20



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9526-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 28 21:39:17 2004
Return-Path: <lucene-user-return-9526-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74855 invoked from network); 28 Jul 2004 21:39:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jul 2004 21:39:16 -0000
Received: (qmail 22806 invoked by uid 500); 28 Jul 2004 21:39:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22782 invoked by uid 500); 28 Jul 2004 21:39:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22769 invoked by uid 99); 28 Jul 2004 21:39:09 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [63.100.163.104] (HELO mercury.corp.cyveillance.com) (63.100.163.104)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 28 Jul 2004 14:39:06 -0700
Received: by mercury.corp.cyveillance.com with Internet Mail Service (5.5.2655.55)
	id <PQKGCA41>; Wed, 28 Jul 2004 17:38:03 -0400
Message-ID: <63434C14F9A6F74CB36B85033E4C30CA013966@hermes.corp.cyveillance.com>
From: wallen@Cyveillance.com
To: lucene-user@jakarta.apache.org
Subject: RE: TermFreqVector Beginner Question
Date: Wed, 28 Jul 2004 17:38:58 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Are you certain that you are storing the field "contents" in your documents,
not just tokenizing...

If you use the overloaded method that takes a Reader you lose the content.

-----Original Message-----
From: Grant Ingersoll [mailto:gsingers@syr.edu]
Sent: Wednesday, July 28, 2004 5:35 PM
To: lucene-user@jakarta.apache.org
Subject: Re: TermFreqVector Beginner Question


Can you post the whole section of related code?  Sounds like you are doing
things right.  

In the Lucene source code, there is a file called TestTermVectors.java, take
a look at that and see how your stuff compares.  I ran the test against the
HEAD and it worked.

>>> matt@thebasement.com 07/28/04 04:51PM >>>

Howdy,

I am new to Lucene and thus far I am very impressed.  Thanks to all who have
worked on this project!

I am working on a project where I want to do the following:

1.) Index a bunch of document.
2.) Pluck out one of the doucments by Lucene document number
3.) Get a term frequency for that document

After some digging and playing I came across this method...

   IndexReader.getTermFreqVector(int docNumber, String field)

This is exactly what I want.  So I ran the IndexFiles demo program with some
test documents and started poking at the index with an IndexReader. But when
I
called

   IndexReader.getTermFreqVector(someDocNumber,"contents")

I get NULL back.  After a little more digging I find that for a TermVector
to
exist the Field has to have the TermVector flag set.  So I changes some
lines
in the demo FileDocument.Document method to:

    FileInputStream is = new FileInputStream(f);
    Reader reader = new BufferedReader(new InputStreamReader(is));
    doc.add(Field.Text("contents", reader.toString(),true));

with the "true" parameter causing the new Field to turn on the
storeTermVector
flag, right? So then I reindex and get the same results - getTermFreqVector
returns NULL.  So I inspect the field list of the Document from the index:

   Document d = ir.document(td.doc());
   System.out.println("  Path: "+d.get("path"));
   for (Enumeration e = d.fields() ; e.hasMoreElements() ;) 
   {
      System.out.println(((Field)e.nextElement()).toString());
   }

and I discover that there is now NO "contents" Field.  If I change the
paramter
in Field.Text to false, I get a "contents" Field but no TermVector.  To date
I
haven't been able to figure out how to get a TermFreqVector at all.

What am I missing?

I have looked at the documents - all the tutorials I have found just cover
the
basics.

I have read the news group postings related to "TermVectors" and
"TermFreqVectors" and everybody says stuff like "the new 1.4 Vector stuff is
great".  So how do they know?  Where can I learn about this?  Are there any
more
complete user tutorials/references that cover TermVector features?

Oh, I am using the 1.4 Lucene release in case it matters.

Thanks in advance,

Matt Galloway
Tulsa, Oklahoma


(BTW, I also tired Field.UnStored with the same results.)



-------------------------------------------------
This mail sent through IMP: http://horde.org/imp/ 

----- End forwarded message -----




-------------------------------------------------
This mail sent through IMP: http://horde.org/imp/ 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org 
For additional commands, e-mail: lucene-user-help@jakarta.apache.org 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9527-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 28 21:45:12 2004
Return-Path: <lucene-user-return-9527-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81375 invoked from network); 28 Jul 2004 21:45:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jul 2004 21:45:12 -0000
Received: (qmail 36954 invoked by uid 500); 28 Jul 2004 21:45:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36876 invoked by uid 500); 28 Jul 2004 21:45:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36863 invoked by uid 99); 28 Jul 2004 21:45:05 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.89.192.138] (HELO mail.app.aconex.com) (203.89.192.138)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 28 Jul 2004 14:45:02 -0700
Received: from herald.aconex.com (unknown [192.168.0.211])
	by mail.app.aconex.com (Postfix) with ESMTP id 42AE528072
	for <lucene-user@jakarta.apache.org>; Thu, 29 Jul 2004 07:44:56 +1000 (EST)
Received: from localhost (herald [127.0.0.1])
	by herald.aconex.com (Postfix) with ESMTP id 20A286402A
	for <lucene-user@jakarta.apache.org>; Thu, 29 Jul 2004 07:44:56 +1000 (EST)
Received: from herald.aconex.com ([127.0.0.1])
 by localhost (herald [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 15932-02 for <lucene-user@jakarta.apache.org>;
 Thu, 29 Jul 2004 07:44:50 +1000 (EST)
Received: from haonguyen (unknown [192.168.0.163])
	by herald.aconex.com (Postfix) with ESMTP id 6BE6564007
	for <lucene-user@jakarta.apache.org>; Wed, 28 Jul 2004 17:44:50 -0400 (EDT)
From: "Paul Smith" <psmith@aconex.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: pdfbox performance.
Date: Thu, 29 Jul 2004 07:44:50 +1000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
In-Reply-To: <41081963.50107@redshrimp.com>
Thread-Index: AcR06h67iydE13t1Qqy6xXWXCe5K0QAAbEZw
Message-Id: <20040728214450.6BE6564007@herald.aconex.com>
X-Virus-Scanned: by amavisd-new at aconex.com
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The first thing that I would do is wrap the FileInputStream with a
BufferedInputStream.
Change: 
>   FileInputStream reader = new FileInputStream(file);
To:
InputStream reader = new BufferedInputStream(new FileInputStream(file));
You get a significant boost reading in from a buffer, particularly as the
size of the file grows.
Try that first, and then rebenchmark.
Cheers
Paul Smith
> -----Original Message-----
> From: Miroslaw Milewski [mailto:miro@redshrimp.com]
> Sent: Thursday, July 29, 2004 7:24 AM
> To: lucene-user@jakarta.apache.org
> Subject: pdfbox performance.
> 
> 
>   Hi,
> 
>   I have a serious performance problem while extracting text from pdf.
> 
>   Here is the code (w/o try/catch blocks):
> 
>   File file = new File("test.pdf");
>   FileInputStream reader = new FileInputStream(file);
> 
>   PDFParser parser = new PDFParser(reader);
>   parser.parse();
>   PDDocument pdDoc = parser.getPDDocument();
> 
>   PDFTextStripper stripper = new PDFTextStripper();
>   String pdftext = stripper.getText(pdDoc);
> 
>   pdDoc.close();
> 
>   Now, the whole process takes:
>   - 37,4 sec w. a 74 kB file (parsing took 5,3 sec.)
>   - 156,7 sec w. a 150 kB file (parsing: 11,0 sec.)
>   - 157,8 sec w. a 270 kB file (parsing: 34,3 sec.)
>   - 313,3 sec w. a 151 kB file (parsing: 5,9 sec.)
> 
>   Now, I can't really get the point here. Is this performance standard
> for pdfbox? Or is it my system (win2k, PIII 700, 512 RAM), or the code,
> or maybe the pdf docs (text only, the last one with some UML diags.)
> 
>   I am writing a knowledge base system at the moment, and planned to do
> real-time text extraction and indexing (using Lucene.) But this is not
> realistic, considering the extraction thime.
>   Then maybe it is a better idea to run the extraction and indexing once
> every 24 h, processing all the documents added during that period.
> 
>   TIA for any comments/suggestions.
> 
> --
> 	Miroslaw Milewski
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9528-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 28 21:51:17 2004
Return-Path: <lucene-user-return-9528-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89173 invoked from network); 28 Jul 2004 21:51:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jul 2004 21:51:16 -0000
Received: (qmail 53730 invoked by uid 500); 28 Jul 2004 21:51:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53662 invoked by uid 500); 28 Jul 2004 21:51:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53647 invoked by uid 99); 28 Jul 2004 21:51:08 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.79.71.204] (HELO gandalf.lan.waite.net.nz) (203.79.71.204)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 28 Jul 2004 14:51:05 -0700
Received: from localhost ([127.0.0.1] ident=amavis)
	by gandalf.lan.waite.net.nz with esmtp (Exim 4.30 #1 (Debian))
	id 1BpwKA-0007hz-FW
	for <lucene-user@jakarta.apache.org>; Thu, 29 Jul 2004 09:50:58 +1200
Received: from gandalf.lan.waite.net.nz ([127.0.0.1])
	by localhost (gandalf [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 29531-03 for <lucene-user@jakarta.apache.org>;
	Thu, 29 Jul 2004 09:50:53 +1200 (NZST)
Received: from frodo.lan.waite.net.nz ([192.168.1.29] ident=paul)
	by gandalf.lan.waite.net.nz with esmtp (Exim 4.30 #1 (Debian))
	id 1BpwK5-0007ht-H4
	for <lucene-user@jakarta.apache.org>; Thu, 29 Jul 2004 09:50:53 +1200
From: Paul <paul@waite.net.nz>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Rebuild and corruption
Date: Thu, 29 Jul 2004 09:50:52 +1200
User-Agent: KMail/1.6.2
References: <E3B75407BA46FA4A87DF2F63ED9241CA0592F2@MUSCOVITE.OPIN.COM>
In-Reply-To: <E3B75407BA46FA4A87DF2F63ED9241CA0592F2@MUSCOVITE.OPIN.COM>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: Text/Plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200407290950.53278.paul@waite.net.nz>
X-Virus-Scanned: by amavisd-new-20030616-p5 (Debian) at waite.net.nz
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Steve Rajavuori wrote:

> I have two questions.
>
> 1) Can anyone recommend the best way to avoid any possibility of corruption
> in the case where an IndexWriter doesn't get closed properly? (It seems
> that termination during a merge operation is the most vulnerable point.)

> 2) Is there any way to recover a corrupted index, other than rebuilding
> from scratch?


I am also extremely interested in any answers to these questions.

Cheers,
Paul.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.4 (GNU/Linux)

iD8DBQFBCB+8tfkpAgkMOyMRAm7fAJ47u2eLNB9o98aI8rqQPHfNUK5QpQCePe0m
p0hm3iPtCxIZd9JUr6PfJ3I=
=CepG
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9529-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 28 23:14:53 2004
Return-Path: <lucene-user-return-9529-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33311 invoked from network); 28 Jul 2004 23:14:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jul 2004 23:14:53 -0000
Received: (qmail 51412 invoked by uid 500); 28 Jul 2004 23:14:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51388 invoked by uid 500); 28 Jul 2004 23:14:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51370 invoked by uid 99); 28 Jul 2004 23:14:45 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received: from [83.238.30.161] (HELO redshrimp.com) (83.238.30.161)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 28 Jul 2004 16:14:43 -0700
Received: from redshrimp.com (1.31.67@sr-slo-gw.cza.warszawa.supermedia.pl [212.180.147.130])
	(authenticated bits=0)
	by redshrimp.com (8.12.11/8.12.8) with ESMTP id i6SNFMMd076673
	for <lucene-user@jakarta.apache.org>; Thu, 29 Jul 2004 01:15:23 +0200 (CEST)
	(envelope-from miro@redshrimp.com)
Message-ID: <41083209.1050002@redshrimp.com>
Date: Thu, 29 Jul 2004 01:08:57 +0200
From: Miroslaw Milewski <miro@redshrimp.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: pdfbox performance.
References: <20040728214450.6BE6564007@herald.aconex.com>
In-Reply-To: <20040728214450.6BE6564007@herald.aconex.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Paul Smith wrote:

  > The first thing that I would do is wrap the FileInputStream with a
  > BufferedInputStream.
  > Change:
  > > FileInputStream reader = new FileInputStream(file);
  > To:
  > InputStream reader = new BufferedInputStream(new
  > FileInputStream(file));
  > You get a significant boost reading in from a buffer, particularly as
  > the size of the file grows. Try that first, and then rebenchmark.

  I tested both, here is the code:

File file = new File("test.pdf");
InputStream reader = null;

for(int i=1; i<=6; i++) {

   long step01 = Calendar.getInstance().getTimeInMillis();
   String stream = null;
	
   if(i%2 == 0) {
     reader = new BufferedInputStream(new FileInputStream(file));
       stream = "buffered";
   }
   else {
     reader = new FileInputStream(file);
     stream = "no buffer";
   }

   PDFParser parser = null;
   PDDocument pdDoc = null;

   parser = new PDFParser(reader);
   parser.parse();
   pdDoc = parser.getPDDocument();

   long step02 = Calendar.getInstance().getTimeInMillis();

   PDFTextStripper stripper = new PDFTextStripper();
   tring pdftext = stripper.getText(pdDoc);

   long step03 = Calendar.getInstance().getTimeInMillis();

   pdDoc.close();

   long end = Calendar.getInstance().getTimeInMillis();

   System.out.println("iteration: " + i + " - " + stream);
   System.out.println("start: " + start);
   System.out.println("step01: " + (step01-start));
   System.out.println("step02: " + (step02-start));
   System.out.println("step03: " + (step03-start));
   System.out.println("end: " + (end-start));
}

  And below are the benchmarks for buffered and unbuffered readers. The 
difference is not stunning. It seems to get better with time, but this 
is prably due to some VM optimisation. And I'll extract the text only 
once :-).

file: 9kB, text only;

iteration: 1 - no buffer
step01: 0; step02: 1492; step03: 13850; end: 13880

iteration: 2 - buffered
step01: 0; step02: 912; step03: 10245; end: 10265

iteration: 3 - no buffer
step01: 0; step02: 951 ;step03: 9924; end: 9944

iteration: 4 - buffered
step01: 0; step02: 842; step03: 10075; end: 10105

iteration: 5 - no buffer
step01: 0; step02: 831; step03: 9934; end: 9954

iteration: 6 - buffered
step01: 0; step02: 932; step03: 9944; end: 9965


file: 74 kB; text only

iteration: 1 - no buffer
step01: 0; step02: 4918; step03: 33959; end: 33989

iteration: 2 - buffered
step01: 0; step02: 4367; step03: 32367; end: 32407

iteration: 3 - no buffer
step01: 0; step02: 4306; step03: 30995; end: 31025

iteration: 4 - buffered
step01: 0; step02: 4296; step03: 30734; end: 30764

iteration: 5 - no buffer
step01: 0; step02: 4266; step03: 30754; end: 30784

iteration: 6 - buffered
step01: 0; step02: 4256; step03: 30634; end: 30664


file: 270 kB, text only

iteration: 1 - no buffer
step01: 0; step02: 30634; step03: 142225; end: 142265

iteration: 2 - buffered
step01: 0; step02: 29893; step03: 135354; end: 135394

iteration: 3 - no buffer
step01: 0; step02: 29553; step03: 134654; end: 134694

iteration: 4 - buffered
step01: 0; step02: 29613; step03: 134944; end: 134984

iteration: 5 - no buffer
step01: 0; step02: 29543; step03: 139070; end: 139110

iteration: 6 - buffered
step01: 0; step02: 32427; step03: 150457; end: 150487

  Anyway, I suppose I made a wrong assumption while designing my app. I 
don't think I can get a performance boost of 90% or so. Thus the 
documents (at least the .pdfs) won't be extracted and indexed at the 
time of adding them to the knowledge base.
  Since I also have a db involved, I can keep the basic data there, and 
extract and index in the meantime - most likely using a different thread.

  thx,
-- 
	Miroslaw Milewski


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9530-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 28 23:38:09 2004
Return-Path: <lucene-user-return-9530-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40019 invoked from network); 28 Jul 2004 23:38:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jul 2004 23:38:09 -0000
Received: (qmail 77337 invoked by uid 500); 28 Jul 2004 23:38:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77239 invoked by uid 500); 28 Jul 2004 23:38:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77226 invoked by uid 99); 28 Jul 2004 23:38:02 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [216.241.36.14] (HELO mz3.forethought.net) (216.241.36.14)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 28 Jul 2004 16:38:00 -0700
Received: from j72.denver.dsl.forethought.net ([216.241.38.72])
	by mz3.forethought.net with esmtp (Exim 4.30)
	id 1Bpxzf-0001eZ-6p
	for lucene-user@jakarta.apache.org; Wed, 28 Jul 2004 17:37:55 -0600
From: Tatu Saloranta <tatu@hypermall.net>
Reply-To: tatu@hypermall.net
Organization: Linux-users missalie
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: pdfbox performance.
Date: Wed, 28 Jul 2004 17:39:03 -0600
User-Agent: KMail/1.5
References: <20040728214450.6BE6564007@herald.aconex.com>
In-Reply-To: <20040728214450.6BE6564007@herald.aconex.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200407281739.03328.tatu@hypermall.net>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday 28 July 2004 15:44, Paul Smith wrote:
> The first thing that I would do is wrap the FileInputStream with a
> BufferedInputStream.
....
> You get a significant boost reading in from a buffer, particularly as the
> size of the file grows.

Benchmarking is good; whether there's any significant performance difference 
depends on how the app reads data from the stream. Most high-performance apps 
read straight to a local buffer, in which case BufferedInputStream offers 
nothing more than the buffer overhead... :-)
You do get nice performance improvement only if most reads are done using 
single byte read methods (read()), though, so there's always a chance I 
guess.

-+ Tatu +-

> Try that first, and then rebenchmark.
> Cheers
> Paul Smith
>
> > -----Original Message-----
> > From: Miroslaw Milewski [mailto:miro@redshrimp.com]
> > Sent: Thursday, July 29, 2004 7:24 AM
> > To: lucene-user@jakarta.apache.org
> > Subject: pdfbox performance.
> >
> >
> >   Hi,
> >
> >   I have a serious performance problem while extracting text from pdf.
> >
> >   Here is the code (w/o try/catch blocks):
> >
> >   File file = new File("test.pdf");
> >   FileInputStream reader = new FileInputStream(file);
> >
> >   PDFParser parser = new PDFParser(reader);
> >   parser.parse();
> >   PDDocument pdDoc = parser.getPDDocument();
> >
> >   PDFTextStripper stripper = new PDFTextStripper();
> >   String pdftext = stripper.getText(pdDoc);
> >
> >   pdDoc.close();
> >
> >   Now, the whole process takes:
> >   - 37,4 sec w. a 74 kB file (parsing took 5,3 sec.)
> >   - 156,7 sec w. a 150 kB file (parsing: 11,0 sec.)
> >   - 157,8 sec w. a 270 kB file (parsing: 34,3 sec.)
> >   - 313,3 sec w. a 151 kB file (parsing: 5,9 sec.)
> >
> >   Now, I can't really get the point here. Is this performance standard
> > for pdfbox? Or is it my system (win2k, PIII 700, 512 RAM), or the code,
> > or maybe the pdf docs (text only, the last one with some UML diags.)
> >
> >   I am writing a knowledge base system at the moment, and planned to do
> > real-time text extraction and indexing (using Lucene.) But this is not
> > realistic, considering the extraction thime.
> >   Then maybe it is a better idea to run the extraction and indexing once
> > every 24 h, processing all the documents added during that period.
> >
> >   TIA for any comments/suggestions.
> >
> > --
> > 	Miroslaw Milewski
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9531-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 28 23:40:44 2004
Return-Path: <lucene-user-return-9531-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41059 invoked from network); 28 Jul 2004 23:40:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jul 2004 23:40:44 -0000
Received: (qmail 79492 invoked by uid 500); 28 Jul 2004 23:40:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79293 invoked by uid 500); 28 Jul 2004 23:40:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79279 invoked by uid 99); 28 Jul 2004 23:40:37 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received: from [129.21.60.6] (HELO blacksheep.csh.rit.edu) (129.21.60.6)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 28 Jul 2004 16:40:34 -0700
Received: from fury.csh.rit.edu (fury.csh.rit.edu [IPv6:2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id 698F2900D
	for <lucene-user@jakarta.apache.org>; Wed, 28 Jul 2004 19:40:28 -0400 (EDT)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id 4A784148D; Wed, 28 Jul 2004 19:40:28 -0400 (EDT)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id 3B0F9130B
	for <lucene-user@jakarta.apache.org>; Wed, 28 Jul 2004 19:40:28 -0400 (EDT)
Date: Wed, 28 Jul 2004 19:40:28 -0400 (EDT)
From: Ben Litchfield <ben@csh.rit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: pdfbox performance.
In-Reply-To: <41083209.1050002@redshrimp.com>
Message-ID: <Pine.GSO.4.53.0407281937480.29372@fury.csh.rit.edu>
References: <20040728214450.6BE6564007@herald.aconex.com> <41083209.1050002@redshrimp.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



Different PDFs will exhibit different extraction speeds because of the way
that PDF documents are structured.

I assume you are using the latest version 0.6.6, could you give 0.6.5 a
try and see if you notice faster speeds.

Ben

On Thu, 29 Jul 2004, Miroslaw Milewski wrote:

> Paul Smith wrote:
>
>   > The first thing that I would do is wrap the FileInputStream with a
>   > BufferedInputStream.
>   > Change:
>   > > FileInputStream reader = new FileInputStream(file);
>   > To:
>   > InputStream reader = new BufferedInputStream(new
>   > FileInputStream(file));
>   > You get a significant boost reading in from a buffer, particularly as
>   > the size of the file grows. Try that first, and then rebenchmark.
>
>   I tested both, here is the code:
>
> File file = new File("test.pdf");
> InputStream reader = null;
>
> for(int i=1; i<=6; i++) {
>
>    long step01 = Calendar.getInstance().getTimeInMillis();
>    String stream = null;
>
>    if(i%2 == 0) {
>      reader = new BufferedInputStream(new FileInputStream(file));
>        stream = "buffered";
>    }
>    else {
>      reader = new FileInputStream(file);
>      stream = "no buffer";
>    }
>
>    PDFParser parser = null;
>    PDDocument pdDoc = null;
>
>    parser = new PDFParser(reader);
>    parser.parse();
>    pdDoc = parser.getPDDocument();
>
>    long step02 = Calendar.getInstance().getTimeInMillis();
>
>    PDFTextStripper stripper = new PDFTextStripper();
>    tring pdftext = stripper.getText(pdDoc);
>
>    long step03 = Calendar.getInstance().getTimeInMillis();
>
>    pdDoc.close();
>
>    long end = Calendar.getInstance().getTimeInMillis();
>
>    System.out.println("iteration: " + i + " - " + stream);
>    System.out.println("start: " + start);
>    System.out.println("step01: " + (step01-start));
>    System.out.println("step02: " + (step02-start));
>    System.out.println("step03: " + (step03-start));
>    System.out.println("end: " + (end-start));
> }
>
>   And below are the benchmarks for buffered and unbuffered readers. The
> difference is not stunning. It seems to get better with time, but this
> is prably due to some VM optimisation. And I'll extract the text only
> once :-).
>
> file: 9kB, text only;
>
> iteration: 1 - no buffer
> step01: 0; step02: 1492; step03: 13850; end: 13880
>
> iteration: 2 - buffered
> step01: 0; step02: 912; step03: 10245; end: 10265
>
> iteration: 3 - no buffer
> step01: 0; step02: 951 ;step03: 9924; end: 9944
>
> iteration: 4 - buffered
> step01: 0; step02: 842; step03: 10075; end: 10105
>
> iteration: 5 - no buffer
> step01: 0; step02: 831; step03: 9934; end: 9954
>
> iteration: 6 - buffered
> step01: 0; step02: 932; step03: 9944; end: 9965
>
>
> file: 74 kB; text only
>
> iteration: 1 - no buffer
> step01: 0; step02: 4918; step03: 33959; end: 33989
>
> iteration: 2 - buffered
> step01: 0; step02: 4367; step03: 32367; end: 32407
>
> iteration: 3 - no buffer
> step01: 0; step02: 4306; step03: 30995; end: 31025
>
> iteration: 4 - buffered
> step01: 0; step02: 4296; step03: 30734; end: 30764
>
> iteration: 5 - no buffer
> step01: 0; step02: 4266; step03: 30754; end: 30784
>
> iteration: 6 - buffered
> step01: 0; step02: 4256; step03: 30634; end: 30664
>
>
> file: 270 kB, text only
>
> iteration: 1 - no buffer
> step01: 0; step02: 30634; step03: 142225; end: 142265
>
> iteration: 2 - buffered
> step01: 0; step02: 29893; step03: 135354; end: 135394
>
> iteration: 3 - no buffer
> step01: 0; step02: 29553; step03: 134654; end: 134694
>
> iteration: 4 - buffered
> step01: 0; step02: 29613; step03: 134944; end: 134984
>
> iteration: 5 - no buffer
> step01: 0; step02: 29543; step03: 139070; end: 139110
>
> iteration: 6 - buffered
> step01: 0; step02: 32427; step03: 150457; end: 150487
>
>   Anyway, I suppose I made a wrong assumption while designing my app. I
> don't think I can get a performance boost of 90% or so. Thus the
> documents (at least the .pdfs) won't be extracted and indexed at the
> time of adding them to the knowledge base.
>   Since I also have a db involved, I can keep the basic data there, and
> extract and index in the meantime - most likely using a different thread.
>
>   thx,
> --
> 	Miroslaw Milewski
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9532-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jul 28 23:49:34 2004
Return-Path: <lucene-user-return-9532-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43316 invoked from network); 28 Jul 2004 23:49:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jul 2004 23:49:34 -0000
Received: (qmail 86588 invoked by uid 500); 28 Jul 2004 23:49:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 86554 invoked by uid 500); 28 Jul 2004 23:49:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86541 invoked by uid 99); 28 Jul 2004 23:49:29 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=FROM_ENDS_IN_NUMS,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [216.148.212.183] (HELO w01.bloglines.com) (216.148.212.183)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Wed, 28 Jul 2004 16:49:28 -0700
Received: (qmail 8391 invoked by uid 99); 28 Jul 2004 23:49:22 -0000
Message-ID: <1091058562.2777732232.8389.sendItem@bloglines.com>
Date: 28 Jul 2004 23:49:22 -0000
From: yahootintin.1247688@bloglines.com
To: lucene-user@jakarta.apache.org
Subject: Re: When does IndexReader pick up changes?
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Does anyone know if the IndexWriter has to be closed for an IndexReader
to pick up the changes?

Thanks.

--- Lucene Users List" <lucene-user@jakarta.apache.org
wrote:
Hi,
> 
> If I do this:
> 
>   - open index writer
>   - add document

>   - open reader
>   - search with reader
>   - close reader
>   - close
writer
> 
> Will the reader pick up the document that 
> was added to the
index since it was opened
> after the document was added?  Or will it 
>
only pick up changes that occur after
> the index writer is closed?
> 
> Thanks for the help!
 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9533-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 29 02:36:22 2004
Return-Path: <lucene-user-return-9533-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 202 invoked from network); 29 Jul 2004 02:36:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Jul 2004 02:36:22 -0000
Received: (qmail 40676 invoked by uid 500); 29 Jul 2004 02:36:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40653 invoked by uid 500); 29 Jul 2004 02:36:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40640 invoked by uid 99); 29 Jul 2004 02:36:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [198.145.31.2] (HELO postfix.mail.ehatchersolutions.com) (198.145.31.2)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 28 Jul 2004 19:36:12 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id E9512847E4A
	for <lucene-user@jakarta.apache.org>; Wed, 28 Jul 2004 19:36:16 -0700 (MST)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <BAY13-F103gV2WZJGJ9000a715a@hotmail.com>
References: <BAY13-F103gV2WZJGJ9000a715a@hotmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <1087A60F-E108-11D8-8243-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Progress bar for Lucene
Date: Wed, 28 Jul 2004 19:36:16 -0700
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

That'd be a pretty quick progress bar in the searches I've seen.... 
10ms would be barely a blink of an eye.

Perhaps we should discuss why your searches are slow enough to warrant 
a progress bar.  But a HitCollector might be the right hook you're 
looking for.

	Erik


On Jul 28, 2004, at 10:31 AM, Hannah c wrote:

>
> Hi,
>
> Is there anything in lucene that would help with the implementation of 
> a progress bar. Somewhere I could throw an event that says the search 
> is 10%, 20% complete etc.  Or is there already an implementation of a 
> progress bar available for lucene.
>
> Thanks for your help,
> Hannah
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9534-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 29 03:49:04 2004
Return-Path: <lucene-user-return-9534-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23395 invoked from network); 29 Jul 2004 03:49:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Jul 2004 03:49:03 -0000
Received: (qmail 2041 invoked by uid 500); 29 Jul 2004 03:48:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2020 invoked by uid 500); 29 Jul 2004 03:48:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2007 invoked by uid 99); 29 Jul 2004 03:48:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [207.162.57.26] (HELO hercule.cirano.qc.ca) (207.162.57.26)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 28 Jul 2004 20:48:55 -0700
Received: from localhost (vauchers@localhost)
	by hercule.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id i6T3mr008487
	for <lucene-user@jakarta.apache.org>; Wed, 28 Jul 2004 23:48:53 -0400
X-Authentication-Warning: hercule.cirano.qc.ca: vauchers owned process doing -bs
Date: Wed, 28 Jul 2004 23:48:53 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: continous index update
In-Reply-To: <002701c47486$42b5b1e0$8d01a8c0@india.aalayance.com>
Message-ID: <Pine.LNX.4.33.0407282343300.8379-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I don't know if this helps, but this is what I do. I believe this is
correct, but I have just finished impl and haven't tested it fully:

-> keep referrence to valid searcher
-> open a reader on the old index
-> open a writer to a tmp Directory (RAM of FS)
-> find removed/modified files, remove from reader and add (if update, or
new document) to writer
-> close reader, open writer on master dir merge with tmp dir
-> update searcher reference

This "seems" to work while there is concurrent requests, but I need to be
more thorough.
HTH,
sv

On Wed, 28 Jul 2004, jitender ahuja wrote:

> Hi all,
>           I am trying to make an automatic index update file based o a background thread, but it gives errors in deleting the existing index, if (only if) the server accesses the index at the same time or has once accessed it and even if a different request is posed, i.e. for a different index directory or a different job, it makes no difference.
> Can anyone tell that in such a continous update scenario, how the old index can be updated as I feel deletion is a must of the earlier contents so as to get the new contents in place.
>
> Regards,
> Jitender


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9535-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 29 04:00:26 2004
Return-Path: <lucene-user-return-9535-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29594 invoked from network); 29 Jul 2004 04:00:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Jul 2004 04:00:25 -0000
Received: (qmail 10280 invoked by uid 500); 29 Jul 2004 04:00:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10222 invoked by uid 500); 29 Jul 2004 04:00:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10208 invoked by uid 99); 29 Jul 2004 04:00:19 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [207.162.57.26] (HELO hercule.cirano.qc.ca) (207.162.57.26)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Wed, 28 Jul 2004 21:00:19 -0700
Received: from localhost (vauchers@localhost)
	by hercule.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id i6T40HZ08584
	for <lucene-user@jakarta.apache.org>; Thu, 29 Jul 2004 00:00:17 -0400
X-Authentication-Warning: hercule.cirano.qc.ca: vauchers owned process doing -bs
Date: Thu, 29 Jul 2004 00:00:17 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: When does IndexReader pick up changes?
In-Reply-To: <1091058562.2777732232.8389.sendItem@bloglines.com>
Message-ID: <Pine.LNX.4.33.0407282351560.8379-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

IIRC, if you use a searcher, changes are picked up right away. With a
reader, I would expect it should react the same way.

<disclaimer>I'm not a lucene guru, I might be wrong</disclaimer>
Where I'm less sure is with a FSDirectory, as it uses an internal
RAMDirectory. If two separate processes (within the same classloader,
FS with same paths are reused) use different FSDirectories, you
might notice a flushing behaviour.

sv

On 28 Jul 2004 yahootintin.1247688@bloglines.com wrote:

> Hi,
>
> Does anyone know if the IndexWriter has to be closed for an IndexReader
> to pick up the changes?
>
> Thanks.
>
> --- Lucene Users List" <lucene-user@jakarta.apache.org
> wrote:
> Hi,
> >
> > If I do this:
> >
> >   - open index writer
> >   - add document
>
> >   - open reader
> >   - search with reader
> >   - close reader
> >   - close
> writer
> >
> > Will the reader pick up the document that
> > was added to the
> index since it was opened
> > after the document was added?  Or will it
> >
> only pick up changes that occur after
> > the index writer is closed?
> >
> > Thanks for the help!
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9536-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 29 07:53:08 2004
Return-Path: <lucene-user-return-9536-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30856 invoked from network); 29 Jul 2004 07:53:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Jul 2004 07:53:08 -0000
Received: (qmail 71297 invoked by uid 500); 29 Jul 2004 07:52:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71174 invoked by uid 500); 29 Jul 2004 07:52:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71161 invoked by uid 99); 29 Jul 2004 07:52:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [203.200.48.226] (HELO services.india.aalayance.com) (203.200.48.226)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 29 Jul 2004 00:52:52 -0700
Received: from ajitendra (unknown [192.168.1.141])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by services.india.aalayance.com (Postfix) with ESMTP id 1E967C1888
	for <lucene-user@jakarta.apache.org>; Thu, 29 Jul 2004 13:22:43 +0530 (IST)
Message-ID: <00f801c47541$a428fc50$8d01a8c0@india.aalayance.com>
From: "jitender ahuja" <ajitender@aalayance.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <BAY13-F103gV2WZJGJ9000a715a@hotmail.com> <1087A60F-E108-11D8-8243-000393A564E6@ehatchersolutions.com>
Subject: Re: Progress bar for Lucene
Date: Thu, 29 Jul 2004 13:27:01 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi  All,
           I would like to ask for suggestions to my issue.
I have implemented by extending the MultiCombination Query class, a
 query term(s) to be searched across ALL /ANY of the fields ( just like
 we do AND/OR among the query term(s)).
But, it takes too much time( in fact never completes) for those query terms
that are there ( at least one among them) in the inverted stored list( based
on the index earlier formed)
 but are not satisfying the Fields' combination criteria.
But, if perform an OR among the same specified fields( from a search box)
then it performs quickly.

Regards,
Jitender
----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, July 29, 2004 8:06 AM
Subject: Re: Progress bar for Lucene


> That'd be a pretty quick progress bar in the searches I've seen....
> 10ms would be barely a blink of an eye.
>
> Perhaps we should discuss why your searches are slow enough to warrant
> a progress bar.  But a HitCollector might be the right hook you're
> looking for.
>
> Erik
>
>
> On Jul 28, 2004, at 10:31 AM, Hannah c wrote:
>
> >
> > Hi,
> >
> > Is there anything in lucene that would help with the implementation of
> > a progress bar. Somewhere I could throw an event that says the search
> > is 10%, 20% complete etc.  Or is there already an implementation of a
> > progress bar available for lucene.
> >
> > Thanks for your help,
> > Hannah
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9537-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 29 10:48:00 2004
Return-Path: <lucene-user-return-9537-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28011 invoked from network); 29 Jul 2004 10:47:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Jul 2004 10:47:58 -0000
Received: (qmail 70387 invoked by uid 500); 29 Jul 2004 10:47:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70342 invoked by uid 500); 29 Jul 2004 10:47:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70323 invoked by uid 99); 29 Jul 2004 10:47:49 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [80.242.161.211] (HELO mail.meta-level.de) (80.242.161.211)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 29 Jul 2004 03:47:49 -0700
Received: from meta7.intern.meta-level.de (mail.intern.meta-level.de [10.0.0.7])
	by mail.meta-level.de (Postfix) with ESMTP id E9FFE3EB7E
	for <lucene-user@jakarta.apache.org>; Thu, 29 Jul 2004 12:47:46 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by meta7.intern.meta-level.de (Postfix) with ESMTP id D649F21AE4
	for <lucene-user@jakarta.apache.org>; Thu, 29 Jul 2004 12:47:46 +0200 (CEST)
Received: from meta7.intern.meta-level.de ([127.0.0.1])
 by localhost (meta7 [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 03806-09 for <lucene-user@jakarta.apache.org>;
 Thu, 29 Jul 2004 12:47:36 +0200 (CEST)
Received: from meta-level.de (meta107.intern.meta-level.de [10.0.0.107])
	by meta7.intern.meta-level.de (Postfix) with ESMTP id 8A55A20EB0
	for <lucene-user@jakarta.apache.org>; Thu, 29 Jul 2004 12:47:36 +0200 (CEST)
Message-ID: <4108D5C8.4070801@meta-level.de>
Date: Thu, 29 Jul 2004 12:47:36 +0200
From: Marcus Rau <marcus.rau@meta-level.de>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; de-AT; rv:1.3) Gecko/20030312
X-Accept-Language: de-at, de, en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: Allow non letter characters in tokens
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: by amavisd-new at meta-level.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi there,

my question is a pretty short one!

How can I prevent Lucene from cutting out special characters (i.e. the 
"_") during tokenization of a text? It's quite essential for me to have 
some non letter chars in my index.

Regards
Marcus


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9538-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 29 11:10:30 2004
Return-Path: <lucene-user-return-9538-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36969 invoked from network); 29 Jul 2004 11:10:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Jul 2004 11:10:30 -0000
Received: (qmail 92948 invoked by uid 500); 29 Jul 2004 11:10:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92909 invoked by uid 500); 29 Jul 2004 11:10:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92896 invoked by uid 99); 29 Jul 2004 11:10:21 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [193.62.196.100] (HELO maui.ebi.ac.uk) (193.62.196.100)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 29 Jul 2004 04:10:17 -0700
Received: from SILK (silk.dhcp.ebi.ac.uk [172.22.69.6])
	by maui.ebi.ac.uk (8.11.7+Sun/8.11.7) with SMTP id i6TB21F06608
	for <lucene-user@jakarta.apache.org>; Thu, 29 Jul 2004 12:02:01 +0100 (BST)
From: "Rupinder Singh Mazara" <rsmazara@ebi.ac.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Allow non letter characters in tokens
Date: Thu, 29 Jul 2004 12:02:37 +0100
Message-ID: <CFEHIPOIEGKAJJPJENCECECLCDAA.rsmazara@ebi.ac.uk>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.6604 (9.0.2911.0)
In-Reply-To: <4108D5C8.4070801@meta-level.de>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Importance: Normal
X-EBI-Information: This email is scanned using www.mailscanner.info.
X-EBI: Found to be clean
X-EBI-SpamCheck: not spam, SpamAssassin (score=0, required 5)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi all

  my dataset also seems to have a similar problem the chemical name
alpha-androstane-3, and several others exsists
  in the given text, can anyone point out what is the best stratergy to
employ so as to index
  words containing - _ +  to be indexed as they are and not face being
mutilated ?


  currently on my indexes the StandardAnalyzer and QueryParser  break up
alpha-androstane-3
  into TEXT:alpha -TEXT:androstane -TEXT:3 , where TEXT is the Field to be
searched

  If a enclose alpha-androstane-3 as a phrase "alpha-androstane-3" then the
QueryParser
breaks is down to ABSTRACT:"alpha androstane-3"  , some how the first "-"
disapears  ?


 regards

 Rupinder

>-----Original Message-----
>From: Marcus Rau [mailto:marcus.rau@meta-level.de]
>Sent: 29 July 2004 11:48
>To: lucene-user@jakarta.apache.org
>Subject: Allow non letter characters in tokens
>
>
>Hi there,
>
>my question is a pretty short one!
>
>How can I prevent Lucene from cutting out special characters (i.e. the
>"_") during tokenization of a text? It's quite essential for me to have
>some non letter chars in my index.
>
>Regards
>Marcus
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9539-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 29 12:35:13 2004
Return-Path: <lucene-user-return-9539-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73282 invoked from network); 29 Jul 2004 12:35:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Jul 2004 12:35:13 -0000
Received: (qmail 3811 invoked by uid 500); 29 Jul 2004 12:35:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3788 invoked by uid 500); 29 Jul 2004 12:35:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3771 invoked by uid 99); 29 Jul 2004 12:35:03 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [216.136.173.242] (HELO web12705.mail.yahoo.com) (216.136.173.242)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Thu, 29 Jul 2004 05:34:58 -0700
Message-ID: <20040729123457.15328.qmail@web12705.mail.yahoo.com>
Received: from [195.29.106.128] by web12705.mail.yahoo.com via HTTP; Thu, 29 Jul 2004 05:34:57 PDT
Date: Thu, 29 Jul 2004 05:34:57 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Allow non letter characters in tokens
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <CFEHIPOIEGKAJJPJENCECECLCDAA.rsmazara@ebi.ac.uk>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

>   my dataset also seems to have a similar problem the chemical name
> alpha-androstane-3, and several others exsists
>   in the given text, can anyone point out what is the best stratergy
> to
> employ so as to index
>   words containing - _ +  to be indexed as they are and not face
> being
> mutilated ?

You have to use or write an Analyzer that doesn't tokenize on
non-letter or other characters.

>   currently on my indexes the StandardAnalyzer and QueryParser  break
> up
> alpha-androstane-3
>   into TEXT:alpha -TEXT:androstane -TEXT:3 , where TEXT is the Field
> to be
> searched

Hm, I thought we've fixed QueryParser not to do this.  Are you using
Lucene 1.4?

Otis

>   If a enclose alpha-androstane-3 as a phrase "alpha-androstane-3"
> then the
> QueryParser
> breaks is down to ABSTRACT:"alpha androstane-3"  , some how the first
> "-"
> disapears  ?
> 
> 
>  regards
> 
>  Rupinder
> 
> >-----Original Message-----
> >From: Marcus Rau [mailto:marcus.rau@meta-level.de]
> >Sent: 29 July 2004 11:48
> >To: lucene-user@jakarta.apache.org
> >Subject: Allow non letter characters in tokens
> >
> >
> >Hi there,
> >
> >my question is a pretty short one!
> >
> >How can I prevent Lucene from cutting out special characters (i.e.
> the
> >"_") during tokenization of a text? It's quite essential for me to
> have
> >some non letter chars in my index.
> >
> >Regards
> >Marcus
> >
> >
>
>---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9540-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 29 12:55:36 2004
Return-Path: <lucene-user-return-9540-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84248 invoked from network); 29 Jul 2004 12:55:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Jul 2004 12:55:35 -0000
Received: (qmail 43761 invoked by uid 500); 29 Jul 2004 12:55:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43701 invoked by uid 500); 29 Jul 2004 12:55:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43586 invoked by uid 99); 29 Jul 2004 12:55:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [193.62.196.100] (HELO maui.ebi.ac.uk) (193.62.196.100)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 29 Jul 2004 05:55:04 -0700
Received: from SILK (silk.dhcp.ebi.ac.uk [172.22.69.6])
	by maui.ebi.ac.uk (8.11.7+Sun/8.11.7) with SMTP id i6TCstF02608
	for <lucene-user@jakarta.apache.org>; Thu, 29 Jul 2004 13:54:55 +0100 (BST)
From: "Rupinder Singh Mazara" <rsmazara@ebi.ac.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Allow non letter characters in tokens
Date: Thu, 29 Jul 2004 13:55:32 +0100
Message-ID: <CFEHIPOIEGKAJJPJENCEGECLCDAA.rsmazara@ebi.ac.uk>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.6604 (9.0.2911.0)
In-Reply-To: <20040729123457.15328.qmail@web12705.mail.yahoo.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Importance: Normal
X-EBI-Information: This email is scanned using www.mailscanner.info.
X-EBI: Found to be clean
X-EBI-SpamCheck: not spam, SpamAssassin (score=0, required 5)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi
 thanks for the reply
>>   my dataset also seems to have a similar problem the chemical name
>> alpha-androstane-3, and several others exsists in the given text, can
anyone point out what is the best stratergy
>> to employ so as to index
>>   words containing - _ +  to be indexed as they are and not face being
mutilated ?
>
>You have to use or write an Analyzer that doesn't tokenize on
>non-letter or other characters.

Are there any built in analyzers that do that ?

>>   currently on my indexes the StandardAnalyzer and QueryParser  break
>> up
>> alpha-androstane-3
>>   into TEXT:alpha -TEXT:androstane -TEXT:3 , where TEXT is the Field
>> to be
>> searched
>
>Hm, I thought we've fixed QueryParser not to do this.  Are you using
>Lucene 1.4?
no, i guess I will have to

Rupinder


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9541-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 29 13:22:13 2004
Return-Path: <lucene-user-return-9541-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6397 invoked from network); 29 Jul 2004 13:22:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Jul 2004 13:22:13 -0000
Received: (qmail 19404 invoked by uid 500); 29 Jul 2004 13:22:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19247 invoked by uid 500); 29 Jul 2004 13:22:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19215 invoked by uid 99); 29 Jul 2004 13:22:00 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [141.156.69.115] (HELO mail.infosciences.com) (141.156.69.115)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 29 Jul 2004 06:21:57 -0700
Received: from Aviran (unknown [141.156.69.109])
	by mail.infosciences.com (Postfix) with ESMTP id 207F91182F5
	for <lucene-user@jakarta.apache.org>; Thu, 29 Jul 2004 09:25:24 -0400 (EDT)
From: "Aviran" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: When does IndexReader pick up changes?
Date: Thu, 29 Jul 2004 09:21:59 -0400
Message-ID: <000601c4756f$0a164db0$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
In-Reply-To: <Pine.LNX.4.33.0407282351560.8379-100000@hercule.cirano.qc.ca>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

IndexReader will pick the changes as it is opened.=20
If new documents are added to the index you need to open a new =
IndexReader
in order for it to pick up the changes

Aviran

-----Original Message-----
From: Stephane James Vaucher [mailto:vauchers@cirano.qc.ca]=20
Sent: Thursday, July 29, 2004 0:00 AM
To: Lucene Users List
Subject: Re: When does IndexReader pick up changes?


IIRC, if you use a searcher, changes are picked up right away. With a
reader, I would expect it should react the same way.

<disclaimer>I'm not a lucene guru, I might be wrong</disclaimer> Where =
I'm
less sure is with a FSDirectory, as it uses an internal RAMDirectory. If =
two
separate processes (within the same classloader, FS with same paths are
reused) use different FSDirectories, you might notice a flushing =
behaviour.

sv

On 28 Jul 2004 yahootintin.1247688@bloglines.com wrote:

> Hi,
>
> Does anyone know if the IndexWriter has to be closed for an=20
> IndexReader to pick up the changes?
>
> Thanks.
>
> --- Lucene Users List" <lucene-user@jakarta.apache.org
> wrote:
> Hi,
> >
> > If I do this:
> >
> >   - open index writer
> >   - add document
>
> >   - open reader
> >   - search with reader
> >   - close reader
> >   - close
> writer
> >
> > Will the reader pick up the document that
> > was added to the
> index since it was opened
> > after the document was added?  Or will it
> >
> only pick up changes that occur after
> > the index writer is closed?
> >
> > Thanks for the help!
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9542-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 29 14:24:49 2004
Return-Path: <lucene-user-return-9542-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48085 invoked from network); 29 Jul 2004 14:24:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Jul 2004 14:24:48 -0000
Received: (qmail 7747 invoked by uid 500); 29 Jul 2004 14:24:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7675 invoked by uid 500); 29 Jul 2004 14:24:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7660 invoked by uid 99); 29 Jul 2004 14:24:37 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received: from [83.238.30.161] (HELO redshrimp.com) (83.238.30.161)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 29 Jul 2004 07:24:35 -0700
Received: from redshrimp.com (1.31.67@sr-slo-gw.cza.warszawa.supermedia.pl [212.180.147.130])
	(authenticated bits=0)
	by redshrimp.com (8.12.11/8.12.8) with ESMTP id i6TEPGHB033768
	for <lucene-user@jakarta.apache.org>; Thu, 29 Jul 2004 16:25:18 +0200 (CEST)
	(envelope-from miro@redshrimp.com)
Message-ID: <41090763.7020403@redshrimp.com>
Date: Thu, 29 Jul 2004 16:19:15 +0200
From: Miroslaw Milewski <miro@redshrimp.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: pdfbox performance.
References: <20040728214450.6BE6564007@herald.aconex.com> <41083209.1050002@redshrimp.com> <Pine.GSO.4.53.0407281937480.29372@fury.csh.rit.edu>
In-Reply-To: <Pine.GSO.4.53.0407281937480.29372@fury.csh.rit.edu>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ben Litchfield wrote:

  > Different PDFs will exhibit different extraction speeds because of 
the way
  > that PDF documents are structured.

  Yes, I am aware of that - this is the reason I picked pdfs containting 
only text, arranged in one column. Anwyay, there probably are lots of 
different factors to consider, so the whole benchmark thing was greatly 
simplified.
  All wanted to actually find out is whether the speed of extraction I 
encountered is 'standard' considering the system, the API version and my 
code. But then, considering the PDF structure and other factors, there 
may be no definitive answer.

  > I assume you are using the latest version 0.6.6, could you give 0.6.5 a
  > try and see if you notice faster speeds.

  Oh, yes, I forgot to specify the version. It is 0.6.6. I'll give the 
previous one a try.

  thx,
-- 
	Miroslaw Milewski

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9543-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 29 15:17:38 2004
Return-Path: <lucene-user-return-9543-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78911 invoked from network); 29 Jul 2004 15:17:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Jul 2004 15:17:38 -0000
Received: (qmail 42723 invoked by uid 500); 29 Jul 2004 15:17:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42659 invoked by uid 500); 29 Jul 2004 15:17:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42644 invoked by uid 99); 29 Jul 2004 15:17:27 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=FROM_ENDS_IN_NUMS,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [216.148.212.183] (HELO w01.bloglines.com) (216.148.212.183)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Thu, 29 Jul 2004 08:17:22 -0700
Received: (qmail 10463 invoked by uid 99); 29 Jul 2004 15:17:17 -0000
Message-ID: <1091114237.4260888502.10461.sendItem@bloglines.com>
Date: 29 Jul 2004 15:17:17 -0000
From: yahootintin.1247688@bloglines.com
To: lucene-user@jakarta.apache.org
Subject: RE: When does IndexReader pick up changes?
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yes, I understand that the IndexReader only picks up changes once it is opened.
 I'm just trying to determine whether the IndexWriter first needs to be closed
or if that is not necessary.

--- Lucene Users List" <lucene-user@jakarta.apache.org
wrote:
IndexReader will pick the changes as it is opened. 
> If new documents
are added to the index you need to open a new IndexReader
> in order for
it to pick up the changes
> 
> Aviran
> 
> -----Original Message-----

> From: Stephane James Vaucher [mailto:vauchers@cirano.qc.ca] 
> Sent: Thursday,
July 29, 2004 0:00 AM
> To: Lucene Users List
> Subject: Re: When does IndexReader
pick up changes?
> 
> 
> IIRC, if you use a searcher, changes are picked
up right away. With a
> reader, I would expect it should react the same way.

> 
> <disclaimer>I'm not a lucene guru, I might be wrong</disclaimer> Where
I'm
> less sure is with a FSDirectory, as it uses an internal RAMDirectory.
If two
> separate processes (within the same classloader, FS with same paths
are
> reused) use different FSDirectories, you might notice a flushing behaviour.

> 
> sv
> 
> On 28 Jul 2004 yahootintin.1247688@bloglines.com wrote:
> 
> > Hi,
> >
> > Does anyone know if the IndexWriter has to be closed
for an 
> > IndexReader to pick up the changes?
> >
> > Thanks.
> >
>
> --- Lucene Users List" <lucene-user@jakarta.apache.org
> > wrote:
> >
Hi,
> > >
> > > If I do this:
> > >
> > >   - open index writer
> > >
  - add document
> >
> > >   - open reader
> > >   - search with reader

> > >   - close reader
> > >   - close
> > writer
> > >
> > > Will the
reader pick up the document that
> > > was added to the
> > index since
it was opened
> > > after the document was added?  Or will it
> > >
> >
only pick up changes that occur after
> > > the index writer is closed?
> > >
> > > Thanks for the help!
> >
> >
> > ---------------------------------------------------------------------

> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> 
> 
> ---------------------------------------------------------------------

> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For
additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> 
> ---------------------------------------------------------------------

> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For
additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9544-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 29 15:27:49 2004
Return-Path: <lucene-user-return-9544-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85485 invoked from network); 29 Jul 2004 15:27:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Jul 2004 15:27:49 -0000
Received: (qmail 67980 invoked by uid 500); 29 Jul 2004 15:27:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67868 invoked by uid 500); 29 Jul 2004 15:27:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67850 invoked by uid 99); 29 Jul 2004 15:27:40 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [68.15.206.242] (HELO sluglust.thebasement.com) (68.15.206.242)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 29 Jul 2004 08:27:36 -0700
Received: (from apache@localhost)
	by sluglust.thebasement.com (8.11.6/8.11.6) id i6TFVO007644
	for lucene-user@jakarta.apache.org; Thu, 29 Jul 2004 10:31:24 -0500
X-Authentication-Warning: sluglust.thebasement.com: apache set sender to matt@thebasement.com using -f
Received: from 68.15.206.2 ( [68.15.206.2])
	as user gallowaym@127.0.0.1 by sluglust.thebasement.com with HTTP;
	Thu, 29 Jul 2004 10:31:23 -0500
Message-ID: <1091115083.4109184baca76@sluglust.thebasement.com>
Date: Thu, 29 Jul 2004 10:31:23 -0500
From: Matt Galloway <matt@thebasement.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: TermFreqVector Beginner Question
References: <s107e3ed.072@gwia201.syr.edu>
In-Reply-To: <s107e3ed.072@gwia201.syr.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.1
X-Originating-IP: 68.15.206.2
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Well, as one would expect most of the problems were me.  Here is what I
learned... (please comment on the accuracy of these statements).

1.) Setting storeTermVertor to true does nothing if store is false, i.e. 
   you must store the contents of a filed in order to retrieve TermVectors 
   for it later.  This may seem obvious to everyone else, but to a new user 
   this is anything but obvious as it is not documented anywhere that I have
   seen.  I think it would be very helpful to include this tidbit in the 
   Field class JavaDoc if not in the FAQ or some other place.

   I also think it would be helpful to prevent the user from combinations 
   of store and storeTermVector that don't make sense, namely store = false 
   and storeTermVector = true.  Maybe an exception or something.

2.) The following methods...

   Field.Text(String name, Reader value, boolean storeTermVector) 
   Field.UnStored(String name, String value, boolean storeTermVector) 

   DO NOT store the contents of the field and (based on my assumption in 
   point 1 and through observation) consequently DO NOT store TermVectors
   despite the value of their storeTermVector value.  If this is accurate,
   why do these methods exist?  This is very misleading to the new user.

3.) I am also new to Java so if you look at my earlier sample code you
   will see that I used "reader.toString()" where reader is a buffered file
   reader.  This of course is not the desired effect.  I have since rewritten
   the code to reflect the a string that contains the content of the file
   instead of some vector address thing.  This doesn't affect Lucene or
   term vectors, just my ego.

Once you understand that stor=true is ALSO a prerequisite for TermVectors (in
addition to storeTermVector=true) then everything works great.

Thanks for the help,

Matt Galloway


Quoting Grant Ingersoll <gsingers@syr.edu>:

> Can you post the whole section of related code?  Sounds like you are doing
> things right.  
> 
> In the Lucene source code, there is a file called TestTermVectors.java, take
> a look at that and see how your stuff compares.  I ran the test against the
> HEAD and it worked.
> 
> >>> matt@thebasement.com 07/28/04 04:51PM >>>
> 
> Howdy,
> 
> I am new to Lucene and thus far I am very impressed.  Thanks to all who
> have
> worked on this project!
> 
> I am working on a project where I want to do the following:
> 
> 1.) Index a bunch of document.
> 2.) Pluck out one of the doucments by Lucene document number
> 3.) Get a term frequency for that document
> 
> After some digging and playing I came across this method...
> 
>    IndexReader.getTermFreqVector(int docNumber, String field)
> 
> This is exactly what I want.  So I ran the IndexFiles demo program with
> some
> test documents and started poking at the index with an IndexReader. But when
> I
> called
> 
>    IndexReader.getTermFreqVector(someDocNumber,"contents")
> 
> I get NULL back.  After a little more digging I find that for a TermVector
> to
> exist the Field has to have the TermVector flag set.  So I changes some
> lines
> in the demo FileDocument.Document method to:
> 
>     FileInputStream is = new FileInputStream(f);
>     Reader reader = new BufferedReader(new InputStreamReader(is));
>     doc.add(Field.Text("contents", reader.toString(),true));
> 
> with the "true" parameter causing the new Field to turn on the
> storeTermVector
> flag, right? So then I reindex and get the same results - getTermFreqVector
> returns NULL.  So I inspect the field list of the Document from the index:
> 
>    Document d = ir.document(td.doc());
>    System.out.println("  Path: "+d.get("path"));
>    for (Enumeration e = d.fields() ; e.hasMoreElements() ;) 
>    {
>       System.out.println(((Field)e.nextElement()).toString());
>    }
> 
> and I discover that there is now NO "contents" Field.  If I change the
> paramter
> in Field.Text to false, I get a "contents" Field but no TermVector.  To date
> I
> haven't been able to figure out how to get a TermFreqVector at all.
> 
> What am I missing?
> 
> I have looked at the documents - all the tutorials I have found just cover
> the
> basics.
> 
> I have read the news group postings related to "TermVectors" and
> "TermFreqVectors" and everybody says stuff like "the new 1.4 Vector stuff
> is
> great".  So how do they know?  Where can I learn about this?  Are there any
> more
> complete user tutorials/references that cover TermVector features?
> 
> Oh, I am using the 1.4 Lucene release in case it matters.
> 
> Thanks in advance,
> 
> Matt Galloway
> Tulsa, Oklahoma
> 
> 
> (BTW, I also tired Field.UnStored with the same results.)

-------------------------------------------------
This mail sent through IMP: http://horde.org/imp/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9545-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 29 15:39:22 2004
Return-Path: <lucene-user-return-9545-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93134 invoked from network); 29 Jul 2004 15:39:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Jul 2004 15:39:21 -0000
Received: (qmail 99614 invoked by uid 500); 29 Jul 2004 15:39:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99500 invoked by uid 500); 29 Jul 2004 15:39:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99487 invoked by uid 99); 29 Jul 2004 15:39:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [141.156.69.115] (HELO mail.infosciences.com) (141.156.69.115)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 29 Jul 2004 08:39:09 -0700
Received: from Aviran (unknown [141.156.69.109])
	by mail.infosciences.com (Postfix) with ESMTP id D8BE81182F5
	for <lucene-user@jakarta.apache.org>; Thu, 29 Jul 2004 11:42:35 -0400 (EDT)
From: "Aviran" <amordo@infosciences.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: When does IndexReader pick up changes?
Date: Thu, 29 Jul 2004 11:39:12 -0400
Message-ID: <002601c47582$35b35540$6a00a8c0@Aviran>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
In-Reply-To: <1091114237.4260888502.10461.sendItem@bloglines.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

AFAIK you don't have to close the writer

-----Original Message-----
From: yahootintin.1247688@bloglines.com
[mailto:yahootintin.1247688@bloglines.com]=20
Sent: Thursday, July 29, 2004 11:17 AM
To: lucene-user@jakarta.apache.org
Subject: RE: When does IndexReader pick up changes?


Yes, I understand that the IndexReader only picks up changes once it is
opened.  I'm just trying to determine whether the IndexWriter first =
needs to
be closed or if that is not necessary.

--- Lucene Users List" <lucene-user@jakarta.apache.org
wrote:
IndexReader will pick the changes as it is opened.=20
> If new documents
are added to the index you need to open a new IndexReader
> in order for
it to pick up the changes
>=20
> Aviran
>=20
> -----Original Message-----

> From: Stephane James Vaucher [mailto:vauchers@cirano.qc.ca]
> Sent: Thursday,
July 29, 2004 0:00 AM
> To: Lucene Users List
> Subject: Re: When does IndexReader
pick up changes?
>=20
>=20
> IIRC, if you use a searcher, changes are picked
up right away. With a
> reader, I would expect it should react the same way.

>=20
> <disclaimer>I'm not a lucene guru, I might be wrong</disclaimer> Where
I'm
> less sure is with a FSDirectory, as it uses an internal RAMDirectory.
If two
> separate processes (within the same classloader, FS with same paths
are
> reused) use different FSDirectories, you might notice a flushing=20
> behaviour.

>=20
> sv
>=20
> On 28 Jul 2004 yahootintin.1247688@bloglines.com wrote:
>=20
> > Hi,
> >
> > Does anyone know if the IndexWriter has to be closed
for an=20
> > IndexReader to pick up the changes?
> >
> > Thanks.
> >
>
> --- Lucene Users List" <lucene-user@jakarta.apache.org
> > wrote:
> >
Hi,
> > >
> > > If I do this:
> > >
> > >   - open index writer
> > >
  - add document
> >
> > >   - open reader
> > >   - search with reader

> > >   - close reader
> > >   - close
> > writer
> > >
> > > Will the
reader pick up the document that
> > > was added to the
> > index since
it was opened
> > > after the document was added?  Or will it
> > >
> >
only pick up changes that occur after
> > > the index writer is closed?
> > >
> > > Thanks for the help!
> >
> >
> > --------------------------------------------------------------------
> > -

> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>=20
>=20
> ---------------------------------------------------------------------

> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For
additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20
>=20
>=20
> ---------------------------------------------------------------------

> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For
additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9546-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 29 15:44:53 2004
Return-Path: <lucene-user-return-9546-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96383 invoked from network); 29 Jul 2004 15:44:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Jul 2004 15:44:53 -0000
Received: (qmail 11879 invoked by uid 500); 29 Jul 2004 15:44:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11856 invoked by uid 500); 29 Jul 2004 15:44:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11840 invoked by uid 99); 29 Jul 2004 15:44:44 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received: from [212.227.126.189] (HELO moutng.kundenserver.de) (212.227.126.189)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 29 Jul 2004 08:44:40 -0700
Received: from [212.227.126.161] (helo=mrelayng.kundenserver.de)
	by moutng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1BqD5C-0006M9-00
	for lucene-user@jakarta.apache.org; Thu, 29 Jul 2004 17:44:38 +0200
Received: from [82.135.5.9] (helo=192.168.10.101)
	by mrelayng.kundenserver.de with asmtp (TLSv1:RC4-MD5:128)
	(Exim 3.35 #1)
	id 1BqD5B-0005kR-00
	for lucene-user@jakarta.apache.org; Thu, 29 Jul 2004 17:44:37 +0200
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: TermFreqVector Beginner Question
Date: Thu, 29 Jul 2004 17:44:20 +0200
User-Agent: KMail/1.5.1
References: <s107e3ed.072@gwia201.syr.edu> <1091115083.4109184baca76@sluglust.thebasement.com>
In-Reply-To: <1091115083.4109184baca76@sluglust.thebasement.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200407291744.20259.daniel.naber@t-online.de>
X-Provags-ID: kundenserver.de abuse@kundenserver.de auth:94b5a5949d2eb00693e70b0c89be5163
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday 29 July 2004 17:31, Matt Galloway wrote:

>  Field.Text(String name, Reader value, boolean storeTermVector)
>    Field.UnStored(String name, String value, boolean storeTermVector)
>
>    DO NOT store the contents of the field

This part of the API is known to be difficult and will be fixed for Lucene 2.0 
(which is the next version). Till then, I'll try to remember to extend the 
documentation.

Regards
 Daniel


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9547-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 29 15:45:28 2004
Return-Path: <lucene-user-return-9547-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96673 invoked from network); 29 Jul 2004 15:45:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Jul 2004 15:45:27 -0000
Received: (qmail 13445 invoked by uid 500); 29 Jul 2004 15:45:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13416 invoked by uid 500); 29 Jul 2004 15:45:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13403 invoked by uid 99); 29 Jul 2004 15:45:19 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [207.245.223.231] (HELO trekspace.trekspace.com) (207.245.223.231)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 29 Jul 2004 08:45:16 -0700
Received: from trekspace.trekspace.com (trekspace@trekspace.trekspace.com [192.168.2.234])
	by trekspace.trekspace.com (8.12.3/8.12.3/Debian-6.6) with ESMTP id i6TFjA3e000480
	for <lucene-user@jakarta.apache.org>; Thu, 29 Jul 2004 11:45:10 -0400
Message-ID: <707660213345303136GXOBTHZICK.tlai@trekspace.com>
Date: Thu, 29 Jul 2004 11:45:10 -0400 (EDT)
From: Terence Lai <tlai@trekspace.com>
Reply-To: Terence Lai <tlai@trekspace.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Joining a common field from 2 separate index directories/files?
Mime-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Mailer: Treklogic MailTool v1.6 http://www.treklogic.com
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Does anyone know whether Lucene can perform a search on 2 separate index files with joining a common field? I am trying to similate the database table join relationship.

As an illustration, let's say we have the following 2 different indice:

Index 1 (Course Information)
----------------------------
Field: course_id
Field: course_title
Field: course_description

Index 2 (Registered Students)
-----------------------------
Field: course_id
Field: student_id
Field: first_name
Field: last_name

I would like to perform a keyword search on the course_description and return a list of students who registered for the course. Although I can have perform multiple searches to achieve the same results, it could be very expensive as the index becomes more complicated.

Thanks,
Terence




----------------------------------------------------------
Get your free email account from http://www.trekspace.com
          Your Internet Virtual Desktop!

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9548-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 29 15:49:56 2004
Return-Path: <lucene-user-return-9548-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98786 invoked from network); 29 Jul 2004 15:49:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Jul 2004 15:49:56 -0000
Received: (qmail 22515 invoked by uid 500); 29 Jul 2004 15:49:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22482 invoked by uid 500); 29 Jul 2004 15:49:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22469 invoked by uid 99); 29 Jul 2004 15:49:48 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=FOR_FREE,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received: from [216.200.145.37] (HELO omta06.mta.everyone.net) (216.200.145.37)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 29 Jul 2004 08:49:47 -0700
Received: from sitemail.everyone.net (bigip1-snat [216.200.145.29])
	by omta06.mta.everyone.net (Postfix) with ESMTP id 2DFB547038
	for <lucene-user@jakarta.apache.org>; Thu, 29 Jul 2004 08:49:40 -0700 (PDT)
Received: by sitemail.everyone.net (Postfix, from userid 99)
	id CCC8C3954; Thu, 29 Jul 2004 08:49:34 -0700 (PDT)
Content-Type: text/plain
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0
X-Mailer: MIME-tools 5.41 (Entity 5.404)
Date: Thu, 29 Jul 2004 08:49:34 -0700 (PDT)
From: Ian McDonnell <ian@spinnerscity.com>
To: lucene-user@jakarta.apache.org
Subject: Setting up the index directory on tomcat
Reply-To: ian@spinnerscity.com
X-Originating-Ip: [193.1.132.28]
X-Eon-Sig: AQDOAZ5BCRyOAApa7QEAAAAB,6fdb24ecd0a910d911532f2f8c3c0b7d
Message-Id: <20040729154934.CCC8C3954@sitemail.everyone.net>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Is this done simply by saying:

String indexDirectory = "/path of directory you want index to be stored in"

Ian

_____________________________________________________________
Sign up for FREE email from SpinnersCity Online Dance Magazine & Vortal at http://www.spinnerscity.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9549-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 29 16:28:49 2004
Return-Path: <lucene-user-return-9549-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18757 invoked from network); 29 Jul 2004 16:28:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Jul 2004 16:28:48 -0000
Received: (qmail 19189 invoked by uid 500); 29 Jul 2004 16:28:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19040 invoked by uid 500); 29 Jul 2004 16:28:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18958 invoked by uid 99); 29 Jul 2004 16:28:33 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [12.43.53.196] (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 29 Jul 2004 09:28:31 -0700
Received: from [192.168.1.100] ([12.43.53.196])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id i6TGSPVP009510
	for <lucene-user@jakarta.apache.org>; Thu, 29 Jul 2004 09:28:26 -0700
Message-ID: <41091F38.2000808@newsmonster.org>
Date: Thu, 29 Jul 2004 09:00:56 -0700
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Progress bar for Lucene
References: <BAY13-F103gV2WZJGJ9000a715a@hotmail.com>
In-Reply-To: <BAY13-F103gV2WZJGJ9000a715a@hotmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hannah c wrote:

>
> Hi,
>
> Is there anything in lucene that would help with the implementation of 
> a progress bar. Somewhere I could throw an event that says the search 
> is 10%, 20% complete etc.  Or is there already an implementation of a 
> progress bar available for lucene.

I would really like to see something like this for index optimizes 
actually.  If an optimized takes 45 minutes its nice to see a progress 
indicator.

Of course I've thought about just doign a disk base IO assumption.  ... 
you just watch the index being created and estimate its target size...

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9550-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 29 16:37:10 2004
Return-Path: <lucene-user-return-9550-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22414 invoked from network); 29 Jul 2004 16:37:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Jul 2004 16:37:10 -0000
Received: (qmail 35862 invoked by uid 500); 29 Jul 2004 16:37:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35830 invoked by uid 500); 29 Jul 2004 16:37:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35817 invoked by uid 99); 29 Jul 2004 16:37:02 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.230.248.25] (HELO gwia201.syr.edu) (128.230.248.25)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Thu, 29 Jul 2004 09:36:59 -0700
Received: from MTA2-MTA by gwia201.syr.edu
	with Novell_GroupWise; Thu, 29 Jul 2004 12:36:53 -0400
Message-Id: <s108ef65.075@gwia201.syr.edu>
X-Mailer: Novell GroupWise Internet Agent 6.0.4
Date: Thu, 29 Jul 2004 12:36:29 -0400
From: "Grant Ingersoll" <gsingers@syr.edu>
To: <lucene-user@jakarta.apache.org>
Subject: Re: TermFreqVector Beginner Question
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Matt,

Perhaps you could add this to the Wiki somewhere?  May want to also add a =
bug report on this, so that it is captured, especially the stuff in 2.).

>>> matt@thebasement.com 07/29/04 11:31AM >>>
Well, as one would expect most of the problems were me.  Here is what I
learned... (please comment on the accuracy of these statements).

1.) Setting storeTermVertor to true does nothing if store is false, =
i.e.=20
   you must store the contents of a filed in order to retrieve TermVectors=
=20
   for it later.  This may seem obvious to everyone else, but to a new =
user=20
   this is anything but obvious as it is not documented anywhere that I =
have
   seen.  I think it would be very helpful to include this tidbit in =
the=20
   Field class JavaDoc if not in the FAQ or some other place.

   I also think it would be helpful to prevent the user from combinations=
=20
   of store and storeTermVector that don't make sense, namely store =3D =
false=20
   and storeTermVector =3D true.  Maybe an exception or something.

2.) The following methods...

   Field.Text(String name, Reader value, boolean storeTermVector)=20
   Field.UnStored(String name, String value, boolean storeTermVector)=20

   DO NOT store the contents of the field and (based on my assumption =
in=20
   point 1 and through observation) consequently DO NOT store TermVectors
   despite the value of their storeTermVector value.  If this is accurate,
   why do these methods exist?  This is very misleading to the new user.

3.) I am also new to Java so if you look at my earlier sample code you
   will see that I used "reader.toString()" where reader is a buffered =
file
   reader.  This of course is not the desired effect.  I have since =
rewritten
   the code to reflect the a string that contains the content of the file
   instead of some vector address thing.  This doesn't affect Lucene or
   term vectors, just my ego.

Once you understand that stor=3Dtrue is ALSO a prerequisite for TermVectors=
 (in
addition to storeTermVector=3Dtrue) then everything works great.

Thanks for the help,

Matt Galloway


Quoting Grant Ingersoll <gsingers@syr.edu>:

> Can you post the whole section of related code?  Sounds like you are =
doing
> things right. =20
>=20
> In the Lucene source code, there is a file called TestTermVectors.java, =
take
> a look at that and see how your stuff compares.  I ran the test against =
the
> HEAD and it worked.
>=20
> >>> matt@thebasement.com 07/28/04 04:51PM >>>
>=20
> Howdy,
>=20
> I am new to Lucene and thus far I am very impressed.  Thanks to all who
> have
> worked on this project!
>=20
> I am working on a project where I want to do the following:
>=20
> 1.) Index a bunch of document.
> 2.) Pluck out one of the doucments by Lucene document number
> 3.) Get a term frequency for that document
>=20
> After some digging and playing I came across this method...
>=20
>    IndexReader.getTermFreqVector(int docNumber, String field)
>=20
> This is exactly what I want.  So I ran the IndexFiles demo program with
> some
> test documents and started poking at the index with an IndexReader. But =
when
> I
> called
>=20
>    IndexReader.getTermFreqVector(someDocNumber,"contents")
>=20
> I get NULL back.  After a little more digging I find that for a =
TermVector
> to
> exist the Field has to have the TermVector flag set.  So I changes some
> lines
> in the demo FileDocument.Document method to:
>=20
>     FileInputStream is =3D new FileInputStream(f);
>     Reader reader =3D new BufferedReader(new InputStreamReader(is));
>     doc.add(Field.Text("contents", reader.toString(),true));
>=20
> with the "true" parameter causing the new Field to turn on the
> storeTermVector
> flag, right? So then I reindex and get the same results - getTermFreqVect=
or
> returns NULL.  So I inspect the field list of the Document from the =
index:
>=20
>    Document d =3D ir.document(td.doc());
>    System.out.println("  Path: "+d.get("path"));
>    for (Enumeration e =3D d.fields() ; e.hasMoreElements() ;)=20
>    {
>       System.out.println(((Field)e.nextElement()).toString());
>    }
>=20
> and I discover that there is now NO "contents" Field.  If I change the
> paramter
> in Field.Text to false, I get a "contents" Field but no TermVector.  To =
date
> I
> haven't been able to figure out how to get a TermFreqVector at all.
>=20
> What am I missing?
>=20
> I have looked at the documents - all the tutorials I have found just =
cover
> the
> basics.
>=20
> I have read the news group postings related to "TermVectors" and
> "TermFreqVectors" and everybody says stuff like "the new 1.4 Vector =
stuff
> is
> great".  So how do they know?  Where can I learn about this?  Are there =
any
> more
> complete user tutorials/references that cover TermVector features?
>=20
> Oh, I am using the 1.4 Lucene release in case it matters.
>=20
> Thanks in advance,
>=20
> Matt Galloway
> Tulsa, Oklahoma
>=20
>=20
> (BTW, I also tired Field.UnStored with the same results.)

-------------------------------------------------
This mail sent through IMP: http://horde.org/imp/=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org=20
For additional commands, e-mail: lucene-user-help@jakarta.apache.org=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9551-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 29 16:51:04 2004
Return-Path: <lucene-user-return-9551-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27432 invoked from network); 29 Jul 2004 16:51:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Jul 2004 16:51:04 -0000
Received: (qmail 51992 invoked by uid 500); 29 Jul 2004 16:50:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51774 invoked by uid 500); 29 Jul 2004 16:50:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51759 invoked by uid 99); 29 Jul 2004 16:50:55 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=FOR_FREE
X-Spam-Check-By: apache.org
Received: from [207.162.57.103] (HELO mere.cirano.qc.ca) (207.162.57.103)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 29 Jul 2004 09:50:51 -0700
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i6TGojZH024956;
	Thu, 29 Jul 2004 12:50:45 -0400
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i6TGojcL024952;
	Thu, 29 Jul 2004 12:50:45 -0400
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Thu, 29 Jul 2004 12:50:45 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>, <ian@spinnerscity.com>
Subject: Re: Setting up the index directory on tomcat
In-Reply-To: <20040729154934.CCC8C3954@sitemail.everyone.net>
Message-ID: <Pine.LNX.4.44.0407291249560.24545-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Assuming you are using a FSDirectory and have the appropriate permissions, 
yup.

sv

On Thu, 29 Jul 2004, Ian McDonnell wrote:

> Is this done simply by saying:
> 
> String indexDirectory = "/path of directory you want index to be stored in"
> 
> Ian
> 
> _____________________________________________________________
> Sign up for FREE email from SpinnersCity Online Dance Magazine & Vortal at http://www.spinnerscity.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9552-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 29 16:59:54 2004
Return-Path: <lucene-user-return-9552-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31050 invoked from network); 29 Jul 2004 16:59:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Jul 2004 16:59:53 -0000
Received: (qmail 70711 invoked by uid 500); 29 Jul 2004 16:59:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70669 invoked by uid 500); 29 Jul 2004 16:59:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70656 invoked by uid 99); 29 Jul 2004 16:59:45 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [207.162.57.103] (HELO mere.cirano.qc.ca) (207.162.57.103)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 29 Jul 2004 09:59:42 -0700
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i6TGxeZH024986;
	Thu, 29 Jul 2004 12:59:40 -0400
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i6TGxe1W024982;
	Thu, 29 Jul 2004 12:59:40 -0400
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Thu, 29 Jul 2004 12:59:39 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>,
   Terence Lai <tlai@trekspace.com>
Subject: Re: Joining a common field from 2 separate index directories/files?
In-Reply-To: <707660213345303136GXOBTHZICK.tlai@trekspace.com>
Message-ID: <Pine.LNX.4.44.0407291255240.24545-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

AFAIK, no.

I remember this thread:
http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg05125.html

that mentions looking at funcionality in zoe (http://zoe.nu/).

HTH,
sv

On Thu, 29 Jul 2004, Terence Lai wrote:

> Hi,
> 
> Does anyone know whether Lucene can perform a search on 2 separate index files with joining a common field? I am trying to similate the database table join relationship.
> 
> As an illustration, let's say we have the following 2 different indice:
> 
> Index 1 (Course Information)
> ----------------------------
> Field: course_id
> Field: course_title
> Field: course_description
> 
> Index 2 (Registered Students)
> -----------------------------
> Field: course_id
> Field: student_id
> Field: first_name
> Field: last_name
> 
> I would like to perform a keyword search on the course_description and return a list of students who registered for the course. Although I can have perform multiple searches to achieve the same results, it could be very expensive as the index becomes more complicated.
> 
> Thanks,
> Terence
> 
> 
> 
> 
> ----------------------------------------------------------
> Get your free email account from http://www.trekspace.com
>           Your Internet Virtual Desktop!
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9553-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 29 17:49:14 2004
Return-Path: <lucene-user-return-9553-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57146 invoked from network); 29 Jul 2004 17:49:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Jul 2004 17:49:14 -0000
Received: (qmail 28090 invoked by uid 500); 29 Jul 2004 17:49:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27933 invoked by uid 500); 29 Jul 2004 17:49:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27919 invoked by uid 99); 29 Jul 2004 17:49:05 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=FROM_ENDS_IN_NUMS,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received: from [216.148.212.183] (HELO w01.bloglines.com) (216.148.212.183)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Thu, 29 Jul 2004 10:49:02 -0700
Received: (qmail 18895 invoked by uid 99); 29 Jul 2004 17:48:57 -0000
Message-ID: <1091123337.3729495055.18894.sendItem@bloglines.com>
Date: 29 Jul 2004 17:48:57 -0000
From: yahootintin.1247688@bloglines.com
To: lucene-user@jakarta.apache.org
Subject: RE: When does IndexReader pick up changes?
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for the info!

--- Lucene Users List" <lucene-user@jakarta.apache.org
wrote:
AFAIK you don't have to close the writer
> 
> -----Original Message-----

> From: yahootintin.1247688@bloglines.com
> [mailto:yahootintin.1247688@bloglines.com]

> Sent: Thursday, July 29, 2004 11:17 AM
> To: lucene-user@jakarta.apache.org

> Subject: RE: When does IndexReader pick up changes?
> 
> 
> Yes, I understand
that the IndexReader only picks up changes once it is
> opened.  I'm just
trying to determine whether the IndexWriter first needs to
> be closed or
if that is not necessary.
> 
> --- Lucene Users List" <lucene-user@jakarta.apache.org

> wrote:
> IndexReader will pick the changes as it is opened. 
> > If new
documents
> are added to the index you need to open a new IndexReader
>
> in order for
> it to pick up the changes
> > 
> > Aviran
> > 
> > -----Original
Message-----
> 
> > From: Stephane James Vaucher [mailto:vauchers@cirano.qc.ca]

> > Sent: Thursday,
> July 29, 2004 0:00 AM
> > To: Lucene Users List
> > Subject: Re: When does IndexReader
> pick up changes?
> > 
> > 
>
> IIRC, if you use a searcher, changes are picked
> up right away. With a

> > reader, I would expect it should react the same way.
> 
> > 
> > <disclaimer>I'm
not a lucene guru, I might be wrong</disclaimer> Where
> I'm
> > less sure
is with a FSDirectory, as it uses an internal RAMDirectory.
> If two
> >
separate processes (within the same classloader, FS with same paths
> are

> > reused) use different FSDirectories, you might notice a flushing 
>
> behaviour.
> 
> > 
> > sv
> > 
> > On 28 Jul 2004 yahootintin.1247688@bloglines.com
wrote:
> > 
> > > Hi,
> > >
> > > Does anyone know if the IndexWriter
has to be closed
> for an 
> > > IndexReader to pick up the changes?
>
> >
> > > Thanks.
> > >
> >
> > --- Lucene Users List" <lucene-user@jakarta.apache.org

> > > wrote:
> > >
> Hi,
> > > >
> > > > If I do this:
> > > >
> >
> >   - open index writer
> > > >
>   - add document
> > >
> > > >   -
open reader
> > > >   - search with reader
> 
> > > >   - close reader

> > > >   - close
> > > writer
> > > >
> > > > Will the
> reader pick
up the document that
> > > > was added to the
> > > index since
> it was
opened
> > > > after the document was added?  Or will it
> > > >
> > >

> only pick up changes that occur after
> > > > the index writer is closed?

> > > >
> > > > Thanks for the help!
> > >
> > >
> > > --------------------------------------------------------------------

> > > -
> 
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org

> >
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org

> >
> >
> > 
> > 
> > ---------------------------------------------------------------------

> 
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org

> > For
> additional commands, e-mail: lucene-user-help@jakarta.apache.org

> > 
> > 
> > 
> > 
> > ---------------------------------------------------------------------

> 
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org

> > For
> additional commands, e-mail: lucene-user-help@jakarta.apache.org

> > 
> > 
> 
> ---------------------------------------------------------------------

> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For
additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> 
> ---------------------------------------------------------------------

> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For
additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9554-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jul 29 20:33:20 2004
Return-Path: <lucene-user-return-9554-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30079 invoked from network); 29 Jul 2004 20:33:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Jul 2004 20:33:20 -0000
Received: (qmail 53014 invoked by uid 500); 29 Jul 2004 20:33:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52955 invoked by uid 500); 29 Jul 2004 20:33:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52941 invoked by uid 99); 29 Jul 2004 20:33:13 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [192.18.98.34] (HELO brmea-mail-3.sun.com) (192.18.98.34)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Thu, 29 Jul 2004 13:33:10 -0700
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by brmea-mail-3.sun.com (8.12.10/8.12.9) with ESMTP id i6TKX9il023494
	for <lucene-user@jakarta.apache.org>; Thu, 29 Jul 2004 14:33:09 -0600 (MDT)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0I1M00301RQI4N@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Thu, 29 Jul 2004 13:33:09 -0700 (PDT)
Received: from [127.0.0.1] (d-sjc06-25-188.SFBay.Sun.COM [129.145.25.188])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0I1M004Q3RQT4P@ha21sca-mail1.sfbay.sun.com> for
 lucene-user@jakarta.apache.org; Thu, 29 Jul 2004 13:33:06 -0700 (PDT)
Date: Thu, 29 Jul 2004 13:32:30 -0700
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Re: Phrase Query
In-reply-to: <4D52C5EE-E05B-11D8-8A97-000393A564E6@ehatchersolutions.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <41095EDE.6090407@sun.com>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7)
 Gecko/20040616
References: <41058FA0.3010002@sun.com>
 <E31F5FBE-DF84-11D8-9D44-000393A564E6@ehatchersolutions.com>
 <4106A208.8070204@sun.com>
 <4D52C5EE-E05B-11D8-8A97-000393A564E6@ehatchersolutions.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

What I am trying to do is to create the query based on the field in 
which user enters the keywords.

I have the following fields.

All the Words:
The Exact Phrase:
Any of the Words:

For All the words and Any of the words I am able to use Query. For The 
Exact Phrase I want to use the PhraseQuery. That is what I was showing 
in the code snippet. My mistake in not commenting out the line where I 
was per-pending and appending the quotation marks, which is taken care 
by  the PhraseQuery. So how would one go about creating the different 
queries and then do the actual search.

Thanks.
-H

Erik Hatcher wrote:

> On Jul 27, 2004, at 11:42 AM, Hetan Shah wrote:
> 
>> Works for me.
>> Here is what I am striving to achieve.
>>
>> phraseString =     request.getParameter("phrase");
>> if (phraseString.length() > 0){
>>     phraseQueryString = "\""+phraseString+("\"");
>>     phraseQuery = true;
>>     queryString = phraseQueryString;
>> }
>>
>> if(phraseQuery){
>>     PhraseQuery pQuery = new PhraseQuery();
>>     pQuery.add(new Term("contents", phraseString));
>>     pQuery.setSlop(0);
>>     QueryParser qP = new QueryParser();
>>     query = qP.parse(phraseString);
>> }
> 
> 
> I don't understand what you're attempting in the above.  You don't make 
> a new Term and add it to a PhraseQuery instance with the term having 
> quotes around it - it is QueryParser that deals with quoted strings and 
> interpreting it into a PhraseQuery.
> 
> Are you using pQuery?  Or query?  You've got two Query instances there - 
> query is the one you probably want.
> 
>     Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9555-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 30 07:51:07 2004
Return-Path: <lucene-user-return-9555-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16379 invoked from network); 30 Jul 2004 07:51:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 30 Jul 2004 07:51:07 -0000
Received: (qmail 80674 invoked by uid 500); 30 Jul 2004 07:51:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80445 invoked by uid 500); 30 Jul 2004 07:50:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80432 invoked by uid 99); 30 Jul 2004 07:50:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received: from [212.227.126.186] (HELO moutng.kundenserver.de) (212.227.126.186)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 30 Jul 2004 00:50:56 -0700
Received: from [212.227.126.207] (helo=mrelayng.kundenserver.de)
	by moutng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1BqSAI-0007ke-00
	for lucene-user@jakarta.apache.org; Fri, 30 Jul 2004 09:50:54 +0200
Received: from [82.135.5.9] (helo=192.168.10.101)
	by mrelayng.kundenserver.de with asmtp (TLSv1:RC4-MD5:128)
	(Exim 3.35 #1)
	id 1BqSAH-0000GB-00
	for lucene-user@jakarta.apache.org; Fri, 30 Jul 2004 09:50:53 +0200
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Phrase Query
Date: Fri, 30 Jul 2004 09:50:53 +0200
User-Agent: KMail/1.5.1
References: <41058FA0.3010002@sun.com> <4D52C5EE-E05B-11D8-8A97-000393A564E6@ehatchersolutions.com> <41095EDE.6090407@sun.com>
In-Reply-To: <41095EDE.6090407@sun.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200407300950.53701.daniel.naber@t-online.de>
X-Provags-ID: kundenserver.de abuse@kundenserver.de auth:94b5a5949d2eb00693e70b0c89be5163
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday 29 July 2004 22:32, Hetan Shah wrote:

> All the Words:
> The Exact Phrase:
> Any of the Words:

Just use the query parser. For the "All" fields, set 
setOperator(DEFAULT_OPERATOR_AND) before you call parse(). For the phrase, 
just add quotes around the query before you feed it into QuerParser.

Regards
 Daniel


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9556-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 30 09:16:03 2004
Return-Path: <lucene-user-return-9556-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19661 invoked from network); 30 Jul 2004 09:16:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 30 Jul 2004 09:16:03 -0000
Received: (qmail 61846 invoked by uid 500); 30 Jul 2004 09:15:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61718 invoked by uid 500); 30 Jul 2004 09:15:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61702 invoked by uid 99); 30 Jul 2004 09:15:54 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [216.136.173.245] (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Fri, 30 Jul 2004 02:15:50 -0700
Message-ID: <20040730091549.94364.qmail@web12708.mail.yahoo.com>
Received: from [195.29.101.191] by web12708.mail.yahoo.com via HTTP; Fri, 30 Jul 2004 02:15:49 PDT
Date: Fri, 30 Jul 2004 02:15:49 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Allow non letter characters in tokens
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <CFEHIPOIEGKAJJPJENCEGECLCDAA.rsmazara@ebi.ac.uk>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

WhitespaceAnalyzer breaks input on spaces.

Otis

--- Rupinder Singh Mazara <rsmazara@ebi.ac.uk> wrote:

> Hi
>  thanks for the reply
> >>   my dataset also seems to have a similar problem the chemical
> name
> >> alpha-androstane-3, and several others exsists in the given text,
> can
> anyone point out what is the best stratergy
> >> to employ so as to index
> >>   words containing - _ +  to be indexed as they are and not face
> being
> mutilated ?
> >
> >You have to use or write an Analyzer that doesn't tokenize on
> >non-letter or other characters.
> 
> Are there any built in analyzers that do that ?
> 
> >>   currently on my indexes the StandardAnalyzer and QueryParser 
> break
> >> up
> >> alpha-androstane-3
> >>   into TEXT:alpha -TEXT:androstane -TEXT:3 , where TEXT is the
> Field
> >> to be
> >> searched
> >
> >Hm, I thought we've fixed QueryParser not to do this.  Are you using
> >Lucene 1.4?
> no, i guess I will have to
> 
> Rupinder
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9557-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 30 14:16:04 2004
Return-Path: <lucene-user-return-9557-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4306 invoked from network); 30 Jul 2004 14:16:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 30 Jul 2004 14:16:04 -0000
Received: (qmail 55975 invoked by uid 500); 30 Jul 2004 14:15:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55873 invoked by uid 500); 30 Jul 2004 14:15:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55854 invoked by uid 99); 30 Jul 2004 14:15:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_70_80,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [195.200.15.130] (HELO VULCAN.infonic.com) (195.200.15.130)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 30 Jul 2004 07:15:56 -0700
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C4763D.C50C547E"
Subject: Proximity searching and phrase
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6487.1
Date: Fri, 30 Jul 2004 15:01:54 +0100
content-class: urn:content-classes:message
Message-ID: <6A0D1706A950884C952D27EB1654773402E9C4@vulcan.infonic.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Proximity searching and phrase
Thread-Index: AcR2PcT5zRckgjUbTjem2U2Z1102UA==
From: "Lucene" <Lucene@roylip.ftech.net>
To: <lucene-user@jakarta.apache.org>,
	<lucene@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4763D.C50C547E
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,

I was wondering is there is a way to do proximity searches with phrases
eg "very good" NEAR "sometimes".

Any help on this would be welcome.

Many thanks,


Roy


------_=_NextPart_001_01C4763D.C50C547E--

From lucene-user-return-9558-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 30 14:30:34 2004
Return-Path: <lucene-user-return-9558-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11259 invoked from network); 30 Jul 2004 14:30:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 30 Jul 2004 14:30:34 -0000
Received: (qmail 96366 invoked by uid 500); 30 Jul 2004 14:29:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96287 invoked by uid 500); 30 Jul 2004 14:29:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96186 invoked by uid 99); 30 Jul 2004 14:29:42 -0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET
X-Spam-Check-By: apache.org
Received: from [69.30.47.66] (HELO smtp.elevennetworks.com) (69.30.47.66)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 30 Jul 2004 07:29:39 -0700
Received: from [209.180.166.194] (helo=postfix.mail.ehatchersolutions.com)
	by smtp.elevennetworks.com with esmtp (Exim 4.41 (FreeBSD))
	id 1BqYNt-0003mO-3N
	for lucene-user@jakarta.apache.org; Fri, 30 Jul 2004 07:29:33 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 9AD9C84A3DF
	for <lucene-user@jakarta.apache.org>; Fri, 30 Jul 2004 07:29:25 -0700 (MST)
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <6A0D1706A950884C952D27EB1654773402E9C4@vulcan.infonic.com>
References: <6A0D1706A950884C952D27EB1654773402E9C4@vulcan.infonic.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <DAB9D30F-E234-11D8-872C-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Proximity searching and phrase
Date: Fri, 30 Jul 2004 07:29:24 -0700
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jul 30, 2004, at 7:01 AM, Lucene wrote:
> I was wondering is there is a way to do proximity searches with phrases
> eg "very good" NEAR "sometimes".
>
> Any help on this would be welcome.

You can do this with the new SpanQuery family in v1.4.  The example you 
gave would consist of a SpanTermQuery for "very", "good", and 
"sometimes", with the first two combined with a SpanNearQuery (with no 
slop, in order), and finally the "very good" SpanNearQuery combined 
with another SpanNearQuery with the "sometimes" SpanTermQuery.  *whew* 
:)

There is no QueryParser support (yet) for such constructs, so doing 
this with the API directly is necessary.  There has been a contribution 
of a new parser that can work with SpanQuery which probably should be 
put in the sandbox soon.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-9559-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jul 30 14:47:12 2004
Return-Path: <lucene-user-return-9559-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20585 invoked from network); 30 Jul 2004 14:47:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 30 Jul 2004 14:47:12 -0000
Received: (qmail 53660 invoked by uid 500); 30 Jul 2004 14:47:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53617 invoked by uid 500); 30 Jul 2004 14:47:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53602 invoked by uid 99); 30 Jul 2004 14:47:04 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [195.200.15.130] (HELO VULCAN.infonic.com) (195.200.15.130)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Fri, 30 Jul 2004 07:47:04 -0700
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Proximity searching and phrase
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6487.1
Date: Fri, 30 Jul 2004 15:33:02 +0100
content-class: urn:content-classes:message
Message-ID: <6A0D1706A950884C952D27EB1654773402E9C6@vulcan.infonic.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Proximity searching and phrase
Thread-Index: AcR2P86s2CzJM2AqSzqPFQtXj5bV1AAAkwpw
From: "Lucene" <Lucene@roylip.ftech.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks!

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Posted At: 30 July 2004 15:29
Posted To: Lucene
Conversation: Proximity searching and phrase
Subject: Re: Proximity searching and phrase


On Jul 30, 2004, at 7:01 AM, Lucene wrote:
> I was wondering is there is a way to do proximity searches with=20
> phrases eg "very good" NEAR "sometimes".
>
> Any help on this would be welcome.

You can do this with the new SpanQuery family in v1.4.  The example you=20
gave would consist of a SpanTermQuery for "very", "good", and=20
"sometimes", with the first two combined with a SpanNearQuery (with no=20
slop, in order), and finally the "very good" SpanNearQuery combined=20
with another SpanNearQuery with the "sometimes" SpanTermQuery.  *whew*=20
:)

There is no QueryParser support (yet) for such constructs, so doing=20
this with the API directly is necessary.  There has been a contribution=20
of a new parser that can work with SpanQuery which probably should be=20
put in the sandbox soon.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


