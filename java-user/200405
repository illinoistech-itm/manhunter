From lucene-user-return-8161-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 03 02:52:05 2004
Return-Path: <lucene-user-return-8161-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13596 invoked from network); 3 May 2004 02:52:05 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 May 2004 02:52:05 -0000
Received: (qmail 47715 invoked by uid 500); 3 May 2004 02:51:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47689 invoked by uid 500); 3 May 2004 02:51:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47666 invoked from network); 3 May 2004 02:51:38 -0000
Received: from unknown (HELO velum.qala.com.sg) (210.193.2.49)
  by daedalus.apache.org with SMTP; 3 May 2004 02:51:38 -0000
Received: from kelvin (adsl-210-193-14-222.qala.com.sg [210.193.14.222])
	by velum.qala.com.sg (8.12.10/8.12.10) with SMTP id i432pgdb018570
	for <lucene-user@jakarta.apache.org>; Mon, 3 May 2004 10:51:43 +0800 (SGT)
X-Qala-Anti-Virus: This mail is checked for Viruses by Qala Antivirus Service. Server No. 4
From: Kelvin Tan <lists-kelvin@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: PocoMail 3.03 (1740) - Licensed Version
Reply-To: <nsh@bayt.net>
Date: Mon, 3 May 2004 10:51:48 +0800
Message-ID: <200453105148.510042@kelvin>
In-Reply-To: <108335336601@202.157.159.2>
Subject: RE: Disappearing segments
Mime-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for responding Nader.

hmmmm...you've hit the nail on the spot. I do have a cron job which backs up=
 the 
index. Its run in a batch index scheduled job. 

The logic is basically

backupindex()
try
{
=09batchindex()
}
catch(Exception e)
{
=09deleteindex();
=09copyfrombackuptoindex()
=09deletebackup();
}

I assume that the original index before backing up was complete and=
 'working'. 
I'm also deleting the index that failed, instead of just overwriting. Where=
 did 
I go wrong? 

I'm not checking that the index isn't write-locked before backing up, but I=
 
don't think that's the problem (though it very well can be a separate=
 problem).

Kelvin

On Fri, 30 Apr 2004 23:20:42 +0400, Nader Henein said:
> Could you share you're indexing code, and just to make sure id there
> anything running on your machine that could delete these files, like an a
> cron job that'll back up the index.
> 
> You could go by process of elimination and shut down your server and see=
 if
> the files disappear, coz if the problem is contained within the server=
 you
> know that you can safely go on the DEBUG rampage.
> 
> Nader
> 
> -----Original Message-----
> From: Kelvin Tan [mailto:lists-kelvin@relevanz.com]
> Sent: Friday, April 30, 2004 9:15 AM
> To: Lucene Users List
> Subject: Re: Disappearing segments
> 
> An update:
> 
> Daniel Naber suggested using IndexWriter.setUseCompoundFile() to see if=
 it
> happens with the compound index format. Before I had a chance to try it=
 out,
> this happened:
> 
> java.io.FileNotFoundException: C:\index\segments (The system cannot find=
 the
> file specified)
> at java.io.RandomAccessFile.open(Native Method)
> at java.io.RandomAccessFile.<init>(RandomAccessFile.java:200)
> at
> org.apache.lucene.store.FSInputStream$Descriptor.<init>(FSDirectory.j
> ava:321)
> at
> org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java:329)
> at
> org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java:268)
> at org.apache.lucene.index.SegmentInfos.read(SegmentInfos.java:71)
> at
> org.apache.lucene.index.IndexWriter$1.doBody(IndexWriter.java:154)
> at org.apache.lucene.store.Lock$With.run(Lock.java:116)
> at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:149)
> at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:131)
> 
> so even the segments file somehow got deleted. Hoping someone can shed=
 some
> light on this...
> 
> Kelvin
> 
> On Thu, 29 Apr 2004 11:45:36 +0800, Kelvin Tan said:
>> Errr, sorry for the cross-post to lucene-dev as well, but I realized
>> this mail really belongs on lucene-user...
>> 
>> I've been experiencing intermittent disappearing segments which result
>> in the following stacktrace:
>> 
>> Caused by: java.io.FileNotFoundException: C:\index\_1ae.fnm (The
>> system cannot find the file specified) at
>> java.io.RandomAccessFile.open(Native Method) at
>> java.io.RandomAccessFile.<init>(RandomAccessFile.java:200)
>> at
>> org.apache.lucene.store.FSInputStream$Descriptor.<init>(FSDirectory.ja
>> va:321) at
>> org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java:329)
>> at org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java:268)
>> at org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java:78)
>> at
>> org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:104)
>> at org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:95)
>> at org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:112)
>> at org.apache.lucene.store.Lock$With.run(Lock.java:116)
>> at org.apache.lucene.index.IndexReader.open(IndexReader.java:103)
>> at org.apache.lucene.index.IndexReader.open(IndexReader.java:91)
>> at
>> org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:75)
>> 
>> The segment that disappears (_1ae.fnm) varies.
>> 
>> I can't seem to reproduce this error consistently, so don't have a
>> clue what might cause it, but it usually happens after the application
>> has been running for some time. Has anyone experienced something
>> similar, or can anyone point
> me
>> in the right direction?
>> 
>> When this occurs, I need to rebuild the entire index for it to be
>> usable. Very troubling indeed...
>> 
>> Kelvin
>> 
>> 
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8162-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 03 04:30:24 2004
Return-Path: <lucene-user-return-8162-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87009 invoked from network); 3 May 2004 04:30:24 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 May 2004 04:30:24 -0000
Received: (qmail 30613 invoked by uid 500); 3 May 2004 04:29:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30448 invoked by uid 500); 3 May 2004 04:29:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30434 invoked from network); 3 May 2004 04:29:56 -0000
Received: from unknown (HELO c007.snv.cp.net) (209.228.33.228)
  by daedalus.apache.org with SMTP; 3 May 2004 04:29:56 -0000
Received: (cpmta 2713 invoked from network); 2 May 2004 21:30:06 -0700
Received: from 213.132.40.2 (HELO naderit)
  by smtp.bayt.net (209.228.33.228) with SMTP; 2 May 2004 21:30:06 -0700
X-Sent: 3 May 2004 04:30:06 GMT
Reply-To: <nsh@bayt.net>
From: "Nader S. Henein" <nsh@bayt.net>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>,
	<nsh@bayt.net>
Subject: RE: Disappearing segments
Date: Mon, 3 May 2004 08:29:52 +0400
Organization: Bayt.com
Message-ID: <000601c430c7$4c44f7f0$1801a8c0@naderit>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
In-Reply-To: <200453105148.510042@kelvin>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You're catching an exception and acting on it, but you're not reporting =
it,
for now, comment out the deletion and copyfrombackup and try reporting
errors, if the batch is failing on a regular basis you want to know =
about
it, comment the deletion and copy across code out, also watch out that =
if
you backup the index during an indexing you could end up with a limp =
index
missing a few files, hence the missing segments, I would check for write =
and
commit locks pre-backup so as to avoid that. This is probably caused by =
two
unrelated errors first batchindex() fails then the backup restores a =
version
that may not have all the indexes there (depending when it was backed =
up)
thereby giving you the feeling that segments are disappearing randomly.

Hope this helps.

Nader Henein

-----Original Message-----
From: Kelvin Tan [mailto:lists-kelvin@relevanz.com]=20
Sent: Monday, May 03, 2004 6:52 AM
To: Lucene Users List
Subject: RE: Disappearing segments


Thanks for responding Nader.

hmmmm...you've hit the nail on the spot. I do have a cron job which =
backs up
the=20
index. Its run in a batch index scheduled job.=20

The logic is basically

backupindex()
try
{
	batchindex()
}
catch(Exception e)
{
	deleteindex();
	copyfrombackuptoindex()
	deletebackup();
}

I assume that the original index before backing up was complete and
'working'.=20
I'm also deleting the index that failed, instead of just overwriting. =
Where
did=20
I go wrong?=20

I'm not checking that the index isn't write-locked before backing up, =
but I=20
don't think that's the problem (though it very well can be a separate
problem).

Kelvin

On Fri, 30 Apr 2004 23:20:42 +0400, Nader Henein said:
> Could you share you're indexing code, and just to make sure id there=20
> anything running on your machine that could delete these files, like=20
> an a cron job that'll back up the index.
>=20
> You could go by process of elimination and shut down your server and=20
> see if the files disappear, coz if the problem is contained within the =

> server you know that you can safely go on the DEBUG rampage.
>=20
> Nader
>=20
> -----Original Message-----
> From: Kelvin Tan [mailto:lists-kelvin@relevanz.com]
> Sent: Friday, April 30, 2004 9:15 AM
> To: Lucene Users List
> Subject: Re: Disappearing segments
>=20
> An update:
>=20
> Daniel Naber suggested using IndexWriter.setUseCompoundFile() to see=20
> if it happens with the compound index format. Before I had a chance to =

> try it out, this happened:
>=20
> java.io.FileNotFoundException: C:\index\segments (The system cannot=20
> find the file specified) at java.io.RandomAccessFile.open(Native=20
> Method) at java.io.RandomAccessFile.<init>(RandomAccessFile.java:200)
> at
> org.apache.lucene.store.FSInputStream$Descriptor.<init>(FSDirectory.j
> ava:321)
> at
> org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java:329)
> at
> org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java:268)
> at org.apache.lucene.index.SegmentInfos.read(SegmentInfos.java:71)
> at
> org.apache.lucene.index.IndexWriter$1.doBody(IndexWriter.java:154)
> at org.apache.lucene.store.Lock$With.run(Lock.java:116)
> at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:149)
> at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:131)
>=20
> so even the segments file somehow got deleted. Hoping someone can shed =

> some light on this...
>=20
> Kelvin
>=20
> On Thu, 29 Apr 2004 11:45:36 +0800, Kelvin Tan said:
>> Errr, sorry for the cross-post to lucene-dev as well, but I realized=20
>> this mail really belongs on lucene-user...
>>=20
>> I've been experiencing intermittent disappearing segments which=20
>> result in the following stacktrace:
>>=20
>> Caused by: java.io.FileNotFoundException: C:\index\_1ae.fnm (The=20
>> system cannot find the file specified) at=20
>> java.io.RandomAccessFile.open(Native Method) at
>> java.io.RandomAccessFile.<init>(RandomAccessFile.java:200)
>> at=20
>> org.apache.lucene.store.FSInputStream$Descriptor.<init>(FSDirectory.j
>> a
>> va:321) at
>> org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java:329)
>> at org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java:268)
>> at org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java:78)
>> at
>> org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:104)
>> at =
org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:95)
>> at org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:112)
>> at org.apache.lucene.store.Lock$With.run(Lock.java:116)
>> at org.apache.lucene.index.IndexReader.open(IndexReader.java:103)
>> at org.apache.lucene.index.IndexReader.open(IndexReader.java:91)
>> at
>> org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:75)
>>=20
>> The segment that disappears (_1ae.fnm) varies.
>>=20
>> I can't seem to reproduce this error consistently, so don't have a=20
>> clue what might cause it, but it usually happens after the=20
>> application has been running for some time. Has anyone experienced=20
>> something similar, or can anyone point
> me
>> in the right direction?
>>=20
>> When this occurs, I need to rebuild the entire index for it to be=20
>> usable. Very troubling indeed...
>>=20
>> Kelvin
>>=20
>>=20
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8163-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 03 04:58:09 2004
Return-Path: <lucene-user-return-8163-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2249 invoked from network); 3 May 2004 04:58:08 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 May 2004 04:58:08 -0000
Received: (qmail 52904 invoked by uid 500); 3 May 2004 04:57:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52649 invoked by uid 500); 3 May 2004 04:57:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52594 invoked from network); 3 May 2004 04:57:40 -0000
Received: from unknown (HELO velum.qala.com.sg) (210.193.2.49)
  by daedalus.apache.org with SMTP; 3 May 2004 04:57:40 -0000
Received: from kelvin (adsl-210-193-14-222.qala.com.sg [210.193.14.222])
	by velum.qala.com.sg (8.12.10/8.12.10) with SMTP id i434vidb001443
	for <lucene-user@jakarta.apache.org>; Mon, 3 May 2004 12:57:45 +0800 (SGT)
X-Qala-Anti-Virus: This mail is checked for Viruses by Qala Antivirus Service. Server No. 4
From: Kelvin Tan <lists-kelvin@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: PocoMail 3.03 (1740) - Licensed Version
Reply-To: <nsh@bayt.net>
Date: Mon, 3 May 2004 12:57:51 +0800
Message-ID: <200453125751.614943@kelvin>
In-Reply-To: <000601c430c7$4c44f7f0$1801a8c0@naderit>
Subject: RE: Disappearing segments
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

<snip>
> you backup the index during an indexing you could end up with a limp=
 index
> missing a few files, hence the missing segments, I would check for write=
 and
> commit locks pre-backup so as to avoid that. 

That's what I needed to know! Thanks!

Kelvin

> -----Original Message-----
> From: Kelvin Tan [mailto:lists-kelvin@relevanz.com]
> Sent: Monday, May 03, 2004 6:52 AM
> To: Lucene Users List
> Subject: RE: Disappearing segments
> 
> 
> Thanks for responding Nader.
> 
> hmmmm...you've hit the nail on the spot. I do have a cron job which backs=
 up
> the
> index. Its run in a batch index scheduled job.
> 
> The logic is basically
> 
> backupindex()
> try
> {
> batchindex()
> }
> catch(Exception e)
> {
> deleteindex();
> copyfrombackuptoindex()
> deletebackup();
> }
> 
> I assume that the original index before backing up was complete and
> 'working'.
> I'm also deleting the index that failed, instead of just overwriting.=
 Where
> did
> I go wrong?
> 
> I'm not checking that the index isn't write-locked before backing up, but=
 I
> don't think that's the problem (though it very well can be a separate
> problem).
> 
> Kelvin
> 
> On Fri, 30 Apr 2004 23:20:42 +0400, Nader Henein said:
>> Could you share you're indexing code, and just to make sure id there
>> anything running on your machine that could delete these files, like
>> an a cron job that'll back up the index.
>> 
>> You could go by process of elimination and shut down your server and
>> see if the files disappear, coz if the problem is contained within the
>> server you know that you can safely go on the DEBUG rampage.
>> 
>> Nader
>> 
>> -----Original Message-----
>> From: Kelvin Tan [mailto:lists-kelvin@relevanz.com]
>> Sent: Friday, April 30, 2004 9:15 AM
>> To: Lucene Users List
>> Subject: Re: Disappearing segments
>> 
>> An update:
>> 
>> Daniel Naber suggested using IndexWriter.setUseCompoundFile() to see
>> if it happens with the compound index format. Before I had a chance to
>> try it out, this happened:
>> 
>> java.io.FileNotFoundException: C:\index\segments (The system cannot
>> find the file specified) at java.io.RandomAccessFile.open(Native
>> Method) at java.io.RandomAccessFile.<init>(RandomAccessFile.java:200)
>> at
>> org.apache.lucene.store.FSInputStream$Descriptor.<init>(FSDirectory.j
>> ava:321)
>> at
>> org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java:329)
>> at
>> org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java:268)
>> at org.apache.lucene.index.SegmentInfos.read(SegmentInfos.java:71)
>> at
>> org.apache.lucene.index.IndexWriter$1.doBody(IndexWriter.java:154)
>> at org.apache.lucene.store.Lock$With.run(Lock.java:116)
>> at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:149)
>> at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:131)
>> 
>> so even the segments file somehow got deleted. Hoping someone can shed
>> some light on this...
>> 
>> Kelvin
>> 
>> On Thu, 29 Apr 2004 11:45:36 +0800, Kelvin Tan said:
>>> Errr, sorry for the cross-post to lucene-dev as well, but I realized
>>> this mail really belongs on lucene-user...
>>> 
>>> I've been experiencing intermittent disappearing segments which
>>> result in the following stacktrace:
>>> 
>>> Caused by: java.io.FileNotFoundException: C:\index\_1ae.fnm (The
>>> system cannot find the file specified) at
>>> java.io.RandomAccessFile.open(Native Method) at
>>> java.io.RandomAccessFile.<init>(RandomAccessFile.java:200)
>>> at
>>> org.apache.lucene.store.FSInputStream$Descriptor.<init>(FSDirectory.j
>>> a
>>> va:321) at
>>> org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java:329)
>>> at org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java:268)
>>> at org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java:78)
>>> at
>>> org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:104)
>>> at org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:95)
>>> at org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:112)
>>> at org.apache.lucene.store.Lock$With.run(Lock.java:116)
>>> at org.apache.lucene.index.IndexReader.open(IndexReader.java:103)
>>> at org.apache.lucene.index.IndexReader.open(IndexReader.java:91)
>>> at
>>> org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:75)
>>> 
>>> The segment that disappears (_1ae.fnm) varies.
>>> 
>>> I can't seem to reproduce this error consistently, so don't have a
>>> clue what might cause it, but it usually happens after the
>>> application has been running for some time. Has anyone experienced
>>> something similar, or can anyone point
>> me
>>> in the right direction?
>>> 
>>> When this occurs, I need to rebuild the entire index for it to be
>>> usable. Very troubling indeed...
>>> 
>>> Kelvin
>>> 
>>> 
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>> 
>> 
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>> 
>> 
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8164-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 03 13:53:29 2004
Return-Path: <lucene-user-return-8164-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99218 invoked from network); 3 May 2004 13:53:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 May 2004 13:53:29 -0000
Received: (qmail 8867 invoked by uid 500); 3 May 2004 13:53:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8838 invoked by uid 500); 3 May 2004 13:53:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8815 invoked from network); 3 May 2004 13:53:18 -0000
Received: from unknown (HELO redhat.sirma.bg) (62.213.161.130)
  by daedalus.apache.org with SMTP; 3 May 2004 13:53:18 -0000
Received: from ROSENM (rossenm.sirma.int [192.168.128.33])
	by redhat.sirma.bg (8.12.7/8.12.7/Sirma Linux 0.6) with SMTP id i43Dr6GW010258
	for <lucene-user@jakarta.apache.org>; Mon, 3 May 2004 16:53:08 +0300
Message-ID: <02a701c43115$d2bbbe10$2180a8c0@ROSENM>
From: "Rosen Marinov" <rosenm@sirma.bg>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: change directory
Date: Mon, 3 May 2004 16:52:06 +0300
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_02A4_01C4312E.F747C8F0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Scanned: by Sirma Antivirus System             
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_02A4_01C4312E.F747C8F0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: quoted-printable

Hi all,

I have a good working index about 3 GB in one directory
for example in c:/index1

now i want to change the computer and directory for example
to d:/index2    (is this possible ???)

and when i copy it to the new pc and directory  on=20
IndeaxReader(indexpath) i get=20
   =20
      java.io.IOException: Lock obtain timed out
        at org.apache.lucene.store.Lock.obtain(Lock.java:97)
        at org.apache.lucene.store.Lock$With.run(Lock.java:147)
        at org.apache.lucene.index.IndexReader.open

before coping i closed all java aplications, index was with
closed writers, readers, serachers, terms and etc ...
i have finally clauses to close all this and shut down function,
all my methods which works with index are synchronized.

10x fopr help in advance

------=_NextPart_000_02A4_01C4312E.F747C8F0--



From lucene-user-return-8165-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 03 14:04:16 2004
Return-Path: <lucene-user-return-8165-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4833 invoked from network); 3 May 2004 14:04:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 May 2004 14:04:16 -0000
Received: (qmail 26715 invoked by uid 500); 3 May 2004 14:04:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26684 invoked by uid 500); 3 May 2004 14:04:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26656 invoked from network); 3 May 2004 14:04:04 -0000
Received: from unknown (HELO Voxistech) (212.68.194.190)
  by daedalus.apache.org with SMTP; 3 May 2004 14:04:04 -0000
Received: from [192.168.197.1] by Voxistech [192.168.197.122] with SmartMax MailMax for lucene-user@jakarta.apache.org; Mon, 03 May 2004 16:18:41 +0200
X-SmartMax-AuthUser: 
Subject: RE: change directory
MIME-Version: 1.0
Content-Type: multipart/signed;
	protocol="application/x-pkcs7-signature";
	micalg=SHA1;
	boundary="----=_NextPart_000_0012_01C43128.F8A51DC0"
Date: Mon, 3 May 2004 16:09:11 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Message-ID: <315FE10D07E7F945B450E210D8E26A090DA756@srv-01.voxisnet.com>
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
Thread-Topic: change directory
Thread-Index: AcQxFvebAOt42nvdRsmxW8/rJTtG+QAAOk6A
From: "Philippe Dubois" <philippe@voxistech.com>
content-class: urn:content-classes:message
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0012_01C43128.F8A51DC0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hello,

I already had this problem.

Check if a file "C:\Documents and Settings\philippe\Local
Settings\Temp\lu*.lock" exist and delete it !  

You can delete it if no writer is running !

Philippe 

-----Original Message-----
From: Rosen Marinov [mailto:rosenm@sirma.bg] 
Sent: lundi 3 mai 2004 15:52
To: Lucene Users List
Subject: change directory

Hi all,

I have a good working index about 3 GB in one directory for example in
c:/index1

now i want to change the computer and directory for example
to d:/index2    (is this possible ???)

and when i copy it to the new pc and directory  on
IndeaxReader(indexpath) i get 
    
      java.io.IOException: Lock obtain timed out
        at org.apache.lucene.store.Lock.obtain(Lock.java:97)
        at org.apache.lucene.store.Lock$With.run(Lock.java:147)
        at org.apache.lucene.index.IndexReader.open

before coping i closed all java aplications, index was with closed writers,
readers, serachers, terms and etc ...
i have finally clauses to close all this and shut down function, all my
methods which works with index are synchronized.

10x fopr help in advance


------=_NextPart_000_0012_01C43128.F8A51DC0
Content-Type: application/x-pkcs7-signature;
	name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="smime.p7s"

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIO5TCCA14w
ggJGoAMCAQICCwEAAAAAAPvoXVPpMA0GCSqGSIb3DQEBBQUAMHcxCzAJBgNVBAYTAkJFMRkwFwYD
VQQKExBHbG9iYWxTaWduIG52LXNhMSAwHgYDVQQLExdQZXJzb25hbFNpZ24gQ2xhc3MgMSBDQTEr
MCkGA1UEAxMiR2xvYmFsU2lnbiBQZXJzb25hbFNpZ24gQ2xhc3MgMSBDQTAeFw0wNDA0MTQwOTMz
NDFaFw0wNDA1MTQwOTMzNDFaMF4xNTAzBgNVBAMeLABwAGgAaQBsAGkAcABwAGUAQAB2AG8AeABp
AHMAdABlAGMAaAAuAGMAbwBtMSUwIwYJKoZIhvcNAQkBFhZwaGlsaXBwZUB2b3hpc3RlY2guY29t
MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDj6tqc9KX0MgvybNs+sDTkFGlQNErCHPQb67YK
49KK+ZaZCicsuOJcP/SV0IhHrLXUqcQeil6IieL41g3Iey1TCyQPxoWRQGcZ7HsM4JSDPBXskPcO
uUnkUL4sBzXmohvuNoRxMoE3OxdUovRKm+pqQRuCVopC/4ACOjADWpftrQIDAQABo4GHMIGEMBEG
CWCGSAGG+EIBAQQEAwIFoDALBgNVHQ8EBAMCBPAwHwYDVR0jBBgwFoAUD3Xu8SO9dULqt4lARr2S
0nLrxegwQQYDVR0fBDowODA2oDSgMoYwaHR0cDovL2NybC5nbG9iYWxzaWduLm5ldC9QZXJzb25h
bFNpZ25DbGFzczEuY3JsMA0GCSqGSIb3DQEBBQUAA4IBAQAg3nCy7xM2PjL1csmQ6KzAO80Kgd5b
oLumzxWiDKG0QqKKEZdXPTSY8GuXpNtAUDMwjPpa4VPzyHPqL8DGrhJ27XdY78CMo3PLrpfEHgdM
cBfcvpTtjKi8mlM0oZ0QURAnboM/t1lTejB48crVZPN0Ccz+//rrO4ZNTC/GUSwLvWW37T9eHN90
xjBgbfTchdLC+iQJNNSuh2s26Kmtj33AjyVXBayaeIHJ8Addy0xB6sO5H9jgNF9jKKShVPtGCaim
mvpOcE3evEdT/Kwjl8mNi3Zn8C9bCMxY8rL2/Iy8pnju92wfxugCPbYm/AWFNBVXKlDR4xUlfeIK
6FOchB/aMIIDdTCCAl2gAwIBAgILAgAAAAAA1ni3lAUwDQYJKoZIhvcNAQEEBQAwVzELMAkGA1UE
BhMCQkUxGTAXBgNVBAoTEEdsb2JhbFNpZ24gbnYtc2ExEDAOBgNVBAsTB1Jvb3QgQ0ExGzAZBgNV
BAMTEkdsb2JhbFNpZ24gUm9vdCBDQTAeFw05ODA5MDExMjAwMDBaFw0xNDAxMjgxMjAwMDBaMFcx
CzAJBgNVBAYTAkJFMRkwFwYDVQQKExBHbG9iYWxTaWduIG52LXNhMRAwDgYDVQQLEwdSb290IENB
MRswGQYDVQQDExJHbG9iYWxTaWduIFJvb3QgQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEK
AoIBAQDaDuaZjc6j40+Kfvvxi4Mla+pIH/EqsLmVEQS98GPR4mdmzxzdzxtIK+6NiY6arymAZavp
xy0Sy6scTHAHoT0KMM0VjU/43dSMUBUc71DuxC73/OlS8pF94G3VNTCOXkNz8kHp1Wrjsok6Vjk4
bwY8iGlbKk3Fp1S4bInMm/k8yuX9ifUSPJJ4ltbcdG6TRGHRjcdGsnUOhugZitVtbNV4FpWi6cgK
OOvyJBNPc1STE4U6G7weNLWLBYy5d4ux2x8gkasJU26Qzns3dLlwR5EiUWMWea6xrkEmCMgZK9FG
qkjWZCrXgzT/LCrBbBlDSgeF59N89iFo7+ryUp9/k5DPAgMBAAGjQjBAMA4GA1UdDwEB/wQEAwIA
BjAdBgNVHQ4EFgQUYHtmGkUNl8qJUC99BM00qP/8/UswDwYDVR0TAQH/BAUwAwEB/zANBgkqhkiG
9w0BAQQFAAOCAQEArqqf/LfSyx9fOSkoGJ40yWxPbxrwZKJwSk8ThptgKJ7ogUmYfQq75bCdPTbb
jwVR/wkxKh/diXeeDy5slQTthsu0AD+EAk2AaioteAuubyuig0SDH81Qgkwkr733pbTIWg/050de
SY43lv6aiAU62cDbKYfmGZZHpzqmjIs8d/5GY6dT2iHRrH5Jokvmw2dZL7OKDrssvamqQnw1wdh/
1acxOk5jQzmvCLBhNIzTmKlDNPYPhyk7ncJWWJh3w/cbrPad+D6qp1RF8PX51TFl/mtYnHGzHtdS
6jIX/EBgHcl5JLL2bP2oZg6C3ZjL2sJETy6ge/L3ayx2EYRGinij4zCCA+MwggLLoAMCAQICCwQA
AAAAAPB2Tht/MA0GCSqGSIb3DQEBBQUAMFcxCzAJBgNVBAYTAkJFMRkwFwYDVQQKExBHbG9iYWxT
aWduIG52LXNhMRAwDgYDVQQLEwdSb290IENBMRswGQYDVQQDExJHbG9iYWxTaWduIFJvb3QgQ0Ew
HhcNOTgwOTE1MTIwMDAwWhcNMDkwMTI4MTIwMDAwWjBtMQswCQYDVQQGEwJCRTEZMBcGA1UEChMQ
R2xvYmFsU2lnbiBudi1zYTEbMBkGA1UECxMSUHJpbWFyeSBDbGFzcyAxIENBMSYwJAYDVQQDEx1H
bG9iYWxTaWduIFByaW1hcnkgQ2xhc3MgMSBDQTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoC
ggEBAL0gNUfRKNYIoxI5I0cNvXAhUg5XMZWmNFdr7H5DecMGUkjNvLWhmb3YHzK8z9ducm0udyKQ
gk5Lj5oMAUKa2XBZtp0f5mPRDK0dTviFgfmu75+mUmFEeRp1ReBhVkVtQow9csumpBK3mvXWYNBg
ULOOpqbstPQSzX+ozu+z4YUw/nLE5ud3s55YQdZRg4gHxrZpTzbe0QtIP73WnyF0ZG8nBj5L/Q6m
m7+kSFeMkO6JGAsCgRi+Z/5TYIgnuqNzNEtaVrTecwXtmJZd7ErnQPxLCWLr0OMxT4XReqtZZyv7
iA/rqoO9Nf1hJ+xmDkJX92nCDO/8asJuSdqPQTiuSKkCAwEAAaOBmTCBljAOBgNVHQ8BAf8EBAMC
AQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQU/OBm9lo1metAHtK4HkO8mI4fisMwMwYDVR0f
BCwwKjAooCagJIYiaHR0cDovL2NybC5nbG9iYWxzaWduLm5ldC9Sb290LmNybDAfBgNVHSMEGDAW
gBRge2YaRQ2XyolQL30EzTSo//z9SzANBgkqhkiG9w0BAQUFAAOCAQEAaAPqDdlUYXO7adfgYdVj
q+QJlzfrGUtqI0HvsJZJAE5NuoPTioGO2h3a4SaO3rTaJRURHBYLEPW9yVJ3byqwJGgttUSzSqeh
M4mJpnKYcrd3mmxfwNqRJ0U8rF7s8FMVzdCLHRRf7uu3IMWTke8qbzPqOBceZ7vbi1m6SFdrt19x
YgmifqAX7YXvNiq3/uxqzDiTp0Liw5tb8u5C1Tns4GbWGp1s9ysypiwheTu4BBSD7ukMT3hSGjf3
kLIkVQnm+DkiquQqQMRGhE8op7rT0Hv5Oe3d9oVcC3kmqC6l8/iBccJHaCuVMcoL/5XROY7+kPaS
Op8w3y0uEynfEhhJ8TCCBB8wggMHoAMCAQICCwQAAAAAAPo97unZMA0GCSqGSIb3DQEBBQUAMG0x
CzAJBgNVBAYTAkJFMRkwFwYDVQQKExBHbG9iYWxTaWduIG52LXNhMRswGQYDVQQLExJQcmltYXJ5
IENsYXNzIDEgQ0ExJjAkBgNVBAMTHUdsb2JhbFNpZ24gUHJpbWFyeSBDbGFzcyAxIENBMB4XDTA0
MDEyMjA5MDAwMFoXDTA5MDEyODExMDAwMFowdzELMAkGA1UEBhMCQkUxGTAXBgNVBAoTEEdsb2Jh
bFNpZ24gbnYtc2ExIDAeBgNVBAsTF1BlcnNvbmFsU2lnbiBDbGFzcyAxIENBMSswKQYDVQQDEyJH
bG9iYWxTaWduIFBlcnNvbmFsU2lnbiBDbGFzcyAxIENBMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8A
MIIBCgKCAQEAxVG/GKTfc6G3sygDFNbiFmUuXO9l17AHLsveOxBeMMDc3wg1JFROUGq+4FrEsvF2
Wy7j46um7+KnAoE7k098P6SoSUmlpMFa4DxL4r8UjH08hqEAbbGPlGmfLs+eG8af1G1v64MUnvCQ
kpUmeYPEqExCal8V2LpToWGAqr3x50C6Z7iiqB9xUszIGWQshbRYE0+O2FLJDHHbdnYI9Czastp8
VFmxN9hT6+nJsRkl+pje+0k4hZ1W5cspF/383ygJKilQ8xEJHjDJBumDqiPRVJERq9K/qaspmwWZ
mEMJuD64eG0E4vNMoaogGb5dJ4MnbNydzleanISczbQDPPqj2wIDAQABo4G1MIGyMA4GA1UdDwEB
/wQEAwIBBjASBgNVHRMBAf8ECDAGAQH/AgEAMB0GA1UdDgQWBBQPde7xI711Quq3iUBGvZLScuvF
6DA5BgNVHR8EMjAwMC6gLKAqhihodHRwOi8vY3JsLmdsb2JhbHNpZ24ubmV0L3ByaW1jbGFzczEu
Y3JsMBEGCWCGSAGG+EIBAQQEAwIBBjAfBgNVHSMEGDAWgBT84Gb2WjWZ60Ae0rgeQ7yYjh+KwzAN
BgkqhkiG9w0BAQUFAAOCAQEAlKfFBtb7mb2MrBAi4wftJNZabpxAVZb4lbzo999G0YIgNGalK+MQ
hpLkMK1wBorawm0HMNdCdaaW2tQNW1PwdEtRe9L0tNxGB/8Hbk/V8ocpL4gTgbKCSjitQ3hk6a0J
buO9I1tN0B6VkH7H/H6lgvKqIRS1CykGiafGJChb4HHd/nQy4tWapSVxnwsmY9rsDu5wfzMshD7w
iN+qQrW8Ua1oG2PdBmCggYqovhfQBKzn+pPkzv+1+1gvbOkuoqoUQTAl8EbnEpuXjdyz2agGt0mk
8mydFl61ejaij996j/9tLf/TmI1VnSQsXT/RzFs59s5E4SMGQGbg0BLQxt19SzGCAy0wggMpAgEB
MIGGMHcxCzAJBgNVBAYTAkJFMRkwFwYDVQQKExBHbG9iYWxTaWduIG52LXNhMSAwHgYDVQQLExdQ
ZXJzb25hbFNpZ24gQ2xhc3MgMSBDQTErMCkGA1UEAxMiR2xvYmFsU2lnbiBQZXJzb25hbFNpZ24g
Q2xhc3MgMSBDQQILAQAAAAAA++hdU+kwCQYFKw4DAhoFAKCCAfwwGAYJKoZIhvcNAQkDMQsGCSqG
SIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMDQwNTAzMTQwOTExWjAjBgkqhkiG9w0BCQQxFgQU/sW3
oEaGKOix0EpwcEhtaH3V2qYwZwYJKoZIhvcNAQkPMVowWDANBggqhkiG9w0DAgIBKDAKBggqhkiG
9w0DBzAOBggqhkiG9w0DAgICAIAwDQYIKoZIhvcNAwICAUAwBwYFKw4DAgcwBwYFKw4DAhowCgYI
KoZIhvcNAgUwgZcGCSsGAQQBgjcQBDGBiTCBhjB3MQswCQYDVQQGEwJCRTEZMBcGA1UEChMQR2xv
YmFsU2lnbiBudi1zYTEgMB4GA1UECxMXUGVyc29uYWxTaWduIENsYXNzIDEgQ0ExKzApBgNVBAMT
Ikdsb2JhbFNpZ24gUGVyc29uYWxTaWduIENsYXNzIDEgQ0ECCwEAAAAAAPvoXVPpMIGZBgsqhkiG
9w0BCRACCzGBiaCBhjB3MQswCQYDVQQGEwJCRTEZMBcGA1UEChMQR2xvYmFsU2lnbiBudi1zYTEg
MB4GA1UECxMXUGVyc29uYWxTaWduIENsYXNzIDEgQ0ExKzApBgNVBAMTIkdsb2JhbFNpZ24gUGVy
c29uYWxTaWduIENsYXNzIDEgQ0ECCwEAAAAAAPvoXVPpMA0GCSqGSIb3DQEBAQUABIGACct92boN
hGH7pqxdVjOkg2zBQOmzobPdOTnwmio5pgkhgYXJ/kmB0W/IcR1l+jyIK+OqQi7uWbQQ02s6A5Mn
zCn1cpvOrozJ6/Iw7ZfHc13dcyEpkqhiRH5BZu/UNGYygnlJTS7a/MamIsNtBfkVfOp/JE48hITa
XB8faOFXXtQAAAAAAAA=

------=_NextPart_000_0012_01C43128.F8A51DC0--


From lucene-user-return-8166-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 03 14:09:13 2004
Return-Path: <lucene-user-return-8166-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7836 invoked from network); 3 May 2004 14:09:13 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 3 May 2004 14:09:13 -0000
Received: (qmail 33279 invoked by uid 500); 3 May 2004 14:08:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33244 invoked by uid 500); 3 May 2004 14:08:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33191 invoked from network); 3 May 2004 14:08:47 -0000
Received: from unknown (HELO c007.snv.cp.net) (209.228.33.243)
  by daedalus.apache.org with SMTP; 3 May 2004 14:08:47 -0000
Received: (cpmta 1194 invoked from network); 3 May 2004 07:08:48 -0700
Received: from 213.132.40.2 (HELO naderit)
  by smtp.bayt.net (209.228.33.243) with SMTP; 3 May 2004 07:08:48 -0700
X-Sent: 3 May 2004 14:08:48 GMT
Reply-To: <nsh@bayt.net>
From: "Nader S. Henein" <nsh@bayt.net>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: change directory
Date: Mon, 3 May 2004 18:08:35 +0400
Organization: Bayt.com
Message-ID: <002901c43118$24ad2680$1801a8c0@naderit>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
In-Reply-To: <02a701c43115$d2bbbe10$2180a8c0@ROSENM>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

When my server restarts, I have a little procedure that validates and "sorts
out" the index in case the server crashes mid-indexing/optimizing, what it
does is it checks for locks and frees them if need be then it optimizes the
whole thing (as a precaution) here's the code I use, try it out in your
lucene init:


		try {
			Directory directory =
FSDirectory.getDirectory(indexPath,false);
			if ( directory.list().length == 0 ) clear() ; //
Create a new index
			Lock writeLock = directory.makeLock(writeFileName); 
			if (!writeLock.obtain()) {
				IndexReader.unlock(directory) ;
			} else {
				writeLock.release() ;
			}
		} catch (IOException e) {
			logger.error("Index Validate",e) ;
		}

Try it out, hope it helps.

Nader Henein


-----Original Message-----
From: Rosen Marinov [mailto:rosenm@sirma.bg] 
Sent: Monday, May 03, 2004 5:52 PM
To: Lucene Users List
Subject: change directory


Hi all,

I have a good working index about 3 GB in one directory
for example in c:/index1

now i want to change the computer and directory for example
to d:/index2    (is this possible ???)

and when i copy it to the new pc and directory  on 
IndeaxReader(indexpath) i get 
    
      java.io.IOException: Lock obtain timed out
        at org.apache.lucene.store.Lock.obtain(Lock.java:97)
        at org.apache.lucene.store.Lock$With.run(Lock.java:147)
        at org.apache.lucene.index.IndexReader.open

before coping i closed all java aplications, index was with closed writers,
readers, serachers, terms and etc ... i have finally clauses to close all
this and shut down function, all my methods which works with index are
synchronized.

10x fopr help in advance



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8167-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 04 17:30:01 2004
Return-Path: <lucene-user-return-8167-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15499 invoked from network); 4 May 2004 17:30:01 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 4 May 2004 17:30:01 -0000
Received: (qmail 8526 invoked by uid 500); 4 May 2004 17:29:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8480 invoked by uid 500); 4 May 2004 17:29:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8465 invoked from network); 4 May 2004 17:29:46 -0000
Received: from unknown (HELO www.gallileus.info) (213.133.111.100)
  by daedalus.apache.org with SMTP; 4 May 2004 17:29:46 -0000
Received: from sascha.gallileus.local (pD9E72241.dip.t-dialin.net [217.231.34.65])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by www.gallileus.info (Postfix) with ESMTP id 6E12410085F
	for <lucene-user@jakarta.apache.org>; Tue,  4 May 2004 19:29:49 +0200 (CEST)
From: Sascha Ottolski <sascha.ottolski@gallileus.de>
Organization: Gallileus GmbH
To: lucene-user@jakarta.apache.org
Subject: optimize fails with "Negative seek offset"
Date: Tue, 4 May 2004 19:29:47 +0200
User-Agent: KMail/1.6.2
MIME-Version: 1.0
Content-Disposition: inline
X-UID: 7664
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Message-Id: <200405041929.47789.sascha.ottolski@gallileus.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I have no idea where to look for, and I know almost nothing about=20
java :-( We're using lucene quite a while now (about a year I guess)=20
and suddenly I've seen this when trying to optimize the index:

java.lang.Exception: java.io.IOException: Negative seek offset

The code throwing this was:

    public boolean optimize() throws IOException {
        IndexWriter writer =3D new IndexWriter(this.indexpath, new=20
StandardAnalyzer(), false);
        writer.mergeFactor =3D this.mergeFactor;
        try {
            writer.optimize();
            writer.close();
        }
        finally {
            this.changedIndex();
        }
        return true;
    }

The index-file is about 8.8 GB now. However, when the exception occurs=20
the new temporary index-file only grew to 3.2 GB. All this with=20
1.4-rc2.


Thanks in advance for any advice,

Sascha


=2D-=20
Gallileus - the power of knowledge

Gallileus GmbH                    http://www.gallileus.info/

Pintschstra=DFe 16                  fon +49-(0)30-41 93 43 43
10249 Berlin                      fax +49-(0)30-41 93 43 45
Germany



++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
AKTUELLER HINWEIS (Mai 2004)

Literatur Alerts - Literatursuche (wie) im Schlaf!

Ab jetzt mehr dazu unter:
http://www.gallileus.info/gallileus/about/products/alerts/
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8168-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 05 08:26:21 2004
Return-Path: <lucene-user-return-8168-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97008 invoked from network); 5 May 2004 08:26:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 May 2004 08:26:20 -0000
Received: (qmail 57992 invoked by uid 500); 5 May 2004 08:25:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57959 invoked by uid 500); 5 May 2004 08:25:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57930 invoked from network); 5 May 2004 08:25:46 -0000
Received: from unknown (HELO mail.gmx.net) (213.165.64.20)
  by daedalus.apache.org with SMTP; 5 May 2004 08:25:46 -0000
Received: (qmail 21785 invoked by uid 65534); 5 May 2004 08:25:58 -0000
Received: from rz06.FH-Karlsruhe.DE (EHLO [127.0.0.1]) (193.196.64.6)
  by mail.gmx.net (mp025) with SMTP; 05 May 2004 10:25:58 +0200
X-Authenticated: #4735637
Message-ID: <4098A564.20903@gmx.net>
Date: Wed, 05 May 2004 10:27:16 +0200
From: Til Schneider <til132@gmx.net>
User-Agent: Mozilla Thunderbird 0.6 (Windows/20040502)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  lucene-user@jakarta.apache.org
Subject: Where does the name lucene come from?
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Working now for a few months with this really great search engine, I was 
wondering where the name "Lucene" comes from? What does it mean? Is 
there any deeper sense?

Thanks,
Til

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8169-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 05 08:54:03 2004
Return-Path: <lucene-user-return-8169-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25096 invoked from network); 5 May 2004 08:54:03 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 May 2004 08:54:03 -0000
Received: (qmail 14398 invoked by uid 500); 5 May 2004 08:53:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14058 invoked by uid 500); 5 May 2004 08:53:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14040 invoked from network); 5 May 2004 08:53:31 -0000
Received: from unknown (HELO mail.eversoftdoo.com) (69.90.33.244)
  by daedalus.apache.org with SMTP; 5 May 2004 08:53:31 -0000
Received: (qmail 5922 invoked from network); 5 May 2004 08:53:44 -0000
Received: from unknown (HELO sezam.eversoft) (212.200.108.153)
  by mail.eversoftdoo.com with SMTP; 5 May 2004 08:53:44 -0000
Subject: ANN: Search engine and site explorer tool DiView 2.0 released
From: Radomir Mladenovic <radomir@EverSoftDoo.com>
To: lucene-user@jakarta.apache.org
Content-Type: text/plain
Organization: 
Message-Id: <1083747216.2970.15.camel@sezam.eversoft>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2-3mdk 
Date: 05 May 2004 10:54:52 +0200
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

[DiView core relies on Lucene library.]

This is an announcement for EverSoft DiView! Pro version 2.0.

EverSoft DiView! Pro is a low cost but powerful search engine and site 
explorer tool. It's a web application (Java servlet) that indexes files 
and file archives on your web site allowing site visitors to search or 
browse the content. DiView Pro includes:

Search Engine
--------------
* Able to index most popular document and archive types:
  HTML, PDF, TXT, XML, MS Word, MS Excel, OpenOffice, ZIP, TAR.
* Search by full text, title, keywords, file path or Meta fields.
* Support for 15 languages including CJK group of languages.
* Scheduled or indexing on demand.

Site Explorer
--------------
* Transparent access to files in directories and file archives in a 
  directory tree.
* Document title visible next to a file name.
* File sorting and filtering.
* History allows user to access documents recently opened from 
  Site Explorer.

Standard Edition of DiView! has Site Explorer component only and 
is FREE.

DiView! Pro Edition can be downloaded for 30-day evaluation.

To find more details or download the software visit:
http://www.eversoftdoo.com/diview/index.htm

Sincerely,
Radomir Mladenovic
EverSoft d.o.o.
http://www.eversoftdoo.com



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8170-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 05 16:08:30 2004
Return-Path: <lucene-user-return-8170-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98477 invoked from network); 5 May 2004 16:08:30 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 May 2004 16:08:30 -0000
Received: (qmail 74135 invoked by uid 500); 5 May 2004 16:08:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74081 invoked by uid 500); 5 May 2004 16:08:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74052 invoked from network); 5 May 2004 16:08:14 -0000
Received: from unknown (HELO mailer.syr.edu) (128.230.18.29)
  by daedalus.apache.org with SMTP; 5 May 2004 16:08:14 -0000
Received: from syr.edu (syru38-212.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.119A202D@mailer.syr.edu>; Wed, 5 May 2004 12:08:17 -0400
Message-ID: <40991171.90406@syr.edu>
Date: Wed, 05 May 2004 12:08:17 -0400
From: Steven Rowe <sarowe@syr.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Where does the name lucene come from?
References: <4098A564.20903@gmx.net>
In-Reply-To: <4098A564.20903@gmx.net>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Til Schneider wrote:
> Hi,
> 
> Working now for a few months with this really great search engine, I was 
> wondering where the name "Lucene" comes from? What does it mean? Is 
> there any deeper sense?

Doug Cutting's response:
<URL:http://tinyurl.com/2hh5c>

(full original URL: 
<URL:http://issues.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&msgId=961817>
)

Otis, shouldn't this be an FAQ?

Steve

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8171-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 05 19:37:35 2004
Return-Path: <lucene-user-return-8171-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8132 invoked from network); 5 May 2004 19:37:35 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 5 May 2004 19:37:35 -0000
Received: (qmail 47339 invoked by uid 500); 5 May 2004 19:37:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47317 invoked by uid 500); 5 May 2004 19:37:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47304 invoked from network); 5 May 2004 19:37:18 -0000
Received: from unknown (HELO web12702.mail.yahoo.com) (216.136.173.239)
  by daedalus.apache.org with SMTP; 5 May 2004 19:37:18 -0000
Message-ID: <20040505193723.68283.qmail@web12702.mail.yahoo.com>
Received: from [83.131.121.156] by web12702.mail.yahoo.com via HTTP; Wed, 05 May 2004 12:37:23 PDT
Date: Wed, 5 May 2004 12:37:23 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Where does the name lucene come from?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <40991171.90406@syr.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Funny, earlier today I started to reply to this message, and then
decided not to answer this question any more.  It is a FAQ entry now:
http://www.jguru.com/faq/Lucene

Otis

--- Steven Rowe <sarowe@syr.edu> wrote:
> Til Schneider wrote:
> > Hi,
> > 
> > Working now for a few months with this really great search engine,
> I was 
> > wondering where the name "Lucene" comes from? What does it mean? Is
> 
> > there any deeper sense?
> 
> Doug Cutting's response:
> <URL:http://tinyurl.com/2hh5c>
> 
> (full original URL: 
>
<URL:http://issues.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&msgId=961817>
> )
> 
> Otis, shouldn't this be an FAQ?
> 
> Steve
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8172-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 06 02:45:38 2004
Return-Path: <lucene-user-return-8172-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90600 invoked from network); 6 May 2004 02:45:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 May 2004 02:45:37 -0000
Received: (qmail 52996 invoked by uid 500); 6 May 2004 02:45:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52975 invoked by uid 500); 6 May 2004 02:45:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52960 invoked from network); 6 May 2004 02:45:13 -0000
Received: from unknown (HELO hotmail.com) (64.4.47.43)
  by daedalus.apache.org with SMTP; 6 May 2004 02:45:13 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 5 May 2004 19:45:22 -0700
Received: from 192.18.17.3 by by9fd.bay9.hotmail.msn.com with HTTP;
	Thu, 06 May 2004 02:45:22 GMT
X-Originating-IP: [192.18.17.3]
X-Originating-Email: [perseus_medusa@hotmail.com]
X-Sender: perseus_medusa@hotmail.com
From: "Centaur zeus" <perseus_medusa@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Scoring documents by Click Count
Date: Thu, 06 May 2004 02:45:22 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY9-F43YXifWoqFXfy000071ad@hotmail.com>
X-OriginalArrivalTime: 06 May 2004 02:45:22.0997 (UTC) FILETIME=[2D8FAE50:01C43314]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all,

I want to integrate lucene into my web app. I would like to increase the 
score of the document when more people click on it. Could I implement that 
in lucene ?

Thanks.

Perseus

_________________________________________________________________
MSN 8 helps eliminate e-mail viruses. Get 2 months FREE*. 
http://join.msn.com/?page=features/virus


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8173-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 06 15:11:50 2004
Return-Path: <lucene-user-return-8173-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62181 invoked from network); 6 May 2004 15:11:49 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 May 2004 15:11:49 -0000
Received: (qmail 5243 invoked by uid 500); 6 May 2004 14:54:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5019 invoked by uid 500); 6 May 2004 14:54:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4897 invoked from network); 6 May 2004 14:54:26 -0000
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by daedalus.apache.org with SMTP; 6 May 2004 14:54:26 -0000
Message-ID: <20040506105327.20881.qmail@web12703.mail.yahoo.com>
Received: from [194.152.216.130] by web12703.mail.yahoo.com via HTTP; Thu, 06 May 2004 03:53:27 PDT
Date: Thu, 6 May 2004 03:53:27 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Are the lucene index server support for other language, like chinese?
To: Alex Aw Seat Kiong <alex.aw@bigonthenet.com>,
  Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <007d01c4334b$478133b0$0f02a8c0@smile>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yes, there is.
I've added the answer to Lucene FAQ at jGuru.com.
It will show up there, shortly.

Otis

--- Alex Aw Seat Kiong <alex.aw@bigonthenet.com> wrote:
> Hi!
> 
> Are the lucene index server support for other language, like chinese?
> What is the additional work need to be done for support it?
> 
> 
> Thanks,
> Alex
> 
> 
> 
> 
> ----- Original Message ----- 
> From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Thursday, May 06, 2004 3:37 AM
> Subject: Re: Where does the name lucene come from?
> 
> 
> > Funny, earlier today I started to reply to this message, and then
> > decided not to answer this question any more.  It is a FAQ entry
> now:
> > http://www.jguru.com/faq/Lucene
> >
> > Otis
> >
> > --- Steven Rowe <sarowe@syr.edu> wrote:
> > > Til Schneider wrote:
> > > > Hi,
> > > >
> > > > Working now for a few months with this really great search
> engine,
> > > I was
> > > > wondering where the name "Lucene" comes from? What does it
> mean? Is
> > >
> > > > there any deeper sense?
> > >
> > > Doug Cutting's response:
> > > <URL:http://tinyurl.com/2hh5c>
> > >
> > > (full original URL:
> > >
> >
>
<URL:http://issues.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta
> .apache.org&msgId=961817>
> > > )
> > >
> > > Otis, shouldn't this be an FAQ?
> > >
> > > Steve
> > >
> > >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > >
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8174-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 06 15:15:46 2004
Return-Path: <lucene-user-return-8174-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65380 invoked from network); 6 May 2004 15:15:46 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 May 2004 15:15:46 -0000
Received: (qmail 18576 invoked by uid 500); 6 May 2004 14:58:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18557 invoked by uid 500); 6 May 2004 14:58:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18535 invoked from network); 6 May 2004 14:58:50 -0000
Received: from unknown (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by daedalus.apache.org with SMTP; 6 May 2004 14:58:50 -0000
Message-ID: <20040506105838.13536.qmail@web12707.mail.yahoo.com>
Received: from [194.152.216.130] by web12707.mail.yahoo.com via HTTP; Thu, 06 May 2004 03:58:38 PDT
Date: Thu, 6 May 2004 03:58:38 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Scoring documents by Click Count
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <BAY9-F43YXifWoqFXfy000071ad@hotmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Sure.
On click, get document Id (not internal docId, but something you use as
s surrogate primary key) of the clicked document.  Retrieve the
document.  Pull out the value of 'clickCount' field.  +1 it.  Delete
the document, and re-add it (there is no 'update(Document)' method).

Otis


--- Centaur zeus <perseus_medusa@hotmail.com> wrote:
> Hi all,
> 
> I want to integrate lucene into my web app. I would like to increase
> the 
> score of the document when more people click on it. Could I implement
> that 
> in lucene ?
> 
> Thanks.
> 
> Perseus
> 
> _________________________________________________________________
> MSN 8 helps eliminate e-mail viruses. Get 2 months FREE*. 
> http://join.msn.com/?page=features/virus
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8175-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 06 15:44:23 2004
Return-Path: <lucene-user-return-8175-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97205 invoked from network); 6 May 2004 15:44:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 May 2004 15:44:23 -0000
Received: (qmail 91730 invoked by uid 500); 6 May 2004 15:34:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91692 invoked by uid 500); 6 May 2004 15:34:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91617 invoked from network); 6 May 2004 15:34:16 -0000
Received: from unknown (HELO w01.bloglines.com) (216.148.212.183)
  by daedalus.apache.org with SMTP; 6 May 2004 15:34:16 -0000
Received: (qmail 26914 invoked by uid 99); 6 May 2004 08:27:35 -0000
Message-ID: <1083832055.3219647405.26913.sendItem@bloglines.com>
Date: 6 May 2004 08:27:35 -0000
From: Reece.1247688@bloglines.com
To: lucene-user@jakarta.apache.org
Subject: Range searches for numbers
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

What's the best way to store numbers for range searching?  If someone
has some info about this I'd love to see it.

This is my current plan:
When I convert the number to a string I will zero pad it so range searches
work.  The conversions will be like this for integers:
   1 to 10000000001

   2 to 10000000002
1000 to 10000001000

I'm just adding a "1" to the
start of the string (or adding 1000000000).  This is so negative numbers work
too!  They will just be subtracted from a long (1000000000):
   -1 to 09999999999

   -2 to 09999999998
-1000 to 09999999000

This works great for range
searches.  But how do I convert negative longs?  I can't subtract 1000000000000000000
from a long can I?  It too big to fit in another long.

Any advice is appreciated!

-Reece

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8176-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 06 15:48:37 2004
Return-Path: <lucene-user-return-8176-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1467 invoked from network); 6 May 2004 15:48:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 May 2004 15:48:37 -0000
Received: (qmail 40843 invoked by uid 500); 6 May 2004 15:42:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40811 invoked by uid 500); 6 May 2004 15:42:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40672 invoked from network); 6 May 2004 15:42:28 -0000
Received: from unknown (HELO bigonthenet.com) (203.120.211.130)
  by daedalus.apache.org with SMTP; 6 May 2004 15:42:28 -0000
Received: from smile ([192.168.4.100])
	by bigonthenet.com (8.9.3/8.9.3) with SMTP id RAA13882;
	Thu, 6 May 2004 17:19:53 +0800
Message-ID: <007d01c4334b$478133b0$0f02a8c0@smile>
From: "Alex Aw Seat Kiong" <alex.aw@bigonthenet.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
        <otis_gospodnetic@yahoo.com>
References: <20040505193723.68283.qmail@web12702.mail.yahoo.com>
Subject: Are the lucene index server support for other language, like chinese?
Date: Thu, 6 May 2004 17:19:12 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi!

Are the lucene index server support for other language, like chinese?
What is the additional work need to be done for support it?


Thanks,
Alex




----- Original Message ----- 
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, May 06, 2004 3:37 AM
Subject: Re: Where does the name lucene come from?


> Funny, earlier today I started to reply to this message, and then
> decided not to answer this question any more.  It is a FAQ entry now:
> http://www.jguru.com/faq/Lucene
>
> Otis
>
> --- Steven Rowe <sarowe@syr.edu> wrote:
> > Til Schneider wrote:
> > > Hi,
> > >
> > > Working now for a few months with this really great search engine,
> > I was
> > > wondering where the name "Lucene" comes from? What does it mean? Is
> >
> > > there any deeper sense?
> >
> > Doug Cutting's response:
> > <URL:http://tinyurl.com/2hh5c>
> >
> > (full original URL:
> >
>
<URL:http://issues.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta
.apache.org&msgId=961817>
> > )
> >
> > Otis, shouldn't this be an FAQ?
> >
> > Steve
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8177-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 06 16:16:44 2004
Return-Path: <lucene-user-return-8177-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25766 invoked from network); 6 May 2004 16:16:44 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 May 2004 16:16:44 -0000
Received: (qmail 98907 invoked by uid 500); 6 May 2004 16:11:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98880 invoked by uid 500); 6 May 2004 16:11:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98835 invoked from network); 6 May 2004 16:11:40 -0000
Received: from unknown (HELO server1.hostmon.com) (66.139.76.19)
  by daedalus.apache.org with SMTP; 6 May 2004 16:11:40 -0000
Received: (qmail 6519 invoked by uid 532); 6 May 2004 16:06:46 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 2.61.  Clear:. 
 Processed in 0.145646 secs); 06 May 2004 16:06:46 -0000
Received: from unknown (HELO tropo.com) (127.0.0.1)
  by 0 with SMTP; 6 May 2004 16:06:45 -0000
Message-ID: <409A63BC.3030103@tropo.com>
Date: Thu, 06 May 2004 09:11:40 -0700
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7b) Gecko/20040316
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Scoring documents by Click Count
References: <20040506105838.13536.qmail@web12707.mail.yahoo.com>
In-Reply-To: <20040506105838.13536.qmail@web12707.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis Gospodnetic wrote:

>Sure.
>On click, get document Id (not internal docId, but something you use as
>s surrogate primary key) of the clicked document.  Retrieve the
>document.  Pull out the value of 'clickCount' field.  +1 it.  Delete
>the document, and re-add it (there is no 'update(Document)' method).
>  
>

Yeah but isn't the essence of it that Lucene is really not set up for 
dynamically adjusting the *score*?
Also, above, to clarify, I think you're implying there are 2 entries for 
given doc - one Document for the indexed content, and one for the 
clickCount, as (from memory) I didn't think you could even re-add a doc 
w/o reindexing it...

>Otis
>
>
>--- Centaur zeus <perseus_medusa@hotmail.com> wrote:
>  
>
>>Hi all,
>>
>>I want to integrate lucene into my web app. I would like to increase
>>the 
>>score of the document when more people click on it. Could I implement
>>that 
>>in lucene ?
>>
>>Thanks.
>>
>>Perseus
>>
>>_________________________________________________________________
>>MSN 8 helps eliminate e-mail viruses. Get 2 months FREE*. 
>>http://join.msn.com/?page=features/virus
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8178-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 06 16:27:31 2004
Return-Path: <lucene-user-return-8178-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36785 invoked from network); 6 May 2004 16:27:31 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 May 2004 16:27:31 -0000
Received: (qmail 78137 invoked by uid 500); 6 May 2004 16:25:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78102 invoked by uid 500); 6 May 2004 16:25:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78071 invoked from network); 6 May 2004 16:25:54 -0000
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by daedalus.apache.org with SMTP; 6 May 2004 16:25:54 -0000
Message-ID: <20040506162555.70358.qmail@web12703.mail.yahoo.com>
Received: from [194.152.216.130] by web12703.mail.yahoo.com via HTTP; Thu, 06 May 2004 09:25:55 PDT
Date: Thu, 6 May 2004 09:25:55 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Scoring documents by Click Count
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <409A63BC.3030103@tropo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Oh, I completely misunderstood the original question.  I thought the
person was asking about sorting by click-count.

Otis

--- David Spencer <dave-lucene-user@tropo.com> wrote:
> Otis Gospodnetic wrote:
> 
> >Sure.
> >On click, get document Id (not internal docId, but something you use
> as
> >s surrogate primary key) of the clicked document.  Retrieve the
> >document.  Pull out the value of 'clickCount' field.  +1 it.  Delete
> >the document, and re-add it (there is no 'update(Document)' method).
> >  
> >
> 
> Yeah but isn't the essence of it that Lucene is really not set up for
> 
> dynamically adjusting the *score*?
> Also, above, to clarify, I think you're implying there are 2 entries
> for 
> given doc - one Document for the indexed content, and one for the 
> clickCount, as (from memory) I didn't think you could even re-add a
> doc 
> w/o reindexing it...
> 
> >Otis
> >
> >
> >--- Centaur zeus <perseus_medusa@hotmail.com> wrote:
> >  
> >
> >>Hi all,
> >>
> >>I want to integrate lucene into my web app. I would like to
> increase
> >>the 
> >>score of the document when more people click on it. Could I
> implement
> >>that 
> >>in lucene ?
> >>
> >>Thanks.
> >>
> >>Perseus


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8179-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 06 17:35:20 2004
Return-Path: <lucene-user-return-8179-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78914 invoked from network); 6 May 2004 17:35:20 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 May 2004 17:35:20 -0000
Received: (qmail 68967 invoked by uid 500); 6 May 2004 17:35:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68941 invoked by uid 500); 6 May 2004 17:35:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68911 invoked from network); 6 May 2004 17:35:09 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 6 May 2004 17:35:09 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i46HZ9Qt022143
	for <lucene-user@jakarta.apache.org>; Thu, 6 May 2004 13:35:10 -0400
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i46HZ9So022139
	for <lucene-user@jakarta.apache.org>; Thu, 6 May 2004 13:35:09 -0400
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Thu, 6 May 2004 13:35:09 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Range searches for numbers
In-Reply-To: <1083832055.3219647405.26913.sendItem@bloglines.com>
Message-ID: <Pine.LNX.4.44.0405061331300.21982-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Quick reference:

http://wiki.apache.org/jakarta-lucene/SearchNumericalFields

If you are stuck, you can always encode the long in a string format (the 
date formatter in lucene might do this already). Or even, you could also 
treat it like a date and use your long like a date filter.

HTH,
sv

On 6 May 2004 Reece.1247688@bloglines.com wrote:

> Hi,
> 
> What's the best way to store numbers for range searching?  If someone
> has some info about this I'd love to see it.
> 
> This is my current plan:
> When I convert the number to a string I will zero pad it so range searches
> work.  The conversions will be like this for integers:
>    1 to 10000000001
> 
>    2 to 10000000002
> 1000 to 10000001000
> 
> I'm just adding a "1" to the
> start of the string (or adding 1000000000).  This is so negative numbers work
> too!  They will just be subtracted from a long (1000000000):
>    -1 to 09999999999
> 
>    -2 to 09999999998
> -1000 to 09999999000
> 
> This works great for range
> searches.  But how do I convert negative longs?  I can't subtract 1000000000000000000
> from a long can I?  It too big to fit in another long.
> 
> Any advice is appreciated!
> 
> -Reece
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8180-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 06 17:47:04 2004
Return-Path: <lucene-user-return-8180-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85008 invoked from network); 6 May 2004 17:47:04 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 May 2004 17:47:04 -0000
Received: (qmail 91744 invoked by uid 500); 6 May 2004 17:46:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91722 invoked by uid 500); 6 May 2004 17:46:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91692 invoked from network); 6 May 2004 17:46:50 -0000
Received: from unknown (HELO w02.bloglines.com) (216.148.212.184)
  by daedalus.apache.org with SMTP; 6 May 2004 17:46:50 -0000
Received: (qmail 3577 invoked by uid 99); 6 May 2004 17:46:52 -0000
Message-ID: <1083865612.2843278071.3575.sendItem@bloglines.com>
Date: 6 May 2004 17:46:52 -0000
From: Reece.1247688@bloglines.com
To: lucene-user@jakarta.apache.org
Subject: Re: Range searches for numbers
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for the info.  The Date formatter doesn't work because it can only
deal with positive longs.  My problem was how to handle the negatives but
I got it figured out.

Thanks!

--- Lucene Users List" <lucene-user@jakarta.apache.org
wrote:
Quick reference:
> 
> http://wiki.apache.org/jakarta-lucene/SearchNumericalFields

> 
> If you are stuck, you can always encode the long in a string format
(the 
> date formatter in lucene might do this already). Or even, you could
also 
> treat it like a date and use your long like a date filter.
> 
>
HTH,
> sv
> 
> On 6 May 2004 Reece.1247688@bloglines.com wrote:
> 
>
> Hi,
> > 
> > What's the best way to store numbers for range searching?
 If someone
> > has some info about this I'd love to see it.
> > 
> > This
is my current plan:
> > When I convert the number to a string I will zero
pad it so range searches
> > work.  The conversions will be like this for
integers:
> >    1 to 10000000001
> > 
> >    2 to 10000000002
> > 1000
to 10000001000
> > 
> > I'm just adding a "1" to the
> > start of the string
(or adding 1000000000).  This is so negative numbers work
> > too!  They
will just be subtracted from a long (1000000000):
> >    -1 to 09999999999

> > 
> >    -2 to 09999999998
> > -1000 to 09999999000
> > 
> > This
works great for range
> > searches.  But how do I convert negative longs?
 I can't subtract 1000000000000000000
> > from a long can I?  It too big
to fit in another long.
> > 
> > Any advice is appreciated!
> > 
> > -Reece

> > 
> > ---------------------------------------------------------------------

> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> 
> 
> 
> ---------------------------------------------------------------------

> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For
additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8181-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 06 17:58:37 2004
Return-Path: <lucene-user-return-8181-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90960 invoked from network); 6 May 2004 17:58:37 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 May 2004 17:58:37 -0000
Received: (qmail 21950 invoked by uid 500); 6 May 2004 17:58:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21923 invoked by uid 500); 6 May 2004 17:58:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21894 invoked from network); 6 May 2004 17:58:25 -0000
Received: from unknown (HELO smtp-out5.xs4all.nl) (194.109.24.6)
  by daedalus.apache.org with SMTP; 6 May 2004 17:58:25 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out5.xs4all.nl (8.12.10/8.12.10) with ESMTP id i46HwQ6P000999
	for <lucene-user@jakarta.apache.org>; Thu, 6 May 2004 19:58:26 +0200 (CEST)
From: Ype Kingma <ykingma@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Scoring documents by Click Count
Date: Thu, 6 May 2004 19:58:25 +0200
User-Agent: KMail/1.5.4
References: <20040506105838.13536.qmail@web12707.mail.yahoo.com> <409A63BC.3030103@tropo.com>
In-Reply-To: <409A63BC.3030103@tropo.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200405061958.25808.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday 06 May 2004 18:11, David Spencer wrote:
> Otis Gospodnetic wrote:
> >Sure.
> >On click, get document Id (not internal docId, but something you use as
> >s surrogate primary key) of the clicked document.  Retrieve the
> >document.  Pull out the value of 'clickCount' field.  +1 it.  Delete
> >the document, and re-add it (there is no 'update(Document)' method).
>
> Yeah but isn't the essence of it that Lucene is really not set up for
> dynamically adjusting the *score*?
> Also, above, to clarify, I think you're implying there are 2 entries for
> given doc - one Document for the indexed content, and one for the
> clickCount, as (from memory) I didn't think you could even re-add a doc
> w/o reindexing it...
>
> >Otis
> >
> >--- Centaur zeus <perseus_medusa@hotmail.com> wrote:
> >>Hi all,
> >>
> >>I want to integrate lucene into my web app. I would like to increase
> >>the
> >>score of the document when more people click on it. Could I implement
> >>that
> >>in lucene ?

Changing the click count this way is ok, but along with that you could
change the (field) norm for the document to increase it's score
in subsequent queries.
You can use Document.setBoost() and/or Field.setBoost() just before
IndexWriter.addDocument() to do this.

Regards,
Ype





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8182-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 06 18:11:22 2004
Return-Path: <lucene-user-return-8182-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97053 invoked from network); 6 May 2004 18:11:22 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 May 2004 18:11:22 -0000
Received: (qmail 54100 invoked by uid 500); 6 May 2004 18:11:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53973 invoked by uid 500); 6 May 2004 18:11:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53957 invoked from network); 6 May 2004 18:11:10 -0000
Received: from unknown (HELO slc-xchg1.slc.mainstreamdata.com) (209.63.42.32)
  by daedalus.apache.org with SMTP; 6 May 2004 18:11:10 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C43395.8353B7AA"
Subject: Lucene 1.4
Date: Thu, 6 May 2004 12:11:11 -0600
Message-ID: <A60AC49BA89F4F4D9D86F2B7519111E84B213B@dilbert.mainstreamdata.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene 1.4
Thread-Index: AcQzlYK0PebmCZXjSTmEA7b5cEH21A==
From: "Scott Smith" <ssmith@mainstreamdata.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C43395.8353B7AA
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

We are currently using lucene 1.3 on a production web server.  For the
most part, it runs great.  However, once in a while we see some problems
which I suspect are the infamous "running out of file handles" bugs.  I
would claim that we are doing everything right (famous last words) so it
would be nice if someone could explain the proper methods for using the
Searcher object to avoid this problem.  I should probably mention that
I'm adding new items to the index once per minute though I close the
indexwriter each time.  I suspect the problem is that I can't close the
Searcher object because the hits list needs it to get at the documents.
=20
At any rate, that brings me to the real question.  I believe I've read
that 1.4 has changes to largely eliminate these problems.  I know that
RC2 is out.  My question is has anyone tried RC2?  Is it stable?
Obviously, I'm trying to make the decision as to whether moving to
1.4RC2 or stay with 1.3.  Comments would be appreciated.
=20

Scott


------_=_NextPart_001_01C43395.8353B7AA--

From lucene-user-return-8183-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 06 18:24:47 2004
Return-Path: <lucene-user-return-8183-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3539 invoked from network); 6 May 2004 18:24:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 May 2004 18:24:47 -0000
Received: (qmail 81243 invoked by uid 500); 6 May 2004 18:24:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81223 invoked by uid 500); 6 May 2004 18:24:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81209 invoked from network); 6 May 2004 18:24:35 -0000
Received: from unknown (HELO ErikHatcher.local) (24.51.109.181)
  by daedalus.apache.org with SMTP; 6 May 2004 18:24:35 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by ErikHatcher.local (Postfix) with ESMTP id 7DE546CFECB
	for <lucene-user@jakarta.apache.org>; Thu,  6 May 2004 14:24:37 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <A60AC49BA89F4F4D9D86F2B7519111E84B213B@dilbert.mainstreamdata.com>
References: <A60AC49BA89F4F4D9D86F2B7519111E84B213B@dilbert.mainstreamdata.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <A08520A8-9F8A-11D8-B79B-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene 1.4
Date: Thu, 6 May 2004 14:24:35 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Scott,

Lucene 1.3 added a compound file format which may solve your out of 
file handles issue.  Look at the new method on IndexWriter to use this 
mode.

	Erik


On May 6, 2004, at 2:11 PM, Scott Smith wrote:

> We are currently using lucene 1.3 on a production web server.  For the
> most part, it runs great.  However, once in a while we see some 
> problems
> which I suspect are the infamous "running out of file handles" bugs.  I
> would claim that we are doing everything right (famous last words) so 
> it
> would be nice if someone could explain the proper methods for using the
> Searcher object to avoid this problem.  I should probably mention that
> I'm adding new items to the index once per minute though I close the
> indexwriter each time.  I suspect the problem is that I can't close the
> Searcher object because the hits list needs it to get at the documents.
>
> At any rate, that brings me to the real question.  I believe I've read
> that 1.4 has changes to largely eliminate these problems.  I know that
> RC2 is out.  My question is has anyone tried RC2?  Is it stable?
> Obviously, I'm trying to make the decision as to whether moving to
> 1.4RC2 or stay with 1.3.  Comments would be appreciated.
>
>
> Scott
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8184-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 06 20:35:00 2004
Return-Path: <lucene-user-return-8184-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82789 invoked from network); 6 May 2004 20:35:00 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 May 2004 20:35:00 -0000
Received: (qmail 4581 invoked by uid 500); 6 May 2004 20:34:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3951 invoked by uid 500); 6 May 2004 20:34:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3938 invoked from network); 6 May 2004 20:34:45 -0000
Received: from unknown (HELO drmail01.digitalriver.com) (66.192.77.53)
  by daedalus.apache.org with SMTP; 6 May 2004 20:34:45 -0000
Received: from nte2k05.mpls.digitalriver.com ([209.87.176.1]) by drmail01.digitalriver.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 6 May 2004 15:34:48 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C433A9.9317C7E8"
Subject: sorting
Date: Thu, 6 May 2004 15:34:48 -0500
Message-ID: <B46D8D7FF80ABC45BF8D1949592A4C7123B3A0@nte2k05.mpls.digitalriver.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: sorting
Thread-Index: AcQzqZMk43ZXcfSKQGS1Q1EYb59nhA==
From: "Ryan Sonnek" <rsonnek@DigitalRiver.com>
To: <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 06 May 2004 20:34:48.0671 (UTC) FILETIME=[934886F0:01C433A9]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C433A9.9317C7E8
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I've been searching around for information on how to sort a lucene =
search.  could someone point me in the right direction?

Ryan


------_=_NextPart_001_01C433A9.9317C7E8--

From lucene-user-return-8185-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 06 21:04:29 2004
Return-Path: <lucene-user-return-8185-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 982 invoked from network); 6 May 2004 21:04:28 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 May 2004 21:04:28 -0000
Received: (qmail 47432 invoked by uid 500); 6 May 2004 21:04:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47302 invoked by uid 500); 6 May 2004 21:04:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47275 invoked from network); 6 May 2004 21:04:14 -0000
Received: from unknown (HELO ErikHatcher.local) (24.51.109.181)
  by daedalus.apache.org with SMTP; 6 May 2004 21:04:14 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by ErikHatcher.local (Postfix) with ESMTP id 2CE286D097C
	for <lucene-user@jakarta.apache.org>; Thu,  6 May 2004 17:04:09 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <B46D8D7FF80ABC45BF8D1949592A4C7123B3A0@nte2k05.mpls.digitalriver.com>
References: <B46D8D7FF80ABC45BF8D1949592A4C7123B3A0@nte2k05.mpls.digitalriver.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <E9F403E2-9FA0-11D8-A59F-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: sorting
Date: Thu, 6 May 2004 17:04:07 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On May 6, 2004, at 4:34 PM, Ryan Sonnek wrote:
> I've been searching around for information on how to sort a lucene 
> search.  could someone point me in the right direction?

Sorting is only available in the latest CVS builds of Lucene and the 
1.4 RC releases.

The best source of information on how Lucene works is Lucene's test 
suite.  Look at the sorting test cases and you will have immediate 
cut-and-paste examples of how to use it.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8186-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 06 21:26:38 2004
Return-Path: <lucene-user-return-8186-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10225 invoked from network); 6 May 2004 21:26:38 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 May 2004 21:26:38 -0000
Received: (qmail 84310 invoked by uid 500); 6 May 2004 21:26:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84282 invoked by uid 500); 6 May 2004 21:26:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84269 invoked from network); 6 May 2004 21:26:22 -0000
Received: from unknown (HELO smtp02.mrf.mail.rcn.net) (207.172.4.61)
  by daedalus.apache.org with SMTP; 6 May 2004 21:26:22 -0000
Received: from 209-6-197-64.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com ([209.6.197.64] helo=[10.0.10.99])
	by smtp02.mrf.mail.rcn.net with esmtp (Exim 3.35 #4)
	id 1BLqNu-00044p-00
	for lucene-user@jakarta.apache.org; Thu, 06 May 2004 17:26:26 -0400
Subject: Re: Scoring documents by Click Count
From: Boris Goldowsky <boris@alum.mit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <200405061958.25808.ykingma@xs4all.nl>
References: <20040506105838.13536.qmail@web12707.mail.yahoo.com>
	 <409A63BC.3030103@tropo.com>  <200405061958.25808.ykingma@xs4all.nl>
Content-Type: text/plain
Message-Id: <1083878785.12660.27.camel@yuff.moxyledge.org>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 (1.4.6-1) 
Date: Thu, 06 May 2004 17:26:25 -0400
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thu, 2004-05-06 at 13:58, Ype Kingma wrote:

> Changing the click count this way is ok, but along with that you could
> change the (field) norm for the document to increase it's score
> in subsequent queries.
> You can use Document.setBoost() and/or Field.setBoost() just before
> IndexWriter.addDocument() to do this.

There may be workable ways to do this, but the one time I tried
adjusting boosts of already-indexed documents I found it didn't work
quite as I expected.  The documentation has a warning which explains
why:

getBoost
        Returns the boost factor for hits on any field of this document.
        [...]
        Note: This value is not stored directly with the document in the
        index. Documents returned from IndexReader.document(int) and
        Hits.doc(int) may thus not have the same value present as when
        this document was indexed.
        
So be cautious and test carefully if you try this -- and let us on the
list know how it goes!

Boris



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8187-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 06 22:23:17 2004
Return-Path: <lucene-user-return-8187-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32094 invoked from network); 6 May 2004 22:23:16 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 May 2004 22:23:16 -0000
Received: (qmail 72068 invoked by uid 500); 6 May 2004 22:23:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72043 invoked by uid 500); 6 May 2004 22:23:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72028 invoked from network); 6 May 2004 22:23:00 -0000
Received: from unknown (HELO smtp-out6.xs4all.nl) (194.109.24.7)
  by daedalus.apache.org with SMTP; 6 May 2004 22:23:00 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out6.xs4all.nl (8.12.10/8.12.10) with ESMTP id i46MN3XU007758
	for <lucene-user@jakarta.apache.org>; Fri, 7 May 2004 00:23:03 +0200 (CEST)
From: Ype Kingma <ykingma@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Scoring documents by Click Count
Date: Fri, 7 May 2004 00:23:03 +0200
User-Agent: KMail/1.5.4
References: <20040506105838.13536.qmail@web12707.mail.yahoo.com> <200405061958.25808.ykingma@xs4all.nl> <1083878785.12660.27.camel@yuff.moxyledge.org>
In-Reply-To: <1083878785.12660.27.camel@yuff.moxyledge.org>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200405070023.03340.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday 06 May 2004 23:26, Boris Goldowsky wrote:
> On Thu, 2004-05-06 at 13:58, Ype Kingma wrote:
> > Changing the click count this way is ok, but along with that you could
> > change the (field) norm for the document to increase it's score
> > in subsequent queries.
> > You can use Document.setBoost() and/or Field.setBoost() just before
> > IndexWriter.addDocument() to do this.
>
> There may be workable ways to do this, but the one time I tried
> adjusting boosts of already-indexed documents I found it didn't work
> quite as I expected.  The documentation has a warning which explains
> why:
>
> getBoost
>         Returns the boost factor for hits on any field of this document.
>         [...]
>         Note: This value is not stored directly with the document in the
>         index. Documents returned from IndexReader.document(int) and
>         Hits.doc(int) may thus not have the same value present as when
>         this document was indexed.
>
> So be cautious and test carefully if you try this -- and let us on the
> list know how it goes!

Then use Field.setBoost() only. Note that this is stored with only
3 bits precision in the index. So when you know which field is queried for
your scores, multiply the previous value with at least with 9/8 to be
sure to increase the score. Or use the score of the next higher
scoring doc as a baseline.

That may not be enough. I seem to recall that the inverse square root
of the boost is stored as the norm, so you may have to multiply
with at least 91/64 to see a guaranteed difference in the score.

At the moment I have no time left to check the details. Please have a look at
the default Similarity implementation for more.

Good night,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8188-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 06 22:59:53 2004
Return-Path: <lucene-user-return-8188-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43656 invoked from network); 6 May 2004 22:59:53 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 May 2004 22:59:53 -0000
Received: (qmail 42489 invoked by uid 500); 6 May 2004 22:59:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42445 invoked by uid 500); 6 May 2004 22:59:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42377 invoked from network); 6 May 2004 22:59:35 -0000
Received: from unknown (HELO rs9.luxsci.com) (66.216.98.59)
  by daedalus.apache.org with SMTP; 6 May 2004 22:59:34 -0000
Received: from [192.168.70.246] (ppp152-16.lns1.cbr1.internode.on.net [150.101.152.16])
	(authenticated bits=0)
	by rs9.luxsci.com (8.12.11/8.12.10) with ESMTP id i46Mxb13014373
	for <lucene-user@jakarta.apache.org>; Thu, 6 May 2004 17:59:38 -0500
Message-ID: <409AC3A7.4060306@ctx.com.au>
Date: Fri, 07 May 2004 09:00:55 +1000
From: Matt Quail <matt@ctx.com.au>
User-Agent: Mozilla Thunderbird 0.6 (Windows/20040502)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Range searches for numbers
References: <1083832055.3219647405.26913.sendItem@bloglines.com>
In-Reply-To: <1083832055.3219647405.26913.sendItem@bloglines.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Reece,

> What's the best way to store numbers for range searching?  If someone
> has some info about this I'd love to see it.

I implemented a "LongField" that encodes any +ve or -ve long into a
string that sorts correctly. I posted that class here:
http://www.mail-archive.com/lucene-dev@jakarta.apache.org/msg04790.html

Doing a String range search should be fairly straight forward from
there. Let me know if you have any problems.

=Matt



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8189-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 06 23:48:41 2004
Return-Path: <lucene-user-return-8189-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61977 invoked from network); 6 May 2004 23:48:41 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 6 May 2004 23:48:41 -0000
Received: (qmail 8341 invoked by uid 500); 6 May 2004 23:48:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8314 invoked by uid 500); 6 May 2004 23:48:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8282 invoked from network); 6 May 2004 23:48:23 -0000
Received: from unknown (HELO webmail-outgoing.us4.outblaze.com) (205.158.62.67)
  by daedalus.apache.org with SMTP; 6 May 2004 23:48:23 -0000
Received: from wfilter.us4.outblaze.com (wfilter.us4.outblaze.com [205.158.62.180])
	by webmail-outgoing.us4.outblaze.com (Postfix) with QMQP id 2756318057DE
	for <lucene-user@jakarta.apache.org>; Thu,  6 May 2004 23:48:29 +0000 (GMT)
X-OB-Received: from unknown (205.158.62.182)
  by wfilter.us4.outblaze.com; 6 May 2004 23:46:25 -0000
Received: by ws3-6.us4.outblaze.com (Postfix, from userid 1001)
	id 21F8C1CE305; Thu,  6 May 2004 23:47:55 +0000 (GMT)
Content-Type: text/plain; charset="iso-8859-1"
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
MIME-Version: 1.0
X-Mailer: MIME-tools 5.41 (Entity 5.404)
Received: from [138.88.249.32] by ws3-6.us4.outblaze.com with http for
    wga22@email.com; Fri, 07 May 2004 04:47:55 +0500
From: "Will Allen" <wga22@email.com>
To: lucene-user@jakarta.apache.org
Date: Fri, 07 May 2004 04:47:55 +0500
Subject: Query performance on a 315 Million document index (1TB)
X-Originating-Ip: 138.88.249.32
X-Originating-Server: ws3-6.us4.outblaze.com
Message-Id: <20040506234755.21F8C1CE305@ws3-6.us4.outblaze.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
	I am considering a project that would index 315+ million documents. I am comfortable that the indexing will work well in creating an index ~800GB in size, but am concerned about the query performance. (Is this a = bad
assumption?)

What are the bottlenecks of performance as an index scales?  Memory?  = Cost is not a concern, so what would be the shortcomings of a theoretical = machine with 16GB of ram, 4-16 cpus and 1-2 terabytes of space?  Would it be = better to cluster machines to break apart the query?

Thank you for your serious responses,
Will Allen
-- 
___________________________________________________________
Sign-up for Ads Free at Mail.com
http://promo.mail.com/adsfreejump.htm


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8190-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 07 06:43:07 2004
Return-Path: <lucene-user-return-8190-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65677 invoked from network); 7 May 2004 06:43:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 May 2004 06:43:07 -0000
Received: (qmail 7778 invoked by uid 500); 7 May 2004 06:42:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7756 invoked by uid 500); 7 May 2004 06:42:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7741 invoked from network); 7 May 2004 06:42:40 -0000
Received: from unknown (HELO web12704.mail.yahoo.com) (216.136.173.241)
  by daedalus.apache.org with SMTP; 7 May 2004 06:42:40 -0000
Message-ID: <20040507064249.56677.qmail@web12704.mail.yahoo.com>
Received: from [195.29.61.78] by web12704.mail.yahoo.com via HTTP; Thu, 06 May 2004 23:42:49 PDT
Date: Thu, 6 May 2004 23:42:49 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Query performance on a 315 Million document index (1TB)
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20040506234755.21F8C1CE305@ws3-6.us4.outblaze.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

That's big, and while I have not created such large indices with
Lucene, I would think that disk I/O would be the biggest issue.  That
is why Nutch has distributed search options built in, and their demo
has 'only' 100M documents.  Perhaps you can mimic distributed indexing
and searching approach of Nutch.

Otis

--- Will Allen <wga22@email.com> wrote:
> Hi,
> 	I am considering a project that would index 315+ million documents.
> I am comfortable that the indexing will work well in creating an
> index ~800GB in size, but am concerned about the query performance.
> (Is this a = bad
> assumption?)
> 
> What are the bottlenecks of performance as an index scales?  Memory? 
> = Cost is not a concern, so what would be the shortcomings of a
> theoretical = machine with 16GB of ram, 4-16 cpus and 1-2 terabytes
> of space?  Would it be = better to cluster machines to break apart
> the query?
> 
> Thank you for your serious responses,
> Will Allen
> -- 
> ___________________________________________________________
> Sign-up for Ads Free at Mail.com
> http://promo.mail.com/adsfreejump.htm
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8191-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 07 07:26:58 2004
Return-Path: <lucene-user-return-8191-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92832 invoked from network); 7 May 2004 07:26:58 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 May 2004 07:26:58 -0000
Received: (qmail 79043 invoked by uid 500); 7 May 2004 07:26:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78826 invoked by uid 500); 7 May 2004 07:26:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78811 invoked from network); 7 May 2004 07:26:31 -0000
Received: from unknown (HELO slc-xchg1.slc.mainstreamdata.com) (209.63.42.32)
  by daedalus.apache.org with SMTP; 7 May 2004 07:26:31 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C43404.A43E38EA"
Subject: RE: Are the lucene index server support for other language, like chinese?
Date: Fri, 7 May 2004 01:26:41 -0600
Message-ID: <A60AC49BA89F4F4D9D86F2B7519111E80C4609@dilbert.mainstreamdata.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <A60AC49BA89F4F4D9D86F2B7519111E80C4609@dilbert.mainstreamdata.com>
Thread-Topic: Are the lucene index server support for other language, like chinese?
Thread-Index: AcQzgZmvHbn/UQnvR/OjRkY67Opg1wAgrQq/
From: "Scott Smith" <ssmith@mainstreamdata.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C43404.A43E38EA
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64

TG9vayBhdCB0aGUgV2ViTHVjZW5lIHByb2plY3QgZm9yIHRoZSBDSktUb2tlbml6ZXIgKENKSyA9
IENoaW5lc2UsIEphcGFuZXNlLCBhbmQgS29yZWFuKS4gIEkgaGF2ZSBzdWNjZXNzZnVsbHkgdXNl
ZCB0aGlzIHRvIGluZGV4IENoaW5lc2UgYW5kIEphcGFuZXNlLiAgSW4gZmFjdCwgSSBoYXZlIHRo
ZXNlIGFsb25nIHdpdGggRW5nbGlzaCwgR2VybWFuIGFuZCBzZXZlcmFsIG90aGVyIHdlc3Rlcm4g
RXVyb3BlYW4gbGFuZ3VhZ2VzIGFsbCBpbiB0aGUgc2FtZSBpbmRleCBhbmQgaXQgd29ya3MgZmlu
ZS4NCg0KCS0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tIA0KCUZyb206IEFsZXggQXcgU2VhdCBL
aW9uZyBbbWFpbHRvOmFsZXguYXdAYmlnb250aGVuZXQuY29tXSANCglTZW50OiBUaHUgNS82LzIw
MDQgMzoxOSBBTSANCglUbzogTHVjZW5lIFVzZXJzIExpc3Q7IG90aXNfZ29zcG9kbmV0aWNAeWFo
b28uY29tIA0KCUNjOiANCglTdWJqZWN0OiBBcmUgdGhlIGx1Y2VuZSBpbmRleCBzZXJ2ZXIgc3Vw
cG9ydCBmb3Igb3RoZXIgbGFuZ3VhZ2UsIGxpa2UgY2hpbmVzZT8NCgkNCgkNCg0KCUhpIQ0KCQ0K
CUFyZSB0aGUgbHVjZW5lIGluZGV4IHNlcnZlciBzdXBwb3J0IGZvciBvdGhlciBsYW5ndWFnZSwg
bGlrZSBjaGluZXNlPw0KCVdoYXQgaXMgdGhlIGFkZGl0aW9uYWwgd29yayBuZWVkIHRvIGJlIGRv
bmUgZm9yIHN1cHBvcnQgaXQ/DQoJDQoJDQoJVGhhbmtzLA0KCUFsZXgNCgkNCgkNCgkNCgkNCgkt
LS0tLSBPcmlnaW5hbCBNZXNzYWdlIC0tLS0tDQoJRnJvbTogIk90aXMgR29zcG9kbmV0aWMiIDxv
dGlzX2dvc3BvZG5ldGljQHlhaG9vLmNvbT4NCglUbzogIkx1Y2VuZSBVc2VycyBMaXN0IiA8bHVj
ZW5lLXVzZXJAamFrYXJ0YS5hcGFjaGUub3JnPg0KCVNlbnQ6IFRodXJzZGF5LCBNYXkgMDYsIDIw
MDQgMzozNyBBTQ0KCVN1YmplY3Q6IFJlOiBXaGVyZSBkb2VzIHRoZSBuYW1lIGx1Y2VuZSBjb21l
IGZyb20/DQoJDQoJDQoJPiBGdW5ueSwgZWFybGllciB0b2RheSBJIHN0YXJ0ZWQgdG8gcmVwbHkg
dG8gdGhpcyBtZXNzYWdlLCBhbmQgdGhlbg0KCT4gZGVjaWRlZCBub3QgdG8gYW5zd2VyIHRoaXMg
cXVlc3Rpb24gYW55IG1vcmUuICBJdCBpcyBhIEZBUSBlbnRyeSBub3c6DQoJPiBodHRwOi8vd3d3
LmpndXJ1LmNvbS9mYXEvTHVjZW5lDQoJPg0KCT4gT3Rpcw0KCT4NCgk+IC0tLSBTdGV2ZW4gUm93
ZSA8c2Fyb3dlQHN5ci5lZHU+IHdyb3RlOg0KCT4gPiBUaWwgU2NobmVpZGVyIHdyb3RlOg0KCT4g
PiA+IEhpLA0KCT4gPiA+DQoJPiA+ID4gV29ya2luZyBub3cgZm9yIGEgZmV3IG1vbnRocyB3aXRo
IHRoaXMgcmVhbGx5IGdyZWF0IHNlYXJjaCBlbmdpbmUsDQoJPiA+IEkgd2FzDQoJPiA+ID4gd29u
ZGVyaW5nIHdoZXJlIHRoZSBuYW1lICJMdWNlbmUiIGNvbWVzIGZyb20/IFdoYXQgZG9lcyBpdCBt
ZWFuPyBJcw0KCT4gPg0KCT4gPiA+IHRoZXJlIGFueSBkZWVwZXIgc2Vuc2U/DQoJPiA+DQoJPiA+
IERvdWcgQ3V0dGluZydzIHJlc3BvbnNlOg0KCT4gPiA8VVJMOmh0dHA6Ly90aW55dXJsLmNvbS8y
aGg1Yz4NCgk+ID4NCgk+ID4gKGZ1bGwgb3JpZ2luYWwgVVJMOg0KCT4gPg0KCT4NCgk8VVJMOmh0
dHA6Ly9pc3N1ZXMuYXBhY2hlLm9yZy9leWVicm93c2UvUmVhZE1zZz9saXN0TmFtZT1sdWNlbmUt
dXNlckBqYWthcnRhDQoJLmFwYWNoZS5vcmcmbXNnSWQ9OTYxODE3Pg0KCT4gPiApDQoJPiA+DQoJ
PiA+IE90aXMsIHNob3VsZG4ndCB0aGlzIGJlIGFuIEZBUT8NCgk+ID4NCgk+ID4gU3RldmUNCgk+
ID4NCgk+ID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoJPiA+IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGx1Y2Vu
ZS11c2VyLXVuc3Vic2NyaWJlQGpha2FydGEuYXBhY2hlLm9yZw0KCT4gPiBGb3IgYWRkaXRpb25h
bCBjb21tYW5kcywgZS1tYWlsOiBsdWNlbmUtdXNlci1oZWxwQGpha2FydGEuYXBhY2hlLm9yZw0K
CT4gPg0KCT4NCgk+DQoJPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCgk+IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6
IGx1Y2VuZS11c2VyLXVuc3Vic2NyaWJlQGpha2FydGEuYXBhY2hlLm9yZw0KCT4gRm9yIGFkZGl0
aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogbHVjZW5lLXVzZXItaGVscEBqYWthcnRhLmFwYWNoZS5v
cmcNCgk+DQoJDQoJDQoJLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoJVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogbHVj
ZW5lLXVzZXItdW5zdWJzY3JpYmVAamFrYXJ0YS5hcGFjaGUub3JnDQoJRm9yIGFkZGl0aW9uYWwg
Y29tbWFuZHMsIGUtbWFpbDogbHVjZW5lLXVzZXItaGVscEBqYWthcnRhLmFwYWNoZS5vcmcNCgkN
CgkNCg0K


------_=_NextPart_001_01C43404.A43E38EA
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------_=_NextPart_001_01C43404.A43E38EA--

From lucene-user-return-8192-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 07 09:55:18 2004
Return-Path: <lucene-user-return-8192-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66407 invoked from network); 7 May 2004 09:55:18 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 May 2004 09:55:18 -0000
Received: (qmail 61266 invoked by uid 500); 7 May 2004 09:54:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61127 invoked by uid 500); 7 May 2004 09:54:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61114 invoked from network); 7 May 2004 09:54:47 -0000
Received: from unknown (HELO gatekeeper.taluskie.com) (216.98.200.82)
  by daedalus.apache.org with SMTP; 7 May 2004 09:54:47 -0000
Received: from localhost (vince@localhost)
	by gatekeeper.taluskie.com (8.11.6/8.11.6) with ESMTP id i479svi20957;
	Fri, 7 May 2004 03:54:57 -0600
Date: Fri, 7 May 2004 03:54:57 -0600 (MDT)
From: Vince Taluskie <vince@taluskie.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
cc: wga22@email.com
Subject: Re: Query performance on a 315 Million document index (1TB)
In-Reply-To: <20040506234755.21F8C1CE305@ws3-6.us4.outblaze.com>
Message-ID: <Pine.LNX.4.44.0405070319080.20576-100000@gatekeeper.taluskie.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Fri, 7 May 2004, Will Allen wrote:

> Hi,
> 	I am considering a project that would index 315+ million
> documents. I am comfortable that the indexing will work well in creating
> an index ~800GB in size, but am concerned about the query performance.
> (Is this a = bad assumption?)

How fast do you need to return a response from a search?  The largest
index that I've created has over 200M documents and is about 125GB in
size.  The app has fairly low performance requirements and was done with
pretty minimal hardware...  

> What are the bottlenecks of performance as an index scales?  Memory?

Yeah, I find that a 2GB heap size can be a bit tight with an index that 
size.  16GB sounds about right, but make sure your JVM can use it.

> Cost is not a concern, so what would be the shortcomings of a
> theoretical machine with 16GB of ram, 4-16 cpus and 1-2 terabytes of
> space?  Would it be better to cluster machines to break apart the
> query?

Assuming your budget can afford it and your design can utilize all those
cpus effectively, I think you'd be worried about the underlying disk
subsystem and how fast you can read the blocks you need from the index.  
Use the smallest 10k rpm (or 15k rpm) drives you can so your subsystem
isn't spindle bound, multiple fibre HBAs and consider breaking apart that
massive index into smaller sub-indexes.

Vince

@work                                      @home

 vince.taluskie (at) cexp.com               vince (at) taluskie.com
 Corporate Express; Technical Architect     Westminster, CO
 Phone:   303 664 2660                      http://www.taluskie.com





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8193-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 07 10:15:24 2004
Return-Path: <lucene-user-return-8193-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75148 invoked from network); 7 May 2004 10:15:23 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 May 2004 10:15:23 -0000
Received: (qmail 88217 invoked by uid 500); 7 May 2004 10:14:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88194 invoked by uid 500); 7 May 2004 10:14:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88177 invoked from network); 7 May 2004 10:14:53 -0000
Received: from unknown (HELO mailx.cna.at) (193.170.251.10)
  by daedalus.apache.org with SMTP; 7 May 2004 10:14:53 -0000
Received: from cna-fdwi-3.brz.gv.at ([193.170.250.59]) by mailx.cna.at with Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 7 May 2004 12:15:03 +0200
Received: from brz-0c-1-nws.brz.gv.at (193.58.210.156 [193.58.210.156]) by cna-fdwi-3.brz.gv.at with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2650.21)
	id JYC3PQNW; Fri, 7 May 2004 12:15:03 +0200
Received: from BRZ-GWIA-MTA by brz-0c-1-nws.brz.gv.at
	with Novell_GroupWise; Fri, 07 May 2004 12:14:58 +0200
Message-Id: <s09b7dc1.007@brz-0c-1-nws.brz.gv.at>
X-Mailer: Novell GroupWise Internet Agent 6.5.2 Beta
Date: Fri, 07 May 2004 12:14:40 +0200
From: "Edin Pezerovic" <Edin.Pezerovic@extern.brz.gv.at>
To: <lucene-user@jakarta.apache.org>
Subject: IndexSearcher on JAR resources?
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-OriginalArrivalTime: 07 May 2004 10:15:03.0531 (UTC) FILETIME=[29A033B0:01C4341C]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
I found following entry within the mail-archives:

http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg02129.html


Is there now (2 years ago) a possibility to have the index within a
jar-file?

ed

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8194-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 07 15:57:10 2004
Return-Path: <lucene-user-return-8194-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58162 invoked from network); 7 May 2004 15:57:10 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 May 2004 15:57:10 -0000
Received: (qmail 2657 invoked by uid 500); 7 May 2004 15:40:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1843 invoked by uid 500); 7 May 2004 15:40:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1156 invoked from network); 7 May 2004 15:39:54 -0000
Received: from unknown (HELO bass.Textwise.com) (64.80.12.100)
  by daedalus.apache.org with SMTP; 7 May 2004 15:39:54 -0000
Received: from mortal.mnis.com (mortal [172.18.0.123])
	by bass.Textwise.com (8.11.6+Sun/8.9.3) with ESMTP id i47DtXQ00941
	for <lucene-user@jakarta.apache.org>; Fri, 7 May 2004 09:55:33 -0400 (EDT)
Subject: Re: SQLDirectory implementation
From: Anthony Vito <vito@mnis.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <408D5C0D.7060609@apache.org>
References: <1082154156.13816.85.camel@mortal> 
	<408D5C0D.7060609@apache.org>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
X-Mailer: Ximian Evolution 1.0.8 (1.0.8-10) 
Date: 07 May 2004 10:06:58 -0400
Message-Id: <1083938818.21228.121.camel@mortal>
Mime-Version: 1.0
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello Lucene Users,
  I have release JDBCDirectory version 0.05. I have only ever used it
with MySQL and open source drivers. I would be interested in any
comments or suggestions. I will try to be as diligent as possible in my
responses. The documentation ( very little ), jars and source code can
be found at http://ppinew.mnis.com/jdbcdirectory . 

Some issues that I just thought of that aren't mentioned...
1.) Pooling prepared statements on the connection is must for good
performance under the current code. ( see test code )
2.) The first search is always really slow as everything initializes and
the cache fills ;) so don't let that discourage you.

-vito

On Mon, 2004-04-26 at 14:59, Doug Cutting wrote:
> Anthony Vito wrote:
> >   I noticed some talk on SQLDirectory a month or so ago. .....

> Did you ever post this code?  It would be a great contribution to Lucene.
> 
> Thanks,
> 
> Doug
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8195-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 07 16:12:15 2004
Return-Path: <lucene-user-return-8195-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70231 invoked from network); 7 May 2004 16:12:12 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 May 2004 16:12:12 -0000
Received: (qmail 57228 invoked by uid 500); 7 May 2004 15:58:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57187 invoked by uid 500); 7 May 2004 15:58:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57056 invoked from network); 7 May 2004 15:58:18 -0000
Received: from unknown (HELO mproxy.gmail.com) (64.233.170.195)
  by daedalus.apache.org with SMTP; 7 May 2004 15:58:18 -0000
Received: by mproxy.gmail.com with SMTP id 72so60190rnf
        for <lucene-user@jakarta.apache.org>; Fri, 07 May 2004 08:58:15 -0700 (PDT)
Received: by 10.11.116.76 with SMTP id o76mr155994cwc;
        Fri, 07 May 2004 08:58:15 -0700 (PDT)
Message-ID: <55b2c6b90405070858531e17ca@mail.gmail.com>
Date: Fri, 7 May 2004 08:58:15 -0700
From: Andy Goodell <goodell@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Query performance on a 315 Million document index (1TB)
In-Reply-To: <20040506234755.21F8C1CE305@ws3-6.us4.outblaze.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <20040506234755.21F8C1CE305@ws3-6.us4.outblaze.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Although I've never indexed anything quite that large, i've had good
experiences with splitting the index out over a cluster.  (for
example, a set that would be about 4 seconds per complicated query on
one of our machines becomes around a second when spread out over 6)  I
think the reason why this helps is because of the disk I/O speed
bounding of performance that the others have mentioned, and how adding
another disk array adds to the effective disk bandwidth.

good luck
- andy g

On Fri, 07 May 2004 04:47:55 +0500, Will Allen <wga22@email.com> wrote:
> 
> Hi,
>         I am considering a project that would index 315+ million documents. I am comfortable that the indexing will work well in creating an index ~800GB in size, but am concerned about the query performance. (Is this a = bad
> assumption?)
> 
> What are the bottlenecks of performance as an index scales?  Memory?  = Cost is not a concern, so what would be the shortcomings of a theoretical = machine with 16GB of ram, 4-16 cpus and 1-2 terabytes of space?  Would it be = better to cluster machines to break apart the query?
> 
> Thank you for your serious responses,
> Will Allen
> --
> ___________________________________________________________
> Sign-up for Ads Free at Mail.com
> http://promo.mail.com/adsfreejump.htm
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8196-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 07 16:45:47 2004
Return-Path: <lucene-user-return-8196-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 898 invoked from network); 7 May 2004 16:45:47 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 May 2004 16:45:47 -0000
Received: (qmail 18845 invoked by uid 500); 7 May 2004 16:45:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18822 invoked by uid 500); 7 May 2004 16:45:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18809 invoked from network); 7 May 2004 16:45:37 -0000
Received: from unknown (HELO ErikHatcher.local) (24.51.109.181)
  by daedalus.apache.org with SMTP; 7 May 2004 16:45:37 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by ErikHatcher.local (Postfix) with ESMTP id 6C12C6D243C
	for <lucene-user@jakarta.apache.org>; Fri,  7 May 2004 09:21:31 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <s09b7dc1.007@brz-0c-1-nws.brz.gv.at>
References: <s09b7dc1.007@brz-0c-1-nws.brz.gv.at>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <7345FF5C-A029-11D8-BC54-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: IndexSearcher on JAR resources?
Date: Fri, 7 May 2004 09:21:29 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On May 7, 2004, at 6:14 AM, Edin Pezerovic wrote:
> Hi,
> I found following entry within the mail-archives:
>
> http://www.mail-archive.com/lucene-user@jakarta.apache.org/ 
> msg02129.html
>
>
> Is there now (2 years ago) a possibility to have the index within a
> jar-file?

Someone posted something like this at one point, but ironically I  
cannot _find_ it.  I definitely would be interested in having something  
like this handy.

If anyone has pointers to the implementations posted, please let us  
know.

Thanks,
	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8197-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 07 17:57:54 2004
Return-Path: <lucene-user-return-8197-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41640 invoked from network); 7 May 2004 17:57:54 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 May 2004 17:57:54 -0000
Received: (qmail 84536 invoked by uid 500); 7 May 2004 17:57:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84511 invoked by uid 500); 7 May 2004 17:57:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84492 invoked from network); 7 May 2004 17:57:40 -0000
Received: from unknown (HELO mere.cirano.qc.ca) (207.162.57.103)
  by daedalus.apache.org with SMTP; 7 May 2004 17:57:40 -0000
Received: from mere.cirano.qc.ca (localhost.localdomain [127.0.0.1])
	by mere.cirano.qc.ca (8.12.8/8.12.8) with ESMTP id i47HveQt029602
	for <lucene-user@jakarta.apache.org>; Fri, 7 May 2004 13:57:40 -0400
Received: from localhost (vauchers@localhost)
	by mere.cirano.qc.ca (8.12.8/8.12.8/Submit) with ESMTP id i47HveHp029598
	for <lucene-user@jakarta.apache.org>; Fri, 7 May 2004 13:57:40 -0400
X-Authentication-Warning: mere.cirano.qc.ca: vauchers owned process doing -bs
Date: Fri, 7 May 2004 13:57:40 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: SQLDirectory implementation
In-Reply-To: <1083938818.21228.121.camel@mortal>
Message-ID: <Pine.LNX.4.44.0405071356430.29043-100000@mere.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've added a reference to it on the wiki:
http://wiki.apache.org/jakarta-lucene/LatestNews?action=show

If you want to modify the info there, go for it.

sv

On 7 May 2004, Anthony Vito wrote:

> Hello Lucene Users,
>   I have release JDBCDirectory version 0.05. I have only ever used it
> with MySQL and open source drivers. I would be interested in any
> comments or suggestions. I will try to be as diligent as possible in my
> responses. The documentation ( very little ), jars and source code can
> be found at http://ppinew.mnis.com/jdbcdirectory . 
> 
> Some issues that I just thought of that aren't mentioned...
> 1.) Pooling prepared statements on the connection is must for good
> performance under the current code. ( see test code )
> 2.) The first search is always really slow as everything initializes and
> the cache fills ;) so don't let that discourage you.
> 
> -vito
> 
> On Mon, 2004-04-26 at 14:59, Doug Cutting wrote:
> > Anthony Vito wrote:
> > >   I noticed some talk on SQLDirectory a month or so ago. .....
> 
> > Did you ever post this code?  It would be a great contribution to Lucene.
> > 
> > Thanks,
> > 
> > Doug
> > 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8198-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 07 19:56:22 2004
Return-Path: <lucene-user-return-8198-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7352 invoked from network); 7 May 2004 19:56:22 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 7 May 2004 19:56:22 -0000
Received: (qmail 33459 invoked by uid 500); 7 May 2004 19:56:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33334 invoked by uid 500); 7 May 2004 19:56:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33318 invoked from network); 7 May 2004 19:56:08 -0000
Received: from unknown (HELO cartero.cs.odu.edu) (128.82.4.9)
  by daedalus.apache.org with SMTP; 7 May 2004 19:56:08 -0000
Received: from cartero.cs.odu.edu (localhost [127.0.0.1])
	by cartero.cs.odu.edu (8.12.10/8.12.10) with ESMTP id i47JqKN5029588
	for <lucene-user@jakarta.apache.org>; Fri, 7 May 2004 15:52:20 -0400 (EDT)
From: xuemei li <xli@cs.odu.edu>
Received: (from nobody@localhost)
	by cartero.cs.odu.edu (8.12.10/8.12.10/Submit) id i47JqKkt029585;
	Fri, 7 May 2004 15:52:20 -0400 (EDT)
X-Authentication-Warning: cartero.cs.odu.edu: nobody set sender to xli@cs.odu.edu using -f
Received: from 128.82.7.71
        (SquirrelMail authenticated user xli)
        by mail.cs.odu.edu with HTTP;
        Fri, 7 May 2004 15:52:20 -0400 (EDT)
Message-ID: <1129.128.82.7.71.1083959540.squirrel@mail.cs.odu.edu>
Date: Fri, 7 May 2004 15:52:20 -0400 (EDT)
Subject: about ParallelMultiSearcher
To: <lucene-user@jakarta.apache.org>
X-Priority: 3
Importance: Normal
X-Mailer: SquirrelMail (version 1.2.10)
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello all,

I am doing some search work using Lucene 1.4 paralmultisearch.
If I use MultiSearcher.It works well.
But if I use ParallelMultisearcher the code can compile correctly and
cann't execute correctly.The executing error is as following:
Exception in thread "main" java.lang.NoSuchMethodError:
org.apache.lucene.search.ParallelMultiSearcher.getStarts()[I
        at
org.apache.lucene.search.ParallelMultiSearcher.<init>(ParallelMultiSe
archer.java:38)
        at SearchFiles.main(SearchFiles.java:92)


Is there anyone know something about it?
Thanks,

Li





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8199-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat May 08 04:30:08 2004
Return-Path: <lucene-user-return-8199-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95674 invoked from network); 8 May 2004 04:30:07 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 May 2004 04:30:07 -0000
Received: (qmail 37625 invoked by uid 500); 8 May 2004 04:29:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37425 invoked by uid 500); 8 May 2004 04:29:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37409 invoked from network); 8 May 2004 04:29:44 -0000
Received: from unknown (HELO mxb.rambler.ru) (81.19.66.30)
  by daedalus.apache.org with SMTP; 8 May 2004 04:29:44 -0000
Received: from mail5.rambler.ru (mail5.rambler.ru [81.19.66.7])
	by mxb.rambler.ru (Postfix) with ESMTP id 4A0F3836B1
	for <lucene-user@jakarta.apache.org>; Sat,  8 May 2004 08:29:51 +0400 (MSD)
Received: from [81.19.66.146] (account vyuryev@rambler.ru)
  by mail5.rambler.ru (CommuniGate Pro WebUser 4.1.8)
  with HTTP id 21760110 for lucene-user@jakarta.apache.org; Sat, 08 May 2004 08:29:51 +0400
From: "Vladimir Yuryev" <vyuryev@rambler.ru>
Subject: ParallelMultiSearcher
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: CommuniGate Pro WebUser Interface v.4.1.8
Date: Sat, 08 May 2004 08:29:51 +0400
Message-ID: <web-21760110@mail5.rambler.ru>
In-Reply-To: <1129.128.82.7.71.1083959540.squirrel@mail.cs.odu.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset="windows-1251"; format="flowed"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello all,

What requirements ParallelMultiSearch to JVM? What the adjustments of 
memory and for processes of system are required? If it somebody knows, 
let it can be on an example anyone of Unix System.

Is there anyone know something about it?
Thanks,
Vladimir

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8200-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat May 08 12:44:36 2004
Return-Path: <lucene-user-return-8200-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53739 invoked from network); 8 May 2004 12:44:36 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 May 2004 12:44:36 -0000
Received: (qmail 95907 invoked by uid 500); 8 May 2004 12:44:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95881 invoked by uid 500); 8 May 2004 12:44:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95868 invoked from network); 8 May 2004 12:44:27 -0000
Received: from unknown (HELO ErikHatcher.local) (24.51.109.181)
  by daedalus.apache.org with SMTP; 8 May 2004 12:44:27 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by ErikHatcher.local (Postfix) with ESMTP id 6D4406D9B5D
	for <lucene-user@jakarta.apache.org>; Sat,  8 May 2004 08:44:22 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <1129.128.82.7.71.1083959540.squirrel@mail.cs.odu.edu>
References: <1129.128.82.7.71.1083959540.squirrel@mail.cs.odu.edu>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <67E755E6-A0ED-11D8-A14B-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: about ParallelMultiSearcher
Date: Sat, 8 May 2004 08:44:11 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm using ParallelMultiSearcher just fine, with all versions of Lucene 
1.3 and beyond.  I'm using CVS HEAD at the moment, not an official 1.4 
RC release.

I suspect you have an old Lucene JAR file in your classpath.

	Erik



On May 7, 2004, at 3:52 PM, xuemei li wrote:

> Hello all,
>
> I am doing some search work using Lucene 1.4 paralmultisearch.
> If I use MultiSearcher.It works well.
> But if I use ParallelMultisearcher the code can compile correctly and
> cann't execute correctly.The executing error is as following:
> Exception in thread "main" java.lang.NoSuchMethodError:
> org.apache.lucene.search.ParallelMultiSearcher.getStarts()[I
>         at
> org.apache.lucene.search.ParallelMultiSearcher.<init>(ParallelMultiSe
> archer.java:38)
>         at SearchFiles.main(SearchFiles.java:92)
>
>
> Is there anyone know something about it?
> Thanks,
>
> Li
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8201-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat May 08 12:47:50 2004
Return-Path: <lucene-user-return-8201-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55803 invoked from network); 8 May 2004 12:47:50 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 8 May 2004 12:47:50 -0000
Received: (qmail 1007 invoked by uid 500); 8 May 2004 12:47:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 984 invoked by uid 500); 8 May 2004 12:47:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 969 invoked from network); 8 May 2004 12:47:41 -0000
Received: from unknown (HELO ErikHatcher.local) (24.51.109.181)
  by daedalus.apache.org with SMTP; 8 May 2004 12:47:41 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by ErikHatcher.local (Postfix) with ESMTP id 5439D6D9B82
	for <lucene-user@jakarta.apache.org>; Sat,  8 May 2004 08:47:45 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <web-21760110@mail5.rambler.ru>
References: <web-21760110@mail5.rambler.ru>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <E5E74D92-A0ED-11D8-A14B-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: ParallelMultiSearcher
Date: Sat, 8 May 2004 08:47:43 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On May 8, 2004, at 12:29 AM, Vladimir Yuryev wrote:
> What requirements ParallelMultiSearch to JVM? What the adjustments of 
> memory and for processes of system are required? If it somebody knows, 
> let it can be on an example anyone of Unix System.

ParallelMultiSearcher simply spins a separate thread for each index and 
waits for the results from all threads before returning results.

Depending on your hardware, you may or may not receive performance 
benefits over using plain MultiSearcher.  You would likely need each 
index on a separate disk so that you would benefit from parallel I/O.

Beyond standard multi-threaded Java concerns, there is nothing special 
about ParallelMultiSearcher, and tuning would be dependent on your 
environment.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8202-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun May 09 06:09:27 2004
Return-Path: <lucene-user-return-8202-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8674 invoked from network); 9 May 2004 06:09:27 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 May 2004 06:09:27 -0000
Received: (qmail 6036 invoked by uid 500); 9 May 2004 06:08:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6001 invoked by uid 500); 9 May 2004 06:08:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5984 invoked from network); 9 May 2004 06:08:57 -0000
Received: from unknown (HELO imp.byzantine.no) (194.63.250.154)
  by daedalus.apache.org with SMTP; 9 May 2004 06:08:57 -0000
Received: from [192.168.1.3] (unknown [213.115.12.58])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by imp.byzantine.no (Postfix) with ESMTP id 55FCD7C0C4
	for <lucene-user@jakarta.apache.org>; Sun,  9 May 2004 08:09:08 +0200 (CEST)
Message-ID: <409DCA92.4070402@byzantine.no>
Date: Sun, 09 May 2004 08:07:14 +0200
From: Alexander Staubo <zaphod@byzantine.no>
User-Agent: Mozilla Thunderbird 0.6 (Windows/20040502)
X-Accept-Language: en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: Exact match detection
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I need to detect exact matches. For example, if the query is "foo 
bar", a document matching both terms "foo" and "bar" is considered an 
exact match; and everything else is considered an inexact match.

Obviously a union with "+foo +bar" would work, but for performance 
reasons I need to avoid multiple queries.

Lucene's largely undocumented similarity/scoring system looks 
intricate enough that deconstructing a score value after the fact 
isn't possible in a reliable and portable (ie., across Lucene versions 
and varying scoring algorithm implementations) manner.

If it helps, I am not using term boosting.

Alexander.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8203-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun May 09 12:03:44 2004
Return-Path: <lucene-user-return-8203-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44879 invoked from network); 9 May 2004 12:03:44 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 9 May 2004 12:03:44 -0000
Received: (qmail 7932 invoked by uid 500); 9 May 2004 12:03:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7835 invoked by uid 500); 9 May 2004 12:03:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7797 invoked from network); 9 May 2004 12:03:35 -0000
Received: from unknown (HELO smtp-out1.xs4all.nl) (194.109.24.11)
  by daedalus.apache.org with SMTP; 9 May 2004 12:03:35 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out1.xs4all.nl (8.12.10/8.12.10) with ESMTP id i49C3Zdl086661
	for <lucene-user@jakarta.apache.org>; Sun, 9 May 2004 14:03:35 +0200 (CEST)
From: Ype Kingma <ykingma@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Exact match detection
Date: Sun, 9 May 2004 14:03:34 +0200
User-Agent: KMail/1.5.4
References: <409DCA92.4070402@byzantine.no>
In-Reply-To: <409DCA92.4070402@byzantine.no>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200405091403.34875.ykingma@xs4all.nl>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Sunday 09 May 2004 08:07, Alexander Staubo wrote:
> I need to detect exact matches. For example, if the query is "foo
> bar", a document matching both terms "foo" and "bar" is considered an
> exact match; and everything else is considered an inexact match.
>
> Obviously a union with "+foo +bar" would work, but for performance
> reasons I need to avoid multiple queries.

The scoring layer is thin, and the underlying exact match implementation
is pretty efficient. In case you are not interested in the
score, you can use the lower level searching API, and use your
own document collector that ignores the score:

See the search() method here:
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/Searcher.html
and the HitCollector:
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/HitCollector.html

Ignoring the score is a only slightly wasteful, because the scoring layer is much
faster than the disk i/o's needed for search, so rolling your own search
method is normally not worthwhile for speed.

You can construct the Query either using query the parser, or do it yourself,
in this case as a BooleanQuery containing two required TermQuery's,
one for "foo" and one for "bar".

For best performance, don't use the collected document nrs until after the search.

Evt. also check out the Lucene wiki for some articles with examples
on how to use the Lucene API.

Good luck,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8204-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 10 00:00:45 2004
Return-Path: <lucene-user-return-8204-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45161 invoked from network); 10 May 2004 00:00:45 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 May 2004 00:00:45 -0000
Received: (qmail 32426 invoked by uid 500); 10 May 2004 00:00:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32402 invoked by uid 500); 10 May 2004 00:00:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32388 invoked from network); 10 May 2004 00:00:24 -0000
Received: from unknown (HELO cartero.cs.odu.edu) (128.82.4.9)
  by daedalus.apache.org with SMTP; 10 May 2004 00:00:24 -0000
Received: from cartero.cs.odu.edu (localhost [127.0.0.1])
	by cartero.cs.odu.edu (8.12.10/8.12.10) with ESMTP id i49NubN5020190
	for <lucene-user@jakarta.apache.org>; Sun, 9 May 2004 19:56:37 -0400 (EDT)
From: xuemei li <xli@cs.odu.edu>
Received: (from nobody@localhost)
	by cartero.cs.odu.edu (8.12.10/8.12.10/Submit) id i49NubwV020189;
	Sun, 9 May 2004 19:56:37 -0400 (EDT)
X-Authentication-Warning: cartero.cs.odu.edu: nobody set sender to xli@cs.odu.edu using -f
Received: from 128.82.7.71
        (SquirrelMail authenticated user xli)
        by mail.cs.odu.edu with HTTP;
        Sun, 9 May 2004 19:56:37 -0400 (EDT)
Message-ID: <1672.128.82.7.71.1084146997.squirrel@mail.cs.odu.edu>
Date: Sun, 9 May 2004 19:56:37 -0400 (EDT)
Subject: Re: about ParallelMultiSearcher
To: <lucene-user@jakarta.apache.org>
In-Reply-To: <67E755E6-A0ED-11D8-A14B-000393A564E6@ehatchersolutions.com>
References: <1129.128.82.7.71.1083959540.squirrel@mail.cs.odu.edu>
        <67E755E6-A0ED-11D8-A14B-000393A564E6@ehatchersolutions.com>
X-Priority: 3
Importance: Normal
X-Mailer: SquirrelMail (version 1.2.10)
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thank you for your reply.
Could you tell me where I can get CVS HEAD of lucene.

Li

> I'm using ParallelMultiSearcher just fine, with all versions of Lucene
> 1.3 and beyond.  I'm using CVS HEAD at the moment, not an official 1.4
> RC release.
>
> I suspect you have an old Lucene JAR file in your classpath.
>
> 	Erik
>
>
>
> On May 7, 2004, at 3:52 PM, xuemei li wrote:
>
>> Hello all,
>>
>> I am doing some search work using Lucene 1.4 paralmultisearch.
>> If I use MultiSearcher.It works well.
>> But if I use ParallelMultisearcher the code can compile correctly and
>> cann't execute correctly.The executing error is as following:
>> Exception in thread "main" java.lang.NoSuchMethodError:
>> org.apache.lucene.search.ParallelMultiSearcher.getStarts()[I
>>         at
>> org.apache.lucene.search.ParallelMultiSearcher.<init>(ParallelMultiSe
>> archer.java:38)
>>         at SearchFiles.main(SearchFiles.java:92)
>>
>>
>> Is there anyone know something about it?
>> Thanks,
>>
>> Li
>>
>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org For
>> additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> --------------------------------------------------------------------- To
> unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org For
> additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8205-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 10 03:49:29 2004
Return-Path: <lucene-user-return-8205-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24164 invoked from network); 10 May 2004 03:49:29 -0000
Received: from daedalus.apache.org (HELO mail.apache.org) (208.185.179.12)
  by minotaur-2.apache.org with SMTP; 10 May 2004 03:49:29 -0000
Received: (qmail 92378 invoked by uid 500); 10 May 2004 03:49:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92356 invoked by uid 500); 10 May 2004 03:49:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92335 invoked from network); 10 May 2004 03:49:02 -0000
Received: from unknown (HELO relay1.mail2web.com) (168.144.1.81)
  by daedalus.apache.org with SMTP; 10 May 2004 03:49:02 -0000
Received: from M2W076.mail2web.com ([168.144.251.186]) by relay1.mail2web.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Sun, 9 May 2004 23:49:12 -0400
Message-ID: <114780-22004511034912652@M2W076.mail2web.com>
X-Priority: 3
Reply-To: mahesh@servelots.com
X-Originating-IP: 203.192.205.192
X-URL: http://mail2web.com/
From: "mahesh@servelots.com" <mahesh@servelots.com>
To: lucene-user@jakarta.apache.org
Subject: too many files open while lucene indexing...
Date: Sun, 9 May 2004 23:49:12 -0400
MIME-Version: 1.0
Content-type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-OriginalArrivalTime: 10 May 2004 03:49:12.0818 (UTC) FILETIME=[C1F6FD20:01C43641]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

We are facing the following problem frequently while creating the Lucene
index,

Exception luceneSearchjava=2Eio=2EFileNotFoundException:

 TOMCAT_HOME/webapps/toto/index/idb/_565=2Ef3 (Too many open files)

Due to the above problem, the server is becoming inactive and we can not
use the webapp
till we restart the server=2E

some times during this process problem we also get a write=2Elock file at
index root=2E

Details:

Server:   Tomcat

Database: Mysql

Number of webapps: 20

Number of JAR's in webapp lib: 8

Mergefactor =3D 10 -> Earlier it was 20 and we reduced it to 10 still we a=
re
facing the same problem=2E

Operating System: Linux

If any one has nay solution this problem please let me know=2E=2E=2E=2E

MAHESH

--------------------------------------------------------------------
mail2web - Check your email from the web at
http://mail2web=2Ecom/ =2E



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8206-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 10 08:05:31 2004
Return-Path: <lucene-user-return-8206-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28087 invoked from network); 10 May 2004 08:05:30 -0000
Received: from unknown (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 May 2004 08:05:30 -0000
Received: (qmail 25503 invoked by uid 500); 10 May 2004 08:05:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25292 invoked by uid 500); 10 May 2004 08:05:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25260 invoked by uid 98); 10 May 2004 08:05:30 -0000
Received: from vauchers@cirano.qc.ca by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(207.162.57.26):. 
 Processed in 0.031082 secs); 10 May 2004 08:05:30 -0000
X-Qmail-Scanner-Mail-From: vauchers@cirano.qc.ca via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(207.162.57.26):. Processed in 0.031082 secs)
Received: from unknown (HELO hercule.cirano.qc.ca) (207.162.57.26)
  by hermes.apache.org with SMTP; 10 May 2004 08:05:29 -0000
Received: from localhost (vauchers@localhost)
	by hercule.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id i4A84xd00512
	for <lucene-user@jakarta.apache.org>; Mon, 10 May 2004 04:04:59 -0400
X-Authentication-Warning: hercule.cirano.qc.ca: vauchers owned process doing -bs
Date: Mon, 10 May 2004 04:04:58 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Analysis of wildcard queries
Message-ID: <Pine.LNX.4.33.0405100356380.30576-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've seen this:
http://www.jguru.com/faq/view.jsp?EID=538312

I've seen in the code that there is a method to set lowercasing, but I
need to remove accentuated chars as well. Any suggestions as to which is
preferable, preprocessing the input or subclassing a QueryParser and
redefining getWildcardQuery?

cheers,
sv


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8207-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 10 08:22:39 2004
Return-Path: <lucene-user-return-8207-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56939 invoked from network); 10 May 2004 08:22:39 -0000
Received: from unknown (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 May 2004 08:22:39 -0000
Received: (qmail 88927 invoked by uid 500); 10 May 2004 08:22:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88760 invoked by uid 500); 10 May 2004 08:22:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88734 invoked by uid 98); 10 May 2004 08:22:36 -0000
Received: from sits@nuix.com.au by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(210.50.55.251):. 
 Processed in 0.073013 secs); 10 May 2004 08:22:36 -0000
X-Qmail-Scanner-Mail-From: sits@nuix.com.au via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(210.50.55.251):. Processed in 0.073013 secs)
Received: from unknown (HELO file1.syd.nuix.com.au) (210.50.55.251)
  by hermes.apache.org with SMTP; 10 May 2004 08:22:36 -0000
Received: from host55.syd.nuix.com.au (host55.syd.nuix.com.au [192.168.222.55])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 4F3CEB6FE1
	for <lucene-user@jakarta.apache.org>; Mon, 10 May 2004 17:47:13 +1000 (EST)
Content-Type: text/plain;
  charset="us-ascii"
From: David Sitsky <sits@nuix.com.au>
To: lucene-user@jakarta.apache.org
Subject: Memory requirements for optimize() on compound index high?
Date: Mon, 10 May 2004 17:41:55 +1000
User-Agent: KMail/1.4.3
Organization: Nuix Pty Ltd.
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200405101741.55404.sits@nuix.com.au>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I am working on an application which uses Lucene 1.3 Final which uses the 
compound index format on Win32 Sun JVM 1.4.1_02.  I have set 
maxFieldLength for the index writer to 1,000,000, as often I have to index 
potentially very large documents, which contain information that must be 
indexed.

All other index writer parameters have their default values.  The 
application loads all documents in a batch phase, and then allows the user 
to perform searchers.  Typically, no new documents are added afterwards.

Given the large size set for maxFieldLength, I have allocated 512MB of 
memory to the JVM.  For indexing 1,000,000 complex documents, with 
potentially around 30 fields each, this seems to work fine.

I have noticed that when performing an optimize() on this index at the end 
of a batch load, the memory requirements seem to be much higher.  I was 
receiving OutOfMemoryErrors for a 512MB JVM.  I increased the JVM size to 
1 GIG, and the optimize operation completed successfully.

Task manager reported a peak VM size of 810MB during the optimize() 
operation, from a newly-created JVM.  FWIW, the final index size was 11 
gigabytes - most document fields are stored in the index.

Do people have similar experiences to this when calling optimize() on a 
compound index?

Are there any ways I can reduce the amount of memory required, apart from 
making maxFieldLength smaller?

Are there any way of determining in advance the kind of memory requirements 
optimize() will require?  Its highly undesirable to receive 
OutOfMemoryErrors during optimize().  I guess the user can still search on 
an unoptimized index which is better than nothing...

-- 
Cheers,
David

This message is intended only for the named recipient.  If you are not the 
intended recipient you are notified that disclosing, copying, distributing 
or taking any action  in reliance on the contents of this information is 
strictly prohibited.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8208-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 10 08:32:15 2004
Return-Path: <lucene-user-return-8208-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85020 invoked from network); 10 May 2004 08:32:15 -0000
Received: from unknown (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 May 2004 08:32:15 -0000
Received: (qmail 21438 invoked by uid 500); 10 May 2004 08:32:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21294 invoked by uid 500); 10 May 2004 08:32:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21279 invoked by uid 98); 10 May 2004 08:32:14 -0000
Received: from rcocula@sopragroup.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(81.80.239.198):. 
 Processed in 0.197181 secs); 10 May 2004 08:32:14 -0000
X-Qmail-Scanner-Mail-From: rcocula@sopragroup.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(81.80.239.198):. Processed in 0.197181 secs)
Received: from unknown (HELO outbound1.sopragroup.com) (81.80.239.198)
  by hermes.apache.org with SMTP; 10 May 2004 08:32:14 -0000
Received: by outbound1.sopragroup.com (8.12.10/8.12.10/outbound-A02) with ESMTP id i4A8Vm5B019848
          for <lucene-user@jakarta.apache.org>; Mon, 10 May 2004 10:31:49 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Analysis of wildcard queries
Date: Mon, 10 May 2004 10:31:46 +0200
Message-ID: <5933531F07A5144E9E53E1AA45257E4BACB5F9@wexchbe03.ancy.fr.sopra>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Analysis of wildcard queries
Thread-Index: AcQ2ZYqRkdiLJfUrQwqkqI3MAfwqLQAA0DYg
From: "Cocula Remi" <rcocula@sopragroup.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 10 May 2004 08:34:41.0890 (UTC) FILETIME=[A3AFF420:01C43669]
X-Scanned-By: MIMEDefang 2.38
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You have to write a special analyzer that include an accent filter.
Then use this analyzer for both indexing and querying.

-----Message d'origine-----
De : Stephane James Vaucher [mailto:vauchers@cirano.qc.ca]
Envoy=E9 : lundi 10 mai 2004 10:05
=C0 : Lucene Users List
Objet : Analysis of wildcard queries


I've seen this:
http://www.jguru.com/faq/view.jsp?EID=3D538312

I've seen in the code that there is a method to set lowercasing, but I
need to remove accentuated chars as well. Any suggestions as to which is
preferable, preprocessing the input or subclassing a QueryParser and
redefining getWildcardQuery?

cheers,
sv


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8209-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 10 08:45:37 2004
Return-Path: <lucene-user-return-8209-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80625 invoked from network); 10 May 2004 08:45:37 -0000
Received: from unknown (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 May 2004 08:45:37 -0000
Received: (qmail 59211 invoked by uid 500); 10 May 2004 08:45:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59005 invoked by uid 500); 10 May 2004 08:45:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58987 invoked by uid 98); 10 May 2004 08:45:37 -0000
Received: from vyuryev@rambler.ru by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(81.19.66.30):. 
 Processed in 0.131823 secs); 10 May 2004 08:45:37 -0000
X-Qmail-Scanner-Mail-From: vyuryev@rambler.ru via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(81.19.66.30):. Processed in 0.131823 secs)
Received: from unknown (HELO mxb.rambler.ru) (81.19.66.30)
  by hermes.apache.org with SMTP; 10 May 2004 08:45:37 -0000
Received: from mail5.rambler.ru (mail5.rambler.ru [81.19.66.7])
	by mxb.rambler.ru (Postfix) with ESMTP id 0715883516
	for <lucene-user@jakarta.apache.org>; Mon, 10 May 2004 08:10:29 +0400 (MSD)
Received: from [81.19.66.146] (account vyuryev@rambler.ru)
  by mail5.rambler.ru (CommuniGate Pro WebUser 4.1.8)
  with HTTP id 22210538 for lucene-user@jakarta.apache.org; Mon, 10 May 2004 08:10:28 +0400
From: "Vladimir Yuryev" <vyuryev@rambler.ru>
Subject: Re: ParallelMultiSearcher
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: CommuniGate Pro WebUser Interface v.4.1.8
Date: Mon, 10 May 2004 08:10:28 +0400
Message-ID: <web-22210538@mail5.rambler.ru>
MIME-Version: 1.0
Content-Type: text/plain; charset="windows-1251"; format="flowed"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi, Erik!

Thanks for your reply.

Vladimir.

>> What requirements ParallelMultiSearch to JVM? What the adjustments of 
>> memory and for processes of system are required? If it somebody knows, 
>> let it can be on an example anyone of Unix System.
>
>ParallelMultiSearcher simply spins a separate thread for each index and 
>waits for the results from all threads before returning results.
>
>Depending on your hardware, you may or may not receive performance 
>benefits over using plain MultiSearcher.  You would likely need each 
>index on a separate disk so that you would benefit from parallel I/O.
>
>Beyond standard multi-threaded Java concerns, there is nothing special 
>about ParallelMultiSearcher, and tuning would be dependent on your 
>environment.
>
>	Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8210-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 10 09:50:37 2004
Return-Path: <lucene-user-return-8210-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13430 invoked from network); 10 May 2004 09:50:37 -0000
Received: from unknown (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 May 2004 09:50:37 -0000
Received: (qmail 50996 invoked by uid 500); 10 May 2004 09:50:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50960 invoked by uid 500); 10 May 2004 09:50:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50941 invoked by uid 98); 10 May 2004 09:50:34 -0000
Received: from huberfelix@webtopia.de by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(213.240.172.49):. 
 Processed in 0.265799 secs); 10 May 2004 09:50:34 -0000
X-Qmail-Scanner-Mail-From: huberfelix@webtopia.de via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(213.240.172.49):. Processed in 0.265799 secs)
Received: from unknown (HELO mail.fotos.de) (213.240.172.49)
  by hermes.apache.org with SMTP; 10 May 2004 09:50:34 -0000
Received: from athlon (pD953AA64.dip.t-dialin.net [217.83.170.100])
	by mail.fotos.de (Postfix) with SMTP id 4640D8C0F2
	for <lucene-user@jakarta.apache.org>; Mon, 10 May 2004 09:07:30 +0200 (CEST)
Message-ID: <003c01c4365d$776ac180$c801a8c0@athlon>
From: "Felix Huber" <huberfelix@webtopia.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <1129.128.82.7.71.1083959540.squirrel@mail.cs.odu.edu>        <67E755E6-A0ED-11D8-A14B-000393A564E6@ehatchersolutions.com> <1672.128.82.7.71.1084146997.squirrel@mail.cs.odu.edu>
Subject: Re: about ParallelMultiSearcher
Date: Mon, 10 May 2004 09:07:28 +0200
Organization: Webtopia
MIME-Version: 1.0
Content-Type: multipart/related;
	type="text/plain";
	boundary="----=_NextPart_000_0037_01C4366E.38161410"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0037_01C4366E.38161410
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

http://jakarta.apache.org/site/cvsindex.html
http://cvs.apache.org/viewcvs/jakarta-lucene/

"
Anyone can checkout source code from our anonymous CVS server. To do so,
simply use the following commands (if you are using a GUI CVS client,
configure it appropriatly):


     cvs -d :pserver:anoncvs@cvs.apache.org:/home/cvspublic login
password: anoncvs




     cvs -d :pserver:anoncvs@cvs.apache.org:/home/cvspublic checkout
[module-name]



Modules available for access are (click the links to view the CVS tree via
ViewCVS): "



Regards,

Felix Huber



#xuemei li wrote:
> Thank you for your reply.
> Could you tell me where I can get CVS HEAD of lucene.
>
> Li
>
>> I'm using ParallelMultiSearcher just fine, with all versions of
>> Lucene
>> 1.3 and beyond.  I'm using CVS HEAD at the moment, not an official
>> 1.4 RC release.
>>
>> I suspect you have an old Lucene JAR file in your classpath.
>>
>> Erik
>>
>>
>>
>> On May 7, 2004, at 3:52 PM, xuemei li wrote:
>>
>>> Hello all,
>>>
>>> I am doing some search work using Lucene 1.4 paralmultisearch.
>>> If I use MultiSearcher.It works well.
>>> But if I use ParallelMultisearcher the code can compile correctly
>>> and cann't execute correctly.The executing error is as following:
>>> Exception in thread "main" java.lang.NoSuchMethodError:
>>> org.apache.lucene.search.ParallelMultiSearcher.getStarts()[I
>>>         at
>>> org.apache.lucene.search.ParallelMultiSearcher.<init>(ParallelMultiSe
>>> archer.java:38)
>>>         at SearchFiles.main(SearchFiles.java:92)
>>>
>>>
>>> Is there anyone know something about it?
>>> Thanks,
>>>
>>> Li
>>>
>>>
>>>
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org

------=_NextPart_000_0037_01C4366E.38161410--


From lucene-user-return-8211-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 10 09:56:17 2004
Return-Path: <lucene-user-return-8211-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16463 invoked from network); 10 May 2004 09:56:17 -0000
Received: from unknown (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 May 2004 09:56:17 -0000
Received: (qmail 70633 invoked by uid 500); 10 May 2004 09:56:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70571 invoked by uid 500); 10 May 2004 09:56:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70542 invoked by uid 98); 10 May 2004 09:56:16 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(24.51.109.181):. 
 Processed in 0.055452 secs); 10 May 2004 09:56:16 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(24.51.109.181):. Processed in 0.055452 secs)
Received: from unknown (HELO ErikHatcher.local) (24.51.109.181)
  by hermes.apache.org with SMTP; 10 May 2004 09:56:16 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by ErikHatcher.local (Postfix) with ESMTP id 9F22F6E2619
	for <lucene-user@jakarta.apache.org>; Mon, 10 May 2004 05:55:57 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <114780-22004511034912652@M2W076.mail2web.com>
References: <114780-22004511034912652@M2W076.mail2web.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <39615061-A268-11D8-81A3-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: too many files open while lucene indexing...
Date: Mon, 10 May 2004 05:55:53 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Try using the compound index format..... 
IndexWriter.setUseCompoundFile(true)

	Erik


On May 9, 2004, at 11:49 PM, mahesh@servelots.com wrote:

> Hello,
>
> We are facing the following problem frequently while creating the 
> Lucene
> index,
>
> Exception luceneSearchjava.io.FileNotFoundException:
>
>  TOMCAT_HOME/webapps/toto/index/idb/_565.f3 (Too many open files)
>
> Due to the above problem, the server is becoming inactive and we can 
> not
> use the webapp
> till we restart the server.
>
> some times during this process problem we also get a write.lock file at
> index root.
>
> Details:
>
> Server:   Tomcat
>
> Database: Mysql
>
> Number of webapps: 20
>
> Number of JAR's in webapp lib: 8
>
> Mergefactor = 10 -> Earlier it was 20 and we reduced it to 10 still we 
> are
> facing the same problem.
>
> Operating System: Linux
>
> If any one has nay solution this problem please let me know....
>
> MAHESH
>
> --------------------------------------------------------------------
> mail2web - Check your email from the web at
> http://mail2web.com/ .
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8212-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 10 10:01:13 2004
Return-Path: <lucene-user-return-8212-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19431 invoked from network); 10 May 2004 10:01:12 -0000
Received: from unknown (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 May 2004 10:01:12 -0000
Received: (qmail 81896 invoked by uid 500); 10 May 2004 10:01:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81874 invoked by uid 500); 10 May 2004 10:01:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81859 invoked by uid 98); 10 May 2004 10:01:07 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(24.51.109.181):. 
 Processed in 0.040153 secs); 10 May 2004 10:01:07 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(24.51.109.181):. Processed in 0.040153 secs)
Received: from unknown (HELO ErikHatcher.local) (24.51.109.181)
  by hermes.apache.org with SMTP; 10 May 2004 10:01:07 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by ErikHatcher.local (Postfix) with ESMTP id ED1616E2635
	for <lucene-user@jakarta.apache.org>; Mon, 10 May 2004 06:00:45 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <5933531F07A5144E9E53E1AA45257E4BACB5F9@wexchbe03.ancy.fr.sopra>
References: <5933531F07A5144E9E53E1AA45257E4BACB5F9@wexchbe03.ancy.fr.sopra>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <E78221ED-A268-11D8-81A3-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Analysis of wildcard queries
Date: Mon, 10 May 2004 06:00:45 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On May 10, 2004, at 4:31 AM, Cocula Remi wrote:

> You have to write a special analyzer that include an accent filter.
> Then use this analyzer for both indexing and querying.

The issue, however, is that wildcard queries are not analyzed by=20
QueryParser.

I think if your analyzer is working fine for regular term and phrase=20
queries, that subclassing QueryParser and overriding getWildcardQuery=20
to handle special processing (perhaps even analyzing if you are careful=20=

not to remove the wildcard characters themselves!) is the way to go.

Although pre-processing is a fine solution too if the accented=20
characters should be removed in all query types.

	Erik

>
> -----Message d'origine-----
> De : Stephane James Vaucher [mailto:vauchers@cirano.qc.ca]
> Envoy=E9 : lundi 10 mai 2004 10:05
> =C0 : Lucene Users List
> Objet : Analysis of wildcard queries
>
>
> I've seen this:
> http://www.jguru.com/faq/view.jsp?EID=3D538312
>
> I've seen in the code that there is a method to set lowercasing, but I
> need to remove accentuated chars as well. Any suggestions as to which=20=

> is
> preferable, preprocessing the input or subclassing a QueryParser and
> redefining getWildcardQuery?
>
> cheers,
> sv
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8213-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 10 12:12:30 2004
Return-Path: <lucene-user-return-8213-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4961 invoked from network); 10 May 2004 12:12:29 -0000
Received: from unknown (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 May 2004 12:12:29 -0000
Received: (qmail 42560 invoked by uid 500); 10 May 2004 12:12:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42513 invoked by uid 500); 10 May 2004 12:12:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42493 invoked by uid 98); 10 May 2004 12:12:40 -0000
Received: from david.townsend@magus.co.uk by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(193.131.98.10):. 
 Processed in 0.16726 secs); 10 May 2004 12:12:40 -0000
X-Qmail-Scanner-Mail-From: david.townsend@magus.co.uk via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(193.131.98.10):. Processed in 0.16726 secs)
Received: from unknown (HELO dougal.magus.co.uk) (193.131.98.10)
  by hermes.apache.org with SMTP; 10 May 2004 12:12:39 -0000
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C43688.3E70587E"
Subject: Returning Separate Hits from Multisearcher
Date: Mon, 10 May 2004 13:13:46 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Message-ID: <DA62FF8236FA314981B6FC0BDACD01E61DACBA@dougal.magus.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Returning Separate Hits from Multisearcher
Thread-Index: AcQ2iD5rGo6WO1dST1+4e8qOgvua3Q==
From: "David Townsend" <david.townsend@magus.co.uk>
To: "Lucene Users List \(E-mail\)" <lucene-user@jakarta.apache.org>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C43688.3E70587E
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


We have a number of small indices and also an uber-index made up of all =
the smaller indices.  We need to get do a search across a number of the =
sub-indices and get back a hit count from each.  Currently we search  =
each index, we've also tried running multiple queries against the =
uber-index, with a field denoting which subindex we are interested in. =
Obviously this approach is very slow.  Is there any way to use =
MultiSearcher to do this?  The problem we currently have with =
MultiSearcher is there seems no way to tell how many hits came from each =
index.  Is there a recommended way to do this, or should we modify =
MultiSearcher to return information about the hits on each index.

any ideas?

David Townsend



------_=_NextPart_001_01C43688.3E70587E--

From lucene-user-return-8214-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 10 12:18:45 2004
Return-Path: <lucene-user-return-8214-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9829 invoked from network); 10 May 2004 12:18:45 -0000
Received: from unknown (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 May 2004 12:18:45 -0000
Received: (qmail 61244 invoked by uid 500); 10 May 2004 12:18:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61148 invoked by uid 500); 10 May 2004 12:18:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61092 invoked by uid 98); 10 May 2004 12:18:57 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(24.51.109.181):. 
 Processed in 0.021968 secs); 10 May 2004 12:18:57 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(24.51.109.181):. Processed in 0.021968 secs)
Received: from unknown (HELO ErikHatcher.local) (24.51.109.181)
  by hermes.apache.org with SMTP; 10 May 2004 12:18:57 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by ErikHatcher.local (Postfix) with ESMTP id 8CC9F6E2E64
	for <lucene-user@jakarta.apache.org>; Mon, 10 May 2004 08:18:27 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <DA62FF8236FA314981B6FC0BDACD01E61DACBA@dougal.magus.co.uk>
References: <DA62FF8236FA314981B6FC0BDACD01E61DACBA@dougal.magus.co.uk>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <2231196C-A27C-11D8-97DE-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Returning Separate Hits from Multisearcher
Date: Mon, 10 May 2004 08:18:24 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On May 10, 2004, at 8:13 AM, David Townsend wrote:
>
> We have a number of small indices and also an uber-index made up of 
> all the smaller indices.  We need to get do a search across a number 
> of the sub-indices and get back a hit count from each.  Currently we 
> search  each index, we've also tried running multiple queries against 
> the uber-index, with a field denoting which subindex we are interested 
> in. Obviously this approach is very slow.  Is there any way to use 
> MultiSearcher to do this?  The problem we currently have with 
> MultiSearcher is there seems no way to tell how many hits came from 
> each index.  Is there a recommended way to do this, or should we 
> modify MultiSearcher to return information about the hits on each 
> index.
>
> any ideas?

Instead of running multiple queries against the uber-index, try making 
a single "uber" query that builds up boolean query clauses that select 
each of the small "index" fields you're interested in.

Also, perhaps using a Filter to narrow down the search space on the 
uber-index is more along the lines of what you're after?

	Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8215-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 10 15:26:57 2004
Return-Path: <lucene-user-return-8215-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18302 invoked from network); 10 May 2004 15:26:56 -0000
Received: from unknown (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 May 2004 15:26:56 -0000
Received: (qmail 36062 invoked by uid 500); 10 May 2004 13:44:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29059 invoked by uid 500); 10 May 2004 13:41:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24168 invoked by uid 98); 10 May 2004 13:39:00 -0000
Received: from mbilotti@csail.mit.edu by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(128.30.2.16):. 
 Processed in 0.011703 secs); 10 May 2004 13:39:00 -0000
X-Qmail-Scanner-Mail-From: mbilotti@csail.mit.edu via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(128.30.2.16):. Processed in 0.011703 secs)
Received: from unknown (HELO rozz.csail.mit.edu) (128.30.2.16)
  by hermes.apache.org with SMTP; 10 May 2004 13:39:00 -0000
Received: from bahamut.csail.mit.edu ([128.30.44.27])
	by rozz.csail.mit.edu with esmtp (TLSv1:DES-CBC3-SHA:168)
	(Exim 4.30)
	id 1BNAzE-0003r3-Vx
	for lucene-user@jakarta.apache.org; Mon, 10 May 2004 09:38:28 -0400
Date: Mon, 10 May 2004 09:38:28 -0400 (EDT)
From: "Matthew W. Bilotti" <mbilotti@csail.mit.edu>
To: lucene-user@jakarta.apache.org
Subject: Explanation of Scoring
Message-ID: <Pine.LNX.4.44.0405100927020.2510-100000@bahamut.csail.mit.edu>
Organization: Massachusetts Institute of Technology
X-GPG-PUBLIC_KEY: http://web.mit.edu/mbilotti/www/mbilotti_public_key.asc
X-GPG-FINGERPRING: C566 09E5 1594 BB63 2732  DBAA 3C93 F73F 7B7E 403D
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hello,

I'm using Lucene 1.4 RC2, and I'm having trouble understanding how the 
scoring relates to document rank.  The work I am doing is going to depend 
very much on knowing exactly how the scoring algorithm works and printing 
out the the score components so that I can analyze contributions of 
individual terms by hand.  If anyone can help me do this, I would be truly 
grateful.

Particularly, I would like help understanding the following strange 
phenomenon:

I executed a query and the first document returned had a score of 0.592.
The explanation string read "0.0 = match required".  Can anyone tell me 
what this means?

The next 39 documents retrieved had steadily decreasing score with the 
same explanation string.

The 40th document retrieved, though had a score of 1.0 and the explanation 
string:

0.0 = fieldWeight(contents:invented in 0), product of:
  0.0 = tf(termFreq(contents:invented)=0)
  6.507968 = idf(docFreq=4189)
  0.0390625 = fieldNorm(field=contents, doc=0)

If anyone can help me decipher the explanation strings, or help me to
understand why a document with score 1.0 is ranked lower than a document
with score 0.592, or show me how to print out the individual components of 
the score as I am retrieving the documents, please reply.  My work very 
much depends on your help.

Regards,

Matthew Bilotti


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8216-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 10 15:56:40 2004
Return-Path: <lucene-user-return-8216-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49152 invoked from network); 10 May 2004 15:56:40 -0000
Received: from unknown (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 May 2004 15:56:40 -0000
Received: (qmail 49099 invoked by uid 500); 10 May 2004 15:41:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48904 invoked by uid 500); 10 May 2004 15:41:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48731 invoked by uid 98); 10 May 2004 15:41:01 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(24.51.109.181):. 
 Processed in 0.078139 secs); 10 May 2004 15:41:01 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(24.51.109.181):. Processed in 0.078139 secs)
Received: from unknown (HELO ErikHatcher.local) (24.51.109.181)
  by hermes.apache.org with SMTP; 10 May 2004 15:41:00 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by ErikHatcher.local (Postfix) with ESMTP id C77E76E38C5
	for <lucene-user@jakarta.apache.org>; Mon, 10 May 2004 11:40:34 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <Pine.LNX.4.44.0405100927020.2510-100000@bahamut.csail.mit.edu>
References: <Pine.LNX.4.44.0405100927020.2510-100000@bahamut.csail.mit.edu>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <5EA56E94-A298-11D8-97DE-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Explanation of Scoring
Date: Mon, 10 May 2004 11:40:31 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

My guess is that you've used the IndexSearcher.explain method 
incorrectly.  What are you passing to it?  Along with the query, the 
document id should be passed.  If you are iterating over Hits, be sure 
not to pass the hit iteration number.

	Erik


On May 10, 2004, at 9:38 AM, Matthew W. Bilotti wrote:

>
> Hello,
>
> I'm using Lucene 1.4 RC2, and I'm having trouble understanding how the
> scoring relates to document rank.  The work I am doing is going to 
> depend
> very much on knowing exactly how the scoring algorithm works and 
> printing
> out the the score components so that I can analyze contributions of
> individual terms by hand.  If anyone can help me do this, I would be 
> truly
> grateful.
>
> Particularly, I would like help understanding the following strange
> phenomenon:
>
> I executed a query and the first document returned had a score of 
> 0.592.
> The explanation string read "0.0 = match required".  Can anyone tell me
> what this means?
>
> The next 39 documents retrieved had steadily decreasing score with the
> same explanation string.
>
> The 40th document retrieved, though had a score of 1.0 and the 
> explanation
> string:
>
> 0.0 = fieldWeight(contents:invented in 0), product of:
>   0.0 = tf(termFreq(contents:invented)=0)
>   6.507968 = idf(docFreq=4189)
>   0.0390625 = fieldNorm(field=contents, doc=0)
>
> If anyone can help me decipher the explanation strings, or help me to
> understand why a document with score 1.0 is ranked lower than a 
> document
> with score 0.592, or show me how to print out the individual 
> components of
> the score as I am retrieving the documents, please reply.  My work very
> much depends on your help.
>
> Regards,
>
> Matthew Bilotti
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8217-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 10 17:12:22 2004
Return-Path: <lucene-user-return-8217-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91339 invoked from network); 10 May 2004 17:12:22 -0000
Received: from unknown (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 May 2004 17:12:22 -0000
Received: (qmail 48222 invoked by uid 500); 10 May 2004 17:12:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48067 invoked by uid 500); 10 May 2004 17:12:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47972 invoked by uid 98); 10 May 2004 17:12:40 -0000
Received: from ykingma@xs4all.nl by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(194.109.24.13):. 
 Processed in 0.053721 secs); 10 May 2004 17:12:40 -0000
X-Qmail-Scanner-Mail-From: ykingma@xs4all.nl via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(194.109.24.13):. Processed in 0.053721 secs)
Received: from unknown (HELO smtp-out3.xs4all.nl) (194.109.24.13)
  by hermes.apache.org with SMTP; 10 May 2004 17:12:40 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out3.xs4all.nl (8.12.10/8.12.10) with ESMTP id i4AHC4Vu017890
	for <lucene-user@jakarta.apache.org>; Mon, 10 May 2004 19:12:04 +0200 (CEST)
From: Ype Kingma <ykingma@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Returning Separate Hits from Multisearcher
Date: Mon, 10 May 2004 19:12:03 +0200
User-Agent: KMail/1.5.4
References: <DA62FF8236FA314981B6FC0BDACD01E61DACBA@dougal.magus.co.uk>
In-Reply-To: <DA62FF8236FA314981B6FC0BDACD01E61DACBA@dougal.magus.co.uk>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200405101912.03824.ykingma@xs4all.nl>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday 10 May 2004 14:13, David Townsend wrote:
> We have a number of small indices and also an uber-index made up of all the
> smaller indices.  We need to get do a search across a number of the
> sub-indices and get back a hit count from each.  Currently we search  each
> index, we've also tried running multiple queries against the uber-index,
> with a field denoting which subindex we are interested in. Obviously this
> approach is very slow.  Is there any way to use MultiSearcher to do this? 
> The problem we currently have with MultiSearcher is there seems no way to
> tell how many hits came from each index.  Is there a recommended way to do
> this, or should we modify MultiSearcher to return information about the
> hits on each index.
>
> any ideas?

You can use MultiSearcher.subSearcher(int docNr), evt. combined with a
mapping back from the subSearchers to their original index.

When you only need the count per subSearcher there is no need
for a Hits object. A HitCollector will do nicely.

Have fun,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8218-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 10 22:14:54 2004
Return-Path: <lucene-user-return-8218-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74985 invoked from network); 10 May 2004 22:14:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 May 2004 22:14:54 -0000
Received: (qmail 21808 invoked by uid 500); 10 May 2004 22:15:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21748 invoked by uid 500); 10 May 2004 22:15:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21712 invoked by uid 98); 10 May 2004 22:15:26 -0000
Received: from mbilotti@csail.mit.edu by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(128.30.2.16):. 
 Processed in 0.016467 secs); 10 May 2004 22:15:26 -0000
X-Qmail-Scanner-Mail-From: mbilotti@csail.mit.edu via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(128.30.2.16):. Processed in 0.016467 secs)
Received: from unknown (HELO rozz.csail.mit.edu) (128.30.2.16)
  by hermes.apache.org with SMTP; 10 May 2004 22:15:26 -0000
Received: from bahamut.csail.mit.edu ([128.30.44.27])
	by rozz.csail.mit.edu with esmtp (TLSv1:DES-CBC3-SHA:168)
	(Exim 4.30)
	id 1BNJ2i-0004tn-EF
	for lucene-user@jakarta.apache.org; Mon, 10 May 2004 18:14:36 -0400
Date: Mon, 10 May 2004 18:14:36 -0400 (EDT)
From: "Matthew W. Bilotti" <mbilotti@csail.mit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Explanation of Scoring
In-Reply-To: <5EA56E94-A298-11D8-97DE-000393A564E6@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.44.0405101814170.2611-100000@bahamut.csail.mit.edu>
Organization: Massachusetts Institute of Technology
X-GPG-PUBLIC_KEY: http://web.mit.edu/mbilotti/www/mbilotti_public_key.asc
X-GPG-FINGERPRING: C566 09E5 1594 BB63 2732  DBAA 3C93 F73F 7B7E 403D
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yes, that did it.  Thanks!

~ Matthew

On Mon, 10 May 2004, Erik Hatcher wrote:

> My guess is that you've used the IndexSearcher.explain method 
> incorrectly.  What are you passing to it?  Along with the query, the 
> document id should be passed.  If you are iterating over Hits, be sure 
> not to pass the hit iteration number.
> 
> 	Erik
> 
k


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8219-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 03:10:40 2004
Return-Path: <lucene-user-return-8219-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97066 invoked from network); 11 May 2004 03:10:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 03:10:39 -0000
Received: (qmail 7817 invoked by uid 500); 11 May 2004 03:11:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7770 invoked by uid 500); 11 May 2004 03:11:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7747 invoked by uid 98); 11 May 2004 03:11:20 -0000
Received: from jak-lucene-user@m.gmane.org by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(80.91.224.249):. 
 Processed in 0.172671 secs); 11 May 2004 03:11:20 -0000
X-Qmail-Scanner-Mail-From: jak-lucene-user@m.gmane.org via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(80.91.224.249):. Processed in 0.172671 secs)
Received: from unknown (HELO main.gmane.org) (80.91.224.249)
  by hermes.apache.org with SMTP; 11 May 2004 03:11:19 -0000
Received: from root by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1BNNew-0001Lg-00
	for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 05:10:23 +0200
Received: from 203-173-31-58.dyn.iinet.net.au ([203.173.31.58])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 05:10:22 +0200
Received: from gstamp by 203-173-31-58.dyn.iinet.net.au with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 05:10:22 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: "Glen Stampoultzis" <gstamp@iinet.net.au>
Subject: Mixing database and lucene searches
Date: Tue, 11 May 2004 13:02:08 +1000
Lines: 17
Message-ID: <c7pfni$nj5$1@sea.gmane.org>
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: 203-173-31-58.dyn.iinet.net.au
X-MSMail-Priority: Normal
X-Newsreader: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Sender: news <news@sea.gmane.org>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi... I have a query screen where most of the fields search a regular
database but one field searches for text in the body of the document.  You
could say the database holds metadata about the documents.  Effectively this
means I have two separate queries going on - a lucene query and a database
query.  These results need to be combined.

Anyone have any strategies for dealing with this?  I'm wondering whether
it's better to replicate searchable fields in the lucene index.  This means
being very careful that updates get done in two places so it is not ideal.

Regards,

Glen






---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8220-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 03:21:21 2004
Return-Path: <lucene-user-return-8220-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2317 invoked from network); 11 May 2004 03:21:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 03:21:20 -0000
Received: (qmail 32451 invoked by uid 500); 11 May 2004 03:22:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32287 invoked by uid 500); 11 May 2004 03:22:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32272 invoked by uid 98); 11 May 2004 03:21:59 -0000
Received: from paul@waite.net.nz by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.79.71.204):. 
 Processed in 0.179333 secs); 11 May 2004 03:21:59 -0000
X-Qmail-Scanner-Mail-From: paul@waite.net.nz via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.79.71.204):. Processed in 0.179333 secs)
Received: from unknown (HELO gandalf.lan.waite.net.nz) (203.79.71.204)
  by hermes.apache.org with SMTP; 11 May 2004 03:21:59 -0000
Received: from localhost ([127.0.0.1] ident=amavis)
	by gandalf.lan.waite.net.nz with esmtp (Exim 4.30 #1 (Debian))
	id 1BNNpG-0000vK-Pm
	for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 15:21:02 +1200
Received: from gandalf.lan.waite.net.nz ([127.0.0.1])
	by localhost (gandalf [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 03357-03 for <lucene-user@jakarta.apache.org>;
	Tue, 11 May 2004 15:20:57 +1200 (NZST)
Received: from frodo.lan.waite.net.nz ([192.168.1.29] ident=paul)
	by gandalf.lan.waite.net.nz with esmtp (Exim 4.30 #1 (Debian))
	id 1BNNpA-0000vE-Vi
	for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 15:20:56 +1200
From: Paul <paul@waite.net.nz>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Mixing database and lucene searches
Date: Tue, 11 May 2004 15:20:56 +1200
User-Agent: KMail/1.6.1
References: <c7pfni$nj5$1@sea.gmane.org>
In-Reply-To: <c7pfni$nj5$1@sea.gmane.org>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200405111520.56888.paul@waite.net.nz>
X-Virus-Scanned: by amavisd-new-20030616-p5 (Debian) at waite.net.nz
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Glen Stampoultzis wrote:

> Hi... I have a query screen where most of the fields search a regular
> database but one field searches for text in the body of the document.  You
> could say the database holds metadata about the documents.  Effectively
> this means I have two separate queries going on - a lucene query and a
> database query.  These results need to be combined.
>
> Anyone have any strategies for dealing with this?  I'm wondering whether
> it's better to replicate searchable fields in the lucene index.  This means
> being very careful that updates get done in two places so it is not ideal.

First index your docs with all fields that are queried on, and storing the
db key.For each query check the terms to see if the any non-metadata (Lucene)
query data has been submitted, If so, run a Lucene query, and build a
resultset of keys. If not, go straight to the database and do the same with a
standard db query.

The Lucene returns are then filled in with a database lookup for each doc
in the returned resultset to provide metadata.

Cheers,
Paul.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8221-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 03:44:02 2004
Return-Path: <lucene-user-return-8221-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10906 invoked from network); 11 May 2004 03:44:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 03:44:01 -0000
Received: (qmail 83399 invoked by uid 500); 11 May 2004 03:44:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83373 invoked by uid 500); 11 May 2004 03:44:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83358 invoked by uid 98); 11 May 2004 03:44:43 -0000
Received: from matt@ctx.com.au by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(66.216.98.59):. 
 Processed in 0.015859 secs); 11 May 2004 03:44:43 -0000
X-Qmail-Scanner-Mail-From: matt@ctx.com.au via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(66.216.98.59):. Processed in 0.015859 secs)
Received: from unknown (HELO rs9.luxsci.com) (66.216.98.59)
  by hermes.apache.org with SMTP; 11 May 2004 03:44:43 -0000
Received: from [192.168.70.246] (ppp152-16.lns1.cbr1.internode.on.net [150.101.152.16])
	(authenticated bits=0)
	by rs9.luxsci.com (8.12.11/8.12.10) with ESMTP id i4B3hj9q015984
	for <lucene-user@jakarta.apache.org>; Mon, 10 May 2004 22:43:46 -0500
Message-ID: <40A04C41.1070400@ctx.com.au>
Date: Tue, 11 May 2004 13:45:05 +1000
From: Matt Quail <matt@ctx.com.au>
User-Agent: Mozilla Thunderbird 0.6 (Windows/20040502)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Mixing database and lucene searches
References: <c7pfni$nj5$1@sea.gmane.org>
In-Reply-To: <c7pfni$nj5$1@sea.gmane.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Glen Stampoultzis wrote:
> Anyone have any strategies for dealing with this?  I'm wondering whether
> it's better to replicate searchable fields in the lucene index.  This means
> being very careful that updates get done in two places so it is not ideal.

If you *can* manage to update your index when the "real" database is
updaed, then indexing the database fields into the lucene index is the
way to go: because it makes searching easier (no lucene-db joins) and
faster (way faster!).

You could always "batch" the updates of the index. That is, if you can
put a "last modified" date on each row of the database, then updating
the lucene index is easy (the index just needs to remember the last date
at which it was updated).

If you *really* don't want to (or can't) put all the searchable fields
into lucene, then you are going to need to do a "lucene-db" join. This
is how I do it:

Just say your DB contains rows with a primary key "pk" (say, an int;
this is a Keyword in the lucene index), a field "author" (not indexed)
and a text blob "text" (this is what you have indexed in Lucene).

There are two basic joins you need to do, an "and" join and an "or" join.

"And" join: if you want to do a query like "select rows where
name='matt' and text contains 'foo'", then the psuedo code is:

---
Hits hits = searcher.search(new TermQuery("text", "foo")
Set hitPKs = new Set();
for each doc in hits:
   hitPKs.put(doc.getField("pk"))

rsPKs = new Set();
ResultSet rs = sql.execute("select PK from TABLE where name='matt'")
for each row in rs:
   rsPKs.put(rs.get("pk"));

Set results = intersection(rsPKs, hitPKs);
---

Similarly, the "or" query uses union() not intersection(). If you want
to preserve the order of the Hits, then use a List or LinkedSet instead.

The code for a lucene-db is very annoying: try to put all your
searchable fields into an Index instead :D

=Matt





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8222-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 04:39:46 2004
Return-Path: <lucene-user-return-8222-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33350 invoked from network); 11 May 2004 04:39:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 04:39:46 -0000
Received: (qmail 19900 invoked by uid 500); 11 May 2004 04:40:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19872 invoked by uid 500); 11 May 2004 04:40:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19855 invoked by uid 98); 11 May 2004 04:40:26 -0000
Received: from jak-lucene-user@m.gmane.org by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(80.91.224.249):. 
 Processed in 0.301569 secs); 11 May 2004 04:40:26 -0000
X-Qmail-Scanner-Mail-From: jak-lucene-user@m.gmane.org via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(80.91.224.249):. Processed in 0.301569 secs)
Received: from unknown (HELO main.gmane.org) (80.91.224.249)
  by hermes.apache.org with SMTP; 11 May 2004 04:40:26 -0000
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1BNP3A-0002il-00
	for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 06:39:28 +0200
Received: from 203-173-31-58.dyn.iinet.net.au ([203.173.31.58])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 06:39:28 +0200
Received: from gstamp by 203-173-31-58.dyn.iinet.net.au with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 06:39:28 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: "Glen Stampoultzis" <gstamp@iinet.net.au>
Subject: Re: Mixing database and lucene searches
Date: Tue, 11 May 2004 14:39:23 +1000
Lines: 72
Message-ID: <c7pldt$3tk$1@sea.gmane.org>
References: <c7pfni$nj5$1@sea.gmane.org> <40A04C41.1070400@ctx.com.au>
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: 203-173-31-58.dyn.iinet.net.au
X-MSMail-Priority: Normal
X-Newsreader: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Sender: news <news@sea.gmane.org>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for the help.

I think I'll got with putting all the fields into lucene.

Just one comment about your strategy for combining db and lucene searches.
It seems that it would slow down significantly the larger the results,
although I can't see a better way to go about it.  For example if the lucene
search matched 100 records and the database searched 1,000,000 records
you're faced with iterating through a set of 1,000,000 records for a result
that couldn't possibly be more than 100 actual records.  I guess there's not
really much you can do about that.

Regards,

Glen


"Matt Quail" <matt@ctx.com.au> wrote in message
news:40A04C41.1070400@ctx.com.au...
> Glen Stampoultzis wrote:
> > Anyone have any strategies for dealing with this?  I'm wondering whether
> > it's better to replicate searchable fields in the lucene index.  This
means
> > being very careful that updates get done in two places so it is not
ideal.
>
> If you *can* manage to update your index when the "real" database is
> updaed, then indexing the database fields into the lucene index is the
> way to go: because it makes searching easier (no lucene-db joins) and
> faster (way faster!).
>
> You could always "batch" the updates of the index. That is, if you can
> put a "last modified" date on each row of the database, then updating
> the lucene index is easy (the index just needs to remember the last date
> at which it was updated).
>
> If you *really* don't want to (or can't) put all the searchable fields
> into lucene, then you are going to need to do a "lucene-db" join. This
> is how I do it:
>
> Just say your DB contains rows with a primary key "pk" (say, an int;
> this is a Keyword in the lucene index), a field "author" (not indexed)
> and a text blob "text" (this is what you have indexed in Lucene).
>
> There are two basic joins you need to do, an "and" join and an "or" join.
>
> "And" join: if you want to do a query like "select rows where
> name='matt' and text contains 'foo'", then the psuedo code is:
>
> ---
> Hits hits = searcher.search(new TermQuery("text", "foo")
> Set hitPKs = new Set();
> for each doc in hits:
>    hitPKs.put(doc.getField("pk"))
>
> rsPKs = new Set();
> ResultSet rs = sql.execute("select PK from TABLE where name='matt'")
> for each row in rs:
>    rsPKs.put(rs.get("pk"));
>
> Set results = intersection(rsPKs, hitPKs);
> ---
>
> Similarly, the "or" query uses union() not intersection(). If you want
> to preserve the order of the Hits, then use a List or LinkedSet instead.
>
> The code for a lucene-db is very annoying: try to put all your
> searchable fields into an Index instead :D
>
> =Matt




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8223-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 04:58:32 2004
Return-Path: <lucene-user-return-8223-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39563 invoked from network); 11 May 2004 04:58:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 04:58:32 -0000
Received: (qmail 69802 invoked by uid 500); 11 May 2004 04:59:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69782 invoked by uid 500); 11 May 2004 04:59:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69766 invoked by uid 98); 11 May 2004 04:59:13 -0000
Received: from matt@ctx.com.au by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(66.216.98.59):. 
 Processed in 0.254816 secs); 11 May 2004 04:59:13 -0000
X-Qmail-Scanner-Mail-From: matt@ctx.com.au via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(66.216.98.59):. Processed in 0.254816 secs)
Received: from unknown (HELO rs9.luxsci.com) (66.216.98.59)
  by hermes.apache.org with SMTP; 11 May 2004 04:59:13 -0000
Received: from [192.168.70.246] (ppp152-16.lns1.cbr1.internode.on.net [150.101.152.16])
	(authenticated bits=0)
	by rs9.luxsci.com (8.12.11/8.12.10) with ESMTP id i4B4wD51031934
	for <lucene-user@jakarta.apache.org>; Mon, 10 May 2004 23:58:14 -0500
Message-ID: <40A05DB5.70909@ctx.com.au>
Date: Tue, 11 May 2004 14:59:33 +1000
From: Matt Quail <matt@ctx.com.au>
User-Agent: Mozilla Thunderbird 0.6 (Windows/20040502)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Mixing database and lucene searches
References: <c7pfni$nj5$1@sea.gmane.org> <40A04C41.1070400@ctx.com.au> <c7pldt$3tk$1@sea.gmane.org>
In-Reply-To: <c7pldt$3tk$1@sea.gmane.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Glen Stampoultzis wrote:
> Just one comment about your strategy for combining db and lucene searches.
> It seems that it would slow down significantly the larger the results,
> although I can't see a better way to go about it.  For example if the lucene
> search matched 100 records and the database searched 1,000,000 records
> you're faced with iterating through a set of 1,000,000 records for a result
> that couldn't possibly be more than 100 actual records. 

Yeah, I know. It totally sucks. Putting all your fields into the index 
is the best thing... *and* it makes your searches way faster at the same 
time.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8224-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 05:07:29 2004
Return-Path: <lucene-user-return-8224-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41921 invoked from network); 11 May 2004 05:07:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 05:07:29 -0000
Received: (qmail 91403 invoked by uid 500); 11 May 2004 05:08:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91368 invoked by uid 500); 11 May 2004 05:08:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91346 invoked by uid 98); 11 May 2004 05:08:10 -0000
Received: from paul@waite.net.nz by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.79.71.204):. 
 Processed in 0.200652 secs); 11 May 2004 05:08:10 -0000
X-Qmail-Scanner-Mail-From: paul@waite.net.nz via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.79.71.204):. Processed in 0.200652 secs)
Received: from unknown (HELO gandalf.lan.waite.net.nz) (203.79.71.204)
  by hermes.apache.org with SMTP; 11 May 2004 05:08:10 -0000
Received: from localhost ([127.0.0.1] ident=amavis)
	by gandalf.lan.waite.net.nz with esmtp (Exim 4.30 #1 (Debian))
	id 1BNPTz-00019u-Df
	for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 17:07:11 +1200
Received: from gandalf.lan.waite.net.nz ([127.0.0.1])
	by localhost (gandalf [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 03891-10 for <lucene-user@jakarta.apache.org>;
	Tue, 11 May 2004 17:07:06 +1200 (NZST)
Received: from frodo.lan.waite.net.nz ([192.168.1.29] ident=paul)
	by gandalf.lan.waite.net.nz with esmtp (Exim 4.30 #1 (Debian))
	id 1BNPTu-00019o-T4
	for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 17:07:06 +1200
From: Paul <paul@waite.net.nz>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Mixing database and lucene searches
Date: Tue, 11 May 2004 17:07:06 +1200
User-Agent: KMail/1.6.1
References: <c7pfni$nj5$1@sea.gmane.org> <40A04C41.1070400@ctx.com.au>
In-Reply-To: <40A04C41.1070400@ctx.com.au>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200405111707.06790.paul@waite.net.nz>
X-Virus-Scanned: by amavisd-new-20030616-p5 (Debian) at waite.net.nz
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Matt Quail wrote:

> "And" join: if you want to do a query like "select rows where
> name='matt' and text contains 'foo'", then the psuedo code is:

> Hits hits = searcher.search(new TermQuery("text", "foo")
> Set hitPKs = new Set();
> for each doc in hits:
>    hitPKs.put(doc.getField("pk"))
>
> rsPKs = new Set();
> ResultSet rs = sql.execute("select PK from TABLE where name='matt'")
> for each row in rs:
>    rsPKs.put(rs.get("pk"));
> Set results = intersection(rsPKs, hitPKs);


But presumably if you make sure that the field "name" is indexed in
Lucene (not necessarily stored), it's far quicker to do a two-stage process,
where you search Lucene for "text:foo AND name:matt" and then just fill-in
any other metadata with a fast little DB lookup for the small returned set of
primary keys?

Cheers,
Paul.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8225-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 06:15:15 2004
Return-Path: <lucene-user-return-8225-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66937 invoked from network); 11 May 2004 06:15:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 06:15:14 -0000
Received: (qmail 65581 invoked by uid 500); 11 May 2004 06:15:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65540 invoked by uid 500); 11 May 2004 06:15:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65525 invoked by uid 98); 11 May 2004 06:15:56 -0000
Received: from matt@ctx.com.au by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(66.216.98.59):. 
 Processed in 0.089498 secs); 11 May 2004 06:15:56 -0000
X-Qmail-Scanner-Mail-From: matt@ctx.com.au via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(66.216.98.59):. Processed in 0.089498 secs)
Received: from unknown (HELO rs9.luxsci.com) (66.216.98.59)
  by hermes.apache.org with SMTP; 11 May 2004 06:15:55 -0000
Received: from [192.168.70.246] (ppp152-16.lns1.cbr1.internode.on.net [150.101.152.16])
	(authenticated bits=0)
	by rs9.luxsci.com (8.12.11/8.12.10) with ESMTP id i4B6EsF8011217
	for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 01:14:55 -0500
Message-ID: <40A06FAE.7010203@ctx.com.au>
Date: Tue, 11 May 2004 16:16:14 +1000
From: Matt Quail <matt@ctx.com.au>
User-Agent: Mozilla Thunderbird 0.6 (Windows/20040502)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Mixing database and lucene searches
References: <c7pfni$nj5$1@sea.gmane.org> <40A04C41.1070400@ctx.com.au> <200405111707.06790.paul@waite.net.nz>
In-Reply-To: <200405111707.06790.paul@waite.net.nz>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> But presumably if you make sure that the field "name" is indexed in
> Lucene (not necessarily stored), it's far quicker to do a two-stage process,
> where you search Lucene for "text:foo AND name:matt" and then just fill-in
> any other metadata with a fast little DB lookup for the small returned set of
> primary keys?

Totally, but Glen's original question was one where some of the fields 
were *not* in the index:

> I have a query screen where most of the fields search a regular
> database but one field searches for text in the body of the document.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8226-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 06:58:43 2004
Return-Path: <lucene-user-return-8226-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89768 invoked from network); 11 May 2004 06:58:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 06:58:43 -0000
Received: (qmail 1782 invoked by uid 500); 11 May 2004 06:59:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1751 invoked by uid 500); 11 May 2004 06:59:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1713 invoked by uid 98); 11 May 2004 06:59:24 -0000
Received: from paul@waite.net.nz by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.79.71.204):. 
 Processed in 0.103531 secs); 11 May 2004 06:59:24 -0000
X-Qmail-Scanner-Mail-From: paul@waite.net.nz via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.79.71.204):. Processed in 0.103531 secs)
Received: from unknown (HELO gandalf.lan.waite.net.nz) (203.79.71.204)
  by hermes.apache.org with SMTP; 11 May 2004 06:59:24 -0000
Received: from localhost ([127.0.0.1] ident=amavis)
	by gandalf.lan.waite.net.nz with esmtp (Exim 4.30 #1 (Debian))
	id 1BNRDb-0001OQ-8O
	for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 18:58:23 +1200
Received: from gandalf.lan.waite.net.nz ([127.0.0.1])
	by localhost (gandalf [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 05226-04 for <lucene-user@jakarta.apache.org>;
	Tue, 11 May 2004 18:58:18 +1200 (NZST)
Received: from frodo.lan.waite.net.nz ([192.168.1.29] ident=paul)
	by gandalf.lan.waite.net.nz with esmtp (Exim 4.30 #1 (Debian))
	id 1BNRDW-0001OK-Np
	for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 18:58:18 +1200
From: Paul <paul@waite.net.nz>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Mixing database and lucene searches
Date: Tue, 11 May 2004 18:58:18 +1200
User-Agent: KMail/1.6.1
References: <c7pfni$nj5$1@sea.gmane.org> <200405111707.06790.paul@waite.net.nz> <40A06FAE.7010203@ctx.com.au>
In-Reply-To: <40A06FAE.7010203@ctx.com.au>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200405111858.18671.paul@waite.net.nz>
X-Virus-Scanned: by amavisd-new-20030616-p5 (Debian) at waite.net.nz
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Matt Quail wrote:
> > But presumably if you make sure that the field "name" is indexed in
> > Lucene (not necessarily stored), it's far quicker to do a two-stage
> > process, where you search Lucene for "text:foo AND name:matt" and then
> > just fill-in any other metadata with a fast little DB lookup for the
> > small returned set of primary keys?
>
> Totally, but Glen's original question was one where some of the fields
>
> were *not* in the index:
> > I have a query screen where most of the fields search a regular
> > database but one field searches for text in the body of the document.

Ah I see. I was thinking he was flexible about how he was going to
set everything up..

Cheers,
Paul.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8227-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 07:55:41 2004
Return-Path: <lucene-user-return-8227-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33689 invoked from network); 11 May 2004 07:55:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 07:55:40 -0000
Received: (qmail 9327 invoked by uid 500); 11 May 2004 07:56:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9213 invoked by uid 500); 11 May 2004 07:56:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9119 invoked by uid 98); 11 May 2004 07:56:05 -0000
Received: from philouchat@hotmail.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(207.68.165.64):. 
 Processed in 0.064903 secs); 11 May 2004 07:56:05 -0000
X-Qmail-Scanner-Mail-From: philouchat@hotmail.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(207.68.165.64):. Processed in 0.064903 secs)
Received: from unknown (HELO hotmail.com) (207.68.165.64)
  by hermes.apache.org with SMTP; 11 May 2004 07:56:04 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 11 May 2004 00:55:02 -0700
Received: from 213.11.44.138 by sea2fd.sea2.hotmail.msn.com with HTTP;
	Tue, 11 May 2004 07:55:02 GMT
X-Originating-IP: [213.11.44.138]
X-Originating-Email: [philouchat@hotmail.com]
X-Sender: philouchat@hotmail.com
From: "Phil brunet" <philouchat@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Re: Mixing database and lucene searches
Date: Tue, 11 May 2004 07:55:02 +0000
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1; format=flowed
Message-ID: <Sea2-F64IdE5RblNMYS0001f951@hotmail.com>
X-OriginalArrivalTime: 11 May 2004 07:55:02.0497 (UTC) FILETIME=[43DF2510:01C4372D]
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi to all.

Just one word about "crossing" Lucene results and DB results.  Maybe it is 
obvious but maybe not (sorry for my english).

Once you got the Lucene results, a good way is to get the PKs that you have 
stored in the Lucene and use then directly in the SQL query with a IN 
operator.

In that way, if your Lucene query "retrieves" 100 results, your SQL query 
would never retrieve more than 100 results (it avoids you a costly SQL fetch 
and an intersection).

Using a fixed number of bind variables in the SQL query  guaranties you the 
best SQL query execution query (it cuts the db parsinf time).

If you can't guaranty a fixed number of Lucene results (and it is often the 
case !), a good way is to duplicate the last PK and so to  round to a fixed 
number.

Cordialy

Phil





>From: "Glen Stampoultzis" <gstamp@iinet.net.au>
>Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>To: lucene-user@jakarta.apache.org
>Subject: Re: Mixing database and lucene searches
>Date: Tue, 11 May 2004 14:39:23 +1000
>
>Thanks for the help.
>
>I think I'll got with putting all the fields into lucene.
>
>Just one comment about your strategy for combining db and lucene searches.
>It seems that it would slow down significantly the larger the results,
>although I can't see a better way to go about it.  For example if the 
>lucene
>search matched 100 records and the database searched 1,000,000 records
>you're faced with iterating through a set of 1,000,000 records for a result
>that couldn't possibly be more than 100 actual records.  I guess there's 
>not
>really much you can do about that.
>
>Regards,
>
>Glen
>
>
>"Matt Quail" <matt@ctx.com.au> wrote in message
>news:40A04C41.1070400@ctx.com.au...
> > Glen Stampoultzis wrote:
> > > Anyone have any strategies for dealing with this?  I'm wondering 
>whether
> > > it's better to replicate searchable fields in the lucene index.  This
>means
> > > being very careful that updates get done in two places so it is not
>ideal.
> >
> > If you *can* manage to update your index when the "real" database is
> > updaed, then indexing the database fields into the lucene index is the
> > way to go: because it makes searching easier (no lucene-db joins) and
> > faster (way faster!).
> >
> > You could always "batch" the updates of the index. That is, if you can
> > put a "last modified" date on each row of the database, then updating
> > the lucene index is easy (the index just needs to remember the last date
> > at which it was updated).
> >
> > If you *really* don't want to (or can't) put all the searchable fields
> > into lucene, then you are going to need to do a "lucene-db" join. This
> > is how I do it:
> >
> > Just say your DB contains rows with a primary key "pk" (say, an int;
> > this is a Keyword in the lucene index), a field "author" (not indexed)
> > and a text blob "text" (this is what you have indexed in Lucene).
> >
> > There are two basic joins you need to do, an "and" join and an "or" 
>join.
> >
> > "And" join: if you want to do a query like "select rows where
> > name='matt' and text contains 'foo'", then the psuedo code is:
> >
> > ---
> > Hits hits = searcher.search(new TermQuery("text", "foo")
> > Set hitPKs = new Set();
> > for each doc in hits:
> >    hitPKs.put(doc.getField("pk"))
> >
> > rsPKs = new Set();
> > ResultSet rs = sql.execute("select PK from TABLE where name='matt'")
> > for each row in rs:
> >    rsPKs.put(rs.get("pk"));
> >
> > Set results = intersection(rsPKs, hitPKs);
> > ---
> >
> > Similarly, the "or" query uses union() not intersection(). If you want
> > to preserve the order of the Hits, then use a List or LinkedSet instead.
> >
> > The code for a lucene-db is very annoying: try to put all your
> > searchable fields into an Index instead :D
> >
> > =Matt
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

_________________________________________________________________
Hotmail : un compte GRATUIT qui vous suit partout et tout le temps ! 
http://g.msn.fr/FR1000/9493


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8228-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 08:47:50 2004
Return-Path: <lucene-user-return-8228-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62844 invoked from network); 11 May 2004 08:47:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 08:47:50 -0000
Received: (qmail 82540 invoked by uid 500); 11 May 2004 08:48:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82400 invoked by uid 500); 11 May 2004 08:48:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82337 invoked by uid 98); 11 May 2004 08:48:29 -0000
Received: from Eric.Jain@isb-sib.ch by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(192.33.215.142):. 
 Processed in 0.088469 secs); 11 May 2004 08:48:29 -0000
X-Qmail-Scanner-Mail-From: Eric.Jain@isb-sib.ch via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(192.33.215.142):. Processed in 0.088469 secs)
Received: from unknown (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by hermes.apache.org with SMTP; 11 May 2004 08:48:28 -0000
Received: from caliente (lin-000 [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id i4B8lLJ7005124
	for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 10:47:21 +0200
Message-ID: <007e01c43734$98fe3480$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <c7pfni$nj5$1@sea.gmane.org> <40A04C41.1070400@ctx.com.au>
Subject: Re: Mixing database and lucene searches
Date: Tue, 11 May 2004 10:47:31 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> If you *really* don't want to (or can't) put all the searchable fields
> into lucene, then you are going to need to do a "lucene-db" join.

Here are two good reasons:

1. Range queries
2. Sorting

Yes, Lucene can do both, but I find that in both cases the approach
Lucene uses is not suitable for large data sets, given limited hardware
resources.


> Hits hits = searcher.search(new TermQuery("text", "foo")
> Set hitPKs = new Set();
> for each doc in hits:
>    hitPKs.put(doc.getField("pk"))

Retrieving even one custom field for every document of a possibly large
data set
can end up being very slow, it seems. This complicates things a lot...

Unfortunately, I am not aware of any good solutions for combining Lucene
with a relational database, given the requirements listed above.
However, one promising approach may involve combing Lucene with the new
Berkely DB JE:

1. Use Lucene to create a bitset of results (position = docid).
2. Use BDB to iterate through primary keys, sorted and restricted by one
(or more?) of several criteria.
   3. For each primary key, look up docid (this database must be rebuilt
every time the index is modified).
   4. If docid set in result bitset, report result.

If anyone has tried anything similar, I'd be interested to know!


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8229-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 09:40:26 2004
Return-Path: <lucene-user-return-8229-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97714 invoked from network); 11 May 2004 09:40:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 09:40:26 -0000
Received: (qmail 62335 invoked by uid 500); 11 May 2004 09:41:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62303 invoked by uid 500); 11 May 2004 09:41:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62288 invoked by uid 98); 11 May 2004 09:41:10 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(24.51.109.181):. 
 Processed in 0.013653 secs); 11 May 2004 09:41:10 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(24.51.109.181):. Processed in 0.013653 secs)
Received: from unknown (HELO ErikHatcher.local) (24.51.109.181)
  by hermes.apache.org with SMTP; 11 May 2004 09:41:10 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by ErikHatcher.local (Postfix) with ESMTP id EB2656F5329
	for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 05:40:08 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <c7pfni$nj5$1@sea.gmane.org>
References: <c7pfni$nj5$1@sea.gmane.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <2E5AC0CA-A32F-11D8-8C30-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Mixing database and lucene searches
Date: Tue, 11 May 2004 05:40:04 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On May 10, 2004, at 11:02 PM, Glen Stampoultzis wrote:
> Hi... I have a query screen where most of the fields search a regular
> database but one field searches for text in the body of the document.  
> You
> could say the database holds metadata about the documents.  
> Effectively this
> means I have two separate queries going on - a lucene query and a 
> database
> query.  These results need to be combined.
>
> Anyone have any strategies for dealing with this?  I'm wondering 
> whether
> it's better to replicate searchable fields in the lucene index.  This 
> means
> being very careful that updates get done in two places so it is not 
> ideal.

Beyond what the other responses on this thread have been, another 
option is to use a custom Filter which can narrow a Lucene query down 
based on external criteria.  Wrap that with the caching filter wrapper 
if things don't change and this could be highly efficient for 
successive searches.

In CVS HEAD, there is a new FilteredQuery which could leverage any 
custom Filter you create and allow you to constrain a query clause by 
DB criteria.

I built a proof-of-concept one for the book, which looks like this:

public interface SpecialsAccessor {
   String[] isbns();
}

public class SpecialsFilter extends Filter {
   private SpecialsAccessor accessor;

   public SpecialsFilter(SpecialsAccessor accessor) {
     this.accessor = accessor;
   }

   public BitSet bits(IndexReader reader) throws IOException {
     BitSet bits = new BitSet(reader.maxDoc());

     String[] isbns = accessor.isbns();

     int[] docs = new int[1];
     int[] freqs = new int[1];

     for (int i = 0; i < isbns.length; i++) {
       String isbn = isbns[i];
       if (isbn != null) {
         TermDocs termDocs =
             reader.termDocs(new Term("isbn", isbn));
         int count = termDocs.read(docs, freqs);
         if (count == 1) {
           bits.set(docs[0]);

         }
       }
     }

     return bits;
   }

   public String toString() {
     return "SpecialsFilter";
   }
}

The implementation of SpecialsAccessor is left as an exercise for the 
reader :)  (I implemented a Mock version as an example).  Consider 
adapting something like this for your DB access, then wrap with the 
caching wrapper.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8230-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 13:14:41 2004
Return-Path: <lucene-user-return-8230-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32076 invoked from network); 11 May 2004 13:14:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 13:14:41 -0000
Received: (qmail 15589 invoked by uid 500); 11 May 2004 13:15:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15531 invoked by uid 500); 11 May 2004 13:15:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15499 invoked by uid 98); 11 May 2004 13:15:37 -0000
Received: from jak-lucene-user@m.gmane.org by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(80.91.224.249):. 
 Processed in 0.131748 secs); 11 May 2004 13:15:37 -0000
X-Qmail-Scanner-Mail-From: jak-lucene-user@m.gmane.org via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(80.91.224.249):. Processed in 0.131748 secs)
Received: from unknown (HELO main.gmane.org) (80.91.224.249)
  by hermes.apache.org with SMTP; 11 May 2004 13:15:37 -0000
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1BNX5U-0003Ky-00
	for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 15:14:24 +0200
Received: from 203-173-31-58.dyn.iinet.net.au ([203.173.31.58])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 15:14:23 +0200
Received: from gstamp by 203-173-31-58.dyn.iinet.net.au with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 15:14:23 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: "Glen Stampoultzis" <gstamp@iinet.net.au>
Subject: Re: Mixing database and lucene searches
Date: Tue, 11 May 2004 23:14:17 +1000
Lines: 15
Message-ID: <c7qjjb$5cr$1@sea.gmane.org>
References: <Sea2-F64IdE5RblNMYS0001f951@hotmail.com>
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: 203-173-31-58.dyn.iinet.net.au
X-MSMail-Priority: Normal
X-Newsreader: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Sender: news <news@sea.gmane.org>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


"Phil brunet" <philouchat@hotmail.com> wrote in message
news:Sea2-F64IdE5RblNMYS0001f951@hotmail.com...

> -- Snip --
> If you can't guaranty a fixed number of Lucene results (and it is often
the
> case !), a good way is to duplicate the last PK and so to  round to a
fixed
> number.
>

Hi... I'm not sure what you mean by that last bit.




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8231-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 13:28:25 2004
Return-Path: <lucene-user-return-8231-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49654 invoked from network); 11 May 2004 13:28:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 13:28:25 -0000
Received: (qmail 70969 invoked by uid 500); 11 May 2004 13:29:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70915 invoked by uid 500); 11 May 2004 13:29:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70891 invoked by uid 98); 11 May 2004 13:29:24 -0000
Received: from jak-lucene-user@m.gmane.org by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(80.91.224.249):. 
 Processed in 0.118688 secs); 11 May 2004 13:29:24 -0000
X-Qmail-Scanner-Mail-From: jak-lucene-user@m.gmane.org via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(80.91.224.249):. Processed in 0.118688 secs)
Received: from unknown (HELO main.gmane.org) (80.91.224.249)
  by hermes.apache.org with SMTP; 11 May 2004 13:29:24 -0000
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1BNXIo-0003eP-00
	for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 15:28:10 +0200
Received: from 203-173-31-58.dyn.iinet.net.au ([203.173.31.58])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 15:28:10 +0200
Received: from gstamp by 203-173-31-58.dyn.iinet.net.au with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 15:28:10 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: "Glen Stampoultzis" <gstamp@iinet.net.au>
Subject: Re: Mixing database and lucene searches
Date: Tue, 11 May 2004 23:28:06 +1000
Lines: 47
Message-ID: <c7qkd7$7mp$1@sea.gmane.org>
References: <c7pfni$nj5$1@sea.gmane.org> <40A04C41.1070400@ctx.com.au> <007e01c43734$98fe3480$c300000a@caliente>
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: 203-173-31-58.dyn.iinet.net.au
X-MSMail-Priority: Normal
X-Newsreader: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Sender: news <news@sea.gmane.org>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


"Eric Jain" <Eric.Jain@isb-sib.ch> wrote in message
news:007e01c43734$98fe3480$c300000a@caliente...
> > If you *really* don't want to (or can't) put all the searchable fields
> > into lucene, then you are going to need to do a "lucene-db" join.
>
> Here are two good reasons:
>
> 1. Range queries
> 2. Sorting
>
> Yes, Lucene can do both, but I find that in both cases the approach
> Lucene uses is not suitable for large data sets, given limited hardware
> resources.
>
>
> > Hits hits = searcher.search(new TermQuery("text", "foo")
> > Set hitPKs = new Set();
> > for each doc in hits:
> >    hitPKs.put(doc.getField("pk"))
>
> Retrieving even one custom field for every document of a possibly large
> data set
> can end up being very slow, it seems. This complicates things a lot...
>
> Unfortunately, I am not aware of any good solutions for combining Lucene
> with a relational database, given the requirements listed above.
> However, one promising approach may involve combing Lucene with the new
> Berkely DB JE:
>
> 1. Use Lucene to create a bitset of results (position = docid).
> 2. Use BDB to iterate through primary keys, sorted and restricted by one
> (or more?) of several criteria.
>    3. For each primary key, look up docid (this database must be rebuilt
> every time the index is modified).
>    4. If docid set in result bitset, report result.
>
> If anyone has tried anything similar, I'd be interested to know!

Why Berkely DB?  This sounds like it would work regardless of the database.

Regards,

Glen





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8232-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 13:40:34 2004
Return-Path: <lucene-user-return-8232-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59085 invoked from network); 11 May 2004 13:40:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 13:40:33 -0000
Received: (qmail 23910 invoked by uid 500); 11 May 2004 13:41:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23696 invoked by uid 500); 11 May 2004 13:41:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23442 invoked by uid 98); 11 May 2004 13:41:40 -0000
Received: from jak-lucene-user@m.gmane.org by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(80.91.224.249):. 
 Processed in 0.111746 secs); 11 May 2004 13:41:40 -0000
X-Qmail-Scanner-Mail-From: jak-lucene-user@m.gmane.org via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(80.91.224.249):. Processed in 0.111746 secs)
Received: from unknown (HELO main.gmane.org) (80.91.224.249)
  by hermes.apache.org with SMTP; 11 May 2004 13:41:39 -0000
Received: from root by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1BNXUf-0003rM-00
	for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 15:40:25 +0200
Received: from 203-173-31-58.dyn.iinet.net.au ([203.173.31.58])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 15:40:25 +0200
Received: from gstamp by 203-173-31-58.dyn.iinet.net.au with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 15:40:25 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: "Glen Stampoultzis" <gstamp@iinet.net.au>
Subject: Re: Mixing database and lucene searches
Date: Tue, 11 May 2004 23:31:36 +1000
Lines: 20
Message-ID: <c7qkjq$8ak$1@sea.gmane.org>
References: <c7pfni$nj5$1@sea.gmane.org> <40A04C41.1070400@ctx.com.au> <007e01c43734$98fe3480$c300000a@caliente>
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: 203-173-31-58.dyn.iinet.net.au
X-MSMail-Priority: Normal
X-Newsreader: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Sender: news <news@sea.gmane.org>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


"Eric Jain" <Eric.Jain@isb-sib.ch> wrote in message
news:007e01c43734$98fe3480$c300000a@caliente...
> > If you *really* don't want to (or can't) put all the searchable fields
> > into lucene, then you are going to need to do a "lucene-db" join.
>
> Here are two good reasons:
>
> 1. Range queries
> 2. Sorting
>
> Yes, Lucene can do both, but I find that in both cases the approach
> Lucene uses is not suitable for large data sets, given limited hardware
> resources.

To ask a silly question:  What approach does Lucene use for ranges and
sorting?





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8233-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 13:59:07 2004
Return-Path: <lucene-user-return-8233-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69651 invoked from network); 11 May 2004 13:59:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 13:59:07 -0000
Received: (qmail 95989 invoked by uid 500); 11 May 2004 14:00:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95837 invoked by uid 500); 11 May 2004 14:00:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95821 invoked by uid 98); 11 May 2004 14:00:12 -0000
Received: from rsonnek@DigitalRiver.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(66.192.77.53):. 
 Processed in 0.012814 secs); 11 May 2004 14:00:12 -0000
X-Qmail-Scanner-Mail-From: rsonnek@DigitalRiver.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(66.192.77.53):. Processed in 0.012814 secs)
Received: from unknown (HELO drmail01.digitalriver.com) (66.192.77.53)
  by hermes.apache.org with SMTP; 11 May 2004 14:00:11 -0000
Received: from nte2k05.mpls.digitalriver.com ([209.87.176.1]) by drmail01.digitalriver.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 11 May 2004 08:58:56 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: pagable results
Date: Tue, 11 May 2004 08:58:56 -0500
Message-ID: <B46D8D7FF80ABC45BF8D1949592A4C7123B3A6@nte2k05.mpls.digitalriver.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Mixing database and lucene searches
Thread-Index: AcQ3XYhp4gUHbcXpTlG0JIhhoAcBnAAAk57Q
From: "Ryan Sonnek" <rsonnek@DigitalRiver.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 11 May 2004 13:58:57.0030 (UTC) FILETIME=[1A447A60:01C43760]
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

When performing a search with lucene, is it possible to only return a =
subset of the results?  I need to be able to page through results, and =
it seems much more efficient if I can tell the searcher, "only return =
results 50 - 100", rather than performing the full search.

Ryan

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8234-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 14:04:33 2004
Return-Path: <lucene-user-return-8234-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72545 invoked from network); 11 May 2004 14:04:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 14:04:33 -0000
Received: (qmail 17261 invoked by uid 500); 11 May 2004 14:04:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17157 invoked by uid 500); 11 May 2004 14:04:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17065 invoked by uid 98); 11 May 2004 14:04:56 -0000
Received: from Eric.Jain@isb-sib.ch by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(192.33.215.142):. 
 Processed in 0.10777 secs); 11 May 2004 14:04:56 -0000
X-Qmail-Scanner-Mail-From: Eric.Jain@isb-sib.ch via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(192.33.215.142):. Processed in 0.10777 secs)
Received: from unknown (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
  by hermes.apache.org with SMTP; 11 May 2004 14:04:56 -0000
Received: from caliente (lin-000 [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id i4BE3aJ7000896
	for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 16:03:36 +0200
Message-ID: <000d01c43760$c68aa6a0$c300000a@caliente>
From: "Eric Jain" <Eric.Jain@isb-sib.ch>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <c7pfni$nj5$1@sea.gmane.org> <40A04C41.1070400@ctx.com.au> <007e01c43734$98fe3480$c300000a@caliente> <c7qkjq$8ak$1@sea.gmane.org>
Subject: Re: Mixing database and lucene searches
Date: Tue, 11 May 2004 16:03:45 +0200
Organization: Swiss Institute of Bioinformatics
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> To ask a silly question:  What approach does Lucene use for
> ranges and sorting?

A range such as '10-60' is expanded into a boolean query containing all
terms that are in the index and lie within the specified range, e.g. '10
or 11 or 20 or 59'.

For sorting, Lucene loads into memory all terms that occur in a field
according to which someone may want to sort. Can't give you any further
information, as that's where I stopped reading :-)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8235-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 15:26:32 2004
Return-Path: <lucene-user-return-8235-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32243 invoked from network); 11 May 2004 15:26:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 15:26:32 -0000
Received: (qmail 39467 invoked by uid 500); 11 May 2004 15:27:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39410 invoked by uid 500); 11 May 2004 15:27:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39360 invoked by uid 98); 11 May 2004 15:27:42 -0000
Received: from Gerard.Sychay@cchmc.org by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(205.142.197.62):. 
 Processed in 1.154268 secs); 11 May 2004 15:27:42 -0000
X-Qmail-Scanner-Mail-From: Gerard.Sychay@cchmc.org via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(205.142.197.62):. Processed in 1.154268 secs)
Received: from unknown (HELO n6mcgw16.cchmc.org) (205.142.197.62)
  by hermes.apache.org with SMTP; 11 May 2004 15:27:41 -0000
Received: from DOMSVC03-MTA by n6mcgw16.cchmc.org
	with Novell_GroupWise; Tue, 11 May 2004 11:26:19 -0400
Message-Id: <s0a0b85b.001@n6mcgw16.cchmc.org>
X-Mailer: Novell GroupWise Internet Agent 6.5.1 
Date: Tue, 11 May 2004 11:26:06 -0400
From: "Gerard Sychay" <Gerard.Sychay@cchmc.org>
To: <lucene-user@jakarta.apache.org>
Subject: Re: Mixing database and lucene searches
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>>> "Eric Jain" <Eric.Jain@isb-sib.ch> 05/11/04 04:47AM >>>
> > Hits hits = searcher.search(new TermQuery("text", "foo")
> > Set hitPKs = new Set();
> > for each doc in hits:
> >    hitPKs.put(doc.getField("pk"))
> 
> Retrieving even one custom field for every document of a possibly
large
> data set
> can end up being very slow, it seems. This complicates things a
lot...

Glen, I don't know your application specifics, but if you are paging
results, there is no need to retrieve all the primary keys at once.  I
had a similar problem.  I ended up doing the following:

- Store ONLY the primary keys in the index.  Ideally, you only  need
two fields per Lucene Document: the tokenized text to be searched, and
stored corresponding primary key.
- Upon searching, get all the Hits as normal, say you get 10000 hits.
- But the first page only displays first 10 hits, so retrieve first 10
primary keys from the Hits, use these to form a SQL query and retrieve
any info you need from the DB.  This way, you only handling 10 documents
at a time, or howevery many per page.
In actual use, this is very fast.

HTH

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8236-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 15:30:41 2004
Return-Path: <lucene-user-return-8236-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34422 invoked from network); 11 May 2004 15:30:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 15:30:41 -0000
Received: (qmail 53564 invoked by uid 500); 11 May 2004 15:31:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53412 invoked by uid 500); 11 May 2004 15:31:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53376 invoked by uid 98); 11 May 2004 15:31:52 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(128.143.184.4):. 
 Processed in 0.012114 secs); 11 May 2004 15:31:52 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(128.143.184.4):. Processed in 0.012114 secs)
Received: from unknown (HELO ErikHatcher.local) (128.143.184.4)
  by hermes.apache.org with SMTP; 11 May 2004 15:31:52 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by ErikHatcher.local (Postfix) with ESMTP id 578C16F661D
	for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 11:30:34 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <B46D8D7FF80ABC45BF8D1949592A4C7123B3A6@nte2k05.mpls.digitalriver.com>
References: <B46D8D7FF80ABC45BF8D1949592A4C7123B3A6@nte2k05.mpls.digitalriver.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <243EB8EC-A360-11D8-B645-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: pagable results
Date: Tue, 11 May 2004 11:30:32 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On May 11, 2004, at 9:58 AM, Ryan Sonnek wrote:
> When performing a search with lucene, is it possible to only return a 
> subset of the results?  I need to be able to page through results, and 
> it seems much more efficient if I can tell the searcher, "only return 
> results 50 - 100", rather than performing the full search.

Lucene's Hits collection handles this automatically for you.  But, 
sure, the lower-level API allows you to do this sort of thing if you 
really need to.  But, again, Hits handles this pretty efficiently for 
you already.

Have you experienced some performance issues?  Do you have some numbers 
and code that you could share that point to some kind of inefficiency?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8237-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 15:46:13 2004
Return-Path: <lucene-user-return-8237-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44067 invoked from network); 11 May 2004 15:46:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 15:46:13 -0000
Received: (qmail 15797 invoked by uid 500); 11 May 2004 15:47:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15773 invoked by uid 500); 11 May 2004 15:47:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15746 invoked by uid 98); 11 May 2004 15:47:26 -0000
Received: from rsonnek@DigitalRiver.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(208.217.74.76):. 
 Processed in 0.012013 secs); 11 May 2004 15:47:26 -0000
X-Qmail-Scanner-Mail-From: rsonnek@DigitalRiver.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(208.217.74.76):. Processed in 0.012013 secs)
Received: from unknown (HELO drmail02.digitalriver.com) (208.217.74.76)
  by hermes.apache.org with SMTP; 11 May 2004 15:47:26 -0000
Received: from nte2k05.mpls.digitalriver.com ([192.168.109.95]) by drmail02.digitalriver.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 11 May 2004 10:46:04 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: pagable results
Date: Tue, 11 May 2004 10:46:03 -0500
Message-ID: <B46D8D7FF80ABC45BF8D1949592A4C713477F9@nte2k05.mpls.digitalriver.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: pagable results
Thread-Index: AcQ3bOcK/h1jE+s2TQasobZVaNEjPQAAZIFQ
From: "Ryan Sonnek" <rsonnek@DigitalRiver.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 11 May 2004 15:46:04.0043 (UTC) FILETIME=[1110D5B0:01C4376F]
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Great.  Thanks Erik.
I haven't experienced any performance problems with lucene, and our =
indexes are reletively small (less than 10 thousand).  I've been working =
with a commercial search engine who's API had pagable results built in, =
and so I just assumed that it existed for lucene.  I'm glad to hear that =
it's handled internally and think that's a much better route.  I'd just =
like to mention that lucene is a MUCH more solid product than the third =
party search engine we're investigating, and lucene may be our final =
choice because of it.  thanks for putting together such a solid product!

Ryan

> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Tuesday, May 11, 2004 10:31 AM
> To: Lucene Users List
> Subject: Re: pagable results
>=20
>=20
> On May 11, 2004, at 9:58 AM, Ryan Sonnek wrote:
> > When performing a search with lucene, is it possible to=20
> only return a=20
> > subset of the results?  I need to be able to page through=20
> results, and=20
> > it seems much more efficient if I can tell the searcher,=20
> "only return=20
> > results 50 - 100", rather than performing the full search.
>=20
> Lucene's Hits collection handles this automatically for you.  But,=20
> sure, the lower-level API allows you to do this sort of thing if you=20
> really need to.  But, again, Hits handles this pretty efficiently for=20
> you already.
>=20
> Have you experienced some performance issues?  Do you have=20
> some numbers=20
> and code that you could share that point to some kind of inefficiency?
>=20
> 	Erik
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8238-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 16:06:00 2004
Return-Path: <lucene-user-return-8238-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58368 invoked from network); 11 May 2004 16:05:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 16:05:59 -0000
Received: (qmail 6968 invoked by uid 500); 11 May 2004 16:06:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6746 invoked by uid 500); 11 May 2004 16:06:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6453 invoked by uid 98); 11 May 2004 16:06:55 -0000
Received: from otis_gospodnetic@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.136.173.238):. 
 Processed in 0.031343 secs); 11 May 2004 16:06:55 -0000
X-Qmail-Scanner-Mail-From: otis_gospodnetic@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.136.173.238):. Processed in 0.031343 secs)
Received: from unknown (HELO web12701.mail.yahoo.com) (216.136.173.238)
  by hermes.apache.org with SMTP; 11 May 2004 16:06:54 -0000
Message-ID: <20040511160523.89470.qmail@web12701.mail.yahoo.com>
Received: from [195.29.121.39] by web12701.mail.yahoo.com via HTTP; Tue, 11 May 2004 09:05:23 PDT
Date: Tue, 11 May 2004 09:05:23 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: pagable results
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <B46D8D7FF80ABC45BF8D1949592A4C713477F9@nte2k05.mpls.digitalriver.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'd be curious what that 3rd party product is, if you are allowed to
share that.

Otis

--- Ryan Sonnek <rsonnek@DigitalRiver.com> wrote:
> Great.  Thanks Erik.
> I haven't experienced any performance problems with lucene, and our
> indexes are reletively small (less than 10 thousand).  I've been
> working with a commercial search engine who's API had pagable results
> built in, and so I just assumed that it existed for lucene.  I'm glad
> to hear that it's handled internally and think that's a much better
> route.  I'd just like to mention that lucene is a MUCH more solid
> product than the third party search engine we're investigating, and
> lucene may be our final choice because of it.  thanks for putting
> together such a solid product!
> 
> Ryan
> 
> > -----Original Message-----
> > From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> > Sent: Tuesday, May 11, 2004 10:31 AM
> > To: Lucene Users List
> > Subject: Re: pagable results
> > 
> > 
> > On May 11, 2004, at 9:58 AM, Ryan Sonnek wrote:
> > > When performing a search with lucene, is it possible to 
> > only return a 
> > > subset of the results?  I need to be able to page through 
> > results, and 
> > > it seems much more efficient if I can tell the searcher, 
> > "only return 
> > > results 50 - 100", rather than performing the full search.
> > 
> > Lucene's Hits collection handles this automatically for you.  But, 
> > sure, the lower-level API allows you to do this sort of thing if
> you 
> > really need to.  But, again, Hits handles this pretty efficiently
> for 
> > you already.
> > 
> > Have you experienced some performance issues?  Do you have 
> > some numbers 
> > and code that you could share that point to some kind of
> inefficiency?
> > 
> > 	Erik
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> > 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8239-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 16:25:48 2004
Return-Path: <lucene-user-return-8239-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80317 invoked from network); 11 May 2004 16:25:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 16:25:47 -0000
Received: (qmail 93189 invoked by uid 500); 11 May 2004 16:24:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93026 invoked by uid 500); 11 May 2004 16:24:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92765 invoked by uid 98); 11 May 2004 16:24:09 -0000
Received: from rsonnek@DigitalRiver.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(66.192.77.53):. 
 Processed in 0.227413 secs); 11 May 2004 16:24:09 -0000
X-Qmail-Scanner-Mail-From: rsonnek@DigitalRiver.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(66.192.77.53):. Processed in 0.227413 secs)
Received: from unknown (HELO drmail01.digitalriver.com) (66.192.77.53)
  by hermes.apache.org with SMTP; 11 May 2004 16:24:08 -0000
Received: from nte2k05.mpls.digitalriver.com ([209.87.176.1]) by drmail01.digitalriver.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 11 May 2004 11:22:43 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: multivalue fields
Date: Tue, 11 May 2004 11:22:42 -0500
Message-ID: <B46D8D7FF80ABC45BF8D1949592A4C7123B3A9@nte2k05.mpls.digitalriver.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: pagable results
Thread-Index: AcQ3bOcK/h1jE+s2TQasobZVaNEjPQABDu8Q
From: "Ryan Sonnek" <rsonnek@DigitalRiver.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 11 May 2004 16:22:43.0491 (UTC) FILETIME=[3009F730:01C43774]
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

How can I construct a document that has multiple values for one field =
(ex: locale en_US, de_DE, etc).  I've been concatonating the values into =
one string and storing them in one field, but I think this affects the =
search rankings (more text to search produces lower score).  is it =
possible to append the seperate values to the same field without =
concatonating them together?

Ryan

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8240-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 16:32:24 2004
Return-Path: <lucene-user-return-8240-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87092 invoked from network); 11 May 2004 16:32:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 16:32:23 -0000
Received: (qmail 43303 invoked by uid 500); 11 May 2004 16:32:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43244 invoked by uid 500); 11 May 2004 16:32:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43196 invoked by uid 98); 11 May 2004 16:32:29 -0000
Received: from otis_gospodnetic@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.136.173.238):. 
 Processed in 0.077745 secs); 11 May 2004 16:32:29 -0000
X-Qmail-Scanner-Mail-From: otis_gospodnetic@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.136.173.238):. Processed in 0.077745 secs)
Received: from unknown (HELO web12701.mail.yahoo.com) (216.136.173.238)
  by hermes.apache.org with SMTP; 11 May 2004 16:32:28 -0000
Message-ID: <20040511163102.92925.qmail@web12701.mail.yahoo.com>
Received: from [195.29.121.39] by web12701.mail.yahoo.com via HTTP; Tue, 11 May 2004 09:31:02 PDT
Date: Tue, 11 May 2004 09:31:02 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: multivalue fields
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <B46D8D7FF80ABC45BF8D1949592A4C7123B3A9@nte2k05.mpls.digitalriver.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Just add multiple Fields with the exact same name.

Otis

--- Ryan Sonnek <rsonnek@DigitalRiver.com> wrote:
> How can I construct a document that has multiple values for one field
> (ex: locale en_US, de_DE, etc).  I've been concatonating the values
> into one string and storing them in one field, but I think this
> affects the search rankings (more text to search produces lower
> score).  is it possible to append the seperate values to the same
> field without concatonating them together?
> 
> Ryan
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8241-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 16:32:50 2004
Return-Path: <lucene-user-return-8241-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87490 invoked from network); 11 May 2004 16:32:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 16:32:49 -0000
Received: (qmail 50003 invoked by uid 500); 11 May 2004 16:33:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49953 invoked by uid 500); 11 May 2004 16:33:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49843 invoked by uid 98); 11 May 2004 16:33:38 -0000
Received: from rsonnek@DigitalRiver.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(208.217.74.76):. 
 Processed in 0.014783 secs); 11 May 2004 16:33:38 -0000
X-Qmail-Scanner-Mail-From: rsonnek@DigitalRiver.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(208.217.74.76):. Processed in 0.014783 secs)
Received: from unknown (HELO drmail02.digitalriver.com) (208.217.74.76)
  by hermes.apache.org with SMTP; 11 May 2004 16:33:38 -0000
Received: from nte2k05.mpls.digitalriver.com ([192.168.109.95]) by drmail02.digitalriver.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 11 May 2004 11:32:13 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: pagable results
Date: Tue, 11 May 2004 11:32:13 -0500
Message-ID: <B46D8D7FF80ABC45BF8D1949592A4C7123B3AA@nte2k05.mpls.digitalriver.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: pagable results
Thread-Index: AcQ3cdDuyHU94z9/RAG8vCexnD9U5QAA1irA
From: "Ryan Sonnek" <rsonnek@DigitalRiver.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 11 May 2004 16:32:13.0583 (UTC) FILETIME=[83D719F0:01C43775]
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

=3D)  I'd LOVE to put it in writing, but I'm not at liberty to say =
anything.
Lucene is a great search engine, and I would definately recommend going =
with it versus anything I've seen thus far.

Ryan

> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Tuesday, May 11, 2004 11:05 AM
> To: Lucene Users List
> Subject: RE: pagable results
>=20
>=20
> I'd be curious what that 3rd party product is, if you are allowed to
> share that.
>=20
> Otis
>=20
> --- Ryan Sonnek <rsonnek@DigitalRiver.com> wrote:
> > Great.  Thanks Erik.
> > I haven't experienced any performance problems with lucene, and our
> > indexes are reletively small (less than 10 thousand).  I've been
> > working with a commercial search engine who's API had=20
> pagable results
> > built in, and so I just assumed that it existed for lucene.=20
>  I'm glad
> > to hear that it's handled internally and think that's a much better
> > route.  I'd just like to mention that lucene is a MUCH more solid
> > product than the third party search engine we're investigating, and
> > lucene may be our final choice because of it.  thanks for putting
> > together such a solid product!
> >=20
> > Ryan
> >=20
> > > -----Original Message-----
> > > From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> > > Sent: Tuesday, May 11, 2004 10:31 AM
> > > To: Lucene Users List
> > > Subject: Re: pagable results
> > >=20
> > >=20
> > > On May 11, 2004, at 9:58 AM, Ryan Sonnek wrote:
> > > > When performing a search with lucene, is it possible to=20
> > > only return a=20
> > > > subset of the results?  I need to be able to page through=20
> > > results, and=20
> > > > it seems much more efficient if I can tell the searcher,=20
> > > "only return=20
> > > > results 50 - 100", rather than performing the full search.
> > >=20
> > > Lucene's Hits collection handles this automatically for=20
> you.  But,=20
> > > sure, the lower-level API allows you to do this sort of thing if
> > you=20
> > > really need to.  But, again, Hits handles this pretty efficiently
> > for=20
> > > you already.
> > >=20
> > > Have you experienced some performance issues?  Do you have=20
> > > some numbers=20
> > > and code that you could share that point to some kind of
> > inefficiency?
> > >=20
> > > 	Erik
> > >=20
> > >=20
> > >
> >=20
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > >=20
> > >=20
> >=20
> >=20
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8242-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 16:40:48 2004
Return-Path: <lucene-user-return-8242-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92015 invoked from network); 11 May 2004 16:40:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 16:40:48 -0000
Received: (qmail 77446 invoked by uid 500); 11 May 2004 16:42:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77332 invoked by uid 500); 11 May 2004 16:42:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77305 invoked by uid 98); 11 May 2004 16:42:02 -0000
Received: from rsonnek@DigitalRiver.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(66.192.77.53):. 
 Processed in 0.070932 secs); 11 May 2004 16:42:02 -0000
X-Qmail-Scanner-Mail-From: rsonnek@DigitalRiver.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(66.192.77.53):. Processed in 0.070932 secs)
Received: from unknown (HELO drmail01.digitalriver.com) (66.192.77.53)
  by hermes.apache.org with SMTP; 11 May 2004 16:42:02 -0000
Received: from nte2k05.mpls.digitalriver.com ([209.87.176.1]) by drmail01.digitalriver.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 11 May 2004 11:40:36 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: multivalue fields
Date: Tue, 11 May 2004 11:40:36 -0500
Message-ID: <B46D8D7FF80ABC45BF8D1949592A4C713477FA@nte2k05.mpls.digitalriver.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: multivalue fields
Thread-Index: AcQ3dYI328caEL4lR4mcdGZCxKSiGQAAAXsA
From: "Ryan Sonnek" <rsonnek@DigitalRiver.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 11 May 2004 16:40:36.0640 (UTC) FILETIME=[AFAF8200:01C43776]
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

using lucene 1.3-final, it appears to only search the first field with =
that name.  here's the code i'm using to construct the index, and I'm =
using Luke to check that the index is created correctly.  Everything =
looks fine, but my search returns empty.  do i have to use a special =
query to work with multivalue fields?  is there a testcase in the source =
that performs this kind of work that I could look at?

		//indexing
	      Document doc =3D new Document();

            Iterator values =3D myValues.iterator();
            while (values.hasNext()) {
                Object value =3D values.next();
                doc.add(Field.Keyword("test", value.toString()));
            }
	=09
		//searching
           BooleanQuery query =3D new BooleanQuery();
           Query fieldQuery =3D QueryParser.parse("searchValue", "test", =
ANALYZER);
           query.add(fieldQuery, true, false);
=20
Ryan


> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Tuesday, May 11, 2004 11:31 AM
> To: Lucene Users List
> Subject: Re: multivalue fields
>=20
>=20
> Just add multiple Fields with the exact same name.
>=20
> Otis
>=20
> --- Ryan Sonnek <rsonnek@DigitalRiver.com> wrote:
> > How can I construct a document that has multiple values for=20
> one field
> > (ex: locale en_US, de_DE, etc).  I've been concatonating the values
> > into one string and storing them in one field, but I think this
> > affects the search rankings (more text to search produces lower
> > score).  is it possible to append the seperate values to the same
> > field without concatonating them together?
> >=20
> > Ryan
> >=20
> >=20
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8243-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 18:01:42 2004
Return-Path: <lucene-user-return-8243-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43826 invoked from network); 11 May 2004 18:01:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 18:01:42 -0000
Received: (qmail 43653 invoked by uid 500); 11 May 2004 18:02:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43392 invoked by uid 500); 11 May 2004 18:02:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43330 invoked by uid 98); 11 May 2004 18:02:44 -0000
Received: from ykingma@xs4all.nl by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(194.109.24.11):. 
 Processed in 0.07753 secs); 11 May 2004 18:02:44 -0000
X-Qmail-Scanner-Mail-From: ykingma@xs4all.nl via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(194.109.24.11):. Processed in 0.07753 secs)
Received: from unknown (HELO smtp-out1.xs4all.nl) (194.109.24.11)
  by hermes.apache.org with SMTP; 11 May 2004 18:02:44 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out1.xs4all.nl (8.12.10/8.12.10) with ESMTP id i4BI1DBd075696
	for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 20:01:13 +0200 (CEST)
From: Ype Kingma <ykingma@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Mixing database and lucene searches
Date: Tue, 11 May 2004 20:01:12 +0200
User-Agent: KMail/1.5.4
References: <s0a0b85b.001@n6mcgw16.cchmc.org>
In-Reply-To: <s0a0b85b.001@n6mcgw16.cchmc.org>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200405112001.13090.ykingma@xs4all.nl>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday 11 May 2004 17:26, Gerard Sychay wrote:
> >>> "Eric Jain" <Eric.Jain@isb-sib.ch> 05/11/04 04:47AM >>>
> >>>
> > > Hits hits = searcher.search(new TermQuery("text", "foo")
> > > Set hitPKs = new Set();
> > > for each doc in hits:
> > >    hitPKs.put(doc.getField("pk"))
>
> > Retrieving even one custom field for every document of a possibly
> large
> > data set
> > can end up being very slow, it seems. This complicates things a
>
> lot...
>
> Glen, I don't know your application specifics, but if you are paging
> results, there is no need to retrieve all the primary keys at once.  I
> had a similar problem.  I ended up doing the following:
>
> - Store ONLY the primary keys in the index.  Ideally, you only  need
> two fields per Lucene Document: the tokenized text to be searched, and
> stored corresponding primary key.
> - Upon searching, get all the Hits as normal, say you get 10000 hits.
> - But the first page only displays first 10 hits, so retrieve first 10
> primary keys from the Hits, use these to form a SQL query and retrieve
> any info you need from the DB.  This way, you only handling 10 documents
> at a time, or howevery many per page.
> In actual use, this is very fast.

A Hits object caches some documents for you, but when you need more
control over stored field retrieval you can implement your own
to retrieve them in the way a database does it:
Get all the doc nrs needed, sort them and retrieve the (non cached) stored
fields in that order. Normally, that (almost) minimizes the distance the disk head
needs to travel for the retrieval.

Lucene stores all the document fields for single document close
together, so retrieving all stored fields isn't much more expensive than
retrieving only the primary key.

Kind regards,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8244-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 19:50:49 2004
Return-Path: <lucene-user-return-8244-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15540 invoked from network); 11 May 2004 19:50:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 19:50:49 -0000
Received: (qmail 89475 invoked by uid 500); 11 May 2004 19:52:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89400 invoked by uid 500); 11 May 2004 19:52:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89347 invoked by uid 98); 11 May 2004 19:52:12 -0000
Received: from cutting@apache.org by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(209.10.110.95):. 
 Processed in 0.218488 secs); 11 May 2004 19:52:12 -0000
X-Qmail-Scanner-Mail-From: cutting@apache.org via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(209.10.110.95):. Processed in 0.218488 secs)
Received: from unknown (HELO londo.swishmail.com) (209.10.110.95)
  by hermes.apache.org with SMTP; 11 May 2004 19:52:12 -0000
Received: (qmail 17149 invoked by uid 89); 11 May 2004 19:50:36 -0000
Received: from unknown (HELO apache.org) (postmaster@cottrell-cutting.net@24.5.145.151)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 11 May 2004 19:50:36 -0000
Message-ID: <40A12E7F.4020900@apache.org>
Date: Tue, 11 May 2004 12:50:23 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: SQLDirectory implementation
References: <1082154156.13816.85.camel@mortal> 	<408D5C0D.7060609@apache.org> <1083938818.21228.121.camel@mortal>
In-Reply-To: <1083938818.21228.121.camel@mortal>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Has anyone had a chance to play with this?  How did it work?

Anthony Vito wrote:
> Hello Lucene Users,
>   I have release JDBCDirectory version 0.05. I have only ever used it
> with MySQL and open source drivers. I would be interested in any
> comments or suggestions. I will try to be as diligent as possible in my
> responses. The documentation ( very little ), jars and source code can
> be found at http://ppinew.mnis.com/jdbcdirectory . 
> 
> Some issues that I just thought of that aren't mentioned...
> 1.) Pooling prepared statements on the connection is must for good
> performance under the current code. ( see test code )
> 2.) The first search is always really slow as everything initializes and
> the cache fills ;) so don't let that discourage you.
> 
> -vito
> 
> On Mon, 2004-04-26 at 14:59, Doug Cutting wrote:
> 
>>Anthony Vito wrote:
>>
>>>  I noticed some talk on SQLDirectory a month or so ago. .....
> 
> 
>>Did you ever post this code?  It would be a great contribution to Lucene.
>>
>>Thanks,
>>
>>Doug
>>
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8245-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 20:47:18 2004
Return-Path: <lucene-user-return-8245-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44084 invoked from network); 11 May 2004 20:47:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 20:47:18 -0000
Received: (qmail 99223 invoked by uid 500); 11 May 2004 20:48:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99177 invoked by uid 500); 11 May 2004 20:48:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99162 invoked by uid 98); 11 May 2004 20:48:44 -0000
Received: from avi_drissman@baseview.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(63.209.138.28):. 
 Processed in 0.012431 secs); 11 May 2004 20:48:44 -0000
X-Qmail-Scanner-Mail-From: avi_drissman@baseview.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(63.209.138.28):. Processed in 0.012431 secs)
Received: from unknown (HELO baseview.com) (63.209.138.28)
  by hermes.apache.org with SMTP; 11 May 2004 20:48:44 -0000
Received: from [12.37.93.180] (account avi_drissman HELO [10.1.4.99])
  by baseview.com (CommuniGate Pro SMTP 4.1.8)
  with ESMTP id 9335255 for lucene-user@jakarta.apache.org; Tue, 11 May 2004 16:47:05 -0400
Mime-Version: 1.0
X-Sender: avi_drissman@mail.baseview.com
Message-Id: <p06100502bcc6ebec56f3@[10.1.4.99]>
In-Reply-To: <40A12E7F.4020900@apache.org>
References: <1082154156.13816.85.camel@mortal> 
 <408D5C0D.7060609@apache.org> <1083938818.21228.121.camel@mortal>
 <40A12E7F.4020900@apache.org>
X-Image-Url: http://www.drissman.com/avi/pic.jpg
Date: Tue, 11 May 2004 16:47:03 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Avi Drissman <avi_drissman@baseview.com>
Subject: Re: SQLDirectory implementation
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

At 12:50 PM -0700 5/11/04, you wrote:

>Has anyone had a chance to play with this?  How did it work?

Still working on it.

My database is FrontBase, which is heavily SQL92-compliant. I'm 
hacking my way through the (my)SQL that SQLDirectory uses, and am 
trying to bring it into compliance so that I can run the unit tests.

Will report later.

Avi
-- 
Avi 'rlwimi' Drissman
avi@baseview.com
Argh! This darn mail server is trunca

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8246-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 20:53:08 2004
Return-Path: <lucene-user-return-8246-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46681 invoked from network); 11 May 2004 20:53:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 20:53:08 -0000
Received: (qmail 15796 invoked by uid 500); 11 May 2004 20:53:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15748 invoked by uid 500); 11 May 2004 20:53:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15710 invoked by uid 98); 11 May 2004 20:53:44 -0000
Received: from cutting@apache.org by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(209.10.110.95):. 
 Processed in 0.039506 secs); 11 May 2004 20:53:44 -0000
X-Qmail-Scanner-Mail-From: cutting@apache.org via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(209.10.110.95):. Processed in 0.039506 secs)
Received: from unknown (HELO londo.swishmail.com) (209.10.110.95)
  by hermes.apache.org with SMTP; 11 May 2004 20:53:44 -0000
Received: (qmail 87804 invoked by uid 89); 11 May 2004 20:52:04 -0000
Received: from unknown (HELO apache.org) (postmaster@cottrell-cutting.net@24.5.145.151)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 11 May 2004 20:52:04 -0000
Message-ID: <40A13CE7.4050602@apache.org>
Date: Tue, 11 May 2004 13:51:51 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: new Lucene release: 1.4 RC3
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Version 1.4 RC3 of Lucene is available for download from:

http://cvs.apache.org/dist/jakarta/lucene/v1.4-rc3/

Changes are described at:

http://cvs.apache.org/viewcvs.cgi/*checkout*/jakarta-lucene/CHANGES.txt?rev=1.85

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8247-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 21:06:35 2004
Return-Path: <lucene-user-return-8247-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54316 invoked from network); 11 May 2004 21:06:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 21:06:35 -0000
Received: (qmail 68584 invoked by uid 500); 11 May 2004 21:08:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68457 invoked by uid 500); 11 May 2004 21:08:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68433 invoked by uid 98); 11 May 2004 21:08:01 -0000
Received: from vito@mnis.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(64.80.12.100):. 
 Processed in 0.111443 secs); 11 May 2004 21:08:01 -0000
X-Qmail-Scanner-Mail-From: vito@mnis.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(64.80.12.100):. Processed in 0.111443 secs)
Received: from unknown (HELO bass.Textwise.com) (64.80.12.100)
  by hermes.apache.org with SMTP; 11 May 2004 21:08:00 -0000
Received: from mortal.mnis.com (mortal [172.18.0.123])
	by bass.Textwise.com (8.11.6+Sun/8.9.3) with ESMTP id i4BKtbQ09638
	for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 16:55:37 -0400 (EDT)
Subject: Re: SQLDirectory implementation
From: Anthony Vito <vito@mnis.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <p06100502bcc6ebec56f3@[10.1.4.99]>
References: <1082154156.13816.85.camel@mortal> 
	<408D5C0D.7060609@apache.org> <1083938818.21228.121.camel@mortal>
	<40A12E7F.4020900@apache.org>  <p06100502bcc6ebec56f3@[10.1.4.99]>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
X-Mailer: Ximian Evolution 1.0.8 (1.0.8-10) 
Date: 11 May 2004 17:07:10 -0400
Message-Id: <1084309631.20290.128.camel@mortal>
Mime-Version: 1.0
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> 
> >Has anyone had a chance to play with this?  How did it work?
> 
> Still working on it.
> 
> My database is FrontBase, which is heavily SQL92-compliant. I'm 
> hacking my way through the (my)SQL that SQLDirectory uses, and am 
> trying to bring it into compliance so that I can run the unit tests.
> 
> Will report later.

If I can be of any assistance. Please, let me know. I am working on a
version that factors out the SQL with the ability to provide the field
types for some of the entries... it will still rely on the JDBC driver
supporting the getBytes methods for whatever field is choosen, and the
underlying DB not altering those bytes. All vaporware right now though.

-vito



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8248-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 23:03:18 2004
Return-Path: <lucene-user-return-8248-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12516 invoked from network); 11 May 2004 23:03:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 23:03:18 -0000
Received: (qmail 13199 invoked by uid 500); 11 May 2004 23:03:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13148 invoked by uid 500); 11 May 2004 23:03:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12981 invoked by uid 98); 11 May 2004 23:03:04 -0000
Received: from matt@ctx.com.au by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(66.216.98.59):. 
 Processed in 0.070636 secs); 11 May 2004 23:03:04 -0000
X-Qmail-Scanner-Mail-From: matt@ctx.com.au via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(66.216.98.59):. Processed in 0.070636 secs)
Received: from unknown (HELO rs9.luxsci.com) (66.216.98.59)
  by hermes.apache.org with SMTP; 11 May 2004 23:03:03 -0000
Received: from [192.168.70.246] (ppp152-16.lns1.cbr1.internode.on.net [150.101.152.16])
	(authenticated bits=0)
	by rs9.luxsci.com (8.12.11/8.12.10) with ESMTP id i4BN2x1B025613
	for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 18:03:00 -0500
Message-ID: <40A15BF3.6050301@ctx.com.au>
Date: Wed, 12 May 2004 09:04:19 +1000
From: Matt Quail <matt@ctx.com.au>
User-Agent: Mozilla Thunderbird 0.6 (Windows/20040502)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Mixing database and lucene searches
References: <c7pfni$nj5$1@sea.gmane.org> <40A04C41.1070400@ctx.com.au> <007e01c43734$98fe3480$c300000a@caliente> <c7qkjq$8ak$1@sea.gmane.org> <000d01c43760$c68aa6a0$c300000a@caliente>
In-Reply-To: <000d01c43760$c68aa6a0$c300000a@caliente>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Eric Jain wrote:
>>To ask a silly question:  What approach does Lucene use for
>>ranges and sorting?
> 
> 
> A range such as '10-60' is expanded into a boolean query containing all
> terms that are in the index and lie within the specified range, e.g. '10
> or 11 or 20 or 59'.

Yes, using a range search requires loading all the (existant) terms 
between '10' and '60' and combining them into one big Boolean "or" 
query. There is a limit to how big such a query can get.

The performant alternative is to use a Filter. You lose the ability to 
do boosting on that field, but it can handle ranges of any size.

=Matt

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8249-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 11 23:41:26 2004
Return-Path: <lucene-user-return-8249-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26522 invoked from network); 11 May 2004 23:41:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 May 2004 23:41:26 -0000
Received: (qmail 5227 invoked by uid 500); 11 May 2004 23:41:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5153 invoked by uid 500); 11 May 2004 23:41:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5128 invoked by uid 98); 11 May 2004 23:41:15 -0000
Received: from jak-lucene-user@m.gmane.org by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(80.91.224.249):. 
 Processed in 0.153282 secs); 11 May 2004 23:41:15 -0000
X-Qmail-Scanner-Mail-From: jak-lucene-user@m.gmane.org via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(80.91.224.249):. Processed in 0.153282 secs)
Received: from unknown (HELO main.gmane.org) (80.91.224.249)
  by hermes.apache.org with SMTP; 11 May 2004 23:41:15 -0000
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1BNgs4-0005hK-00
	for <lucene-user@jakarta.apache.org>; Wed, 12 May 2004 01:41:12 +0200
Received: from 203-173-46-157.dyn.iinet.net.au ([203.173.46.157])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Wed, 12 May 2004 01:41:12 +0200
Received: from gstamp by 203-173-46-157.dyn.iinet.net.au with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Wed, 12 May 2004 01:41:12 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: "Glen Stampoultzis" <gstamp@iinet.net.au>
Subject: Re: Mixing database and lucene searches
Date: Wed, 12 May 2004 09:41:04 +1000
Lines: 25
Message-ID: <c7roai$204$1@sea.gmane.org>
References: <c7pfni$nj5$1@sea.gmane.org> <40A04C41.1070400@ctx.com.au> <007e01c43734$98fe3480$c300000a@caliente> <c7qkjq$8ak$1@sea.gmane.org> <000d01c43760$c68aa6a0$c300000a@caliente> <40A15BF3.6050301@ctx.com.au>
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: 203-173-46-157.dyn.iinet.net.au
X-MSMail-Priority: Normal
X-Newsreader: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Sender: news <news@sea.gmane.org>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Is it possible to use float and date ranges in that case?  Or maybe I should
just read the details in the manual and stop asking stupid questions. :-)

"Matt Quail" <matt@ctx.com.au> wrote in message
news:40A15BF3.6050301@ctx.com.au...
> Eric Jain wrote:
> >>To ask a silly question:  What approach does Lucene use for
> >>ranges and sorting?
> >
> >
> > A range such as '10-60' is expanded into a boolean query containing all
> > terms that are in the index and lie within the specified range, e.g. '10
> > or 11 or 20 or 59'.
>
> Yes, using a range search requires loading all the (existant) terms
> between '10' and '60' and combining them into one big Boolean "or"
> query. There is a limit to how big such a query can get.
>
> The performant alternative is to use a Filter. You lose the ability to
> do boosting on that field, but it can handle ranges of any size.
>
> =Matt




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8250-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 12 00:13:48 2004
Return-Path: <lucene-user-return-8250-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39325 invoked from network); 12 May 2004 00:13:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 May 2004 00:13:47 -0000
Received: (qmail 93481 invoked by uid 500); 12 May 2004 00:13:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93357 invoked by uid 500); 12 May 2004 00:13:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93088 invoked by uid 98); 12 May 2004 00:13:24 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(24.51.109.181):. 
 Processed in 0.31578 secs); 12 May 2004 00:13:24 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(24.51.109.181):. Processed in 0.31578 secs)
Received: from unknown (HELO ErikHatcher.local) (24.51.109.181)
  by hermes.apache.org with SMTP; 12 May 2004 00:13:24 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by ErikHatcher.local (Postfix) with ESMTP id D70766F7D3F
	for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 20:13:24 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <c7roai$204$1@sea.gmane.org>
References: <c7pfni$nj5$1@sea.gmane.org> <40A04C41.1070400@ctx.com.au> <007e01c43734$98fe3480$c300000a@caliente> <c7qkjq$8ak$1@sea.gmane.org> <000d01c43760$c68aa6a0$c300000a@caliente> <40A15BF3.6050301@ctx.com.au> <c7roai$204$1@sea.gmane.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <2EFC7FB9-A3A9-11D8-B059-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Mixing database and lucene searches
Date: Tue, 11 May 2004 20:13:24 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On May 11, 2004, at 7:41 PM, Glen Stampoultzis wrote:
>
> Is it possible to use float and date ranges in that case?  Or maybe I 
> should
> just read the details in the manual and stop asking stupid questions. 
> :-)

Terms in the index are *always* text.  The DateField class in Lucene 
helps do conversions, but see the wiki for more info on date fields.  I 
wouldn't recommend using it, personally, unless millisecond granularity 
is really desired.

For other types, if you need range queries, you need to make the 
textual representation be ordered lexicographically (i.e. pad the 
numbers with leading zeros so that all numbers have the same width) - 
again, some of this is on the wiki.

There really isn't anything in the "manual" about field types, that I 
know of, only brief mentions on the wiki and e-mail archives.

	Erik


>
> "Matt Quail" <matt@ctx.com.au> wrote in message
> news:40A15BF3.6050301@ctx.com.au...
>> Eric Jain wrote:
>>>> To ask a silly question:  What approach does Lucene use for
>>>> ranges and sorting?
>>>
>>>
>>> A range such as '10-60' is expanded into a boolean query containing 
>>> all
>>> terms that are in the index and lie within the specified range, e.g. 
>>> '10
>>> or 11 or 20 or 59'.
>>
>> Yes, using a range search requires loading all the (existant) terms
>> between '10' and '60' and combining them into one big Boolean "or"
>> query. There is a limit to how big such a query can get.
>>
>> The performant alternative is to use a Filter. You lose the ability to
>> do boosting on that field, but it can handle ranges of any size.
>>
>> =Matt
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8251-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 12 00:30:11 2004
Return-Path: <lucene-user-return-8251-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46278 invoked from network); 12 May 2004 00:30:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 May 2004 00:30:10 -0000
Received: (qmail 34264 invoked by uid 500); 12 May 2004 00:30:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34087 invoked by uid 500); 12 May 2004 00:30:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34066 invoked by uid 98); 12 May 2004 00:30:00 -0000
Received: from paul@waite.net.nz by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.79.71.204):. 
 Processed in 0.154961 secs); 12 May 2004 00:30:00 -0000
X-Qmail-Scanner-Mail-From: paul@waite.net.nz via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.79.71.204):. Processed in 0.154961 secs)
Received: from unknown (HELO gandalf.lan.waite.net.nz) (203.79.71.204)
  by hermes.apache.org with SMTP; 12 May 2004 00:30:00 -0000
Received: from localhost ([127.0.0.1] ident=amavis)
	by gandalf.lan.waite.net.nz with esmtp (Exim 4.30 #1 (Debian))
	id 1BNhdE-0003eR-K3
	for <lucene-user@jakarta.apache.org>; Wed, 12 May 2004 12:29:56 +1200
Received: from gandalf.lan.waite.net.nz ([127.0.0.1])
	by localhost (gandalf [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 13714-07 for <lucene-user@jakarta.apache.org>;
	Wed, 12 May 2004 12:29:52 +1200 (NZST)
Received: from frodo.lan.waite.net.nz ([192.168.1.29] ident=paul)
	by gandalf.lan.waite.net.nz with esmtp (Exim 4.30 #1 (Debian))
	id 1BNhdA-0003eL-0c
	for <lucene-user@jakarta.apache.org>; Wed, 12 May 2004 12:29:52 +1200
From: Paul <paul@waite.net.nz>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Mixing database and lucene searches
Date: Wed, 12 May 2004 12:29:51 +1200
User-Agent: KMail/1.6.1
References: <c7pfni$nj5$1@sea.gmane.org> <c7roai$204$1@sea.gmane.org> <2EFC7FB9-A3A9-11D8-B059-000393A564E6@ehatchersolutions.com>
In-Reply-To: <2EFC7FB9-A3A9-11D8-B059-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200405121229.51951.paul@waite.net.nz>
X-Virus-Scanned: by amavisd-new-20030616-p5 (Debian) at waite.net.nz
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:
> On May 11, 2004, at 7:41 PM, Glen Stampoultzis wrote:
> > Is it possible to use float and date ranges in that case?  Or maybe I
> > should
> > just read the details in the manual and stop asking stupid questions.
> >
> > :-)
>
> Terms in the index are *always* text.  The DateField class in Lucene
> helps do conversions, but see the wiki for more info on date fields.  I
> wouldn't recommend using it, personally, unless millisecond granularity
> is really desired.

For date handling and querying we munge the datetime in seconds to be
a lexicographically ordered value, but the standard YYYYMMDDHHMMSS
string format is just as good.

Because in our app people are generally interested in day granularity rather
than seconds for date-range querying, we index on a date value and use
that field for queries. However for subsequent sorting we have a full datetime
value which is a stored Lucene field.

Since we index about 1,000 articles per day, this means the boolean term
expansion, based on the date, is at an acceptable level (in the 10's usually)
whereas trying to utilize the datetime field for that would generally require
1,000x more and cause resource problems.

Cheers,
Paul.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8252-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 12 00:32:20 2004
Return-Path: <lucene-user-return-8252-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46914 invoked from network); 12 May 2004 00:32:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 May 2004 00:32:19 -0000
Received: (qmail 41351 invoked by uid 500); 12 May 2004 00:32:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41332 invoked by uid 500); 12 May 2004 00:32:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41311 invoked by uid 98); 12 May 2004 00:32:09 -0000
Received: from matt@ctx.com.au by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(66.216.98.59):. 
 Processed in 0.0529 secs); 12 May 2004 00:32:09 -0000
X-Qmail-Scanner-Mail-From: matt@ctx.com.au via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(66.216.98.59):. Processed in 0.0529 secs)
Received: from unknown (HELO rs9.luxsci.com) (66.216.98.59)
  by hermes.apache.org with SMTP; 12 May 2004 00:32:09 -0000
Received: from [192.168.70.246] (ppp152-16.lns1.cbr1.internode.on.net [150.101.152.16])
	(authenticated bits=0)
	by rs9.luxsci.com (8.12.11/8.12.10) with ESMTP id i4C0W4QB007439
	for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 19:32:05 -0500
Message-ID: <40A170D4.4080902@ctx.com.au>
Date: Wed, 12 May 2004 10:33:24 +1000
From: Matt Quail <matt@ctx.com.au>
User-Agent: Mozilla Thunderbird 0.6 (Windows/20040502)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Mixing database and lucene searches
References: <c7pfni$nj5$1@sea.gmane.org> <40A04C41.1070400@ctx.com.au> <007e01c43734$98fe3480$c300000a@caliente> <c7qkjq$8ak$1@sea.gmane.org> <000d01c43760$c68aa6a0$c300000a@caliente> <40A15BF3.6050301@ctx.com.au> <c7roai$204$1@sea.gmane.org>
In-Reply-To: <c7roai$204$1@sea.gmane.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Is it possible to use float and date ranges in that case?  Or maybe I should
> just read the details in the manual and stop asking stupid questions. :-)

There is no such thing as a stupid question ;-)

At the end of the day, Lucene just handles strings; and it handles them
lexocographically. The DateField class turns a Date into a string that
sorts well. (DateField doesn't handle all values of a 'long', though).

For float, you may have to pick some range of floats that you will
allow, and use a java.util.DecimalFormat to format them to a
fixed-width, zero-padded string. If you are going to allow -ve values,
then it gets trickier (I have the trick if you need to know this).

=Matt




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8253-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 12 01:12:56 2004
Return-Path: <lucene-user-return-8253-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61869 invoked from network); 12 May 2004 01:12:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 May 2004 01:12:55 -0000
Received: (qmail 62339 invoked by uid 500); 12 May 2004 01:12:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62303 invoked by uid 500); 12 May 2004 01:12:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62287 invoked by uid 98); 12 May 2004 01:12:45 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(24.51.109.181):. 
 Processed in 0.055151 secs); 12 May 2004 01:12:45 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(24.51.109.181):. Processed in 0.055151 secs)
Received: from unknown (HELO ErikHatcher.local) (24.51.109.181)
  by hermes.apache.org with SMTP; 12 May 2004 01:12:44 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by ErikHatcher.local (Postfix) with ESMTP id CCC786F8A5E
	for <lucene-user@jakarta.apache.org>; Tue, 11 May 2004 21:12:43 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <40A170D4.4080902@ctx.com.au>
References: <c7pfni$nj5$1@sea.gmane.org> <40A04C41.1070400@ctx.com.au> <007e01c43734$98fe3480$c300000a@caliente> <c7qkjq$8ak$1@sea.gmane.org> <000d01c43760$c68aa6a0$c300000a@caliente> <40A15BF3.6050301@ctx.com.au> <c7roai$204$1@sea.gmane.org> <40A170D4.4080902@ctx.com.au>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <781B71BE-A3B1-11D8-8B25-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Mixing database and lucene searches
Date: Tue, 11 May 2004 21:12:42 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On May 11, 2004, at 8:33 PM, Matt Quail wrote:
> For float, you may have to pick some range of floats that you will
> allow, and use a java.util.DecimalFormat to format them to a
> fixed-width, zero-padded string. If you are going to allow -ve values,
> then it gets trickier (I have the trick if you need to know this).

Care to post it here:

	http://wiki.apache.org/jakarta-lucene/SearchNumericalFields

??

Thanks,
	Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8254-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 12 01:39:30 2004
Return-Path: <lucene-user-return-8254-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83083 invoked from network); 12 May 2004 01:39:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 May 2004 01:39:30 -0000
Received: (qmail 38166 invoked by uid 500); 12 May 2004 01:39:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38063 invoked by uid 500); 12 May 2004 01:39:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38044 invoked by uid 98); 12 May 2004 01:39:17 -0000
Received: from ryan.aslett@qsent.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(208.252.86.17):. 
 Processed in 0.381076 secs); 12 May 2004 01:39:17 -0000
X-Qmail-Scanner-Mail-From: ryan.aslett@qsent.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(208.252.86.17):. Processed in 0.381076 secs)
Received: from unknown (HELO mail2.qsent.com) (208.252.86.17)
  by hermes.apache.org with SMTP; 12 May 2004 01:39:17 -0000
Received: (qmail 13946 invoked from network); 12 May 2004 01:39:10 -0000
Received: from unknown (HELO exchange.qsent.com) (10.110.1.19)
  by zaxxon.qsent.com with SMTP; 12 May 2004 01:39:10 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Fields
Date: Tue, 11 May 2004 18:39:11 -0700
Message-ID: <5238CD8601F3EF4BA3C5553FECBB7D2A027F7BAA@exchange.qsent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Fields
Thread-Index: AcQ3vjyEu9k32q5JRcuohU2Ez3U2xgAANZig
From: "Ryan Aslett" <Ryan.Aslett@Qsent.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

How much of a performance benefit/impact does "fielding" your data have
in Lucene?

Lets say I have 100 million documents.  I have Name, Phone, and Address
for each document.

I could either index the terms in separate fields, like=20
Field.Text("Name","Bob Jones");
Field.Keyword("Phone","5551212");
Field.Text("Address","123 Main");

Or, I could make everything in the same field, prepending a field
designator to the term itself as keywords, like:
Field.Keyword("Universal","nmBob");
Field.Keyword("Universal","nmJones");
Field.Keyword("Universal","ph5551212");
Field.Keyword("Universal","ad123");
Field.Keyword("Universal","adMain");

And when I build my queries always seach the same field, and prepend the
"fieldcode" to the search term.

Lets also assume that these universal fields are only indexed and not
stored, and I store something completely different as the actual stored
data.

Assumptions:=20
*Indexing/Preprocessing speed isnt important, unless its orders of
magnitude slower.
*10 indexes of 10 million Documents each.

Does anybody have any ideas as to the impact on query performance with
this method? Pros/Cons?

A commercial product that we are using is much slower when "fielding"
data, and has the concept of "unfielded literals". This second method is
how we currently field data and it seems to give us a tremendous
performance boost. Im curious if Lucene works in a similar fashion...

Ryan Aslett

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8255-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 12 08:59:45 2004
Return-Path: <lucene-user-return-8255-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37720 invoked from network); 12 May 2004 08:59:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 May 2004 08:59:44 -0000
Received: (qmail 97011 invoked by uid 500); 12 May 2004 08:59:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96920 invoked by uid 500); 12 May 2004 08:59:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96840 invoked by uid 98); 12 May 2004 08:59:31 -0000
Received: from sascha.ottolski@gallileus.de by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(213.133.111.100):. 
 Processed in 0.039611 secs); 12 May 2004 08:59:31 -0000
X-Qmail-Scanner-Mail-From: sascha.ottolski@gallileus.de via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(213.133.111.100):. Processed in 0.039611 secs)
Received: from unknown (HELO www.gallileus.info) (213.133.111.100)
  by hermes.apache.org with SMTP; 12 May 2004 08:59:30 -0000
Received: from sascha.gallileus.local (pD9E71F97.dip.t-dialin.net [217.231.31.151])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by www.gallileus.info (Postfix) with ESMTP id CD8E8100846
	for <lucene-user@jakarta.apache.org>; Wed, 12 May 2004 10:59:15 +0200 (CEST)
From: Sascha Ottolski <sascha.ottolski@gallileus.de>
Organization: Gallileus GmbH
To: lucene-user@jakarta.apache.org
Subject: Re: optimize fails with "Negative seek offset"
Date: Wed, 12 May 2004 10:59:13 +0200
User-Agent: KMail/1.6.2
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Message-Id: <200405121059.13670.sascha.ottolski@gallileus.de>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

sorry for following up my own mail, but since no one responded so
far, I thought the stacktrace might be of interested. The following
exception always occurs when trying to optimize one of our indizes,
which always went ok for about a year now. I just tried with 1.4-rc3,
but with the same result:

java.io.IOException: Negative seek offset
        at java.io.RandomAccessFile.seek(Native Method)
        at org.apache.lucene.store.FSInputStream.readInternal(FSDirectory.j=
ava:405)
        at org.apache.lucene.store.InputStream.readBytes(InputStream.java:6=
1)
        at org.apache.lucene.index.CompoundFileReader$CSInputStream.readInt=
ernal(CompoundFileReader.java:222)
        at org.apache.lucene.store.InputStream.refill(InputStream.java:158)
        at org.apache.lucene.store.InputStream.readByte(InputStream.java:43)
        at org.apache.lucene.store.InputStream.readVInt(InputStream.java:83)
        at org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:63)
        at org.apache.lucene.index.SegmentReader.document(SegmentReader.jav=
a:238)
        at org.apache.lucene.index.SegmentMerger.mergeFields(SegmentMerger.=
java:185)
        at org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:9=
2)
        at org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.ja=
va:483)
        at org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:36=
2)
        at LuceneRPCHandler.optimize(LuceneRPCHandler.java:398)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessor=
Impl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethod=
AccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:324)
        at org.apache.xmlrpc.Invoker.execute(Invoker.java:168)
        at org.apache.xmlrpc.XmlRpcWorker.invokeHandler(XmlRpcWorker.java:1=
23)
        at org.apache.xmlrpc.XmlRpcWorker.execute(XmlRpcWorker.java:185)
        at org.apache.xmlrpc.XmlRpcServer.execute(XmlRpcServer.java:151)
        at org.apache.xmlrpc.XmlRpcServer.execute(XmlRpcServer.java:139)
        at org.apache.xmlrpc.WebServer$Connection.run(WebServer.java:773)
        at org.apache.xmlrpc.WebServer$Runner.run(WebServer.java:656)
        at java.lang.Thread.run(Thread.java:534)


Any hint would be greatly appreciated.


Thanks,

Sascha

=2D-=20
Gallileus - the power of knowledge

Gallileus GmbH                    http://www.gallileus.info/

Pintschstra=DFe 16                  fon +49-(0)30-41 93 43 43
10249 Berlin                      fax +49-(0)30-41 93 43 45
Germany



++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
AKTUELLER HINWEIS (Mai 2004)

Literatur Alerts - Literatursuche (wie) im Schlaf!

Ab jetzt mehr dazu unter:
http://www.gallileus.info/gallileus/about/products/alerts/
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8256-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 12 11:29:26 2004
Return-Path: <lucene-user-return-8256-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39428 invoked from network); 12 May 2004 11:29:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 May 2004 11:29:26 -0000
Received: (qmail 61232 invoked by uid 500); 12 May 2004 11:29:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61163 invoked by uid 500); 12 May 2004 11:29:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61141 invoked by uid 98); 12 May 2004 11:29:20 -0000
Received: from terry@net-frame.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(207.69.200.246):. 
 Processed in 0.13215 secs); 12 May 2004 11:29:20 -0000
X-Qmail-Scanner-Mail-From: terry@net-frame.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(207.69.200.246):. Processed in 0.13215 secs)
Received: from unknown (HELO smtp10.atl.mindspring.net) (207.69.200.246)
  by hermes.apache.org with SMTP; 12 May 2004 11:29:19 -0000
Received: from h-68-166-172-48.mclnva23.dynamic.covad.net ([68.166.172.48] helo=POWERPACK)
	by smtp10.atl.mindspring.net with smtp (Exim 3.33 #1)
	id 1BNrvI-0007ae-00
	for lucene-user@jakarta.apache.org; Wed, 12 May 2004 07:29:16 -0400
Message-ID: <007101c43814$5e103b80$6501a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <40A13CE7.4050602@apache.org>
Subject: Re: new Lucene release: 1.4 RC3
Date: Wed, 12 May 2004 07:29:19 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I presume this still requires Java 1.4 to build, but will run with Java 1.3?

Regards,

Terry

----- Original Message ----- 
From: "Doug Cutting" <cutting@apache.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, May 11, 2004 4:51 PM
Subject: new Lucene release: 1.4 RC3


> Version 1.4 RC3 of Lucene is available for download from:
>
> http://cvs.apache.org/dist/jakarta/lucene/v1.4-rc3/
>
> Changes are described at:
>
>
http://cvs.apache.org/viewcvs.cgi/*checkout*/jakarta-lucene/CHANGES.txt?rev=1.85
>
> Doug
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8257-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 12 12:04:19 2004
Return-Path: <lucene-user-return-8257-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63461 invoked from network); 12 May 2004 12:04:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 May 2004 12:04:19 -0000
Received: (qmail 67585 invoked by uid 500); 12 May 2004 12:04:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67533 invoked by uid 500); 12 May 2004 12:04:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67516 invoked by uid 98); 12 May 2004 12:04:14 -0000
Received: from otis_gospodnetic@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.136.173.240):. 
 Processed in 0.01467 secs); 12 May 2004 12:04:14 -0000
X-Qmail-Scanner-Mail-From: otis_gospodnetic@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.136.173.240):. Processed in 0.01467 secs)
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by hermes.apache.org with SMTP; 12 May 2004 12:04:14 -0000
Message-ID: <20040512120409.26091.qmail@web12703.mail.yahoo.com>
Received: from [195.29.121.165] by web12703.mail.yahoo.com via HTTP; Wed, 12 May 2004 05:04:09 PDT
Date: Wed, 12 May 2004 05:04:09 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: new Lucene release: 1.4 RC3
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <007101c43814$5e103b80$6501a8c0@POWERPACK>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I don't recall any JDK 1.4 methods/classes being used, and I just saw
Doug replacing one AssertException (1.4) with RuntimeException.

Are there some 1.4 dependencies I'm not aware of?

Otis

--- Terry Steichen <terry@net-frame.com> wrote:
> I presume this still requires Java 1.4 to build, but will run with
> Java 1.3?
> 
> Regards,
> 
> Terry
> 
> ----- Original Message ----- 
> From: "Doug Cutting" <cutting@apache.org>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Tuesday, May 11, 2004 4:51 PM
> Subject: new Lucene release: 1.4 RC3
> 
> 
> > Version 1.4 RC3 of Lucene is available for download from:
> >
> > http://cvs.apache.org/dist/jakarta/lucene/v1.4-rc3/
> >
> > Changes are described at:
> >
> >
>
http://cvs.apache.org/viewcvs.cgi/*checkout*/jakarta-lucene/CHANGES.txt?rev=1.85
> >
> > Doug
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8258-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 12 12:17:54 2004
Return-Path: <lucene-user-return-8258-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74225 invoked from network); 12 May 2004 12:17:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 May 2004 12:17:54 -0000
Received: (qmail 18976 invoked by uid 500); 12 May 2004 12:17:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18701 invoked by uid 500); 12 May 2004 12:17:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18492 invoked by uid 98); 12 May 2004 12:17:32 -0000
Received: from philouchat@hotmail.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(207.68.165.52):. 
 Processed in 0.248434 secs); 12 May 2004 12:17:32 -0000
X-Qmail-Scanner-Mail-From: philouchat@hotmail.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(207.68.165.52):. Processed in 0.248434 secs)
Received: from unknown (HELO hotmail.com) (207.68.165.52)
  by hermes.apache.org with SMTP; 12 May 2004 12:17:29 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 12 May 2004 05:17:25 -0700
Received: from 213.11.44.138 by sea2fd.sea2.hotmail.msn.com with HTTP;
	Wed, 12 May 2004 12:17:25 GMT
X-Originating-IP: [213.11.44.138]
X-Originating-Email: [philouchat@hotmail.com]
X-Sender: philouchat@hotmail.com
From: "Phil brunet" <philouchat@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Re: Mixing database and lucene searches
Date: Wed, 12 May 2004 12:17:25 +0000
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1; format=flowed
Message-ID: <Sea2-F52BYhgG7bcU6a00027a7f@hotmail.com>
X-OriginalArrivalTime: 12 May 2004 12:17:25.0908 (UTC) FILETIME=[1616C540:01C4381B]
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> > -- Snip --
> > If you can't guaranty a fixed number of Lucene results (and it is often 
>the > case !), a good way is to duplicate the last PK and so to  round to a 
>fixed
> > number.
> >
>
>Hi... I'm not sure what you mean by that last bit.
>
>

Hi ... i'm going to try to express myself correctly ... in english :-)

We were talking about the need to cross Lucene results and DB results. And 
that it could be a good idea to execute a query like :

SELECT *
FROM my_table
WHERE
       <1st criteria >         // this criteria was not expressed in the 
Lucene query
AND <2nd criteria>         // this criteria was not expressed in the Lucene 
query

AND  ....
....
AND my_pk IN (pk_value_1, pk_value_2, .... pk_value_n);

where pk_values have been previously retrieved by the Lucene query.


In the JDBC statement, using bind variables is a good way to avoid useless 
query parsing time.

But if the number of "pk_value" retrieved by the Lucene query is different 
for each query, using bind variables will not avoid the query parsing time. 
Because the SQL "query signature" will be differente, so the rdbms will need 
to parse the query again.

To bypass this problem, you can "round" the number of b ind variable.

For exemple, you know that your Lucene queries will retrieve ... let's say 
... a maximum of 1000 results.
Sometimes only one result is retieved => you have one pk_value
Sometime  5 results are retrieved       => you have five pk_value
Sometime .... etc

I suggest that in each case, you duplicate the last pk_value in order to 
have always the same number of bind variables in the SQL statement.

In my exemple, you will always have 1000 bind variables in the SQL 
statement, whatever you had one, five or n results.

Especially for short SQL queries, avoiding parsing time is really precious  
(i work with Oracle DB- sic !)

_________________________________________________________________
MSN Search, le moteur de recherche qui pense comme vous !  
http://search.msn.fr/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8259-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 12 14:42:30 2004
Return-Path: <lucene-user-return-8259-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8548 invoked from network); 12 May 2004 14:42:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 May 2004 14:42:30 -0000
Received: (qmail 84596 invoked by uid 500); 12 May 2004 14:42:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84446 invoked by uid 500); 12 May 2004 14:42:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84284 invoked by uid 98); 12 May 2004 14:41:59 -0000
Received: from terry@net-frame.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(207.69.200.246):. 
 Processed in 0.369687 secs); 12 May 2004 14:41:59 -0000
X-Qmail-Scanner-Mail-From: terry@net-frame.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(207.69.200.246):. Processed in 0.369687 secs)
Received: from unknown (HELO smtp10.atl.mindspring.net) (207.69.200.246)
  by hermes.apache.org with SMTP; 12 May 2004 14:41:57 -0000
Received: from h-68-166-172-48.mclnva23.dynamic.covad.net ([68.166.172.48] helo=POWERPACK)
	by smtp10.atl.mindspring.net with smtp (Exim 3.33 #1)
	id 1BNuvX-0006Zy-00
	for lucene-user@jakarta.apache.org; Wed, 12 May 2004 10:41:43 -0400
Message-ID: <01a601c4382f$402d8580$6501a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20040512120409.26091.qmail@web12703.mail.yahoo.com>
Subject: Re: new Lucene release: 1.4 RC3
Date: Wed, 12 May 2004 10:41:45 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Last time I checked, JDK 1.4 was needed to compile the classes implementing
the new sorting features.  Part of the issue was the inclusion of the regex
classes, but the other dependency had to do (as I recall) with some kind of
inner class constructs (that JDK 1.3 won't compile).  I believe that the
contributor, Tim Jones, fixed some of then to work with JDK 1.3, but to the
best of my knowledge, not the inner class stuff.

Regards,

Terry

----- Original Message ----- 
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, May 12, 2004 8:04 AM
Subject: Re: new Lucene release: 1.4 RC3


> I don't recall any JDK 1.4 methods/classes being used, and I just saw
> Doug replacing one AssertException (1.4) with RuntimeException.
>
> Are there some 1.4 dependencies I'm not aware of?
>
> Otis
>
> --- Terry Steichen <terry@net-frame.com> wrote:
> > I presume this still requires Java 1.4 to build, but will run with
> > Java 1.3?
> >
> > Regards,
> >
> > Terry
> >
> > ----- Original Message ----- 
> > From: "Doug Cutting" <cutting@apache.org>
> > To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> > Sent: Tuesday, May 11, 2004 4:51 PM
> > Subject: new Lucene release: 1.4 RC3
> >
> >
> > > Version 1.4 RC3 of Lucene is available for download from:
> > >
> > > http://cvs.apache.org/dist/jakarta/lucene/v1.4-rc3/
> > >
> > > Changes are described at:
> > >
> > >
> >
>
http://cvs.apache.org/viewcvs.cgi/*checkout*/jakarta-lucene/CHANGES.txt?rev=1.85
> > >
> > > Doug
> > >
> > >
> > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > >
> > >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8260-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 12 16:54:42 2004
Return-Path: <lucene-user-return-8260-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89176 invoked from network); 12 May 2004 16:54:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 May 2004 16:54:42 -0000
Received: (qmail 65081 invoked by uid 500); 12 May 2004 16:54:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64951 invoked by uid 500); 12 May 2004 16:54:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64734 invoked by uid 98); 12 May 2004 16:54:17 -0000
Received: from vito@mnis.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(64.80.12.100):. 
 Processed in 0.093084 secs); 12 May 2004 16:54:17 -0000
X-Qmail-Scanner-Mail-From: vito@mnis.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(64.80.12.100):. Processed in 0.093084 secs)
Received: from unknown (HELO bass.Textwise.com) (64.80.12.100)
  by hermes.apache.org with SMTP; 12 May 2004 16:54:17 -0000
Received: from mortal.mnis.com (mortal [172.18.0.123])
	by bass.Textwise.com (8.11.6+Sun/8.9.3) with ESMTP id i4CGhAQ08928
	for <lucene-user@jakarta.apache.org>; Wed, 12 May 2004 12:43:10 -0400 (EDT)
Subject: Re: optimize fails with "Negative seek offset"
From: Anthony Vito <vito@mnis.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <200405121059.13670.sascha.ottolski@gallileus.de>
References: <200405121059.13670.sascha.ottolski@gallileus.de>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Mailer: Ximian Evolution 1.0.8 (1.0.8-10) 
Date: 12 May 2004 12:54:45 -0400
Message-Id: <1084380885.24832.136.camel@mortal>
Mime-Version: 1.0
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Looks like the same error I got when I tried to use Lucene version 1.3
to search on an index I had created with Lucene version 1.4. The
versions are not forward compatible. Did you by chance create the index
with version 1.4 and are now searching with version 1.3. It's easy to
get the dependencies out of sync for different apps, which is what
happened to me.

-vito

On Wed, 2004-05-12 at 04:59, Sascha Ottolski wrote:
> Hi,
>=20
> sorry for following up my own mail, but since no one responded so
> far, I thought the stacktrace might be of interested. The following
> exception always occurs when trying to optimize one of our indizes,
> which always went ok for about a year now. I just tried with 1.4-rc3,
> but with the same result:
>=20
> java.io.IOException: Negative seek offset
>         at java.io.RandomAccessFile.seek(Native Method)
>         at org.apache.lucene.store.FSInputStream.readInternal(FSDirectory=
.java:405)
>         at org.apache.lucene.store.InputStream.readBytes(InputStream.java=
:61)
>         at org.apache.lucene.index.CompoundFileReader$CSInputStream.readI=
nternal(CompoundFileReader.java:222)
>         at org.apache.lucene.store.InputStream.refill(InputStream.java:15=
8)
>         at org.apache.lucene.store.InputStream.readByte(InputStream.java:=
43)
>         at org.apache.lucene.store.InputStream.readVInt(InputStream.java:=
83)
>         at org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:63)
>         at org.apache.lucene.index.SegmentReader.document(SegmentReader.j=
ava:238)
>         at org.apache.lucene.index.SegmentMerger.mergeFields(SegmentMerge=
r.java:185)
>         at org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java=
:92)
>         at org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.=
java:483)
>         at org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:=
362)
>         at LuceneRPCHandler.optimize(LuceneRPCHandler.java:398)
>         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
>         at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccess=
orImpl.java:39)
>         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMeth=
odAccessorImpl.java:25)
>         at java.lang.reflect.Method.invoke(Method.java:324)
>         at org.apache.xmlrpc.Invoker.execute(Invoker.java:168)
>         at org.apache.xmlrpc.XmlRpcWorker.invokeHandler(XmlRpcWorker.java=
:123)
>         at org.apache.xmlrpc.XmlRpcWorker.execute(XmlRpcWorker.java:185)
>         at org.apache.xmlrpc.XmlRpcServer.execute(XmlRpcServer.java:151)
>         at org.apache.xmlrpc.XmlRpcServer.execute(XmlRpcServer.java:139)
>         at org.apache.xmlrpc.WebServer$Connection.run(WebServer.java:773)
>         at org.apache.xmlrpc.WebServer$Runner.run(WebServer.java:656)
>         at java.lang.Thread.run(Thread.java:534)
>=20
>=20
> Any hint would be greatly appreciated.
>=20
>=20
> Thanks,
>=20
> Sascha
>=20
> --=20
> Gallileus - the power of knowledge
>=20
> Gallileus GmbH                    http://www.gallileus.info/
>=20
> Pintschstra=C3=9Fe 16                  fon +49-(0)30-41 93 43 43
> 10249 Berlin                      fax +49-(0)30-41 93 43 45
> Germany
>=20
>=20
>=20
> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
> AKTUELLER HINWEIS (Mai 2004)
>=20
> Literatur Alerts - Literatursuche (wie) im Schlaf!
>=20
> Ab jetzt mehr dazu unter:
> http://www.gallileus.info/gallileus/about/products/alerts/
> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8261-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 12 17:14:19 2004
Return-Path: <lucene-user-return-8261-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2870 invoked from network); 12 May 2004 17:14:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 May 2004 17:14:19 -0000
Received: (qmail 39211 invoked by uid 500); 12 May 2004 17:14:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38998 invoked by uid 500); 12 May 2004 17:14:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38880 invoked by uid 98); 12 May 2004 17:14:13 -0000
Received: from sascha.ottolski@gallileus.de by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(213.133.111.100):. 
 Processed in 0.135544 secs); 12 May 2004 17:14:13 -0000
X-Qmail-Scanner-Mail-From: sascha.ottolski@gallileus.de via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(213.133.111.100):. Processed in 0.135544 secs)
Received: from unknown (HELO www.gallileus.info) (213.133.111.100)
  by hermes.apache.org with SMTP; 12 May 2004 17:14:12 -0000
Received: from sascha.gallileus.local (pD9E71F97.dip.t-dialin.net [217.231.31.151])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by www.gallileus.info (Postfix) with ESMTP id F1E67100846
	for <lucene-user@jakarta.apache.org>; Wed, 12 May 2004 19:13:33 +0200 (CEST)
From: Sascha Ottolski <sascha.ottolski@gallileus.de>
Organization: Gallileus GmbH
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: optimize fails with "Negative seek offset"
Date: Wed, 12 May 2004 19:13:18 +0200
User-Agent: KMail/1.6.2
References: <200405121059.13670.sascha.ottolski@gallileus.de> <1084380885.24832.136.camel@mortal>
In-Reply-To: <1084380885.24832.136.camel@mortal>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Message-Id: <200405121913.18247.sascha.ottolski@gallileus.de>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Am Mittwoch, 12. Mai 2004 18:54 schrieb Anthony Vito:
> Looks like the same error I got when I tried to use Lucene version
> 1.3 to search on an index I had created with Lucene version 1.4. The
> versions are not forward compatible. Did you by chance create the
> index with version 1.4 and are now searching with version 1.3. It's
> easy to get the dependencies out of sync for different apps, which is
> what happened to me.
>
> -vito

Hi vito,

thanks for the reply, but no, we only upgraded so far, but did not=20
downgade. More than that, the failing index was just rebuilt completely=20
with 1.4-rc2, only two weeks ago. The problem started a short time=20
afterwards (but not immediately).


Greets,

Sascha

=2D-=20
Gallileus - the power of knowledge

Gallileus GmbH                    http://www.gallileus.info/

Pintschstra=C3=9Fe 16                  fon +49-(0)30-41 93 43 43
10249 Berlin                      fax +49-(0)30-41 93 43 45
Germany



++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
AKTUELLER HINWEIS (Mai 2004)

Literatur Alerts - Literatursuche (wie) im Schlaf!

Ab jetzt mehr dazu unter:
http://www.gallileus.info/gallileus/about/products/alerts/
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8262-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 12 17:52:40 2004
Return-Path: <lucene-user-return-8262-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31508 invoked from network); 12 May 2004 17:52:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 May 2004 17:52:40 -0000
Received: (qmail 83108 invoked by uid 500); 12 May 2004 17:52:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83000 invoked by uid 500); 12 May 2004 17:52:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82933 invoked by uid 98); 12 May 2004 17:52:45 -0000
Received: from Gerard.Sychay@cchmc.org by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(205.142.197.62):. 
 Processed in 0.144076 secs); 12 May 2004 17:52:45 -0000
X-Qmail-Scanner-Mail-From: Gerard.Sychay@cchmc.org via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(205.142.197.62):. Processed in 0.144076 secs)
Received: from unknown (HELO n6mcgw16.cchmc.org) (205.142.197.62)
  by hermes.apache.org with SMTP; 12 May 2004 17:52:45 -0000
Received: from DOMSVC03-MTA by n6mcgw16.cchmc.org
	with Novell_GroupWise; Wed, 12 May 2004 13:52:17 -0400
Message-Id: <s0a22c11.055@n6mcgw16.cchmc.org>
X-Mailer: Novell GroupWise Internet Agent 6.5.1 
Date: Wed, 12 May 2004 13:51:50 -0400
From: "Gerard Sychay" <Gerard.Sychay@cchmc.org>
To: <lucene-user@jakarta.apache.org>
Subject: RE: multivalue fields
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I don't know if it will help, but take a look at the following email and
enclosing thread from a few weeks ago.

http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&msgNo=7737

>>> "Ryan Sonnek" <rsonnek@DigitalRiver.com> 05/11/04 12:40PM >>>
using lucene 1.3-final, it appears to only search the first field with
that name.  here's the code i'm using to construct the index, and I'm
using Luke to check that the index is created correctly.  Everything
looks fine, but my search returns empty.  do i have to use a special
query to work with multivalue fields?  is there a testcase in the source
that performs this kind of work that I could look at?

		//indexing
	      Document doc = new Document();

            Iterator values = myValues.iterator();
            while (values.hasNext()) {
                Object value = values.next();
                doc.add(Field.Keyword("test", value.toString()));
            }
		
		//searching
           BooleanQuery query = new BooleanQuery();
           Query fieldQuery = QueryParser.parse("searchValue", "test",
ANALYZER);
           query.add(fieldQuery, true, false);
 
Ryan


> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
> Sent: Tuesday, May 11, 2004 11:31 AM
> To: Lucene Users List
> Subject: Re: multivalue fields
> 
> 
> Just add multiple Fields with the exact same name.
> 
> Otis
> 
> --- Ryan Sonnek <rsonnek@DigitalRiver.com> wrote:
> > How can I construct a document that has multiple values for 
> one field
> > (ex: locale en_US, de_DE, etc).  I've been concatonating the
values
> > into one string and storing them in one field, but I think this
> > affects the search rankings (more text to search produces lower
> > score).  is it possible to append the seperate values to the same
> > field without concatonating them together?
> > 
> > Ryan
> > 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8263-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 00:04:09 2004
Return-Path: <lucene-user-return-8263-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77331 invoked from network); 13 May 2004 00:04:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 00:04:09 -0000
Received: (qmail 11088 invoked by uid 500); 13 May 2004 00:04:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10968 invoked by uid 500); 13 May 2004 00:04:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10951 invoked by uid 98); 13 May 2004 00:04:33 -0000
Received: from jak-lucene-user@m.gmane.org by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(80.91.224.249):. 
 Processed in 0.325169 secs); 13 May 2004 00:04:33 -0000
X-Qmail-Scanner-Mail-From: jak-lucene-user@m.gmane.org via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(80.91.224.249):. Processed in 0.325169 secs)
Received: from unknown (HELO main.gmane.org) (80.91.224.249)
  by hermes.apache.org with SMTP; 13 May 2004 00:04:32 -0000
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1BO3hY-0004Bf-00
	for <lucene-user@jakarta.apache.org>; Thu, 13 May 2004 02:03:53 +0200
Received: from 203-173-46-157.dyn.iinet.net.au ([203.173.46.157])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Thu, 13 May 2004 02:03:52 +0200
Received: from gstamp by 203-173-46-157.dyn.iinet.net.au with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Thu, 13 May 2004 02:03:52 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: "Glen Stampoultzis" <gstamp@iinet.net.au>
Subject: Re: Mixing database and lucene searches
Date: Thu, 13 May 2004 10:03:48 +1000
Lines: 74
Message-ID: <c7ue15$2vs$1@sea.gmane.org>
References: <Sea2-F52BYhgG7bcU6a00027a7f@hotmail.com>
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: 203-173-46-157.dyn.iinet.net.au
X-MSMail-Priority: Normal
X-Newsreader: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Sender: news <news@sea.gmane.org>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think I follow what you're saying.  Thanks Phil.

Regards,

Glen

"Phil brunet" <philouchat@hotmail.com> wrote in message
news:Sea2-F52BYhgG7bcU6a00027a7f@hotmail.com...
> > > -- Snip --
> > > If you can't guaranty a fixed number of Lucene results (and it is
often
> >the > case !), a good way is to duplicate the last PK and so to  round to
a
> >fixed
> > > number.
> > >
> >
> >Hi... I'm not sure what you mean by that last bit.
> >
> >
>
> Hi ... i'm going to try to express myself correctly ... in english :-)
>
> We were talking about the need to cross Lucene results and DB results. And
> that it could be a good idea to execute a query like :
>
> SELECT *
> FROM my_table
> WHERE
>        <1st criteria >         // this criteria was not expressed in the
> Lucene query
> AND <2nd criteria>         // this criteria was not expressed in the
Lucene
> query
>
> AND  ....
> ....
> AND my_pk IN (pk_value_1, pk_value_2, .... pk_value_n);
>
> where pk_values have been previously retrieved by the Lucene query.
>
>
> In the JDBC statement, using bind variables is a good way to avoid useless
> query parsing time.
>
> But if the number of "pk_value" retrieved by the Lucene query is different
> for each query, using bind variables will not avoid the query parsing
time.
> Because the SQL "query signature" will be differente, so the rdbms will
need
> to parse the query again.
>
> To bypass this problem, you can "round" the number of b ind variable.
>
> For exemple, you know that your Lucene queries will retrieve ... let's say
> ... a maximum of 1000 results.
> Sometimes only one result is retieved => you have one pk_value
> Sometime  5 results are retrieved       => you have five pk_value
> Sometime .... etc
>
> I suggest that in each case, you duplicate the last pk_value in order to
> have always the same number of bind variables in the SQL statement.
>
> In my exemple, you will always have 1000 bind variables in the SQL
> statement, whatever you had one, five or n results.
>
> Especially for short SQL queries, avoiding parsing time is really precious
> (i work with Oracle DB- sic !)
>
> _________________________________________________________________
> MSN Search, le moteur de recherche qui pense comme vous !
> http://search.msn.fr/




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8264-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 01:27:22 2004
Return-Path: <lucene-user-return-8264-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25771 invoked from network); 13 May 2004 01:27:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 01:27:21 -0000
Received: (qmail 24501 invoked by uid 500); 13 May 2004 01:27:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24470 invoked by uid 500); 13 May 2004 01:27:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24453 invoked by uid 98); 13 May 2004 01:27:47 -0000
Received: from sebastianh@bii.a-star.edu.sg by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(202.6.243.8):. 
 Processed in 0.034778 secs); 13 May 2004 01:27:47 -0000
X-Qmail-Scanner-Mail-From: sebastianh@bii.a-star.edu.sg via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(202.6.243.8):. Processed in 0.034778 secs)
Received: from unknown (HELO smtp.bii-sg.org) (202.6.243.8)
  by hermes.apache.org with SMTP; 13 May 2004 01:27:47 -0000
Received: (qmail 10223 invoked from network); 13 May 2004 01:27:03 -0000
Received: from ip7-86-v366.it-group.bii (HELO ?10.217.7.86?) (10.217.7.86)
  by apps1.bii-sg.org with SMTP; 13 May 2004 01:27:02 -0000
Subject: clean up html before indexing or add tags to ignore list
From: Sebastian Ho <sebastianh@bii.a-star.edu.sg>
To: lucene-user@jakarta.apache.org
Content-Type: text/plain
Organization: 
Message-Id: <1084411542.14374.2.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5) 
Date: 13 May 2004 09:25:42 +0800
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

This is a typical web crawler, indexing and search application
development. I have wrote my crawler and planning to add lucene in next.
One questions pop to my mind, in terms of performance, do i clean up the
html removing all tags before indexing, or i add all tags into the
ignore list during indexing/search stage. 

Which is better?

Thanks

Sebastian Ho


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8265-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 03:12:41 2004
Return-Path: <lucene-user-return-8265-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74464 invoked from network); 13 May 2004 03:12:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 03:12:40 -0000
Received: (qmail 47546 invoked by uid 500); 13 May 2004 03:13:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47502 invoked by uid 500); 13 May 2004 03:13:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47472 invoked by uid 98); 13 May 2004 03:13:06 -0000
Received: from Lisheng.Zhang@broadvision.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(12.158.35.211):. 
 Processed in 0.024444 secs); 13 May 2004 03:13:06 -0000
X-Qmail-Scanner-Mail-From: Lisheng.Zhang@broadvision.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(12.158.35.211):. Processed in 0.024444 secs)
Received: from unknown (HELO psmtp.com) (12.158.35.211)
  by hermes.apache.org with SMTP; 13 May 2004 03:13:06 -0000
Received: from source ([139.56.4.14]) by exprod6ob1.obsmtp.com ([12.158.35.250]) with SMTP;
	Wed, 12 May 2004 20:12:25 PDT
Received: from triangulum1.broadvision.com (triangulum1.broadvision.com [10.10.102.100])
	by nebula3.broadvision.com (8.10.2+Sun/8.10.2) with ESMTP id i4D3AdW08755
	for <lucene-user@jakarta.apache.org>; Wed, 12 May 2004 20:10:39 -0700 (PDT)
Received: from rw-gw-02.BroadVision.com (localhost [127.0.0.1])
	by triangulum1.broadvision.com (8.9.3+Sun/8.9.3) with ESMTP id UAA00189
	for <lucene-user@jakarta.apache.org>; Wed, 12 May 2004 20:12:52 -0700 (PDT)
Received: by rw-gw-02.broadvision.com with Internet Mail Service (5.5.2655.55)
	id <2M62QW7R>; Wed, 12 May 2004 20:12:23 -0700
Message-ID: <8B1D2D7C0F3AD711A289000629383E66023C75B7@rw-msg-01.broadvision.com>
From: "Zhang, Lisheng" <Lisheng.Zhang@broadvision.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Cc: "Venkatraman, Shiv" <Shiv.Venkatraman@broadvision.com>
Subject: lucene-1.4-rc2 and JVM version
Date: Wed, 12 May 2004 20:12:22 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

We were starting to learn and use lucene about 3 weeks ago,
it is really a great product! Here we have some problems with
certain JVM versions (SUN jdk). We are using lucene-1.4-rc2 
on Solaris 2.8 platform:

(1) We have a program to index about 230 documents. If using
jdk1.4.1_02, our program often hanged at

IndexWriter.addDocument(doc);

At which document it hanges is essentially random.

My question is: is there any known issues with jdk1.4.1_02 and
lucene-1.4-rc2 (BUILD.txt said any jdk later than 1.2 is OK) ?

(2) We also found for some trivial search program, jdk1.3.0 would
crash, but jdk1.3.1_03 is OK (below I attached my search code).

If running on jdk1.3.0, I got the following message (at the line
calling IndexSearcher.search(...)):

#####################################################
# HotSpot Virtual Machine Error, Unexpected Signal 11
# Please report this error at
# http://java.sun.com/cgi-bin/bugreport.cgi
#
# Error ID: 4F533F534F4C415249530E435050079A 01
#
# Problematic Thread: prio=5 tid=0x29800 nid=0x1 runnable 
#####################################################

Is this a known problem with jdk1.3.0 ? The same program run
through with jdk1.3.1_03 fine.

I would really appreciate any help and guidance on these two
issues.

Best regards, Lisheng

##################################################
import java.io.*;

import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.document.*;
import org.apache.lucene.index.Term;
import org.apache.lucene.search.Searcher;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.search.Query;
import org.apache.lucene.search.Hits;
import org.apache.lucene.search.Sort;
import org.apache.lucene.queryParser.QueryParser;

class UrSearch {
  private static void log(String msg)
  {
    System.out.println(msg);
  }

  public static void main(String[] argv) 
  {
    try {
      Searcher searcher = new IndexSearcher("./myindex");
      Searcher[] searches = new Searcher[1];
      searches[0] = searcher;

      Analyzer analyzer = new StandardAnalyzer();

      Query query0 = simpleQuery(analyzer);

      log("Q=" + query0.toString());
      log("QueryClass=" + query0.getClass().toString());

      Sort sort = new Sort(); 

      // Crash on this line if jdk1.3.0 !!!
      Hits hits = searcher.search(query0, sort);

      log(hits.length() + " total matching documents");

      for(int i=0; i<hits.length(); i++) {
	Document doc = hits.doc(i);

        log("docid=" + doc.get("docid"));
        log("score=" + hits.score(i));
      }
      searcher.close();

    } catch (Exception ex) {
      log("EXTYPE: " + ex.getClass().getName());
      log("EXMSG: " + ex.getMessage());

      try {
        PrintWriter mout = new PrintWriter(new FileOutputStream("err.dat"),
true);
        ex.printStackTrace(mout);
      } catch(FileNotFoundException newex) {
        log("TERRIBLE: " + newex.getMessage());
        System.exit(0);
      }
    }
  }

  static Query simpleQuery(Analyzer analyzer)
    throws Exception
  {
    Query q1 = QueryParser.parse("iepeditorial", "all", analyzer);

    return q1;
  }
}
##################################################



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8266-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 03:14:22 2004
Return-Path: <lucene-user-return-8266-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75473 invoked from network); 13 May 2004 03:14:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 03:14:22 -0000
Received: (qmail 52853 invoked by uid 500); 13 May 2004 03:14:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52780 invoked by uid 500); 13 May 2004 03:14:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52747 invoked by uid 98); 13 May 2004 03:14:48 -0000
Received: from hui@triplehop.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.74.150.80):. 
 Processed in 0.017107 secs); 13 May 2004 03:14:48 -0000
X-Qmail-Scanner-Mail-From: hui@triplehop.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.74.150.80):. Processed in 0.017107 secs)
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com) (216.74.150.80)
  by hermes.apache.org with SMTP; 13 May 2004 03:14:47 -0000
Received: from hui2000 ([208.246.29.6]) by germany.prod.thop-ny.triplehop.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 12 May 2004 23:13:42 -0400
From: "hui" <hui@triplehop.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: index on SAN (storage area network)
Date: Wed, 12 May 2004 23:17:53 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <2E5AC0CA-A32F-11D8-8C30-000393A564E6@ehatchersolutions.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
thread-index: AcQ3O+i14QY1YwPSSDu513vO8KALgwBXEUpw
Message-ID: <GERMANYrXj7gC2DWpmy0000e1b5@germany.prod.thop-ny.triplehop.com>
X-OriginalArrivalTime: 13 May 2004 03:13:44.0140 (UTC) FILETIME=[4C69C0C0:01C43898]
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
I am getting "not a directory" error when doing search after I moved the
index from local to a SAN box. FSDirectory does not recognize the index
directory as a directory. Any idea? I use JDK142 and Lucene 1.3 final.

Creating the index works fine.

Regards,
hui



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8267-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 06:19:37 2004
Return-Path: <lucene-user-return-8267-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77859 invoked from network); 13 May 2004 06:19:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 06:19:37 -0000
Received: (qmail 21631 invoked by uid 500); 13 May 2004 06:20:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21590 invoked by uid 500); 13 May 2004 06:20:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21560 invoked by uid 98); 13 May 2004 06:20:01 -0000
Received: from burton@newsmonster.org by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(66.93.132.107):. 
 Processed in 0.58555 secs); 13 May 2004 06:20:01 -0000
X-Qmail-Scanner-Mail-From: burton@newsmonster.org via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(66.93.132.107):. Processed in 0.58555 secs)
Received: from unknown (HELO localhost.localdomain) (66.93.132.107)
  by hermes.apache.org with SMTP; 13 May 2004 06:20:00 -0000
Received: from newsmonster.org (localhost [127.0.0.1])
	by localhost.localdomain (8.12.8/8.12.8) with ESMTP id i4D6J9au006681
	for <lucene-user@jakarta.apache.org>; Wed, 12 May 2004 23:19:10 -0700
Message-ID: <40A3135D.4050803@newsmonster.org>
Date: Wed, 12 May 2004 23:19:09 -0700
From: Kevin Burton <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7b) Gecko/20040316
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Possible to fetch a document without all fields for performance?
X-Enigmail-Version: 0.84.0.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig5471B2BAF54FDC34693B5D05"
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------enig5471B2BAF54FDC34693B5D05
Content-Type: multipart/mixed;
 boundary="------------050901090108030603010306"

This is a multi-part message in MIME format.
--------------050901090108030603010306
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Say I have a query result for the term Linux... now I just want the 
TITLE of these documents not the BODY.

To further this scenario imagine the TITLE is 500 bytes but the  BODY is 
50M. 

The current impl of fetching a document will pull in ALL 50,000,500 
bytes not just the 500 that I need. 

Obviously if I could just get the TITLE field this would be a HUGE speedup.

Is there a somewhat simple and efficient way to get a document with a 
restricted set of fields?  Digging through the API it didnt' seem obvious.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------050901090108030603010306
Content-Type: text/x-vcard; charset=utf8;
 name="burton.vcf"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="burton.vcf"

begin:vcard
fn:Kevin Burton
n:Burton;Kevin
email;internet:burton@sofari.com
tel;work:415-595-9965
tel;home:415-595-9965
tel;cell:415-595-9965
x-mozilla-html:TRUE
version:2.1
end:vcard


--------------050901090108030603010306--

--------------enig5471B2BAF54FDC34693B5D05
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFAoxNd6E2NBJnxRBIRAurEAKDYr9fgyszSHcO9+pitwntgS442AACg3GSH
Z33200jSBcLneCtJA/CUPiw=
=G7jD
-----END PGP SIGNATURE-----

--------------enig5471B2BAF54FDC34693B5D05--

From lucene-user-return-8268-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 07:01:52 2004
Return-Path: <lucene-user-return-8268-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99418 invoked from network); 13 May 2004 07:01:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 07:01:52 -0000
Received: (qmail 62328 invoked by uid 500); 13 May 2004 07:02:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62182 invoked by uid 500); 13 May 2004 07:02:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62162 invoked by uid 98); 13 May 2004 07:02:18 -0000
Received: from morus@tanto-xipolis.de by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(213.61.178.42):. 
 Processed in 0.138201 secs); 13 May 2004 07:02:18 -0000
X-Qmail-Scanner-Mail-From: morus@tanto-xipolis.de via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(213.61.178.42):. Processed in 0.138201 secs)
Received: from unknown (HELO mail.tanto-xipolis.de) (213.61.178.42)
  by hermes.apache.org with SMTP; 13 May 2004 07:02:18 -0000
Received: from tucholsky.office.tanto.de (morus.xipolis.net [10.0.1.4])
	by mail.tanto-xipolis.de (Postfix on SuSE Linux 7.3 (i386)) with ESMTP id BDE8719B906
	for <lucene-user@jakarta.apache.org>; Thu, 13 May 2004 09:01:31 +0200 (CEST)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id i4D71VEw023444
	for <lucene-user@jakarta.apache.org>; Thu, 13 May 2004 09:01:31 +0200
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id i4D71Vo6023440;
	Thu, 13 May 2004 09:01:31 +0200
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16547.7499.576689.881216@tanto-xipolis.de>
Date: Thu, 13 May 2004 09:01:31 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Possible to fetch a document without all fields for performance?
In-Reply-To: <40A3135D.4050803@newsmonster.org>
References: <40A3135D.4050803@newsmonster.org>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin Burton writes:
> Say I have a query result for the term Linux... now I just want the 
> TITLE of these documents not the BODY.
> 
> To further this scenario imagine the TITLE is 500 bytes but the  BODY is 
> 50M. 
> 
> The current impl of fetching a document will pull in ALL 50,000,500 
> bytes not just the 500 that I need. 
> 
> Obviously if I could just get the TITLE field this would be a HUGE speedup.
> 
> Is there a somewhat simple and efficient way to get a document with a 
> restricted set of fields?  Digging through the API it didnt' seem obvious.
> 
I don't understand that.
You get the document object which does not contain the documents field
contents. It just provides access to this data.
It's up to you which fields you access.
And remember that you don't have to store fields at all, if you don't need 
to retrieve them (e.g. because the original documents are somewhere else). 

Morus



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8269-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 07:06:05 2004
Return-Path: <lucene-user-return-8269-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2266 invoked from network); 13 May 2004 07:06:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 07:06:04 -0000
Received: (qmail 78445 invoked by uid 500); 13 May 2004 07:06:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78408 invoked by uid 500); 13 May 2004 07:06:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78386 invoked by uid 98); 13 May 2004 07:06:30 -0000
Received: from karthik@controlnet.co.in by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.199.26.74):. 
 Processed in 0.567363 secs); 13 May 2004 07:06:30 -0000
X-Qmail-Scanner-Mail-From: karthik@controlnet.co.in via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.199.26.74):. Processed in 0.567363 secs)
Received: from unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by hermes.apache.org with SMTP; 13 May 2004 07:06:30 -0000
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HXN5K200.ULH for <lucene-user@jakarta.apache.org>; Thu,
          13 May 2004 12:46:50 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Possible to fetch a document without all fields for performance?
Date: Thu, 13 May 2004 12:43:02 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIOECKCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
In-Reply-To: <16547.7499.576689.881216@tanto-xipolis.de>
Importance: Normal
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hey
    Have a look at the  "org.apache.lucene.demo.html.Test.java" in Lucene
1.3 final
   u can strip out the Title or summary from the HTML Page and add it to
relative Index field.

Karthik

-----Original Message-----
From: Morus Walter [mailto:morus.walter@tanto.de]
Sent: Thursday, May 13, 2004 12:32 PM
To: Lucene Users List
Subject: Re: Possible to fetch a document without all fields for
performance?


Kevin Burton writes:
> Say I have a query result for the term Linux... now I just want the
> TITLE of these documents not the BODY.
>
> To further this scenario imagine the TITLE is 500 bytes but the  BODY is
> 50M.
>
> The current impl of fetching a document will pull in ALL 50,000,500
> bytes not just the 500 that I need.
>
> Obviously if I could just get the TITLE field this would be a HUGE
speedup.
>
> Is there a somewhat simple and efficient way to get a document with a
> restricted set of fields?  Digging through the API it didnt' seem obvious.
>
I don't understand that.
You get the document object which does not contain the documents field
contents. It just provides access to this data.
It's up to you which fields you access.
And remember that you don't have to store fields at all, if you don't need
to retrieve them (e.g. because the original documents are somewhere else).

Morus



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8270-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 08:18:21 2004
Return-Path: <lucene-user-return-8270-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62417 invoked from network); 13 May 2004 08:18:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 08:18:21 -0000
Received: (qmail 66703 invoked by uid 500); 13 May 2004 08:18:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66677 invoked by uid 500); 13 May 2004 08:18:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66651 invoked by uid 98); 13 May 2004 08:18:49 -0000
Received: from lists@klawitter.de by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(212.227.126.176):. 
 Processed in 0.03387 secs); 13 May 2004 08:18:49 -0000
X-Qmail-Scanner-Mail-From: lists@klawitter.de via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(212.227.126.176):. Processed in 0.03387 secs)
Received: from unknown (HELO moutng.kundenserver.de) (212.227.126.176)
  by hermes.apache.org with SMTP; 13 May 2004 08:18:49 -0000
Received: from [212.227.126.161] (helo=mrelayng.kundenserver.de)
	by moutng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1BOBPj-0003es-00
	for lucene-user@jakarta.apache.org; Thu, 13 May 2004 10:17:59 +0200
Received: from [145.254.178.176] (helo=puck.wire.klawitter.local)
	by mrelayng.kundenserver.de with asmtp (TLSv1:RC4-MD5:128)
	(Exim 3.35 #1)
	id 1BOBPi-0005FN-00
	for lucene-user@jakarta.apache.org; Thu, 13 May 2004 10:17:58 +0200
From: Holger Klawitter <lists@klawitter.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Possible to fetch a document without all fields for performance?
Date: Thu, 13 May 2004 09:10:27 +0200
User-Agent: KMail/1.5.4
References: <40A3135D.4050803@newsmonster.org>
In-Reply-To: <40A3135D.4050803@newsmonster.org>
MIME-Version: 1.0
Content-Type: Text/Plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Content-Description: clearsigned data
Content-Disposition: inline
Message-Id: <200405130910.32154.lists@klawitter.de>
X-Provags-ID: kundenserver.de abuse@kundenserver.de auth:c3f09bf0911098d231c83d2978ee4594
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

=2D----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

> Is there a somewhat simple and efficient way to get a document with a
> restricted set of fields?  Digging through the API it didnt' seem obvious.

You should probably store the "body" of the document outside Lucene. You ca=
n=20
add a field instead which contains some kind of pointer to the body itself.

Mit freundlichem Gru=DF / With kind regards
	Holger Klawitter
=2D --
lists <at> klawitter <dot> de
=2D----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.2 (GNU/Linux)

iD8DBQFAox9o1Xdt0HKSwgYRAvptAJ4nbXjKu1Tqp64djZwCUg4Jsi7FhgCghmhQ
VsP5qMYs48lflC0UjcoF/co=3D
=3DZQlx
=2D----END PGP SIGNATURE-----


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8271-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 09:28:53 2004
Return-Path: <lucene-user-return-8271-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7929 invoked from network); 13 May 2004 09:28:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 09:28:52 -0000
Received: (qmail 88220 invoked by uid 500); 13 May 2004 09:29:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88148 invoked by uid 500); 13 May 2004 09:29:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88130 invoked by uid 98); 13 May 2004 09:29:23 -0000
Received: from sebastianh@bii.a-star.edu.sg by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(202.6.243.8):. 
 Processed in 0.079919 secs); 13 May 2004 09:29:23 -0000
X-Qmail-Scanner-Mail-From: sebastianh@bii.a-star.edu.sg via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(202.6.243.8):. Processed in 0.079919 secs)
Received: from unknown (HELO smtp.bii-sg.org) (202.6.243.8)
  by hermes.apache.org with SMTP; 13 May 2004 09:29:23 -0000
Received: (qmail 2426 invoked from network); 13 May 2004 09:28:29 -0000
Received: from ip7-86-v366.it-group.bii (HELO ?10.217.7.86?) (10.217.7.86)
  by apps1.bii-sg.org with SMTP; 13 May 2004 09:28:29 -0000
Subject: Memory Requirements
From: Sebastian Ho <sebastianh@bii.a-star.edu.sg>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Content-Type: text/plain
Organization: 
Message-Id: <1084440427.14374.18.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5) 
Date: 13 May 2004 17:27:08 +0800
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

I noticed that  most users have +- 1G of RAM to run Lucene. Does anyone
have experiences running it on a 128MB or 256MB machine? 

http://jakarta.apache.org/lucene/docs/benchmarks.html

Advise on the performance will be great.

Sebastian Ho



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8272-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 10:47:00 2004
Return-Path: <lucene-user-return-8272-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51192 invoked from network); 13 May 2004 10:47:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 10:47:00 -0000
Received: (qmail 16026 invoked by uid 500); 13 May 2004 10:46:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15896 invoked by uid 500); 13 May 2004 10:46:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15859 invoked by uid 98); 13 May 2004 10:46:39 -0000
Received: from otis_gospodnetic@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.136.173.242):. 
 Processed in 0.025354 secs); 13 May 2004 10:46:39 -0000
X-Qmail-Scanner-Mail-From: otis_gospodnetic@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.136.173.242):. Processed in 0.025354 secs)
Received: from unknown (HELO web12705.mail.yahoo.com) (216.136.173.242)
  by hermes.apache.org with SMTP; 13 May 2004 10:46:39 -0000
Message-ID: <20040513104637.80278.qmail@web12705.mail.yahoo.com>
Received: from [194.152.216.244] by web12705.mail.yahoo.com via HTTP; Thu, 13 May 2004 03:46:37 PDT
Date: Thu, 13 May 2004 03:46:37 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: clean up html before indexing or add tags to ignore list
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1084411542.14374.2.camel@localhost.localdomain>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Clean up seems cleaner.  Just extract the textual information from HTML
using NekoHTML or JTidy or HTMLParser (.sf.net) or some such.

You can also get fancy and preserve the 'structural' information (e.g.
H1 text is more important that H2, which is more important than BODY,
which is more important that DIV, etc.) and combine it with field
boosting at index time.

Otis

--- Sebastian Ho <sebastianh@bii.a-star.edu.sg> wrote:
> Hi
> 
> This is a typical web crawler, indexing and search application
> development. I have wrote my crawler and planning to add lucene in
> next.
> One questions pop to my mind, in terms of performance, do i clean up
> the
> html removing all tags before indexing, or i add all tags into the
> ignore list during indexing/search stage. 
> 
> Which is better?
> 
> Thanks
> 
> Sebastian Ho
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8273-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 10:48:06 2004
Return-Path: <lucene-user-return-8273-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51897 invoked from network); 13 May 2004 10:48:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 10:48:06 -0000
Received: (qmail 22124 invoked by uid 500); 13 May 2004 10:47:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22020 invoked by uid 500); 13 May 2004 10:47:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22001 invoked by uid 98); 13 May 2004 10:47:55 -0000
Received: from otis_gospodnetic@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.136.173.243):. 
 Processed in 0.01908 secs); 13 May 2004 10:47:55 -0000
X-Qmail-Scanner-Mail-From: otis_gospodnetic@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.136.173.243):. Processed in 0.01908 secs)
Received: from unknown (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by hermes.apache.org with SMTP; 13 May 2004 10:47:55 -0000
Message-ID: <20040513104755.91593.qmail@web12706.mail.yahoo.com>
Received: from [194.152.216.244] by web12706.mail.yahoo.com via HTTP; Thu, 13 May 2004 03:47:55 PDT
Date: Thu, 13 May 2004 03:47:55 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Memory Requirements
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1084440427.14374.18.camel@localhost.localdomain>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I do :)

Those users that you mention all seem to have large indices.  If your
index is small, you won't need much RAM for Lucene.

Otis

--- Sebastian Ho <sebastianh@bii.a-star.edu.sg> wrote:
> Hi
> 
> I noticed that  most users have +- 1G of RAM to run Lucene. Does
> anyone
> have experiences running it on a 128MB or 256MB machine? 
> 
> http://jakarta.apache.org/lucene/docs/benchmarks.html
> 
> Advise on the performance will be great.
> 
> Sebastian Ho
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8274-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 10:50:44 2004
Return-Path: <lucene-user-return-8274-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53435 invoked from network); 13 May 2004 10:50:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 10:50:44 -0000
Received: (qmail 33937 invoked by uid 500); 13 May 2004 10:50:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33859 invoked by uid 500); 13 May 2004 10:50:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33782 invoked by uid 98); 13 May 2004 10:50:35 -0000
Received: from otis_gospodnetic@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.136.173.240):. 
 Processed in 0.018454 secs); 13 May 2004 10:50:35 -0000
X-Qmail-Scanner-Mail-From: otis_gospodnetic@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.136.173.240):. Processed in 0.018454 secs)
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by hermes.apache.org with SMTP; 13 May 2004 10:50:35 -0000
Message-ID: <20040513105034.24620.qmail@web12703.mail.yahoo.com>
Received: from [194.152.216.244] by web12703.mail.yahoo.com via HTTP; Thu, 13 May 2004 03:50:34 PDT
Date: Thu, 13 May 2004 03:50:34 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: index on SAN (storage area network)
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <GERMANYrXj7gC2DWpmy0000e1b5@germany.prod.thop-ny.triplehop.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

My guess would be that you just have a wrong path to the index
directory somewhere.  You can add your own checks to your own code,
before you create IndexSearcher/Reader.

Something like:
if (new File(/path/to/your/index/dir).isDirectory()) - ok, else not ok
;)

Otis

--- hui <hui@triplehop.com> wrote:
> Hi,
> I am getting "not a directory" error when doing search after I moved
> the
> index from local to a SAN box. FSDirectory does not recognize the
> index
> directory as a directory. Any idea? I use JDK142 and Lucene 1.3
> final.
> 
> Creating the index works fine.
> 
> Regards,
> hui
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8275-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 10:55:14 2004
Return-Path: <lucene-user-return-8275-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56404 invoked from network); 13 May 2004 10:55:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 10:55:14 -0000
Received: (qmail 49400 invoked by uid 500); 13 May 2004 10:54:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49221 invoked by uid 500); 13 May 2004 10:54:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49105 invoked by uid 98); 13 May 2004 10:54:48 -0000
Received: from otis_gospodnetic@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.136.173.244):. 
 Processed in 0.141626 secs); 13 May 2004 10:54:48 -0000
X-Qmail-Scanner-Mail-From: otis_gospodnetic@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.136.173.244):. Processed in 0.141626 secs)
Received: from unknown (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by hermes.apache.org with SMTP; 13 May 2004 10:54:46 -0000
Message-ID: <20040513105444.61892.qmail@web12707.mail.yahoo.com>
Received: from [194.152.216.244] by web12707.mail.yahoo.com via HTTP; Thu, 13 May 2004 03:54:44 PDT
Date: Thu, 13 May 2004 03:54:44 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: lucene-1.4-rc2 and JVM version
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Cc: "Venkatraman, Shiv" <Shiv.Venkatraman@broadvision.com>
In-Reply-To: <8B1D2D7C0F3AD711A289000629383E66023C75B7@rw-msg-01.broadvision.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Signal 11 :)  Sounds familiar.  From what I remember, signal 11 tends
to be the sign of hardware problems.
Your code seems ok.  One thing I wouldn't do is to use a relative
directory in IndexSearcher constructor, without making sure it does
what you think it does (what does it do?  Does it use the directory
from which the class was invoked as the base?).

Since you are using a 1.4 release candidate, I would also just get the
latest one, which is only a few days old, and contains several
important fixes.

Otis


--- "Zhang, Lisheng" <Lisheng.Zhang@broadvision.com> wrote:
> Hi,
> 
> We were starting to learn and use lucene about 3 weeks ago,
> it is really a great product! Here we have some problems with
> certain JVM versions (SUN jdk). We are using lucene-1.4-rc2 
> on Solaris 2.8 platform:
> 
> (1) We have a program to index about 230 documents. If using
> jdk1.4.1_02, our program often hanged at
> 
> IndexWriter.addDocument(doc);
> 
> At which document it hanges is essentially random.
> 
> My question is: is there any known issues with jdk1.4.1_02 and
> lucene-1.4-rc2 (BUILD.txt said any jdk later than 1.2 is OK) ?
> 
> (2) We also found for some trivial search program, jdk1.3.0 would
> crash, but jdk1.3.1_03 is OK (below I attached my search code).
> 
> If running on jdk1.3.0, I got the following message (at the line
> calling IndexSearcher.search(...)):
> 
> #####################################################
> # HotSpot Virtual Machine Error, Unexpected Signal 11
> # Please report this error at
> # http://java.sun.com/cgi-bin/bugreport.cgi
> #
> # Error ID: 4F533F534F4C415249530E435050079A 01
> #
> # Problematic Thread: prio=5 tid=0x29800 nid=0x1 runnable 
> #####################################################
> 
> Is this a known problem with jdk1.3.0 ? The same program run
> through with jdk1.3.1_03 fine.
> 
> I would really appreciate any help and guidance on these two
> issues.
> 
> Best regards, Lisheng
> 
> ##################################################
> import java.io.*;
> 
> import org.apache.lucene.analysis.Analyzer;
> import org.apache.lucene.analysis.standard.StandardAnalyzer;
> import org.apache.lucene.document.*;
> import org.apache.lucene.index.Term;
> import org.apache.lucene.search.Searcher;
> import org.apache.lucene.search.IndexSearcher;
> import org.apache.lucene.search.Query;
> import org.apache.lucene.search.Hits;
> import org.apache.lucene.search.Sort;
> import org.apache.lucene.queryParser.QueryParser;
> 
> class UrSearch {
>   private static void log(String msg)
>   {
>     System.out.println(msg);
>   }
> 
>   public static void main(String[] argv) 
>   {
>     try {
>       Searcher searcher = new IndexSearcher("./myindex");
>       Searcher[] searches = new Searcher[1];
>       searches[0] = searcher;
> 
>       Analyzer analyzer = new StandardAnalyzer();
> 
>       Query query0 = simpleQuery(analyzer);
> 
>       log("Q=" + query0.toString());
>       log("QueryClass=" + query0.getClass().toString());
> 
>       Sort sort = new Sort(); 
> 
>       // Crash on this line if jdk1.3.0 !!!
>       Hits hits = searcher.search(query0, sort);
> 
>       log(hits.length() + " total matching documents");
> 
>       for(int i=0; i<hits.length(); i++) {
> 	Document doc = hits.doc(i);
> 
>         log("docid=" + doc.get("docid"));
>         log("score=" + hits.score(i));
>       }
>       searcher.close();
> 
>     } catch (Exception ex) {
>       log("EXTYPE: " + ex.getClass().getName());
>       log("EXMSG: " + ex.getMessage());
> 
>       try {
>         PrintWriter mout = new PrintWriter(new
> FileOutputStream("err.dat"),
> true);
>         ex.printStackTrace(mout);
>       } catch(FileNotFoundException newex) {
>         log("TERRIBLE: " + newex.getMessage());
>         System.exit(0);
>       }
>     }
>   }
> 
>   static Query simpleQuery(Analyzer analyzer)
>     throws Exception
>   {
>     Query q1 = QueryParser.parse("iepeditorial", "all", analyzer);
> 
>     return q1;
>   }
> }
> ##################################################
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8276-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 10:55:46 2004
Return-Path: <lucene-user-return-8276-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56706 invoked from network); 13 May 2004 10:55:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 10:55:45 -0000
Received: (qmail 53699 invoked by uid 500); 13 May 2004 10:55:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53659 invoked by uid 500); 13 May 2004 10:55:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53644 invoked by uid 98); 13 May 2004 10:55:36 -0000
Received: from matt@ctx.com.au by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(66.216.98.59):. 
 Processed in 0.106024 secs); 13 May 2004 10:55:36 -0000
X-Qmail-Scanner-Mail-From: matt@ctx.com.au via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(66.216.98.59):. Processed in 0.106024 secs)
Received: from unknown (HELO rs9.luxsci.com) (66.216.98.59)
  by hermes.apache.org with SMTP; 13 May 2004 10:55:36 -0000
Received: from [192.168.70.246] (ppp152-16.lns1.cbr1.internode.on.net [150.101.152.16])
	(authenticated bits=0)
	by rs9.luxsci.com (8.12.11/8.12.10) with ESMTP id i4DAtXQi005501
	for <lucene-user@jakarta.apache.org>; Thu, 13 May 2004 05:55:34 -0500
Message-ID: <40A35475.1050204@ctx.com.au>
Date: Thu, 13 May 2004 20:56:53 +1000
From: Matt Quail <matt@ctx.com.au>
User-Agent: Mozilla Thunderbird 0.6 (Windows/20040502)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Memory Requirements
References: <1084440427.14374.18.camel@localhost.localdomain>
In-Reply-To: <1084440427.14374.18.camel@localhost.localdomain>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> I noticed that  most users have +- 1G of RAM to run Lucene. Does anyone
> have experiences running it on a 128MB or 256MB machine? 

I regularly test my app that uses Lucene by passing -Xmx8m to the JVM;
this is on a box with 1G of ram, but the JVM never more than 8M. My app
runs fine (though there is a little more garbage collection activity).

=Matt





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8277-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 11:18:49 2004
Return-Path: <lucene-user-return-8277-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68400 invoked from network); 13 May 2004 11:18:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 11:18:48 -0000
Received: (qmail 27899 invoked by uid 500); 13 May 2004 11:18:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27868 invoked by uid 500); 13 May 2004 11:18:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27837 invoked by uid 98); 13 May 2004 11:18:41 -0000
Received: from sascha.ottolski@gallileus.de by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(213.133.111.100):. 
 Processed in 0.083708 secs); 13 May 2004 11:18:41 -0000
X-Qmail-Scanner-Mail-From: sascha.ottolski@gallileus.de via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(213.133.111.100):. Processed in 0.083708 secs)
Received: from unknown (HELO www.gallileus.info) (213.133.111.100)
  by hermes.apache.org with SMTP; 13 May 2004 11:18:40 -0000
Received: from sascha.gallileus.local (pD9E72E01.dip.t-dialin.net [217.231.46.1])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by www.gallileus.info (Postfix) with ESMTP id 8B4F210084C
	for <lucene-user@jakarta.apache.org>; Thu, 13 May 2004 13:18:13 +0200 (CEST)
From: Sascha Ottolski <sascha.ottolski@gallileus.de>
Organization: Gallileus GmbH
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Memory Requirements
Date: Thu, 13 May 2004 13:17:43 +0200
User-Agent: KMail/1.6.2
References: <1084440427.14374.18.camel@localhost.localdomain> <40A35475.1050204@ctx.com.au>
In-Reply-To: <40A35475.1050204@ctx.com.au>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Message-Id: <200405131317.43944.sascha.ottolski@gallileus.de>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Am Donnerstag, 13. Mai 2004 12:56 schrieb Matt Quail:
> > I noticed that  most users have +- 1G of RAM to run Lucene. Does
> > anyone have experiences running it on a 128MB or 256MB machine?
>
> I regularly test my app that uses Lucene by passing -Xmx8m to the
> JVM; this is on a box with 1G of ram, but the JVM never more than 8M.
> My app runs fine (though there is a little more garbage collection
> activity).

do you know of any method to reduce the memory consumption of lucene=20
when searching? I've just increased from 400 to --Xmx500m, since=20
sometimes OutOfMemoryExceptions occured (running suns java 1.4.2_04 and=20
lucene-1.4rc3 on an index with ca. 18 Mio entries, building an index=20
(including stored-only-fields) of 9 GB).

I've seen that there are ways to limit the memory need for indexing and=20
optimizing(?) by reducing the MergeFactor, but that doesn't seem to=20
apply for searching :-(

Thanks,

Sascha

>
> =3DMatt
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


Mit freundlichen Gr=FCssen,

Sascha Ottolski


=2D-=20
Gallileus - the power of knowledge

Gallileus GmbH                    http://www.gallileus.info/

Pintschstra=DFe 16                  fon +49-(0)30-41 93 43 43
10249 Berlin                      fax +49-(0)30-41 93 43 45
Germany



++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
AKTUELLER HINWEIS (Mai 2004)

Literatur Alerts - Literatursuche (wie) im Schlaf!

Ab jetzt mehr dazu unter:
http://www.gallileus.info/gallileus/about/products/alerts/
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8278-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 11:34:49 2004
Return-Path: <lucene-user-return-8278-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76656 invoked from network); 13 May 2004 11:34:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 11:34:49 -0000
Received: (qmail 75285 invoked by uid 500); 13 May 2004 11:34:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75261 invoked by uid 500); 13 May 2004 11:34:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75245 invoked by uid 98); 13 May 2004 11:34:44 -0000
Received: from matt@ctx.com.au by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(66.216.98.59):. 
 Processed in 0.020091 secs); 13 May 2004 11:34:44 -0000
X-Qmail-Scanner-Mail-From: matt@ctx.com.au via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(66.216.98.59):. Processed in 0.020091 secs)
Received: from unknown (HELO rs9.luxsci.com) (66.216.98.59)
  by hermes.apache.org with SMTP; 13 May 2004 11:34:44 -0000
Received: from [192.168.70.246] (ppp152-16.lns1.cbr1.internode.on.net [150.101.152.16])
	(authenticated bits=0)
	by rs9.luxsci.com (8.12.11/8.12.10) with ESMTP id i4DBYeAF010767
	for <lucene-user@jakarta.apache.org>; Thu, 13 May 2004 06:34:41 -0500
Message-ID: <40A35DA0.40702@ctx.com.au>
Date: Thu, 13 May 2004 21:36:00 +1000
From: Matt Quail <matt@ctx.com.au>
User-Agent: Mozilla Thunderbird 0.6 (Windows/20040502)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Memory Requirements
References: <1084440427.14374.18.camel@localhost.localdomain> <40A35475.1050204@ctx.com.au> <200405131317.43944.sascha.ottolski@gallileus.de>
In-Reply-To: <200405131317.43944.sascha.ottolski@gallileus.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> do you know of any method to reduce the memory consumption of lucene 
> when searching?

It depends on the complexity of the search, I think. Also, I belive 
scoring might use more memory than the search itself (can anyone confirm 
this?). For example, I often use the HitCollector interface (and a 
BitSet) for queries where I  am not interested in the score.

Apart from that, I'm not aware of any other methods for reducing the 
memory consumption.

=Matt

Sascha Ottolski wrote:

> Am Donnerstag, 13. Mai 2004 12:56 schrieb Matt Quail:
> 
>>>I noticed that  most users have +- 1G of RAM to run Lucene. Does
>>>anyone have experiences running it on a 128MB or 256MB machine?
>>
>>I regularly test my app that uses Lucene by passing -Xmx8m to the
>>JVM; this is on a box with 1G of ram, but the JVM never more than 8M.
>>My app runs fine (though there is a little more garbage collection
>>activity).
> 
> 
> do you know of any method to reduce the memory consumption of lucene 
> when searching? I've just increased from 400 to --Xmx500m, since 
> sometimes OutOfMemoryExceptions occured (running suns java 1.4.2_04 and 
> lucene-1.4rc3 on an index with ca. 18 Mio entries, building an index 
> (including stored-only-fields) of 9 GB).
> 
> I've seen that there are ways to limit the memory need for indexing and 
> optimizing(?) by reducing the MergeFactor, but that doesn't seem to 
> apply for searching :-(
> 
> Thanks,
> 
> Sascha
> 
> 
>>=Matt
>>
>>
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> Mit freundlichen Grssen,
> 
> Sascha Ottolski
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8279-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 13:15:38 2004
Return-Path: <lucene-user-return-8279-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43653 invoked from network); 13 May 2004 13:15:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 13:15:37 -0000
Received: (qmail 68783 invoked by uid 500); 13 May 2004 13:14:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68606 invoked by uid 500); 13 May 2004 13:14:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68449 invoked by uid 98); 13 May 2004 13:14:44 -0000
Received: from Julien.Nioche@lingway.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(213.56.31.25):. 
 Processed in 0.227128 secs); 13 May 2004 13:14:44 -0000
X-Qmail-Scanner-Mail-From: Julien.Nioche@lingway.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(213.56.31.25):. Processed in 0.227128 secs)
Received: from unknown (HELO smtp5.clb.oleane.net) (213.56.31.25)
  by hermes.apache.org with SMTP; 13 May 2004 13:14:42 -0000
Received: from teck ([217.167.130.37]) (authenticated)
	by smtp5.clb.oleane.net with ESMTP id i4DDEWOX004249
	for <lucene-user@jakarta.apache.org>; Thu, 13 May 2004 15:14:33 +0200
Message-ID: <004201c438ec$5bb01440$6a0010ac@teck>
From: "Julien Nioche" <Julien.Nioche@lingway.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <1084440427.14374.18.camel@localhost.localdomain> <40A35475.1050204@ctx.com.au> <200405131317.43944.sascha.ottolski@gallileus.de> <40A35DA0.40702@ctx.com.au>
Subject: Re: Memory Requirements
Date: Thu, 13 May 2004 15:15:25 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2720.3000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

An important part of the memory is used when accessing information about
Terms. A lot of Term objects are temporarily created.
In average (and for an usual index) 64 Term objects are created for every
Term information searched. Depending on your queries this may not be a real
issue, but if you have very complex query this could be important.

The TermInfoWriter object has a field called indexinterval. By modifying it
more Terms will be stored in memory but temporary creation of Term objects
should be reduced. Performance may be a little bit improved as well because
disk access is limited + less garbage collecting

/** Expert: The fraction of terms in the "dictionary" which should be stored
* in RAM. Smaller values use more memory, but make searching slightly

* faster, while larger values use less memory and make searching slightly

* slower. Searching is typically not dominated by dictionary lookup, so

* tweaking this is rarely useful.*/

int indexInterval = 128;

--------------------------








----- Original Message -----
From: "Matt Quail" <matt@ctx.com.au>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, May 13, 2004 1:36 PM
Subject: Re: Memory Requirements


> > do you know of any method to reduce the memory consumption of lucene
> > when searching?
>
> It depends on the complexity of the search, I think. Also, I belive
> scoring might use more memory than the search itself (can anyone confirm
> this?). For example, I often use the HitCollector interface (and a
> BitSet) for queries where I  am not interested in the score.
>
> Apart from that, I'm not aware of any other methods for reducing the
> memory consumption.
>
> =Matt
>
> Sascha Ottolski wrote:
>
> > Am Donnerstag, 13. Mai 2004 12:56 schrieb Matt Quail:
> >
> >>>I noticed that  most users have +- 1G of RAM to run Lucene. Does
> >>>anyone have experiences running it on a 128MB or 256MB machine?
> >>
> >>I regularly test my app that uses Lucene by passing -Xmx8m to the
> >>JVM; this is on a box with 1G of ram, but the JVM never more than 8M.
> >>My app runs fine (though there is a little more garbage collection
> >>activity).
> >
> >
> > do you know of any method to reduce the memory consumption of lucene
> > when searching? I've just increased from 400 to --Xmx500m, since
> > sometimes OutOfMemoryExceptions occured (running suns java 1.4.2_04 and
> > lucene-1.4rc3 on an index with ca. 18 Mio entries, building an index
> > (including stored-only-fields) of 9 GB).
> >
> > I've seen that there are ways to limit the memory need for indexing and
> > optimizing(?) by reducing the MergeFactor, but that doesn't seem to
> > apply for searching :-(
> >
> > Thanks,
> >
> > Sascha
> >
> >
> >>=Matt
> >>
> >>
> >>
> >>
> >>
> >>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> >
> > Mit freundlichen Grssen,
> >
> > Sascha Ottolski
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8280-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 13:25:58 2004
Return-Path: <lucene-user-return-8280-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58938 invoked from network); 13 May 2004 13:25:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 13:25:57 -0000
Received: (qmail 30359 invoked by uid 500); 13 May 2004 13:25:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30299 invoked by uid 500); 13 May 2004 13:25:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30283 invoked by uid 98); 13 May 2004 13:25:51 -0000
Received: from vauchers@cirano.qc.ca by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(207.162.57.26):. 
 Processed in 0.203221 secs); 13 May 2004 13:25:51 -0000
X-Qmail-Scanner-Mail-From: vauchers@cirano.qc.ca via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(207.162.57.26):. Processed in 0.203221 secs)
Received: from unknown (HELO hercule.cirano.qc.ca) (207.162.57.26)
  by hermes.apache.org with SMTP; 13 May 2004 13:25:51 -0000
Received: from localhost (vauchers@localhost)
	by hercule.cirano.qc.ca (8.11.6/8.11.0) with ESMTP id i4DDPgX10613
	for <lucene-user@jakarta.apache.org>; Thu, 13 May 2004 09:25:43 -0400
X-Authentication-Warning: hercule.cirano.qc.ca: vauchers owned process doing -bs
Date: Thu, 13 May 2004 09:25:42 -0400 (EDT)
From: Stephane James Vaucher <vauchers@cirano.qc.ca>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Memory Requirements
In-Reply-To: <40A35DA0.40702@ctx.com.au>
Message-ID: <Pine.LNX.4.33.0405130919310.10491-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thu, 13 May 2004, Matt Quail wrote:

> > do you know of any method to reduce the memory consumption of lucene
> > when searching?
>
> It depends on the complexity of the search, I think. Also, I belive
> scoring might use more memory than the search itself (can anyone confirm
> this?). For example, I often use the HitCollector interface (and a
> BitSet) for queries where I  am not interested in the score.
>
> Apart from that, I'm not aware of any other methods for reducing the
> memory consumption.

Avoid prefix queries and wildcards, since they can be rewritten into large
boolean queries. You can limit the rewritting with a maximum number of
clauses in a BooleanQuery to prevent requests from taking too much memory.

> =Matt
>
> Sascha Ottolski wrote:
>
> > Am Donnerstag, 13. Mai 2004 12:56 schrieb Matt Quail:
> >
> >>>I noticed that  most users have +- 1G of RAM to run Lucene. Does
> >>>anyone have experiences running it on a 128MB or 256MB machine?
> >>
> >>I regularly test my app that uses Lucene by passing -Xmx8m to the
> >>JVM; this is on a box with 1G of ram, but the JVM never more than 8M.
> >>My app runs fine (though there is a little more garbage collection
> >>activity).
> >
> >
> > do you know of any method to reduce the memory consumption of lucene
> > when searching? I've just increased from 400 to --Xmx500m, since
> > sometimes OutOfMemoryExceptions occured (running suns java 1.4.2_04 and
> > lucene-1.4rc3 on an index with ca. 18 Mio entries, building an index
> > (including stored-only-fields) of 9 GB).
> >
> > I've seen that there are ways to limit the memory need for indexing and
> > optimizing(?) by reducing the MergeFactor, but that doesn't seem to
> > apply for searching :-(
> >
> > Thanks,
> >
> > Sascha
> >
> >
> >>=Matt

sv


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8281-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 13:59:20 2004
Return-Path: <lucene-user-return-8281-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85724 invoked from network); 13 May 2004 13:59:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 13:59:20 -0000
Received: (qmail 62231 invoked by uid 500); 13 May 2004 13:59:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62180 invoked by uid 500); 13 May 2004 13:59:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62098 invoked by uid 98); 13 May 2004 13:59:09 -0000
Received: from Eric.Isakson@sas.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(149.173.6.17):. 
 Processed in 0.217577 secs); 13 May 2004 13:59:09 -0000
X-Qmail-Scanner-Mail-From: Eric.Isakson@sas.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(149.173.6.17):. Processed in 0.217577 secs)
Received: from unknown (HELO merc94.na.sas.com) (149.173.6.17)
  by hermes.apache.org with SMTP; 13 May 2004 13:59:08 -0000
Received: from MERC23.na.sas.com ([10.19.9.179]) by merc94.na.sas.com with InterScan Messaging Security Suite; Thu, 13 May 2004 09:58:57 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C438F2.6FB5E22A"
Subject: RE: IndexSearcher on JAR resources?
Date: Thu, 13 May 2004 09:58:58 -0400
Message-ID: <38BCC8D26B88894DB8D921BD95121CAC099323@MERC23.na.sas.com>
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
Thread-Topic: IndexSearcher on JAR resources?
Thread-Index: AcQ0Urzvppyn5WKZSQq/Z1kSRAQvQAEnm0Qw
From: "Eric Isakson" <Eric.Isakson@sas.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C438F2.6FB5E22A
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

This isn't exactly what you were asking for and I know it is a somewhat =
ugly way to implement this (violates some OO rules by having knowledge =
of RAMDirectory internal implementation) but I thought it might be of =
use to some folks and/or might provide a starting point for someone else =
to try and tackle this.

It provides a mechanism for getting a RAMDirectory for an index stored =
on your classpath provided that you know the names of the files that =
comprise the index using ClassLoader.getResource

The test class creates an index, puts it in a jar, adds the jar to a =
class loader, then reads the index from the jar via the class loader =
into a RAMDirectory.

Eric

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Sent: Friday, May 07, 2004 9:21 AM
To: Lucene Users List
Subject: Re: IndexSearcher on JAR resources?


On May 7, 2004, at 6:14 AM, Edin Pezerovic wrote:
> Hi,
> I found following entry within the mail-archives:
>
> http://www.mail-archive.com/lucene-user@jakarta.apache.org/
> msg02129.html
>
>
> Is there now (2 years ago) a possibility to have the index within a=20
> jar-file?

Someone posted something like this at one point, but ironically I =20
cannot _find_ it.  I definitely would be interested in having something  =

like this handy.

If anyone has pointers to the implementations posted, please let us =20
know.

Thanks,
	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



------_=_NextPart_001_01C438F2.6FB5E22A
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------_=_NextPart_001_01C438F2.6FB5E22A--

From lucene-user-return-8282-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 16:05:45 2004
Return-Path: <lucene-user-return-8282-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89740 invoked from network); 13 May 2004 16:05:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 16:05:44 -0000
Received: (qmail 81532 invoked by uid 500); 13 May 2004 16:05:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81464 invoked by uid 500); 13 May 2004 16:05:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81445 invoked by uid 98); 13 May 2004 16:05:49 -0000
Received: from goodell@gmail.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(64.233.170.193):. 
 Processed in 0.167842 secs); 13 May 2004 16:05:49 -0000
X-Qmail-Scanner-Mail-From: goodell@gmail.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(64.233.170.193):. Processed in 0.167842 secs)
Received: from unknown (HELO mproxy.gmail.com) (64.233.170.193)
  by hermes.apache.org with SMTP; 13 May 2004 16:05:48 -0000
Received: by mproxy.gmail.com with SMTP id 72so2690rnf
        for <lucene-user@jakarta.apache.org>; Thu, 13 May 2004 09:05:29 -0700 (PDT)
Received: by 10.11.118.10 with SMTP id q10mr57810cwc;
        Thu, 13 May 2004 09:05:29 -0700 (PDT)
Message-ID: <55b2c6b904051309052d8588bf@mail.gmail.com>
Date: Thu, 13 May 2004 09:05:29 -0700
From: Andy Goodell <goodell@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: clean up html before indexing or add tags to ignore list
In-Reply-To: <20040513104637.80278.qmail@web12705.mail.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <20040513104637.80278.qmail@web12705.mail.yahoo.com>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If you are running linux, i recommend before indexing with lucene, you
use the program lynx with the option -dump which dumps the formatted
text without the tags, and runs really really fast in most cases.

- andy g

On Thu, 13 May 2004 03:46:37 -0700 (PDT), Otis Gospodnetic
<otis_gospodnetic@yahoo.com> wrote:
> 
> Clean up seems cleaner.  Just extract the textual information from HTML
> using NekoHTML or JTidy or HTMLParser (.sf.net) or some such.
> 
> You can also get fancy and preserve the 'structural' information (e.g.
> H1 text is more important that H2, which is more important than BODY,
> which is more important that DIV, etc.) and combine it with field
> boosting at index time.
> 
> Otis
> 
> 
> 
> --- Sebastian Ho <sebastianh@bii.a-star.edu.sg> wrote:
> > Hi
> >
> > This is a typical web crawler, indexing and search application
> > development. I have wrote my crawler and planning to add lucene in
> > next.
> > One questions pop to my mind, in terms of performance, do i clean up
> > the
> > html removing all tags before indexing, or i add all tags into the
> > ignore list during indexing/search stage.
> >
> > Which is better?
> >
> > Thanks
> >
> > Sebastian Ho
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8283-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 17:57:43 2004
Return-Path: <lucene-user-return-8283-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67954 invoked from network); 13 May 2004 17:57:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 17:57:43 -0000
Received: (qmail 37692 invoked by uid 500); 13 May 2004 17:57:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37635 invoked by uid 500); 13 May 2004 17:57:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37611 invoked by uid 98); 13 May 2004 17:57:55 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(128.143.171.250):. 
 Processed in 0.03278 secs); 13 May 2004 17:57:55 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(128.143.171.250):. Processed in 0.03278 secs)
Received: from unknown (HELO postfix.mail.ehatchersolutions.com) (128.143.171.250)
  by hermes.apache.org with SMTP; 13 May 2004 17:57:55 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 5F3EC70026B
	for <lucene-user@jakarta.apache.org>; Thu, 13 May 2004 13:57:36 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <55b2c6b904051309052d8588bf@mail.gmail.com>
References: <20040513104637.80278.qmail@web12705.mail.yahoo.com> <55b2c6b904051309052d8588bf@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <03D0BEF5-A507-11D8-A43D-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: clean up html before indexing or add tags to ignore list
Date: Thu, 13 May 2004 13:57:35 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Lynx rulez!

	<http://www.blogscene.org/erik?q=lynx>


On May 13, 2004, at 12:05 PM, Andy Goodell wrote:

> If you are running linux, i recommend before indexing with lucene, you
> use the program lynx with the option -dump which dumps the formatted
> text without the tags, and runs really really fast in most cases.
>
> - andy g
>
> On Thu, 13 May 2004 03:46:37 -0700 (PDT), Otis Gospodnetic
> <otis_gospodnetic@yahoo.com> wrote:
>>
>> Clean up seems cleaner.  Just extract the textual information from 
>> HTML
>> using NekoHTML or JTidy or HTMLParser (.sf.net) or some such.
>>
>> You can also get fancy and preserve the 'structural' information (e.g.
>> H1 text is more important that H2, which is more important than BODY,
>> which is more important that DIV, etc.) and combine it with field
>> boosting at index time.
>>
>> Otis
>>
>>
>>
>> --- Sebastian Ho <sebastianh@bii.a-star.edu.sg> wrote:
>>> Hi
>>>
>>> This is a typical web crawler, indexing and search application
>>> development. I have wrote my crawler and planning to add lucene in
>>> next.
>>> One questions pop to my mind, in terms of performance, do i clean up
>>> the
>>> html removing all tags before indexing, or i add all tags into the
>>> ignore list during indexing/search stage.
>>>
>>> Which is better?
>>>
>>> Thanks
>>>
>>> Sebastian Ho
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8284-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 19:38:14 2004
Return-Path: <lucene-user-return-8284-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43341 invoked from network); 13 May 2004 19:38:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 19:38:14 -0000
Received: (qmail 20402 invoked by uid 500); 13 May 2004 19:38:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20375 invoked by uid 500); 13 May 2004 19:38:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20359 invoked by uid 98); 13 May 2004 19:38:31 -0000
Received: from leonid.portnoy@db.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(160.83.77.105):. 
 Processed in 0.098815 secs); 13 May 2004 19:38:31 -0000
X-Qmail-Scanner-Mail-From: leonid.portnoy@db.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(160.83.77.105):. Processed in 0.098815 secs)
Received: from unknown (HELO imr7.us.db.com) (160.83.77.105)
  by hermes.apache.org with SMTP; 13 May 2004 19:38:31 -0000
Received: from sdbo1005.db.com by imr7.us.db.com 
         id i4DJc2Qs007654; Thu, 13 May 2004 15:38:02 -0400
To: lucene-user@jakarta.apache.org
Subject: BooleanQuery.add()
MIME-Version: 1.0
X-Mailer: Lotus Notes Release 5.0.11   July 24, 2002
Message-ID: <OFDFE0ACB5.41DC21FC-ON85256E93.006BD0B8-85256E93.006BD996@db.com>
From: "Leonid Portnoy" <leonid.portnoy@db.com>
Date: Thu, 13 May 2004 15:38:00 -0400
X-MIMETrack: Serialize by Router on sdbo1005/DBNA/DeuBaInt/DeuBa(5012HF330 | August 01, 2003) at
 05/13/2004 03:38:02 PM,
	Serialize complete at 05/13/2004 03:38:02 PM
Content-Type: text/plain; charset="us-ascii"
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

The documentation for BooleanQuery.add() states : 
 
        "Adds a clause to a boolean query. Clauses may be: required which 
means that
documents which do not match this sub-query will not match the boolean 
query; prohibited which means that documents which do match this sub-query 
will not match the boolean query; or neither, in which case matched 
documents are neither prohibited from nor required to match the 
sub-query."

But, if it's neither then why add the sub-query at all? According to this, 
the presence of the sub-query should not restrict the range of documents 
returned at all, since regardless of whether the document matches the 
sub-query or not, the behavior of the super-query will be the same.

In fact, this is not the case. For example, 

BooleanQuery : 
          TermQuery(Term("dog"))    : prohibited = false, required=false
          TermQuery(Term"cat"))       : prohibited = false, required=false

returns all documents which contain either  'cat'  or 'dog', and  _only 
those_ documents. According to the documentation all documents should be 
returned, even if they contain neither 'cat' nor 'dog', since a document 
is not required to match either sub-query.

Am I misunderstanding something here, or is the documentation unclear? 

Thanks,
Leonid

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8285-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 19:57:51 2004
Return-Path: <lucene-user-return-8285-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56472 invoked from network); 13 May 2004 19:57:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 19:57:51 -0000
Received: (qmail 82018 invoked by uid 500); 13 May 2004 19:58:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81986 invoked by uid 500); 13 May 2004 19:58:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81969 invoked by uid 98); 13 May 2004 19:58:06 -0000
Received: from cutting@apache.org by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(209.10.110.95):. 
 Processed in 0.033082 secs); 13 May 2004 19:58:06 -0000
X-Qmail-Scanner-Mail-From: cutting@apache.org via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(209.10.110.95):. Processed in 0.033082 secs)
Received: from unknown (HELO londo.swishmail.com) (209.10.110.95)
  by hermes.apache.org with SMTP; 13 May 2004 19:58:05 -0000
Received: (qmail 21196 invoked by uid 89); 13 May 2004 19:57:36 -0000
Received: from unknown (HELO apache.org) (postmaster@cottrell-cutting.net@67.169.169.83)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 13 May 2004 19:57:36 -0000
Message-ID: <40A3D31F.9050803@apache.org>
Date: Thu, 13 May 2004 12:57:19 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: BooleanQuery.add()
References: <OFDFE0ACB5.41DC21FC-ON85256E93.006BD0B8-85256E93.006BD996@db.com>
In-Reply-To: <OFDFE0ACB5.41DC21FC-ON85256E93.006BD0B8-85256E93.006BD996@db.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Leonid Portnoy wrote:
> Am I misunderstanding something here, or is the documentation unclear? 

The documentation is unclear.  Can you propose an improvement?

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8286-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 20:03:26 2004
Return-Path: <lucene-user-return-8286-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59910 invoked from network); 13 May 2004 20:03:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 20:03:26 -0000
Received: (qmail 97887 invoked by uid 500); 13 May 2004 20:03:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97860 invoked by uid 500); 13 May 2004 20:03:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97845 invoked by uid 98); 13 May 2004 20:03:44 -0000
Received: from paul@waite.net.nz by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.79.71.204):. 
 Processed in 0.154039 secs); 13 May 2004 20:03:44 -0000
X-Qmail-Scanner-Mail-From: paul@waite.net.nz via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.79.71.204):. Processed in 0.154039 secs)
Received: from unknown (HELO gandalf.lan.waite.net.nz) (203.79.71.204)
  by hermes.apache.org with SMTP; 13 May 2004 20:03:43 -0000
Received: from localhost ([127.0.0.1] ident=amavis)
	by gandalf.lan.waite.net.nz with esmtp (Exim 4.30 #1 (Debian))
	id 1BOMQE-0008W9-CS
	for <lucene-user@jakarta.apache.org>; Fri, 14 May 2004 08:03:14 +1200
Received: from gandalf.lan.waite.net.nz ([127.0.0.1])
	by localhost (gandalf [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 32650-01 for <lucene-user@jakarta.apache.org>;
	Fri, 14 May 2004 08:03:09 +1200 (NZST)
Received: from frodo.lan.waite.net.nz ([192.168.1.29] ident=paul)
	by gandalf.lan.waite.net.nz with esmtp (Exim 4.30 #1 (Debian))
	id 1BOMQ9-0008W3-Na
	for <lucene-user@jakarta.apache.org>; Fri, 14 May 2004 08:03:09 +1200
From: Paul <paul@waite.net.nz>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Memory Requirements
Date: Fri, 14 May 2004 08:03:09 +1200
User-Agent: KMail/1.6.1
References: <Pine.LNX.4.33.0405130919310.10491-100000@hercule.cirano.qc.ca>
In-Reply-To: <Pine.LNX.4.33.0405130919310.10491-100000@hercule.cirano.qc.ca>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200405140803.09419.paul@waite.net.nz>
X-Virus-Scanned: by amavisd-new-20030616-p5 (Debian) at waite.net.nz
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Stephane James Vaucher wrote:

> On Thu, 13 May 2004, Matt Quail wrote:
> > > do you know of any method to reduce the memory consumption of lucene
> > > when searching?

> Avoid prefix queries and wildcards, since they can be rewritten into large
> boolean queries. You can limit the rewritting with a maximum number of
> clauses in a BooleanQuery to prevent requests from taking too much memory.


Also look at any range queries you have. Depending on the range and the
number of terms in your index within that range you could potentially have
a lot of boolean query terms being generated.

Pre Lucene 1.3-Final, we did not appreciate this, and had a lot of Out of
Memory exceptions occurring. In 1.3-Final a limit on boolean query terms
was intorduced, and this revealed our problem. We re-organised our index
tin the light of that, and have had no exceptions since.

Cheers,
Paul.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8287-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 20:11:10 2004
Return-Path: <lucene-user-return-8287-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64111 invoked from network); 13 May 2004 20:11:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 20:11:10 -0000
Received: (qmail 20723 invoked by uid 500); 13 May 2004 20:11:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20647 invoked by uid 500); 13 May 2004 20:11:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20571 invoked by uid 98); 13 May 2004 20:11:22 -0000
Received: from TJones@hoovers.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(66.179.38.26):. 
 Processed in 0.012237 secs); 13 May 2004 20:11:22 -0000
X-Qmail-Scanner-Mail-From: TJones@hoovers.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(66.179.38.26):. Processed in 0.012237 secs)
Received: from unknown (HELO hamhock.hoovers.com) (66.179.38.26)
  by hermes.apache.org with SMTP; 13 May 2004 20:11:21 -0000
Received: from exchange.hoovers.com (gamma.hoovers.com [66.179.38.8])
	by hamhock.hoovers.com (HamHock-OUTBOUND) with ESMTP id 486A411A5EE
	for <lucene-user@jakarta.apache.org>; Thu, 13 May 2004 15:10:52 -0500 (CDT)
Received: by gamma.hoovers.com with Internet Mail Service (5.5.2657.72)
	id <KTHP24LF>; Thu, 13 May 2004 15:10:52 -0500
Message-ID: <4810C017B52BD4118EEA00B0D020B0ED140855F6@gamma.hoovers.com>
From: Tim Jones <TJones@hoovers.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: Re: Java 1.4 (was: new Lucene release: 1.4 RC3)
Date: Thu, 13 May 2004 15:10:51 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

yes - it has to do with the anonymous inner classes - see

http://issues.apache.org/bugzilla/show_bug.cgi?id=27638

did we decide to leave this as a "compile in 1.4, run in 
1.3" work around, or to convert the anonymous inner classes
to named inner classes?

this is the only 1.4 dependency that I know of.


> -----Original Message-----
> From: Terry Steichen [mailto:terry@net-frame.com]
> Sent: Wednesday, May 12, 2004 9:42 AM
> To: Lucene Users List
> Subject: Re: new Lucene release: 1.4 RC3
> 
> 
> Last time I checked, JDK 1.4 was needed to compile the 
> classes implementing
> the new sorting features.  Part of the issue was the 
> inclusion of the regex
> classes, but the other dependency had to do (as I recall) 
> with some kind of
> inner class constructs (that JDK 1.3 won't compile).  I 
> believe that the
> contributor, Tim Jones, fixed some of then to work with JDK 
> 1.3, but to the
> best of my knowledge, not the inner class stuff.
> 
> Regards,
> 
> Terry
> 
> ----- Original Message ----- 
> From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Wednesday, May 12, 2004 8:04 AM
> Subject: Re: new Lucene release: 1.4 RC3
> 
> 
> > I don't recall any JDK 1.4 methods/classes being used, and 
> I just saw
> > Doug replacing one AssertException (1.4) with RuntimeException.
> >
> > Are there some 1.4 dependencies I'm not aware of?
> >
> > Otis
> >
> > --- Terry Steichen <terry@net-frame.com> wrote:
> > > I presume this still requires Java 1.4 to build, but will run with
> > > Java 1.3?
> > >
> > > Regards,
> > >
> > > Terry
> > >
> > > ----- Original Message ----- 
> > > From: "Doug Cutting" <cutting@apache.org>
> > > To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> > > Sent: Tuesday, May 11, 2004 4:51 PM
> > > Subject: new Lucene release: 1.4 RC3
> > >
> > >
> > > > Version 1.4 RC3 of Lucene is available for download from:
> > > >
> > > > http://cvs.apache.org/dist/jakarta/lucene/v1.4-rc3/
> > > >
> > > > Changes are described at:
> > > >
> > > >
> > >
> >
> http://cvs.apache.org/viewcvs.cgi/*checkout*/jakarta-lucene/CH
ANGES.txt?rev=1.85
> > >
> > > Doug
> > >
> > >
> > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > >
> > >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8288-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 20:31:46 2004
Return-Path: <lucene-user-return-8288-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75854 invoked from network); 13 May 2004 20:31:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 20:31:44 -0000
Received: (qmail 92798 invoked by uid 500); 13 May 2004 20:31:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92393 invoked by uid 500); 13 May 2004 20:31:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92335 invoked by uid 98); 13 May 2004 20:31:52 -0000
Received: from leonid.portnoy@db.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(160.83.77.105):. 
 Processed in 0.027849 secs); 13 May 2004 20:31:52 -0000
X-Qmail-Scanner-Mail-From: leonid.portnoy@db.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(160.83.77.105):. Processed in 0.027849 secs)
Received: from unknown (HELO imr7.us.db.com) (160.83.77.105)
  by hermes.apache.org with SMTP; 13 May 2004 20:31:52 -0000
Received: from sdbo1005.db.com by imr7.us.db.com 
         id i4DKSjGN006990; Thu, 13 May 2004 16:30:46 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: BooleanQuery.add()
MIME-Version: 1.0
X-Mailer: Lotus Notes Release 5.0.11   July 24, 2002
Message-ID: <OFDB814838.0FB7BA41-ON85256E93.006FE944-85256E93.00708AE7@db.com>
From: "Leonid Portnoy" <leonid.portnoy@db.com>
Date: Thu, 13 May 2004 16:29:15 -0400
X-MIMETrack: Serialize by Router on sdbo1005/DBNA/DeuBaInt/DeuBa(5012HF330 | August 01, 2003) at
 05/13/2004 04:30:16 PM,
	Serialize complete at 05/13/2004 04:30:16 PM
Content-Type: text/plain; charset="us-ascii"
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:
>The documentation is unclear.  Can you propose an improvement?

Yes - I think the following sentence should be appended after "or neither, 
in which case matched documents are neither prohibited from nor required 
to match the sub-query."  :

     "However, a document must match at least one sub-query to match the 
boolean query."

Thanks,
Leonid 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8289-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 20:34:28 2004
Return-Path: <lucene-user-return-8289-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77791 invoked from network); 13 May 2004 20:34:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 20:34:27 -0000
Received: (qmail 3265 invoked by uid 500); 13 May 2004 20:34:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3182 invoked by uid 500); 13 May 2004 20:34:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3126 invoked by uid 98); 13 May 2004 20:34:41 -0000
Received: from ykingma@xs4all.nl by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(194.109.24.12):. 
 Processed in 0.061267 secs); 13 May 2004 20:34:41 -0000
X-Qmail-Scanner-Mail-From: ykingma@xs4all.nl via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(194.109.24.12):. Processed in 0.061267 secs)
Received: from unknown (HELO smtp-out2.xs4all.nl) (194.109.24.12)
  by hermes.apache.org with SMTP; 13 May 2004 20:34:40 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out2.xs4all.nl (8.12.10/8.12.10) with ESMTP id i4DKY7Ov002602
	for <lucene-user@jakarta.apache.org>; Thu, 13 May 2004 22:34:08 +0200 (CEST)
From: Ype Kingma <ykingma@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Memory Requirements
Date: Thu, 13 May 2004 22:34:07 +0200
User-Agent: KMail/1.5.4
References: <Pine.LNX.4.33.0405130919310.10491-100000@hercule.cirano.qc.ca> <200405140803.09419.paul@waite.net.nz>
In-Reply-To: <200405140803.09419.paul@waite.net.nz>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200405132234.07867.ykingma@xs4all.nl>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Paul,

On Thursday 13 May 2004 22:03, Paul wrote:
> Stephane James Vaucher wrote:
> > On Thu, 13 May 2004, Matt Quail wrote:
> > > > do you know of any method to reduce the memory consumption of lucene
> > > > when searching?
> >
> > Avoid prefix queries and wildcards, since they can be rewritten into
> > large boolean queries. You can limit the rewritting with a maximum number
> > of clauses in a BooleanQuery to prevent requests from taking too much
> > memory.
>
> Also look at any range queries you have. Depending on the range and the
> number of terms in your index within that range you could potentially have
> a lot of boolean query terms being generated.
>
> Pre Lucene 1.3-Final, we did not appreciate this, and had a lot of Out of
> Memory exceptions occurring. In 1.3-Final a limit on boolean query terms
> was intorduced, and this revealed our problem. We re-organised our index
> tin the light of that, and have had no exceptions since.

I suppose you somehow reduced the number of expanded terms in
your range queries. Could you tell us how this was done?

Kind regards,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8290-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 21:23:43 2004
Return-Path: <lucene-user-return-8290-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6603 invoked from network); 13 May 2004 21:23:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 21:23:43 -0000
Received: (qmail 11995 invoked by uid 500); 13 May 2004 21:12:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11953 invoked by uid 500); 13 May 2004 21:12:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11931 invoked by uid 98); 13 May 2004 21:12:08 -0000
Received: from paul@waite.net.nz by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.79.71.204):. 
 Processed in 0.134716 secs); 13 May 2004 21:12:08 -0000
X-Qmail-Scanner-Mail-From: paul@waite.net.nz via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.79.71.204):. Processed in 0.134716 secs)
Received: from unknown (HELO gandalf.lan.waite.net.nz) (203.79.71.204)
  by hermes.apache.org with SMTP; 13 May 2004 21:12:08 -0000
Received: from localhost ([127.0.0.1] ident=amavis)
	by gandalf.lan.waite.net.nz with esmtp (Exim 4.30 #1 (Debian))
	id 1BONUO-0000GQ-Al
	for <lucene-user@jakarta.apache.org>; Fri, 14 May 2004 09:11:36 +1200
Received: from gandalf.lan.waite.net.nz ([127.0.0.1])
	by localhost (gandalf [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 00678-07 for <lucene-user@jakarta.apache.org>;
	Fri, 14 May 2004 09:11:31 +1200 (NZST)
Received: from frodo.lan.waite.net.nz ([192.168.1.29] ident=paul)
	by gandalf.lan.waite.net.nz with esmtp (Exim 4.30 #1 (Debian))
	id 1BONUJ-0000GK-Pz
	for <lucene-user@jakarta.apache.org>; Fri, 14 May 2004 09:11:31 +1200
From: Paul <paul@waite.net.nz>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Memory Requirements
Date: Fri, 14 May 2004 09:11:31 +1200
User-Agent: KMail/1.6.1
References: <Pine.LNX.4.33.0405130919310.10491-100000@hercule.cirano.qc.ca> <200405140803.09419.paul@waite.net.nz> <200405132234.07867.ykingma@xs4all.nl>
In-Reply-To: <200405132234.07867.ykingma@xs4all.nl>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200405140911.31774.paul@waite.net.nz>
X-Virus-Scanned: by amavisd-new-20030616-p5 (Debian) at waite.net.nz
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ype Kingma wrote:

> Paul,
> I suppose you somehow reduced the number of expanded terms in
> your range queries. Could you tell us how this was done?

Yes, we were querying on a datetime field (seconds resolution). We
re-indexed with a date field instead, since people querying were only
generally interested in day resolution for filtering.

We retained the datetime as a stored field.

We index about a 1,000+ articles per day, so this reduced the typical
number of boolean terms in a date-range query by a factor of 1,000.

The retained datetime stored field allows us to post-sort resultsets in
datetime order.

Cheers,
Paul.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8291-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 13 21:24:05 2004
Return-Path: <lucene-user-return-8291-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7148 invoked from network); 13 May 2004 21:24:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 May 2004 21:24:05 -0000
Received: (qmail 19512 invoked by uid 500); 13 May 2004 21:14:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19475 invoked by uid 500); 13 May 2004 21:14:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19449 invoked by uid 98); 13 May 2004 21:14:55 -0000
Received: from terry@net-frame.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(207.69.200.246):. 
 Processed in 0.097865 secs); 13 May 2004 21:14:55 -0000
X-Qmail-Scanner-Mail-From: terry@net-frame.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(207.69.200.246):. Processed in 0.097865 secs)
Received: from unknown (HELO smtp10.atl.mindspring.net) (207.69.200.246)
  by hermes.apache.org with SMTP; 13 May 2004 21:14:55 -0000
Received: from h-68-166-172-48.mclnva23.dynamic.covad.net ([68.166.172.48] helo=POWERPACK)
	by smtp10.atl.mindspring.net with smtp (Exim 3.33 #1)
	id 1BONX5-0005nV-00
	for lucene-user@jakarta.apache.org; Thu, 13 May 2004 17:14:23 -0400
Message-ID: <149501c4392f$45a8e800$6501a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <4810C017B52BD4118EEA00B0D020B0ED140855F6@gamma.hoovers.com>
Subject: Re: Java 1.4 (was: new Lucene release: 1.4 RC3)
Date: Thu, 13 May 2004 17:14:26 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

For my $.02, I think it is a mistake to leave this single dependency, if
there's some reasonably easy way to remove it.

Regards,

Terry

----- Original Message ----- 
From: "Tim Jones" <TJones@hoovers.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Thursday, May 13, 2004 4:10 PM
Subject: Re: Java 1.4 (was: new Lucene release: 1.4 RC3)


> yes - it has to do with the anonymous inner classes - see
>
> http://issues.apache.org/bugzilla/show_bug.cgi?id=27638
>
> did we decide to leave this as a "compile in 1.4, run in
> 1.3" work around, or to convert the anonymous inner classes
> to named inner classes?
>
> this is the only 1.4 dependency that I know of.
>
>
> > -----Original Message-----
> > From: Terry Steichen [mailto:terry@net-frame.com]
> > Sent: Wednesday, May 12, 2004 9:42 AM
> > To: Lucene Users List
> > Subject: Re: new Lucene release: 1.4 RC3
> >
> >
> > Last time I checked, JDK 1.4 was needed to compile the
> > classes implementing
> > the new sorting features.  Part of the issue was the
> > inclusion of the regex
> > classes, but the other dependency had to do (as I recall)
> > with some kind of
> > inner class constructs (that JDK 1.3 won't compile).  I
> > believe that the
> > contributor, Tim Jones, fixed some of then to work with JDK
> > 1.3, but to the
> > best of my knowledge, not the inner class stuff.
> >
> > Regards,
> >
> > Terry
> >
> > ----- Original Message ----- 
> > From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
> > To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> > Sent: Wednesday, May 12, 2004 8:04 AM
> > Subject: Re: new Lucene release: 1.4 RC3
> >
> >
> > > I don't recall any JDK 1.4 methods/classes being used, and
> > I just saw
> > > Doug replacing one AssertException (1.4) with RuntimeException.
> > >
> > > Are there some 1.4 dependencies I'm not aware of?
> > >
> > > Otis
> > >
> > > --- Terry Steichen <terry@net-frame.com> wrote:
> > > > I presume this still requires Java 1.4 to build, but will run with
> > > > Java 1.3?
> > > >
> > > > Regards,
> > > >
> > > > Terry
> > > >
> > > > ----- Original Message ----- 
> > > > From: "Doug Cutting" <cutting@apache.org>
> > > > To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> > > > Sent: Tuesday, May 11, 2004 4:51 PM
> > > > Subject: new Lucene release: 1.4 RC3
> > > >
> > > >
> > > > > Version 1.4 RC3 of Lucene is available for download from:
> > > > >
> > > > > http://cvs.apache.org/dist/jakarta/lucene/v1.4-rc3/
> > > > >
> > > > > Changes are described at:
> > > > >
> > > > >
> > > >
> > >
> > http://cvs.apache.org/viewcvs.cgi/*checkout*/jakarta-lucene/CH
> ANGES.txt?rev=1.85
> > > >
> > > > Doug
> > > >
> > > >
> > > ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > > For additional commands, e-mail:
> > > lucene-user-help@jakarta.apache.org
> > > >
> > > >
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8292-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 14 01:22:12 2004
Return-Path: <lucene-user-return-8292-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53759 invoked from network); 14 May 2004 01:22:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 May 2004 01:22:12 -0000
Received: (qmail 85120 invoked by uid 500); 14 May 2004 01:22:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84976 invoked by uid 500); 14 May 2004 01:22:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84960 invoked by uid 98); 14 May 2004 01:22:33 -0000
Received: from ssmith@mainstreamdata.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(209.63.42.32):. 
 Processed in 0.054977 secs); 14 May 2004 01:22:33 -0000
X-Qmail-Scanner-Mail-From: ssmith@mainstreamdata.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(209.63.42.32):. Processed in 0.054977 secs)
Received: from unknown (HELO slc-xchg1.slc.mainstreamdata.com) (209.63.42.32)
  by hermes.apache.org with SMTP; 14 May 2004 01:22:33 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Lucene 1.4
Date: Thu, 13 May 2004 19:21:56 -0600
Message-ID: <A60AC49BA89F4F4D9D86F2B7519111E85F0730@dilbert.mainstreamdata.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene 1.4
Thread-Index: AcQzl2S56eDncLvxSbi/fJmRkRjY0QFufiDQ
From: "Scott Smith" <ssmith@mainstreamdata.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

It sounds like this is the same feature as is in 1.4; it's just that 1.4
turns it on by default and 1.3 does not.  I've implemented this in my
code (essentially a one line fix) and will begin to test.
Unfortunately, we see the issue so infrequently, it will probably be
several months before we can conclude whether this resolved the problem
or not.=20

Thanks

Scott

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Sent: Thursday, May 06, 2004 12:25 PM
To: Lucene Users List
Subject: Re: Lucene 1.4

Scott,

Lucene 1.3 added a compound file format which may solve your out of file
handles issue.  Look at the new method on IndexWriter to use this mode.

	Erik


On May 6, 2004, at 2:11 PM, Scott Smith wrote:

> We are currently using lucene 1.3 on a production web server.  For the

> most part, it runs great.  However, once in a while we see some=20
> problems which I suspect are the infamous "running out of file=20
> handles" bugs.  I would claim that we are doing everything right=20
> (famous last words) so it would be nice if someone could explain the=20
> proper methods for using the Searcher object to avoid this problem.  I

> should probably mention that I'm adding new items to the index once=20
> per minute though I close the indexwriter each time.  I suspect the=20
> problem is that I can't close the Searcher object because the hits=20
> list needs it to get at the documents.
>
> At any rate, that brings me to the real question.  I believe I've read

> that 1.4 has changes to largely eliminate these problems.  I know that
> RC2 is out.  My question is has anyone tried RC2?  Is it stable?
> Obviously, I'm trying to make the decision as to whether moving to
> 1.4RC2 or stay with 1.3.  Comments would be appreciated.
>
>
> Scott
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8293-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 14 03:18:18 2004
Return-Path: <lucene-user-return-8293-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18976 invoked from network); 14 May 2004 03:18:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 May 2004 03:18:18 -0000
Received: (qmail 1355 invoked by uid 500); 14 May 2004 03:18:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1226 invoked by uid 500); 14 May 2004 03:18:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1206 invoked by uid 98); 14 May 2004 03:18:41 -0000
Received: from hui@triplehop.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.74.150.80):. 
 Processed in 0.01404 secs); 14 May 2004 03:18:41 -0000
X-Qmail-Scanner-Mail-From: hui@triplehop.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.74.150.80):. Processed in 0.01404 secs)
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com) (216.74.150.80)
  by hermes.apache.org with SMTP; 14 May 2004 03:18:41 -0000
Received: from hui2000 ([208.246.29.6]) by germany.prod.thop-ny.triplehop.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 13 May 2004 23:17:40 -0400
From: "hui" <hui@triplehop.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: index on SAN (storage area network)
Date: Thu, 13 May 2004 23:21:50 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <20040513105034.24620.qmail@web12703.mail.yahoo.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
thread-index: AcQ42Bdo4kFDEg0mRxSBUgw/yJSupQAifOvA
Message-ID: <GERMANYWqRS4djCZ8BX0000e492@germany.prod.thop-ny.triplehop.com>
X-OriginalArrivalTime: 14 May 2004 03:17:40.0124 (UTC) FILETIME=[037BCDC0:01C43962]
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thank you very much for the suggestion, Otis.
I did write a test program to check whether the directory is a directory.
But I did not test it within the web application. It is related with tomcat
security or the SAN setup. I need to figure out.

Regards,
Hui

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
Sent: Thursday, May 13, 2004 6:51 AM
To: Lucene Users List
Subject: Re: index on SAN (storage area network)

My guess would be that you just have a wrong path to the index
directory somewhere.  You can add your own checks to your own code,
before you create IndexSearcher/Reader.

Something like:
if (new File(/path/to/your/index/dir).isDirectory()) - ok, else not ok
;)

Otis

--- hui <hui@triplehop.com> wrote:
> Hi,
> I am getting "not a directory" error when doing search after I moved
> the
> index from local to a SAN box. FSDirectory does not recognize the
> index
> directory as a directory. Any idea? I use JDK142 and Lucene 1.3
> final.
> 
> Creating the index works fine.
> 
> Regards,
> hui
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8294-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 14 06:26:27 2004
Return-Path: <lucene-user-return-8294-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28547 invoked from network); 14 May 2004 06:26:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 May 2004 06:26:26 -0000
Received: (qmail 88082 invoked by uid 500); 14 May 2004 06:26:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88022 invoked by uid 500); 14 May 2004 06:26:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87960 invoked by uid 98); 14 May 2004 06:26:48 -0000
Received: from alau@fulfil-net.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.111.30.226):. 
 Processed in 0.587049 secs); 14 May 2004 06:26:48 -0000
X-Qmail-Scanner-Mail-From: alau@fulfil-net.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.111.30.226):. Processed in 0.587049 secs)
Received: from unknown (HELO FIREBIRD) (203.111.30.226)
  by hermes.apache.org with SMTP; 14 May 2004 06:26:47 -0000
From: "Anson Lau" <alau@fulfil-net.com>
To: <lucene-user@jakarta.apache.org>
Subject: field boost factor
Date: Fri, 14 May 2004 16:26:37 +1000
Message-ID: <20040514162638.AF732232.7479F6FF@FIREBIRD>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all,

Is it possible to set different boost factor to different fields when you do
a search, rather than when you index?

Thanks,

Anson


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8295-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 14 07:02:37 2004
Return-Path: <lucene-user-return-8295-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56456 invoked from network); 14 May 2004 07:02:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 May 2004 07:02:37 -0000
Received: (qmail 90633 invoked by uid 500); 14 May 2004 07:02:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90598 invoked by uid 500); 14 May 2004 07:02:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90556 invoked by uid 98); 14 May 2004 07:02:56 -0000
Received: from alau@fulfil-net.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.111.30.226):. 
 Processed in 0.421844 secs); 14 May 2004 07:02:56 -0000
X-Qmail-Scanner-Mail-From: alau@fulfil-net.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.111.30.226):. Processed in 0.421844 secs)
Received: from unknown (HELO FIREBIRD) (203.111.30.226)
  by hermes.apache.org with SMTP; 14 May 2004 07:02:55 -0000
From: "Anson Lau" <alau@fulfil-net.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: field boost factor
Date: Fri, 14 May 2004 17:02:45 +1000
Message-ID: <20040514170246.4CC4FB3B.CB43D82C@FIREBIRD>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
In-Reply-To: <20040514162638.AF732232.7479F6FF@FIREBIRD>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think I found it in Query API...

Thanks,

Anson

-----Original Message-----
From: Anson Lau [mailto:alau@fulfil-net.com]
Sent: Friday, May 14, 2004 4:27 PM
To: lucene-user@jakarta.apache.org
Subject: field boost factor

Hi all,

Is it possible to set different boost factor to different fields when you do
a search, rather than when you index?

Thanks,

Anson


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8296-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 14 09:49:29 2004
Return-Path: <lucene-user-return-8296-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68811 invoked from network); 14 May 2004 09:49:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 May 2004 09:49:29 -0000
Received: (qmail 58208 invoked by uid 500); 14 May 2004 09:49:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58140 invoked by uid 500); 14 May 2004 09:49:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58123 invoked by uid 98); 14 May 2004 09:49:57 -0000
Received: from ivanpetrov_35@abv.bg by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(194.153.145.76):. 
 Processed in 0.444731 secs); 14 May 2004 09:49:57 -0000
X-Qmail-Scanner-Mail-From: ivanpetrov_35@abv.bg via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(194.153.145.76):. Processed in 0.444731 secs)
Received: from unknown (HELO www.netinfo.bg) (194.153.145.76)
  by hermes.apache.org with SMTP; 14 May 2004 09:49:56 -0000
Received: from webmail.gyuvetch.bg (app3.ni.bg [192.168.151.6])
	by www.netinfo.bg (Postfix) with SMTP id B30001D6A6B
	for <lucene-user@jakarta.apache.org>; Fri, 14 May 2004 12:49:10 +0300 (EEST)
Received: (qmail 3701 invoked from network); 14 May 2004 09:49:05 -0000
Received: from app3.ni.bg (192.168.151.6)
  by webmail.gyuvetch.bg with SMTP; 14 May 2004 09:49:05 -0000
Message-ID: <922710697.1084528145460.JavaMail.nobody@app3.ni.bg>
Date: Fri, 14 May 2004 12:49:05 +0300 (EEST)
From: Ivan Petrov <ivanpetrov_35@abv.bg>
To: lucene-user@jakarta.apache.org
Subject: BIG Problem
Mime-Version: 1.0
Content-Type: text/plain; charset="windows-1251"
Content-Transfer-Encoding: 7bit
X-Mailer: AbvMail 1.0
X-Originating-IP: 62.213.161.134
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Lucene users,

DO YOU AGREE TO CHANGE THE DEATH PENALTY FOR THOSE WHO 
CONTAMINATED THE BLOOD OF LYBEENS CHILDREN WITH AIDS?
 
BTW: It is NOT the right question: Bulgarian medics DIDN'T contaminate 
the blood. 3 diferent independent commisions, with strong professors in aids 
area, told that THE INFECTION IS STARTED 1 YEAR before Bulgarian 
medics to come in the Lybian hospital and it is internal hospital problem -
very bad hygiene and multiple usage of same injection. Lybians treing to
escape his own guilty with bulgarian medics - THAT IS NOT JUSTICE.
Please people don't trust them - see the facts! 
Lybians have one "confession" received  from one of the 5 bulgarian 
nurses, after 2 MOUNTS beating, thrashing, whopping, wresting nails,
.... and a lot other tortures in the Lybian jail - THAT IS THE CRIME and
it can be THE ONLY ARGUMENT to EXECUTE 5 INNOCENT NURSES!
 
FREE THE BULGARIAN MEDICS NOW!
 
http://www.aljazeera.net/
First Radion Button:     CHANGE IT! 
Second Radion Button:KILL THEM ALL
 
Please re-send it to all your contacts!


-----------------------------------------------------------------
http://sport.netinfo.bg/ -     ...

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8297-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 14 11:58:47 2004
Return-Path: <lucene-user-return-8297-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42096 invoked from network); 14 May 2004 11:58:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 May 2004 11:58:47 -0000
Received: (qmail 55872 invoked by uid 500); 14 May 2004 11:58:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55840 invoked by uid 500); 14 May 2004 11:58:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55812 invoked by uid 98); 14 May 2004 11:58:42 -0000
Received: from otis_gospodnetic@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.136.173.240):. 
 Processed in 0.269697 secs); 14 May 2004 11:58:42 -0000
X-Qmail-Scanner-Mail-From: otis_gospodnetic@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.136.173.240):. Processed in 0.269697 secs)
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by hermes.apache.org with SMTP; 14 May 2004 11:58:41 -0000
Message-ID: <20040514115837.33290.qmail@web12703.mail.yahoo.com>
Received: from [194.152.226.87] by web12703.mail.yahoo.com via HTTP; Fri, 14 May 2004 04:58:37 PDT
Date: Fri, 14 May 2004 04:58:37 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Are lucene have a configuration feature for storage compression option?
To: lucene-user@jakarta.apache.org
Cc: alex.aw@bigonthenet.com
In-Reply-To: <0b9701c43953$36553880$0f02a8c0@smile>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Moving to lucene-user list.

Hello,

Didn't I already answer these questions?

1. No :(

2. Use POI (jakarta.apache.org/poi) API

3. IndexReader can provide at least some of your numbers.  I suggest
you look at Javadocs for IndexReader, which are available on Lucene's
site.

Otis

--- Alex Aw Seat Kiong <alex.aw@bigonthenet.com> wrote:
> Hi!
> 
> Some question about lucene:
> 1. Are lucene have a configuration feature for storage compression
> option?
> 
> 2. Any purse java code for  Excel and Powerpoint parser can be use to
> support lucene index Excel and Powerpoint documents?
> 
> 3. How to get the information as below. Any API for it? 
> 
> - total number index/document was  indexed.
> - total index size per storage was  indexed.
> - last index updated date was  indexed.
> - total number index/document was  deleted.
> 
> 
> 
> Thanks.
> 
> 
> Regards,
> AlexAw


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8298-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 14 12:04:04 2004
Return-Path: <lucene-user-return-8298-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44157 invoked from network); 14 May 2004 12:04:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 May 2004 12:04:04 -0000
Received: (qmail 75972 invoked by uid 500); 14 May 2004 12:03:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75854 invoked by uid 500); 14 May 2004 12:03:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75811 invoked by uid 98); 14 May 2004 12:03:44 -0000
Received: from bruno.tirel@club-internet.fr by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(194.158.104.45):. 
 Processed in 0.070398 secs); 14 May 2004 12:03:44 -0000
X-Qmail-Scanner-Mail-From: bruno.tirel@club-internet.fr via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(194.158.104.45):. Processed in 0.070398 secs)
Received: from unknown (HELO relay-6m.club-internet.fr) (194.158.104.45)
  by hermes.apache.org with SMTP; 14 May 2004 12:03:43 -0000
Received: from Claire (f10v-9-53.d1.club-internet.fr [212.194.248.53])
	by relay-6m.club-internet.fr (Postfix) with ESMTP id 92A932567E
	for <lucene-user@jakarta.apache.org>; Fri, 14 May 2004 14:03:38 +0200 (CEST)
From: "Bruno Tirel" <bruno.tirel@club-internet.fr>
To: <lucene-user@jakarta.apache.org>
Subject: NewBie with Lucene 1.4RC : issue on Demo3 HTML with result.jsp.java import error ???
Date: Fri, 14 May 2004 14:02:54 +0200
Message-ID: <002c01c439ab$66bf4b20$6501a8c0@Claire>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Importance: Normal
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

Could somebody help?

I am trying to discover and use Lucene to search within HTML pages =
within
Apache/Tomcat server. I have found Lucene, and tried the demos... With =
issue
running Demo3 and indexHTML, at search.JSP. I have modified CLASSPATH,
created the index directory, the index, modified indexLocation into
Configuration.jsp, started sucessfully search.jsp...=20
But it always come to an HTTP 500 with these context :

Etat HTTP 500 -=20
=20
type Rapport d''exception
message=20
description Le serveur a recontrer une erreur interne () qui l'a =
emp=E8ch=E9 de
satisfaire la requ=EAte. exception=20
v	org.apache.jasper.JasperException: Unable to compile class for JSP
v	An error occurred at line: 18 in the jsp file: /results.jsp
v=09
v	Generated servlet error:   [javac] Compiling 1 source file
v=09
v
C:\www\tomcat4.1\work\Standalone\localhost\luceneweb\results_jsp.java:10:=

package org.apache.lucene.analysis does not exist
v	import org.apache.lucene.analysis.*;
v	^
v
C:\www\tomcat4.1\work\Standalone\localhost\luceneweb\results_jsp.java:11:=

package org.apache.lucene.document does not exist
v	import org.apache.lucene.document.*;
v	^
v
C:\www\tomcat4.1\work\Standalone\localhost\luceneweb\results_jsp.java:12:=

package org.apache.lucene.index does not exist
v	import org.apache.lucene.index.*;
v	^
v
C:\www\tomcat4.1\work\Standalone\localhost\luceneweb\results_jsp.java:13:=

package org.apache.lucene.search does not exist
v	import org.apache.lucene.search.*;
v	^
v
C:\www\tomcat4.1\work\Standalone\localhost\luceneweb\results_jsp.java:14:=

package org.apache.lucene.queryParser does not exist
v	import org.apache.lucene.queryParser.*;
v	^
v
C:\www\tomcat4.1\work\Standalone\localhost\luceneweb\results_jsp.java:15:=

package org.apache.lucene.demo does not exist
v	import org.apache.lucene.demo.*;
v	^
v
C:\www\tomcat4.1\work\Standalone\localhost\luceneweb\results_jsp.java:16:=

package org.apache.lucene.demo.html does not exist
v	import org.apache.lucene.demo.html.Entities;
v	                                   ^
v
C:\www\tomcat4.1\work\Standalone\localhost\luceneweb\results_jsp.java:101=
:
cannot resolve symbol
v	symbol  : class IndexSearcher =20
v	location: class org.apache.jsp.results_jsp
v	        IndexSearcher searcher =3D null;          //the searcher used
to open/search the index
v	        ^
v	An error occurred at line: 18 in the jsp file: /results.jsp
v=09
v	Generated servlet error:
v
C:\www\tomcat4.1\work\Standalone\localhost\luceneweb\results_jsp.java:102=
:
cannot resolve symbol
v	symbol  : class Query =20
v	location: class org.apache.jsp.results_jsp
v	        Query query =3D null;                     //the Query created
by the QueryParser
v	        ^
v	        ^
v	17 errors
v=09
v		at
org.apache.jasper.compiler.DefaultErrorHandler.javacError(DefaultErrorHan=
dle
r.java:130)
v		at
org.apache.jasper.compiler.ErrorDispatcher.javacError(ErrorDispatcher.jav=
a:2
93)
v		at
org.apache.jasper.compiler.Compiler.generateClass(Compiler.java:353)
v		at
org.apache.jasper.compiler.Compiler.compile(Compiler.java:370)
v		at
org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.jav=
a:4
73)
v		at
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.jav=
a:1
90)
v		at
org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:295)
v		at
org.apache.jasper.servlet.JspServlet.service(JspServlet.java:241)
v		at
javax.servlet.http.HttpServlet.service(HttpServlet.java:853)
v		at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Applicat=
ion
FilterChain.java:247)
v		at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilte=
rCh
ain.java:193)
v		at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve=
.ja
va:256)
v		at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.in=
vok
eNext(StandardPipeline.java:643)
v		at
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:48=
0)
v		at
org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
v		at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve=
.ja
va:191)
v		at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.in=
vok
eNext(StandardPipeline.java:643)
v		at
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:48=
0)
v		at
org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
v		at
org.apache.catalina.core.StandardContext.invoke(StandardContext.java:2417=
)
v		at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:=
180
)
v		at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.in=
vok
eNext(StandardPipeline.java:643)
v		at
org.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatcherVal=
ve.
java:171)
v		at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.in=
vok
eNext(StandardPipeline.java:641)
v		at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:=
172
)
v		at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.in=
vok
eNext(StandardPipeline.java:641)
v		at
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:48=
0)
v		at
org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
v		at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.j=
ava
:174)
v		at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.in=
vok
eNext(StandardPipeline.java:643)
v		at
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:48=
0)
v		at
org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
v		at
org.apache.coyote.tomcat4.CoyoteAdapter.service(CoyoteAdapter.java:193)
v		at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:781=
)
v		at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processCo=
nne
ction(Http11Protocol.java:549)
v		at
org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:589=
)
v		at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.=
jav
a:666)
v		at java.lang.Thread.run(Thread.java:536)
=20
Apache Tomcat/4.1.29-LE-jdk14


Best regards,

Bruno
Bruno.tirel@club-internet.fr



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8299-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 14 12:40:07 2004
Return-Path: <lucene-user-return-8299-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62534 invoked from network); 14 May 2004 12:40:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 May 2004 12:40:07 -0000
Received: (qmail 43357 invoked by uid 500); 14 May 2004 12:39:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43267 invoked by uid 500); 14 May 2004 12:39:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43227 invoked by uid 98); 14 May 2004 12:39:56 -0000
Received: from otis_gospodnetic@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.136.173.245):. 
 Processed in 0.022905 secs); 14 May 2004 12:39:56 -0000
X-Qmail-Scanner-Mail-From: otis_gospodnetic@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.136.173.245):. Processed in 0.022905 secs)
Received: from unknown (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by hermes.apache.org with SMTP; 14 May 2004 12:39:56 -0000
Message-ID: <20040514123950.33348.qmail@web12708.mail.yahoo.com>
Received: from [194.152.226.87] by web12708.mail.yahoo.com via HTTP; Fri, 14 May 2004 05:39:50 PDT
Date: Fri, 14 May 2004 05:39:50 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: NewBie with Lucene 1.4RC : issue on Demo3 HTML with result.jsp.java import error ???
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <002c01c439ab$66bf4b20$6501a8c0@Claire>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have not used Lucene demo in a looong time, and have not used Tomcat
in a few years, but it looks like you need to add a Lucene jar either
in your WAR (Lucene demo WAR, I guess), or you can just put Lucene Jar
in some lib directory from which Tomcat loads his Jars.

Otis


--- Bruno Tirel <bruno.tirel@club-internet.fr> wrote:
> Hello,
> 
> Could somebody help?
> 
> I am trying to discover and use Lucene to search within HTML pages
> within
> Apache/Tomcat server. I have found Lucene, and tried the demos...
> With issue
> running Demo3 and indexHTML, at search.JSP. I have modified
> CLASSPATH,
> created the index directory, the index, modified indexLocation into
> Configuration.jsp, started sucessfully search.jsp... 
> But it always come to an HTTP 500 with these context :
> 
> Etat HTTP 500 - 
>  
> type Rapport d''exception
> message 
> description Le serveur a recontrer une erreur interne () qui l'a
> empch de
> satisfaire la requte. exception 
> v	org.apache.jasper.JasperException: Unable to compile class for JSP
> v	An error occurred at line: 18 in the jsp file: /results.jsp
> v	
> v	Generated servlet error:   [javac] Compiling 1 source file
> v	
> v
>
C:\www\tomcat4.1\work\Standalone\localhost\luceneweb\results_jsp.java:10:
> package org.apache.lucene.analysis does not exist
> v	import org.apache.lucene.analysis.*;
> v	^
> v
>
C:\www\tomcat4.1\work\Standalone\localhost\luceneweb\results_jsp.java:11:
> package org.apache.lucene.document does not exist
> v	import org.apache.lucene.document.*;
> v	^
> v
>
C:\www\tomcat4.1\work\Standalone\localhost\luceneweb\results_jsp.java:12:
> package org.apache.lucene.index does not exist
> v	import org.apache.lucene.index.*;
> v	^
> v
>
C:\www\tomcat4.1\work\Standalone\localhost\luceneweb\results_jsp.java:13:
> package org.apache.lucene.search does not exist
> v	import org.apache.lucene.search.*;
> v	^
> v
>
C:\www\tomcat4.1\work\Standalone\localhost\luceneweb\results_jsp.java:14:
> package org.apache.lucene.queryParser does not exist
> v	import org.apache.lucene.queryParser.*;
> v	^
> v
>
C:\www\tomcat4.1\work\Standalone\localhost\luceneweb\results_jsp.java:15:
> package org.apache.lucene.demo does not exist
> v	import org.apache.lucene.demo.*;
> v	^
> v
>
C:\www\tomcat4.1\work\Standalone\localhost\luceneweb\results_jsp.java:16:
> package org.apache.lucene.demo.html does not exist
> v	import org.apache.lucene.demo.html.Entities;
> v	                                   ^
> v
>
C:\www\tomcat4.1\work\Standalone\localhost\luceneweb\results_jsp.java:101:
> cannot resolve symbol
> v	symbol  : class IndexSearcher  
> v	location: class org.apache.jsp.results_jsp
> v	        IndexSearcher searcher = null;          //the searcher used
> to open/search the index
> v	        ^
> v	An error occurred at line: 18 in the jsp file: /results.jsp
> v	
> v	Generated servlet error:
> v
>
C:\www\tomcat4.1\work\Standalone\localhost\luceneweb\results_jsp.java:102:
> cannot resolve symbol
> v	symbol  : class Query  
> v	location: class org.apache.jsp.results_jsp
> v	        Query query = null;                     //the Query created
> by the QueryParser
> v	        ^
> v	        ^
> v	17 errors
> v	
> v		at
>
org.apache.jasper.compiler.DefaultErrorHandler.javacError(DefaultErrorHandle
> r.java:130)
> v		at
>
org.apache.jasper.compiler.ErrorDispatcher.javacError(ErrorDispatcher.java:2
> 93)
> v		at
> org.apache.jasper.compiler.Compiler.generateClass(Compiler.java:353)
> v		at
> org.apache.jasper.compiler.Compiler.compile(Compiler.java:370)
> v		at
>
org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:4
> 73)
> v		at
>
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:1
> 90)
> v		at
>
org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:295)
> v		at
> org.apache.jasper.servlet.JspServlet.service(JspServlet.java:241)
> v		at
> javax.servlet.http.HttpServlet.service(HttpServlet.java:853)
> v		at
>
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Application
> FilterChain.java:247)
> v		at
>
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterCh
> ain.java:193)
> v		at
>
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.ja
> va:256)
> v		at
>
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invok
> eNext(StandardPipeline.java:643)
> v		at
>
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)
> v		at
> org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
> v		at
>
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.ja
> va:191)
> v		at
>
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invok
> eNext(StandardPipeline.java:643)
> v		at
>
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)
> v		at
> org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
> v		at
>
org.apache.catalina.core.StandardContext.invoke(StandardContext.java:2417)
> v		at
>
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:180
> )
> v		at
>
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invok
> eNext(StandardPipeline.java:643)
> v		at
>
org.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatcherValve.
> java:171)
> v		at
>
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invok
> eNext(StandardPipeline.java:641)
> v		at
>
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:172
> )
> v		at
>
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invok
> eNext(StandardPipeline.java:641)
> v		at
>
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)
> v		at
> org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
> v		at
>
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java
> :174)
> v		at
>
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invok
> eNext(StandardPipeline.java:643)
> v		at
>
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)
> v		at
> org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
> v		at
>
org.apache.coyote.tomcat4.CoyoteAdapter.service(CoyoteAdapter.java:193)
> v		at
>
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:781)
> v		at
>
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConne
> ction(Http11Protocol.java:549)
> v		at
>
org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:589)
> v		at
>
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.jav
> a:666)
> v		at java.lang.Thread.run(Thread.java:536)
>  
> Apache Tomcat/4.1.29-LE-jdk14
> 
> 
> Best regards,
> 
> Bruno
> Bruno.tirel@club-internet.fr
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8300-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 14 12:56:46 2004
Return-Path: <lucene-user-return-8300-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73537 invoked from network); 14 May 2004 12:56:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 May 2004 12:56:45 -0000
Received: (qmail 6791 invoked by uid 500); 14 May 2004 12:56:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6731 invoked by uid 500); 14 May 2004 12:56:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6676 invoked by uid 98); 14 May 2004 12:56:36 -0000
Received: from otis_gospodnetic@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.136.173.240):. 
 Processed in 0.017819 secs); 14 May 2004 12:56:36 -0000
X-Qmail-Scanner-Mail-From: otis_gospodnetic@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.136.173.240):. Processed in 0.017819 secs)
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by hermes.apache.org with SMTP; 14 May 2004 12:56:35 -0000
Message-ID: <20040514125629.41219.qmail@web12703.mail.yahoo.com>
Received: from [194.152.226.87] by web12703.mail.yahoo.com via HTTP; Fri, 14 May 2004 05:56:29 PDT
Date: Fri, 14 May 2004 05:56:29 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: BooleanQuery.add()
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <OFDB814838.0FB7BA41-ON85256E93.006FE944-85256E93.00708AE7@db.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks, I added your sentence.

Otis

--- Leonid Portnoy <leonid.portnoy@db.com> wrote:
> Doug Cutting wrote:
> >The documentation is unclear.  Can you propose an improvement?
> 
> Yes - I think the following sentence should be appended after "or
> neither, 
> in which case matched documents are neither prohibited from nor
> required 
> to match the sub-query."  :
> 
>      "However, a document must match at least one sub-query to match
> the 
> boolean query."
> 
> Thanks,
> Leonid 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8301-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 14 14:10:24 2004
Return-Path: <lucene-user-return-8301-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27391 invoked from network); 14 May 2004 14:10:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 May 2004 14:10:23 -0000
Received: (qmail 50127 invoked by uid 500); 14 May 2004 14:10:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49970 invoked by uid 500); 14 May 2004 14:10:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49949 invoked by uid 98); 14 May 2004 14:10:21 -0000
Received: from ykingma@xs4all.nl by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(194.109.24.12):. 
 Processed in 0.011966 secs); 14 May 2004 14:10:21 -0000
X-Qmail-Scanner-Mail-From: ykingma@xs4all.nl via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(194.109.24.12):. Processed in 0.011966 secs)
Received: from unknown (HELO smtp-out2.xs4all.nl) (194.109.24.12)
  by hermes.apache.org with SMTP; 14 May 2004 14:10:20 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out2.xs4all.nl (8.12.10/8.12.10) with ESMTP id i4EEA8FI032770
	for <lucene-user@jakarta.apache.org>; Fri, 14 May 2004 16:10:08 +0200 (CEST)
From: Ype Kingma <ykingma@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Are lucene have a configuration feature for storage compression option?
Date: Fri, 14 May 2004 16:10:08 +0200
User-Agent: KMail/1.5.4
References: <20040514115837.33290.qmail@web12703.mail.yahoo.com>
In-Reply-To: <20040514115837.33290.qmail@web12703.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200405141610.08425.ykingma@xs4all.nl>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Alex, Otis,

On Friday 14 May 2004 13:58, Otis Gospodnetic wrote:
> Moving to lucene-user list.
>
> Hello,
>
> Didn't I already answer these questions?
>
> 1. No :(

There is bit more to say, see below.

...
>
> --- Alex Aw Seat Kiong <alex.aw@bigonthenet.com> wrote:
> > Hi!
> >
> > Some question about lucene:
> > 1. Are lucene have a configuration feature for storage compression
> > option?

Lucene indexes are quite compact already.
Text (western languages) is normally indexed to about 1/3 it's original size,
I don't know about CJK.
You can have a look at the file formats on the Lucene web site to see how the
compression is done. Among others there are common prefixes for
the sorted terms, variable length integers, and storing differences between
integers instead of the complete numbers when possible.

One place where compression might be useful is in the stored fields, but
there is no API for it in Lucene.

Kind regards,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8302-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 14 14:20:14 2004
Return-Path: <lucene-user-return-8302-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32303 invoked from network); 14 May 2004 14:20:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 May 2004 14:20:14 -0000
Received: (qmail 93557 invoked by uid 500); 14 May 2004 14:20:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93384 invoked by uid 500); 14 May 2004 14:20:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93167 invoked by uid 98); 14 May 2004 14:20:02 -0000
Received: from jt2oob@yahoo.co.uk by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(217.12.10.63):. 
 Processed in 0.309519 secs); 14 May 2004 14:20:02 -0000
X-Qmail-Scanner-Mail-From: jt2oob@yahoo.co.uk via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(217.12.10.63):. Processed in 0.309519 secs)
Received: from unknown (HELO web25203.mail.ukl.yahoo.com) (217.12.10.63)
  by hermes.apache.org with SMTP; 14 May 2004 14:20:01 -0000
Message-ID: <20040514141945.95064.qmail@web25203.mail.ukl.yahoo.com>
Received: from [80.47.200.220] by web25203.mail.ukl.yahoo.com via HTTP; Fri, 14 May 2004 15:19:45 BST
Date: Fri, 14 May 2004 15:19:45 +0100 (BST)
From: =?iso-8859-1?q?jt=20oob?= <jt2oob@yahoo.co.uk>
Subject: (Distributed) Search system designs
To: Lucene-Users-List <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I currently have a working search system based on lucene 1.2 as follows

14 indexes, average size just over 1G, min size 36M, max size 3.3G,
total size 15G.

Search times are currently between 20s and 4 minutes depending on the
query, the system uses a multisearcher to search all indexes. The
indexes are currently all stored on an internal raid.

There are lots of things wrong with the index, including many words
which should be in stop lists which aren't etc.

The search is run on a linux system with 8G of RAM and 2G of swap.

- - - -
I am looking at writing a replacement system, and this time trying to
everything properly, writing document parsers etc.

Any pointers would be well recieved!

The questions:

1) The documentation about how to get a basic lucene search going is
great, is there any similar documentation or a HOWTO on how to design
and implement distributed searches?

2) For distributed searches what are the best options for building in
redundancy? Is a large shared storage solution such a SAN required, or
will duplicating indexes on several machines suffice?

3) I had been told that using RAMDirectory on a linux system was
pointless because the kernel cached files in spare RAM anyway. Is this
true?

Thanks!

jt


	
	
		
____________________________________________________________
Yahoo! Messenger - Communicate instantly..."Ping" 
your friends today! Download Messenger Now 
http://uk.messenger.yahoo.com/download/index.html

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8303-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 14 15:23:27 2004
Return-Path: <lucene-user-return-8303-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76612 invoked from network); 14 May 2004 15:23:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 May 2004 15:23:27 -0000
Received: (qmail 50369 invoked by uid 500); 14 May 2004 15:23:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50248 invoked by uid 500); 14 May 2004 15:23:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50219 invoked by uid 98); 14 May 2004 15:23:29 -0000
Received: from paul@valinf.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(62.253.200.1):. 
 Processed in 0.238731 secs); 14 May 2004 15:23:29 -0000
X-Qmail-Scanner-Mail-From: paul@valinf.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(62.253.200.1):. Processed in 0.238731 secs)
Received: from unknown (HELO master.valinf.com) (62.253.200.1)
  by hermes.apache.org with SMTP; 14 May 2004 15:23:28 -0000
Message-ID: <566BCFC0EFBAAC40AF3EF4CA8228AD539E8711@master.valinf.com>
From: Paul Williams <paul@valinf.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: Getting a field value from a large indexed document is slow.
Date: Fri, 14 May 2004 16:22:14 +0100
MIME-Version: 1.0
Content-Type: text/plain
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I hope someone can help!
I am using Lucene to make a searching repository of electronic documents.
(MS Office, PDF's etc.). Some of these document can contain a large amount
of text (about 500K of text in some cases) which is indexed to make it
searchable. 

Doing the search and getting the hits found is not effected by the size of
the document found.

But when I try and access a field (my document id) in the document

 i.e.

// Create Lucene Doc with value
Document doc = hits.doc(i);

String number = doc.get("Field10");


The creation of the Lucene document can take up to a second per hit. I don't
actually use any of the other fields apart from getting my ID value from
field10.

So my question is:-

Is there a smarter way of getting out the 'Field10' value without it
populating all the rest of the fields in the Lucene document and therefore
reduce the time taken for this action.


Paul

DISCLAIMER:
 The information in this message is confidential and may be legally
privileged. It is intended solely for the addressee.  Access to this message
by anyone else is unauthorised.  If you are not the intended recipient, any
disclosure, copying, or distribution of the message,  or any action or
omission taken by you in reliance on it, is prohibited and may be unlawful.
Please immediately contact the sender if you have received this message in
error.
 Thank you.
 Valid Information Systems Limited.   Address:  Morline House,  160 London
Road,  Barking, Essex, IG11 8BB. 
http://www.valinf.com Tel: +44 (0) 20 8215 1414 Fax: +44 (0) 20 8215 2040 
-----------------------------------------

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8304-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 14 15:30:28 2004
Return-Path: <lucene-user-return-8304-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81124 invoked from network); 14 May 2004 15:30:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 May 2004 15:30:28 -0000
Received: (qmail 73494 invoked by uid 500); 14 May 2004 15:30:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73437 invoked by uid 500); 14 May 2004 15:30:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73394 invoked by uid 98); 14 May 2004 15:30:32 -0000
Received: from lu1@bihvhar.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.193.202.192):. 
 Processed in 0.018601 secs); 14 May 2004 15:30:32 -0000
X-Qmail-Scanner-Mail-From: lu1@bihvhar.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.193.202.192):. Processed in 0.018601 secs)
Received: from unknown (HELO nasa.lunarpages.com) (216.193.202.192)
  by hermes.apache.org with SMTP; 14 May 2004 15:30:31 -0000
Received: from pcp09530428pcs.ewndsr01.nj.comcast.net ([69.240.50.229] helo=pmc)
	by nasa.lunarpages.com with asmtp (Exim 4.34)
	id 1BOefD-0000jz-9Q
	for lucene-user@jakarta.apache.org; Fri, 14 May 2004 08:31:55 -0700
Message-ID: <01b701c439c8$5b3fb240$6400a8c0@CORP.AD.FACTIVA.NET>
From: "Peter M Cipollone" <lu1@bihvhar.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <566BCFC0EFBAAC40AF3EF4CA8228AD539E8711@master.valinf.com>
Subject: Re: Getting a field value from a large indexed document is slow.
Date: Fri, 14 May 2004 11:30:13 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - nasa.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - bihvhar.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Paul,

It might be worth your while to store the file itself outside lucene, and
only store the filename in the stored data.  This is generally how
relational databases deal with LOBs, and will work with Lucene, too.  You
will also save yourself hours when it comes time to merge indices or
optimize, since those operations are, in effect, large copy operations.

Regards,
Pete

----- Original Message ----- 
From: "Paul Williams" <paul@valinf.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Friday, May 14, 2004 11:22 AM
Subject: Getting a field value from a large indexed document is slow.


> Hi,
>
> I hope someone can help!
> I am using Lucene to make a searching repository of electronic documents.
> (MS Office, PDF's etc.). Some of these document can contain a large amount
> of text (about 500K of text in some cases) which is indexed to make it
> searchable.
>
> Doing the search and getting the hits found is not effected by the size of
> the document found.
>
> But when I try and access a field (my document id) in the document
>
>  i.e.
>
> // Create Lucene Doc with value
> Document doc = hits.doc(i);
>
> String number = doc.get("Field10");
>
>
> The creation of the Lucene document can take up to a second per hit. I
don't
> actually use any of the other fields apart from getting my ID value from
> field10.
>
> So my question is:-
>
> Is there a smarter way of getting out the 'Field10' value without it
> populating all the rest of the fields in the Lucene document and therefore
> reduce the time taken for this action.
>
>
> Paul
>
> DISCLAIMER:
>  The information in this message is confidential and may be legally
> privileged. It is intended solely for the addressee.  Access to this
message
> by anyone else is unauthorised.  If you are not the intended recipient,
any
> disclosure, copying, or distribution of the message,  or any action or
> omission taken by you in reliance on it, is prohibited and may be
unlawful.
> Please immediately contact the sender if you have received this message in
> error.
>  Thank you.
>  Valid Information Systems Limited.   Address:  Morline House,  160 London
> Road,  Barking, Essex, IG11 8BB.
> http://www.valinf.com Tel: +44 (0) 20 8215 1414 Fax: +44 (0) 20 8215 2040
> -----------------------------------------
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8305-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 14 15:41:43 2004
Return-Path: <lucene-user-return-8305-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88674 invoked from network); 14 May 2004 15:41:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 May 2004 15:41:43 -0000
Received: (qmail 16456 invoked by uid 500); 14 May 2004 15:41:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16300 invoked by uid 500); 14 May 2004 15:41:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16237 invoked by uid 98); 14 May 2004 15:41:12 -0000
Received: from david.townsend@magus.co.uk by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(193.131.98.10):. 
 Processed in 0.083251 secs); 14 May 2004 15:41:12 -0000
X-Qmail-Scanner-Mail-From: david.townsend@magus.co.uk via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(193.131.98.10):. Processed in 0.083251 secs)
Received: from unknown (HELO dougal.magus.co.uk) (193.131.98.10)
  by hermes.apache.org with SMTP; 14 May 2004 15:41:12 -0000
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Getting a field value from a large indexed document is slow.
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Date: Fri, 14 May 2004 16:40:56 +0100
Message-ID: <DA62FF8236FA314981B6FC0BDACD01E61DAD06@dougal.magus.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Getting a field value from a large indexed document is slow.
Thread-Index: AcQ5x4ccIFTslTiSTLezI8yQ38Sk/AAAY+zw
From: "David Townsend" <david.townsend@magus.co.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You say the content is indexed, is it stored?  If note, index the =
content of the document, but don't store it.

eg=20

doc.add(Field.UnStored("content", content));



-----Original Message-----
From: Paul Williams [mailto:paul@valinf.com]
Sent: 14 May 2004 16:22
To: 'Lucene Users List'
Subject: Getting a field value from a large indexed document is slow.


Hi,

I hope someone can help!
I am using Lucene to make a searching repository of electronic =
documents.
(MS Office, PDF's etc.). Some of these document can contain a large =
amount
of text (about 500K of text in some cases) which is indexed to make it
searchable.=20

Doing the search and getting the hits found is not effected by the size =
of
the document found.

But when I try and access a field (my document id) in the document

 i.e.

// Create Lucene Doc with value
Document doc =3D hits.doc(i);

String number =3D doc.get("Field10");


The creation of the Lucene document can take up to a second per hit. I =
don't
actually use any of the other fields apart from getting my ID value from
field10.

So my question is:-

Is there a smarter way of getting out the 'Field10' value without it
populating all the rest of the fields in the Lucene document and =
therefore
reduce the time taken for this action.


Paul

DISCLAIMER:
 The information in this message is confidential and may be legally
privileged. It is intended solely for the addressee.  Access to this =
message
by anyone else is unauthorised.  If you are not the intended recipient, =
any
disclosure, copying, or distribution of the message,  or any action or
omission taken by you in reliance on it, is prohibited and may be =
unlawful.
Please immediately contact the sender if you have received this message =
in
error.
 Thank you.
 Valid Information Systems Limited.   Address:  Morline House,  160 =
London
Road,  Barking, Essex, IG11 8BB.=20
http://www.valinf.com Tel: +44 (0) 20 8215 1414 Fax: +44 (0) 20 8215 =
2040=20
-----------------------------------------

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8306-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 14 16:20:02 2004
Return-Path: <lucene-user-return-8306-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15983 invoked from network); 14 May 2004 16:20:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 May 2004 16:20:02 -0000
Received: (qmail 96279 invoked by uid 500); 14 May 2004 16:20:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96218 invoked by uid 500); 14 May 2004 16:20:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96204 invoked by uid 98); 14 May 2004 16:20:06 -0000
Received: from hui@triplehop.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.74.150.80):. 
 Processed in 0.0272 secs); 14 May 2004 16:20:06 -0000
X-Qmail-Scanner-Mail-From: hui@triplehop.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.74.150.80):. Processed in 0.0272 secs)
Received: from unknown (HELO germany.prod.thop-ny.triplehop.com) (216.74.150.80)
  by hermes.apache.org with SMTP; 14 May 2004 16:20:06 -0000
Received: from hui2000 ([208.246.29.6]) by germany.prod.thop-ny.triplehop.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 14 May 2004 12:19:26 -0400
From: "hui" <hui@triplehop.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: exact the same score from different documents
Date: Fri, 14 May 2004 12:23:37 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Thread-Index: AcQ5x1m8dLD/O9SIQL+ay+GuA99rOgAB6POw
In-Reply-To: <566BCFC0EFBAAC40AF3EF4CA8228AD539E8711@master.valinf.com>
Message-ID: <GERMANYd9Ee4zadTMVw00000088@germany.prod.thop-ny.triplehop.com>
X-OriginalArrivalTime: 14 May 2004 16:19:27.0108 (UTC) FILETIME=[3A398C40:01C439CF]
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I am getting the exactly same score like 0. 04809519 for different size
documents for some queries and this happens quite frequently. Based on the
score formula, it seems this should rarely happen. Or I misunderstand the
formula?

Regards,
Hui


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8307-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 14 17:35:24 2004
Return-Path: <lucene-user-return-8307-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61604 invoked from network); 14 May 2004 17:35:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 May 2004 17:35:24 -0000
Received: (qmail 67976 invoked by uid 500); 14 May 2004 17:35:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67934 invoked by uid 500); 14 May 2004 17:35:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67919 invoked by uid 98); 14 May 2004 17:35:36 -0000
Received: from cutting@apache.org by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(209.10.110.95):. 
 Processed in 0.178792 secs); 14 May 2004 17:35:36 -0000
X-Qmail-Scanner-Mail-From: cutting@apache.org via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(209.10.110.95):. Processed in 0.178792 secs)
Received: from unknown (HELO londo.swishmail.com) (209.10.110.95)
  by hermes.apache.org with SMTP; 14 May 2004 17:35:36 -0000
Received: (qmail 23375 invoked by uid 89); 14 May 2004 17:35:14 -0000
Received: from unknown (HELO apache.org) (postmaster@cottrell-cutting.net@67.169.169.83)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 14 May 2004 17:35:14 -0000
Message-ID: <40A5033E.2050401@apache.org>
Date: Fri, 14 May 2004 10:34:54 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: exact the same score from different documents
References: <GERMANYd9Ee4zadTMVw00000088@germany.prod.thop-ny.triplehop.com>
In-Reply-To: <GERMANYd9Ee4zadTMVw00000088@germany.prod.thop-ny.triplehop.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

hui wrote:
> I am getting the exactly same score like 0. 04809519 for different size
> documents for some queries and this happens quite frequently. Based on the
> score formula, it seems this should rarely happen. Or I misunderstand the
> formula?

Normalization factors (& document boosts) are represented in the index 
using a one-byte float format with a 3-bit mantissa, which means that 
differences of plus-or-minus 1/8 are rounded to a single value.

For example, a field with 256 tokens by default has a lengthNorm() of 
16.0.  With a three-bit mantissa, values 16.0 to 18.0 are rounded to the 
same value, which means that fields with between 256 and 324 tokens will 
have the same effective length normalization.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8308-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 14 18:12:56 2004
Return-Path: <lucene-user-return-8308-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76404 invoked from network); 14 May 2004 18:12:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 May 2004 18:12:56 -0000
Received: (qmail 74723 invoked by uid 500); 14 May 2004 18:13:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74485 invoked by uid 500); 14 May 2004 18:13:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74471 invoked by uid 98); 14 May 2004 18:13:08 -0000
Received: from tlai@trekspace.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(207.245.223.231):. 
 Processed in 0.159649 secs); 14 May 2004 18:13:08 -0000
X-Qmail-Scanner-Mail-From: tlai@trekspace.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(207.245.223.231):. Processed in 0.159649 secs)
Received: from unknown (HELO trekspace.trekspace.com) (207.245.223.231)
  by hermes.apache.org with SMTP; 14 May 2004 18:13:08 -0000
Received: from trekspace.trekspace.com (trekspace@trekspace.trekspace.com [192.168.2.234])
	by trekspace.trekspace.com (8.12.3/8.12.3/Debian-6.6) with ESMTP id i4EICj3e019649
	for <lucene-user@jakarta.apache.org>; Fri, 14 May 2004 14:12:45 -0400
Message-ID: <8748342147173733191LNGFSUEAEO.tlai@trekspace.com>
Date: Fri, 14 May 2004 14:12:45 -0400 (EDT)
From: Terence Lai <tlai@trekspace.com>
Reply-To: Terence Lai <terence.lai@trekspace.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Question on QueryParser.parse() 
Mime-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
X-Mailer: Treklogic MailTool v1.6 http://www.treklogic.com
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am trying to create a query object using the QueryParser for the search word "A+". However, it always returns a Null object back. My code is stated below:

    Query q = QueryParser.parse("A\+", "myIndex", new StandardAnalyzer());

I've also tried the following query strings, but none of them returns the query object back.

    myIndex: A\+
    myIndex: "A\+"
    myIndex: "A+"

Does anyone know the solution?

By the way, I am using Lucence 1.4 RC3.

Thanks,
Terence






----------------------------------------------------------
Get your free email account from http://www.trekspace.com
          Your Internet Virtual Desktop!

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8309-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 14 19:49:47 2004
Return-Path: <lucene-user-return-8309-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27188 invoked from network); 14 May 2004 19:49:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 May 2004 19:49:47 -0000
Received: (qmail 11834 invoked by uid 500); 14 May 2004 19:50:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11732 invoked by uid 500); 14 May 2004 19:49:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11677 invoked by uid 98); 14 May 2004 19:49:59 -0000
Received: from lu1@bihvhar.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.193.202.192):. 
 Processed in 0.057695 secs); 14 May 2004 19:49:59 -0000
X-Qmail-Scanner-Mail-From: lu1@bihvhar.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.193.202.192):. Processed in 0.057695 secs)
Received: from unknown (HELO nasa.lunarpages.com) (216.193.202.192)
  by hermes.apache.org with SMTP; 14 May 2004 19:49:59 -0000
Received: from pcp09530428pcs.ewndsr01.nj.comcast.net ([69.240.50.229] helo=pmc)
	by nasa.lunarpages.com with asmtp (Exim 4.34)
	id 1BOii8-0006Ub-U7; Fri, 14 May 2004 12:51:13 -0700
Message-ID: <000b01c439ec$934a1f30$6400a8c0@CORP.AD.FACTIVA.NET>
From: "Peter M Cipollone" <lu1@bihvhar.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	"Terence Lai" <terence.lai@trekspace.com>
References: <8748342147173733191LNGFSUEAEO.tlai@trekspace.com>
Subject: Re: Question on QueryParser.parse() 
Date: Fri, 14 May 2004 15:49:28 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="UTF-8"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - nasa.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - bihvhar.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


----- Original Message ----- 
From: "Terence Lai" <tlai@trekspace.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Friday, May 14, 2004 2:12 PM
Subject: Question on QueryParser.parse()


> I am trying to create a query object using the QueryParser for the search
word "A+". However, it always returns a Null object back. My code is stated
below:
>
>     Query q = QueryParser.parse("A\+", "myIndex", new StandardAnalyzer());
>
> I've also tried the following query strings, but none of them returns the
query object back.
>
>     myIndex: A\+
>     myIndex: "A\+"
>     myIndex: "A+"
>
> Does anyone know the solution?

StandardAnalyzer is what's stopping you.  It will discard the letter "A"
because of its StopFilter, and it will discard the "+" because it considers
that character to be noise.  You have a few choices:

1. Build the query manually.

Query q = new TermQuery(new Term("myIndex", "A+");

This will only work if you actually indexed the term "A+" (i.e. if you did
not use StandardAnalyzer when you indexed the docs).

2. Use a different analyzer.  In this case, the only stock analyzer that
will work is the WhitespaceAnalyzer.

Bear in mind that if you switch analyzers you will have to reindex your
content with your new choice of analyzer.  If you need to search unusual
terms like this, you might want to make your own Analyzer out of a
WhitespaceTokenizer and a LowerCaseFilter, as follows:

class LcWsAnalyzer extends Analyzer {
  public TokenStream tokenStream(String fieldName, Reader reader) {
    return new LowerCaseFilter(new WhitespaceTokenizer(reader));
  }
}

When the above Analyzer is used,  QueryParser.parse() returns

myIndex:a+

as the term it will search for.

> By the way, I am using Lucence 1.4 RC3.
>
> Thanks,
> Terence
>
>
>
>
>
>
> ----------------------------------------------------------
> Get your free email account from http://www.trekspace.com
>           Your Internet Virtual Desktop!
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8310-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat May 15 07:47:46 2004
Return-Path: <lucene-user-return-8310-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29307 invoked from network); 15 May 2004 07:47:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 May 2004 07:47:45 -0000
Received: (qmail 97174 invoked by uid 500); 15 May 2004 07:48:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97100 invoked by uid 500); 15 May 2004 07:48:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97083 invoked by uid 98); 15 May 2004 07:48:04 -0000
Received: from mow@onlinehome.de by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(212.227.126.249):. 
 Processed in 0.246299 secs); 15 May 2004 07:48:04 -0000
X-Qmail-Scanner-Mail-From: mow@onlinehome.de via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(212.227.126.249):. Processed in 0.246299 secs)
Received: from unknown (HELO moutvdomng.kundenserver.de) (212.227.126.249)
  by hermes.apache.org with SMTP; 15 May 2004 07:48:04 -0000
Received: from [212.227.126.223] (helo=mrvdomng.kundenserver.de)
	by moutvdomng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1BOttF-0008HK-00
	for lucene-user@jakarta.apache.org; Sat, 15 May 2004 09:47:25 +0200
Received: from [80.128.83.115] (helo=eco)
	by mrvdomng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1BOttF-0004sH-00
	for lucene-user@jakarta.apache.org; Sat, 15 May 2004 09:47:25 +0200
Received: by eco (Postfix, from userid 1000)
	id 0EA5BC0; Sat, 15 May 2004 09:48:17 +0200 (CEST)
From: Morus Walter <morus.walter@gmx.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16549.52033.808736.464591@onlinehome.de>
Date: Sat, 15 May 2004 09:48:17 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: multivalue fields
In-Reply-To: <B46D8D7FF80ABC45BF8D1949592A4C713477FA@nte2k05.mpls.digitalriver.com>
References: <B46D8D7FF80ABC45BF8D1949592A4C713477FA@nte2k05.mpls.digitalriver.com>
X-Mailer: VM 7.07 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ryan Sonnek writes:
> using lucene 1.3-final, it appears to only search the first field with that name.  here's the code i'm using to construct the index, and I'm using Luke to check that the index is created correctly.  Everything looks fine, but my search returns empty.  do i have to use a special query to work with multivalue fields?  is there a testcase in the source that performs this kind of work that I could look at?

Don't know what goes wrong on your side, but this works just fine.
Maybe your fields are too long so that only part of it gets indexed
(look at IndexWriter.maxFieldLength).

A test program
      
import org.apache.lucene.document.*;
import org.apache.lucene.analysis.*;
import org.apache.lucene.index.*;
import org.apache.lucene.store.*;
import org.apache.lucene.search.*;
import org.apache.lucene.queryParser.QueryParser;

class LuceneTest 
{
    static String[] docs = {
	"a c", 
	"b d",
 
	"c e", 
	"d f", 

    };

    static String[] queries = {
	"a",
	"b",
	"c",
	"d",
 	"b OR c"
    };

    public static void main(String argv[]) throws Exception {
	Directory dir = new RAMDirectory();
	String[] stop = {};
	Analyzer analyzer = new StandardAnalyzer(stop);
	IndexWriter writer = new IndexWriter(dir, analyzer, true);

	// index documents (2 fields text each)
	for ( int i=0; i < docs.length; i+=2 ) {
	    Document doc = new Document();
	    doc.add(Field.Text("text", docs[i]));
	    doc.add(Field.Text("text", docs[i+1]));
	    writer.addDocument(doc);
	}
	writer.close();

	Searcher searcher = new IndexSearcher(dir);
	for ( int i=0; i < queries.length; i++ ) {
	    Query query = QueryParser.parse(queries[i], "text", analyzer);
	    Hits hits = searcher.search(query);
	    System.out.println("Query: " + query.toString("text"));
	    System.out.println("      " + hits.length() + " documents found");
	    for ( int j=0; j < hits.length(); j++ ) {
		Document doc = hits.doc(j);
		System.out.println("\t"+hits.id(j) + ": " + doc.get("text") + "\t    " + hits.score(j));
		//System.out.println("  "+ searcher.explain(query, hits.id(j)));
	    }
	}
    }
}

shows that search takes place in both fields.
Query: a
      1 documents found
        0: b d      0.5
Query: b
      1 documents found
        0: b d      0.5
Query: c
      2 documents found
        0: b d      0.2972674
        1: d f      0.2972674
Query: d
      2 documents found
        0: b d      0.2972674
        1: d f      0.2972674
Query: b c
      2 documents found
        0: b d      0.581694
        1: d f      0.0759574
	

But note, that this affects scoring as concatenation would.
So I think Otis answer is a bit missleading.
If you don't want the effects on scoring you AFAIK need to use different 
documents or fields.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8311-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat May 15 10:20:37 2004
Return-Path: <lucene-user-return-8311-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89018 invoked from network); 15 May 2004 10:20:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 May 2004 10:20:36 -0000
Received: (qmail 30847 invoked by uid 500); 15 May 2004 10:20:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30715 invoked by uid 500); 15 May 2004 10:20:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30701 invoked by uid 98); 15 May 2004 10:20:58 -0000
Received: from lucene@nitwit.de by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(62.67.200.164):. 
 Processed in 0.117033 secs); 15 May 2004 10:20:58 -0000
X-Qmail-Scanner-Mail-From: lucene@nitwit.de via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(62.67.200.164):. Processed in 0.117033 secs)
Received: from unknown (HELO smtprelay03.ispgateway.de) (62.67.200.164)
  by hermes.apache.org with SMTP; 15 May 2004 10:20:58 -0000
Received: (qmail 29051 invoked from network); 15 May 2004 10:20:17 -0000
Received: from unknown (HELO tcn.local) (652696@[217.231.249.104])
          (envelope-sender <lucene@nitwit.de>)
          by smtprelay03.ispgateway.de (qmail-ldap-1.03) with SMTP
          for <lucene-user@jakarta.apache.org>; 15 May 2004 10:20:17 -0000
Received: from localhost (localhost [127.0.0.1])
	by tcn.local (Postfix) with ESMTP id 70F532808
	for <lucene-user@jakarta.apache.org>; Sat, 15 May 2004 12:20:16 +0200 (CEST)
From: lucene@nitwit.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: pagable results
Date: Sat, 15 May 2004 12:20:16 +0200
User-Agent: KMail/1.6.2
References: <B46D8D7FF80ABC45BF8D1949592A4C7123B3A6@nte2k05.mpls.digitalriver.com>
In-Reply-To: <B46D8D7FF80ABC45BF8D1949592A4C7123B3A6@nte2k05.mpls.digitalriver.com>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200405151220.16031.lucene@nitwit.de>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday 11 May 2004 15:58, Ryan Sonnek wrote:
> When performing a search with lucene, is it possible to only return a
> subset of the results?  I need to be able to page through results, and it

Yes, http://www.nitwit.de/vlh2/ :-)

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8312-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun May 16 02:20:03 2004
Return-Path: <lucene-user-return-8312-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42578 invoked from network); 16 May 2004 02:20:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 May 2004 02:20:03 -0000
Received: (qmail 70163 invoked by uid 500); 16 May 2004 02:20:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69959 invoked by uid 500); 16 May 2004 02:19:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69941 invoked by uid 98); 16 May 2004 02:19:59 -0000
Received: from burton@newsmonster.org by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(12.43.53.196):. 
 Processed in 0.04711 secs); 16 May 2004 02:19:59 -0000
X-Qmail-Scanner-Mail-From: burton@newsmonster.org via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(12.43.53.196):. Processed in 0.04711 secs)
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by hermes.apache.org with SMTP; 16 May 2004 02:19:59 -0000
Received: from newsmonster.org (h-66-134-200-194.snvacaid.covad.net [66.134.200.194])
	by dev.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id i4G2Jnvs019637
	for <lucene-user@jakarta.apache.org>; Sat, 15 May 2004 19:19:49 -0700
Message-ID: <40A6CFC2.10802@newsmonster.org>
Date: Sat, 15 May 2004 19:19:46 -0700
From: Kevin Burton <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7b) Gecko/20040421
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Possible to fetch a document without all fields (for performance)?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Say I have a query result for the term Linux... now I just want the 
TITLE of these documents not the BODY.

To further this scenario imagine the TITLE is 500 bytes but the  BODY is 
50M.

The current impl of fetching a document will pull in ALL 50,000,500 
bytes not just the 500 that I need.

Obviously if I could just get the TITLE field this would be a HUGE speedup.

Is there a somewhat simple and efficient way to get a document with a 
restricted set of fields?  Digging through the API it didnt' seem 
obvious and using the SegmentReader directly didn't seem fun.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8313-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun May 16 03:47:31 2004
Return-Path: <lucene-user-return-8313-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69410 invoked from network); 16 May 2004 03:47:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 May 2004 03:47:31 -0000
Received: (qmail 44940 invoked by uid 500); 16 May 2004 03:47:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44827 invoked by uid 500); 16 May 2004 03:47:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44800 invoked by uid 98); 16 May 2004 03:47:29 -0000
Received: from Lisheng.Zhang@broadvision.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(12.158.35.212):. 
 Processed in 0.05779 secs); 16 May 2004 03:47:29 -0000
X-Qmail-Scanner-Mail-From: Lisheng.Zhang@broadvision.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(12.158.35.212):. Processed in 0.05779 secs)
Received: from unknown (HELO psmtp.com) (12.158.35.212)
  by hermes.apache.org with SMTP; 16 May 2004 03:47:29 -0000
Received: from source ([139.56.4.14]) by exprod6ob2.obsmtp.com ([12.158.35.250]) with SMTP;
	Sat, 15 May 2004 20:47:16 PDT
Received: from triangulum1.broadvision.com (triangulum1.broadvision.com [10.10.102.100])
	by nebula3.broadvision.com (8.10.2+Sun/8.10.2) with ESMTP id i4G3jSW23029
	for <lucene-user@jakarta.apache.org>; Sat, 15 May 2004 20:45:28 -0700 (PDT)
Received: from rw-gw-01.BroadVision.com (localhost [127.0.0.1])
	by triangulum1.broadvision.com (8.9.3+Sun/8.9.3) with ESMTP id UAA03282
	for <lucene-user@jakarta.apache.org>; Sat, 15 May 2004 20:47:45 -0700 (PDT)
Received: by rw-gw-01.broadvision.com with Internet Mail Service (5.5.2655.55)
	id <2M6FRA4L>; Sat, 15 May 2004 20:47:15 -0700
Message-ID: <8B1D2D7C0F3AD711A289000629383E66023C75C6@rw-msg-01.broadvision.com>
From: "Zhang, Lisheng" <Lisheng.Zhang@broadvision.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Cc: "Venkatraman, Shiv" <Shiv.Venkatraman@broadvision.com>
Subject: Build lucene1.4-rc3
Date: Sat, 15 May 2004 20:46:26 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I tried to build lucene 1.4 -rc3 with ant 1.5.3 and java 1.4.1_02.

When I type "ant clean", I got an error message:

build.xml:11: Unexpected element "tstamp".

It seems like ant version problem, but BUILD.txt said ant 1.5
should be good enough ?

Also BUILD.txt mentioned on root directory we should have
default.properties, but I did not this file (possible OK, I did not
see this file is referenced inside build.xml).

Thanks very much for helps, Lisheng

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8314-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun May 16 03:55:33 2004
Return-Path: <lucene-user-return-8314-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71065 invoked from network); 16 May 2004 03:55:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 May 2004 03:55:32 -0000
Received: (qmail 59378 invoked by uid 500); 16 May 2004 03:55:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59300 invoked by uid 500); 16 May 2004 03:55:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59281 invoked by uid 98); 16 May 2004 03:55:29 -0000
Received: from tlai@trekspace.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(207.245.223.231):. 
 Processed in 0.110417 secs); 16 May 2004 03:55:29 -0000
X-Qmail-Scanner-Mail-From: tlai@trekspace.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(207.245.223.231):. Processed in 0.110417 secs)
Received: from unknown (HELO trekspace.trekspace.com) (207.245.223.231)
  by hermes.apache.org with SMTP; 16 May 2004 03:55:29 -0000
Received: from trekspace.trekspace.com (trekspace@trekspace.trekspace.com [192.168.2.234])
	by trekspace.trekspace.com (8.12.3/8.12.3/Debian-6.6) with ESMTP id i4G3tE3e016605;
	Sat, 15 May 2004 23:55:14 -0400
Message-ID: <2836270397864521736TLAHFDIFRJ.tlai@trekspace.com>
Date: Sat, 15 May 2004 23:55:14 -0400 (EDT)
From: Terence Lai <tlai@trekspace.com>
Reply-To: Terence Lai <terence.lai@trekspace.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: Build lucene1.4-rc3
Cc: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>,
   "Venkatraman, Shiv" <Shiv.Venkatraman@broadvision.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Mailer: Treklogic MailTool v1.6 http://www.treklogic.com
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You need to use Ant 1.6 to build lucene. The BUILD.txt does mention that.

Basic steps:
  0) Install JDK 1.2 (or greater), Ant 1.6 (or greater), and the Ant
     optional.jar
  1) Download Lucene from Apache and unpack it
  2) Connect to the top-level of your Lucene installation
  3) Install JavaCC (optional)
  4) Run ant

Hope this helps.

> Hi,
> 
> I tried to build lucene 1.4 -rc3 with ant 1.5.3 and java 1.4.1_02.
> 
> When I type "ant clean", I got an error message:
> 
> build.xml:11: Unexpected element "tstamp".
> 
> It seems like ant version problem, but BUILD.txt said ant 1.5
> should be good enough ?
> 
> Also BUILD.txt mentioned on root directory we should have
> default.properties, but I did not this file (possible OK, I did not
> see this file is referenced inside build.xml).
> 
> Thanks very much for helps, Lisheng
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 




----------------------------------------------------------
Get your free email account from http://www.trekspace.com
          Your Internet Virtual Desktop!

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8315-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun May 16 03:57:54 2004
Return-Path: <lucene-user-return-8315-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73079 invoked from network); 16 May 2004 03:57:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 May 2004 03:57:54 -0000
Received: (qmail 64546 invoked by uid 500); 16 May 2004 03:57:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64507 invoked by uid 500); 16 May 2004 03:57:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64491 invoked by uid 98); 16 May 2004 03:57:52 -0000
Received: from Lisheng.Zhang@broadvision.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(12.158.35.214):. 
 Processed in 0.013363 secs); 16 May 2004 03:57:52 -0000
X-Qmail-Scanner-Mail-From: Lisheng.Zhang@broadvision.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(12.158.35.214):. Processed in 0.013363 secs)
Received: from unknown (HELO psmtp.com) (12.158.35.214)
  by hermes.apache.org with SMTP; 16 May 2004 03:57:52 -0000
Received: from source ([139.56.4.14]) by exprod6ob4.obsmtp.com ([12.158.35.250]) with SMTP;
	Sat, 15 May 2004 20:57:39 PDT
Received: from triangulum1.broadvision.com (triangulum1.broadvision.com [10.10.102.100])
	by nebula3.broadvision.com (8.10.2+Sun/8.10.2) with ESMTP id i4G3tpW23112
	for <lucene-user@jakarta.apache.org>; Sat, 15 May 2004 20:55:51 -0700 (PDT)
Received: from rw-gw-01.BroadVision.com (localhost [127.0.0.1])
	by triangulum1.broadvision.com (8.9.3+Sun/8.9.3) with ESMTP id UAA03302
	for <lucene-user@jakarta.apache.org>; Sat, 15 May 2004 20:58:08 -0700 (PDT)
Received: by rw-gw-01.broadvision.com with Internet Mail Service (5.5.2655.55)
	id <2M6FRA4Q>; Sat, 15 May 2004 20:57:38 -0700
Message-ID: <8B1D2D7C0F3AD711A289000629383E66023C75C7@rw-msg-01.broadvision.com>
From: "Zhang, Lisheng" <Lisheng.Zhang@broadvision.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Cc: "Venkatraman, Shiv" <Shiv.Venkatraman@broadvision.com>
Subject: RE: Build lucene1.4-rc3
Date: Sat, 15 May 2004 20:56:49 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks very much for this quick help, actually
I looked at lucene 13 BUILD.txt.

Best regards, Lisheng

-----Original Message-----
From: Terence Lai [mailto:tlai@trekspace.com]
Sent: Saturday, May 15, 2004 8:55 PM
To: Lucene Users List
Cc: 'lucene-user@jakarta.apache.org'; Venkatraman, Shiv
Subject: RE: Build lucene1.4-rc3


You need to use Ant 1.6 to build lucene. The BUILD.txt does mention that.

Basic steps:
  0) Install JDK 1.2 (or greater), Ant 1.6 (or greater), and the Ant
     optional.jar
  1) Download Lucene from Apache and unpack it
  2) Connect to the top-level of your Lucene installation
  3) Install JavaCC (optional)
  4) Run ant

Hope this helps.

> Hi,
> 
> I tried to build lucene 1.4 -rc3 with ant 1.5.3 and java 1.4.1_02.
> 
> When I type "ant clean", I got an error message:
> 
> build.xml:11: Unexpected element "tstamp".
> 
> It seems like ant version problem, but BUILD.txt said ant 1.5
> should be good enough ?
> 
> Also BUILD.txt mentioned on root directory we should have
> default.properties, but I did not this file (possible OK, I did not
> see this file is referenced inside build.xml).
> 
> Thanks very much for helps, Lisheng
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 




----------------------------------------------------------
Get your free email account from http://www.trekspace.com
          Your Internet Virtual Desktop!

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8316-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun May 16 22:00:27 2004
Return-Path: <lucene-user-return-8316-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28865 invoked from network); 16 May 2004 22:00:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 May 2004 22:00:27 -0000
Received: (qmail 20459 invoked by uid 500); 16 May 2004 22:00:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20422 invoked by uid 500); 16 May 2004 22:00:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20407 invoked by uid 98); 16 May 2004 22:00:22 -0000
Received: from jak-lucene-user@m.gmane.org by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(80.91.224.249):. 
 Processed in 0.130556 secs); 16 May 2004 22:00:22 -0000
X-Qmail-Scanner-Mail-From: jak-lucene-user@m.gmane.org via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(80.91.224.249):. Processed in 0.130556 secs)
Received: from unknown (HELO main.gmane.org) (80.91.224.249)
  by hermes.apache.org with SMTP; 16 May 2004 22:00:22 -0000
Received: from root by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1BPTg4-0006i0-00
	for <lucene-user@jakarta.apache.org>; Mon, 17 May 2004 00:00:12 +0200
Received: from dsl081-051-168.sfo1.dsl.speakeasy.net ([64.81.51.168])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Mon, 17 May 2004 00:00:12 +0200
Received: from alex by dsl081-051-168.sfo1.dsl.speakeasy.net with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Mon, 17 May 2004 00:00:12 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: "Alex Chaffee" <alex@jguru.com>
Subject: IBM JIT 1.3.1 vs. Lucene?
Date: Sun, 16 May 2004 14:49:19 -0700
Organization: Purple Technology
Lines: 29
Message-ID: <c88nl1$95c$1@sea.gmane.org>
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: dsl081-051-168.sfo1.dsl.speakeasy.net
X-MSMail-Priority: Normal
X-Newsreader: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Sender: news <news@sea.gmane.org>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On the jGuru Lucene FAQ, I discovered the following:

http://www.jguru.com/faq/view.jsp?EID=1152238

"Apparently there is a bug in IBM's JIT code in JDK 1.3.1. To work around
it, disable JIT for the org.apache.lucene.store.OutputStream.writeInt method
by setting the following environment variable:
JITC_COMPILEOPT=SKIP{org/apache/lucene/store/OutputStream}{writeInt} "

However, I am now using Lucene on WebSphere using IBM's JDK 1.3.1,
apparently successfully. How do I know if I'm vulnerable to this bug? What
are the cases in which it could manifest? Could IBM have fixed the bug in an
update?

The reason I don't just set the environment variable is that it's
politically difficult to change any configuration of the servers at my
client. We have a different workaround -- a homegrown search index using
hashtables -- but we'd prefer to use Lucene... but not if there's a chance
of getting a bug in production. We're down to the wire and need to decide
whether to use Lucene or not for this deployment... Can you shed any light
on this?

Thanks much -

 - Alex Chaffee
alex@jguru.com
http://www.purpletech.com/




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8317-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun May 16 22:37:25 2004
Return-Path: <lucene-user-return-8317-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38024 invoked from network); 16 May 2004 22:37:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 May 2004 22:37:25 -0000
Received: (qmail 88303 invoked by uid 500); 16 May 2004 22:37:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87814 invoked by uid 500); 16 May 2004 22:37:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87800 invoked by uid 98); 16 May 2004 22:37:21 -0000
Received: from alfred.ostermeier@arcor.de by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(141.60.160.5):. 
 Processed in 0.102423 secs); 16 May 2004 22:37:21 -0000
X-Qmail-Scanner-Mail-From: alfred.ostermeier@arcor.de via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(141.60.160.5):. Processed in 0.102423 secs)
Received: from unknown (HELO webmail.fh-rosenheim.de) (141.60.160.5)
  by hermes.apache.org with SMTP; 16 May 2004 22:37:21 -0000
Received: from arcor.de (wohnheim27.fh-rosenheim.de [141.60.167.27])
	by webmail.fh-rosenheim.de (Postfix) with ESMTP id BF903354407
	for <lucene-user@jakarta.apache.org>; Mon, 17 May 2004 00:30:15 +0200 (CEST)
Message-ID: <40A7ED16.2090905@arcor.de>
Date: Mon, 17 May 2004 00:37:10 +0200
From: Alfred Ostermeier <alfred.ostermeier@arcor.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040401 Debian/1.6-4
X-Accept-Language: en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: Native Hits or Term Highlighting
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

the change-log of lucene says: "Also added Term Highlighting to Misc
Section. (carlson)"

Sounds like native term highlighting or am i wrong? How can i implement
this feature? (Where is the "Misc" section?)

Greetings,
Alfred

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8318-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun May 16 23:04:11 2004
Return-Path: <lucene-user-return-8318-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45516 invoked from network); 16 May 2004 23:04:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 May 2004 23:04:11 -0000
Received: (qmail 49252 invoked by uid 500); 16 May 2004 23:04:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49123 invoked by uid 500); 16 May 2004 23:04:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49096 invoked by uid 98); 16 May 2004 23:04:07 -0000
Received: from MSenkel@europe.sial.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(199.217.212.91):. 
 Processed in 0.168814 secs); 16 May 2004 23:04:07 -0000
X-Qmail-Scanner-Mail-From: MSenkel@europe.sial.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(199.217.212.91):. Processed in 0.168814 secs)
Received: from unknown (HELO stlspfw2.sial.com) (199.217.212.91)
  by hermes.apache.org with SMTP; 16 May 2004 23:04:07 -0000
Received: from stllnhub01.sial.com (stllnhub01.sial.com [141.247.245.88])
	by stlspfw2.sial.com with ESMTP id i4GN3tu8021158
	for <lucene-user@jakarta.apache.org>; Sun, 16 May 2004 18:03:55 -0500 (CDT)
Subject: Marten Senkel/IS/EUROPE/SIALEUROPE is out of the office.
From: Marten Senkel <MSenkel@europe.sial.com>
To: lucene-user@jakarta.apache.org
Message-ID: <OF86F46FBB.A2E636D4-ONC1256E96.007EB259-C1256E96.007EB259@sial.com>
Date: Mon, 17 May 2004 01:03:51 +0200
MIME-Version: 1.0
Content-type: multipart/alternative; 
	Boundary="0__=4EBBE405DFED34C98f9e8a93df938690918c4EBBE405DFED34C9"
Content-Disposition: inline
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0__=4EBBE405DFED34C98f9e8a93df938690918c4EBBE405DFED34C9
Content-type: text/plain; charset=US-ASCII





I will be out of the office starting  2004-05-15 and will not return until
2004-06-01.

Please contact Nicolas Guala-Molino for any request.

Thanks!
--0__=4EBBE405DFED34C98f9e8a93df938690918c4EBBE405DFED34C9--


From lucene-user-return-8319-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 17 00:04:15 2004
Return-Path: <lucene-user-return-8319-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61202 invoked from network); 17 May 2004 00:04:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 May 2004 00:04:15 -0000
Received: (qmail 72169 invoked by uid 500); 17 May 2004 00:04:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72125 invoked by uid 500); 17 May 2004 00:04:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72104 invoked by uid 98); 17 May 2004 00:04:11 -0000
Received: from otis_gospodnetic@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.136.173.241):. 
 Processed in 0.08679 secs); 17 May 2004 00:04:11 -0000
X-Qmail-Scanner-Mail-From: otis_gospodnetic@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.136.173.241):. Processed in 0.08679 secs)
Received: from unknown (HELO web12704.mail.yahoo.com) (216.136.173.241)
  by hermes.apache.org with SMTP; 17 May 2004 00:04:11 -0000
Message-ID: <20040517000401.68394.qmail@web12704.mail.yahoo.com>
Received: from [195.29.50.75] by web12704.mail.yahoo.com via HTTP; Sun, 16 May 2004 17:04:01 PDT
Date: Sun, 16 May 2004 17:04:01 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Native Hits or Term Highlighting
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <40A7ED16.2090905@arcor.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Uh, that is something ancient (version 1.2 release candidate - we are
at 1.4 rc3 now).  You are in luck, though.  Take a look at the Lucene
Sandbox (link on the site) and check out the Highlighter ... ah, here
is the link:
http://cvs.apache.org/viewcvs/jakarta-lucene-sandbox/contributions/highlighter/

Otis

--- Alfred Ostermeier <alfred.ostermeier@arcor.de> wrote:
> Hello,
> 
> the change-log of lucene says: "Also added Term Highlighting to Misc
> Section. (carlson)"
> 
> Sounds like native term highlighting or am i wrong? How can i
> implement
> this feature? (Where is the "Misc" section?)
> 
> Greetings,
> Alfred
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8320-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 17 00:07:09 2004
Return-Path: <lucene-user-return-8320-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61994 invoked from network); 17 May 2004 00:07:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 May 2004 00:07:09 -0000
Received: (qmail 79059 invoked by uid 500); 17 May 2004 00:07:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78961 invoked by uid 500); 17 May 2004 00:07:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78947 invoked by uid 98); 17 May 2004 00:07:07 -0000
Received: from otis_gospodnetic@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.136.173.245):. 
 Processed in 0.02944 secs); 17 May 2004 00:07:07 -0000
X-Qmail-Scanner-Mail-From: otis_gospodnetic@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.136.173.245):. Processed in 0.02944 secs)
Received: from unknown (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by hermes.apache.org with SMTP; 17 May 2004 00:07:07 -0000
Message-ID: <20040517000656.50723.qmail@web12708.mail.yahoo.com>
Received: from [195.29.50.75] by web12708.mail.yahoo.com via HTTP; Sun, 16 May 2004 17:06:56 PDT
Date: Sun, 16 May 2004 17:06:56 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: IBM JIT 1.3.1 vs. Lucene?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <c88nl1$95c$1@sea.gmane.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I do not recall anyone fixing this issue (there was/is a case open in
Bugzilla).  2 AM, time for bed.

Otis

--- Alex Chaffee <alex@jguru.com> wrote:
> On the jGuru Lucene FAQ, I discovered the following:
> 
> http://www.jguru.com/faq/view.jsp?EID=1152238
> 
> "Apparently there is a bug in IBM's JIT code in JDK 1.3.1. To work
> around
> it, disable JIT for the org.apache.lucene.store.OutputStream.writeInt
> method
> by setting the following environment variable:
> JITC_COMPILEOPT=SKIP{org/apache/lucene/store/OutputStream}{writeInt}
> "
> 
> However, I am now using Lucene on WebSphere using IBM's JDK 1.3.1,
> apparently successfully. How do I know if I'm vulnerable to this bug?
> What
> are the cases in which it could manifest? Could IBM have fixed the
> bug in an
> update?
> 
> The reason I don't just set the environment variable is that it's
> politically difficult to change any configuration of the servers at
> my
> client. We have a different workaround -- a homegrown search index
> using
> hashtables -- but we'd prefer to use Lucene... but not if there's a
> chance
> of getting a bug in production. We're down to the wire and need to
> decide
> whether to use Lucene or not for this deployment... Can you shed any
> light
> on this?
> 
> Thanks much -
> 
>  - Alex Chaffee
> alex@jguru.com
> http://www.purpletech.com/
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8321-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 17 09:08:14 2004
Return-Path: <lucene-user-return-8321-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23636 invoked from network); 17 May 2004 09:08:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 May 2004 09:08:14 -0000
Received: (qmail 34659 invoked by uid 500); 17 May 2004 09:08:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34618 invoked by uid 500); 17 May 2004 09:08:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34592 invoked by uid 98); 17 May 2004 09:08:11 -0000
Received: from Fredrik.Lindner@r5.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(217.10.23.4):. 
 Processed in 0.016217 secs); 17 May 2004 09:08:11 -0000
X-Qmail-Scanner-Mail-From: Fredrik.Lindner@r5.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(217.10.23.4):. Processed in 0.016217 secs)
Received: from unknown (HELO r5dmdxch01.r5.com) (217.10.23.4)
  by hermes.apache.org with SMTP; 17 May 2004 09:08:11 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: hierarchical search
Date: Mon, 17 May 2004 11:07:48 +0200
Message-ID: <A72747EAE5F95D488A07F079F66CB164011CC45E@r5dmdxch01.r5.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: hierarchical search
thread-index: AcQ77myPQX0YiVYjQAmS5Y6RAlzjUQ==
From: "Fredrik Lindner" <Fredrik.Lindner@r5.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all!

I'm currently developing an application in which text searching is a
main component. Among other things, a document will contain a field
denoting hierarchical information. The information is stored as a string
using the common path syntax, /x/y/z/etc/...

I would like to be able to search documents based on the path field
using two different selection criteria's,

1. given a prefix path and a suffix path select all documents for which
the path start with the supplied prefix, ends with the suffix and has
"some path" in between.

2. like (1) but with the requirement that "some path" spans one and one
level only. i.e. it defines a strict grandparent/grandchild relationship
between the last path entry of the prefix and the first of the suffix.

For example, with prefix /p1/p2/p3/ and suffix /s1/s2/s3/ and three
documents with the path filed values

a) /p1/p2/p3/x/s1/s2/s3/
b) /p1/p2/p3/y/s1/s2/s3/
c) /p1/p2/p3/x/y/s1/s2/s3/

case one should select them all whereas case two should select only a)
and b).

My problem is that I am uncertain on how to implement the second case. I
guess I have to extend the Lucene internals somehow but I am quite too
inexperienced regarding Lucene to do so directly. Any pointers, hints or
comments are most welcome.

Regards
/Fredrik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8322-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 17 09:35:16 2004
Return-Path: <lucene-user-return-8322-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45408 invoked from network); 17 May 2004 09:35:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 May 2004 09:35:16 -0000
Received: (qmail 46102 invoked by uid 500); 17 May 2004 09:35:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46017 invoked by uid 500); 17 May 2004 09:35:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45965 invoked by uid 98); 17 May 2004 09:35:10 -0000
Received: from Alex.McManus@fdisolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(213.143.10.2):. 
 Processed in 0.258709 secs); 17 May 2004 09:35:10 -0000
X-Qmail-Scanner-Mail-From: Alex.McManus@fdisolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(213.143.10.2):. Processed in 0.258709 secs)
Received: from unknown (HELO sygnet.syspace.co.uk) (213.143.10.2)
  by hermes.apache.org with SMTP; 17 May 2004 09:35:09 -0000
Received: from fernley ([213.143.11.200]) by sygnet.syspace.co.uk
          (Netscape Messaging Server 3.6)  with ESMTP id AAA3373
          for <lucene-user@jakarta.apache.org>;
          Mon, 17 May 2004 10:36:16 +0100
Reply-To: <alex.mcmanus@fdgroup.com>
From: "Alex McManus" <alex.mcmanus@fdgroup.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: multivalue fields
Date: Mon, 17 May 2004 10:34:45 +0100
Organization: fdi
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <16549.52033.808736.464591@onlinehome.de>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
thread-index: AcQ6UROrDHUzDMKiQCaL+t0eUY7DcgBn0v8g
Message-ID: <777366FDE20.AAA3373@sygnet.syspace.co.uk>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


> Maybe your fields are too long so that only part of it gets indexed (look
at IndexWriter.maxFieldLength).

This is interesting, I've had a look at the JavaDoc and I think I
understand. The maximum field length describes the maximum number of unique
terms, not the maximum number of words/tokens. Therefore, even if I have a
4Gb field, I could quite safely have a maxFieldLength of, say, 100k words
which should safely handle the maximum number of unique words, rather than
800 million which would be needed to handle every token.

Is this correct? 

Is 100k a worrying maxFieldLength, in terms of how much memory this would
consume?

Does Lucene issue a warning if this limit is exceeded during indexing (it
would be quite worrying if it was silently discarding terms)?

Thanks in advance,

Alex.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8323-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 17 09:51:54 2004
Return-Path: <lucene-user-return-8323-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55993 invoked from network); 17 May 2004 09:51:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 May 2004 09:51:54 -0000
Received: (qmail 95011 invoked by uid 500); 17 May 2004 09:51:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94967 invoked by uid 500); 17 May 2004 09:51:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94953 invoked by uid 98); 17 May 2004 09:51:56 -0000
Received: from karthik@controlnet.co.in by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.199.26.74):. 
 Processed in 0.687152 secs); 17 May 2004 09:51:56 -0000
X-Qmail-Scanner-Mail-From: karthik@controlnet.co.in via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.199.26.74):. Processed in 0.687152 secs)
Received: from unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by hermes.apache.org with SMTP; 17 May 2004 09:51:55 -0000
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HXURWW00.USM for <lucene-user@jakarta.apache.org>; Mon,
          17 May 2004 15:32:56 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: SELECTIVE Indexing
Date: Mon, 17 May 2004 15:29:12 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIGEDECAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
In-Reply-To: <A72747EAE5F95D488A07F079F66CB164011CC45E@r5dmdxch01.r5.com>
Importance: Normal
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi all

   Can Some Body tell me How to Index  CERTAIN PORTION OF THE HTML FILE Only

   ex:-
        <table .....>
               ....

         </table>


with regards
Karthik




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8324-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 17 09:57:02 2004
Return-Path: <lucene-user-return-8324-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58442 invoked from network); 17 May 2004 09:57:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 May 2004 09:57:02 -0000
Received: (qmail 14506 invoked by uid 500); 17 May 2004 09:57:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14470 invoked by uid 500); 17 May 2004 09:57:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14443 invoked by uid 98); 17 May 2004 09:57:03 -0000
Received: from Kiran.Viparthi@fao.org by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(168.202.2.12):. 
 Processed in 0.04934 secs); 17 May 2004 09:57:03 -0000
X-Qmail-Scanner-Mail-From: Kiran.Viparthi@fao.org via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(168.202.2.12):. Processed in 0.04934 secs)
Received: from unknown (HELO smtpmail.fao.org) (168.202.2.12)
  by hermes.apache.org with SMTP; 17 May 2004 09:57:03 -0000
Received: from CONVERSION-DAEMON.smtpmail.fao.org by smtpmail.fao.org
 (PMDF V6.2-X17 #30673) id <0HXU00J01RTDU3@smtpmail.fao.org> for
 lucene-user@jakarta.apache.org; Mon, 17 May 2004 12:00:49 +0200 (MEST)
Received: from afexch1.fao.org (afexch1.fao.org [168.202.2.84])
 by smtpmail.fao.org (PMDF V6.2-X17 #30673)
 with ESMTP id <0HXU00HBHRTDUI@smtpmail.fao.org> for
 lucene-user@jakarta.apache.org; Mon, 17 May 2004 12:00:49 +0200 (MEST)
Received: by afexch1.fao.org with Internet Mail Service (5.5.2657.72)
	id <K6D46KB7>; Mon, 17 May 2004 11:56:41 +0200
Content-return: allowed
Date: Mon, 17 May 2004 11:56:40 +0200
From: "Viparthi, Kiran (AFIS)" <Kiran.Viparthi@fao.org>
Subject: RE: SELECTIVE Indexing
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Message-id: <DD0BDCCADFDA4349AA5300F8B33F2B7F0259D47F@afexch3.fao.org>
MIME-version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-type: text/plain
Content-transfer-encoding: 7BIT
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Try using Tidy.
Creates a Document of the html and allows you to apply xpath.
Hope this helps.

Kiran.

-----Original Message-----
From: Karthik N S [mailto:karthik@controlnet.co.in] 
Sent: 17 May 2004 11:59
To: Lucene Users List
Subject: SELECTIVE Indexing



Hi all

   Can Some Body tell me How to Index  CERTAIN PORTION OF THE HTML FILE Only

   ex:-
        <table .....>
               ....

         </table>


with regards
Karthik




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8325-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 17 10:18:10 2004
Return-Path: <lucene-user-return-8325-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74147 invoked from network); 17 May 2004 10:18:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 May 2004 10:18:10 -0000
Received: (qmail 72581 invoked by uid 500); 17 May 2004 10:17:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72417 invoked by uid 500); 17 May 2004 10:17:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72180 invoked by uid 98); 17 May 2004 10:17:55 -0000
Received: from matt@ctx.com.au by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(66.216.98.59):. 
 Processed in 0.123757 secs); 17 May 2004 10:17:55 -0000
X-Qmail-Scanner-Mail-From: matt@ctx.com.au via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(66.216.98.59):. Processed in 0.123757 secs)
Received: from unknown (HELO rs9.luxsci.com) (66.216.98.59)
  by hermes.apache.org with SMTP; 17 May 2004 10:17:54 -0000
Received: from [192.168.70.246] (ppp152-16.lns1.cbr1.internode.on.net [150.101.152.16])
	(authenticated bits=0)
	by rs9.luxsci.com (8.12.11/8.12.10) with ESMTP id i4HAHTsJ012779
	for <lucene-user@jakarta.apache.org>; Mon, 17 May 2004 05:17:31 -0500
Message-ID: <40A8918C.5030907@ctx.com.au>
Date: Mon, 17 May 2004 20:18:52 +1000
From: Matt Quail <matt@ctx.com.au>
User-Agent: Mozilla Thunderbird 0.6 (Windows/20040502)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: hierarchical search
References: <A72747EAE5F95D488A07F079F66CB164011CC45E@r5dmdxch01.r5.com>
In-Reply-To: <A72747EAE5F95D488A07F079F66CB164011CC45E@r5dmdxch01.r5.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Fredrik,

I would tackle your problem like this:

Say that that field you want to index is "path". I would turn this into
*three* indexed fields:
1) multiple path prefixes ("pre-paths")
2) multiple path suffixes ("post-paths")
3) the number of "components" in the path ("path-size").

For example, for a "path" of "/foo/bar/dog/cat/fish" I would index it
like this:

doc.add(Field.Keyword("pre-paths", "/foo/bar/dog/cat/fish/"));
doc.add(Field.Keyword("pre-paths", "/foo/bar/dog/cat/"));
doc.add(Field.Keyword("pre-paths", "/foo/bar/dog/"));
doc.add(Field.Keyword("pre-paths", "/foo/bar/"));
doc.add(Field.Keyword("pre-paths", "/foo/"));
doc.add(Field.Keyword("pre-paths", "/"));
doc.add(Field.Keyword("post-paths", "/foo/bar/dog/cat/fish/"));
doc.add(Field.Keyword("post-paths", "/bar/dog/cat/fish/"));
doc.add(Field.Keyword("post-paths", "/dog/cat/fish/"));
doc.add(Field.Keyword("post-paths", "/cat/fish/"));
doc.add(Field.Keyword("post-paths", "/fish/"));
doc.add(Field.Keyword("post-paths", "/"));
doc.add(Field.Keyword("path-size", "5"));

And to do your "type 2" search for (prefix="/p1/p2/p3/" and
suffix="/s1/s2/s3/") I would use a query like this:

Query q = QueryParser.parse("pre-paths:'/p1/p2/p3/' AND
post-paths:'/s1/s2/s3/ AND (path-size:7)'");

The trick is to lock down the prefix and suffix, then define the amount
of "slack" between the prefix and the suffix using the path-size. If you
wanted the "slack" between either end to be zero or one segments, then
change the size clause to something like (path-size:6 OR path-size:7)


I think that should work.

=Matt


Fredrik Lindner wrote:

> Hi all!
> 
> I'm currently developing an application in which text searching is a
> main component. Among other things, a document will contain a field
> denoting hierarchical information. The information is stored as a string
> using the common path syntax, /x/y/z/etc/...
> 
> I would like to be able to search documents based on the path field
> using two different selection criteria's,
> 
> 1. given a prefix path and a suffix path select all documents for which
> the path start with the supplied prefix, ends with the suffix and has
> "some path" in between.
> 
> 2. like (1) but with the requirement that "some path" spans one and one
> level only. i.e. it defines a strict grandparent/grandchild relationship
> between the last path entry of the prefix and the first of the suffix.
> 
> For example, with prefix /p1/p2/p3/ and suffix /s1/s2/s3/ and three
> documents with the path filed values
> 
> a) /p1/p2/p3/x/s1/s2/s3/
> b) /p1/p2/p3/y/s1/s2/s3/
> c) /p1/p2/p3/x/y/s1/s2/s3/
> 
> case one should select them all whereas case two should select only a)
> and b).
> 
> My problem is that I am uncertain on how to implement the second case. I
> guess I have to extend the Lucene internals somehow but I am quite too
> inexperienced regarding Lucene to do so directly. Any pointers, hints or
> comments are most welcome.
> 
> Regards
> /Fredrik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8326-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 17 10:20:36 2004
Return-Path: <lucene-user-return-8326-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76339 invoked from network); 17 May 2004 10:20:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 May 2004 10:20:35 -0000
Received: (qmail 80220 invoked by uid 500); 17 May 2004 10:20:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80150 invoked by uid 500); 17 May 2004 10:20:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80108 invoked by uid 98); 17 May 2004 10:20:11 -0000
Received: from morus@tanto-xipolis.de by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(213.61.178.43):. 
 Processed in 0.256783 secs); 17 May 2004 10:20:11 -0000
X-Qmail-Scanner-Mail-From: morus@tanto-xipolis.de via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(213.61.178.43):. Processed in 0.256783 secs)
Received: from unknown (HELO mail.tanto.de) (213.61.178.43)
  by hermes.apache.org with SMTP; 17 May 2004 10:20:11 -0000
Received: from tucholsky.office.tanto.de (morus.office.tanto.de [10.0.1.4])
	by mail.tanto.de (Postfix) with ESMTP
	id 8EBFD23BD4; Mon, 17 May 2004 12:21:09 +0200 (CEST)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id i4HAJoGL032334;
	Mon, 17 May 2004 12:19:50 +0200
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id i4HAJnaU032330;
	Mon, 17 May 2004 12:19:49 +0200
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16552.37317.863217.746795@tanto-xipolis.de>
Date: Mon, 17 May 2004 12:19:49 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	<alex.mcmanus@fdgroup.com>
Subject: RE: multivalue fields
In-Reply-To: <777366FDE20.AAA3373@sygnet.syspace.co.uk>
References: <16549.52033.808736.464591@onlinehome.de>
	<777366FDE20.AAA3373@sygnet.syspace.co.uk>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Alex McManus writes:
> 
> > Maybe your fields are too long so that only part of it gets indexed (look
> at IndexWriter.maxFieldLength).
> 
> This is interesting, I've had a look at the JavaDoc and I think I
> understand. The maximum field length describes the maximum number of unique
> terms, not the maximum number of words/tokens. Therefore, even if I have a
> 4Gb field, I could quite safely have a maxFieldLength of, say, 100k words
> which should safely handle the maximum number of unique words, rather than
> 800 million which would be needed to handle every token.
> 
> Is this correct? 

A short look at the source says no.

maxFieldLength is handed to DocumentWriter where one finds

          TokenStream stream = analyzer.tokenStream(fieldName, reader);
          try {
            for (Token t = stream.next(); t != null; t = stream.next()) {
              position += (t.getPositionIncrement() - 1);
              addPosition(fieldName, t.termText(), position++);
              if (++length > maxFieldLength) break;
            }
          } finally {
            stream.close();
          }

so it's the number of terms not the number of different tokens.

> 
> Is 100k a worrying maxFieldLength, in terms of how much memory this would
> consume?
> 
Depends on the size of your documents ;-)
I use 250000 without problems, but my documents are not as big (<40000
tokens). I just want to make sure, not to loose any text for indexing.

> Does Lucene issue a warning if this limit is exceeded during indexing (it
> would be quite worrying if it was silently discarding terms)?
> 
no.
I guess the idea behind this limit is, that the relevant terms should occur
in the first n words and indexing the rest just increases index size.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8327-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 17 10:23:17 2004
Return-Path: <lucene-user-return-8327-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79106 invoked from network); 17 May 2004 10:23:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 May 2004 10:23:17 -0000
Received: (qmail 92739 invoked by uid 500); 17 May 2004 10:23:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92586 invoked by uid 500); 17 May 2004 10:23:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92518 invoked by uid 98); 17 May 2004 10:23:10 -0000
Received: from karthik@controlnet.co.in by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.199.26.74):. 
 Processed in 0.364538 secs); 17 May 2004 10:23:10 -0000
X-Qmail-Scanner-Mail-From: karthik@controlnet.co.in via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.199.26.74):. Processed in 0.364538 secs)
Received: from unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by hermes.apache.org with SMTP; 17 May 2004 10:23:09 -0000
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HXUTCX00.UW4 for <lucene-user@jakarta.apache.org>; Mon,
          17 May 2004 16:04:09 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: SELECTIVE Indexing
Date: Mon, 17 May 2004 16:00:25 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKICEDFCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
In-Reply-To: <DD0BDCCADFDA4349AA5300F8B33F2B7F0259D47F@afexch3.fao.org>
Importance: Normal
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

Can I Use TIDY [as plug in ] with Lucene ...


with regards
Karthik

-----Original Message-----
From: Viparthi, Kiran (AFIS) [mailto:Kiran.Viparthi@fao.org]
Sent: Monday, May 17, 2004 3:27 PM
To: 'Lucene Users List'
Subject: RE: SELECTIVE Indexing



Try using Tidy.
Creates a Document of the html and allows you to apply xpath.
Hope this helps.

Kiran.

-----Original Message-----
From: Karthik N S [mailto:karthik@controlnet.co.in]
Sent: 17 May 2004 11:59
To: Lucene Users List
Subject: SELECTIVE Indexing



Hi all

   Can Some Body tell me How to Index  CERTAIN PORTION OF THE HTML FILE Only

   ex:-
        <table .....>
               ....

         </table>


with regards
Karthik




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8328-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 17 12:45:01 2004
Return-Path: <lucene-user-return-8328-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73490 invoked from network); 17 May 2004 12:45:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 May 2004 12:45:01 -0000
Received: (qmail 28931 invoked by uid 500); 17 May 2004 12:44:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28881 invoked by uid 500); 17 May 2004 12:44:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28851 invoked by uid 98); 17 May 2004 12:44:52 -0000
Received: from Fredrik.Lindner@r5.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(217.10.23.4):. 
 Processed in 0.264068 secs); 17 May 2004 12:44:52 -0000
X-Qmail-Scanner-Mail-From: Fredrik.Lindner@r5.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(217.10.23.4):. Processed in 0.264068 secs)
Received: from unknown (HELO r5dmdxch01.r5.com) (217.10.23.4)
  by hermes.apache.org with SMTP; 17 May 2004 12:44:52 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: hierarchical search
Date: Mon, 17 May 2004 14:44:42 +0200
Message-ID: <A72747EAE5F95D488A07F079F66CB164011CC45F@r5dmdxch01.r5.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: hierarchical search
thread-index: AcQ7+DXg1sZsmzbvRfeaaHsEIWr53QAE4/hA
From: "Fredrik Lindner" <Fredrik.Lindner@r5.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Matt, thanks for your reply!

Indeed your proposed solution would work for the simple case I
described, however I failed to mention that I must be able to combine
the described queries to a complex one and there for can't make any
assumptions based on size attribute. I'm sorry If I wasted your time.

On the bright side though I found that creating a specialized query
wasn't that difficult at all. A quick scan through the WildCardQuery
class and the related WildCardQueryEnum gave me some valuable hints
regarding this.=20

If there is any interest I would happily contribute the code back to the
community.

Regards
/Fredrik



-----Original Message-----
From: Matt Quail [mailto:matt@ctx.com.au]=20
Sent: den 17 maj 2004 12:19
To: Lucene Users List
Subject: Re: hierarchical search

Fredrik,

I would tackle your problem like this:

Say that that field you want to index is "path". I would turn this into
*three* indexed fields:
1) multiple path prefixes ("pre-paths")
2) multiple path suffixes ("post-paths")
3) the number of "components" in the path ("path-size").

For example, for a "path" of "/foo/bar/dog/cat/fish" I would index it
like this:

doc.add(Field.Keyword("pre-paths", "/foo/bar/dog/cat/fish/"));
doc.add(Field.Keyword("pre-paths", "/foo/bar/dog/cat/"));
doc.add(Field.Keyword("pre-paths", "/foo/bar/dog/"));
doc.add(Field.Keyword("pre-paths", "/foo/bar/"));
doc.add(Field.Keyword("pre-paths", "/foo/"));
doc.add(Field.Keyword("pre-paths", "/"));
doc.add(Field.Keyword("post-paths", "/foo/bar/dog/cat/fish/"));
doc.add(Field.Keyword("post-paths", "/bar/dog/cat/fish/"));
doc.add(Field.Keyword("post-paths", "/dog/cat/fish/"));
doc.add(Field.Keyword("post-paths", "/cat/fish/"));
doc.add(Field.Keyword("post-paths", "/fish/"));
doc.add(Field.Keyword("post-paths", "/"));
doc.add(Field.Keyword("path-size", "5"));

And to do your "type 2" search for (prefix=3D"/p1/p2/p3/" and
suffix=3D"/s1/s2/s3/") I would use a query like this:

Query q =3D QueryParser.parse("pre-paths:'/p1/p2/p3/' AND
post-paths:'/s1/s2/s3/ AND (path-size:7)'");

The trick is to lock down the prefix and suffix, then define the amount
of "slack" between the prefix and the suffix using the path-size. If you
wanted the "slack" between either end to be zero or one segments, then
change the size clause to something like (path-size:6 OR path-size:7)


I think that should work.

=3DMatt


Fredrik Lindner wrote:

> Hi all!
>=20
> I'm currently developing an application in which text searching is a
> main component. Among other things, a document will contain a field
> denoting hierarchical information. The information is stored as a
string
> using the common path syntax, /x/y/z/etc/...
>=20
> I would like to be able to search documents based on the path field
> using two different selection criteria's,
>=20
> 1. given a prefix path and a suffix path select all documents for
which
> the path start with the supplied prefix, ends with the suffix and has
> "some path" in between.
>=20
> 2. like (1) but with the requirement that "some path" spans one and
one
> level only. i.e. it defines a strict grandparent/grandchild
relationship
> between the last path entry of the prefix and the first of the suffix.
>=20
> For example, with prefix /p1/p2/p3/ and suffix /s1/s2/s3/ and three
> documents with the path filed values
>=20
> a) /p1/p2/p3/x/s1/s2/s3/
> b) /p1/p2/p3/y/s1/s2/s3/
> c) /p1/p2/p3/x/y/s1/s2/s3/
>=20
> case one should select them all whereas case two should select only a)
> and b).
>=20
> My problem is that I am uncertain on how to implement the second case.
I
> guess I have to extend the Lucene internals somehow but I am quite too
> inexperienced regarding Lucene to do so directly. Any pointers, hints
or
> comments are most welcome.
>=20
> Regards
> /Fredrik
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20
>=20




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8329-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 17 15:08:08 2004
Return-Path: <lucene-user-return-8329-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93094 invoked from network); 17 May 2004 15:08:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 May 2004 15:08:07 -0000
Received: (qmail 80692 invoked by uid 500); 17 May 2004 15:08:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80652 invoked by uid 500); 17 May 2004 15:08:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80613 invoked by uid 98); 17 May 2004 15:08:00 -0000
Received: from rselvaraj@searchblox.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(194.217.242.86):. 
 Processed in 0.299985 secs); 17 May 2004 15:08:00 -0000
X-Qmail-Scanner-Mail-From: rselvaraj@searchblox.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(194.217.242.86):. Processed in 0.299985 secs)
Received: from unknown (HELO anchor-post-37.mail.demon.net) (194.217.242.86)
  by hermes.apache.org with SMTP; 17 May 2004 15:08:00 -0000
Received: from selvaraj.demon.co.uk ([62.49.59.195] helo=searchblox.com)
	by anchor-post-37.mail.demon.net with esmtp (Exim 3.35 #1)
	id 1BPjiS-000MDk-0b; Mon, 17 May 2004 16:07:44 +0100
Message-ID: <40A8D53F.2020804@searchblox.com>
Date: Mon, 17 May 2004 16:07:43 +0100
From: Robert Selvaraj <rselvaraj@searchblox.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.4) Gecko/20030624 Netscape/7.1 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>, 
 lucene-dev@jakarta.apache.org
Subject: SearchBlox J2EE Search Component Version 1.3 released
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

SearchBlox is a J2EE Search Component that delivers out-of-the-box 
search functionality for quick integration with your websites, 
applications, intranets and portals. SearchBlox uses the Lucene Search 
API and incorporates integrated HTTP/HTTPS and File System crawlers, 
support for various document formats including HTML, Word, PDF, 
PowerPoint and Excel, support for indexing and searching content in 17 
languages and customizable search results, all controlled from a 
browser-based Admin Console. SearchBlox is available as a Web Archive 
(WAR) and is deployable on any Servlet 2.3/JSP 1.2 compliant server.


Main features in this release:
==============================
- Support for HTTPS: SearchBlox can index HTTPS content without any 
special configuration
- Support for Form-Based Authentication: SearchBlox spiders can index 
restricted content protected with form-based authentication
- Performance enhancements


SearchBlox Getting-Started Guides are available for the following servers:

JBoss -http://www.searchblox.com/gettingstarted_jboss.html
Jetty - http://www.searchblox.com/gettingstarted_jetty.html
JRun - http://www.searchblox.com/gettingstarted_jrun.html
Pramati - http://www.searchblox.com/gettingstarted_pramati.html
Resin - http://www.searchblox.com/gettingstarted_resin.html
Sun - http://www.searchblox.com/gettingstarted_sun.html
Tomcat - http://www.searchblox.com/gettingstarted_tomcat.html
Weblogic - http://www.searchblox.com/gettingstarted_weblogic.html
Websphere - http://www.searchblox.com/gettingstarted_websphere.html


The SearchBlox FREE Edition is available free of charge and can index up 
to 1000 documents.

The software can be downloaded from http://www.searchblox.com






---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8330-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 17 16:04:28 2004
Return-Path: <lucene-user-return-8330-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36717 invoked from network); 17 May 2004 16:04:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 May 2004 16:04:28 -0000
Received: (qmail 49905 invoked by uid 500); 17 May 2004 16:04:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49819 invoked by uid 500); 17 May 2004 16:04:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49446 invoked by uid 98); 17 May 2004 16:04:17 -0000
Received: from otis_gospodnetic@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.136.173.243):. 
 Processed in 0.019688 secs); 17 May 2004 16:04:17 -0000
X-Qmail-Scanner-Mail-From: otis_gospodnetic@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.136.173.243):. Processed in 0.019688 secs)
Received: from unknown (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by hermes.apache.org with SMTP; 17 May 2004 16:04:17 -0000
Message-ID: <20040517160357.59158.qmail@web12706.mail.yahoo.com>
Received: from [194.152.216.91] by web12706.mail.yahoo.com via HTTP; Mon, 17 May 2004 09:03:57 PDT
Date: Mon, 17 May 2004 09:03:57 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: SELECTIVE Indexing
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <LOEGLEEGOAKBOLAJCCKICEDFCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Lucene has no plug-in architecture, and does not assume you are
indexing web pages, so your use of JTidy is all up to you, and
independent of Lucene.  Just feed Lucene the resulting text that you
want to index and search.

Otis

--- Karthik N S <karthik@controlnet.co.in> wrote:
> Hi
> 
> Can I Use TIDY [as plug in ] with Lucene ...
> 
> 
> with regards
> Karthik
> 
> -----Original Message-----
> From: Viparthi, Kiran (AFIS) [mailto:Kiran.Viparthi@fao.org]
> Sent: Monday, May 17, 2004 3:27 PM
> To: 'Lucene Users List'
> Subject: RE: SELECTIVE Indexing
> 
> 
> 
> Try using Tidy.
> Creates a Document of the html and allows you to apply xpath.
> Hope this helps.
> 
> Kiran.
> 
> -----Original Message-----
> From: Karthik N S [mailto:karthik@controlnet.co.in]
> Sent: 17 May 2004 11:59
> To: Lucene Users List
> Subject: SELECTIVE Indexing
> 
> 
> 
> Hi all
> 
>    Can Some Body tell me How to Index  CERTAIN PORTION OF THE HTML
> FILE Only
> 
>    ex:-
>         <table .....>
>                ....
> 
>          </table>
> 
> 
> with regards
> Karthik
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8331-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 17 18:15:59 2004
Return-Path: <lucene-user-return-8331-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27200 invoked from network); 17 May 2004 18:15:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 May 2004 18:15:59 -0000
Received: (qmail 7495 invoked by uid 500); 17 May 2004 18:16:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7353 invoked by uid 500); 17 May 2004 18:16:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7303 invoked by uid 98); 17 May 2004 18:16:12 -0000
Received: from gsingers@syr.edu by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(128.230.248.25):. 
 Processed in 0.092336 secs); 17 May 2004 18:16:12 -0000
X-Qmail-Scanner-Mail-From: gsingers@syr.edu via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(128.230.248.25):. Processed in 0.092336 secs)
Received: from unknown (HELO gwia201.syr.edu) (128.230.248.25)
  by hermes.apache.org with SMTP; 17 May 2004 18:16:12 -0000
Received: from MTA2-MTA by gwia201.syr.edu
	with Novell_GroupWise; Mon, 17 May 2004 14:15:46 -0400
Message-Id: <s0a8c912.065@gwia201.syr.edu>
X-Mailer: Novell GroupWise Internet Agent 6.0.4
Date: Mon, 17 May 2004 14:15:23 -0400
From: "Grant Ingersoll" <gsingers@syr.edu>
To: <lucene-user@jakarta.apache.org>
Subject: Lucene 1.4 RC 3 issue with temp directory
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi All,

I just upgraded to 1.4 RC 3 and am now unable to open my index.

I am getting:=20
java.io.IOException: The system cannot find the path specified
        at java.io.WinNTFileSystem.createFileExclusively(Native Method)
        at java.io.File.createNewFile(File.java:828)
        at org.apache.lucene.store.FSDirectory$1.obtain(FSDirectory.java:29=
7)
        at org.apache.lucene.store.Lock.obtain(Lock.java:53)
        at org.apache.lucene.store.Lock$With.run(Lock.java:108)
        at org.apache.lucene.index.IndexReader.open(IndexReader.java:111)
        at org.apache.lucene.index.IndexReader.open(IndexReader.java:95)
        at org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java=
:38)
....

I _have_ reindexed using the new lucene jar.  I am positive the path is =
correct as I can open an index in the same directory with the old Lucene =
with no problems.  I notice that the problem only occurs when I am =
deployed inside of Tomcat.  If I run searches on the command line or =
through JUnit everything functions correctly. =20

When I print out the lockDir location that is trying to be obtained above, =
it looks like: C:\ENG\index\LDC\trec-ar-dar\..\temp which is the directory =
my index resides in, except ..\temp does not exist.  When I create the =
directory, it works.  I suppose I could create the temp directory for =
every index, but I didn't know that was a requirement.  I do notice that =
Tomcat has a temp directory at the top, so it is probably setting some =
system property ("java.io.tmpdir"????) variable to "..\temp" that is being =
picked up by Lucene?  The question is, what changed in RC 3 that would =
cause this to be used when it wasn't before?=20

On a side note, would it be useful to create the lock directory if it =
doesn't exist?  If the developers think so, I can submit the patch for it.

Thanks,
Grant


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8332-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 17 18:36:41 2004
Return-Path: <lucene-user-return-8332-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39081 invoked from network); 17 May 2004 18:36:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 May 2004 18:36:41 -0000
Received: (qmail 82976 invoked by uid 500); 17 May 2004 18:36:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82935 invoked by uid 500); 17 May 2004 18:36:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82915 invoked by uid 98); 17 May 2004 18:36:57 -0000
Received: from wallen@Cyveillance.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(63.100.163.104):. 
 Processed in 0.011164 secs); 17 May 2004 18:36:57 -0000
X-Qmail-Scanner-Mail-From: wallen@Cyveillance.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(63.100.163.104):. Processed in 0.011164 secs)
Received: from unknown (HELO mercury.corp.cyveillance.com) (63.100.163.104)
  by hermes.apache.org with SMTP; 17 May 2004 18:36:57 -0000
Received: by mercury.corp.cyveillance.com with Internet Mail Service (5.5.2655.55)
	id <KMGDFMAM>; Mon, 17 May 2004 14:35:34 -0400
Message-ID: <E65AE9703B683F4C81B5B39C692EB26D1B0171@mercury.corp.cyveillance.com>
From: wallen@Cyveillance.com
To: lucene-user@jakarta.apache.org
Subject: Can documents be appended to?
Date: Mon, 17 May 2004 14:35:32 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Is it possible to append to an existing document?

Judging by my own tests and this thread, NO.
http://issues.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apac
he.org&msgNo=3971

Wouldn't it be possible to look up an individual document (based upon a uid
of sorts), then load the Fields off of the old one, delete it, then add the
new document.  Is there any hope of doing this efficiently?  This would run
into problems when merging indexes, you would get duplicates if they existed
on more than 1 of your original indexes.

Thank you,
Will

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8333-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 17 21:04:46 2004
Return-Path: <lucene-user-return-8333-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31448 invoked from network); 17 May 2004 21:04:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 May 2004 21:04:46 -0000
Received: (qmail 61102 invoked by uid 500); 17 May 2004 21:05:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61062 invoked by uid 500); 17 May 2004 21:05:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61046 invoked by uid 98); 17 May 2004 21:05:05 -0000
Received: from Eric.Isakson@sas.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(149.173.6.17):. 
 Processed in 0.070953 secs); 17 May 2004 21:05:05 -0000
X-Qmail-Scanner-Mail-From: Eric.Isakson@sas.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(149.173.6.17):. Processed in 0.070953 secs)
Received: from unknown (HELO merc94.na.sas.com) (149.173.6.17)
  by hermes.apache.org with SMTP; 17 May 2004 21:05:04 -0000
Received: from MERC23.na.sas.com ([10.19.9.179]) by merc94.na.sas.com with InterScan Messaging Security Suite; Mon, 17 May 2004 17:04:30 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Lucene 1.4 RC 3 issue with temp directory
Date: Mon, 17 May 2004 17:04:30 -0400
Message-ID: <38BCC8D26B88894DB8D921BD95121CAC099341@MERC23.na.sas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene 1.4 RC 3 issue with temp directory
Thread-Index: AcQ8OyrkVuKUowXlRni+TpAswxoSKAAFhy6Q
From: "Eric Isakson" <Eric.Isakson@sas.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Your catalina.bat script is guessing your CATALINA_HOME environment =
variable since you don't have one set and is setting java.io.tmpdir =
based on that guess. You could work around this by setting a =
CATALINA_HOME environment variable or setting the system property =
org.apache.lucene.lockdir. That doesn't solve the problem for Lucene =
locks when java.io.tmpdir is set to a relative path that does not exist =
though.

Eric

-----Original Message-----
From: Grant Ingersoll [mailto:gsingers@syr.edu]=20
Sent: Monday, May 17, 2004 2:15 PM
To: lucene-user@jakarta.apache.org
Subject: Lucene 1.4 RC 3 issue with temp directory


Hi All,

I just upgraded to 1.4 RC 3 and am now unable to open my index.

I am getting:=20
java.io.IOException: The system cannot find the path specified
        at java.io.WinNTFileSystem.createFileExclusively(Native Method)
        at java.io.File.createNewFile(File.java:828)
        at =
org.apache.lucene.store.FSDirectory$1.obtain(FSDirectory.java:297)
        at org.apache.lucene.store.Lock.obtain(Lock.java:53)
        at org.apache.lucene.store.Lock$With.run(Lock.java:108)
        at =
org.apache.lucene.index.IndexReader.open(IndexReader.java:111)
        at org.apache.lucene.index.IndexReader.open(IndexReader.java:95)
        at =
org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:38)
....

I _have_ reindexed using the new lucene jar.  I am positive the path is =
correct as I can open an index in the same directory with the old Lucene =
with no problems.  I notice that the problem only occurs when I am =
deployed inside of Tomcat.  If I run searches on the command line or =
through JUnit everything functions correctly. =20

When I print out the lockDir location that is trying to be obtained =
above, it looks like: C:\ENG\index\LDC\trec-ar-dar\..\temp which is the =
directory my index resides in, except ..\temp does not exist.  When I =
create the directory, it works.  I suppose I could create the temp =
directory for every index, but I didn't know that was a requirement.  I =
do notice that Tomcat has a temp directory at the top, so it is probably =
setting some system property ("java.io.tmpdir"????) variable to =
"..\temp" that is being picked up by Lucene?  The question is, what =
changed in RC 3 that would cause this to be used when it wasn't before?=20

On a side note, would it be useful to create the lock directory if it =
doesn't exist?  If the developers think so, I can submit the patch for =
it.

Thanks,
Grant


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8334-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 18 10:50:00 2004
Return-Path: <lucene-user-return-8334-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11096 invoked from network); 18 May 2004 10:50:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 May 2004 10:50:00 -0000
Received: (qmail 37568 invoked by uid 500); 18 May 2004 10:49:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37398 invoked by uid 500); 18 May 2004 10:49:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37135 invoked by uid 98); 18 May 2004 10:49:41 -0000
Received: from otis_gospodnetic@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.136.173.243):. 
 Processed in 0.145605 secs); 18 May 2004 10:49:41 -0000
X-Qmail-Scanner-Mail-From: otis_gospodnetic@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.136.173.243):. Processed in 0.145605 secs)
Received: from unknown (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by hermes.apache.org with SMTP; 18 May 2004 10:49:40 -0000
Message-ID: <20040518104939.25482.qmail@web12706.mail.yahoo.com>
Received: from [194.152.224.42] by web12706.mail.yahoo.com via HTTP; Tue, 18 May 2004 03:49:39 PDT
Date: Tue, 18 May 2004 03:49:39 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene 1.4 RC 3 issue with temp directory
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <s0a8c912.065@gwia201.syr.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

People frequently have problems when using Lucene with Tomcat.  I
recall somebody mentioning some security policy.  I use Jetty and don't
have such issues.
Regarding creating lock dir if it doesn't exist - sure.  I think we
have a bug open in Bugzilla for that issue.

Otis

--- Grant Ingersoll <gsingers@syr.edu> wrote:
> Hi All,
> 
> I just upgraded to 1.4 RC 3 and am now unable to open my index.
> 
> I am getting: 
> java.io.IOException: The system cannot find the path specified
>         at java.io.WinNTFileSystem.createFileExclusively(Native
> Method)
>         at java.io.File.createNewFile(File.java:828)
>         at
> org.apache.lucene.store.FSDirectory$1.obtain(FSDirectory.java:297)
>         at org.apache.lucene.store.Lock.obtain(Lock.java:53)
>         at org.apache.lucene.store.Lock$With.run(Lock.java:108)
>         at
> org.apache.lucene.index.IndexReader.open(IndexReader.java:111)
>         at
> org.apache.lucene.index.IndexReader.open(IndexReader.java:95)
>         at
> org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:38)
> ....
> 
> I _have_ reindexed using the new lucene jar.  I am positive the path
> is correct as I can open an index in the same directory with the old
> Lucene with no problems.  I notice that the problem only occurs when
> I am deployed inside of Tomcat.  If I run searches on the command
> line or through JUnit everything functions correctly.  
> 
> When I print out the lockDir location that is trying to be obtained
> above, it looks like: C:\ENG\index\LDC\trec-ar-dar\..\temp which is
> the directory my index resides in, except ..\temp does not exist. 
> When I create the directory, it works.  I suppose I could create the
> temp directory for every index, but I didn't know that was a
> requirement.  I do notice that Tomcat has a temp directory at the
> top, so it is probably setting some system property
> ("java.io.tmpdir"????) variable to "..\temp" that is being picked up
> by Lucene?  The question is, what changed in RC 3 that would cause
> this to be used when it wasn't before? 
> 
> On a side note, would it be useful to create the lock directory if it
> doesn't exist?  If the developers think so, I can submit the patch
> for it.
> 
> Thanks,
> Grant
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8335-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 18 11:20:44 2004
Return-Path: <lucene-user-return-8335-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30073 invoked from network); 18 May 2004 11:20:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 May 2004 11:20:44 -0000
Received: (qmail 99155 invoked by uid 500); 18 May 2004 11:19:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99028 invoked by uid 500); 18 May 2004 11:19:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98836 invoked by uid 98); 18 May 2004 11:19:02 -0000
Received: from list@aurebekk.net by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(62.70.14.38):. 
 Processed in 0.434452 secs); 18 May 2004 11:19:02 -0000
X-Qmail-Scanner-Mail-From: list@aurebekk.net via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(62.70.14.38):. Processed in 0.434452 secs)
Received: from unknown (HELO mail.hosted.servetheworld.net) (62.70.14.38)
  by hermes.apache.org with SMTP; 18 May 2004 11:19:01 -0000
Received: (qmail 40189 invoked by uid 399); 18 May 2004 11:18:56 -0000
Received: from unknown (HELO 62.70.14.23) (62.70.14.23)
  by mail.hosted.servetheworld.net with SMTP; 18 May 2004 11:18:56 -0000
Received: from 80.203.192.162
        (SquirrelMail authenticated user ole-jorgen@aurebekk.net)
        by 62.70.14.23 with HTTP;
        Tue, 18 May 2004 13:18:56 +0200 (CEST)
Message-ID: <3725.80.203.192.162.1084879136.squirrel@62.70.14.23>
Date: Tue, 18 May 2004 13:18:56 +0200 (CEST)
Subject: IndexWriter.docCount() reporting 0
From: "OJ" <list@aurebekk.net>
To: lucene-user@jakarta.apache.org
Reply-To: list@aurebekk.net
User-Agent: SquirrelMail/1.4.2
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3
Importance: Normal
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi!

I'm having some trouble with an index of mine. Basically, I'm having a
content managment system with a timertask that regularily triggers an
indexing method. This method indexes content that has been added to the
CMS since last excecution of the indexing method. This all works fine...
Or so it seems. During this weekend I ran an automated test where I
change, add and delete objects in the CMS to see if they are indexed
alright. After some 13 hours of reporting numbers between 120-160
documents, my IndexWriter suddenly reported 0 (and kept on doing it for 2
days). There was no Exception prior to this - it just happened. A simple
restart made the index work again, so I guess the actual index folder
content is allright.

Basically, all I do is :

on timed intervals {
   create org.apache.lucene.index.IndexReader indexReader from basedir;
   while( there are changed/deleted documents ) {
      indexReader.delete( some term );
   }
   indexReader.close()
   create org.apache.lucene.index.IndexWriter indexWriter from basedir;
   while( there are added/changed documents ){
      create org.apache.lucene.document.Document and add fields;
      indexWriter.addDocument();
   }
   indexWriter.optimize();
   system.out.println( "I am indexing " + indexWriter.docCount() );
   indexWriter.close();
}

Has anyone experienced similar problems? Anyone found a way to "kick" the
IndexWriter back into action without restarting?
I'm running Resin 2.1.10 on windows XP, java version 1.4.2_03 and Lucene
version 1.3 final.

OJ

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8336-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 18 15:43:09 2004
Return-Path: <lucene-user-return-8336-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35961 invoked from network); 18 May 2004 15:43:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 May 2004 15:43:09 -0000
Received: (qmail 70932 invoked by uid 500); 18 May 2004 15:43:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70780 invoked by uid 500); 18 May 2004 15:43:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70739 invoked by uid 98); 18 May 2004 15:43:16 -0000
Received: from citylists@petmystone.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(64.26.0.85):. 
 Processed in 0.017076 secs); 18 May 2004 15:43:16 -0000
X-Qmail-Scanner-Mail-From: citylists@petmystone.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(64.26.0.85):. Processed in 0.017076 secs)
Received: from unknown (HELO sonny.siteprotect.com) (64.26.0.85)
  by hermes.apache.org with SMTP; 18 May 2004 15:43:15 -0000
Received: from petmystone.com ([4.21.127.37])
	by sonny.siteprotect.com (8.11.6/8.11.6) with ESMTP id i4IFgsJ12301
	for <lucene-user@jakarta.apache.org>; Tue, 18 May 2004 10:42:54 -0500
Message-ID: <40AA2EF4.5060304@petmystone.com>
Date: Tue, 18 May 2004 11:42:44 -0400
From: Timothy Stone <citylists@petmystone.com>
Reply-To: citylists@petmystone.com
Organization: City of Harrisburg, PA
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Bad file descriptor (IOException) using SearchBean contribution
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Lucene Users,

I'm using the SearchBean contribution from the sandbox to implement a 
Struts application search with Lucene (taking ACO's advice and going MVC 
on the demo app.)

Right now I'm having a problem with using any Document objects that 
might be available and getting an IOException.

So basically what I'm doing, and pardon the marshalling code, etc.

I have an action that determines the users desired search (internal via 
Lucene or external via Google) and forwards appropiately. If the search 
is directed to Lucene I create new SearchBean using:

     searchBean = new SearchBean(
                          FSDirectory.getDirectory(
                              getServlet().getInitParameter( "index" ),
                              false ),
                      query );

This bean is put on the request for use in the results.jsp page.

I'm able to quite a bit of work with the bean, determine hits, page 
counts, etc. except yank a document and display the indexed fields (I'm 
using the org.apache.lucene.demo.IndexHTML) such as "title", "summary", 
and "url".

curr position: <%= searchBean.getHitsIterator().getCurrentPosition() %>

<%  if( searchBean.getHitsIterator().hasNext() ) {
         Document doc = searchBean.getHitsIterator().next(); // BOOM!
     }
%>

Any ideas? I only see K. Burton's FSDirectory patch in the archives, but 
nothing I don't have from CVS.

Here's the stack trace:

java.io.IOException: Bad file descriptor
	at java.io.RandomAccessFile.seek(Native Method)
	at org.apache.lucene.store.FSInputStream.readInternal(FSDirectory.java:428)
	at org.apache.lucene.store.InputStream.refill(InputStream.java:196)
	at org.apache.lucene.store.InputStream.readByte(InputStream.java:81)
	at org.apache.lucene.store.InputStream.readInt(InputStream.java:111)
	at org.apache.lucene.store.InputStream.readLong(InputStream.java:134)
	at org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:96)
	at org.apache.lucene.index.SegmentReader.document(SegmentReader.java:275)
	at org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.java:107)
	at org.apache.lucene.search.Hits.doc(Hits.java:130)
	at org.apache.lucene.beans.HitsIterator.getDoc(HitsIterator.java:161)
	at org.apache.lucene.beans.HitsIterator.next(HitsIterator.java:139)
	at org.apache.jsp.results_jsp._jspService(results_jsp.java:117)

...

Many thanks,
Tim

--
/**
  * Timothy Stone  . www.petmystone.com
  * Harrisburg PA  . javafueled at petmystone.com
  * USA            . coffee fueled macintosh zealot
  *
  * "This Satan's drink [coffee] is so
  *  delicious, we shall cheat Satan and
  *  baptize it."
  *  --Pope Clement VIII
  */

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8337-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 18 16:30:26 2004
Return-Path: <lucene-user-return-8337-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70722 invoked from network); 18 May 2004 16:30:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 May 2004 16:30:25 -0000
Received: (qmail 84162 invoked by uid 500); 18 May 2004 16:30:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84116 invoked by uid 500); 18 May 2004 16:30:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84096 invoked by uid 98); 18 May 2004 16:30:36 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(128.143.184.167):. 
 Processed in 0.02865 secs); 18 May 2004 16:30:36 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(128.143.184.167):. Processed in 0.02865 secs)
Received: from unknown (HELO postfix.mail.ehatchersolutions.com) (128.143.184.167)
  by hermes.apache.org with SMTP; 18 May 2004 16:30:36 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 2306070D50B
	for <lucene-user@jakarta.apache.org>; Tue, 18 May 2004 12:30:22 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <40AA2EF4.5060304@petmystone.com>
References: <40AA2EF4.5060304@petmystone.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <A7A0E12C-A8E8-11D8-9D6E-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Bad file descriptor (IOException) using SearchBean contribution
Date: Tue, 18 May 2004 12:30:20 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Lucene 1.4 (now in release candidate stage) includes built-in sorting  
capabilities, so I definitely recommend you have a look at that.   
SearchBean is effectively deprecated based on this new much more  
powerful feature.

	Erik

On May 18, 2004, at 11:42 AM, Timothy Stone wrote:

> Lucene Users,
>
> I'm using the SearchBean contribution from the sandbox to implement a  
> Struts application search with Lucene (taking ACO's advice and going  
> MVC on the demo app.)
>
> Right now I'm having a problem with using any Document objects that  
> might be available and getting an IOException.
>
> So basically what I'm doing, and pardon the marshalling code, etc.
>
> I have an action that determines the users desired search (internal  
> via Lucene or external via Google) and forwards appropiately. If the  
> search is directed to Lucene I create new SearchBean using:
>
>     searchBean = new SearchBean(
>                          FSDirectory.getDirectory(
>                              getServlet().getInitParameter( "index" ),
>                              false ),
>                      query );
>
> This bean is put on the request for use in the results.jsp page.
>
> I'm able to quite a bit of work with the bean, determine hits, page  
> counts, etc. except yank a document and display the indexed fields  
> (I'm using the org.apache.lucene.demo.IndexHTML) such as "title",  
> "summary", and "url".
>
> curr position: <%= searchBean.getHitsIterator().getCurrentPosition() %>
>
> <%  if( searchBean.getHitsIterator().hasNext() ) {
>         Document doc = searchBean.getHitsIterator().next(); // BOOM!
>     }
> %>
>
> Any ideas? I only see K. Burton's FSDirectory patch in the archives,  
> but nothing I don't have from CVS.
>
> Here's the stack trace:
>
> java.io.IOException: Bad file descriptor
> 	at java.io.RandomAccessFile.seek(Native Method)
> 	at  
> org.apache.lucene.store.FSInputStream.readInternal(FSDirectory.java: 
> 428)
> 	at org.apache.lucene.store.InputStream.refill(InputStream.java:196)
> 	at org.apache.lucene.store.InputStream.readByte(InputStream.java:81)
> 	at org.apache.lucene.store.InputStream.readInt(InputStream.java:111)
> 	at org.apache.lucene.store.InputStream.readLong(InputStream.java:134)
> 	at org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:96)
> 	at  
> org.apache.lucene.index.SegmentReader.document(SegmentReader.java:275)
> 	at org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.java:107)
> 	at org.apache.lucene.search.Hits.doc(Hits.java:130)
> 	at org.apache.lucene.beans.HitsIterator.getDoc(HitsIterator.java:161)
> 	at org.apache.lucene.beans.HitsIterator.next(HitsIterator.java:139)
> 	at org.apache.jsp.results_jsp._jspService(results_jsp.java:117)
>
> ...
>
> Many thanks,
> Tim
>
> --
> /**
>  * Timothy Stone  . www.petmystone.com
>  * Harrisburg PA  . javafueled at petmystone.com
>  * USA            . coffee fueled macintosh zealot
>  *
>  * "This Satan's drink [coffee] is so
>  *  delicious, we shall cheat Satan and
>  *  baptize it."
>  *  --Pope Clement VIII
>  */
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8338-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 18 17:05:02 2004
Return-Path: <lucene-user-return-8338-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94813 invoked from network); 18 May 2004 17:05:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 May 2004 17:05:02 -0000
Received: (qmail 43623 invoked by uid 500); 18 May 2004 17:05:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43575 invoked by uid 500); 18 May 2004 17:05:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43543 invoked by uid 98); 18 May 2004 17:05:13 -0000
Received: from ssayles@fgm.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.148.227.85):. 
 Processed in 0.01811 secs); 18 May 2004 17:05:13 -0000
X-Qmail-Scanner-Mail-From: ssayles@fgm.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.148.227.85):. Processed in 0.01811 secs)
Received: from unknown (HELO rwcrmhc12.comcast.net) (216.148.227.85)
  by hermes.apache.org with SMTP; 18 May 2004 17:05:13 -0000
Received: from dargo (c-24-125-40-254.va.client2.attbi.com[24.125.40.254])
          by comcast.net (rwcrmhc12) with SMTP
          id <2004051817044701400h6alce>; Tue, 18 May 2004 17:04:47 +0000
From: "Scott Sayles" <ssayles@fgm.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Page ranking
Date: Tue, 18 May 2004 13:04:47 -0400
Message-ID: <002d01c43cfa$396e0a60$0300a8c0@dargo>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Importance: Normal
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Is there anyone out there that has page ranking implemented on top of
Lucene?

Just in case anyone may be thinking otherwise, when I say page ranking
I'm not referring to the ranking of results from searches.  I'm talking
about something similar to how google computes what page may be more
relevant or important (often referred to as PageRank) which is effected
in part by how many other pages reference that page.

I've been through the examples listed here:

http://www.iprcom.com/papers/pagerank/index.html

which provides information from the origianl google paper about page
ranking.  Running the examples are fairly easy, but the big question I
have is how can I practically update such data?  And is there any
potential integration with Lucene?  It would seem that one could store
the computed ranking values in the actual Lucene Document itself, but
the updates would be fairly laborious as a few minor changes in rankings
can produce a large ripple in other related document rankings.  This, of
course, would be the same issue if the ranking information were stored
outside of Lucene.  One could potentially store this in a separate
database and then look up the ranking information for each document
found and then perform updates as an external asynchronous task.

Anyone have any experience with maintaining page rankings?


Thanks,

Scott


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8339-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 18 17:39:03 2004
Return-Path: <lucene-user-return-8339-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12943 invoked from network); 18 May 2004 17:39:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 May 2004 17:39:03 -0000
Received: (qmail 10356 invoked by uid 500); 18 May 2004 17:38:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10319 invoked by uid 500); 18 May 2004 17:38:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10302 invoked by uid 98); 18 May 2004 17:38:36 -0000
Received: from claude@library.ucsf.edu by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(128.218.33.11):. 
 Processed in 0.011962 secs); 18 May 2004 17:38:36 -0000
X-Qmail-Scanner-Mail-From: claude@library.ucsf.edu via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(128.218.33.11):. Processed in 0.011962 secs)
Received: from unknown (HELO gossamer.ckm.ucsf.edu) (128.218.33.11)
  by hermes.apache.org with SMTP; 18 May 2004 17:38:36 -0000
Received: from [128.218.15.87] (beani.library.ucsf.edu [128.218.15.87])
	by gossamer.ckm.ucsf.edu (8.11.6-20030924/8.11.6) with ESMTP id i4IHc9419148
	for <lucene-user@jakarta.apache.org>; Tue, 18 May 2004 10:38:09 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <002d01c43cfa$396e0a60$0300a8c0@dargo>
References: <002d01c43cfa$396e0a60$0300a8c0@dargo>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <1C5330AC-A8F2-11D8-9C2D-003065E21F90@library.ucsf.edu>
Content-Transfer-Encoding: 7bit
From: Claude Devarenne <claude@library.ucsf.edu>
Subject: How to handle range queries over large ranges and avoid Too Many Boolean clauses
Date: Tue, 18 May 2004 10:38:01 -0700
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Filter-Version: 1.14 (gossamer)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I have over 60,000 documents in my index which is slightly over a 1 GB 
in size.  The documents range from the late seventies up to now.  I 
have indexed dates as a keyword field using a string because the dates 
are in YYYYMMDD format.  When I do range queries things are OK as long 
as I don't exceed the built-in number of boolean clauses, so that's a 
range of 3 years, e.g. 1979 to 1981.  The users are not only doing 
complex queries but also want to query over long ranges, e.g. [19790101 
TO 19991231].

Given these requirements, I am thinking of doing a query without the 
date range, bring the unique ids back from the hits and then do a date 
query in the SQL database I have that contains the same data.  Another 
alternative is to do the query without the date range in Lucene and 
then sort the results within the range.  I still have to learn how to 
use the new sorting code and confessed I did not have time to look at 
it yet.

Is there a simpler, easier way to do this?

Claude


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8340-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 18 17:44:11 2004
Return-Path: <lucene-user-return-8340-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15383 invoked from network); 18 May 2004 17:44:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 May 2004 17:44:10 -0000
Received: (qmail 36804 invoked by uid 500); 18 May 2004 17:44:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36759 invoked by uid 500); 18 May 2004 17:44:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36730 invoked by uid 98); 18 May 2004 17:44:24 -0000
Received: from citylists@petmystone.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(64.26.0.85):. 
 Processed in 0.013475 secs); 18 May 2004 17:44:24 -0000
X-Qmail-Scanner-Mail-From: citylists@petmystone.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(64.26.0.85):. Processed in 0.013475 secs)
Received: from unknown (HELO sonny.siteprotect.com) (64.26.0.85)
  by hermes.apache.org with SMTP; 18 May 2004 17:44:24 -0000
Received: from petmystone.com ([4.21.127.37])
	by sonny.siteprotect.com (8.11.6/8.11.6) with ESMTP id i4IHhuC20343
	for <lucene-user@jakarta.apache.org>; Tue, 18 May 2004 12:43:56 -0500
Message-ID: <40AA4B5A.1090900@petmystone.com>
Date: Tue, 18 May 2004 13:43:54 -0400
From: Timothy Stone <citylists@petmystone.com>
Reply-To: citylists@petmystone.com
Organization: City of Harrisburg, PA
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Bad file descriptor (IOException) using SearchBean contribution
References: <40AA2EF4.5060304@petmystone.com> <A7A0E12C-A8E8-11D8-9D6E-000393A564E6@ehatchersolutions.com>
In-Reply-To: <A7A0E12C-A8E8-11D8-9D6E-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:
> Lucene 1.4 (now in release candidate stage) includes built-in sorting  
> capabilities, so I definitely recommend you have a look at that.   
> SearchBean is effectively deprecated based on this new much more  
> powerful feature.
> 
>     Erik

Forgive my naivety, but isn't the purpose of the SearchBean more than 
just sorting? Without the SearchBean, creating a MVC demo becomes a 
larger exercise to undertake.

Can anyone elaborate further on what Lucene 1.4 RC 3 offers that 
deprecates SearchBean?

Many thanks,
Tim

> 
> On May 18, 2004, at 11:42 AM, Timothy Stone wrote:
> 
>> Lucene Users,
>>
>> I'm using the SearchBean contribution from the sandbox to implement a  
>> Struts application search with Lucene (taking ACO's advice and going  
>> MVC on the demo app.)
>>
>> Right now I'm having a problem with using any Document objects that  
>> might be available and getting an IOException.
>>
>> So basically what I'm doing, and pardon the marshalling code, etc.
>>
>> I have an action that determines the users desired search (internal  
>> via Lucene or external via Google) and forwards appropiately. If the  
>> search is directed to Lucene I create new SearchBean using:
>>
>>     searchBean = new SearchBean(
>>                          FSDirectory.getDirectory(
>>                              getServlet().getInitParameter( "index" ),
>>                              false ),
>>                      query );
>>
>> This bean is put on the request for use in the results.jsp page.
>>
>> I'm able to quite a bit of work with the bean, determine hits, page  
>> counts, etc. except yank a document and display the indexed fields  
>> (I'm using the org.apache.lucene.demo.IndexHTML) such as "title",  
>> "summary", and "url".
>>
>> curr position: <%= searchBean.getHitsIterator().getCurrentPosition() %>
>>
>> <%  if( searchBean.getHitsIterator().hasNext() ) {
>>         Document doc = searchBean.getHitsIterator().next(); // BOOM!
>>     }
>> %>
>>
>> Any ideas? I only see K. Burton's FSDirectory patch in the archives,  
>> but nothing I don't have from CVS.
>>
>> Here's the stack trace:
>>
>> java.io.IOException: Bad file descriptor
>>     at java.io.RandomAccessFile.seek(Native Method)
>>     at  
>> org.apache.lucene.store.FSInputStream.readInternal(FSDirectory.java: 428)
>>     at org.apache.lucene.store.InputStream.refill(InputStream.java:196)
>>     at org.apache.lucene.store.InputStream.readByte(InputStream.java:81)
>>     at org.apache.lucene.store.InputStream.readInt(InputStream.java:111)
>>     at org.apache.lucene.store.InputStream.readLong(InputStream.java:134)
>>     at org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:96)
>>     at  
>> org.apache.lucene.index.SegmentReader.document(SegmentReader.java:275)
>>     at org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.java:107)
>>     at org.apache.lucene.search.Hits.doc(Hits.java:130)
>>     at org.apache.lucene.beans.HitsIterator.getDoc(HitsIterator.java:161)
>>     at org.apache.lucene.beans.HitsIterator.next(HitsIterator.java:139)
>>     at org.apache.jsp.results_jsp._jspService(results_jsp.java:117)
>>
>> ...
>>
>> Many thanks,
>> Tim
>>
--
/**
  * Timothy Stone  . www.petmystone.com
  * Harrisburg PA  . javafueled at petmystone.com
  * USA            . coffee fueled macintosh zealot
  *
  * "This Satan's drink [coffee] is so
  *  delicious, we shall cheat Satan and
  *  baptize it."
  *  --Pope Clement VIII
  */

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8341-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 18 18:43:59 2004
Return-Path: <lucene-user-return-8341-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58572 invoked from network); 18 May 2004 18:43:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 May 2004 18:43:59 -0000
Received: (qmail 98984 invoked by uid 500); 18 May 2004 18:44:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98887 invoked by uid 500); 18 May 2004 18:44:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98865 invoked by uid 98); 18 May 2004 18:44:17 -0000
Received: from burton@newsmonster.org by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(12.43.53.196):. 
 Processed in 0.092219 secs); 18 May 2004 18:44:17 -0000
X-Qmail-Scanner-Mail-From: burton@newsmonster.org via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(12.43.53.196):. Processed in 0.092219 secs)
Received: from unknown (HELO dev.sofari.com) (12.43.53.196)
  by hermes.apache.org with SMTP; 18 May 2004 18:44:17 -0000
Received: from newsmonster.org ([12.43.53.196])
	by dev.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id i4IIhkZC032248
	for <lucene-user@jakarta.apache.org>; Tue, 18 May 2004 11:43:46 -0700
Message-ID: <40AA595B.7060600@newsmonster.org>
Date: Tue, 18 May 2004 11:43:39 -0700
From: Kevin Burton <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7b) Gecko/20040421
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Internal full content store within Lucene
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Per the discussion the other day about storing content external to 
Lucene I think we have an opportunity to improve the lucene core and 
bring a lot of functionality to future developers.

Right now Lucene allows you to have a 'stored' field which keeps the 
content with a segment along with your inverted index.

While this is flexible for small indexes in production environments it 
falls down because index merges take FOREVER.

A thread the other day opened up and suggesting storing just a pointer 
to a file on the filesystem.  This got me thinking about a long term 
mechanism I wanted for our cluster where we store content outside of the 
index in a high performance flat-file database.

The Lucene index would only maintain FILENO-:OFFSET:LENGTH info within 
the index and this would allow us to point to our flat file database. 

This would allow Lucene index merges to be FAST, support native field 
storage, and allow the filesystem optimize contiguous blocks for the 
flat content store.  Everyone wins.

This is what the Internet archive uses:

http://www.archive.org/web/researcher/ArcFileFormat.php

I propose that Lucene support a new form of stored field that allows 
external storage engine to keep the content in a flat text store.

How much interest is there for this?  I have to do this for work and 
will certainly take the extra effort into making this a standard Lucene 
feature. 

I can come up with a requirements doc and a more formal proposal in 
another email if I get enough +1s...

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8342-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 18 18:53:36 2004
Return-Path: <lucene-user-return-8342-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64737 invoked from network); 18 May 2004 18:53:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 May 2004 18:53:36 -0000
Received: (qmail 44649 invoked by uid 500); 18 May 2004 18:53:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44447 invoked by uid 500); 18 May 2004 18:53:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44302 invoked by uid 98); 18 May 2004 18:53:48 -0000
Received: from terry@net-frame.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(207.69.200.148):. 
 Processed in 0.45813 secs); 18 May 2004 18:53:48 -0000
X-Qmail-Scanner-Mail-From: terry@net-frame.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(207.69.200.148):. Processed in 0.45813 secs)
Received: from unknown (HELO granger.mail.mindspring.net) (207.69.200.148)
  by hermes.apache.org with SMTP; 18 May 2004 18:53:47 -0000
Received: from h-68-166-172-48.mclnva23.dynamic.covad.net ([68.166.172.48] helo=POWERPACK)
	by granger.mail.mindspring.net with smtp (Exim 3.33 #1)
	id 1BQ9iE-0002sY-00
	for lucene-user@jakarta.apache.org; Tue, 18 May 2004 14:53:14 -0400
Message-ID: <027401c43d09$60e7cae0$6501a8c0@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <40AA595B.7060600@newsmonster.org>
Subject: Re: Internal full content store within Lucene
Date: Tue, 18 May 2004 14:53:15 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

+1

----- Original Message ----- 
From: "Kevin Burton" <burton@newsmonster.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, May 18, 2004 2:43 PM
Subject: Internal full content store within Lucene


> Per the discussion the other day about storing content external to 
> Lucene I think we have an opportunity to improve the lucene core and 
> bring a lot of functionality to future developers.
> 
> Right now Lucene allows you to have a 'stored' field which keeps the 
> content with a segment along with your inverted index.
> 
> While this is flexible for small indexes in production environments it 
> falls down because index merges take FOREVER.
> 
> A thread the other day opened up and suggesting storing just a pointer 
> to a file on the filesystem.  This got me thinking about a long term 
> mechanism I wanted for our cluster where we store content outside of the 
> index in a high performance flat-file database.
> 
> The Lucene index would only maintain FILENO-:OFFSET:LENGTH info within 
> the index and this would allow us to point to our flat file database. 
> 
> This would allow Lucene index merges to be FAST, support native field 
> storage, and allow the filesystem optimize contiguous blocks for the 
> flat content store.  Everyone wins.
> 
> This is what the Internet archive uses:
> 
> http://www.archive.org/web/researcher/ArcFileFormat.php
> 
> I propose that Lucene support a new form of stored field that allows 
> external storage engine to keep the content in a flat text store.
> 
> How much interest is there for this?  I have to do this for work and 
> will certainly take the extra effort into making this a standard Lucene 
> feature. 
> 
> I can come up with a requirements doc and a more formal proposal in 
> another email if I get enough +1s...
> 
> Kevin
> 
> -- 
> 
> Please reply using PGP.
> 
>     http://peerfear.org/pubkey.asc    
>     
>     NewsMonster - http://www.newsmonster.org/
>     
> Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
>        AIM/YIM - sfburtonator,  Web - http://peerfear.org/
> GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
>   IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8343-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 18 19:07:21 2004
Return-Path: <lucene-user-return-8343-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72312 invoked from network); 18 May 2004 19:07:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 May 2004 19:07:21 -0000
Received: (qmail 5564 invoked by uid 500); 18 May 2004 19:07:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5467 invoked by uid 500); 18 May 2004 19:07:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5218 invoked by uid 98); 18 May 2004 19:07:30 -0000
Received: from ykingma@xs4all.nl by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(194.109.24.7):. 
 Processed in 0.204319 secs); 18 May 2004 19:07:30 -0000
X-Qmail-Scanner-Mail-From: ykingma@xs4all.nl via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(194.109.24.7):. Processed in 0.204319 secs)
Received: from unknown (HELO smtp-out6.xs4all.nl) (194.109.24.7)
  by hermes.apache.org with SMTP; 18 May 2004 19:07:30 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out6.xs4all.nl (8.12.10/8.12.10) with ESMTP id i4IJ6uew012138
	for <lucene-user@jakarta.apache.org>; Tue, 18 May 2004 21:06:57 +0200 (CEST)
From: Ype Kingma <ykingma@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: How to handle range queries over large ranges and avoid Too Many Boolean clauses
Date: Tue, 18 May 2004 21:06:56 +0200
User-Agent: KMail/1.5.4
References: <002d01c43cfa$396e0a60$0300a8c0@dargo> <1C5330AC-A8F2-11D8-9C2D-003065E21F90@library.ucsf.edu>
In-Reply-To: <1C5330AC-A8F2-11D8-9C2D-003065E21F90@library.ucsf.edu>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200405182106.56602.ykingma@xs4all.nl>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday 18 May 2004 19:38, Claude Devarenne wrote:
> Hi,
>
> I have over 60,000 documents in my index which is slightly over a 1 GB
> in size.  The documents range from the late seventies up to now.  I
> have indexed dates as a keyword field using a string because the dates
> are in YYYYMMDD format.  When I do range queries things are OK as long
> as I don't exceed the built-in number of boolean clauses, so that's a
> range of 3 years, e.g. 1979 to 1981.  The users are not only doing
> complex queries but also want to query over long ranges, e.g. [19790101
> TO 19991231].
>
> Given these requirements, I am thinking of doing a query without the
> date range, bring the unique ids back from the hits and then do a date
> query in the SQL database I have that contains the same data.  Another
> alternative is to do the query without the date range in Lucene and
> then sort the results within the range.  I still have to learn how to
> use the new sorting code and confessed I did not have time to look at
> it yet.
>
> Is there a simpler, easier way to do this?

I wouldn't know of a simpler and easier way, but there is another way
to reduce the number of clauses involved in long date ranges.
This can be done by indexing not only YYYYMMDD but also YYYYMM and
YYYY, and adapting the query range mechanism to use the shorter term
whenever possible. (YYY and YYYYMMD might also be useful.)


Kind regards,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8344-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 18 19:54:28 2004
Return-Path: <lucene-user-return-8344-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4631 invoked from network); 18 May 2004 19:54:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 May 2004 19:54:28 -0000
Received: (qmail 80679 invoked by uid 500); 18 May 2004 19:54:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80483 invoked by uid 500); 18 May 2004 19:54:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80345 invoked by uid 98); 18 May 2004 19:54:20 -0000
Received: from mgiles@visionstudio.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(66.216.127.33):. 
 Processed in 0.231408 secs); 18 May 2004 19:54:20 -0000
X-Qmail-Scanner-Mail-From: mgiles@visionstudio.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(66.216.127.33):. Processed in 0.231408 secs)
Received: from unknown (HELO sn2.cwihosting.com) (66.216.127.33)
  by hermes.apache.org with SMTP; 18 May 2004 19:54:19 -0000
Received: from h00e07dd8f05b.ne.client2.attbi.com ([24.60.185.190] helo=mgiles-office.visionstudio.com)
	by sn2.cwihosting.com with esmtp (Exim 4.24)
	id 1BQAed-0004Wi-BH
	for lucene-user@jakarta.apache.org; Tue, 18 May 2004 14:53:35 -0500
Message-Id: <6.1.0.6.0.20040518145545.02a71208@mail.visionstudio.com>
X-Sender: mgiles%visionstudio.com@mail.visionstudio.com (Unverified)
X-Mailer: QUALCOMM Windows Eudora Version 6.1.0.6
Date: Tue, 18 May 2004 15:54:01 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Michael Giles <mgiles@visionstudio.com>
Subject: Re: Internal full content store within Lucene
In-Reply-To: <40AA595B.7060600@newsmonster.org>
References: <40AA595B.7060600@newsmonster.org>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-MailScanner-Information: Please contact CWIHosting.com for more information
X-MailScanner: Found to be clean
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - sn2.cwihosting.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 99]
X-AntiAbuse: Sender Address Domain - visionstudio.com
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Certainly any advancement in this area seems like a good idea.

I'll throw a use case on the pile as well.  For my own interest, the 
biggest need is in highlighting (i.e. highlighting relevant segments within 
the full text of documents).  I need to provide highlighted abstracts in 
the search results, so the solution would need to be performant enough to 
provide that service.

-Mike

At 02:43 PM 5/18/2004, you wrote:
>Per the discussion the other day about storing content external to Lucene 
>I think we have an opportunity to improve the lucene core and bring a lot 
>of functionality to future developers.

________________________________________________________________________
Save and share anything you find online - Furl @ http://www.furl.net  



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8345-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 18 19:56:46 2004
Return-Path: <lucene-user-return-8345-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9795 invoked from network); 18 May 2004 19:56:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 May 2004 19:56:46 -0000
Received: (qmail 93779 invoked by uid 500); 18 May 2004 19:57:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93699 invoked by uid 500); 18 May 2004 19:57:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93679 invoked by uid 98); 18 May 2004 19:57:03 -0000
Received: from claude@library.ucsf.edu by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(128.218.33.11):. 
 Processed in 0.052503 secs); 18 May 2004 19:57:03 -0000
X-Qmail-Scanner-Mail-From: claude@library.ucsf.edu via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(128.218.33.11):. Processed in 0.052503 secs)
Received: from unknown (HELO gossamer.ckm.ucsf.edu) (128.218.33.11)
  by hermes.apache.org with SMTP; 18 May 2004 19:57:03 -0000
Received: from [128.218.15.87] (beani.library.ucsf.edu [128.218.15.87])
	by gossamer.ckm.ucsf.edu (8.11.6-20030924/8.11.6) with ESMTP id i4IJuS429949
	for <lucene-user@jakarta.apache.org>; Tue, 18 May 2004 12:56:28 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <200405182106.56602.ykingma@xs4all.nl>
References: <002d01c43cfa$396e0a60$0300a8c0@dargo> <1C5330AC-A8F2-11D8-9C2D-003065E21F90@library.ucsf.edu> <200405182106.56602.ykingma@xs4all.nl>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <7148D5D1-A905-11D8-9C2D-003065E21F90@library.ucsf.edu>
Content-Transfer-Encoding: 7bit
From: Claude Devarenne <claude@library.ucsf.edu>
Subject: Re: How to handle range queries over large ranges and avoid Too Many Boolean clauses
Date: Tue, 18 May 2004 12:56:24 -0700
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Filter-Version: 1.14 (gossamer)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks, I'll try that.  It would nice too if I could extend field (it 
is a final class) and create a numerical field.  Is that not desirable?

Claude

On May 18, 2004, at 12:06 PM, Ype Kingma wrote:

> On Tuesday 18 May 2004 19:38, Claude Devarenne wrote:
>> Hi,
>>
>> I have over 60,000 documents in my index which is slightly over a 1 GB
>> in size.  The documents range from the late seventies up to now.  I
>> have indexed dates as a keyword field using a string because the dates
>> are in YYYYMMDD format.  When I do range queries things are OK as long
>> as I don't exceed the built-in number of boolean clauses, so that's a
>> range of 3 years, e.g. 1979 to 1981.  The users are not only doing
>> complex queries but also want to query over long ranges, e.g. 
>> [19790101
>> TO 19991231].
>>
>> Given these requirements, I am thinking of doing a query without the
>> date range, bring the unique ids back from the hits and then do a date
>> query in the SQL database I have that contains the same data.  Another
>> alternative is to do the query without the date range in Lucene and
>> then sort the results within the range.  I still have to learn how to
>> use the new sorting code and confessed I did not have time to look at
>> it yet.
>>
>> Is there a simpler, easier way to do this?
>
> I wouldn't know of a simpler and easier way, but there is another way
> to reduce the number of clauses involved in long date ranges.
> This can be done by indexing not only YYYYMMDD but also YYYYMM and
> YYYY, and adapting the query range mechanism to use the shorter term
> whenever possible. (YYY and YYYYMMD might also be useful.)
>
>
> Kind regards,
> Ype
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8346-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 18 20:36:12 2004
Return-Path: <lucene-user-return-8346-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28171 invoked from network); 18 May 2004 20:36:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 May 2004 20:36:11 -0000
Received: (qmail 52356 invoked by uid 500); 18 May 2004 20:36:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52312 invoked by uid 500); 18 May 2004 20:36:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52287 invoked by uid 98); 18 May 2004 20:36:33 -0000
Received: from goodell@gmail.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(64.233.170.205):. 
 Processed in 0.16687 secs); 18 May 2004 20:36:33 -0000
X-Qmail-Scanner-Mail-From: goodell@gmail.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(64.233.170.205):. Processed in 0.16687 secs)
Received: from unknown (HELO mproxy.gmail.com) (64.233.170.205)
  by hermes.apache.org with SMTP; 18 May 2004 20:36:32 -0000
Received: by mproxy.gmail.com with SMTP id 72so1139418rnf
        for <lucene-user@jakarta.apache.org>; Tue, 18 May 2004 13:35:55 -0700 (PDT)
Received: by 10.11.118.56 with SMTP id q56mr75543cwc;
        Tue, 18 May 2004 13:35:55 -0700 (PDT)
Message-ID: <55b2c6b904051813353fd6e109@mail.gmail.com>
Date: Tue, 18 May 2004 13:35:55 -0700
From: Andy Goodell <goodell@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How to handle range queries over large ranges and avoid Too Many Boolean clauses
In-Reply-To: <1C5330AC-A8F2-11D8-9C2D-003065E21F90@library.ucsf.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <002d01c43cfa$396e0a60$0300a8c0@dargo> <1C5330AC-A8F2-11D8-9C2D-003065E21F90@library.ucsf.edu>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

In our application we had a similar problem with non-date ranges until
we realized that it wasnt so much that we were searching for the
values in the range as restricting the search to that range, and then
we used an extension to the org.apache.lucene.search.Filter class, and
our implementation got much simpler and faster.

- andy g

On Tue, 18 May 2004 10:38:01 -0700, Claude Devarenne
<claude@library.ucsf.edu> wrote:
> 
> Hi,
> 
> I have over 60,000 documents in my index which is slightly over a 1 GB
> in size.  The documents range from the late seventies up to now.  I
> have indexed dates as a keyword field using a string because the dates
> are in YYYYMMDD format.  When I do range queries things are OK as long
> as I don't exceed the built-in number of boolean clauses, so that's a
> range of 3 years, e.g. 1979 to 1981.  The users are not only doing
> complex queries but also want to query over long ranges, e.g. [19790101
> TO 19991231].
> 
> Given these requirements, I am thinking of doing a query without the
> date range, bring the unique ids back from the hits and then do a date
> query in the SQL database I have that contains the same data.  Another
> alternative is to do the query without the date range in Lucene and
> then sort the results within the range.  I still have to learn how to
> use the new sorting code and confessed I did not have time to look at
> it yet.
> 
> Is there a simpler, easier way to do this?
> 
> Claude
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8347-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 18 21:15:12 2004
Return-Path: <lucene-user-return-8347-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50277 invoked from network); 18 May 2004 21:15:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 May 2004 21:15:12 -0000
Received: (qmail 232 invoked by uid 500); 18 May 2004 21:15:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 152 invoked by uid 500); 18 May 2004 21:15:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 133 invoked by uid 98); 18 May 2004 21:15:34 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(128.143.184.167):. 
 Processed in 0.034625 secs); 18 May 2004 21:15:34 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(128.143.184.167):. Processed in 0.034625 secs)
Received: from unknown (HELO postfix.mail.ehatchersolutions.com) (128.143.184.167)
  by hermes.apache.org with SMTP; 18 May 2004 21:15:34 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 5230270DBC1
	for <lucene-user@jakarta.apache.org>; Tue, 18 May 2004 17:14:56 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <40AA4B5A.1090900@petmystone.com>
References: <40AA2EF4.5060304@petmystone.com> <A7A0E12C-A8E8-11D8-9D6E-000393A564E6@ehatchersolutions.com> <40AA4B5A.1090900@petmystone.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <67F145C5-A910-11D8-AC66-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Bad file descriptor (IOException) using SearchBean contribution
Date: Tue, 18 May 2004 17:14:53 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On May 18, 2004, at 1:43 PM, Timothy Stone wrote:
> Erik Hatcher wrote:
>> Lucene 1.4 (now in release candidate stage) includes built-in sorting 
>>  capabilities, so I definitely recommend you have a look at that.   
>> SearchBean is effectively deprecated based on this new much more  
>> powerful feature.
>>     Erik
>
> Forgive my naivety, but isn't the purpose of the SearchBean more than 
> just sorting? Without the SearchBean, creating a MVC demo becomes a 
> larger exercise to undertake.

Could you elaborate on what you mean by MVC here?  A value list handler 
piece has been developed and links posted to it on this list - if this 
is the type of thing you're referring to.

Personally I'm skeptical of using such wrappers.  Lucene itself 
provides the needed wrapping for efficiency to allow you to page 
through search results with the least possible resource use.  Trying to 
pull all results into a collection and iterate them will not scale 
unless you leverage some lazy handling like Lucene already provides.  I 
don't see the need to add an additional intermediate layer.  Purists 
will claim it "abstracts" the implementation.  But, I'm _agile_ and 
being so means I have faith in my skills to shift my codebase to a 
different search implementation when/if needed, and I definitely do not 
foresee that as even being a possibility since Lucene is superb.

I'd love to hear how folks are using SearchBean though, and why they 
feel it is beneficial.

> Can anyone elaborate further on what Lucene 1.4 RC 3 offers that 
> deprecates SearchBean?

Maybe "deprecates" was too strong - but sorting is completely covered 
with built-in capabilities now, and you can see above regarding my MVC 
opinions.

It offers sorting by relevance, document id, and any field you've 
indexed appropriately (see javadocs for details) as well as custom 
sorting implementations.  I have, as a prototype, leveraged the custom 
sorting implementation to efficiently sort documents (businesses with a 
"location" field) by geographic distance from the user doing the query.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8348-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 18 21:19:33 2004
Return-Path: <lucene-user-return-8348-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54043 invoked from network); 18 May 2004 21:19:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 May 2004 21:19:32 -0000
Received: (qmail 21205 invoked by uid 500); 18 May 2004 21:19:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21122 invoked by uid 500); 18 May 2004 21:19:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21095 invoked by uid 98); 18 May 2004 21:19:53 -0000
Received: from claude@library.ucsf.edu by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(128.218.33.11):. 
 Processed in 0.020859 secs); 18 May 2004 21:19:53 -0000
X-Qmail-Scanner-Mail-From: claude@library.ucsf.edu via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(128.218.33.11):. Processed in 0.020859 secs)
Received: from unknown (HELO gossamer.ckm.ucsf.edu) (128.218.33.11)
  by hermes.apache.org with SMTP; 18 May 2004 21:19:53 -0000
Received: from [128.218.15.87] (beani.library.ucsf.edu [128.218.15.87])
	by gossamer.ckm.ucsf.edu (8.11.6-20030924/8.11.6) with ESMTP id i4ILJF406367
	for <lucene-user@jakarta.apache.org>; Tue, 18 May 2004 14:19:15 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <55b2c6b904051813353fd6e109@mail.gmail.com>
References: <002d01c43cfa$396e0a60$0300a8c0@dargo> <1C5330AC-A8F2-11D8-9C2D-003065E21F90@library.ucsf.edu> <55b2c6b904051813353fd6e109@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <025E4CEA-A911-11D8-9C2D-003065E21F90@library.ucsf.edu>
Content-Transfer-Encoding: 7bit
From: Claude Devarenne <claude@library.ucsf.edu>
Subject: Re: How to handle range queries over large ranges and avoid Too Many Boolean clauses
Date: Tue, 18 May 2004 14:19:12 -0700
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Filter-Version: 1.14 (gossamer)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks, I'll try that first and then Ype's suggestion if necessary.  I 
have been shying away from filters so now I have no excuse ;-)

Claude

On May 18, 2004, at 1:35 PM, Andy Goodell wrote:

> In our application we had a similar problem with non-date ranges until
> we realized that it wasnt so much that we were searching for the
> values in the range as restricting the search to that range, and then
> we used an extension to the org.apache.lucene.search.Filter class, and
> our implementation got much simpler and faster.
>
> - andy g
>
> On Tue, 18 May 2004 10:38:01 -0700, Claude Devarenne
> <claude@library.ucsf.edu> wrote:
>>
>> Hi,
>>
>> I have over 60,000 documents in my index which is slightly over a 1 GB
>> in size.  The documents range from the late seventies up to now.  I
>> have indexed dates as a keyword field using a string because the dates
>> are in YYYYMMDD format.  When I do range queries things are OK as long
>> as I don't exceed the built-in number of boolean clauses, so that's a
>> range of 3 years, e.g. 1979 to 1981.  The users are not only doing
>> complex queries but also want to query over long ranges, e.g. 
>> [19790101
>> TO 19991231].
>>
>> Given these requirements, I am thinking of doing a query without the
>> date range, bring the unique ids back from the hits and then do a date
>> query in the SQL database I have that contains the same data.  Another
>> alternative is to do the query without the date range in Lucene and
>> then sort the results within the range.  I still have to learn how to
>> use the new sorting code and confessed I did not have time to look at
>> it yet.
>>
>> Is there a simpler, easier way to do this?
>>
>> Claude
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8349-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 18 22:05:18 2004
Return-Path: <lucene-user-return-8349-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77901 invoked from network); 18 May 2004 22:05:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 May 2004 22:05:18 -0000
Received: (qmail 92610 invoked by uid 500); 18 May 2004 22:05:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92574 invoked by uid 500); 18 May 2004 22:05:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92547 invoked by uid 98); 18 May 2004 22:05:41 -0000
Received: from xli@cs.odu.edu by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(128.82.4.9):. 
 Processed in 0.184365 secs); 18 May 2004 22:05:41 -0000
X-Qmail-Scanner-Mail-From: xli@cs.odu.edu via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(128.82.4.9):. Processed in 0.184365 secs)
Received: from unknown (HELO cartero.cs.odu.edu) (128.82.4.9)
  by hermes.apache.org with SMTP; 18 May 2004 22:05:41 -0000
Received: from cartero.cs.odu.edu (localhost [127.0.0.1])
	by cartero.cs.odu.edu (8.12.10/8.12.10) with ESMTP id i4IM0kN5017731
	for <lucene-user@jakarta.apache.org>; Tue, 18 May 2004 18:00:46 -0400 (EDT)
From: xuemei li <xli@cs.odu.edu>
Received: (from nobody@localhost)
	by cartero.cs.odu.edu (8.12.10/8.12.10/Submit) id i4IM0k77017720;
	Tue, 18 May 2004 18:00:46 -0400 (EDT)
X-Authentication-Warning: cartero.cs.odu.edu: nobody set sender to xli@cs.odu.edu using -f
Received: from 128.82.7.71
        (SquirrelMail authenticated user xli)
        by mail.cs.odu.edu with HTTP;
        Tue, 18 May 2004 18:00:46 -0400 (EDT)
Message-ID: <1497.128.82.7.71.1084917646.squirrel@mail.cs.odu.edu>
Date: Tue, 18 May 2004 18:00:46 -0400 (EDT)
Subject: about search and update one index simultaneously
To: <lucene-user@jakarta.apache.org>
X-Priority: 3
Importance: Normal
X-Mailer: SquirrelMail (version 1.2.10)
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,all,

Can we do search and update one index simultaneously?Is someone know sth
about it? I had done some experiments.Now the search will be blocked
when the index is being updated.The error in search node is like this:
    caught a class java.io.IOException
    with message:Stale NFS file handle

Thanks

Xuemei Li




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8350-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 18 22:48:04 2004
Return-Path: <lucene-user-return-8350-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96398 invoked from network); 18 May 2004 22:48:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 May 2004 22:48:04 -0000
Received: (qmail 28304 invoked by uid 500); 18 May 2004 22:48:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28223 invoked by uid 500); 18 May 2004 22:48:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28206 invoked by uid 98); 18 May 2004 22:48:31 -0000
Received: from matt@ctx.com.au by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(66.216.98.59):. 
 Processed in 0.025237 secs); 18 May 2004 22:48:31 -0000
X-Qmail-Scanner-Mail-From: matt@ctx.com.au via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(66.216.98.59):. Processed in 0.025237 secs)
Received: from unknown (HELO rs9.luxsci.com) (66.216.98.59)
  by hermes.apache.org with SMTP; 18 May 2004 22:48:31 -0000
Received: from [192.168.70.246] (ppp152-16.lns1.cbr1.internode.on.net [150.101.152.16])
	(authenticated bits=0)
	by rs9.luxsci.com (8.12.11/8.12.10) with ESMTP id i4IMlmJR024108
	for <lucene-user@jakarta.apache.org>; Tue, 18 May 2004 17:47:49 -0500
Message-ID: <40AA92E7.1000902@ctx.com.au>
Date: Wed, 19 May 2004 08:49:11 +1000
From: Matt Quail <matt@ctx.com.au>
User-Agent: Mozilla Thunderbird 0.6 (Windows/20040502)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How to handle range queries over large ranges and avoid Too Many
 Boolean clauses
References: <002d01c43cfa$396e0a60$0300a8c0@dargo> <1C5330AC-A8F2-11D8-9C2D-003065E21F90@library.ucsf.edu>
In-Reply-To: <1C5330AC-A8F2-11D8-9C2D-003065E21F90@library.ucsf.edu>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

 > Is there a simpler, easier way to do this?

Yes. I have started implementing a "QuickRangeQuery" class, that doesn't 
have the BooleanQuery limitation, but scores every matching document as 1.0.

I will see if I can get it finished in the next 24 hours, and post back 
to this thread.

=Matt

PS: I'm not sure about the "QuickRangeQuery" class name... maybe 
"NormalizedRangeQuery", "RangeQuery2"... *shrug*

Claude Devarenne wrote:
> Hi,
> 
> I have over 60,000 documents in my index which is slightly over a 1 GB 
> in size.  The documents range from the late seventies up to now.  I have 
> indexed dates as a keyword field using a string because the dates are in 
> YYYYMMDD format.  When I do range queries things are OK as long as I 
> don't exceed the built-in number of boolean clauses, so that's a range 
> of 3 years, e.g. 1979 to 1981.  The users are not only doing complex 
> queries but also want to query over long ranges, e.g. [19790101 TO 
> 19991231].
> 
> Given these requirements, I am thinking of doing a query without the 
> date range, bring the unique ids back from the hits and then do a date 
> query in the SQL database I have that contains the same data.  Another 
> alternative is to do the query without the date range in Lucene and then 
> sort the results within the range.  I still have to learn how to use the 
> new sorting code and confessed I did not have time to look at it yet.
> 
> Is there a simpler, easier way to do this?
> 
> Claude
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8351-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 18 23:43:54 2004
Return-Path: <lucene-user-return-8351-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17030 invoked from network); 18 May 2004 23:43:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 May 2004 23:43:54 -0000
Received: (qmail 85352 invoked by uid 500); 18 May 2004 23:44:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85309 invoked by uid 500); 18 May 2004 23:44:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85275 invoked by uid 98); 18 May 2004 23:44:19 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(24.51.109.181):. 
 Processed in 0.0244450000000001 secs); 18 May 2004 23:44:19 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(24.51.109.181):. Processed in 0.0244450000000001 secs)
Received: from unknown (HELO postfix.mail.ehatchersolutions.com) (24.51.109.181)
  by hermes.apache.org with SMTP; 18 May 2004 23:44:18 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 9601570E78B
	for <lucene-user@jakarta.apache.org>; Tue, 18 May 2004 19:43:45 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <7148D5D1-A905-11D8-9C2D-003065E21F90@library.ucsf.edu>
References: <002d01c43cfa$396e0a60$0300a8c0@dargo> <1C5330AC-A8F2-11D8-9C2D-003065E21F90@library.ucsf.edu> <200405182106.56602.ykingma@xs4all.nl> <7148D5D1-A905-11D8-9C2D-003065E21F90@library.ucsf.edu>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <30F8112D-A925-11D8-BA8E-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: How to handle range queries over large ranges and avoid Too Many Boolean clauses
Date: Tue, 18 May 2004 19:43:40 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On May 18, 2004, at 3:56 PM, Claude Devarenne wrote:
> Thanks, I'll try that.  It would nice too if I could extend field (it 
> is a final class) and create a numerical field.  Is that not 
> desirable?

It isn't that much more effort to have something like NumberUtils 
listed here: 
http://wiki.apache.org/jakarta-lucene/SearchNumericalFields

I'm not sure of the pros/cons to making Field extensible or not, but it 
really is of marginal benefit since it ultimately it needs a String and 
a conversion of numeric to String in your own code isn't involved.  I 
suppose we could put something like NumberUtils (maybe called 
NumberField to be like DateField) in the core to have a built-in 
solution.  We probably ought to also go another step and provide Date 
-> YYYYMMDD conversion as additional parts to DateField.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8352-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 19 06:24:06 2004
Return-Path: <lucene-user-return-8352-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74174 invoked from network); 19 May 2004 06:24:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 May 2004 06:24:06 -0000
Received: (qmail 36921 invoked by uid 500); 19 May 2004 06:24:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36880 invoked by uid 500); 19 May 2004 06:24:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36850 invoked by uid 98); 19 May 2004 06:24:36 -0000
Received: from morus@tanto-xipolis.de by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(213.61.178.43):. 
 Processed in 0.290318 secs); 19 May 2004 06:24:36 -0000
X-Qmail-Scanner-Mail-From: morus@tanto-xipolis.de via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(213.61.178.43):. Processed in 0.290318 secs)
Received: from unknown (HELO mail.tanto.de) (213.61.178.43)
  by hermes.apache.org with SMTP; 19 May 2004 06:24:36 -0000
Received: from tucholsky.office.tanto.de (morus.office.tanto.de [10.0.1.4])
	by mail.tanto.de (Postfix) with ESMTP id 37C7E23BD4
	for <lucene-user@jakarta.apache.org>; Wed, 19 May 2004 08:25:08 +0200 (CEST)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id i4J6NjGL014475
	for <lucene-user@jakarta.apache.org>; Wed, 19 May 2004 08:23:45 +0200
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id i4J6NjYT014471;
	Wed, 19 May 2004 08:23:45 +0200
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16554.64881.465670.282589@tanto-xipolis.de>
Date: Wed, 19 May 2004 08:23:45 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: How to handle range queries over large ranges and avoid Too Many Boolean clauses
In-Reply-To: <1C5330AC-A8F2-11D8-9C2D-003065E21F90@library.ucsf.edu>
References: <002d01c43cfa$396e0a60$0300a8c0@dargo>
	<1C5330AC-A8F2-11D8-9C2D-003065E21F90@library.ucsf.edu>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Claude Devarenne writes:
> Hi,
> 
> I have over 60,000 documents in my index which is slightly over a 1 GB 
> in size.  The documents range from the late seventies up to now.  I 
> have indexed dates as a keyword field using a string because the dates 
> are in YYYYMMDD format.  When I do range queries things are OK as long 
> as I don't exceed the built-in number of boolean clauses, so that's a 
> range of 3 years, e.g. 1979 to 1981.  The users are not only doing 
> complex queries but also want to query over long ranges, e.g. [19790101 
> TO 19991231].
> 
> Given these requirements, I am thinking of doing a query without the 
> date range, bring the unique ids back from the hits and then do a date 
> query in the SQL database I have that contains the same data.  Another 
> alternative is to do the query without the date range in Lucene and 
> then sort the results within the range.  I still have to learn how to 
> use the new sorting code and confessed I did not have time to look at 
> it yet.
> 
> Is there a simpler, easier way to do this?
> 
I think it would be worth to take a look at the sorting code.

The idea of the sorting code is to have an array of the dates for each doc
in memory and access this array for sorting.
Now sorting isn't the only thing one might use this array for.
Doing a range check is another.
So you might extend the sorting code by a range selection.

There is no code for this in lucene and you have to create your own searcher
but it gives you a fast way to search and sort by date.

I did this independently from the new sorting code (I just started a little
to early) and it works quite well.
The only drawback from this (and the new sorting code) is, that it requires
an array of field values that must be rebuilt each time the index changes.
Shouldn't be a problem for 60000 documents.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8353-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 19 06:33:19 2004
Return-Path: <lucene-user-return-8353-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77909 invoked from network); 19 May 2004 06:33:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 May 2004 06:33:19 -0000
Received: (qmail 75698 invoked by uid 500); 19 May 2004 06:33:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75635 invoked by uid 500); 19 May 2004 06:33:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75598 invoked by uid 98); 19 May 2004 06:33:50 -0000
Received: from morus@tanto-xipolis.de by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(213.61.178.43):. 
 Processed in 0.125235 secs); 19 May 2004 06:33:50 -0000
X-Qmail-Scanner-Mail-From: morus@tanto-xipolis.de via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(213.61.178.43):. Processed in 0.125235 secs)
Received: from unknown (HELO mail.tanto.de) (213.61.178.43)
  by hermes.apache.org with SMTP; 19 May 2004 06:33:49 -0000
Received: from tucholsky.office.tanto.de (morus.office.tanto.de [10.0.1.4])
	by mail.tanto.de (Postfix) with ESMTP id 79F9C23BD4
	for <lucene-user@jakarta.apache.org>; Wed, 19 May 2004 08:34:21 +0200 (CEST)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id i4J6WxGL014562
	for <lucene-user@jakarta.apache.org>; Wed, 19 May 2004 08:32:59 +0200
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id i4J6Wwpw014558;
	Wed, 19 May 2004 08:32:58 +0200
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16554.65434.689207.976651@tanto-xipolis.de>
Date: Wed, 19 May 2004 08:32:58 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Internal full content store within Lucene
In-Reply-To: <40AA595B.7060600@newsmonster.org>
References: <40AA595B.7060600@newsmonster.org>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin Burton writes:
> 
> How much interest is there for this?  I have to do this for work and 
> will certainly take the extra effort into making this a standard Lucene 
> feature. 
> 
Sounds interesting.
How would you handle deletions?

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8354-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 19 08:10:03 2004
Return-Path: <lucene-user-return-8354-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46048 invoked from network); 19 May 2004 08:10:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 May 2004 08:10:03 -0000
Received: (qmail 64134 invoked by uid 500); 19 May 2004 08:10:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64080 invoked by uid 500); 19 May 2004 08:10:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64047 invoked by uid 98); 19 May 2004 08:10:24 -0000
Received: from karthik@controlnet.co.in by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.199.26.74):. 
 Processed in 1.382327 secs); 19 May 2004 08:10:24 -0000
X-Qmail-Scanner-Mail-From: karthik@controlnet.co.in via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.199.26.74):. Processed in 1.382327 secs)
Received: from unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by hermes.apache.org with SMTP; 19 May 2004 08:10:22 -0000
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HXYCIV00.UR2; Wed, 19 May 2004 13:50:55 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: <lucene-user@jakarta.apache.org>
Cc: <lucene-user@jakarta.apache.org>
Subject: org.apache.lucene.search.highlight.Highlighter
Date: Wed, 19 May 2004 13:47:12 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIIEDMCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: multipart/related;
	boundary="----=_NextPart_000_0005_01C43DA7.C9F70B60"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0005_01C43DA7.C9F70B60
Content-Type: multipart/alternative;
	boundary="----=_NextPart_001_0006_01C43DA7.C9FBED60"


------=_NextPart_001_0006_01C43DA7.C9FBED60
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit




Hey Guys
Found some Highlighter Package on CVS Directory
Was Investigating,found some Compile time error..

Please some body tell me what this



The Code:-

private IndexReader reader=null;
private Highlighter highlighter = null;

 public SearchFiles() {
 }

 public void searchIndex0(String srchkey,String pathfile)throws Exception {
  IndexSearcher searcher = new IndexSearcher(pathfile);
  Query query = QueryParser.parse(srchkey,"bookid", analyzer);
  query=query.rewrite(reader); //required to expand search terms
  Hits hits = searcher.search(query);

   highlighter = new Highlighter(this,new QueryScorer(query));
  for (int i = 0; i < hits.length(); i++) {
   String text = hits.doc(i).get(bookid);
   TokenStream tokenStream=analyzer.tokenStream(bookid,new
StringReader(text));
   // Get 3 best fragments and seperate with a "..."
   String result = highlighter.getBestFragments(tokenStream,text,3,"...");
   System.out.println(result);
  }
 }



The Error:-
src\org\apache\lucene\search\higlight\SearchFiles.java:46: cannot resolve
symbol
symbol : constructor Highlighter
(com.controlnet.higlight.SearchFiles,com.controlnet.higlight.QueryScorer)
location: class org.apache.lucene.search.highlight.Highlighter highlighter
=new Highlighter(this,new QueryScorer(query));

Also Reffrells  to  URL from archives lucene-dev is not avaliable for proper
documentation
http://home.clara.net/markharwood/lucene/highlight.htm





















      WITH WARM REGARDS
      HAVE A NICE DAY
      [ N.S.KARTHIK]



------=_NextPart_001_0006_01C43DA7.C9FBED60
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<STYLE>
<!-- body, P.msoNormal, LI.msoNormal, PRE, BLOCKQUOTE, a, MENU, dd, UL, =
DT { font-family: "verdana"; font-size: 12pt; margin-top: 0em; =
margin-bottom: 0em; color: #000000; } dir, ADDRESS, h1, h2, h3, h4, h5, =
h6, HR { font-family: "Arial"; font-size: 12pt; margin-top: 0em; =
margin-bottom: 0em; color: #000000; } -->
</STYLE>

<META content=3D"MSHTML 6.00.2600.0" name=3DGENERATOR></HEAD>
<BODY><STRONG><FONT color=3D#000080 size=3D2></FONT></STRONG><BR><BR>
<DIV><SPAN class=3D218481907-19052004></SPAN><STRONG><FONT =
color=3D#000080><FONT=20
size=3D2>Hey&nbsp;Guys</FONT></FONT></STRONG></DIV>
<DIV><FONT size=3D+0><FONT size=3D2><SPAN=20
class=3D218481907-19052004></SPAN></FONT></FONT><SPAN=20
class=3D218481907-19052004></SPAN><STRONG><FONT color=3D#000080><FONT =
size=3D2>F<SPAN=20
class=3D218481907-19052004>ound some Highlighter Package on CVS=20
Directory</SPAN></FONT></FONT></STRONG></DIV>
<DIV><STRONG><FONT color=3D#000080><FONT size=3D2><SPAN =
class=3D218481907-19052004>Was=20
Investigating,found some Compile time=20
error..</SPAN></FONT></FONT></STRONG></DIV>
<DIV><FONT size=3D+0><FONT size=3D2><SPAN=20
class=3D218481907-19052004></SPAN></FONT></FONT><SPAN=20
class=3D218481907-19052004></SPAN><STRONG><FONT color=3D#000080><FONT=20
size=3D2></FONT></FONT></STRONG>&nbsp;</DIV>
<DIV><STRONG><FONT color=3D#000080><FONT size=3D2>P<SPAN=20
class=3D218481907-19052004>lease some body tell me what=20
this</SPAN></FONT></FONT></STRONG></DIV>
<DIV><STRONG><FONT color=3D#000080><FONT size=3D2><SPAN=20
class=3D218481907-19052004></SPAN></FONT></FONT></STRONG>&nbsp;</DIV>
<DIV><STRONG><FONT color=3D#000080><FONT size=3D2><SPAN=20
class=3D218481907-19052004></SPAN></FONT></FONT></STRONG>&nbsp;</DIV>
<DIV><STRONG><FONT color=3D#000080><FONT size=3D2><SPAN=20
class=3D218481907-19052004></SPAN></FONT></FONT></STRONG>&nbsp;</DIV>
<DIV><STRONG><FONT color=3D#000080><FONT size=3D2><SPAN =
class=3D218481907-19052004>The=20
Code:-</SPAN></FONT></FONT></STRONG></DIV>
<DIV><STRONG><FONT color=3D#000080><FONT size=3D2><SPAN=20
class=3D218481907-19052004></SPAN></FONT></FONT></STRONG>&nbsp;</DIV>
<DIV><STRONG><FONT color=3D#000080><FONT size=3D2><SPAN=20
class=3D218481907-19052004>private IndexReader =
reader=3Dnull;&nbsp;<BR>private=20
Highlighter highlighter =3D null;<BR>&nbsp;<BR>&nbsp;public =
SearchFiles()=20
{<BR>&nbsp;}<BR>&nbsp;<BR>&nbsp;public void searchIndex0(String =
srchkey,String=20
pathfile)throws Exception {<BR>&nbsp;&nbsp;IndexSearcher searcher =3D =
new=20
IndexSearcher(pathfile);<BR>&nbsp;&nbsp;Query query =3D=20
QueryParser.parse(srchkey,"bookid",=20
analyzer);<BR>&nbsp;&nbsp;query=3Dquery.rewrite(reader); //required to =
expand=20
search terms<BR>&nbsp;&nbsp;Hits hits =3D=20
searcher.search(query);<BR>&nbsp;&nbsp;<BR>&nbsp;&nbsp; highlighter =3D =
new=20
Highlighter(this,new QueryScorer(query));<BR>&nbsp;&nbsp;for (int i =3D =
0; i &lt;=20
hits.length(); i++)&nbsp;{<BR>&nbsp;&nbsp;&nbsp;String text =3D=20
hits.doc(i).get(bookid);<BR>&nbsp;&nbsp;&nbsp;TokenStream=20
tokenStream=3Danalyzer.tokenStream(bookid,new=20
StringReader(text));<BR>&nbsp;&nbsp;&nbsp;// Get 3 best fragments and =
seperate=20
with a "..." <BR>&nbsp;&nbsp;&nbsp;String result =3D=20
highlighter.getBestFragments(tokenStream,text,3,"...");<BR>&nbsp;&nbsp;&n=
bsp;System.out.println(result);<BR>&nbsp;&nbsp;}<BR>&nbsp;}&nbsp;</SPAN><=
/FONT></FONT></STRONG><BR></DIV>
<DIV><SPAN class=3D218481907-19052004><FONT color=3D#000080=20
size=3D2><STRONG></STRONG></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D218481907-19052004><FONT color=3D#000080=20
size=3D2><STRONG></STRONG></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D218481907-19052004><FONT color=3D#000080 =
size=3D2><STRONG>The=20
Error:-</STRONG></FONT></SPAN></DIV>
<DIV><SPAN class=3D218481907-19052004></SPAN><FONT size=3D2>src\<SPAN=20
class=3D218481907-19052004>org</SPAN>\<SPAN=20
class=3D218481907-19052004>apache\lucene\search</SPAN>\higlight\SearchFil=
es.java:46:=20
cannot resolve symbol <BR>symbol : constructor Highlighter=20
(com.controlnet.higlight.SearchFiles,com.controlnet.higlight.QueryScorer)=
=20
<BR>location: class&nbsp;</FONT><FONT=20
size=3D2>org.apache.lucene.search.highlight.Highlighter highlighter =
=3Dnew=20
Highlighter(this,new QueryScorer(query)); </FONT></DIV>
<DIV><STRONG><FONT color=3D#000080 =
size=3D2></FONT></STRONG><STRONG><FONT=20
color=3D#000080 size=3D2></FONT></STRONG><STRONG><FONT color=3D#000080=20
size=3D2></FONT></STRONG><STRONG><FONT color=3D#000080=20
size=3D2></FONT></STRONG><BR><SPAN =
class=3D218481907-19052004></SPAN><FONT=20
color=3D#000080><FONT size=3D2><STRONG>Also&nbsp;R<SPAN=20
class=3D218481907-19052004>effrells=20
</SPAN>&nbsp;to&nbsp;<!--StartFragment --></STRONG><FONT=20
color=3D#000000>&nbsp;</FONT><STRONG>URL&nbsp;from&nbsp;archives&nbsp;luc=
ene-dev&nbsp;</STRONG></FONT></FONT><FONT=20
color=3D#000080><FONT=20
size=3D2><STRONG>is&nbsp;not&nbsp;avaliable&nbsp;for&nbsp;proper&nbsp;doc=
umentation</STRONG></FONT></FONT></DIV>
<DIV><FONT color=3D#000080><FONT size=3D2><A=20
href=3D"http://home.clara.net/markharwood/lucene/highlight.htm"><STRONG><=
FONT=20
color=3D#0000ff>http://home.clara.net/markharwood/lucene/highlight.htm</F=
ONT></STRONG></A></FONT></FONT><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><B=
R><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR>
<TABLE width=3D60 border=3D0 valign=3D"bottom">
  <TBODY>
  <TR>
    <TD align=3Dleft><IMG height=3D50 =
src=3D"cid:234151608@19052004-300d" width=3D50>=20
    </TD></TR>
  <TR>
    <TD noWrap align=3Dleft><ALIGN=3DLEFT><B><FONT face=3DVerdana =
color=3D#939ff7=20
      size=3D3>WITH WARM REGARDS <BR>HAVE A NICE DAY <BR>[ =
N.S.KARTHIK]</B>=20
</FONT>
      <P></P></TD></TR></TBODY></TABLE></FONT></DIV></BODY></HTML>

------=_NextPart_001_0006_01C43DA7.C9FBED60--

------=_NextPart_000_0005_01C43DA7.C9F70B60--


From lucene-user-return-8355-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 19 08:10:03 2004
Return-Path: <lucene-user-return-8355-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46055 invoked from network); 19 May 2004 08:10:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 May 2004 08:10:03 -0000
Received: (qmail 64238 invoked by uid 500); 19 May 2004 08:10:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64107 invoked by uid 500); 19 May 2004 08:10:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64047 invoked by uid 98); 19 May 2004 08:10:24 -0000
Received: from karthik@controlnet.co.in by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.199.26.74):. 
 Processed in 1.382327 secs); 19 May 2004 08:10:24 -0000
X-Qmail-Scanner-Mail-From: karthik@controlnet.co.in via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.199.26.74):. Processed in 1.382327 secs)
Received: from unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by hermes.apache.org with SMTP; 19 May 2004 08:10:22 -0000
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HXYCIV00.UR2; Wed, 19 May 2004 13:50:55 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: <lucene-user@jakarta.apache.org>
Cc: <lucene-user@jakarta.apache.org>
Subject: org.apache.lucene.search.highlight.Highlighter
Date: Wed, 19 May 2004 13:47:12 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIIEDMCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: multipart/related;
	boundary="----=_NextPart_000_0005_01C43DA7.C9F70B60"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0005_01C43DA7.C9F70B60
Content-Type: multipart/alternative;
	boundary="----=_NextPart_001_0006_01C43DA7.C9FBED60"


------=_NextPart_001_0006_01C43DA7.C9FBED60
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit




Hey Guys
Found some Highlighter Package on CVS Directory
Was Investigating,found some Compile time error..

Please some body tell me what this



The Code:-

private IndexReader reader=null;
private Highlighter highlighter = null;

 public SearchFiles() {
 }

 public void searchIndex0(String srchkey,String pathfile)throws Exception {
  IndexSearcher searcher = new IndexSearcher(pathfile);
  Query query = QueryParser.parse(srchkey,"bookid", analyzer);
  query=query.rewrite(reader); //required to expand search terms
  Hits hits = searcher.search(query);

   highlighter = new Highlighter(this,new QueryScorer(query));
  for (int i = 0; i < hits.length(); i++) {
   String text = hits.doc(i).get(bookid);
   TokenStream tokenStream=analyzer.tokenStream(bookid,new
StringReader(text));
   // Get 3 best fragments and seperate with a "..."
   String result = highlighter.getBestFragments(tokenStream,text,3,"...");
   System.out.println(result);
  }
 }



The Error:-
src\org\apache\lucene\search\higlight\SearchFiles.java:46: cannot resolve
symbol
symbol : constructor Highlighter
(com.controlnet.higlight.SearchFiles,com.controlnet.higlight.QueryScorer)
location: class org.apache.lucene.search.highlight.Highlighter highlighter
=new Highlighter(this,new QueryScorer(query));

Also Reffrells  to  URL from archives lucene-dev is not avaliable for proper
documentation
http://home.clara.net/markharwood/lucene/highlight.htm





















      WITH WARM REGARDS
      HAVE A NICE DAY
      [ N.S.KARTHIK]



------=_NextPart_001_0006_01C43DA7.C9FBED60
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<STYLE>
<!-- body, P.msoNormal, LI.msoNormal, PRE, BLOCKQUOTE, a, MENU, dd, UL, =
DT { font-family: "verdana"; font-size: 12pt; margin-top: 0em; =
margin-bottom: 0em; color: #000000; } dir, ADDRESS, h1, h2, h3, h4, h5, =
h6, HR { font-family: "Arial"; font-size: 12pt; margin-top: 0em; =
margin-bottom: 0em; color: #000000; } -->
</STYLE>

<META content=3D"MSHTML 6.00.2600.0" name=3DGENERATOR></HEAD>
<BODY><STRONG><FONT color=3D#000080 size=3D2></FONT></STRONG><BR><BR>
<DIV><SPAN class=3D218481907-19052004></SPAN><STRONG><FONT =
color=3D#000080><FONT=20
size=3D2>Hey&nbsp;Guys</FONT></FONT></STRONG></DIV>
<DIV><FONT size=3D+0><FONT size=3D2><SPAN=20
class=3D218481907-19052004></SPAN></FONT></FONT><SPAN=20
class=3D218481907-19052004></SPAN><STRONG><FONT color=3D#000080><FONT =
size=3D2>F<SPAN=20
class=3D218481907-19052004>ound some Highlighter Package on CVS=20
Directory</SPAN></FONT></FONT></STRONG></DIV>
<DIV><STRONG><FONT color=3D#000080><FONT size=3D2><SPAN =
class=3D218481907-19052004>Was=20
Investigating,found some Compile time=20
error..</SPAN></FONT></FONT></STRONG></DIV>
<DIV><FONT size=3D+0><FONT size=3D2><SPAN=20
class=3D218481907-19052004></SPAN></FONT></FONT><SPAN=20
class=3D218481907-19052004></SPAN><STRONG><FONT color=3D#000080><FONT=20
size=3D2></FONT></FONT></STRONG>&nbsp;</DIV>
<DIV><STRONG><FONT color=3D#000080><FONT size=3D2>P<SPAN=20
class=3D218481907-19052004>lease some body tell me what=20
this</SPAN></FONT></FONT></STRONG></DIV>
<DIV><STRONG><FONT color=3D#000080><FONT size=3D2><SPAN=20
class=3D218481907-19052004></SPAN></FONT></FONT></STRONG>&nbsp;</DIV>
<DIV><STRONG><FONT color=3D#000080><FONT size=3D2><SPAN=20
class=3D218481907-19052004></SPAN></FONT></FONT></STRONG>&nbsp;</DIV>
<DIV><STRONG><FONT color=3D#000080><FONT size=3D2><SPAN=20
class=3D218481907-19052004></SPAN></FONT></FONT></STRONG>&nbsp;</DIV>
<DIV><STRONG><FONT color=3D#000080><FONT size=3D2><SPAN =
class=3D218481907-19052004>The=20
Code:-</SPAN></FONT></FONT></STRONG></DIV>
<DIV><STRONG><FONT color=3D#000080><FONT size=3D2><SPAN=20
class=3D218481907-19052004></SPAN></FONT></FONT></STRONG>&nbsp;</DIV>
<DIV><STRONG><FONT color=3D#000080><FONT size=3D2><SPAN=20
class=3D218481907-19052004>private IndexReader =
reader=3Dnull;&nbsp;<BR>private=20
Highlighter highlighter =3D null;<BR>&nbsp;<BR>&nbsp;public =
SearchFiles()=20
{<BR>&nbsp;}<BR>&nbsp;<BR>&nbsp;public void searchIndex0(String =
srchkey,String=20
pathfile)throws Exception {<BR>&nbsp;&nbsp;IndexSearcher searcher =3D =
new=20
IndexSearcher(pathfile);<BR>&nbsp;&nbsp;Query query =3D=20
QueryParser.parse(srchkey,"bookid",=20
analyzer);<BR>&nbsp;&nbsp;query=3Dquery.rewrite(reader); //required to =
expand=20
search terms<BR>&nbsp;&nbsp;Hits hits =3D=20
searcher.search(query);<BR>&nbsp;&nbsp;<BR>&nbsp;&nbsp; highlighter =3D =
new=20
Highlighter(this,new QueryScorer(query));<BR>&nbsp;&nbsp;for (int i =3D =
0; i &lt;=20
hits.length(); i++)&nbsp;{<BR>&nbsp;&nbsp;&nbsp;String text =3D=20
hits.doc(i).get(bookid);<BR>&nbsp;&nbsp;&nbsp;TokenStream=20
tokenStream=3Danalyzer.tokenStream(bookid,new=20
StringReader(text));<BR>&nbsp;&nbsp;&nbsp;// Get 3 best fragments and =
seperate=20
with a "..." <BR>&nbsp;&nbsp;&nbsp;String result =3D=20
highlighter.getBestFragments(tokenStream,text,3,"...");<BR>&nbsp;&nbsp;&n=
bsp;System.out.println(result);<BR>&nbsp;&nbsp;}<BR>&nbsp;}&nbsp;</SPAN><=
/FONT></FONT></STRONG><BR></DIV>
<DIV><SPAN class=3D218481907-19052004><FONT color=3D#000080=20
size=3D2><STRONG></STRONG></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D218481907-19052004><FONT color=3D#000080=20
size=3D2><STRONG></STRONG></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D218481907-19052004><FONT color=3D#000080 =
size=3D2><STRONG>The=20
Error:-</STRONG></FONT></SPAN></DIV>
<DIV><SPAN class=3D218481907-19052004></SPAN><FONT size=3D2>src\<SPAN=20
class=3D218481907-19052004>org</SPAN>\<SPAN=20
class=3D218481907-19052004>apache\lucene\search</SPAN>\higlight\SearchFil=
es.java:46:=20
cannot resolve symbol <BR>symbol : constructor Highlighter=20
(com.controlnet.higlight.SearchFiles,com.controlnet.higlight.QueryScorer)=
=20
<BR>location: class&nbsp;</FONT><FONT=20
size=3D2>org.apache.lucene.search.highlight.Highlighter highlighter =
=3Dnew=20
Highlighter(this,new QueryScorer(query)); </FONT></DIV>
<DIV><STRONG><FONT color=3D#000080 =
size=3D2></FONT></STRONG><STRONG><FONT=20
color=3D#000080 size=3D2></FONT></STRONG><STRONG><FONT color=3D#000080=20
size=3D2></FONT></STRONG><STRONG><FONT color=3D#000080=20
size=3D2></FONT></STRONG><BR><SPAN =
class=3D218481907-19052004></SPAN><FONT=20
color=3D#000080><FONT size=3D2><STRONG>Also&nbsp;R<SPAN=20
class=3D218481907-19052004>effrells=20
</SPAN>&nbsp;to&nbsp;<!--StartFragment --></STRONG><FONT=20
color=3D#000000>&nbsp;</FONT><STRONG>URL&nbsp;from&nbsp;archives&nbsp;luc=
ene-dev&nbsp;</STRONG></FONT></FONT><FONT=20
color=3D#000080><FONT=20
size=3D2><STRONG>is&nbsp;not&nbsp;avaliable&nbsp;for&nbsp;proper&nbsp;doc=
umentation</STRONG></FONT></FONT></DIV>
<DIV><FONT color=3D#000080><FONT size=3D2><A=20
href=3D"http://home.clara.net/markharwood/lucene/highlight.htm"><STRONG><=
FONT=20
color=3D#0000ff>http://home.clara.net/markharwood/lucene/highlight.htm</F=
ONT></STRONG></A></FONT></FONT><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><B=
R><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR>
<TABLE width=3D60 border=3D0 valign=3D"bottom">
  <TBODY>
  <TR>
    <TD align=3Dleft><IMG height=3D50 =
src=3D"cid:234151608@19052004-300d" width=3D50>=20
    </TD></TR>
  <TR>
    <TD noWrap align=3Dleft><ALIGN=3DLEFT><B><FONT face=3DVerdana =
color=3D#939ff7=20
      size=3D3>WITH WARM REGARDS <BR>HAVE A NICE DAY <BR>[ =
N.S.KARTHIK]</B>=20
</FONT>
      <P></P></TD></TR></TBODY></TABLE></FONT></DIV></BODY></HTML>

------=_NextPart_001_0006_01C43DA7.C9FBED60--

------=_NextPart_000_0005_01C43DA7.C9F70B60--


From lucene-user-return-8356-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 19 08:13:55 2004
Return-Path: <lucene-user-return-8356-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48181 invoked from network); 19 May 2004 08:13:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 May 2004 08:13:55 -0000
Received: (qmail 80607 invoked by uid 500); 19 May 2004 08:14:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80518 invoked by uid 500); 19 May 2004 08:14:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80383 invoked by uid 98); 19 May 2004 08:14:20 -0000
Received: from Kiran.Viparthi@fao.org by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(168.202.2.12):. 
 Processed in 0.062391 secs); 19 May 2004 08:14:20 -0000
X-Qmail-Scanner-Mail-From: Kiran.Viparthi@fao.org via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(168.202.2.12):. Processed in 0.062391 secs)
Received: from unknown (HELO smtpmail.fao.org) (168.202.2.12)
  by hermes.apache.org with SMTP; 19 May 2004 08:14:19 -0000
Received: from CONVERSION-DAEMON.smtpmail.fao.org by smtpmail.fao.org
 (PMDF V6.2-X17 #30673) id <0HXY00501CD8MO@smtpmail.fao.org> for
 lucene-user@jakarta.apache.org; Wed, 19 May 2004 10:17:32 +0200 (MEST)
Received: from afexch1.fao.org (afexch1.fao.org [168.202.2.84])
 by smtpmail.fao.org (PMDF V6.2-X17 #30673)
 with ESMTP id <0HXY004BMCD8T5@smtpmail.fao.org> for
 lucene-user@jakarta.apache.org; Wed, 19 May 2004 10:17:32 +0200 (MEST)
Received: by afexch1.fao.org with Internet Mail Service (5.5.2657.72)
	id <LFPHDA15>; Wed, 19 May 2004 10:13:24 +0200
Content-return: allowed
Date: Wed, 19 May 2004 10:13:22 +0200
From: "Viparthi, Kiran (AFIS)" <Kiran.Viparthi@fao.org>
Subject: RE: SELECTIVE Indexing
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Message-id: <DD0BDCCADFDA4349AA5300F8B33F2B7F0259D4A6@afexch3.fao.org>
MIME-version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-type: text/plain
Content-transfer-encoding: 7BIT
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I doubt if it can be used as a plug in.
Would be good to know if it can be used as a plug in.

Regards,
Kiran.

-----Original Message-----
From: Karthik N S [mailto:karthik@controlnet.co.in] 
Sent: 17 May 2004 12:30
To: Lucene Users List
Subject: RE: SELECTIVE Indexing


Hi

Can I Use TIDY [as plug in ] with Lucene ...


with regards
Karthik

-----Original Message-----
From: Viparthi, Kiran (AFIS) [mailto:Kiran.Viparthi@fao.org]
Sent: Monday, May 17, 2004 3:27 PM
To: 'Lucene Users List'
Subject: RE: SELECTIVE Indexing



Try using Tidy.
Creates a Document of the html and allows you to apply xpath. Hope this
helps.

Kiran.

-----Original Message-----
From: Karthik N S [mailto:karthik@controlnet.co.in]
Sent: 17 May 2004 11:59
To: Lucene Users List
Subject: SELECTIVE Indexing



Hi all

   Can Some Body tell me How to Index  CERTAIN PORTION OF THE HTML FILE Only

   ex:-
        <table .....>
               ....

         </table>


with regards
Karthik




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8357-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 19 08:55:02 2004
Return-Path: <lucene-user-return-8357-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2225 invoked from network); 19 May 2004 08:55:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 May 2004 08:55:02 -0000
Received: (qmail 56623 invoked by uid 500); 19 May 2004 08:54:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56494 invoked by uid 500); 19 May 2004 08:54:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56431 invoked by uid 98); 19 May 2004 08:54:09 -0000
Received: from karthik@controlnet.co.in by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.199.26.74):. 
 Processed in 0.247919 secs); 19 May 2004 08:54:09 -0000
X-Qmail-Scanner-Mail-From: karthik@controlnet.co.in via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.199.26.74):. Processed in 0.247919 secs)
Received: from unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by hermes.apache.org with SMTP; 19 May 2004 08:54:08 -0000
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HXYEJT00.UU7 for <lucene-user@jakarta.apache.org>; Wed,
          19 May 2004 14:34:41 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: SELECTIVE Indexing
Date: Wed, 19 May 2004 14:30:58 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKICEDNCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <DD0BDCCADFDA4349AA5300F8B33F2B7F0259D4A6@afexch3.fao.org>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey Lucene Users

My original intension for indexing was to
index certain portions of  HTML [ not the whole Document ],
if Jtidy is not supporting this then what are my optionals

Karthik

-----Original Message-----
From: Viparthi, Kiran (AFIS) [mailto:Kiran.Viparthi@fao.org]
Sent: Wednesday, May 19, 2004 1:43 PM
To: 'Lucene Users List'
Subject: RE: SELECTIVE Indexing


I doubt if it can be used as a plug in.
Would be good to know if it can be used as a plug in.

Regards,
Kiran.

-----Original Message-----
From: Karthik N S [mailto:karthik@controlnet.co.in]
Sent: 17 May 2004 12:30
To: Lucene Users List
Subject: RE: SELECTIVE Indexing


Hi

Can I Use TIDY [as plug in ] with Lucene ...


with regards
Karthik

-----Original Message-----
From: Viparthi, Kiran (AFIS) [mailto:Kiran.Viparthi@fao.org]
Sent: Monday, May 17, 2004 3:27 PM
To: 'Lucene Users List'
Subject: RE: SELECTIVE Indexing



Try using Tidy.
Creates a Document of the html and allows you to apply xpath. Hope this
helps.

Kiran.

-----Original Message-----
From: Karthik N S [mailto:karthik@controlnet.co.in]
Sent: 17 May 2004 11:59
To: Lucene Users List
Subject: SELECTIVE Indexing



Hi all

   Can Some Body tell me How to Index  CERTAIN PORTION OF THE HTML FILE Only

   ex:-
        <table .....>
               ....

         </table>


with regards
Karthik




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8358-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 19 09:32:18 2004
Return-Path: <lucene-user-return-8358-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50735 invoked from network); 19 May 2004 09:32:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 May 2004 09:32:18 -0000
Received: (qmail 45949 invoked by uid 500); 19 May 2004 09:32:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45897 invoked by uid 500); 19 May 2004 09:32:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45874 invoked by uid 98); 19 May 2004 09:32:45 -0000
Received: from david.townsend@magus.co.uk by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(193.131.98.10):. 
 Processed in 0.022533 secs); 19 May 2004 09:32:45 -0000
X-Qmail-Scanner-Mail-From: david.townsend@magus.co.uk via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(193.131.98.10):. Processed in 0.022533 secs)
Received: from unknown (HELO dougal.magus.co.uk) (193.131.98.10)
  by hermes.apache.org with SMTP; 19 May 2004 09:32:44 -0000
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: about search and update one index simultaneously
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Date: Wed, 19 May 2004 10:31:46 +0100
Message-ID: <DA62FF8236FA314981B6FC0BDACD01E61DAD17@dougal.magus.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: about search and update one index simultaneously
Thread-Index: AcQ9JFHJEWiWcDLHRZuXZqH7PDkLhgAXd3Yg
From: "David Townsend" <david.townsend@magus.co.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

There is no problem with updating and searching simultaneously.  Two =
threads updating simultaneously on the same index on NFS can be a =
problem, as the locking does not work reliably.  Have a look through the =
archives for NFS, there are some solutions scattered about.

David

-----Original Message-----
From: xuemei li [mailto:xli@cs.odu.edu]
Sent: 18 May 2004 23:01
To: lucene-user@jakarta.apache.org
Subject: about search and update one index simultaneously


Hi,all,

Can we do search and update one index simultaneously?Is someone know sth
about it? I had done some experiments.Now the search will be blocked
when the index is being updated.The error in search node is like this:
    caught a class java.io.IOException
    with message:Stale NFS file handle

Thanks

Xuemei Li




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8359-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 19 12:05:11 2004
Return-Path: <lucene-user-return-8359-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51384 invoked from network); 19 May 2004 12:05:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 May 2004 12:05:11 -0000
Received: (qmail 77522 invoked by uid 500); 19 May 2004 12:05:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77285 invoked by uid 500); 19 May 2004 12:04:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76978 invoked by uid 98); 19 May 2004 12:04:54 -0000
Received: from citylists@petmystone.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(64.26.0.85):. 
 Processed in 0.055693 secs); 19 May 2004 12:04:54 -0000
X-Qmail-Scanner-Mail-From: citylists@petmystone.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(64.26.0.85):. Processed in 0.055693 secs)
Received: from unknown (HELO sonny.siteprotect.com) (64.26.0.85)
  by hermes.apache.org with SMTP; 19 May 2004 12:04:53 -0000
Received: from petmystone.com ([4.21.127.37])
	by sonny.siteprotect.com (8.11.6/8.11.6) with ESMTP id i4JC4mi29636
	for <lucene-user@jakarta.apache.org>; Wed, 19 May 2004 07:04:48 -0500
Message-ID: <40AB4D5F.5060504@petmystone.com>
Date: Wed, 19 May 2004 08:04:47 -0400
From: Timothy Stone <citylists@petmystone.com>
Reply-To: citylists@petmystone.com
Organization: City of Harrisburg, PA
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Bad file descriptor (IOException) using SearchBean contribution
References: <40AA2EF4.5060304@petmystone.com> <A7A0E12C-A8E8-11D8-9D6E-000393A564E6@ehatchersolutions.com> <40AA4B5A.1090900@petmystone.com> <67F145C5-A910-11D8-AC66-000393A564E6@ehatchersolutions.com>
In-Reply-To: <67F145C5-A910-11D8-AC66-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:

> On May 18, 2004, at 1:43 PM, Timothy Stone wrote:
> 
>> Erik Hatcher wrote:
>>
>>> Lucene 1.4 (now in release candidate stage) includes built-in sorting 
>>>  capabilities, so I definitely recommend you have a look at that.   
>>> SearchBean is effectively deprecated based on this new much more  
>>> powerful feature.
>>>     Erik
>>
>>
>> Forgive my naivety, but isn't the purpose of the SearchBean more than 
>> just sorting? Without the SearchBean, creating a MVC demo becomes a 
>> larger exercise to undertake.
> 
> 
> Could you elaborate on what you mean by MVC here?  A value list handler 
> piece has been developed and links posted to it on this list - if this 
> is the type of thing you're referring to.

Again, maybe I was naively associating the "SearchBean" with something 
that it was not suppose to be doing. To elaborate, I would like to take 
the demo, which has been working with some success for two years on my 
site, and follow the suggestions of Andrew C. Oliver and go "Model 2 on 
the demo."

You and I have moved away in this thread from my original question, why 
I am getting the IOException: Bad File Descriptor, *and that is okay*, 
I'm learning a lot. However, I hope that we can come back to it later, 
if necessary off-list.

So the SearchBean's purpose, as I understood it, was to provide a Model 
2 component for use in JSPs.

> A value list handler piece has been developed and links posted to it
> on this list - if this is the type of thing you're referring to.

I tried looking for references to such, but no luck.

[snip]

> I'd love to hear how folks are using SearchBean though, and why they 
> feel it is beneficial.

See above as to how I think it could to be used. :)

I agree that Lucene offers a tremendous amount of power! Kudos to all of 
the developers working so hard on this. It is a testament to the 
flexibility of Java.

I must admit that I get the feeling that "newbies" to Lucene seem to get 
less attention on the list. I'm one that tries real hard to research my 
question first in the archives (marc.theaimsgroup.com) then on the web. 
Even I get frustrated on some lists where the most obvious question is 
being asked and the asker misses hints and outright help. The Lucene 
User list can be intimidating even for the advanced novice who may be on 
the right track but not phrasing or wording or describing the problem or 
task in front of him/her. So forgive me, Lucene is a very powerful 
API/library (see I understand what Lucene is ;) ) and I get lost in the 
new search terminology confronting me. Couple this with a new desire to 
tackle Struts, and well, havoc ensues.

Many thanks for your help and answers.
Tim

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8360-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 19 14:14:28 2004
Return-Path: <lucene-user-return-8360-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70914 invoked from network); 19 May 2004 14:14:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 May 2004 14:14:28 -0000
Received: (qmail 49589 invoked by uid 500); 19 May 2004 14:09:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49456 invoked by uid 500); 19 May 2004 14:09:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49356 invoked by uid 98); 19 May 2004 14:09:49 -0000
Received: from claude@library.ucsf.edu by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(128.218.33.11):. 
 Processed in 0.664122 secs); 19 May 2004 14:09:49 -0000
X-Qmail-Scanner-Mail-From: claude@library.ucsf.edu via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(128.218.33.11):. Processed in 0.664122 secs)
Received: from unknown (HELO gossamer.ckm.ucsf.edu) (128.218.33.11)
  by hermes.apache.org with SMTP; 19 May 2004 14:09:47 -0000
Received: from [128.218.15.87] (beani.library.ucsf.edu [128.218.15.87])
	by gossamer.ckm.ucsf.edu (8.11.6-20030924/8.11.6) with ESMTP id i4JE9X413209
	for <lucene-user@jakarta.apache.org>; Wed, 19 May 2004 07:09:33 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <16554.64881.465670.282589@tanto-xipolis.de>
References: <002d01c43cfa$396e0a60$0300a8c0@dargo> <1C5330AC-A8F2-11D8-9C2D-003065E21F90@library.ucsf.edu> <16554.64881.465670.282589@tanto-xipolis.de>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <24032FD8-A99E-11D8-A52A-003065E21F90@library.ucsf.edu>
Content-Transfer-Encoding: 7bit
From: Claude Devarenne <claude@library.ucsf.edu>
Subject: Re: How to handle range queries over large ranges and avoid Too Many Boolean clauses
Date: Wed, 19 May 2004 07:09:28 -0700
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Filter-Version: 1.14 (gossamer)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks,  I will look at the sorting code.  Sorting results by date is 
next on list.  For now, I only have a small number of documents but the 
set is to grow to over 8 million documents for the collection I am 
working on.  Another collection we have is 40 million documents or so.  
 From what you say it seems to me that sorting will not scale then when 
I get to larger number of documents.  I am considering using an SQL 
back end to implement sorting: bring back the unique IDs from lucene 
and then sort in SQL.

Claude

On May 18, 2004, at 11:23 PM, Morus Walter wrote:

> Claude Devarenne writes:
>> Hi,
>>
>> I have over 60,000 documents in my index which is slightly over a 1 GB
>> in size.  The documents range from the late seventies up to now.  I
>> have indexed dates as a keyword field using a string because the dates
>> are in YYYYMMDD format.  When I do range queries things are OK as long
>> as I don't exceed the built-in number of boolean clauses, so that's a
>> range of 3 years, e.g. 1979 to 1981.  The users are not only doing
>> complex queries but also want to query over long ranges, e.g. 
>> [19790101
>> TO 19991231].
>>
>> Given these requirements, I am thinking of doing a query without the
>> date range, bring the unique ids back from the hits and then do a date
>> query in the SQL database I have that contains the same data.  Another
>> alternative is to do the query without the date range in Lucene and
>> then sort the results within the range.  I still have to learn how to
>> use the new sorting code and confessed I did not have time to look at
>> it yet.
>>
>> Is there a simpler, easier way to do this?
>>
> I think it would be worth to take a look at the sorting code.
>
> The idea of the sorting code is to have an array of the dates for each 
> doc
> in memory and access this array for sorting.
> Now sorting isn't the only thing one might use this array for.
> Doing a range check is another.
> So you might extend the sorting code by a range selection.
>
> There is no code for this in lucene and you have to create your own 
> searcher
> but it gives you a fast way to search and sort by date.
>
> I did this independently from the new sorting code (I just started a 
> little
> to early) and it works quite well.
> The only drawback from this (and the new sorting code) is, that it 
> requires
> an array of field values that must be rebuilt each time the index 
> changes.
> Shouldn't be a problem for 60000 documents.
>
> Morus
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8361-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 19 15:33:50 2004
Return-Path: <lucene-user-return-8361-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9815 invoked from network); 19 May 2004 15:33:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 May 2004 15:33:49 -0000
Received: (qmail 22574 invoked by uid 500); 19 May 2004 15:31:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22436 invoked by uid 500); 19 May 2004 15:31:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22225 invoked by uid 98); 19 May 2004 15:31:05 -0000
Received: from hannahc7@hotmail.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(64.4.31.58):. 
 Processed in 0.176626 secs); 19 May 2004 15:31:05 -0000
X-Qmail-Scanner-Mail-From: hannahc7@hotmail.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(64.4.31.58):. Processed in 0.176626 secs)
Received: from unknown (HELO hotmail.com) (64.4.31.58)
  by hermes.apache.org with SMTP; 19 May 2004 15:31:03 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 19 May 2004 08:30:42 -0700
Received: from 193.63.235.44 by by13fd.bay13.hotmail.msn.com with HTTP;
	Wed, 19 May 2004 15:30:41 GMT
X-Originating-IP: [193.63.235.44]
X-Originating-Email: [hannahc7@hotmail.com]
X-Sender: hannahc7@hotmail.com
From: "Hannah c" <hannahc7@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Problem indexing Spanish Characters
Date: Wed, 19 May 2004 15:30:41 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY13-F58tSeAa6Of770001a9e8@hotmail.com>
X-OriginalArrivalTime: 19 May 2004 15:30:42.0091 (UTC) FILETIME=[3ED81FB0:01C43DB6]
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi,

I  am indexing a number of English articles on Spanish resorts. As such 
there are a number of spanish characters throught the text, most of these 
are in the place names which are the type of words I would like to use as 
queries. My problem is with the StandardTokenizer class which cuts the word 
into two when it comes across any of the spanish characters. I had a look at 
the source but the code was generated by JavaCC and so is not very readable. 
I was wondering if there was a way around this problem or which area of the 
code I would need to change to avoid this.

Thanks
Hannah Cumming



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8362-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 19 15:37:57 2004
Return-Path: <lucene-user-return-8362-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17124 invoked from network); 19 May 2004 15:37:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 May 2004 15:37:57 -0000
Received: (qmail 47777 invoked by uid 500); 19 May 2004 15:35:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47640 invoked by uid 500); 19 May 2004 15:35:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47596 invoked by uid 98); 19 May 2004 15:35:20 -0000
Received: from PEPADServer.Administrator@erl9.siemens.de by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(217.194.34.71):. 
 Processed in 0.245235 secs); 19 May 2004 15:35:20 -0000
X-Qmail-Scanner-Mail-From: PEPADServer.Administrator@erl9.siemens.de via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(217.194.34.71):. Processed in 0.245235 secs)
Received: from unknown (HELO thelpusa.erlm.siemens.de) (217.194.34.71)
  by hermes.apache.org with SMTP; 19 May 2004 15:35:19 -0000
Received: from metropolis.erlm.siemens.de (metropolis.erlm.siemens.de [146.254.160.192])
	by thelpusa.erlm.siemens.de (8.12.8/8.12.8) with ESMTP id i4JFYuWx031613
	for <lucene-user@jakarta.apache.org>; Wed, 19 May 2004 17:34:56 +0200
Received: from erlm510a.erl9.siemens.de (erlm510a.erl9.siemens.de [146.254.168.221])
	by metropolis.erlm.siemens.de (8.12.8/8.12.8) with ESMTP id i4JFYuvj021049
	for <lucene-user@jakarta.apache.org>; Wed, 19 May 2004 17:34:56 +0200
Received: by erlm510a.erl9.siemens.de with Internet Mail Service (5.5.2657.72)
	id <LDANJJ8T>; Wed, 19 May 2004 17:34:55 +0200
Message-ID: <A719AEB6A99ED711B87F000BCD10AA8707A15835@ERLM585A.erl9.siemens.de>
From: PEP AD Server Administrator
	 <PEPADServer.Administrator@erl9.siemens.de>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Problem tokenizing UTF-8 with geman umlauts
Date: Wed, 19 May 2004 17:34:55 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,
I have HTML-documents which are UTF-8 encoded and contain english =
and/or
german content. I have written my own Analyser and Filter to replace =
the
german umlauts with the commonly used pair of character (=FC=3Due, =
=E4=3Dae, =F6=3Doe)
to avoid any problems. Still in the HTML-code the german umlauts are =
shown
as a pair of character representing the UTF-8 encoding (I think). As a
result the StandardTokenizer is missinterpreting the string and =
splitting a
word with umlaut into 2 tokens which is of no use anymore.
Does anyone ahs experience in this case and can help me back on the =
road?

Peter MH

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8363-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 19 15:39:26 2004
Return-Path: <lucene-user-return-8363-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19991 invoked from network); 19 May 2004 15:39:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 May 2004 15:39:25 -0000
Received: (qmail 64650 invoked by uid 500); 19 May 2004 15:38:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64487 invoked by uid 500); 19 May 2004 15:38:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64320 invoked by uid 98); 19 May 2004 15:38:02 -0000
Received: from otis_gospodnetic@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.136.173.243):. 
 Processed in 0.072612 secs); 19 May 2004 15:38:02 -0000
X-Qmail-Scanner-Mail-From: otis_gospodnetic@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.136.173.243):. Processed in 0.072612 secs)
Received: from unknown (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by hermes.apache.org with SMTP; 19 May 2004 15:38:01 -0000
Message-ID: <20040519153702.90322.qmail@web12706.mail.yahoo.com>
Received: from [195.29.121.133] by web12706.mail.yahoo.com via HTTP; Wed, 19 May 2004 08:37:02 PDT
Date: Wed, 19 May 2004 08:37:02 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Possible to fetch a document without all fields for performance?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <40A3135D.4050803@newsmonster.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Kevin,

There is no API for this, and I agree it would be handy.

Otis

--- Kevin Burton <burton@newsmonster.org> wrote:
> Say I have a query result for the term Linux... now I just want the 
> TITLE of these documents not the BODY.
> 
> To further this scenario imagine the TITLE is 500 bytes but the  BODY
> is 
> 50M. 
> 
> The current impl of fetching a document will pull in ALL 50,000,500 
> bytes not just the 500 that I need. 
> 
> Obviously if I could just get the TITLE field this would be a HUGE
> speedup.
> 
> Is there a somewhat simple and efficient way to get a document with a
> 
> restricted set of fields?  Digging through the API it didnt' seem
> obvious.
> 
> Kevin
> 
> -- 
> 
> Please reply using PGP.
> 
>     http://peerfear.org/pubkey.asc    
>     
>     NewsMonster - http://www.newsmonster.org/
>     
> Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
>        AIM/YIM - sfburtonator,  Web - http://peerfear.org/
> GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
>   IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster
> 
> > begin:vcard
> fn:Kevin Burton
> n:Burton;Kevin
> email;internet:burton@sofari.com
> tel;work:415-595-9965
> tel;home:415-595-9965
> tel;cell:415-595-9965
> x-mozilla-html:TRUE
> version:2.1
> end:vcard
> 
> 

> ATTACHMENT part 2 application/pgp-signature name=signature.asc



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8364-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 19 15:43:55 2004
Return-Path: <lucene-user-return-8364-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30387 invoked from network); 19 May 2004 15:43:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 May 2004 15:43:54 -0000
Received: (qmail 90760 invoked by uid 500); 19 May 2004 15:42:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90580 invoked by uid 500); 19 May 2004 15:42:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90321 invoked by uid 98); 19 May 2004 15:42:26 -0000
Received: from otis_gospodnetic@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.136.173.242):. 
 Processed in 0.157702 secs); 19 May 2004 15:42:26 -0000
X-Qmail-Scanner-Mail-From: otis_gospodnetic@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.136.173.242):. Processed in 0.157702 secs)
Received: from unknown (HELO web12705.mail.yahoo.com) (216.136.173.242)
  by hermes.apache.org with SMTP; 19 May 2004 15:42:25 -0000
Message-ID: <20040519154203.96943.qmail@web12705.mail.yahoo.com>
Received: from [195.29.121.133] by web12705.mail.yahoo.com via HTTP; Wed, 19 May 2004 08:42:03 PDT
Date: Wed, 19 May 2004 08:42:03 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Problem indexing Spanish Characters
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <BAY13-F58tSeAa6Of770001a9e8@hotmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

It looks like Snowball project supports Spanish:
http://www.google.com/search?q=snowball spanish

If it does, take a look at Lucene Sandbox.  There is a project that
allows you to use Snowball analyzers with Lucene.

Otis


--- Hannah c <hannahc7@hotmail.com> wrote:
> 
> Hi,
> 
> I  am indexing a number of English articles on Spanish resorts. As
> such 
> there are a number of spanish characters throught the text, most of
> these 
> are in the place names which are the type of words I would like to
> use as 
> queries. My problem is with the StandardTokenizer class which cuts
> the word 
> into two when it comes across any of the spanish characters. I had a
> look at 
> the source but the code was generated by JavaCC and so is not very
> readable. 
> I was wondering if there was a way around this problem or which area
> of the 
> code I would need to change to avoid this.
> 
> Thanks
> Hannah Cumming
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
g snowball s

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8365-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 19 16:09:18 2004
Return-Path: <lucene-user-return-8365-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70100 invoked from network); 19 May 2004 16:09:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 May 2004 16:09:18 -0000
Received: (qmail 39396 invoked by uid 500); 19 May 2004 16:09:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39326 invoked by uid 500); 19 May 2004 16:09:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39303 invoked by uid 98); 19 May 2004 16:09:23 -0000
Received: from PEPADServer.Administrator@erl9.siemens.de by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(217.194.34.71):. 
 Processed in 0.262884 secs); 19 May 2004 16:09:23 -0000
X-Qmail-Scanner-Mail-From: PEPADServer.Administrator@erl9.siemens.de via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(217.194.34.71):. Processed in 0.262884 secs)
Received: from unknown (HELO thelpusa.erlm.siemens.de) (217.194.34.71)
  by hermes.apache.org with SMTP; 19 May 2004 16:09:23 -0000
Received: from metropolis.erlm.siemens.de (metropolis.erlm.siemens.de [146.254.160.192])
	by thelpusa.erlm.siemens.de (8.12.8/8.12.8) with ESMTP id i4JG8vWx007519
	for <lucene-user@jakarta.apache.org>; Wed, 19 May 2004 18:08:58 +0200
Received: from erlm510a.erl9.siemens.de (erlm510a.erl9.siemens.de [146.254.168.221])
	by metropolis.erlm.siemens.de (8.12.8/8.12.8) with ESMTP id i4JG8vvj000620
	for <lucene-user@jakarta.apache.org>; Wed, 19 May 2004 18:08:57 +0200
Received: by erlm510a.erl9.siemens.de with Internet Mail Service (5.5.2657.72)
	id <LDANJLMA>; Wed, 19 May 2004 18:08:57 +0200
Message-ID: <A719AEB6A99ED711B87F000BCD10AA8707A15836@ERLM585A.erl9.siemens.de>
From: PEP AD Server Administrator
	 <PEPADServer.Administrator@erl9.siemens.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: AW: Problem indexing Spanish Characters
Date: Wed, 19 May 2004 18:08:56 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Hannah, Otis
I cannot help but I have excatly the same problems with special german
charcters. I used snowball analyser but this does not help because the
problem (tokenizing) appears before the analyser comes into action.
I just posted the question "Problem tokenizing UTF-8 with geman =
umlauts"
some minutes ago which describes my problem and Hannahs seem to be =
similar.
Do you have also UTF-8 encoded pages?

Peter MH

-----Urspr=FCngliche Nachricht-----
Von: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Gesendet: Mittwoch, 19. Mai 2004 17:42
An: Lucene Users List
Betreff: Re: Problem indexing Spanish Characters


It looks like Snowball project supports Spanish:
http://www.google.com/search?q=3Dsnowball spanish

If it does, take a look at Lucene Sandbox.  There is a project that
allows you to use Snowball analyzers with Lucene.

Otis


--- Hannah c <hannahc7@hotmail.com> wrote:
>=20
> Hi,
>=20
> I  am indexing a number of English articles on Spanish resorts. As
> such=20
> there are a number of spanish characters throught the text, most of
> these=20
> are in the place names which are the type of words I would like to
> use as=20
> queries. My problem is with the StandardTokenizer class which cuts
> the word=20
> into two when it comes across any of the spanish characters. I had a
> look at=20
> the source but the code was generated by JavaCC and so is not very
> readable.=20
> I was wondering if there was a way around this problem or which area
> of the=20
> code I would need to change to avoid this.
>=20
> Thanks
> Hannah Cumming

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8366-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 19 16:35:42 2004
Return-Path: <lucene-user-return-8366-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30515 invoked from network); 19 May 2004 16:35:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 May 2004 16:35:41 -0000
Received: (qmail 79299 invoked by uid 500); 19 May 2004 16:35:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79157 invoked by uid 500); 19 May 2004 16:35:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78775 invoked by uid 98); 19 May 2004 16:35:11 -0000
Received: from hannahc7@hotmail.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(64.4.31.8):. 
 Processed in 0.195217 secs); 19 May 2004 16:35:11 -0000
X-Qmail-Scanner-Mail-From: hannahc7@hotmail.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(64.4.31.8):. Processed in 0.195217 secs)
Received: from unknown (HELO hotmail.com) (64.4.31.8)
  by hermes.apache.org with SMTP; 19 May 2004 16:35:11 -0000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 19 May 2004 09:34:43 -0700
Received: from 193.63.235.44 by by13fd.bay13.hotmail.msn.com with HTTP;
	Wed, 19 May 2004 16:34:43 GMT
X-Originating-IP: [193.63.235.44]
X-Originating-Email: [hannahc7@hotmail.com]
X-Sender: hannahc7@hotmail.com
From: "Hannah c" <hannahc7@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: RE: AW: Problem indexing Spanish Characters
Date: Wed, 19 May 2004 16:34:43 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <BAY13-F8uS1Mbysbcq30001ade4@hotmail.com>
X-OriginalArrivalTime: 19 May 2004 16:34:43.0751 (UTC) FILETIME=[30A6EB70:01C43DBF]
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I had a quick look at the sandbox but my problem is that I don't need a 
spanish stemmer. However there must be a replacement tokenizer that supports 
foreign characters to go along with the foreign language snowball stemmers. 
Does anyone know where I could find one?

In answer to Peters question -yes I'm also using "UTF-8" encoded XML 
documents as the source.
I also put below an example of what is happening when I tokenize the text 
using the StandardTokenizer below.

Thanks Hannah



------------------text I'm trying to index

century palace known as la Fundacin Hospital de Na. Seora del Pilar

-----------------tokens outputed from StandardTokenizer

century
palace
known
as
la

Fundaci    *
n               *
Hospital
de
Na
Se          *
ora           *
del
Pilar

-----------------------



>From: "Peter M Cipollone" <lu1@bihvhar.com>
>To: <hannahc7@hotmail.com>
>Subject: Re: Problem indexing Spanish Characters
>Date: Wed, 19 May 2004 11:41:28 -0400
>
>could you send some sample text that causes this to happen?
>
>----- Original Message -----
>From: "Hannah c" <hannahc7@hotmail.com>
>To: <lucene-user@jakarta.apache.org>
>Sent: Wednesday, May 19, 2004 11:30 AM
>Subject: Problem indexing Spanish Characters
>
>
> >
> > Hi,
> >
> > I  am indexing a number of English articles on Spanish resorts. As such
> > there are a number of spanish characters throught the text, most of 
>these
> > are in the place names which are the type of words I would like to use 
>as
> > queries. My problem is with the StandardTokenizer class which cuts the
>word
> > into two when it comes across any of the spanish characters. I had a 
>look
>at
> > the source but the code was generated by JavaCC and so is not very
>readable.
> > I was wondering if there was a way around this problem or which area of
>the
> > code I would need to change to avoid this.
> >
> > Thanks
> > Hannah Cumming
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> >
>




>From: PEP AD Server Administrator 
><PEPADServer.Administrator@erl9.siemens.de>
>Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
>Subject: AW: Problem indexing Spanish Characters
>Date: Wed, 19 May 2004 18:08:56 +0200
>
>Hi Hannah, Otis
>I cannot help but I have excatly the same problems with special german
>charcters. I used snowball analyser but this does not help because the
>problem (tokenizing) appears before the analyser comes into action.
>I just posted the question "Problem tokenizing UTF-8 with geman umlauts"
>some minutes ago which describes my problem and Hannahs seem to be similar.
>Do you have also UTF-8 encoded pages?
>
>Peter MH
>
>-----Ursprngliche Nachricht-----
>Von: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
>Gesendet: Mittwoch, 19. Mai 2004 17:42
>An: Lucene Users List
>Betreff: Re: Problem indexing Spanish Characters
>
>
>It looks like Snowball project supports Spanish:
>http://www.google.com/search?q=snowball spanish
>
>If it does, take a look at Lucene Sandbox.  There is a project that
>allows you to use Snowball analyzers with Lucene.
>
>Otis
>
>
>--- Hannah c <hannahc7@hotmail.com> wrote:
> >
> > Hi,
> >
> > I  am indexing a number of English articles on Spanish resorts. As
> > such
> > there are a number of spanish characters throught the text, most of
> > these
> > are in the place names which are the type of words I would like to
> > use as
> > queries. My problem is with the StandardTokenizer class which cuts
> > the word
> > into two when it comes across any of the spanish characters. I had a
> > look at
> > the source but the code was generated by JavaCC and so is not very
> > readable.
> > I was wondering if there was a way around this problem or which area
> > of the
> > code I would need to change to avoid this.
> >
> > Thanks
> > Hannah Cumming
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


--------------------------------------------------------------------------------------------------------------------------------Hannah 
Cumming
hannahc7@hotmail.com



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8367-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 19 18:09:51 2004
Return-Path: <lucene-user-return-8367-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69931 invoked from network); 19 May 2004 18:09:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 May 2004 18:09:51 -0000
Received: (qmail 92278 invoked by uid 500); 19 May 2004 18:10:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92050 invoked by uid 500); 19 May 2004 18:10:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91905 invoked by uid 98); 19 May 2004 18:10:06 -0000
Received: from remy@acm.org by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(63.231.195.112):. 
 Processed in 0.058437 secs); 19 May 2004 18:10:06 -0000
X-Qmail-Scanner-Mail-From: remy@acm.org via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(63.231.195.112):. Processed in 0.058437 secs)
Received: from unknown (HELO mpls-qmqp-01.inet.qwest.net) (63.231.195.112)
  by hermes.apache.org with SMTP; 19 May 2004 18:10:05 -0000
Received: (qmail 86255 invoked by uid 0); 19 May 2004 18:09:34 -0000
Received: from unknown (63.231.195.1)
  by mpls-qmqp-01.inet.qwest.net with QMQP; 19 May 2004 18:09:34 -0000
Received: from koblenz.n496.com (HELO estes) (63.225.98.9)
  by mpls-pop-01.inet.qwest.net with SMTP; 19 May 2004 18:09:30 -0000
Date: Wed, 19 May 2004 12:09:29 -0600
From: "Martin Remy" <remy@acm.org>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: AW: Problem indexing Spanish Characters
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <BAY13-F8uS1Mbysbcq30001ade4@hotmail.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Thread-Index: AcQ9v0zQcR9bPYyUSt63zFYluo4QMwAC6/tQ
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Qmail-Scanner-Message-ID: <108499020667191789@hermes.apache.org>
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The tokenizers deal with unicode characters (CharStream, char), so the
problem is not there.  This problem must be solved at the point where =
the
bytes from your source files are turned into CharSequences/Strings, i.e. =
by
connecting an InputStreamReader to your FileReader (or whatever you're
using) and specifying "UTF-8" (or whatever encoding is appropriate) in =
the
InputStreamReader constructor. =20

You must either detect the encoding from HTTP heaaders or XML =
declarations
or, if you know that it's the same for all of your source files, then =
just
hardcode UTF-8, for example. =20

Martin

-----Original Message-----
From: Hannah c [mailto:hannahc7@hotmail.com]=20
Sent: Wednesday, May 19, 2004 10:35 AM
To: lucene-user@jakarta.apache.org
Subject: RE: AW: Problem indexing Spanish Characters

Hi,

I had a quick look at the sandbox but my problem is that I don't need a
spanish stemmer. However there must be a replacement tokenizer that =
supports
foreign characters to go along with the foreign language snowball =
stemmers.=20
Does anyone know where I could find one?

In answer to Peters question -yes I'm also using "UTF-8" encoded XML
documents as the source.
I also put below an example of what is happening when I tokenize the =
text
using the StandardTokenizer below.

Thanks Hannah



------------------text I'm trying to index

century palace known as la =93Fundaci=F3n Hospital de Na. Se=F1ora del =
Pilar=94

-----------------tokens outputed from StandardTokenizer

century
palace
known
as
la
=E2
Fundaci=C3    *
n               *
Hospital
de
Na
Se=C3          *
ora           *
del
Pilar
=E2
-----------------------



>From: "Peter M Cipollone" <lu1@bihvhar.com>
>To: <hannahc7@hotmail.com>
>Subject: Re: Problem indexing Spanish Characters
>Date: Wed, 19 May 2004 11:41:28 -0400
>
>could you send some sample text that causes this to happen?
>
>----- Original Message -----
>From: "Hannah c" <hannahc7@hotmail.com>
>To: <lucene-user@jakarta.apache.org>
>Sent: Wednesday, May 19, 2004 11:30 AM
>Subject: Problem indexing Spanish Characters
>
>
> >
> > Hi,
> >
> > I  am indexing a number of English articles on Spanish resorts. As=20
> > such there are a number of spanish characters throught the text,=20
> > most of
>these
> > are in the place names which are the type of words I would like to=20
> > use
>as
> > queries. My problem is with the StandardTokenizer class which cuts=20
> > the
>word
> > into two when it comes across any of the spanish characters. I had a
>look
>at
> > the source but the code was generated by JavaCC and so is not very
>readable.
> > I was wondering if there was a way around this problem or which area =

> > of
>the
> > code I would need to change to avoid this.
> >
> > Thanks
> > Hannah Cumming
> >
> >
> >
> > --------------------------------------------------------------------
> > - To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> >
>




>From: PEP AD Server Administrator
><PEPADServer.Administrator@erl9.siemens.de>
>Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
>Subject: AW: Problem indexing Spanish Characters
>Date: Wed, 19 May 2004 18:08:56 +0200
>
>Hi Hannah, Otis
>I cannot help but I have excatly the same problems with special german=20
>charcters. I used snowball analyser but this does not help because the=20
>problem (tokenizing) appears before the analyser comes into action.
>I just posted the question "Problem tokenizing UTF-8 with geman =
umlauts"
>some minutes ago which describes my problem and Hannahs seem to be =
similar.
>Do you have also UTF-8 encoded pages?
>
>Peter MH
>
>-----Urspr=FCngliche Nachricht-----
>Von: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
>Gesendet: Mittwoch, 19. Mai 2004 17:42
>An: Lucene Users List
>Betreff: Re: Problem indexing Spanish Characters
>
>
>It looks like Snowball project supports Spanish:
>http://www.google.com/search?q=3Dsnowball spanish
>
>If it does, take a look at Lucene Sandbox.  There is a project that=20
>allows you to use Snowball analyzers with Lucene.
>
>Otis
>
>
>--- Hannah c <hannahc7@hotmail.com> wrote:
> >
> > Hi,
> >
> > I  am indexing a number of English articles on Spanish resorts. As=20
> > such there are a number of spanish characters throught the text,=20
> > most of these are in the place names which are the type of words I=20
> > would like to use as queries. My problem is with the=20
> > StandardTokenizer class which cuts the word into two when it comes=20
> > across any of the spanish characters. I had a look at the source but =

> > the code was generated by JavaCC and so is not very readable.
> > I was wondering if there was a way around this problem or which area =

> > of the code I would need to change to avoid this.
> >
> > Thanks
> > Hannah Cumming
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


-------------------------------------------------------------------------=
---
----------------------------------------------------Hannah
Cumming
hannahc7@hotmail.com



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8368-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 19 19:05:30 2004
Return-Path: <lucene-user-return-8368-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32852 invoked from network); 19 May 2004 19:05:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 May 2004 19:05:30 -0000
Received: (qmail 39641 invoked by uid 500); 19 May 2004 19:05:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39607 invoked by uid 500); 19 May 2004 19:05:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39586 invoked by uid 98); 19 May 2004 19:05:49 -0000
Received: from wallen@Cyveillance.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(63.100.163.104):. 
 Processed in 0.549358 secs); 19 May 2004 19:05:49 -0000
X-Qmail-Scanner-Mail-From: wallen@Cyveillance.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(63.100.163.104):. Processed in 0.549358 secs)
Received: from unknown (HELO mercury.corp.cyveillance.com) (63.100.163.104)
  by hermes.apache.org with SMTP; 19 May 2004 19:05:49 -0000
Received: by mercury.corp.cyveillance.com with Internet Mail Service (5.5.2655.55)
	id <KMGDFTNZ>; Wed, 19 May 2004 15:05:04 -0400
Message-ID: <E65AE9703B683F4C81B5B39C692EB26D1B0187@mercury.corp.cyveillance.com>
From: wallen@Cyveillance.com
To: lucene-user@jakarta.apache.org
Subject: RE: AW: Problem indexing Spanish Characters
Date: Wed, 19 May 2004 15:05:04 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Here is an example method in org.apache.lucene.demo.html HTMLParser =
that
uses a different buffered reader for a different encoding.=20

	public Reader getReader() throws IOException
	{
		if (pipeIn =3D=3D null)
		{
			pipeInStream =3D new MyPipedInputStream();
			pipeOutStream =3D new PipedOutputStream(pipeInStream);
			pipeIn =3D new InputStreamReader(pipeInStream);
			pipeOut =3D new OutputStreamWriter(pipeOutStream);
			//check the first 4 bytes for FFFE marker, if its
there we know its UTF-16 encoding
			if (useUTF16)
			{
				try
				{
					pipeIn =3D new BufferedReader(new
InputStreamReader(pipeInStream, "UTF-16"));
				}
				catch (Exception e)
				{
				}
			}
			Thread thread =3D new ParserThread(this);
			thread.start(); // start parsing
		}
		return pipeIn;
	}

-----Original Message-----
From: Martin Remy [mailto:remy@acm.org]
Sent: Wednesday, May 19, 2004 2:09 PM
To: 'Lucene Users List'
Subject: RE: AW: Problem indexing Spanish Characters


The tokenizers deal with unicode characters (CharStream, char), so the
problem is not there.  This problem must be solved at the point where =
the
bytes from your source files are turned into CharSequences/Strings, =
i.e. by
connecting an InputStreamReader to your FileReader (or whatever you're
using) and specifying "UTF-8" (or whatever encoding is appropriate) in =
the
InputStreamReader constructor. =20

You must either detect the encoding from HTTP heaaders or XML =
declarations
or, if you know that it's the same for all of your source files, then =
just
hardcode UTF-8, for example. =20

Martin

-----Original Message-----
From: Hannah c [mailto:hannahc7@hotmail.com]=20
Sent: Wednesday, May 19, 2004 10:35 AM
To: lucene-user@jakarta.apache.org
Subject: RE: AW: Problem indexing Spanish Characters

Hi,

I had a quick look at the sandbox but my problem is that I don't need a
spanish stemmer. However there must be a replacement tokenizer that =
supports
foreign characters to go along with the foreign language snowball =
stemmers.=20
Does anyone know where I could find one?

In answer to Peters question -yes I'm also using "UTF-8" encoded XML
documents as the source.
I also put below an example of what is happening when I tokenize the =
text
using the StandardTokenizer below.

Thanks Hannah



------------------text I'm trying to index

century palace known as la "Fundaci=F3n Hospital de Na. Se=F1ora del =
Pilar"

-----------------tokens outputed from StandardTokenizer

century
palace
known
as
la
=E2
Fundaci=C3    *
n               *
Hospital
de
Na
Se=C3          *
ora           *
del
Pilar
=E2
-----------------------



>From: "Peter M Cipollone" <lu1@bihvhar.com>
>To: <hannahc7@hotmail.com>
>Subject: Re: Problem indexing Spanish Characters
>Date: Wed, 19 May 2004 11:41:28 -0400
>
>could you send some sample text that causes this to happen?
>
>----- Original Message -----
>From: "Hannah c" <hannahc7@hotmail.com>
>To: <lucene-user@jakarta.apache.org>
>Sent: Wednesday, May 19, 2004 11:30 AM
>Subject: Problem indexing Spanish Characters
>
>
> >
> > Hi,
> >
> > I  am indexing a number of English articles on Spanish resorts. As=20
> > such there are a number of spanish characters throught the text,=20
> > most of
>these
> > are in the place names which are the type of words I would like to=20
> > use
>as
> > queries. My problem is with the StandardTokenizer class which cuts=20
> > the
>word
> > into two when it comes across any of the spanish characters. I had =
a
>look
>at
> > the source but the code was generated by JavaCC and so is not very
>readable.
> > I was wondering if there was a way around this problem or which =
area=20
> > of
>the
> > code I would need to change to avoid this.
> >
> > Thanks
> > Hannah Cumming
> >
> >
> >
> > =
--------------------------------------------------------------------
> > - To unsubscribe, e-mail: =
lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: =
lucene-user-help@jakarta.apache.org
> >
> >
> >
>




>From: PEP AD Server Administrator
><PEPADServer.Administrator@erl9.siemens.de>
>Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
>Subject: AW: Problem indexing Spanish Characters
>Date: Wed, 19 May 2004 18:08:56 +0200
>
>Hi Hannah, Otis
>I cannot help but I have excatly the same problems with special german =

>charcters. I used snowball analyser but this does not help because the =

>problem (tokenizing) appears before the analyser comes into action.
>I just posted the question "Problem tokenizing UTF-8 with geman =
umlauts"
>some minutes ago which describes my problem and Hannahs seem to be =
similar.
>Do you have also UTF-8 encoded pages?
>
>Peter MH
>
>-----Urspr=FCngliche Nachricht-----
>Von: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
>Gesendet: Mittwoch, 19. Mai 2004 17:42
>An: Lucene Users List
>Betreff: Re: Problem indexing Spanish Characters
>
>
>It looks like Snowball project supports Spanish:
>http://www.google.com/search?q=3Dsnowball spanish
>
>If it does, take a look at Lucene Sandbox.  There is a project that=20
>allows you to use Snowball analyzers with Lucene.
>
>Otis
>
>
>--- Hannah c <hannahc7@hotmail.com> wrote:
> >
> > Hi,
> >
> > I  am indexing a number of English articles on Spanish resorts. As=20
> > such there are a number of spanish characters throught the text,=20
> > most of these are in the place names which are the type of words I=20
> > would like to use as queries. My problem is with the=20
> > StandardTokenizer class which cuts the word into two when it comes=20
> > across any of the spanish characters. I had a look at the source =
but=20
> > the code was generated by JavaCC and so is not very readable.
> > I was wondering if there was a way around this problem or which =
area=20
> > of the code I would need to change to avoid this.
> >
> > Thanks
> > Hannah Cumming
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


------------------------------------------------------------------------=
----
----------------------------------------------------Hannah
Cumming
hannahc7@hotmail.com



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8369-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 19 20:38:00 2004
Return-Path: <lucene-user-return-8369-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75782 invoked from network); 19 May 2004 20:38:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 May 2004 20:38:00 -0000
Received: (qmail 71049 invoked by uid 500); 19 May 2004 20:38:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71015 invoked by uid 500); 19 May 2004 20:38:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70980 invoked by uid 98); 19 May 2004 20:38:26 -0000
Received: from markharw00d@yahoo.co.uk by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(194.106.33.237):. 
 Processed in 0.358558 secs); 19 May 2004 20:38:26 -0000
X-Qmail-Scanner-Mail-From: markharw00d@yahoo.co.uk via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(194.106.33.237):. Processed in 0.358558 secs)
Received: from unknown (HELO outmail.freedom2surf.net) (194.106.33.237)
  by hermes.apache.org with SMTP; 19 May 2004 20:38:25 -0000
Received: from dell (i-194-106-34-5.freedom2surf.net [194.106.34.5])
	by outmail.freedom2surf.net (8.12.10/8.12.10) with SMTP id i4JKbjU9007309
	for <lucene-user@jakarta.apache.org>; Wed, 19 May 2004 21:37:45 +0100
Date: Wed, 19 May 2004 21:37:45 +0100
Message-Id: <200405192037.i4JKbjU9007309@outmail.freedom2surf.net>
From: markharw00d@yahoo.co.uk
To: lucene-user@jakarta.apache.org
Subject: Re: org.apache.lucene.search.highlight.Highlighter
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>>Was Investigating,found some Compile time error..
 
I see the code you have is taken from the example in the javadocs. Unfortunately that example wasn't complete because the class didnt
include the method defined in the Formatter interface. I have updated the Javadocs to correct this oversight.

To correct your problem either make your class implement the Formatter interface to perform your choice of custom formatting or remove the "this" 
parameter from your call to create a new Highlighter with the default Formatter implementation.

Thanks for "highlighting" the problem with the Javadocs...

Cheers
Mark


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8370-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 19 21:18:46 2004
Return-Path: <lucene-user-return-8370-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97498 invoked from network); 19 May 2004 21:18:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 May 2004 21:18:46 -0000
Received: (qmail 65094 invoked by uid 500); 19 May 2004 21:19:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64941 invoked by uid 500); 19 May 2004 21:19:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64853 invoked by uid 98); 19 May 2004 21:19:02 -0000
Received: from bruce@jivesoftware.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(198.3.182.195):. 
 Processed in 0.327011 secs); 19 May 2004 21:19:02 -0000
X-Qmail-Scanner-Mail-From: bruce@jivesoftware.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(198.3.182.195):. Processed in 0.327011 secs)
Received: from unknown (HELO iss05.interliant.com) (198.3.182.195)
  by hermes.apache.org with SMTP; 19 May 2004 21:19:00 -0000
Received: from EX-007.mail.navisite.com (ex-007.interliant.com [198.3.179.37])
	by iss05.interliant.com (8.10.2/8.10.2) with ESMTP id i4JLIIX15565
	for <lucene-user@jakarta.apache.org>; Wed, 19 May 2004 16:18:18 -0500 (CDT)
Received: from EX-001.mail.navisite.com ([172.16.1.11]) by EX-007.mail.navisite.com with Microsoft SMTPSVC(6.0.3790.0);
	 Wed, 19 May 2004 16:15:56 -0500
Content-class: urn:content-classes:message
Subject: RE: org.apache.lucene.search.highlight.Highlighter
MIME-Version: 1.0
Date: Wed, 19 May 2004 16:18:06 -0500
Content-Type: multipart/signed;
	protocol="application/x-pkcs7-signature";
	micalg=SHA1;
	boundary="----=_NextPart_000_00D6_01C43DC5.3ED40330"
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Message-ID: <54F1D1442014494A8DE3A3C2CFEDB33B46BD5F@EX-001.mail.navisite.com>
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
Thread-Topic: org.apache.lucene.search.highlight.Highlighter
Thread-Index: AcQ94NgirOwguuAMSWOEHBIOoC+KfgABePnQ
From: "Bruce Ritchie" <bruce@jivesoftware.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 19 May 2004 21:15:56.0996 (UTC) FILETIME=[79E3C840:01C43DE6]
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00D6_01C43DC5.3ED40330
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit


> Thanks for "highlighting" the problem with the Javadocs...

Groan. :)


Regards,

Bruce Ritchie

------=_NextPart_000_00D6_01C43DC5.3ED40330
Content-Type: application/x-pkcs7-signature;
	name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="smime.p7s"

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIJUTCCAtkw
ggJCoAMCAQICAwrLgDANBgkqhkiG9w0BAQQFADBiMQswCQYDVQQGEwJaQTElMCMGA1UEChMcVGhh
d3RlIENvbnN1bHRpbmcgKFB0eSkgTHRkLjEsMCoGA1UEAxMjVGhhd3RlIFBlcnNvbmFsIEZyZWVt
YWlsIElzc3VpbmcgQ0EwHhcNMDMwOTIzMTkzNjM3WhcNMDQwOTIyMTkzNjM3WjBIMR8wHQYDVQQD
ExZUaGF3dGUgRnJlZW1haWwgTWVtYmVyMSUwIwYJKoZIhvcNAQkBFhZicnVjZUBqaXZlc29mdHdh
cmUuY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAozJPHo8aUH2MrrLnFrmybY38
uC8nlm26vBAPgGhSMthJlA0ShY9zAs4qGPyX1fIcANCKw0yPQDESRRySYPcRYMBnwaeqtIwldTb1
GTA6DAvZ/jpkM16DbAId17O86+4NeV7WoR+IguiyEUJqIqecxdGiJsLi8xNM0rPan91sWTA+30kP
vW12IU6MIa4XInPUazLqzZmA3CHoQJ2qorYCUx1cP3VW2fbWMjpfis67MalWcFuBtThFuq5qsZMB
EkFekoKPu2cpmjlKddrGj9+54U1CWBVQMl+9HSB1/qhl1La8BYRhaZ5UG3c0za9yultXL9k1GxfZ
YVqDy2iMI5+ejQIDAQABozMwMTAhBgNVHREEGjAYgRZicnVjZUBqaXZlc29mdHdhcmUuY29tMAwG
A1UdEwEB/wQCMAAwDQYJKoZIhvcNAQEEBQADgYEAEwi3SlYetSCzK5DLkClPMgTOM+P0qrIAFt+a
r8uMZwr3xqFOxZlt6/qMHoXAaOEWhZkHJ2dq8ebxjSdGXQF6/jKB42CEmYXmP6umb/2DBE6bVTy9
aksnMnKeSyuqP1HWwlCf5+Vk811biLueAupunISEh7P0bQXUgVtVVbOtAfIwggMtMIIClqADAgEC
AgEAMA0GCSqGSIb3DQEBBAUAMIHRMQswCQYDVQQGEwJaQTEVMBMGA1UECBMMV2VzdGVybiBDYXBl
MRIwEAYDVQQHEwlDYXBlIFRvd24xGjAYBgNVBAoTEVRoYXd0ZSBDb25zdWx0aW5nMSgwJgYDVQQL
Ex9DZXJ0aWZpY2F0aW9uIFNlcnZpY2VzIERpdmlzaW9uMSQwIgYDVQQDExtUaGF3dGUgUGVyc29u
YWwgRnJlZW1haWwgQ0ExKzApBgkqhkiG9w0BCQEWHHBlcnNvbmFsLWZyZWVtYWlsQHRoYXd0ZS5j
b20wHhcNOTYwMTAxMDAwMDAwWhcNMjAxMjMxMjM1OTU5WjCB0TELMAkGA1UEBhMCWkExFTATBgNV
BAgTDFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2FwZSBUb3duMRowGAYDVQQKExFUaGF3dGUgQ29u
c3VsdGluZzEoMCYGA1UECxMfQ2VydGlmaWNhdGlvbiBTZXJ2aWNlcyBEaXZpc2lvbjEkMCIGA1UE
AxMbVGhhd3RlIFBlcnNvbmFsIEZyZWVtYWlsIENBMSswKQYJKoZIhvcNAQkBFhxwZXJzb25hbC1m
cmVlbWFpbEB0aGF3dGUuY29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDUadfUsJRkW3Hp
R9gMUbbqcpGwhF59LQ2PexLfhSV1KHQ6QixjJ5+Ve0vvfhmHHYbqo925zpZkGsIUbkSsfOaP6E0P
cR9AOKYAo4d49vmUhl6t6sBeduvZFKNdbnp8DKVLVX8GGSl/npom1Wq7OCQIapjHsdqjmJH9edvl
WsQcuQIDAQABoxMwETAPBgNVHRMBAf8EBTADAQH/MA0GCSqGSIb3DQEBBAUAA4GBAMfskn5O+PWW
pWdiKqTwTRFg0G+NYFhhrCa7UjVcCM8w+6hKloofYkIjjBcP9LpknBesRynfnZhe0mxgcVyirNx5
4+duAEcftQ0o6AKd5Jr9E/Sm2Xyx+NxfIyYJkYBz0BQb3kOpgyXy5pwvFcr+pquKB3WLDN1RhGvk
+NHOd6KBMIIDPzCCAqigAwIBAgIBDTANBgkqhkiG9w0BAQUFADCB0TELMAkGA1UEBhMCWkExFTAT
BgNVBAgTDFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2FwZSBUb3duMRowGAYDVQQKExFUaGF3dGUg
Q29uc3VsdGluZzEoMCYGA1UECxMfQ2VydGlmaWNhdGlvbiBTZXJ2aWNlcyBEaXZpc2lvbjEkMCIG
A1UEAxMbVGhhd3RlIFBlcnNvbmFsIEZyZWVtYWlsIENBMSswKQYJKoZIhvcNAQkBFhxwZXJzb25h
bC1mcmVlbWFpbEB0aGF3dGUuY29tMB4XDTAzMDcxNzAwMDAwMFoXDTEzMDcxNjIzNTk1OVowYjEL
MAkGA1UEBhMCWkExJTAjBgNVBAoTHFRoYXd0ZSBDb25zdWx0aW5nIChQdHkpIEx0ZC4xLDAqBgNV
BAMTI1RoYXd0ZSBQZXJzb25hbCBGcmVlbWFpbCBJc3N1aW5nIENBMIGfMA0GCSqGSIb3DQEBAQUA
A4GNADCBiQKBgQDEpjxVc1X7TrnKmVoeaMB1BHCd3+n/ox7svc31W/Iadr1/DDph8r9RzgHU5VAK
MNcCY1osiRVwjt3J8CuFWqo/cVbLrzwLB+fxH5E2JCoTzyvV84J3PQO+K/67GD4Hv0CAAmTXp6a7
n2XRxSpUhQ9IBH+nttE8YQRAHmQZcmC3+wIDAQABo4GUMIGRMBIGA1UdEwEB/wQIMAYBAf8CAQAw
QwYDVR0fBDwwOjA4oDagNIYyaHR0cDovL2NybC50aGF3dGUuY29tL1RoYXd0ZVBlcnNvbmFsRnJl
ZW1haWxDQS5jcmwwCwYDVR0PBAQDAgEGMCkGA1UdEQQiMCCkHjAcMRowGAYDVQQDExFQcml2YXRl
TGFiZWwyLTEzODANBgkqhkiG9w0BAQUFAAOBgQBIjNFQg+oLLswNo2asZw9/r6y+whehQ5aUnX9M
Ibj4Nh+qLZ82L8D0HFAgk3A8/a3hYWLD2ToZfoSxmRsAxRoLgnSeJVCUYsfbJ3FXJY3dqZw5jowg
T2Vfldr394fWxghOrvbqNOUQGls1TXfjViF4gtwhGTXeJLHTHUb/XV9lTzGCA1AwggNMAgEBMGkw
YjELMAkGA1UEBhMCWkExJTAjBgNVBAoTHFRoYXd0ZSBDb25zdWx0aW5nIChQdHkpIEx0ZC4xLDAq
BgNVBAMTI1RoYXd0ZSBQZXJzb25hbCBGcmVlbWFpbCBJc3N1aW5nIENBAgMKy4AwCQYFKw4DAhoF
AKCCAbwwGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMDQwNTE5MjEx
ODA0WjAjBgkqhkiG9w0BCQQxFgQUWSnzYUAbkZmMna+lBcgaAiR/F4swZwYJKoZIhvcNAQkPMVow
WDAKBggqhkiG9w0DBzAOBggqhkiG9w0DAgICAIAwDQYIKoZIhvcNAwICAUAwBwYFKw4DAgcwDQYI
KoZIhvcNAwICASgwBwYFKw4DAhowCgYIKoZIhvcNAgUweAYJKwYBBAGCNxAEMWswaTBiMQswCQYD
VQQGEwJaQTElMCMGA1UEChMcVGhhd3RlIENvbnN1bHRpbmcgKFB0eSkgTHRkLjEsMCoGA1UEAxMj
VGhhd3RlIFBlcnNvbmFsIEZyZWVtYWlsIElzc3VpbmcgQ0ECAwrLgDB6BgsqhkiG9w0BCRACCzFr
oGkwYjELMAkGA1UEBhMCWkExJTAjBgNVBAoTHFRoYXd0ZSBDb25zdWx0aW5nIChQdHkpIEx0ZC4x
LDAqBgNVBAMTI1RoYXd0ZSBQZXJzb25hbCBGcmVlbWFpbCBJc3N1aW5nIENBAgMKy4AwDQYJKoZI
hvcNAQEBBQAEggEALL3JmaUQIitKnsXI5rmnPQY6qShuD1FxbSvpJfIWtmbAiUYlk7SPbetViMH4
llHAS8FAlJzooP9BHasIFRLML2GghwrPKcG3F+MTidkyR9VwbYd9amu7hj+dDYZueTlxz2iDVg2+
Fjod6R37wmlj3Cu7Y8aHB80S8VdqQMsH5NVNVxb/Svrdh91Tsb3ymxEKjSH0xOBQIwSVcVOJSV69
8lL83mbhZMaCAtE25kaE86AaekKoni6a5rhvLSR3DwB+1XnTg6whBnjhrH22NUYQKQ9+yjzZKSft
tubaeYWfBUklNEI5rquQN0BjmOV8jnBd0gjU0IAsTrFWZ7IO8++qBgAAAAAAAA==

------=_NextPart_000_00D6_01C43DC5.3ED40330--

From lucene-user-return-8371-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 19 23:23:27 2004
Return-Path: <lucene-user-return-8371-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51674 invoked from network); 19 May 2004 23:23:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 May 2004 23:23:27 -0000
Received: (qmail 28833 invoked by uid 500); 19 May 2004 23:23:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28716 invoked by uid 500); 19 May 2004 23:23:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28683 invoked by uid 98); 19 May 2004 23:23:58 -0000
Received: from burton@newsmonster.org by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(12.43.53.196):. 
 Processed in 0.170196 secs); 19 May 2004 23:23:58 -0000
X-Qmail-Scanner-Mail-From: burton@newsmonster.org via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(12.43.53.196):. Processed in 0.170196 secs)
Received: from unknown (HELO mail.sofari.com) (12.43.53.196)
  by hermes.apache.org with SMTP; 19 May 2004 23:23:58 -0000
Received: from newsmonster.org ([12.43.53.196])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id i4JNN7pu023223
	for <lucene-user@jakarta.apache.org>; Wed, 19 May 2004 16:23:07 -0700
Message-ID: <40ABEC54.7030303@newsmonster.org>
Date: Wed, 19 May 2004 16:23:00 -0700
From: Kevin Burton <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7b) Gecko/20040421
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Possible to fetch a document without all fields for performance?
References: <40A3135D.4050803@newsmonster.org> <16547.7499.576689.881216@tanto-xipolis.de>
In-Reply-To: <16547.7499.576689.881216@tanto-xipolis.de>
Content-Type: multipart/alternative;
 boundary="------------080008030005070405060502"
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------080008030005070405060502
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Morus Walter wrote:

>I don't understand that.
>You get the document object which does not contain the documents field
>contents. It just provides access to this data.
>It's up to you which fields you access.
>And remember that you don't have to store fields at all, if you don't need 
>to retrieve them (e.g. because the original documents are somewhere else). 
>  
>
Nope... When you get the Document the fields are already pre-parsed from 
disk. If you don't call ANY methods to get fields it still has to read 
all the fields off disk.

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------080008030005070405060502--

From lucene-user-return-8372-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 19 23:25:39 2004
Return-Path: <lucene-user-return-8372-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52549 invoked from network); 19 May 2004 23:25:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 May 2004 23:25:39 -0000
Received: (qmail 34574 invoked by uid 500); 19 May 2004 23:26:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34421 invoked by uid 500); 19 May 2004 23:26:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34407 invoked by uid 98); 19 May 2004 23:26:09 -0000
Received: from burton@newsmonster.org by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(12.43.53.196):. 
 Processed in 0.047104 secs); 19 May 2004 23:26:09 -0000
X-Qmail-Scanner-Mail-From: burton@newsmonster.org via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(12.43.53.196):. Processed in 0.047104 secs)
Received: from unknown (HELO mail.sofari.com) (12.43.53.196)
  by hermes.apache.org with SMTP; 19 May 2004 23:26:09 -0000
Received: from newsmonster.org ([12.43.53.196])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id i4JNPOR0023259
	for <lucene-user@jakarta.apache.org>; Wed, 19 May 2004 16:25:24 -0700
Message-ID: <40ABECD7.1010402@newsmonster.org>
Date: Wed, 19 May 2004 16:25:11 -0700
From: Kevin Burton <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7b) Gecko/20040421
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Internal full content store within Lucene
References: <40AA595B.7060600@newsmonster.org> <16554.65434.689207.976651@tanto-xipolis.de>
In-Reply-To: <16554.65434.689207.976651@tanto-xipolis.de>
Content-Type: multipart/alternative;
 boundary="------------070006050009080205000509"
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------070006050009080205000509
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Morus Walter wrote:

>Kevin Burton writes:
>  
>
>>How much interest is there for this?  I have to do this for work and 
>>will certainly take the extra effort into making this a standard Lucene 
>>feature. 
>>
>>    
>>
>Sounds interesting.
>How would you handle deletions?
>  
>
They aren't a requirement in our scenario... It would probably be more 
efficient to just leave the content on disk.

If you want to GC over time the arc files can be grouped together by 
time so you can just eventually delete a whole arc file...

Kevin

-- 

Please reply using PGP.

    http://peerfear.org/pubkey.asc    
    
    NewsMonster - http://www.newsmonster.org/
    
Kevin A. Burton, Location - San Francisco, CA, Cell - 415.595.9965
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
  IRC - freenode.net #infoanarchy | #p2p-hackers | #newsmonster


--------------070006050009080205000509--

From lucene-user-return-8373-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 20 02:38:29 2004
Return-Path: <lucene-user-return-8373-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58450 invoked from network); 20 May 2004 02:38:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 May 2004 02:38:29 -0000
Received: (qmail 11765 invoked by uid 500); 20 May 2004 02:39:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11715 invoked by uid 500); 20 May 2004 02:39:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11694 invoked by uid 98); 20 May 2004 02:39:00 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(24.51.109.181):. 
 Processed in 0.109276 secs); 20 May 2004 02:39:00 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(24.51.109.181):. Processed in 0.109276 secs)
Received: from unknown (HELO postfix.mail.ehatchersolutions.com) (24.51.109.181)
  by hermes.apache.org with SMTP; 20 May 2004 02:39:00 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 1D5F5715589
	for <lucene-user@jakarta.apache.org>; Wed, 19 May 2004 22:38:21 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <40AB4D5F.5060504@petmystone.com>
References: <40AA2EF4.5060304@petmystone.com> <A7A0E12C-A8E8-11D8-9D6E-000393A564E6@ehatchersolutions.com> <40AA4B5A.1090900@petmystone.com> <67F145C5-A910-11D8-AC66-000393A564E6@ehatchersolutions.com> <40AB4D5F.5060504@petmystone.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <C21469DE-AA06-11D8-B8A0-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Lucene and MVC (was Re: Bad file descriptor (IOException) using SearchBean contribution)
Date: Wed, 19 May 2004 22:38:21 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On May 19, 2004, at 8:04 AM, Timothy Stone wrote:
>> Could you elaborate on what you mean by MVC here?  A value list 
>> handler piece has been developed and links posted to it on this list 
>> - if this is the type of thing you're referring to.
>
> Again, maybe I was naively associating the "SearchBean" with something 
> that it was not suppose to be doing. To elaborate, I would like to 
> take the demo, which has been working with some success for two years 
> on my site, and follow the suggestions of Andrew C. Oliver and go 
> "Model 2 on the demo."

I've never seen a user story (or use case) that said "this feature must 
use MVC" :)  What is the purpose of going MVC here?  Is it just for 
architectural purity?

> So the SearchBean's purpose, as I understood it, was to provide a 
> Model 2 component for use in JSPs.

Consider a query that generates a million hits.  How should the JSP 
iterate over them?  In a pure MVC world, the JSP would be pushed the 
hits and allowed to display them however it likes.  With Lucene Hits, 
you get this capability already.  I'm just not convinced a wrapper is 
needed, especially now that sorting is built-in.

Again, I'm open to being convinced otherwise.

>> A value list handler piece has been developed and links posted to it
>> on this list - if this is the type of thing you're referring to.
>
> I tried looking for references to such, but no luck.

http://www.nitwit.de/vlh2/

Also, for JSP use, there is the taglib contribution in the sandbox that 
might be of interest to you.  I've not gotten it to work, yet, and it's 
not quite my cup of tea (being an anti-JSP kinda guy that is).

> I must admit that I get the feeling that "newbies" to Lucene seem to 
> get less attention on the list. I'm one that tries real hard to 
> research my question first in the archives (marc.theaimsgroup.com) 
> then on the web. Even I get frustrated on some lists where the most 
> obvious question is being asked and the asker misses hints and 
> outright help.

When I was first learning Ant, I lurked on the ant-user list and when a 
question came up that I knew I'd answer it.  When one came up that I 
didn't know, I'd research it by experimenting and cross-referencing in 
the source code to try to figure it out.  We really get out of this 
community what we put into it, in my opinion.  Newbies need to be savvy 
and do some homework and not expect everything to be spelled out 
beautifully - none of us have time to flesh out full-fledged example 
applications to answer every question.  Sometimes a question comes 
along that I could reply to, but I let it go because I'm crushed for 
time as it is.  Sometimes I'll answer - especially if the question 
piques my curiosity or has some aspect of a challenge for me to learn 
something new.

I personally try to answer professionally and thoroughly, but sometimes 
I might answer off-the-cuff or quickly and it comes out a bit tersely 
or perhaps intimidating.  My contributions as a whole, though, are 
hopefully taken positively by the community.

>  The Lucene User list can be intimidating even for the advanced novice 
> who may be on the right track but not phrasing or wording or 
> describing the problem or task in front of him/her.

You are not the only one that gets blown away by things on this list.  
There are many times I've been baffled and completely mind-blown by 
things here - what underlies Lucene and what folks can build around it 
is simply astonishing.  This is no typical open source project we're 
dealing with here.  Thankfully the API is so straightforward to use, 
though, that Lucene usage is clear - its the bigger picture that is 
daunting (to me).

I'm personally reading Managing Gigabytes at the moment, and my head is 
spinning.  But it is helping me get a clearer picture of the underlying 
concepts that Lucene is built upon.

> a new desire to tackle Struts, and well, havoc ensues.

OffTopic: havoc and Struts go well together ;)  Pick up Tapestry 
instead!

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8374-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 20 03:29:33 2004
Return-Path: <lucene-user-return-8374-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5876 invoked from network); 20 May 2004 03:29:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 May 2004 03:29:32 -0000
Received: (qmail 52138 invoked by uid 500); 20 May 2004 03:30:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52037 invoked by uid 500); 20 May 2004 03:30:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51996 invoked by uid 98); 20 May 2004 03:30:02 -0000
Received: from petite_abeille@mac.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(17.250.248.44):. 
 Processed in 0.240762 secs); 20 May 2004 03:30:02 -0000
X-Qmail-Scanner-Mail-From: petite_abeille@mac.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(17.250.248.44):. Processed in 0.240762 secs)
Received: from unknown (HELO smtpout.mac.com) (17.250.248.44)
  by hermes.apache.org with SMTP; 20 May 2004 03:30:01 -0000
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (8.12.6/MantshX 2.0) with ESMTP id i4K3TBTW011473
	for <lucene-user@jakarta.apache.org>; Wed, 19 May 2004 20:29:11 -0700 (PDT)
Received: from [10.0.1.13] (adsl-62-167-79-238.adslplus.ch [62.167.79.238])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 4.0) with ESMTP id i4K3SmQo023923
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NO)
	for <lucene-user@jakarta.apache.org>; Wed, 19 May 2004 20:29:10 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <C21469DE-AA06-11D8-B8A0-000393A564E6@ehatchersolutions.com>
References: <40AA2EF4.5060304@petmystone.com> <A7A0E12C-A8E8-11D8-9D6E-000393A564E6@ehatchersolutions.com> <40AA4B5A.1090900@petmystone.com> <67F145C5-A910-11D8-AC66-000393A564E6@ehatchersolutions.com> <40AB4D5F.5060504@petmystone.com> <C21469DE-AA06-11D8-B8A0-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <F3EE37E7-AA0D-11D8-A9E0-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: Lucene and MVC (was Re: Bad file descriptor (IOException) using SearchBean contribution)
Date: Thu, 20 May 2004 05:29:51 +0200
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On May 20, 2004, at 04:38, Erik Hatcher wrote:

> OffTopic: havoc and Struts go well together ;)  Pick up Tapestry 
> instead!

Nah. Keep it really Simple [1] instead :o)

http://simpleweb.sourceforge.net/

PA.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8375-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 20 05:45:29 2004
Return-Path: <lucene-user-return-8375-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85405 invoked from network); 20 May 2004 05:45:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 May 2004 05:45:29 -0000
Received: (qmail 32972 invoked by uid 500); 20 May 2004 05:46:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32938 invoked by uid 500); 20 May 2004 05:46:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32911 invoked by uid 98); 20 May 2004 05:46:06 -0000
Received: from mahesh@servelots.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(207.201.152.66):. 
 Processed in 0.033878 secs); 20 May 2004 05:46:06 -0000
X-Qmail-Scanner-Mail-From: mahesh@servelots.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(207.201.152.66):. Processed in 0.033878 secs)
Received: from unknown (HELO mail07a.vwh1.net) (207.201.152.66)
  by hermes.apache.org with SMTP; 20 May 2004 05:46:06 -0000
Received: from www.servelots.com (209.238.211.55)
	by mail07a.vwh1.net (RS ver 1.0.92vs) with SMTP id 4-080811884
	for <lucene-user@jakarta.apache.org>; Thu, 20 May 2004 01:45:05 -0400 (EDT)
Sender: root
Message-ID: <40AC4556.339DED59@servelots.com>
Date: Thu, 20 May 2004 11:12:47 +0530
From: Mahesh <mahesh@servelots.com>
X-Mailer: Mozilla 4.78 [en] (X11; U; Linux 2.4.7-10 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: How do i prevent the HTML tags being added to Lucene Index..
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Loop-Detect:1
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am using the lucene 1.4 to index the information.
I have lot of HTML tags in the information that i will be indexing ,so
let me know if their is any way of removing the HTML tags from being
indexed..


MAHESH




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8376-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 20 06:00:54 2004
Return-Path: <lucene-user-return-8376-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93243 invoked from network); 20 May 2004 06:00:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 May 2004 06:00:54 -0000
Received: (qmail 87816 invoked by uid 500); 20 May 2004 06:01:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87750 invoked by uid 500); 20 May 2004 06:01:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87724 invoked by uid 98); 20 May 2004 06:01:30 -0000
Received: from karthik@controlnet.co.in by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.199.26.74):. 
 Processed in 0.550599 secs); 20 May 2004 06:01:30 -0000
X-Qmail-Scanner-Mail-From: karthik@controlnet.co.in via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.199.26.74):. Processed in 0.550599 secs)
Received: from unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by hermes.apache.org with SMTP; 20 May 2004 06:01:30 -0000
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HY018500.UHK for <lucene-user@jakarta.apache.org>; Thu,
          20 May 2004 11:42:05 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: How do i prevent the HTML tags being added to Lucene Index..
Date: Thu, 20 May 2004 11:38:23 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIKEECCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <40AC4556.339DED59@servelots.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hey

Look at the file Test.java under lucene1.4 ,it strips out html tagsand gives
u content...

with regards
Karthik

-----Original Message-----
From: root [mailto:root]On Behalf Of Mahesh
Sent: Thursday, May 20, 2004 11:13 AM
To: lucene-user@jakarta.apache.org
Subject: How do i prevent the HTML tags being added to Lucene Index..


I am using the lucene 1.4 to index the information.
I have lot of HTML tags in the information that i will be indexing ,so
let me know if their is any way of removing the HTML tags from being
indexed..


MAHESH




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8377-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 20 09:39:42 2004
Return-Path: <lucene-user-return-8377-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5983 invoked from network); 20 May 2004 09:39:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 May 2004 09:39:41 -0000
Received: (qmail 44477 invoked by uid 500); 20 May 2004 09:40:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44448 invoked by uid 500); 20 May 2004 09:40:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44409 invoked by uid 98); 20 May 2004 09:40:20 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(24.51.109.181):. 
 Processed in 0.069138 secs); 20 May 2004 09:40:20 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(24.51.109.181):. Processed in 0.069138 secs)
Received: from unknown (HELO postfix.mail.ehatchersolutions.com) (24.51.109.181)
  by hermes.apache.org with SMTP; 20 May 2004 09:40:18 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 3F713715B6E
	for <lucene-user@jakarta.apache.org>; Thu, 20 May 2004 05:39:29 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <40AC4556.339DED59@servelots.com>
References: <40AC4556.339DED59@servelots.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <96D0148E-AA41-11D8-9EC5-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: How do i prevent the HTML tags being added to Lucene Index..
Date: Thu, 20 May 2004 05:39:28 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Also, have a look at the jakarta-lucene-sandbox CVS repository in 
contributions/ant.  It indexes HTML content using JTidy to strip tags.

	Erik


On May 20, 2004, at 1:42 AM, Mahesh wrote:

> I am using the lucene 1.4 to index the information.
> I have lot of HTML tags in the information that i will be indexing ,so
> let me know if their is any way of removing the HTML tags from being
> indexed..
>
>
> MAHESH
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8378-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 20 10:37:44 2004
Return-Path: <lucene-user-return-8378-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39430 invoked from network); 20 May 2004 10:37:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 May 2004 10:37:44 -0000
Received: (qmail 78580 invoked by uid 500); 20 May 2004 10:37:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78530 invoked by uid 500); 20 May 2004 10:37:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78511 invoked by uid 98); 20 May 2004 10:37:34 -0000
Received: from info@zilverline.org by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(194.159.73.1):. 
 Processed in 0.101412 secs); 20 May 2004 10:37:34 -0000
X-Qmail-Scanner-Mail-From: info@zilverline.org via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(194.159.73.1):. Processed in 0.101412 secs)
Received: from unknown (HELO post-20.mail.nl.demon.net) (194.159.73.1)
  by hermes.apache.org with SMTP; 20 May 2004 10:37:33 -0000
Received: from [212.238.156.229] (helo=zilverline.org)
	by post-20.mail.nl.demon.net with esmtp (Exim 3.36 #2)
	id 1BQkvc-0005rj-00
	for lucene-user@jakarta.apache.org; Thu, 20 May 2004 10:37:32 +0000
Message-ID: <40AC8AC7.2020403@zilverline.org>
Date: Thu, 20 May 2004 12:39:03 +0200
From: info <info@zilverline.org>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: nl, en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How do i prevent the HTML tags being added to Lucene Index..
References: <40AC4556.339DED59@servelots.com>
In-Reply-To: <40AC4556.339DED59@servelots.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Or use a ready web application such as http://www.zilverline.org

Michael

Mahesh wrote:

>I am using the lucene 1.4 to index the information.
>I have lot of HTML tags in the information that i will be indexing ,so
>let me know if their is any way of removing the HTML tags from being
>indexed..
>
>
>MAHESH
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8379-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 20 11:11:05 2004
Return-Path: <lucene-user-return-8379-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51522 invoked from network); 20 May 2004 11:11:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 May 2004 11:11:04 -0000
Received: (qmail 94597 invoked by uid 500); 20 May 2004 11:10:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94416 invoked by uid 500); 20 May 2004 11:10:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94400 invoked by uid 98); 20 May 2004 11:10:57 -0000
Received: from otis_gospodnetic@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.136.173.241):. 
 Processed in 0.016359 secs); 20 May 2004 11:10:57 -0000
X-Qmail-Scanner-Mail-From: otis_gospodnetic@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.136.173.241):. Processed in 0.016359 secs)
Received: from unknown (HELO web12704.mail.yahoo.com) (216.136.173.241)
  by hermes.apache.org with SMTP; 20 May 2004 11:10:57 -0000
Message-ID: <20040520111056.93483.qmail@web12704.mail.yahoo.com>
Received: from [194.152.216.31] by web12704.mail.yahoo.com via HTTP; Thu, 20 May 2004 04:10:56 PDT
Date: Thu, 20 May 2004 04:10:56 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: file formats
To: Lucene Users List <lucene-user@jakarta.apache.org>
Cc: sumeetl@solutionsny.com
In-Reply-To: <755093229398BF47A4A4DB3CB8EB240C93E6D4@delmail.solutions.inc>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This is a question for lucene-user list.
Search Lucene FAQ at jGuru for pdf.

Otis

--- Sumeet Luthra <sumeetl@solutionsny.com> wrote:
>  
> hi ,
>  
> i wanted to know which all file formats are supported by lucene. Is
> PDF and word one of them?
> 
> ~Sumeet 
> 
>  
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8380-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 20 17:10:21 2004
Return-Path: <lucene-user-return-8380-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28180 invoked from network); 20 May 2004 17:10:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 May 2004 17:10:21 -0000
Received: (qmail 82859 invoked by uid 500); 20 May 2004 17:10:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82819 invoked by uid 500); 20 May 2004 17:10:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82797 invoked by uid 98); 20 May 2004 17:10:29 -0000
Received: from ankurg@brickred.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(207.218.248.80):. 
 Processed in 0.031455 secs); 20 May 2004 17:10:29 -0000
X-Qmail-Scanner-Mail-From: ankurg@brickred.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(207.218.248.80):. Processed in 0.031455 secs)
Received: from unknown (HELO plain.rackshack.net) (207.218.248.80)
  by hermes.apache.org with SMTP; 20 May 2004 17:10:29 -0000
Received: from neo (brick-178-237-16-ind.brickred.com [61.16.237.178] (may be forged))
	by plain.rackshack.net (8.11.6/8.11.6) with ESMTP id i4KINhF22470
	for <lucene-user@jakarta.apache.org>; Thu, 20 May 2004 13:23:43 -0500
Message-Id: <200405201823.i4KINhF22470@plain.rackshack.net>
Reply-To: <ankurg@brickred.com>
From: "Ankur Goel" <ankurg@brickred.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Searching Microsoft Word , Excel and PPT files for Japanese
Date: Thu, 20 May 2004 22:40:01 +0530
Organization: Brickred
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Thread-Index: AcQZvow1iUhkpDdzROmcDPnMYoGuSgACA5iwCTGPYtA=
In-Reply-To: 
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I am using CJK Tokenzier for searching the Japanese documents.  I am able to
search japanese documents which are text files. But I am not able to search
from Microsoft word, excel files with content in Japanese. 

Can you tell me how can search on Japanese content for Microsoft word, excel
and ppt files.

Thanks,
Ankur  

-----Original Message-----
From: Ankur Goel [mailto:ankurg@brickred.com] 
Sent: Sunday, April 04, 2004 1:36 AM
To: 'Lucene Users List'
Subject: RE: Boolean Phrase Query question

Thanks Eric for the solution. I have to filename field as I have to give the
end user facility to search on File Name also. That's   why I am using TEXT
for file Name also.

"By using true on the finalQuery.add calls, you have said that both fields
must have the word "temp" in them.  Is that what you meant?  Or did you mean
an OR type of query?"

I need an OR type of query. I mean the word can be in the filename or in the
contents of the filename. But i am not able to do this. Can you tell me how
to do it?

Regards,
Ankur 

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Sunday, April 04, 2004 1:27 AM
To: Lucene Users List
Subject: Re: Boolean Phrase Query question

On Apr 3, 2004, at 12:13 PM, Ankur Goel wrote:
>
> Hi,
> I have to provide a functionality which provides search on both file 
> name and contents of the file.
>
> For indexing I use the following code:
>
>
> org.apache.lucene.document.Document doc = new org.apache.
> lucene.document.Document();
> doc.add(Field.Keyword("fileId","" + document.getFileId())); 
> doc.add(Field.Text("fileName",fileName);
> doc.add(Field.Text("contents", new FileReader(new File(fileName)));

I'm not sure what you plan on doing with the fileName field, but you
probably want to use a Keyword field for it.

And you may want to glue the file name and contents together into a single
field to facilitate searches to span both.  (be sure to put a space in
between if you do this)

> For searching a text say  "temp" I use the following code to look both 
> in file Name and contents of the file:
>
> BooleanQuery finalQuery = new BooleanQuery(); Query titleQuery = 
> QueryParser.parse("temp","fileName",analyzer);
> Query mainQuery = QueryParser.parse("temp","contents",analyzer);
>
> finalQuery.add(titleQuery, true, false); finalQuery.add(mainQuery, 
> true, false);
>
> Hits hits = is.search(finalQuery);

By using true on the finalQuery.add calls, you have said that both fields
must have the word "temp" in them.  Is that what you meant?  Or did you mean
an OR type of query?

	Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8381-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 20 17:13:38 2004
Return-Path: <lucene-user-return-8381-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30693 invoked from network); 20 May 2004 17:13:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 May 2004 17:13:38 -0000
Received: (qmail 94969 invoked by uid 500); 20 May 2004 17:13:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94925 invoked by uid 500); 20 May 2004 17:13:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94883 invoked by uid 98); 20 May 2004 17:13:38 -0000
Received: from wallen@Cyveillance.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(63.100.163.104):. 
 Processed in 0.244117 secs); 20 May 2004 17:13:38 -0000
X-Qmail-Scanner-Mail-From: wallen@Cyveillance.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(63.100.163.104):. Processed in 0.244117 secs)
Received: from unknown (HELO mercury.corp.cyveillance.com) (63.100.163.104)
  by hermes.apache.org with SMTP; 20 May 2004 17:13:37 -0000
Received: by mercury.corp.cyveillance.com with Internet Mail Service (5.5.2655.55)
	id <KMGDFW5Q>; Thu, 20 May 2004 13:13:04 -0400
Message-ID: <E65AE9703B683F4C81B5B39C692EB26D1B0191@mercury.corp.cyveillance.com>
From: wallen@Cyveillance.com
To: lucene-user@jakarta.apache.org
Subject: RE: Searching Microsoft Word , Excel and PPT files for Japanese
Date: Thu, 20 May 2004 13:12:54 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I believe MS apps store non-ascii characters as entities internally instead
of using unicode.  You can see evidence of this if you save your file as an
HTML file and look at the source.  You will have to adjust your parser to
convert the Windows-1252 characters/entities to unicode (UTF-8 or UTF-16).

-Will

-----Original Message-----
From: Ankur Goel [mailto:ankurg@brickred.com]
Sent: Thursday, May 20, 2004 1:10 PM
To: 'Lucene Users List'
Subject: Searching Microsoft Word , Excel and PPT files for Japanese


Hi,

I am using CJK Tokenzier for searching the Japanese documents.  I am able to
search japanese documents which are text files. But I am not able to search
from Microsoft word, excel files with content in Japanese. 

Can you tell me how can search on Japanese content for Microsoft word, excel
and ppt files.

Thanks,
Ankur  

-----Original Message-----
From: Ankur Goel [mailto:ankurg@brickred.com] 
Sent: Sunday, April 04, 2004 1:36 AM
To: 'Lucene Users List'
Subject: RE: Boolean Phrase Query question

Thanks Eric for the solution. I have to filename field as I have to give the
end user facility to search on File Name also. That's   why I am using TEXT
for file Name also.

"By using true on the finalQuery.add calls, you have said that both fields
must have the word "temp" in them.  Is that what you meant?  Or did you mean
an OR type of query?"

I need an OR type of query. I mean the word can be in the filename or in the
contents of the filename. But i am not able to do this. Can you tell me how
to do it?

Regards,
Ankur 

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Sunday, April 04, 2004 1:27 AM
To: Lucene Users List
Subject: Re: Boolean Phrase Query question

On Apr 3, 2004, at 12:13 PM, Ankur Goel wrote:
>
> Hi,
> I have to provide a functionality which provides search on both file 
> name and contents of the file.
>
> For indexing I use the following code:
>
>
> org.apache.lucene.document.Document doc = new org.apache.
> lucene.document.Document();
> doc.add(Field.Keyword("fileId","" + document.getFileId())); 
> doc.add(Field.Text("fileName",fileName);
> doc.add(Field.Text("contents", new FileReader(new File(fileName)));

I'm not sure what you plan on doing with the fileName field, but you
probably want to use a Keyword field for it.

And you may want to glue the file name and contents together into a single
field to facilitate searches to span both.  (be sure to put a space in
between if you do this)

> For searching a text say  "temp" I use the following code to look both 
> in file Name and contents of the file:
>
> BooleanQuery finalQuery = new BooleanQuery(); Query titleQuery = 
> QueryParser.parse("temp","fileName",analyzer);
> Query mainQuery = QueryParser.parse("temp","contents",analyzer);
>
> finalQuery.add(titleQuery, true, false); finalQuery.add(mainQuery, 
> true, false);
>
> Hits hits = is.search(finalQuery);

By using true on the finalQuery.add calls, you have said that both fields
must have the word "temp" in them.  Is that what you meant?  Or did you mean
an OR type of query?

	Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8382-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 20 17:18:46 2004
Return-Path: <lucene-user-return-8382-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33900 invoked from network); 20 May 2004 17:18:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 May 2004 17:18:46 -0000
Received: (qmail 15200 invoked by uid 500); 20 May 2004 17:18:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15141 invoked by uid 500); 20 May 2004 17:18:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15115 invoked by uid 98); 20 May 2004 17:18:55 -0000
Received: from ankurg@brickred.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(207.218.248.80):. 
 Processed in 0.030629 secs); 20 May 2004 17:18:55 -0000
X-Qmail-Scanner-Mail-From: ankurg@brickred.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(207.218.248.80):. Processed in 0.030629 secs)
Received: from unknown (HELO plain.rackshack.net) (207.218.248.80)
  by hermes.apache.org with SMTP; 20 May 2004 17:18:54 -0000
Received: from neo (brick-178-237-16-ind.brickred.com [61.16.237.178] (may be forged))
	by plain.rackshack.net (8.11.6/8.11.6) with ESMTP id i4KIW8F22532
	for <lucene-user@jakarta.apache.org>; Thu, 20 May 2004 13:32:08 -0500
Message-Id: <200405201832.i4KIW8F22532@plain.rackshack.net>
Reply-To: <ankurg@brickred.com>
From: "Ankur Goel" <ankurg@brickred.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Searching Microsoft Word , Excel and PPT files for Japanese
Date: Thu, 20 May 2004 22:48:26 +0530
Organization: Brickred
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Thread-Index: AcQ+mBC9Fvs0Ha2eTSWiBSpHl03NDwACdGXA
In-Reply-To: <E65AE9703B683F4C81B5B39C692EB26D1B0191@mercury.corp.cyveillance.com>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi 

Can you tell me how to convert the Windows-1252 characters/entities to
unicode (UTF-8 or UTF-16). Sorry I am new to this.

Looks like first I will have to parse the text out of these files. I tried
Jakarta PI also But for japans it was also not very good.

Regards,
Ankur 

-----Original Message-----
From: wallen@Cyveillance.com [mailto:wallen@Cyveillance.com] 
Sent: Thursday, May 20, 2004 10:43 PM
To: lucene-user@jakarta.apache.org
Subject: RE: Searching Microsoft Word , Excel and PPT files for Japanese

I believe MS apps store non-ascii characters as entities internally instead
of using unicode.  You can see evidence of this if you save your file as an
HTML file and look at the source.  You will have to adjust your parser to
convert the Windows-1252 characters/entities to unicode (UTF-8 or UTF-16).

-Will

-----Original Message-----
From: Ankur Goel [mailto:ankurg@brickred.com]
Sent: Thursday, May 20, 2004 1:10 PM
To: 'Lucene Users List'
Subject: Searching Microsoft Word , Excel and PPT files for Japanese


Hi,

I am using CJK Tokenzier for searching the Japanese documents.  I am able to
search japanese documents which are text files. But I am not able to search
from Microsoft word, excel files with content in Japanese. 

Can you tell me how can search on Japanese content for Microsoft word, excel
and ppt files.

Thanks,
Ankur  

-----Original Message-----
From: Ankur Goel [mailto:ankurg@brickred.com]
Sent: Sunday, April 04, 2004 1:36 AM
To: 'Lucene Users List'
Subject: RE: Boolean Phrase Query question

Thanks Eric for the solution. I have to filename field as I have to give the
end user facility to search on File Name also. That's   why I am using TEXT
for file Name also.

"By using true on the finalQuery.add calls, you have said that both fields
must have the word "temp" in them.  Is that what you meant?  Or did you mean
an OR type of query?"

I need an OR type of query. I mean the word can be in the filename or in the
contents of the filename. But i am not able to do this. Can you tell me how
to do it?

Regards,
Ankur 

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Sunday, April 04, 2004 1:27 AM
To: Lucene Users List
Subject: Re: Boolean Phrase Query question

On Apr 3, 2004, at 12:13 PM, Ankur Goel wrote:
>
> Hi,
> I have to provide a functionality which provides search on both file 
> name and contents of the file.
>
> For indexing I use the following code:
>
>
> org.apache.lucene.document.Document doc = new org.apache.
> lucene.document.Document();
> doc.add(Field.Keyword("fileId","" + document.getFileId())); 
> doc.add(Field.Text("fileName",fileName);
> doc.add(Field.Text("contents", new FileReader(new File(fileName)));

I'm not sure what you plan on doing with the fileName field, but you
probably want to use a Keyword field for it.

And you may want to glue the file name and contents together into a single
field to facilitate searches to span both.  (be sure to put a space in
between if you do this)

> For searching a text say  "temp" I use the following code to look both 
> in file Name and contents of the file:
>
> BooleanQuery finalQuery = new BooleanQuery(); Query titleQuery = 
> QueryParser.parse("temp","fileName",analyzer);
> Query mainQuery = QueryParser.parse("temp","contents",analyzer);
>
> finalQuery.add(titleQuery, true, false); finalQuery.add(mainQuery, 
> true, false);
>
> Hits hits = is.search(finalQuery);

By using true on the finalQuery.add calls, you have said that both fields
must have the word "temp" in them.  Is that what you meant?  Or did you mean
an OR type of query?

	Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8383-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 20 17:24:47 2004
Return-Path: <lucene-user-return-8383-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37497 invoked from network); 20 May 2004 17:24:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 May 2004 17:24:47 -0000
Received: (qmail 38618 invoked by uid 500); 20 May 2004 17:23:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38549 invoked by uid 500); 20 May 2004 17:23:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38436 invoked by uid 98); 20 May 2004 17:23:46 -0000
Received: from wallen@Cyveillance.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(63.100.163.104):. 
 Processed in 0.090997 secs); 20 May 2004 17:23:46 -0000
X-Qmail-Scanner-Mail-From: wallen@Cyveillance.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(63.100.163.104):. Processed in 0.090997 secs)
Received: from unknown (HELO mercury.corp.cyveillance.com) (63.100.163.104)
  by hermes.apache.org with SMTP; 20 May 2004 17:23:45 -0000
Received: by mercury.corp.cyveillance.com with Internet Mail Service (5.5.2655.55)
	id <KMGDFW69>; Thu, 20 May 2004 13:23:14 -0400
Message-ID: <E65AE9703B683F4C81B5B39C692EB26D1B0192@mercury.corp.cyveillance.com>
From: wallen@Cyveillance.com
To: lucene-user@jakarta.apache.org
Subject: RE: Searching Microsoft Word , Excel and PPT files for Japanese
Date: Thu, 20 May 2004 13:23:04 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am not sure.  See what google give you.  I would guess you need to get a
table of entities and compare it to the unicode character.  So if you parse
the word file you might see something like "&u12312;" (without quotes) this
corresponds to a single unicode character and you can use the java api to
get that character.

-Will

-----Original Message-----
From: Ankur Goel [mailto:ankurg@brickred.com]
Sent: Thursday, May 20, 2004 1:18 PM
To: 'Lucene Users List'
Subject: RE: Searching Microsoft Word , Excel and PPT files for Japanese


Hi 

Can you tell me how to convert the Windows-1252 characters/entities to
unicode (UTF-8 or UTF-16). Sorry I am new to this.

Looks like first I will have to parse the text out of these files. I tried
Jakarta PI also But for japans it was also not very good.

Regards,
Ankur 

-----Original Message-----
From: wallen@Cyveillance.com [mailto:wallen@Cyveillance.com] 
Sent: Thursday, May 20, 2004 10:43 PM
To: lucene-user@jakarta.apache.org
Subject: RE: Searching Microsoft Word , Excel and PPT files for Japanese

I believe MS apps store non-ascii characters as entities internally instead
of using unicode.  You can see evidence of this if you save your file as an
HTML file and look at the source.  You will have to adjust your parser to
convert the Windows-1252 characters/entities to unicode (UTF-8 or UTF-16).

-Will

-----Original Message-----
From: Ankur Goel [mailto:ankurg@brickred.com]
Sent: Thursday, May 20, 2004 1:10 PM
To: 'Lucene Users List'
Subject: Searching Microsoft Word , Excel and PPT files for Japanese


Hi,

I am using CJK Tokenzier for searching the Japanese documents.  I am able to
search japanese documents which are text files. But I am not able to search
from Microsoft word, excel files with content in Japanese. 

Can you tell me how can search on Japanese content for Microsoft word, excel
and ppt files.

Thanks,
Ankur  

-----Original Message-----
From: Ankur Goel [mailto:ankurg@brickred.com]
Sent: Sunday, April 04, 2004 1:36 AM
To: 'Lucene Users List'
Subject: RE: Boolean Phrase Query question

Thanks Eric for the solution. I have to filename field as I have to give the
end user facility to search on File Name also. That's   why I am using TEXT
for file Name also.

"By using true on the finalQuery.add calls, you have said that both fields
must have the word "temp" in them.  Is that what you meant?  Or did you mean
an OR type of query?"

I need an OR type of query. I mean the word can be in the filename or in the
contents of the filename. But i am not able to do this. Can you tell me how
to do it?

Regards,
Ankur 

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Sunday, April 04, 2004 1:27 AM
To: Lucene Users List
Subject: Re: Boolean Phrase Query question

On Apr 3, 2004, at 12:13 PM, Ankur Goel wrote:
>
> Hi,
> I have to provide a functionality which provides search on both file 
> name and contents of the file.
>
> For indexing I use the following code:
>
>
> org.apache.lucene.document.Document doc = new org.apache.
> lucene.document.Document();
> doc.add(Field.Keyword("fileId","" + document.getFileId())); 
> doc.add(Field.Text("fileName",fileName);
> doc.add(Field.Text("contents", new FileReader(new File(fileName)));

I'm not sure what you plan on doing with the fileName field, but you
probably want to use a Keyword field for it.

And you may want to glue the file name and contents together into a single
field to facilitate searches to span both.  (be sure to put a space in
between if you do this)

> For searching a text say  "temp" I use the following code to look both 
> in file Name and contents of the file:
>
> BooleanQuery finalQuery = new BooleanQuery(); Query titleQuery = 
> QueryParser.parse("temp","fileName",analyzer);
> Query mainQuery = QueryParser.parse("temp","contents",analyzer);
>
> finalQuery.add(titleQuery, true, false); finalQuery.add(mainQuery, 
> true, false);
>
> Hits hits = is.search(finalQuery);

By using true on the finalQuery.add calls, you have said that both fields
must have the word "temp" in them.  Is that what you meant?  Or did you mean
an OR type of query?

	Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8384-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 20 17:35:21 2004
Return-Path: <lucene-user-return-8384-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45535 invoked from network); 20 May 2004 17:35:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 May 2004 17:35:21 -0000
Received: (qmail 88571 invoked by uid 500); 20 May 2004 17:35:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88471 invoked by uid 500); 20 May 2004 17:35:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88332 invoked by uid 98); 20 May 2004 17:35:26 -0000
Received: from Denis@haskinferguson.net by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.148.227.85):. 
 Processed in 0.12552 secs); 20 May 2004 17:35:26 -0000
X-Qmail-Scanner-Mail-From: Denis@haskinferguson.net via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.148.227.85):. Processed in 0.12552 secs)
Received: from unknown (HELO rwcrmhc12.comcast.net) (216.148.227.85)
  by hermes.apache.org with SMTP; 20 May 2004 17:35:25 -0000
Received: from haskinferguson.net (h002078c8767f.ne.client2.attbi.com[24.34.179.231])
          by comcast.net (rwcrmhc12) with SMTP
          id <2004052017350301400jbjfte>; Thu, 20 May 2004 17:35:03 +0000
Message-ID: <40ACEC91.90906@HaskinFerguson.net>
Date: Thu, 20 May 2004 13:36:17 -0400
From: Denis Haskin <Denis@HaskinFerguson.net>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.4) Gecko/20030624
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Searching Microsoft Word , Excel and PPT files for Japanese
References: <200405201832.i4KIW8F22532@plain.rackshack.net>
In-Reply-To: <200405201832.i4KIW8F22532@plain.rackshack.net>
Content-Type: multipart/alternative;
 boundary="------------010204060506010408030206"
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------010204060506010408030206
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

I really don't know much about this, but I would disagree with Will's 
assumption that because non-ascii show up as entities when you do "Save 
as HTML" that implies that they are stored *internally* within 
Word/Excel/Ppt files a entities.  That just seems unlikely to me.

Maybe somebody over at the Poi project [1] knows something about this?

My 2 cents...

dwh

[1] http://jakarta.apache.org/poi/index.html



>-----Original Message-----
>From: wallen@Cyveillance.com [mailto:wallen@Cyveillance.com] 
>Sent: Thursday, May 20, 2004 10:43 PM
>To: lucene-user@jakarta.apache.org
>Subject: RE: Searching Microsoft Word , Excel and PPT files for Japanese
>
>I believe MS apps store non-ascii characters as entities internally instead
>of using unicode.  You can see evidence of this if you save your file as an
>HTML file and look at the source.  You will have to adjust your parser to
>convert the Windows-1252 characters/entities to unicode (UTF-8 or UTF-16).
>
>-Will
>  
>

--------------010204060506010408030206--



From lucene-user-return-8385-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 20 18:22:06 2004
Return-Path: <lucene-user-return-8385-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83163 invoked from network); 20 May 2004 18:22:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 May 2004 18:22:06 -0000
Received: (qmail 78701 invoked by uid 500); 20 May 2004 18:22:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78606 invoked by uid 500); 20 May 2004 18:22:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78589 invoked by uid 98); 20 May 2004 18:22:18 -0000
Received: from rsonnek@DigitalRiver.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(208.217.74.76):. 
 Processed in 0.050583 secs); 20 May 2004 18:22:18 -0000
X-Qmail-Scanner-Mail-From: rsonnek@DigitalRiver.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(208.217.74.76):. Processed in 0.050583 secs)
Received: from unknown (HELO drmail02.digitalriver.com) (208.217.74.76)
  by hermes.apache.org with SMTP; 20 May 2004 18:22:18 -0000
Received: from nte2k05.mpls.digitalriver.com ([192.168.109.95]) by drmail02.digitalriver.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 20 May 2004 13:21:52 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: documentation fix for website
Date: Thu, 20 May 2004 13:21:52 -0500
Message-ID: <B46D8D7FF80ABC45BF8D1949592A4C7123B3C0@nte2k05.mpls.digitalriver.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: org.apache.lucene.search.highlight.Highlighter
Thread-Index: AcQ94SbJPX1+hW2MTVOkRS/gUBZANQAtfUgQ
From: "Ryan Sonnek" <rsonnek@DigitalRiver.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 20 May 2004 18:21:53.0011 (UTC) FILETIME=[5333E430:01C43E97]
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Is this the right place to submit a problem with the website =
documentation?  =
http://jakarta.apache.org/lucene/docs/systemproperties.html lists =
mergeFactor twice with different property names.  the second occurance =
should be updated to lockDir (the underlying href link is correct).

Ryan

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8386-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 21 09:02:42 2004
Return-Path: <lucene-user-return-8386-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99697 invoked from network); 21 May 2004 09:02:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 May 2004 09:02:41 -0000
Received: (qmail 21954 invoked by uid 500); 21 May 2004 09:03:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21928 invoked by uid 500); 21 May 2004 09:03:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21911 invoked by uid 98); 21 May 2004 09:03:10 -0000
Received: from karthik@controlnet.co.in by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.199.26.74):. 
 Processed in 0.59169 secs); 21 May 2004 09:03:10 -0000
X-Qmail-Scanner-Mail-From: karthik@controlnet.co.in via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.199.26.74):. Processed in 0.59169 secs)
Received: from unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by hermes.apache.org with SMTP; 21 May 2004 09:03:09 -0000
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HY24AS00.UL4 for <lucene-user@jakarta.apache.org>; Fri,
          21 May 2004 14:43:40 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: org.apache.lucene.search.highlight.Highlighter
Date: Fri, 21 May 2004 14:40:00 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIOEEFCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
In-Reply-To: <200405192037.i4JKbjU9007309@outmail.freedom2surf.net>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

  Please can some body give me a simple Example of
  org.apache.lucene.search.highlight.Highlighter

  I am trying to use it but unsucessfull


Karthik


-----Original Message-----
From: markharw00d@yahoo.co.uk [mailto:markharw00d@yahoo.co.uk]
Sent: Thursday, May 20, 2004 2:08 AM
To: lucene-user@jakarta.apache.org
Subject: Re: org.apache.lucene.search.highlight.Highlighter


>>Was Investigating,found some Compile time error..

I see the code you have is taken from the example in the javadocs.
Unfortunately that example wasn't complete because the class didnt
include the method defined in the Formatter interface. I have updated the
Javadocs to correct this oversight.

To correct your problem either make your class implement the Formatter
interface to perform your choice of custom formatting or remove the "this"
parameter from your call to create a new Highlighter with the default
Formatter implementation.

Thanks for "highlighting" the problem with the Javadocs...

Cheers
Mark


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8387-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 21 10:22:19 2004
Return-Path: <lucene-user-return-8387-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53628 invoked from network); 21 May 2004 10:22:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 May 2004 10:22:18 -0000
Received: (qmail 9108 invoked by uid 500); 21 May 2004 10:22:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9018 invoked by uid 500); 21 May 2004 10:22:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8967 invoked by uid 98); 21 May 2004 10:22:48 -0000
Received: from chandan@ccnep.com.np by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(202.51.64.130):. 
 Processed in 1.374142 secs); 21 May 2004 10:22:48 -0000
X-Qmail-Scanner-Mail-From: chandan@ccnep.com.np via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(202.51.64.130):. Processed in 1.374142 secs)
Received: from unknown (HELO idlewild.ccnep.com.np) (202.51.64.130)
  by hermes.apache.org with SMTP; 21 May 2004 10:22:46 -0000
Received: from neplaptop ([202.51.64.153])
	by idlewild.ccnep.com.np (8.12.5/8.12.5) with SMTP id i4LAkauv031737;
	Fri, 21 May 2004 16:31:43 +0545
Message-ID: <004701c43f1d$61e42680$2403a8c0@neplaptop>
From: "Chandan Tamrakar" <chandan@ccnep.com.np>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
   <ankurg@brickred.com>
References: <200405201823.i4KINhF22470@plain.rackshack.net>
Subject: Re: Searching Microsoft Word , Excel and PPT files for Japanese
Date: Fri, 21 May 2004 16:06:27 +0545
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

    for miscrosoft word documents and excel use POI API's  from jakarta
apache.
   First you need to extract the test and convert inot suitable encoding
before you put into lucene for index.
   It worked for me.


----- Original Message ----- 
From: "Ankur Goel" <ankurg@brickred.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Thursday, May 20, 2004 10:55 PM
Subject: Searching Microsoft Word , Excel and PPT files for Japanese


> Hi,
>
> I am using CJK Tokenzier for searching the Japanese documents.  I am able
to
> search japanese documents which are text files. But I am not able to
search
> from Microsoft word, excel files with content in Japanese.
>
> Can you tell me how can search on Japanese content for Microsoft word,
excel
> and ppt files.
>
> Thanks,
> Ankur
>
> -----Original Message-----
> From: Ankur Goel [mailto:ankurg@brickred.com]
> Sent: Sunday, April 04, 2004 1:36 AM
> To: 'Lucene Users List'
> Subject: RE: Boolean Phrase Query question
>
> Thanks Eric for the solution. I have to filename field as I have to give
the
> end user facility to search on File Name also. That's   why I am using
TEXT
> for file Name also.
>
> "By using true on the finalQuery.add calls, you have said that both fields
> must have the word "temp" in them.  Is that what you meant?  Or did you
mean
> an OR type of query?"
>
> I need an OR type of query. I mean the word can be in the filename or in
the
> contents of the filename. But i am not able to do this. Can you tell me
how
> to do it?
>
> Regards,
> Ankur
>
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Sunday, April 04, 2004 1:27 AM
> To: Lucene Users List
> Subject: Re: Boolean Phrase Query question
>
> On Apr 3, 2004, at 12:13 PM, Ankur Goel wrote:
> >
> > Hi,
> > I have to provide a functionality which provides search on both file
> > name and contents of the file.
> >
> > For indexing I use the following code:
> >
> >
> > org.apache.lucene.document.Document doc = new org.apache.
> > lucene.document.Document();
> > doc.add(Field.Keyword("fileId","" + document.getFileId()));
> > doc.add(Field.Text("fileName",fileName);
> > doc.add(Field.Text("contents", new FileReader(new File(fileName)));
>
> I'm not sure what you plan on doing with the fileName field, but you
> probably want to use a Keyword field for it.
>
> And you may want to glue the file name and contents together into a single
> field to facilitate searches to span both.  (be sure to put a space in
> between if you do this)
>
> > For searching a text say  "temp" I use the following code to look both
> > in file Name and contents of the file:
> >
> > BooleanQuery finalQuery = new BooleanQuery(); Query titleQuery =
> > QueryParser.parse("temp","fileName",analyzer);
> > Query mainQuery = QueryParser.parse("temp","contents",analyzer);
> >
> > finalQuery.add(titleQuery, true, false); finalQuery.add(mainQuery,
> > true, false);
> >
> > Hits hits = is.search(finalQuery);
>
> By using true on the finalQuery.add calls, you have said that both fields
> must have the word "temp" in them.  Is that what you meant?  Or did you
mean
> an OR type of query?
>
> Erik
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8388-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 21 10:32:57 2004
Return-Path: <lucene-user-return-8388-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59858 invoked from network); 21 May 2004 10:32:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 May 2004 10:32:57 -0000
Received: (qmail 42122 invoked by uid 500); 21 May 2004 10:32:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42069 invoked by uid 500); 21 May 2004 10:32:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42048 invoked by uid 98); 21 May 2004 10:32:47 -0000
Received: from ankurg@brickred.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(207.218.248.80):. 
 Processed in 0.114817 secs); 21 May 2004 10:32:47 -0000
X-Qmail-Scanner-Mail-From: ankurg@brickred.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(207.218.248.80):. Processed in 0.114817 secs)
Received: from unknown (HELO plain.rackshack.net) (207.218.248.80)
  by hermes.apache.org with SMTP; 21 May 2004 10:32:47 -0000
Received: from neo (brick-178-237-16-ind.brickred.com [61.16.237.178] (may be forged))
	by plain.rackshack.net (8.11.6/8.11.6) with ESMTP id i4LBkJF30040;
	Fri, 21 May 2004 06:46:21 -0500
Message-Id: <200405211146.i4LBkJF30040@plain.rackshack.net>
Reply-To: <ankurg@brickred.com>
From: "Ankur Goel" <ankurg@brickred.com>
To: "'Chandan Tamrakar'" <chandan@ccnep.com.np>,
   "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Searching Microsoft Word , Excel and PPT files for Japanese
Date: Fri, 21 May 2004 16:02:25 +0530
Organization: Brickred
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Thread-Index: AcQ/J7xh1kbj/CPUSPK98Vc4bMGYuQACUJGQ
In-Reply-To: <004701c43f1d$61e42680$2403a8c0@neplaptop>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks chandan .. 
I am tried  using POI for text extraction . I used The
WordDocument.writeAllText method but it didn't worked for Japanese. 
Is there any other way also for extracting the Japanese text?
Regards,
Ankur 

-----Original Message-----
From: Chandan Tamrakar [mailto:chandan@ccnep.com.np] 
Sent: Friday, May 21, 2004 3:51 PM
To: Lucene Users List; ankurg@brickred.com
Subject: Re: Searching Microsoft Word , Excel and PPT files for Japanese

    for miscrosoft word documents and excel use POI API's  from jakarta
apache.
   First you need to extract the test and convert inot suitable encoding
before you put into lucene for index.
   It worked for me.


----- Original Message -----
From: "Ankur Goel" <ankurg@brickred.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Thursday, May 20, 2004 10:55 PM
Subject: Searching Microsoft Word , Excel and PPT files for Japanese


> Hi,
>
> I am using CJK Tokenzier for searching the Japanese documents.  I am able
to
> search japanese documents which are text files. But I am not able to
search
> from Microsoft word, excel files with content in Japanese.
>
> Can you tell me how can search on Japanese content for Microsoft word,
excel
> and ppt files.
>
> Thanks,
> Ankur
>
> -----Original Message-----
> From: Ankur Goel [mailto:ankurg@brickred.com]
> Sent: Sunday, April 04, 2004 1:36 AM
> To: 'Lucene Users List'
> Subject: RE: Boolean Phrase Query question
>
> Thanks Eric for the solution. I have to filename field as I have to give
the
> end user facility to search on File Name also. That's   why I am using
TEXT
> for file Name also.
>
> "By using true on the finalQuery.add calls, you have said that both fields
> must have the word "temp" in them.  Is that what you meant?  Or did you
mean
> an OR type of query?"
>
> I need an OR type of query. I mean the word can be in the filename or in
the
> contents of the filename. But i am not able to do this. Can you tell me
how
> to do it?
>
> Regards,
> Ankur
>
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Sunday, April 04, 2004 1:27 AM
> To: Lucene Users List
> Subject: Re: Boolean Phrase Query question
>
> On Apr 3, 2004, at 12:13 PM, Ankur Goel wrote:
> >
> > Hi,
> > I have to provide a functionality which provides search on both file
> > name and contents of the file.
> >
> > For indexing I use the following code:
> >
> >
> > org.apache.lucene.document.Document doc = new org.apache.
> > lucene.document.Document();
> > doc.add(Field.Keyword("fileId","" + document.getFileId()));
> > doc.add(Field.Text("fileName",fileName);
> > doc.add(Field.Text("contents", new FileReader(new File(fileName)));
>
> I'm not sure what you plan on doing with the fileName field, but you
> probably want to use a Keyword field for it.
>
> And you may want to glue the file name and contents together into a single
> field to facilitate searches to span both.  (be sure to put a space in
> between if you do this)
>
> > For searching a text say  "temp" I use the following code to look both
> > in file Name and contents of the file:
> >
> > BooleanQuery finalQuery = new BooleanQuery(); Query titleQuery =
> > QueryParser.parse("temp","fileName",analyzer);
> > Query mainQuery = QueryParser.parse("temp","contents",analyzer);
> >
> > finalQuery.add(titleQuery, true, false); finalQuery.add(mainQuery,
> > true, false);
> >
> > Hits hits = is.search(finalQuery);
>
> By using true on the finalQuery.add calls, you have said that both fields
> must have the word "temp" in them.  Is that what you meant?  Or did you
mean
> an OR type of query?
>
> Erik
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8389-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 21 10:46:08 2004
Return-Path: <lucene-user-return-8389-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66480 invoked from network); 21 May 2004 10:46:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 May 2004 10:46:08 -0000
Received: (qmail 85574 invoked by uid 500); 21 May 2004 10:45:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85467 invoked by uid 500); 21 May 2004 10:45:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85399 invoked by uid 98); 21 May 2004 10:45:33 -0000
Received: from otis_gospodnetic@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.136.173.240):. 
 Processed in 0.032945 secs); 21 May 2004 10:45:33 -0000
X-Qmail-Scanner-Mail-From: otis_gospodnetic@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.136.173.240):. Processed in 0.032945 secs)
Received: from unknown (HELO web12703.mail.yahoo.com) (216.136.173.240)
  by hermes.apache.org with SMTP; 21 May 2004 10:45:33 -0000
Message-ID: <20040521104531.22970.qmail@web12703.mail.yahoo.com>
Received: from [194.152.209.205] by web12703.mail.yahoo.com via HTTP; Fri, 21 May 2004 03:45:31 PDT
Date: Fri, 21 May 2004 03:45:31 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: documentation fix for website
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <B46D8D7FF80ABC45BF8D1949592A4C7123B3C0@nte2k05.mpls.digitalriver.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for catching this.  I fix it, and the change should show up on
the site with the next Lucene release.

Otis

--- Ryan Sonnek <rsonnek@DigitalRiver.com> wrote:
> Is this the right place to submit a problem with the website
> documentation? 
> http://jakarta.apache.org/lucene/docs/systemproperties.html lists
> mergeFactor twice with different property names.  the second
> occurance should be updated to lockDir (the underlying href link is
> correct).
> 
> Ryan
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8390-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 21 11:02:27 2004
Return-Path: <lucene-user-return-8390-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73749 invoked from network); 21 May 2004 11:02:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 May 2004 11:02:27 -0000
Received: (qmail 39608 invoked by uid 500); 21 May 2004 11:02:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39520 invoked by uid 500); 21 May 2004 11:02:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39504 invoked by uid 98); 21 May 2004 11:02:20 -0000
Received: from PEPADServer.Administrator@erl9.siemens.de by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(217.194.35.70):. 
 Processed in 0.332796 secs); 21 May 2004 11:02:20 -0000
X-Qmail-Scanner-Mail-From: PEPADServer.Administrator@erl9.siemens.de via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(217.194.35.70):. Processed in 0.332796 secs)
Received: from unknown (HELO alea.erlm.siemens.de) (217.194.35.70)
  by hermes.apache.org with SMTP; 21 May 2004 11:02:20 -0000
Received: from metropolis.erlm.siemens.de (metropolis.erlm.siemens.de [146.254.160.192])
	by alea.erlm.siemens.de (8.12.8/8.12.8) with ESMTP id i4LB1q6Y006549
	for <lucene-user@jakarta.apache.org>; Fri, 21 May 2004 13:02:10 +0200
Received: from erlm510a.erl9.siemens.de (erlm510a.erl9.siemens.de [146.254.168.221])
	by metropolis.erlm.siemens.de (8.12.8/8.12.8) with ESMTP id i4LB1pvj013264
	for <lucene-user@jakarta.apache.org>; Fri, 21 May 2004 13:01:52 +0200
Received: by erlm510a.erl9.siemens.de with Internet Mail Service (5.5.2657.72)
	id <LDANLKWP>; Fri, 21 May 2004 13:01:51 +0200
Message-ID: <A719AEB6A99ED711B87F000BCD10AA8707A15839@ERLM585A.erl9.siemens.de>
From: PEP AD Server Administrator
	 <PEPADServer.Administrator@erl9.siemens.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: AW: Problem indexing Spanish Characters
Date: Fri, 21 May 2004 13:01:48 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all,
Martin was right. I just adapt the HTML demo as Wallen recommended and =
it
worked. Now I have only to deal with some crazy documents which are =
UTF-8
decoded mixed with entities.
Does anyone know a class which can translate entities into UTF-8 or any
other encoding?

Peter MH

-----Urspr=FCngliche Nachricht-----
Von: wallen@Cyveillance.com [mailto:wallen@Cyveillance.com]

Here is an example method in org.apache.lucene.demo.html HTMLParser =
that
uses a different buffered reader for a different encoding.=20

	public Reader getReader() throws IOException
	{
		if (pipeIn =3D=3D null)
		{
			pipeInStream =3D new MyPipedInputStream();
			pipeOutStream =3D new PipedOutputStream(pipeInStream);
			pipeIn =3D new InputStreamReader(pipeInStream);
			pipeOut =3D new OutputStreamWriter(pipeOutStream);
			//check the first 4 bytes for FFFE marker, if its
there we know its UTF-16 encoding
			if (useUTF16)
			{
				try
				{
					pipeIn =3D new BufferedReader(new
InputStreamReader(pipeInStream, "UTF-16"));
				}
				catch (Exception e)
				{
				}
			}
			Thread thread =3D new ParserThread(this);
			thread.start(); // start parsing
		}
		return pipeIn;
	}

-----Original Message-----
From: Martin Remy [mailto:remy@acm.org]

The tokenizers deal with unicode characters (CharStream, char), so the
problem is not there.  This problem must be solved at the point where =
the
bytes from your source files are turned into CharSequences/Strings, =
i.e. by
connecting an InputStreamReader to your FileReader (or whatever you're
using) and specifying "UTF-8" (or whatever encoding is appropriate) in =
the
InputStreamReader constructor. =20

You must either detect the encoding from HTTP heaaders or XML =
declarations
or, if you know that it's the same for all of your source files, then =
just
hardcode UTF-8, for example. =20

Martin

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8391-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 21 11:23:02 2004
Return-Path: <lucene-user-return-8391-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83372 invoked from network); 21 May 2004 11:23:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 May 2004 11:23:02 -0000
Received: (qmail 930 invoked by uid 500); 21 May 2004 11:22:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 781 invoked by uid 500); 21 May 2004 11:22:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 510 invoked by uid 98); 21 May 2004 11:22:07 -0000
Received: from karthik@controlnet.co.in by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.199.26.74):. 
 Processed in 0.685556 secs); 21 May 2004 11:22:07 -0000
X-Qmail-Scanner-Mail-From: karthik@controlnet.co.in via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.199.26.74):. Processed in 0.685556 secs)
Received: from unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by hermes.apache.org with SMTP; 21 May 2004 11:22:06 -0000
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HY2ARY00.U0M; Fri, 21 May 2004 17:03:34 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Cc: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	 "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: org.apache.lucene.search.highlight.Highlighter
Date: Fri, 21 May 2004 16:59:55 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIAEEHCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: multipart/related;
	boundary="----=_NextPart_000_0005_01C43F55.0A80F4D0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0005_01C43F55.0A80F4D0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_001_0006_01C43F55.0A80F4D0"


------=_NextPart_001_0006_01C43F55.0A80F4D0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit




Hi 

Please can some body give me a simple Example of 

org.apache.lucene.search.highlight.Highlighter 

I am trying to use it but unsucessfull



Karthik





















        
      WITH WARM REGARDS 
      HAVE A NICE DAY 
      [ N.S.KARTHIK] 
     


------=_NextPart_001_0006_01C43F55.0A80F4D0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<STYLE>
<!-- body, P.msoNormal, LI.msoNormal, PRE, BLOCKQUOTE, a, MENU, dd, UL, =
DT { font-family: "verdana"; font-size: 12pt; margin-top: 0em; =
margin-bottom: 0em; color: #000000; } dir, ADDRESS, h1, h2, h3, h4, h5, =
h6, HR { font-family: "Arial"; font-size: 12pt; margin-top: 0em; =
margin-bottom: 0em; color: #000000; } -->
</STYLE>

<META content=3D"MSHTML 6.00.2600.0" name=3DGENERATOR></HEAD>
<BODY><STRONG><FONT color=3D#000080 =
size=3D2></FONT></STRONG><BR><BR><B><FONT=20
color=3D#000080 size=3D2>
<P>Hi </P>
<P>Please can some body give me a simple Example of </P>
<P>org.apache.lucene.search.highlight.Highlighter </P>
<P>I am trying to use it but unsucessfull</P>
<P>&nbsp;</P>
<P>Karthik</P></B></FONT><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR>=
<BR><BR><BR><BR><BR><BR><BR><BR>
<TABLE width=3D60 border=3D0 valign=3D"bottom">
  <TBODY>
  <TR>
    <TD align=3Dleft><IMG height=3D50 =
src=3D"cid:875192911@21052004-3236" width=3D50>=20
    </TD></TR>
  <TR>
    <TD noWrap align=3Dleft><ALIGN=3DLEFT><B><FONT face=3DVerdana =
color=3D#939ff7=20
      size=3D3>WITH WARM REGARDS <BR>HAVE A NICE DAY <BR>[ =
N.S.KARTHIK]</B>=20
</FONT>
      <P></P></TD></TR></TBODY></TABLE></FONT></BODY></HTML>

------=_NextPart_001_0006_01C43F55.0A80F4D0--

------=_NextPart_000_0005_01C43F55.0A80F4D0--


From lucene-user-return-8392-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 21 11:23:02 2004
Return-Path: <lucene-user-return-8392-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83371 invoked from network); 21 May 2004 11:23:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 May 2004 11:23:02 -0000
Received: (qmail 970 invoked by uid 500); 21 May 2004 11:22:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 827 invoked by uid 500); 21 May 2004 11:22:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 510 invoked by uid 98); 21 May 2004 11:22:07 -0000
Received: from karthik@controlnet.co.in by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.199.26.74):. 
 Processed in 0.685556 secs); 21 May 2004 11:22:07 -0000
X-Qmail-Scanner-Mail-From: karthik@controlnet.co.in via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.199.26.74):. Processed in 0.685556 secs)
Received: from unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by hermes.apache.org with SMTP; 21 May 2004 11:22:06 -0000
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HY2ARY00.U0M; Fri, 21 May 2004 17:03:34 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Cc: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	 "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: org.apache.lucene.search.highlight.Highlighter
Date: Fri, 21 May 2004 16:59:55 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIAEEHCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: multipart/related;
	boundary="----=_NextPart_000_0005_01C43F55.0A80F4D0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0005_01C43F55.0A80F4D0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_001_0006_01C43F55.0A80F4D0"


------=_NextPart_001_0006_01C43F55.0A80F4D0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit




Hi 

Please can some body give me a simple Example of 

org.apache.lucene.search.highlight.Highlighter 

I am trying to use it but unsucessfull



Karthik





















        
      WITH WARM REGARDS 
      HAVE A NICE DAY 
      [ N.S.KARTHIK] 
     


------=_NextPart_001_0006_01C43F55.0A80F4D0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<STYLE>
<!-- body, P.msoNormal, LI.msoNormal, PRE, BLOCKQUOTE, a, MENU, dd, UL, =
DT { font-family: "verdana"; font-size: 12pt; margin-top: 0em; =
margin-bottom: 0em; color: #000000; } dir, ADDRESS, h1, h2, h3, h4, h5, =
h6, HR { font-family: "Arial"; font-size: 12pt; margin-top: 0em; =
margin-bottom: 0em; color: #000000; } -->
</STYLE>

<META content=3D"MSHTML 6.00.2600.0" name=3DGENERATOR></HEAD>
<BODY><STRONG><FONT color=3D#000080 =
size=3D2></FONT></STRONG><BR><BR><B><FONT=20
color=3D#000080 size=3D2>
<P>Hi </P>
<P>Please can some body give me a simple Example of </P>
<P>org.apache.lucene.search.highlight.Highlighter </P>
<P>I am trying to use it but unsucessfull</P>
<P>&nbsp;</P>
<P>Karthik</P></B></FONT><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR>=
<BR><BR><BR><BR><BR><BR><BR><BR>
<TABLE width=3D60 border=3D0 valign=3D"bottom">
  <TBODY>
  <TR>
    <TD align=3Dleft><IMG height=3D50 =
src=3D"cid:875192911@21052004-3236" width=3D50>=20
    </TD></TR>
  <TR>
    <TD noWrap align=3Dleft><ALIGN=3DLEFT><B><FONT face=3DVerdana =
color=3D#939ff7=20
      size=3D3>WITH WARM REGARDS <BR>HAVE A NICE DAY <BR>[ =
N.S.KARTHIK]</B>=20
</FONT>
      <P></P></TD></TR></TBODY></TABLE></FONT></BODY></HTML>

------=_NextPart_001_0006_01C43F55.0A80F4D0--

------=_NextPart_000_0005_01C43F55.0A80F4D0--


From lucene-user-return-8393-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 21 11:23:02 2004
Return-Path: <lucene-user-return-8393-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83419 invoked from network); 21 May 2004 11:23:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 May 2004 11:23:02 -0000
Received: (qmail 998 invoked by uid 500); 21 May 2004 11:22:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 857 invoked by uid 500); 21 May 2004 11:22:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 510 invoked by uid 98); 21 May 2004 11:22:07 -0000
Received: from karthik@controlnet.co.in by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.199.26.74):. 
 Processed in 0.685556 secs); 21 May 2004 11:22:07 -0000
X-Qmail-Scanner-Mail-From: karthik@controlnet.co.in via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.199.26.74):. Processed in 0.685556 secs)
Received: from unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by hermes.apache.org with SMTP; 21 May 2004 11:22:06 -0000
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HY2ARY00.U0M; Fri, 21 May 2004 17:03:34 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Cc: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	 "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: org.apache.lucene.search.highlight.Highlighter
Date: Fri, 21 May 2004 16:59:55 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIAEEHCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: multipart/related;
	boundary="----=_NextPart_000_0005_01C43F55.0A80F4D0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0005_01C43F55.0A80F4D0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_001_0006_01C43F55.0A80F4D0"


------=_NextPart_001_0006_01C43F55.0A80F4D0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit




Hi 

Please can some body give me a simple Example of 

org.apache.lucene.search.highlight.Highlighter 

I am trying to use it but unsucessfull



Karthik





















        
      WITH WARM REGARDS 
      HAVE A NICE DAY 
      [ N.S.KARTHIK] 
     


------=_NextPart_001_0006_01C43F55.0A80F4D0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<STYLE>
<!-- body, P.msoNormal, LI.msoNormal, PRE, BLOCKQUOTE, a, MENU, dd, UL, =
DT { font-family: "verdana"; font-size: 12pt; margin-top: 0em; =
margin-bottom: 0em; color: #000000; } dir, ADDRESS, h1, h2, h3, h4, h5, =
h6, HR { font-family: "Arial"; font-size: 12pt; margin-top: 0em; =
margin-bottom: 0em; color: #000000; } -->
</STYLE>

<META content=3D"MSHTML 6.00.2600.0" name=3DGENERATOR></HEAD>
<BODY><STRONG><FONT color=3D#000080 =
size=3D2></FONT></STRONG><BR><BR><B><FONT=20
color=3D#000080 size=3D2>
<P>Hi </P>
<P>Please can some body give me a simple Example of </P>
<P>org.apache.lucene.search.highlight.Highlighter </P>
<P>I am trying to use it but unsucessfull</P>
<P>&nbsp;</P>
<P>Karthik</P></B></FONT><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR>=
<BR><BR><BR><BR><BR><BR><BR><BR>
<TABLE width=3D60 border=3D0 valign=3D"bottom">
  <TBODY>
  <TR>
    <TD align=3Dleft><IMG height=3D50 =
src=3D"cid:875192911@21052004-3236" width=3D50>=20
    </TD></TR>
  <TR>
    <TD noWrap align=3Dleft><ALIGN=3DLEFT><B><FONT face=3DVerdana =
color=3D#939ff7=20
      size=3D3>WITH WARM REGARDS <BR>HAVE A NICE DAY <BR>[ =
N.S.KARTHIK]</B>=20
</FONT>
      <P></P></TD></TR></TBODY></TABLE></FONT></BODY></HTML>

------=_NextPart_001_0006_01C43F55.0A80F4D0--

------=_NextPart_000_0005_01C43F55.0A80F4D0--


From lucene-user-return-8394-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 21 13:44:45 2004
Return-Path: <lucene-user-return-8394-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17541 invoked from network); 21 May 2004 13:44:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 May 2004 13:44:45 -0000
Received: (qmail 5070 invoked by uid 500); 21 May 2004 13:44:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5029 invoked by uid 500); 21 May 2004 13:44:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5014 invoked by uid 98); 21 May 2004 13:44:44 -0000
Received: from avp@imente.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(62.97.113.150):. 
 Processed in 0.051694 secs); 21 May 2004 13:44:44 -0000
X-Qmail-Scanner-Mail-From: avp@imente.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(62.97.113.150):. Processed in 0.051694 secs)
Received: from unknown (HELO mail.imente.com) (62.97.113.150)
  by hermes.apache.org with SMTP; 21 May 2004 13:44:43 -0000
Received: from imente.com (grn.imente.com [212.145.99.45])
	by mail.imente.com (Postfix) with ESMTP id 61B844F7
	for <lucene-user@jakarta.apache.org>; Fri, 21 May 2004 15:44:26 +0200 (CEST)
Message-ID: <40AE07C8.3010508@imente.com>
Date: Fri, 21 May 2004 15:44:40 +0200
From: Albert Vila <avp@imente.com>
User-Agent: Mozilla Thunderbird 0.5 (X11/20040208)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: StandardTokenizer and e-mail 
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all,

I want to achieve the following, when I indexing the 'xyz@company.com', 
I want to index the 'xyz@company.com' token, then the 'xyz' token, the 
'company' token and the 'com'token.
This way, you'll be able to find the document searching for 
'xyz@company.com', for 'xyz' only, or for 'company' only.

How can I achieve that?, I need to write my own tokenizer?

Thanks
Albert

-- 
Albert Vila
Director de proyectos I+D
http://www.imente.com
902 933 242
[iMente La informacin con ms beneficios]


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8395-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 21 15:36:50 2004
Return-Path: <lucene-user-return-8395-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18123 invoked from network); 21 May 2004 15:36:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 May 2004 15:36:50 -0000
Received: (qmail 66210 invoked by uid 500); 21 May 2004 15:36:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66060 invoked by uid 500); 21 May 2004 15:36:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65911 invoked by uid 98); 21 May 2004 15:36:45 -0000
Received: from alex.bourne@hsbcam.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(193.108.75.30):. 
 Processed in 0.089799 secs); 21 May 2004 15:36:45 -0000
X-Qmail-Scanner-Mail-From: alex.bourne@hsbcam.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(193.108.75.30):. Processed in 0.089799 secs)
Received: from unknown (HELO NNT243.systems.uk.hsbc) (193.108.75.30)
  by hermes.apache.org with SMTP; 21 May 2004 15:36:44 -0000
Received: from emea-smtp-05.systems.uk.hsbc (unverified) by 
    NNT243.systems.uk.hsbc (Content Technologies SMTPRS 4.3.6) with ESMTP id 
    <T69b4d78fdf0a1b233cae4@NNT243.systems.uk.hsbc> for 
    <lucene-user@jakarta.apache.org>; Fri, 21 May 2004 16:39:52 +0100
Sensitivity:
Subject: Query parser and minus signs
To: lucene-user@jakarta.apache.org
From: alex.bourne@hsbcam.com
Date: Fri, 21 May 2004 16:36:24 +0100
Message-ID: <OF49C29593.B273EB69-ON80256E9B.0055A300@hsbcib.com>
X-MIMETrack: Serialize by Router on EMEA-SMTP-05/SERVERS/HSBC 
    (Release 6.0.1CF3|July 29, 2003) at 21/05/2004 16:36:26
MIME-Version: 1.0
Content-type: text/plain; charset="us-ascii"
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N





Hi All,

I'm using Lucene on a site that has split content with a branch containing
pages in English and a separate branch in Chinese.  Some of the chinese
pages include some (untranslatable) English words, so when a search is
carried out in either language you can get pages from the wrong branch. To
combat this we introduced a language field into the index which contains
the standard language codes: en-UK and zh-HK.

When you parse a query  e.g. language:"en\-UK" you could reasonably expect
the search to recover all pages with the language field set to "en-UK" (the
minus symbol should be escaped by the backslash according to the FAQ).
Unfortunately the parser seems to return "en UK" as the parsed query and
hence returns no documents.

Has anyone else had this problem, or could suggest a workaround ?? as I
have
yet to find a solution in the mailing archives or elsewhere.

Many thanks in advance,

Alex Bourne



_____________________________________________________

This transmission has been issued by a member of the HSBC Group 
("HSBC") for the information of the addressee only and should not be 
reproduced and / or distributed to any other person. Each page 
attached hereto must be read in conjunction with any disclaimer which 
forms part of it. This transmission is neither an offer nor the solicitation 
of an offer to sell or purchase any investment. Its contents are based 
on information obtained from sources believed to be reliable but HSBC 
makes no representation and accepts no responsibility or liability as to 
its completeness or accuracy.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8396-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 21 15:38:47 2004
Return-Path: <lucene-user-return-8396-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19346 invoked from network); 21 May 2004 15:38:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 May 2004 15:38:47 -0000
Received: (qmail 75682 invoked by uid 500); 21 May 2004 15:38:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75601 invoked by uid 500); 21 May 2004 15:38:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75534 invoked by uid 98); 21 May 2004 15:38:49 -0000
Received: from rsonnek@DigitalRiver.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(66.192.77.53):. 
 Processed in 0.012282 secs); 21 May 2004 15:38:49 -0000
X-Qmail-Scanner-Mail-From: rsonnek@DigitalRiver.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(66.192.77.53):. Processed in 0.012282 secs)
Received: from unknown (HELO drmail01.digitalriver.com) (66.192.77.53)
  by hermes.apache.org with SMTP; 21 May 2004 15:38:49 -0000
Received: from nte2k05.mpls.digitalriver.com ([209.87.176.1]) by drmail01.digitalriver.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 21 May 2004 10:38:33 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Query parser and minus signs
Date: Fri, 21 May 2004 10:38:32 -0500
Message-ID: <B46D8D7FF80ABC45BF8D1949592A4C7123B3C1@nte2k05.mpls.digitalriver.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Query parser and minus signs
Thread-Index: AcQ/SWad8a9YbGITRy+wF8TAuBud+wAAC7Rg
From: "Ryan Sonnek" <rsonnek@DigitalRiver.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 21 May 2004 15:38:33.0119 (UTC) FILETIME=[AC6CCAF0:01C43F49]
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

if you're dealing with locales, why not use java's built in locale =
syntax (ex: en_UK, zh_HK)?

> -----Original Message-----
> From: alex.bourne@hsbcam.com [mailto:alex.bourne@hsbcam.com]
> Sent: Friday, May 21, 2004 10:36 AM
> To: lucene-user@jakarta.apache.org
> Subject: Query parser and minus signs
>=20
>=20
>=20
>=20
>=20
>=20
> Hi All,
>=20
> I'm using Lucene on a site that has split content with a=20
> branch containing
> pages in English and a separate branch in Chinese.  Some of=20
> the chinese
> pages include some (untranslatable) English words, so when a search is
> carried out in either language you can get pages from the=20
> wrong branch. To
> combat this we introduced a language field into the index=20
> which contains
> the standard language codes: en-UK and zh-HK.
>=20
> When you parse a query  e.g. language:"en\-UK" you could=20
> reasonably expect
> the search to recover all pages with the language field set=20
> to "en-UK" (the
> minus symbol should be escaped by the backslash according to the FAQ).
> Unfortunately the parser seems to return "en UK" as the=20
> parsed query and
> hence returns no documents.
>=20
> Has anyone else had this problem, or could suggest a=20
> workaround ?? as I
> have
> yet to find a solution in the mailing archives or elsewhere.
>=20
> Many thanks in advance,
>=20
> Alex Bourne
>=20
>=20
>=20
> _____________________________________________________
>=20
> This transmission has been issued by a member of the HSBC Group=20
> ("HSBC") for the information of the addressee only and should not be=20
> reproduced and / or distributed to any other person. Each page=20
> attached hereto must be read in conjunction with any disclaimer which=20
> forms part of it. This transmission is neither an offer nor=20
> the solicitation=20
> of an offer to sell or purchase any investment. Its contents=20
> are based=20
> on information obtained from sources believed to be reliable but HSBC=20
> makes no representation and accepts no responsibility or=20
> liability as to=20
> its completeness or accuracy.
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8397-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 21 15:46:58 2004
Return-Path: <lucene-user-return-8397-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24237 invoked from network); 21 May 2004 15:46:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 May 2004 15:46:57 -0000
Received: (qmail 4208 invoked by uid 500); 21 May 2004 15:46:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4160 invoked by uid 500); 21 May 2004 15:46:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4106 invoked by uid 98); 21 May 2004 15:46:54 -0000
Received: from alex.bourne@hsbcam.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(193.108.75.30):. 
 Processed in 0.231208 secs); 21 May 2004 15:46:54 -0000
X-Qmail-Scanner-Mail-From: alex.bourne@hsbcam.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(193.108.75.30):. Processed in 0.231208 secs)
Received: from unknown (HELO NNT243.systems.uk.hsbc) (193.108.75.30)
  by hermes.apache.org with SMTP; 21 May 2004 15:46:54 -0000
Received: from emea-smtp-05.systems.uk.hsbc (unverified) by 
    NNT243.systems.uk.hsbc (Content Technologies SMTPRS 4.3.6) with ESMTP id 
    <T69b4e0dd860a1b233cae4@NNT243.systems.uk.hsbc> for 
    <lucene-user@jakarta.apache.org>; Fri, 21 May 2004 16:50:01 +0100
Sensitivity:
Subject: Memo:  RE: Query parser and minus signs
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: alex.bourne@hsbcam.com
Date: Fri, 21 May 2004 16:46:34 +0100
Message-ID: <OF213B2803.107C6579-ON80256E9B.00568049@hsbcib.com>
X-MIMETrack: Serialize by Router on EMEA-SMTP-05/SERVERS/HSBC 
    (Release 6.0.1CF3|July 29, 2003) at 21/05/2004 16:46:36
MIME-Version: 1.0
Content-type: text/plain; charset="us-ascii"
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N





Hmm, we may have to if there is no work around. We're not using java
locales, but were trying to stick to the ISO standard which uses hyphens.




"Ryan Sonnek" <rsonnek@DigitalRiver.com> on 21 May 2004 16:38

Please respond to "Lucene Users List" <lucene-user@jakarta.apache.org>

To:    "Lucene Users List" <lucene-user@jakarta.apache.org>
cc:
bcc:

Subject:    RE: Query parser and minus signs


if you're dealing with locales, why not use java's built in locale syntax
(ex: en_UK, zh_HK)?

> -----Original Message-----
> From: alex.bourne@hsbcam.com [mailto:alex.bourne@hsbcam.com]
> Sent: Friday, May 21, 2004 10:36 AM
> To: lucene-user@jakarta.apache.org
> Subject: Query parser and minus signs
>
>
>
>
>
>
> Hi All,
>
> I'm using Lucene on a site that has split content with a
> branch containing
> pages in English and a separate branch in Chinese.  Some of
> the chinese
> pages include some (untranslatable) English words, so when a search is
> carried out in either language you can get pages from the
> wrong branch. To
> combat this we introduced a language field into the index
> which contains
> the standard language codes: en-UK and zh-HK.
>
> When you parse a query  e.g. language:"en\-UK" you could
> reasonably expect
> the search to recover all pages with the language field set
> to "en-UK" (the
> minus symbol should be escaped by the backslash according to the FAQ).
> Unfortunately the parser seems to return "en UK" as the
> parsed query and
> hence returns no documents.
>
> Has anyone else had this problem, or could suggest a
> workaround ?? as I
> have
> yet to find a solution in the mailing archives or elsewhere.
>
> Many thanks in advance,
>
> Alex Bourne
>
>
>
> _____________________________________________________
>
> This transmission has been issued by a member of the HSBC Group
> ("HSBC") for the information of the addressee only and should not be
> reproduced and / or distributed to any other person. Each page
> attached hereto must be read in conjunction with any disclaimer which
> forms part of it. This transmission is neither an offer nor
> the solicitation
> of an offer to sell or purchase any investment. Its contents
> are based
> on information obtained from sources believed to be reliable but HSBC
> makes no representation and accepts no responsibility or
> liability as to
> its completeness or accuracy.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



******************************************************************
 This message originated from the Internet. Its originator may or
 may not be who they claim to be and the information contained in
 the message and any attachments may or may not be accurate.
******************************************************************








_____________________________________________________

This transmission has been issued by a member of the HSBC Group 
("HSBC") for the information of the addressee only and should not be 
reproduced and / or distributed to any other person. Each page 
attached hereto must be read in conjunction with any disclaimer which 
forms part of it. This transmission is neither an offer nor the solicitation 
of an offer to sell or purchase any investment. Its contents are based 
on information obtained from sources believed to be reliable but HSBC 
makes no representation and accepts no responsibility or liability as to 
its completeness or accuracy.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8398-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 21 15:51:20 2004
Return-Path: <lucene-user-return-8398-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28000 invoked from network); 21 May 2004 15:51:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 May 2004 15:51:20 -0000
Received: (qmail 22330 invoked by uid 500); 21 May 2004 15:51:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22226 invoked by uid 500); 21 May 2004 15:51:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22193 invoked by uid 98); 21 May 2004 15:51:16 -0000
Received: from otis_gospodnetic@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.136.173.239):. 
 Processed in 0.141953 secs); 21 May 2004 15:51:16 -0000
X-Qmail-Scanner-Mail-From: otis_gospodnetic@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.136.173.239):. Processed in 0.141953 secs)
Received: from unknown (HELO web12702.mail.yahoo.com) (216.136.173.239)
  by hermes.apache.org with SMTP; 21 May 2004 15:51:15 -0000
Message-ID: <20040521155058.93423.qmail@web12702.mail.yahoo.com>
Received: from [194.152.209.205] by web12702.mail.yahoo.com via HTTP; Fri, 21 May 2004 08:50:58 PDT
Date: Fri, 21 May 2004 08:50:58 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: StandardTokenizer and e-mail 
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <40AE07C8.3010508@imente.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Si, si.
Write your own TokenFilter sub-class that overrides next() and extracts
those other elements/tokens from an email address token and uses
Token's setPositionIncrement(0) to store the extracted tokens in the
same position as the original email.

Otis

--- Albert Vila <avp@imente.com> wrote:
> Hi all,
> 
> I want to achieve the following, when I indexing the
> 'xyz@company.com', 
> I want to index the 'xyz@company.com' token, then the 'xyz' token,
> the 
> 'company' token and the 'com'token.
> This way, you'll be able to find the document searching for 
> 'xyz@company.com', for 'xyz' only, or for 'company' only.
> 
> How can I achieve that?, I need to write my own tokenizer?
> 
> Thanks
> Albert
> 
> -- 
> Albert Vila
> Director de proyectos I+D
> http://www.imente.com
> 902 933 242
> [iMente La informacin con ms beneficios]
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8399-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 21 15:57:19 2004
Return-Path: <lucene-user-return-8399-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31689 invoked from network); 21 May 2004 15:57:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 May 2004 15:57:17 -0000
Received: (qmail 43884 invoked by uid 500); 21 May 2004 15:57:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43687 invoked by uid 500); 21 May 2004 15:57:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43671 invoked by uid 98); 21 May 2004 15:57:20 -0000
Received: from lu1@bihvhar.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.193.202.192):. 
 Processed in 0.012168 secs); 21 May 2004 15:57:20 -0000
X-Qmail-Scanner-Mail-From: lu1@bihvhar.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.193.202.192):. Processed in 0.012168 secs)
Received: from unknown (HELO nasa.lunarpages.com) (216.193.202.192)
  by hermes.apache.org with SMTP; 21 May 2004 15:57:20 -0000
Received: from pcp09530428pcs.ewndsr01.nj.comcast.net ([69.240.50.229] helo=pmc)
	by nasa.lunarpages.com with asmtp (Exim 4.34)
	id 1BRCR5-00026W-J4
	for lucene-user@jakarta.apache.org; Fri, 21 May 2004 08:59:51 -0700
Message-ID: <011e01c43f4c$42910080$6400a8c0@CORP.AD.FACTIVA.NET>
From: "Peter M Cipollone" <lu1@bihvhar.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <OF49C29593.B273EB69-ON80256E9B.0055A300@hsbcib.com>
Subject: Re: Query parser and minus signs
Date: Fri, 21 May 2004 11:57:01 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - nasa.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - bihvhar.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


----- Original Message ----- 
From: <alex.bourne@hsbcam.com>
To: <lucene-user@jakarta.apache.org>
Sent: Friday, May 21, 2004 11:36 AM
Subject: Query parser and minus signs


>
>
>
>
> Hi All,
>
> I'm using Lucene on a site that has split content with a branch containing
> pages in English and a separate branch in Chinese.  Some of the chinese
> pages include some (untranslatable) English words, so when a search is
> carried out in either language you can get pages from the wrong branch. To
> combat this we introduced a language field into the index which contains
> the standard language codes: en-UK and zh-HK.
>
> When you parse a query  e.g. language:"en\-UK" you could reasonably expect
> the search to recover all pages with the language field set to "en-UK"
(the
> minus symbol should be escaped by the backslash according to the FAQ).
> Unfortunately the parser seems to return "en UK" as the parsed query and
> hence returns no documents.
>
> Has anyone else had this problem, or could suggest a workaround ?? as I
> have
> yet to find a solution in the mailing archives or elsewhere.

Index the standard language code as a

new Field(fieldName, code, false, true, false)

This will bypass the Analyzer at indexing time, since tokenization is set to
false.  Then when you create your queries, add a

new TermQuery(new Term(fieldName, desiredLanguageCode))

to the user query object.  This will bypass the Analyzer at query time and
give you the desired result.

>
> Many thanks in advance,
>
> Alex Bourne
>
>
>
> _____________________________________________________
>
> This transmission has been issued by a member of the HSBC Group
> ("HSBC") for the information of the addressee only and should not be
> reproduced and / or distributed to any other person. Each page
> attached hereto must be read in conjunction with any disclaimer which
> forms part of it. This transmission is neither an offer nor the
solicitation
> of an offer to sell or purchase any investment. Its contents are based
> on information obtained from sources believed to be reliable but HSBC
> makes no representation and accepts no responsibility or liability as to
> its completeness or accuracy.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8400-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 21 15:58:25 2004
Return-Path: <lucene-user-return-8400-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32352 invoked from network); 21 May 2004 15:58:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 May 2004 15:58:25 -0000
Received: (qmail 46302 invoked by uid 500); 21 May 2004 15:57:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46145 invoked by uid 500); 21 May 2004 15:57:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46053 invoked by uid 98); 21 May 2004 15:57:41 -0000
Received: from dave-lucene-user@tropo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(66.139.76.19):. 
 Processed in 0.248502 secs); 21 May 2004 15:57:41 -0000
X-Qmail-Scanner-Mail-From: dave-lucene-user@tropo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(66.139.76.19):. Processed in 0.248502 secs)
Received: from unknown (HELO server1.hostmon.com) (66.139.76.19)
  by hermes.apache.org with SMTP; 21 May 2004 15:57:40 -0000
Received: (qmail 16699 invoked by uid 532); 21 May 2004 15:57:10 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 2.61.  Clear:. 
 Processed in 0.421751 secs); 21 May 2004 15:57:10 -0000
Received: from unknown (HELO tropo.com) (127.0.0.1)
  by 0 with SMTP; 21 May 2004 15:57:09 -0000
Message-ID: <40AE26E3.4080800@tropo.com>
Date: Fri, 21 May 2004 08:57:23 -0700
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7b) Gecko/20040316
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: now maybe Mozlla/IMAP URLs - Re: StandardTokenizer and e-mail
References: <40AE07C8.3010508@imente.com>
In-Reply-To: <40AE07C8.3010508@imente.com>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This reminds me - if you have a search engine that indexes a mail store 
and you present results in a web page to a browser, you want to (of 
course...well I think this is obvious)  send back a URL that would cause 
the users native mail client to pull up the msg.
IMAP has a URL format, and I use Mozilla on windows to browse & read 
mail, however when I've presented IMAP URLs on a results page the IMAP 
URL doesn't work - either nothing happens or the cursor changes to busy 
but still no mail comes up. Has anyone come across this? This may be 
more appropriate for a moz list but it's definitely a search issue.

This page mentions the problem:

http://www.mozilla.org/projects/security/known-vulnerabilities.html

A writeup on an IMAP indexer I did a while ago:

http://www.tropo.com/techno/java/lucene/imap.html



Albert Vila wrote:

> Hi all,
>
> I want to achieve the following, when I indexing the 
> 'xyz@company.com', I want to index the 'xyz@company.com' token, then 
> the 'xyz' token, the 'company' token and the 'com'token.
> This way, you'll be able to find the document searching for 
> 'xyz@company.com', for 'xyz' only, or for 'company' only.
>
> How can I achieve that?, I need to write my own tokenizer?
>
> Thanks
> Albert
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8401-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 21 16:03:03 2004
Return-Path: <lucene-user-return-8401-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35586 invoked from network); 21 May 2004 16:03:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 May 2004 16:03:03 -0000
Received: (qmail 72381 invoked by uid 500); 21 May 2004 16:03:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72265 invoked by uid 500); 21 May 2004 16:03:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71978 invoked by uid 98); 21 May 2004 16:02:58 -0000
Received: from david.townsend@magus.co.uk by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(193.131.98.10):. 
 Processed in 0.119418 secs); 21 May 2004 16:02:58 -0000
X-Qmail-Scanner-Mail-From: david.townsend@magus.co.uk via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(193.131.98.10):. Processed in 0.119418 secs)
Received: from unknown (HELO dougal.magus.co.uk) (193.131.98.10)
  by hermes.apache.org with SMTP; 21 May 2004 16:02:58 -0000
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Memo:  RE: Query parser and minus signs
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Date: Fri, 21 May 2004 17:02:40 +0100
Message-ID: <DA62FF8236FA314981B6FC0BDACD01E61DAD32@dougal.magus.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Memo:  RE: Query parser and minus signs
Thread-Index: AcQ/S1Jt3wzixtiYSW2Rla3xqtrZbAAABU8g
From: "David Townsend" <david.townsend@magus.co.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doesn't "en UK" as a phrase query work?

You're probably indexing it as a text field so it's being tokenised.

-----Original Message-----
From: alex.bourne@hsbcam.com [mailto:alex.bourne@hsbcam.com]
Sent: 21 May 2004 16:47
To: Lucene Users List
Subject: Memo: RE: Query parser and minus signs






Hmm, we may have to if there is no work around. We're not using java
locales, but were trying to stick to the ISO standard which uses =
hyphens.




"Ryan Sonnek" <rsonnek@DigitalRiver.com> on 21 May 2004 16:38

Please respond to "Lucene Users List" <lucene-user@jakarta.apache.org>

To:    "Lucene Users List" <lucene-user@jakarta.apache.org>
cc:
bcc:

Subject:    RE: Query parser and minus signs


if you're dealing with locales, why not use java's built in locale =
syntax
(ex: en_UK, zh_HK)?

> -----Original Message-----
> From: alex.bourne@hsbcam.com [mailto:alex.bourne@hsbcam.com]
> Sent: Friday, May 21, 2004 10:36 AM
> To: lucene-user@jakarta.apache.org
> Subject: Query parser and minus signs
>
>
>
>
>
>
> Hi All,
>
> I'm using Lucene on a site that has split content with a
> branch containing
> pages in English and a separate branch in Chinese.  Some of
> the chinese
> pages include some (untranslatable) English words, so when a search is
> carried out in either language you can get pages from the
> wrong branch. To
> combat this we introduced a language field into the index
> which contains
> the standard language codes: en-UK and zh-HK.
>
> When you parse a query  e.g. language:"en\-UK" you could
> reasonably expect
> the search to recover all pages with the language field set
> to "en-UK" (the
> minus symbol should be escaped by the backslash according to the FAQ).
> Unfortunately the parser seems to return "en UK" as the
> parsed query and
> hence returns no documents.
>
> Has anyone else had this problem, or could suggest a
> workaround ?? as I
> have
> yet to find a solution in the mailing archives or elsewhere.
>
> Many thanks in advance,
>
> Alex Bourne
>
>
>
> _____________________________________________________
>
> This transmission has been issued by a member of the HSBC Group
> ("HSBC") for the information of the addressee only and should not be
> reproduced and / or distributed to any other person. Each page
> attached hereto must be read in conjunction with any disclaimer which
> forms part of it. This transmission is neither an offer nor
> the solicitation
> of an offer to sell or purchase any investment. Its contents
> are based
> on information obtained from sources believed to be reliable but HSBC
> makes no representation and accepts no responsibility or
> liability as to
> its completeness or accuracy.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



******************************************************************
 This message originated from the Internet. Its originator may or
 may not be who they claim to be and the information contained in
 the message and any attachments may or may not be accurate.
******************************************************************








_____________________________________________________

This transmission has been issued by a member of the HSBC Group=20
("HSBC") for the information of the addressee only and should not be=20
reproduced and / or distributed to any other person. Each page=20
attached hereto must be read in conjunction with any disclaimer which=20
forms part of it. This transmission is neither an offer nor the =
solicitation=20
of an offer to sell or purchase any investment. Its contents are based=20
on information obtained from sources believed to be reliable but HSBC=20
makes no representation and accepts no responsibility or liability as to =

its completeness or accuracy.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8402-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 21 16:10:21 2004
Return-Path: <lucene-user-return-8402-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40487 invoked from network); 21 May 2004 16:10:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 May 2004 16:10:20 -0000
Received: (qmail 98997 invoked by uid 500); 21 May 2004 16:09:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98882 invoked by uid 500); 21 May 2004 16:09:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98742 invoked by uid 98); 21 May 2004 16:09:55 -0000
Received: from dave-lucene-user@tropo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(66.139.76.19):. 
 Processed in 0.182527 secs); 21 May 2004 16:09:55 -0000
X-Qmail-Scanner-Mail-From: dave-lucene-user@tropo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(66.139.76.19):. Processed in 0.182527 secs)
Received: from unknown (HELO server1.hostmon.com) (66.139.76.19)
  by hermes.apache.org with SMTP; 21 May 2004 16:09:55 -0000
Received: (qmail 17597 invoked by uid 532); 21 May 2004 16:09:24 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 2.61.  Clear:. 
 Processed in 0.137066 secs); 21 May 2004 16:09:24 -0000
Received: from unknown (HELO tropo.com) (127.0.0.1)
  by 0 with SMTP; 21 May 2004 16:09:24 -0000
Message-ID: <40AE29C1.8080501@tropo.com>
Date: Fri, 21 May 2004 09:09:37 -0700
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7b) Gecko/20040316
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  lucene-user@jakarta.apache.org
Subject: asktog on search problems
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Haven't seen this discussed here.
See 7a at the link below:

http://www.asktog.com/columns/062top10ReasonsToNotShop.html

7a talks about searching on a camera site for the "Lowepro 100 AW".

He says this query works:        "Lowepro 100 AW"
and this query does not work: "Lowepro 100AW"

Cross checking with google indeed shows that the 1st form is much more 
popular, however the 2nd form is used, and if you're a commerce site or 
a site that wants to make it easier for users to find things you should 
help them out.

So the discussion question is what's the best way to handle this.

I guess the somewhat general form of this is that in a query, and term 
might be split into 2 terms that are individually indexed (so "100AW" is 
not indexed, but "100" and "AW" is).
In a way the flip side of this is that any 2 terms could be concatenated 
to form another term that was indexed (so in another universe it might 
be that passing "100 AW" is not as precise as passing "100AW" but how's 
the user to know).

In the context of Lucene ways to handle this seem to be:
- automagically run a fuzzy query (so if a query doesn't work, transform 
"Lowepro 100AW" to "Lowepro~ 100AW~"
- write a query parser that breaks apart unindexed tokens into ones that 
are indexed (so "100AW" becomes "100 AW")
- write a tokenizer that inserts dummy tokens for every pair of tokens, 
so the stream "Lowepro 100 AW" would also have "Lowepro100" and "100AW" 
inserted, presumably via magic w/ TokenStream.next()

Comments on best way to handle this?







---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8403-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 21 16:24:36 2004
Return-Path: <lucene-user-return-8403-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53400 invoked from network); 21 May 2004 16:24:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 May 2004 16:24:35 -0000
Received: (qmail 52798 invoked by uid 500); 21 May 2004 16:24:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51939 invoked by uid 500); 21 May 2004 16:23:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49342 invoked by uid 98); 21 May 2004 16:23:14 -0000
Received: from claude@library.ucsf.edu by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(128.218.33.11):. 
 Processed in 0.078893 secs); 21 May 2004 16:23:14 -0000
X-Qmail-Scanner-Mail-From: claude@library.ucsf.edu via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(128.218.33.11):. Processed in 0.078893 secs)
Received: from unknown (HELO gossamer.ckm.ucsf.edu) (128.218.33.11)
  by hermes.apache.org with SMTP; 21 May 2004 16:23:14 -0000
Received: from [128.218.15.87] (beani.library.ucsf.edu [128.218.15.87])
	by gossamer.ckm.ucsf.edu (8.11.6-20030924/8.11.6) with ESMTP id i4LGMv424337
	for <lucene-user@jakarta.apache.org>; Fri, 21 May 2004 09:22:57 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <LOEGLEEGOAKBOLAJCCKIAEEHCAAA.karthik@controlnet.co.in>
References: <LOEGLEEGOAKBOLAJCCKIAEEHCAAA.karthik@controlnet.co.in>
Content-Type: multipart/mixed; boundary=Apple-Mail-1--524809903
Message-Id: <1BC487C6-AB43-11D8-AF71-003065E21F90@library.ucsf.edu>
From: Claude Devarenne <claude@library.ucsf.edu>
Subject: Re: org.apache.lucene.search.highlight.Highlighter
Date: Fri, 21 May 2004 09:22:52 -0700
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Filter-Version: 1.14 (gossamer)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--Apple-Mail-1--524809903
Content-Type: multipart/alternative;
	boundary=Apple-Mail-2--524809903


--Apple-Mail-2--524809903
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed

Hi,

Here is the documentation Mark Harwood included in the original 
package.  I followed his directorions and it worked for me.  Let me 
know if this doesn't do it for you.

Claude


--Apple-Mail-2--524809903
Content-Transfer-Encoding: 7bit
Content-Type: text/enriched;
	charset=US-ASCII

Hi,


Here is the documentation <fixed>Mark Harwood included in the original
package.  I followed his directorions and it worked for me.  Let me
know if this doesn't do it for you.


Claude


</fixed>
--Apple-Mail-2--524809903--

--Apple-Mail-1--524809903
Content-Type: multipart/alternative;
	boundary=Apple-Mail-3--524809901


--Apple-Mail-3--524809901
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=ISO-8859-1;
	format=flowed



On May 21, 2004, at 4:29 AM, Karthik N S wrote:

>
>
>
> Hi
>
>  Please can some body give me a simple Example of
>
>  org.apache.lucene.search.highlight.Highlighter
>
>  I am trying to use it but unsucessfull
>
> =A0
>
> Karthik
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
> <image.tiff>
> WITH WARM REGARDS
> HAVE A NICE DAY
> [ N.S.KARTHIK]
>

--Apple-Mail-3--524809901
Content-Transfer-Encoding: quoted-printable
Content-Type: text/enriched;
	charset=ISO-8859-1




On May 21, 2004, at 4:29 AM, Karthik N S wrote:


<excerpt>



=
<bold><fontfamily><param>Verdana</param><color><param>0000,0000,8080</para=
m><smaller>Hi</smaller></color></fontfamily></bold>


=
<bold><fontfamily><param>Verdana</param><color><param>0000,0000,8080</para=
m><smaller>
Please can some body give me a simple Example =
of</smaller></color></fontfamily></bold>


=
<bold><fontfamily><param>Verdana</param><color><param>0000,0000,8080</para=
m><smaller>
=
org.apache.lucene.search.highlight.Highlighter</smaller></color></fontfami=
ly></bold>


=
<bold><fontfamily><param>Verdana</param><color><param>0000,0000,8080</para=
m><smaller>
I am trying to use it but =
unsucessfull</smaller></color></fontfamily></bold>


=
<bold><fontfamily><param>Verdana</param><color><param>0000,0000,8080</para=
m><smaller>=A0</smaller></color></fontfamily></bold>


=
<bold><fontfamily><param>Verdana</param><color><param>0000,0000,8080</para=
m><smaller>Karthik</smaller></color></fontfamily></bold>























<<image.tiff>

=
<bold><fontfamily><param>Verdana</param><color><param>9393,9F9F,F7F7</para=
m>WITH
WARM REGARDS </color></fontfamily></bold>

=
<bold><fontfamily><param>Verdana</param><color><param>9393,9F9F,F7F7</para=
m>HAVE
A NICE DAY </color></fontfamily></bold>

=
<bold><fontfamily><param>Verdana</param><color><param>9393,9F9F,F7F7</para=
m>[
=
N.S.KARTHIK]</color></fontfamily></bold><fontfamily><param>Verdana</param>=
<color><param>9393,9F9F,F7F7</param> </color></fontfamily>


</excerpt>=

--Apple-Mail-3--524809901--


--Apple-Mail-1--524809903
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
--Apple-Mail-1--524809903--


From lucene-user-return-8404-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 21 16:26:25 2004
Return-Path: <lucene-user-return-8404-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55243 invoked from network); 21 May 2004 16:26:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 May 2004 16:26:25 -0000
Received: (qmail 63589 invoked by uid 500); 21 May 2004 16:26:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63552 invoked by uid 500); 21 May 2004 16:26:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63536 invoked by uid 98); 21 May 2004 16:26:30 -0000
Received: from claude@library.ucsf.edu by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(128.218.33.11):. 
 Processed in 0.0466529999999999 secs); 21 May 2004 16:26:30 -0000
X-Qmail-Scanner-Mail-From: claude@library.ucsf.edu via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(128.218.33.11):. Processed in 0.0466529999999999 secs)
Received: from unknown (HELO gossamer.ckm.ucsf.edu) (128.218.33.11)
  by hermes.apache.org with SMTP; 21 May 2004 16:26:29 -0000
Received: from [128.218.15.87] (beani.library.ucsf.edu [128.218.15.87])
	by gossamer.ckm.ucsf.edu (8.11.6-20030924/8.11.6) with ESMTP id i4LGQC424614
	for <lucene-user@jakarta.apache.org>; Fri, 21 May 2004 09:26:12 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <1BC487C6-AB43-11D8-AF71-003065E21F90@library.ucsf.edu>
References: <LOEGLEEGOAKBOLAJCCKIAEEHCAAA.karthik@controlnet.co.in> <1BC487C6-AB43-11D8-AF71-003065E21F90@library.ucsf.edu>
Content-Type: multipart/alternative; boundary=Apple-Mail-4--524614693
Message-Id: <901F4E3A-AB43-11D8-AF71-003065E21F90@library.ucsf.edu>
From: Claude Devarenne <claude@library.ucsf.edu>
Subject: Re: org.apache.lucene.search.highlight.Highlighter
Date: Fri, 21 May 2004 09:26:07 -0700
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Filter-Version: 1.14 (gossamer)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--Apple-Mail-4--524614693
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=ISO-8859-1;
	delsp=yes;
	format=flowed

Arrgh the attachment didn't make it here it goes, sorry:


         //perform a standard lucene query
         searcher =3D new IndexSearcher(ramDir);
         Analyzer analyzer=3Dnew StandardAnalyzer();
         Query query =3D QueryParser.parse("Kenne*", FIELD_NAME, =
analyzer);
         query=3Dquery.rewrite(reader); //necessary to expand search =
terms
         Hits hits =3D searcher.search(query);

         //create an instance of the highlighter with the tags used to =20=

surround highlighted text
         QueryHighlightExtractor highlighter =3D
                         new QueryHighlightExtractor(query, new =20
StandardAnalyzer(), "<b>", "</b>");


         for (int i =3D 0; i < hits.length(); i++)
         {
                 String text =3D hits.doc(i).get(FIELD_NAME);
                 //call to highlight text with chosen tags
                 String highlightedText =3D =20
highlighter.highlightText(text);
                 System.out.println(highlightedText);
         }


If your documents are large you can select only the best fragments from =20=

each document like this:
         //...as above example


         int highlightFragmentSizeInBytes =3D 80;
         int maxNumFragmentsRequired =3D 4;
         String fragmentSeparator=3D"...";
         for (int i =3D 0; i < hits.length(); i++)
         {
                 String text =3D hits.doc(i).get(FIELD_NAME);
                 String highlightedText =3D =20
highlighter.getBestFragments(text,
                                         =20
highlightFragmentSizeInBytes,maxNumFragmentsRequired,fragmentSeparator);
                 System.out.println(highlightedText);
         }

On May 21, 2004, at 9:22 AM, Claude Devarenne wrote:

> Hi,
>
> Here is the documentation Mark Harwood included in the original =20
> package.  I followed his directorions and it worked for me.  Let me =20=

> know if this doesn't do it for you.
>
> Claude
>
>
>
> On May 21, 2004, at 4:29 AM, Karthik N S wrote:
>
>>
>>
>>
>> Hi
>>
>>  Please can some body give me a simple Example of
>>
>>  org.apache.lucene.search.highlight.Highlighter
>>
>>  I am trying to use it but unsucessfull
>>
>> =A0
>>
>> Karthik
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>> <image.tiff>
>> WITH WARM REGARDS
>> HAVE A NICE DAY
>> [ N.S.KARTHIK]
>>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org=

--Apple-Mail-4--524614693--


From lucene-user-return-8405-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 21 19:04:02 2004
Return-Path: <lucene-user-return-8405-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99136 invoked from network); 21 May 2004 19:04:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 May 2004 19:04:01 -0000
Received: (qmail 43177 invoked by uid 500); 21 May 2004 19:04:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43122 invoked by uid 500); 21 May 2004 19:04:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43054 invoked by uid 98); 21 May 2004 19:04:10 -0000
Received: from markharw00d@yahoo.co.uk by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(194.106.33.237):. 
 Processed in 0.220716 secs); 21 May 2004 19:04:10 -0000
X-Qmail-Scanner-Mail-From: markharw00d@yahoo.co.uk via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(194.106.33.237):. Processed in 0.220716 secs)
Received: from unknown (HELO outmail.freedom2surf.net) (194.106.33.237)
  by hermes.apache.org with SMTP; 21 May 2004 19:04:09 -0000
Received: from dell (i-194-106-34-5.freedom2surf.net [194.106.34.5])
	by outmail.freedom2surf.net (8.12.10/8.12.10) with SMTP id i4LJ3iU9013158
	for <lucene-user@jakarta.apache.org>; Fri, 21 May 2004 20:03:44 +0100
Date: Fri, 21 May 2004 20:03:44 +0100
Message-Id: <200405211903.i4LJ3iU9013158@outmail.freedom2surf.net>
From: markharw00d@yahoo.co.uk
To: lucene-user@jakarta.apache.org
Subject: Re: org.apache.lucene.search.highlight.Highlighter
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Claude, that example code you provided is out of date.

For all concerned - the highlighter code was refactored about a month ago and then moved into the Sandbox.

Want the latest version? - get the latest code from the sandbox CVS.
Want the latest docs? - Run javadoc on the above.

There is a basic example of highlighter use in the package-level javadocs and more extensive examples 
in the JUnit test that accompanies the source code.

Hope this helps clarify things.

Mark

ps Bruce, I know you were interested in providing an alternative Fragmenter implementation 
for the highlighter that detects sentence boundaries.
You may want to look at LingPipe which has "a heuristic sentence boundary detector".
( http://threattracker.com:8080/lingpipe-demo/demo.html )
I took a quick look at it but it has its own tokenizer that would be difficult to make work with 
the tokenstream used to identify query terms. At least the code gives some examples of the
heuristics involved in detecting sentence boundaries. For my own apps I find the standard Fragmenter
implementation suffices.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8406-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 21 19:05:00 2004
Return-Path: <lucene-user-return-8406-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 788 invoked from network); 21 May 2004 19:04:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 May 2004 19:04:59 -0000
Received: (qmail 46368 invoked by uid 500); 21 May 2004 19:05:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46334 invoked by uid 500); 21 May 2004 19:05:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46312 invoked by uid 98); 21 May 2004 19:05:12 -0000
Received: from jeffwong@savagebeast.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(64.204.123.110):. 
 Processed in 0.06725 secs); 21 May 2004 19:05:12 -0000
X-Qmail-Scanner-Mail-From: jeffwong@savagebeast.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(64.204.123.110):. Processed in 0.06725 secs)
Received: from unknown (HELO mail.savagebeast.com) (64.204.123.110)
  by hermes.apache.org with SMTP; 21 May 2004 19:05:11 -0000
Received: from localhost (jeffwong@localhost)
	by mail.savagebeast.com (8.9.3p2/8.9.3) with ESMTP id MAA05668;
	Fri, 21 May 2004 12:04:08 -0700
Date: Fri, 21 May 2004 12:04:08 -0700 (PDT)
From: Jeff Wong <jeffwong@savagebeast.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
cc: Jeff Wong <jeffwong@savagebeast.com>
Subject: Re: asktog on search problems
In-Reply-To: <40AE29C1.8080501@tropo.com>
Message-ID: <Pine.LNX.4.10.10405211134370.9876-100000@manilow.SavageBeast.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I don't think the first solution will work because the "100AW~" term must
match either 100 or AW which are your index terms.

Coincidentally,  I have been trying to deal with this very problem over
the past few days.  

In my situation,  I'm trying to help users find thing when the spacing of
their queries doesn't match the spacing in an indexed term.  Possible
errors can be divided into 2 classes.

1) User leaves out  a space where there ought to be one.  Let's say the
user is trying to find "blue bird" but types in the query "bluebird"
thinking it is a single word.  Lucene won't catch this because "blue" and
"bird" are stored as single index tokens.

2) User errantly inserts a space where there shouldn't be one.  An example
would be an index where the word "blackbird" is stored but the user types
in "black bird" as a query.

What I tried to do was create an alternate tokenizer which stored the
entire string in the index in a different field and perform fuzzy search
on the entire string.  This is possible because I am only doing searches
on strings of less than 40 characters on average.  To take the "black
bird" example, I would store the entire string into a field which doesn't
tokenize on word boundaries.  The query, in turn, would look something
like this:

+title:black +title:bird OR fulltitle:black bird~

Where the tilde applies to the entire "black bird" term.  When I tested it
it appeared to work, but was really slow for large indexes.  At about
40000 entries, this query started to take 1 or 2 seconds which was worse
than my performance requirement.

Actually, I also thought of the last 2 things you suggested and I was
about to try them out.  However, you do need to apply both of them.
Adding additional concatenated index terms addresses the problem where
users leave out spaces.  Add concatenated terms helps users match terms
in your index when they inject spaces incorrectly.

This may balloon the memory consumption of your Lucene index.  However,
you can use heuristics to avoid inserting extra terms which won't match
likely errors.  For example, you could decide that you only want to
concatenate terms that are parts of model numbers.  Or, if you are dealing
with compound words, you can choose to only concatenate terms which are
English words.  For example,  in my situation, concatenating "blue bird"
as an extra term is useful while doing the same with  "Roy Orbison" is
not since people aren't likely to neglect the space in that situation.

Hope this helps.

Jeff


On Fri, 21 May 2004, David Spencer wrote:

> In the context of Lucene ways to handle this seem to be:
> - automagically run a fuzzy query (so if a query doesn't work, transform 
> "Lowepro 100AW" to "Lowepro~ 100AW~"> 
> - write a query parser that breaks apart unindexed tokens into ones that 
> are indexed (so "100AW" becomes "100 AW")
> - write a tokenizer that inserts dummy tokens for every pair of tokens, 
> so the stream "Lowepro 100 AW" would also have "Lowepro100" and "100AW" 
> inserted, presumably via magic w/ TokenStream.next()


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8407-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 21 23:43:31 2004
Return-Path: <lucene-user-return-8407-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9997 invoked from network); 21 May 2004 23:43:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 May 2004 23:43:31 -0000
Received: (qmail 21696 invoked by uid 500); 21 May 2004 23:43:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21667 invoked by uid 500); 21 May 2004 23:43:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21611 invoked by uid 98); 21 May 2004 23:43:47 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(24.51.109.181):. 
 Processed in 0.021483 secs); 21 May 2004 23:43:47 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(24.51.109.181):. Processed in 0.021483 secs)
Received: from unknown (HELO postfix.mail.ehatchersolutions.com) (24.51.109.181)
  by hermes.apache.org with SMTP; 21 May 2004 23:43:46 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id AD2C7719A19
	for <lucene-user@jakarta.apache.org>; Fri, 21 May 2004 19:43:29 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <20040521155058.93423.qmail@web12702.mail.yahoo.com>
References: <20040521155058.93423.qmail@web12702.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <A8D8DA72-AB80-11D8-977E-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: StandardTokenizer and e-mail 
Date: Fri, 21 May 2004 19:43:28 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Further on this...

If you are using StandardTokenizer, the token for an e-mail address has=20=

the type value of "<EMAIL>", which you could use to pick up=20
specifically in a custom TokenFilter implementation and split it how=20
you like, passing through everything else.  Take a look at=20
StandardFilter's source code for an example of keying off the types=20
emitted by StandardTokenizer.

	Erik


On May 21, 2004, at 11:50 AM, Otis Gospodnetic wrote:

> Si, si.
> Write your own TokenFilter sub-class that overrides next() and =
extracts
> those other elements/tokens from an email address token and uses
> Token's setPositionIncrement(0) to store the extracted tokens in the
> same position as the original email.
>
> Otis
>
> --- Albert Vila <avp@imente.com> wrote:
>> Hi all,
>>
>> I want to achieve the following, when I indexing the
>> 'xyz@company.com',
>> I want to index the 'xyz@company.com' token, then the 'xyz' token,
>> the
>> 'company' token and the 'com'token.
>> This way, you'll be able to find the document searching for
>> 'xyz@company.com', for 'xyz' only, or for 'company' only.
>>
>> How can I achieve that?, I need to write my own tokenizer?
>>
>> Thanks
>> Albert
>>
>> --=20
>> Albert Vila
>> Director de proyectos I+D
>> http://www.imente.com
>> 902 933 242
>> [iMente =93La informaci=F3n con m=E1s beneficios=94]
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8408-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 21 23:49:27 2004
Return-Path: <lucene-user-return-8408-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12748 invoked from network); 21 May 2004 23:49:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 May 2004 23:49:27 -0000
Received: (qmail 34663 invoked by uid 500); 21 May 2004 23:49:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34530 invoked by uid 500); 21 May 2004 23:49:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34491 invoked by uid 98); 21 May 2004 23:49:41 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(24.51.109.181):. 
 Processed in 0.011773 secs); 21 May 2004 23:49:41 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(24.51.109.181):. Processed in 0.011773 secs)
Received: from unknown (HELO postfix.mail.ehatchersolutions.com) (24.51.109.181)
  by hermes.apache.org with SMTP; 21 May 2004 23:49:41 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 937B0719A5C
	for <lucene-user@jakarta.apache.org>; Fri, 21 May 2004 19:49:24 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <40AE29C1.8080501@tropo.com>
References: <40AE29C1.8080501@tropo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <7C8C1BF2-AB81-11D8-977E-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: asktog on search problems
Date: Fri, 21 May 2004 19:49:23 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This is not specific advice, but an idea that I think Google leverages 
to build up search corrections.  If a user searches for "100AW" and it 
doesn't match, but a moment later they try something different and 
immediately get to a product page, the system can make a loose 
connection between their original search and the product they soon 
thereafter found.  Over time, the connections get stronger because 
others will do the same thing.

I think term vectors could factor into making latent connections 
somehow also.

Just postulating...

	Erik



On May 21, 2004, at 12:09 PM, David Spencer wrote:

> Haven't seen this discussed here.
> See 7a at the link below:
>
> http://www.asktog.com/columns/062top10ReasonsToNotShop.html
>
> 7a talks about searching on a camera site for the "Lowepro 100 AW".
>
> He says this query works:        "Lowepro 100 AW"
> and this query does not work: "Lowepro 100AW"
>
> Cross checking with google indeed shows that the 1st form is much more 
> popular, however the 2nd form is used, and if you're a commerce site 
> or a site that wants to make it easier for users to find things you 
> should help them out.
>
> So the discussion question is what's the best way to handle this.
>
> I guess the somewhat general form of this is that in a query, and term 
> might be split into 2 terms that are individually indexed (so "100AW" 
> is not indexed, but "100" and "AW" is).
> In a way the flip side of this is that any 2 terms could be 
> concatenated to form another term that was indexed (so in another 
> universe it might be that passing "100 AW" is not as precise as 
> passing "100AW" but how's the user to know).
>
> In the context of Lucene ways to handle this seem to be:
> - automagically run a fuzzy query (so if a query doesn't work, 
> transform "Lowepro 100AW" to "Lowepro~ 100AW~"
> - write a query parser that breaks apart unindexed tokens into ones 
> that are indexed (so "100AW" becomes "100 AW")
> - write a tokenizer that inserts dummy tokens for every pair of 
> tokens, so the stream "Lowepro 100 AW" would also have "Lowepro100" 
> and "100AW" inserted, presumably via magic w/ TokenStream.next()
>
> Comments on best way to handle this?
>
>
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8409-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 21 23:49:34 2004
Return-Path: <lucene-user-return-8409-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12832 invoked from network); 21 May 2004 23:49:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 May 2004 23:49:34 -0000
Received: (qmail 35069 invoked by uid 500); 21 May 2004 23:49:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34946 invoked by uid 500); 21 May 2004 23:49:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34812 invoked by uid 98); 21 May 2004 23:49:44 -0000
Received: from SteveR@opin.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(204.73.34.14):. 
 Processed in 0.206955 secs); 21 May 2004 23:49:44 -0000
X-Qmail-Scanner-Mail-From: SteveR@opin.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(204.73.34.14):. Processed in 0.206955 secs)
Received: from unknown (HELO drizzle.mm.com) (204.73.34.14)
  by hermes.apache.org with SMTP; 21 May 2004 23:49:43 -0000
Received: from MUSCOVITE.OPIN.COM (diamond.opin.com [206.147.124.36])
	by drizzle.mm.com (Postfix) with ESMTP id 422FE5E05A
	for <lucene-user@jakarta.apache.org>; Fri, 21 May 2004 18:49:15 -0500 (CDT)
Received: by MUSCOVITE.OPIN.COM with Internet Mail Service (5.5.2657.72)
	id <K25PYBG0>; Fri, 21 May 2004 18:50:02 -0500
Message-ID: <E3B75407BA46FA4A87DF2F63ED9241CA05900E@MUSCOVITE.OPIN.COM>
From: Steve Rajavuori <SteveR@opin.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Rebuild after corruption
Date: Fri, 21 May 2004 18:49:19 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C43F8E.3BAFCF20"
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C43F8E.3BAFCF20
Content-Type: text/plain;
	charset="iso-8859-1"

I have a problem periodically where the process updating my Lucene files
terminates abnormally. When I try to open the Lucene files afterward I get
an exception indicating that files are missing. Does anyone know how I can
recover at this point, without having to rebuild the whole index from
scratch?

------_=_NextPart_001_01C43F8E.3BAFCF20--

From lucene-user-return-8410-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat May 22 05:34:48 2004
Return-Path: <lucene-user-return-8410-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97836 invoked from network); 22 May 2004 05:34:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 May 2004 05:34:47 -0000
Received: (qmail 28978 invoked by uid 500); 22 May 2004 05:35:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28926 invoked by uid 500); 22 May 2004 05:35:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28904 invoked by uid 98); 22 May 2004 05:35:04 -0000
Received: from wallen@Cyveillance.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(63.100.163.104):. 
 Processed in 0.035857 secs); 22 May 2004 05:35:04 -0000
X-Qmail-Scanner-Mail-From: wallen@Cyveillance.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(63.100.163.104):. Processed in 0.035857 secs)
Received: from unknown (HELO mercury.corp.cyveillance.com) (63.100.163.104)
  by hermes.apache.org with SMTP; 22 May 2004 05:35:04 -0000
Received: by mercury.corp.cyveillance.com with Internet Mail Service (5.5.2655.55)
	id <KMGDF7L2>; Sat, 22 May 2004 01:34:16 -0400
Message-ID: <E65AE9703B683F4C81B5B39C692EB26D1B01A0@mercury.corp.cyveillance.com>
From: wallen@Cyveillance.com
To: lucene-user@jakarta.apache.org
Subject: RE: Rebuild after corruption
Date: Sat, 22 May 2004 01:34:16 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Make sure you close your indexwriter.

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexWrite
r.html#close()

-----Original Message-----
From: Steve Rajavuori [mailto:SteveR@opin.com]
Sent: Friday, May 21, 2004 7:49 PM
To: 'lucene-user@jakarta.apache.org'
Subject: Rebuild after corruption


I have a problem periodically where the process updating my Lucene files
terminates abnormally. When I try to open the Lucene files afterward I get
an exception indicating that files are missing. Does anyone know how I can
recover at this point, without having to rebuild the whole index from
scratch?

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8411-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat May 22 19:22:55 2004
Return-Path: <lucene-user-return-8411-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81843 invoked from network); 22 May 2004 19:22:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 May 2004 19:22:55 -0000
Received: (qmail 4003 invoked by uid 500); 22 May 2004 19:22:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3938 invoked by uid 500); 22 May 2004 19:22:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3918 invoked by uid 98); 22 May 2004 19:22:50 -0000
Received: from markharw00d@yahoo.co.uk by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(194.106.33.237):. 
 Processed in 0.24982 secs); 22 May 2004 19:22:50 -0000
X-Qmail-Scanner-Mail-From: markharw00d@yahoo.co.uk via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(194.106.33.237):. Processed in 0.24982 secs)
Received: from unknown (HELO outmail.freedom2surf.net) (194.106.33.237)
  by hermes.apache.org with SMTP; 22 May 2004 19:22:50 -0000
Received: from Z-ISV03M0372 (i-194-106-34-5.freedom2surf.net [194.106.34.5])
	by outmail.freedom2surf.net (8.12.10/8.12.10) with SMTP id i4MJMfU9017218
	for <lucene-user@jakarta.apache.org>; Sat, 22 May 2004 20:22:42 +0100
Date: Sat, 22 May 2004 20:22:41 +0100
Message-Id: <200405221922.i4MJMfU9017218@outmail.freedom2surf.net>
From: markharw00d@yahoo.co.uk
To: lucene-user@jakarta.apache.org
Subject: Re: Possible to fetch a document without all fields for performance?
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've put together some code to do this based on this API:

    Document document(int docNum, String [] fieldNames);

You can now be selective about which fields you want to read off disk.
It does offer some speed-ups but it is not as fast as it could be due to a limitation in the index 
file format.
Basically the field values are held in sequence on the disk and you ideally want to "seek" past the 
ones you are not interested in - unfortunately the lengths held on file are for the UTF-8 decoded value, 
not the length they occupy on disk so you need to decode the bytes to determine the true length and therefore 
next field position on disk.

Having said that my implementation will avoid reading large fields entirely IF they are positioned 
after the other fields you are interested in retrieving.  This implementation would also avoid 
allocating large chunks of memory to hold unnecessary field values - another plus.


The code below is the core functionlity you need to add  to FieldsReader.java - you would need to 
add delegating calls in the SegmentReader IndexReader classes etc to expose this functionality.

Cheers
Mark 
========code follows ===========
  final Document doc(int n, String []fieldNames) throws IOException {
  HashSet requiredFields=new HashSet(fieldNames.length);
  int numRequiredFields=fieldNames.length;
  for (int i = 0; i < fieldNames.length; i++)
{
requiredFields.add(fieldNames[i]);
}
indexStream.seek(n * 8L);
long position = indexStream.readLong();
fieldsStream.seek(position);

Document doc = new Document();
int numFields = fieldsStream.readVInt();
for (int i = 0; i < numFields; i++) {
  int fieldNumber = fieldsStream.readVInt();
  FieldInfo fi = fieldInfos.fieldInfo(fieldNumber);
  byte bits = fieldsStream.readByte();



  if(requiredFields.contains(fi.name))
  {
  //add field contents to doc
doc.add(new Field(fi.name,  // name
  fieldsStream.readString(), // read value
  true,  // stored
  fi.isIndexed,  // indexed
  (bits & 1) != 0, fi.storeTermVector)); // vector

if(--numRequiredFields ==0)
{
//found all the field values we need, - lets go
break;
}
  }
  else
  {
  //Not a required field - skip this field's contents to next field
  long length=fieldsStream.readVInt();
  
//long nextPosition=fieldsStream.getFilePointer()+length;
//fieldsStream.seek(nextPosition);

  //ideally we could just seek to next field based on code above BUT length on disk 
  //can be longer than "length" field because of UTF-8 encoding - you currently have 
  //to read each byte and examine content to determine the next position :
     
for(long j=0;j<length;j++)
{
byte b = fieldsStream.readByte();
if ((b & 0x80) == 0)
continue;
else if ((b & 0xE0) != 0xE0) 
{
   fieldsStream.readByte();
} 
else
{
fieldsStream.readByte();
fieldsStream.readByte();
}
}
  
  }
}

return doc;
  }


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8412-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun May 23 13:31:05 2004
Return-Path: <lucene-user-return-8412-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67796 invoked from network); 23 May 2004 13:31:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 May 2004 13:31:05 -0000
Received: (qmail 79914 invoked by uid 500); 23 May 2004 13:30:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79883 invoked by uid 500); 23 May 2004 13:30:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79859 invoked by uid 98); 23 May 2004 13:30:57 -0000
Received: from chandan@ccnep.com.np by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(202.51.64.130):. 
 Processed in 1.476027 secs); 23 May 2004 13:30:57 -0000
X-Qmail-Scanner-Mail-From: chandan@ccnep.com.np via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(202.51.64.130):. Processed in 1.476027 secs)
Received: from unknown (HELO idlewild.ccnep.com.np) (202.51.64.130)
  by hermes.apache.org with SMTP; 23 May 2004 13:30:56 -0000
Received: from neplaptop ([202.51.76.86])
	by idlewild.ccnep.com.np (8.12.5/8.12.5) with SMTP id i4NDsmjp006075;
	Sun, 23 May 2004 19:39:53 +0545
Message-ID: <000901c440ca$1eb4bfb0$564c33ca@neplaptop>
From: "Chandan Tamrakar" <chandan@ccnep.com.np>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
   <ankurg@brickred.com>
References: <200405211146.i4LBkJF30040@plain.rackshack.net>
Subject: Re: Searching Microsoft Word , Excel and PPT files for Japanese
Date: Sun, 23 May 2004 19:15:26 +0545
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

hi,
  i used a library  texmining.org for extracting word docs using Apache POI
. Its fairly simpe API . so converted into some.txt with UTF16 encoding
before
indexing .

 it should work. Let me update abt ur progress..



 org.textmining.text.extraction.WordExtractor extractor = new
      org.textmining.text.extraction.WordExtractor();
      String s = extractor.extractText(new FileInputStream(fileToindex));
      String encoding="UTF-16LE";
      OutputStreamWriter out = new OutputStreamWriter(new FileOutputStream(
          new File(
          "some.txt")),encoding);
          out.write(s);
          out.close();


regards


----- Original Message ----- 
From: "Ankur Goel" <ankurg@brickred.com>
To: "'Chandan Tamrakar'" <chandan@ccnep.com.np>; "'Lucene Users List'"
<lucene-user@jakarta.apache.org>
Sent: Friday, May 21, 2004 4:17 PM
Subject: RE: Searching Microsoft Word , Excel and PPT files for Japanese


> Thanks chandan ..
> I am tried  using POI for text extraction . I used The
> WordDocument.writeAllText method but it didn't worked for Japanese.
> Is there any other way also for extracting the Japanese text?
> Regards,
> Ankur
>
> -----Original Message-----
> From: Chandan Tamrakar [mailto:chandan@ccnep.com.np]
> Sent: Friday, May 21, 2004 3:51 PM
> To: Lucene Users List; ankurg@brickred.com
> Subject: Re: Searching Microsoft Word , Excel and PPT files for Japanese
>
>     for miscrosoft word documents and excel use POI API's  from jakarta
> apache.
>    First you need to extract the test and convert inot suitable encoding
> before you put into lucene for index.
>    It worked for me.
>
>
> ----- Original Message -----
> From: "Ankur Goel" <ankurg@brickred.com>
> To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
> Sent: Thursday, May 20, 2004 10:55 PM
> Subject: Searching Microsoft Word , Excel and PPT files for Japanese
>
>
> > Hi,
> >
> > I am using CJK Tokenzier for searching the Japanese documents.  I am
able
> to
> > search japanese documents which are text files. But I am not able to
> search
> > from Microsoft word, excel files with content in Japanese.
> >
> > Can you tell me how can search on Japanese content for Microsoft word,
> excel
> > and ppt files.
> >
> > Thanks,
> > Ankur
> >
> > -----Original Message-----
> > From: Ankur Goel [mailto:ankurg@brickred.com]
> > Sent: Sunday, April 04, 2004 1:36 AM
> > To: 'Lucene Users List'
> > Subject: RE: Boolean Phrase Query question
> >
> > Thanks Eric for the solution. I have to filename field as I have to give
> the
> > end user facility to search on File Name also. That's   why I am using
> TEXT
> > for file Name also.
> >
> > "By using true on the finalQuery.add calls, you have said that both
fields
> > must have the word "temp" in them.  Is that what you meant?  Or did you
> mean
> > an OR type of query?"
> >
> > I need an OR type of query. I mean the word can be in the filename or in
> the
> > contents of the filename. But i am not able to do this. Can you tell me
> how
> > to do it?
> >
> > Regards,
> > Ankur
> >
> > -----Original Message-----
> > From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> > Sent: Sunday, April 04, 2004 1:27 AM
> > To: Lucene Users List
> > Subject: Re: Boolean Phrase Query question
> >
> > On Apr 3, 2004, at 12:13 PM, Ankur Goel wrote:
> > >
> > > Hi,
> > > I have to provide a functionality which provides search on both file
> > > name and contents of the file.
> > >
> > > For indexing I use the following code:
> > >
> > >
> > > org.apache.lucene.document.Document doc = new org.apache.
> > > lucene.document.Document();
> > > doc.add(Field.Keyword("fileId","" + document.getFileId()));
> > > doc.add(Field.Text("fileName",fileName);
> > > doc.add(Field.Text("contents", new FileReader(new File(fileName)));
> >
> > I'm not sure what you plan on doing with the fileName field, but you
> > probably want to use a Keyword field for it.
> >
> > And you may want to glue the file name and contents together into a
single
> > field to facilitate searches to span both.  (be sure to put a space in
> > between if you do this)
> >
> > > For searching a text say  "temp" I use the following code to look both
> > > in file Name and contents of the file:
> > >
> > > BooleanQuery finalQuery = new BooleanQuery(); Query titleQuery =
> > > QueryParser.parse("temp","fileName",analyzer);
> > > Query mainQuery = QueryParser.parse("temp","contents",analyzer);
> > >
> > > finalQuery.add(titleQuery, true, false); finalQuery.add(mainQuery,
> > > true, false);
> > >
> > > Hits hits = is.search(finalQuery);
> >
> > By using true on the finalQuery.add calls, you have said that both
fields
> > must have the word "temp" in them.  Is that what you meant?  Or did you
> mean
> > an OR type of query?
> >
> > Erik
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8413-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 24 12:12:47 2004
Return-Path: <lucene-user-return-8413-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58997 invoked from network); 24 May 2004 12:12:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 May 2004 12:12:46 -0000
Received: (qmail 81793 invoked by uid 500); 24 May 2004 05:27:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65942 invoked by uid 500); 24 May 2004 05:23:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52440 invoked by uid 98); 24 May 2004 05:19:44 -0000
Received: from karthik@controlnet.co.in by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.199.26.74):. 
 Processed in 172.881454 secs); 24 May 2004 05:19:44 -0000
X-Qmail-Scanner-Mail-From: karthik@controlnet.co.in via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.199.26.74):. Processed in 172.881454 secs)
Received: from unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by hermes.apache.org with SMTP; 24 May 2004 05:16:51 -0000
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HY7DUL00.UY0 for <lucene-user@jakarta.apache.org>; Mon,
          24 May 2004 10:57:57 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: org.apache.lucene.search.highlight.Highlighter
Date: Mon, 24 May 2004 10:54:20 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKICEELCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
In-Reply-To: <200405211903.i4LJ3iU9013158@outmail.freedom2surf.net>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi
Lucene Developers

Using org.apache.lucene.search.highlight.Highlighter SRC for Search

The Package.html displays something like this

  String text = hits.doc(i).get(FIELD_NAME);
 TokenStream tokenStream=analyzer.tokenStream(FIELD_NAME,new
StringReader(text));

On using this SRC My Code Raises an  "NullPointerException " [ The text on
hits.doc(i) is returning this exception ]

I have a piece of code "(refrence from Orielly.com) CustomAnalyser " an
being using it
 other then org.apache.lucene.analysis.standard.StandardAnalyzer() ,

1) In the first case [CustomAnalyzer()    ] the text returns me NULL  , the
Hits return me     707.
2) In second  case [ StandardAnalyzer() ] No hits are encountered   ,  the
Hits return's me  0.
3) But on using a normal SearchFiles from demo  ( org.apache.lucene.demo)
revels all the correct 707 hits probables.



Please somebody look into this........


Karthik





-----Original Message-----
From: markharw00d@yahoo.co.uk [mailto:markharw00d@yahoo.co.uk]
Sent: Saturday, May 22, 2004 12:34 AM
To: lucene-user@jakarta.apache.org
Subject: Re: org.apache.lucene.search.highlight.Highlighter


Hi Claude, that example code you provided is out of date.

For all concerned - the highlighter code was refactored about a month ago
and then moved into the Sandbox.

Want the latest version? - get the latest code from the sandbox CVS.
Want the latest docs? - Run javadoc on the above.

There is a basic example of highlighter use in the package-level javadocs
and more extensive examples
in the JUnit test that accompanies the source code.

Hope this helps clarify things.

Mark

ps Bruce, I know you were interested in providing an alternative Fragmenter
implementation
for the highlighter that detects sentence boundaries.
You may want to look at LingPipe which has "a heuristic sentence boundary
detector".
( http://threattracker.com:8080/lingpipe-demo/demo.html )
I took a quick look at it but it has its own tokenizer that would be
difficult to make work with
the tokenstream used to identify query terms. At least the code gives some
examples of the
heuristics involved in detecting sentence boundaries. For my own apps I find
the standard Fragmenter
implementation suffices.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8414-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 24 15:48:37 2004
Return-Path: <lucene-user-return-8414-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82774 invoked from network); 24 May 2004 15:48:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 May 2004 15:48:37 -0000
Received: (qmail 60654 invoked by uid 500); 24 May 2004 07:29:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53048 invoked by uid 500); 24 May 2004 07:27:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42167 invoked by uid 98); 24 May 2004 07:24:56 -0000
Received: from ankurg@brickred.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(207.218.248.80):. 
 Processed in 0.134647 secs); 24 May 2004 07:24:56 -0000
X-Qmail-Scanner-Mail-From: ankurg@brickred.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(207.218.248.80):. Processed in 0.134647 secs)
Received: from unknown (HELO plain.rackshack.net) (207.218.248.80)
  by hermes.apache.org with SMTP; 24 May 2004 07:24:55 -0000
Received: from neo (brick-178-237-16-ind.brickred.com [61.16.237.178] (may be forged))
	by plain.rackshack.net (8.11.6/8.11.6) with ESMTP id i4O8cj118573;
	Mon, 24 May 2004 03:38:48 -0500
Message-Id: <200405240838.i4O8cj118573@plain.rackshack.net>
Reply-To: <ankurg@brickred.com>
From: "Ankur Goel" <ankurg@brickred.com>
To: "'Chandan Tamrakar'" <chandan@ccnep.com.np>,
   "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Searching Microsoft Word , Excel and PPT files for Japanese
Date: Mon, 24 May 2004 12:54:02 +0530
Organization: Brickred
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
Thread-Index: AcRA1ItyUtDiDCMlTu+UffxDJHwFNQAisDQw
In-Reply-To: <000901c440ca$1eb4bfb0$564c33ca@neplaptop>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks once again. I also had found help from textmining org for word and
now I am able to extract text both in English and Japanese and am able to do
Lucene search also on them. But the problem is still for excel files. I
tried to use POI apis but I am able to convert my input into
DocumentInputStream only which worked well for English when I did a Lucene
search but not for Japanese. So now I am stuck again :(. Trying to find a
way out :) ...

Regards,
Ankur  

-----Original Message-----
From: Chandan Tamrakar [mailto:chandan@ccnep.com.np] 
Sent: Sunday, May 23, 2004 7:00 PM
To: Lucene Users List; ankurg@brickred.com
Subject: Re: Searching Microsoft Word , Excel and PPT files for Japanese

hi,
  i used a library  texmining.org for extracting word docs using Apache POI
. Its fairly simpe API . so converted into some.txt with UTF16 encoding
before indexing .

 it should work. Let me update abt ur progress..



 org.textmining.text.extraction.WordExtractor extractor = new
      org.textmining.text.extraction.WordExtractor();
      String s = extractor.extractText(new FileInputStream(fileToindex));
      String encoding="UTF-16LE";
      OutputStreamWriter out = new OutputStreamWriter(new FileOutputStream(
          new File(
          "some.txt")),encoding);
          out.write(s);
          out.close();


regards


----- Original Message -----
From: "Ankur Goel" <ankurg@brickred.com>
To: "'Chandan Tamrakar'" <chandan@ccnep.com.np>; "'Lucene Users List'"
<lucene-user@jakarta.apache.org>
Sent: Friday, May 21, 2004 4:17 PM
Subject: RE: Searching Microsoft Word , Excel and PPT files for Japanese


> Thanks chandan ..
> I am tried  using POI for text extraction . I used The
> WordDocument.writeAllText method but it didn't worked for Japanese.
> Is there any other way also for extracting the Japanese text?
> Regards,
> Ankur
>
> -----Original Message-----
> From: Chandan Tamrakar [mailto:chandan@ccnep.com.np]
> Sent: Friday, May 21, 2004 3:51 PM
> To: Lucene Users List; ankurg@brickred.com
> Subject: Re: Searching Microsoft Word , Excel and PPT files for Japanese
>
>     for miscrosoft word documents and excel use POI API's  from jakarta
> apache.
>    First you need to extract the test and convert inot suitable encoding
> before you put into lucene for index.
>    It worked for me.
>
>
> ----- Original Message -----
> From: "Ankur Goel" <ankurg@brickred.com>
> To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
> Sent: Thursday, May 20, 2004 10:55 PM
> Subject: Searching Microsoft Word , Excel and PPT files for Japanese
>
>
> > Hi,
> >
> > I am using CJK Tokenzier for searching the Japanese documents.  I am
able
> to
> > search japanese documents which are text files. But I am not able to
> search
> > from Microsoft word, excel files with content in Japanese.
> >
> > Can you tell me how can search on Japanese content for Microsoft word,
> excel
> > and ppt files.
> >
> > Thanks,
> > Ankur
> >
> > -----Original Message-----
> > From: Ankur Goel [mailto:ankurg@brickred.com]
> > Sent: Sunday, April 04, 2004 1:36 AM
> > To: 'Lucene Users List'
> > Subject: RE: Boolean Phrase Query question
> >
> > Thanks Eric for the solution. I have to filename field as I have to give
> the
> > end user facility to search on File Name also. That's   why I am using
> TEXT
> > for file Name also.
> >
> > "By using true on the finalQuery.add calls, you have said that both
fields
> > must have the word "temp" in them.  Is that what you meant?  Or did you
> mean
> > an OR type of query?"
> >
> > I need an OR type of query. I mean the word can be in the filename or in
> the
> > contents of the filename. But i am not able to do this. Can you tell me
> how
> > to do it?
> >
> > Regards,
> > Ankur
> >
> > -----Original Message-----
> > From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> > Sent: Sunday, April 04, 2004 1:27 AM
> > To: Lucene Users List
> > Subject: Re: Boolean Phrase Query question
> >
> > On Apr 3, 2004, at 12:13 PM, Ankur Goel wrote:
> > >
> > > Hi,
> > > I have to provide a functionality which provides search on both file
> > > name and contents of the file.
> > >
> > > For indexing I use the following code:
> > >
> > >
> > > org.apache.lucene.document.Document doc = new org.apache.
> > > lucene.document.Document();
> > > doc.add(Field.Keyword("fileId","" + document.getFileId()));
> > > doc.add(Field.Text("fileName",fileName);
> > > doc.add(Field.Text("contents", new FileReader(new File(fileName)));
> >
> > I'm not sure what you plan on doing with the fileName field, but you
> > probably want to use a Keyword field for it.
> >
> > And you may want to glue the file name and contents together into a
single
> > field to facilitate searches to span both.  (be sure to put a space in
> > between if you do this)
> >
> > > For searching a text say  "temp" I use the following code to look both
> > > in file Name and contents of the file:
> > >
> > > BooleanQuery finalQuery = new BooleanQuery(); Query titleQuery =
> > > QueryParser.parse("temp","fileName",analyzer);
> > > Query mainQuery = QueryParser.parse("temp","contents",analyzer);
> > >
> > > finalQuery.add(titleQuery, true, false); finalQuery.add(mainQuery,
> > > true, false);
> > >
> > > Hits hits = is.search(finalQuery);
> >
> > By using true on the finalQuery.add calls, you have said that both
fields
> > must have the word "temp" in them.  Is that what you meant?  Or did you
> mean
> > an OR type of query?
> >
> > Erik
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8415-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 24 16:12:16 2004
Return-Path: <lucene-user-return-8415-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10442 invoked from network); 24 May 2004 16:12:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 May 2004 16:12:16 -0000
Received: (qmail 52267 invoked by uid 500); 24 May 2004 09:03:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51951 invoked by uid 500); 24 May 2004 09:03:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51791 invoked by uid 98); 24 May 2004 09:03:50 -0000
Received: from karthik@controlnet.co.in by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.199.26.74):. 
 Processed in 0.724517 secs); 24 May 2004 09:03:50 -0000
X-Qmail-Scanner-Mail-From: karthik@controlnet.co.in via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.199.26.74):. Processed in 0.724517 secs)
Received: from unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by hermes.apache.org with SMTP; 24 May 2004 09:03:49 -0000
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HY7OD100.UIB for <lucene-user@jakarta.apache.org>; Mon,
          24 May 2004 14:45:01 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: org.apache.lucene.search.highlight.Highlighter
Date: Mon, 24 May 2004 14:41:24 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIIEELCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
In-Reply-To: <901F4E3A-AB43-11D8-AF71-003065E21F90@library.ucsf.edu>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey
Lucene-Developers

I was broswing thru CVS  and found the SRC for  "IndexWriter2.java  written
by Ivaylo Zlatev on feb 2002,

My concern is, Does this piece of code  really work ,

if so  state an example [ present Lucene-final 1.3 version ]
           or
Is it  discarded from the [ present Lucene-final 1.3 version ]


The Tecnique of using RAMDirectory, my Query has really become faster access
,
So hence plan to use it  during Indexing process also.



karthik





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8416-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 24 16:52:01 2004
Return-Path: <lucene-user-return-8416-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52178 invoked from network); 24 May 2004 16:52:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 May 2004 16:52:01 -0000
Received: (qmail 22617 invoked by uid 500); 24 May 2004 11:39:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15917 invoked by uid 500); 24 May 2004 11:37:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8413 invoked by uid 98); 24 May 2004 11:36:02 -0000
Received: from alex.bourne@hsbcam.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(193.108.75.30):. 
 Processed in 0.334079 secs); 24 May 2004 11:36:02 -0000
X-Qmail-Scanner-Mail-From: alex.bourne@hsbcam.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(193.108.75.30):. Processed in 0.334079 secs)
Received: from unknown (HELO NNT243.systems.uk.hsbc) (193.108.75.30)
  by hermes.apache.org with SMTP; 24 May 2004 11:36:01 -0000
Received: from emea-smtp-05.systems.uk.hsbc (unverified) by 
    NNT243.systems.uk.hsbc (Content Technologies SMTPRS 4.3.6) with ESMTP id 
    <T69c36e7fea0a1b233cae4@NNT243.systems.uk.hsbc> for 
    <lucene-user@jakarta.apache.org>; Mon, 24 May 2004 12:39:24 +0100
Sensitivity:
Subject: RE: RE: Query parser and minus signs
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: alex.bourne@hsbcam.com
Date: Mon, 24 May 2004 09:50:09 +0100
Message-ID: <OFCAC396E8.9E4E3254-ON80256E9E.002EFD05@hsbcib.com>
X-MIMETrack: Serialize by Router on EMEA-SMTP-05/SERVERS/HSBC 
    (Release 6.0.1CF3|July 29, 2003) at 24/05/2004 12:35:56
MIME-Version: 1.0
Content-type: text/plain; charset="us-ascii"
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N





I tried this, but no it does not work. I'm concerned that escaping the
minus symbol does not appear to work. The field is indexed as a keyword so
is not tokenized - I've checked the contents using luke which confirms
this.




"David Townsend" <david.townsend@magus.co.uk> on 21 May 2004 17:02

Please respond to "Lucene Users List" <lucene-user@jakarta.apache.org>

To:    "Lucene Users List" <lucene-user@jakarta.apache.org>
cc:
bcc:

Subject:    RE: RE: Query parser and minus signs


Doesn't "en UK" as a phrase query work?

You're probably indexing it as a text field so it's being tokenised.

-----Original Message-----
From: alex.bourne@hsbcam.com [mailto:alex.bourne@hsbcam.com]
Sent: 21 May 2004 16:47
To: Lucene Users List
Subject: Memo: RE: Query parser and minus signs






Hmm, we may have to if there is no work around. We're not using java
locales, but were trying to stick to the ISO standard which uses hyphens.




"Ryan Sonnek" <rsonnek@DigitalRiver.com> on 21 May 2004 16:38

Please respond to "Lucene Users List" <lucene-user@jakarta.apache.org>

To:    "Lucene Users List" <lucene-user@jakarta.apache.org>
cc:
bcc:

Subject:    RE: Query parser and minus signs


if you're dealing with locales, why not use java's built in locale syntax
(ex: en_UK, zh_HK)?

> -----Original Message-----
> From: alex.bourne@hsbcam.com [mailto:alex.bourne@hsbcam.com]
> Sent: Friday, May 21, 2004 10:36 AM
> To: lucene-user@jakarta.apache.org
> Subject: Query parser and minus signs
>
>
>
>
>
>
> Hi All,
>
> I'm using Lucene on a site that has split content with a
> branch containing
> pages in English and a separate branch in Chinese.  Some of
> the chinese
> pages include some (untranslatable) English words, so when a search is
> carried out in either language you can get pages from the
> wrong branch. To
> combat this we introduced a language field into the index
> which contains
> the standard language codes: en-UK and zh-HK.
>
> When you parse a query  e.g. language:"en\-UK" you could
> reasonably expect
> the search to recover all pages with the language field set
> to "en-UK" (the
> minus symbol should be escaped by the backslash according to the FAQ).
> Unfortunately the parser seems to return "en UK" as the
> parsed query and
> hence returns no documents.
>
> Has anyone else had this problem, or could suggest a
> workaround ?? as I
> have
> yet to find a solution in the mailing archives or elsewhere.
>
> Many thanks in advance,
>
> Alex Bourne
>
>
>
> _____________________________________________________
>
> This transmission has been issued by a member of the HSBC Group
> ("HSBC") for the information of the addressee only and should not be
> reproduced and / or distributed to any other person. Each page
> attached hereto must be read in conjunction with any disclaimer which
> forms part of it. This transmission is neither an offer nor
> the solicitation
> of an offer to sell or purchase any investment. Its contents
> are based
> on information obtained from sources believed to be reliable but HSBC
> makes no representation and accepts no responsibility or
> liability as to
> its completeness or accuracy.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



******************************************************************
 This message originated from the Internet. Its originator may or
 may not be who they claim to be and the information contained in
 the message and any attachments may or may not be accurate.
******************************************************************








_____________________________________________________

This transmission has been issued by a member of the HSBC Group
("HSBC") for the information of the addressee only and should not be
reproduced and / or distributed to any other person. Each page
attached hereto must be read in conjunction with any disclaimer which
forms part of it. This transmission is neither an offer nor the
solicitation
of an offer to sell or purchase any investment. Its contents are based
on information obtained from sources believed to be reliable but HSBC
makes no representation and accepts no responsibility or liability as to
its completeness or accuracy.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



******************************************************************
 This message originated from the Internet. Its originator may or
 may not be who they claim to be and the information contained in
 the message and any attachments may or may not be accurate.
******************************************************************








_____________________________________________________

This transmission has been issued by a member of the HSBC Group 
("HSBC") for the information of the addressee only and should not be 
reproduced and / or distributed to any other person. Each page 
attached hereto must be read in conjunction with any disclaimer which 
forms part of it. This transmission is neither an offer nor the solicitation 
of an offer to sell or purchase any investment. Its contents are based 
on information obtained from sources believed to be reliable but HSBC 
makes no representation and accepts no responsibility or liability as to 
its completeness or accuracy.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8417-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 24 18:28:03 2004
Return-Path: <lucene-user-return-8417-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51804 invoked from network); 24 May 2004 18:28:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 May 2004 18:28:02 -0000
Received: (qmail 25142 invoked by uid 500); 24 May 2004 16:33:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25098 invoked by uid 500); 24 May 2004 16:33:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25071 invoked by uid 98); 24 May 2004 16:33:19 -0000
Received: from otis_gospodnetic@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.136.173.241):. 
 Processed in 0.020411 secs); 24 May 2004 16:33:19 -0000
X-Qmail-Scanner-Mail-From: otis_gospodnetic@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.136.173.241):. Processed in 0.020411 secs)
Received: from unknown (HELO web12704.mail.yahoo.com) (216.136.173.241)
  by hermes.apache.org with SMTP; 24 May 2004 16:33:19 -0000
Message-ID: <20040524163307.15266.qmail@web12704.mail.yahoo.com>
Received: from [194.152.224.35] by web12704.mail.yahoo.com via HTTP; Mon, 24 May 2004 09:33:07 PDT
Date: Mon, 24 May 2004 09:33:07 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: org.apache.lucene.search.highlight.Highlighter
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <LOEGLEEGOAKBOLAJCCKIIEELCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

That version of IndexWriter was never included in Lucene.
Use various IndexWriter parameters (instance variables) to tune
indexing.  One of my articles desribes how to use them, if Javadocs are
too terse.

Otis

--- Karthik N S <karthik@controlnet.co.in> wrote:
> Hey
> Lucene-Developers
> 
> I was broswing thru CVS  and found the SRC for  "IndexWriter2.java 
> written
> by Ivaylo Zlatev on feb 2002,
> 
> My concern is, Does this piece of code  really work ,
> 
> if so  state an example [ present Lucene-final 1.3 version ]
>            or
> Is it  discarded from the [ present Lucene-final 1.3 version ]
> 
> 
> The Tecnique of using RAMDirectory, my Query has really become faster
> access
> ,
> So hence plan to use it  during Indexing process also.
> 
> 
> 
> karthik
> 
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8418-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 24 18:42:10 2004
Return-Path: <lucene-user-return-8418-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63080 invoked from network); 24 May 2004 18:42:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 May 2004 18:42:10 -0000
Received: (qmail 19333 invoked by uid 500); 24 May 2004 17:10:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19242 invoked by uid 500); 24 May 2004 17:10:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19035 invoked by uid 98); 24 May 2004 17:10:21 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(128.143.210.209):. 
 Processed in 0.023823 secs); 24 May 2004 17:10:21 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(128.143.210.209):. Processed in 0.023823 secs)
Received: from unknown (HELO postfix.mail.ehatchersolutions.com) (128.143.210.209)
  by hermes.apache.org with SMTP; 24 May 2004 17:10:21 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id AD6A0721C9A
	for <lucene-user@jakarta.apache.org>; Mon, 24 May 2004 13:10:21 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <LOEGLEEGOAKBOLAJCCKIIEELCAAA.karthik@controlnet.co.in>
References: <LOEGLEEGOAKBOLAJCCKIIEELCAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <3CA79DB4-ADA5-11D8-95FC-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: org.apache.lucene.search.highlight.Highlighter
Date: Mon, 24 May 2004 13:10:20 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On May 24, 2004, at 5:11 AM, Karthik N S wrote:
> I was broswing thru CVS  and found the SRC for  "IndexWriter2.java  
> written
> by Ivaylo Zlatev on feb 2002,

Where do you see this?  It is not in the current CVS that I can tell.

> The Tecnique of using RAMDirectory, my Query has really become faster 
> access
> ,
> So hence plan to use it  during Indexing process also.

I'm confused by what you're after.  You can index into a RAMDirectory, 
no problem, and then persist it to a FSDirectory when you are done with 
the current codebase.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8419-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 24 18:45:38 2004
Return-Path: <lucene-user-return-8419-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64889 invoked from network); 24 May 2004 18:45:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 May 2004 18:45:37 -0000
Received: (qmail 56120 invoked by uid 500); 24 May 2004 17:17:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55448 invoked by uid 500); 24 May 2004 17:17:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55290 invoked by uid 98); 24 May 2004 17:16:59 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(128.143.210.209):. 
 Processed in 0.220165 secs); 24 May 2004 17:16:59 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(128.143.210.209):. Processed in 0.220165 secs)
Received: from unknown (HELO postfix.mail.ehatchersolutions.com) (128.143.210.209)
  by hermes.apache.org with SMTP; 24 May 2004 17:16:57 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 6BA21721CEF
	for <lucene-user@jakarta.apache.org>; Mon, 24 May 2004 13:16:56 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <OFCAC396E8.9E4E3254-ON80256E9E.002EFD05@hsbcib.com>
References: <OFCAC396E8.9E4E3254-ON80256E9E.002EFD05@hsbcib.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <27F526C0-ADA6-11D8-95FC-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Query parser and minus signs
Date: Mon, 24 May 2004 13:16:55 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On May 24, 2004, at 4:50 AM, alex.bourne@hsbcam.com wrote:
> I tried this, but no it does not work. I'm concerned that escaping the
> minus symbol does not appear to work. The field is indexed as a 
> keyword so
> is not tokenized - I've checked the contents using luke which confirms
> this.

You will need to write a custom analyzer to handle this situation.  
Indexing a Keyword as "en-us" does not do anything special for 
QueryParser.  QueryParser analyzes everything, so a special analyzer 
needs to be in place to basically do no analysis (pass through as-is a 
single token) for this particular field.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8420-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 24 19:52:44 2004
Return-Path: <lucene-user-return-8420-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16417 invoked from network); 24 May 2004 19:52:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 May 2004 19:52:43 -0000
Received: (qmail 87182 invoked by uid 500); 24 May 2004 19:12:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 86935 invoked by uid 500); 24 May 2004 19:12:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86886 invoked by uid 98); 24 May 2004 19:12:47 -0000
Received: from mgiles@visionstudio.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(66.216.127.33):. 
 Processed in 0.031778 secs); 24 May 2004 19:12:47 -0000
X-Qmail-Scanner-Mail-From: mgiles@visionstudio.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(66.216.127.33):. Processed in 0.031778 secs)
Received: from unknown (HELO sn2.cwihosting.com) (66.216.127.33)
  by hermes.apache.org with SMTP; 24 May 2004 19:12:46 -0000
Received: from h00e07dd8f05b.ne.client2.attbi.com ([24.60.185.190] helo=mgiles-office.visionstudio.com)
	by sn2.cwihosting.com with esmtp (Exim 4.24)
	id 1BSKrw-0003Dl-Ee
	for lucene-user@jakarta.apache.org; Mon, 24 May 2004 14:12:16 -0500
Message-Id: <6.1.0.6.0.20040524145236.02941930@mail.visionstudio.com>
X-Sender: mgiles%visionstudio.com@mail.visionstudio.com (Unverified)
X-Mailer: QUALCOMM Windows Eudora Version 6.1.0.6
Date: Mon, 24 May 2004 15:12:49 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Michael Giles <mgiles@visionstudio.com>
Subject: Performance profile of optimization...
In-Reply-To: <27F526C0-ADA6-11D8-95FC-000393A564E6@ehatchersolutions.com
 >
References: <OFCAC396E8.9E4E3254-ON80256E9E.002EFD05@hsbcib.com>
 <27F526C0-ADA6-11D8-95FC-000393A564E6@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-MailScanner-Information: Please contact CWIHosting.com for more information
X-MailScanner: Found to be clean
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - sn2.cwihosting.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 99]
X-AntiAbuse: Sender Address Domain - visionstudio.com
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

What is the performance profile of optimizing an index?  By that I mean, 
what are the primary variables that negatively impact its speed (i.e. index 
size (bytes, docs), number of adds/deletes since last optimization, 
etc).  For example, if I add a single document to a small (i.e. < 10K docs) 
index and still have that index open (but would otherwise close it until 
the next update, a few minutes later), what type of a performance hit would 
optimizing the index be?  Does that cost change as the index gets bigger or 
is it tied to the number of changes that need to be rolled in?

-Mike




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8421-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 24 20:18:16 2004
Return-Path: <lucene-user-return-8421-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38276 invoked from network); 24 May 2004 20:18:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 May 2004 20:18:16 -0000
Received: (qmail 53544 invoked by uid 500); 24 May 2004 20:02:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53475 invoked by uid 500); 24 May 2004 20:02:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53459 invoked by uid 98); 24 May 2004 20:02:14 -0000
Received: from wallen@Cyveillance.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(63.100.163.104):. 
 Processed in 0.081999 secs); 24 May 2004 20:02:14 -0000
X-Qmail-Scanner-Mail-From: wallen@Cyveillance.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(63.100.163.104):. Processed in 0.081999 secs)
Received: from unknown (HELO mercury.corp.cyveillance.com) (63.100.163.104)
  by hermes.apache.org with SMTP; 24 May 2004 20:02:14 -0000
Received: by mercury.corp.cyveillance.com with Internet Mail Service (5.5.2655.55)
	id <KMGDGDFP>; Mon, 24 May 2004 16:01:19 -0400
Message-ID: <E65AE9703B683F4C81B5B39C692EB26D1B01A9@mercury.corp.cyveillance.com>
From: wallen@Cyveillance.com
To: lucene-user@jakarta.apache.org
Subject: RE: Performance profile of optimization...
Date: Mon, 24 May 2004 16:01:09 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

My understanding is that hard drive IO is the main bottleneck, as the
operation is mainly a file copy.  So to directly answer your question, I
believe the overall file size of your indexes will linearly effect the
performance profile of your optimizations.

-----Original Message-----
From: Michael Giles [mailto:mgiles@visionstudio.com]
Sent: Monday, May 24, 2004 3:13 PM
To: Lucene Users List
Subject: Performance profile of optimization...


What is the performance profile of optimizing an index?  By that I mean, 
what are the primary variables that negatively impact its speed (i.e. index 
size (bytes, docs), number of adds/deletes since last optimization, 
etc).  For example, if I add a single document to a small (i.e. < 10K docs) 
index and still have that index open (but would otherwise close it until 
the next update, a few minutes later), what type of a performance hit would 
optimizing the index be?  Does that cost change as the index gets bigger or 
is it tied to the number of changes that need to be rolled in?

-Mike




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8422-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 25 01:12:14 2004
Return-Path: <lucene-user-return-8422-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85725 invoked from network); 25 May 2004 01:12:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 May 2004 01:12:14 -0000
Received: (qmail 18279 invoked by uid 500); 25 May 2004 01:12:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18218 invoked by uid 500); 25 May 2004 01:12:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18190 invoked by uid 98); 25 May 2004 01:12:34 -0000
Received: from sits@nuix.com.au by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(210.50.55.251):. 
 Processed in 0.133208 secs); 25 May 2004 01:12:34 -0000
X-Qmail-Scanner-Mail-From: sits@nuix.com.au via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(210.50.55.251):. Processed in 0.133208 secs)
Received: from unknown (HELO file1.syd.nuix.com.au) (210.50.55.251)
  by hermes.apache.org with SMTP; 25 May 2004 01:12:34 -0000
Received: from host55.syd.nuix.com.au (host55.syd.nuix.com.au [192.168.222.55])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id A9BD6B6FE7
	for <lucene-user@jakarta.apache.org>; Tue, 25 May 2004 11:11:55 +1000 (EST)
Content-Type: text/plain;
  charset="us-ascii"
From: David Sitsky <sits@nuix.com.au>
To: lucene-user@jakarta.apache.org
Subject: Query for the existence of a Lucene field in a document?
Date: Tue, 25 May 2004 11:05:45 +1000
User-Agent: KMail/1.4.3
Organization: Nuix Pty Ltd.
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200405251105.45262.sits@nuix.com.au>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have an application using Lucene 1.3 final.

In this application, I am loading data where the main text for each 
document is stored into a "body" field, a couple of other internal fields, 
and basically some "meta-data fields" driven by the data being loaded, 
which can created Lucene fields like M1, M2, M3, ...

Not every document has every meta-data field present, for example, one 
document may have M1, M5, M6, another might just have M1, M2, M3.  It is 
also possible for the meta-data field value to be just the empty string.  

The presence of a meta-data field has meaning to the application.  In 
general, it is not known in advance what meta-data fields are present, but 
it is generally a smallish number (< 100).

There is a requirement for the user to be able to retrieve all documents 
which have a particular meta-data field present.

I can't see anyway of doing this with the query parser.  Is there a way of 
doing this?  ie, retrieve all documents which have a specific field set.

I seems to me I need to create a new tokenized unstored field called 
something like "meta-data-fields" for each document, which contains what 
meta-data field names are present for that document.  In the above 
example, one document could have the value "M1 M5 M6", the other "M1 M2 
M3".

Does this seem reasonable?  Is there any way of doing this without 
introducing a new field?

-- 
Cheers,
David

This message is intended only for the named recipient.  If you are not the 
intended recipient you are notified that disclosing, copying, distributing 
or taking any action  in reliance on the contents of this information is 
strictly prohibited.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8423-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 25 03:45:16 2004
Return-Path: <lucene-user-return-8423-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81470 invoked from network); 25 May 2004 03:45:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 May 2004 03:45:16 -0000
Received: (qmail 9994 invoked by uid 500); 25 May 2004 03:45:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9924 invoked by uid 500); 25 May 2004 03:45:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9873 invoked by uid 98); 25 May 2004 03:45:40 -0000
Received: from karthik@controlnet.co.in by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.199.26.74):. 
 Processed in 0.519526 secs); 25 May 2004 03:45:40 -0000
X-Qmail-Scanner-Mail-From: karthik@controlnet.co.in via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.199.26.74):. Processed in 0.519526 secs)
Received: from unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by hermes.apache.org with SMTP; 25 May 2004 03:45:40 -0000
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HY94A400.UJM for <lucene-user@jakarta.apache.org>; Tue,
          25 May 2004 09:26:28 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: org.apache.lucene.search.highlight.Highlighter
Date: Tue, 25 May 2004 09:22:51 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIOEENCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
In-Reply-To: <3CA79DB4-ADA5-11D8-95FC-000393A564E6@ehatchersolutions.com>
Importance: Normal
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi
 Sorry Apologies Please
The SRC [ IndexWriter2.java ] I had mentioned, is in the mail archive and
not on the CVS

"http://www.mail-archive.com/lucene-dev@jakarta.apache.org/msg00735.html"


with regards
Karthik


-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Monday, May 24, 2004 10:40 PM
To: Lucene Users List
Subject: Re: org.apache.lucene.search.highlight.Highlighter


On May 24, 2004, at 5:11 AM, Karthik N S wrote:
> I was broswing thru CVS  and found the SRC for  "IndexWriter2.java
> written
> by Ivaylo Zlatev on feb 2002,

Where do you see this?  It is not in the current CVS that I can tell.

> The Tecnique of using RAMDirectory, my Query has really become faster
> access
> ,
> So hence plan to use it  during Indexing process also.

I'm confused by what you're after.  You can index into a RAMDirectory,
no problem, and then persist it to a FSDirectory when you are done with
the current codebase.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8424-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 25 03:49:55 2004
Return-Path: <lucene-user-return-8424-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83592 invoked from network); 25 May 2004 03:49:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 May 2004 03:49:55 -0000
Received: (qmail 30370 invoked by uid 500); 25 May 2004 03:50:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30289 invoked by uid 500); 25 May 2004 03:50:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30268 invoked by uid 98); 25 May 2004 03:50:18 -0000
Received: from psatish@controlnet.co.in by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.199.26.74):. 
 Processed in 0.62204 secs); 25 May 2004 03:50:18 -0000
X-Qmail-Scanner-Mail-From: psatish@controlnet.co.in via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.199.26.74):. Processed in 0.62204 secs)
Received: from unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by hermes.apache.org with SMTP; 25 May 2004 03:50:18 -0000
Received: from Satishp ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HY94HW00.UK2 for <lucene-user@jakarta.apache.org>; Tue,
          25 May 2004 09:31:08 +0530 
From: "Satish Plakote" <psatish@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Help with web Lucene Interface 
Date: Tue, 25 May 2004 09:17:38 +0530
Message-ID: <BHEDIBIFPFNMLNKDFPKJEEEOCHAA.psatish@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <LOEGLEEGOAKBOLAJCCKIOEENCAAA.karthik@controlnet.co.in>
Importance: Normal
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hello
Today is  my second day with lucene.
I want to make a search engine with lucene for our website.I tried the docs that come with lucene, but i am not able to generate the
index for my site. neither i am able to load the the war file that is given into tomcat.I need some better docs to try out. can
anyone pls pass me some  link that  can help me out to develop a web interface to use lucene ..

thkx
Satish


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8425-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 25 04:26:04 2004
Return-Path: <lucene-user-return-8425-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96939 invoked from network); 25 May 2004 04:26:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 May 2004 04:26:04 -0000
Received: (qmail 97398 invoked by uid 500); 25 May 2004 04:25:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97245 invoked by uid 500); 25 May 2004 04:25:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97103 invoked by uid 98); 25 May 2004 04:25:11 -0000
Received: from karthik@controlnet.co.in by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.199.26.74):. 
 Processed in 0.553122 secs); 25 May 2004 04:25:11 -0000
X-Qmail-Scanner-Mail-From: karthik@controlnet.co.in via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.199.26.74):. Processed in 0.553122 secs)
Received: from unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by hermes.apache.org with SMTP; 25 May 2004 04:25:10 -0000
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HY94KC00.UKC for <lucene-user@jakarta.apache.org>; Tue,
          25 May 2004 09:32:36 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: <lucene-user@jakarta.apache.org>
Subject: FW:  org.apache.lucene.search.highlight.Highlighter
Date: Tue, 25 May 2004 09:28:59 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIEEEOCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



Hi
Lucene Developers

Using org.apache.lucene.search.highlight.Highlighter SRC for Search

The Package.html displays something like this

  String text = hits.doc(i).get(FIELD_NAME);
 TokenStream tokenStream=analyzer.tokenStream(FIELD_NAME,new
StringReader(text));

On using this SRC My Code raises an  "NullPointerException " [ The text on
hits.doc(i) is returning this exception ]
Why am I getting null for the text , Is it linked to type of field  type
during indexing process or .....

                                                    or  is it due to ...

a piece of code "(refrence from Orielly.com) CustomAnalyser " an being using
it
 other then org.apache.lucene.analysis.standard.StandardAnalyzer() ,

1) In the first case [using CustomAnalyzer()    ] the text returns me NULL
, the Hits return me     707.
2) In second  case [ using StandardAnalyzer() ] No hits are encountered   ,
the Hits return's me  0.
3) But on using a normal SearchFiles with StandardAnalyzer() from demo  (
org.apache.lucene.demo)  revels all the correct 707 hits probables.



Please somebody look into this........


Karthik





-----Original Message-----
From: markharw00d@yahoo.co.uk [mailto:markharw00d@yahoo.co.uk]
Sent: Saturday, May 22, 2004 12:34 AM
To: lucene-user@jakarta.apache.org
Subject: Re: org.apache.lucene.search.highlight.Highlighter


Hi Claude, that example code you provided is out of date.

For all concerned - the highlighter code was refactored about a month ago
and then moved into the Sandbox.

Want the latest version? - get the latest code from the sandbox CVS.
Want the latest docs? - Run javadoc on the above.

There is a basic example of highlighter use in the package-level javadocs
and more extensive examples
in the JUnit test that accompanies the source code.

Hope this helps clarify things.

Mark

ps Bruce, I know you were interested in providing an alternative Fragmenter
implementation
for the highlighter that detects sentence boundaries.
You may want to look at LingPipe which has "a heuristic sentence boundary
detector".
( http://threattracker.com:8080/lingpipe-demo/demo.html )
I took a quick look at it but it has its own tokenizer that would be
difficult to make work with
the tokenstream used to identify query terms. At least the code gives some
examples of the
heuristics involved in detecting sentence boundaries. For my own apps I find
the standard Fragmenter
implementation suffices.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8426-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 25 06:50:22 2004
Return-Path: <lucene-user-return-8426-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49163 invoked from network); 25 May 2004 06:50:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 May 2004 06:50:21 -0000
Received: (qmail 94663 invoked by uid 500); 25 May 2004 06:50:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94614 invoked by uid 500); 25 May 2004 06:50:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94591 invoked by uid 98); 25 May 2004 06:50:47 -0000
Received: from info@zilverline.org by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(194.159.73.20):. 
 Processed in 0.036254 secs); 25 May 2004 06:50:47 -0000
X-Qmail-Scanner-Mail-From: info@zilverline.org via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(194.159.73.20):. Processed in 0.036254 secs)
Received: from unknown (HELO post-21.mail.nl.demon.net) (194.159.73.20)
  by hermes.apache.org with SMTP; 25 May 2004 06:50:46 -0000
Received: from [212.238.156.229] (helo=zilverline.org)
	by post-21.mail.nl.demon.net with esmtp (Exim 3.36 #2)
	id 1BSVl6-000F4L-00
	for lucene-user@jakarta.apache.org; Tue, 25 May 2004 06:49:56 +0000
Message-ID: <40B2ECF1.5010906@zilverline.org>
Date: Tue, 25 May 2004 08:51:29 +0200
From: info <info@zilverline.org>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: nl, en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Help with web Lucene Interface
References: <BHEDIBIFPFNMLNKDFPKJEEEOCHAA.psatish@controlnet.co.in>
In-Reply-To: <BHEDIBIFPFNMLNKDFPKJEEEOCHAA.psatish@controlnet.co.in>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Satish Plakote wrote:

>Hello
>Today is  my second day with lucene.
>I want to make a search engine with lucene for our website.I tried the docs that come with lucene, but i am not able to generate the
>index for my site. neither i am able to load the the war file that is given into tomcat.I need some better docs to try out. can
>anyone pls pass me some  link that  can help me out to develop a web interface to use lucene ..
>  
>
Hi Satish, you may use mine: http://www.zilverline.org

>thkx
>Satish
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>
Michael

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8427-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 25 07:30:04 2004
Return-Path: <lucene-user-return-8427-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83656 invoked from network); 25 May 2004 07:30:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 May 2004 07:30:04 -0000
Received: (qmail 65462 invoked by uid 500); 25 May 2004 07:30:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65379 invoked by uid 500); 25 May 2004 07:30:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65339 invoked by uid 98); 25 May 2004 07:30:08 -0000
Received: from ykingma@xs4all.nl by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(194.109.24.7):. 
 Processed in 0.189434 secs); 25 May 2004 07:30:08 -0000
X-Qmail-Scanner-Mail-From: ykingma@xs4all.nl via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(194.109.24.7):. Processed in 0.189434 secs)
Received: from unknown (HELO smtp-out6.xs4all.nl) (194.109.24.7)
  by hermes.apache.org with SMTP; 25 May 2004 07:30:06 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out6.xs4all.nl (8.12.10/8.12.10) with ESMTP id i4P7TEew020983
	for <lucene-user@jakarta.apache.org>; Tue, 25 May 2004 09:29:14 +0200 (CEST)
From: Ype Kingma <ykingma@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Query for the existence of a Lucene field in a document?
Date: Tue, 25 May 2004 09:29:14 +0200
User-Agent: KMail/1.5.4
References: <200405251105.45262.sits@nuix.com.au>
In-Reply-To: <200405251105.45262.sits@nuix.com.au>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200405250929.14328.ykingma@xs4all.nl>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

David,

On Tuesday 25 May 2004 03:05, you wrote:
> I have an application using Lucene 1.3 final.
>
> In this application, I am loading data where the main text for each
> document is stored into a "body" field, a couple of other internal fields,
> and basically some "meta-data fields" driven by the data being loaded,
> which can created Lucene fields like M1, M2, M3, ...
>
> Not every document has every meta-data field present, for example, one
> document may have M1, M5, M6, another might just have M1, M2, M3.  It is
> also possible for the meta-data field value to be just the empty string.
>
> The presence of a meta-data field has meaning to the application.  In
> general, it is not known in advance what meta-data fields are present, but
> it is generally a smallish number (< 100).
>
> There is a requirement for the user to be able to retrieve all documents
> which have a particular meta-data field present.
>
> I can't see anyway of doing this with the query parser.  Is there a way of
> doing this?  ie, retrieve all documents which have a specific field set.
>
> I seems to me I need to create a new tokenized unstored field called
> something like "meta-data-fields" for each document, which contains what
> meta-data field names are present for that document.  In the above
> example, one document could have the value "M1 M5 M6", the other "M1 M2
> M3".
>
> Does this seem reasonable?  Is there any way of doing this without
> introducing a new field?

Normally an empty string does not result in indexed terms, so there is
no way to find out about the existence of an indexed field in that case,
except by using more information.
Using an extra field that mentions the field names of all other fields
will solve your problem. In practice, such a field is also quite handy for
statistics/debugging, so I'd tokenize, index and store it. Once it's indexed,
it can be queried as any other field.

Kind regards,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8428-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 25 08:45:04 2004
Return-Path: <lucene-user-return-8428-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35794 invoked from network); 25 May 2004 08:45:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 May 2004 08:45:04 -0000
Received: (qmail 47267 invoked by uid 500); 25 May 2004 08:45:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47199 invoked by uid 500); 25 May 2004 08:45:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47167 invoked by uid 98); 25 May 2004 08:45:39 -0000
Received: from karthik@controlnet.co.in by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.199.26.74):. 
 Processed in 1.299313 secs); 25 May 2004 08:45:39 -0000
X-Qmail-Scanner-Mail-From: karthik@controlnet.co.in via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.199.26.74):. Processed in 1.299313 secs)
Received: from unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by hermes.apache.org with SMTP; 25 May 2004 08:45:37 -0000
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HY9I5H00.UGA for <lucene-user@jakarta.apache.org>; Tue,
          25 May 2004 14:26:05 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: org.apache.lucene.search.highlight.Highlighter
Date: Tue, 25 May 2004 14:22:29 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIAEFACAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <3CA79DB4-ADA5-11D8-95FC-000393A564E6@ehatchersolutions.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey
Lucene-Developers Finally found the problem with Highlighter SRC

The Search SRC using search.highlight.Highlighter depends on
storage of the HTML Content  (FIELD_NAME) while Indexing,

If the Content is Stored as

     FileInputStream is = new FileInputStream(File);
     reader = new BufferedReader(new InputStreamReader(is));
     doc.add(Field.Text("contents", reader));

then the search.highlight.Highlighter raises a null Pointer Exception on the
FIELD_NAME  "Content"


java.lang.NullPointerException
	at search.highlight.Highlighter.getBestDocFragments(Highlighter.java:141)
	at search.highlight.Highlighter.getBestFragments(Highlighter.java:80)
	at search.highlight.Highlighter.getBestFragments(Highlighter.java:328)
	at org.apache.lucene.demo.Search.searchIndex1(Search.java:84)
	atorg.apache.lucene.demo.Search.main(Search.java:107)


But if u use

       Field ff = new Field("contents", proceStr, true, true, true);

      (Where proceStr = Contents of HTML)

Then in such case


   search.highlight.Highlighter   returns a correct Search + Highlighter
(bold) implementation of the Indexed segment.



Now Please some body who is
mature more enough to improve this code please do.


Peace at last      ............. :)
Karthik




-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Monday, May 24, 2004 10:40 PM
To: Lucene Users List
Subject: Re: org.apache.lucene.search.highlight.Highlighter


On May 24, 2004, at 5:11 AM, Karthik N S wrote:
> I was broswing thru CVS  and found the SRC for  "IndexWriter2.java
> written
> by Ivaylo Zlatev on feb 2002,

Where do you see this?  It is not in the current CVS that I can tell.

> The Tecnique of using RAMDirectory, my Query has really become faster
> access
> ,
> So hence plan to use it  during Indexing process also.

I'm confused by what you're after.  You can index into a RAMDirectory,
no problem, and then persist it to a FSDirectory when you are done with
the current codebase.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8429-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 25 08:52:56 2004
Return-Path: <lucene-user-return-8429-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42350 invoked from network); 25 May 2004 08:52:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 May 2004 08:52:56 -0000
Received: (qmail 78654 invoked by uid 500); 25 May 2004 08:53:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78615 invoked by uid 500); 25 May 2004 08:53:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78589 invoked by uid 98); 25 May 2004 08:53:31 -0000
Received: from edvard_eid@xs4all.nl by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(194.109.24.12):. 
 Processed in 0.327496 secs); 25 May 2004 08:53:31 -0000
X-Qmail-Scanner-Mail-From: edvard_eid@xs4all.nl via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(194.109.24.12):. Processed in 0.327496 secs)
Received: from unknown (HELO smtp-out2.xs4all.nl) (194.109.24.12)
  by hermes.apache.org with SMTP; 25 May 2004 08:53:30 -0000
Received: from COM (a194-109-185-131.dial.xs4all.nl [194.109.185.131])
	by smtp-out2.xs4all.nl (8.12.10/8.12.10) with SMTP id i4P8qRHx046167
	for <lucene-user@jakarta.apache.org>; Tue, 25 May 2004 10:52:30 +0200 (CEST)
Message-Id: <200405250852.i4P8qRHx046167@smtp-out2.xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Which searched words are found in a document
From: <edvard_eid@xs4all.nl>
Date: Tue, 25 May 2004 10:51:00 0200
Mime-Version: 1.0
X-Mailer: MultiMail(c) Deluxe 1998-2001 2.61, Palm, Inc.
X-Sender: edvard_eid@xs4all.nl
Content-Type: text/plain; charset="ISO-8859-1"
Content-Transfer-Encoding: 8bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I have the following question:
Is there an easy way to see which words from a query were found in a
resulting document?

So if I search for 'cat OR dog' and get a result document with only 'cat'
in it. I would like to ask the searcher object or something to tell me
that for the result document 'cat' was the only word found.

I did see it is somehow possible with the explain method, but this does
not give a clean answer.
I can also get the contents of the document and do an indexof for each
search term but there could be quite a lot in our case.

Any suggestions?

Thanks,

Edvard Scheffers



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8430-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 25 10:33:28 2004
Return-Path: <lucene-user-return-8430-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97629 invoked from network); 25 May 2004 10:33:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 May 2004 10:33:28 -0000
Received: (qmail 98948 invoked by uid 500); 25 May 2004 10:32:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98888 invoked by uid 500); 25 May 2004 10:32:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98835 invoked by uid 98); 25 May 2004 10:32:34 -0000
Received: from ajitender@aalayance.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.200.48.226):. 
 Processed in 0.053747 secs); 25 May 2004 10:32:34 -0000
X-Qmail-Scanner-Mail-From: ajitender@aalayance.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.200.48.226):. Processed in 0.053747 secs)
Received: from unknown (HELO services.india.aalayance.com) (203.200.48.226)
  by hermes.apache.org with SMTP; 25 May 2004 10:32:33 -0000
Received: from ajitendra (unknown [192.168.1.141])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by services.india.aalayance.com (Postfix) with ESMTP id C5474C187C
	for <lucene-user@jakarta.apache.org>; Tue, 25 May 2004 16:02:30 +0530 (IST)
Message-ID: <001a01c44243$0538d830$8d01a8c0@india.aalayance.com>
From: "jitender ahuja" <ajitender@aalayance.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <BHEDIBIFPFNMLNKDFPKJEEEOCHAA.psatish@controlnet.co.in>
Subject: Re: Help with web Lucene Interface 
Date: Tue, 25 May 2004 15:58:28 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
     First, u need to generate index using ur own or the demo(e.g.,
IndexHTML for text or HTML) provided file to create index at the command
line. If u can create ur own index creator file that 's the best and very
easy. Regarding links u better use some search engine and search for "
lucene tutorial" by erik hatcher or generally.
Regards,
Jitender
----- Original Message ----- 
From: "Satish Plakote" <psatish@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, May 25, 2004 9:17 AM
Subject: Help with web Lucene Interface


>
> Hello
> Today is  my second day with lucene.
> I want to make a search engine with lucene for our website.I tried the
docs that come with lucene, but i am not able to generate the
> index for my site. neither i am able to load the the war file that is
given into tomcat.I need some better docs to try out. can
> anyone pls pass me some  link that  can help me out to develop a web
interface to use lucene ..
>
> thkx
> Satish
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8431-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 25 18:39:45 2004
Return-Path: <lucene-user-return-8431-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98191 invoked from network); 25 May 2004 18:39:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 May 2004 18:39:44 -0000
Received: (qmail 18084 invoked by uid 500); 25 May 2004 18:39:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17824 invoked by uid 500); 25 May 2004 18:39:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17615 invoked by uid 98); 25 May 2004 18:39:42 -0000
Received: from markharw00d@yahoo.co.uk by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(194.106.33.237):. 
 Processed in 0.104478 secs); 25 May 2004 18:39:42 -0000
X-Qmail-Scanner-Mail-From: markharw00d@yahoo.co.uk via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(194.106.33.237):. Processed in 0.104478 secs)
Received: from unknown (HELO outmail.freedom2surf.net) (194.106.33.237)
  by hermes.apache.org with SMTP; 25 May 2004 18:39:41 -0000
Received: from dell (i-194-106-34-5.freedom2surf.net [194.106.34.5])
	by outmail.freedom2surf.net (8.12.10/8.12.10) with SMTP id i4PId8U9012670
	for <lucene-user@jakarta.apache.org>; Tue, 25 May 2004 19:39:09 +0100
Date: Tue, 25 May 2004 19:39:08 +0100
Message-Id: <200405251839.i4PId8U9012670@outmail.freedom2surf.net>
From: markharw00d@yahoo.co.uk
To: lucene-user@jakarta.apache.org
Subject: RE: org.apache.lucene.search.highlight.Highlighter
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>>If the Content is Stored as...
>>doc.add(Field.Text("contents", reader));

Thats just it. It's not stored : see the javadocs for Field.text(string,reader):
"Constructs a Reader-valued Field that is tokenized and indexed, but is not stored in the index"

As opposed to :
  Field.Text(String name, String value)
which says:
"Constructs a String-valued Field that is tokenized and indexed, and is stored in the index, for return with hits."

So, you're getting nulls because you're not storing the field for subsequent retrieval.

>>Now Please some body who is
>>mature more enough to improve this code please do.

Are you deliberately trying to be obnoxious or is it just a natural gift?
You'll find people here more helpful if you dont resort to insulting them.
:-)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8432-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue May 25 22:39:59 2004
Return-Path: <lucene-user-return-8432-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36117 invoked from network); 25 May 2004 22:39:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 May 2004 22:39:59 -0000
Received: (qmail 32632 invoked by uid 500); 25 May 2004 22:40:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32417 invoked by uid 500); 25 May 2004 22:40:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32382 invoked by uid 98); 25 May 2004 22:40:25 -0000
Received: from sits@nuix.com.au by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(210.50.55.251):. 
 Processed in 0.414409 secs); 25 May 2004 22:40:25 -0000
X-Qmail-Scanner-Mail-From: sits@nuix.com.au via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(210.50.55.251):. Processed in 0.414409 secs)
Received: from unknown (HELO file1.syd.nuix.com.au) (210.50.55.251)
  by hermes.apache.org with SMTP; 25 May 2004 22:40:25 -0000
Received: from host55.syd.nuix.com.au (host55.syd.nuix.com.au [192.168.222.55])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id EB7A3B6FE6
	for <lucene-user@jakarta.apache.org>; Wed, 26 May 2004 08:39:39 +1000 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: David Sitsky <sits@nuix.com.au>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Query for the existence of a Lucene field in a document?
Date: Wed, 26 May 2004 08:33:25 +1000
User-Agent: KMail/1.4.3
References: <200405251105.45262.sits@nuix.com.au> <200405250929.14328.ykingma@xs4all.nl>
In-Reply-To: <200405250929.14328.ykingma@xs4all.nl>
Organization: Nuix Pty Ltd.
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200405260833.25838.sits@nuix.com.au>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tue, 25 May 2004 17:29, Ype Kingma wrote:
> David,
>
> On Tuesday 25 May 2004 03:05, you wrote:
> > I have an application using Lucene 1.3 final.
> >
> > In this application, I am loading data where the main text for each
> > document is stored into a "body" field, a couple of other internal
> > fields, and basically some "meta-data fields" driven by the data being
> > loaded, which can created Lucene fields like M1, M2, M3, ...
> >
> > Not every document has every meta-data field present, for example, one
> > document may have M1, M5, M6, another might just have M1, M2, M3.  It
> > is also possible for the meta-data field value to be just the empty
> > string.
> >
> > The presence of a meta-data field has meaning to the application.  In
> > general, it is not known in advance what meta-data fields are present,
> > but it is generally a smallish number (< 100).
> >
> > There is a requirement for the user to be able to retrieve all
> > documents which have a particular meta-data field present.
> >
> > I can't see anyway of doing this with the query parser.  Is there a
> > way of doing this?  ie, retrieve all documents which have a specific
> > field set.
> >
> > I seems to me I need to create a new tokenized unstored field called
> > something like "meta-data-fields" for each document, which contains
> > what meta-data field names are present for that document.  In the
> > above example, one document could have the value "M1 M5 M6", the other
> > "M1 M2 M3".
> >
> > Does this seem reasonable?  Is there any way of doing this without
> > introducing a new field?
>
> Normally an empty string does not result in indexed terms, so there is
> no way to find out about the existence of an indexed field in that case,
> except by using more information.
> Using an extra field that mentions the field names of all other fields
> will solve your problem. In practice, such a field is also quite handy
> for statistics/debugging, so I'd tokenize, index and store it. Once it's
> indexed, it can be queried as any other field.

Thanks - that's what I have ended up doing.  Cheers.

-- 
Cheers,
David

This message is intended only for the named recipient.  If you are not the 
intended recipient you are notified that disclosing, copying, distributing 
or taking any action  in reliance on the contents of this information is 
strictly prohibited.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8433-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 26 11:13:29 2004
Return-Path: <lucene-user-return-8433-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90287 invoked from network); 26 May 2004 11:13:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 May 2004 11:13:29 -0000
Received: (qmail 82384 invoked by uid 500); 26 May 2004 11:13:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82331 invoked by uid 500); 26 May 2004 11:13:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82300 invoked by uid 98); 26 May 2004 11:13:19 -0000
Received: from nsh@bayt.net by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(209.228.33.241):. 
 Processed in 0.027673 secs); 26 May 2004 11:13:19 -0000
X-Qmail-Scanner-Mail-From: nsh@bayt.net via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(209.228.33.241):. Processed in 0.027673 secs)
Received: from unknown (HELO c007.snv.cp.net) (209.228.33.241)
  by hermes.apache.org with SMTP; 26 May 2004 11:13:18 -0000
Received: (cpmta 29945 invoked from network); 26 May 2004 04:13:16 -0700
Received: from 213.132.40.2 (HELO naderit)
  by smtp.bayt.net (209.228.33.241) with SMTP; 26 May 2004 04:13:16 -0700
X-Sent: 26 May 2004 11:13:16 GMT
Reply-To: <nsh@bayt.net>
From: "Nader S. Henein" <nsh@bayt.net>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Which searched words are found in a document
Date: Wed, 26 May 2004 15:13:14 +0400
Organization: Bayt.com
Message-ID: <000001c44312$71b8b820$1801a8c0@naderit>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
Importance: Normal
In-Reply-To: <200405250852.i4P8qRHx046167@smtp-out2.xs4all.nl>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Take a look at the highlighter code, you could implement this on the =
front
end while processing the page.

Nader

-----Original Message-----
From: edvard_eid@xs4all.nl [mailto:edvard_eid@xs4all.nl]=20
Sent: Tuesday, May 25, 2004 10:51 AM
To: lucene-user@jakarta.apache.org
Subject: Which searched words are found in a document


Hi,

I have the following question:
Is there an easy way to see which words from a query were found in a
resulting document?

So if I search for 'cat OR dog' and get a result document with only =
'cat' in
it. I would like to ask the searcher object or something to tell me that =
for
the result document 'cat' was the only word found.

I did see it is somehow possible with the explain method, but this does =
not
give a clean answer. I can also get the contents of the document and do =
an
indexof for each search term but there could be quite a lot in our case.

Any suggestions?

Thanks,

Edvard Scheffers



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8434-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 26 11:28:31 2004
Return-Path: <lucene-user-return-8434-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96922 invoked from network); 26 May 2004 11:28:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 May 2004 11:28:31 -0000
Received: (qmail 33561 invoked by uid 500); 26 May 2004 11:28:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33491 invoked by uid 500); 26 May 2004 11:28:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33452 invoked by uid 98); 26 May 2004 11:28:20 -0000
Received: from nsh@bayt.net by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(209.228.33.228):. 
 Processed in 0.016681 secs); 26 May 2004 11:28:20 -0000
X-Qmail-Scanner-Mail-From: nsh@bayt.net via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(209.228.33.228):. Processed in 0.016681 secs)
Received: from unknown (HELO c007.snv.cp.net) (209.228.33.228)
  by hermes.apache.org with SMTP; 26 May 2004 11:28:20 -0000
Received: (cpmta 18687 invoked from network); 26 May 2004 04:28:18 -0700
Received: from 213.132.40.2 (HELO naderit)
  by smtp.bayt.net (209.228.33.228) with SMTP; 26 May 2004 04:28:18 -0700
X-Sent: 26 May 2004 11:28:18 GMT
Reply-To: <nsh@bayt.net>
From: "Nader S. Henein" <nsh@bayt.net>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: SELECTIVE Indexing
Date: Wed, 26 May 2004 15:28:15 +0400
Organization: Bayt.com
Message-ID: <000301c44314$8ad55460$1801a8c0@naderit>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4510
Importance: Normal
In-Reply-To: <LOEGLEEGOAKBOLAJCCKICEDNCAAA.karthik@controlnet.co.in>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

So you basically only want to index parts of your document within =
<table>
Foo Bar </table> tags,=20

I'm not sure if there's an easier way, but here's what I do:
1)  Parse XML files using JDOM (or any XML parser that floats your boat)
into a Map or an ArrayList=20
2)  Create a Lucene document and loop through the aforementioned =
structure
(Map or ArrayList) adding field, value pairs to it like so
	contentDoc.add(new Field(fieldName,fieldValue,true,true,true) ) ;

So all you would need to do is just put an if statement around the later
statement to the effect of=20

If (  fieldName.equalsIgnoreCase("table") =3D=3D 0   ) {
	contentDoc.add(new Field(fieldName,fieldValue,true,true,true) ) ;
}


This may be overkill, someone feel free to correct me if I'm wrong

Nader

-----Original Message-----
From: Karthik N S [mailto:karthik@controlnet.co.in]=20
Sent: Wednesday, May 19, 2004 1:01 PM
To: Lucene Users List
Subject: RE: SELECTIVE Indexing


Hey Lucene Users

My original intension for indexing was to
index certain portions of  HTML [ not the whole Document ],
if Jtidy is not supporting this then what are my optionals

Karthik

-----Original Message-----
From: Viparthi, Kiran (AFIS) [mailto:Kiran.Viparthi@fao.org]
Sent: Wednesday, May 19, 2004 1:43 PM
To: 'Lucene Users List'
Subject: RE: SELECTIVE Indexing


I doubt if it can be used as a plug in.
Would be good to know if it can be used as a plug in.

Regards,
Kiran.

-----Original Message-----
From: Karthik N S [mailto:karthik@controlnet.co.in]
Sent: 17 May 2004 12:30
To: Lucene Users List
Subject: RE: SELECTIVE Indexing


Hi

Can I Use TIDY [as plug in ] with Lucene ...


with regards
Karthik

-----Original Message-----
From: Viparthi, Kiran (AFIS) [mailto:Kiran.Viparthi@fao.org]
Sent: Monday, May 17, 2004 3:27 PM
To: 'Lucene Users List'
Subject: RE: SELECTIVE Indexing



Try using Tidy.
Creates a Document of the html and allows you to apply xpath. Hope this
helps.

Kiran.

-----Original Message-----
From: Karthik N S [mailto:karthik@controlnet.co.in]
Sent: 17 May 2004 11:59
To: Lucene Users List
Subject: SELECTIVE Indexing



Hi all

   Can Some Body tell me How to Index  CERTAIN PORTION OF THE HTML FILE =
Only

   ex:-
        <table .....>
               ....

         </table>


with regards
Karthik




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8435-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 26 12:05:41 2004
Return-Path: <lucene-user-return-8435-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22208 invoked from network); 26 May 2004 12:05:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 May 2004 12:05:41 -0000
Received: (qmail 83305 invoked by uid 500); 26 May 2004 12:05:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83234 invoked by uid 500); 26 May 2004 12:05:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83196 invoked by uid 98); 26 May 2004 12:05:31 -0000
Received: from edvard_eid@xs4all.nl by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(194.109.24.12):. 
 Processed in 0.242381 secs); 26 May 2004 12:05:31 -0000
X-Qmail-Scanner-Mail-From: edvard_eid@xs4all.nl via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(194.109.24.12):. Processed in 0.242381 secs)
Received: from unknown (HELO smtp-out2.xs4all.nl) (194.109.24.12)
  by hermes.apache.org with SMTP; 26 May 2004 12:05:31 -0000
Received: from webmail.xs4all.nl (webmail10.xs4all.nl [194.109.22.170])
	by smtp-out2.xs4all.nl (8.12.10/8.12.10) with SMTP id i4QC5RTU019658
	for <lucene-user@jakarta.apache.org>; Wed, 26 May 2004 14:05:27 +0200 (CEST)
Received: from 193.172.132.34
        (SquirrelMail authenticated user edvard99)
        by webmail.xs4all.nl with HTTP;
        Wed, 26 May 2004 14:05:27 +0200 (CEST)
Message-ID: <20855.193.172.132.34.1085573127.squirrel@webmail.xs4all.nl>
In-Reply-To: <000001c44312$71b8b820$1801a8c0@naderit>
References: <200405250852.i4P8qRHx046167@smtp-out2.xs4all.nl>
    <000001c44312$71b8b820$1801a8c0@naderit>
Date: Wed, 26 May 2004 14:05:27 +0200 (CEST)
Subject: RE: Which searched words are found in a document
From: "Edvard Scheffers" <edvard_eid@xs4all.nl>
To: lucene-user@jakarta.apache.org
User-Agent: SquirrelMail/1.4.2 [CVS]
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I looked at the highlighter code, but the query term extracter retrieves
the terms from the original query. While I only want the found terms, the
best way is probably to parse the result of the explain method.

Edvard

> Take a look at the highlighter code, you could implement this on the front
> end while processing the page.
>
> Nader
>
> -----Original Message-----
> From: edvard_eid@xs4all.nl [mailto:edvard_eid@xs4all.nl]
> Sent: Tuesday, May 25, 2004 10:51 AM
> To: lucene-user@jakarta.apache.org
> Subject: Which searched words are found in a document
>
>
> Hi,
>
> I have the following question:
> Is there an easy way to see which words from a query were found in a
> resulting document?
>
> So if I search for 'cat OR dog' and get a result document with only 'cat'
> in
> it. I would like to ask the searcher object or something to tell me that
> for
> the result document 'cat' was the only word found.
>
> I did see it is somehow possible with the explain method, but this does
> not
> give a clean answer. I can also get the contents of the document and do an
> indexof for each search term but there could be quite a lot in our case.
>
> Any suggestions?
>
> Thanks,
>
> Edvard Scheffers
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8436-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 26 12:40:12 2004
Return-Path: <lucene-user-return-8436-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42484 invoked from network); 26 May 2004 12:40:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 May 2004 12:40:12 -0000
Received: (qmail 48046 invoked by uid 500); 26 May 2004 12:40:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47938 invoked by uid 500); 26 May 2004 12:40:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47922 invoked by uid 98); 26 May 2004 12:40:04 -0000
Received: from alex.bourne@hsbcam.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(193.108.75.30):. 
 Processed in 0.252245 secs); 26 May 2004 12:40:04 -0000
X-Qmail-Scanner-Mail-From: alex.bourne@hsbcam.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(193.108.75.30):. Processed in 0.252245 secs)
Received: from unknown (HELO NNT245.systems.uk.hsbc) (193.108.75.30)
  by hermes.apache.org with SMTP; 26 May 2004 12:40:03 -0000
Received: from emea-smtp-05.systems.uk.hsbc (unverified) by 
    NNT245.systems.uk.hsbc (Content Technologies SMTPRS 4.3.6) with ESMTP id 
    <T69cdf395d80a1b23503ec@NNT245.systems.uk.hsbc> for 
    <lucene-user@jakarta.apache.org>; Wed, 26 May 2004 13:40:58 +0100
Sensitivity:
Subject: Memo:  RE: RE: Query parser and minus signs
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: alex.bourne@hsbcam.com
Date: Wed, 26 May 2004 13:39:54 +0100
Message-ID: <OF753C77BD.5DED5992-ON80256EA0.0044D8CD@hsbcib.com>
X-MIMETrack: Serialize by Router on EMEA-SMTP-05/SERVERS/HSBC 
    (Release 6.0.1CF3|July 29, 2003) at 26/05/2004 13:39:56
MIME-Version: 1.0
Content-type: text/plain; charset="us-ascii"
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N





I switched to indexing using a text field instead of keyword, then I tried
the following based on various pieces of advice:

            PerFieldAnalyzerWrapper pfaw = new PerFieldAnalyzerWrapper(new ChineseAnalyzer());
            pfaw.addAnalyzer("language", new WhitespaceAnalyzer());

            try
            {
                query = MultiFieldQueryParser.parse(queryString, new String[]{"contents", "keywords", "title", "language"}, (Analyzer) pfaw);
                System.out.println("Parsed query: " + query.toString());
            }
            catch (ParseException e)
            {
                error = true;
                e.printStackTrace();
            }

I have tried both "language:zh-HK" and  "language:zh\-HK" (which appears in
the debugger as "language:zh\\-HK") as the query, and neither return any
hits. I've tried stepping through the code to see what is being indexed
(which looks OK at least to a relative beginner like myself), and also
through the search code but I'm still none the wiser.

Am I doing something wrong, or have I completely missed the point ??



To:    Alex BOURNE/IBEU/HSBC@HSBC
cc:
bcc:

Subject:    RE: RE: Query parser and minus signs


remember luke does not display the indexed tokens but the stored field.  So
you would expect to see en-uk in the field.

doc.add(Field.Keyword("locale","test-uk"));

are you adding to the document like this?

Also what analyzer you using to pass the query?

org.apache.lucene.analysis.WhitespaceAnalyzer : parses as locale:en-uk
org.apache.lucene.analysis.SimpleAnalyzer : parses as locale:en uk
org.apache.lucene.analysis.standard.StandardAnalyzer : parses as locale:en
uk

Try using whitespace analyzer in Luke and see how it's interpreting the
query.  If you are storing as a keyword but searching with tokens, it may
be your problem.



-----Original Message-----
From: alex.bourne@hsbcam.com [mailto:alex.bourne@hsbcam.com]
Sent: 24 May 2004 09:50
To: Lucene Users List
Subject: RE: RE: Query parser and minus signs






I tried this, but no it does not work. I'm concerned that escaping the
minus symbol does not appear to work. The field is indexed as a keyword so
is not tokenized - I've checked the contents using luke which confirms
this.




"David Townsend" <david.townsend@magus.co.uk> on 21 May 2004 17:02

Please respond to "Lucene Users List" <lucene-user@jakarta.apache.org>

To:    "Lucene Users List" <lucene-user@jakarta.apache.org>
cc:
bcc:

Subject:    RE: RE: Query parser and minus signs


Doesn't "en UK" as a phrase query work?

You're probably indexing it as a text field so it's being tokenised.

-----Original Message-----
From: alex.bourne@hsbcam.com [mailto:alex.bourne@hsbcam.com]
Sent: 21 May 2004 16:47
To: Lucene Users List
Subject: Memo: RE: Query parser and minus signs






Hmm, we may have to if there is no work around. We're not using java
locales, but were trying to stick to the ISO standard which uses hyphens.




"Ryan Sonnek" <rsonnek@DigitalRiver.com> on 21 May 2004 16:38

Please respond to "Lucene Users List" <lucene-user@jakarta.apache.org>

To:    "Lucene Users List" <lucene-user@jakarta.apache.org>
cc:
bcc:

Subject:    RE: Query parser and minus signs


if you're dealing with locales, why not use java's built in locale syntax
(ex: en_UK, zh_HK)?

> -----Original Message-----
> From: alex.bourne@hsbcam.com [mailto:alex.bourne@hsbcam.com]
> Sent: Friday, May 21, 2004 10:36 AM
> To: lucene-user@jakarta.apache.org
> Subject: Query parser and minus signs
>
>
>
>
>
>
> Hi All,
>
> I'm using Lucene on a site that has split content with a
> branch containing
> pages in English and a separate branch in Chinese.  Some of
> the chinese
> pages include some (untranslatable) English words, so when a search is
> carried out in either language you can get pages from the
> wrong branch. To
> combat this we introduced a language field into the index
> which contains
> the standard language codes: en-UK and zh-HK.
>
> When you parse a query  e.g. language:"en\-UK" you could
> reasonably expect
> the search to recover all pages with the language field set
> to "en-UK" (the
> minus symbol should be escaped by the backslash according to the FAQ).
> Unfortunately the parser seems to return "en UK" as the
> parsed query and
> hence returns no documents.
>
> Has anyone else had this problem, or could suggest a
> workaround ?? as I
> have
> yet to find a solution in the mailing archives or elsewhere.
>
> Many thanks in advance,
>
> Alex Bourne
>
>
>
> _____________________________________________________
>
> This transmission has been issued by a member of the HSBC Group
> ("HSBC") for the information of the addressee only and should not be
> reproduced and / or distributed to any other person. Each page
> attached hereto must be read in conjunction with any disclaimer which
> forms part of it. This transmission is neither an offer nor
> the solicitation
> of an offer to sell or purchase any investment. Its contents
> are based
> on information obtained from sources believed to be reliable but HSBC
> makes no representation and accepts no responsibility or
> liability as to
> its completeness or accuracy.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



******************************************************************
 This message originated from the Internet. Its originator may or
 may not be who they claim to be and the information contained in
 the message and any attachments may or may not be accurate.
******************************************************************








_____________________________________________________

This transmission has been issued by a member of the HSBC Group
("HSBC") for the information of the addressee only and should not be
reproduced and / or distributed to any other person. Each page
attached hereto must be read in conjunction with any disclaimer which
forms part of it. This transmission is neither an offer nor the
solicitation
of an offer to sell or purchase any investment. Its contents are based
on information obtained from sources believed to be reliable but HSBC
makes no representation and accepts no responsibility or liability as to
its completeness or accuracy.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



******************************************************************
 This message originated from the Internet. Its originator may or
 may not be who they claim to be and the information contained in
 the message and any attachments may or may not be accurate.
******************************************************************








_____________________________________________________

This transmission has been issued by a member of the HSBC Group
("HSBC") for the information of the addressee only and should not be
reproduced and / or distributed to any other person. Each page
attached hereto must be read in conjunction with any disclaimer which
forms part of it. This transmission is neither an offer nor the
solicitation
of an offer to sell or purchase any investment. Its contents are based
on information obtained from sources believed to be reliable but HSBC
makes no representation and accepts no responsibility or liability as to
its completeness or accuracy.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



******************************************************************
 This message originated from the Internet. Its originator may or
 may not be who they claim to be and the information contained in
 the message and any attachments may or may not be accurate.
******************************************************************






_____________________________________________________

This transmission has been issued by a member of the HSBC Group 
("HSBC") for the information of the addressee only and should not be 
reproduced and / or distributed to any other person. Each page 
attached hereto must be read in conjunction with any disclaimer which 
forms part of it. This transmission is neither an offer nor the solicitation 
of an offer to sell or purchase any investment. Its contents are based 
on information obtained from sources believed to be reliable but HSBC 
makes no representation and accepts no responsibility or liability as to 
its completeness or accuracy.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8437-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 26 14:20:27 2004
Return-Path: <lucene-user-return-8437-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24126 invoked from network); 26 May 2004 14:20:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 May 2004 14:20:27 -0000
Received: (qmail 52938 invoked by uid 500); 26 May 2004 14:11:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52748 invoked by uid 500); 26 May 2004 14:11:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52575 invoked by uid 98); 26 May 2004 14:11:42 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(128.143.103.131):. 
 Processed in 0.620248 secs); 26 May 2004 14:11:42 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(128.143.103.131):. Processed in 0.620248 secs)
Received: from unknown (HELO postfix.mail.ehatchersolutions.com) (128.143.103.131)
  by hermes.apache.org with SMTP; 26 May 2004 14:11:41 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 2F6BC72AB3A
	for <lucene-user@jakarta.apache.org>; Wed, 26 May 2004 10:11:43 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <OF753C77BD.5DED5992-ON80256EA0.0044D8CD@hsbcib.com>
References: <OF753C77BD.5DED5992-ON80256EA0.0044D8CD@hsbcib.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <9CBA4792-AF1E-11D8-86CA-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Memo:  RE: RE: Query parser and minus signs
Date: Wed, 26 May 2004 10:11:42 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

What is the value of your "Parsed query:" output?


On May 26, 2004, at 8:39 AM, alex.bourne@hsbcam.com wrote:

>
>
>
>
> I switched to indexing using a text field instead of keyword, then I 
> tried
> the following based on various pieces of advice:
>
>             PerFieldAnalyzerWrapper pfaw = new 
> PerFieldAnalyzerWrapper(new ChineseAnalyzer());
>             pfaw.addAnalyzer("language", new WhitespaceAnalyzer());
>
>             try
>             {
>                 query = MultiFieldQueryParser.parse(queryString, new 
> String[]{"contents", "keywords", "title", "language"}, (Analyzer) 
> pfaw);
>                 System.out.println("Parsed query: " + 
> query.toString());
>             }
>             catch (ParseException e)
>             {
>                 error = true;
>                 e.printStackTrace();
>             }
>
> I have tried both "language:zh-HK" and  "language:zh\-HK" (which 
> appears in
> the debugger as "language:zh\\-HK") as the query, and neither return 
> any
> hits. I've tried stepping through the code to see what is being indexed
> (which looks OK at least to a relative beginner like myself), and also
> through the search code but I'm still none the wiser.
>
> Am I doing something wrong, or have I completely missed the point ??
>
>
>
> To:    Alex BOURNE/IBEU/HSBC@HSBC
> cc:
> bcc:
>
> Subject:    RE: RE: Query parser and minus signs
>
>
> remember luke does not display the indexed tokens but the stored 
> field.  So
> you would expect to see en-uk in the field.
>
> doc.add(Field.Keyword("locale","test-uk"));
>
> are you adding to the document like this?
>
> Also what analyzer you using to pass the query?
>
> org.apache.lucene.analysis.WhitespaceAnalyzer : parses as locale:en-uk
> org.apache.lucene.analysis.SimpleAnalyzer : parses as locale:en uk
> org.apache.lucene.analysis.standard.StandardAnalyzer : parses as 
> locale:en
> uk
>
> Try using whitespace analyzer in Luke and see how it's interpreting the
> query.  If you are storing as a keyword but searching with tokens, it 
> may
> be your problem.
>
>
>
> -----Original Message-----
> From: alex.bourne@hsbcam.com [mailto:alex.bourne@hsbcam.com]
> Sent: 24 May 2004 09:50
> To: Lucene Users List
> Subject: RE: RE: Query parser and minus signs
>
>
>
>
>
>
> I tried this, but no it does not work. I'm concerned that escaping the
> minus symbol does not appear to work. The field is indexed as a 
> keyword so
> is not tokenized - I've checked the contents using luke which confirms
> this.
>
>
>
>
> "David Townsend" <david.townsend@magus.co.uk> on 21 May 2004 17:02
>
> Please respond to "Lucene Users List" <lucene-user@jakarta.apache.org>
>
> To:    "Lucene Users List" <lucene-user@jakarta.apache.org>
> cc:
> bcc:
>
> Subject:    RE: RE: Query parser and minus signs
>
>
> Doesn't "en UK" as a phrase query work?
>
> You're probably indexing it as a text field so it's being tokenised.
>
> -----Original Message-----
> From: alex.bourne@hsbcam.com [mailto:alex.bourne@hsbcam.com]
> Sent: 21 May 2004 16:47
> To: Lucene Users List
> Subject: Memo: RE: Query parser and minus signs
>
>
>
>
>
>
> Hmm, we may have to if there is no work around. We're not using java
> locales, but were trying to stick to the ISO standard which uses 
> hyphens.
>
>
>
>
> "Ryan Sonnek" <rsonnek@DigitalRiver.com> on 21 May 2004 16:38
>
> Please respond to "Lucene Users List" <lucene-user@jakarta.apache.org>
>
> To:    "Lucene Users List" <lucene-user@jakarta.apache.org>
> cc:
> bcc:
>
> Subject:    RE: Query parser and minus signs
>
>
> if you're dealing with locales, why not use java's built in locale 
> syntax
> (ex: en_UK, zh_HK)?
>
>> -----Original Message-----
>> From: alex.bourne@hsbcam.com [mailto:alex.bourne@hsbcam.com]
>> Sent: Friday, May 21, 2004 10:36 AM
>> To: lucene-user@jakarta.apache.org
>> Subject: Query parser and minus signs
>>
>>
>>
>>
>>
>>
>> Hi All,
>>
>> I'm using Lucene on a site that has split content with a
>> branch containing
>> pages in English and a separate branch in Chinese.  Some of
>> the chinese
>> pages include some (untranslatable) English words, so when a search is
>> carried out in either language you can get pages from the
>> wrong branch. To
>> combat this we introduced a language field into the index
>> which contains
>> the standard language codes: en-UK and zh-HK.
>>
>> When you parse a query  e.g. language:"en\-UK" you could
>> reasonably expect
>> the search to recover all pages with the language field set
>> to "en-UK" (the
>> minus symbol should be escaped by the backslash according to the FAQ).
>> Unfortunately the parser seems to return "en UK" as the
>> parsed query and
>> hence returns no documents.
>>
>> Has anyone else had this problem, or could suggest a
>> workaround ?? as I
>> have
>> yet to find a solution in the mailing archives or elsewhere.
>>
>> Many thanks in advance,
>>
>> Alex Bourne
>>
>>
>>
>> _____________________________________________________
>>
>> This transmission has been issued by a member of the HSBC Group
>> ("HSBC") for the information of the addressee only and should not be
>> reproduced and / or distributed to any other person. Each page
>> attached hereto must be read in conjunction with any disclaimer which
>> forms part of it. This transmission is neither an offer nor
>> the solicitation
>> of an offer to sell or purchase any investment. Its contents
>> are based
>> on information obtained from sources believed to be reliable but HSBC
>> makes no representation and accepts no responsibility or
>> liability as to
>> its completeness or accuracy.
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ******************************************************************
>  This message originated from the Internet. Its originator may or
>  may not be who they claim to be and the information contained in
>  the message and any attachments may or may not be accurate.
> ******************************************************************
>
>
>
>
>
>
>
>
> _____________________________________________________
>
> This transmission has been issued by a member of the HSBC Group
> ("HSBC") for the information of the addressee only and should not be
> reproduced and / or distributed to any other person. Each page
> attached hereto must be read in conjunction with any disclaimer which
> forms part of it. This transmission is neither an offer nor the
> solicitation
> of an offer to sell or purchase any investment. Its contents are based
> on information obtained from sources believed to be reliable but HSBC
> makes no representation and accepts no responsibility or liability as 
> to
> its completeness or accuracy.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ******************************************************************
>  This message originated from the Internet. Its originator may or
>  may not be who they claim to be and the information contained in
>  the message and any attachments may or may not be accurate.
> ******************************************************************
>
>
>
>
>
>
>
>
> _____________________________________________________
>
> This transmission has been issued by a member of the HSBC Group
> ("HSBC") for the information of the addressee only and should not be
> reproduced and / or distributed to any other person. Each page
> attached hereto must be read in conjunction with any disclaimer which
> forms part of it. This transmission is neither an offer nor the
> solicitation
> of an offer to sell or purchase any investment. Its contents are based
> on information obtained from sources believed to be reliable but HSBC
> makes no representation and accepts no responsibility or liability as 
> to
> its completeness or accuracy.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ******************************************************************
>  This message originated from the Internet. Its originator may or
>  may not be who they claim to be and the information contained in
>  the message and any attachments may or may not be accurate.
> ******************************************************************
>
>
>
>
>
>
> _____________________________________________________
>
> This transmission has been issued by a member of the HSBC Group
> ("HSBC") for the information of the addressee only and should not be
> reproduced and / or distributed to any other person. Each page
> attached hereto must be read in conjunction with any disclaimer which
> forms part of it. This transmission is neither an offer nor the 
> solicitation
> of an offer to sell or purchase any investment. Its contents are based
> on information obtained from sources believed to be reliable but HSBC
> makes no representation and accepts no responsibility or liability as 
> to
> its completeness or accuracy.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8438-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 26 14:49:25 2004
Return-Path: <lucene-user-return-8438-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46205 invoked from network); 26 May 2004 14:49:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 May 2004 14:49:25 -0000
Received: (qmail 58144 invoked by uid 500); 26 May 2004 14:48:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57936 invoked by uid 500); 26 May 2004 14:48:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57880 invoked by uid 98); 26 May 2004 14:48:47 -0000
Received: from alex.bourne@hsbcam.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(193.108.75.30):. 
 Processed in 0.196238 secs); 26 May 2004 14:48:47 -0000
X-Qmail-Scanner-Mail-From: alex.bourne@hsbcam.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(193.108.75.30):. Processed in 0.196238 secs)
Received: from unknown (HELO NNT243.systems.uk.hsbc) (193.108.75.30)
  by hermes.apache.org with SMTP; 26 May 2004 14:48:47 -0000
Received: from emea-smtp-05.systems.uk.hsbc (unverified) by 
    NNT243.systems.uk.hsbc (Content Technologies SMTPRS 4.3.6) with ESMTP id 
    <T69ce6b7a980a1b233ccbc@NNT243.systems.uk.hsbc> for 
    <lucene-user@jakarta.apache.org>; Wed, 26 May 2004 15:51:56 +0100
Sensitivity:
Subject: Memo:  Re: RE: RE: Query parser and minus signs
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: alex.bourne@hsbcam.com
Date: Wed, 26 May 2004 15:48:24 +0100
Message-ID: <OFED66704E.E062A5A6-ON80256EA0.00501AFE@hsbcib.com>
X-MIMETrack: Serialize by Router on EMEA-SMTP-05/SERVERS/HSBC 
    (Release 6.0.1CF3|July 29, 2003) at 26/05/2004 15:48:27
MIME-Version: 1.0
Content-type: text/plain; charset="us-ascii"
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N





Being a bit of a newbie I had tried putting "-language:zh-HK" by itself,
where it seems it will always return no results unless you combine it with
a positive term. However I then tried this and it does not seem to build
the query I had hoped for:

Query: hsbc
Parsed query: contents:hsbc keywords:hsbc title:hsbc language:hsbc
Hits: 206

Query: hsbc -language:zh-HK
Parsed query: (contents:hsbc -language:zh -contents:hk) (keywords:hsbc -language:zh -keywords:hk) (title:hsbc -language:zh -title:hk) (language:hsbc
-language:zh -language:HK)
Hits: 169
Not quite what I was expecting from the parsed query - the zh and HK are now separated.

Query: hsbc -language:zh\-HK
Parsed query: (contents:hsbc -language:zh\-HK) (keywords:hsbc -language:zh\-HK) (title:hsbc -language:zh\-HK) (language:hsbc -language:zh\-HK)
Hits: 206
And I'm guessing here, but I don't think the slash is escaping, does it just become part of the query??






Erik Hatcher <erik@ehatchersolutions.com> on 26 May 2004 15:11

Please respond to "Lucene Users List" <lucene-user@jakarta.apache.org>

To:    "Lucene Users List" <lucene-user@jakarta.apache.org>
cc:
bcc:

Subject:    Re: RE: RE: Query parser and minus signs


What is the value of your "Parsed query:" output?


On May 26, 2004, at 8:39 AM, alex.bourne@hsbcam.com wrote:

>
>
>
>
> I switched to indexing using a text field instead of keyword, then I
> tried
> the following based on various pieces of advice:
>
>             PerFieldAnalyzerWrapper pfaw = new
> PerFieldAnalyzerWrapper(new ChineseAnalyzer());
>             pfaw.addAnalyzer("language", new WhitespaceAnalyzer());
>
>             try
>             {
>                 query = MultiFieldQueryParser.parse(queryString, new
> String[]{"contents", "keywords", "title", "language"}, (Analyzer)
> pfaw);
>                 System.out.println("Parsed query: " +
> query.toString());
>             }
>             catch (ParseException e)
>             {
>                 error = true;
>                 e.printStackTrace();
>             }
>
> I have tried both "language:zh-HK" and  "language:zh\-HK" (which
> appears in
> the debugger as "language:zh\\-HK") as the query, and neither return
> any
> hits. I've tried stepping through the code to see what is being indexed
> (which looks OK at least to a relative beginner like myself), and also
> through the search code but I'm still none the wiser.
>
> Am I doing something wrong, or have I completely missed the point ??
>
>
>
> To:    Alex BOURNE/IBEU/HSBC@HSBC
> cc:
> bcc:
>
> Subject:    RE: RE: Query parser and minus signs
>
>
> remember luke does not display the indexed tokens but the stored
> field.  So
> you would expect to see en-uk in the field.
>
> doc.add(Field.Keyword("locale","test-uk"));
>
> are you adding to the document like this?
>
> Also what analyzer you using to pass the query?
>
> org.apache.lucene.analysis.WhitespaceAnalyzer : parses as locale:en-uk
> org.apache.lucene.analysis.SimpleAnalyzer : parses as locale:en uk
> org.apache.lucene.analysis.standard.StandardAnalyzer : parses as
> locale:en
> uk
>
> Try using whitespace analyzer in Luke and see how it's interpreting the
> query.  If you are storing as a keyword but searching with tokens, it
> may
> be your problem.
>
>
>
> -----Original Message-----
> From: alex.bourne@hsbcam.com [mailto:alex.bourne@hsbcam.com]
> Sent: 24 May 2004 09:50
> To: Lucene Users List
> Subject: RE: RE: Query parser and minus signs
>
>
>
>
>
>
> I tried this, but no it does not work. I'm concerned that escaping the
> minus symbol does not appear to work. The field is indexed as a
> keyword so
> is not tokenized - I've checked the contents using luke which confirms
> this.
>
>
>
>
> "David Townsend" <david.townsend@magus.co.uk> on 21 May 2004 17:02
>
> Please respond to "Lucene Users List" <lucene-user@jakarta.apache.org>
>
> To:    "Lucene Users List" <lucene-user@jakarta.apache.org>
> cc:
> bcc:
>
> Subject:    RE: RE: Query parser and minus signs
>
>
> Doesn't "en UK" as a phrase query work?
>
> You're probably indexing it as a text field so it's being tokenised.
>
> -----Original Message-----
> From: alex.bourne@hsbcam.com [mailto:alex.bourne@hsbcam.com]
> Sent: 21 May 2004 16:47
> To: Lucene Users List
> Subject: Memo: RE: Query parser and minus signs
>
>
>
>
>
>
> Hmm, we may have to if there is no work around. We're not using java
> locales, but were trying to stick to the ISO standard which uses
> hyphens.
>
>
>
>
> "Ryan Sonnek" <rsonnek@DigitalRiver.com> on 21 May 2004 16:38
>
> Please respond to "Lucene Users List" <lucene-user@jakarta.apache.org>
>
> To:    "Lucene Users List" <lucene-user@jakarta.apache.org>
> cc:
> bcc:
>
> Subject:    RE: Query parser and minus signs
>
>
> if you're dealing with locales, why not use java's built in locale
> syntax
> (ex: en_UK, zh_HK)?
>
>> -----Original Message-----
>> From: alex.bourne@hsbcam.com [mailto:alex.bourne@hsbcam.com]
>> Sent: Friday, May 21, 2004 10:36 AM
>> To: lucene-user@jakarta.apache.org
>> Subject: Query parser and minus signs
>>
>>
>>
>>
>>
>>
>> Hi All,
>>
>> I'm using Lucene on a site that has split content with a
>> branch containing
>> pages in English and a separate branch in Chinese.  Some of
>> the chinese
>> pages include some (untranslatable) English words, so when a search is
>> carried out in either language you can get pages from the
>> wrong branch. To
>> combat this we introduced a language field into the index
>> which contains
>> the standard language codes: en-UK and zh-HK.
>>
>> When you parse a query  e.g. language:"en\-UK" you could
>> reasonably expect
>> the search to recover all pages with the language field set
>> to "en-UK" (the
>> minus symbol should be escaped by the backslash according to the FAQ).
>> Unfortunately the parser seems to return "en UK" as the
>> parsed query and
>> hence returns no documents.
>>
>> Has anyone else had this problem, or could suggest a
>> workaround ?? as I
>> have
>> yet to find a solution in the mailing archives or elsewhere.
>>
>> Many thanks in advance,
>>
>> Alex Bourne
>>
>>
>>
>> _____________________________________________________
>>
>> This transmission has been issued by a member of the HSBC Group
>> ("HSBC") for the information of the addressee only and should not be
>> reproduced and / or distributed to any other person. Each page
>> attached hereto must be read in conjunction with any disclaimer which
>> forms part of it. This transmission is neither an offer nor
>> the solicitation
>> of an offer to sell or purchase any investment. Its contents
>> are based
>> on information obtained from sources believed to be reliable but HSBC
>> makes no representation and accepts no responsibility or
>> liability as to
>> its completeness or accuracy.
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ******************************************************************
>  This message originated from the Internet. Its originator may or
>  may not be who they claim to be and the information contained in
>  the message and any attachments may or may not be accurate.
> ******************************************************************
>
>
>
>
>
>
>
>
> _____________________________________________________
>
> This transmission has been issued by a member of the HSBC Group
> ("HSBC") for the information of the addressee only and should not be
> reproduced and / or distributed to any other person. Each page
> attached hereto must be read in conjunction with any disclaimer which
> forms part of it. This transmission is neither an offer nor the
> solicitation
> of an offer to sell or purchase any investment. Its contents are based
> on information obtained from sources believed to be reliable but HSBC
> makes no representation and accepts no responsibility or liability as
> to
> its completeness or accuracy.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ******************************************************************
>  This message originated from the Internet. Its originator may or
>  may not be who they claim to be and the information contained in
>  the message and any attachments may or may not be accurate.
> ******************************************************************
>
>
>
>
>
>
>
>
> _____________________________________________________
>
> This transmission has been issued by a member of the HSBC Group
> ("HSBC") for the information of the addressee only and should not be
> reproduced and / or distributed to any other person. Each page
> attached hereto must be read in conjunction with any disclaimer which
> forms part of it. This transmission is neither an offer nor the
> solicitation
> of an offer to sell or purchase any investment. Its contents are based
> on information obtained from sources believed to be reliable but HSBC
> makes no representation and accepts no responsibility or liability as
> to
> its completeness or accuracy.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ******************************************************************
>  This message originated from the Internet. Its originator may or
>  may not be who they claim to be and the information contained in
>  the message and any attachments may or may not be accurate.
> ******************************************************************
>
>
>
>
>
>
> _____________________________________________________
>
> This transmission has been issued by a member of the HSBC Group
> ("HSBC") for the information of the addressee only and should not be
> reproduced and / or distributed to any other person. Each page
> attached hereto must be read in conjunction with any disclaimer which
> forms part of it. This transmission is neither an offer nor the
> solicitation
> of an offer to sell or purchase any investment. Its contents are based
> on information obtained from sources believed to be reliable but HSBC
> makes no representation and accepts no responsibility or liability as
> to
> its completeness or accuracy.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



******************************************************************
 This message originated from the Internet. Its originator may or
 may not be who they claim to be and the information contained in
 the message and any attachments may or may not be accurate.
******************************************************************








_____________________________________________________

This transmission has been issued by a member of the HSBC Group 
("HSBC") for the information of the addressee only and should not be 
reproduced and / or distributed to any other person. Each page 
attached hereto must be read in conjunction with any disclaimer which 
forms part of it. This transmission is neither an offer nor the solicitation 
of an offer to sell or purchase any investment. Its contents are based 
on information obtained from sources believed to be reliable but HSBC 
makes no representation and accepts no responsibility or liability as to 
its completeness or accuracy.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8439-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 26 16:30:35 2004
Return-Path: <lucene-user-return-8439-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25388 invoked from network); 26 May 2004 16:30:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 May 2004 16:30:35 -0000
Received: (qmail 71252 invoked by uid 500); 26 May 2004 16:24:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71183 invoked by uid 500); 26 May 2004 16:24:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71082 invoked by uid 98); 26 May 2004 16:24:39 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(128.143.103.131):. 
 Processed in 0.129442 secs); 26 May 2004 16:24:39 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(128.143.103.131):. Processed in 0.129442 secs)
Received: from unknown (HELO postfix.mail.ehatchersolutions.com) (128.143.103.131)
  by hermes.apache.org with SMTP; 26 May 2004 16:24:38 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 3447672ADC2
	for <lucene-user@jakarta.apache.org>; Wed, 26 May 2004 12:24:31 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <OFED66704E.E062A5A6-ON80256EA0.00501AFE@hsbcib.com>
References: <OFED66704E.E062A5A6-ON80256EA0.00501AFE@hsbcib.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <2A0F8E68-AF31-11D8-86CA-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Memo:  Re: RE: RE: Query parser and minus signs
Date: Wed, 26 May 2004 12:24:30 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On May 26, 2004, at 10:48 AM, alex.bourne@hsbcam.com wrote:
> Query: hsbc -language:zh-HK
> Parsed query: (contents:hsbc -language:zh -contents:hk) (keywords:hsbc 
> -language:zh -keywords:hk) (title:hsbc -language:zh -title:hk) 
> (language:hsbc
> -language:zh -language:HK)
> Hits: 169
> Not quite what I was expecting from the parsed query - the zh and HK 
> are now separated.

I think I can safely say that you are not running the latest version of 
Lucene.  This has been corrected in the 1.4 versions.

I've tested this with "Wal-Mart" (without the quote) and QueryParser, 
and it works as expected.


> Query: hsbc -language:zh\-HK
> Parsed query: (contents:hsbc -language:zh\-HK) (keywords:hsbc 
> -language:zh\-HK) (title:hsbc -language:zh\-HK) (language:hsbc 
> -language:zh\-HK)
> Hits: 206
> And I'm guessing here, but I don't think the slash is escaping, does 
> it just become part of the query??

Now that is odd.

QueryParser is an awkward beast at times, and combining it with 
MultiFieldQueryParser (which I'd recommend against, as you can see with 
the odd queries it built for you) gets even more confusing.

Hopefully the latest Lucene 1.4 RC release will fix up your situation.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8440-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 26 18:17:14 2004
Return-Path: <lucene-user-return-8440-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4017 invoked from network); 26 May 2004 18:17:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 May 2004 18:17:14 -0000
Received: (qmail 6753 invoked by uid 500); 26 May 2004 18:17:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6625 invoked by uid 500); 26 May 2004 18:17:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6534 invoked by uid 98); 26 May 2004 18:17:25 -0000
Received: from Christophe.LOMBART@sword-technologies.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(212.233.9.147):. 
 Processed in 0.127882 secs); 26 May 2004 18:17:25 -0000
X-Qmail-Scanner-Mail-From: Christophe.LOMBART@sword-technologies.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(212.233.9.147):. Processed in 0.127882 secs)
Received: from unknown (HELO bxl-web.bxl.cronos-technologies.com) (212.233.9.147)
  by hermes.apache.org with SMTP; 26 May 2004 18:17:25 -0000
thread-index: AcRDTZ/4IA05+QL4T16nq8nOnjgPaw==
Received: from [81.242.198.52] ([81.242.198.52]) by bxl-web.bxl.cronos-technologies.com with Microsoft SMTPSVC(5.0.2195.6713); Wed, 26 May 2004 20:16:54 +0200
Message-ID: <40B4DF12.7020303@sword-technologies.com>
Date: Wed, 26 May 2004 20:16:50 +0200
From: "Christophe Lombart" <christophe.lombart@sword-technologies.com>
User-Agent: Mozilla Thunderbird 0.6 (Windows/20040502)
X-Accept-Language: en-us, en
Content-Class: urn:content-classes:message
Importance: normal
MIME-Version: 1.0
Priority: normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Asian languages
Content-Type: text/plain;
	format=flowed;
	charset="ISO-8859-1"
Content-Transfer-Encoding: 8bit
X-OriginalArrivalTime: 26 May 2004 18:16:54.0770 (UTC) FILETIME=[9FEA6D20:01C4434D]
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Which  asian languages are supported by Lucene ?
What about corean, japanese, tha, ... ?
If they are not yet supported, what I need to do ?

Thanks,
Christophe

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8441-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 26 19:02:30 2004
Return-Path: <lucene-user-return-8441-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33856 invoked from network); 26 May 2004 19:02:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 May 2004 19:02:30 -0000
Received: (qmail 714 invoked by uid 500); 26 May 2004 19:02:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 648 invoked by uid 500); 26 May 2004 19:02:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 495 invoked by uid 98); 26 May 2004 19:02:38 -0000
Received: from james_h_dunn@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(66.218.93.22):. 
 Processed in 0.062324 secs); 26 May 2004 19:02:38 -0000
X-Qmail-Scanner-Mail-From: james_h_dunn@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(66.218.93.22):. Processed in 0.062324 secs)
Received: from unknown (HELO web41106.mail.yahoo.com) (66.218.93.22)
  by hermes.apache.org with SMTP; 26 May 2004 19:02:36 -0000
Message-ID: <20040526190204.95248.qmail@web41106.mail.yahoo.com>
Received: from [12.13.3.253] by web41106.mail.yahoo.com via HTTP; Wed, 26 May 2004 12:02:04 PDT
Date: Wed, 26 May 2004 12:02:04 -0700 (PDT)
From: James Dunn <james_h_dunn@yahoo.com>
Subject: Memory usage
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

I was wondering if anyone has had problems with memory
usage and MultiSearcher.

My index is composed of two sub-indexes that I search
with a MultiSearcher.  The total size of the index is
about 3.7GB with the larger sub-index being 3.6GB and
the smaller being 117MB.

I am using Lucene 1.3 Final with the compound file
format.

Also I search across about 50 fields but I don't use
wildcard or range queries. 

Doing repeated searches in this way seems to
eventually chew up about 500MB of memory which seems
excessive to me.

Does anyone have any ideas where I could look to
reduce the memory my queries consume?

Thanks,

Jim


	
		
__________________________________
Do you Yahoo!?
Friends.  Fun.  Try the all-new Yahoo! Messenger.
http://messenger.yahoo.com/ 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8442-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 26 19:10:48 2004
Return-Path: <lucene-user-return-8442-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38974 invoked from network); 26 May 2004 19:10:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 May 2004 19:10:47 -0000
Received: (qmail 21158 invoked by uid 500); 26 May 2004 19:09:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20889 invoked by uid 500); 26 May 2004 19:09:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20691 invoked by uid 98); 26 May 2004 19:09:03 -0000
Received: from wallen@Cyveillance.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(63.100.163.104):. 
 Processed in 0.047852 secs); 26 May 2004 19:09:03 -0000
X-Qmail-Scanner-Mail-From: wallen@Cyveillance.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(63.100.163.104):. Processed in 0.047852 secs)
Received: from unknown (HELO mercury.corp.cyveillance.com) (63.100.163.104)
  by hermes.apache.org with SMTP; 26 May 2004 19:09:01 -0000
Received: by mercury.corp.cyveillance.com with Internet Mail Service (5.5.2655.55)
	id <KMGDGK03>; Wed, 26 May 2004 15:07:55 -0400
Message-ID: <E65AE9703B683F4C81B5B39C692EB26D1B01BB@mercury.corp.cyveillance.com>
From: wallen@Cyveillance.com
To: lucene-user@jakarta.apache.org
Subject: RE: Memory usage
Date: Wed, 26 May 2004 15:07:55 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This sounds like a memory leakage situation.  If you are using tomcat I
would suggest you make sure you are on a recent version, as it is known to
have some memory leaks in version 4.  It doesn't make sense that repeated
queries would use more memory that the most demanding query unless objects
are not getting freed from memory.

-Will

-----Original Message-----
From: James Dunn [mailto:james_h_dunn@yahoo.com]
Sent: Wednesday, May 26, 2004 3:02 PM
To: lucene-user@jakarta.apache.org
Subject: Memory usage


Hello,

I was wondering if anyone has had problems with memory
usage and MultiSearcher.

My index is composed of two sub-indexes that I search
with a MultiSearcher.  The total size of the index is
about 3.7GB with the larger sub-index being 3.6GB and
the smaller being 117MB.

I am using Lucene 1.3 Final with the compound file
format.

Also I search across about 50 fields but I don't use
wildcard or range queries. 

Doing repeated searches in this way seems to
eventually chew up about 500MB of memory which seems
excessive to me.

Does anyone have any ideas where I could look to
reduce the memory my queries consume?

Thanks,

Jim


	
		
__________________________________
Do you Yahoo!?
Friends.  Fun.  Try the all-new Yahoo! Messenger.
http://messenger.yahoo.com/ 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8443-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 26 20:08:34 2004
Return-Path: <lucene-user-return-8443-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82995 invoked from network); 26 May 2004 20:08:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 May 2004 20:08:34 -0000
Received: (qmail 52333 invoked by uid 500); 26 May 2004 20:05:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49455 invoked by uid 500); 26 May 2004 20:04:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48297 invoked by uid 98); 26 May 2004 20:04:35 -0000
Received: from gilberto.rodriguez@conviveon.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.199.173.5):. 
 Processed in 0.805082 secs); 26 May 2004 20:04:35 -0000
X-Qmail-Scanner-Mail-From: gilberto.rodriguez@conviveon.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.199.173.5):. Processed in 0.805082 secs)
Received: from unknown (HELO conviveon.net) (216.199.173.5)
  by hermes.apache.org with SMTP; 26 May 2004 20:04:32 -0000
Received: from [192.168.1.14] (unverified [216.199.116.163]) 
	by conviveon.net (SurgeMail 1.8e) with ESMTP id 7010304 
	for <lucene-user@jakarta.apache.org>; Wed, 26 May 2004 16:03:57 -0400
Mime-Version: 1.0 (Apple Message framework v613)
Content-Transfer-Encoding: quoted-printable
Message-Id: <D13E859A-AF4F-11D8-B36D-000A95BAF73E@conviveon.com>
Content-Type: text/plain; charset=WINDOWS-1252; format=flowed
To: lucene-user@jakarta.apache.org
From: Gilberto Rodriguez <gilberto.rodriguez@conviveon.com>
Subject: Problem Indexing Large Document Field
Date: Wed, 26 May 2004 16:03:55 -0400
X-Mailer: Apple Mail (2.613)
X-Server: High Performance Mail Server - http://surgemail.com
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am trying to index a field in a Lucene document with about 90,000=20
characters. The problem is that it only indexes part of the document.=20
It seems to only index about 65,00 characters. So, if I search on terms=20=

that are at the beginning of the text, the search works, but it fails=20
for terms that are at the end of the document.

Is there a limitation on how many characters can be stored in a=20
document field? Any help would be appreciated, thanks....


Gilberto Rodriguez
Software Engineer
  =A0
370 CenterPointe Circle, Suite 1178
Altamonte Springs, FL 32701-3451
  =A0
407.339.1177 (Ext.112) =95 phone
407.339.6704 =95 fax
gilberto.rodriguez@conviveon.com =95 email
www.conviveon.com =95 web
=A0
This e-mail contains legally privileged and confidential information=20
intended only for the individual or entity named within the message. If=20=

the reader of this message is not the intended recipient, or the agent=20=

responsible to deliver it to the intended recipient, the recipient is=20
hereby notified that any review, dissemination, distribution or copying=20=

of this communication is prohibited. If this communication was received=20=

in error, please notify me by reply e-mail and delete the original=20
message.=


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8444-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 26 20:10:17 2004
Return-Path: <lucene-user-return-8444-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84547 invoked from network); 26 May 2004 20:10:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 May 2004 20:10:17 -0000
Received: (qmail 67520 invoked by uid 500); 26 May 2004 20:08:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67262 invoked by uid 500); 26 May 2004 20:08:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67167 invoked by uid 98); 26 May 2004 20:08:36 -0000
Received: from james_h_dunn@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(66.218.93.18):. 
 Processed in 0.013786 secs); 26 May 2004 20:08:36 -0000
X-Qmail-Scanner-Mail-From: james_h_dunn@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(66.218.93.18):. Processed in 0.013786 secs)
Received: from unknown (HELO web41102.mail.yahoo.com) (66.218.93.18)
  by hermes.apache.org with SMTP; 26 May 2004 20:08:36 -0000
Message-ID: <20040526200801.20344.qmail@web41102.mail.yahoo.com>
Received: from [12.13.3.253] by web41102.mail.yahoo.com via HTTP; Wed, 26 May 2004 13:08:01 PDT
Date: Wed, 26 May 2004 13:08:01 -0700 (PDT)
From: James Dunn <james_h_dunn@yahoo.com>
Subject: RE: Memory usage
To: lucene-user@jakarta.apache.org
In-Reply-To: <E65AE9703B683F4C81B5B39C692EB26D1B01BB@mercury.corp.cyveillance.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Will,

Thanks for your response.  It may be an object leak. 
I will look into that.

I just ran some more tests and this time I create a
20GB index by repeatedly merging my large index into
itself.

When I ran my test query against that index I got an
OutOfMemoryError on the very first query.  I have my
heap set to 512MB.  Should a query against a 20GB
index require that much memory?  I page through the
results 100 at a time, so I should never have more
than 100 Document objects in memory.  

Any help would be appreciated, thanks!

Jim
--- wallen@Cyveillance.com wrote:
> This sounds like a memory leakage situation.  If you
> are using tomcat I
> would suggest you make sure you are on a recent
> version, as it is known to
> have some memory leaks in version 4.  It doesn't
> make sense that repeated
> queries would use more memory that the most
> demanding query unless objects
> are not getting freed from memory.
> 
> -Will
> 
> -----Original Message-----
> From: James Dunn [mailto:james_h_dunn@yahoo.com]
> Sent: Wednesday, May 26, 2004 3:02 PM
> To: lucene-user@jakarta.apache.org
> Subject: Memory usage
> 
> 
> Hello,
> 
> I was wondering if anyone has had problems with
> memory
> usage and MultiSearcher.
> 
> My index is composed of two sub-indexes that I
> search
> with a MultiSearcher.  The total size of the index
> is
> about 3.7GB with the larger sub-index being 3.6GB
> and
> the smaller being 117MB.
> 
> I am using Lucene 1.3 Final with the compound file
> format.
> 
> Also I search across about 50 fields but I don't use
> wildcard or range queries. 
> 
> Doing repeated searches in this way seems to
> eventually chew up about 500MB of memory which seems
> excessive to me.
> 
> Does anyone have any ideas where I could look to
> reduce the memory my queries consume?
> 
> Thanks,
> 
> Jim
> 
> 
> 	
> 		
> __________________________________
> Do you Yahoo!?
> Friends.  Fun.  Try the all-new Yahoo! Messenger.
> http://messenger.yahoo.com/ 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8445-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 26 20:15:55 2004
Return-Path: <lucene-user-return-8445-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88685 invoked from network); 26 May 2004 20:15:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 May 2004 20:15:55 -0000
Received: (qmail 937 invoked by uid 500); 26 May 2004 20:15:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 724 invoked by uid 500); 26 May 2004 20:15:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 584 invoked by uid 98); 26 May 2004 20:15:40 -0000
Received: from james_h_dunn@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(66.218.93.29):. 
 Processed in 0.13961 secs); 26 May 2004 20:15:40 -0000
X-Qmail-Scanner-Mail-From: james_h_dunn@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(66.218.93.29):. Processed in 0.13961 secs)
Received: from unknown (HELO web41113.mail.yahoo.com) (66.218.93.29)
  by hermes.apache.org with SMTP; 26 May 2004 20:15:39 -0000
Message-ID: <20040526201503.25408.qmail@web41113.mail.yahoo.com>
Received: from [12.13.3.253] by web41113.mail.yahoo.com via HTTP; Wed, 26 May 2004 13:15:03 PDT
Date: Wed, 26 May 2004 13:15:03 -0700 (PDT)
From: James Dunn <james_h_dunn@yahoo.com>
Subject: Re: Problem Indexing Large Document Field
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <D13E859A-AF4F-11D8-B36D-000A95BAF73E@conviveon.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Gilberto,

Look at the IndexWriter class.  It has a property,
maxFieldLength, which you can set to determine the max
number of characters to be stored in the index.

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexWriter.html

Jim

--- Gilberto Rodriguez
<gilberto.rodriguez@conviveon.com> wrote:
> I am trying to index a field in a Lucene document
> with about 90,000 
> characters. The problem is that it only indexes part
> of the document. 
> It seems to only index about 65,00 characters. So,
> if I search on terms 
> that are at the beginning of the text, the search
> works, but it fails 
> for terms that are at the end of the document.
> 
> Is there a limitation on how many characters can be
> stored in a 
> document field? Any help would be appreciated,
> thanks....
> 
> 
> Gilberto Rodriguez
> Software Engineer
>   
> 370 CenterPointe Circle, Suite 1178
> Altamonte Springs, FL 32701-3451
>   
> 407.339.1177 (Ext.112)  phone
> 407.339.6704  fax
> gilberto.rodriguez@conviveon.com  email
> www.conviveon.com  web
> 
> This e-mail contains legally privileged and
> confidential information 
> intended only for the individual or entity named
> within the message. If 
> the reader of this message is not the intended
> recipient, or the agent 
> responsible to deliver it to the intended recipient,
> the recipient is 
> hereby notified that any review, dissemination,
> distribution or copying 
> of this communication is prohibited. If this
> communication was received 
> in error, please notify me by reply e-mail and
> delete the original 
> message.
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 



	
		
__________________________________
Do you Yahoo!?
Friends.  Fun.  Try the all-new Yahoo! Messenger.
http://messenger.yahoo.com/ 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8446-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 26 20:31:05 2004
Return-Path: <lucene-user-return-8446-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98808 invoked from network); 26 May 2004 20:31:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 May 2004 20:31:05 -0000
Received: (qmail 72669 invoked by uid 500); 26 May 2004 20:30:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72597 invoked by uid 500); 26 May 2004 20:30:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72379 invoked by uid 98); 26 May 2004 20:30:25 -0000
Received: from gilberto.rodriguez@conviveon.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.199.173.5):. 
 Processed in 0.080515 secs); 26 May 2004 20:30:25 -0000
X-Qmail-Scanner-Mail-From: gilberto.rodriguez@conviveon.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.199.173.5):. Processed in 0.080515 secs)
Received: from unknown (HELO conviveon.net) (216.199.173.5)
  by hermes.apache.org with SMTP; 26 May 2004 20:30:25 -0000
Received: from [192.168.1.14] (unverified [216.199.116.163]) 
	by conviveon.net (SurgeMail 1.8e) with ESMTP id 7011047 
	for <lucene-user@jakarta.apache.org>; Wed, 26 May 2004 16:29:48 -0400
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <20040526201503.25408.qmail@web41113.mail.yahoo.com>
References: <20040526201503.25408.qmail@web41113.mail.yahoo.com>
Content-Type: text/plain; charset=UTF-8; delsp=yes; format=flowed
Message-Id: <6DFA3BB2-AF53-11D8-B36D-000A95BAF73E@conviveon.com>
Content-Transfer-Encoding: quoted-printable
From: Gilberto Rodriguez <gilberto.rodriguez@conviveon.com>
Subject: Re: Problem Indexing Large Document Field
Date: Wed, 26 May 2004 16:29:46 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Server: High Performance Mail Server - http://surgemail.com
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks,  James... That solved the problem.


On May 26, 2004, at 4:15 PM, James Dunn wrote:

> Gilberto,
>
> Look at the IndexWriter class.  It has a property,
> maxFieldLength, which you can set to determine the max
> number of characters to be stored in the index.
>
> http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/=20
> IndexWriter.html
>
> Jim
>
> --- Gilberto Rodriguez
> <gilberto.rodriguez@conviveon.com> wrote:
>> I am trying to index a field in a Lucene document
>> with about 90,000
>> characters. The problem is that it only indexes part
>> of the document.
>> It seems to only index about 65,00 characters. So,
>> if I search on terms
>> that are at the beginning of the text, the search
>> works, but it fails
>> for terms that are at the end of the document.
>>
>> Is there a limitation on how many characters can be
>> stored in a
>> document field? Any help would be appreciated,
>> thanks....
>>
>>
>> Gilberto Rodriguez
>> Software Engineer
>>   =C2=A0
>> 370 CenterPointe Circle, Suite 1178
>> Altamonte Springs, FL 32701-3451
>>   =C2=A0
>> 407.339.1177 (Ext.112) =C2=95 phone
>> 407.339.6704 =C2=95 fax
>> gilberto.rodriguez@conviveon.com =C2=95 email
>> www.conviveon.com =C2=95 web
>> =C2=A0
>> This e-mail contains legally privileged and
>> confidential information
>> intended only for the individual or entity named
>> within the message. If
>> the reader of this message is not the intended
>> recipient, or the agent
>> responsible to deliver it to the intended recipient,
>> the recipient is
>> hereby notified that any review, dissemination,
>> distribution or copying
>> of this communication is prohibited. If this
>> communication was received
>> in error, please notify me by reply e-mail and
>> delete the original
>> message.
>>
>>
> ---------------------------------------------------------------------
>> To unsubscribe, e-mail:
>> lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail:
>> lucene-user-help@jakarta.apache.org
>>
>
>
>
> =09
> 	=09
> __________________________________
> Do you Yahoo!?
> Friends.  Fun.  Try the all-new Yahoo! Messenger.
> http://messenger.yahoo.com/
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
Gilberto Rodriguez
Software Engineer
  =C2=A0
370 CenterPointe Circle, Suite 1178
Altamonte Springs, FL 32701-3451
  =C2=A0
407.339.1177 (Ext.112) =E2=80=A2 phone
407.339.6704 =E2=80=A2 fax
gilberto.rodriguez@conviveon.com =E2=80=A2 email
www.conviveon.com =E2=80=A2 web
=C2=A0
This e-mail contains legally privileged and confidential information =20
intended only for the individual or entity named within the message. If =20=

the reader of this message is not the intended recipient, or the agent =20=

responsible to deliver it to the intended recipient, the recipient is =20=

hereby notified that any review, dissemination, distribution or copying =20=

of this communication is prohibited. If this communication was received =20=

in error, please notify me by reply e-mail and delete the original =20
message.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8447-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 26 20:51:37 2004
Return-Path: <lucene-user-return-8447-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12341 invoked from network); 26 May 2004 20:51:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 May 2004 20:51:36 -0000
Received: (qmail 55621 invoked by uid 500); 26 May 2004 20:51:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55569 invoked by uid 500); 26 May 2004 20:51:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55537 invoked by uid 98); 26 May 2004 20:51:46 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(128.143.103.131):. 
 Processed in 0.028335 secs); 26 May 2004 20:51:46 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(128.143.103.131):. Processed in 0.028335 secs)
Received: from unknown (HELO postfix.mail.ehatchersolutions.com) (128.143.103.131)
  by hermes.apache.org with SMTP; 26 May 2004 20:51:46 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 22CAA72B505
	for <lucene-user@jakarta.apache.org>; Wed, 26 May 2004 16:51:25 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <20040526200801.20344.qmail@web41102.mail.yahoo.com>
References: <20040526200801.20344.qmail@web41102.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <731E33AB-AF56-11D8-86CA-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Memory usage
Date: Wed, 26 May 2004 16:51:24 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

How big are your actual Documents?  Are you caching Hits?  It stores, 
internally, up to 200 documents.

	Erik


On May 26, 2004, at 4:08 PM, James Dunn wrote:

> Will,
>
> Thanks for your response.  It may be an object leak.
> I will look into that.
>
> I just ran some more tests and this time I create a
> 20GB index by repeatedly merging my large index into
> itself.
>
> When I ran my test query against that index I got an
> OutOfMemoryError on the very first query.  I have my
> heap set to 512MB.  Should a query against a 20GB
> index require that much memory?  I page through the
> results 100 at a time, so I should never have more
> than 100 Document objects in memory.
>
> Any help would be appreciated, thanks!
>
> Jim
> --- wallen@Cyveillance.com wrote:
>> This sounds like a memory leakage situation.  If you
>> are using tomcat I
>> would suggest you make sure you are on a recent
>> version, as it is known to
>> have some memory leaks in version 4.  It doesn't
>> make sense that repeated
>> queries would use more memory that the most
>> demanding query unless objects
>> are not getting freed from memory.
>>
>> -Will
>>
>> -----Original Message-----
>> From: James Dunn [mailto:james_h_dunn@yahoo.com]
>> Sent: Wednesday, May 26, 2004 3:02 PM
>> To: lucene-user@jakarta.apache.org
>> Subject: Memory usage
>>
>>
>> Hello,
>>
>> I was wondering if anyone has had problems with
>> memory
>> usage and MultiSearcher.
>>
>> My index is composed of two sub-indexes that I
>> search
>> with a MultiSearcher.  The total size of the index
>> is
>> about 3.7GB with the larger sub-index being 3.6GB
>> and
>> the smaller being 117MB.
>>
>> I am using Lucene 1.3 Final with the compound file
>> format.
>>
>> Also I search across about 50 fields but I don't use
>> wildcard or range queries.
>>
>> Doing repeated searches in this way seems to
>> eventually chew up about 500MB of memory which seems
>> excessive to me.
>>
>> Does anyone have any ideas where I could look to
>> reduce the memory my queries consume?
>>
>> Thanks,
>>
>> Jim
>>
>>
>> 	
>> 		
>> __________________________________
>> Do you Yahoo!?
>> Friends.  Fun.  Try the all-new Yahoo! Messenger.
>> http://messenger.yahoo.com/
>>
>>
> ---------------------------------------------------------------------
>> To unsubscribe, e-mail:
>> lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail:
>> lucene-user-help@jakarta.apache.org
>>
>>
> ---------------------------------------------------------------------
>> To unsubscribe, e-mail:
>> lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail:
>> lucene-user-help@jakarta.apache.org
>>
>
>
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around
> http://mail.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8448-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 26 21:31:12 2004
Return-Path: <lucene-user-return-8448-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37662 invoked from network); 26 May 2004 21:31:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 May 2004 21:31:12 -0000
Received: (qmail 6613 invoked by uid 500); 26 May 2004 21:31:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6455 invoked by uid 500); 26 May 2004 21:31:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6216 invoked by uid 98); 26 May 2004 21:31:25 -0000
Received: from cutting@apache.org by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(209.10.110.95):. 
 Processed in 0.047295 secs); 26 May 2004 21:31:25 -0000
X-Qmail-Scanner-Mail-From: cutting@apache.org via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(209.10.110.95):. Processed in 0.047295 secs)
Received: from unknown (HELO londo.swishmail.com) (209.10.110.95)
  by hermes.apache.org with SMTP; 26 May 2004 21:31:24 -0000
Received: (qmail 6498 invoked by uid 89); 26 May 2004 21:30:44 -0000
Received: from unknown (HELO apache.org) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 26 May 2004 21:30:44 -0000
Message-ID: <40B50C78.4020200@apache.org>
Date: Wed, 26 May 2004 14:30:32 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Memory usage
References: <20040526190204.95248.qmail@web41106.mail.yahoo.com>
In-Reply-To: <20040526190204.95248.qmail@web41106.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

James Dunn wrote:
> Also I search across about 50 fields but I don't use
> wildcard or range queries. 

Lucene uses one byte of RAM per document per searched field, to hold the 
normalization values.  So if you search a 10M document collection with 
50 fields, then you'll end up using 500MB of RAM.

If you're using unanalyzed fields, then an easy workaround to reduce the 
number of fields is to combine many in a single field.  So, instead of, 
e.g., using an "f1" field with value "abc", and an "f2" field with value 
"efg", use a single field named "f" with values "1_abc" and "2_efg".

We could optimize this in Lucene.  If no values of an indexed field are 
analyzed, then we could store no norms for the field and hence read none 
into memory.  This wouldn't be too hard to implement...

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8449-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 26 21:37:20 2004
Return-Path: <lucene-user-return-8449-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41856 invoked from network); 26 May 2004 21:37:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 May 2004 21:37:20 -0000
Received: (qmail 32690 invoked by uid 500); 26 May 2004 21:37:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32384 invoked by uid 500); 26 May 2004 21:37:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32168 invoked by uid 98); 26 May 2004 21:37:34 -0000
Received: from james_h_dunn@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(66.218.93.26):. 
 Processed in 0.260726 secs); 26 May 2004 21:37:33 -0000
X-Qmail-Scanner-Mail-From: james_h_dunn@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(66.218.93.26):. Processed in 0.260726 secs)
Received: from unknown (HELO web41110.mail.yahoo.com) (66.218.93.26)
  by hermes.apache.org with SMTP; 26 May 2004 21:37:32 -0000
Message-ID: <20040526213651.40329.qmail@web41110.mail.yahoo.com>
Received: from [12.13.3.253] by web41110.mail.yahoo.com via HTTP; Wed, 26 May 2004 14:36:51 PDT
Date: Wed, 26 May 2004 14:36:51 -0700 (PDT)
From: James Dunn <james_h_dunn@yahoo.com>
Subject: Re: Memory usage
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <731E33AB-AF56-11D8-86CA-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik,

Thanks for the response.  

My actual documents are fairly small.  Most docs only
have about 10 fields.  Some of those fields are
stored, however, like the OBJECT_ID, NAME and DESC
fields.  The stored fields are pretty small as well. 
None should be more than 4KB and very few will
approach that limit.

I'm also using the default maxFieldSize value of
10000.  

I'm not caching hits, either.

Could it be my query?  I have about 80 total unique
fields in the index although no document has all 80. 
My query ends up looking like this:

+(F1:test F2:test ......  F80:test)

>From previous mails that doesn't look like an enormous
amount of fields to be searching against.  Is there
some formula for the amount of memory required for a
query based on the number of clauses and terms?

Jim



--- Erik Hatcher <erik@ehatchersolutions.com> wrote:
> How big are your actual Documents?  Are you caching
> Hits?  It stores, 
> internally, up to 200 documents.
> 
> 	Erik
> 
> 
> On May 26, 2004, at 4:08 PM, James Dunn wrote:
> 
> > Will,
> >
> > Thanks for your response.  It may be an object
> leak.
> > I will look into that.
> >
> > I just ran some more tests and this time I create
> a
> > 20GB index by repeatedly merging my large index
> into
> > itself.
> >
> > When I ran my test query against that index I got
> an
> > OutOfMemoryError on the very first query.  I have
> my
> > heap set to 512MB.  Should a query against a 20GB
> > index require that much memory?  I page through
> the
> > results 100 at a time, so I should never have more
> > than 100 Document objects in memory.
> >
> > Any help would be appreciated, thanks!
> >
> > Jim
> > --- wallen@Cyveillance.com wrote:
> >> This sounds like a memory leakage situation.  If
> you
> >> are using tomcat I
> >> would suggest you make sure you are on a recent
> >> version, as it is known to
> >> have some memory leaks in version 4.  It doesn't
> >> make sense that repeated
> >> queries would use more memory that the most
> >> demanding query unless objects
> >> are not getting freed from memory.
> >>
> >> -Will
> >>
> >> -----Original Message-----
> >> From: James Dunn [mailto:james_h_dunn@yahoo.com]
> >> Sent: Wednesday, May 26, 2004 3:02 PM
> >> To: lucene-user@jakarta.apache.org
> >> Subject: Memory usage
> >>
> >>
> >> Hello,
> >>
> >> I was wondering if anyone has had problems with
> >> memory
> >> usage and MultiSearcher.
> >>
> >> My index is composed of two sub-indexes that I
> >> search
> >> with a MultiSearcher.  The total size of the
> index
> >> is
> >> about 3.7GB with the larger sub-index being 3.6GB
> >> and
> >> the smaller being 117MB.
> >>
> >> I am using Lucene 1.3 Final with the compound
> file
> >> format.
> >>
> >> Also I search across about 50 fields but I don't
> use
> >> wildcard or range queries.
> >>
> >> Doing repeated searches in this way seems to
> >> eventually chew up about 500MB of memory which
> seems
> >> excessive to me.
> >>
> >> Does anyone have any ideas where I could look to
> >> reduce the memory my queries consume?
> >>
> >> Thanks,
> >>
> >> Jim
> >>
> >>
> >> 	
> >> 		
> >> __________________________________
> >> Do you Yahoo!?
> >> Friends.  Fun.  Try the all-new Yahoo! Messenger.
> >> http://messenger.yahoo.com/
> >>
> >>
> >
>
---------------------------------------------------------------------
> >> To unsubscribe, e-mail:
> >> lucene-user-unsubscribe@jakarta.apache.org
> >> For additional commands, e-mail:
> >> lucene-user-help@jakarta.apache.org
> >>
> >>
> >
>
---------------------------------------------------------------------
> >> To unsubscribe, e-mail:
> >> lucene-user-unsubscribe@jakarta.apache.org
> >> For additional commands, e-mail:
> >> lucene-user-help@jakarta.apache.org
> >>
> >
> >
> > __________________________________________________
> > Do You Yahoo!?
> > Tired of spam?  Yahoo! Mail has the best spam
> protection around
> > http://mail.yahoo.com
> >
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 



	
		
__________________________________
Do you Yahoo!?
Friends.  Fun.  Try the all-new Yahoo! Messenger.
http://messenger.yahoo.com/ 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8450-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 26 21:39:24 2004
Return-Path: <lucene-user-return-8450-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42802 invoked from network); 26 May 2004 21:39:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 May 2004 21:39:24 -0000
Received: (qmail 39912 invoked by uid 500); 26 May 2004 21:39:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39843 invoked by uid 500); 26 May 2004 21:39:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39484 invoked by uid 98); 26 May 2004 21:39:30 -0000
Received: from ctrl@altonsys.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.221.84.169):. 
 Processed in 0.027294 secs); 26 May 2004 21:39:30 -0000
X-Qmail-Scanner-Mail-From: ctrl@altonsys.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.221.84.169):. Processed in 0.027294 secs)
Received: from unknown (HELO cure.altonsys.com) (216.221.84.169)
  by hermes.apache.org with SMTP; 26 May 2004 21:39:30 -0000
Received: (qmail 659 invoked from network); 26 May 2004 21:31:17 -0000
Received: from unknown (HELO mail.altonsys.com) (192.168.2.2)
  by altonsys.com with SMTP; 26 May 2004 21:31:17 -0000
Received: from 206.47.220.230
        (SquirrelMail authenticated user ctrl)
        by mail.altonsys.com with HTTP;
        Wed, 26 May 2004 21:31:17 -0000 (UTC)
Message-ID: <52142.206.47.220.230.1085607077.squirrel@mail.altonsys.com>
Date: Wed, 26 May 2004 21:31:17 -0000 (UTC)
Subject: classic scenario
From: "Adrian Dumitru" <ctrl@altonsys.com>
To: lucene-user@jakarta.apache.org
User-Agent: SquirrelMail/1.4.1
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3
Importance: Normal
X-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on cure.altonsys.com
X-Spam-Level: 
X-Spam-Status: No, hits=0.9 required=5.0 tests=AWL,PRIORITY_NO_NAME 
	autolearn=no version=2.63
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I salute the Lucene community!
it will be a great help for me if I get your valuable opinions on the
following issue; I know I could've find more answers to my questions from
reading the documentation but I did invest some time on this and still
have these questions:

I am (also) building a web crawler, a topic specific one to be more
precise, for a vortal. I recently learned about Lucene and I'd very much
like to use it in order to handle keyword specific searched on the info
that I collect.
I suspect this is a "classic" project, at least for Lucene, probably
something like this has been addressed already on this disussion list, I'm
interested to hear any experience anyone might have with this subject.
My crawler goes on the internet, extracts/parse/ranks and saves websites,
most of the information is also categoriezed and stored in the database
but I also save about 10 top pages from each site in the filesystem.
The first question is: should I care about indexing these files at the
time I extract them from internet? Or should I index them later, when I
make them available for search?
If yes, then can I still name my files the way I want?(i.e. are there any
constraints in the filenames from Lucene perspective?)
Is it an OK idea to have the same files repository (or index) where the
crawler writes (indexes files) and the search function searches? I guess
performance issues are important here.
Can I still organize the files that I save the way I want? (I planned to
write all the files from a given website on different folders...and the
folders will have as name the id from my database)
I maintain a taxonomy (list of categories)...each website will fall into
one or more of these categories, also each website will have a rank. Does
Lucene have something that I should be aware of related to what I said?

I guess that's it for now...this is more like a pet project for me, a pet
which keeps growing :) I wouldn't mind any help and opinions you can
provide, source code samples, etc.

Big thanks in advance and good luck on your work.
adrian.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8451-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 26 21:41:53 2004
Return-Path: <lucene-user-return-8451-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44393 invoked from network); 26 May 2004 21:41:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 May 2004 21:41:53 -0000
Received: (qmail 50897 invoked by uid 500); 26 May 2004 21:42:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50825 invoked by uid 500); 26 May 2004 21:42:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50805 invoked by uid 98); 26 May 2004 21:42:21 -0000
Received: from james_h_dunn@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(66.218.93.17):. 
 Processed in 0.016841 secs); 26 May 2004 21:42:21 -0000
X-Qmail-Scanner-Mail-From: james_h_dunn@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(66.218.93.17):. Processed in 0.016841 secs)
Received: from unknown (HELO web41101.mail.yahoo.com) (66.218.93.17)
  by hermes.apache.org with SMTP; 26 May 2004 21:42:21 -0000
Message-ID: <20040526214140.62527.qmail@web41101.mail.yahoo.com>
Received: from [12.13.3.253] by web41101.mail.yahoo.com via HTTP; Wed, 26 May 2004 14:41:40 PDT
Date: Wed, 26 May 2004 14:41:40 -0700 (PDT)
From: James Dunn <james_h_dunn@yahoo.com>
Subject: Re: Memory usage
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <40B50C78.4020200@apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug,

Thanks!  

I just asked a question regarding how to calculate the
memory requirements for a search.  Does this memory
only get used only during the search operation itself,
or is it referenced by the Hits object or anything
else after the actual search completes?

Thanks again,

Jim


--- Doug Cutting <cutting@apache.org> wrote:
> James Dunn wrote:
> > Also I search across about 50 fields but I don't
> use
> > wildcard or range queries. 
> 
> Lucene uses one byte of RAM per document per
> searched field, to hold the 
> normalization values.  So if you search a 10M
> document collection with 
> 50 fields, then you'll end up using 500MB of RAM.
> 
> If you're using unanalyzed fields, then an easy
> workaround to reduce the 
> number of fields is to combine many in a single
> field.  So, instead of, 
> e.g., using an "f1" field with value "abc", and an
> "f2" field with value 
> "efg", use a single field named "f" with values
> "1_abc" and "2_efg".
> 
> We could optimize this in Lucene.  If no values of
> an indexed field are 
> analyzed, then we could store no norms for the field
> and hence read none 
> into memory.  This wouldn't be too hard to
> implement...
> 
> Doug
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 



	
		
__________________________________
Do you Yahoo!?
Friends.  Fun.  Try the all-new Yahoo! Messenger.
http://messenger.yahoo.com/ 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8452-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 26 21:53:04 2004
Return-Path: <lucene-user-return-8452-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52391 invoked from network); 26 May 2004 21:53:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 May 2004 21:53:03 -0000
Received: (qmail 87121 invoked by uid 500); 26 May 2004 21:53:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87041 invoked by uid 500); 26 May 2004 21:53:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86919 invoked by uid 98); 26 May 2004 21:53:19 -0000
Received: from cutting@apache.org by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(209.10.110.95):. 
 Processed in 0.075784 secs); 26 May 2004 21:53:19 -0000
X-Qmail-Scanner-Mail-From: cutting@apache.org via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(209.10.110.95):. Processed in 0.075784 secs)
Received: from unknown (HELO londo.swishmail.com) (209.10.110.95)
  by hermes.apache.org with SMTP; 26 May 2004 21:53:19 -0000
Received: (qmail 28198 invoked by uid 89); 26 May 2004 21:52:38 -0000
Received: from unknown (HELO apache.org) (postmaster@cottrell-cutting.net@24.5.163.156)
  by londo.swishmail.com with AES256-SHA encrypted SMTP; 26 May 2004 21:52:38 -0000
Message-ID: <40B5119A.4020501@apache.org>
Date: Wed, 26 May 2004 14:52:26 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040116
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Memory usage
References: <20040526214140.62527.qmail@web41101.mail.yahoo.com>
In-Reply-To: <20040526214140.62527.qmail@web41101.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

It is cached by the IndexReader and lives until the index reader is 
garbage collected.  50-70 searchable fields is a *lot*.  How many are 
analyzed text, and how many are simply keywords?

Doug

James Dunn wrote:
> Doug,
> 
> Thanks!  
> 
> I just asked a question regarding how to calculate the
> memory requirements for a search.  Does this memory
> only get used only during the search operation itself,
> or is it referenced by the Hits object or anything
> else after the actual search completes?
> 
> Thanks again,
> 
> Jim
> 
> 
> --- Doug Cutting <cutting@apache.org> wrote:
> 
>>James Dunn wrote:
>>
>>>Also I search across about 50 fields but I don't
>>
>>use
>>
>>>wildcard or range queries. 
>>
>>Lucene uses one byte of RAM per document per
>>searched field, to hold the 
>>normalization values.  So if you search a 10M
>>document collection with 
>>50 fields, then you'll end up using 500MB of RAM.
>>
>>If you're using unanalyzed fields, then an easy
>>workaround to reduce the 
>>number of fields is to combine many in a single
>>field.  So, instead of, 
>>e.g., using an "f1" field with value "abc", and an
>>"f2" field with value 
>>"efg", use a single field named "f" with values
>>"1_abc" and "2_efg".
>>
>>We could optimize this in Lucene.  If no values of
>>an indexed field are 
>>analyzed, then we could store no norms for the field
>>and hence read none 
>>into memory.  This wouldn't be too hard to
>>implement...
>>
>>Doug
>>
>>
> 
> ---------------------------------------------------------------------
> 
>>To unsubscribe, e-mail:
>>lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail:
>>lucene-user-help@jakarta.apache.org
>>
> 
> 
> 
> 
> 	
> 		
> __________________________________
> Do you Yahoo!?
> Friends.  Fun.  Try the all-new Yahoo! Messenger.
> http://messenger.yahoo.com/ 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8453-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 26 21:57:09 2004
Return-Path: <lucene-user-return-8453-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55793 invoked from network); 26 May 2004 21:57:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 May 2004 21:57:09 -0000
Received: (qmail 5024 invoked by uid 500); 26 May 2004 21:57:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4934 invoked by uid 500); 26 May 2004 21:57:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4704 invoked by uid 98); 26 May 2004 21:57:25 -0000
Received: from wallen@Cyveillance.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(63.100.163.104):. 
 Processed in 0.069395 secs); 26 May 2004 21:57:25 -0000
X-Qmail-Scanner-Mail-From: wallen@Cyveillance.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(63.100.163.104):. Processed in 0.069395 secs)
Received: from unknown (HELO mercury.corp.cyveillance.com) (63.100.163.104)
  by hermes.apache.org with SMTP; 26 May 2004 21:57:23 -0000
Received: by mercury.corp.cyveillance.com with Internet Mail Service (5.5.2655.55)
	id <KMGDGL4P>; Wed, 26 May 2004 17:56:07 -0400
Message-ID: <E65AE9703B683F4C81B5B39C692EB26D1B01C0@mercury.corp.cyveillance.com>
From: wallen@Cyveillance.com
To: lucene-user@jakarta.apache.org
Subject: RE: Problem Indexing Large Document Field
Date: Wed, 26 May 2004 17:56:06 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexW=
rite
r.html#DEFAULT_MAX_FIELD_LENGTH

maxFieldLength
public int maxFieldLengthThe maximum number of terms that will be =
indexed
for a single field in a document. This limits the amount of memory =
required
for indexing, so that collections with very large files will not crash =
the
indexing process by running out of memory.
Note that this effectively truncates large documents, excluding from =
the
index terms that occur further in the document. If you know your source
documents are large, be sure to set this value high enough to =
accomodate the
expected size. If you set it to Integer.MAX_VALUE, then the only limit =
is
your memory, but you should anticipate an OutOfMemoryError.

By default, no more than 10,000 terms will be indexed for a field.=20



-----Original Message-----
From: Gilberto Rodriguez [mailto:gilberto.rodriguez@conviveon.com]
Sent: Wednesday, May 26, 2004 4:04 PM
To: lucene-user@jakarta.apache.org
Subject: Problem Indexing Large Document Field


I am trying to index a field in a Lucene document with about 90,000=20
characters. The problem is that it only indexes part of the document.=20
It seems to only index about 65,00 characters. So, if I search on terms =

that are at the beginning of the text, the search works, but it fails=20
for terms that are at the end of the document.

Is there a limitation on how many characters can be stored in a=20
document field? Any help would be appreciated, thanks....


Gilberto Rodriguez
Software Engineer
  =A0
370 CenterPointe Circle, Suite 1178
Altamonte Springs, FL 32701-3451
  =A0
407.339.1177 (Ext.112) =95 phone
407.339.6704 =95 fax
gilberto.rodriguez@conviveon.com =95 email
www.conviveon.com =95 web
=A0
This e-mail contains legally privileged and confidential information=20
intended only for the individual or entity named within the message. If =

the reader of this message is not the intended recipient, or the agent=20
responsible to deliver it to the intended recipient, the recipient is=20
hereby notified that any review, dissemination, distribution or copying =

of this communication is prohibited. If this communication was received =

in error, please notify me by reply e-mail and delete the original=20
message.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8454-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 26 22:13:39 2004
Return-Path: <lucene-user-return-8454-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65022 invoked from network); 26 May 2004 22:13:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 May 2004 22:13:38 -0000
Received: (qmail 70295 invoked by uid 500); 26 May 2004 22:13:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69989 invoked by uid 500); 26 May 2004 22:13:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69815 invoked by uid 98); 26 May 2004 22:13:48 -0000
Received: from gilberto.rodriguez@conviveon.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.199.173.5):. 
 Processed in 0.114444 secs); 26 May 2004 22:13:48 -0000
X-Qmail-Scanner-Mail-From: gilberto.rodriguez@conviveon.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.199.173.5):. Processed in 0.114444 secs)
Received: from unknown (HELO conviveon.net) (216.199.173.5)
  by hermes.apache.org with SMTP; 26 May 2004 22:13:47 -0000
Received: from [192.168.1.14] (unverified [216.199.116.163]) 
	by conviveon.net (SurgeMail 1.8e) with ESMTP id 7013930 
	for <lucene-user@jakarta.apache.org>; Wed, 26 May 2004 18:13:04 -0400
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <E65AE9703B683F4C81B5B39C692EB26D1B01C0@mercury.corp.cyveillance.com>
References: <E65AE9703B683F4C81B5B39C692EB26D1B01C0@mercury.corp.cyveillance.com>
Content-Type: text/plain; charset=WINDOWS-1252; delsp=yes; format=flowed
Message-Id: <DAB5020D-AF61-11D8-B36D-000A95BAF73E@conviveon.com>
Content-Transfer-Encoding: quoted-printable
From: Gilberto Rodriguez <gilberto.rodriguez@conviveon.com>
Subject: Re: Problem Indexing Large Document Field
Date: Wed, 26 May 2004 18:13:02 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Server: High Performance Mail Server - http://surgemail.com
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yeap, that was the problem...  I just needed to increase the =20
maxFieldLength number.

Thanks...


On May 26, 2004, at 5:56 PM, wallen@Cyveillance.com wrote:

> http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/=20
> IndexWrite
> r.html#DEFAULT_MAX_FIELD_LENGTH
>
> maxFieldLength
> public int maxFieldLengthThe maximum number of terms that will be =20
> indexed
> for a single field in a document. This limits the amount of memory =20
> required
> for indexing, so that collections with very large files will not crash =
=20
> the
> indexing process by running out of memory.
> Note that this effectively truncates large documents, excluding from =20=

> the
> index terms that occur further in the document. If you know your =
source
> documents are large, be sure to set this value high enough to =20
> accomodate the
> expected size. If you set it to Integer.MAX_VALUE, then the only limit =
=20
> is
> your memory, but you should anticipate an OutOfMemoryError.
>
> By default, no more than 10,000 terms will be indexed for a field.
>
>
>
> -----Original Message-----
> From: Gilberto Rodriguez [mailto:gilberto.rodriguez@conviveon.com]
> Sent: Wednesday, May 26, 2004 4:04 PM
> To: lucene-user@jakarta.apache.org
> Subject: Problem Indexing Large Document Field
>
>
> I am trying to index a field in a Lucene document with about 90,000
> characters. The problem is that it only indexes part of the document.
> It seems to only index about 65,00 characters. So, if I search on =
terms
> that are at the beginning of the text, the search works, but it fails
> for terms that are at the end of the document.
>
> Is there a limitation on how many characters can be stored in a
> document field? Any help would be appreciated, thanks....
>
>
> Gilberto Rodriguez
> Software Engineer
>   =A0
> 370 CenterPointe Circle, Suite 1178
> Altamonte Springs, FL 32701-3451
>   =A0
> 407.339.1177 (Ext.112) =95 phone
> 407.339.6704 =95 fax
> gilberto.rodriguez@conviveon.com =95 email
> www.conviveon.com =95 web
> =A0
> This e-mail contains legally privileged and confidential information
> intended only for the individual or entity named within the message. =
If
> the reader of this message is not the intended recipient, or the agent
> responsible to deliver it to the intended recipient, the recipient is
> hereby notified that any review, dissemination, distribution or =
copying
> of this communication is prohibited. If this communication was =
received
> in error, please notify me by reply e-mail and delete the original
> message.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
Gilberto Rodriguez
Software Engineer
  =A0
370 CenterPointe Circle, Suite 1178
Altamonte Springs, FL 32701-3451
  =A0
407.339.1177 (Ext.112) =95 phone
407.339.6704 =95 fax
gilberto.rodriguez@conviveon.com =95 email
www.conviveon.com =95 web
=A0
This e-mail contains legally privileged and confidential information =20
intended only for the individual or entity named within the message. If =20=

the reader of this message is not the intended recipient, or the agent =20=

responsible to deliver it to the intended recipient, the recipient is =20=

hereby notified that any review, dissemination, distribution or copying =20=

of this communication is prohibited. If this communication was received =20=

in error, please notify me by reply e-mail and delete the original =20
message.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8455-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 26 22:31:47 2004
Return-Path: <lucene-user-return-8455-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74975 invoked from network); 26 May 2004 22:31:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 May 2004 22:31:47 -0000
Received: (qmail 29857 invoked by uid 500); 26 May 2004 22:32:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29828 invoked by uid 500); 26 May 2004 22:32:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29804 invoked by uid 98); 26 May 2004 22:32:14 -0000
Received: from Reece.1247688@bloglines.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.148.212.184):. 
 Processed in 0.011326 secs); 26 May 2004 22:32:14 -0000
X-Qmail-Scanner-Mail-From: Reece.1247688@bloglines.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.148.212.184):. Processed in 0.011326 secs)
Received: from unknown (HELO w02.bloglines.com) (216.148.212.184)
  by hermes.apache.org with SMTP; 26 May 2004 22:32:14 -0000
Received: (qmail 29257 invoked by uid 99); 26 May 2004 22:31:32 -0000
Message-ID: <1085610692.2344588112.29256.sendItem@bloglines.com>
Date: 26 May 2004 22:31:32 -0000
From: Reece.1247688@bloglines.com
To: lucene-user@jakarta.apache.org
Subject: Number query not working
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 8bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I have a bunch of digits in a field.  When I do this search it returns
nothing:

  myField:0000001085609805100

It returns the correct document
when I add a * to the end like this:

  myField:0000001085609805100* <--
added the *

I'm not sure what is happening here.  I'm thinking that Lucene
is doing some number conversion internally when it sees only digits.  When
I add the * maybe it presumes it is still a string.  

How do I get a string
of digits to work without adding a *?

Thanks,
Reece

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8456-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 26 22:39:01 2004
Return-Path: <lucene-user-return-8456-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79819 invoked from network); 26 May 2004 22:39:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 May 2004 22:39:01 -0000
Received: (qmail 49124 invoked by uid 500); 26 May 2004 22:39:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49078 invoked by uid 500); 26 May 2004 22:39:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49064 invoked by uid 98); 26 May 2004 22:39:27 -0000
Received: from Reece.1247688@bloglines.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.148.212.184):. 
 Processed in 0.038019 secs); 26 May 2004 22:39:27 -0000
X-Qmail-Scanner-Mail-From: Reece.1247688@bloglines.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.148.212.184):. Processed in 0.038019 secs)
Received: from unknown (HELO w02.bloglines.com) (216.148.212.184)
  by hermes.apache.org with SMTP; 26 May 2004 22:39:27 -0000
Received: (qmail 2232 invoked by uid 99); 26 May 2004 22:38:45 -0000
Message-ID: <1085611125.1307725223.2231.sendItem@bloglines.com>
Date: 26 May 2004 22:38:45 -0000
From: Reece.1247688@bloglines.com
To: lucene-user@jakarta.apache.org
Subject: Re: Number query not working
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 8bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

It looks like its because I'm using the SimpleAnalyzer instead of the
StandardAnalyzer.  What is the SimpleAnalyzer to this query to make it not
work?

Thanks,
Reece

--- Lucene Users List" <lucene-user@jakarta.apache.org
wrote:
Hi,
> 
> I have a bunch of digits in a field.  When I do this search
it returns
> nothing:
> 
>   myField:0000001085609805100
> 
> It returns
the correct document
> when I add a * to the end like this:
> 
>   myField:0000001085609805100*
<--
> added the *
> 
> I'm not sure what is happening here.  I'm thinking
that Lucene
> is doing some number conversion internally when it sees only
digits.  When
> I add the * maybe it presumes it is still a string.  
>

> How do I get a string
> of digits to work without adding a *?
> 
>
Thanks,
> Reece
> 
> ---------------------------------------------------------------------

> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For
additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8457-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 26 23:00:52 2004
Return-Path: <lucene-user-return-8457-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90669 invoked from network); 26 May 2004 23:00:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 May 2004 23:00:51 -0000
Received: (qmail 5138 invoked by uid 500); 26 May 2004 23:01:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5112 invoked by uid 500); 26 May 2004 23:01:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5086 invoked by uid 98); 26 May 2004 23:01:21 -0000
Received: from james_h_dunn@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(66.218.93.24):. 
 Processed in 0.033206 secs); 26 May 2004 23:01:21 -0000
X-Qmail-Scanner-Mail-From: james_h_dunn@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(66.218.93.24):. Processed in 0.033206 secs)
Received: from unknown (HELO web41108.mail.yahoo.com) (66.218.93.24)
  by hermes.apache.org with SMTP; 26 May 2004 23:01:21 -0000
Message-ID: <20040526230038.40020.qmail@web41108.mail.yahoo.com>
Received: from [12.13.3.253] by web41108.mail.yahoo.com via HTTP; Wed, 26 May 2004 16:00:38 PDT
Date: Wed, 26 May 2004 16:00:38 -0700 (PDT)
From: James Dunn <james_h_dunn@yahoo.com>
Subject: Re: Memory usage
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <40B5119A.4020501@apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug,

We only search on analyzed text fields.  There are a
couple of additional fields in the index like
OBJECT_ID that are keywords but we don't search
against those, we only use them once we get a result
back to find the thing that document represents.

Thanks,

Jim

--- Doug Cutting <cutting@apache.org> wrote:
> It is cached by the IndexReader and lives until the
> index reader is 
> garbage collected.  50-70 searchable fields is a
> *lot*.  How many are 
> analyzed text, and how many are simply keywords?
> 
> Doug
> 
> James Dunn wrote:
> > Doug,
> > 
> > Thanks!  
> > 
> > I just asked a question regarding how to calculate
> the
> > memory requirements for a search.  Does this
> memory
> > only get used only during the search operation
> itself,
> > or is it referenced by the Hits object or anything
> > else after the actual search completes?
> > 
> > Thanks again,
> > 
> > Jim
> > 
> > 
> > --- Doug Cutting <cutting@apache.org> wrote:
> > 
> >>James Dunn wrote:
> >>
> >>>Also I search across about 50 fields but I don't
> >>
> >>use
> >>
> >>>wildcard or range queries. 
> >>
> >>Lucene uses one byte of RAM per document per
> >>searched field, to hold the 
> >>normalization values.  So if you search a 10M
> >>document collection with 
> >>50 fields, then you'll end up using 500MB of RAM.
> >>
> >>If you're using unanalyzed fields, then an easy
> >>workaround to reduce the 
> >>number of fields is to combine many in a single
> >>field.  So, instead of, 
> >>e.g., using an "f1" field with value "abc", and an
> >>"f2" field with value 
> >>"efg", use a single field named "f" with values
> >>"1_abc" and "2_efg".
> >>
> >>We could optimize this in Lucene.  If no values of
> >>an indexed field are 
> >>analyzed, then we could store no norms for the
> field
> >>and hence read none 
> >>into memory.  This wouldn't be too hard to
> >>implement...
> >>
> >>Doug
> >>
> >>
> > 
> >
>
---------------------------------------------------------------------
> > 
> >>To unsubscribe, e-mail:
> >>lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail:
> >>lucene-user-help@jakarta.apache.org
> >>
> > 
> > 
> > 
> > 
> > 	
> > 		
> > __________________________________
> > Do you Yahoo!?
> > Friends.  Fun.  Try the all-new Yahoo! Messenger.
> > http://messenger.yahoo.com/ 
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 



	
		
__________________________________
Do you Yahoo!?
Friends.  Fun.  Try the all-new Yahoo! Messenger.
http://messenger.yahoo.com/ 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8458-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed May 26 23:25:54 2004
Return-Path: <lucene-user-return-8458-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5703 invoked from network); 26 May 2004 23:25:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 May 2004 23:25:54 -0000
Received: (qmail 77711 invoked by uid 500); 26 May 2004 23:26:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77678 invoked by uid 500); 26 May 2004 23:26:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77657 invoked by uid 98); 26 May 2004 23:26:24 -0000
Received: from Reece.1247688@bloglines.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.148.212.184):. 
 Processed in 0.027632 secs); 26 May 2004 23:26:24 -0000
X-Qmail-Scanner-Mail-From: Reece.1247688@bloglines.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.148.212.184):. Processed in 0.027632 secs)
Received: from unknown (HELO w02.bloglines.com) (216.148.212.184)
  by hermes.apache.org with SMTP; 26 May 2004 23:26:24 -0000
Received: (qmail 4479 invoked by uid 99); 26 May 2004 23:25:40 -0000
Message-ID: <1085613940.783575135.4478.sendItem@bloglines.com>
Date: 26 May 2004 23:25:40 -0000
From: Reece.1247688@bloglines.com
To: lucene-user@jakarta.apache.org
Subject: Re: Number query not working
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 8bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Whoa!  I reread my last post and the last sentence didn't make much sense.
 This is what I meant to say:

"What is the SimpleAnalyzer doing to this
query to make it not work?"

--- Lucene Users List" <lucene-user@jakarta.apache.org
wrote:
Hi,
> 
> It looks like its because I'm using the SimpleAnalyzer
instead of the
> StandardAnalyzer.  What is the SimpleAnalyzer to this query
to make it not
> work?
> 
> Thanks,
> Reece
> 
> --- Lucene Users List"
<lucene-user@jakarta.apache.org
> wrote:
> Hi,
> > 
> > I have a bunch
of digits in a field.  When I do this search
> it returns
> > nothing:
> > 
> >   myField:0000001085609805100
> > 
> > It returns
> the correct
document
> > when I add a * to the end like this:
> > 
> >   myField:0000001085609805100*

> <--
> > added the *
> > 
> > I'm not sure what is happening here.  I'm
thinking
> that Lucene
> > is doing some number conversion internally when
it sees only
> digits.  When
> > I add the * maybe it presumes it is still
a string.  
> >
> 
> > How do I get a string
> > of digits to work without
adding a *?
> > 
> >
> Thanks,
> > Reece
> > 
> > ---------------------------------------------------------------------

> 
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org

> > For
> additional commands, e-mail: lucene-user-help@jakarta.apache.org

> > 
> > 
> 
> 
> ---------------------------------------------------------------------

> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For
additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8459-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 27 01:04:01 2004
Return-Path: <lucene-user-return-8459-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51170 invoked from network); 27 May 2004 01:04:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 May 2004 01:04:01 -0000
Received: (qmail 19134 invoked by uid 500); 27 May 2004 01:04:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19102 invoked by uid 500); 27 May 2004 01:04:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19074 invoked by uid 98); 27 May 2004 01:04:28 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(24.51.109.181):. 
 Processed in 0.026097 secs); 27 May 2004 01:04:28 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(24.51.109.181):. Processed in 0.026097 secs)
Received: from unknown (HELO postfix.mail.ehatchersolutions.com) (24.51.109.181)
  by hermes.apache.org with SMTP; 27 May 2004 01:04:27 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id BF48872B871
	for <lucene-user@jakarta.apache.org>; Wed, 26 May 2004 21:03:56 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <1085611125.1307725223.2231.sendItem@bloglines.com>
References: <1085611125.1307725223.2231.sendItem@bloglines.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <BA36F8A0-AF79-11D8-827A-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Number query not working
Date: Wed, 26 May 2004 21:03:55 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On May 26, 2004, at 6:38 PM, Reece.1247688@bloglines.com wrote:
> It looks like its because I'm using the SimpleAnalyzer instead of the
> StandardAnalyzer.  What is the SimpleAnalyzer to this query to make it 
> not
> work?

	http://wiki.apache.org/jakarta-lucene/AnalysisParalysis

It is a good idea to analyze the analyzer.  Do a .toString output of 
the Query and you'll see clearly what happened.

	Erik



>
> Thanks,
> Reece
>
> --- Lucene Users List" <lucene-user@jakarta.apache.org
> wrote:
> Hi,
>>
>> I have a bunch of digits in a field.  When I do this search
> it returns
>> nothing:
>>
>>   myField:0000001085609805100
>>
>> It returns
> the correct document
>> when I add a * to the end like this:
>>
>>   myField:0000001085609805100*
> <--
>> added the *
>>
>> I'm not sure what is happening here.  I'm thinking
> that Lucene
>> is doing some number conversion internally when it sees only
> digits.  When
>> I add the * maybe it presumes it is still a string.
>>
>
>> How do I get a string
>> of digits to work without adding a *?
>>
>>
> Thanks,
>> Reece
>>
>> ---------------------------------------------------------------------
>
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For
> additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8460-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 27 03:09:55 2004
Return-Path: <lucene-user-return-8460-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21913 invoked from network); 27 May 2004 03:09:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 May 2004 03:09:55 -0000
Received: (qmail 69920 invoked by uid 500); 27 May 2004 03:10:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69899 invoked by uid 500); 27 May 2004 03:10:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69883 invoked by uid 98); 27 May 2004 03:10:27 -0000
Received: from chandan@ccnep.com.np by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(202.51.64.130):. 
 Processed in 1.144851 secs); 27 May 2004 03:10:27 -0000
X-Qmail-Scanner-Mail-From: chandan@ccnep.com.np via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(202.51.64.130):. Processed in 1.144851 secs)
Received: from unknown (HELO idlewild.ccnep.com.np) (202.51.64.130)
  by hermes.apache.org with SMTP; 27 May 2004 03:10:26 -0000
Received: from neplaptop ([202.51.64.153])
	by idlewild.ccnep.com.np (8.12.5/8.12.5) with SMTP id i4R3YLFQ013433
	for <lucene-user@jakarta.apache.org>; Thu, 27 May 2004 09:19:25 +0545
Message-ID: <002d01c44398$050c7910$2403a8c0@neplaptop>
From: "Chandan Tamrakar" <chandan@ccnep.com.np>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <40B4DF12.7020303@sword-technologies.com>
Subject: Re: Asian languages
Date: Thu, 27 May 2004 08:54:25 +0545
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

CJKAnalyzer suports chinese , japanese and korean languages , Im not sure
about the thai .
i got a CJKAnalyzer from lucene sandbox
----- Original Message ----- 
From: "Christophe Lombart" <christophe.lombart@sword-technologies.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, May 27, 2004 12:01 AM
Subject: Asian languages


> Which  asian languages are supported by Lucene ?
> What about corean, japanese, tha, ... ?
> If they are not yet supported, what I need to do ?
>
> Thanks,
> Christophe
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8461-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 27 04:53:09 2004
Return-Path: <lucene-user-return-8461-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7342 invoked from network); 27 May 2004 04:53:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 May 2004 04:53:09 -0000
Received: (qmail 69090 invoked by uid 500); 27 May 2004 04:53:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69035 invoked by uid 500); 27 May 2004 04:53:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69001 invoked by uid 98); 27 May 2004 04:53:23 -0000
Received: from karthik@controlnet.co.in by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.199.26.74):. 
 Processed in 3.572084 secs); 27 May 2004 04:53:23 -0000
X-Qmail-Scanner-Mail-From: karthik@controlnet.co.in via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.199.26.74):. Processed in 3.572084 secs)
Received: from unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by hermes.apache.org with SMTP; 27 May 2004 04:53:19 -0000
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HYCWQR00.USQ; Thu, 27 May 2004 10:34:03 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Cc: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	 "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Range Query Sombody HELP please
Date: Thu, 27 May 2004 10:30:27 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIAEFICAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <200405250929.14328.ykingma@xs4all.nl>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi
Lucene developers

Is it possible to do Search and retrieve relevant information on the Indexed
Document
within in specific range settings which may be  similar to an

Query in SQL  =  select  *  from BOOKSHELF where  book1  between 100 and 200

ex:-

       "search_word"  ,   Book between  100   AND   200

[ Note:- where Book uniquefield  hit info which is already Indexed ]


Sombody Please Help me   :(


with regards
Karthik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8462-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 27 04:53:09 2004
Return-Path: <lucene-user-return-8462-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7360 invoked from network); 27 May 2004 04:53:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 May 2004 04:53:09 -0000
Received: (qmail 69257 invoked by uid 500); 27 May 2004 04:53:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69045 invoked by uid 500); 27 May 2004 04:53:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69001 invoked by uid 98); 27 May 2004 04:53:23 -0000
Received: from karthik@controlnet.co.in by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.199.26.74):. 
 Processed in 3.572084 secs); 27 May 2004 04:53:23 -0000
X-Qmail-Scanner-Mail-From: karthik@controlnet.co.in via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.199.26.74):. Processed in 3.572084 secs)
Received: from unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by hermes.apache.org with SMTP; 27 May 2004 04:53:19 -0000
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HYCWQR00.USQ; Thu, 27 May 2004 10:34:03 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Cc: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	 "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Range Query Sombody HELP please
Date: Thu, 27 May 2004 10:30:27 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIAEFICAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <200405250929.14328.ykingma@xs4all.nl>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi
Lucene developers

Is it possible to do Search and retrieve relevant information on the Indexed
Document
within in specific range settings which may be  similar to an

Query in SQL  =  select  *  from BOOKSHELF where  book1  between 100 and 200

ex:-

       "search_word"  ,   Book between  100   AND   200

[ Note:- where Book uniquefield  hit info which is already Indexed ]


Sombody Please Help me   :(


with regards
Karthik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8463-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 27 04:53:09 2004
Return-Path: <lucene-user-return-8463-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7354 invoked from network); 27 May 2004 04:53:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 May 2004 04:53:09 -0000
Received: (qmail 69294 invoked by uid 500); 27 May 2004 04:53:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69130 invoked by uid 500); 27 May 2004 04:53:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69001 invoked by uid 98); 27 May 2004 04:53:23 -0000
Received: from karthik@controlnet.co.in by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.199.26.74):. 
 Processed in 3.572084 secs); 27 May 2004 04:53:23 -0000
X-Qmail-Scanner-Mail-From: karthik@controlnet.co.in via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.199.26.74):. Processed in 3.572084 secs)
Received: from unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by hermes.apache.org with SMTP; 27 May 2004 04:53:19 -0000
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HYCWQR00.USQ; Thu, 27 May 2004 10:34:03 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Cc: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	 "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Range Query Sombody HELP please
Date: Thu, 27 May 2004 10:30:27 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIAEFICAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <200405250929.14328.ykingma@xs4all.nl>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi
Lucene developers

Is it possible to do Search and retrieve relevant information on the Indexed
Document
within in specific range settings which may be  similar to an

Query in SQL  =  select  *  from BOOKSHELF where  book1  between 100 and 200

ex:-

       "search_word"  ,   Book between  100   AND   200

[ Note:- where Book uniquefield  hit info which is already Indexed ]


Sombody Please Help me   :(


with regards
Karthik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8464-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 27 07:16:12 2004
Return-Path: <lucene-user-return-8464-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81011 invoked from network); 27 May 2004 07:16:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 May 2004 07:16:12 -0000
Received: (qmail 88725 invoked by uid 500); 27 May 2004 07:16:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88681 invoked by uid 500); 27 May 2004 07:16:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88651 invoked by uid 98); 27 May 2004 07:16:45 -0000
Received: from ykingma@xs4all.nl by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(194.109.24.12):. 
 Processed in 0.210511 secs); 27 May 2004 07:16:45 -0000
X-Qmail-Scanner-Mail-From: ykingma@xs4all.nl via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(194.109.24.12):. Processed in 0.210511 secs)
Received: from unknown (HELO smtp-out2.xs4all.nl) (194.109.24.12)
  by hermes.apache.org with SMTP; 27 May 2004 07:16:45 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out2.xs4all.nl (8.12.10/8.12.10) with ESMTP id i4R7FnXk087265
	for <lucene-user@jakarta.apache.org>; Thu, 27 May 2004 09:15:50 +0200 (CEST)
From: Ype Kingma <ykingma@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Range Query Sombody HELP please
Date: Thu, 27 May 2004 09:15:49 +0200
User-Agent: KMail/1.5.4
References: <LOEGLEEGOAKBOLAJCCKIAEFICAAA.karthik@controlnet.co.in>
In-Reply-To: <LOEGLEEGOAKBOLAJCCKIAEFICAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200405270915.49165.ykingma@xs4all.nl>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday 27 May 2004 07:00, Karthik N S wrote:
> Hi
> Lucene developers
>
> Is it possible to do Search and retrieve relevant information on the
> Indexed Document
> within in specific range settings which may be  similar to an
>
> Query in SQL  =  select  *  from BOOKSHELF where  book1  between 100 and
> 200
>
> ex:-
>
>        "search_word"  ,   Book between  100   AND   200
>
> [ Note:- where Book uniquefield  hit info which is already Indexed ]

The query parser can construct this query for you (assuming search_word
is in the query default field):

+search_word +(book:[100 TO 200])

See also: http://jakarta.apache.org/lucene/docs/queryparsersyntax.html

One problem you might run into is that Lucene does not support numbers
directly, only strings are indexed. You can index these numbers with sufficient
zero's prefixed and add these prefix zero's in the query.

Erik Hatcher wrote an article on how to do make the query:
http://today.java.net/pub/a/today/2003/11/07/QueryParserRules.html
You'll need to override the getRangeQuery() method.

Have fun,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8465-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 27 07:29:36 2004
Return-Path: <lucene-user-return-8465-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93259 invoked from network); 27 May 2004 07:29:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 May 2004 07:29:36 -0000
Received: (qmail 51312 invoked by uid 500); 27 May 2004 07:30:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51271 invoked by uid 500); 27 May 2004 07:30:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51245 invoked by uid 98); 27 May 2004 07:30:06 -0000
Received: from karthik@controlnet.co.in by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.199.26.74):. 
 Processed in 0.567387 secs); 27 May 2004 07:30:06 -0000
X-Qmail-Scanner-Mail-From: karthik@controlnet.co.in via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.199.26.74):. Processed in 0.567387 secs)
Received: from unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by hermes.apache.org with SMTP; 27 May 2004 07:30:06 -0000
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HYD3ZZ00.UB6 for <lucene-user@jakarta.apache.org>; Thu,
          27 May 2004 13:10:47 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Range Query Sombody HELP please
Date: Thu, 27 May 2004 13:07:12 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIOEFICAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <200405270915.49165.ykingma@xs4all.nl>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi
   Lucene -Developer My main intention was

 Search for an word hit  in a Unique Field  between  ranges     say
book100  - book 200  indexed numbers
 It's something like creating a SUBSEARCH  with in the SEARCHINDEX.

  This is similar to a SQL =

     select  *  from BOOKSHELF.
                 or
     select  *  from BOOKSHELF where  book1  between 100 and  200.


with regards
Karthik

-----Original Message-----
From: Ype Kingma [mailto:ykingma@xs4all.nl]
Sent: Thursday, May 27, 2004 12:46 PM
To: lucene-user@jakarta.apache.org
Subject: Re: Range Query Sombody HELP please


On Thursday 27 May 2004 07:00, Karthik N S wrote:
> Hi
> Lucene developers
>
> Is it possible to do Search and retrieve relevant information on the
> Indexed Document
> within in specific range settings which may be  similar to an
>
> Query in SQL  =  select  *  from BOOKSHELF where  book1  between 100 and
> 200
>
> ex:-
>
>        "search_word"  ,   Book between  100   AND   200
>
> [ Note:- where Book uniquefield  hit info which is already Indexed ]

The query parser can construct this query for you (assuming search_word
is in the query default field):

+search_word +(book:[100 TO 200])

See also: http://jakarta.apache.org/lucene/docs/queryparsersyntax.html

One problem you might run into is that Lucene does not support numbers
directly, only strings are indexed. You can index these numbers with
sufficient
zero's prefixed and add these prefix zero's in the query.

Erik Hatcher wrote an article on how to do make the query:
http://today.java.net/pub/a/today/2003/11/07/QueryParserRules.html
You'll need to override the getRangeQuery() method.

Have fun,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8466-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 27 07:33:41 2004
Return-Path: <lucene-user-return-8466-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95105 invoked from network); 27 May 2004 07:33:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 May 2004 07:33:41 -0000
Received: (qmail 67097 invoked by uid 500); 27 May 2004 07:34:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67035 invoked by uid 500); 27 May 2004 07:34:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67008 invoked by uid 98); 27 May 2004 07:34:07 -0000
Received: from alex.bourne@hsbcam.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(193.108.75.30):. 
 Processed in 0.193628 secs); 27 May 2004 07:34:07 -0000
X-Qmail-Scanner-Mail-From: alex.bourne@hsbcam.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(193.108.75.30):. Processed in 0.193628 secs)
Received: from unknown (HELO NNT244.systems.uk.hsbc) (193.108.75.30)
  by hermes.apache.org with SMTP; 27 May 2004 07:34:07 -0000
Received: from emea-smtp-05.systems.uk.hsbc (unverified) by 
    NNT244.systems.uk.hsbc (Content Technologies SMTPRS 4.3.6) with ESMTP id 
    <T69d202b20d0a1b2346274@NNT244.systems.uk.hsbc> for 
    <lucene-user@jakarta.apache.org>; Thu, 27 May 2004 08:35:58 +0100
Sensitivity:
Subject: Memo:  Re: RE: RE: Query parser and minus signs
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: alex.bourne@hsbcam.com
Date: Thu, 27 May 2004 08:32:58 +0100
Message-ID: <OF5689F7DC.3AC31BE4-ON80256EA1.00291223@hsbcib.com>
X-MIMETrack: Serialize by Router on EMEA-SMTP-05/SERVERS/HSBC 
    (Release 6.0.1CF3|July 29, 2003) at 27/05/2004 08:33:09
MIME-Version: 1.0
Content-type: text/plain; charset="us-ascii"
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N





Thanks Erik :)

We are using 1.3 so it looks like an upgrade should be made asap.

Whilst hacking around I found an alternative solution. I went back to using
a Keyword field, but instead of using the minus symbol in the query I just
used "-language:en*" which has the desired effect.

Now I know about the upgrade to 1.4 I'll have a look at some alternative
solutions.

Thanks for everyone's suggestions on this problem.

Alex B.




Erik Hatcher <erik@ehatchersolutions.com> on 26 May 2004 17:24

Please respond to "Lucene Users List" <lucene-user@jakarta.apache.org>

To:    "Lucene Users List" <lucene-user@jakarta.apache.org>
cc:
bcc:

Subject:    Re: RE: RE: Query parser and minus signs



On May 26, 2004, at 10:48 AM, alex.bourne@hsbcam.com wrote:
> Query: hsbc -language:zh-HK
> Parsed query: (contents:hsbc -language:zh -contents:hk) (keywords:hsbc
> -language:zh -keywords:hk) (title:hsbc -language:zh -title:hk)
> (language:hsbc
> -language:zh -language:HK)
> Hits: 169
> Not quite what I was expecting from the parsed query - the zh and HK
> are now separated.

I think I can safely say that you are not running the latest version of
Lucene.  This has been corrected in the 1.4 versions.

I've tested this with "Wal-Mart" (without the quote) and QueryParser,
and it works as expected.


> Query: hsbc -language:zh\-HK
> Parsed query: (contents:hsbc -language:zh\-HK) (keywords:hsbc
> -language:zh\-HK) (title:hsbc -language:zh\-HK) (language:hsbc
> -language:zh\-HK)
> Hits: 206
> And I'm guessing here, but I don't think the slash is escaping, does
> it just become part of the query??

Now that is odd.

QueryParser is an awkward beast at times, and combining it with
MultiFieldQueryParser (which I'd recommend against, as you can see with
the odd queries it built for you) gets even more confusing.

Hopefully the latest Lucene 1.4 RC release will fix up your situation.

 Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



******************************************************************
 This message originated from the Internet. Its originator may or
 may not be who they claim to be and the information contained in
 the message and any attachments may or may not be accurate.
******************************************************************








_____________________________________________________

This transmission has been issued by a member of the HSBC Group 
("HSBC") for the information of the addressee only and should not be 
reproduced and / or distributed to any other person. Each page 
attached hereto must be read in conjunction with any disclaimer which 
forms part of it. This transmission is neither an offer nor the solicitation 
of an offer to sell or purchase any investment. Its contents are based 
on information obtained from sources believed to be reliable but HSBC 
makes no representation and accepts no responsibility or liability as to 
its completeness or accuracy.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8467-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 27 08:06:17 2004
Return-Path: <lucene-user-return-8467-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9448 invoked from network); 27 May 2004 08:06:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 May 2004 08:06:17 -0000
Received: (qmail 80777 invoked by uid 500); 27 May 2004 08:06:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80756 invoked by uid 500); 27 May 2004 08:06:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80726 invoked by uid 98); 27 May 2004 08:06:54 -0000
Received: from alex.bourne@hsbcam.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(193.108.75.30):. 
 Processed in 0.645363 secs); 27 May 2004 08:06:54 -0000
X-Qmail-Scanner-Mail-From: alex.bourne@hsbcam.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(193.108.75.30):. Processed in 0.645363 secs)
Received: from unknown (HELO NNT244.systems.uk.hsbc) (193.108.75.30)
  by hermes.apache.org with SMTP; 27 May 2004 08:06:53 -0000
Received: from emea-smtp-05.systems.uk.hsbc (unverified) by 
    NNT244.systems.uk.hsbc (Content Technologies SMTPRS 4.3.6) with ESMTP id 
    <T69d220b42e0a1b2346274@NNT244.systems.uk.hsbc> for 
    <lucene-user@jakarta.apache.org>; Thu, 27 May 2004 09:08:44 +0100
Sensitivity:
Subject: Memo:  Re: Asian languages
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: alex.bourne@hsbcam.com
Date: Thu, 27 May 2004 09:05:52 +0100
Message-ID: <OFDE099FFE.5808009D-ON80256EA1.002ACEC3@hsbcib.com>
X-MIMETrack: Serialize by Router on EMEA-SMTP-05/SERVERS/HSBC 
    (Release 6.0.1CF3|July 29, 2003) at 27/05/2004 09:05:54
MIME-Version: 1.0
Content-type: text/plain; charset=ISO-8859-1
Content-transfer-encoding: quoted-printable
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N





Hi Christophe,

we're currently indexing Chinese pages with little difficulty. You can use
the standard analyzer to index the documents and it will tokenize the
content into individual characters. If you want to create a list of 'stop'
words you will need to create your own analyzer and supply it with a list
of unicode characters to stop. We are indexing HTML pages using a spider to
traverse the site and have subclassed Document into HTML_Document. This
allows us to set the content encoding for the input stream reader - as our
system default is iso_8859-1 in common with most western machines - which
enables it to correctly process the unicode characters. You may need to do
this too.

Hope this helps

Alex.




"Christophe Lombart" <christophe.lombart@sword-technologies.com> on 26 May
2004 19:16

Please respond to "Lucene Users List" <lucene-user@jakarta.apache.org>

To:    "Lucene Users List" <lucene-user@jakarta.apache.org>
cc:
bcc:

Subject:    Asian languages


Which  asian languages are supported by Lucene ?
What about corean, japanese, tha=EF, ... ?
If they are not yet supported, what I need to do ?

Thanks,
Christophe

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



******************************************************************
 This message originated from the Internet. Its originator may or
 may not be who they claim to be and the information contained in
 the message and any attachments may or may not be accurate.
******************************************************************








_____________________________________________________

This transmission has been issued by a member of the HSBC Group=20
("HSBC") for the information of the addressee only and should not be=20
reproduced and / or distributed to any other person. Each page=20
attached hereto must be read in conjunction with any disclaimer which=20
forms part of it. This transmission is neither an offer nor the solicitatio=
n=20
of an offer to sell or purchase any investment. Its contents are based=20
on information obtained from sources believed to be reliable but HSBC=20
makes no representation and accepts no responsibility or liability as to=20
its completeness or accuracy.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8468-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 27 08:45:22 2004
Return-Path: <lucene-user-return-8468-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33453 invoked from network); 27 May 2004 08:45:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 May 2004 08:45:21 -0000
Received: (qmail 29996 invoked by uid 500); 27 May 2004 08:45:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29960 invoked by uid 500); 27 May 2004 08:45:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29931 invoked by uid 98); 27 May 2004 08:45:58 -0000
Received: from alex.bourne@hsbcam.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(193.108.75.30):. 
 Processed in 0.019345 secs); 27 May 2004 08:45:58 -0000
X-Qmail-Scanner-Mail-From: alex.bourne@hsbcam.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(193.108.75.30):. Processed in 0.019345 secs)
Received: from unknown (HELO NNT244.systems.uk.hsbc) (193.108.75.30)
  by hermes.apache.org with SMTP; 27 May 2004 08:45:57 -0000
Received: from emea-smtp-05.systems.uk.hsbc (unverified) by 
    NNT244.systems.uk.hsbc (Content Technologies SMTPRS 4.3.6) with ESMTP id 
    <T69d24472730a1b2346274@NNT244.systems.uk.hsbc> for 
    <lucene-user@jakarta.apache.org>; Thu, 27 May 2004 09:47:47 +0100
Sensitivity:
Subject: Memo:  Re: Asian languages
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: alex.bourne@hsbcam.com
Date: Thu, 27 May 2004 09:44:54 +0100
Message-ID: <OF86BA1DD0.1E52307A-ON80256EA1.002FD7A9@hsbcib.com>
X-MIMETrack: Serialize by Router on EMEA-SMTP-05/SERVERS/HSBC 
    (Release 6.0.1CF3|July 29, 2003) at 27/05/2004 09:44:57
MIME-Version: 1.0
Content-type: text/plain; charset=ISO-8859-1
Content-transfer-encoding: quoted-printable
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N





Sorry Christophe,

I mis-informed you. We did NOT subclass Document, we simply created an
HTMLDocument class with methods that return Lucene Documents with the
required fields added and that is where the content-encoding was set.

Alex.




Alex BOURNE/IBEU/HSBC@HSBC on 27 May 2004 09:05

Please respond to "Lucene Users List" <lucene-user@jakarta.apache.org>

To:    "Lucene Users List" <lucene-user@jakarta.apache.org>
cc:
bcc:

Subject:    Re: Asian languages






Hi Christophe,

we're currently indexing Chinese pages with little difficulty. You can use
the standard analyzer to index the documents and it will tokenize the
content into individual characters. If you want to create a list of 'stop'
words you will need to create your own analyzer and supply it with a list
of unicode characters to stop. We are indexing HTML pages using a spider to
traverse the site and have subclassed Document into HTML_Document. This
allows us to set the content encoding for the input stream reader - as our
system default is iso_8859-1 in common with most western machines - which
enables it to correctly process the unicode characters. You may need to do
this too.

Hope this helps

Alex.




"Christophe Lombart" <christophe.lombart@sword-technologies.com> on 26 May
2004 19:16

Please respond to "Lucene Users List" <lucene-user@jakarta.apache.org>

To:    "Lucene Users List" <lucene-user@jakarta.apache.org>
cc:
bcc:

Subject:    Asian languages


Which  asian languages are supported by Lucene ?
What about corean, japanese, tha=EF, ... ?
If they are not yet supported, what I need to do ?

Thanks,
Christophe

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



******************************************************************
 This message originated from the Internet. Its originator may or
 may not be who they claim to be and the information contained in
 the message and any attachments may or may not be accurate.
******************************************************************








_____________________________________________________

This transmission has been issued by a member of the HSBC Group
("HSBC") for the information of the addressee only and should not be
reproduced and / or distributed to any other person. Each page
attached hereto must be read in conjunction with any disclaimer which
forms part of it. This transmission is neither an offer nor the
solicitation
of an offer to sell or purchase any investment. Its contents are based
on information obtained from sources believed to be reliable but HSBC
makes no representation and accepts no responsibility or liability as to
its completeness or accuracy.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



******************************************************************
 This message originated from the Internet. Its originator may or
 may not be who they claim to be and the information contained in
 the message and any attachments may or may not be accurate.
******************************************************************








_____________________________________________________

This transmission has been issued by a member of the HSBC Group=20
("HSBC") for the information of the addressee only and should not be=20
reproduced and / or distributed to any other person. Each page=20
attached hereto must be read in conjunction with any disclaimer which=20
forms part of it. This transmission is neither an offer nor the solicitatio=
n=20
of an offer to sell or purchase any investment. Its contents are based=20
on information obtained from sources believed to be reliable but HSBC=20
makes no representation and accepts no responsibility or liability as to=20
its completeness or accuracy.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8469-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 27 09:21:34 2004
Return-Path: <lucene-user-return-8469-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55704 invoked from network); 27 May 2004 09:21:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 May 2004 09:21:34 -0000
Received: (qmail 64131 invoked by uid 500); 27 May 2004 09:21:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64053 invoked by uid 500); 27 May 2004 09:21:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64013 invoked by uid 98); 27 May 2004 09:21:35 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(24.51.109.181):. 
 Processed in 0.053121 secs); 27 May 2004 09:21:35 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(24.51.109.181):. Processed in 0.053121 secs)
Received: from unknown (HELO postfix.mail.ehatchersolutions.com) (24.51.109.181)
  by hermes.apache.org with SMTP; 27 May 2004 09:21:34 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 4ECC072BDC0
	for <lucene-user@jakarta.apache.org>; Thu, 27 May 2004 05:20:51 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <LOEGLEEGOAKBOLAJCCKIOEFICAAA.karthik@controlnet.co.in>
References: <LOEGLEEGOAKBOLAJCCKIOEFICAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <24FC164E-AFBF-11D8-B48A-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Range Query Sombody HELP please
Date: Thu, 27 May 2004 05:20:50 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On May 27, 2004, at 3:37 AM, Karthik N S wrote:
> Hi
>    Lucene -Developer My main intention was
>
>  Search for an word hit  in a Unique Field  between  ranges     say
> book100  - book 200  indexed numbers
>  It's something like creating a SUBSEARCH  with in the SEARCHINDEX.
>
>   This is similar to a SQL =
>
>      select  *  from BOOKSHELF.
>                  or
>      select  *  from BOOKSHELF where  book1  between 100 and  200.

Karthik - I'm having a hard time understanding your questions 
unfortunately.  Ype replied with solution suggestion by overriding 
getRangeQuery on a custom QueryParser subclass.  You need to ensure you 
are indexing numbers in a padded fashion:

	http://wiki.apache.org/jakarta-lucene/SearchNumericalFields

Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8470-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 27 12:40:24 2004
Return-Path: <lucene-user-return-8470-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66245 invoked from network); 27 May 2004 12:40:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 May 2004 12:40:24 -0000
Received: (qmail 22617 invoked by uid 500); 27 May 2004 12:40:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22570 invoked by uid 500); 27 May 2004 12:40:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22555 invoked by uid 98); 27 May 2004 12:40:15 -0000
Received: from otis_gospodnetic@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.136.173.238):. 
 Processed in 0.012143 secs); 27 May 2004 12:40:15 -0000
X-Qmail-Scanner-Mail-From: otis_gospodnetic@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.136.173.238):. Processed in 0.012143 secs)
Received: from unknown (HELO web12701.mail.yahoo.com) (216.136.173.238)
  by hermes.apache.org with SMTP; 27 May 2004 12:40:15 -0000
Message-ID: <20040527124011.3292.qmail@web12701.mail.yahoo.com>
Received: from [194.152.224.122] by web12701.mail.yahoo.com via HTTP; Thu, 27 May 2004 05:40:11 PDT
Date: Thu, 27 May 2004 05:40:11 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: classic scenario
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <52142.206.47.220.230.1085607077.squirrel@mail.altonsys.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

Answers inlined.

--- Adrian Dumitru <ctrl@altonsys.com> wrote:

> I am (also) building a web crawler, a topic specific one to be more
> precise, for a vortal. I recently learned about Lucene and I'd very
> much
> like to use it in order to handle keyword specific searched on the
> info
> that I collect.
> I suspect this is a "classic" project, at least for Lucene, probably
> something like this has been addressed already on this disussion
> list, I'm
> interested to hear any experience anyone might have with this
> subject.

See http://www.nutch.org/
It may make sense to join Nutch, contribute patches that help you, etc.
instead of building your own crawler from scratch.

> My crawler goes on the internet, extracts/parse/ranks and saves
> websites,
> most of the information is also categoriezed and stored in the
> database
> but I also save about 10 top pages from each site in the filesystem.
> The first question is: should I care about indexing these files at
> the
> time I extract them from internet? Or should I index them later, when
> I
> make them available for search?

Lucene does not care about files and is not limited to indexing files. 
It sounds like you tried the Lucene demo that indexes files in the file
system.

However, indexing in batch instead of as you crawl may be a more
scalable and cleaner, more manageable approach.  Nutch uses that
approach for a reason. :)

> If yes, then can I still name my files the way I want?(i.e. are there
> any
> constraints in the filenames from Lucene perspective?)

No constraints.

> Is it an OK idea to have the same files repository (or index) where
> the
> crawler writes (indexes files) and the search function searches?

Not a good idea.  Keep your Lucene index directory clean, and use it
only as an index directory.  Write your files elsewhere, I would
suggest.

> I
> guess
> performance issues are important here.
> Can I still organize the files that I save the way I want? (I planned
> to
> write all the files from a given website on different folders...and
> the
> folders will have as name the id from my database)

That is up to you and your application.  I just suggest you keep that
outside the index directory, in order to keep things clean, well
organized, and such.

> I maintain a taxonomy (list of categories)...each website will fall
> into
> one or more of these categories, also each website will have a rank.
> Does
> Lucene have something that I should be aware of related to what I
> said?

Lucene ranks search result items.  Look at Similarity and
DefaultSimilarity classes.  It sounds like you may benefit from having
a custom Similarity that is aware of your categories.

> I guess that's it for now...this is more like a pet project for me, a
> pet
> which keeps growing :) I wouldn't mind any help and opinions you can
> provide, source code samples, etc.

It this is really a pet project, perhaps joining Nutch will also be fun
for you.  Some recent Nutch contributors are also Lucene users.

Otis


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8471-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 27 12:55:15 2004
Return-Path: <lucene-user-return-8471-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75887 invoked from network); 27 May 2004 12:55:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 May 2004 12:55:15 -0000
Received: (qmail 90960 invoked by uid 500); 27 May 2004 12:53:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90537 invoked by uid 500); 27 May 2004 12:53:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90265 invoked by uid 98); 27 May 2004 12:53:48 -0000
Received: from otis_gospodnetic@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.136.173.244):. 
 Processed in 0.489413 secs); 27 May 2004 12:53:48 -0000
X-Qmail-Scanner-Mail-From: otis_gospodnetic@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.136.173.244):. Processed in 0.489413 secs)
Received: from unknown (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by hermes.apache.org with SMTP; 27 May 2004 12:53:46 -0000
Message-ID: <20040527125340.3135.qmail@web12707.mail.yahoo.com>
Received: from [194.152.224.122] by web12707.mail.yahoo.com via HTTP; Thu, 27 May 2004 05:53:40 PDT
Date: Thu, 27 May 2004 05:53:40 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Memory usage
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20040526230038.40020.qmail@web41108.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Sorry if I'm stating the obvious.  Is this happening in some
stand-alone unit tests, or are you running things from some application
and in some environment, like Tomcat, Jetty or in some non-web app?

Your queries are pretty big (although I recall some people using even
bigger ones... but it all depends on the hardware they had), but are
you sure running out of memory is due to Lucene, or could it be a leak
in the app from which you are running queries?

Otis


--- James Dunn <james_h_dunn@yahoo.com> wrote:
> Doug,
> 
> We only search on analyzed text fields.  There are a
> couple of additional fields in the index like
> OBJECT_ID that are keywords but we don't search
> against those, we only use them once we get a result
> back to find the thing that document represents.
> 
> Thanks,
> 
> Jim
> 
> --- Doug Cutting <cutting@apache.org> wrote:
> > It is cached by the IndexReader and lives until the
> > index reader is 
> > garbage collected.  50-70 searchable fields is a
> > *lot*.  How many are 
> > analyzed text, and how many are simply keywords?
> > 
> > Doug
> > 
> > James Dunn wrote:
> > > Doug,
> > > 
> > > Thanks!  
> > > 
> > > I just asked a question regarding how to calculate
> > the
> > > memory requirements for a search.  Does this
> > memory
> > > only get used only during the search operation
> > itself,
> > > or is it referenced by the Hits object or anything
> > > else after the actual search completes?
> > > 
> > > Thanks again,
> > > 
> > > Jim
> > > 
> > > 
> > > --- Doug Cutting <cutting@apache.org> wrote:
> > > 
> > >>James Dunn wrote:
> > >>
> > >>>Also I search across about 50 fields but I don't
> > >>
> > >>use
> > >>
> > >>>wildcard or range queries. 
> > >>
> > >>Lucene uses one byte of RAM per document per
> > >>searched field, to hold the 
> > >>normalization values.  So if you search a 10M
> > >>document collection with 
> > >>50 fields, then you'll end up using 500MB of RAM.
> > >>
> > >>If you're using unanalyzed fields, then an easy
> > >>workaround to reduce the 
> > >>number of fields is to combine many in a single
> > >>field.  So, instead of, 
> > >>e.g., using an "f1" field with value "abc", and an
> > >>"f2" field with value 
> > >>"efg", use a single field named "f" with values
> > >>"1_abc" and "2_efg".
> > >>
> > >>We could optimize this in Lucene.  If no values of
> > >>an indexed field are 
> > >>analyzed, then we could store no norms for the
> > field
> > >>and hence read none 
> > >>into memory.  This wouldn't be too hard to
> > >>implement...
> > >>
> > >>Doug
> > >>
> > >>
> > > 
> > >
> >
> ---------------------------------------------------------------------
> > > 
> > >>To unsubscribe, e-mail:
> > >>lucene-user-unsubscribe@jakarta.apache.org
> > >>For additional commands, e-mail:
> > >>lucene-user-help@jakarta.apache.org
> > >>
> > > 
> > > 
> > > 
> > > 
> > > 	
> > > 		
> > > __________________________________
> > > Do you Yahoo!?
> > > Friends.  Fun.  Try the all-new Yahoo! Messenger.
> > > http://messenger.yahoo.com/ 
> > > 
> > >
> >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > 
> 
> 
> 
> 	
> 		
> __________________________________
> Do you Yahoo!?
> Friends.  Fun.  Try the all-new Yahoo! Messenger.
> http://messenger.yahoo.com/ 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8472-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 27 12:58:30 2004
Return-Path: <lucene-user-return-8472-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77920 invoked from network); 27 May 2004 12:58:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 May 2004 12:58:30 -0000
Received: (qmail 15597 invoked by uid 500); 27 May 2004 12:58:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15532 invoked by uid 500); 27 May 2004 12:58:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15481 invoked by uid 98); 27 May 2004 12:58:18 -0000
Received: from otis_gospodnetic@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.136.173.238):. 
 Processed in 0.033233 secs); 27 May 2004 12:58:18 -0000
X-Qmail-Scanner-Mail-From: otis_gospodnetic@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.136.173.238):. Processed in 0.033233 secs)
Received: from unknown (HELO web12701.mail.yahoo.com) (216.136.173.238)
  by hermes.apache.org with SMTP; 27 May 2004 12:58:17 -0000
Message-ID: <20040527125811.5326.qmail@web12701.mail.yahoo.com>
Received: from [194.152.224.122] by web12701.mail.yahoo.com via HTTP; Thu, 27 May 2004 05:58:11 PDT
Date: Thu, 27 May 2004 05:58:11 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Range Query Sombody HELP please
To: Lucene Users List <lucene-user@jakarta.apache.org>
Cc: karthik@controlnet.co.in
In-Reply-To: <LOEGLEEGOAKBOLAJCCKIAEFICAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Karthik, namaste!

I seem to be getting multiple copies of your email.
I received 4 copies of this email.

Could you please limit things to 1 message per subject?
I get hundreds of messages every day as is. :(

Thank you,
Otis

--- Karthik N S <karthik@controlnet.co.in> wrote:
> 
> Hi
> Lucene developers
> 
> Is it possible to do Search and retrieve relevant information on the
> Indexed
> Document
> within in specific range settings which may be  similar to an
> 
> Query in SQL  =  select  *  from BOOKSHELF where  book1  between 100
> and 200
> 
> ex:-
> 
>        "search_word"  ,   Book between  100   AND   200
> 
> [ Note:- where Book uniquefield  hit info which is already Indexed ]
> 
> 
> Sombody Please Help me   :(
> 
> 
> with regards
> Karthik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8473-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 27 16:27:35 2004
Return-Path: <lucene-user-return-8473-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27944 invoked from network); 27 May 2004 16:27:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 May 2004 16:27:35 -0000
Received: (qmail 18031 invoked by uid 500); 27 May 2004 16:22:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17888 invoked by uid 500); 27 May 2004 16:22:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17806 invoked by uid 98); 27 May 2004 16:22:16 -0000
Received: from james_h_dunn@yahoo.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(66.218.93.19):. 
 Processed in 0.013064 secs); 27 May 2004 16:22:16 -0000
X-Qmail-Scanner-Mail-From: james_h_dunn@yahoo.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(66.218.93.19):. Processed in 0.013064 secs)
Received: from unknown (HELO web41103.mail.yahoo.com) (66.218.93.19)
  by hermes.apache.org with SMTP; 27 May 2004 16:22:16 -0000
Message-ID: <20040527162155.36280.qmail@web41103.mail.yahoo.com>
Received: from [12.13.3.253] by web41103.mail.yahoo.com via HTTP; Thu, 27 May 2004 09:21:55 PDT
Date: Thu, 27 May 2004 09:21:55 -0700 (PDT)
From: James Dunn <james_h_dunn@yahoo.com>
Subject: Re: Memory usage
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20040527125340.3135.qmail@web12707.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis,

My app does run within Tomcat.  But when I started
getting these OutOfMemoryErrors I wrote a little unit
test to watch the memory usage without Tomcat in the
middle and I still see the memory usage.

Thanks,

Jim
--- Otis Gospodnetic <otis_gospodnetic@yahoo.com>
wrote:
> Sorry if I'm stating the obvious.  Is this happening
> in some
> stand-alone unit tests, or are you running things
> from some application
> and in some environment, like Tomcat, Jetty or in
> some non-web app?
> 
> Your queries are pretty big (although I recall some
> people using even
> bigger ones... but it all depends on the hardware
> they had), but are
> you sure running out of memory is due to Lucene, or
> could it be a leak
> in the app from which you are running queries?
> 
> Otis
> 
> 
> --- James Dunn <james_h_dunn@yahoo.com> wrote:
> > Doug,
> > 
> > We only search on analyzed text fields.  There are
> a
> > couple of additional fields in the index like
> > OBJECT_ID that are keywords but we don't search
> > against those, we only use them once we get a
> result
> > back to find the thing that document represents.
> > 
> > Thanks,
> > 
> > Jim
> > 
> > --- Doug Cutting <cutting@apache.org> wrote:
> > > It is cached by the IndexReader and lives until
> the
> > > index reader is 
> > > garbage collected.  50-70 searchable fields is a
> > > *lot*.  How many are 
> > > analyzed text, and how many are simply keywords?
> > > 
> > > Doug
> > > 
> > > James Dunn wrote:
> > > > Doug,
> > > > 
> > > > Thanks!  
> > > > 
> > > > I just asked a question regarding how to
> calculate
> > > the
> > > > memory requirements for a search.  Does this
> > > memory
> > > > only get used only during the search operation
> > > itself,
> > > > or is it referenced by the Hits object or
> anything
> > > > else after the actual search completes?
> > > > 
> > > > Thanks again,
> > > > 
> > > > Jim
> > > > 
> > > > 
> > > > --- Doug Cutting <cutting@apache.org> wrote:
> > > > 
> > > >>James Dunn wrote:
> > > >>
> > > >>>Also I search across about 50 fields but I
> don't
> > > >>
> > > >>use
> > > >>
> > > >>>wildcard or range queries. 
> > > >>
> > > >>Lucene uses one byte of RAM per document per
> > > >>searched field, to hold the 
> > > >>normalization values.  So if you search a 10M
> > > >>document collection with 
> > > >>50 fields, then you'll end up using 500MB of
> RAM.
> > > >>
> > > >>If you're using unanalyzed fields, then an
> easy
> > > >>workaround to reduce the 
> > > >>number of fields is to combine many in a
> single
> > > >>field.  So, instead of, 
> > > >>e.g., using an "f1" field with value "abc",
> and an
> > > >>"f2" field with value 
> > > >>"efg", use a single field named "f" with
> values
> > > >>"1_abc" and "2_efg".
> > > >>
> > > >>We could optimize this in Lucene.  If no
> values of
> > > >>an indexed field are 
> > > >>analyzed, then we could store no norms for the
> > > field
> > > >>and hence read none 
> > > >>into memory.  This wouldn't be too hard to
> > > >>implement...
> > > >>
> > > >>Doug
> > > >>
> > > >>
> > > > 
> > > >
> > >
> >
>
---------------------------------------------------------------------
> > > > 
> > > >>To unsubscribe, e-mail:
> > > >>lucene-user-unsubscribe@jakarta.apache.org
> > > >>For additional commands, e-mail:
> > > >>lucene-user-help@jakarta.apache.org
> > > >>
> > > > 
> > > > 
> > > > 
> > > > 
> > > > 	
> > > > 		
> > > > __________________________________
> > > > Do you Yahoo!?
> > > > Friends.  Fun.  Try the all-new Yahoo!
> Messenger.
> > > > http://messenger.yahoo.com/ 
> > > > 
> > > >
> > >
> >
>
---------------------------------------------------------------------
> > > > To unsubscribe, e-mail:
> > > lucene-user-unsubscribe@jakarta.apache.org
> > > > For additional commands, e-mail:
> > > lucene-user-help@jakarta.apache.org
> > > > 
> > > 
> > >
> >
>
---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> > > lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > > lucene-user-help@jakarta.apache.org
> > > 
> > 
> > 
> > 
> > 	
> > 		
> > __________________________________
> > Do you Yahoo!?
> > Friends.  Fun.  Try the all-new Yahoo! Messenger.
> > http://messenger.yahoo.com/ 
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 



	
		
__________________________________
Do you Yahoo!?
Friends.  Fun.  Try the all-new Yahoo! Messenger.
http://messenger.yahoo.com/ 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8474-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 27 17:33:33 2004
Return-Path: <lucene-user-return-8474-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63323 invoked from network); 27 May 2004 17:33:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 May 2004 17:33:33 -0000
Received: (qmail 82156 invoked by uid 500); 27 May 2004 17:33:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81682 invoked by uid 500); 27 May 2004 17:33:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80777 invoked by uid 98); 27 May 2004 17:33:26 -0000
Received: from ykingma@xs4all.nl by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(194.109.24.11):. 
 Processed in 0.207266 secs); 27 May 2004 17:33:26 -0000
X-Qmail-Scanner-Mail-From: ykingma@xs4all.nl via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(194.109.24.11):. Processed in 0.207266 secs)
Received: from unknown (HELO smtp-out1.xs4all.nl) (194.109.24.11)
  by hermes.apache.org with SMTP; 27 May 2004 17:33:25 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out1.xs4all.nl (8.12.10/8.12.10) with ESMTP id i4RHWtNS049735
	for <lucene-user@jakarta.apache.org>; Thu, 27 May 2004 19:32:55 +0200 (CEST)
From: Ype Kingma <ykingma@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Range Query Sombody HELP please
Date: Thu, 27 May 2004 19:32:55 +0200
User-Agent: KMail/1.5.4
References: <LOEGLEEGOAKBOLAJCCKIOEFICAAA.karthik@controlnet.co.in>
In-Reply-To: <LOEGLEEGOAKBOLAJCCKIOEFICAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200405271932.55169.ykingma@xs4all.nl>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday 27 May 2004 09:37, Karthik N S wrote:
> Hi
>    Lucene -Developer My main intention was
>
>  Search for an word hit  in a Unique Field  between  ranges     say
> book100  - book 200  indexed numbers
>  It's something like creating a SUBSEARCH  with in the SEARCHINDEX.

You don't need to shout (uppercase), I've been teaching SQL.

Could you explain what you mean by subsearch?
I suppose you might want to have a look at the various filter classes
in the org.apache.lucene.search package.

Regards,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8475-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 27 18:59:24 2004
Return-Path: <lucene-user-return-8475-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49621 invoked from network); 27 May 2004 18:59:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 May 2004 18:59:24 -0000
Received: (qmail 50169 invoked by uid 500); 27 May 2004 18:59:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49932 invoked by uid 500); 27 May 2004 18:59:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49376 invoked by uid 98); 27 May 2004 18:59:14 -0000
Received: from Reece.1247688@bloglines.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.148.212.185):. 
 Processed in 0.014522 secs); 27 May 2004 18:59:14 -0000
X-Qmail-Scanner-Mail-From: Reece.1247688@bloglines.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.148.212.185):. Processed in 0.014522 secs)
Received: from unknown (HELO w03.bloglines.com) (216.148.212.185)
  by hermes.apache.org with SMTP; 27 May 2004 18:59:14 -0000
Received: (qmail 19817 invoked by uid 99); 27 May 2004 18:58:41 -0000
Message-ID: <1085684321.4138811840.19816.sendItem@bloglines.com>
Date: 27 May 2004 18:58:41 -0000
From: Reece.1247688@bloglines.com
To: lucene-user@jakarta.apache.org
Subject: Re: Number query not working
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 8bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks Erik!  That showed me the problem right away.
-Reece

--- Lucene
Users List" <lucene-user@jakarta.apache.org wrote:
On May 26, 2004, at 6:38
PM, Reece.1247688@bloglines.com wrote:
> > It looks like its because I'm
using the SimpleAnalyzer instead of the
> > StandardAnalyzer.  What is the
SimpleAnalyzer to this query to make it 
> > not
> > work?
> 
> 	http://wiki.apache.org/jakarta-lucene/AnalysisParalysis

> 
> It is a good idea to analyze the analyzer.  Do a .toString output of

> the Query and you'll see clearly what happened.
> 
> 	Erik
> 
> 
> 
> >
> > Thanks,
> > Reece
> >
> > --- Lucene Users List" <lucene-user@jakarta.apache.org

> > wrote:
> > Hi,
> >>
> >> I have a bunch of digits in a field.  When
I do this search
> > it returns
> >> nothing:
> >>
> >>   myField:0000001085609805100

> >>
> >> It returns
> > the correct document
> >> when I add a * to the
end like this:
> >>
> >>   myField:0000001085609805100*
> > <--
> >> added
the *
> >>
> >> I'm not sure what is happening here.  I'm thinking
> >
that Lucene
> >> is doing some number conversion internally when it sees
only
> > digits.  When
> >> I add the * maybe it presumes it is still a
string.
> >>
> >
> >> How do I get a string
> >> of digits to work without
adding a *?
> >>
> >>
> > Thanks,
> >> Reece
> >>
> >> ---------------------------------------------------------------------

> >
> >> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org

> >> For
> > additional commands, e-mail: lucene-user-help@jakarta.apache.org

> >>
> >>
> >
> >
> > ---------------------------------------------------------------------

> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

> 
> ---------------------------------------------------------------------

> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For
additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8476-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 27 20:52:07 2004
Return-Path: <lucene-user-return-8476-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21291 invoked from network); 27 May 2004 20:52:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 May 2004 20:52:07 -0000
Received: (qmail 39260 invoked by uid 500); 27 May 2004 20:51:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39091 invoked by uid 500); 27 May 2004 20:51:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38936 invoked by uid 98); 27 May 2004 20:51:54 -0000
Received: from DMGoodstein@lbl.gov by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(128.3.41.24):. 
 Processed in 0.142482 secs); 27 May 2004 20:51:54 -0000
X-Qmail-Scanner-Mail-From: DMGoodstein@lbl.gov via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(128.3.41.24):. Processed in 0.142482 secs)
Received: from unknown (HELO mta1.lbl.gov) (128.3.41.24)
  by hermes.apache.org with SMTP; 27 May 2004 20:51:53 -0000
Received: from mta1.lbl.gov (localhost [127.0.0.1])
	by mta1.lbl.gov (8.12.10/8.12.10) with ESMTP id i4RKpBBv022280
	for <lucene-user@jakarta.apache.org>; Thu, 27 May 2004 13:51:12 -0700 (PDT)
Received: from lbl.gov (imapb.lbl.gov [128.3.41.51])
	by mta1.lbl.gov (8.12.10/8.12.10) with ESMTP id i4RKpBlh022277
	for <lucene-user@jakarta.apache.org>; Thu, 27 May 2004 13:51:11 -0700 (PDT)
From: DMGoodstein@lbl.gov
Received: from [198.129.90.96] by imapb.lbl.gov (mshttpd); Thu, 27 May
 2004 13:51:11 -0700
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-ID: <732f3c72f24d.72f24d732f3c@lbl.gov>
Date: Thu, 27 May 2004 13:51:11 -0700
X-Mailer: iPlanet Messenger Express 5.2 HotFix 1.21 (built Sep  8 2003)
MIME-Version: 1.0
Content-Language: en
Subject: Hits object
X-Accept-Language: en
Priority: normal
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

At one point I thought I'd read that a Hits object
doesn't actually contain Documents, but rather
references to them.  However, in that case I
wouldn't expect I could save a Hits object past the
closing of it's orginiating Searcher (in this case a
MultiSearcher:  Hits hits =
myMultiSearcher.search(....)).  yet later when I
access the same Hits object (having reinstantiated a
new MultiSearcher, myMultiSearcher2, but *not*
performing a new search) I can retrieve documents
from the Hits object without complaint.  Is this
just my good fortune that things haven't been
garbage-collected yet?  Or does the Hits object
contain the full document set?

--David 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8477-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu May 27 22:45:27 2004
Return-Path: <lucene-user-return-8477-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71464 invoked from network); 27 May 2004 22:45:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 May 2004 22:45:27 -0000
Received: (qmail 23816 invoked by uid 500); 27 May 2004 22:45:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23789 invoked by uid 500); 27 May 2004 22:45:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23775 invoked by uid 98); 27 May 2004 22:45:57 -0000
Received: from markharw00d@yahoo.co.uk by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(194.106.33.237):. 
 Processed in 0.332545 secs); 27 May 2004 22:45:57 -0000
X-Qmail-Scanner-Mail-From: markharw00d@yahoo.co.uk via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(194.106.33.237):. Processed in 0.332545 secs)
Received: from unknown (HELO outmail.freedom2surf.net) (194.106.33.237)
  by hermes.apache.org with SMTP; 27 May 2004 22:45:57 -0000
Received: from dell (i-194-106-34-5.freedom2surf.net [194.106.34.5])
	by outmail.freedom2surf.net (8.12.10/8.12.10) with SMTP id i4RMjCU9013603
	for <lucene-user@jakarta.apache.org>; Thu, 27 May 2004 23:45:12 +0100
Date: Thu, 27 May 2004 23:45:12 +0100
Message-Id: <200405272245.i4RMjCU9013603@outmail.freedom2surf.net>
From: markharw00d@yahoo.co.uk
To: lucene-user@jakarta.apache.org
Subject: Tool for analyzing analyzers
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've knocked together this tool which automatically discovers Analyzers on the classpath and provides a GUI to allow you to try out different Analyzers and see their effects:

http://www.inperspective.com/lucene/Viewer.zip
This needs JDK1.4 and you'll need to define  the classpath to include Lucene and any of your custom analyzers.

Paste in some example text, take your pick of analyzer and hit the "Analyze" button to see the results.

Cheers
Mark



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8478-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 28 00:05:17 2004
Return-Path: <lucene-user-return-8478-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4943 invoked from network); 28 May 2004 00:05:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 May 2004 00:05:17 -0000
Received: (qmail 19763 invoked by uid 500); 28 May 2004 00:05:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19616 invoked by uid 500); 28 May 2004 00:05:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19415 invoked by uid 98); 28 May 2004 00:05:19 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(24.51.109.181):. 
 Processed in 0.055352 secs); 28 May 2004 00:05:19 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(24.51.109.181):. Processed in 0.055352 secs)
Received: from unknown (HELO postfix.mail.ehatchersolutions.com) (24.51.109.181)
  by hermes.apache.org with SMTP; 28 May 2004 00:05:18 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id C3F6672DF26
	for <lucene-user@jakarta.apache.org>; Thu, 27 May 2004 20:04:48 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <732f3c72f24d.72f24d732f3c@lbl.gov>
References: <732f3c72f24d.72f24d732f3c@lbl.gov>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <A157CD88-B03A-11D8-9040-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Hits object
Date: Thu, 27 May 2004 20:04:46 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hits caches up to 200 HitDocs, which may contain the underlying 
Document.  I suspect you accessed a Document that had already been 
accessed and thus found something in the cache, and it did not have to 
get back to the underlying searcher.

	Erik

On May 27, 2004, at 4:51 PM, DMGoodstein@lbl.gov wrote:

> At one point I thought I'd read that a Hits object
> doesn't actually contain Documents, but rather
> references to them.  However, in that case I
> wouldn't expect I could save a Hits object past the
> closing of it's orginiating Searcher (in this case a
> MultiSearcher:  Hits hits =
> myMultiSearcher.search(....)).  yet later when I
> access the same Hits object (having reinstantiated a
> new MultiSearcher, myMultiSearcher2, but *not*
> performing a new search) I can retrieve documents
> from the Hits object without complaint.  Is this
> just my good fortune that things haven't been
> garbage-collected yet?  Or does the Hits object
> contain the full document set?
>
> --David
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8479-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 28 00:12:56 2004
Return-Path: <lucene-user-return-8479-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8022 invoked from network); 28 May 2004 00:12:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 May 2004 00:12:56 -0000
Received: (qmail 46119 invoked by uid 500); 28 May 2004 00:13:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46063 invoked by uid 500); 28 May 2004 00:13:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45992 invoked by uid 98); 28 May 2004 00:13:24 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(24.51.109.181):. 
 Processed in 0.022627 secs); 28 May 2004 00:13:24 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(24.51.109.181):. Processed in 0.022627 secs)
Received: from unknown (HELO postfix.mail.ehatchersolutions.com) (24.51.109.181)
  by hermes.apache.org with SMTP; 28 May 2004 00:13:24 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 001B172DFEF
	for <lucene-user@jakarta.apache.org>; Thu, 27 May 2004 20:12:54 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <200405272245.i4RMjCU9013603@outmail.freedom2surf.net>
References: <200405272245.i4RMjCU9013603@outmail.freedom2surf.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <C2162110-B03B-11D8-9040-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Tool for analyzing analyzers
Date: Thu, 27 May 2004 20:12:51 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Mark,

Nice idea!  (I've had this type of thing on my to-do list for the 
Lucene demo refactoring that I *promise* I'll eventually get around 
to).

I tried to get it to work, though, and was unsuccessful.  It did not 
show me any Analyzers in the drop down (I have the latest CVS version 
of Lucene in my classpath).  Maybe this could be added into Luke as a 
new tab?  You can sort of fake this with Luke now, by entering your 
text as a query and seeing what it parses to, and select an Analyzer.

	Erik

On May 27, 2004, at 6:45 PM, markharw00d@yahoo.co.uk wrote:

> I've knocked together this tool which automatically discovers 
> Analyzers on the classpath and provides a GUI to allow you to try out 
> different Analyzers and see their effects:
>
> http://www.inperspective.com/lucene/Viewer.zip
> This needs JDK1.4 and you'll need to define  the classpath to include 
> Lucene and any of your custom analyzers.
>
> Paste in some example text, take your pick of analyzer and hit the 
> "Analyze" button to see the results.
>
> Cheers
> Mark
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8480-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 28 02:32:38 2004
Return-Path: <lucene-user-return-8480-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69536 invoked from network); 28 May 2004 02:32:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 May 2004 02:32:38 -0000
Received: (qmail 34469 invoked by uid 500); 28 May 2004 02:33:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34449 invoked by uid 500); 28 May 2004 02:33:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34429 invoked by uid 98); 28 May 2004 02:33:11 -0000
Received: from DMGoodstein@lbl.gov by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(128.3.41.24):. 
 Processed in 0.012762 secs); 28 May 2004 02:33:11 -0000
X-Qmail-Scanner-Mail-From: DMGoodstein@lbl.gov via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(128.3.41.24):. Processed in 0.012762 secs)
Received: from unknown (HELO mta1.lbl.gov) (128.3.41.24)
  by hermes.apache.org with SMTP; 28 May 2004 02:33:11 -0000
Received: from mta1.lbl.gov (localhost [127.0.0.1])
	by mta1.lbl.gov (8.12.10/8.12.10) with ESMTP id i4S2WKBv029594
	for <lucene-user@jakarta.apache.org>; Thu, 27 May 2004 19:32:21 -0700 (PDT)
Received: from lbl.gov (imapb.lbl.gov [128.3.41.51])
	by mta1.lbl.gov (8.12.10/8.12.10) with ESMTP id i4S2WKlh029591
	for <lucene-user@jakarta.apache.org>; Thu, 27 May 2004 19:32:20 -0700 (PDT)
From: DMGoodstein@lbl.gov
Received: from [63.195.88.117] by imapb.lbl.gov (mshttpd); Thu, 27 May
 2004 19:32:20 -0700
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-ID: <731ea7734fda.734fda731ea7@lbl.gov>
Date: Thu, 27 May 2004 19:32:20 -0700
X-Mailer: iPlanet Messenger Express 5.2 HotFix 1.21 (built Sep  8 2003)
MIME-Version: 1.0
Content-Language: en
Subject: Re: Hits object
X-Accept-Language: en
Priority: normal
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

so it sounds like I shouldn't rely on documents still being there in general.
--D


----- Original Message -----
From: Erik Hatcher <erik@ehatchersolutions.com>
Date: Thursday, May 27, 2004 5:04 pm
Subject: Re: Hits object

> Hits caches up to 200 HitDocs, which may contain the underlying 
> Document.  I suspect you accessed a Document that had already been 
> accessed and thus found something in the cache, and it did not 
> have to 
> get back to the underlying searcher.
> 
> 	Erik
> 
> On May 27, 2004, at 4:51 PM, DMGoodstein@lbl.gov wrote:
> 
> > At one point I thought I'd read that a Hits object
> > doesn't actually contain Documents, but rather
> > references to them.  However, in that case I
> > wouldn't expect I could save a Hits object past the
> > closing of it's orginiating Searcher (in this case a
> > MultiSearcher:  Hits hits =
> > myMultiSearcher.search(....)).  yet later when I
> > access the same Hits object (having reinstantiated a
> > new MultiSearcher, myMultiSearcher2, but *not*
> > performing a new search) I can retrieve documents
> > from the Hits object without complaint.  Is this
> > just my good fortune that things haven't been
> > garbage-collected yet?  Or does the Hits object
> > contain the full document set?
> >
> > --David
> >
> >
> >
> > -----------------------------------------------------------------
> ----
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> -------------------------------------------------------------------
> --
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8481-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 28 03:47:44 2004
Return-Path: <lucene-user-return-8481-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97521 invoked from network); 28 May 2004 03:47:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 May 2004 03:47:44 -0000
Received: (qmail 59157 invoked by uid 500); 28 May 2004 03:47:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58940 invoked by uid 500); 28 May 2004 03:47:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58591 invoked by uid 98); 28 May 2004 03:47:49 -0000
Received: from karthik@controlnet.co.in by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.199.26.74):. 
 Processed in 0.482292 secs); 28 May 2004 03:47:49 -0000
X-Qmail-Scanner-Mail-From: karthik@controlnet.co.in via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.199.26.74):. Processed in 0.482292 secs)
Received: from unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by hermes.apache.org with SMTP; 28 May 2004 03:47:49 -0000
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HYEOCI00.UMD for <lucene-user@jakarta.apache.org>; Fri,
          28 May 2004 09:27:54 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Range Query Sombody HELP please
Date: Fri, 28 May 2004 09:24:20 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKICEFMCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <200405271932.55169.ykingma@xs4all.nl>
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey Ype

     Apologies for the misconduct.

Weh we do a search in SQL  using '*' we all know that the result would be
total no of records in the table,but when  we want to get limit our record
we apply  range between 2 specific row records [Which we call it as
subsearch]

   Similarly  on a indexed  record  I would like perform the same tecnique
as above.
  In fact I was looking at the url u sent me in the last mail on using
getRange Queries
 and was working on the same

http://jakarta.apache.org/lucene/docs/queryparsersyntax.html

and

http://today.java.net/pub/a/today/2003/11/07/QueryParserRules.html

but witou results for the last 12 hrs.

If u could spare a few minuts and please expalin or provide a simple  [
full ] example using and
over riding the  getRange() method .

with regards
Karthik

-----Original Message-----
From: Ype Kingma [mailto:ykingma@xs4all.nl]
Sent: Thursday, May 27, 2004 11:03 PM
To: lucene-user@jakarta.apache.org
Subject: Re: Range Query Sombody HELP please


On Thursday 27 May 2004 09:37, Karthik N S wrote:
> Hi
>    Lucene -Developer My main intention was
>
>  Search for an word hit  in a Unique Field  between  ranges     say
> book100  - book 200  indexed numbers
>  It's something like creating a SUBSEARCH  with in the SEARCHINDEX.

You don't need to shout (uppercase), I've been teaching SQL.

Could you explain what you mean by subsearch?
I suppose you might want to have a look at the various filter classes
in the org.apache.lucene.search package.

Regards,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8482-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 28 03:51:03 2004
Return-Path: <lucene-user-return-8482-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98472 invoked from network); 28 May 2004 03:51:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 May 2004 03:51:03 -0000
Received: (qmail 69845 invoked by uid 500); 28 May 2004 03:51:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69783 invoked by uid 500); 28 May 2004 03:51:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69757 invoked by uid 98); 28 May 2004 03:51:07 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(24.51.109.181):. 
 Processed in 0.028944 secs); 28 May 2004 03:51:07 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(24.51.109.181):. Processed in 0.028944 secs)
Received: from unknown (HELO postfix.mail.ehatchersolutions.com) (24.51.109.181)
  by hermes.apache.org with SMTP; 28 May 2004 03:51:07 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 8EA887310CF
	for <lucene-user@jakarta.apache.org>; Thu, 27 May 2004 23:50:29 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <731ea7734fda.734fda731ea7@lbl.gov>
References: <731ea7734fda.734fda731ea7@lbl.gov>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <28B89282-B05A-11D8-BB57-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Hits object
Date: Thu, 27 May 2004 23:50:28 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On May 27, 2004, at 10:32 PM, DMGoodstein@lbl.gov wrote:
> so it sounds like I shouldn't rely on documents still being there in 
> general.

If you've thrown away the initial IndexSearcher, then Hits should be 
discarded also.

	Erik


> --D
>
>
> ----- Original Message -----
> From: Erik Hatcher <erik@ehatchersolutions.com>
> Date: Thursday, May 27, 2004 5:04 pm
> Subject: Re: Hits object
>
>> Hits caches up to 200 HitDocs, which may contain the underlying
>> Document.  I suspect you accessed a Document that had already been
>> accessed and thus found something in the cache, and it did not
>> have to
>> get back to the underlying searcher.
>>
>> 	Erik
>>
>> On May 27, 2004, at 4:51 PM, DMGoodstein@lbl.gov wrote:
>>
>>> At one point I thought I'd read that a Hits object
>>> doesn't actually contain Documents, but rather
>>> references to them.  However, in that case I
>>> wouldn't expect I could save a Hits object past the
>>> closing of it's orginiating Searcher (in this case a
>>> MultiSearcher:  Hits hits =
>>> myMultiSearcher.search(....)).  yet later when I
>>> access the same Hits object (having reinstantiated a
>>> new MultiSearcher, myMultiSearcher2, but *not*
>>> performing a new search) I can retrieve documents
>>> from the Hits object without complaint.  Is this
>>> just my good fortune that things haven't been
>>> garbage-collected yet?  Or does the Hits object
>>> contain the full document set?
>>>
>>> --David
>>>
>>>
>>>
>>> -----------------------------------------------------------------
>> ----
>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>> -------------------------------------------------------------------
>> --
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8483-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 28 06:46:49 2004
Return-Path: <lucene-user-return-8483-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77262 invoked from network); 28 May 2004 06:46:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 May 2004 06:46:49 -0000
Received: (qmail 26728 invoked by uid 500); 28 May 2004 06:47:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26550 invoked by uid 500); 28 May 2004 06:47:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26517 invoked by uid 98); 28 May 2004 06:47:23 -0000
Received: from markharw00d@yahoo.co.uk by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(194.106.33.237):. 
 Processed in 0.240536 secs); 28 May 2004 06:47:23 -0000
X-Qmail-Scanner-Mail-From: markharw00d@yahoo.co.uk via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(194.106.33.237):. Processed in 0.240536 secs)
Received: from unknown (HELO outmail.freedom2surf.net) (194.106.33.237)
  by hermes.apache.org with SMTP; 28 May 2004 06:47:23 -0000
Received: from Z-ISV03M0372 (i-194-106-34-5.freedom2surf.net [194.106.34.5])
	by outmail.freedom2surf.net (8.12.10/8.12.10) with SMTP id i4S6kRU9018574
	for lucene-user@jakarta.apache.org; Fri, 28 May 2004 07:46:27 +0100
Date: Fri, 28 May 2004 07:46:27 +0100
Message-Id: <200405280646.i4S6kRU9018574@outmail.freedom2surf.net>
From: markharw00d@yahoo.co.uk
To: lucene-user@jakarta.apache.org
Subject: Re: Tool for analyzing analyzers
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Erik,
I've had this running OK from the command line and in Eclipse on XP.
I suspect it might be because you're running a different OS? The "Classfinder" tries to split the system property
"java.class.path"  on the ";" character but I forgot different OSes have different seperators.

As for Luke etc - I had a vague notion that this could be extended into a more generalised workbench
for Lucene that could also help with indexing.
Using a plug-in architecture (once we get classloading sorted!) you could define interfaces for 
things such as fetchers (db/file/web) and parsers (PDF/Word..) and configure them to create indexes
using a GUI like this, or a web-based interface. People could then contribute plug-in implementations 
as Jars that you could just drop in to the workbench. 

Let me know your setup details and I'll try fix the classloader issue.

Cheers
Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8484-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 28 07:02:51 2004
Return-Path: <lucene-user-return-8484-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85010 invoked from network); 28 May 2004 07:02:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 May 2004 07:02:51 -0000
Received: (qmail 92916 invoked by uid 500); 28 May 2004 07:03:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92799 invoked by uid 500); 28 May 2004 07:03:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92782 invoked by uid 98); 28 May 2004 07:03:21 -0000
Received: from morus@tanto-xipolis.de by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(213.61.178.43):. 
 Processed in 0.085586 secs); 28 May 2004 07:03:21 -0000
X-Qmail-Scanner-Mail-From: morus@tanto-xipolis.de via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(213.61.178.43):. Processed in 0.085586 secs)
Received: from unknown (HELO mail.tanto.de) (213.61.178.43)
  by hermes.apache.org with SMTP; 28 May 2004 07:03:21 -0000
Received: from tucholsky.office.tanto.de (morus.office.tanto.de [10.0.1.4])
	by mail.tanto.de (Postfix) with ESMTP id 85ADA23BD4
	for <lucene-user@jakarta.apache.org>; Fri, 28 May 2004 09:02:28 +0200 (CEST)
Received: from tucholsky.office.tanto.de (morus@tucholsky [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) with ESMTP id i4S72PGL014662
	for <lucene-user@jakarta.apache.org>; Fri, 28 May 2004 09:02:25 +0200
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id i4S72P8c014658;
	Fri, 28 May 2004 09:02:25 +0200
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16566.58369.508996.881841@tanto-xipolis.de>
Date: Fri, 28 May 2004 09:02:25 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Tool for analyzing analyzers
In-Reply-To: <200405280646.i4S6kRU9018574@outmail.freedom2surf.net>
References: <200405280646.i4S6kRU9018574@outmail.freedom2surf.net>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Mark,

> I've had this running OK from the command line and in Eclipse on XP.
> I suspect it might be because you're running a different OS? The "Classfinder" tries to split the system property
> "java.class.path"  on the ";" character but I forgot different OSes have different seperators.
> 
> Let me know your setup details and I'll try fix the classloader issue.
> 
I have the same problems and am running on linux using ':' to separate
the class path...

BTW: I tried to compile your sources but you left out the part in thinlet.
  2928 Sun Oct 12 19:47:56 CEST 2003 thinlet/AppletLauncher.class
  2643 Sun Oct 12 19:47:56 CEST 2003 thinlet/FrameLauncher.class
 74823 Sun Oct 12 19:47:56 CEST 2003 thinlet/Thinlet.class
Was that intentional?

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8485-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 28 07:44:25 2004
Return-Path: <lucene-user-return-8485-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21752 invoked from network); 28 May 2004 07:44:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 May 2004 07:44:25 -0000
Received: (qmail 77742 invoked by uid 500); 28 May 2004 07:44:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77679 invoked by uid 500); 28 May 2004 07:44:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77644 invoked by uid 98); 28 May 2004 07:44:57 -0000
Received: from ykingma@xs4all.nl by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(194.109.24.5):. 
 Processed in 0.172706 secs); 28 May 2004 07:44:57 -0000
X-Qmail-Scanner-Mail-From: ykingma@xs4all.nl via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(194.109.24.5):. Processed in 0.172706 secs)
Received: from unknown (HELO smtp-out4.xs4all.nl) (194.109.24.5)
  by hermes.apache.org with SMTP; 28 May 2004 07:44:56 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out4.xs4all.nl (8.12.10/8.12.10) with ESMTP id i4S7hu5Z085626
	for <lucene-user@jakarta.apache.org>; Fri, 28 May 2004 09:43:57 +0200 (CEST)
From: Ype Kingma <ykingma@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Range Query Sombody HELP please
Date: Fri, 28 May 2004 09:43:55 +0200
User-Agent: KMail/1.5.4
References: <LOEGLEEGOAKBOLAJCCKICEFMCAAA.karthik@controlnet.co.in>
In-Reply-To: <LOEGLEEGOAKBOLAJCCKICEFMCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200405280943.56293.ykingma@xs4all.nl>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Karthik,

On Friday 28 May 2004 05:54, Karthik N S wrote:

=2E..
> Weh we do a search in SQL  using '*' we all know that the result would be
> total no of records in the table,but when  we want to get limit our record
> we apply  range between 2 specific row records [Which we call it as
> subsearch]
>
>
>    Similarly  on a indexed  record  I would like perform the same tecnique
> as above.

In case you need to reuse the limitation a filter is the way to go in Lucen=
e.
However it seems to be better to get the range query working first.

>   In fact I was looking at the url u sent me in the last mail on using
> getRange Queries
>  and was working on the same
>
> http://jakarta.apache.org/lucene/docs/queryparsersyntax.html

The query I gave uses two +'s prefixed to the query parts:

+search_word +(book:[100 TO 200])

Both query parts are required because of the +'s, ie. it works
as the AND operator in SQL. The TO operator queries the range
in the book field.

> and
>
> http://today.java.net/pub/a/today/2003/11/07/QueryParserRules.html
>
> but witou results for the last 12 hrs.

You have probably seen a lot of different things that will be useful later.

> If u could spare a few minuts and please expalin or provide a simple  [
> full ] example using and
> over riding the  getRange() method .

The problem you'll probably run into is that Lucene does not
support numbers directly, you'll have to index them as strings,
eg. by prefixing zero's:

As Erik indicated:=A0http://wiki.apache.org/jakarta-lucene/SearchNumericalF=
ields

You may have to reindex your data for this. In case you have a lot of data
consider setting up a test first.

Then in the getRangeQuery() method of your parser you'll need to prefix the=
 queried
numbers in the same way. The example in the article is about date fields,
but the adaptation to numbers shouldn't be a problem.

When you override this in your query parser:
getRangeQuery(String field, Analyzer analyzer, String start, String end, bo=
olean inclusive)
it will be called for the example query with  start =3D "100" and end =3D "=
200".

(See http://today.java.net/pub/a/today/2003/11/07/QueryParserRules.html
under Customizing query parser).

In the overriding method you can then call the super method with the
start and end prefixed with zero's as indicated in searching numerical fiel=
ds
referred to above.

Have fun, you'll get it working,

Ype

> with regards
> Karthik
>
> -----Original Message-----
> From: Ype Kingma [mailto:ykingma@xs4all.nl]
> Sent: Thursday, May 27, 2004 11:03 PM
> To: lucene-user@jakarta.apache.org
> Subject: Re: Range Query Sombody HELP please
>
> On Thursday 27 May 2004 09:37, Karthik N S wrote:
> > Hi
> >    Lucene -Developer My main intention was
> >
> >  Search for an word hit  in a Unique Field  between  ranges     say
> > book100  - book 200  indexed numbers
> >  It's something like creating a SUBSEARCH  with in the SEARCHINDEX.
=2E..
> Could you explain what you mean by subsearch?
> I suppose you might want to have a look at the various filter classes
> in the org.apache.lucene.search package.
>
> Regards,
> Ype
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8486-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 28 08:47:32 2004
Return-Path: <lucene-user-return-8486-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52839 invoked from network); 28 May 2004 08:47:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 May 2004 08:47:31 -0000
Received: (qmail 14031 invoked by uid 500); 28 May 2004 08:47:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13938 invoked by uid 500); 28 May 2004 08:47:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13820 invoked by uid 98); 28 May 2004 08:47:50 -0000
Received: from karthik@controlnet.co.in by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.199.26.74):. 
 Processed in 0.704874 secs); 28 May 2004 08:47:50 -0000
X-Qmail-Scanner-Mail-From: karthik@controlnet.co.in via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.199.26.74):. Processed in 0.704874 secs)
Received: from unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by hermes.apache.org with SMTP; 28 May 2004 08:47:49 -0000
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HYF29400.UGX for <lucene-user@jakarta.apache.org>; Fri,
          28 May 2004 14:28:16 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Range Query Sombody HELP please
Date: Fri, 28 May 2004 14:24:41 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIOEFOCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <200405280943.56293.ykingma@xs4all.nl>
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey ype

Thx for the advice but still I need to get the  exact situation working ,

1) I have a unique Field [ called filename ] which is indexed of type Text.
    It accepts the name of the HTML files as  the indexing parameter ,
   Also there is another Field called "Contents"   which stores all the
contents of that
   indicated unique named html file.

2) The indexer complete indexes for about 5000 html files  sucessfully .

3) When I do a search for word ,it returns a hit of  400  on various html
files

Now in this situation if I want to limit the hits  between  First 200  to
400  html Page Names  only
what exactly should I do to using getRange() method.


Please advise on how to proceed ...


with regards
Karthik


-----Original Message-----
From: Ype Kingma [mailto:ykingma@xs4all.nl]
Sent: Friday, May 28, 2004 1:14 PM
To: lucene-user@jakarta.apache.org
Subject: Re: Range Query Sombody HELP please


Karthik,

On Friday 28 May 2004 05:54, Karthik N S wrote:

...
> Weh we do a search in SQL  using '*' we all know that the result would be
> total no of records in the table,but when  we want to get limit our record
> we apply  range between 2 specific row records [Which we call it as
> subsearch]
>
>
>    Similarly  on a indexed  record  I would like perform the same tecnique
> as above.

In case you need to reuse the limitation a filter is the way to go in
Lucene.
However it seems to be better to get the range query working first.

>   In fact I was looking at the url u sent me in the last mail on using
> getRange Queries
>  and was working on the same
>
> http://jakarta.apache.org/lucene/docs/queryparsersyntax.html

The query I gave uses two +'s prefixed to the query parts:

+search_word +(book:[100 TO 200])

Both query parts are required because of the +'s, ie. it works
as the AND operator in SQL. The TO operator queries the range
in the book field.

> and
>
> http://today.java.net/pub/a/today/2003/11/07/QueryParserRules.html
>
> but witou results for the last 12 hrs.

You have probably seen a lot of different things that will be useful later.

> If u could spare a few minuts and please expalin or provide a simple  [
> full ] example using and
> over riding the  getRange() method .

The problem you'll probably run into is that Lucene does not
support numbers directly, you'll have to index them as strings,
eg. by prefixing zero's:

As Erik
indicated:http://wiki.apache.org/jakarta-lucene/SearchNumericalFields

You may have to reindex your data for this. In case you have a lot of data
consider setting up a test first.

Then in the getRangeQuery() method of your parser you'll need to prefix the
queried
numbers in the same way. The example in the article is about date fields,
but the adaptation to numbers shouldn't be a problem.

When you override this in your query parser:
getRangeQuery(String field, Analyzer analyzer, String start, String end,
boolean inclusive)
it will be called for the example query with  start = "100" and end = "200".

(See http://today.java.net/pub/a/today/2003/11/07/QueryParserRules.html
under Customizing query parser).

In the overriding method you can then call the super method with the
start and end prefixed with zero's as indicated in searching numerical
fields
referred to above.

Have fun, you'll get it working,

Ype

> with regards
> Karthik
>
> -----Original Message-----
> From: Ype Kingma [mailto:ykingma@xs4all.nl]
> Sent: Thursday, May 27, 2004 11:03 PM
> To: lucene-user@jakarta.apache.org
> Subject: Re: Range Query Sombody HELP please
>
> On Thursday 27 May 2004 09:37, Karthik N S wrote:
> > Hi
> >    Lucene -Developer My main intention was
> >
> >  Search for an word hit  in a Unique Field  between  ranges     say
> > book100  - book 200  indexed numbers
> >  It's something like creating a SUBSEARCH  with in the SEARCHINDEX.
...
> Could you explain what you mean by subsearch?
> I suppose you might want to have a look at the various filter classes
> in the org.apache.lucene.search package.
>
> Regards,
> Ype
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8487-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 28 10:03:23 2004
Return-Path: <lucene-user-return-8487-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92882 invoked from network); 28 May 2004 10:03:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 May 2004 10:03:23 -0000
Received: (qmail 94258 invoked by uid 500); 28 May 2004 10:04:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94212 invoked by uid 500); 28 May 2004 10:04:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94196 invoked by uid 98); 28 May 2004 10:04:02 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(24.51.109.181):. 
 Processed in 0.434604 secs); 28 May 2004 10:04:02 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(24.51.109.181):. Processed in 0.434604 secs)
Received: from unknown (HELO postfix.mail.ehatchersolutions.com) (24.51.109.181)
  by hermes.apache.org with SMTP; 28 May 2004 10:04:01 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id B83D97316F2
	for <lucene-user@jakarta.apache.org>; Fri, 28 May 2004 06:02:58 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <200405280646.i4S6kRU9018574@outmail.freedom2surf.net>
References: <200405280646.i4S6kRU9018574@outmail.freedom2surf.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <31C669D8-B08E-11D8-8791-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Tool for analyzing analyzers
Date: Fri, 28 May 2004 06:02:57 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On May 28, 2004, at 2:46 AM, markharw00d@yahoo.co.uk wrote:
> Hi Erik,
> I've had this running OK from the command line and in Eclipse on XP.
> I suspect it might be because you're running a different OS? The 
> "Classfinder" tries to split the system property
> "java.class.path"  on the ";" character but I forgot different OSes 
> have different seperators.

There is another OS other than Mac OS X?  :)

There is a File constant that gives you the OS-specific separator.  
File.pathSeparatorChar.

> Using a plug-in architecture (once we get classloading sorted!) you 
> could define interfaces for
> things such as fetchers (db/file/web) and parsers (PDF/Word..) and 
> configure them to create indexes
> using a GUI like this, or a web-based interface. People could then 
> contribute plug-in implementations
> as Jars that you could just drop in to the workbench.

Sounds like we'd be re-inventing Nutch :)

But I'd love to build a Lucene "demo" application that is powerful 
enough to be used as a foundation for folks to use out-of-the-box.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8488-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 28 10:09:00 2004
Return-Path: <lucene-user-return-8488-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95731 invoked from network); 28 May 2004 10:09:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 May 2004 10:09:00 -0000
Received: (qmail 14120 invoked by uid 500); 28 May 2004 10:09:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13956 invoked by uid 500); 28 May 2004 10:09:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13611 invoked by uid 98); 28 May 2004 10:09:13 -0000
Received: from erik@ehatchersolutions.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(24.51.109.181):. 
 Processed in 0.989463 secs); 28 May 2004 10:09:13 -0000
X-Qmail-Scanner-Mail-From: erik@ehatchersolutions.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(24.51.109.181):. Processed in 0.989463 secs)
Received: from unknown (HELO postfix.mail.ehatchersolutions.com) (24.51.109.181)
  by hermes.apache.org with SMTP; 28 May 2004 10:09:11 -0000
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 2C9FE731705
	for <lucene-user@jakarta.apache.org>; Fri, 28 May 2004 06:08:03 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <LOEGLEEGOAKBOLAJCCKIOEFOCAAA.karthik@controlnet.co.in>
References: <LOEGLEEGOAKBOLAJCCKIOEFOCAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <E6155A74-B08E-11D8-8791-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Range Query Sombody HELP please
Date: Fri, 28 May 2004 06:07:59 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On May 28, 2004, at 4:54 AM, Karthik N S wrote:
> 1) I have a unique Field [ called filename ] which is indexed of type 
> Text.

You probably do not want to use Field.Text for a filename.  Use 
Field.Keyword instead.

> 2) The indexer complete indexes for about 5000 html files  sucessfully 
> .

Now use Luke (Google for _luke lucene_) to browse your index, and check 
that you are getting what you think.  You can do ad-hoc queries there 
also.

> Now in this situation if I want to limit the hits  between  First 200  
> to
> 400  html Page Names  only
> what exactly should I do to using getRange() method.

If you want the first 200 - 400, start your Hits walking at index 200, 
and proceed through 400.

Is there some field you want to key off to do the range?  Or do you 
just want the 200th - 400th hits from the search, which is an entirely 
different question than about ranges.

> Please advise on how to proceed ...

Please send (succinct) code examples in the future to really keep this 
discussion concrete and clear.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8489-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 28 10:50:05 2004
Return-Path: <lucene-user-return-8489-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14844 invoked from network); 28 May 2004 10:50:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 May 2004 10:50:05 -0000
Received: (qmail 55380 invoked by uid 500); 28 May 2004 10:49:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55196 invoked by uid 500); 28 May 2004 10:49:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55108 invoked by uid 98); 28 May 2004 10:49:21 -0000
Received: from info@zilverline.org by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(194.159.73.1):. 
 Processed in 0.530988 secs); 28 May 2004 10:49:21 -0000
X-Qmail-Scanner-Mail-From: info@zilverline.org via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(194.159.73.1):. Processed in 0.530988 secs)
Received: from unknown (HELO post-20.mail.nl.demon.net) (194.159.73.1)
  by hermes.apache.org with SMTP; 28 May 2004 10:49:20 -0000
Received: from [212.238.156.229] (helo=zilverline.org)
	by post-20.mail.nl.demon.net with esmtp (Exim 3.36 #2)
	id 1BTevO-000DpI-00; Fri, 28 May 2004 10:49:18 +0000
Message-ID: <40B71979.80108@zilverline.org>
Date: Fri, 28 May 2004 12:50:33 +0200
From: Zilverline info <info@zilverline.org>
User-Agent: Mozilla Thunderbird 0.5 (Windows/20040207)
X-Accept-Language: nl, en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Tool for analyzing analyzers
References: <200405280646.i4S6kRU9018574@outmail.freedom2surf.net> <31C669D8-B08E-11D8-8791-000393A564E6@ehatchersolutions.com>
In-Reply-To: <31C669D8-B08E-11D8-8791-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Erik,

Erik Hatcher wrote:
[snip]

>
> But I'd love to build a Lucene "demo" application that is powerful 
> enough to be used as a foundation for folks to use out-of-the-box.

That's just what I thought. Here's one: http://www.zilverline.org

>
>     Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
Cheers,

    Michael Franken


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8490-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 28 11:07:03 2004
Return-Path: <lucene-user-return-8490-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22026 invoked from network); 28 May 2004 11:07:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 May 2004 11:07:03 -0000
Received: (qmail 11695 invoked by uid 500); 28 May 2004 11:06:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11517 invoked by uid 500); 28 May 2004 11:06:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11365 invoked by uid 98); 28 May 2004 11:06:49 -0000
Received: from karthik@controlnet.co.in by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(203.199.26.74):. 
 Processed in 0.26752 secs); 28 May 2004 11:06:49 -0000
X-Qmail-Scanner-Mail-From: karthik@controlnet.co.in via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(203.199.26.74):. Processed in 0.26752 secs)
Received: from unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by hermes.apache.org with SMTP; 28 May 2004 11:06:48 -0000
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HYF8PX00.UVB for <lucene-user@jakarta.apache.org>; Fri,
          28 May 2004 16:47:57 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Range Query Sombody HELP please
Date: Fri, 28 May 2004 16:44:23 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIMEGACAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
In-Reply-To: <E6155A74-B08E-11D8-8791-000393A564E6@ehatchersolutions.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hey Erik

  Apologies again

 [ You probably do not want to use Field.Text for a filename.  Use
Field.Keyword instead. ]

1)  When changing the Field type from Text to Keyword, I do not get the hits
at all
     [Since most of parameters avaliable to this  Field  are of String type
... file[i].getName() ]

2) On successfull Indexing  the search   hits retun me  400  numbers on
various html files
     presence of the SearchWord in content Field.


3) If I have to limit the hits between file name (file[100].getName()   and
file[200].getName() )
    on the Field  type  "filename" for the SearchedWord.


I did the way YPE  advised in his last mail but still no improvement in
sitution.


I need to get  hit samples  in between the  2 files  [ 100 files  between ]
 and not the max no of hits.

Please  advise me
How do I proceed....



4)
  I Installed luke [ via Java webstart ]  from
http://www.getopt.org/luke/webstart.html
  but since my Index files are built on a custom made Analyzer [ not the set
of standard analyzer avaliable from drop box] ,
 Will it search the index  for the same.



with regards
Karthik


-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Friday, May 28, 2004 3:38 PM
To: Lucene Users List
Subject: Re: Range Query Sombody HELP please


On May 28, 2004, at 4:54 AM, Karthik N S wrote:
> 1) I have a unique Field [ called filename ] which is indexed of type
> Text.

You probably do not want to use Field.Text for a filename.  Use
Field.Keyword instead.

> 2) The indexer complete indexes for about 5000 html files  sucessfully
> .

Now use Luke (Google for _luke lucene_) to browse your index, and check
that you are getting what you think.  You can do ad-hoc queries there
also.

> Now in this situation if I want to limit the hits  between  First 200
> to
> 400  html Page Names  only
> what exactly should I do to using getRange() method.

If you want the first 200 - 400, start your Hits walking at index 200,
and proceed through 400.

Is there some field you want to key off to do the range?  Or do you
just want the 200th - 400th hits from the search, which is an entirely
different question than about ranges.

> Please advise on how to proceed ...

Please send (succinct) code examples in the future to really keep this
discussion concrete and clear.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8491-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 28 18:40:32 2004
Return-Path: <lucene-user-return-8491-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75983 invoked from network); 28 May 2004 18:40:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 May 2004 18:40:32 -0000
Received: (qmail 76661 invoked by uid 500); 28 May 2004 18:40:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76552 invoked by uid 500); 28 May 2004 18:40:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76456 invoked by uid 98); 28 May 2004 18:40:31 -0000
Received: from ykingma@xs4all.nl by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(194.109.24.13):. 
 Processed in 0.056542 secs); 28 May 2004 18:40:31 -0000
X-Qmail-Scanner-Mail-From: ykingma@xs4all.nl via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(194.109.24.13):. Processed in 0.056542 secs)
Received: from unknown (HELO smtp-out3.xs4all.nl) (194.109.24.13)
  by hermes.apache.org with SMTP; 28 May 2004 18:40:30 -0000
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out3.xs4all.nl (8.12.10/8.12.10) with ESMTP id i4SIe33Y079663
	for <lucene-user@jakarta.apache.org>; Fri, 28 May 2004 20:40:03 +0200 (CEST)
From: Ype Kingma <ykingma@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Range Query Sombody HELP please
Date: Fri, 28 May 2004 20:40:02 +0200
User-Agent: KMail/1.5.4
References: <LOEGLEEGOAKBOLAJCCKIOEFOCAAA.karthik@controlnet.co.in>
In-Reply-To: <LOEGLEEGOAKBOLAJCCKIOEFOCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200405282040.02616.ykingma@xs4all.nl>
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday 28 May 2004 10:54, Karthik N S wrote:
> Hey ype
>
> Thx for the advice but still I need to get the  exact situation working ,
>
> 1) I have a unique Field [ called filename ] which is indexed of type Text.
>     It accepts the name of the HTML files as  the indexing parameter ,
>    Also there is another Field called "Contents"   which stores all the
> contents of that
>    indicated unique named html file.
>
> 2) The indexer complete indexes for about 5000 html files  sucessfully .
>
> 3) When I do a search for word ,it returns a hit of  400  on various html
> files
>
> Now in this situation if I want to limit the hits  between  First 200  to
> 400  html Page Names  only
> what exactly should I do to using getRange() method.

A range query will provide a range of indexed values, and
I thought you needed to add the record number as an indexed field
in each record.

However, you seem to use the 200 and 400 here as the order number
for each record in the result of the query on the Contents field.
Is that correct?
When so, in which order do you expect the results of your query?

Kind regards,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8492-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri May 28 23:13:00 2004
Return-Path: <lucene-user-return-8492-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12892 invoked from network); 28 May 2004 23:13:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 May 2004 23:12:59 -0000
Received: (qmail 48471 invoked by uid 500); 28 May 2004 23:13:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48448 invoked by uid 500); 28 May 2004 23:13:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48433 invoked by uid 98); 28 May 2004 23:13:20 -0000
Received: from Reece.1247688@bloglines.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(216.148.212.184):. 
 Processed in 0.012192 secs); 28 May 2004 23:13:20 -0000
X-Qmail-Scanner-Mail-From: Reece.1247688@bloglines.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(216.148.212.184):. Processed in 0.012192 secs)
Received: from unknown (HELO w02.bloglines.com) (216.148.212.184)
  by hermes.apache.org with SMTP; 28 May 2004 23:13:19 -0000
Received: (qmail 18423 invoked by uid 99); 28 May 2004 23:12:45 -0000
Message-ID: <1085785965.2237868512.18421.sendItem@bloglines.com>
Date: 28 May 2004 23:12:45 -0000
From: Reece.1247688@bloglines.com
To: lucene-user@jakarta.apache.org
Subject: Exact Field Match
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 8bit
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Does Lucene have support for exact field match?  Is there a way to
say that this field equals exactly this value?  I know I can do it by using
an untokenized field.  But I have some values that I would want to store in
both tokenized and untokenized copies of the same field.  Instead of doing
that I'm just storing the tokenized version.

For example:
MyField = "My
value."

I want to search where "My value." is the exact match for this
field but I also sometime want to do a containing search so that just a query
for "value" matches.  

I'm planning on extracting the stored value and
comparing it to see if its an exact match.  If you have a better idea please
send it my way!

Thanks,
Reece

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8493-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat May 29 00:08:43 2004
Return-Path: <lucene-user-return-8493-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27044 invoked from network); 29 May 2004 00:08:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 May 2004 00:08:43 -0000
Received: (qmail 68882 invoked by uid 500); 29 May 2004 00:09:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68846 invoked by uid 500); 29 May 2004 00:09:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68819 invoked by uid 98); 29 May 2004 00:09:02 -0000
Received: from gusk@altrec.com by hermes.apache.org by uid 82 with qmail-scanner-1.20 
 (clamuko: 0.70.  Clear:RC:0(63.251.175.11):. 
 Processed in 0.012659 secs); 29 May 2004 00:09:02 -0000
X-Qmail-Scanner-Mail-From: gusk@altrec.com via hermes.apache.org
X-Qmail-Scanner: 1.20 (Clear:RC:0(63.251.175.11):. Processed in 0.012659 secs)
Received: from unknown (HELO mail.altrec.com) (63.251.175.11)
  by hermes.apache.org with SMTP; 29 May 2004 00:09:02 -0000
Received: by DENALI with Internet Mail Service (5.5.2656.59)
	id <CPTVXSX2>; Fri, 28 May 2004 17:08:32 -0700
Message-ID: <55903574BD75D311B8A0009027CCC22B03F9E1D0@DENALI>
From: Gus Kormeier <gusk@altrec.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Exact Field Match
Date: Fri, 28 May 2004 17:08:32 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2656.59)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: hermes.apache.org 1.6.2 0/1000/N
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yes, you can.  
And others probably have a much better example than mine...

There is probably a wiki or other document describing it.

You can chain queries together with BooleanQuery.  I am creating a Vector of
Query's based on restriction criteria off my site and then loading them into
the BooleanQuery.
You might check out WildCardQuery which works well with/without wildcard
parameters inside it.
-Gus



       QueryParser qp = new QueryParser("contents",analyzer);
       qp.setOperator(DEFAULT_OPERATOR);
 	 Query query = qp.parse(queryline);

       if(vFilters != null && vFilters.size() > 0){
          BooleanQuery bq = new BooleanQuery();
          bq.add(query,true/*required*/,false/*not prohibited*/);
          Enumeration enum = vFilters.elements();
          while(enum.hasMoreElements()){
            bq.add( (Query) enum.nextElement(),true/*required*/,false/*not
prohibited*/);
          }
	   hits = searcher.search(bq);

       }else{
	   hits = searcher.search(query);
       }
...


  public void setFilter(String fieldname,String fieldvalue){
       if(fieldname != null && fieldvalue != null &&
          fieldname.length() > 0 && fieldvalue.length() > 0){
          if(fieldvalue.indexOf("?") == -1){
             fieldvalue += "?";
          }
          Term t = new Term(fieldname,fieldvalue);
          WildcardQuery tq = new WildcardQuery(t);
          Filter myfilter = new QueryFilter(tq);
          setFilter(filter);
          vFilters.addElement(tq);
       }
  }

-----Original Message-----
From: Reece.1247688@bloglines.com [mailto:Reece.1247688@bloglines.com]
Sent: Friday, May 28, 2004 4:13 PM
To: lucene-user@jakarta.apache.org
Subject: Exact Field Match


Hi,

Does Lucene have support for exact field match?  Is there a way to
say that this field equals exactly this value?  I know I can do it by using
an untokenized field.  But I have some values that I would want to store in
both tokenized and untokenized copies of the same field.  Instead of doing
that I'm just storing the tokenized version.

For example:
MyField = "My
value."

I want to search where "My value." is the exact match for this
field but I also sometime want to do a containing search so that just a
query
for "value" matches.  

I'm planning on extracting the stored value and
comparing it to see if its an exact match.  If you have a better idea please
send it my way!

Thanks,
Reece

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8494-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat May 29 19:24:20 2004
Return-Path: <lucene-user-return-8494-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60866 invoked from network); 29 May 2004 19:24:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 May 2004 19:24:19 -0000
Received: (qmail 35936 invoked by uid 500); 29 May 2004 19:24:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35902 invoked by uid 500); 29 May 2004 19:24:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35884 invoked by uid 99); 29 May 2004 19:24:13 -0000
Received: from [64.4.46.121] (HELO hotmail.com) (64.4.46.121)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Sat, 29 May 2004 12:24:13 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Sat, 29 May 2004 12:24:08 -0700
Received: from 219.142.131.86 by bay9-dav17.bay9.hotmail.com with DAV;
	Sat, 29 May 2004 19:24:08 +0000
X-Originating-IP: [219.142.131.86]
X-Originating-Email: [chedong@hotmail.com]
X-Sender: chedong@hotmail.com
From: "Che Dong" <chedong@hotmail.com>
To: <lucene-user@jakarta.apache.org>
References: <LOEGLEEGOAKBOLAJCCKICEFMCAAA.karthik@controlnet.co.in> <200405280943.56293.ykingma@xs4all.nl>
Subject: Will CJKAnalyser be release with Lucene 1.4?
Date: Sun, 30 May 2004 03:24:05 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Message-ID: <BAY9-DAV17XBirbThA9000566cb@hotmail.com>
X-OriginalArrivalTime: 29 May 2004 19:24:08.0613 (UTC) FILETIME=[83834550:01C445B2]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

SGkgQWxsOg0KSSBjaGVja2VkIHRoZSBvcmcvYXBhY2hlL2x1Y2VuZS9hbmFseXNpcy9jamsvIGlu
IGx1Y2VuZSBzYW5kYm94Og0KaHR0cDovL2N2cy5hcGFjaGUub3JnL3ZpZXdjdnMuY2dpL2pha2Fy
dGEtbHVjZW5lLXNhbmRib3gvY29udHJpYnV0aW9ucy9hbmFseXplcnMvc3JjL2phdmEvb3JnL2Fw
YWNoZS9sdWNlbmUvYW5hbHlzaXMvY2prLw0KDQpUaGUgb3JpZ2luYWwgdmVyc2lvbiB3b3JrcyBm
aW5lIGF0IGh0dHA6Ly9zZWFyY2guMTYzLmNvbSBodHRwOi8vc2VhcmNoLnNvdWZ1bi5jb20gYW5k
IHd3dy5ibG9nY2hpbmEuY29tL3dlYmx1Y2VuZS8NCg0KUmVnYXJkcw0KDQpDaGUgRG9uZw0KaHR0
cDovL3d3dy5jaGVkb25nLmNvbS90ZWNoL2x1Y2VuZS5odG1s


From lucene-user-return-8495-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat May 29 21:17:24 2004
Return-Path: <lucene-user-return-8495-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91483 invoked from network); 29 May 2004 21:17:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 May 2004 21:17:23 -0000
Received: (qmail 37407 invoked by uid 500); 29 May 2004 21:17:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37376 invoked by uid 500); 29 May 2004 21:17:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37363 invoked by uid 99); 29 May 2004 21:17:18 -0000
Received: from [24.51.109.181] (HELO postfix.mail.ehatchersolutions.com) (24.51.109.181)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Sat, 29 May 2004 14:17:18 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 373CC7391EA
	for <lucene-user@jakarta.apache.org>; Sat, 29 May 2004 17:17:11 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <BAY9-DAV17XBirbThA9000566cb@hotmail.com>
References: <LOEGLEEGOAKBOLAJCCKICEFMCAAA.karthik@controlnet.co.in> <200405280943.56293.ykingma@xs4all.nl> <BAY9-DAV17XBirbThA9000566cb@hotmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <8B32501C-B1B5-11D8-B7B1-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Will CJKAnalyser be release with Lucene 1.4?
Date: Sat, 29 May 2004 17:17:08 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm not sure I understand your question.

At this point there is no plan to "release" the sandbox components -  
they are really there in a batteries-not-included fashion at this point  
but its all there to freely use if you like.

I did centralize the build system in contributions area, so each piece  
should easily build into JAR files.

Is there more that you desire?

	Erik


On May 29, 2004, at 3:24 PM, Che Dong wrote:

> Hi All:
> I checked the org/apache/lucene/analysis/cjk/ in lucene sandbox:
> http://cvs.apache.org/viewcvs.cgi/jakarta-lucene-sandbox/ 
> contributions/analyzers/src/java/org/apache/lucene/analysis/cjk/
>
> The original version works fine at http://search.163.com  
> http://search.soufun.com and www.blogchina.com/weblucene/
>
> Regards
>
> Che Dong
> http://www.chedong.com/tech/lucene.html


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8496-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat May 29 22:42:32 2004
Return-Path: <lucene-user-return-8496-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6896 invoked from network); 29 May 2004 22:42:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 May 2004 22:42:31 -0000
Received: (qmail 4763 invoked by uid 500); 29 May 2004 22:42:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4635 invoked by uid 500); 29 May 2004 22:42:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4621 invoked by uid 99); 29 May 2004 22:42:26 -0000
Received: from [216.193.202.192] (HELO nasa.lunarpages.com) (216.193.202.192)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Sat, 29 May 2004 15:42:26 -0700
Received: from pcp09530428pcs.ewndsr01.nj.comcast.net ([69.240.50.229] helo=pmc)
	by nasa.lunarpages.com with asmtp (Exim 4.34)
	id 1BUCay-00084o-L7
	for lucene-user@jakarta.apache.org; Sat, 29 May 2004 15:46:28 -0700
Message-ID: <002f01c445ce$31504460$6400a8c0@CORP.AD.FACTIVA.NET>
From: "Peter M Cipollone" <lu1@bihvhar.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <LOEGLEEGOAKBOLAJCCKICEFMCAAA.karthik@controlnet.co.in> <200405280943.56293.ykingma@xs4all.nl> <BAY9-DAV17XBirbThA9000566cb@hotmail.com> <8B32501C-B1B5-11D8-B7B1-000393A564E6@ehatchersolutions.com>
Subject: question on design for ordering of field names written to FieldInfos object
Date: Sat, 29 May 2004 18:42:13 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - nasa.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - bihvhar.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I have a question about the following code from
org.apache.lucene.index.SegmentMerger.  I would like to know if the ordering
of the fields as they are stored to the FieldInfos object is critical to
some other purpose.

In the code below (from a week+/- ago CVS pull), the fields are stored in
the following order:
1. fields indexed=true, termVectors=true
2. fields indexed=true, termVectors=false
3. fields stored=true, indexed=false

The reason I ask is because I am working on some functionality that will
require the order of fields to be immutable across merges.  At present
FieldInfos are created in two ways, one from a Document as it is merged into
an index, and again when index segments are merged.  They use two different
ordering mechanisms.

Thanks for your help.
Pete

private final int mergeFields() throws IOException {
    fieldInfos = new FieldInfos();    // merge field names
    int docCount = 0;
    for (int i = 0; i < readers.size(); i++) {
      IndexReader reader = (IndexReader) readers.elementAt(i);
1.      fieldInfos.addIndexed(reader.getIndexedFieldNames(true), true);
2.      fieldInfos.addIndexed(reader.getIndexedFieldNames(false), false);
3.      fieldInfos.add(reader.getFieldNames(false), false);
    }
    fieldInfos.write(directory, segment + ".fnm");


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8497-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat May 29 22:44:35 2004
Return-Path: <lucene-user-return-8497-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7288 invoked from network); 29 May 2004 22:44:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 May 2004 22:44:35 -0000
Received: (qmail 6811 invoked by uid 500); 29 May 2004 22:44:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6763 invoked by uid 500); 29 May 2004 22:44:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6749 invoked by uid 99); 29 May 2004 22:44:28 -0000
Received: from [216.193.202.192] (HELO nasa.lunarpages.com) (216.193.202.192)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Sat, 29 May 2004 15:44:28 -0700
Received: from pcp09530428pcs.ewndsr01.nj.comcast.net ([69.240.50.229] helo=pmc)
	by nasa.lunarpages.com with asmtp (Exim 4.34)
	id 1BUCcw-0008IP-KD
	for lucene-user@jakarta.apache.org; Sat, 29 May 2004 15:48:30 -0700
Message-ID: <004101c445ce$7a0146a0$6400a8c0@CORP.AD.FACTIVA.NET>
From: "Peter M Cipollone" <lu1@bihvhar.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <LOEGLEEGOAKBOLAJCCKICEFMCAAA.karthik@controlnet.co.in> <200405280943.56293.ykingma@xs4all.nl> <BAY9-DAV17XBirbThA9000566cb@hotmail.com> <8B32501C-B1B5-11D8-B7B1-000393A564E6@ehatchersolutions.com> <002f01c445ce$31504460$6400a8c0@CORP.AD.FACTIVA.NET>
Subject: Re: question on design for ordering of field names written to FieldInfos object
Date: Sat, 29 May 2004 18:44:15 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - nasa.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - bihvhar.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

sorry.  I meant to send this to the dev list...

----- Original Message ----- 
From: "Peter M Cipollone" <lu1@bihvhar.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Saturday, May 29, 2004 6:42 PM
Subject: question on design for ordering of field names written to
FieldInfos object


> Hi,
>
> I have a question about the following code from
> org.apache.lucene.index.SegmentMerger.  I would like to know if the
ordering
> of the fields as they are stored to the FieldInfos object is critical to
> some other purpose.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8498-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun May 30 03:37:32 2004
Return-Path: <lucene-user-return-8498-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70028 invoked from network); 30 May 2004 03:37:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 30 May 2004 03:37:32 -0000
Received: (qmail 2971 invoked by uid 500); 30 May 2004 03:37:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2932 invoked by uid 500); 30 May 2004 03:37:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2917 invoked by uid 99); 30 May 2004 03:37:25 -0000
Received: from [64.4.46.113] (HELO hotmail.com) (64.4.46.113)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Sat, 29 May 2004 20:37:25 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Sat, 29 May 2004 20:37:13 -0700
Received: from 202.1.232.167 by bay9-dav9.bay9.hotmail.com with DAV;
	Sun, 30 May 2004 03:37:13 +0000
X-Originating-IP: [202.1.232.167]
X-Originating-Email: [chedong@hotmail.com]
X-Sender: chedong@hotmail.com
From: "Che Dong" <chedong@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <LOEGLEEGOAKBOLAJCCKICEFMCAAA.karthik@controlnet.co.in> <200405280943.56293.ykingma@xs4all.nl> <BAY9-DAV17XBirbThA9000566cb@hotmail.com> <8B32501C-B1B5-11D8-B7B1-000393A564E6@ehatchersolutions.com>
Subject: Re: Will CJKAnalyser be release with Lucene 1.4?
Date: Sun, 30 May 2004 11:37:07 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Message-ID: <BAY9-DAV94Pfm2D1vnk000575be@hotmail.com>
X-OriginalArrivalTime: 30 May 2004 03:37:13.0681 (UTC) FILETIME=[65966410:01C445F7]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

SGkgRXJpazoNCklzIGl0IHBvc3NhYmxlIG1vdmUgQ0pLQW5hbHlzZXIgb3V0IG9mIHNhbmRib3gg
dG8gamFrYXJ0YS1sdWNlbmUgcGFja2FnZT8NCg0KUmVnYXJkcw0KDQpDaGUgRG9uZw0KLS0tLS0g
T3JpZ2luYWwgTWVzc2FnZSAtLS0tLSANCkZyb206ICJFcmlrIEhhdGNoZXIiIDxlcmlrQGVoYXRj
aGVyc29sdXRpb25zLmNvbT4NClRvOiAiTHVjZW5lIFVzZXJzIExpc3QiIDxsdWNlbmUtdXNlckBq
YWthcnRhLmFwYWNoZS5vcmc+DQpTZW50OiBTdW5kYXksIE1heSAzMCwgMjAwNCA1OjE3IEFNDQpT
dWJqZWN0OiBSZTogV2lsbCBDSktBbmFseXNlciBiZSByZWxlYXNlIHdpdGggTHVjZW5lIDEuND8N
Cg0KDQo+IEknbSBub3Qgc3VyZSBJIHVuZGVyc3RhbmQgeW91ciBxdWVzdGlvbi4NCj4gDQo+IEF0
IHRoaXMgcG9pbnQgdGhlcmUgaXMgbm8gcGxhbiB0byAicmVsZWFzZSIgdGhlIHNhbmRib3ggY29t
cG9uZW50cyAtICANCj4gdGhleSBhcmUgcmVhbGx5IHRoZXJlIGluIGEgYmF0dGVyaWVzLW5vdC1p
bmNsdWRlZCBmYXNoaW9uIGF0IHRoaXMgcG9pbnQgIA0KPiBidXQgaXRzIGFsbCB0aGVyZSB0byBm
cmVlbHkgdXNlIGlmIHlvdSBsaWtlLg0KPiANCj4gSSBkaWQgY2VudHJhbGl6ZSB0aGUgYnVpbGQg
c3lzdGVtIGluIGNvbnRyaWJ1dGlvbnMgYXJlYSwgc28gZWFjaCBwaWVjZSAgDQo+IHNob3VsZCBl
YXNpbHkgYnVpbGQgaW50byBKQVIgZmlsZXMuDQo+IA0KPiBJcyB0aGVyZSBtb3JlIHRoYXQgeW91
IGRlc2lyZT8NCj4gDQo+IEVyaWsNCj4gDQo+IA0KPiBPbiBNYXkgMjksIDIwMDQsIGF0IDM6MjQg
UE0sIENoZSBEb25nIHdyb3RlOg0KPiANCj4gPiBIaSBBbGw6DQo+ID4gSSBjaGVja2VkIHRoZSBv
cmcvYXBhY2hlL2x1Y2VuZS9hbmFseXNpcy9jamsvIGluIGx1Y2VuZSBzYW5kYm94Og0KPiA+IGh0
dHA6Ly9jdnMuYXBhY2hlLm9yZy92aWV3Y3ZzLmNnaS9qYWthcnRhLWx1Y2VuZS1zYW5kYm94LyAN
Cj4gPiBjb250cmlidXRpb25zL2FuYWx5emVycy9zcmMvamF2YS9vcmcvYXBhY2hlL2x1Y2VuZS9h
bmFseXNpcy9jamsvDQo+ID4NCj4gPiBUaGUgb3JpZ2luYWwgdmVyc2lvbiB3b3JrcyBmaW5lIGF0
IGh0dHA6Ly9zZWFyY2guMTYzLmNvbSAgDQo+ID4gaHR0cDovL3NlYXJjaC5zb3VmdW4uY29tIGFu
ZCB3d3cuYmxvZ2NoaW5hLmNvbS93ZWJsdWNlbmUvDQo+ID4NCj4gPiBSZWdhcmRzDQo+ID4NCj4g
PiBDaGUgRG9uZw0KPiA+IGh0dHA6Ly93d3cuY2hlZG9uZy5jb20vdGVjaC9sdWNlbmUuaHRtbA0K
PiANCj4gDQo+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBsdWNlbmUt
dXNlci11bnN1YnNjcmliZUBqYWthcnRhLmFwYWNoZS5vcmcNCj4gRm9yIGFkZGl0aW9uYWwgY29t
bWFuZHMsIGUtbWFpbDogbHVjZW5lLXVzZXItaGVscEBqYWthcnRhLmFwYWNoZS5vcmcNCj4gDQo+
IA==


From lucene-user-return-8499-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun May 30 09:01:14 2004
Return-Path: <lucene-user-return-8499-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59188 invoked from network); 30 May 2004 09:01:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 30 May 2004 09:01:14 -0000
Received: (qmail 25302 invoked by uid 500); 30 May 2004 09:01:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25254 invoked by uid 500); 30 May 2004 09:01:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25240 invoked by uid 99); 30 May 2004 09:01:04 -0000
Received: from [24.51.109.181] (HELO postfix.mail.ehatchersolutions.com) (24.51.109.181)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Sun, 30 May 2004 02:01:04 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id 02DE4739AED
	for <lucene-user@jakarta.apache.org>; Sun, 30 May 2004 05:00:56 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <BAY9-DAV94Pfm2D1vnk000575be@hotmail.com>
References: <LOEGLEEGOAKBOLAJCCKICEFMCAAA.karthik@controlnet.co.in> <200405280943.56293.ykingma@xs4all.nl> <BAY9-DAV17XBirbThA9000566cb@hotmail.com> <8B32501C-B1B5-11D8-B7B1-000393A564E6@ehatchersolutions.com> <BAY9-DAV94Pfm2D1vnk000575be@hotmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <DC9E5242-B217-11D8-B6F0-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Will CJKAnalyser be release with Lucene 1.4?
Date: Sun, 30 May 2004 05:00:56 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On May 29, 2004, at 11:37 PM, Che Dong wrote:
> Is it possable move CJKAnalyser out of sandbox to jakarta-lucene 
> package?

I would be against such a move.  I think Lucene's core has too many 
analyzers in it already, such as the German and Russian ones.  The core 
could do without any of the concrete analyzers altogether, in my 
opinion - but it is handy to have a few general purpose convenience 
ones.

What benefit, besides convenience, would there be in CJKAnalyzer into 
the core?  What about the all the others in the sandbox?  If we bring 
one in, why not all of them?

It has been brought up to bring in the SnowballAnalyzer - as it 
actually is general purpose and spans many languages.  I'm not really 
for bringing that one in either.

I'm but one voice and would not veto bringing in other analyzers, I 
just don't think there is much benefit, especially if we improve the 
release process to incorporate the sandbox goodies into a single 
distribution but as separate JARs.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8500-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun May 30 10:15:12 2004
Return-Path: <lucene-user-return-8500-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77858 invoked from network); 30 May 2004 10:15:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 30 May 2004 10:15:12 -0000
Received: (qmail 79680 invoked by uid 500); 30 May 2004 10:15:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79646 invoked by uid 500); 30 May 2004 10:15:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79622 invoked by uid 99); 30 May 2004 10:15:02 -0000
Received: from [24.51.109.181] (HELO postfix.mail.ehatchersolutions.com) (24.51.109.181)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Sun, 30 May 2004 03:15:02 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id C9C1E73A25D
	for <lucene-user@jakarta.apache.org>; Sun, 30 May 2004 06:14:53 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <40B71979.80108@zilverline.org>
References: <200405280646.i4S6kRU9018574@outmail.freedom2surf.net> <31C669D8-B08E-11D8-8791-000393A564E6@ehatchersolutions.com> <40B71979.80108@zilverline.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <3126DBEA-B222-11D8-95B3-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Tool for analyzing analyzers
Date: Sun, 30 May 2004 06:14:53 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On May 28, 2004, at 6:50 AM, Zilverline info wrote:
>> But I'd love to build a Lucene "demo" application that is powerful 
>> enough to be used as a foundation for folks to use out-of-the-box.
>
> That's just what I thought. Here's one: http://www.zilverline.org

Michael - zilverline is nicely done!  I downloaded it and dropped it 
into Tomcat and it came right up.  I did not actually configure a 
collection yet, but from the docs on the website it looks like you have 
built something quite nice.  Maybe you could embed a built-in 
collection of the zilverline docs so something comes up right away and 
is searchable :)

Nice work.  I'll definitely stay tuned into your project.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8501-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun May 30 17:36:16 2004
Return-Path: <lucene-user-return-8501-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 585 invoked from network); 30 May 2004 17:36:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 30 May 2004 17:36:16 -0000
Received: (qmail 43080 invoked by uid 500); 30 May 2004 17:36:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42910 invoked by uid 500); 30 May 2004 17:36:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42884 invoked by uid 99); 30 May 2004 17:36:05 -0000
Received: from [64.4.46.119] (HELO hotmail.com) (64.4.46.119)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Sun, 30 May 2004 10:36:05 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Sun, 30 May 2004 10:36:01 -0700
Received: from 219.142.135.158 by bay9-dav15.bay9.hotmail.com with DAV;
	Sun, 30 May 2004 17:36:00 +0000
X-Originating-IP: [219.142.135.158]
X-Originating-Email: [chedong@hotmail.com]
X-Sender: chedong@hotmail.com
From: "Che Dong" <chedong@hotmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Cc: "Lucene Developers List" <lucene-dev@jakarta.apache.org>
References: <LOEGLEEGOAKBOLAJCCKICEFMCAAA.karthik@controlnet.co.in> <200405280943.56293.ykingma@xs4all.nl> <BAY9-DAV17XBirbThA9000566cb@hotmail.com> <8B32501C-B1B5-11D8-B7B1-000393A564E6@ehatchersolutions.com> <BAY9-DAV94Pfm2D1vnk000575be@hotmail.com> <DC9E5242-B217-11D8-B6F0-000393A564E6@ehatchersolutions.com>
Subject: Bigram Co-occurrences will be the better way for  Word Discrimination. Re: Will CJKAnalyser be release with Lucene 1.4?
Date: Mon, 31 May 2004 01:35:58 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
Message-ID: <BAY9-DAV15XU5xgN4CZ00058360@hotmail.com>
X-OriginalArrivalTime: 30 May 2004 17:36:01.0004 (UTC) FILETIME=[930272C0:01C4466C]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

PiBJIHdvdWxkIGJlIGFnYWluc3Qgc3VjaCBhIG1vdmUuICBJIHRoaW5rIEx1Y2VuZSdzIGNvcmUg
aGFzIHRvbyBtYW55IA0KPiBhbmFseXplcnMgaW4gaXQgYWxyZWFkeSwgc3VjaCBhcyB0aGUgR2Vy
bWFuIGFuZCBSdXNzaWFuIG9uZXMuICBUaGUgY29yZSANCj4gY291bGQgZG8gd2l0aG91dCBhbnkg
b2YgdGhlIGNvbmNyZXRlIGFuYWx5emVycyBhbHRvZ2V0aGVyLCBpbiBteSANCj4gb3BpbmlvbiAt
IGJ1dCBpdCBpcyBoYW5keSB0byBoYXZlIGEgZmV3IGdlbmVyYWwgcHVycG9zZSBjb252ZW5pZW5j
ZSANCj4gb25lcy4NCisxDQo+IA0KPiBXaGF0IGJlbmVmaXQsIGJlc2lkZXMgY29udmVuaWVuY2Us
IHdvdWxkIHRoZXJlIGJlIGluIENKS0FuYWx5emVyIGludG8gDQo+IHRoZSBjb3JlPyAgV2hhdCBh
Ym91dCB0aGUgYWxsIHRoZSBvdGhlcnMgaW4gdGhlIHNhbmRib3g/ICBJZiB3ZSBicmluZyANCj4g
b25lIGluLCB3aHkgbm90IGFsbCBvZiB0aGVtPw0KYnV0IGZvciBDSksgdGhlcmUgaXMgbm8gc3Bh
Y2UgZm9yIHdvcmQgc2VnbWVudCBpbiBuYXR1cmUuIHNvIHRoZSBCaWdyYW0gQ28tb2NjdXJyZW5j
ZXMgd2lsbCBiZSB0aGUgYmV0dGVyIHdheSBmb3IgIFdvcmQgRGlzY3JpbWluYXRpb24uIA0KRm9y
IGV4YW1wbGU6IHRlcm0gQzFDMiBpZiBzZWdtZW50IGludG8gQzEgYW5kIEMyIHRoZSByZXN1bHRz
IHdpbGwgY29udGFpbnMgQzJDMS4uLiBidXQgaW4gQ2hpbmVzZSwgdGhlIHdvcmQgQzFDMiBhbmQg
QzJDMSBtYXliZSBpbiBkaWZmZXJlbnQgbWVhbmluZy4NCmNvbXBhcmUgdG8gdGhlIHRoZSBzaWdy
YW0gYmFzZSB0b2tlbml6ZXIgaW1wbGVtZW50IGluIFN0YW5kYXJkVG9rZW5pemVyIHRoZSBiaWdy
YW0gYmFzZWQgdG9rZW4gd2lsbCByZXR1cm4gTVVDSCBiZXR0ZXIgcmVzdWx0cy4NCg0KQWNjb3Jk
aW5nIHRvIG15IGZlZWQgYmFjayBvbiBDSktUb2tlbml6ZXI6IA0KZm9yIENKSyB1c2VycywgdGhl
IGJpZ3JhbSBiYXNlZCBDSktUb2tlbnppZXIgd2FzIHN0cm9uZ2x5IHJlY29tbWVuZGVkIGZvciBi
ZXR0ZXIgcmVzdWx0cy4NCg0KZm9yIG1vcmU6DQpXb3JkIERpc2NyaW1pbmF0aW9uIEJhc2VkIG9u
IEJpZ3JhbSBDby1vY2N1cnJlbmNlcw0KLi4uIFRoZXJlIGlzIGEgbWF0Y2ggcm91dGluZSB0aGF0
IGRldGVjdHMgYW55IGNvbW1vbiBzZWdtZW50IGJldHdlZW4gdGhlIHRhcmdldCB3b3JkIGFuZCBl
YWNoIG9mIHRoZSAuLi4gVGhlIGVudHJpZXMNCm9mIHRoZSBtYXRyaXggaW5kaWNhdGUgd2hldGhl
ciBhIHJlZmVyZW5jZSB3b3JkIGFuZCBhIGxleGljb24gd29yZCBzaGFyZSBhdCBsZWFzdCBvbmUg
bi0gZ3JhbSAuLi4gSXQgYWxzbw0Kc2hvd3MgdGhlIGJpZ3JhbSBtYXRjaCBsaXN0IGZvciBhbiB1
bmtub3duIHdvcmQgZ2VuZXJhdGVkIGJ5IHRoZSBmZWF0dXJlLW1hdGNoaW5nIHByb2Nlc3MgLi4u
IA0Kd3d3LmVjc2UucnBpLmVkdS9ob21lcGFnZXMvbmFneS9QREZfZmlsZXMvIEVsTmFzYW4tTmFn
eS1JQ0RBUjAxLnBkZiANCg0KU2VnbWVudGluZyBDaGluZXNlIGluIFVuaWNvZGUNCi4uLiBIb3dl
dmVyLCB0byBkYXRlIG5vIGluLWRlcHRoIGFuYWx5c2lzIGhhcyBiZWVuIHBlcmZvcm1lZCBhbmFs
eXppbmcgdGhlIGRlZmljaWVuY2llcyBpbiBzZWdtZW50YXRpb24NCnRoYXQgbGVhZCB0byB0aGUg
aW1wcm92ZWQgcGVyZm9ybWFuY2Ugb2YgdGhlIHNpbXBsZXIgYmlncmFtIG1ldGhvZHMuIC4uLiBU
aGUgcGFydC1vZi1zcGVlY2ggb2YgdGhlIHNlZ21lbnQNCmFuZCB0aGUgLi4uIEEgc3R1ZHkgb24g
aW50ZWdyYXRpbmcgQ2hpbmVzZSB3b3JkIHNlZ21lbnRhdGlvbiBhbmQgcGFydC1vZi1zcGVlY2gg
dGFnZ2luZy4gLi4uIA0Kd3d3LmJhc2lzdGVjaC5jb20vcGFwZXJzL2NoaW5lc2UvaXVjLTE2LXBh
cGVyLnBkZiANCg0KPiANCj4gSXQgaGFzIGJlZW4gYnJvdWdodCB1cCB0byBicmluZyBpbiB0aGUg
U25vd2JhbGxBbmFseXplciAtIGFzIGl0IA0KPiBhY3R1YWxseSBpcyBnZW5lcmFsIHB1cnBvc2Ug
YW5kIHNwYW5zIG1hbnkgbGFuZ3VhZ2VzLiAgSSdtIG5vdCByZWFsbHkgDQo+IGZvciBicmluZ2lu
ZyB0aGF0IG9uZSBpbiBlaXRoZXIuDQo+IA0KPiBJJ20gYnV0IG9uZSB2b2ljZSBhbmQgd291bGQg
bm90IHZldG8gYnJpbmdpbmcgaW4gb3RoZXIgYW5hbHl6ZXJzLCBJIA0KPiBqdXN0IGRvbid0IHRo
aW5rIHRoZXJlIGlzIG11Y2ggYmVuZWZpdCwgZXNwZWNpYWxseSBpZiB3ZSBpbXByb3ZlIHRoZSAN
Cj4gcmVsZWFzZSBwcm9jZXNzIHRvIGluY29ycG9yYXRlIHRoZSBzYW5kYm94IGdvb2RpZXMgaW50
byBhIHNpbmdsZSANCj4gZGlzdHJpYnV0aW9uIGJ1dCBhcyBzZXBhcmF0ZSBKQVJzLg0KPiANCj4g
RXJpaw0KVGhhbmsgeW91LCAgRXJpay4gSG9wZSB3ZSBjYW4gbW9yZSBjb21tdW5pY2F0aW9ucyBv
biB0aGlzIGlzc3VlIHdpdGggb3RoZXIgZWFzdCBBc2lhbiBMdWFndWFnZSB1c2Vycy4NCg0KQ2hl
IERvbmcNCg0KPiANCj4gDQo+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiBUbyB1bnN1YnNjcmliZSwgZS1tYWls
OiBsdWNlbmUtdXNlci11bnN1YnNjcmliZUBqYWthcnRhLmFwYWNoZS5vcmcNCj4gRm9yIGFkZGl0
aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogbHVjZW5lLXVzZXItaGVscEBqYWthcnRhLmFwYWNoZS5v
cmcNCj4gDQo+IA==


From lucene-user-return-8502-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 31 02:34:52 2004
Return-Path: <lucene-user-return-8502-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59809 invoked from network); 31 May 2004 02:34:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 May 2004 02:34:51 -0000
Received: (qmail 86465 invoked by uid 500); 31 May 2004 02:34:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 86426 invoked by uid 500); 31 May 2004 02:34:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86410 invoked by uid 99); 31 May 2004 02:34:44 -0000
Received: from [64.202.165.79] (HELO smtpout01-04.mesa1.secureserver.net) (64.202.165.79)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Sun, 30 May 2004 19:34:44 -0700
Received: (qmail 8851 invoked from network); 31 May 2004 02:34:33 -0000
Received: from unknown (216.59.239.36)
  by smtpout01-04.mesa1.secureserver.net (64.202.165.79) with ESMTP; 31 May 2004 02:34:33 -0000
From: "Sasha Haghani" <equalto@mail.com>
To: <lucene-user@jakarta.apache.org>
Subject: Newbie Questions: Site Scoping, Page Type Filtering/Sorting, Localization, Clustering
Date: Sun, 30 May 2004 22:34:28 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0017_01C44696.457B3E40"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
thread-index: AcRGt8vL7eplok4HSfKJKitbf6kKCQ==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0017_01C44696.457B3E40
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi there,
 
I am a newbie to Lucene and I'm considering using it in an upcoming project.
I've read through the documentation but I still have a number of questions:
 
1. SEGMENTING AN INDEX & QUERIES BY SITE SCOPE
In my use case, I have a number of logical websites backed by the same
underlying content store.  A Document may be ultimately end up "belonging"
to one or more logical sites, but at a distinct URL for each.  The
simplistic solution is to maintain indices for each logical site, but this
will result in some unwanted duplication and the need to update multiple
indices on "shared" content changes.  Other than that, can anyone suggest
approaches for how to segment a single index to accomodate multiple logical
sites and allow queries within a particlar site's scope?  Are fields the
solution?  How should the distinct per-site URLs be managed?
 
2. LOCALIZED CONTENT
I understand that at its core, Lucene can support content from any locale
and character set supported by Java.  What is the best way of implementing
Lucene to handle a content base which includes numerous locales.  One index
per locale or should all Documents be placed in a single index and tagged
with a "locale" field?  Or is there another approach altogether?
 
3. DOCUMENT URLS
Is the URL at which the original document can be retrieved generally (i.e.,
for linking search results to the original doc) stored as a non-index,
non-tokenized, stored Field in the Document?
 
4. QUERY FILTERING & SORTING BY FIELD VALUE
In my application I have a pretty typical need to distinguish between
different document types (e.g., FAQs, Articles, Reviews, etc.) in order to
allow the user to restrict their results to particular types of documents or
to sort results by type.  Are fields again the solution for this?  Can
Queries filter or sort results/hits on exact field values (i.e.,
non-tokenized field values).
 
5. DEPLOYING LUCENE IN A CLUSTERED WEB-APP ENVIRONMENT
How is Lucene to be deployed in a clustered web-app environment?  Do all
cluster nodes require access to a networked filesystem containing the index
files or is there another solution?  How is concurrency managed when the
index is being incrementally updated?
 
Any answers and suggestions are much appreciated.  Thanks.
 
--Daniel

------=_NextPart_000_0017_01C44696.457B3E40--


From lucene-user-return-8503-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 31 04:04:56 2004
Return-Path: <lucene-user-return-8503-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86756 invoked from network); 31 May 2004 04:04:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 May 2004 04:04:56 -0000
Received: (qmail 63397 invoked by uid 500); 31 May 2004 04:04:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63365 invoked by uid 500); 31 May 2004 04:04:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63352 invoked by uid 99); 31 May 2004 04:04:47 -0000
Received: from [203.199.26.74] (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Sun, 30 May 2004 21:04:47 -0700
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HYK96Q00.UD1 for <lucene-user@jakarta.apache.org>; Mon,
          31 May 2004 09:46:02 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Range Query Sombody HELP please
Date: Mon, 31 May 2004 09:42:30 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIOEGDCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <200405282040.02616.ykingma@xs4all.nl>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey Ype

Apologies please

Have a look at the Search Factor  hits in the O/p sample of my indexed file


================== Start Searching ==========================
Search Keyword : king~
Source path [ E:/po/aaaa ] : e:/indexer/b10181
Query: ['king~'] in Folder e:/indexer/b10181/b10181_indx_

Not a Found document(s) that matched query Field 'filename':
Not a Found document(s) that matched query Field 'bookid':
Not a Found document(s) that matched query Field 'creation':
Not a Found document(s) that matched query Field 'chapNme':
Not a Found document(s) that matched query Field 'itmName':

Found document(s) that matched : 'king~' no of hits :'67' in query Field
:'contents'

File Name                   : B10181_P703
File Path                     : E:\po\catalog\B10181\B10181_P703
Modified Date            : 1080036442000
Bookid                         : B10181
Chapter Name           :
Item Name                 :

File Name                    : B10181_P702
File Path                      : E:\po\catalog\B10181\B10181_P702
Modified Date             : 1080036442000
Bookid                          : B10181
Chapter Name            :
Item Name                  :

File Name                     : B10181_P512
File Path                       : E:\po\catalog\B10181\B10181_P512
Modified Date              : 1080036438000
Bookid                          : B10181
Chapter Name            :
Item Name                  :

File Name                    : B10181_P40
File Path                      : E:\po\catalog\B10181\B10181_P40
Modified Date             : 1080036444000
Bookid                          : B10181
Chapter Name            :
Item Name                  :

File Name                   : B10181_P355
File Path                     : E:\po\catalog\B10181\B10181_P355
Modified Date            : 1080036436000
Bookid                         : B10181
Chapter Name           :
Item Name                 :

File Name                   : B10181_P379
File Path                     : E:\po\catalog\B10181\B10181_P379
Modified Date            : 1080036436000
Bookid                         : B10181
Chapter Name           :
Item Name                 :


 .   .   .   .   .    .



328 Total milliseconds

================== End Searching ============


The o/p says a hit of 67 in total  [ I have sniped out most of them for view
case ] , the search word is present in field "Contents"
where the content part of html file is indexed.

If u see the Field  " File Name" it's Unique and is  indexed/ Viewed /  as
per Windows O/s Explore case.

My Question now is, If I want to Use Range Query  to  get search hits
between
fileName "B10181_P702"  and   "B10181_P355" only Instead of all the 67 hits
,

How Do I do it [Please state with clear Example or send me an attachement
for the same ,
  I overrided  the getRange() Query  method as per u'r last mail ,but still
not able to achive the Results  ].




with regards
Karthik









-----Original Message-----
From: Ype Kingma [mailto:ykingma@xs4all.nl]
Sent: Saturday, May 29, 2004 12:10 AM
To: lucene-user@jakarta.apache.org
Subject: Re: Range Query Sombody HELP please


On Friday 28 May 2004 10:54, Karthik N S wrote:
> Hey ype
>
> Thx for the advice but still I need to get the  exact situation working ,
>
> 1) I have a unique Field [ called filename ] which is indexed of type
Text.
>     It accepts the name of the HTML files as  the indexing parameter ,
>    Also there is another Field called "Contents"   which stores all the
> contents of that
>    indicated unique named html file.
>
> 2) The indexer complete indexes for about 5000 html files  sucessfully .
>
> 3) When I do a search for word ,it returns a hit of  400  on various html
> files
>
> Now in this situation if I want to limit the hits  between  First 200  to
> 400  html Page Names  only
> what exactly should I do to using getRange() method.

A range query will provide a range of indexed values, and
I thought you needed to add the record number as an indexed field
in each record.

However, you seem to use the 200 and 400 here as the order number
for each record in the result of the query on the Contents field.
Is that correct?
When so, in which order do you expect the results of your query?

Kind regards,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8504-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 31 08:18:00 2004
Return-Path: <lucene-user-return-8504-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95589 invoked from network); 31 May 2004 08:18:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 May 2004 08:18:00 -0000
Received: (qmail 14760 invoked by uid 500); 31 May 2004 08:17:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14381 invoked by uid 500); 31 May 2004 08:17:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14366 invoked by uid 99); 31 May 2004 08:17:51 -0000
Received: from [194.109.24.12] (HELO smtp-out2.xs4all.nl) (194.109.24.12)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 31 May 2004 01:17:51 -0700
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out2.xs4all.nl (8.12.10/8.12.10) with ESMTP id i4V8HTce002628
	for <lucene-user@jakarta.apache.org>; Mon, 31 May 2004 10:17:29 +0200 (CEST)
From: Ype Kingma <ykingma@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Range Query Sombody HELP please
Date: Mon, 31 May 2004 10:17:29 +0200
User-Agent: KMail/1.5.4
References: <LOEGLEEGOAKBOLAJCCKIOEGDCAAA.karthik@controlnet.co.in>
In-Reply-To: <LOEGLEEGOAKBOLAJCCKIOEGDCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200405311017.29208.ykingma@xs4all.nl>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Karthik,

On Monday 31 May 2004 06:12, Karthik N S wrote:
> Hey Ype

...
>
> My Question now is, If I want to Use Range Query  to  get search hits
> between
> fileName "B10181_P702"  and   "B10181_P355" only Instead of all the 67 hits
> ,
>
In this case there is no need to override range query, just use

+fileName:[B10181_P702 TO B10181_P355]

as part of the query.

Kind regards,
Ype



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8505-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 31 08:53:41 2004
Return-Path: <lucene-user-return-8505-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11349 invoked from network); 31 May 2004 08:53:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 May 2004 08:53:41 -0000
Received: (qmail 49265 invoked by uid 500); 31 May 2004 08:53:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49120 invoked by uid 500); 31 May 2004 08:53:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49107 invoked by uid 99); 31 May 2004 08:53:33 -0000
Received: from [203.199.26.74] (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Mon, 31 May 2004 01:53:33 -0700
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HYKMJI00.UB8 for <lucene-user@jakarta.apache.org>; Mon,
          31 May 2004 14:34:30 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Range Query Sombody HELP please
Date: Mon, 31 May 2004 14:30:58 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKICEGFCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <200405311017.29208.ykingma@xs4all.nl>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey YPE

 Apologies again

I did as per u'r  mail but see the  ERROR...

Search Keyword : +king+filename:[b10181_p702 TO b01081_p355]
Source path [ E:/po/aaaa ] : e:/indexer3/b10181
The Exception Raised file = SearchFiles.searchIndx0
java.lang.NegativeArraySizeException
        at
org.apache.lucene.index.TermInfosReader.readIndex(TermInfosReader.java:106)
        at
org.apache.lucene.index.TermInfosReader.<init>(TermInfosReader.java:82)
        at
org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:141)
        at
org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:120)
        at
org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:118)
        at org.apache.lucene.store.Lock$With.run(Lock.java:148)
        at org.apache.lucene.index.IndexReader.open(IndexReader.java:111)
        at
org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:80)
        at
com.controlnet.indexing.search.SearchFiles.searchIndex0(SearchFiles.java:68)
        at
com.controlnet.indexing.search.SearchFiles.main(SearchFiles.java:240)

[Note the Field filename is in lower case not fileName ,sorry about that]

Am I doing some thing wrong in here........

With regards
Karthik


-----Original Message-----
From: Ype Kingma [mailto:ykingma@xs4all.nl]
Sent: Monday, May 31, 2004 1:47 PM
To: lucene-user@jakarta.apache.org
Subject: Re: Range Query Sombody HELP please


Karthik,

On Monday 31 May 2004 06:12, Karthik N S wrote:
> Hey Ype

...
>
> My Question now is, If I want to Use Range Query  to  get search hits
> between
> fileName "B10181_P702"  and   "B10181_P355" only Instead of all the 67
hits
> ,
>
In this case there is no need to override range query, just use

+fileName:[B10181_P702 TO B10181_P355]

as part of the query.

Kind regards,
Ype



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8506-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 31 09:01:37 2004
Return-Path: <lucene-user-return-8506-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15073 invoked from network); 31 May 2004 09:01:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 May 2004 09:01:37 -0000
Received: (qmail 60713 invoked by uid 500); 31 May 2004 09:01:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60529 invoked by uid 500); 31 May 2004 09:01:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60515 invoked by uid 99); 31 May 2004 09:01:28 -0000
Received: from [203.199.26.74] (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Mon, 31 May 2004 02:01:28 -0700
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HYKMXH00.UC1 for <lucene-user@jakarta.apache.org>; Mon,
          31 May 2004 14:42:53 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Range Query Sombody HELP please
Date: Mon, 31 May 2004 14:39:21 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIIEGFCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <200405311017.29208.ykingma@xs4all.nl>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey Ype

Sorry Once again Apologies for my last mail

I re indexed my folder 10181 [Seem's to be corrupted]
Now I am getting the hits as....


D:\JAVA\lucene\src\demo>java org.lucene.src.indexer.search.SearchFiles
Search Keyword : +button+filename:[B10181_P702 TO B01081_P355]
Source path [ E:/po/aaaa ] : e:/indexer3/b10181
Query: ['+button+filename:[B10181_P702 TO B01081_P355]'] in Folder
e:/indexer3/b10181/b10181_indx_
Not a Found document(s) that matched query Field 'filename':
Not a Found document(s) that matched query Field 'bookid':
Not a Found document(s) that matched query Field 'creation':
Not a Found document(s) that matched query Field 'contents':
Not a Found document(s) that matched query Field 'chapNme':
Not a Found document(s) that matched query Field 'itmName':


204 Total milliseconds

D:\JAVA\lucene\src\demo>java java org.lucene.src.indexer.search.SearchFiles
Search Keyword : button+filename:[B10181_P702 TO B01081_P355]
Source path [ E:/po/aaaa ] : e:/indexer3/b10181
Query: ['button+filename:[B10181_P702 TO B01081_P355]'] in Folder
e:/indexer3/b10181/b10181_indx_
Not a Found document(s) that matched query Field 'filename':
Not a Found document(s) that matched query Field 'bookid':
Not a Found document(s) that matched query Field 'creation':
Not a Found document(s) that matched query Field 'contents':
Not a Found document(s) that matched query Field 'chapNme':
Not a Found document(s) that matched query Field 'itmName':


Is this Correct......
Or something still wrong as per Query parse String is concerned.



with regards
Karthik


-----Original Message-----
From: Ype Kingma [mailto:ykingma@xs4all.nl]
Sent: Monday, May 31, 2004 1:47 PM
To: lucene-user@jakarta.apache.org
Subject: Re: Range Query Sombody HELP please


Karthik,

On Monday 31 May 2004 06:12, Karthik N S wrote:
> Hey Ype

...
>
> My Question now is, If I want to Use Range Query  to  get search hits
> between
> fileName "B10181_P702"  and   "B10181_P355" only Instead of all the 67
hits
> ,
>
In this case there is no need to override range query, just use

+fileName:[B10181_P702 TO B10181_P355]

as part of the query.

Kind regards,
Ype



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8507-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 31 10:04:32 2004
Return-Path: <lucene-user-return-8507-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46536 invoked from network); 31 May 2004 10:04:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 May 2004 10:04:32 -0000
Received: (qmail 16221 invoked by uid 500); 31 May 2004 10:04:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16198 invoked by uid 500); 31 May 2004 10:04:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16183 invoked by uid 99); 31 May 2004 10:04:12 -0000
Received: from [202.6.243.8] (HELO smtp.bii-sg.org) (202.6.243.8)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 31 May 2004 03:04:12 -0700
Received: (qmail 10269 invoked from network); 31 May 2004 10:03:53 -0000
Received: from ip7-86-v366.it-group.bii (HELO ?10.217.7.86?) (10.217.7.86)
  by apps1.bii-sg.org with SMTP; 31 May 2004 10:03:53 -0000
Subject: indexreader throwing IOException with lock obtain timed out
From: Sebastian Ho <sebastianh@bii.a-star.edu.sg>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Content-Type: text/plain
Organization: 
Message-Id: <1085997751.2751.13.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5) 
Date: 31 May 2004 18:02:31 +0800
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

hi

i am updating the index and therefore need to delete documents before
adding the updated version.

This is how I delete the document which is working fine.

-----------------------------------------------------------------
int deleteDoc = 0;
deleteDoc = IndexReader.open(dstDir).delete(new Term("url", url));
IndexReader.open(dstDir).close();
-----------------------------------------------------------------

The writer after that throws an IOException : Lock obtain timed out.

-----------------------------------------------------------------
Analyzer analyzer = new StandardAnalyzer();
IndexWriter writer = new IndexWriter(dstDir, analyzer, overwrite);
-----------------------------------------------------------------

Am I missing anything? I have already closed the IndexReader before
calling the writer.

Thanks


Sebastian 




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8508-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 31 10:14:50 2004
Return-Path: <lucene-user-return-8508-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51735 invoked from network); 31 May 2004 10:14:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 May 2004 10:14:49 -0000
Received: (qmail 32991 invoked by uid 500); 31 May 2004 10:14:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32895 invoked by uid 500); 31 May 2004 10:14:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32798 invoked by uid 99); 31 May 2004 10:14:28 -0000
Received: from [202.6.243.8] (HELO smtp.bii-sg.org) (202.6.243.8)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 31 May 2004 03:14:28 -0700
Received: (qmail 10723 invoked from network); 31 May 2004 10:14:05 -0000
Received: from ip7-86-v366.it-group.bii (HELO ?10.217.7.86?) (10.217.7.86)
  by apps1.bii-sg.org with SMTP; 31 May 2004 10:14:05 -0000
Subject: Re: indexreader throwing IOException with lock obtain timed out
From: Sebastian Ho <sebastianh@bii.a-star.edu.sg>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1085997751.2751.13.camel@localhost.localdomain>
References: <1085997751.2751.13.camel@localhost.localdomain>
Content-Type: text/plain
Organization: 
Message-Id: <1085998363.2751.17.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5) 
Date: 31 May 2004 18:12:44 +0800
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Sorry guys I have solved it. I should do this.

int deleteDoc = 0;
IndexReader reader = IndexReader.open(dstDir);
deleteDoc = reader.delete(new Term("url", url));
reader.close();

Just need to use the same instance of reader.

anyway lucene should just overwrite the old document during updating
instead..

sebastian

On Mon, 2004-05-31 at 18:02, Sebastian Ho wrote:
> hi
> 
> i am updating the index and therefore need to delete documents before
> adding the updated version.
> 
> This is how I delete the document which is working fine.
> 
> -----------------------------------------------------------------
> int deleteDoc = 0;
> deleteDoc = IndexReader.open(dstDir).delete(new Term("url", url));
> IndexReader.open(dstDir).close();
> -----------------------------------------------------------------
> 
> The writer after that throws an IOException : Lock obtain timed out.
> 
> -----------------------------------------------------------------
> Analyzer analyzer = new StandardAnalyzer();
> IndexWriter writer = new IndexWriter(dstDir, analyzer, overwrite);
> -----------------------------------------------------------------
> 
> Am I missing anything? I have already closed the IndexReader before
> calling the writer.
> 
> Thanks
> 
> 
> Sebastian 
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8509-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 31 10:34:02 2004
Return-Path: <lucene-user-return-8509-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63163 invoked from network); 31 May 2004 10:34:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 May 2004 10:34:02 -0000
Received: (qmail 61523 invoked by uid 500); 31 May 2004 10:33:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61482 invoked by uid 500); 31 May 2004 10:33:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61468 invoked by uid 99); 31 May 2004 10:33:55 -0000
Received: from [194.109.24.13] (HELO smtp-out3.xs4all.nl) (194.109.24.13)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 31 May 2004 03:33:55 -0700
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out3.xs4all.nl (8.12.10/8.12.10) with ESMTP id i4V9M60g039353
	for <lucene-user@jakarta.apache.org>; Mon, 31 May 2004 11:22:06 +0200 (CEST)
From: Ype Kingma <ykingma@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Range Query Sombody HELP please
Date: Mon, 31 May 2004 11:22:05 +0200
User-Agent: KMail/1.5.4
References: <LOEGLEEGOAKBOLAJCCKIIEGFCAAA.karthik@controlnet.co.in>
In-Reply-To: <LOEGLEEGOAKBOLAJCCKIIEGFCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200405311122.06135.ykingma@xs4all.nl>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday 31 May 2004 11:09, Karthik N S wrote:

...
> I re indexed my folder 10181 [Seem's to be corrupted]

Was the index writer closed?

> Now I am getting the hits as....
>
>
> D:\JAVA\lucene\src\demo>java org.lucene.src.indexer.search.SearchFiles
> Search Keyword : +button+filename:[B10181_P702 TO B01081_P355]

The query needs to have space before the 2nd + :

+button  +filename:[B10181_P702 TO B01081_P355]

> Source path [ E:/po/aaaa ] : e:/indexer3/b10181
> Query: ['+button+filename:[B10181_P702 TO B01081_P355]'] in Folder
> e:/indexer3/b10181/b10181_indx_
> Not a Found document(s) that matched query Field 'filename':
> Not a Found document(s) that matched query Field 'bookid':
> Not a Found document(s) that matched query Field 'creation':
> Not a Found document(s) that matched query Field 'contents':
> Not a Found document(s) that matched query Field 'chapNme':
> Not a Found document(s) that matched query Field 'itmName':

You seem to use a search mechanism that searches all these fields.
I'd recommend to switch this off until a query with explicit fields works,
eg.:

+contents:button  +filename:[B10181_P702 TO B01081_P355]

Btw. You'll need to make sure that a term like B10181_P702 is
not split at the underscore _ by a tokenizer at indexing time.
If your filename is not a keyword field, you might consider
changing it into a keyword field.

You seem to index book pages as Lucene documents, which is ok.
However, you may also need to index larger parts of the books in
order to retrieve books with multiple subjects on different pages.
Is this what your original question is about?

Have fun,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8510-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 31 11:55:47 2004
Return-Path: <lucene-user-return-8510-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4801 invoked from network); 31 May 2004 11:55:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 May 2004 11:55:47 -0000
Received: (qmail 58419 invoked by uid 500); 31 May 2004 11:55:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58388 invoked by uid 500); 31 May 2004 11:55:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58374 invoked by uid 99); 31 May 2004 11:55:42 -0000
Received: from [203.199.26.74] (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Mon, 31 May 2004 04:55:42 -0700
Received: from karthik ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id HYKU8G00.UT7 for <lucene-user@jakarta.apache.org>; Mon,
          31 May 2004 17:20:40 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Range Query Sombody HELP please
Date: Mon, 31 May 2004 17:17:08 +0530
Message-ID: <LOEGLEEGOAKBOLAJCCKIAEGHCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <200405311122.06135.ykingma@xs4all.nl>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey Ype...

1) I switched Off the Multi search Senerio.

2) Changing the Field type from Text to Keyword
    will fail When I search for the the Field type  "filename"
    so,I still maintained it to be Text

D:\JAVA\lucene\src\demo>java org.lucene.src.indexer.search.SearchFiles
Search Keyword : b10181_p388
Source path [ E:/po/aaaa ] : e:/indexer3/b10181
Query: ['b10181_p388'] in Folder e:/indexer3/b10181/b10181_indx_

Found document(s) that matched : 'b10181_p388' no of hits :'1' in query
Field :'filename'
File Name     : B10181_P388


3)On Search for range between 2 file names  B10181_P702   to  B01081_P355
    still returns me  0 hits  [Included space before the 2nd '+' ]

D:\JAVA\lucene\src\demo>java org.lucene.src.indexer.search.SearchFiles
Search Keyword : +button +filename:[b10181_p702 TO b10181_p355]
Source path [ E:/po/aaaa ] : e:/indexer3/b10181
Query: ['+button +filename:[b10181_p702 TO b10181_p355]'] in Folder
e:/indexer3/b10181/b10181_indx_
Not a Found document(s) that matched query Field 'filename':

				or

D:\JAVA\lucene\src\demo>java com.controlnet.indexing.search.SearchFiles
Search Keyword : +contents:button +filename:[b10181_p702 TO b10181_p355]
Source path [ E:/po/aaaa ] : e:/indexer3/b10181
Query: ['+contents:button +filename:[b10181_p702 TO b10181_p355]'] in Folder
e:/indexer3/b10181/b10181_indx_
Not a Found document(s) that matched query Field 'filename':


Also the does the search varies on the Field Type if so My Indexed Field
types as below....

doc.add(Field.Text("path", fhtml.getPath()));
doc.add(Field.Keyword("modified",fhtml.lastModified()+""));
doc.add(Field.Text("filename",fhtml.getName()));
doc.add(Field.Keyword("creation",CREATION_));
doc.add(Field.Keyword("bookid",BOOKID_));
doc.add(Field.Text("chapNme",CHAPNAME_));
doc.add(Field.Text("itmName",ITEMNAME_));



please do advise me.
Karthik



[ James Goslink says   Microsoft has More Money to burn then GOD has
  ...on his visit to India,In an interview to MSNBC TV Last night ]



-----Original Message-----
From: Ype Kingma [mailto:ykingma@xs4all.nl]
Sent: Monday, May 31, 2004 2:52 PM
To: lucene-user@jakarta.apache.org
Subject: Re: Range Query Sombody HELP please


On Monday 31 May 2004 11:09, Karthik N S wrote:

...
> I re indexed my folder 10181 [Seem's to be corrupted]

Was the index writer closed?

> Now I am getting the hits as....
>
>
> D:\JAVA\lucene\src\demo>java org.lucene.src.indexer.search.SearchFiles
> Search Keyword : +button+filename:[B10181_P702 TO B01081_P355]

The query needs to have space before the 2nd + :

+button  +filename:[B10181_P702 TO B01081_P355]

> Source path [ E:/po/aaaa ] : e:/indexer3/b10181
> Query: ['+button+filename:[B10181_P702 TO B01081_P355]'] in Folder
> e:/indexer3/b10181/b10181_indx_
> Not a Found document(s) that matched query Field 'filename':
> Not a Found document(s) that matched query Field 'bookid':
> Not a Found document(s) that matched query Field 'creation':
> Not a Found document(s) that matched query Field 'contents':
> Not a Found document(s) that matched query Field 'chapNme':
> Not a Found document(s) that matched query Field 'itmName':

You seem to use a search mechanism that searches all these fields.
I'd recommend to switch this off until a query with explicit fields works,
eg.:

+contents:button  +filename:[B10181_P702 TO B01081_P355]

Btw. You'll need to make sure that a term like B10181_P702 is
not split at the underscore _ by a tokenizer at indexing time.
If your filename is not a keyword field, you might consider
changing it into a keyword field.

You seem to index book pages as Lucene documents, which is ok.
However, you may also need to index larger parts of the books in
order to retrieve books with multiple subjects on different pages.
Is this what your original question is about?

Have fun,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8511-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 31 13:14:36 2004
Return-Path: <lucene-user-return-8511-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48746 invoked from network); 31 May 2004 13:14:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 May 2004 13:14:35 -0000
Received: (qmail 69657 invoked by uid 500); 31 May 2004 13:14:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69631 invoked by uid 500); 31 May 2004 13:14:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69614 invoked by uid 99); 31 May 2004 13:14:28 -0000
Received: from [128.143.103.115] (HELO postfix.mail.ehatchersolutions.com) (128.143.103.115)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 31 May 2004 06:14:28 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id D525373ED6A
	for <lucene-user@jakarta.apache.org>; Mon, 31 May 2004 09:14:14 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <20040531023442.A2C2E13E2005@ehatchersolutions.com>
References: <20040531023442.A2C2E13E2005@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <692D5B98-B304-11D8-8C12-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Newbie Questions: Site Scoping, Page Type Filtering/Sorting, Localization, Clustering
Date: Mon, 31 May 2004 09:14:13 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On May 30, 2004, at 10:34 PM, Sasha Haghani wrote:
> I am a newbie to Lucene and I'm considering using it in an upcoming 
> project.
> I've read through the documentation but I still have a number of 
> questions:

I'll do my best with some pointers below...

> 1. SEGMENTING AN INDEX & QUERIES BY SITE SCOPE
> In my use case, I have a number of logical websites backed by the same
> underlying content store.  A Document may be ultimately end up 
> "belonging"
> to one or more logical sites, but at a distinct URL for each.  The
> simplistic solution is to maintain indices for each logical site, but 
> this
> will result in some unwanted duplication and the need to update 
> multiple
> indices on "shared" content changes.  Other than that, can anyone 
> suggest
> approaches for how to segment a single index to accomodate multiple 
> logical
> sites and allow queries within a particlar site's scope?  Are fields 
> the
> solution?  How should the distinct per-site URLs be managed?

I don't think there is a definitive "best" way to do this.  Per-site 
indexes is one option.  Using a "site" field is another.  Queries for a 
particular site could be done either by using QueryFilter or by 
wrapping all queries in a BooleanQuery with a required TermQuery for 
the "site".

Sites could share documents by simply adding multiple 
Field.Keyword("site", site) to the documents.

> 2. LOCALIZED CONTENT
> I understand that at its core, Lucene can support content from any 
> locale
> and character set supported by Java.  What is the best way of 
> implementing
> Lucene to handle a content base which includes numerous locales.  One 
> index
> per locale or should all Documents be placed in a single index and 
> tagged
> with a "locale" field?  Or is there another approach altogether?

Again, there isn't really a "best" way, I don't think.  How does the 
locale situation relate to the previously mentioned site separation?  A 
"locale" field is a perfectly reasonable way to go also.  I don't know 
of any other approach.

> 3. DOCUMENT URLS
> Is the URL at which the original document can be retrieved generally 
> (i.e.,
> for linking search results to the original doc) stored as a non-index,
> non-tokenized, stored Field in the Document?

It depends on whether you want to query for it or not.  Field.Keyword 
if you want to be able to query for it.  Field.UnIndexed if you want it 
with the attributes you specified.

> 4. QUERY FILTERING & SORTING BY FIELD VALUE
> In my application I have a pretty typical need to distinguish between
> different document types (e.g., FAQs, Articles, Reviews, etc.) in 
> order to
> allow the user to restrict their results to particular types of 
> documents or
> to sort results by type.  Are fields again the solution for this?  Can
> Queries filter or sort results/hits on exact field values (i.e.,
> non-tokenized field values).

Fields are generally the solution :)  What else is there?  Documents 
have Fields.  Fields are where you put metadata about documents.  A 
document type makes perfect sense to put in a field.

QueryFilter or the BooleanQuery AND trick mentioned above would allow 
you to narrow results down to a particular set of types.  Sorting works 
on exact values, yes, and you can write your own sorting implementation 
if lexicographic or numeric sorting are not sufficient which could key 
off external information if needed.  To sort on a field, it needs to be 
indexed and non-tokenized (stored is irrelevant).  There must be only a 
single term for that field in a document.  Check the Javadocs for the 
Sort class for more details on the sorting requirements.

> 5. DEPLOYING LUCENE IN A CLUSTERED WEB-APP ENVIRONMENT
> How is Lucene to be deployed in a clustered web-app environment?  Do 
> all
> cluster nodes require access to a networked filesystem containing the 
> index
> files or is there another solution?  How is concurrency managed when 
> the
> index is being incrementally updated?

This is entirely up to you to manage.  I'm sure developers building 
solutions with Lucene have employed all sorts of various architectures.

Concurrency is managed via lock files that need to be shared among apps 
interacting with the index.  The short answer is only a single process 
(but multiple threads sharing an IndexWriter) can index at a time.  You 
would probably want to build some sort of queuing infrastructure and 
have a single indexer, or index into separate indexes and merge them.

> Any answers and suggestions are much appreciated.  Thanks.

I hope this helps some.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8512-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 31 13:20:44 2004
Return-Path: <lucene-user-return-8512-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60863 invoked from network); 31 May 2004 13:20:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 May 2004 13:20:44 -0000
Received: (qmail 78932 invoked by uid 500); 31 May 2004 13:20:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78908 invoked by uid 500); 31 May 2004 13:20:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78894 invoked by uid 99); 31 May 2004 13:20:37 -0000
Received: from [128.143.103.115] (HELO postfix.mail.ehatchersolutions.com) (128.143.103.115)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 31 May 2004 06:20:37 -0700
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by postfix.mail.ehatchersolutions.com (Postfix) with ESMTP id D458773ED9E
	for <lucene-user@jakarta.apache.org>; Mon, 31 May 2004 09:20:29 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v613)
In-Reply-To: <LOEGLEEGOAKBOLAJCCKIAEGHCAAA.karthik@controlnet.co.in>
References: <LOEGLEEGOAKBOLAJCCKIAEGHCAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <48D1220E-B305-11D8-8C12-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Range Query Sombody HELP please
Date: Mon, 31 May 2004 09:20:28 -0400
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.613)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Try my AnalysisDemo code on some filename field samples:

	http://wiki.apache.org/jakarta-lucene/AnalysisParalysis

You mentioned earlier, I think, that you are using a custom analyzer.  
Give us the output of AnalysisDemo on some samples so we can see what 
is coming out.

If you can put together a 10-line Java program that uses RAMDirectory 
and has some sample hard-coded text that I can easily run standalone I 
would look into your situation further.  As it is, you are providing 
far more complexity than I have time to delve into.  Narrow it down to 
a very very simple example that we can all see in one screen.

	Erik


On May 31, 2004, at 7:47 AM, Karthik N S wrote:

> Hey Ype...
>
> 1) I switched Off the Multi search Senerio.
>
> 2) Changing the Field type from Text to Keyword
>     will fail When I search for the the Field type  "filename"
>     so,I still maintained it to be Text
>
> D:\JAVA\lucene\src\demo>java org.lucene.src.indexer.search.SearchFiles
> Search Keyword : b10181_p388
> Source path [ E:/po/aaaa ] : e:/indexer3/b10181
> Query: ['b10181_p388'] in Folder e:/indexer3/b10181/b10181_indx_
>
> Found document(s) that matched : 'b10181_p388' no of hits :'1' in query
> Field :'filename'
> File Name     : B10181_P388
>
>
> 3)On Search for range between 2 file names  B10181_P702   to  
> B01081_P355
>     still returns me  0 hits  [Included space before the 2nd '+' ]
>
> D:\JAVA\lucene\src\demo>java org.lucene.src.indexer.search.SearchFiles
> Search Keyword : +button +filename:[b10181_p702 TO b10181_p355]
> Source path [ E:/po/aaaa ] : e:/indexer3/b10181
> Query: ['+button +filename:[b10181_p702 TO b10181_p355]'] in Folder
> e:/indexer3/b10181/b10181_indx_
> Not a Found document(s) that matched query Field 'filename':
>
> 				or
>
> D:\JAVA\lucene\src\demo>java com.controlnet.indexing.search.SearchFiles
> Search Keyword : +contents:button +filename:[b10181_p702 TO 
> b10181_p355]
> Source path [ E:/po/aaaa ] : e:/indexer3/b10181
> Query: ['+contents:button +filename:[b10181_p702 TO b10181_p355]'] in 
> Folder
> e:/indexer3/b10181/b10181_indx_
> Not a Found document(s) that matched query Field 'filename':
>
>
> Also the does the search varies on the Field Type if so My Indexed 
> Field
> types as below....
>
> doc.add(Field.Text("path", fhtml.getPath()));
> doc.add(Field.Keyword("modified",fhtml.lastModified()+""));
> doc.add(Field.Text("filename",fhtml.getName()));
> doc.add(Field.Keyword("creation",CREATION_));
> doc.add(Field.Keyword("bookid",BOOKID_));
> doc.add(Field.Text("chapNme",CHAPNAME_));
> doc.add(Field.Text("itmName",ITEMNAME_));
>
>
>
> please do advise me.
> Karthik
>
>
>
> [ James Goslink says   Microsoft has More Money to burn then GOD has
>   ...on his visit to India,In an interview to MSNBC TV Last night ]
>
>
>
> -----Original Message-----
> From: Ype Kingma [mailto:ykingma@xs4all.nl]
> Sent: Monday, May 31, 2004 2:52 PM
> To: lucene-user@jakarta.apache.org
> Subject: Re: Range Query Sombody HELP please
>
>
> On Monday 31 May 2004 11:09, Karthik N S wrote:
>
> ...
>> I re indexed my folder 10181 [Seem's to be corrupted]
>
> Was the index writer closed?
>
>> Now I am getting the hits as....
>>
>>
>> D:\JAVA\lucene\src\demo>java org.lucene.src.indexer.search.SearchFiles
>> Search Keyword : +button+filename:[B10181_P702 TO B01081_P355]
>
> The query needs to have space before the 2nd + :
>
> +button  +filename:[B10181_P702 TO B01081_P355]
>
>> Source path [ E:/po/aaaa ] : e:/indexer3/b10181
>> Query: ['+button+filename:[B10181_P702 TO B01081_P355]'] in Folder
>> e:/indexer3/b10181/b10181_indx_
>> Not a Found document(s) that matched query Field 'filename':
>> Not a Found document(s) that matched query Field 'bookid':
>> Not a Found document(s) that matched query Field 'creation':
>> Not a Found document(s) that matched query Field 'contents':
>> Not a Found document(s) that matched query Field 'chapNme':
>> Not a Found document(s) that matched query Field 'itmName':
>
> You seem to use a search mechanism that searches all these fields.
> I'd recommend to switch this off until a query with explicit fields 
> works,
> eg.:
>
> +contents:button  +filename:[B10181_P702 TO B01081_P355]
>
> Btw. You'll need to make sure that a term like B10181_P702 is
> not split at the underscore _ by a tokenizer at indexing time.
> If your filename is not a keyword field, you might consider
> changing it into a keyword field.
>
> You seem to index book pages as Lucene documents, which is ok.
> However, you may also need to index larger parts of the books in
> order to retrieve books with multiple subjects on different pages.
> Is this what your original question is about?
>
> Have fun,
> Ype
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8513-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 31 15:11:00 2004
Return-Path: <lucene-user-return-8513-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17250 invoked from network); 31 May 2004 15:10:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 May 2004 15:10:59 -0000
Received: (qmail 97751 invoked by uid 500); 31 May 2004 15:10:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97077 invoked by uid 500); 31 May 2004 15:10:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97064 invoked by uid 99); 31 May 2004 15:10:56 -0000
Received: from [194.109.24.5] (HELO smtp-out4.xs4all.nl) (194.109.24.5)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 31 May 2004 08:10:56 -0700
Received: from k7l.local (porta.xs4all.nl [80.127.24.69])
	by smtp-out4.xs4all.nl (8.12.10/8.12.10) with ESMTP id i4VFAk5Z009930
	for <lucene-user@jakarta.apache.org>; Mon, 31 May 2004 17:10:46 +0200 (CEST)
From: Ype Kingma <ykingma@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Range Query Sombody HELP please
Date: Mon, 31 May 2004 17:10:46 +0200
User-Agent: KMail/1.5.4
References: <LOEGLEEGOAKBOLAJCCKIAEGHCAAA.karthik@controlnet.co.in>
In-Reply-To: <LOEGLEEGOAKBOLAJCCKIAEGHCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200405311710.46048.ykingma@xs4all.nl>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Karthik,

On Monday 31 May 2004 13:47, Karthik N S wrote:
> Hey Ype...
>
> 1) I switched Off the Multi search Senerio.
>
> 2) Changing the Field type from Text to Keyword
>     will fail When I search for the the Field type  "filename"
>     so,I still maintained it to be Text

Just make sure the file name is indexed as you show it,
ie. the underscore should be in the indexed term.
The best way to do that is to index the filename as keyword.
Check the output of the analyzer, or use luke to see what is in the index
for the filename field.

> D:\JAVA\lucene\src\demo>java org.lucene.src.indexer.search.SearchFiles
> Search Keyword : b10181_p388
> Source path [ E:/po/aaaa ] : e:/indexer3/b10181
> Query: ['b10181_p388'] in Folder e:/indexer3/b10181/b10181_indx_
>
> Found document(s) that matched : 'b10181_p388' no of hits :'1' in query
> Field :'filename'
> File Name     : B10181_P388
>
>
> 3)On Search for range between 2 file names  B10181_P702   to  B01081_P355
>     still returns me  0 hits  [Included space before the 2nd '+' ]
>
> D:\JAVA\lucene\src\demo>java org.lucene.src.indexer.search.SearchFiles
> Search Keyword : +button +filename:[b10181_p702 TO b10181_p355]

Could you try this:

+button +filename:[b10181_p355 TO b10181_p702]

?
If this does not work, please narrow your problem down to a java test program
of 10-20 lines, and post the code.

Regards,
Ype


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-8514-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 31 18:10:31 2004
Return-Path: <lucene-user-return-8514-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94718 invoked from network); 31 May 2004 18:10:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 May 2004 18:10:31 -0000
Received: (qmail 3867 invoked by uid 500); 31 May 2004 18:10:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3658 invoked by uid 500); 31 May 2004 18:10:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3617 invoked by uid 99); 31 May 2004 18:10:23 -0000
Received: from [66.218.94.78] (HELO web90107.mail.scd.yahoo.com) (66.218.94.78)
  by apache.org (qpsmtpd/0.27.1) with SMTP; Mon, 31 May 2004 11:10:23 -0700
Message-ID: <20040531181016.52275.qmail@web90107.mail.scd.yahoo.com>
Received: from [134.214.105.166] by web90107.mail.scd.yahoo.com via HTTP; Mon, 31 May 2004 11:10:16 PDT
Date: Mon, 31 May 2004 11:10:16 -0700 (PDT)
From: uddam chukmol <uddam_chukmol@yahoo.com>
Subject: similarity of two texts
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-136982937-1086027016=:50805"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-136982937-1086027016=:50805
Content-Type: text/plain; charset=us-ascii

Hi,
 
I'm a newbie to Lucene and heard that it helps in the information retrieval process. However, my problem is not really related to the information retrieval but to the comparison of two texts. I think Lucene may help resolving it.  
 
I would like to have a clue on how to compare two given texts and finally say how much they are similar. 
 
Has anyone had this kind of experience? I will be very grateful to hear your ideas and your recommendations.
 
Thanks before hand!
 
Uddam CHUKMOL
 
 

		
---------------------------------
Do you Yahoo!?
Friends.  Fun. Try the all-new Yahoo! Messenger
--0-136982937-1086027016=:50805--

From lucene-user-return-8515-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 31 20:07:28 2004
Return-Path: <lucene-user-return-8515-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47557 invoked from network); 31 May 2004 20:07:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 May 2004 20:07:28 -0000
Received: (qmail 37766 invoked by uid 500); 31 May 2004 20:07:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37717 invoked by uid 500); 31 May 2004 20:07:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37679 invoked by uid 99); 31 May 2004 20:07:21 -0000
Received: from [64.136.164.4] (HELO Email01.inside.adbasesystems.com) (64.136.164.4)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 31 May 2004 13:07:21 -0700
Received: from POWERPACK (unverified [216.234.114.187]) by Email01.inside.adbasesystems.com
 (Vircom SMTPRS 3.1.293.1) with SMTP id <B0023982967@Email01.inside.adbasesystems.com> for <lucene-user@jakarta.apache.org>;
 Mon, 31 May 2004 16:07:12 -0400
Message-ID: <002301c4474a$ddef8370$bb72ead8@POWERPACK>
From: "Terry Steichen" <terry@net-frame.com>
To: "Lucene Users Group" <lucene-user@jakarta.apache.org>
Subject: Lockfile Problem Solved
Date: Mon, 31 May 2004 16:07:13 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0020_01C44729.55E04990"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1409
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0020_01C44729.55E04990
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Just thought I'd pass on some info I just discovered.  I've been =
successfully using the CVS head version of Lucene as of about 2 months =
ago.  I then got the formal release (1.4-rc3) and tried it with my =
application, but it failed.  I tried it with some commandline test =
routines and they worked fine, but not my application (runs under Tomcat =
4.1.24, on a Windows XP/Pro).

After a lot of debugging, I discovered that IndexReader was trying to =
create a lockfile in a non-existent directory (called "temp" at the same =
level as the index directory).  After I manually created this directory, =
everything seems to be working fine. =20

(Why this happens only with the Tomcat application, and not commandline =
apps, I don't know.  Probably has something to do with JVM properties.)

Regards,

Terry
------=_NextPart_000_0020_01C44729.55E04990--


From lucene-user-return-8516-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon May 31 20:53:51 2004
Return-Path: <lucene-user-return-8516-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61966 invoked from network); 31 May 2004 20:53:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 May 2004 20:53:51 -0000
Received: (qmail 92332 invoked by uid 500); 31 May 2004 20:53:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92267 invoked by uid 500); 31 May 2004 20:53:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92254 invoked by uid 99); 31 May 2004 20:53:47 -0000
Received: from [212.227.126.184] (HELO moutng.kundenserver.de) (212.227.126.184)
  by apache.org (qpsmtpd/0.27.1) with ESMTP; Mon, 31 May 2004 13:53:47 -0700
Received: from [212.227.126.209] (helo=mrelayng.kundenserver.de)
	by moutng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1BUtms-00019E-00
	for lucene-user@jakarta.apache.org; Mon, 31 May 2004 22:53:38 +0200
Received: from [213.54.43.8] (helo=[192.168.1.3])
	by mrelayng.kundenserver.de with asmtp (Exim 3.35 #1)
	id 1BUtms-0000W1-00
	for lucene-user@jakarta.apache.org; Mon, 31 May 2004 22:53:38 +0200
Mime-Version: 1.0 (Apple Message framework v618)
In-Reply-To: <20040531181016.52275.qmail@web90107.mail.scd.yahoo.com>
References: <20040531181016.52275.qmail@web90107.mail.scd.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <BA681B95-B32E-11D8-A78E-000A95CDCC98@media-style.com>
Content-Transfer-Encoding: 7bit
From: Stefan Groschupf <sg@media-style.com>
Subject: Re: similarity of two texts
Date: Mon, 31 May 2004 20:17:08 +0200
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.618)
X-Provags-ID: kundenserver.de abuse@kundenserver.de auth:a4338c0162347fc953fb77dffeae5728
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Lucene can't help you.
Search for text classification or text clustering.

Browse the tools section @ www.text-mining.org there you will found may  
be tools that can help you with this task.
In general some key words for your further search:

Feature extraction from text.
Data mining algorithms for clustering or classification.
One Algorithm you may be will found useful is "Support Vector Machine".

HTH
Stefan

P.S:
Support your local book store and order:
http://www.amazon.com/exec/obidos/tg/detail/-/1558605525/ 
qid=1086027371/sr=8-1/ref=sr_8_xs_ap_i1_xgl14/103-6852557-3809420? 
v=glance&s=books&n=507846
This book has interesting section for you.



Am 31.05.2004 um 20:10 schrieb uddam chukmol:

> Hi,
>
> I'm a newbie to Lucene and heard that it helps in the information  
> retrieval process. However, my problem is not really related to the  
> information retrieval but to the comparison of two texts. I think  
> Lucene may help resolving it.
>
> I would like to have a clue on how to compare two given texts and  
> finally say how much they are similar.
>
> Has anyone had this kind of experience? I will be very grateful to  
> hear your ideas and your recommendations.
>
> Thanks before hand!
>
> Uddam CHUKMOL
>
>
>
> 		
> ---------------------------------
> Do you Yahoo!?
> Friends.  Fun. Try the all-new Yahoo! Messenger
---------------------------------------------------------------
open technology:   http://www.media-style.com
open source:           http://www.weta-group.net
open discussion:    http://www.text-mining.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


