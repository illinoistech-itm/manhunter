From lucene-user-return-12196-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jan 02 22:43:52 2005
Return-Path: <lucene-user-return-12196-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35737 invoked from network); 2 Jan 2005 22:43:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Jan 2005 22:43:51 -0000
Received: (qmail 78672 invoked by uid 500); 2 Jan 2005 22:43:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78624 invoked by uid 500); 2 Jan 2005 22:43:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78608 invoked by uid 99); 2 Jan 2005 22:43:45 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp002.mail.ukl.yahoo.com (HELO smtp002.mail.ukl.yahoo.com) (217.12.11.33)
  by apache.org (qpsmtpd/0.28) with SMTP; Sun, 02 Jan 2005 14:43:41 -0800
Received: from unknown (HELO ?10.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp002.mail.ukl.yahoo.com with SMTP; 2 Jan 2005 22:43:39 -0000
Message-ID: <41D87927.4060102@yahoo.co.uk>
Date: Sun, 02 Jan 2005 22:43:51 +0000
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 0.8 (Windows/20040913)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: New Highlighter features
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The Highlighter package in CVS has been updated with the following new 
features:

* GradientFormatter is a new formatter that can be used to change the 
colour intensity of matching terms, based on their score. I have found 
this to be a useful way of visualizing the basis of query matches, 
especially when  the query was derived automatically eg in a 
"MoreLikeThis" style of query.

* The QueryScorer class has a new constructor that takes an IndexReader 
which is used to provide term scores based on scarcity (idf score).  
Using this with the new GradientFormatter ensures the most important 
terms are highlighted most strongly.

* New class "TokenSources" offers methods to produce a TokenStream from 
indexes using the new TermVector features (saving the cost of 
reanalyzing to produce TokenStreams for the highlighter).

TokenStreams. Formatters and Scorers are all pluggable elements of the 
main Highlighter class so these are just new extensions around the 
existing core functionality. See the Javadocs for further details on how 
to use these components..

Cheers
Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12197-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 03 03:40:45 2005
Return-Path: <lucene-user-return-12197-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32603 invoked from network); 3 Jan 2005 03:40:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Jan 2005 03:40:44 -0000
Received: (qmail 80742 invoked by uid 500); 3 Jan 2005 03:40:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80713 invoked by uid 500); 3 Jan 2005 03:40:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80699 invoked by uid 99); 3 Jan 2005 03:40:39 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Sun, 02 Jan 2005 19:40:35 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I9Q2XY00.2HA for <lucene-user@jakarta.apache.org>; Mon,
          3 Jan 2005 09:26:22 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: New Highlighter features + api
Date: Mon, 3 Jan 2005 09:14:37 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKIEIJCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <41D87927.4060102@yahoo.co.uk>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

  Mark,

Apologies..........



Can u Please tell the form where to find the 
JavaDoc API for the Highlighter package u have created.


Thx in Advance
[ WISH U  AND THE FORM 'A HAPPY NEW YEAR']
KARTHIK




-----Original Message-----
From: markharw00d [mailto:markharw00d@yahoo.co.uk]
Sent: Monday, January 03, 2005 4:14 AM
To: Lucene Users List
Subject: New Highlighter features


The Highlighter package in CVS has been updated with the following new 
features:

* GradientFormatter is a new formatter that can be used to change the 
colour intensity of matching terms, based on their score. I have found 
this to be a useful way of visualizing the basis of query matches, 
especially when  the query was derived automatically eg in a 
"MoreLikeThis" style of query.

* The QueryScorer class has a new constructor that takes an IndexReader 
which is used to provide term scores based on scarcity (idf score).  
Using this with the new GradientFormatter ensures the most important 
terms are highlighted most strongly.

* New class "TokenSources" offers methods to produce a TokenStream from 
indexes using the new TermVector features (saving the cost of 
reanalyzing to produce TokenStreams for the highlighter).

TokenStreams. Formatters and Scorers are all pluggable elements of the 
main Highlighter class so these are just new extensions around the 
existing core functionality. See the Javadocs for further details on how 
to use these components..

Cheers
Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12198-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 03 09:28:52 2005
Return-Path: <lucene-user-return-12198-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59469 invoked from network); 3 Jan 2005 09:28:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Jan 2005 09:28:52 -0000
Received: (qmail 85446 invoked by uid 500); 3 Jan 2005 09:28:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85241 invoked by uid 500); 3 Jan 2005 09:28:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85047 invoked by uid 99); 3 Jan 2005 09:28:11 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp003.mail.ukl.yahoo.com (HELO smtp003.mail.ukl.yahoo.com) (217.12.11.34)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 03 Jan 2005 01:28:07 -0800
Received: from unknown (HELO ?10.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp003.mail.ukl.yahoo.com with SMTP; 3 Jan 2005 09:28:04 -0000
Message-ID: <41D91031.4080202@yahoo.co.uk>
Date: Mon, 03 Jan 2005 09:28:17 +0000
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 0.8 (Windows/20040913)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: New Highlighter features + api
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I dont believe there is an automated build procedure in place for the 
contents of the sandbox, consequently there are no Jars or Javadocs 
created from the source - you need to do this manually using the 
standard Java command line tools or with your IDE.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12199-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 03 09:47:17 2005
Return-Path: <lucene-user-return-12199-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68975 invoked from network); 3 Jan 2005 09:47:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Jan 2005 09:47:16 -0000
Received: (qmail 26343 invoked by uid 500); 3 Jan 2005 09:46:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26268 invoked by uid 500); 3 Jan 2005 09:46:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26235 invoked by uid 99); 3 Jan 2005 09:46:54 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 03 Jan 2005 01:46:51 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 20D2A13E20EA; Mon,  3 Jan 2005 04:46:49 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 2B66A13E200B
	for <lucene-user@jakarta.apache.org>; Mon,  3 Jan 2005 04:46:44 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <41D91031.4080202@yahoo.co.uk>
References: <41D91031.4080202@yahoo.co.uk>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <670ECFF2-5D6C-11D9-9506-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: New Highlighter features + api
Date: Mon, 3 Jan 2005 04:46:55 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.8 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 3, 2005, at 4:28 AM, markharw00d wrote:

> I dont believe there is an automated build procedure in place for the 
> contents of the sandbox, consequently there are no Jars or Javadocs 
> created from the source - you need to do this manually using the 
> standard Java command line tools or with your IDE.

There is a build system for the entire sandbox area.  The procedure is 
like this:

 > cvs co jakarta-lucene-sandbox  # tweaking to however you like, maybe 
just jakarta-lucene-sandbox/contributions/highlighter

 > cd jakarta-lucene-sandbox/contributions/highlighter

 > ant javadoc

voila!

You can run ant from any of the contributions sub-directories, or run 
it for the entire contributions tree at that level.  The artifacts from 
the sandbox are not, however, packaged into Lucene distributions or are 
they published anywhere in binary or javadoc form online anywhere that 
I know of.  CVS and Ant are your friends!

For details on checking out a Jakarta repository 
(jakarta-lucene-sandbox, in this case), read here:

	http://www.apache.org/dev/version-control.html

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12200-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 03 09:56:56 2005
Return-Path: <lucene-user-return-12200-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74285 invoked from network); 3 Jan 2005 09:56:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Jan 2005 09:56:56 -0000
Received: (qmail 50718 invoked by uid 500); 3 Jan 2005 09:55:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50634 invoked by uid 500); 3 Jan 2005 09:55:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50493 invoked by uid 99); 3 Jan 2005 09:55:24 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,HTML_20_30,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web42006.mail.yahoo.com (HELO web42006.mail.yahoo.com) (66.218.93.174)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 03 Jan 2005 01:55:18 -0800
Received: (qmail 53449 invoked by uid 60001); 3 Jan 2005 09:55:02 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=oR0j0e4DqVNPzXDrApWtD1tmLtJpk+eSKXQlCQcLGrJA5NYm6iu6RKuDPRZROLao7axu0jQmFB+P/YgxiNDevhFKyFBk+xswbPT1BeX24T1VBfIDh6XSgi1IM3i6R8c+bEAaWZjH0vOE6z8lQnCSP5jLpzG2soLGUfFhHsJfaGM=  ;
Message-ID: <20050103095502.53447.qmail@web42006.mail.yahoo.com>
Received: from [219.64.139.33] by web42006.mail.yahoo.com via HTTP; Mon, 03 Jan 2005 01:55:02 PST
Date: Mon, 3 Jan 2005 01:55:02 -0800 (PST)
From: mahaveer jain <jainmahaveer23@yahoo.com>
Subject: Help for sorting
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1745283466-1104746102=:52115"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-1745283466-1104746102=:52115
Content-Type: text/plain; charset=us-ascii


Hello All, 

I am looking out to implement sorting in my lucene application. This is what my code look like. 

I am using StandardAnalyzer() analyzer. 

Query query = QueryParser.parse(keyword, "contents", analyzer); 

Sort sortCol = new Sort(new SortField("date"));

// date is one of the field I have indexed.

Hits hits = searcher.search(query, sortCol);

for (int start = 0; start < hits.length(); start ++) { 
Document doc = hits.doc(start); 

// get all the data required.
} 

I get this error : 

no terms in field sdate - cannot determine sort type 

Can any let me know where I am wrong ? Also what is the default sorting in lucene ? 

Also can some one explain what exactly is the score ? Is it something to do with ranking ? Do somebody have a link to a good lucene tutorial ? 

Thanks 

Mahaveer


		
---------------------------------
Do you Yahoo!?
 Dress up your holiday email, Hollywood style. Learn more.
--0-1745283466-1104746102=:52115--

From lucene-user-return-12201-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 03 15:18:40 2005
Return-Path: <lucene-user-return-12201-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 999 invoked from network); 3 Jan 2005 15:18:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Jan 2005 15:18:39 -0000
Received: (qmail 98484 invoked by uid 500); 3 Jan 2005 15:18:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98334 invoked by uid 500); 3 Jan 2005 15:18:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98208 invoked by uid 99); 3 Jan 2005 15:18:00 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from iss04.interliant.com (HELO iss04.interliant.com) (198.3.182.194)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 03 Jan 2005 07:17:33 -0800
Received: from EX-007.mail.navisite.com (ex-007.interliant.com [198.3.179.37])
	by iss04.interliant.com (8.10.2/8.10.2) with ESMTP id j03F5CG28430
	for <lucene-user@jakarta.apache.org>; Mon, 3 Jan 2005 09:05:12 -0600 (CST)
Received: from EX-101.mail.navisite.com ([172.16.1.23]) by EX-007.mail.navisite.com with Microsoft SMTPSVC(6.0.3790.211);
	 Mon, 3 Jan 2005 09:05:08 -0600
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: New Highlighter features
Date: Mon, 3 Jan 2005 09:03:12 -0600
Message-ID: <E1F190DAC247C64FAA46B38316FA151D4320CF@EX-101.mail.navisite.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: New Highlighter features
Thread-Index: AcTxHIcwpaJMDxCxSN6K0oZGbszvsAAiKoqQ
From: "Bruce Ritchie" <bruce@jivesoftware.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 03 Jan 2005 15:05:08.0768 (UTC) FILETIME=[9D825A00:01C4F1A5]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> The Highlighter package in CVS has been updated with the following new
> features:

Good stuff. Will this work against the 1.4 or only against CVS head?=20


Regards,

Bruce Ritchie

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12202-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 03 16:18:39 2005
Return-Path: <lucene-user-return-12202-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57391 invoked from network); 3 Jan 2005 16:18:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Jan 2005 16:18:39 -0000
Received: (qmail 62776 invoked by uid 500); 3 Jan 2005 16:17:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62632 invoked by uid 500); 3 Jan 2005 16:17:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61999 invoked by uid 99); 3 Jan 2005 16:17:05 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp001.mail.ukl.yahoo.com (HELO smtp001.mail.ukl.yahoo.com) (217.12.11.32)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 03 Jan 2005 08:16:19 -0800
Received: from unknown (HELO ?10.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp001.mail.ukl.yahoo.com with SMTP; 3 Jan 2005 16:15:45 -0000
Message-ID: <41D96FBF.30806@yahoo.co.uk>
Date: Mon, 03 Jan 2005 16:15:59 +0000
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 0.8 (Windows/20040913)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: New Highlighter features
References: <E1F190DAC247C64FAA46B38316FA151D4320CF@EX-101.mail.navisite.com>
In-Reply-To: <E1F190DAC247C64FAA46B38316FA151D4320CF@EX-101.mail.navisite.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Bruce Ritchie wrote:

>>The Highlighter package in CVS has been updated with the following new
>>features:
>>    
>>
>
>Good stuff. Will this work against the 1.4 or only against CVS head? 
>  
>
I think the TokenSources.java requires the latest CVS but is an optional 
part of the highlighter package. All other code should work with 1.4.


>
>Regards,
>
>Bruce Ritchie
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12203-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 03 16:21:39 2005
Return-Path: <lucene-user-return-12203-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60518 invoked from network); 3 Jan 2005 16:21:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Jan 2005 16:21:38 -0000
Received: (qmail 65027 invoked by uid 500); 3 Jan 2005 16:18:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64875 invoked by uid 500); 3 Jan 2005 16:18:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64713 invoked by uid 99); 3 Jan 2005 16:17:58 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12705.mail.yahoo.com (HELO web12705.mail.yahoo.com) (216.136.173.242)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 03 Jan 2005 08:17:14 -0800
Received: (qmail 58212 invoked by uid 60001); 3 Jan 2005 16:16:54 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=Gz7+XrsaMld3Gw+7Oucmq56XLvSUMYTPatomDt+vgRoNuDe5zKnUCJIAMMfbgtohUGN0Vaz8dQmQHUFsunCaVlIzCtvWNSsBDmkiHP3thPKaDmDw5Q7pqKLU2wOFkDFuT3Z7epjrtyh00HMnL/Iz+QPvFmaGTCgCH9xeUUQyl/w=  ;
Message-ID: <20050103161654.58210.qmail@web12705.mail.yahoo.com>
Received: from [216.194.17.194] by web12705.mail.yahoo.com via HTTP; Mon, 03 Jan 2005 08:16:53 PST
Date: Mon, 3 Jan 2005 08:16:53 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Help for sorting
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20050103095502.53447.qmail@web42006.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

--- mahaveer jain <jainmahaveer23@yahoo.com> wrote:

> I am looking out to implement sorting in my lucene application. This
> is what my code look like. 
> 
> I am using StandardAnalyzer() analyzer. 
> 
> Query query = QueryParser.parse(keyword, "contents", analyzer); 
> 
> Sort sortCol = new Sort(new SortField("date"));
> 
> // date is one of the field I have indexed.
> 
> Hits hits = searcher.search(query, sortCol);
> 
> for (int start = 0; start < hits.length(); start ++) { 
> Document doc = hits.doc(start); 
> 
> // get all the data required.
> } 
> 
> I get this error : 
> 
> no terms in field sdate - cannot determine sort type 

Is it possible that your 'date' field is empty in some documents you
indexed?  If so, you should specify your sort field type explicitly. 
Look at the Javadoc for SortField class.

> Can any let me know where I am wrong ? Also what is the default
> sorting in lucene ? 

Default sorting is by rank/score.

> Also can some one explain what exactly is the score ? Is it something
> to do with ranking ? Do somebody have a link to a good lucene
> tutorial ? 

There are links to a few Lucene articles on Lucene's Wiki.  There is
also a link to the Lucene book (Lucene in Action) on the same page. 
Another good source of information about how to use the Lucene API are
Lucene's unit tests.

Otis


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12204-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 03 16:29:31 2005
Return-Path: <lucene-user-return-12204-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71086 invoked from network); 3 Jan 2005 16:29:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Jan 2005 16:29:31 -0000
Received: (qmail 99417 invoked by uid 500); 3 Jan 2005 16:28:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99308 invoked by uid 500); 3 Jan 2005 16:28:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99070 invoked by uid 99); 3 Jan 2005 16:28:38 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx2-ext.sgi.com (HELO omx2.sgi.com) (192.48.171.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 03 Jan 2005 08:28:01 -0800
Received: from internal-mail-relay.corp.sgi.com (internal-mail-relay.corp.sgi.com [198.149.32.51])
	by omx2.sgi.com (8.12.11/8.12.9/linux-outbound_gateway-1.1) with ESMTP id j03GOatr030790
	for <lucene-user@jakarta.apache.org>; Mon, 3 Jan 2005 08:24:36 -0800
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com [169.238.221.130])
	by internal-mail-relay.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2) with ESMTP id j03F00Xd172192128
	for <lucene-user@jakarta.apache.org>; Mon, 3 Jan 2005 07:00:00 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id j03Exxad19795796
	for <lucene-user@jakarta.apache.org>; Mon, 3 Jan 2005 09:59:59 -0500 (EST)
Message-ID: <41D95DEF.8060402@sgi.com>
Date: Mon, 03 Jan 2005 09:59:59 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Need an analyzer that includes numbers.
References: <41CD8FAC.2090504@sgi.com> <7543D349-571D-11D9-9A70-000393A564E6@ehatchersolutions.com>
In-Reply-To: <7543D349-571D-11D9-9A70-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi, Erik,

Thank you very much for taking the time to do this.  I may have 
mentioned, I'm evaluating search engines and am implementing a subset of 
the features that we'll need eventually.  This will help greatly. 

Thanks,
Jim.

Erik Hatcher wrote:

>
> On Dec 25, 2004, at 11:05 AM, Jim wrote:
>
>> I've seen some discussion on this and the answer seems to be "write 
>> your own".  Hasn't someone already done that by now that would 
>> share?  I really have to be able to include numeric and alphanumeric 
>> strings in my searches.   I don't understand analyzers well enough to 
>> roll my own.
>
>
> This is more involved than just keeping numbers around... or at least 
> there are more steps to consider.  Do you want the alpha characters 
> lower-cased, which is the typical behavior so that searches are 
> case-insensitive.  What about punctuation characters?  Generally these 
> get tossed, however there are cases where that is not desired either.
> (Snip excellent response)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12205-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 03 16:50:27 2005
Return-Path: <lucene-user-return-12205-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91406 invoked from network); 3 Jan 2005 16:50:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Jan 2005 16:50:22 -0000
Received: (qmail 65017 invoked by uid 500); 3 Jan 2005 16:49:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64984 invoked by uid 500); 3 Jan 2005 16:49:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64845 invoked by uid 99); 3 Jan 2005 16:49:48 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from ice.mm.com (HELO drizzle.mm.com) (204.73.34.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 03 Jan 2005 08:49:25 -0800
Received: from MUSCOVITE.OPIN.COM (diamond.opin.com [206.147.124.36])
	by drizzle.mm.com (Postfix) with ESMTP id 686005E171
	for <lucene-user@jakarta.apache.org>; Mon,  3 Jan 2005 10:49:09 -0600 (CST)
Received: by MUSCOVITE.OPIN.COM with Internet Mail Service (5.5.2657.72)
	id <Y53GL0B6>; Mon, 3 Jan 2005 10:59:34 -0600
Message-ID: <E3B75407BA46FA4A87DF2F63ED9241CA0169DB40@MUSCOVITE.OPIN.COM>
From: Steve Rajavuori <SteveR@opin.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Fatal error on Windows
Date: Mon, 3 Jan 2005 10:59:14 -0600 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

No, I didn't change the source code at all. Has anyone ever seen this error
with Lucene 1.4.3? I am unsure how to troubleshoot further, since the error
occurs within the call to search().

Steve

-----Original Message-----
From: Vikas Gupta [mailto:vgupta@cs.utexas.edu]
Sent: Thursday, December 30, 2004 4:47 PM
To: Lucene Users List
Subject: Re: Fatal error on Windows


A similar message appeared for me on linux. I would recommend doing a

ant clean (or something similar.)
ant jar
ant war

if you changing the source code. Did you change your source code?

-Vikas
----- Original Message ----- 
From: "Steve Rajavuori" <SteveR@opin.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Thursday, December 30, 2004 4:47 PM
Subject: Fatal error on Windows


> I am getting a fatal exception on Windows 2000 Server when performing a
> search. Upon call to IndexSearcher.search( ) with a large query I see this
> error from the JVM:
>
> Unexpected Signal : EXCEPTION_FLT_STACK_CHECK (0xc0000092) occurred at
> PC=0xA2D4
> 16
> Function=[Unknown.]
> Library=(N/A)
>
> NOTE: We are unable to locate the function name symbol for the error
>       just occurred. Please refer to release documentation for possible
>       reason and solutions.
>
> I am using Lucene 1.4.3 and JRE 1.4.2_06. Has anyone had an experience
like
> this? Any suggestions to work around or troubleshoot?
>
> Steve Rajavuori
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12206-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 03 23:28:25 2005
Return-Path: <lucene-user-return-12206-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11618 invoked from network); 3 Jan 2005 23:28:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Jan 2005 23:28:25 -0000
Received: (qmail 51857 invoked by uid 500); 3 Jan 2005 23:28:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51830 invoked by uid 500); 3 Jan 2005 23:28:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51815 invoked by uid 99); 3 Jan 2005 23:28:16 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mariella@lanl.gov designates 192.65.95.54 as permitted sender)
Received: from mailwasher.lanl.gov (HELO mailwasher-b.lanl.gov) (192.65.95.54)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 03 Jan 2005 15:28:12 -0800
Received: from mailrelay3.lanl.gov (mailrelay3.lanl.gov [128.165.4.104])
	by mailwasher-b.lanl.gov (8.12.11/8.12.11/(ccn-5)) with ESMTP id j03NSUe3026485
	for <lucene-user@jakarta.apache.org>; Mon, 3 Jan 2005 16:28:30 -0700
Received: from butterfly.lanl.gov (butterfly.lanl.gov [128.165.10.37])
	by mailrelay3.lanl.gov (8.12.11/8.12.11/(ccn-5)) with ESMTP id j03NS8Qo032441;
	Mon, 3 Jan 2005 16:28:09 -0700
Message-Id: <5.2.1.1.2.20050103162637.00ad8128@cic-mail.lanl.gov>
X-Sender: mariella@cic-mail.lanl.gov (Unverified)
X-Mailer: QUALCOMM Windows Eudora Version 5.2.1
Date: Mon, 03 Jan 2005 16:28:10 -0700
To: lucene-user@jakarta.apache.org
From: Mariella Di Giacomo <mariella@lanl.gov>
Subject: Question about Lucene and index browsing 
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-PMX-Version: 4.7.0.111621
X-PMX-Version: 4.7.0.111621
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi ALL,

We have just started using Lucene to index Digital Library information.
I was wondering whether there is any feature in Lucene that could be used 
to "browse the
indexed fields" (in practice be able to browse the indexes) for a database.

If there is, could you please provide links to it ?
If there is not, do you have any plan to include that feature ?

Thanks a lot in advance for your help.

I look forward to hearing from you,


Mariella



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12207-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 03 23:37:00 2005
Return-Path: <lucene-user-return-12207-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16777 invoked from network); 3 Jan 2005 23:36:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Jan 2005 23:36:59 -0000
Received: (qmail 69321 invoked by uid 500); 3 Jan 2005 23:36:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69286 invoked by uid 500); 3 Jan 2005 23:36:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69271 invoked by uid 99); 3 Jan 2005 23:36:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: 128.83.139.10 is neither permitted nor denied by domain of vgupta@cs.utexas.edu)
Received: from mail.cs.utexas.edu (HELO mail.cs.utexas.edu) (128.83.139.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 03 Jan 2005 15:36:42 -0800
Received: from deadrise.cs.utexas.edu (vgupta@deadrise.cs.utexas.edu [128.83.144.220])
	by mail.cs.utexas.edu (8.13.2/8.13.2) with ESMTP id j03NacRx015124
	for <lucene-user@jakarta.apache.org>; Mon, 3 Jan 2005 17:36:38 -0600 (CST)
Received: (from vgupta@localhost)
	by deadrise.cs.utexas.edu (8.12.11/8.12.11/Submit) id j03Nacvp025796;
	Mon, 3 Jan 2005 17:36:38 -0600
Date: Mon, 3 Jan 2005 17:36:38 -0600 (CST)
From: Vikas Gupta <vgupta@cs.utexas.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Question about Lucene and index browsing 
In-Reply-To: <5.2.1.1.2.20050103162637.00ad8128@cic-mail.lanl.gov>
Message-ID: <Pine.LNX.4.58.0501031733310.25757@deadrise.cs.utexas.edu>
References: <5.2.1.1.2.20050103162637.00ad8128@cic-mail.lanl.gov>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think Luke should serve your purpose. After you install luke from
http://www.getopt.org/luke , use the GUI to open the 'index' directory

Click on documents tab on the top.

On the top-left is the button to 'Browse by doc. number'. The limitation
is that only 'stored' fields are visible.

Vikas

On Mon, 3 Jan 2005, Mariella Di Giacomo wrote:

> Hi ALL,
>
> We have just started using Lucene to index Digital Library information.
> I was wondering whether there is any feature in Lucene that could be used
> to "browse the
> indexed fields" (in practice be able to browse the indexes) for a database.
>
> If there is, could you please provide links to it ?
> If there is not, do you have any plan to include that feature ?
>
> Thanks a lot in advance for your help.
>
> I look forward to hearing from you,
>
>
> Mariella
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12208-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 03 23:49:52 2005
Return-Path: <lucene-user-return-12208-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28423 invoked from network); 3 Jan 2005 23:49:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Jan 2005 23:49:52 -0000
Received: (qmail 10645 invoked by uid 500); 3 Jan 2005 23:49:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10617 invoked by uid 500); 3 Jan 2005 23:49:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10597 invoked by uid 99); 3 Jan 2005 23:49:43 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mariella@lanl.gov designates 192.65.95.54 as permitted sender)
Received: from mailwasher.lanl.gov (HELO mailwasher-b.lanl.gov) (192.65.95.54)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 03 Jan 2005 15:49:38 -0800
Received: from mailrelay3.lanl.gov (mailrelay3.lanl.gov [128.165.4.104])
	by mailwasher-b.lanl.gov (8.12.11/8.12.11/(ccn-5)) with ESMTP id j03NnuSk028588
	for <lucene-user@jakarta.apache.org>; Mon, 3 Jan 2005 16:49:56 -0700
Received: from butterfly.lanl.gov (butterfly.lanl.gov [128.165.10.37])
	by mailrelay3.lanl.gov (8.12.11/8.12.11/(ccn-5)) with ESMTP id j03NnYwx002568
	for <lucene-user@jakarta.apache.org>; Mon, 3 Jan 2005 16:49:35 -0700
Message-Id: <5.2.1.1.2.20050103164723.00a78d00@cic-mail.lanl.gov>
X-Sender: mariella@cic-mail.lanl.gov (Unverified)
X-Mailer: QUALCOMM Windows Eudora Version 5.2.1
Date: Mon, 03 Jan 2005 16:49:35 -0700
To: lucene-user@jakarta.apache.org
From: Mariella Di Giacomo <mariella@lanl.gov>
Subject: Re: Question about Lucene and index browsing 
In-Reply-To: <Pine.LNX.4.58.0501031733310.25757@deadrise.cs.utexas.edu>
References: <5.2.1.1.2.20050103162637.00ad8128@cic-mail.lanl.gov>
 <5.2.1.1.2.20050103162637.00ad8128@cic-mail.lanl.gov>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-PMX-Version: 4.7.0.111621
X-PMX-Version: 4.7.0.111621
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Vikas,

Thanks.
I will give a look to Luke.


Mariella

At 05:36 PM 1/3/2005 -0600, Vikas Gupta wrote:
>I think Luke should serve your purpose. After you install luke from
>http://www.getopt.org/luke , use the GUI to open the 'index' directory
>
>Click on documents tab on the top.
>
>On the top-left is the button to 'Browse by doc. number'. The limitation
>is that only 'stored' fields are visible.
>
>Vikas
>
>On Mon, 3 Jan 2005, Mariella Di Giacomo wrote:
>
> > Hi ALL,
> >
> > We have just started using Lucene to index Digital Library information.
> > I was wondering whether there is any feature in Lucene that could be used
> > to "browse the
> > indexed fields" (in practice be able to browse the indexes) for a database.
> >
> > If there is, could you please provide links to it ?
> > If there is not, do you have any plan to include that feature ?
> >
> > Thanks a lot in advance for your help.
> >
> > I look forward to hearing from you,
> >
> >
> > Mariella
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12209-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 04 00:40:09 2005
Return-Path: <lucene-user-return-12209-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61387 invoked from network); 4 Jan 2005 00:40:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Jan 2005 00:40:09 -0000
Received: (qmail 21264 invoked by uid 500); 4 Jan 2005 00:40:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21235 invoked by uid 500); 4 Jan 2005 00:40:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21222 invoked by uid 99); 4 Jan 2005 00:40:02 -0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=DNS_FROM_RFC_BOGUSMX,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns1.mainstreamdata.com (HELO ns1.mainstreamdata.com) (209.63.42.21)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 03 Jan 2005 16:39:59 -0800
Received: from localhost (localhost.localdomain [127.0.0.1])
	by ns1.mainstreamdata.com (Postfix) with ESMTP id DF013951
	for <lucene-user@jakarta.apache.org>; Mon,  3 Jan 2005 17:39:57 -0700 (MST)
Received: from ns1.mainstreamdata.com ([127.0.0.1])
	by localhost (ns1 [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
	id 31971-06 for <lucene-user@jakarta.apache.org>;
	Mon, 3 Jan 2005 17:39:54 -0700 (MST)
Received: from slc-xchg1.slc.mainstreamdata.com (slc-xchg1.slc.mainstreamdata.com [10.7.11.32])
	by ns1.mainstreamdata.com (Postfix) with ESMTP id BAADE55D
	for <lucene-user@jakarta.apache.org>; Mon,  3 Jan 2005 17:39:54 -0700 (MST)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C4F1F5.E8AB0D94"
Subject: Deleting an index
Date: Mon, 3 Jan 2005 17:39:54 -0700
Message-ID: <A60AC49BA89F4F4D9D86F2B7519111E87D82E3@slc-xchg1.slc.mainstreamdata.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Deleting an index
Thread-Index: AcTx9eiTV0Shwa0xT+u0DpI2ovr9TA==
From: "Scott Smith" <ssmith@mainstreamdata.com>
To: <lucene-user@jakarta.apache.org>
X-Virus-Scanned: by amavisd-new-20030616-p10 (Debian) at mainstreamdata.com
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4F1F5.E8AB0D94
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I'm writing some junit tests for my search code (which layers on top of
Lucene).  The tests all follow the same pattern:

1.	setUp(): Create some directories; write some files to be indexed
2.	someTest: Call the indexer to create an index on the generated
files; do several searches and verify counts, expected hits, etc.;
3.	tearDown(): Delete all of the directories and associated files
included the just-created index.

=20

My problem is that I am unable to delete the index.  I've narrowed it
down to something in the search routine not letting go of the index file
(i.e., if I do the indexing and comment out the search, then everything
deletes fine).  The search code is pretty straight forward.  It creates
a new IndexSearcher (which it caches and hence uses for all searches in
the test).  Each individual search simply creates several QueryParsers
and then combines them to do a search using the cached IndexSearcher.
After the last search, I close() the IndexSearcher.  But something still
seems to have hold of the index.  I've tried nulling the hits object,
but that didn't seem to affect anything.

=20

Any ideas?

=20

Scott

=20


------_=_NextPart_001_01C4F1F5.E8AB0D94--

From lucene-user-return-12210-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 04 10:43:32 2005
Return-Path: <lucene-user-return-12210-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51163 invoked from network); 4 Jan 2005 10:43:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Jan 2005 10:43:32 -0000
Received: (qmail 43290 invoked by uid 500); 4 Jan 2005 10:42:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43207 invoked by uid 500); 4 Jan 2005 10:42:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43190 invoked by uid 99); 4 Jan 2005 10:42:51 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=SUBJ_ALL_CAPS,UPPERCASE_25_50
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 04 Jan 2005 02:42:48 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I9SFW800.ORL for <lucene-user@jakarta.apache.org>; Tue,
          4 Jan 2005 16:01:20 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "LUCENE" <lucene-user@jakarta.apache.org>
Subject: INDEXREADER + MAXDOC
Date: Tue, 4 Jan 2005 15:49:37 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKAEINCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



Hi

Guys

Apologies...........



On using the integer number of  Indexreader.maxDoc() API , 

Is it possible to get the VALUES from the varoius  fieldtypes.

ex:-   'docs.get("contents")  at  IndexReader.maxdoc()'



If so How...??




WITH WARM REGARDS 
HAVE A NICE DAY 
[ N.S.KARTHIK] 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12211-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 04 11:41:46 2005
Return-Path: <lucene-user-return-12211-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84653 invoked from network); 4 Jan 2005 11:41:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Jan 2005 11:41:45 -0000
Received: (qmail 85873 invoked by uid 500); 4 Jan 2005 11:40:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85602 invoked by uid 500); 4 Jan 2005 11:40:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85349 invoked by uid 99); 4 Jan 2005 11:40:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 04 Jan 2005 03:40:00 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 63BEA13E20EA; Tue,  4 Jan 2005 06:39:45 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id A873313E200B
	for <lucene-user@jakarta.apache.org>; Tue,  4 Jan 2005 06:39:41 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <OBELINLGKPEMCIEIJJNKAEINCAAA.karthik@controlnet.co.in>
References: <OBELINLGKPEMCIEIJJNKAEINCAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <51A9EBDB-5E45-11D9-A442-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: INDEXREADER + MAXDOC
Date: Tue, 4 Jan 2005 06:39:39 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.7 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 4, 2005, at 5:19 AM, Karthik N S wrote:
> On using the integer number of  Indexreader.maxDoc() API ,
>
> Is it possible to get the VALUES from the varoius  fieldtypes.
>
> ex:-   'docs.get("contents")  at  IndexReader.maxdoc()'
>
>
>
> If so How...??

Just to be sure I understand... you want the last document in the 
index?  IndexReader.document(n) will give you this.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12212-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 04 12:25:32 2005
Return-Path: <lucene-user-return-12212-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8485 invoked from network); 4 Jan 2005 12:25:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Jan 2005 12:25:31 -0000
Received: (qmail 68832 invoked by uid 500); 4 Jan 2005 12:25:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68788 invoked by uid 500); 4 Jan 2005 12:25:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68763 invoked by uid 99); 4 Jan 2005 12:25:15 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 04 Jan 2005 04:25:11 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id I9SLWL00.0VX for <lucene-user@jakarta.apache.org>; Tue,
          4 Jan 2005 18:11:09 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: INDEXREADER + MAXDOC
Date: Tue, 4 Jan 2005 17:59:26 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKIEIOCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
In-Reply-To: <51A9EBDB-5E45-11D9-A442-000393A564E6@ehatchersolutions.com>
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Erik

Apologies.......

  I would like to EXTRACT the DATA from the various fields of the Last
Document [as u said ]

  Ex: at IndexReader.maxDoc = 100

      doc.get("Content") == "ISBN100"
      doc.get("name")    == "LUCENE IN ACTION""
      doc.get("author")  == "Erik Hatcher"
      .....

This is my Requirement.

Please
With regards
Karthik


-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Tuesday, January 04, 2005 5:10 PM
To: Lucene Users List
Subject: Re: INDEXREADER + MAXDOC



On Jan 4, 2005, at 5:19 AM, Karthik N S wrote:
> On using the integer number of  Indexreader.maxDoc() API ,
>
> Is it possible to get the VALUES from the varoius  fieldtypes.
>
> ex:-   'docs.get("contents")  at  IndexReader.maxdoc()'
>
>
>
> If so How...??

Just to be sure I understand... you want the last document in the
index?  IndexReader.document(n) will give you this.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12213-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 04 13:19:52 2005
Return-Path: <lucene-user-return-12213-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40654 invoked from network); 4 Jan 2005 13:19:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Jan 2005 13:19:52 -0000
Received: (qmail 75220 invoked by uid 500); 4 Jan 2005 13:18:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75177 invoked by uid 500); 4 Jan 2005 13:18:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75152 invoked by uid 99); 4 Jan 2005 13:18:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork12.mail.Virginia.EDU (HELO fork12.mail.virginia.edu) (128.143.2.182)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 04 Jan 2005 05:18:51 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork12.mail.virginia.edu (Postfix) with ESMTP id 3F10F1F52C0
	for <lucene-user@jakarta.apache.org>; Tue,  4 Jan 2005 08:18:49 -0500 (EST)
Received: from fork12.mail.virginia.edu ([127.0.0.1])
 by localhost (fork12.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 26082-05 for <lucene-user@jakarta.apache.org>;
 Tue,  4 Jan 2005 08:18:49 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork12.mail.virginia.edu (Postfix) with ESMTP id 013821F52B9
	for <lucene-user@jakarta.apache.org>; Tue,  4 Jan 2005 08:18:48 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <OBELINLGKPEMCIEIJJNKIEIOCAAA.karthik@controlnet.co.in>
References: <OBELINLGKPEMCIEIJJNKIEIOCAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <3DC16CF1-5E53-11D9-B65C-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: INDEXREADER + MAXDOC
Date: Tue, 4 Jan 2005 08:19:19 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork12.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 4, 2005, at 7:29 AM, Karthik N S wrote:

> Hi Erik
>   I would like to EXTRACT the DATA from the various fields of the Last
> Document [as u said ]
>
>   Ex: at IndexReader.maxDoc = 100
>
>       doc.get("Content") == "ISBN100"
>       doc.get("name")    == "LUCENE IN ACTION""
>       doc.get("author")  == "Erik Hatcher"
>       .....
>
> This is my Requirement.

So...

	doc = reader.document(100)

Or am I missing something from what you're asking?  You need to have 
the data *stored* in the fields you're going to retrieve from the 
returned Document.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12214-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 04 13:43:33 2005
Return-Path: <lucene-user-return-12214-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54744 invoked from network); 4 Jan 2005 13:43:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Jan 2005 13:43:33 -0000
Received: (qmail 18832 invoked by uid 500); 4 Jan 2005 13:41:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18787 invoked by uid 500); 4 Jan 2005 13:41:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18746 invoked by uid 99); 4 Jan 2005 13:41:17 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork6.mail.Virginia.EDU (HELO fork6.mail.virginia.edu) (128.143.2.176)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 04 Jan 2005 05:41:11 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id D52C21C12C
	for <lucene-user@jakarta.apache.org>; Tue,  4 Jan 2005 08:41:06 -0500 (EST)
Received: from fork6.mail.virginia.edu ([127.0.0.1])
 by localhost (fork6.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 02260-09 for <lucene-user@jakarta.apache.org>;
 Tue,  4 Jan 2005 08:41:06 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id 779E41BF94
	for <lucene-user@jakarta.apache.org>; Tue,  4 Jan 2005 08:41:06 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
Content-Transfer-Encoding: 7bit
Message-Id: <5AE44336-5E56-11D9-B65C-000A95BC61B6@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: Lucene User <lucene-user@jakarta.apache.org>
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: lucenebook.com
Date: Tue, 4 Jan 2005 08:41:36 -0500
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork6.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis and I have been working hard to get a website up for Lucene in 
Action and beyond.  It's finally in place at:

	http://www.lucenebook.com

We haven't put in place as much explanation and help there as we 
should, and I'm sure by opening up the flood gates on it we'll uncover 
issues that need to be fixed.  If you come across anything that is 
broken or you have suggestions for improvement, just click the link to 
e-mail us at the top of the site.

Here are a few FAQ's that we'll eventually post to the site -

* What are you searching?
   The search feature searches (using a MultiSearcher) the blog and book 
content.  The results will be a combination of highlighted book section 
snippets and highlighted full blog content.

* Can I see the book contents?
   The only actual book content visible are the snippets in the search 
results.  The search results may be useful if you don't have the book, 
but if you do have the book it will make more sense.  Who knows where 
this will evolve, but there is no current plan to provide more of the 
book content in the search results than this.  For hits in chapters 1 
and 3, there is a link provided to Manning's site where those sample 
chapters can be downloaded in their entirety for free.  The book search 
results are, of course, designed as teasers to (hopefully) show that we 
cover the topics you're interested in and that you should buy a copy of 
the book!  (my children need to eat too :)

* What's up with the hyphens in some of the search results?
   This is an artifact of how the book content was indexed (a text 
version of the PDF was processed, including the words split across 
lines).  These split words are, however, searchable!  There is a fair 
bit of analysis trickery going on to piece this stuff back together 
during indexing, but the stored content still contains the hyphens.

* What are the plans for the blog?
   Otis and I will make book related announcements, news about Lucene in 
general, errata postings, etc.  You can subscribe to the blog using 
your favorite syndication reader using 
http://www.lucenebook.com/blog/?flavor=rdf (or "rss", "atom", or 
"rss2") - yes, we should put the links to this on the site itself.

* How did you build this thing?
   This is a great topic for a case study.  Erik will be preparing a 
case study on this as an article (or series of articles) and using it 
for upcoming presentations.  The "about" page has some technical 
details, but more will follow.

Again, feedback is most welcome - please send it to 
authors@lucenebook.com rather than posting replies to this list though.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12215-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 04 14:45:12 2005
Return-Path: <lucene-user-return-12215-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27639 invoked from network); 4 Jan 2005 14:45:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Jan 2005 14:45:12 -0000
Received: (qmail 72848 invoked by uid 500); 4 Jan 2005 14:43:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72809 invoked by uid 500); 4 Jan 2005 14:43:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72780 invoked by uid 99); 4 Jan 2005 14:43:06 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 04 Jan 2005 06:42:57 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Tue, 4 Jan 2005 09:44:56 -0500
Message-ID: <03b801c4f26b$f59e6f00$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <A60AC49BA89F4F4D9D86F2B7519111E87D82E3@slc-xchg1.slc.mainstreamdata.com>
Subject: Re: Deleting an index
Date: Tue, 4 Jan 2005 09:44:56 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 04 Jan 2005 14:44:56.0991 (UTC) FILETIME=[F5A59AF0:01C4F26B]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If you opened an IndexReader was has it also been closed before you attempt
to delete?

----- Original Message ----- 
From: "Scott Smith" <ssmith@mainstreamdata.com>
To: <lucene-user@jakarta.apache.org>
Sent: Monday, January 03, 2005 7:39 PM
Subject: Deleting an index


I'm writing some junit tests for my search code (which layers on top of
Lucene).  The tests all follow the same pattern:

1. setUp(): Create some directories; write some files to be indexed
2. someTest: Call the indexer to create an index on the generated
files; do several searches and verify counts, expected hits, etc.;
3. tearDown(): Delete all of the directories and associated files
included the just-created index.



My problem is that I am unable to delete the index.  I've narrowed it
down to something in the search routine not letting go of the index file
(i.e., if I do the indexing and comment out the search, then everything
deletes fine).  The search code is pretty straight forward.  It creates
a new IndexSearcher (which it caches and hence uses for all searches in
the test).  Each individual search simply creates several QueryParsers
and then combines them to do a search using the cached IndexSearcher.
After the last search, I close() the IndexSearcher.  But something still
seems to have hold of the index.  I've tried nulling the hits object,
but that didn't seem to affect anything.



Any ideas?



Scott





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12216-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 04 15:54:12 2005
Return-Path: <lucene-user-return-12216-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72841 invoked from network); 4 Jan 2005 15:54:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Jan 2005 15:54:12 -0000
Received: (qmail 69434 invoked by uid 500); 4 Jan 2005 15:53:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69400 invoked by uid 500); 4 Jan 2005 15:53:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69382 invoked by uid 99); 4 Jan 2005 15:53:14 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mailsrv1n1.nivis.com (HELO nivis.com) (65.205.163.222)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 04 Jan 2005 07:53:10 -0800
Received: from [216.198.79.50] (HELO commerceross)
  by nivis.com (CommuniGate Pro SMTP 4.1.8)
  with ESMTP id 5577993 for lucene-user@jakarta.apache.org; Tue, 04 Jan 2005 10:53:01 -0500
From: "Ross Rankin" <ross@commercescience.com>
To: <lucene-user@jakarta.apache.org>
Subject: Problems...
Date: Tue, 4 Jan 2005 10:53:02 -0500
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0023_01C4F24B.9053B350"
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcTydXjdkMOiuZdORWGgq0JWP+VA3g==
Message-ID: <auto-000005577993@nivis.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0023_01C4F24B.9053B350
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

(Bear with me; I have inherited this system from another developer who is no
longer with the company.  So I am not familiar with Lucene at all.  I just
have got the task of "Fixing the search".)  

 

I have servlet that runs every 10 minutes and indexes and I can see files
being created in the index path on that interval (fdt,fdx,fnm,frq, etc.)
however the search function is no longer working.  I'm not getting anything
in the log that I can point to that says what is not working, the search or
the index.  But since the index files seem to change size/date stamp as they
have in the past, I'm leaning towards the search function.   

 

I'm not sure where or how to troubleshoot.  Can I examine the indexes with
anything to see what is there and that it's meaningful.  Is there something
simple I can do to track down what doesn't work in the process?  Thanks.

 

Ross

 

Here's the search function:

    public Hits search(String searchString, String resellerId) {

        int currentOffset = 0;

        try {

            currentOffset = Integer.parseInt(paramOffset);

        } catch (NumberFormatException e) {}

 

        System.out.println("\n\t\tSearch for " + searchString + " off = " +
currentOffset);

        if (currentOffset > 0) {

            // if the user only requested the next n items from the search
returns

            return hits;

        }

 

        // performs a new search

        try {

            hits = null;

            try {

                searcher.close();

            } catch (Exception e){}

 

            searcher = new IndexSearcher(pathToIndex);

            Analyzer analyzer = new StandardAnalyzer();

 

            String searchQuery = LuceneConstants.FIELD_RESELLER_IDS + ":"

                    + resellerId

                    + " AND "

                    + LuceneConstants.FIELD_FULL_DESCRIPTION + ":" +
searchString;

 

 

            Query query = null;

            try {

                query = QueryParser.parse(searchQuery,

                            LuceneConstants.FIELD_FULL_DESCRIPTION,
analyzer);

            } catch (ParseException e) {

                // if an excepption occures parsing the search string
entered by the user

                // escapes all the special lucene chars and try to make the
query again.

                searchQuery = LuceneConstants.FIELD_RESELLER_IDS + ":"

                    + resellerId + " AND "

                    + LuceneConstants.FIELD_FULL_DESCRIPTION + ":"

                    + escape(searchString);

                query = QueryParser.parse(searchQuery,

                            LuceneConstants.FIELD_FULL_DESCRIPTION,
analyzer);

            }

            System.out.println("Searching for: " +
query.toString(LuceneConstants.FIELD_FULL_DESCRIPTION));

 

            hits = searcher.search(query);

            System.out.println(hits.length() + " total matching documents");

            //searcher.close();

 

        } catch (Exception e) {

            e.printStackTrace();

        }

 

        return hits;


------=_NextPart_000_0023_01C4F24B.9053B350--


From lucene-user-return-12217-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 04 16:03:37 2005
Return-Path: <lucene-user-return-12217-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80219 invoked from network); 4 Jan 2005 16:03:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Jan 2005 16:03:37 -0000
Received: (qmail 94203 invoked by uid 500); 4 Jan 2005 16:01:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94042 invoked by uid 500); 4 Jan 2005 16:01:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93927 invoked by uid 99); 4 Jan 2005 16:01:16 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 04 Jan 2005 08:01:12 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Tue, 4 Jan 2005 11:02:50 -0500
Message-ID: <03f001c4f276$d7722020$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <auto-000005577993@nivis.com>
Subject: Re: Problems...
Date: Tue, 4 Jan 2005 11:02:50 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 04 Jan 2005 16:02:50.0863 (UTC) FILETIME=[D77DDFF0:01C4F276]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I had a similar situation with the same problem.

I found the previous system was creating all the object (including the
Searcher) and than updating the Index.

The result was the Searcher was not able to find any of the data just added
to the Index.

The solution for me was to move the creation of the Searcher to after the
Index had been updated and the Reader and Writer objects had been closed.
Also ensure the Searcher uses the same Analyzer as the IndexWriter used to
create the Index.

This is a good tool for checking what is in your index. It may help with the
trouble shooting:

http://www.getopt.org/luke/

Luke

----- Original Message ----- 
From: "Ross Rankin" <ross@commercescience.com>
To: <lucene-user@jakarta.apache.org>
Sent: Tuesday, January 04, 2005 10:53 AM
Subject: Problems...


> (Bear with me; I have inherited this system from another developer who is
no
> longer with the company.  So I am not familiar with Lucene at all.  I just
> have got the task of "Fixing the search".)
>
>
>
> I have servlet that runs every 10 minutes and indexes and I can see files
> being created in the index path on that interval (fdt,fdx,fnm,frq, etc.)
> however the search function is no longer working.  I'm not getting
anything
> in the log that I can point to that says what is not working, the search
or
> the index.  But since the index files seem to change size/date stamp as
they
> have in the past, I'm leaning towards the search function.
>
>
>
> I'm not sure where or how to troubleshoot.  Can I examine the indexes with
> anything to see what is there and that it's meaningful.  Is there
something
> simple I can do to track down what doesn't work in the process?  Thanks.
>
>
>
> Ross
>
>
>
> Here's the search function:
>
>     public Hits search(String searchString, String resellerId) {
>
>         int currentOffset = 0;
>
>         try {
>
>             currentOffset = Integer.parseInt(paramOffset);
>
>         } catch (NumberFormatException e) {}
>
>
>
>         System.out.println("\n\t\tSearch for " + searchString + " off = "
+
> currentOffset);
>
>         if (currentOffset > 0) {
>
>             // if the user only requested the next n items from the search
> returns
>
>             return hits;
>
>         }
>
>
>
>         // performs a new search
>
>         try {
>
>             hits = null;
>
>             try {
>
>                 searcher.close();
>
>             } catch (Exception e){}
>
>
>
>             searcher = new IndexSearcher(pathToIndex);
>
>             Analyzer analyzer = new StandardAnalyzer();
>
>
>
>             String searchQuery = LuceneConstants.FIELD_RESELLER_IDS + ":"
>
>                     + resellerId
>
>                     + " AND "
>
>                     + LuceneConstants.FIELD_FULL_DESCRIPTION + ":" +
> searchString;
>
>
>
>
>
>             Query query = null;
>
>             try {
>
>                 query = QueryParser.parse(searchQuery,
>
>                             LuceneConstants.FIELD_FULL_DESCRIPTION,
> analyzer);
>
>             } catch (ParseException e) {
>
>                 // if an excepption occures parsing the search string
> entered by the user
>
>                 // escapes all the special lucene chars and try to make
the
> query again.
>
>                 searchQuery = LuceneConstants.FIELD_RESELLER_IDS + ":"
>
>                     + resellerId + " AND "
>
>                     + LuceneConstants.FIELD_FULL_DESCRIPTION + ":"
>
>                     + escape(searchString);
>
>                 query = QueryParser.parse(searchQuery,
>
>                             LuceneConstants.FIELD_FULL_DESCRIPTION,
> analyzer);
>
>             }
>
>             System.out.println("Searching for: " +
> query.toString(LuceneConstants.FIELD_FULL_DESCRIPTION));
>
>
>
>             hits = searcher.search(query);
>
>             System.out.println(hits.length() + " total matching
documents");
>
>             //searcher.close();
>
>
>
>         } catch (Exception e) {
>
>             e.printStackTrace();
>
>         }
>
>
>
>         return hits;
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12218-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 04 18:17:49 2005
Return-Path: <lucene-user-return-12218-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67935 invoked from network); 4 Jan 2005 18:17:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Jan 2005 18:17:48 -0000
Received: (qmail 76339 invoked by uid 500); 4 Jan 2005 18:14:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76281 invoked by uid 500); 4 Jan 2005 18:14:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76249 invoked by uid 99); 4 Jan 2005 18:14:28 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of janssen@parc.com designates 13.1.64.93 as permitted sender)
Received: from alpha.Xerox.COM (HELO alpha.xerox.com) (13.1.64.93)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 04 Jan 2005 10:14:25 -0800
Received: from synergy1.parc.xerox.com ([13.1.101.60]) by alpha.xerox.com with SMTP id <173059(1)>; Tue, 4 Jan 2005 10:13:57 PST
Received: by synergy1.parc.xerox.com id <58617>; Tue, 4 Jan 2005 10:13:49 PST
Sender: Bill Janssen <janssen@parc.com>
From: Bill Janssen <janssen@parc.com>
To: lucene-user@jakarta.apache.org
Subject: 1.4.3 breaks 1.4.1 QueryParser functionality
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Message-Id: <05Jan4.101349pst."58617"@synergy1.parc.xerox.com>
Date: Tue, 4 Jan 2005 10:13:42 PST
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm trying to figure out what changed between 1.4.1 and 1.4.3 to break
my application.  I couldn't use 1.4.2, because my app wouldn't compile
with 1.4.2, due to API changes.  With 1.4.3, the API incompatibilities
were fixed, but now the QueryParser seems to process query strings
differently.

For instance, with 1.4.1, when I use the query string

    category:"user names"

during the parsing of the query, the method "getFieldQuery" is called,
which allows me to do some custom analysis of the search terms, for
particular field names.  However, with 1.4.3, "getFieldQuery" is *not*
called.  Why not?  Is something else called instead?

Also, what's the difference between major, minor, and micro release
numbers in the context of the Lucene project?  I'm still stuck on
1.4.1 due to these incompatibilities.  I'm a bit surprised that
differences between two micro releases of the same minor release would
cause this much difficulty.

Bill



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12219-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 04 19:43:22 2005
Return-Path: <lucene-user-return-12219-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25330 invoked from network); 4 Jan 2005 19:43:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Jan 2005 19:43:21 -0000
Received: (qmail 2515 invoked by uid 500); 4 Jan 2005 19:43:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2483 invoked by uid 500); 4 Jan 2005 19:43:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2467 invoked by uid 99); 4 Jan 2005 19:43:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from mail.anchormen.nl (HELO mail.anchormen.nl) (212.83.242.16)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 04 Jan 2005 11:43:09 -0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: how to create a long lasting unique key?
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Date: Tue, 4 Jan 2005 20:43:06 +0100
Message-ID: <24CFCE44DCB015489FB96D38BDF4FCAA07C939@gerard.anchormen.nl>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: how to create a long lasting unique key?
thread-index: AcTylZxruPp/QVrPSma5Agnik22Ybg==
From: "Peter Veentjer - Anchor Men" <p.veentjer@anchormen.nl>
To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

What is the best way to create a key for a document? I know the id (from =
hits) can not be used, but what is a good way to create a key

I need this key for a webapplication. At the moment every document can =
be identified with the filelocation key, but I would rather some kind of =
integer for the Job (nobody needs to know the file location).


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12220-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 04 19:50:49 2005
Return-Path: <lucene-user-return-12220-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30324 invoked from network); 4 Jan 2005 19:50:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Jan 2005 19:50:48 -0000
Received: (qmail 17179 invoked by uid 500); 4 Jan 2005 19:50:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17138 invoked by uid 500); 4 Jan 2005 19:50:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17124 invoked by uid 99); 4 Jan 2005 19:50:38 -0000
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=RCVD_BY_IP,RCVD_IN_SBL,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of petite.abeille@gmail.com designates 64.233.170.195 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.195)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 04 Jan 2005 11:50:35 -0800
Received: by rproxy.gmail.com with SMTP id g11so411343rne
        for <lucene-user@jakarta.apache.org>; Tue, 04 Jan 2005 11:50:33 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=Gw4bAIE/FusINRa9FH8bEoR4ao+5/nXnzGwKaLKAUdpzuwDg/HrQRnjhTdcLBmD6DhsJkZg92By2xAVqPDq2KRAIAWz9jn4tyWM+he4Vrz06/FsHmrwe3qR6mVwGa5iwLoPmfh12ziDuk3zRXc7V0zsIEaraMKEmLAjxnv17jXI=
Received: by 10.38.151.50 with SMTP id y50mr17806rnd;
        Tue, 04 Jan 2005 11:50:33 -0800 (PST)
Received: from ?10.0.1.133? ([62.167.108.34])
        by smtp.gmail.com with ESMTP id 59sm294184rnb.2005.01.04.11.50.32;
        Tue, 04 Jan 2005 11:50:33 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <24CFCE44DCB015489FB96D38BDF4FCAA07C939@gerard.anchormen.nl>
References: <24CFCE44DCB015489FB96D38BDF4FCAA07C939@gerard.anchormen.nl>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <ED2256D6-5E89-11D9-9450-000393760B7E@gmail.com>
Content-Transfer-Encoding: 7bit
From: PA <petite.abeille@gmail.com>
Subject: Re: how to create a long lasting unique key?
Date: Tue, 4 Jan 2005 20:50:46 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 04, 2005, at 20:43, Peter Veentjer - Anchor Men wrote:

> What is the best way to create a key for a document?

UUID?

http://java.sun.com/j2se/1.5.0/docs/api/java/util/UUID.html


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12221-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 04 20:09:08 2005
Return-Path: <lucene-user-return-12221-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39088 invoked from network); 4 Jan 2005 20:09:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Jan 2005 20:09:08 -0000
Received: (qmail 55824 invoked by uid 500); 4 Jan 2005 20:08:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55772 invoked by uid 500); 4 Jan 2005 20:08:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55721 invoked by uid 99); 4 Jan 2005 20:08:52 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 04 Jan 2005 12:08:47 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Tue, 4 Jan 2005 15:10:51 -0500
Message-ID: <045201c4f299$7cc30450$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <24CFCE44DCB015489FB96D38BDF4FCAA07C939@gerard.anchormen.nl>
Subject: Re: how to create a long lasting unique key?
Date: Tue, 4 Jan 2005 15:10:50 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 04 Jan 2005 20:10:51.0177 (UTC) FILETIME=[7CD99990:01C4F299]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This is taken from the example code writen by Doug Cutting that ships with
Lucene.

It is the key our system uses. It also comes in handy when incrementally
updating.

Luke

public static String uid(File f) {
  // Append path and date into a string in such a way that lexicographic
  // sorting gives the same results as a walk of the file hierarchy. Thus
  // null (\u0000) is used both to separate directory components and to
  // separate the path from the date.
  return f.getPath().replace(dirSep, '\u0000') + "\u0000"
    + DateField.timeToString(f.lastModified());
 }

----- Original Message ----- 
From: "Peter Veentjer - Anchor Men" <p.veentjer@anchormen.nl>
To: <lucene-user@jakarta.apache.org>
Sent: Tuesday, January 04, 2005 2:43 PM
Subject: how to create a long lasting unique key?


What is the best way to create a key for a document? I know the id (from
hits) can not be used, but what is a good way to create a key

I need this key for a webapplication. At the moment every document can be
identified with the filelocation key, but I would rather some kind of
integer for the Job (nobody needs to know the file location).


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12222-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 04 20:28:17 2005
Return-Path: <lucene-user-return-12222-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65259 invoked from network); 4 Jan 2005 20:28:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Jan 2005 20:28:17 -0000
Received: (qmail 475 invoked by uid 500); 4 Jan 2005 20:28:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 440 invoked by uid 500); 4 Jan 2005 20:28:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 426 invoked by uid 99); 4 Jan 2005 20:28:05 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork7.mail.Virginia.EDU (HELO fork7.mail.virginia.edu) (128.143.2.177)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 04 Jan 2005 12:28:02 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id B7D9F1F535E
	for <lucene-user@jakarta.apache.org>; Tue,  4 Jan 2005 15:27:59 -0500 (EST)
Received: from fork7.mail.virginia.edu ([127.0.0.1])
 by localhost (fork7.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 05448-07 for <lucene-user@jakarta.apache.org>;
 Tue,  4 Jan 2005 15:27:59 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id 7CD4B1F5274
	for <lucene-user@jakarta.apache.org>; Tue,  4 Jan 2005 15:27:59 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <auto-000005577993@nivis.com>
References: <auto-000005577993@nivis.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <326B9F60-5E8F-11D9-88E1-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Problems...
Date: Tue, 4 Jan 2005 15:28:30 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork7.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 4, 2005, at 10:53 AM, Ross Rankin wrote:
> I'm not sure where or how to troubleshoot.  Can I examine the indexes 
> with
> anything to see what is there and that it's meaningful.  Is there 
> something
> simple I can do to track down what doesn't work in the process?  
> Thanks.

Echoing a previous suggestion, use Luke to examine the index to make 
sure it is in good shape.  You can do ad-hoc queries with it also.

One recommendation below....

>
>             String searchQuery = LuceneConstants.FIELD_RESELLER_IDS + 
> ":"
>                     + resellerId
>                     + " AND "
>                     + LuceneConstants.FIELD_FULL_DESCRIPTION + ":" +
> searchString;
>

I highly recommend you use a BooleanQuery and AND in a TermQuery for 
resellerId rather than textually concatenating it to the expression you 
parse.  There are numerous issues that could come up with parsing it 
this way and potentially brittle.  If you ever switch analyzers such 
that numbers are filtered out, you could be in trouble.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12223-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 04 20:59:37 2005
Return-Path: <lucene-user-return-12223-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80200 invoked from network); 4 Jan 2005 20:59:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Jan 2005 20:59:37 -0000
Received: (qmail 61551 invoked by uid 500); 4 Jan 2005 20:59:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61528 invoked by uid 500); 4 Jan 2005 20:59:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61513 invoked by uid 99); 4 Jan 2005 20:59:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from brmea-mail-4.Sun.COM (HELO brmea-mail-4.sun.com) (192.18.98.36)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 04 Jan 2005 12:59:22 -0800
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by brmea-mail-4.sun.com (8.12.10/8.12.9) with ESMTP id j04KxKdt012773
	for <lucene-user@jakarta.apache.org>; Tue, 4 Jan 2005 13:59:21 -0700 (MST)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0I9T00M018UJLD@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Tue, 04 Jan 2005 12:59:20 -0800 (PST)
Received: from Sun.COM (sr1-umpk-06.SFBay.Sun.COM [129.146.11.166])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0I9T007AR8YWQW@ha21sca-mail1.sfbay.sun.com> for
 lucene-user@jakarta.apache.org; Tue, 04 Jan 2005 12:59:20 -0800 (PST)
Date: Tue, 04 Jan 2005 12:59:20 -0800
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Parsing issue
To: Lucene Users List <lucene-user@jakarta.apache.org>
Reply-to: Hetan.Shah@Sun.COM
Message-id: <41DB03A8.8020702@Sun.COM>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.4) Gecko/20040414
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello All,

Does any one know how to handle the following parsing error?

thanks for pointers/code snippets.

-H

While trying to parse a HTML file using IndexHTML I get

Parse Aborted: Encountered "\"" at line 8, column 1162.
Was expecting one of:
    <ArgName> ...
    "=" ...
    <TagEnd> ...



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12224-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 04 21:12:00 2005
Return-Path: <lucene-user-return-12224-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85725 invoked from network); 4 Jan 2005 21:11:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Jan 2005 21:11:59 -0000
Received: (qmail 93828 invoked by uid 500); 4 Jan 2005 21:11:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93802 invoked by uid 500); 4 Jan 2005 21:11:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93782 invoked by uid 99); 4 Jan 2005 21:11:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork9.mail.Virginia.EDU (HELO fork9.mail.virginia.edu) (128.143.2.179)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 04 Jan 2005 13:11:46 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id BA6941F52CB
	for <lucene-user@jakarta.apache.org>; Tue,  4 Jan 2005 16:11:43 -0500 (EST)
Received: from fork9.mail.virginia.edu ([127.0.0.1])
 by localhost (fork9.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 29318-02 for <lucene-user@jakarta.apache.org>;
 Tue,  4 Jan 2005 16:11:43 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id 6AAB91F51C1
	for <lucene-user@jakarta.apache.org>; Tue,  4 Jan 2005 16:11:43 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <05Jan4.101349pst."58617"@synergy1.parc.xerox.com>
References: <05Jan4.101349pst."58617"@synergy1.parc.xerox.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <4E4959F2-5E95-11D9-88E1-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: 1.4.3 breaks 1.4.1 QueryParser functionality
Date: Tue, 4 Jan 2005 16:12:14 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork9.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Bill,

If we broken API compatibility then we screwed up.  What getFieldQuery 
signature are you overriding?

As for version numbers - there are no strict conventions.  The API 
should not have broken in 1.4.2, nor in 1.4.3 - this is very 
unfortunate.  I caught what I thought were all of the incompatibilities 
introduced in 1.4.2, but apparently I missed something that perhaps my 
test cases didn't account for?

	Erik


On Jan 4, 2005, at 1:13 PM, Bill Janssen wrote:

> I'm trying to figure out what changed between 1.4.1 and 1.4.3 to break
> my application.  I couldn't use 1.4.2, because my app wouldn't compile
> with 1.4.2, due to API changes.  With 1.4.3, the API incompatibilities
> were fixed, but now the QueryParser seems to process query strings
> differently.
>
> For instance, with 1.4.1, when I use the query string
>
>     category:"user names"
>
> during the parsing of the query, the method "getFieldQuery" is called,
> which allows me to do some custom analysis of the search terms, for
> particular field names.  However, with 1.4.3, "getFieldQuery" is *not*
> called.  Why not?  Is something else called instead?
>
> Also, what's the difference between major, minor, and micro release
> numbers in the context of the Lucene project?  I'm still stuck on
> 1.4.1 due to these incompatibilities.  I'm a bit surprised that
> differences between two micro releases of the same minor release would
> cause this much difficulty.
>
> Bill
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12225-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 04 21:13:46 2005
Return-Path: <lucene-user-return-12225-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86486 invoked from network); 4 Jan 2005 21:13:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Jan 2005 21:13:46 -0000
Received: (qmail 98428 invoked by uid 500); 4 Jan 2005 21:13:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98402 invoked by uid 500); 4 Jan 2005 21:13:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98380 invoked by uid 99); 4 Jan 2005 21:13:31 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork10.mail.Virginia.EDU (HELO fork10.mail.virginia.edu) (128.143.2.180)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 04 Jan 2005 13:13:28 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork10.mail.virginia.edu (Postfix) with ESMTP id 8AA2C1F52A6
	for <lucene-user@jakarta.apache.org>; Tue,  4 Jan 2005 16:13:25 -0500 (EST)
Received: from fork10.mail.virginia.edu ([127.0.0.1])
 by localhost (fork10.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 16920-06 for <lucene-user@jakarta.apache.org>;
 Tue,  4 Jan 2005 16:13:25 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork10.mail.virginia.edu (Postfix) with ESMTP id 51A4D1F515F
	for <lucene-user@jakarta.apache.org>; Tue,  4 Jan 2005 16:13:25 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <41DB03A8.8020702@Sun.COM>
References: <41DB03A8.8020702@Sun.COM>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <8B1FCF65-5E95-11D9-88E1-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Parsing issue
Date: Tue, 4 Jan 2005 16:13:56 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork10.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Sure... clean up your HTML and it'll parse fine :)   Perhaps use JTidy 
to clean up the HTML.  Or switch to using a more forgiving parser like 
NekoHTML.

	Erik

On Jan 4, 2005, at 3:59 PM, Hetan Shah wrote:

> Hello All,
>
> Does any one know how to handle the following parsing error?
>
> thanks for pointers/code snippets.
>
> -H
>
> While trying to parse a HTML file using IndexHTML I get
>
> Parse Aborted: Encountered "\"" at line 8, column 1162.
> Was expecting one of:
>     <ArgName> ...
>     "=" ...
>     <TagEnd> ...
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12226-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 04 21:58:04 2005
Return-Path: <lucene-user-return-12226-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25126 invoked from network); 4 Jan 2005 21:58:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Jan 2005 21:58:04 -0000
Received: (qmail 10312 invoked by uid 500); 4 Jan 2005 21:57:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10257 invoked by uid 500); 4 Jan 2005 21:57:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10199 invoked by uid 99); 4 Jan 2005 21:57:25 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from brmea-mail-3.Sun.COM (HELO brmea-mail-3.sun.com) (192.18.98.34)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 04 Jan 2005 13:57:20 -0800
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by brmea-mail-3.sun.com (8.12.10/8.12.9) with ESMTP id j04LvHVu012365
	for <lucene-user@jakarta.apache.org>; Tue, 4 Jan 2005 14:57:17 -0700 (MST)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0I9T00301BMFWR@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Tue, 04 Jan 2005 13:57:17 -0800 (PST)
Received: from [127.0.0.1] (d-mpk24-41-226.SFBay.Sun.COM [129.146.41.226])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0I9T0008CBNAWQ@ha21sca-mail1.sfbay.sun.com> for
 lucene-user@jakarta.apache.org; Tue, 04 Jan 2005 13:57:16 -0800 (PST)
Date: Tue, 04 Jan 2005 13:56:55 -0800
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Re: Parsing issue
In-reply-to: <8B1FCF65-5E95-11D9-88E1-000A95BC61B6@ehatchersolutions.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <41DB1127.5020100@sun.com>
MIME-version: 1.0
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7)
 Gecko/20040616
References: <41DB03A8.8020702@Sun.COM>
 <8B1FCF65-5E95-11D9-88E1-000A95BC61B6@ehatchersolutions.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Has any one used NekoHTML ? If so how do I use it. Is it a stand alone 
jar file that I include in my classpath and start using just like 
IndexHTML ?
Can some one share syntax and or code if it is supposed to be used 
programetically. I am looking at 
http://www.apache.org/~andyc/neko/doc/html/ for more information is that 
the correct place to look?

Thanks,
-H


Erik Hatcher wrote:

> Sure... clean up your HTML and it'll parse fine :)   Perhaps use JTidy 
> to clean up the HTML.  Or switch to using a more forgiving parser like 
> NekoHTML.
>
>     Erik
>
> On Jan 4, 2005, at 3:59 PM, Hetan Shah wrote:
>
>> Hello All,
>>
>> Does any one know how to handle the following parsing error?
>>
>> thanks for pointers/code snippets.
>>
>> -H
>>
>> While trying to parse a HTML file using IndexHTML I get
>>
>> Parse Aborted: Encountered "\"" at line 8, column 1162.
>> Was expecting one of:
>>     <ArgName> ...
>>     "=" ...
>>     <TagEnd> ...
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12227-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 04 22:05:40 2005
Return-Path: <lucene-user-return-12227-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28432 invoked from network); 4 Jan 2005 22:05:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Jan 2005 22:05:39 -0000
Received: (qmail 23837 invoked by uid 500); 4 Jan 2005 22:05:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23802 invoked by uid 500); 4 Jan 2005 22:05:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23690 invoked by uid 99); 4 Jan 2005 22:05:18 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12706.mail.yahoo.com (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 04 Jan 2005 14:05:15 -0800
Received: (qmail 40490 invoked by uid 60001); 4 Jan 2005 22:05:12 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=o3DkrNhiot9Gt7u5n9Gi4e3yQMh6EZ2vtB01E7xd7dL2oGmLvMaoBALa64pmATOeBqEw9YYrPUgICoWJpcLFoZTxix7HFPucgyMrXDt7oCTEf0ah4SRtcqEzXJgipnlGuJk67KioUSVQdYf7V+xXkzI5lczBmh6HJDesX6VYHy0=  ;
Message-ID: <20050104220512.40488.qmail@web12706.mail.yahoo.com>
Received: from [216.194.17.194] by web12706.mail.yahoo.com via HTTP; Tue, 04 Jan 2005 14:05:12 PST
Date: Tue, 4 Jan 2005 14:05:12 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Parsing issue
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41DB1127.5020100@sun.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

That's the correct place to look and it includes code samples.
Yes, it's a Jar file that you add to the CLASSPATH and use ... hm,
normally.... programmatically, yes :).

Otis

--- Hetan Shah <Hetan.Shah@Sun.COM> wrote:

> Has any one used NekoHTML ? If so how do I use it. Is it a stand
> alone 
> jar file that I include in my classpath and start using just like 
> IndexHTML ?
> Can some one share syntax and or code if it is supposed to be used 
> programetically. I am looking at 
> http://www.apache.org/~andyc/neko/doc/html/ for more information is
> that 
> the correct place to look?
> 
> Thanks,
> -H
> 
> 
> Erik Hatcher wrote:
> 
> > Sure... clean up your HTML and it'll parse fine :)   Perhaps use
> JTidy 
> > to clean up the HTML.  Or switch to using a more forgiving parser
> like 
> > NekoHTML.
> >
> >     Erik
> >
> > On Jan 4, 2005, at 3:59 PM, Hetan Shah wrote:
> >
> >> Hello All,
> >>
> >> Does any one know how to handle the following parsing error?
> >>
> >> thanks for pointers/code snippets.
> >>
> >> -H
> >>
> >> While trying to parse a HTML file using IndexHTML I get
> >>
> >> Parse Aborted: Encountered "\"" at line 8, column 1162.
> >> Was expecting one of:
> >>     <ArgName> ...
> >>     "=" ...
> >>     <TagEnd> ...
> >>
> >>
> >>
> >>
> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12228-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 04 22:54:09 2005
Return-Path: <lucene-user-return-12228-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54435 invoked from network); 4 Jan 2005 22:54:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Jan 2005 22:54:09 -0000
Received: (qmail 31192 invoked by uid 500); 4 Jan 2005 22:54:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31057 invoked by uid 500); 4 Jan 2005 22:53:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31042 invoked by uid 99); 4 Jan 2005 22:53:58 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of janssen@parc.com designates 13.1.64.93 as permitted sender)
Received: from alpha.Xerox.COM (HELO alpha.xerox.com) (13.1.64.93)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 04 Jan 2005 14:53:55 -0800
Received: from synergy1.parc.xerox.com ([13.1.101.60]) by alpha.xerox.com with SMTP id <173088(1)>; Tue, 4 Jan 2005 14:53:48 PST
Received: from parc.com ([127.0.0.1]) by synergy1.parc.xerox.com with SMTP id <58617>; Tue, 4 Jan 2005 14:53:40 PST
To: "Lucene Users List" <lucene-user@jakarta.apache.org>, erik@ehatchersolutions.com
Subject: Re: 1.4.3 breaks 1.4.1 QueryParser functionality 
In-Reply-To: Your message of "Tue, 04 Jan 2005 13:12:14 PST."
             <4E4959F2-5E95-11D9-88E1-000A95BC61B6@ehatchersolutions.com> 
Date: Tue, 4 Jan 2005 14:53:39 PST
From: Bill Janssen <janssen@parc.com>
Message-Id: <05Jan4.145340pst."58617"@synergy1.parc.xerox.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik,

The signature I'm overriding is

    protected Query getFieldQuery (String field,
                                   Analyzer a,
                                   String queryText)
        throws ParseException

It gets called with a query string of the form

   field:text

but no longer with a query string of the form

   field:"text1 text2"

Bill

> What getFieldQuery signature are you overriding?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12229-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 04 23:17:31 2005
Return-Path: <lucene-user-return-12229-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64143 invoked from network); 4 Jan 2005 23:17:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Jan 2005 23:17:31 -0000
Received: (qmail 67080 invoked by uid 500); 4 Jan 2005 23:16:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67021 invoked by uid 500); 4 Jan 2005 23:16:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66996 invoked by uid 99); 4 Jan 2005 23:16:52 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mailout10.sul.t-online.com (HELO mailout10.sul.t-online.com) (194.25.134.21)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 04 Jan 2005 15:16:49 -0800
Received: from fwd09.aul.t-online.de 
	by mailout10.sul.t-online.com with smtp 
	id 1Clxuw-00037B-00; Wed, 05 Jan 2005 00:16:46 +0100
Received: from p548020CB.dip.t-dialin.net (TQbKsQZegep0hC1-WMRYMWgKYT5I0TOr-UXsjjJMSUgF8J+X0JZb82@[84.128.32.203]) by fmrl09.sul.t-online.com
	with esmtp id 1Clxum-1B6X8i0; Wed, 5 Jan 2005 00:16:36 +0100
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: 1.4.3 breaks 1.4.1 QueryParser functionality
Date: Wed, 5 Jan 2005 00:19:07 +0100
User-Agent: KMail/1.7.1
References: <05Jan4.145340pst."58617"@synergy1.parc.xerox.com>
In-Reply-To: <05Jan4.145340pst."58617"@synergy1.parc.xerox.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: base64
Content-Disposition: inline
Message-Id: <200501050019.07598@danielnaber.de>
X-ID: TQbKsQZegep0hC1-WMRYMWgKYT5I0TOr-UXsjjJMSUgF8J+X0JZb82@t-dialin.net
X-TOI-MSGID: ce9397fe-9b69-4990-bc19-490cf17cd07c
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

T24gVHVlc2RheSAwNCBKYW51YXJ5IDIwMDUgMjM6NTMsIEJpbGwgSmFuc3NlbiB3cm90ZToKCj4g
wqAgwqAgcHJvdGVjdGVkIFF1ZXJ5IGdldEZpZWxkUXVlcnkgKFN0cmluZyBmaWVsZCwKPiDCoCDC
oCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoCDCoEFuYWx5emVy
IGEsCj4gwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAgwqAg
wqBTdHJpbmcgcXVlcnlUZXh0KQo+IMKgIMKgIMKgIMKgIHRocm93cyBQYXJzZUV4Y2VwdGlvbgoK
WW91J3JlIHJpZ2h0LCB0aGUgcHJvYmxlbSBpcyB0aGF0IHdlIHNob3VsZCBjYWxsIHRoZSBkZXBy
ZWNhdGVkIG1ldGhvZCBmb3IgCmV4YW1wbGUgaW4gZ2V0RmllbGRRdWVyeShTdHJpbmcgZmllbGQs
IFN0cmluZyBxdWVyeVRleHQsIGludCBzbG9wKS4gCkhvd2V2ZXIsIHRoZXJlJ3MgYSBzaW1wbGUg
d29ya2Fyb3VuZDoganVzdCByZW1vdmUgdGhlICJhbmFseXplciIgcGFyYW1ldGVyIApmcm9tIHlv
dXIgbWV0aG9kLgoKUmVnYXJkcwogRGFuaWVsCgotLSAKaHR0cDovL3d3dy5kYW5pZWxuYWJlci5k
ZQo=


From lucene-user-return-12230-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 04 23:45:08 2005
Return-Path: <lucene-user-return-12230-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79034 invoked from network); 4 Jan 2005 23:45:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Jan 2005 23:45:08 -0000
Received: (qmail 33965 invoked by uid 500); 4 Jan 2005 23:44:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33939 invoked by uid 500); 4 Jan 2005 23:44:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33923 invoked by uid 99); 4 Jan 2005 23:44:58 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of janssen@parc.com designates 13.1.64.93 as permitted sender)
Received: from alpha.Xerox.COM (HELO alpha.xerox.com) (13.1.64.93)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 04 Jan 2005 15:44:55 -0800
Received: from synergy1.parc.xerox.com ([13.1.101.60]) by alpha.xerox.com with SMTP id <173092(2)>; Tue, 4 Jan 2005 15:44:38 PST
Received: from parc.com ([127.0.0.1]) by synergy1.parc.xerox.com with SMTP id <58617>; Tue, 4 Jan 2005 15:44:30 PST
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: 1.4.3 breaks 1.4.1 QueryParser functionality 
In-Reply-To: Your message of "Tue, 04 Jan 2005 15:19:07 PST."
             <200501050019.07598@danielnaber.de> 
Date: Tue, 4 Jan 2005 15:44:25 PST
From: Bill Janssen <janssen@parc.com>
Message-Id: <05Jan4.154430pst."58617"@synergy1.parc.xerox.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> You're right, the problem is that we should call the deprecated method for 
> example in getFieldQuery(String field, String queryText, int slop). 
> However, there's a simple workaround: just remove the "analyzer" parameter 
> from your method.

Sure, if I wanted to ship different code for each micro-release of
Lucene (which, you might guess, I don't).  That signature doesn't
compile with 1.4.1.

Bill

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12231-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 04 23:49:16 2005
Return-Path: <lucene-user-return-12231-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81424 invoked from network); 4 Jan 2005 23:49:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Jan 2005 23:49:16 -0000
Received: (qmail 43400 invoked by uid 500); 4 Jan 2005 23:49:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43356 invoked by uid 500); 4 Jan 2005 23:49:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43262 invoked by uid 99); 4 Jan 2005 23:49:03 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 04 Jan 2005 15:49:00 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 450665B7B0; Tue,  4 Jan 2005 15:48:06 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 3D6897F474
	for <lucene-user@jakarta.apache.org>; Tue,  4 Jan 2005 15:48:06 -0800 (PST)
Date: Tue, 4 Jan 2005 15:48:06 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Problems...
In-Reply-To: <auto-000005577993@nivis.com>
Message-ID: <Pine.LNX.4.58.0501041508250.6268@hal.rescomp.berkeley.edu>
References: <auto-000005577993@nivis.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



To start with, there has to be more to the "search" side of things then
what you included.  this search function is not static, which means it's
getting called on an object, which obviously has some internal state
(paramOffset, hits, and pathToIndex are a few that jump out at me)  what
are the values of those variables when this method gets called?

second, there are at least two places in your code where potential
exceptions get thrown away and execution continues.  as a matter of good
practice, you should add logging to these spots to make sure you aren't
ignoring errors...

third, you said " I'm not getting anything in the log that I can point to
that says what is not working," but what about what is/isn't in the log?
there are several System.out.println calls in this code ... I'm assuming
you're logging STDOUT, what do those messages (with variables) say?
what is the value of currentOffset on the initial search? what does the
query.toString look like? how many total hits are being found when the
search is executed?  (or is that line not getting logged because the
search is getting skipped becuase of some initial state in paramOffset?)




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12232-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 00:20:22 2005
Return-Path: <lucene-user-return-12232-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92707 invoked from network); 5 Jan 2005 00:20:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 00:20:22 -0000
Received: (qmail 94312 invoked by uid 500); 5 Jan 2005 00:20:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94291 invoked by uid 500); 5 Jan 2005 00:20:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94276 invoked by uid 99); 5 Jan 2005 00:20:10 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 04 Jan 2005 16:20:07 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Parsing issue
Date: Tue, 4 Jan 2005 16:20:04 -0800
Message-ID: <E3381E0825F1954D953A4E347017BB1C02F4930E@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Parsing issue
Thread-Index: AcTyqYQ/HwLnJG+vTQmfN13XBMmuyQAEqL+g
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I use it and have yet to have a problem with it.  It uses the Xerces API
so you parse and access html files just like xml files.  Very cool,

Chuck

  > -----Original Message-----
  > From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
  > Sent: Tuesday, January 04, 2005 2:05 PM
  > To: Lucene Users List
  > Subject: Re: Parsing issue
  >=20
  > That's the correct place to look and it includes code samples.
  > Yes, it's a Jar file that you add to the CLASSPATH and use ... hm,
  > normally.... programmatically, yes :).
  >=20
  > Otis
  >=20
  > --- Hetan Shah <Hetan.Shah@Sun.COM> wrote:
  >=20
  > > Has any one used NekoHTML ? If so how do I use it. Is it a stand
  > > alone
  > > jar file that I include in my classpath and start using just like
  > > IndexHTML ?
  > > Can some one share syntax and or code if it is supposed to be used
  > > programetically. I am looking at
  > > http://www.apache.org/~andyc/neko/doc/html/ for more information
is
  > > that
  > > the correct place to look?
  > >
  > > Thanks,
  > > -H
  > >
  > >
  > > Erik Hatcher wrote:
  > >
  > > > Sure... clean up your HTML and it'll parse fine :)   Perhaps use
  > > JTidy
  > > > to clean up the HTML.  Or switch to using a more forgiving
parser
  > > like
  > > > NekoHTML.
  > > >
  > > >     Erik
  > > >
  > > > On Jan 4, 2005, at 3:59 PM, Hetan Shah wrote:
  > > >
  > > >> Hello All,
  > > >>
  > > >> Does any one know how to handle the following parsing error?
  > > >>
  > > >> thanks for pointers/code snippets.
  > > >>
  > > >> -H
  > > >>
  > > >> While trying to parse a HTML file using IndexHTML I get
  > > >>
  > > >> Parse Aborted: Encountered "\"" at line 8, column 1162.
  > > >> Was expecting one of:
  > > >>     <ArgName> ...
  > > >>     "=3D" ...
  > > >>     <TagEnd> ...
  > > >>
  > > >>
  > > >>
  > > >>
  > >
---------------------------------------------------------------------
  > > >> To unsubscribe, e-mail:
lucene-user-unsubscribe@jakarta.apache.org
  > > >> For additional commands, e-mail:
  > > lucene-user-help@jakarta.apache.org
  > > >
  > > >
  > > >
  > > >
  > >
---------------------------------------------------------------------
  > > > To unsubscribe, e-mail:
lucene-user-unsubscribe@jakarta.apache.org
  > > > For additional commands, e-mail:
  > > lucene-user-help@jakarta.apache.org
  > > >
  > >
  > >
  > >
  > >
---------------------------------------------------------------------
  > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > > For additional commands, e-mail:
lucene-user-help@jakarta.apache.org
  > >
  > >
  >=20
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12233-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 02:44:16 2005
Return-Path: <lucene-user-return-12233-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52974 invoked from network); 5 Jan 2005 02:44:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 02:44:16 -0000
Received: (qmail 10398 invoked by uid 500); 5 Jan 2005 02:44:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10372 invoked by uid 500); 5 Jan 2005 02:44:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10355 invoked by uid 99); 5 Jan 2005 02:44:09 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of janssen@parc.com designates 13.1.64.93 as permitted sender)
Received: from alpha.Xerox.COM (HELO alpha.xerox.com) (13.1.64.93)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 04 Jan 2005 18:44:05 -0800
Received: from synergy1.parc.xerox.com ([13.1.101.60]) by alpha.xerox.com with SMTP id <173135(2)>; Tue, 4 Jan 2005 18:43:38 PST
Received: from parc.com ([127.0.0.1]) by synergy1.parc.xerox.com with SMTP id <58617>; Tue, 4 Jan 2005 18:43:31 PST
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: 1.4.3 breaks 1.4.1 QueryParser functionality 
In-Reply-To: Your message of "Tue, 04 Jan 2005 15:44:25 PST."
             <05Jan4.154430pst."58617"@synergy1.parc.xerox.com> 
Date: Tue, 4 Jan 2005 18:43:27 PST
From: Bill Janssen <janssen@parc.com>
Message-Id: <05Jan4.184331pst."58617"@synergy1.parc.xerox.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> > However, there's a simple workaround: just remove the "analyzer" parameter 
> > from your method.
> 
> Sure, if I wanted to ship different code for each micro-release of
> Lucene (which, you might guess, I don't).  That signature doesn't
> compile with 1.4.1.
> 
> Bill

Let me be a bit more explicit.  My method (essentially an
after-method, for those Lisp'rs out there) begins thusly:

    protected Query getFieldQuery (String field,
				   Analyzer a,
                                   String queryText)
        throws ParseException {

          Query x = super.getFieldQuery(field, a, queryText);

	  ...
	}

If I remove the "Analyzer a" from both the signature and the super
call, the super call won't compile because that method isn't in the
QueryParser in 1.4.1.  But my getFieldQuery() method won't even be
called in 1.4.1, because it doesn't exist in that version of the
QueryParser.

Bill

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12234-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 03:55:48 2005
Return-Path: <lucene-user-return-12234-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74151 invoked from network); 5 Jan 2005 03:55:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 03:55:48 -0000
Received: (qmail 89391 invoked by uid 500); 5 Jan 2005 03:55:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89369 invoked by uid 500); 5 Jan 2005 03:55:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89355 invoked by uid 99); 5 Jan 2005 03:55:40 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from hs-216-106-102-23.storm.ca (HELO extremesoftware.ca) (216.106.102.23)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 04 Jan 2005 19:55:37 -0800
Subject: RE: how to create a long lasting unique key?
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Tue, 4 Jan 2005 22:55:16 -0500
Message-ID: <41989D7DF8323B4CB0F7A58F5BA01019039E15@sydney.extremesoftware.ca>
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: how to create a long lasting unique key?
Thread-Index: AcTymToTsbXwnTZ5T/2kk8fXCaHGIQAQMGOw
From: "Wesley MacDonald" <wes@extremesoftware.ca>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Java has GUID's classes called java.rmi.server.UID and
java.rmi.dgc.VMID.

The UID class can generate identifiers that are unique over time within
a JVM. The VMID class provides uniqueness across ALL JVM's.

UID consists of a unique number based on a hashcode, system time and a
counter, and a VMID contains a UID and adds a SHA hash based on IP
address.

Wes.=20

-----Original Message-----
From: Luke Shannon [mailto:lshannon@futurebrand.com]=20
Sent: Tuesday, January 04, 2005 3:11 PM
To: Lucene Users List
Subject: Re: how to create a long lasting unique key?

This is taken from the example code writen by Doug Cutting that ships
with Lucene.

It is the key our system uses. It also comes in handy when incrementally
updating.

Luke

public static String uid(File f) {
  // Append path and date into a string in such a way that lexicographic
  // sorting gives the same results as a walk of the file hierarchy.
Thus
  // null (\u0000) is used both to separate directory components and to
  // separate the path from the date.
  return f.getPath().replace(dirSep, '\u0000') + "\u0000"
    + DateField.timeToString(f.lastModified());
 }

----- Original Message -----
From: "Peter Veentjer - Anchor Men" <p.veentjer@anchormen.nl>
To: <lucene-user@jakarta.apache.org>
Sent: Tuesday, January 04, 2005 2:43 PM
Subject: how to create a long lasting unique key?


What is the best way to create a key for a document? I know the id (from
hits) can not be used, but what is a good way to create a key

I need this key for a webapplication. At the moment every document can
be
identified with the filelocation key, but I would rather some kind of
integer for the Job (nobody needs to know the file location).


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12235-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 08:40:57 2005
Return-Path: <lucene-user-return-12235-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5204 invoked from network); 5 Jan 2005 08:40:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 08:40:56 -0000
Received: (qmail 43846 invoked by uid 500); 5 Jan 2005 08:40:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43818 invoked by uid 500); 5 Jan 2005 08:40:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43802 invoked by uid 99); 5 Jan 2005 08:40:36 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=HTML_MESSAGE,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.apis-ca.fr) (195.101.98.17)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 00:40:32 -0800
In-Reply-To: <1104912983.93792.ezmlm@jakarta.apache.org>
To: lucene-user@jakarta.apache.org
Subject: do a simple search
MIME-Version: 1.0
X-Mailer: Lotus Notes Release 6.5.1 January 21, 2004
From: Stephane.Giner@apis-ca.fr
Message-ID: <OF1AA5A4D2.587947D2-ONC1256F80.002E5346-C1256F80.002FA624@apis-ca.fr>
Date: Wed, 5 Jan 2005 09:41:42 +0100
X-MIMETrack: Serialize by Router on neptune/apis(Release 6.5.3|September 14, 2004) at 05/01/2005
 09:41:45,
	Serialize complete at 05/01/2005 09:41:45
Content-Type: multipart/alternative; boundary="=_alternative 002FA603C1256F80_="
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=_alternative 002FA603C1256F80_=
Content-Type: text/plain; charset="US-ASCII"

hello

I would like to search a word in differents fields of a document with an 
OR operator.

My fields are "id", "shortDesc" and "longDesc".
In java I want to search a word simultanly in "shortDesc" and "longDesc" 
field.

for example:

        doc1:   id:1
                        shortDesc: a foo desc
                        longDesc: a doc long desc

        doc2:   id:2
                shortDesc:a doc short desc
                longDesc:a foo long desc

        doc3:   id:3
                shortDesc:another short desc
                longDesc:another long desc

if the search word is "foo" i want to retreive doc1 and doc3.

in my program, fields are stored in fieldName list. 
associated values are stored in fieldValue.

thanks
        private static Hits search(List fieldName, List fieldValue) {
                Hits hits = null;
 
                int fieldNameSize  = fieldName.size();
                int fieldValueSize = fieldValue.size();
                if (fieldNameSize != fieldValueSize) {
                        return null;
                }
 
                IndexSearcher searcher = getSearcher();
                if (searcher != null) {
                        BooleanQuery query = new BooleanQuery();
                        //populate the query with all terms
                        for (int i=0; i<fieldNameSize; i++) {
                                String currentFieldName  = (String) 
fieldName.get(i);
                                String currentFieldValue = (String) 
fieldValue.get(i);
 
                                StringTokenizer tokenizer = new 
StringTokenizer(currentFieldValue);
                                while (tokenizer.hasMoreTokens()) {
                                        String currentToken = 
tokenizer.nextToken();
                                        Term currentTerm = new 
Term(currentFieldName,currentToken);
                                        TermQuery termQuery = new 
TermQuery(currentTerm);
 
                                        query.add(termQuery,false,false);
                                }
                        }
 
                        //do the search
                        try {
                                //System.out.println("IndexManager query = 
" + query.toString());
                                hits = searcher.search(query);
                        }
                        catch (IOException ioe) {
 LogManager.log(LogManager.LOG_ERROR,"Cannot search in index.",ioe);
                        }
                        finally {
                                try {
                                        searcher.close();
                                }
                                catch (IOException ioe) {
 LogManager.log(LogManager.LOG_WARNING,"Cannot close searcher in search 
method.",ioe);
                                }
                        }
                }
 
                return hits;
        }
--=_alternative 002FA603C1256F80_=--

From lucene-user-return-12236-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 09:33:08 2005
Return-Path: <lucene-user-return-12236-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29059 invoked from network); 5 Jan 2005 09:33:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 09:33:08 -0000
Received: (qmail 60607 invoked by uid 500); 5 Jan 2005 09:32:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60503 invoked by uid 500); 5 Jan 2005 09:32:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60429 invoked by uid 99); 5 Jan 2005 09:31:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 01:31:53 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 41BB413E200B; Wed,  5 Jan 2005 04:31:46 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id B017913E2008
	for <lucene-user@jakarta.apache.org>; Wed,  5 Jan 2005 04:31:32 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <OF1AA5A4D2.587947D2-ONC1256F80.002E5346-C1256F80.002FA624@apis-ca.fr>
References: <OF1AA5A4D2.587947D2-ONC1256F80.002E5346-C1256F80.002FA624@apis-ca.fr>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <9293480F-5EFC-11D9-B175-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: do a simple search
Date: Wed, 5 Jan 2005 04:31:26 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.7 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 5, 2005, at 3:41 AM, Stephane.Giner@apis-ca.fr wrote:
> I would like to search a word in differents fields of a document with 
> an
> OR operator.
>
> My fields are "id", "shortDesc" and "longDesc".
> In java I want to search a word simultanly in "shortDesc" and 
> "longDesc"
> field.
>
> for example:
>
>         doc1:   id:1
>                         shortDesc: a foo desc
>                         longDesc: a doc long desc
>
>         doc2:   id:2
>                 shortDesc:a doc short desc
>                 longDesc:a foo long desc
>
>         doc3:   id:3
>                 shortDesc:another short desc
>                 longDesc:another long desc
>
> if the search word is "foo" i want to retreive doc1 and doc3.

You meant doc1 and doc2.

> in my program, fields are stored in fieldName list.
> associated values are stored in fieldValue.


What's the question?  The code you show below, at first glance, looks 
reasonable, or at least close.  What is the value of query.toString()

	Erik


>         private static Hits search(List fieldName, List fieldValue) {
>                 Hits hits = null;
>
>                 int fieldNameSize  = fieldName.size();
>                 int fieldValueSize = fieldValue.size();
>                 if (fieldNameSize != fieldValueSize) {
>                         return null;
>                 }
>
>                 IndexSearcher searcher = getSearcher();
>                 if (searcher != null) {
>                         BooleanQuery query = new BooleanQuery();
>                         //populate the query with all terms
>                         for (int i=0; i<fieldNameSize; i++) {
>                                 String currentFieldName  = (String)
> fieldName.get(i);
>                                 String currentFieldValue = (String)
> fieldValue.get(i);
>
>                                 StringTokenizer tokenizer = new
> StringTokenizer(currentFieldValue);
>                                 while (tokenizer.hasMoreTokens()) {
>                                         String currentToken =
> tokenizer.nextToken();
>                                         Term currentTerm = new
> Term(currentFieldName,currentToken);
>                                         TermQuery termQuery = new
> TermQuery(currentTerm);
>
>                                         
> query.add(termQuery,false,false);
>                                 }
>                         }
>
>                         //do the search
>                         try {
>                                 //System.out.println("IndexManager 
> query =
> " + query.toString());
>                                 hits = searcher.search(query);
>                         }
>                         catch (IOException ioe) {
>  LogManager.log(LogManager.LOG_ERROR,"Cannot search in index.",ioe);
>                         }
>                         finally {
>                                 try {
>                                         searcher.close();
>                                 }
>                                 catch (IOException ioe) {
>  LogManager.log(LogManager.LOG_WARNING,"Cannot close searcher in search
> method.",ioe);
>                                 }
>                         }
>                 }
>
>                 return hits;
>         }


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12237-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 09:47:58 2005
Return-Path: <lucene-user-return-12237-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36680 invoked from network); 5 Jan 2005 09:47:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 09:47:58 -0000
Received: (qmail 94920 invoked by uid 500); 5 Jan 2005 09:47:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94871 invoked by uid 500); 5 Jan 2005 09:47:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94837 invoked by uid 99); 5 Jan 2005 09:47:15 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_50_60,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from mail.anchormen.nl (HELO mail.anchormen.nl) (212.83.242.16)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 01:47:12 -0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C4F30B.82BF3FDF"
Subject: searching while indexing.
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Date: Wed, 5 Jan 2005 10:47:03 +0100
Message-ID: <24CFCE44DCB015489FB96D38BDF4FCAA0710D0@gerard.anchormen.nl>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: searching while indexing.
thread-index: AcTzC4K1aFp72yVXS4ieQ9KSA6iTng==
From: "Peter Veentjer - Anchor Men" <p.veentjer@anchormen.nl>
To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4F30B.82BF3FDF
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

What is the best way to implement: searching while indexing.=20
=20
I have read the mailinglist for a while but haven`t got a good answer to
my question.=20
=20
It is not allowed to index, while searching. But I don`t understand why.
All the segments are immutable, so after I have created a Reader it
could use all the segments that are available at the moment. The reader
maintains references to those segments, and if the reader is not needed
anymore (or the writer says: I`m finished creating new indices... you
should can search through a newer set of segments) the reader could
delete all the old segments. The writer can create new segments based on
the immutable-old ones and based on the new documents. After it has
created a new set, it can signal the reader to use the newer segments.
=20
So why is the above scenario not possible? Why are segments immutable?
And what is the best way to add documents to a (big index >20 gig)
without copying the index, and without blocking the search?
=20
=20
=20

Met vriendelijke groet,

Peter Veentjer
Anchor Men Interactive Solutions - duidelijk in zakelijke
internetoplossingen

Praediniussingel 41
9711 AE Groningen

T: 050-3115222
F: 050-5891696
E: p.veentjer@anchormen.nl
I : www.anchormen.nl <blocked::http://www.anchormen.nl/>=20

=20

------_=_NextPart_001_01C4F30B.82BF3FDF--

From lucene-user-return-12238-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 09:55:42 2005
Return-Path: <lucene-user-return-12238-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39886 invoked from network); 5 Jan 2005 09:55:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 09:55:42 -0000
Received: (qmail 11996 invoked by uid 500); 5 Jan 2005 09:55:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11955 invoked by uid 500); 5 Jan 2005 09:55:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11821 invoked by uid 99); 5 Jan 2005 09:55:04 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=HTML_60_70,HTML_MESSAGE,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.apis-ca.fr) (195.101.98.17)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 01:55:01 -0800
In-Reply-To: <9293480F-5EFC-11D9-B175-000393A564E6@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: =?ISO-8859-1?Q?R=E9f=2E_=3A_Re=3A_do_a_simple_search?=
MIME-Version: 1.0
X-Mailer: Lotus Notes Release 6.5.1 January 21, 2004
From: Stephane.Giner@apis-ca.fr
Message-ID: <OF449885C9.A2799099-ONC1256F80.003593F2-C1256F80.003676CA@apis-ca.fr>
Date: Wed, 5 Jan 2005 10:56:08 +0100
X-MIMETrack: Serialize by Router on neptune/apis(Release 6.5.3|September 14, 2004) at 05/01/2005
 10:56:13,
	Serialize complete at 05/01/2005 10:56:13
Content-Type: multipart/alternative; boundary="=_alternative 00367680C1256F80_="
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=_alternative 00367680C1256F80_=
Content-Type: text/plain; charset="US-ASCII"

>On Jan 5, 2005, at 3:41 AM, Stephane.Giner@apis-ca.fr wrote:
>> I would like to search a word in differents fields of a document with 
>> an
>> OR operator.
>>
>> My fields are "id", "shortDesc" and "longDesc".
>> In java I want to search a word simultanly in "shortDesc" and 
>> "longDesc"
>> field.
>>
>> for example:
>>
>>         doc1:   id:1
>>                         shortDesc: a foo desc
>>                         longDesc: a doc long desc
>>
>>         doc2:   id:2
>>                 shortDesc:a doc short desc
>>                 longDesc:a foo long desc
>>
>>         doc3:   id:3
>>                 shortDesc:another short desc
>>                 longDesc:another long desc
>>
>> if the search word is "foo" i want to retreive doc1 and doc3.

>You meant doc1 and doc2.
yes (sorry)

>> in my program, fields are stored in fieldName list.
>> associated values are stored in fieldValue.


>What's the question?  The code you show below, at first glance, looks 
>reasonable, or at least close.  What is the value of query.toString()

>                Erik

Sorry but I found the pb.

I have alway another field "type" who is the type of the searched 
document.
I must change the request to made search like this

        type=value AND (shortDesc=value OR longDesc=value)

but I don't know how to do this ?

here is the query with fields values

Field name: type
Field value: product
Field name: shortDesc
Field value: toto
Field name: longDesc
Field value: toto
IndexManager query = type:product shortDesc:toto longDesc:toto


>         private static Hits search(List fieldName, List fieldValue) {
>                 Hits hits = null;
>
>                 int fieldNameSize  = fieldName.size();
>                 int fieldValueSize = fieldValue.size();
>                 if (fieldNameSize != fieldValueSize) {
>                         return null;
>                 }
>
>                 IndexSearcher searcher = getSearcher();
>                 if (searcher != null) {
>                         BooleanQuery query = new BooleanQuery();
>                         //populate the query with all terms
>                         for (int i=0; i<fieldNameSize; i++) {
>                                 String currentFieldName  = (String)
> fieldName.get(i);
>                                 String currentFieldValue = (String)
> fieldValue.get(i);
>
>                                 StringTokenizer tokenizer = new
> StringTokenizer(currentFieldValue);
>                                 while (tokenizer.hasMoreTokens()) {
>                                         String currentToken =
> tokenizer.nextToken();
>                                         Term currentTerm = new
> Term(currentFieldName,currentToken);
>                                         TermQuery termQuery = new
> TermQuery(currentTerm);
>
> 
> query.add(termQuery,false,false);
>                                 }
>                         }
>
>                         //do the search
>                         try {
>                                 //System.out.println("IndexManager 
> query =
> " + query.toString());
>                                 hits = searcher.search(query);
>                         }
>                         catch (IOException ioe) {
>  LogManager.log(LogManager.LOG_ERROR,"Cannot search in index.",ioe);
>                         }
>                         finally {
>                                 try {
>                                         searcher.close();
>                                 }
>                                 catch (IOException ioe) {
>  LogManager.log(LogManager.LOG_WARNING,"Cannot close searcher in search
> method.",ioe);
>                                 }
>                         }
>                 }
>
>                 return hits;
>         }


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



--=_alternative 00367680C1256F80_=--

From lucene-user-return-12239-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 09:58:36 2005
Return-Path: <lucene-user-return-12239-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41339 invoked from network); 5 Jan 2005 09:58:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 09:58:36 -0000
Received: (qmail 19082 invoked by uid 500); 5 Jan 2005 09:57:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19055 invoked by uid 500); 5 Jan 2005 09:57:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19040 invoked by uid 99); 5 Jan 2005 09:57:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 01:57:50 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 31C5513E200A; Wed,  5 Jan 2005 04:57:45 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id DCD7513E2008
	for <lucene-user@jakarta.apache.org>; Wed,  5 Jan 2005 04:57:38 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <24CFCE44DCB015489FB96D38BDF4FCAA0710D0@gerard.anchormen.nl>
References: <24CFCE44DCB015489FB96D38BDF4FCAA0710D0@gerard.anchormen.nl>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <3A03B663-5F00-11D9-B175-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: searching while indexing.
Date: Wed, 5 Jan 2005 04:57:36 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.7 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

There are no problems searching while indexing.  How are you 
experiencing otherwise?  What error do you get?

	Erik

On Jan 5, 2005, at 4:47 AM, Peter Veentjer - Anchor Men wrote:

> What is the best way to implement: searching while indexing.
>
> I have read the mailinglist for a while but haven`t got a good answer 
> to
> my question.
>
> It is not allowed to index, while searching. But I don`t understand 
> why.
> All the segments are immutable, so after I have created a Reader it
> could use all the segments that are available at the moment. The reader
> maintains references to those segments, and if the reader is not needed
> anymore (or the writer says: I`m finished creating new indices... you
> should can search through a newer set of segments) the reader could
> delete all the old segments. The writer can create new segments based 
> on
> the immutable-old ones and based on the new documents. After it has
> created a new set, it can signal the reader to use the newer segments.
>
> So why is the above scenario not possible? Why are segments immutable?
> And what is the best way to add documents to a (big index >20 gig)
> without copying the index, and without blocking the search?
>
>
>
>
> Met vriendelijke groet,
>
> Peter Veentjer
> Anchor Men Interactive Solutions - duidelijk in zakelijke
> internetoplossingen
>
> Praediniussingel 41
> 9711 AE Groningen
>
> T: 050-3115222
> F: 050-5891696
> E: p.veentjer@anchormen.nl
> I : www.anchormen.nl <blocked::http://www.anchormen.nl/>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12240-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 10:06:36 2005
Return-Path: <lucene-user-return-12240-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46122 invoked from network); 5 Jan 2005 10:06:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 10:06:36 -0000
Received: (qmail 36298 invoked by uid 500); 5 Jan 2005 10:05:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36168 invoked by uid 500); 5 Jan 2005 10:05:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36008 invoked by uid 99); 5 Jan 2005 10:05:00 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 02:04:56 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 076B113E200A; Wed,  5 Jan 2005 05:04:51 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 3069A13E2008
	for <lucene-user@jakarta.apache.org>; Wed,  5 Jan 2005 05:04:45 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <05Jan4.184331pst."58617"@synergy1.parc.xerox.com>
References: <05Jan4.184331pst."58617"@synergy1.parc.xerox.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <38196246-5F01-11D9-B175-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: 1.4.3 breaks 1.4.1 QueryParser functionality 
Date: Wed, 5 Jan 2005 05:04:42 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.7 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 4, 2005, at 9:43 PM, Bill Janssen wrote:
> Let me be a bit more explicit.  My method (essentially an
> after-method, for those Lisp'rs out there) begins thusly:
>
>     protected Query getFieldQuery (String field,
> 				   Analyzer a,
>                                    String queryText)
>         throws ParseException {
>
>           Query x = super.getFieldQuery(field, a, queryText);
>
> 	  ...
> 	}
>
> If I remove the "Analyzer a" from both the signature and the super
> call, the super call won't compile because that method isn't in the
> QueryParser in 1.4.1.  But my getFieldQuery() method won't even be
> called in 1.4.1, because it doesn't exist in that version of the
> QueryParser.

Will it work if you override this method also?

protected Query getFieldQuery(String field,
                               Analyzer analyzer,
                               String queryText,
                               int slop)

My head is spinning looking at all the various signatures of this 
method we have and trying to backtrack where things went awry.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12241-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 10:12:40 2005
Return-Path: <lucene-user-return-12241-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49127 invoked from network); 5 Jan 2005 10:12:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 10:12:40 -0000
Received: (qmail 58251 invoked by uid 500); 5 Jan 2005 10:12:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58190 invoked by uid 500); 5 Jan 2005 10:12:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58140 invoked by uid 99); 5 Jan 2005 10:12:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from mail.anchormen.nl (HELO mail.anchormen.nl) (212.83.242.16)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 02:12:13 -0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: searching while indexing.
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Date: Wed, 5 Jan 2005 11:12:09 +0100
Message-ID: <24CFCE44DCB015489FB96D38BDF4FCAA0710D1@gerard.anchormen.nl>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: searching while indexing.
thread-index: AcTzDRV6/ei5JazZQx6AVgOaigCHvwAADqyQ
From: "Peter Veentjer - Anchor Men" <p.veentjer@anchormen.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

=20

-----Oorspronkelijk bericht-----
Van: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Verzonden: woensdag 5 januari 2005 10:58
Aan: Lucene Users List
Onderwerp: Re: searching while indexing.

There are no problems searching while indexing.  How are you
experiencing otherwise?  What error do you get?

I have experienced (lock) problems if I use a Reader and Writer (on the
same index-directory) at the same time. My application is multithreaded
(a pool of worker threads for the webrequests) and a scheduledworker
thread for signaling changes (new (normal) files, changed files and
removed files) and updating the index.

And I`m not the only one experiencing this problem... It ( Reader and
Writer open at the same time) has been mentioned on mailinglist quite a
few times.

A possible solution I have seen is creating a shadow-index and switching
the reader to that index if the writer is finished. But I don`t
understand while a Reader and Writer can not be opened on the same
directory... On the same time.=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12242-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 10:18:58 2005
Return-Path: <lucene-user-return-12242-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52064 invoked from network); 5 Jan 2005 10:18:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 10:18:58 -0000
Received: (qmail 73526 invoked by uid 500); 5 Jan 2005 10:18:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73403 invoked by uid 500); 5 Jan 2005 10:18:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73232 invoked by uid 99); 5 Jan 2005 10:18:04 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from Unknown (HELO goose.milesbarr.com) (81.168.89.246)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 02:18:00 -0800
Received: by goose.milesbarr.com (Postfix, from userid 1000)
	id 06A4B27A622; Wed,  5 Jan 2005 10:17:23 +0000 (GMT)
Subject: Re: =?ISO-8859-1?Q?R=E9f=2E?= : Re: do a simple search
From: Miles Barr <miles@runtime-collective.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <OF449885C9.A2799099-ONC1256F80.003593F2-C1256F80.003676CA@apis-ca.fr>
References:
	 <OF449885C9.A2799099-ONC1256F80.003593F2-C1256F80.003676CA@apis-ca.fr>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Organization: Runtime Collective Ltd.
Date: Wed, 05 Jan 2005 10:17:22 +0000
Message-Id: <1104920242.3383.17.camel@goose.milesbarr.com>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wed, 2005-01-05 at 10:56 +0100, Stephane.Giner@apis-ca.fr wrote:
> I have alway another field "type" who is the type of the searched 
> document.
> I must change the request to made search like this
> 
>         type=value AND (shortDesc=value OR longDesc=value)
> 
> but I don't know how to do this ?
> 
> here is the query with fields values
> 
> Field name: type
> Field value: product
> Field name: shortDesc
> Field value: toto
> Field name: longDesc
> Field value: toto
> IndexManager query = type:product shortDesc:toto longDesc:toto

For the type field I suggest using a TermQuery. Is the document type
from a list of defined types? i.e. is it stored as a keyword and hence
doesn't need parsing?

For the other fields I recommend trying out the
DistributingMultiFieldQueryParser class, which isn't in the main distro
yet but can be found here:

http://issues.apache.org/bugzilla/show_bug.cgi?id=32674

It handles all the awkward bits of making sure all fields are searched
correctly. 

Then combine the two query objects in a BooleanQuery.

-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12243-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 10:21:27 2005
Return-Path: <lucene-user-return-12243-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53439 invoked from network); 5 Jan 2005 10:21:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 10:21:27 -0000
Received: (qmail 79233 invoked by uid 500); 5 Jan 2005 10:20:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79204 invoked by uid 500); 5 Jan 2005 10:20:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79191 invoked by uid 99); 5 Jan 2005 10:20:46 -0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.apis-ca.fr) (195.101.98.17)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 02:20:43 -0800
In-Reply-To: <1104920242.3383.17.camel@goose.milesbarr.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: =?ISO-8859-1?Q?R=E9f=2E_=3A_Re=3A_R=E9f=2E_=3A_Re=3A_do_a_simple_search?=
MIME-Version: 1.0
X-Mailer: Lotus Notes Release 6.5.1 January 21, 2004
From: Stephane.Giner@apis-ca.fr
Message-ID: <OF69F4D18A.938C1F7D-ONC1256F80.0038C3C6-C1256F80.0038D1F5@apis-ca.fr>
Date: Wed, 5 Jan 2005 11:21:52 +0100
X-MIMETrack: Serialize by Router on neptune/apis(Release 6.5.3|September 14, 2004) at 05/01/2005
 11:21:56,
	Serialize complete at 05/01/2005 11:21:56
Content-Type: multipart/alternative; boundary="=_alternative 0038D195C1256F80_="
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=_alternative 0038D195C1256F80_=
Content-Type: text/plain; charset="US-ASCII"

OK, thanks




On Wed, 2005-01-05 at 10:56 +0100, Stephane.Giner@apis-ca.fr wrote:
> I have alway another field "type" who is the type of the searched 
> document.
> I must change the request to made search like this
> 
>         type=value AND (shortDesc=value OR longDesc=value)
> 
> but I don't know how to do this ?
> 
> here is the query with fields values
> 
> Field name: type
> Field value: product
> Field name: shortDesc
> Field value: toto
> Field name: longDesc
> Field value: toto
> IndexManager query = type:product shortDesc:toto longDesc:toto

For the type field I suggest using a TermQuery. Is the document type
from a list of defined types? i.e. is it stored as a keyword and hence
doesn't need parsing?

For the other fields I recommend trying out the
DistributingMultiFieldQueryParser class, which isn't in the main distro
yet but can be found here:

http://issues.apache.org/bugzilla/show_bug.cgi?id=32674

It handles all the awkward bits of making sure all fields are searched
correctly. 

Then combine the two query objects in a BooleanQuery.

-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



--=_alternative 0038D195C1256F80_=--

From lucene-user-return-12244-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 10:24:30 2005
Return-Path: <lucene-user-return-12244-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54560 invoked from network); 5 Jan 2005 10:24:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 10:24:30 -0000
Received: (qmail 84426 invoked by uid 500); 5 Jan 2005 10:22:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84212 invoked by uid 500); 5 Jan 2005 10:22:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83675 invoked by uid 99); 5 Jan 2005 10:22:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 02:22:19 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id C171A23C42
	for <lucene-user@jakarta.apache.org>; Wed,  5 Jan 2005 11:23:39 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 08627-01 for <lucene-user@jakarta.apache.org>;
 Wed,  5 Jan 2005 11:23:39 +0100 (CET)
Received: from tucholsky (tucholsky.office.tanto.de [10.0.0.35])
	by mail.tanto.de (Postfix) with ESMTP id 35B1923C4C
	for <lucene-user@jakarta.apache.org>; Wed,  5 Jan 2005 11:15:52 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky (8.12.3/8.12.3/Debian-6.6) with ESMTP id j05AEP2f005945
	for <lucene-user@jakarta.apache.org>; Wed, 5 Jan 2005 11:14:25 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id j05AEPnp005941;
	Wed, 5 Jan 2005 11:14:25 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16859.48640.948528.481729@tanto-xipolis.de>
Date: Wed, 5 Jan 2005 11:14:24 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: =?ISO-8859-1?Q?R=E9f=2E_=3A_Re=3A_do_a_simple_search?=
In-Reply-To: <OF449885C9.A2799099-ONC1256F80.003593F2-C1256F80.003676CA@apis-ca.fr>
References: <9293480F-5EFC-11D9-B175-000393A564E6@ehatchersolutions.com>
	<OF449885C9.A2799099-ONC1256F80.003593F2-C1256F80.003676CA@apis-ca.fr>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Stephane.Giner@apis-ca.fr writes:
> I must change the request to made search like this
> 
>         type=value AND (shortDesc=value OR longDesc=value)
> 
> but I don't know how to do this ?
> 
create a boolean query for (shortDesc=value OR longDesc=value)
(as you do so far) and create another boolean query adding that boolean
query and the query for type:product.
For the latter use add(<query>, true, false) to make both subqueries
required.

HTH
	Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12245-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 10:49:59 2005
Return-Path: <lucene-user-return-12245-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68377 invoked from network); 5 Jan 2005 10:49:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 10:49:58 -0000
Received: (qmail 65693 invoked by uid 500); 5 Jan 2005 10:49:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65624 invoked by uid 500); 5 Jan 2005 10:49:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65560 invoked by uid 99); 5 Jan 2005 10:49:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 02:49:04 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 1F8D613E20ED; Wed,  5 Jan 2005 05:48:58 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 0865113E200A
	for <lucene-user@jakarta.apache.org>; Wed,  5 Jan 2005 05:48:45 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <24CFCE44DCB015489FB96D38BDF4FCAA0710D1@gerard.anchormen.nl>
References: <24CFCE44DCB015489FB96D38BDF4FCAA0710D1@gerard.anchormen.nl>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <5D89C4B4-5F07-11D9-B175-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: searching while indexing.
Date: Wed, 5 Jan 2005 05:48:42 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.7 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 5, 2005, at 5:12 AM, Peter Veentjer - Anchor Men wrote:

> -----Oorspronkelijk bericht-----
> Van: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Verzonden: woensdag 5 januari 2005 10:58
> Aan: Lucene Users List
> Onderwerp: Re: searching while indexing.
>
> There are no problems searching while indexing.  How are you
> experiencing otherwise?  What error do you get?
>
> I have experienced (lock) problems if I use a Reader and Writer (on the
> same index-directory) at the same time. My application is multithreaded
> (a pool of worker threads for the webrequests) and a scheduledworker
> thread for signaling changes (new (normal) files, changed files and
> removed files) and updating the index.
>
> And I`m not the only one experiencing this problem... It ( Reader and
> Writer open at the same time) has been mentioned on mailinglist quite a
> few times.

Is your IndexReader doing deletes?  That is the only time it locks the 
index (because that is essentially a write operation).  If you're 
purely searching with the reader it should work fine with a writer 
concurrently.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12246-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 10:58:03 2005
Return-Path: <lucene-user-return-12246-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71787 invoked from network); 5 Jan 2005 10:58:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 10:58:03 -0000
Received: (qmail 87505 invoked by uid 500); 5 Jan 2005 10:57:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87465 invoked by uid 500); 5 Jan 2005 10:57:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87387 invoked by uid 99); 5 Jan 2005 10:57:08 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from mail.anchormen.nl (HELO mail.anchormen.nl) (212.83.242.16)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 02:57:05 -0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: searching while indexing.
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Date: Wed, 5 Jan 2005 11:57:01 +0100
Message-ID: <24CFCE44DCB015489FB96D38BDF4FCAA0710D2@gerard.anchormen.nl>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: searching while indexing.
thread-index: AcTzFEAwvtJdRIhLQMWNCT0EUj53vQAAGX3g
From: "Peter Veentjer - Anchor Men" <p.veentjer@anchormen.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>>Is your IndexReader doing deletes? =20
Yes.. I have to remove the documents I`m going to update from the
Reader.=20

>>That is the only time it locks the index (because that is essentially=20
>>a write operation).  If you're purely searching with the reader it=20
>>should work fine with a writer concurrently.

Ok, I understand why there are problems. But how can I fix this problem?
I have to update documents, so how can I do this without deleting
documents from the Reader? I don`t want to add the same document twice.=20

This is a problem many users of Lucene will face.. Could you please add
a good explanation to the FAQ?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12247-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 11:05:18 2005
Return-Path: <lucene-user-return-12247-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75586 invoked from network); 5 Jan 2005 11:05:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 11:05:18 -0000
Received: (qmail 2963 invoked by uid 500); 5 Jan 2005 11:03:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2665 invoked by uid 500); 5 Jan 2005 11:03:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2189 invoked by uid 99); 5 Jan 2005 11:03:22 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail02.internetmailserver.net (HELO mail01.internetmailserver.net) (64.79.161.46)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 05 Jan 2005 03:03:19 -0800
Received: (qmail 18694 invoked by uid 89); 5 Jan 2005 11:03:12 -0000
Received: from unknown (HELO webmail.codeintime.com) (192.168.100.126)
  by mail01.internetmailserver.net with SMTP; 5 Jan 2005 11:03:12 -0000
Received: from 144.136.135.234
        (SquirrelMail authenticated user aneesha@codeintime.com);
        by webmail.codeintime.com with HTTP;
        Wed, 5 Jan 2005 03:03:12 -0800 (PST)
Message-ID: <1304.144.136.135.234.1104922992.squirrel@144.136.135.234>
Date: Wed, 5 Jan 2005 03:03:12 -0800 (PST)
Subject: Advice on indexing content from a database 
From: aneesha@codeintime.com
To: lucene-user@jakarta.apache.org
User-Agent: SquirrelMail/1.4.3a
X-Mailer: SquirrelMail/1.4.3a
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

I'm working on integrating lucene with a cms. All the data is stored in a
database. I'm looking at about 2 million records. Any advice on an
effective technique to index this (incrementally or using threads) that
would not overload my server.

Thanks

Aneesha


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12248-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 11:13:47 2005
Return-Path: <lucene-user-return-12248-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80051 invoked from network); 5 Jan 2005 11:13:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 11:13:47 -0000
Received: (qmail 27646 invoked by uid 500); 5 Jan 2005 11:13:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27489 invoked by uid 500); 5 Jan 2005 11:13:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27412 invoked by uid 99); 5 Jan 2005 11:13:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.bayt.net (HELO mail.bayt.net) (216.176.57.91)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 03:13:10 -0800
Received: from [192.168.1.24] [213.132.40.2] by mail.bayt.net with ESMTP
  (SMTPD32-8.14) id ADB7B1E00D0; Wed, 05 Jan 2005 06:21:27 -0500
Message-ID: <41DBCBAF.6010204@bayt.net>
Date: Wed, 05 Jan 2005 15:12:47 +0400
From: Nader Henein <nsh@bayt.net>
Reply-To:  nsh@bayt.net
Organization: Bayt.com
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Advice on indexing content from a database
References: <1304.144.136.135.234.1104922992.squirrel@144.136.135.234>
In-Reply-To: <1304.144.136.135.234.1104922992.squirrel@144.136.135.234>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hibernate + Lucene,

Use Hibernate to read from your DB, this will pull out the data you need 
in nice and clean objects, and then loop through your object collection 
and create Lucene documents, you can add Quartz to the equation and have 
this process run scheduled on chunks of your data till it's all been 
indexed and then continue on with incremental updates / deletes.



Nader Henein

aneesha@codeintime.com wrote:

>Hi
>
>I'm working on integrating lucene with a cms. All the data is stored in a
>database. I'm looking at about 2 million records. Any advice on an
>effective technique to index this (incrementally or using threads) that
>would not overload my server.
>
>Thanks
>
>Aneesha
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12249-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 11:16:29 2005
Return-Path: <lucene-user-return-12249-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81422 invoked from network); 5 Jan 2005 11:16:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 11:16:29 -0000
Received: (qmail 31213 invoked by uid 500); 5 Jan 2005 11:14:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31059 invoked by uid 500); 5 Jan 2005 11:14:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30858 invoked by uid 99); 5 Jan 2005 11:14:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 03:14:17 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id D100023BF4
	for <lucene-user@jakarta.apache.org>; Wed,  5 Jan 2005 12:15:38 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 10096-10 for <lucene-user@jakarta.apache.org>;
 Wed,  5 Jan 2005 12:15:38 +0100 (CET)
Received: from tucholsky (tucholsky.office.tanto.de [10.0.0.35])
	by mail.tanto.de (Postfix) with ESMTP id 97D6923BC8
	for <lucene-user@jakarta.apache.org>; Wed,  5 Jan 2005 12:15:38 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky (8.12.3/8.12.3/Debian-6.6) with ESMTP id j05BEB2f007664
	for <lucene-user@jakarta.apache.org>; Wed, 5 Jan 2005 12:14:11 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-6.6) id j05BEBrP007660;
	Wed, 5 Jan 2005 12:14:11 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16859.52227.266179.628524@tanto-xipolis.de>
Date: Wed, 5 Jan 2005 12:14:11 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: searching while indexing.
In-Reply-To: <24CFCE44DCB015489FB96D38BDF4FCAA0710D2@gerard.anchormen.nl>
References: <24CFCE44DCB015489FB96D38BDF4FCAA0710D2@gerard.anchormen.nl>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Peter Veentjer - Anchor Men writes:
> >>Is your IndexReader doing deletes?  
> Yes.. I have to remove the documents I`m going to update from the
> Reader. 
> 
> >>That is the only time it locks the index (because that is essentially 
> >>a write operation).  If you're purely searching with the reader it 
> >>should work fine with a writer concurrently.
> 
> Ok, I understand why there are problems. But how can I fix this problem?
> I have to update documents, so how can I do this without deleting
> documents from the Reader? I don`t want to add the same document twice. 
> 
You have to bundle all writes at one point and serialize deletions and
imports.
That is:
open a reader for deleting
delete the documents to be deleted
close that reader
open a writer for adding content
add documents
close that writer
begin at start.

It's up to you, whether you open a reader to delete single documents and
a writer for adding a single document or use batches of several documents,
but you cannot escape the need to serialize the writes.

HTH
	Morus



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12250-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 11:39:24 2005
Return-Path: <lucene-user-return-12250-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92174 invoked from network); 5 Jan 2005 11:39:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 11:39:24 -0000
Received: (qmail 94162 invoked by uid 500); 5 Jan 2005 11:37:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93753 invoked by uid 500); 5 Jan 2005 11:37:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93274 invoked by uid 99); 5 Jan 2005 11:37:18 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=HTML_40_50,HTML_MESSAGE,HTML_TEXT_AFTER_BODY,HTML_TEXT_AFTER_HTML
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from m3.amdocs.com (HELO koutmail.amdocs.com) (212.179.127.169)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 03:36:56 -0800
Received: from omail2.amdocs.com ([212.179.127.133])
	by koutmail.amdocs.com (8.12.11/8.12.9) with ESMTP id j05BS1X3017201
	for <lucene-user@jakarta.apache.org>; Wed, 5 Jan 2005 13:28:01 +0200
Received: from tlvmail7.corp.amdocs.com (localhost.localdomain [127.0.0.1])
	by omail2.amdocs.com (8.12.11/8.12.11) with ESMTP id j05BadtD000494
	for <lucene-user@jakarta.apache.org>; Wed, 5 Jan 2005 13:36:39 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C4F31A.D3252FD4"
Subject: simultaneous index/search/delete 
Date: Wed, 5 Jan 2005 13:36:41 +0200
Message-ID: <77D8711AC919F24FBB698EE60D6034A80D1123@tlvmail7.corp.amdocs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: simultaneous index/search/delete 
Thread-Index: AcTzGpechF5t/9KnTH+Nyi6FdEHJEQ==
From: "Alex Kiselevski" <ALEXKIS@Amdocs.com>
To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4F31A.D3252FD4
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable


Concerning the question about simultaneous index/search/delete :
Do i have to put synchronized on methods that call  to API functions of
index/search/delete=0D


The information contained in this message is proprietary of Amdocs,
protected from disclosure, and may be privileged.
The information is intended to be conveyed only to the designated=
 recipient(s)
of the message. If the reader of this message is not the intended=
 recipient,
you are hereby notified that any dissemination, use, distribution or=
 copying of=0D
this communication is strictly prohibited and may be unlawful.=0D
If you have received this communication in error, please notify us=
 immediately
by replying to the message and deleting it from your computer.
Thank you.
------_=_NextPart_001_01C4F31A.D3252FD4--

From lucene-user-return-12251-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 12:09:16 2005
Return-Path: <lucene-user-return-12251-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5282 invoked from network); 5 Jan 2005 12:09:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 12:09:16 -0000
Received: (qmail 78584 invoked by uid 500); 5 Jan 2005 12:08:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77817 invoked by uid 500); 5 Jan 2005 12:07:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77006 invoked by uid 99); 5 Jan 2005 12:07:35 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.fib.upc.es (HELO mail.fib.upc.es) (147.83.41.105)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 04:06:53 -0800
Received: from fib.upc.edu (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id 2063AC9A52
	for <lucene-user@jakarta.apache.org>; Wed,  5 Jan 2005 13:06:37 +0100 (CET)
Message-ID: <41DBD84C.9010901@fib.upc.edu>
Date: Wed, 05 Jan 2005 13:06:36 +0100
From: Daniel Cortes <dcortes@fib.upc.edu>
Organization: FIB
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.0.2) Gecko/20021120 Netscape/7.01
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: PDFBox deprecated methods
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've been use PDFBox in my indexation of a directory . I've download  
the last version of  PDFBox (0.6.7.a) and I've seen that the method that 
I use to extract
was a deprecated method. PDFTextStripper.getText().
stripper.getText(new PDDocument(cosDoc));
I know a lot of person use same me this method. What  are alternative 
options ?



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12252-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 12:38:24 2005
Return-Path: <lucene-user-return-12252-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19515 invoked from network); 5 Jan 2005 12:38:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 12:38:24 -0000
Received: (qmail 55657 invoked by uid 500); 5 Jan 2005 12:36:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55464 invoked by uid 500); 5 Jan 2005 12:36:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55396 invoked by uid 99); 5 Jan 2005 12:36:51 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.fib.upc.es (HELO mail.fib.upc.es) (147.83.41.105)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 04:36:42 -0800
Received: from fib.upc.edu (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id BEBA7C9A4D
	for <lucene-user@jakarta.apache.org>; Wed,  5 Jan 2005 13:36:27 +0100 (CET)
Message-ID: <41DBDF4B.7000502@fib.upc.edu>
Date: Wed, 05 Jan 2005 13:36:27 +0100
From: Daniel Cortes <dcortes@fib.upc.edu>
Organization: FIB
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.0.2) Gecko/20021120 Netscape/7.01
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: PDFBox deprecated methods
References: <41DBD84C.9010901@fib.upc.edu>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ok I reply myself
the method deprecated is .getText(Cos Document))
if you do stripper.getText(new PDDocument(cosDoc)) there isn't any problem.


Excuse me, for the question


Daniel Cortes wrote:

> I've been use PDFBox in my indexation of a directory . I've download  
> the last version of  PDFBox (0.6.7.a) and I've seen that the method 
> that I use to extract
> was a deprecated method. PDFTextStripper.getText().
> stripper.getText(new PDDocument(cosDoc));
> I know a lot of person use same me this method. What  are alternative 
> options ?
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12253-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 13:43:56 2005
Return-Path: <lucene-user-return-12253-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48702 invoked from network); 5 Jan 2005 13:43:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 13:43:56 -0000
Received: (qmail 26519 invoked by uid 500); 5 Jan 2005 13:42:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26418 invoked by uid 500); 5 Jan 2005 13:42:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26300 invoked by uid 99); 5 Jan 2005 13:42:40 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr3.xs4all.nl (HELO smtp-vbr3.xs4all.nl) (194.109.24.23)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 05:42:28 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr3.xs4all.nl (8.12.11/8.12.11) with ESMTP id j05DgB2u018942
	for <lucene-user@jakarta.apache.org>; Wed, 5 Jan 2005 14:42:11 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: searching while indexing.
Date: Wed, 5 Jan 2005 14:42:10 +0100
User-Agent: KMail/1.5.4
References: <24CFCE44DCB015489FB96D38BDF4FCAA0710D2@gerard.anchormen.nl> <16859.52227.266179.628524@tanto-xipolis.de>
In-Reply-To: <16859.52227.266179.628524@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200501051442.11039.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday 05 January 2005 12:14, Morus Walter wrote:
> Peter Veentjer - Anchor Men writes:
> > >>Is your IndexReader doing deletes?  
> > Yes.. I have to remove the documents I`m going to update from the
> > Reader. 
> > 
> > >>That is the only time it locks the index (because that is essentially 
> > >>a write operation).  If you're purely searching with the reader it 
> > >>should work fine with a writer concurrently.
> > 
> > Ok, I understand why there are problems. But how can I fix this problem?
> > I have to update documents, so how can I do this without deleting
> > documents from the Reader? I don`t want to add the same document twice. 
> > 
> You have to bundle all writes at one point and serialize deletions and
> imports.
> That is:
> open a reader for deleting
> delete the documents to be deleted
> close that reader
> open a writer for adding content
> add documents
> close that writer
> begin at start.
> 
> It's up to you, whether you open a reader to delete single documents and
> a writer for adding a single document or use batches of several documents,
> but you cannot escape the need to serialize the writes.

And while this updating is going on, you can keep another reader open for
searching, it will not be affected by the updates.
After all updates are done, close that reader and reopen
another one to see the updates.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12254-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 15:04:02 2005
Return-Path: <lucene-user-return-12254-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11707 invoked from network); 5 Jan 2005 15:04:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 15:04:02 -0000
Received: (qmail 56574 invoked by uid 500); 5 Jan 2005 15:03:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56484 invoked by uid 500); 5 Jan 2005 15:03:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56438 invoked by uid 99); 5 Jan 2005 15:03:25 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of ben@csh.rit.edu designates 129.21.60.6 as permitted sender)
Received: from blacksheep.csh.rit.edu (HELO blacksheep.csh.rit.edu) (129.21.60.6)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 07:03:21 -0800
Received: from tempest.csh.rit.edu (unknown [IPv6:2001:470:1f00:135:a00:20ff:fe80:500d])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id E04FC9383
	for <lucene-user@jakarta.apache.org>; Wed,  5 Jan 2005 10:03:18 -0500 (EST)
Received: by tempest.csh.rit.edu (Postfix, from userid 60001)
	id B69E433940; Wed,  5 Jan 2005 10:03:18 -0500 (EST)
Received: from pion.ext.useastgw.xerox.com (pion.ext.useastgw.xerox.com [13.13.137.1]) 
	by members.csh.rit.edu (IMP) with HTTP 
	for <ben@imap.csh.rit.edu>; Wed,  5 Jan 2005 10:03:18 -0500
Message-ID: <1104937398.41dc01b669d54@members.csh.rit.edu>
Date: Wed,  5 Jan 2005 10:03:18 -0500
From: ben@csh.rit.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: PDFBox deprecated methods
References: <41DBD84C.9010901@fib.upc.edu> <41DBDF4B.7000502@fib.upc.edu>
In-Reply-To: <41DBDF4B.7000502@fib.upc.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.2.1
X-Originating-IP: 13.13.137.1
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Daniel,

Yes, that getText( PDDocument ) is the method you should be using.

You no longer need to use a COSDocument object, please note the following 
methods that go along with the deprecation of getText( COSDocument )

PDFParser.getPDDocument() - to get a PDDocument instead of a COSDocument after 
parsing
PDDocument.load() - A convenience method that does all the PDFParser stuff and 
returns a PDDocument
LucenePDFDocument.getDocument() - to go straight from a File/URL to a lucene 
document object


Ben


Quoting Daniel Cortes <dcortes@fib.upc.edu>:

> Ok I reply myself
> the method deprecated is .getText(Cos Document))
> if you do stripper.getText(new PDDocument(cosDoc)) there isn't any problem.
> 
> 
> Excuse me, for the question
> 
> 
> Daniel Cortes wrote:
> 
> > I've been use PDFBox in my indexation of a directory . I've download  
> > the last version of  PDFBox (0.6.7.a) and I've seen that the method 
> > that I use to extract
> > was a deprecated method. PDFTextStripper.getText().
> > stripper.getText(new PDDocument(cosDoc));
> > I know a lot of person use same me this method. What  are alternative 
> > options ?
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 




-------------------------------------------------
This mail sent through IMP: http://horde.org/imp/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12255-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 16:21:45 2005
Return-Path: <lucene-user-return-12255-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87823 invoked from network); 5 Jan 2005 16:21:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 16:21:41 -0000
Received: (qmail 79112 invoked by uid 500); 5 Jan 2005 16:15:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78919 invoked by uid 500); 5 Jan 2005 16:15:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78888 invoked by uid 99); 5 Jan 2005 16:15:30 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12701.mail.yahoo.com (HELO web12701.mail.yahoo.com) (216.136.173.238)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 05 Jan 2005 08:15:11 -0800
Received: (qmail 14544 invoked by uid 60001); 5 Jan 2005 16:14:56 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=hpmzSe6y7NPVFT2OO6xePaSeskGPGrm1xHRl48utJiLZJ0MG7ilu/mbJa3Y/pSkdoarhg93Q94CbZVnpa76mcvzGIXQOrFpZVGHlnMXc+7thus5LNsC1UEDrY95/B6yvXu1+tvziIHiIMEivg1mhqoEGtedL40YPahKbDDQ5Te8=  ;
Message-ID: <20050105161456.14542.qmail@web12701.mail.yahoo.com>
Received: from [69.201.130.95] by web12701.mail.yahoo.com via HTTP; Wed, 05 Jan 2005 08:14:56 PST
Date: Wed, 5 Jan 2005 08:14:56 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: simultaneous index/search/delete 
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <77D8711AC919F24FBB698EE60D6034A80D1123@tlvmail7.corp.amdocs.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Any index-modifying operations need to be serializes.  Searching is
read-only and can be done in parallel with anything else. See
http://www.lucenebook.com/search?query=concurrent for some hints.

Otis


--- Alex Kiselevski <ALEXKIS@Amdocs.com> wrote:

> 
> Concerning the question about simultaneous index/search/delete :
> Do i have to put synchronized on methods that call  to API functions
> of
> index/search/delete
> 
> 
> The information contained in this message is proprietary of Amdocs,
> protected from disclosure, and may be privileged.
> The information is intended to be conveyed only to the designated
> recipient(s)
> of the message. If the reader of this message is not the intended
> recipient,
> you are hereby notified that any dissemination, use, distribution or
> copying of
> this communication is strictly prohibited and may be unlawful.
> If you have received this communication in error, please notify us
> immediately
> by replying to the message and deleting it from your computer.
> Thank you.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12256-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 17:31:17 2005
Return-Path: <lucene-user-return-12256-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44862 invoked from network); 5 Jan 2005 17:31:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 17:31:17 -0000
Received: (qmail 5219 invoked by uid 500); 5 Jan 2005 17:26:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5058 invoked by uid 500); 5 Jan 2005 17:26:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4855 invoked by uid 99); 5 Jan 2005 17:26:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc13.comcast.net (HELO rwcrmhc13.comcast.net) (204.127.198.39)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 09:26:24 -0800
Received: from [192.168.168.81] (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc13) with ESMTP
          id <2005010517261101500c6llte>; Wed, 5 Jan 2005 17:26:11 +0000
Message-ID: <41DC2333.6010603@apache.org>
Date: Wed, 05 Jan 2005 09:26:11 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: 1.4.3 breaks 1.4.1 QueryParser functionality
References: <05Jan4.154430pst."58617"@synergy1.parc.xerox.com>
In-Reply-To: <05Jan4.154430pst."58617"@synergy1.parc.xerox.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Bill Janssen wrote:
> Sure, if I wanted to ship different code for each micro-release of
> Lucene (which, you might guess, I don't).  That signature doesn't
> compile with 1.4.1.

Bill, most folks bundle appropriate versions of required jars with their 
applications to avoid this sort of problem.  How are you deploying 
things?  Are you not bundling a compatible version of the lucene jar 
with each release of your application?  If not, why not?

I'm not trying to be difficult, just trying to understand.

Thanks,

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12257-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 18:52:16 2005
Return-Path: <lucene-user-return-12257-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3090 invoked from network); 5 Jan 2005 18:52:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 18:52:14 -0000
Received: (qmail 51913 invoked by uid 500); 5 Jan 2005 18:52:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51854 invoked by uid 500); 5 Jan 2005 18:52:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51677 invoked by uid 99); 5 Jan 2005 18:52:08 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mariella@lanl.gov designates 192.65.95.54 as permitted sender)
Received: from mailwasher.lanl.gov (HELO mailwasher-b.lanl.gov) (192.65.95.54)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 10:52:03 -0800
Received: from mailrelay2.lanl.gov (mailrelay2.lanl.gov [128.165.4.103])
	by mailwasher-b.lanl.gov (8.12.11/8.12.11/(ccn-5)) with ESMTP id j05IqK7k025767
	for <lucene-user@jakarta.apache.org>; Wed, 5 Jan 2005 11:52:20 -0700
Received: from butterfly.lanl.gov (butterfly.lanl.gov [128.165.10.37])
	by mailrelay2.lanl.gov (8.12.11/8.12.11/(ccn-5)) with ESMTP id j05IpwBr030688
	for <lucene-user@jakarta.apache.org>; Wed, 5 Jan 2005 11:51:58 -0700
Message-Id: <5.2.1.1.2.20050105115023.00afc258@cic-mail.lanl.gov>
X-Sender: mariella@cic-mail.lanl.gov (Unverified)
X-Mailer: QUALCOMM Windows Eudora Version 5.2.1
Date: Wed, 05 Jan 2005 11:51:58 -0700
To: lucene-user@jakarta.apache.org
From: Mariella Di Giacomo <mariella@lanl.gov>
Subject: Question about Analyzer and words spelled in different
  languages 
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====================_185504593==.ALT"
X-PMX-Version: 4.7.0.111621
X-PMX-Version: 4.7.0.111621
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=====================_185504593==.ALT
Content-Type: text/plain; charset="iso-8859-1"; format=flowed
Content-Transfer-Encoding: quoted-printable

Hi ALL,


We are trying to index scientic articles written in english, but whose=20
authors can be spelled in any language (depending on the author's=
 nazionality)

E.g.
Sch=E4ffer


In the XML document that we provide to Lucene the author name is written in=
=20
the following way (using HTML ENTITIES)

Sch&amp;auml;ffer

So in practice that is the name that would be given to a Lucene=
 analyzer/filter

Is there any already written analyzer that would take that name=20
(Sch&amp;auml;ffer or any other name that has entities) so that
Lucene index could searched (once the field has been indexed) for the real=
=20
version of the name, which is

Sch=E4ffer

and the english spelled version of the name which is

Schaffer

Thanks a lot in advance for your help,


Mariella

--=====================_185504593==.ALT--



From lucene-user-return-12258-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 18:54:39 2005
Return-Path: <lucene-user-return-12258-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4495 invoked from network); 5 Jan 2005 18:54:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 18:54:39 -0000
Received: (qmail 58222 invoked by uid 500); 5 Jan 2005 18:54:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58193 invoked by uid 500); 5 Jan 2005 18:54:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58174 invoked by uid 99); 5 Jan 2005 18:54:26 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of john.wang@gmail.com designates 64.233.170.198 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 10:54:23 -0800
Received: by rproxy.gmail.com with SMTP id i8so91902rne
        for <lucene-user@jakarta.apache.org>; Wed, 05 Jan 2005 10:54:20 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=ae6w1SmySYCsb5MczpioJqH78IaR0XqRDWL86ayeiEElJiD7VNY2TvK03rzfP8NIjEBnaj8g/bUYg6hHHW26RnjNuXXkV2nyeY5UOTrFwkp5d0bxAUA46nS2QG+8HK8nFrrwHJWzR1qNR+gyzU6VloVWexQEXrz3l6hk/xwys1M=
Received: by 10.38.75.8 with SMTP id x8mr60531rna;
        Wed, 05 Jan 2005 10:54:20 -0800 (PST)
Received: by 10.38.209.68 with HTTP; Wed, 5 Jan 2005 10:54:20 -0800 (PST)
Message-ID: <8837fb770501051054e5c4021@mail.gmail.com>
Date: Wed, 5 Jan 2005 10:54:20 -0800
From: John Wang <john.wang@gmail.com>
Reply-To: John Wang <john.wang@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: multi-threaded thru-put in lucene
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi folks:

    We are trying to measure thru-put lucene in a multi-threaded environment. 

    This is what we found:

     1 thread, search takes 20 ms.

      2 threads, search takes 40 ms.

      5 threads, search takes 100 ms.


     Seems like under a multi-threaded scenario, thru-put isn't good,
performance is not any better than that of 1 thread.

     I tried to share an IndexSearcher amongst all threads as well as
having an IndexSearcher per thread. Both yield same numbers.

     Is this consistent with what you'd expect?

Thanks

-John

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12259-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 20:46:44 2005
Return-Path: <lucene-user-return-12259-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87129 invoked from network); 5 Jan 2005 20:46:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 20:46:44 -0000
Received: (qmail 34201 invoked by uid 500); 5 Jan 2005 20:46:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34175 invoked by uid 500); 5 Jan 2005 20:46:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34162 invoked by uid 99); 5 Jan 2005 20:46:37 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of janssen@parc.com designates 13.1.64.93 as permitted sender)
Received: from alpha.Xerox.COM (HELO alpha.xerox.com) (13.1.64.93)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 05 Jan 2005 12:46:34 -0800
Received: from synergy1.parc.xerox.com ([13.1.101.60]) by alpha.xerox.com with SMTP id <173335(1)>; Wed, 5 Jan 2005 12:46:09 PST
Received: from parc.com ([127.0.0.1]) by synergy1.parc.xerox.com with SMTP id <58617>; Wed, 5 Jan 2005 12:46:07 PST
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: 1.4.3 breaks 1.4.1 QueryParser functionality 
In-Reply-To: Your message of "Wed, 05 Jan 2005 09:26:11 PST."
             <41DC2333.6010603@apache.org> 
Date: Wed, 5 Jan 2005 12:46:00 PST
From: Bill Janssen <janssen@parc.com>
Message-Id: <05Jan5.124607pst."58617"@synergy1.parc.xerox.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug,

My application (see http://www.parc.com/janssen/pubs/TR-03-16.pdf for
details) is not just a Java app (you're probably not surprised :-).
It requires about a dozen other packages to be installed on a machine,
before building from source.  The Python Imaging Library, ReportLab,
libtiff, libpng, xpdf, htmldoc, etc.  Lucene is one of these
prerequisites.  I don't include any other outside code with my tar
file; not sure why Lucene should be the only one to require this.

Besides, I'd like to keep up with the continuous improvements in
Lucene.  I don't want to be stuck with 1.4.1 forever.

Please understand that I'm not trying to push your project in any
particular direction.  I'm just trying to understand whether Lucene is
usable for my project.  If every micro-release of Lucene means that I
will potentially have to re-write my code, I may have to look for a
library with a more stable API.

Maybe I just misunderstand your release numbering policy.  Typically,
in a library project that has major, minor, and micro release numbers,
I'd expect no API changes between micro releases of a single minor
release; only backward-compatible API extensions between different
minor releases of a single major release; possible wholesale API
changes (not backward compatible) between different major releases.
Is this the kind of thinking that you also have?

I can certainly understand that when you find improvements you'd like
to make in the API, you'd want to put them in.  I just think it's
important not to break existing code without bumping the release
number, so that a user can say, "This works with Lucene 1.4".  Right
now, that can't be said.

Bill

Doug Cutting wrote:
> Bill, most folks bundle appropriate versions of required jars with their 
> applications to avoid this sort of problem.  How are you deploying 
> things?  Are you not bundling a compatible version of the lucene jar 
> with each release of your application?  If not, why not?

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12260-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 20:49:26 2005
Return-Path: <lucene-user-return-12260-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89133 invoked from network); 5 Jan 2005 20:49:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 20:49:25 -0000
Received: (qmail 41253 invoked by uid 500); 5 Jan 2005 20:49:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41233 invoked by uid 500); 5 Jan 2005 20:49:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41218 invoked by uid 99); 5 Jan 2005 20:49:17 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of janssen@parc.com designates 13.1.64.93 as permitted sender)
Received: from alpha.Xerox.COM (HELO alpha.xerox.com) (13.1.64.93)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 05 Jan 2005 12:49:14 -0800
Received: from synergy1.parc.xerox.com ([13.1.101.60]) by alpha.xerox.com with SMTP id <173342(1)>; Wed, 5 Jan 2005 12:48:29 PST
Received: from parc.com ([127.0.0.1]) by synergy1.parc.xerox.com with SMTP id <58617>; Wed, 5 Jan 2005 12:48:22 PST
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: 1.4.3 breaks 1.4.1 QueryParser functionality 
In-Reply-To: Your message of "Wed, 05 Jan 2005 02:04:42 PST."
             <38196246-5F01-11D9-B175-000393A564E6@ehatchersolutions.com> 
Date: Wed, 5 Jan 2005 12:48:18 PST
From: Bill Janssen <janssen@parc.com>
Message-Id: <05Jan5.124822pst."58617"@synergy1.parc.xerox.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

In 1.4.1 or 1.4.3?

> On Jan 4, 2005, at 9:43 PM, Bill Janssen wrote:
> > Let me be a bit more explicit.  My method (essentially an
> > after-method, for those Lisp'rs out there) begins thusly:
> >
> >     protected Query getFieldQuery (String field,
> > 				   Analyzer a,
> >                                    String queryText)
> >         throws ParseException {
> >
> >           Query x = super.getFieldQuery(field, a, queryText);
> >
> > 	  ...
> > 	}
> >
> > If I remove the "Analyzer a" from both the signature and the super
> > call, the super call won't compile because that method isn't in the
> > QueryParser in 1.4.1.  But my getFieldQuery() method won't even be
> > called in 1.4.1, because it doesn't exist in that version of the
> > QueryParser.
> 
> Will it work if you override this method also?
> 
> protected Query getFieldQuery(String field,
>                                Analyzer analyzer,
>                                String queryText,
>                                int slop)
> 
> 	Erik

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12261-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 21:09:34 2005
Return-Path: <lucene-user-return-12261-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1305 invoked from network); 5 Jan 2005 21:09:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 21:09:34 -0000
Received: (qmail 862 invoked by uid 500); 5 Jan 2005 21:09:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 824 invoked by uid 500); 5 Jan 2005 21:09:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 782 invoked by uid 99); 5 Jan 2005 21:09:22 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork10.mail.Virginia.EDU (HELO fork10.mail.virginia.edu) (128.143.2.180)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 13:09:19 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork10.mail.virginia.edu (Postfix) with ESMTP id F1F021F523B
	for <lucene-user@jakarta.apache.org>; Wed,  5 Jan 2005 16:09:14 -0500 (EST)
Received: from fork10.mail.virginia.edu ([127.0.0.1])
 by localhost (fork10.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 16162-07 for <lucene-user@jakarta.apache.org>;
 Wed,  5 Jan 2005 16:09:14 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork10.mail.virginia.edu (Postfix) with ESMTP id C39F81F51B4
	for <lucene-user@jakarta.apache.org>; Wed,  5 Jan 2005 16:09:14 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <05Jan5.124822pst."58617"@synergy1.parc.xerox.com>
References: <05Jan5.124822pst."58617"@synergy1.parc.xerox.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <20DE237C-5F5E-11D9-A8AA-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: 1.4.3 breaks 1.4.1 QueryParser functionality 
Date: Wed, 5 Jan 2005 16:09:46 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork10.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 5, 2005, at 3:48 PM, Bill Janssen wrote:
> In 1.4.1 or 1.4.3?

Both - my suggestion was an attempt to get you something that would 
work in both versions.

	Erik

>
>> On Jan 4, 2005, at 9:43 PM, Bill Janssen wrote:
>>> Let me be a bit more explicit.  My method (essentially an
>>> after-method, for those Lisp'rs out there) begins thusly:
>>>
>>>     protected Query getFieldQuery (String field,
>>> 				   Analyzer a,
>>>                                    String queryText)
>>>         throws ParseException {
>>>
>>>           Query x = super.getFieldQuery(field, a, queryText);
>>>
>>> 	  ...
>>> 	}
>>>
>>> If I remove the "Analyzer a" from both the signature and the super
>>> call, the super call won't compile because that method isn't in the
>>> QueryParser in 1.4.1.  But my getFieldQuery() method won't even be
>>> called in 1.4.1, because it doesn't exist in that version of the
>>> QueryParser.
>>
>> Will it work if you override this method also?
>>
>> protected Query getFieldQuery(String field,
>>                                Analyzer analyzer,
>>                                String queryText,
>>                                int slop)
>>
>> 	Erik
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12262-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 21:12:55 2005
Return-Path: <lucene-user-return-12262-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3491 invoked from network); 5 Jan 2005 21:12:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 21:12:55 -0000
Received: (qmail 11931 invoked by uid 500); 5 Jan 2005 21:12:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11903 invoked by uid 500); 5 Jan 2005 21:12:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11886 invoked by uid 99); 5 Jan 2005 21:12:40 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork7.mail.Virginia.EDU (HELO fork7.mail.virginia.edu) (128.143.2.177)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 13:12:36 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id E43D21F53CC
	for <lucene-user@jakarta.apache.org>; Wed,  5 Jan 2005 16:12:33 -0500 (EST)
Received: from fork7.mail.virginia.edu ([127.0.0.1])
 by localhost (fork7.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 15187-09 for <lucene-user@jakarta.apache.org>;
 Wed,  5 Jan 2005 16:12:33 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id 8B06F1F53BB
	for <lucene-user@jakarta.apache.org>; Wed,  5 Jan 2005 16:12:33 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <05Jan5.124607pst."58617"@synergy1.parc.xerox.com>
References: <05Jan5.124607pst."58617"@synergy1.parc.xerox.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <972D88A8-5F5E-11D9-A8AA-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: 1.4.3 breaks 1.4.1 QueryParser functionality 
Date: Wed, 5 Jan 2005 16:13:05 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork7.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 5, 2005, at 3:46 PM, Bill Janssen wrote:
> Maybe I just misunderstand your release numbering policy.  Typically,
> in a library project that has major, minor, and micro release numbers,
> I'd expect no API changes between micro releases of a single minor
> release; only backward-compatible API extensions between different
> minor releases of a single major release; possible wholesale API
> changes (not backward compatible) between different major releases.
> Is this the kind of thinking that you also have?

Yes, absolutely.  The flaw you have stumbled on was completely an 
oversight and a mistake that should not have occurred.  I, for one, 
apologize for not catching it.  Only because I have custom QueryParser 
subclasses and lots of unit tests did I catch the signature changes 
that I did, and I'm not sure how I missed this one.  I have not gone 
back, yet, to review the change history and whether my code is broken 
in one of those versions of Lucene, or whether I've not overridden that 
method.

In short - we screwed up, and we should fix it since its obviously 
important to you.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12263-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 21:13:11 2005
Return-Path: <lucene-user-return-12263-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3604 invoked from network); 5 Jan 2005 21:13:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 21:13:10 -0000
Received: (qmail 12086 invoked by uid 500); 5 Jan 2005 21:12:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12031 invoked by uid 500); 5 Jan 2005 21:12:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11954 invoked by uid 99); 5 Jan 2005 21:12:40 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12702.mail.yahoo.com (HELO web12702.mail.yahoo.com) (216.136.173.239)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 05 Jan 2005 13:12:36 -0800
Received: (qmail 71215 invoked by uid 60001); 5 Jan 2005 21:12:35 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=586XcOCn/lrolOYZdxPEHdHPKBBHdJVLX1hgOnTetQquNeXJFPWxPQMT52u/wZMWbsGx+ppTUj5YccJSD1BxVII8U/UkDCcRVf4nrfeCqursD006LAwul+nPIU9HCRLq+B9CA9Bab1NgsxW/0bshrqQYfd+SuoVmh3uNRtZmkRI=  ;
Message-ID: <20050105211235.71213.qmail@web12702.mail.yahoo.com>
Received: from [69.201.130.95] by web12702.mail.yahoo.com via HTTP; Wed, 05 Jan 2005 13:12:35 PST
Date: Wed, 5 Jan 2005 13:12:35 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: 1.4.3 breaks 1.4.1 QueryParser functionality 
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <05Jan5.124607pst."58617"@synergy1.parc.xerox.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello Bill,

"I feel your pain" ;)
But seriously, there was a QueryParser mess-up in the recent minor
releases.  I think this is the first time we've messed up the backward
compatibility in the last ~4 years, I believe.  Lucene public API is
very 'narrow', and typically very stable.  What we did with QueryParser
was the result of 'overeagerness', but is really out of character for
Lucene.

Otis


--- Bill Janssen <janssen@parc.com> wrote:

> Doug,
> 
> My application (see http://www.parc.com/janssen/pubs/TR-03-16.pdf for
> details) is not just a Java app (you're probably not surprised :-).
> It requires about a dozen other packages to be installed on a
> machine,
> before building from source.  The Python Imaging Library, ReportLab,
> libtiff, libpng, xpdf, htmldoc, etc.  Lucene is one of these
> prerequisites.  I don't include any other outside code with my tar
> file; not sure why Lucene should be the only one to require this.
> 
> Besides, I'd like to keep up with the continuous improvements in
> Lucene.  I don't want to be stuck with 1.4.1 forever.
> 
> Please understand that I'm not trying to push your project in any
> particular direction.  I'm just trying to understand whether Lucene
> is
> usable for my project.  If every micro-release of Lucene means that I
> will potentially have to re-write my code, I may have to look for a
> library with a more stable API.
> 
> Maybe I just misunderstand your release numbering policy.  Typically,
> in a library project that has major, minor, and micro release
> numbers,
> I'd expect no API changes between micro releases of a single minor
> release; only backward-compatible API extensions between different
> minor releases of a single major release; possible wholesale API
> changes (not backward compatible) between different major releases.
> Is this the kind of thinking that you also have?
> 
> I can certainly understand that when you find improvements you'd like
> to make in the API, you'd want to put them in.  I just think it's
> important not to break existing code without bumping the release
> number, so that a user can say, "This works with Lucene 1.4".  Right
> now, that can't be said.
> 
> Bill
> 
> Doug Cutting wrote:
> > Bill, most folks bundle appropriate versions of required jars with
> their 
> > applications to avoid this sort of problem.  How are you deploying 
> > things?  Are you not bundling a compatible version of the lucene
> jar 
> > with each release of your application?  If not, why not?
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12264-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 05 23:32:05 2005
Return-Path: <lucene-user-return-12264-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94374 invoked from network); 5 Jan 2005 23:32:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Jan 2005 23:32:04 -0000
Received: (qmail 79343 invoked by uid 500); 5 Jan 2005 23:31:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79128 invoked by uid 500); 5 Jan 2005 23:31:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79105 invoked by uid 99); 5 Jan 2005 23:31:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from nwkea-mail-1.sun.com (HELO nwkea-mail-1.sun.com) (192.18.42.13)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 15:31:52 -0800
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by nwkea-mail-1.sun.com (8.12.10/8.12.9) with ESMTP id j05NVoiI025458
	for <lucene-user@jakarta.apache.org>; Wed, 5 Jan 2005 15:31:50 -0800 (PST)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0I9V00K01AN2Z3@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Wed, 05 Jan 2005 15:31:50 -0800 (PST)
Received: from [127.0.0.1] (d-mpk24-41-226.SFBay.Sun.COM [129.146.41.226])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0I9V00778AOX1N@ha21sca-mail1.sfbay.sun.com> for
 lucene-user@jakarta.apache.org; Wed, 05 Jan 2005 15:31:50 -0800 (PST)
Date: Wed, 05 Jan 2005 15:31:27 -0800
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Indexing flat files with out .txt extension
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <41DC78CF.1020302@sun.com>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7)
 Gecko/20040616
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

How can one index simple text files with out the .txt extension. I am 
trying to use the IndexFiles and IndexHTML but not to my satisfaction. 
In the IndexFiles I do not get any control over the content of the file 
and in case of IndexHTML the files with out any extension do not get 
index all together. Any pointers are really appreciated.

Thanks.
-H


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12265-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 00:21:34 2005
Return-Path: <lucene-user-return-12265-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16907 invoked from network); 6 Jan 2005 00:21:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 00:21:34 -0000
Received: (qmail 99400 invoked by uid 500); 6 Jan 2005 00:21:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99379 invoked by uid 500); 6 Jan 2005 00:21:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99363 invoked by uid 99); 6 Jan 2005 00:21:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 16:21:26 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 9CE7413E20ED; Wed,  5 Jan 2005 19:21:24 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 06B2613E20EA
	for <lucene-user@jakarta.apache.org>; Wed,  5 Jan 2005 19:21:19 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <41DC78CF.1020302@sun.com>
References: <41DC78CF.1020302@sun.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <E259A3F5-5F78-11D9-9AF4-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Indexing flat files with out .txt extension
Date: Wed, 5 Jan 2005 19:21:18 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.7 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 5, 2005, at 6:31 PM, Hetan Shah wrote:
> How can one index simple text files with out the .txt extension. I am 
> trying to use the IndexFiles and IndexHTML but not to my satisfaction. 
> In the IndexFiles I do not get any control over the content of the 
> file and in case of IndexHTML the files with out any extension do not 
> get index all together. Any pointers are really appreciated.

Try out the Indexer code from Lucene in Action.  You can download it 
from the link here: 
http://www.lucenebook.com/blog/announcements/sourcecode.html

It'll be cleaner to follow and borrow from.  The code that ships with 
Lucene is for demonstration purposes.  It surprises me how often folks 
use that code to build real indexes.  It's quite straightforward to 
create your own Java code to do the indexing in whatever manner you 
like, borrowing from examples.

When you get the download unpacked, simply run "ant Indexer" to see it 
in action.  And then "ant Searcher" to search the index just built.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12266-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 01:19:19 2005
Return-Path: <lucene-user-return-12266-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39745 invoked from network); 6 Jan 2005 01:19:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 01:19:19 -0000
Received: (qmail 80049 invoked by uid 500); 6 Jan 2005 01:19:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80012 invoked by uid 500); 6 Jan 2005 01:19:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79998 invoked by uid 99); 6 Jan 2005 01:19:13 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=DNS_FROM_RFC_WHOIS,FROM_ENDS_IN_NUMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from act-ironport-ext-out1.csiro.au (HELO act-ironport-ext-out1.csiro.au) (150.229.7.37)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 17:19:09 -0800
Received: from exgw1-cbr.nexus.csiro.au (152.83.3.66)
  by act-ironport-ext-out1.csiro.au with ESMTP; 06 Jan 2005 12:19:05 +1100
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAQAAA+k=
X-IronPort-AV: i="3.88,103,1102251600"; 
   d="scan'208"; a="24458762:sNHT20241092"
Received: from EXACTN2-CBR.nexus.csiro.au ([152.83.3.133]) by exgw1-cbr.nexus.csiro.au with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 6 Jan 2005 12:17:46 +1100
Received: from EXSA2-ADL.sa.csiro.au ([144.110.67.52]) by EXACTN2-CBR.nexus.csiro.au with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 6 Jan 2005 12:17:46 +1100
Received: from [144.110.32.63] ([144.110.32.63]) by EXSA2-ADL.sa.csiro.au with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 6 Jan 2005 11:47:45 +1030
Message-ID: <41DC91B9.9040107@csiro.au>
Date: Thu, 06 Jan 2005 11:17:45 +1000
From: Andrew Cunningham <cun063@csiro.au>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Span Query Performance
References: <41DC78CF.1020302@sun.com> <E259A3F5-5F78-11D9-9AF4-000393A564E6@ehatchersolutions.com>
In-Reply-To: <E259A3F5-5F78-11D9-9AF4-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 06 Jan 2005 01:17:45.0725 (UTC) FILETIME=[873062D0:01C4F38D]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all,

I'm currently doing a query similar to the following:

for w in wordset:
    query = w near (word1 V word2 V word3 ... V word1422);
    perform query

and I am doing this through SpanQuery.getSpans(), iterating through the 
spans and counting
the matches, which can result in 4782282 matches (essentially I am only 
after the match count).
The query works but the performance can be somewhat slow; so I am wondering:

a) Would the query potentially run faster if I used 
Searcher.search(query) with a custom similarity,
or do both methods essentially use the same mechanics

b) Does using a RAMDirectory improve query performance any significant 
amount.

c) Is there a faster method to what I am doing I should consider?

Thanks,
Andrew

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12267-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 05:05:04 2005
Return-Path: <lucene-user-return-12267-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50470 invoked from network); 6 Jan 2005 05:05:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 05:05:04 -0000
Received: (qmail 93096 invoked by uid 500); 6 Jan 2005 05:04:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92981 invoked by uid 500); 6 Jan 2005 05:04:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92908 invoked by uid 99); 6 Jan 2005 05:04:44 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of janssen@parc.com designates 13.1.64.93 as permitted sender)
Received: from alpha.Xerox.COM (HELO alpha.xerox.com) (13.1.64.93)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 05 Jan 2005 21:04:41 -0800
Received: from synergy1.parc.xerox.com ([13.1.101.60]) by alpha.xerox.com with SMTP id <173416(2)>; Wed, 5 Jan 2005 21:04:29 PST
Received: from parc.com ([127.0.0.1]) by synergy1.parc.xerox.com with SMTP id <58617>; Wed, 5 Jan 2005 21:04:28 PST
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: 1.4.3 breaks 1.4.1 QueryParser functionality 
In-Reply-To: Your message of "Wed, 05 Jan 2005 13:13:05 PST."
             <972D88A8-5F5E-11D9-A8AA-000A95BC61B6@ehatchersolutions.com> 
Date: Wed, 5 Jan 2005 21:04:28 PST
From: Bill Janssen <janssen@parc.com>
Message-Id: <05Jan5.210428pst."58617"@synergy1.parc.xerox.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> On Jan 5, 2005, at 3:46 PM, Bill Janssen wrote:
> > Maybe I just misunderstand your release numbering policy.  Typically,
> > in a library project that has major, minor, and micro release numbers,
> > I'd expect no API changes between micro releases of a single minor
> > release; only backward-compatible API extensions between different
> > minor releases of a single major release; possible wholesale API
> > changes (not backward compatible) between different major releases.
> > Is this the kind of thinking that you also have?
> 
> Yes, absolutely.  The flaw you have stumbled on was completely an 
> oversight and a mistake that should not have occurred.  I, for one, 
> apologize for not catching it.  Only because I have custom QueryParser 
> subclasses and lots of unit tests did I catch the signature changes 
> that I did, and I'm not sure how I missed this one.  I have not gone 
> back, yet, to review the change history and whether my code is broken 
> in one of those versions of Lucene, or whether I've not overridden that 
> method.

OK, then it's just a bug, and we all make bugs (me probably more than
you, at that).  Thanks for all your help with this, Erik.

Bill

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12268-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 07:39:21 2005
Return-Path: <lucene-user-return-12268-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96411 invoked from network); 6 Jan 2005 07:39:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 07:39:21 -0000
Received: (qmail 72039 invoked by uid 500); 6 Jan 2005 07:39:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71214 invoked by uid 500); 6 Jan 2005 07:39:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71196 invoked by uid 99); 6 Jan 2005 07:39:17 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from artishost.net (HELO artisangel.artishost.net) (69.56.132.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 05 Jan 2005 23:39:12 -0800
Received: from [81.25.36.16] (helo=localhost)
	by artisangel.artishost.net with esmtpa (Exim 4.43)
	id 1CmSET-000898-VH
	for lucene-user@jakarta.apache.org; Thu, 06 Jan 2005 01:39:04 -0600
Date: Thu, 6 Jan 2005 09:39:46 +0200
From: Yura Smolsky <info@altervision.biz>
X-Mailer: The Bat! (v3.0.1.33) Professional
Reply-To: Yura Smolsky <info@altervision.biz>
Organization: AlterVision Web Development Group
X-Priority: 3 (Normal)
Message-ID: <888211257.20050106093946@altervision.biz>
To: lucene-user@jakarta.apache.org
Subject: RemoteSearcher
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Score: 0.0
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - artisangel.artishost.net
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - altervision.biz
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello.

Does anyone know application which based on RemoteSearcher to
distribute index on many servers?

Yura Smolsky,




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12269-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 08:01:45 2005
Return-Path: <lucene-user-return-12269-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3414 invoked from network); 6 Jan 2005 08:01:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 08:01:44 -0000
Received: (qmail 25508 invoked by uid 500); 6 Jan 2005 08:01:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25481 invoked by uid 500); 6 Jan 2005 08:01:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25464 invoked by uid 99); 6 Jan 2005 08:01:36 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 00:01:33 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id CFC075B7AF; Thu,  6 Jan 2005 00:00:36 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id CD0687F467
	for <lucene-user@jakarta.apache.org>; Thu,  6 Jan 2005 00:00:36 -0800 (PST)
Date: Thu, 6 Jan 2005 00:00:36 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Question about Analyzer and words spelled in different  languages
In-Reply-To: <5.2.1.1.2.20050105115023.00afc258@cic-mail.lanl.gov>
Message-ID: <Pine.LNX.4.58.0501052357150.18763@hal.rescomp.berkeley.edu>
References: <5.2.1.1.2.20050105115023.00afc258@cic-mail.lanl.gov>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=iso-8859-1
Content-Transfer-Encoding: QUOTED-PRINTABLE
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


: Is there any already written analyzer that would take that name
: (Sch&amp;auml;ffer or any other name that has entities) so that
: Lucene index could searched (once the field has been indexed) for the rea=
l
: version of the name, which is
:
: Sch=E4ffer
:
: and the english spelled version of the name which is
:
: Schaffer

I don't know about the un-xml-escaping part of things (there are lots
of xml escapng libraries out there, i'm sure one of them has an unescape)
but there was a recent discussion about unicode characters that look
similar and writting an analyzer that could know about them.  the last
message in the thread was from me, pointing out that it should be easy to
build the mapping table once, and then write a quick and dirty Analyzer
filter to use it ... but no one seemed to have any code handy that
allready did that...

http://mail-archives.apache.org/eyebrowse/BrowseList?listName=3Dlucene-user=
@jakarta.apache.org&by=3Dthread&from=3D962022


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12270-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 08:07:13 2005
Return-Path: <lucene-user-return-12270-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5136 invoked from network); 6 Jan 2005 08:07:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 08:07:12 -0000
Received: (qmail 32807 invoked by uid 500); 6 Jan 2005 08:07:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32090 invoked by uid 500); 6 Jan 2005 08:07:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32075 invoked by uid 99); 6 Jan 2005 08:07:08 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 00:07:05 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 4D5B15B787; Thu,  6 Jan 2005 00:06:09 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 4C3877F467
	for <lucene-user@jakarta.apache.org>; Thu,  6 Jan 2005 00:06:09 -0800 (PST)
Date: Thu, 6 Jan 2005 00:06:09 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: multi-threaded thru-put in lucene
In-Reply-To: <8837fb770501051054e5c4021@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0501060001280.18763@hal.rescomp.berkeley.edu>
References: <8837fb770501051054e5c4021@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


:     This is what we found:
:
:      1 thread, search takes 20 ms.
:
:       2 threads, search takes 40 ms.
:
:       5 threads, search takes 100 ms.

how big is your index?  What are the term frequencies like in your index?
how many differnt queries did you try? what was the structure of your
query objects like?  were you using a RAMDirectory or an FSDirectory? what
hardware were you running on?

Is your test application small enough that you can post it to the list?

I haven't done a lot of PMA testing of Lucene, but from what limited
testing i have done I'm a little suprised at those numbers, you'd get
results just as good if you ran the queries sequentially.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12271-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 09:23:07 2005
Return-Path: <lucene-user-return-12271-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60546 invoked from network); 6 Jan 2005 09:23:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 09:23:07 -0000
Received: (qmail 52326 invoked by uid 500); 6 Jan 2005 09:23:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52301 invoked by uid 500); 6 Jan 2005 09:23:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52285 invoked by uid 99); 6 Jan 2005 09:23:03 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr14.xs4all.nl (HELO smtp-vbr14.xs4all.nl) (194.109.24.34)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 01:23:00 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr14.xs4all.nl (8.12.11/8.12.11) with ESMTP id j069Mv4Y045499
	for <lucene-user@jakarta.apache.org>; Thu, 6 Jan 2005 10:22:57 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Span Query Performance
Date: Thu, 6 Jan 2005 10:22:57 +0100
User-Agent: KMail/1.5.4
References: <41DC78CF.1020302@sun.com> <E259A3F5-5F78-11D9-9AF4-000393A564E6@ehatchersolutions.com> <41DC91B9.9040107@csiro.au>
In-Reply-To: <41DC91B9.9040107@csiro.au>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200501061022.57624.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday 06 January 2005 02:17, Andrew Cunningham wrote:
> Hi all,
> 
> I'm currently doing a query similar to the following:
> 
> for w in wordset:
>     query = w near (word1 V word2 V word3 ... V word1422);
>     perform query
> 
> and I am doing this through SpanQuery.getSpans(), iterating through the 
> spans and counting
> the matches, which can result in 4782282 matches (essentially I am only 
> after the match count).
> The query works but the performance can be somewhat slow; so I am wondering:
> 
> a) Would the query potentially run faster if I used 
> Searcher.search(query) with a custom similarity,
> or do both methods essentially use the same mechanics

It would be somewhat slower, because it loops over the getSpans()
and computes document scores and constructs a Hits from the scores.

> b) Does using a RAMDirectory improve query performance any significant 
> amount.

That depends on your operating system, the size of the index, the amount
of RAM you can use, the file buffering efficiency, other loads on the 
computer ...
 
> c) Is there a faster method to what I am doing I should consider?

Preindexing all word combinations that you're interested in.

Regards,
Paul Elschot
 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12272-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 11:45:27 2005
Return-Path: <lucene-user-return-12272-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25315 invoked from network); 6 Jan 2005 11:45:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 11:45:26 -0000
Received: (qmail 55281 invoked by uid 500); 6 Jan 2005 11:45:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54991 invoked by uid 500); 6 Jan 2005 11:45:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54976 invoked by uid 99); 6 Jan 2005 11:45:21 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from maui.ebi.ac.uk (HELO maui.ebi.ac.uk) (193.62.196.100)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 03:45:20 -0800
Received: from [172.22.69.6] (silk.dhcp.ebi.ac.uk [172.22.69.6])
	by maui.ebi.ac.uk (8.11.7+Sun/8.11.7) with ESMTP id j06BjG401406
	for <lucene-user@jakarta.apache.org>; Thu, 6 Jan 2005 11:45:16 GMT
Message-ID: <41DD2502.3010509@ebi.ac.uk>
Date: Thu, 06 Jan 2005 11:46:10 +0000
From: Rupinder Singh Mazara <rsmazara@ebi.ac.uk>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Null Pointer Exception
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-EBI-Information: This email is scanned using www.mailscanner.info.
X-EBI: Found to be clean
X-EBI-SpamCheck: not spam, SpamAssassin (score=0, required 5)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all
  while executing a query  on lucene i get the following execption, if a 
check for the IndexSearcher object == nulll
  or a assert i donot get any errors ?  Please help me out on this . 
java.lang.NullPointerException
        at 
org.apache.lucene.search.IndexSearcher.docFreq(IndexSearcher.java:69)
        at org.apache.lucene.search.Similarity.idf(Similarity.java:255)
        at 
org.apache.lucene.search.TermQuery$TermWeight.sumOfSquaredWeights(TermQuery.java:47)
        at 
org.apache.lucene.search.BooleanQuery$BooleanWeight.sumOfSquaredWeights(BooleanQuery.java:110)
        at org.apache.lucene.search.Query.weight(Query.java:86)
        at 
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:85)

 To access the Searchable object I use the following lines of  code, at 
various places in my web application, all was fine till this morning and
running command line test scripts does not show a error

  public static IndexReader fetchCitationReader(ServletContext context) 
throws IOException {

        IndexReader rval = (IndexReader) 
context.getAttribute("luceneIndexReader");

        if (rval == null) {
            String var = (String) context.getAttribute("luceneRootName");
            System.out.println("var = " + var);
            IndexReader indexReader = IndexReader.open(new File(var));
            context.setAttribute("luceneIndexReader", indexReader);
        }

        return rval;
    }

    public static Searcher fetchCitationSearcher(ServletContext context)
        throws IOException {
        Searcher rval = (Searcher) context.getAttribute("luceneSearchable");

        if (rval == null) {
            rval = new IndexSearcher(fetchCitationReader(context));
            context.setAttribute("luceneSearchable", rval);
        }

        return rval;
    }



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12273-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 12:01:57 2005
Return-Path: <lucene-user-return-12273-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31545 invoked from network); 6 Jan 2005 12:01:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 12:01:57 -0000
Received: (qmail 77897 invoked by uid 500); 6 Jan 2005 12:01:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77531 invoked by uid 500); 6 Jan 2005 12:01:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77518 invoked by uid 99); 6 Jan 2005 12:01:52 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from maui.ebi.ac.uk (HELO maui.ebi.ac.uk) (193.62.196.100)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 04:01:52 -0800
Received: from [172.22.69.6] (silk.dhcp.ebi.ac.uk [172.22.69.6])
	by maui.ebi.ac.uk (8.11.7+Sun/8.11.7) with ESMTP id j06C1l410358
	for <lucene-user@jakarta.apache.org>; Thu, 6 Jan 2005 12:01:47 GMT
Message-ID: <41DD28E1.4090103@ebi.ac.uk>
Date: Thu, 06 Jan 2005 12:02:41 +0000
From: Rupinder Singh Mazara <rsmazara@ebi.ac.uk>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Null Pointer Exception
References: <41DD2502.3010509@ebi.ac.uk>
In-Reply-To: <41DD2502.3010509@ebi.ac.uk>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-EBI-Information: This email is scanned using www.mailscanner.info.
X-EBI: Found to be clean
X-EBI-SpamCheck: not spam, SpamAssassin (score=0, required 5)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Do'H , Please disregard the message
forgot to assign the return value when i create the indexreader


Rupinder Singh Mazara wrote:

> Hi all
>  while executing a query  on lucene i get the following execption, if 
> a check for the IndexSearcher object == nulll
>  or a assert i donot get any errors ?  Please help me out on this . 
> java.lang.NullPointerException
>        at 
> org.apache.lucene.search.IndexSearcher.docFreq(IndexSearcher.java:69)
>        at org.apache.lucene.search.Similarity.idf(Similarity.java:255)
>        at 
> org.apache.lucene.search.TermQuery$TermWeight.sumOfSquaredWeights(TermQuery.java:47) 
>
>        at 
> org.apache.lucene.search.BooleanQuery$BooleanWeight.sumOfSquaredWeights(BooleanQuery.java:110) 
>
>        at org.apache.lucene.search.Query.weight(Query.java:86)
>        at 
> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:85)
>
> To access the Searchable object I use the following lines of  code, at 
> various places in my web application, all was fine till this morning and
> running command line test scripts does not show a error
>
>  public static IndexReader fetchCitationReader(ServletContext context) 
> throws IOException {
>
>        IndexReader rval = (IndexReader) 
> context.getAttribute("luceneIndexReader");
>
>        if (rval == null) {
>            String var = (String) context.getAttribute("luceneRootName");
>            System.out.println("var = " + var);
>            IndexReader indexReader = IndexReader.open(new File(var));
>            context.setAttribute("luceneIndexReader", indexReader);
>        }
>
>        return rval;
>    }
>
>    public static Searcher fetchCitationSearcher(ServletContext context)
>        throws IOException {
>        Searcher rval = (Searcher) 
> context.getAttribute("luceneSearchable");
>
>        if (rval == null) {
>            rval = new IndexSearcher(fetchCitationReader(context));
>            context.setAttribute("luceneSearchable", rval);
>        }
>
>        return rval;
>    }
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12274-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 13:35:06 2005
Return-Path: <lucene-user-return-12274-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81833 invoked from network); 6 Jan 2005 13:35:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 13:35:06 -0000
Received: (qmail 51175 invoked by uid 500); 6 Jan 2005 13:35:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51150 invoked by uid 500); 6 Jan 2005 13:35:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51137 invoked by uid 99); 6 Jan 2005 13:35:00 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 209-254-108-74.ip.mcleodusa.net (HELO enigmastation.com) (209.254.108.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 05:35:00 -0800
Received: from localhost (joeo@localhost)
	by enigmastation.com (8.11.6/8.11.6) with ESMTP id j06DVa206563
	for <lucene-user@jakarta.apache.org>; Thu, 6 Jan 2005 08:31:36 -0500
Date: Thu, 6 Jan 2005 08:31:36 -0500 (EST)
From: Joseph Ottinger <joeo@enigmastation.com>
To: "Lucene User's List" <lucene-user@jakarta.apache.org>
Subject: Lock obtain timed out from an MDB
Message-ID: <Pine.LNX.4.33.0501060824470.26796-100000@enigmastation.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If this is a stupid question, I deeply apologize. I'm stumped.

I have a message-driven EJB using Lucene. In *every* case where the MDB is
trying to create an index, I'm getting "Lock obtain timed out."

It's in org.apache.lucene.store.Lock.obtain(Lock.java:58), which the user
list has referred to before - but I don't see how the suggestions there
apply to what I'm trying to do. (It's creating a lock file in /var/tmp/
properly, from what I can see, so it's not write permissions, I imagine.)

I set the infoStream in my index writer to System.out, but I don't see any
extra information.

I'm using a SQL-based Directory object, but I get the same problem if I
refer to a file directly.

Is there a way to override the Lock portably so that I can have the lock
itself managed in an RDMS? (It's a J2EE project, so relying on file access
is problematic; if the beans using lucene to write to the index are on
multiple servers, multiple locks could exist anyway.)

-----------------------------------------------------------------------
Joseph B. Ottinger                             http://enigmastation.com
IT Consultant                                    joeo@enigmastation.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12275-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 13:53:28 2005
Return-Path: <lucene-user-return-12275-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95601 invoked from network); 6 Jan 2005 13:53:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 13:53:27 -0000
Received: (qmail 89499 invoked by uid 500); 6 Jan 2005 13:53:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89145 invoked by uid 500); 6 Jan 2005 13:53:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89131 invoked by uid 99); 6 Jan 2005 13:53:22 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork11.mail.Virginia.EDU (HELO fork11.mail.virginia.edu) (128.143.2.181)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 05:53:21 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork11.mail.virginia.edu (Postfix) with ESMTP id 0B4A01F523B
	for <lucene-user@jakarta.apache.org>; Thu,  6 Jan 2005 08:53:19 -0500 (EST)
Received: from fork11.mail.virginia.edu ([127.0.0.1])
 by localhost (fork11.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 28778-06 for <lucene-user@jakarta.apache.org>;
 Thu,  6 Jan 2005 08:53:18 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork11.mail.virginia.edu (Postfix) with ESMTP id B78751F51E9
	for <lucene-user@jakarta.apache.org>; Thu,  6 Jan 2005 08:53:18 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <38196246-5F01-11D9-B175-000393A564E6@ehatchersolutions.com>
References: <05Jan4.184331pst."58617"@synergy1.parc.xerox.com> <38196246-5F01-11D9-B175-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <6610DE8A-5FEA-11D9-8C76-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: 1.4.3 breaks 1.4.1 QueryParser functionality 
Date: Thu, 6 Jan 2005 08:53:52 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork11.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jan 5, 2005, at 5:04 AM, Erik Hatcher wrote:
> On Jan 4, 2005, at 9:43 PM, Bill Janssen wrote:
>> Let me be a bit more explicit.  My method (essentially an
>> after-method, for those Lisp'rs out there) begins thusly:
>>
>>     protected Query getFieldQuery (String field,
>> 				   Analyzer a,
>>                                    String queryText)
>>         throws ParseException {
>>
>>           Query x = super.getFieldQuery(field, a, queryText);
>>
>> 	  ...
>> 	}
>>
>> If I remove the "Analyzer a" from both the signature and the super
>> call, the super call won't compile because that method isn't in the
>> QueryParser in 1.4.1.  But my getFieldQuery() method won't even be
>> called in 1.4.1, because it doesn't exist in that version of the
>> QueryParser.
>
> Will it work if you override this method also?
>
> protected Query getFieldQuery(String field,
>                               Analyzer analyzer,
>                               String queryText,
>                               int slop)
>
> My head is spinning looking at all the various signatures of this 
> method we have and trying to backtrack where things went awry.

I tried out my suggestion (code pasted below) against 
lucene-1.4-final.jar and lucene-1.4-3.jar (I don't have the 1.4.1 JAR 
handy) and was successful.  If you override both signatures of 
getFieldQuery it should work fine for you across all 1.4.x versions.  
Not ideal, but at least a workaround.

Is this workable for you, Bill?

	Erik


public class CustomQueryParser extends QueryParser {
     public CustomQueryParser(String field, Analyzer analyzer) {
         super(field, analyzer);
     }

     protected Query getFieldQuery(String field, Analyzer analyzer, 
String queryText, int slop) throws ParseException {
         System.out.println("(slop) queryText = " + queryText);
         return null;
     }

     protected Query getFieldQuery (String field,
                                       Analyzer a,
                                    String queryText)
         throws ParseException {
         System.out.println("(no-slop) queryText = " + queryText);
         return null;
     }


    public static void main(String[] args) throws Exception {
         CustomQueryParser qp = new CustomQueryParser("f", new 
WhitespaceAnalyzer());
         qp.parse("foo bar");
         qp.parse("\"foo bar\"");
     }
}

The output was identical with both versions of Lucene:
(no-slop) queryText = foo
(no-slop) queryText = bar
(slop) queryText = foo bar


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12276-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 14:06:24 2005
Return-Path: <lucene-user-return-12276-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3078 invoked from network); 6 Jan 2005 14:06:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 14:06:24 -0000
Received: (qmail 20962 invoked by uid 500); 6 Jan 2005 14:06:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20936 invoked by uid 500); 6 Jan 2005 14:06:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20922 invoked by uid 99); 6 Jan 2005 14:06:18 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr3.xs4all.nl (HELO smtp-vbr3.xs4all.nl) (194.109.24.23)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 06:06:16 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr3.xs4all.nl (8.12.11/8.12.11) with ESMTP id j06E6EuD080280
	for <lucene-user@jakarta.apache.org>; Thu, 6 Jan 2005 15:06:14 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Span Query Performance
Date: Thu, 6 Jan 2005 15:06:13 +0100
User-Agent: KMail/1.5.4
References: <41DC78CF.1020302@sun.com> <41DC91B9.9040107@csiro.au> <200501061022.57624.paul.elschot@xs4all.nl>
In-Reply-To: <200501061022.57624.paul.elschot@xs4all.nl>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Message-Id: <200501061506.13810.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Sorry for the duplicate on lucene-dev, it should have gone to lucene-user=20
directly:

A bit more:

On Thursday 06 January 2005 10:22, Paul Elschot wrote:
> On Thursday 06 January 2005 02:17, Andrew Cunningham wrote:
> > Hi all,
> >=20
> > I'm currently doing a query similar to the following:
> >=20
> > for w in wordset:
> > =A0 =A0 query =3D w near (word1 V word2 V word3 ... V word1422);
> > =A0 =A0 perform query
> >=20
> > and I am doing this through SpanQuery.getSpans(), iterating through the=
=20
> > spans and counting
> > the matches, which can result in 4782282 matches (essentially I am only=
=20
> > after the match count).
> > The query works but the performance can be somewhat slow; so I am=20
wondering:
> >=20
=2E..
> > c) Is there a faster method to what I am doing I should consider?
>=20
> Preindexing all word combinations that you're interested in.
>=20

In case you know all the words in advance, you could also index a
helper word at the same position as each of those words.
This requires a custom analyzer that inserts the helper word in the
token stream with a zero position increment.
The query then simplifies to:
query =3D w near helperword
which would probably speed things up significantly.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12277-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 14:30:47 2005
Return-Path: <lucene-user-return-12277-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31513 invoked from network); 6 Jan 2005 14:30:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 14:30:46 -0000
Received: (qmail 74295 invoked by uid 500); 6 Jan 2005 14:30:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74263 invoked by uid 500); 6 Jan 2005 14:30:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74228 invoked by uid 99); 6 Jan 2005 14:30:25 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 209-254-108-74.ip.mcleodusa.net (HELO enigmastation.com) (209.254.108.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 06:30:24 -0800
Received: from localhost (joeo@localhost)
	by enigmastation.com (8.11.6/8.11.6) with ESMTP id j06ER0e07193
	for <lucene-user@jakarta.apache.org>; Thu, 6 Jan 2005 09:27:00 -0500
Date: Thu, 6 Jan 2005 09:27:00 -0500 (EST)
From: Joseph Ottinger <joeo@enigmastation.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lock obtain timed out from an MDB
In-Reply-To: <Pine.LNX.4.33.0501060824470.26796-100000@enigmastation.com>
Message-ID: <Pine.LNX.4.33.0501060905471.26796-100000@enigmastation.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Sorry to reply to my own post, but I now have a greater understanding of
PART of my problem - my SQLDirectory is not *quite* right, I think. So I'm
rolling back to FSDirectory.

Now, I have a servlet that writes to the filesystem to simplify things (as
I'm not confident enough to debug the RDMS-based directory yet. That's a
task for later, I think). The servlet says it successfully creates the
index like so:

try {
   open the index with create=false
} catch (file not found) {
   open the index with create=true
}
index.optimize();
index.close();

Now, when I fire off any messages to the MDB, it yields the following:

java.io.IOException: Lock obtain timed out:
Lock@/var/tmp/lucene-d6b0a3281487d1bc4d169d00426f475d-write.lock
	at org.apache.lucene.store.Lock.obtain(Lock.java:58)

Now, this is on only two messages to the MDB, not just a flood of
messages. Two handlers, so I expect a lock in one's case, but not the
first MDB call - it should be the one causing the lock for the second one,
if a lock exists at all.

I've verified that when the servlet that initializes the index runs, a
lock file is NOT present, but again, it looks like every message fired
through looks for a lock and finds one, when I would think it wouldn't be
there.

What am I not understanding?

On Thu, 6 Jan 2005, Joseph Ottinger wrote:

> If this is a stupid question, I deeply apologize. I'm stumped.
>
> I have a message-driven EJB using Lucene. In *every* case where the MDB is
> trying to create an index, I'm getting "Lock obtain timed out."
>
> It's in org.apache.lucene.store.Lock.obtain(Lock.java:58), which the user
> list has referred to before - but I don't see how the suggestions there
> apply to what I'm trying to do. (It's creating a lock file in /var/tmp/
> properly, from what I can see, so it's not write permissions, I imagine.)
>
> I set the infoStream in my index writer to System.out, but I don't see any
> extra information.
>
> I'm using a SQL-based Directory object, but I get the same problem if I
> refer to a file directly.
>
> Is there a way to override the Lock portably so that I can have the lock
> itself managed in an RDMS? (It's a J2EE project, so relying on file access
> is problematic; if the beans using lucene to write to the index are on
> multiple servers, multiple locks could exist anyway.)
>
> -----------------------------------------------------------------------
> Joseph B. Ottinger                             http://enigmastation.com
> IT Consultant                                    joeo@enigmastation.com
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

-----------------------------------------------------------------------
Joseph B. Ottinger                             http://enigmastation.com
IT Consultant                                    joeo@enigmastation.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12278-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 14:40:00 2005
Return-Path: <lucene-user-return-12278-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36855 invoked from network); 6 Jan 2005 14:39:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 14:39:59 -0000
Received: (qmail 96197 invoked by uid 500); 6 Jan 2005 14:39:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95970 invoked by uid 500); 6 Jan 2005 14:39:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95948 invoked by uid 99); 6 Jan 2005 14:39:38 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork12.mail.Virginia.EDU (HELO fork12.mail.virginia.edu) (128.143.2.182)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 06:39:36 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork12.mail.virginia.edu (Postfix) with ESMTP id 513391F5241
	for <lucene-user@jakarta.apache.org>; Thu,  6 Jan 2005 09:39:34 -0500 (EST)
Received: from fork12.mail.virginia.edu ([127.0.0.1])
 by localhost (fork12.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 25801-05 for <lucene-user@jakarta.apache.org>;
 Thu,  6 Jan 2005 09:39:33 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork12.mail.virginia.edu (Postfix) with ESMTP id E6DB61F521C
	for <lucene-user@jakarta.apache.org>; Thu,  6 Jan 2005 09:39:33 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <Pine.LNX.4.33.0501060905471.26796-100000@enigmastation.com>
References: <Pine.LNX.4.33.0501060905471.26796-100000@enigmastation.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <DC16C855-5FF0-11D9-8C76-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lock obtain timed out from an MDB
Date: Thu, 6 Jan 2005 09:40:07 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork12.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Do you have two threads simultaneously either writing or deleting from  
the index?

	Erik

On Jan 6, 2005, at 9:27 AM, Joseph Ottinger wrote:

> Sorry to reply to my own post, but I now have a greater understanding  
> of
> PART of my problem - my SQLDirectory is not *quite* right, I think. So  
> I'm
> rolling back to FSDirectory.
>
> Now, I have a servlet that writes to the filesystem to simplify things  
> (as
> I'm not confident enough to debug the RDMS-based directory yet. That's  
> a
> task for later, I think). The servlet says it successfully creates the
> index like so:
>
> try {
>    open the index with create=false
> } catch (file not found) {
>    open the index with create=true
> }
> index.optimize();
> index.close();
>
> Now, when I fire off any messages to the MDB, it yields the following:
>
> java.io.IOException: Lock obtain timed out:
> Lock@/var/tmp/lucene-d6b0a3281487d1bc4d169d00426f475d-write.lock
> 	at org.apache.lucene.store.Lock.obtain(Lock.java:58)
>
> Now, this is on only two messages to the MDB, not just a flood of
> messages. Two handlers, so I expect a lock in one's case, but not the
> first MDB call - it should be the one causing the lock for the second  
> one,
> if a lock exists at all.
>
> I've verified that when the servlet that initializes the index runs, a
> lock file is NOT present, but again, it looks like every message fired
> through looks for a lock and finds one, when I would think it wouldn't  
> be
> there.
>
> What am I not understanding?
>
> On Thu, 6 Jan 2005, Joseph Ottinger wrote:
>
>> If this is a stupid question, I deeply apologize. I'm stumped.
>>
>> I have a message-driven EJB using Lucene. In *every* case where the  
>> MDB is
>> trying to create an index, I'm getting "Lock obtain timed out."
>>
>> It's in org.apache.lucene.store.Lock.obtain(Lock.java:58), which the  
>> user
>> list has referred to before - but I don't see how the suggestions  
>> there
>> apply to what I'm trying to do. (It's creating a lock file in  
>> /var/tmp/
>> properly, from what I can see, so it's not write permissions, I  
>> imagine.)
>>
>> I set the infoStream in my index writer to System.out, but I don't  
>> see any
>> extra information.
>>
>> I'm using a SQL-based Directory object, but I get the same problem if  
>> I
>> refer to a file directly.
>>
>> Is there a way to override the Lock portably so that I can have the  
>> lock
>> itself managed in an RDMS? (It's a J2EE project, so relying on file  
>> access
>> is problematic; if the beans using lucene to write to the index are on
>> multiple servers, multiple locks could exist anyway.)
>>
>> ---------------------------------------------------------------------- 
>> -
>> Joseph B. Ottinger                              
>> http://enigmastation.com
>> IT Consultant                                     
>> joeo@enigmastation.com
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
> -----------------------------------------------------------------------
> Joseph B. Ottinger                             http://enigmastation.com
> IT Consultant                                    joeo@enigmastation.com
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12279-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 15:45:28 2005
Return-Path: <lucene-user-return-12279-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71375 invoked from network); 6 Jan 2005 15:45:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 15:45:27 -0000
Received: (qmail 49453 invoked by uid 500); 6 Jan 2005 15:45:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49143 invoked by uid 500); 6 Jan 2005 15:45:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49128 invoked by uid 99); 6 Jan 2005 15:45:23 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 209-254-108-74.ip.mcleodusa.net (HELO enigmastation.com) (209.254.108.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 07:45:21 -0800
Received: from localhost (joeo@localhost)
	by enigmastation.com (8.11.6/8.11.6) with ESMTP id j06FfvH08078
	for <lucene-user@jakarta.apache.org>; Thu, 6 Jan 2005 10:41:57 -0500
Date: Thu, 6 Jan 2005 10:41:57 -0500 (EST)
From: Joseph Ottinger <joeo@enigmastation.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lock obtain timed out from an MDB
In-Reply-To: <DC16C855-5FF0-11D9-8C76-000A95BC61B6@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.33.0501060937450.26796-100000@enigmastation.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Well, I think I isolated the problem: stupid error on my part, I think. I
was adding an indexed field that had, um, a value of null. Correcting that
made the process go much more properly - although note that I haven't
scaled up to have multiple elements to index. Good milestone, though.

SHouldn't Lucene warn the user if they do something like this?

On Thu, 6 Jan 2005, Erik Hatcher wrote:

> Do you have two threads simultaneously either writing or deleting from
> the index?
>
> 	Erik
>
> On Jan 6, 2005, at 9:27 AM, Joseph Ottinger wrote:
>
> > Sorry to reply to my own post, but I now have a greater understanding
> > of
> > PART of my problem - my SQLDirectory is not *quite* right, I think. So
> > I'm
> > rolling back to FSDirectory.
> >
> > Now, I have a servlet that writes to the filesystem to simplify things
> > (as
> > I'm not confident enough to debug the RDMS-based directory yet. That's
> > a
> > task for later, I think). The servlet says it successfully creates the
> > index like so:
> >
> > try {
> >    open the index with create=false
> > } catch (file not found) {
> >    open the index with create=true
> > }
> > index.optimize();
> > index.close();
> >
> > Now, when I fire off any messages to the MDB, it yields the following:
> >
> > java.io.IOException: Lock obtain timed out:
> > Lock@/var/tmp/lucene-d6b0a3281487d1bc4d169d00426f475d-write.lock
> > 	at org.apache.lucene.store.Lock.obtain(Lock.java:58)
> >
> > Now, this is on only two messages to the MDB, not just a flood of
> > messages. Two handlers, so I expect a lock in one's case, but not the
> > first MDB call - it should be the one causing the lock for the second
> > one,
> > if a lock exists at all.
> >
> > I've verified that when the servlet that initializes the index runs, a
> > lock file is NOT present, but again, it looks like every message fired
> > through looks for a lock and finds one, when I would think it wouldn't
> > be
> > there.
> >
> > What am I not understanding?
> >
> > On Thu, 6 Jan 2005, Joseph Ottinger wrote:
> >
> >> If this is a stupid question, I deeply apologize. I'm stumped.
> >>
> >> I have a message-driven EJB using Lucene. In *every* case where the
> >> MDB is
> >> trying to create an index, I'm getting "Lock obtain timed out."
> >>
> >> It's in org.apache.lucene.store.Lock.obtain(Lock.java:58), which the
> >> user
> >> list has referred to before - but I don't see how the suggestions
> >> there
> >> apply to what I'm trying to do. (It's creating a lock file in
> >> /var/tmp/
> >> properly, from what I can see, so it's not write permissions, I
> >> imagine.)
> >>
> >> I set the infoStream in my index writer to System.out, but I don't
> >> see any
> >> extra information.
> >>
> >> I'm using a SQL-based Directory object, but I get the same problem if
> >> I
> >> refer to a file directly.
> >>
> >> Is there a way to override the Lock portably so that I can have the
> >> lock
> >> itself managed in an RDMS? (It's a J2EE project, so relying on file
> >> access
> >> is problematic; if the beans using lucene to write to the index are on
> >> multiple servers, multiple locks could exist anyway.)
> >>
> >> ----------------------------------------------------------------------
> >> -
> >> Joseph B. Ottinger
> >> http://enigmastation.com
> >> IT Consultant
> >> joeo@enigmastation.com
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>
> >
> > -----------------------------------------------------------------------
> > Joseph B. Ottinger                             http://enigmastation.com
> > IT Consultant                                    joeo@enigmastation.com
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

-----------------------------------------------------------------------
Joseph B. Ottinger                             http://enigmastation.com
IT Consultant                                    joeo@enigmastation.com



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12280-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 16:31:29 2005
Return-Path: <lucene-user-return-12280-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95766 invoked from network); 6 Jan 2005 16:31:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 16:31:29 -0000
Received: (qmail 52429 invoked by uid 500); 6 Jan 2005 16:31:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51973 invoked by uid 500); 6 Jan 2005 16:31:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51959 invoked by uid 99); 6 Jan 2005 16:31:24 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mariella@lanl.gov designates 192.65.95.54 as permitted sender)
Received: from mailwasher.lanl.gov (HELO mailwasher-b.lanl.gov) (192.65.95.54)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 08:31:22 -0800
Received: from mailrelay2.lanl.gov (mailrelay2.lanl.gov [128.165.4.103])
	by mailwasher-b.lanl.gov (8.12.11/8.12.11/(ccn-5)) with ESMTP id j06GVaL3005686
	for <lucene-user@jakarta.apache.org>; Thu, 6 Jan 2005 09:31:38 -0700
Received: from cic-mail.lanl.gov (cic-mail.lanl.gov [128.165.4.115])
	by mailrelay2.lanl.gov (8.12.11/8.12.11/(ccn-5)) with ESMTP id j06GVC3Y011975
	for <lucene-user@jakarta.apache.org>; Thu, 6 Jan 2005 09:31:12 -0700
Received: from butterfly.lanl.gov (butterfly.lanl.gov [128.165.10.37])
	by cic-mail.lanl.gov (8.12.11/8.12.11/(ccn-5)) with ESMTP id j06GVBXU024525
	for <lucene-user@jakarta.apache.org>; Thu, 6 Jan 2005 09:31:12 -0700
Message-Id: <5.2.1.1.2.20050106091045.00a955d0@cic-mail.lanl.gov>
X-Sender: mariella@cic-mail.lanl.gov (Unverified)
X-Mailer: QUALCOMM Windows Eudora Version 5.2.1
Date: Thu, 06 Jan 2005 09:11:39 -0700
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Mariella Di Giacomo <mariella@lanl.gov>
Subject: Re: multi-threaded thru-put in lucene
In-Reply-To: <8837fb770501051054e5c4021@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-PMX-Version: 4.7.0.111621
X-PMX-Version: 4.7.0.111621
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I have a question.
How big (in size and documents)  is your index ?
How many indexes do you search ?

Thanks,

Mariella

At 10:54 AM 1/5/2005 -0800, you wrote:
>Hi folks:
>
>     We are trying to measure thru-put lucene in a multi-threaded 
> environment.
>
>     This is what we found:
>
>      1 thread, search takes 20 ms.
>
>       2 threads, search takes 40 ms.
>
>       5 threads, search takes 100 ms.
>
>
>      Seems like under a multi-threaded scenario, thru-put isn't good,
>performance is not any better than that of 1 thread.
>
>      I tried to share an IndexSearcher amongst all threads as well as
>having an IndexSearcher per thread. Both yield same numbers.
>
>      Is this consistent with what you'd expect?
>
>Thanks
>
>-John
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12281-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 16:38:49 2005
Return-Path: <lucene-user-return-12281-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99229 invoked from network); 6 Jan 2005 16:38:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 16:38:49 -0000
Received: (qmail 67008 invoked by uid 500); 6 Jan 2005 16:38:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66939 invoked by uid 500); 6 Jan 2005 16:38:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66861 invoked by uid 99); 6 Jan 2005 16:38:34 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork2.mail.Virginia.EDU (HELO fork2.mail.virginia.edu) (128.143.2.192)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 08:38:33 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork2.mail.virginia.edu (Postfix) with ESMTP id 3EA3C1C00D
	for <lucene-user@jakarta.apache.org>; Thu,  6 Jan 2005 11:38:31 -0500 (EST)
Received: from fork2.mail.virginia.edu ([127.0.0.1])
 by localhost (fork2.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 32642-09 for <lucene-user@jakarta.apache.org>;
 Thu,  6 Jan 2005 11:38:31 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork2.mail.virginia.edu (Postfix) with ESMTP id E77D01BF9B
	for <lucene-user@jakarta.apache.org>; Thu,  6 Jan 2005 11:38:30 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <Pine.LNX.4.33.0501060937450.26796-100000@enigmastation.com>
References: <Pine.LNX.4.33.0501060937450.26796-100000@enigmastation.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <7A36B583-6001-11D9-8C76-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lock obtain timed out from an MDB
Date: Thu, 6 Jan 2005 11:39:04 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork2.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 6, 2005, at 10:41 AM, Joseph Ottinger wrote:
> SHouldn't Lucene warn the user if they do something like this?

When a user indexes a null?  Or attempts to write to the index from two 
different IndexWriter instances?

I believe you should get an NPE if you try index a null field value?  
No?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12282-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 16:41:58 2005
Return-Path: <lucene-user-return-12282-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 817 invoked from network); 6 Jan 2005 16:41:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 16:41:58 -0000
Received: (qmail 74852 invoked by uid 500); 6 Jan 2005 16:41:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74825 invoked by uid 500); 6 Jan 2005 16:41:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74804 invoked by uid 99); 6 Jan 2005 16:41:53 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 209-254-108-74.ip.mcleodusa.net (HELO enigmastation.com) (209.254.108.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 08:41:52 -0800
Received: from localhost (joeo@localhost)
	by enigmastation.com (8.11.6/8.11.6) with ESMTP id j06GcSs08828
	for <lucene-user@jakarta.apache.org>; Thu, 6 Jan 2005 11:38:28 -0500
Date: Thu, 6 Jan 2005 11:38:28 -0500 (EST)
From: Joseph Ottinger <joeo@enigmastation.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lock obtain timed out from an MDB
In-Reply-To: <7A36B583-6001-11D9-8C76-000A95BC61B6@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.33.0501061137221.26796-100000@enigmastation.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thu, 6 Jan 2005, Erik Hatcher wrote:

>
> On Jan 6, 2005, at 10:41 AM, Joseph Ottinger wrote:
> > SHouldn't Lucene warn the user if they do something like this?
>
> When a user indexes a null?  Or attempts to write to the index from two
> different IndexWriter instances?
>
> I believe you should get an NPE if you try index a null field value?
> No?

Well, I'd agree - the lack of an exception was rather disturbing,
considering how badly it destroyed Lucene for the application (requiring
not only restart but cleanup as well.)

I don't know Lucene well enough to say "according to the code..." but NOT
adding the null managed to correct the problem entirely.

-----------------------------------------------------------------------
Joseph B. Ottinger                             http://enigmastation.com
IT Consultant                                    joeo@enigmastation.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12283-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 16:56:35 2005
Return-Path: <lucene-user-return-12283-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7287 invoked from network); 6 Jan 2005 16:56:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 16:56:34 -0000
Received: (qmail 9897 invoked by uid 500); 6 Jan 2005 16:56:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9840 invoked by uid 500); 6 Jan 2005 16:56:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9803 invoked by uid 99); 6 Jan 2005 16:56:24 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from skipper.frogspace.net (HELO skipper.frogspace.net) (216.222.192.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 08:56:23 -0800
Received: from bi-02pt1.bluebird.ibm.com ([129.42.208.182] helo=aroushlt)
	by skipper.frogspace.net with esmtp (Exim 4.32)
	id 1Cmavt-0003o5-OE; Thu, 06 Jan 2005 08:56:22 -0800
From: "George Aroush" <george@aroush.net>
To: <lucene-dev@jakarta.apache.org>,
	<lucene-user@jakarta.apache.org>,
	<announcements@jakarta.apache.org>
Subject: [ANNOUNCE] Highlighter.Net 1.4.0 RC1 (port of lucene Java highlighter to C#)
Date: Thu, 6 Jan 2005 11:56:21 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1478
Thread-Index: AcT0EKYNZeOTkn7RSQSGxv15oHTJow==
X-SA-Exim-Connect-IP: 129.42.208.182
X-SA-Exim-Mail-From: george@aroush.net
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Folks, 

I am pleased to announce the availability of "Highlighter.Net 1.4.0 RC1
build 001"  This is the first "Release Candidate" release of version 1.4.0
of Lucene's Java Highlighter ported to C# and is intended to be "Final".

Please visit http://www.sourceforge.net/projects/dotlucene/ to learn more
about Highlighter.Net as well as dotLucene and to download the source code.

Best regards,

-- George Aroush


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12284-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 16:59:04 2005
Return-Path: <lucene-user-return-12284-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8643 invoked from network); 6 Jan 2005 16:59:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 16:59:03 -0000
Received: (qmail 16506 invoked by uid 500); 6 Jan 2005 16:58:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16121 invoked by uid 500); 6 Jan 2005 16:58:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16084 invoked by uid 99); 6 Jan 2005 16:58:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from skipper.frogspace.net (HELO skipper.frogspace.net) (216.222.192.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 08:58:54 -0800
Received: from bi-02pt1.bluebird.ibm.com ([129.42.208.182] helo=aroushlt)
	by skipper.frogspace.net with esmtp (Exim 4.32)
	id 1CmayM-0004Yj-0T; Thu, 06 Jan 2005 08:58:54 -0800
From: "George Aroush" <george@aroush.net>
To: <lucene-dev@jakarta.apache.org>,
	<lucene-user@jakarta.apache.org>,
	<announcements@jakarta.apache.org>
Subject: [ANNOUNCE] dotLucene 1.4.3 RC2 (port of Jakarta Lucene to C#)
Date: Thu, 6 Jan 2005 11:58:54 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1478
Thread-Index: AcT0EQDn/o3TVe2wSFSWobe0UfBXnA==
X-SA-Exim-Connect-IP: 129.42.208.182
X-SA-Exim-Mail-From: george@aroush.net
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Folks, 

I am pleased to announce the availability of "dotLucene 1.4.3 RC2 build-001"
This is the second "Release Candidate" release of version 1.4.3 of Jakarta
Lucene ported to C# and is intended to be "Final".

Please visit http://www.sourceforge.net/projects/dotlucene/ to learn more
about dotLucene and to download the source code.

Best regards,

-- George Aroush


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12285-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 17:28:40 2005
Return-Path: <lucene-user-return-12285-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24120 invoked from network); 6 Jan 2005 17:28:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 17:28:39 -0000
Received: (qmail 82422 invoked by uid 500); 6 Jan 2005 17:28:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82151 invoked by uid 500); 6 Jan 2005 17:28:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82137 invoked by uid 99); 6 Jan 2005 17:28:35 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from host.12.157.23.62.rev.coltfrance.com (HELO opera.keljob.com) (62.23.157.12)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 06 Jan 2005 09:28:33 -0800
Received: from [192.168.1.206] by opera
  (ArGoSoft Mail Server Pro for WinNT/2000/XP, Version 1.8 (1.8.2.5)); Thu, 6 Jan 2005 18:28:27 +0100
Date: Thu, 6 Jan 2005 18:28:25 +0100
From: Sven Duzont <sven.duzont@keljob.com>
X-Mailer: The Bat! (v3.0) UNREG / CD5BF9353B3B7091
Reply-To: Sven duzont <sven.duzont@keljob.com>
Organization: Keljob
X-Priority: 3 (Normal)
Message-ID: <545473975.20050106182825@keljob.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Lucene appreciation
In-Reply-To: <002301c4e38b$fada3420$0402a8c0@dell8200r>
References: <002301c4e38b$fada3420$0402a8c0@dell8200r>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-15
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

Nice work, this mail is just to say that you already have a french concurrent ;)
www.keljob.com

For now, it's a sql server search engine, but we are planning to implement lucene in two or three months.
Of course, we don't handle the same jobs volume (165,000 jobs vs
1,756,000) so it's reasonably  "fast",
Concerning the crawler, we use a proprietary robot made in C/C++, we
plan to move to a java & open src solution this year.
we already have a nice experience with lucene (with jakarta James)
implemented for a recruiter tool (emailed job applications management)
Also planning to implement it (maybe in association with Carrot) in a
resume search engine.
Lot of work to be done this year so :)

-- 
 Sven Duzont        sven.duzont@keljob.com

38, rue du Sentier / 75002 Paris
Tl. : 00 33 (1) 40 13 63 30
Fax  : 00 33 (1) 40 13 01 84

En Octobre 2004 le Groupe Keljob cest : 
* Le 1er acteur du e-recrutement,
* 477 000 abonnements  l'alerte email, 
* 125 000 CV de moins de 6 mois,
* 6 300 000 annonces lues,
* 2 488 599 visites.


jeudi 16 dcembre 2004, 17:26:22, vous avez crit:


RK> Hello fellow Lucene users,

RK> I'd like to introduce myself and say thanks. We've recently launched
RK> http://www.indeed.com, a search engine for jobs based on Lucene.  I'm
RK> consistently impressed with the quality, professionalism and support of the
RK> Lucene project and the Lucene community. This mailing list has been a great
RK> help. I'd also like to give mention to some of the consultants who had a big
RK> hand in making our project a reality ... Thank you Otis, Aviran, Sergiu &
RK> Dawid.

RK> As for our project, we're in beta and would love to get your feedback. The
RK> index size is currently ~1.8m jobs. My personal email address is rony a_t
RK> indeed.com. If you are interested in Lucene work you can set up an rss feed
RK> or email alert from here:
RK> http://www.indeed.com/search?q=lucene&sort=date 

RK> Is it possible to be added to the Wiki Powered By page?

RK> Thanks Everyone,
RK> Rony


RK> Indeed.com - one search. all Jobs.
RK> http://www.indeed.com


RK> ---------------------------------------------------------------------
RK> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
RK> For additional commands, e-mail:
RK> lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12286-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 18:09:14 2005
Return-Path: <lucene-user-return-12286-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44913 invoked from network); 6 Jan 2005 18:09:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 18:09:13 -0000
Received: (qmail 53204 invoked by uid 500); 6 Jan 2005 18:09:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53181 invoked by uid 500); 6 Jan 2005 18:09:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53168 invoked by uid 99); 6 Jan 2005 18:09:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of john.wang@gmail.com designates 64.233.170.193 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 10:09:08 -0800
Received: by rproxy.gmail.com with SMTP id j1so31266rnf
        for <lucene-user@jakarta.apache.org>; Thu, 06 Jan 2005 10:09:06 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=VWqmQuX6dIXNdaTfGr6ceeXgmWASuK2C1Ry6jQ6Z0I7YGDqkgQTEZRALsLSFJay1EgYfG6h5lbidP2NUcyRRYx+TAM+r+4+fe6ujDz9nL3dvXUCWf1BG7eI+RLWgAj6uMb7pNZzTJ5JvIZhhw0+UIJx3NNoiux7xpiTF1onPXes=
Received: by 10.38.92.21 with SMTP id p21mr80974rnb;
        Thu, 06 Jan 2005 10:09:05 -0800 (PST)
Received: by 10.38.209.68 with HTTP; Thu, 6 Jan 2005 10:09:05 -0800 (PST)
Message-ID: <8837fb770501061009432f7dda@mail.gmail.com>
Date: Thu, 6 Jan 2005 10:09:05 -0800
From: John Wang <john.wang@gmail.com>
Reply-To: John Wang <john.wang@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: multi-threaded thru-put in lucene
In-Reply-To: <Pine.LNX.4.58.0501060001280.18763@hal.rescomp.berkeley.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <8837fb770501051054e5c4021@mail.gmail.com>
	 <Pine.LNX.4.58.0501060001280.18763@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I actually ran a few tests. But seeing similar behaviors.

After removing all the possible variations, this is what I used:

1 Index, doccount is 15,000.
Using FSDirectory, e.g. new IndexSearcher(String path), by default I
think it uses FSDirectory.

each thread is doing 100 iterations of search, e.g.

for (int i=0;i<100;++i){
    idxSearcher.search(q);
}

for each thread and each iteration, I am using the same query.

I am timing them the following way:

long start=System.currenTimeInMillis();

for (int i =0;i<threadCount;++i){
   thread[i].start();
}

for (int i=0;i<threadCount;++i){
   thread[i].join();
}


long duration=System.currenTimeInMillis()-start;

duration numbers I am getting are:

1 thread: 445 ms.
2 threads: 870 ms.
5 threads: 2200 ms.

Pretty much the same numbers you'd get if you are running them sequentially.

Any ideas? Am I doing something wrong?

Thanks advance for all your help

-John

On Thu, 6 Jan 2005 00:06:09 -0800 (PST), Chris Hostetter
<hossman_lucene@fucit.org> wrote:
> 
> :     This is what we found:
> :
> :      1 thread, search takes 20 ms.
> :
> :       2 threads, search takes 40 ms.
> :
> :       5 threads, search takes 100 ms.
> 
> how big is your index?  What are the term frequencies like in your index?
> how many differnt queries did you try? what was the structure of your
> query objects like?  were you using a RAMDirectory or an FSDirectory? what
> hardware were you running on?
> 
> Is your test application small enough that you can post it to the list?
> 
> I haven't done a lot of PMA testing of Lucene, but from what limited
> testing i have done I'm a little suprised at those numbers, you'd get
> results just as good if you ran the queries sequentially.
> 
> -Hoss
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12287-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 18:22:24 2005
Return-Path: <lucene-user-return-12287-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50104 invoked from network); 6 Jan 2005 18:22:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 18:22:24 -0000
Received: (qmail 85499 invoked by uid 500); 6 Jan 2005 18:22:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85096 invoked by uid 500); 6 Jan 2005 18:22:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85079 invoked by uid 99); 6 Jan 2005 18:22:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from Unknown (HELO zebedee.magus.co.uk) (193.131.98.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 10:22:19 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: Lucene Book in UK
Date: Thu, 6 Jan 2005 18:23:38 -0000
Message-ID: <D98ADD74A4E07445A943A90A184B51993795C2@zebedee.magus.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene Book in UK
Thread-Index: AcT0HN/1ISF0dqw+R5it2XxU6JJ2KQ==
From: "David Townsend" <david.townsend@magus.co.uk>
To: "Lucene Users List \(E-mail\)" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Sorry if this is the wrong forum but I wondered what's happened to =
'Lucene In Action' in the UK.  Looking forward to reading it but =
amazon.co.uk report it as a 'hard to find' item and are now quoting a =
4-6 week delivery time and  tacking on a rare book charge.  Amazon.com =
are quoting shipping in 24hrs.  Is this a new 'Boston Tea Party'?=20

cheers

David




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12288-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 18:31:13 2005
Return-Path: <lucene-user-return-12288-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54281 invoked from network); 6 Jan 2005 18:31:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 18:31:13 -0000
Received: (qmail 98004 invoked by uid 500); 6 Jan 2005 18:31:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97747 invoked by uid 500); 6 Jan 2005 18:31:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97733 invoked by uid 99); 6 Jan 2005 18:31:08 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.cybersites.net (HELO ns.uscybersites.net) (206.98.167.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 10:31:08 -0800
Received: from [127.0.0.1] (unknown [216.126.80.147])
	by ns.uscybersites.net (Postfix) with ESMTP id 353E581EBC
	for <lucene-user@jakarta.apache.org>; Thu,  6 Jan 2005 12:42:19 -0500 (EST)
Message-ID: <41DD83BA.9080503@max3d.com>
Date: Thu, 06 Jan 2005 13:30:18 -0500
From: "amigo@max3d.com" <amigo@max3d.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene Book in UK
References: <D98ADD74A4E07445A943A90A184B51993795C2@zebedee.magus.co.uk>
In-Reply-To: <D98ADD74A4E07445A943A90A184B51993795C2@zebedee.magus.co.uk>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Have you checked Manning's site (http://www.manning.com), where you can 
order the book directly from them (the publisher) and they will also 
provide you
with a copy of an eBook in the mean time until your paperback arrives in 
mail?

-pedja

P.S. two cubes of sugar with that tea, please :)


David Townsend said the following on 1/6/2005 1:23 PM:

>Sorry if this is the wrong forum but I wondered what's happened to 'Lucene In Action' in the UK.  Looking forward to reading it but amazon.co.uk report it as a 'hard to find' item and are now quoting a 4-6 week delivery time and  tacking on a rare book charge.  Amazon.com are quoting shipping in 24hrs.  Is this a new 'Boston Tea Party'? 
>
>cheers
>
>David
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12289-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 18:32:04 2005
Return-Path: <lucene-user-return-12289-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54740 invoked from network); 6 Jan 2005 18:32:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 18:32:03 -0000
Received: (qmail 99709 invoked by uid 500); 6 Jan 2005 18:32:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99318 invoked by uid 500); 6 Jan 2005 18:31:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99305 invoked by uid 99); 6 Jan 2005 18:31:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc11.comcast.net (HELO rwcrmhc11.comcast.net) (204.127.198.35)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 10:31:58 -0800
Received: from [192.168.168.81] (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc11) with ESMTP
          id <20050106183155013000901pe>; Thu, 6 Jan 2005 18:31:55 +0000
Message-ID: <41DD8415.6020502@apache.org>
Date: Thu, 06 Jan 2005 10:31:49 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: multi-threaded thru-put in lucene
References: <8837fb770501051054e5c4021@mail.gmail.com>	 <Pine.LNX.4.58.0501060001280.18763@hal.rescomp.berkeley.edu> <8837fb770501061009432f7dda@mail.gmail.com>
In-Reply-To: <8837fb770501061009432f7dda@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

John Wang wrote:
> 1 thread: 445 ms.
> 2 threads: 870 ms.
> 5 threads: 2200 ms.
> 
> Pretty much the same numbers you'd get if you are running them sequentially.
> 
> Any ideas? Am I doing something wrong?

If you're performing compute-bound work on a single-processor machine 
then threading should give you no better performance than sequential, 
perhaps a bit worse.  If you're performing io-bound work on a 
single-disk machine then threading should again provide no improvement. 
  If the task is evenly compute and i/o bound then you could achieve at 
best a 2x speedup on a single CPU system with a single disk.

If you're compute-bound on an N-CPU system then threading should 
optimally be able to provide a factor of N speedup.

Java's scheduling of compute-bound theads when no threads call 
Thread.sleep() can also be very unfair.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12290-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 18:36:24 2005
Return-Path: <lucene-user-return-12290-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57286 invoked from network); 6 Jan 2005 18:36:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 18:36:24 -0000
Received: (qmail 10506 invoked by uid 500); 6 Jan 2005 18:36:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9949 invoked by uid 500); 6 Jan 2005 18:36:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9934 invoked by uid 99); 6 Jan 2005 18:36:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of john.wang@gmail.com designates 64.233.170.195 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.195)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 10:36:18 -0800
Received: by rproxy.gmail.com with SMTP id z35so42754rne
        for <lucene-user@jakarta.apache.org>; Thu, 06 Jan 2005 10:36:16 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=m2yAj0iT3b01x3hVES7aSI+nsvWq+5YVDj6S6LjaW0CmM4JRQDgf2dbx+5fOyAEAbShVU2B1LRvfmlBeytbsRcmb0J9NsaoTeHQeR6zc9+RweLm/2LI7oxKS8gBElieOe5GfTBR/hFGl0TXXjtFVtyMF7KlWJ/i6WoXa08C3RG0=
Received: by 10.38.104.52 with SMTP id b52mr161720rnc;
        Thu, 06 Jan 2005 10:36:12 -0800 (PST)
Received: by 10.38.209.68 with HTTP; Thu, 6 Jan 2005 10:36:12 -0800 (PST)
Message-ID: <8837fb7705010610361cebc95f@mail.gmail.com>
Date: Thu, 6 Jan 2005 10:36:12 -0800
From: John Wang <john.wang@gmail.com>
Reply-To: John Wang <john.wang@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: multi-threaded thru-put in lucene
In-Reply-To: <41DD8415.6020502@apache.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <8837fb770501051054e5c4021@mail.gmail.com>
	 <Pine.LNX.4.58.0501060001280.18763@hal.rescomp.berkeley.edu>
	 <8837fb770501061009432f7dda@mail.gmail.com>
	 <41DD8415.6020502@apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Is the operation IndexSearcher.search I/O or CPU bound if I am doing
100's of searches on the same query?

Thanks

-John


On Thu, 06 Jan 2005 10:31:49 -0800, Doug Cutting <cutting@apache.org> wrote:
> John Wang wrote:
> > 1 thread: 445 ms.
> > 2 threads: 870 ms.
> > 5 threads: 2200 ms.
> >
> > Pretty much the same numbers you'd get if you are running them sequentially.
> >
> > Any ideas? Am I doing something wrong?
> 
> If you're performing compute-bound work on a single-processor machine
> then threading should give you no better performance than sequential,
> perhaps a bit worse.  If you're performing io-bound work on a
> single-disk machine then threading should again provide no improvement.
>   If the task is evenly compute and i/o bound then you could achieve at
> best a 2x speedup on a single CPU system with a single disk.
> 
> If you're compute-bound on an N-CPU system then threading should
> optimally be able to provide a factor of N speedup.
> 
> Java's scheduling of compute-bound theads when no threads call
> Thread.sleep() can also be very unfair.
> 
> Doug
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12291-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 18:54:02 2005
Return-Path: <lucene-user-return-12291-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66302 invoked from network); 6 Jan 2005 18:54:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 18:54:02 -0000
Received: (qmail 41740 invoked by uid 500); 6 Jan 2005 18:53:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41712 invoked by uid 500); 6 Jan 2005 18:53:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41699 invoked by uid 99); 6 Jan 2005 18:53:58 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork7.mail.Virginia.EDU (HELO fork7.mail.virginia.edu) (128.143.2.177)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 10:53:57 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id 6B6A61F5257
	for <lucene-user@jakarta.apache.org>; Thu,  6 Jan 2005 13:53:54 -0500 (EST)
Received: from fork7.mail.virginia.edu ([127.0.0.1])
 by localhost (fork7.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 09816-02 for <lucene-user@jakarta.apache.org>;
 Thu,  6 Jan 2005 13:53:54 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id 290BE1F52AC
	for <lucene-user@jakarta.apache.org>; Thu,  6 Jan 2005 13:53:53 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <D98ADD74A4E07445A943A90A184B51993795C2@zebedee.magus.co.uk>
References: <D98ADD74A4E07445A943A90A184B51993795C2@zebedee.magus.co.uk>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <63D5EB86-6014-11D9-9881-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene Book in UK
Date: Thu, 6 Jan 2005 13:54:27 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork7.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 6, 2005, at 1:23 PM, David Townsend wrote:

> Sorry if this is the wrong forum but I wondered what's happened to 
> 'Lucene In Action' in the UK.  Looking forward to reading it but 
> amazon.co.uk report it as a 'hard to find' item and are now quoting a 
> 4-6 week delivery time and  tacking on a rare book charge.  Amazon.com 
> are quoting shipping in 24hrs.  Is this a new 'Boston Tea Party'?

It's news to me that Amazon is shipping it in the U.S. even.... but I 
just checked and you're right!  They *just* got it in stock though, so 
I'm sure it takes a bit more time for the U.K. to get it.

It's been shipping from Manning's site for a couple of weeks now 
though, and as noted, it includes the e-book along with it.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12292-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 19:13:59 2005
Return-Path: <lucene-user-return-12292-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76417 invoked from network); 6 Jan 2005 19:13:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 19:13:59 -0000
Received: (qmail 79831 invoked by uid 500); 6 Jan 2005 19:13:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79810 invoked by uid 500); 6 Jan 2005 19:13:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79797 invoked by uid 99); 6 Jan 2005 19:13:54 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of john.wang@gmail.com designates 64.233.170.192 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.192)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 11:13:53 -0800
Received: by rproxy.gmail.com with SMTP id j1so45525rnf
        for <lucene-user@jakarta.apache.org>; Thu, 06 Jan 2005 11:13:51 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=OXVX5HIONtCmXQyTAGRu8mL0SfNKsKIl7Dm1MG2mos3pjvfnzLT3ETUcbR1Zj4UcZlWdFscEzeNjEfAz1DkGtyJbYljkE3fUZgJYuybeq+WAbhUVWv6FDOwcvDU39h41Aenh4402BSRfcpPjVtHJNpcUxdUKiag89+G96fTmZJ8=
Received: by 10.38.164.76 with SMTP id m76mr3085rne;
        Thu, 06 Jan 2005 11:13:51 -0800 (PST)
Received: by 10.38.209.68 with HTTP; Thu, 6 Jan 2005 11:13:51 -0800 (PST)
Message-ID: <8837fb77050106111316e5b7d@mail.gmail.com>
Date: Thu, 6 Jan 2005 11:13:51 -0800
From: John Wang <john.wang@gmail.com>
Reply-To: John Wang <john.wang@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: multi-threaded thru-put in lucene
In-Reply-To: <8837fb7705010610361cebc95f@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <8837fb770501051054e5c4021@mail.gmail.com>
	 <Pine.LNX.4.58.0501060001280.18763@hal.rescomp.berkeley.edu>
	 <8837fb770501061009432f7dda@mail.gmail.com>
	 <41DD8415.6020502@apache.org>
	 <8837fb7705010610361cebc95f@mail.gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks Doug! You are right, by adding a Thread.sleep() helped greatly.

Mysteries of Java...

Another Java threading question.
With 1 thread, iterations of 100 searches, it took about 850 ms.
by adding a Thread.sleep(10) in the loop. It is taking about 2200 ms.

So there is 2200 - 1850 = 350 ms unaccounted for. Is that due to
thread scheduling/context switching?

Thanks

-John


On Thu, 6 Jan 2005 10:36:12 -0800, John Wang <john.wang@gmail.com> wrote:
> Is the operation IndexSearcher.search I/O or CPU bound if I am doing
> 100's of searches on the same query?
> 
> Thanks
> 
> -John
> 
> 
> On Thu, 06 Jan 2005 10:31:49 -0800, Doug Cutting <cutting@apache.org> wrote:
> > John Wang wrote:
> > > 1 thread: 445 ms.
> > > 2 threads: 870 ms.
> > > 5 threads: 2200 ms.
> > >
> > > Pretty much the same numbers you'd get if you are running them sequentially.
> > >
> > > Any ideas? Am I doing something wrong?
> >
> > If you're performing compute-bound work on a single-processor machine
> > then threading should give you no better performance than sequential,
> > perhaps a bit worse.  If you're performing io-bound work on a
> > single-disk machine then threading should again provide no improvement.
> >   If the task is evenly compute and i/o bound then you could achieve at
> > best a 2x speedup on a single CPU system with a single disk.
> >
> > If you're compute-bound on an N-CPU system then threading should
> > optimally be able to provide a factor of N speedup.
> >
> > Java's scheduling of compute-bound theads when no threads call
> > Thread.sleep() can also be very unfair.
> >
> > Doug
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12293-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 19:15:51 2005
Return-Path: <lucene-user-return-12293-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77090 invoked from network); 6 Jan 2005 19:15:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 19:15:51 -0000
Received: (qmail 82608 invoked by uid 500); 6 Jan 2005 19:15:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82203 invoked by uid 500); 6 Jan 2005 19:15:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82190 invoked by uid 99); 6 Jan 2005 19:15:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from vpn3.cymfony.com (HELO webmail.cymfony.com) (65.209.1.80)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 11:15:46 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Lucene Book in UK
Date: Thu, 6 Jan 2005 14:15:30 -0500
Message-ID: <13F36D2926AD444697093282F20041B797BE15@buf-ex01.cymfony.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene Book in UK
Thread-Index: AcT0IRxEplVHWt1yT4q07Q/fxvKULgAAppJg
From: "Peter Kim" <pkim@cymfony.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Does anyone know why Amazon.com lists the list price for Lucene in
Action as $60.95? Bookpool.com has the list price as $44.95, which is
the price that Manning is charging. After discounting, bookpool.com has
it on sale for $27.50.

Looking forward to getting my copy.

Peter=20

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Sent: Thursday, January 06, 2005 1:54 PM
To: Lucene Users List
Subject: Re: Lucene Book in UK


On Jan 6, 2005, at 1:23 PM, David Townsend wrote:

> Sorry if this is the wrong forum but I wondered what's happened to=20
> 'Lucene In Action' in the UK.  Looking forward to reading it but=20
> amazon.co.uk report it as a 'hard to find' item and are now quoting a
> 4-6 week delivery time and  tacking on a rare book charge.  Amazon.com

> are quoting shipping in 24hrs.  Is this a new 'Boston Tea Party'?

It's news to me that Amazon is shipping it in the U.S. even.... but I
just checked and you're right!  They *just* got it in stock though, so
I'm sure it takes a bit more time for the U.K. to get it.

It's been shipping from Manning's site for a couple of weeks now though,
and as noted, it includes the e-book along with it.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12294-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 19:21:22 2005
Return-Path: <lucene-user-return-12294-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79572 invoked from network); 6 Jan 2005 19:21:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 19:21:22 -0000
Received: (qmail 92565 invoked by uid 500); 6 Jan 2005 19:21:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92114 invoked by uid 500); 6 Jan 2005 19:21:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92101 invoked by uid 99); 6 Jan 2005 19:21:18 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from fw01.cmbrmaks.akamai.com (HELO smtp2.akamai.com) (80.67.64.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 11:21:17 -0800
Received: from smtp2.akamai.com (vwall.kendall.corp.akamai.com [172.17.4.34])
	by smtp2.akamai.com (8.12.10/8.12.10) with ESMTP id j06JLRUb013093
	for <lucene-user@jakarta.apache.org>; Thu, 6 Jan 2005 14:21:27 -0500 (EST)
Received: from USMA1EX-GATE1.kendall.corp.akamai.com (usma1ex-gate1.kendall.corp.akamai.com [172.17.0.215])
	by smtp2.akamai.com (8.12.10/8.12.10) with ESMTP id j06JLQOU013085
	for <lucene-user@jakarta.apache.org>; Thu, 6 Jan 2005 14:21:27 -0500 (EST)
Received: from USMA1EX-PRIV2.kendall.corp.akamai.com ([172.17.0.183]) by USMA1EX-GATE1.kendall.corp.akamai.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 6 Jan 2005 14:21:02 -0500
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
x-mimeole: Produced By Microsoft Exchange V6.0.6603.0
Subject: RE: Lucene Book in UK
Date: Thu, 6 Jan 2005 14:21:02 -0500
Message-ID: <CABA0DCC5207904AAA5ECE8449E964CE040B1598@usma1ex-priv2.kendall.corp.akamai.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene Book in UK
Thread-Index: AcT0IRxEplVHWt1yT4q07Q/fxvKULgAAppJgAAA9ZEA=
From: "O'Hare, Thomas" <tohare@akamai.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 06 Jan 2005 19:21:02.0708 (UTC) FILETIME=[DC68EB40:01C4F424]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I ordered my from Amazon a while back and was notified yesterday that it
shipped. Here was my price:


The following items were included in this shipment:
---------------------------------------------------------------------
Qty      Item                           Price  Shipped  Subtotal
---------------------------------------------------------------------
1        Lucene In Action (In Action)   $27.17  1       $27.17

---------------------------------------------------------------------
               Item Subtotal:  $27.17
         Shipping & Handling:  $3.99=20
=20
        Super Saver Discount: -$3.99=20
=20
                       Total:  $27.17



-----Original Message-----
From: Peter Kim [mailto:pkim@cymfony.com]=20
Sent: Thursday, January 06, 2005 2:16 PM
To: Lucene Users List
Subject: RE: Lucene Book in UK

Does anyone know why Amazon.com lists the list price for Lucene in
Action as $60.95? Bookpool.com has the list price as $44.95, which is
the price that Manning is charging. After discounting, bookpool.com has
it on sale for $27.50.

Looking forward to getting my copy.

Peter=20

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Thursday, January 06, 2005 1:54 PM
To: Lucene Users List
Subject: Re: Lucene Book in UK


On Jan 6, 2005, at 1:23 PM, David Townsend wrote:

> Sorry if this is the wrong forum but I wondered what's happened to=20
> 'Lucene In Action' in the UK.  Looking forward to reading it but=20
> amazon.co.uk report it as a 'hard to find' item and are now quoting a
> 4-6 week delivery time and  tacking on a rare book charge.  Amazon.com

> are quoting shipping in 24hrs.  Is this a new 'Boston Tea Party'?

It's news to me that Amazon is shipping it in the U.S. even.... but I
just checked and you're right!  They *just* got it in stock though, so
I'm sure it takes a bit more time for the U.K. to get it.

It's been shipping from Manning's site for a couple of weeks now though,
and as noted, it includes the e-book along with it.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12295-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 20:05:58 2005
Return-Path: <lucene-user-return-12295-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 273 invoked from network); 6 Jan 2005 20:05:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 20:05:58 -0000
Received: (qmail 88724 invoked by uid 500); 6 Jan 2005 20:05:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88703 invoked by uid 500); 6 Jan 2005 20:05:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88689 invoked by uid 99); 6 Jan 2005 20:05:54 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of janssen@parc.com designates 13.1.64.93 as permitted sender)
Received: from alpha.Xerox.COM (HELO alpha.xerox.com) (13.1.64.93)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 06 Jan 2005 12:05:52 -0800
Received: from synergy1.parc.xerox.com ([13.1.101.60]) by alpha.xerox.com with SMTP id <173592(1)>; Thu, 6 Jan 2005 12:05:40 PST
Received: from parc.com ([127.0.0.1]) by synergy1.parc.xerox.com with SMTP id <58617>; Thu, 6 Jan 2005 12:05:34 PST
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: 1.4.3 breaks 1.4.1 QueryParser functionality 
In-Reply-To: Your message of "Thu, 06 Jan 2005 05:53:52 PST."
             <6610DE8A-5FEA-11D9-8C76-000A95BC61B6@ehatchersolutions.com> 
Date: Thu, 6 Jan 2005 12:05:31 PST
From: Bill Janssen <janssen@parc.com>
Message-Id: <05Jan6.120534pst."58617"@synergy1.parc.xerox.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik,

> Is this workable for you, Bill?

No, it doesn't appear to work for me.

I modified my class to add the extra method, as you suggested.  I just
forwarded the method to the existing one, as seen below:

    protected Query getFieldQuery (String field,
                                   Analyzer a,
                                   String queryText,
                                   int slop)
        throws ParseException {
        return getFieldQuery(field, a, queryText);
    }

    protected Query getFieldQuery (String field,
                                   Analyzer a,
                                   String queryText)
        throws ParseException {
	...
    }

It's still not getting called.  My query string is of the form:

  name:"Bill Janssen"

which is a little different from the one you were testing with.  It
does work OK (with both versions of Lucene) on simple queries like the
one you tested with.

My guess is that somewhere between 1.4.1 and 1.4.3, someone decided
that FieldQueries and PhraseQueries should be handled differently.

Bill

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12296-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 20:23:31 2005
Return-Path: <lucene-user-return-12296-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23324 invoked from network); 6 Jan 2005 20:23:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 20:23:31 -0000
Received: (qmail 17393 invoked by uid 500); 6 Jan 2005 20:23:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17361 invoked by uid 500); 6 Jan 2005 20:23:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17347 invoked by uid 99); 6 Jan 2005 20:23:27 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of janssen@parc.com designates 13.1.64.93 as permitted sender)
Received: from alpha.Xerox.COM (HELO alpha.xerox.com) (13.1.64.93)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 06 Jan 2005 12:23:26 -0800
Received: from synergy1.parc.xerox.com ([13.1.101.60]) by alpha.xerox.com with SMTP id <173591(1)>; Thu, 6 Jan 2005 12:23:10 PST
Received: from parc.com ([127.0.0.1]) by synergy1.parc.xerox.com with SMTP id <58617>; Thu, 6 Jan 2005 12:23:09 PST
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: 1.4.3 breaks 1.4.1 QueryParser functionality 
In-Reply-To: Your message of "Thu, 06 Jan 2005 12:05:31 PST."
             <05Jan6.120534pst."58617"@synergy1.parc.xerox.com> 
Date: Thu, 6 Jan 2005 12:23:06 PST
From: Bill Janssen <janssen@parc.com>
Message-Id: <05Jan6.122309pst."58617"@synergy1.parc.xerox.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> > Is this workable for you, Bill?
> 
> No, it doesn't appear to work for me.

Whoops!  I was testing the wrong jar file.  Yes, it *does* appear to
work for me.  I'll put this in my production code.  Thanks again,
Erik.

Bill

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12297-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 20:50:44 2005
Return-Path: <lucene-user-return-12297-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35625 invoked from network); 6 Jan 2005 20:50:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 20:50:44 -0000
Received: (qmail 61934 invoked by uid 500); 6 Jan 2005 20:50:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61105 invoked by uid 500); 6 Jan 2005 20:50:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61091 invoked by uid 99); 6 Jan 2005 20:50:41 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 12:50:40 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 383D35B7B8; Thu,  6 Jan 2005 12:49:40 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 370457F466
	for <lucene-user@jakarta.apache.org>; Thu,  6 Jan 2005 12:49:40 -0800 (PST)
Date: Thu, 6 Jan 2005 12:49:40 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: Lucene Book in UK
In-Reply-To: <CABA0DCC5207904AAA5ECE8449E964CE040B1598@usma1ex-priv2.kendall.corp.akamai.com>
Message-ID: <Pine.LNX.4.58.0501061238400.31262@hal.rescomp.berkeley.edu>
References: <CABA0DCC5207904AAA5ECE8449E964CE040B1598@usma1ex-priv2.kendall.corp.akamai.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


: I ordered my from Amazon a while back and was notified yesterday that it
: shipped. Here was my price:

really??? .. those bastards.  I ordered two copies for my work on December
10th and they still haven't shipped them.

: 1        Lucene In Action (In Action)   $27.17  1       $27.17

Hmm, they only charged me $26.37 each ... but Amazon has been known to
experiment with pricepoints.  (On my browser, they're currently showing a
discounted price as 38.40).

I can tell you that on December 10th, Amazon's "List" price was roughly
the same as Manning, hence I was about to order from Manning and get the
free ebook, when i realized I was looking at the "List price" and not the
"Amazon Price".  With Amazon's free shipping it was cheaper to buy two
the two paper copies from amazon *and* give Manning the $22 for the ebook.

: Does anyone know why Amazon.com lists the list price for Lucene in
: Action as $60.95? Bookpool.com has the list price as $44.95, which is
: the price that Manning is charging. After discounting, bookpool.com has
: it on sale for $27.50.

B&N agrees that the list price is $60.95 ... which may be what Manning is
citing to resellers.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12298-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 21:35:41 2005
Return-Path: <lucene-user-return-12298-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60535 invoked from network); 6 Jan 2005 21:35:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 21:35:40 -0000
Received: (qmail 69357 invoked by uid 500); 6 Jan 2005 21:35:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68821 invoked by uid 500); 6 Jan 2005 21:35:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68807 invoked by uid 99); 6 Jan 2005 21:35:37 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc11.comcast.net (HELO rwcrmhc11.comcast.net) (204.127.198.35)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 13:35:36 -0800
Received: from [192.168.168.81] (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc11) with ESMTP
          id <2005010621353401300st7oce>; Thu, 6 Jan 2005 21:35:34 +0000
Message-ID: <41DDAF25.5040807@apache.org>
Date: Thu, 06 Jan 2005 13:35:33 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: multi-threaded thru-put in lucene
References: <8837fb770501051054e5c4021@mail.gmail.com>	 <Pine.LNX.4.58.0501060001280.18763@hal.rescomp.berkeley.edu>	 <8837fb770501061009432f7dda@mail.gmail.com>	 <41DD8415.6020502@apache.org> <8837fb7705010610361cebc95f@mail.gmail.com>
In-Reply-To: <8837fb7705010610361cebc95f@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

John Wang wrote:
> Is the operation IndexSearcher.search I/O or CPU bound if I am doing
> 100's of searches on the same query?

CPU bound.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12299-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 21:42:13 2005
Return-Path: <lucene-user-return-12299-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64907 invoked from network); 6 Jan 2005 21:42:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 21:42:12 -0000
Received: (qmail 82874 invoked by uid 500); 6 Jan 2005 21:42:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82846 invoked by uid 500); 6 Jan 2005 21:42:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82832 invoked by uid 99); 6 Jan 2005 21:42:08 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork9.mail.Virginia.EDU (HELO fork9.mail.virginia.edu) (128.143.2.179)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 13:42:07 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id 006A91F52BF
	for <lucene-user@jakarta.apache.org>; Thu,  6 Jan 2005 16:42:04 -0500 (EST)
Received: from fork9.mail.virginia.edu ([127.0.0.1])
 by localhost (fork9.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 10796-07 for <lucene-user@jakarta.apache.org>;
 Thu,  6 Jan 2005 16:42:04 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id ADB4A1F52AE
	for <lucene-user@jakarta.apache.org>; Thu,  6 Jan 2005 16:42:04 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <Pine.LNX.4.58.0501061238400.31262@hal.rescomp.berkeley.edu>
References: <CABA0DCC5207904AAA5ECE8449E964CE040B1598@usma1ex-priv2.kendall.corp.akamai.com> <Pine.LNX.4.58.0501061238400.31262@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <E258064B-602B-11D9-B0B2-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene Book in UK
Date: Thu, 6 Jan 2005 16:42:38 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork9.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 6, 2005, at 3:49 PM, Chris Hostetter wrote:
> B&N agrees that the list price is $60.95 ... which may be what Manning 
> is
> citing to resellers.

This is incorrect information that has somehow gotten out.  Amazon and 
B&N are slow to update their information, but Manning assures me that 
they have provided the correct information to Amazon to update.  The 
actual price you're paying is certainly not indicative of a $60.95 list 
price - Amazon doesn't discount 50%, I'm sure.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12300-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 23:23:44 2005
Return-Path: <lucene-user-return-12300-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14743 invoked from network); 6 Jan 2005 23:23:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 23:23:44 -0000
Received: (qmail 67427 invoked by uid 500); 6 Jan 2005 23:23:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67404 invoked by uid 500); 6 Jan 2005 23:23:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67389 invoked by uid 99); 6 Jan 2005 23:23:31 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mailsrv1n1.nivis.com (HELO nivis.com) (65.205.163.222)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 15:23:30 -0800
Received: from [216.198.79.50] (HELO commerceross)
  by nivis.com (CommuniGate Pro SMTP 4.1.8)
  with ESMTP id 5596312 for lucene-user@jakarta.apache.org; Thu, 06 Jan 2005 18:23:27 -0500
From: "Ross Rankin" <ross@commercescience.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Problems...
Date: Thu, 6 Jan 2005 18:23:31 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <Pine.LNX.4.58.0501041508250.6268@hal.rescomp.berkeley.edu>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcTyt/vCB9f7/uwsS1O11U+ybBnBBAAkGXBA
Message-ID: <auto-000005596312@nivis.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for the responses...  It took a bit of time but I'm learning more and
more every day on this.    

To answer Hoss's first question here's the properties for the engine:
lucene.path.to.index=/home/httpd/htdocs/index
lucene.time.interval=15000
lucene.paramOffset = 0

Hoss, could you tell me what to exceptions I'm missing?  Thanks!

I figured out my issue, with a lot of help from Luke.  (Thanks to the other
Luke)  The document I was creating for Lucene to index was missing data due
to a size issue in with the database records.  So Lucene was doing its job
there data wasn't there in the index.  Took a while to figure out why the
document was missing the data, didn't dawn on me that the size and number of
the database records would be the issue, but it really was the only thing
that changed.  

Could you explain this piece further, Erik "BooleanQuery and AND in
TermQuery for resellerId"   

I would love to improve the code of this piece and understand the engine
more.  Like for example, if something is indexed, it will be found in the
search but what about something that is just in the document and not
indexed?  I don't know the difference in Stored, Tokenized, Indexed, and
Vector and where I would do what...  Is there info on that piece on the web
somewhere?

Like I have a large (6000 chars) text field I would like to add to the
document, it's HTML.  I am guessing first it would need to be parsed then
added?  But added and indexed?  The field contains product specs and product
compatibility (most in a table form).  

Sorry for the newbie questions but I am not finding Google very chock full
of Lucene info...

Ross 

-----Original Message-----
From: hossman@hal.rescomp.berkeley.edu
[mailto:hossman@hal.rescomp.berkeley.edu] On Behalf Of Chris Hostetter
Sent: Tuesday, January 04, 2005 6:48 PM
To: Lucene Users List
Subject: Re: Problems...



To start with, there has to be more to the "search" side of things then
what you included.  this search function is not static, which means it's
getting called on an object, which obviously has some internal state
(paramOffset, hits, and pathToIndex are a few that jump out at me)  what
are the values of those variables when this method gets called?

second, there are at least two places in your code where potential
exceptions get thrown away and execution continues.  as a matter of good
practice, you should add logging to these spots to make sure you aren't
ignoring errors...

third, you said " I'm not getting anything in the log that I can point to
that says what is not working," but what about what is/isn't in the log?
there are several System.out.println calls in this code ... I'm assuming
you're logging STDOUT, what do those messages (with variables) say?
what is the value of currentOffset on the initial search? what does the
query.toString look like? how many total hits are being found when the
search is executed?  (or is that line not getting logged because the
search is getting skipped becuase of some initial state in paramOffset?)




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12301-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 23:33:26 2005
Return-Path: <lucene-user-return-12301-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17225 invoked from network); 6 Jan 2005 23:33:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 23:33:25 -0000
Received: (qmail 78056 invoked by uid 500); 6 Jan 2005 23:33:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77227 invoked by uid 500); 6 Jan 2005 23:33:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77206 invoked by uid 99); 6 Jan 2005 23:33:22 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 15:33:20 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 1B0935B76E; Thu,  6 Jan 2005 15:32:23 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 184B87F471
	for <lucene-user@jakarta.apache.org>; Thu,  6 Jan 2005 15:32:23 -0800 (PST)
Date: Thu, 6 Jan 2005 15:32:23 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: Problems...
In-Reply-To: <auto-000005596312@nivis.com>
Message-ID: <Pine.LNX.4.58.0501061527280.1700@hal.rescomp.berkeley.edu>
References: <auto-000005596312@nivis.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


: Hoss, could you tell me what to exceptions I'm missing?  Thanks!

anytime you have a "catch" block, you should be doing something with that
exception.  If possible, you can recover from an exception, but no matter
what you should log the exception in some way so that you know it
happened.

Your code has two places where it was catching an exception and doing
absolutely nothing at all -- allowing processing to continue without even
a warning.  there was also an area of your code where if you encountered a
parse exception from the user input, you invented your own query instead
-- again without any sort of logging to let you know waht was happening in
the code.  building your own query when the users query is giberish isn't
neccessarily bad, but logging is your friend.

it wasn't clear from the descirption of your problem what you were trying
to query for so it was very possible that there was a problem parsing your
query, and it was doing the "default" search in that catch block and
giving you back zero results ... hence my question about the
SYstem.out.println calls that *were* in your code.


logging is (again) your friend.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12302-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 23:44:30 2005
Return-Path: <lucene-user-return-12302-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20507 invoked from network); 6 Jan 2005 23:44:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 23:44:30 -0000
Received: (qmail 92771 invoked by uid 500); 6 Jan 2005 23:44:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92745 invoked by uid 500); 6 Jan 2005 23:44:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92732 invoked by uid 99); 6 Jan 2005 23:44:18 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=NORMAL_HTTP_TO_IP
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mspmail2.stellent.com (HELO mspmail2.stellent.com) (12.40.185.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 15:44:16 -0800
Received: from [10.10.20.20] ([10.10.20.20])
	by mspmail2.stellent.com (8.11.6+Sun/8.11.5) with ESMTP id j06Ni8116980
	for <lucene-user@jakarta.apache.org>; Thu, 6 Jan 2005 17:44:09 -0600 (CST)
Subject: Multi-threading problem: couldn't delete segments
From: Luke Francl <luke.francl@stellent.com>
To: lucene-user@jakarta.apache.org
Content-Type: multipart/mixed; boundary="=-t4o4Xew3LVgCyTZaQr7o"
Message-Id: <1105055035.1884.57.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 
Date: Thu, 06 Jan 2005 17:43:55 -0600
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=-t4o4Xew3LVgCyTZaQr7o
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

We are having a problem with Lucene in a high concurrency
create/delete/search situation. I thought I fixed all these problems,
but I guess not.

Here's what's happening.

We are conducting load testing on our application.

On a Windows 2000 server using lucene-1.3-final with compound file
enabled, a worker thread is creating new Documents as it ingests
content. Meanwhile, a test script is going that is hitting the search
part of our application (I think the script also updates and deletes
Documents, but I am not sure. My colleague who wrote it has left for the
day so I can't ask him.).

The scripted test passes with 1, 5, and 10 users hitting the
application. At 20 users, we get this exception:

[Task Worker1] ERROR com.ancept.ams.search.lucene.LuceneIndexer  -
Caught exception closing IndexReader in finally block
java.io.IOException: couldn't delete segments
        at
org.apache.lucene.store.FSDirectory.renameFile(FSDirectory.java:236)
        at
org.apache.lucene.index.SegmentInfos.write(SegmentInfos.java(Compiled
 Code))
        at
org.apache.lucene.index.SegmentReader$1.doBody(SegmentReader.java:179
)
        at org.apache.lucene.store.Lock$With.run(Lock.java:148)
        at
org.apache.lucene.index.SegmentReader.doClose(SegmentReader.java(Comp
iled Code))
        at
org.apache.lucene.index.IndexReader.close(IndexReader.java(Inlined Co
mpiled Code))
        at
org.apache.lucene.index.SegmentsReader.doClose(SegmentsReader.java(Co
mpiled Code))
        at
org.apache.lucene.index.IndexReader.close(IndexReader.java(Compiled C
ode))
        at
com.ancept.ams.search.lucene.LuceneIndexer.delete(LuceneIndexer.java:
266)

All write access to the index is controlled in that LuceneIndexer class
by synchronizing on a static lock object. 

Searching is handled in another part of the code, which creates new
IndexSearchers as necessary when the index changes. I do not rely on
finalization to clean up these searchers because we found it to be
unreliable. I keep track of threads using each searcher and then close
it when that number drops to 0 if the searcher is outdated. 

My problem seems similar to what Robert Leftwich asked about on this
mailing list in January 2001.  

Google Cache:
http://64.233.179.104/search?q=cache:1D4h1vSh5AQJ:www.geocrawler.com/mail/msg.php3%3Fmsg_id%3D5020057++lucene+multithreading+problems+site:geocrawler.com&hl=en

Doug Cutting replied to him saying that he should synchronize calls to
IndexReader.open() and IndexReader.close():

Google Cache:
http://64.233.179.104/search?q=cache:arztiytQ42QJ:www.geocrawler.com/archives/3/2624/2001/1/0/5020870/++lucene+multithreading+problems+site:geocrawler.com&hl=en

Robert Leftwich then found a problem with his code and eliminated a
second IndexReader that was messing stuff up:

Google Cache:
http://64.233.179.104/search?q=cache:jSIsi6t9KH8J:www.geocrawler.com/mail/msg.php3%3Fmsg_id%3D5037517++lucene+multithreading+problems+site:geocrawler.com&hl=en

However, there are differences between Leftwich's design and mine, and
besides, that thread is four years old. (Are there even exisiting
archives for lucene-user throughout 2001 anywhere?)

So any advice would be appreciated.

Do I need to synchronize _all_ IndexReader.open() and
IndexReader.close() calls? Or is it more likely that I'm missing
something in my class that modifies the index? The code is attached.

Thank you,

Luke Francl

--=-t4o4Xew3LVgCyTZaQr7o
Content-Disposition: attachment; filename=LuceneIndexer.java
Content-Type: text/x-java; name=LuceneIndexer.java; charset=UTF-8
Content-Transfer-Encoding: 7bit

// $Id: LuceneIndexer.java 20473 2004-10-19 17:20:10Z lfrancl $
package com.ancept.ams.search.lucene;

import com.ancept.ams.asset.AssetUtils;
import com.ancept.ams.asset.AttributeValue;
import com.ancept.ams.asset.IAsset;
import com.ancept.ams.asset.IAssetIdentifier;
import com.ancept.ams.asset.IAssetList;
import com.ancept.ams.asset.ITimeMetadataAsset;
import com.ancept.ams.asset.IVideoAssetView;
import com.ancept.ams.controller.RelayFactory;
import com.ancept.ams.enums.AttributeNamespace;
import com.ancept.ams.enums.AttributeType;
import com.ancept.ams.enums.TimeMetadataType;
import com.ancept.ams.relay.IAssetRelay;
import com.ancept.ams.search.Indexer;
import com.ancept.ams.search.Fields;
import com.ancept.ams.util.SystemConfig;
import com.ancept.ams.util.PerformanceMonitor;

import org.apache.log4j.Logger;
import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.snowball.SnowballAnalyzer;
import org.apache.lucene.analysis.StopAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.index.IndexReader;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.index.Term;

import java.io.File;
import java.io.IOException;
import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Date;
import java.util.Iterator;
import java.util.List;

/**
 * Controls access to the Lucene index.
 *
 * @author Luke Francl
 **/
public final class LuceneIndexer implements Indexer {

    private static final Logger l4j = Logger.getLogger( LuceneIndexer.class );

    static File INDEX_DIRECTORY =
        new File( SystemConfig.getProperty( "LuceneIndexDir", "./index" ) );

    /**
     * For parsing Queries, you must use the same analyser used to
     * index data.
     **/
    static Analyzer ANALYZER =
        new SnowballAnalyzer( "English",
                              StopAnalyzer.ENGLISH_STOP_WORDS );

    private static LuceneIndexer instance = new LuceneIndexer();

    /** ISO format without dashes for a more compact representation. **/
    static final DateFormat LUCENE_DATE_FORMAT =
        new SimpleDateFormat( "yyyyMMdd" );

    /**
     * This object is used to synchronize index write operations.
     *
     * AMS uses Lucene with incremental updates to the index each time
     * an asset is changed.
     *
     * Since changes cannot be flushed to the index without closing
     * the IndexWriter, each method in this class creates a new IndexWriter
     * (or, in the case of delete, IndexReader). Because two threads cannot
     * write to the same index at the same time, this locking is necessary.
     **/
    private static final Object lock = new Object();

    /** The initializeIndex will set this if there is an error. **/
    private static Exception initializationException = null;

    private LuceneIndexer() {
        initializeIndex();
    }

    public static LuceneIndexer getInstance() {

        if ( initializationException != null ) {
            throw new RuntimeException
                ( "Initialization of Lucene Indexer failed. " +
                  "Exception was:" + initializationException );
        }

        return instance;
    }

    void optimize() {

        synchronized( lock ) {

            IndexWriter writer = null;

            try {
                writer = new IndexWriter( INDEX_DIRECTORY,
                                          ANALYZER,
                                          false );
                // Reduces number of files required for an index.
                // See bug 16527
                writer.setUseCompoundFile( true );
                writer.optimize();

            } catch ( IOException e ) {
                l4j.error( "Caught IOException trying to optimize index", e );
            } finally {

                try {
                    if ( writer != null ) {
                        writer.close();
                    }
                } catch ( IOException e ) {
                    l4j.error( "Exception closing IndexWriter " +
                               "in finally block", e );

                }
            }
        }
    }

    public void index( List deletes, List inserts ) {
            delete( deletes );
            index( inserts );
    }

    private void index( List inserts ) {
        if ( inserts.isEmpty() ) {
            return;
        }


        List documents = new ArrayList();

        for ( Iterator iter = inserts.iterator(); iter.hasNext(); ) {
            if ( PerformanceMonitor.ENABLED ) {
                PerformanceMonitor.start( PerformanceMonitor.TEXT_INDEX_CATEGORY,
                                          "Create index document" );
            }
            documents.add( createDocument( (IAsset) iter.next() ) );
            if ( PerformanceMonitor.ENABLED ) {
                PerformanceMonitor.stop( PerformanceMonitor.TEXT_INDEX_CATEGORY,
                                          "Create index document" );
            }
        }


        IndexWriter writer = null;

        // Basted on a mis-read of http://www.onjava.com/lpt/a/3273 I
        // had this synchronization only around the addDocument
        // method. However, that only works for multiple threads
        // sharing the same IndexWriter, not "index" as indicated by
        // the article.
        synchronized( lock ) {

            try {
                writer = new IndexWriter( INDEX_DIRECTORY,
                                          ANALYZER,
                                          false );

                // Reduces number of files required for an index.
                // See bug 16527
                writer.setUseCompoundFile( true );


                for ( Iterator docs = documents.iterator(); docs.hasNext(); ) {

                    Document assetDocument = (Document) docs.next();

                    if ( PerformanceMonitor.ENABLED ) {
                        PerformanceMonitor.start( PerformanceMonitor.TEXT_INDEX_CATEGORY,
                                                  "Index document" );
                    }
                    writer.addDocument( assetDocument );
                    if ( PerformanceMonitor.ENABLED ) {
                        PerformanceMonitor.stop( PerformanceMonitor.TEXT_INDEX_CATEGORY,
                                                 "Index document" );
                    }
                }

            } catch ( IOException e ) {
                l4j.error( "Could not add some of  " +
                           inserts + " to index", e );

                if ( PerformanceMonitor.ENABLED ) {
                    PerformanceMonitor.abort
                        ( PerformanceMonitor.TEXT_INDEX_CATEGORY,
                          "Indexing assets" );
                }

                return;
            } finally {

                try {
                    if ( writer != null ) {
                        writer.close();
                    }
                } catch ( IOException e ) {
                    l4j.error( "Caught exception closing IndexWriter " +
                               "in finally block", e );
                }
            }
        }
    }

    private void delete( List deletes ) {

        if ( deletes.isEmpty() ) {
            return;
        }

        IndexReader reader = null;

        synchronized( lock ) {
            try {

                reader = IndexReader.open( INDEX_DIRECTORY );

                for ( Iterator iter = deletes.iterator(); iter.hasNext(); ) {

                    IAsset asset = (IAsset) iter.next();

                    if ( l4j.isDebugEnabled() ) {
                        l4j.debug( "deleting asset " + asset.getId() +
                                   " from index" );
                    }

                    Term assetIdTerm = new Term( Fields.AMS_ASSET_ID,
                                                 asset.getId().toString() );

                    if ( PerformanceMonitor.ENABLED ) {
                        PerformanceMonitor.start( PerformanceMonitor.TEXT_INDEX_CATEGORY,
                                                  "Delete asset" );
                    }
                    reader.delete( assetIdTerm );
                    if ( PerformanceMonitor.ENABLED ) {
                        PerformanceMonitor.stop( PerformanceMonitor.TEXT_INDEX_CATEGORY,
                                                 "Delete asset" );
                    }
                }

            } catch ( IOException e ) {
                l4j.error( "Could not remove some of assets " +
                           deletes + " from index." , e );

                if ( PerformanceMonitor.ENABLED ) {
                    PerformanceMonitor.abort
                        ( PerformanceMonitor.TEXT_INDEX_CATEGORY,
                          "Delete asset" );

                }

                return;
            } finally {

                try {
                    if ( reader != null ) {
                        reader.close();
                    }
                } catch ( IOException e ) {
                    l4j.error( "Caught exception closing IndexReader " +
                               "in finally block", e );
                }
            }

        }

    }


    /**
     * Iterates through all the Documents in the index and marks them deleted.
     **/
    public void deleteAll() {

        synchronized( lock ) {

            IndexReader reader = null;

            try {
                reader = IndexReader.open( INDEX_DIRECTORY );
            } catch ( IOException e ) {
                l4j.error( "Couldn't open index, can't delete all", e );

                return;
            }

            for ( int docNum = 0; docNum < reader.maxDoc(); docNum++ ) {

                try {

                    reader.delete( docNum );

                } catch ( IOException e ) {
                    l4j.error( "Caught IOException attempting to " +
                               "delete document number " + docNum );
                }
            }

            try {
                reader.close();
            } catch ( IOException e ) {
                l4j.error( "Couldn't close indexer", e );
            }
        }
    }

    /**
     * Iterates through the index removing assets which have been
     * deleted from CM. This method requires a read only CM
     * transaction.
     **/
    public void pruneIndex() {

        IAssetRelay assetRelay = RelayFactory.getAssetRelay();

        synchronized( lock ) {
            IndexReader reader = null;

            try {
                try {
                    reader = IndexReader.open( INDEX_DIRECTORY );
                } catch ( IOException e ) {
                    l4j.error( "Couldn't open index, can't prune it.", e );

                    return;
                }

                for ( int docNum = 0; docNum < reader.maxDoc(); docNum++ ) {

                    if ( ! reader.isDeleted( docNum ) ) {

                        Document doc = reader.document( docNum );

                        String assetId = doc.get( Fields.AMS_ASSET_ID );

                        if ( assetId == null ) {
                            reader.delete( docNum );
                        }

                        IAssetIdentifier identifier =
                            assetRelay.createIdentifier( assetId );

                        if ( !assetRelay.assetExists( identifier ) ) {
                            reader.delete( docNum );
                        }
                    }
                }
            } catch ( IOException e ) {
                l4j.error( "IOException pruning index", e );
            } finally {
                try {
                    if ( reader != null ) {
                        reader.close();
                    }
                } catch ( IOException e ) {
                    l4j.error( "Caught IOException closing reader " +
                               "in finally block." );
                }
            }
        }

    }

    private Document createDocument( IAsset asset ) {
        Document assetDocument = new Document();

        assetDocument.add( Field.Keyword( Fields.AMS_ASSET_ID,
                                          asset.getId().toString() ) );

        assetDocument.add
            ( Field.Keyword( Fields.AMS_ITEM_TYPE,
                             asset.getEntity().getName() ) );

        if( l4j.isDebugEnabled() ) {
            l4j.debug( "indexing " + asset.getId() +
                       " entity =  " + asset.getEntity().getName() );
        }

        assetDocument.add( Field.Keyword( Fields.AMS_DATE_INDEXED,
                                          new Date() ) );

        StringBuffer allContent = new StringBuffer();

        for ( Iterator attributeValues =
                  asset.getAttributeValues();
              attributeValues.hasNext(); ) {


            AttributeValue attributeValue =
                (AttributeValue) attributeValues.next();

            String fieldName = attributeValue.getAttribute().
                getDatastoreName();

            if ( attributeValue.getValue() == null ) {
                continue;
            }

            if ( l4j.isDebugEnabled() ) {
                l4j.debug( "Indexing '" + fieldName + "' = '" +
                           attributeValue.getValue() + "'" );
            }

            if ( ( attributeValue.getType().
                   equals( AttributeType.DATE ) ||
                       attributeValue.getType().
                   equals( AttributeType.TIMESTAMP ) ) ) {

                // bug 16562: until Lucene fixes indexing dates before 1970,
                // they'll be stored in ISO yyyyMMdd format.

                String dateString =
                    LUCENE_DATE_FORMAT.format( attributeValue.getDate() );

                assetDocument.add
                    ( Field.UnStored( fieldName,
                                      dateString ) );

            } else if ( attributeValue.getType().
                        equals( AttributeType.ENUM ) ||
                        attributeValue.getAttribute().
                        isControlledVocabulary() ||
                        attributeValue.getAttribute().isTaxonomy() ) {

                // Enums, controlled vocabularies, and taxonomies need
                // to be stored verbatium.

                assetDocument.add
                    ( Field.Keyword
                      ( fieldName,
                        attributeValue.getValue().toString() ) );

            } else if ( attributeValue.getAttribute().
                        getName().equals( "ACLCODE" ) ) {

                // fix for bug 17105: ACLCODE should not be tokenized.

                assetDocument.add
                    ( Field.Keyword
                      ( fieldName,
                        attributeValue.getValue().toString() ) );

            } else if ( attributeValue.getValue() != null &&
                        !attributeValue.getValue().equals( "" ) ) {

                assetDocument.add
                    ( Field.UnStored
                      ( fieldName,
                        attributeValue.getValue().toString() ) );
            }

            allContent.append( " " ).
                append( blankNull( attributeValue.getValue() ) ).
                append( " " );
            }

        if ( AssetUtils.getOriginal( asset ) != null ) {

            String filename =
                AssetUtils.getOriginal( asset ).getFilename();

            if ( filename != null ) {

                if ( l4j.isDebugEnabled() ) {
                    l4j.debug( "Indexing '" + Fields.AMS_FILENAME +
                               "' = '" + filename );
                }

                assetDocument.add( Field.Keyword( Fields.AMS_FILENAME,
                                                  filename ) );

                allContent.append( filename );
            }
        }

        if ( !asset.getVideoAssetView().isEmpty() ) {

            IVideoAssetView view = asset.getVideoAssetView();

            for ( int index = (int) TimeMetadataType.ANNOTATION.getId();
                  index < TimeMetadataType.ALL.length; index++ ) {

                IAssetList timeMetadata =  view.getTimeMetadata
                    ( TimeMetadataType.ALL[ index ] );

                    for ( Iterator metadata = timeMetadata.iterator();
                          metadata.hasNext(); ) {

                        ITimeMetadataAsset timeMetadatum =
                            (ITimeMetadataAsset) metadata.next();

                        String timeMetaFieldName =
                            Fields.getField( timeMetadatum.getType() );

                        if ( timeMetaFieldName == null ) {
                            continue;
                        }

                        if ( timeMetadatum.getValue() == null ) {
                            continue;
                        }

                        if ( l4j.isDebugEnabled() ) {
                            l4j.debug( "Indexing '" + timeMetaFieldName +
                                       "' = '" + timeMetadatum.getValue() );
                        }

                        // NOTE: I'm using Field.Text because
                        // Field.UnStored didn't return even the
                        // field NAME with the hits!
                        assetDocument.add
                            ( Field.Text( timeMetaFieldName,
                                          timeMetadatum.getValue() ) );

                        // next, store the asset ID
                        assetDocument.add
                            ( Field.UnIndexed
                              ( timeMetaFieldName + "_ID",
                                timeMetadatum.getId().toString() ) );


                        allContent.append( " " ).
                            append( timeMetadatum.getValue() ).
                            append( " " );
                    }

                }
            }

            assetDocument.add( Field.UnStored( Fields.AMS_ALL_CONTENT,
                                               allContent.toString() ) );

            return assetDocument;

    }

    private void initializeIndex() {

        IndexWriter writer = null;

        try {
            // TODO: put in some error checking for indexDirectory

            if ( !INDEX_DIRECTORY.exists() ) {
                INDEX_DIRECTORY.mkdirs();
            }

            // create a new index if there's no files in the index dir
            if ( ! IndexReader.indexExists( INDEX_DIRECTORY ) ) {
                writer = new IndexWriter( INDEX_DIRECTORY,
                                          ANALYZER,
                                          true );
            }

        } catch ( IOException e ) {
            l4j.error( "Couldn't initalize Lucene Index. Indexing will fail.",
                       e );

            this.initializationException = e;
        } finally {

            try {
                if ( writer != null ) {
                    writer.close();
                }
            } catch ( IOException e ) {
                l4j.error( "Caught exception closing IndexWriter " +
                           "in finally block", e );
            }
        }
    }

    private String blankNull( Object value ) {
        return value == null ? "" : value.toString();
    }
}



--=-t4o4Xew3LVgCyTZaQr7o
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
--=-t4o4Xew3LVgCyTZaQr7o--


From lucene-user-return-12303-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 23:49:38 2005
Return-Path: <lucene-user-return-12303-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22385 invoked from network); 6 Jan 2005 23:49:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 23:49:37 -0000
Received: (qmail 99197 invoked by uid 500); 6 Jan 2005 23:49:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98788 invoked by uid 500); 6 Jan 2005 23:49:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98775 invoked by uid 99); 6 Jan 2005 23:49:33 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from nwkea-mail-2.sun.com (HELO nwkea-mail-2.sun.com) (192.18.42.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 15:49:30 -0800
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by nwkea-mail-2.sun.com (8.12.10/8.12.9) with ESMTP id j06NnTpv021544
	for <lucene-user@jakarta.apache.org>; Thu, 6 Jan 2005 15:49:29 -0800 (PST)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0I9X00K0161A9M@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Thu, 06 Jan 2005 15:49:29 -0800 (PST)
Received: from [127.0.0.1] (d-mpk24-41-226.SFBay.Sun.COM [129.146.41.226])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0I9X000RX66BTQ@ha21sca-mail1.sfbay.sun.com> for
 lucene-user@jakarta.apache.org; Thu, 06 Jan 2005 15:49:28 -0800 (PST)
Date: Thu, 06 Jan 2005 15:49:00 -0800
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Re: Indexing flat files with out .txt extension
In-reply-to: <E259A3F5-5F78-11D9-9AF4-000393A564E6@ehatchersolutions.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <41DDCE6C.6040903@sun.com>
MIME-version: 1.0
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7)
 Gecko/20040616
References: <41DC78CF.1020302@sun.com>
 <E259A3F5-5F78-11D9-9AF4-000393A564E6@ehatchersolutions.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Erik,

I got the source downloaded and unpacked. I am having difficulty in 
building and of the modules. Maybe something's wrong with my Ant 
installation.
************************
LuceneInAction% ant test
Buildfile: build.xml

BUILD FAILED
file:/home/hs152827/LuceneInAction/build.xml:12: Unexpected element 
"available"

Total time: 5 seconds

LuceneInAction% ant Indexer
Buildfile: build.xml

BUILD FAILED
file:/home/hs152827/LuceneInAction/build.xml:12: Unexpected element 
"available"

Total time: 5 seconds
**********************
Can you point me to proper module for creating my own indexer? I tried 
looking into the indexing module but was not sure.

TIA,
-H

Erik Hatcher wrote:

>
> On Jan 5, 2005, at 6:31 PM, Hetan Shah wrote:
>
>> How can one index simple text files with out the .txt extension. I am 
>> trying to use the IndexFiles and IndexHTML but not to my 
>> satisfaction. In the IndexFiles I do not get any control over the 
>> content of the file and in case of IndexHTML the files with out any 
>> extension do not get index all together. Any pointers are really 
>> appreciated.
>
>
> Try out the Indexer code from Lucene in Action.  You can download it 
> from the link here: 
> http://www.lucenebook.com/blog/announcements/sourcecode.html
>
> It'll be cleaner to follow and borrow from.  The code that ships with 
> Lucene is for demonstration purposes.  It surprises me how often folks 
> use that code to build real indexes.  It's quite straightforward to 
> create your own Java code to do the indexing in whatever manner you 
> like, borrowing from examples.
>
> When you get the download unpacked, simply run "ant Indexer" to see it 
> in action.  And then "ant Searcher" to search the index just built.
>
>     Erik
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12304-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 06 23:57:05 2005
Return-Path: <lucene-user-return-12304-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25153 invoked from network); 6 Jan 2005 23:57:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Jan 2005 23:57:05 -0000
Received: (qmail 17475 invoked by uid 500); 6 Jan 2005 23:57:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17457 invoked by uid 500); 6 Jan 2005 23:57:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17444 invoked by uid 99); 6 Jan 2005 23:57:01 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 15:57:00 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 3B2C413E28F6; Thu,  6 Jan 2005 18:56:55 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id CD41E13E20ED
	for <lucene-user@jakarta.apache.org>; Thu,  6 Jan 2005 18:56:53 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <41DDCE6C.6040903@sun.com>
References: <41DC78CF.1020302@sun.com> <E259A3F5-5F78-11D9-9AF4-000393A564E6@ehatchersolutions.com> <41DDCE6C.6040903@sun.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <A2DAC3C8-603E-11D9-A021-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Indexing flat files with out .txt extension
Date: Thu, 6 Jan 2005 18:56:52 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.7 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jan 6, 2005, at 6:49 PM, Hetan Shah wrote:
> Hi Erik,
>
> I got the source downloaded and unpacked. I am having difficulty in 
> building and of the modules. Maybe something's wrong with my Ant 
> installation.
> ************************
> LuceneInAction% ant test
> Buildfile: build.xml
>
> BUILD FAILED
> file:/home/hs152827/LuceneInAction/build.xml:12: Unexpected element 
> "available"

The good ol' README says this:

R E Q U I R E M E N T S
-----------------------
   * JDK 1.4+
   * Ant 1.6+ (to run the automated examples)
   * JUnit 3.8.1+
     - junit.jar should be in ANT_HOME/lib

You are not running Ant 1.6, I'm sure.  Upgrade your version of Ant, 
and of course follow the rest of the README and all should be well.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12305-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 00:41:41 2005
Return-Path: <lucene-user-return-12305-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39951 invoked from network); 7 Jan 2005 00:41:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 00:41:40 -0000
Received: (qmail 87964 invoked by uid 500); 7 Jan 2005 00:41:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87905 invoked by uid 500); 7 Jan 2005 00:41:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87841 invoked by uid 99); 7 Jan 2005 00:41:26 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 16:41:24 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 80B5D13E28F6; Thu,  6 Jan 2005 19:41:20 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 0B78413E20ED
	for <lucene-user@jakarta.apache.org>; Thu,  6 Jan 2005 19:41:01 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <auto-000005596312@nivis.com>
References: <auto-000005596312@nivis.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <CC0608B8-6044-11D9-A021-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Problems...
Date: Thu, 6 Jan 2005 19:40:58 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.7 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 6, 2005, at 6:23 PM, Ross Rankin wrote:
> Could you explain this piece further, Erik "BooleanQuery and AND in
> TermQuery for resellerId"

Your code did a textual concatenation (and I'm paraphrasing as I don't 
have your previous e-mail handy) of "id:" + resellerId.  And then it 
parsed the expression.  This is not necessarily a problem, though I red 
flag it because of what QueryParser and Analyzers can do with that 
resellerId.  Regardless of how you indexed the reseller id field, an 
analyzer will process it when using QueryParser on it.  If that id is 
completely numeric, some analyzers will toss it, others may leave it 
alone.  If it has alpha characters in it, they may be lowercased.  In 
other words there are lots of variables.  This can be avoided by doing 
this:

	TermQuery tq = new TermQuery(new Term("id", resellerId));
	Query query = QueryParser.parse(/* the main expression */)
	BooleanQuery bq = new BooleanQuery();
	bq.add(tq, true, false);
	bq.add(query, true, false);

Now use bq as the query passed to search().

Make sense?

> I would love to improve the code of this piece and understand the 
> engine
> more.  Like for example, if something is indexed, it will be found in 
> the
> search but what about something that is just in the document and not
> indexed?

If the field is not indexed (but just stored), you cannot search on it.

>   I don't know the difference in Stored, Tokenized, Indexed, and
> Vector and where I would do what...  Is there info on that piece on 
> the web
> somewhere?

Stored = as-is value stored in the Lucene index

Tokenized = field is analyzed using the specified Analyzer - the tokens 
emitted are indexed

Indexed = the text (either as-is with keyword fields, or the tokens 
from tokenized fields) is made searchable (aka inverted)

Vectored = term frequency is stored in the index in an easily 
retrievable fashion.

> Like I have a large (6000 chars) text field I would like to add to the
> document, it's HTML.  I am guessing first it would need to be parsed 
> then
> added?  But added and indexed?  The field contains product specs and 
> product
> compatibility (most in a table form).

You definitely want to parse the HTML file (using NekoHTML, perhaps) 
and extract the text into fields.  Maybe the <title> and <body> should 
be separated, for example.

And yes, you would want these fields indexed since you want to search 
on them, I presume.

Stored fields, but not indexed, fields are for metadata you want 
carried along with search results (like the primary key to a database 
row, or a filename) that you'd use to display the results but is not 
needed for searching.

> Sorry for the newbie questions but I am not finding Google very chock 
> full
> of Lucene info...

Have I got a book to sell you!  :)  http://www.lucenebook.com

	Erik
	



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12306-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 03:49:51 2005
Return-Path: <lucene-user-return-12306-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11917 invoked from network); 7 Jan 2005 03:49:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 03:49:50 -0000
Received: (qmail 23877 invoked by uid 500); 7 Jan 2005 03:49:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23856 invoked by uid 500); 7 Jan 2005 03:49:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23842 invoked by uid 99); 7 Jan 2005 03:49:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of john.wang@gmail.com designates 64.233.170.197 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.197)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 19:49:44 -0800
Received: by rproxy.gmail.com with SMTP id i8so141302rne
        for <lucene-user@jakarta.apache.org>; Thu, 06 Jan 2005 19:49:43 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=tWUEOMAnieGEzQwFmpgnmMobsVEo/QHj5ktdhAwX3Ds8+T2WqKxWxyokM0fe01F4H3ZH6x3iamYYySkvmNuulwFcUkLhmkJ1DTMYEYx+sVxItIvW+DgR/3tB+qXryJQjVBoMK15VIgsfmA7yyxR2b7xOjZG0InNi2rpqgS4u2Qo=
Received: by 10.38.82.47 with SMTP id f47mr257845rnb;
        Thu, 06 Jan 2005 19:49:43 -0800 (PST)
Received: by 10.38.209.68 with HTTP; Thu, 6 Jan 2005 19:49:42 -0800 (PST)
Message-ID: <8837fb77050106194940a41d05@mail.gmail.com>
Date: Thu, 6 Jan 2005 19:49:42 -0800
From: John Wang <john.wang@gmail.com>
Reply-To: John Wang <john.wang@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: reading fields selectively
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi:

   Is there some way to read only 1 field value from an index given a docID?

   From the current API, in order to get a field from given a docID, I
would call:
 
    IndexSearcher.document(docID)

     which in turn reads in all fields from the disk.

   Here is my problem:

           After the search, I have a set of docIDs. For each
document, I have a unique string identifier. At this point I only need
these identifiers but with the above API, I am forced to read the
entire row of fields for each document in the search result, which in
my case can be very large.

           Is there an alternative?

I am thinking more on the lines of a call:

           Field[] getFields(int docID,String fieldName);

Thanks

-John

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12307-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 05:46:25 2005
Return-Path: <lucene-user-return-12307-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56057 invoked from network); 7 Jan 2005 05:46:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 05:46:25 -0000
Received: (qmail 54856 invoked by uid 500); 7 Jan 2005 05:46:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54834 invoked by uid 500); 7 Jan 2005 05:46:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54820 invoked by uid 99); 7 Jan 2005 05:46:21 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12702.mail.yahoo.com (HELO web12702.mail.yahoo.com) (216.136.173.239)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 06 Jan 2005 21:46:20 -0800
Received: (qmail 63901 invoked by uid 60001); 7 Jan 2005 05:46:18 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=J2m0IfYBHHrdNMAsJ+HFr+sfthIOj/N63+CiMG7vZ1ekM1UEgPUucNnWvWuOJ1rakbii6sfXSk5v1e6pDtIikYT9p8NKWLMX0iDHWJbHJsst4kE5azpo82t/G/C6kCN+Bb1aNc+70EdmRqqO10Rz72KvpTy4fAq64vMOxWrL4kk=  ;
Message-ID: <20050107054618.63899.qmail@web12702.mail.yahoo.com>
Received: from [70.49.119.142] by web12702.mail.yahoo.com via HTTP; Thu, 06 Jan 2005 21:46:18 PST
Date: Thu, 6 Jan 2005 21:46:18 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: reading fields selectively
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  John Wang <john.wang@gmail.com>
In-Reply-To: <8837fb77050106194940a41d05@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi John,

There is no API for this, but I recall somebody talking about adding
support for this a few months back.  I even think that somebody might
have contributed a patch for this.  I am not certain about this, but
check the patch queue (link on Lucene site).  If there is a patch
there, even if the patch no longer applies cleanly, you'll be able to
borrow the code for your own patch.  Also note that the CVS version has
support for field compression, which should help with performance if
you are working with large fields.

Otis

--- John Wang <john.wang@gmail.com> wrote:

> Hi:
> 
>    Is there some way to read only 1 field value from an index given a
> docID?
> 
>    From the current API, in order to get a field from given a docID,
> I
> would call:
>  
>     IndexSearcher.document(docID)
> 
>      which in turn reads in all fields from the disk.
> 
>    Here is my problem:
> 
>            After the search, I have a set of docIDs. For each
> document, I have a unique string identifier. At this point I only
> need
> these identifiers but with the above API, I am forced to read the
> entire row of fields for each document in the search result, which in
> my case can be very large.
> 
>            Is there an alternative?
> 
> I am thinking more on the lines of a call:
> 
>            Field[] getFields(int docID,String fieldName);
> 
> Thanks
> 
> -John
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12308-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 05:51:16 2005
Return-Path: <lucene-user-return-12308-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57711 invoked from network); 7 Jan 2005 05:51:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 05:51:16 -0000
Received: (qmail 63377 invoked by uid 500); 7 Jan 2005 05:51:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63357 invoked by uid 500); 7 Jan 2005 05:51:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63343 invoked by uid 99); 7 Jan 2005 05:51:11 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12707.mail.yahoo.com (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 06 Jan 2005 21:51:10 -0800
Received: (qmail 82475 invoked by uid 60001); 7 Jan 2005 05:51:09 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=UKsLsEIhZpZgAE2p3jB/HpUt2pr5/CECvKE8h0gHYhFtjTS4C+fUSGB9VIyBwIXZK4s+b3nyaRfjmFhxjaWNoiQjz2nvdH2ikgAjMzwRENchprNQlyCwGTPgAo6sBlYXfcaCWCLUp4moSvQ73Sa5C4uYYctANYL2cfCxdISP1UE=  ;
Message-ID: <20050107055109.82473.qmail@web12707.mail.yahoo.com>
Received: from [70.49.119.142] by web12707.mail.yahoo.com via HTTP; Thu, 06 Jan 2005 21:51:09 PST
Date: Thu, 6 Jan 2005 21:51:09 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene Book in UK
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <E258064B-602B-11D9-B0B2-000A95BC61B6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The book is $44.95 USD - it's printed on the back cover.  Amazon had
the correct price (minus their discount) until recently.  They are just
very slow with their site/book info updates, but I'm sure they'll fix
it eventually.

Otis


--- Erik Hatcher <erik@ehatchersolutions.com> wrote:

> 
> On Jan 6, 2005, at 3:49 PM, Chris Hostetter wrote:
> > B&N agrees that the list price is $60.95 ... which may be what
> Manning 
> > is
> > citing to resellers.
> 
> This is incorrect information that has somehow gotten out.  Amazon
> and 
> B&N are slow to update their information, but Manning assures me that
> 
> they have provided the correct information to Amazon to update.  The 
> actual price you're paying is certainly not indicative of a $60.95
> list 
> price - Amazon doesn't discount 50%, I'm sure.
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12309-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 06:01:21 2005
Return-Path: <lucene-user-return-12309-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60267 invoked from network); 7 Jan 2005 06:01:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 06:01:21 -0000
Received: (qmail 73424 invoked by uid 500); 7 Jan 2005 06:01:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73395 invoked by uid 500); 7 Jan 2005 06:01:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73382 invoked by uid 99); 7 Jan 2005 06:01:17 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=BIZ_TLD,DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12702.mail.yahoo.com (HELO web12702.mail.yahoo.com) (216.136.173.239)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 06 Jan 2005 22:01:16 -0800
Received: (qmail 65019 invoked by uid 60001); 7 Jan 2005 06:01:15 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=0Naiz6KSLydLiJDeJ18fxiMBNWDxOLq0hp1R5v+I59M2vagbCWVcHQ/aGy2qN/WEOfnm7BbXr2SLQHOKB7Jc8rB5XLZs8JWqn85IUyr0IpGbbVON7JdjbubEzb16vULsfGqmw2LSi85xeZeESvtSpj3PhbdCjNxh7H0KubIgbgM=  ;
Message-ID: <20050107060115.65017.qmail@web12702.mail.yahoo.com>
Received: from [70.49.119.142] by web12702.mail.yahoo.com via HTTP; Thu, 06 Jan 2005 22:01:14 PST
Date: Thu, 6 Jan 2005 22:01:14 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: RemoteSearcher
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  Yura Smolsky <info@altervision.biz>
In-Reply-To: <888211257.20050106093946@altervision.biz>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Nutch (nutch.org) has a pretty sophisticated infrastructure for
distributed searching, but it doesn't use RemoteSearcher.

Otis

--- Yura Smolsky <info@altervision.biz> wrote:

> Hello.
> 
> Does anyone know application which based on RemoteSearcher to
> distribute index on many servers?
> 
> Yura Smolsky,
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12310-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 07:03:55 2005
Return-Path: <lucene-user-return-12310-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77715 invoked from network); 7 Jan 2005 07:03:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 07:03:54 -0000
Received: (qmail 27396 invoked by uid 500); 7 Jan 2005 07:03:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26564 invoked by uid 500); 7 Jan 2005 07:03:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26549 invoked by uid 99); 7 Jan 2005 07:03:51 -0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,HTML_40_50,HTML_MESSAGE,HTML_TAG_EXIST_TBODY
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from web90103.mail.scd.yahoo.com (HELO web90103.mail.scd.yahoo.com) (66.218.94.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 06 Jan 2005 23:03:49 -0800
Received: (qmail 27411 invoked by uid 60001); 7 Jan 2005 07:03:47 -0000
Message-ID: <20050107070347.27409.qmail@web90103.mail.scd.yahoo.com>
Received: from [137.132.136.237] by web90103.mail.scd.yahoo.com via HTTP; Fri, 07 Jan 2005 15:03:47 CST
Date: Fri, 7 Jan 2005 15:03:47 +0800 (CST)
From: jac jac <foria88@yahoo.com.sg>
Subject: questions
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20050107060115.65017.qmail@web12702.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-76342400-1105081427=:26935"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-76342400-1105081427=:26935
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit


Hi I am a newbie and i just installed Tomcat on my machine.
May I know, when i placed the Luceneweb folder in the webapps folder of Tomcat, how come I couldn't conduct the search operation when i test the website? Did I missed out anything?
 
It prompts me that there is no c:\opt\index\segment folder...
I created but i still couldnt get Lucene to work...
 
At http://jakarta.apache.org/lucene/docs/demo.html:
under the Indexing file instruction where should I do the following "type "java org.apache.lucene.demo.IndexFiles {full-path-to-lucene}/src". "??? 
Is it a must to install ant?
 
Please kindly help!!! Thanks very much in advance!!!!
 
regards,
jac 


		
---------------------------------
Do you Yahoo!?
 The all-new My Yahoo!  What will yours do?
--0-76342400-1105081427=:26935--

From lucene-user-return-12311-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 07:59:39 2005
Return-Path: <lucene-user-return-12311-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98939 invoked from network); 7 Jan 2005 07:59:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 07:59:39 -0000
Received: (qmail 3457 invoked by uid 500); 7 Jan 2005 07:59:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3438 invoked by uid 500); 7 Jan 2005 07:59:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3423 invoked by uid 99); 7 Jan 2005 07:59:34 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from mail.anchormen.nl (HELO mail.anchormen.nl) (212.83.242.16)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 06 Jan 2005 23:59:33 -0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Lucene Book in UK
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Date: Fri, 7 Jan 2005 08:59:29 +0100
Message-ID: <24CFCE44DCB015489FB96D38BDF4FCAA0710D4@gerard.anchormen.nl>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene Book in UK
thread-index: AcT0HN/1ISF0dqw+R5it2XxU6JJ2KQAccd5g
From: "Peter Veentjer - Anchor Men" <p.veentjer@anchormen.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You could buy the ebook from Manning.. It only costs $22,50 and that
makes 16 euro :)

I have bought it there.. 2 minutes later I was reading it.

-----Oorspronkelijk bericht-----
Van: David Townsend [mailto:david.townsend@magus.co.uk]=20
Verzonden: donderdag 6 januari 2005 19:24
Aan: Lucene Users List (E-mail)
Onderwerp: Lucene Book in UK

Sorry if this is the wrong forum but I wondered what's happened to
'Lucene In Action' in the UK.  Looking forward to reading it but
amazon.co.uk report it as a 'hard to find' item and are now quoting a
4-6 week delivery time and  tacking on a rare book charge.  Amazon.com
are quoting shipping in 24hrs.  Is this a new 'Boston Tea Party'?=20

cheers

David




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12312-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 08:22:08 2005
Return-Path: <lucene-user-return-12312-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27140 invoked from network); 7 Jan 2005 08:22:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 08:22:08 -0000
Received: (qmail 33040 invoked by uid 500); 7 Jan 2005 08:22:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33018 invoked by uid 500); 7 Jan 2005 08:22:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33004 invoked by uid 99); 7 Jan 2005 08:22:00 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 00:21:58 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id F2DE05B7C5; Fri,  7 Jan 2005 00:20:59 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id F05A57F459
	for <lucene-user@jakarta.apache.org>; Fri,  7 Jan 2005 00:20:59 -0800 (PST)
Date: Fri, 7 Jan 2005 00:20:59 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Problems...
In-Reply-To: <CC0608B8-6044-11D9-A021-000393A564E6@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.58.0501070019540.18728@hal.rescomp.berkeley.edu>
References: <auto-000005596312@nivis.com> <CC0608B8-6044-11D9-A021-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


: Stored = as-is value stored in the Lucene index
:
: Tokenized = field is analyzed using the specified Analyzer - the tokens
: emitted are indexed
:
: Indexed = the text (either as-is with keyword fields, or the tokens
: from tokenized fields) is made searchable (aka inverted)
:
: Vectored = term frequency is stored in the index in an easily
: retrievable fashion.

FYI: I've FAQed this...

http://wiki.apache.org/jakarta-lucene/LuceneFAQ


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12313-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 08:30:03 2005
Return-Path: <lucene-user-return-12313-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36635 invoked from network); 7 Jan 2005 08:30:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 08:30:02 -0000
Received: (qmail 47764 invoked by uid 500); 7 Jan 2005 08:29:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47551 invoked by uid 500); 7 Jan 2005 08:29:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47536 invoked by uid 99); 7 Jan 2005 08:29:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from artishost.net (HELO artisangel.artishost.net) (69.56.132.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 00:29:52 -0800
Received: from [81.25.36.107] (helo=localhost)
	by artisangel.artishost.net with esmtpa (Exim 4.43)
	id 1CmpV8-0002P6-FL; Fri, 07 Jan 2005 02:29:44 -0600
Date: Fri, 7 Jan 2005 10:30:15 +0200
From: Yura Smolsky <info@altervision.biz>
X-Mailer: The Bat! (v3.0.1.33) Professional
Reply-To: Yura Smolsky <info@altervision.biz>
Organization: AlterVision Web Development Group
X-Priority: 3 (Normal)
Message-ID: <1948296134.20050107103015@altervision.biz>
To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
CC: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re[2]: RemoteSearcher
In-Reply-To: <20050107060115.65017.qmail@web12702.mail.yahoo.com>
References: <888211257.20050106093946@altervision.biz>
 <20050107060115.65017.qmail@web12702.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Score: 0.0
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - artisangel.artishost.net
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - altervision.biz
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello, Otis.

Interesting. Nutch doesnt use RemoteSearchable b/b RemoteSearchable is not
very useful? I mean does it suitable for distibuting index process in
parallel on many services or not? Will it give us good performance.

We have RemoteSearchable in the sources, but anyone does not use it. :)

I ask this question, b/c I use PyLucene (very good port in
Python) and I need to realize a lot of things about implementation of
RemoteSearchable in omniORBpy (CORBA).  I have big index (3,000,000 docs) and
many fields. I have noticed, that search becomes slower. I want to
distribute index on many servers. Does RemoteSearchable worse of it?

BTW, Is there working demo of nutch with big index?

OG> Nutch (nutch.org) has a pretty sophisticated infrastructure for
OG> distributed searching, but it doesn't use RemoteSearcher.

>>
>> Does anyone know application which based on RemoteSearcher to
>> distribute index on many servers?
>> 


Yura Smolsky,




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12314-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 08:59:39 2005
Return-Path: <lucene-user-return-12314-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47927 invoked from network); 7 Jan 2005 08:59:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 08:59:39 -0000
Received: (qmail 88646 invoked by uid 500); 7 Jan 2005 08:59:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88554 invoked by uid 500); 7 Jan 2005 08:59:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88497 invoked by uid 99); 7 Jan 2005 08:59:29 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web26006.mail.ukl.yahoo.com (HELO web26006.mail.ukl.yahoo.com) (217.12.10.217)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 07 Jan 2005 00:59:27 -0800
Received: (qmail 97965 invoked by uid 60001); 7 Jan 2005 08:59:25 -0000
Message-ID: <20050107085925.97963.qmail@web26006.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26006.mail.ukl.yahoo.com via HTTP; Fri, 07 Jan 2005 08:59:25 GMT
Date: Fri, 7 Jan 2005 08:59:25 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: reading fields selectively
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>>There is no API for this, but I recall somebody
>> talking about adding support for this a few months
>> back

See
http://marc.theaimsgroup.com/?l=lucene-dev&m=109485996612177&w=2

This implementation was working on a version of Lucene
before compression was introduced so things may have
changed a little.


Cheers,
Mark


	
	
		
___________________________________________________________ 
ALL-NEW Yahoo! Messenger - all new features - even more fun! http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12315-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 09:20:48 2005
Return-Path: <lucene-user-return-12315-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57512 invoked from network); 7 Jan 2005 09:20:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 09:20:48 -0000
Received: (qmail 31016 invoked by uid 500); 7 Jan 2005 09:20:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30992 invoked by uid 500); 7 Jan 2005 09:20:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30977 invoked by uid 99); 7 Jan 2005 09:20:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of john.wang@gmail.com designates 64.233.170.204 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.204)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 01:20:40 -0800
Received: by rproxy.gmail.com with SMTP id i8so185468rne
        for <lucene-user@jakarta.apache.org>; Fri, 07 Jan 2005 01:20:38 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=OXdjA7Ej8kq7y8+ZdSW/SOFb3UxNhZwmr+o3w6Nur95Y1uxWUMIArcpuYPwnhb5MMuT5HkK0AxNatU4VP/HjDbeyVUJBd8X4m0PPz7IuNfZ6BcChOET/MlxEjkaAraz+u5GXul5zaEwZwooOholYyywLR+tN9Kj/Y3511lF9a6w=
Received: by 10.38.65.30 with SMTP id n30mr122257rna;
        Fri, 07 Jan 2005 01:20:38 -0800 (PST)
Received: by 10.38.209.68 with HTTP; Fri, 7 Jan 2005 01:20:38 -0800 (PST)
Message-ID: <8837fb77050107012021ffd09c@mail.gmail.com>
Date: Fri, 7 Jan 2005 01:20:38 -0800
From: John Wang <john.wang@gmail.com>
Reply-To: John Wang <john.wang@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: reading fields selectively
In-Reply-To: <20050107085925.97963.qmail@web26006.mail.ukl.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <20050107085925.97963.qmail@web26006.mail.ukl.yahoo.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks guys for the info!

After looking at the patch code I have two problems:

1) The patch implementation doesn't help with performance. It still
reads the data for every field in the document. Just not storing all
of them. So this implementation helps if there are memory
restrictions, but not if you are after performance.

2) We are bundling Lucene in our application, we are trying very hard
not having to change Lucene code and thus divert from the Lucene code
base. This patch implementation requires you to make changes to
SegmentReader.java. I am hoping not having to do that.


Any ideas?

Thanks

-John


On Fri, 7 Jan 2005 08:59:25 +0000 (GMT), mark harwood
<markharw00d@yahoo.co.uk> wrote:
> >>There is no API for this, but I recall somebody
> >> talking about adding support for this a few months
> >> back
> 
> See
> http://marc.theaimsgroup.com/?l=lucene-dev&m=109485996612177&w=2
> 
> This implementation was working on a version of Lucene
> before compression was introduced so things may have
> changed a little.
> 
> Cheers,
> Mark
> 
> 
> ___________________________________________________________
> ALL-NEW Yahoo! Messenger - all new features - even more fun! http://uk.messenger.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12316-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 09:26:42 2005
Return-Path: <lucene-user-return-12316-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59971 invoked from network); 7 Jan 2005 09:26:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 09:26:42 -0000
Received: (qmail 40998 invoked by uid 500); 7 Jan 2005 09:26:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40974 invoked by uid 500); 7 Jan 2005 09:26:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40960 invoked by uid 99); 7 Jan 2005 09:26:34 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of john.wang@gmail.com designates 64.233.170.201 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.201)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 01:26:33 -0800
Received: by rproxy.gmail.com with SMTP id i8so186368rne
        for <lucene-user@jakarta.apache.org>; Fri, 07 Jan 2005 01:26:31 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=IJQ1jMfnmGgqoXrQE1IbGO7IGpSsx/wrsjkfHa7axdFHF5sNvPT55731qYkPDAXd/pfV0oF4g9u7cuj9vQMm5QrQRYu2iJvOi5FcIpYhieeTQkMCZYtKHbwnb3Qzqd179fzZIJ7AYpH2QTiORl9rot29nfv2bmaI5pgCzV1abyQ=
Received: by 10.38.208.29 with SMTP id f29mr121505rng;
        Fri, 07 Jan 2005 01:26:31 -0800 (PST)
Received: by 10.38.209.68 with HTTP; Fri, 7 Jan 2005 01:26:30 -0800 (PST)
Message-ID: <8837fb7705010701263b4f9745@mail.gmail.com>
Date: Fri, 7 Jan 2005 01:26:30 -0800
From: John Wang <john.wang@gmail.com>
Reply-To: John Wang <john.wang@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: setting Similarity at search time
In-Reply-To: <E3381E0825F1954D953A4E347017BB1C028BA2FD@reh001-1.REX001.ExchangeByRegister.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <AcTLSayD6FfmwPuPSBSYMwacATAhswADM34w>
	 <E3381E0825F1954D953A4E347017BB1C028BA2FD@reh001-1.REX001.ExchangeByRegister.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Chuck:

     Trying to follow up on this thread. Do you know if this feature
will be incorporated in the next Lucene release?

     How would someone find out which patches will go into the next release?

Thanks

-John


On Mon, 15 Nov 2004 13:05:36 -0800, Chuck Williams <chuck@manawiz.com> wrote:
> Take a look at this:
> 
> http://issues.apache.org/bugzilla/show_bug.cgi?id=31841
> 
> Not my initial patch, but the latest patch from Wolf Siberski.  I
> haven't used it yet, but it looks like what you are looking for, and
> something I want to use too.
> 
> Chuck
> 
>   > -----Original Message-----
>   > From: Ken McCracken [mailto:ken.mccracken@gmail.com]
>   > Sent: Monday, November 15, 2004 11:31 AM
>   > To: Lucene Users List
>   > Subject: setting Similarity at search time
>   >
>   > Hi,
>   >
>   > Is there a way to set the Similarity at search(...) time, rather
> than
>   > just setting it on the (Index)Searcher object itself?  I'd like to
> be
>   > able to specify different similarities in different threads
> searching
>   > concurrently, using the same IndexSearcher instance.
>   >
>   > In my use case, the choice of Similarity is a parameter of the
> search
>   > request, and hence may be different for each request.
>   >
>   > Can such a method be added to override the search(...) method?
>   >
>   > Thanks,
>   > -Ken
>   >
>   >
> ---------------------------------------------------------------------
>   > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>   > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12317-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 09:32:21 2005
Return-Path: <lucene-user-return-12317-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62678 invoked from network); 7 Jan 2005 09:32:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 09:32:21 -0000
Received: (qmail 53453 invoked by uid 500); 7 Jan 2005 09:32:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53425 invoked by uid 500); 7 Jan 2005 09:32:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53411 invoked by uid 99); 7 Jan 2005 09:32:13 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web26003.mail.ukl.yahoo.com (HELO web26003.mail.ukl.yahoo.com) (217.12.10.214)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 07 Jan 2005 01:32:13 -0800
Received: (qmail 27211 invoked by uid 60001); 7 Jan 2005 09:32:10 -0000
Message-ID: <20050107093210.27209.qmail@web26003.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26003.mail.ukl.yahoo.com via HTTP; Fri, 07 Jan 2005 09:32:10 GMT
Date: Fri, 7 Jan 2005 09:32:10 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: reading fields selectively
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>>It still reads the data for every field in the
document

No, not if your fields are positioned in the right
order. It stops reading fields after it has got what
is needed. 
If your doc has fields in the order:

smallFrequentlyReadField, largeRarelyReadField

then the patch will not read "largeRarelyReadField"
off the disk when you ask for
"smallFrequentlyReadField".

If the fields are ordered the other way around then
there is (currently) no way of knowing the offset of
the smallFrequentlyReadField so all fields would have
to be read.

Hope this helps.
Mark


	
	
		
___________________________________________________________ 
ALL-NEW Yahoo! Messenger - all new features - even more fun! http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12318-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 10:23:49 2005
Return-Path: <lucene-user-return-12318-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86747 invoked from network); 7 Jan 2005 10:23:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 10:23:49 -0000
Received: (qmail 31143 invoked by uid 500); 7 Jan 2005 10:23:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30310 invoked by uid 500); 7 Jan 2005 10:23:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30294 invoked by uid 99); 7 Jan 2005 10:23:45 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,HTML_20_30,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web42007.mail.yahoo.com (HELO web42007.mail.yahoo.com) (66.218.93.175)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 07 Jan 2005 02:23:44 -0800
Received: (qmail 9368 invoked by uid 60001); 7 Jan 2005 10:23:42 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=Fa35yYswY6yJQ7eZGjza7sVQI2zVxtoSK1MDCLXOtwbelgD9aK+JLOy377HP2zTwYeLlImtVOyRqv/m6L/OKBE6eJES4Ea0pgkweRDT2d5JfDPzd06niDnJXYeskpL7u5y8vWfZGqwfAFo+50X/HRE36duONQTZtFa/Evyy/zAk=  ;
Message-ID: <20050107102342.9365.qmail@web42007.mail.yahoo.com>
Received: from [219.64.131.147] by web42007.mail.yahoo.com via HTTP; Fri, 07 Jan 2005 02:23:42 PST
Date: Fri, 7 Jan 2005 02:23:42 -0800 (PST)
From: mahaveer jain <jainmahaveer23@yahoo.com>
Subject: Duplicate Id
To: lucene user <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1503520034-1105093422=:99543"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-1503520034-1105093422=:99543
Content-Type: text/plain; charset=us-ascii

Hi,
 
I have a application where I know I will have duplicate ID's. When I search these duplicate ID's will it search content in both the files ?
 
For Example :
 
Id = Mahaveer, Content = Jain India
Id = Mahaveer, Content = Lucene Test
 
Now when I search for India Test will it return both the columns ? Also can I display unique results ?
 
Mahaveer
 
 

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-1503520034-1105093422=:99543--

From lucene-user-return-12319-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 10:58:26 2005
Return-Path: <lucene-user-return-12319-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98178 invoked from network); 7 Jan 2005 10:58:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 10:58:26 -0000
Received: (qmail 88911 invoked by uid 500); 7 Jan 2005 10:58:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88878 invoked by uid 500); 7 Jan 2005 10:58:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88861 invoked by uid 99); 7 Jan 2005 10:58:19 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 02:58:18 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id AB13613E28F6; Fri,  7 Jan 2005 05:58:15 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 27BA913E2007
	for <lucene-user@jakarta.apache.org>; Fri,  7 Jan 2005 05:58:03 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <8837fb7705010701263b4f9745@mail.gmail.com>
References: <AcTLSayD6FfmwPuPSBSYMwacATAhswADM34w> <E3381E0825F1954D953A4E347017BB1C028BA2FD@reh001-1.REX001.ExchangeByRegister.com> <8837fb7705010701263b4f9745@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <FEBF2027-609A-11D9-9933-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: setting Similarity at search time
Date: Fri, 7 Jan 2005 05:57:59 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.7 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 7, 2005, at 4:26 AM, John Wang wrote:
>      Trying to follow up on this thread. Do you know if this feature
> will be incorporated in the next Lucene release?
>
>      How would someone find out which patches will go into the next 
> release?

CVS commit messages are sent to the lucene-dev e-mail list.  This is 
the best way to see what is happening with the codebase.  As for what 
is planned, see here:

	http://wiki.apache.org/jakarta-lucene/Lucene2Whiteboard

Lucene is community-driven, though, so if you have a compelling 
rationale for why something should be committed by all means lobby for 
it.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12320-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 14:05:35 2005
Return-Path: <lucene-user-return-12320-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88611 invoked from network); 7 Jan 2005 14:05:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 14:05:35 -0000
Received: (qmail 29042 invoked by uid 500); 7 Jan 2005 14:05:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28769 invoked by uid 500); 7 Jan 2005 14:05:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28756 invoked by uid 99); 7 Jan 2005 14:05:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork3.mail.Virginia.EDU (HELO fork3.mail.virginia.edu) (128.143.2.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 06:05:27 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id 308591C177
	for <lucene-user@jakarta.apache.org>; Fri,  7 Jan 2005 09:05:25 -0500 (EST)
Received: from fork3.mail.virginia.edu ([127.0.0.1])
 by localhost (fork3.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 10825-07 for <lucene-user@jakarta.apache.org>;
 Fri,  7 Jan 2005 09:05:24 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id E3D0C1C001
	for <lucene-user@jakarta.apache.org>; Fri,  7 Jan 2005 09:05:24 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
Content-Transfer-Encoding: 7bit
Message-Id: <421F45EA-60B5-11D9-8024-000A95BC61B6@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: Lucene User <lucene-user@jakarta.apache.org>
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Use search engine technology for object persistence
Date: Fri, 7 Jan 2005 09:05:59 -0500
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork3.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Interesting article:

	http://www.javaworld.com/javaworld/jw-01-2005/jw-0103-search_p.html

I don't agree with the use of QueryParser for non-human-entered 
queries, though, but otherwise its a reasonable approach for a 
light-weight object store.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12321-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 14:26:26 2005
Return-Path: <lucene-user-return-12321-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13680 invoked from network); 7 Jan 2005 14:26:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 14:26:25 -0000
Received: (qmail 65571 invoked by uid 500); 7 Jan 2005 14:26:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65330 invoked by uid 500); 7 Jan 2005 14:26:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65314 invoked by uid 99); 7 Jan 2005 14:26:20 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12708.mail.yahoo.com (HELO web12708.mail.yahoo.com) (216.136.173.245)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 07 Jan 2005 06:26:18 -0800
Received: (qmail 57230 invoked by uid 60001); 7 Jan 2005 14:26:16 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=G+eFgUMZpyZnL2QLJAaCIjFl8xYQb1qxdnNKQBcY45VDekZHtAJ5tvWOTXwQ55L2h4CvPvKDa5fBlsh6ZfEixywiV1LetrehcDZj9Fqu20dy6poYdA1kWWgQ/PCjN1YRedIcidnRRttlxvgc4Od0P5y9+I//58Zk2H1TAefKxoA=  ;
Message-ID: <20050107142616.57228.qmail@web12708.mail.yahoo.com>
Received: from [70.49.173.212] by web12708.mail.yahoo.com via HTTP; Fri, 07 Jan 2005 06:26:16 PST
Date: Fri, 7 Jan 2005 06:26:16 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Duplicate Id
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20050107102342.9365.qmail@web42007.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

If you search for India OR Test, you will find both, if you use AND,
you will find none.  Lucene can search any text, not just files.  It
sounds like you are using Lucene's demo as a real application (not a
good practise).  I suggest you take a look at the Resources page on the
Lucene Wiki to get a better idea about what Lucene is and how it can be
used.

Otis


--- mahaveer jain <jainmahaveer23@yahoo.com> wrote:

> Hi,
>  
> I have a application where I know I will have duplicate ID's. When I
> search these duplicate ID's will it search content in both the files
> ?
>  
> For Example :
>  
> Id = Mahaveer, Content = Jain India
> Id = Mahaveer, Content = Lucene Test
>  
> Now when I search for India Test will it return both the columns ?
> Also can I display unique results ?
>  
> Mahaveer
>  
>  
> 
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around 
> http://mail.yahoo.com 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12322-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 14:50:45 2005
Return-Path: <lucene-user-return-12322-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26050 invoked from network); 7 Jan 2005 14:50:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 14:50:44 -0000
Received: (qmail 25253 invoked by uid 500); 7 Jan 2005 14:50:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25218 invoked by uid 500); 7 Jan 2005 14:50:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25204 invoked by uid 99); 7 Jan 2005 14:50:36 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 06:50:36 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 7 Jan 2005 09:52:34 -0500
Message-ID: <006f01c4f4c8$85cb3460$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20050107070347.27409.qmail@web90103.mail.scd.yahoo.com>
Subject: Re: questions
Date: Fri, 7 Jan 2005 09:52:34 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 07 Jan 2005 14:52:34.0940 (UTC) FILETIME=[85D853C0:01C4F4C8]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello Jac;

If you have verified that the index folder is indeed being create and their
is a segment(s) file(s) in it, check that the IndexSearcher in the demo is
pointing to that location. This is a easy error to make and would account
for the error message no segments folder.

Luke


----- Original Message ----- 
From: "jac jac" <foria88@yahoo.com.sg>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, January 07, 2005 2:03 AM
Subject: questions


>
> Hi I am a newbie and i just installed Tomcat on my machine.
> May I know, when i placed the Luceneweb folder in the webapps folder of
Tomcat, how come I couldn't conduct the search operation when i test the
website? Did I missed out anything?
>
> It prompts me that there is no c:\opt\index\segment folder...
> I created but i still couldnt get Lucene to work...
>
> At http://jakarta.apache.org/lucene/docs/demo.html:
> under the Indexing file instruction where should I do the following "type
"java org.apache.lucene.demo.IndexFiles {full-path-to-lucene}/src". "???
> Is it a must to install ant?
>
> Please kindly help!!! Thanks very much in advance!!!!
>
> regards,
> jac
>
>
>
> ---------------------------------
> Do you Yahoo!?
>  The all-new My Yahoo! - What will yours do?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12323-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 15:03:52 2005
Return-Path: <lucene-user-return-12323-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33691 invoked from network); 7 Jan 2005 15:03:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 15:03:51 -0000
Received: (qmail 59708 invoked by uid 500); 7 Jan 2005 15:03:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59550 invoked by uid 500); 7 Jan 2005 15:03:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59327 invoked by uid 99); 7 Jan 2005 15:03:23 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mariella@lanl.gov designates 192.65.95.54 as permitted sender)
Received: from mailwasher.lanl.gov (HELO mailwasher-b.lanl.gov) (192.65.95.54)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 07:03:21 -0800
Received: from mailrelay2.lanl.gov (mailrelay2.lanl.gov [128.165.4.103])
	by mailwasher-b.lanl.gov (8.12.11/8.12.11/(ccn-5)) with ESMTP id j07F3bs9023668
	for <lucene-user@jakarta.apache.org>; Fri, 7 Jan 2005 08:03:37 -0700
Received: from cic-mail.lanl.gov (cic-mail.lanl.gov [128.165.4.115])
	by mailrelay2.lanl.gov (8.12.11/8.12.11/(ccn-5)) with ESMTP id j07F3Emp031391;
	Fri, 7 Jan 2005 08:03:15 -0700
Received: from butterfly.lanl.gov (butterfly.lanl.gov [128.165.10.37])
	by cic-mail.lanl.gov (8.12.11/8.12.11/(ccn-5)) with ESMTP id j07F3EdC020507;
	Fri, 7 Jan 2005 08:03:14 -0700
Message-Id: <5.2.1.1.2.20050107080203.00ada0a0@cic-mail.lanl.gov>
X-Sender: mariella@cic-mail.lanl.gov (Unverified)
X-Mailer: QUALCOMM Windows Eudora Version 5.2.1
Date: Fri, 07 Jan 2005 08:03:15 -0700
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
        lucene-user@jakarta.apache.org
From: Mariella Di Giacomo <mariella@lanl.gov>
Subject: Re: reading fields selectively
Cc: markharw00d@yahoo.co.uk
In-Reply-To: <20050107093210.27209.qmail@web26003.mail.ukl.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-PMX-Version: 4.7.0.111621
X-PMX-Version: 4.7.0.111621
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Probably this is trivial question.
How can you enforce the order of the fields when you index them ?

Thanks,

Mariella

At 09:32 AM 1/7/2005 +0000, mark harwood wrote:
> >>It still reads the data for every field in the
>document
>
>No, not if your fields are positioned in the right
>order. It stops reading fields after it has got what
>is needed.
>If your doc has fields in the order:
>
>smallFrequentlyReadField, largeRarelyReadField
>
>then the patch will not read "largeRarelyReadField"
>off the disk when you ask for
>"smallFrequentlyReadField".
>
>If the fields are ordered the other way around then
>there is (currently) no way of knowing the offset of
>the smallFrequentlyReadField so all fields would have
>to be read.
>
>Hope this helps.
>Mark
>
>
>
>
>
>___________________________________________________________
>ALL-NEW Yahoo! Messenger - all new features - even more fun! 
>http://uk.messenger.yahoo.com
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12324-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 15:24:15 2005
Return-Path: <lucene-user-return-12324-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45113 invoked from network); 7 Jan 2005 15:24:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 15:24:15 -0000
Received: (qmail 9214 invoked by uid 500); 7 Jan 2005 15:24:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9181 invoked by uid 500); 7 Jan 2005 15:24:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9165 invoked by uid 99); 7 Jan 2005 15:24:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork2.mail.Virginia.EDU (HELO fork2.mail.virginia.edu) (128.143.2.192)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 07:24:09 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork2.mail.virginia.edu (Postfix) with ESMTP id 2F1B71C19E
	for <lucene-user@jakarta.apache.org>; Fri,  7 Jan 2005 10:24:07 -0500 (EST)
Received: from fork2.mail.virginia.edu ([127.0.0.1])
 by localhost (fork2.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 04799-10 for <lucene-user@jakarta.apache.org>;
 Fri,  7 Jan 2005 10:24:06 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork2.mail.virginia.edu (Postfix) with ESMTP id DDF321BFF9
	for <lucene-user@jakarta.apache.org>; Fri,  7 Jan 2005 10:24:06 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <5.2.1.1.2.20050107080203.00ada0a0@cic-mail.lanl.gov>
References: <5.2.1.1.2.20050107080203.00ada0a0@cic-mail.lanl.gov>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <40A23A9B-60C0-11D9-8024-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: reading fields selectively
Date: Fri, 7 Jan 2005 10:24:41 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork2.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 7, 2005, at 10:03 AM, Mariella Di Giacomo wrote:
> Probably this is trivial question.
> How can you enforce the order of the fields when you index them ?

By the order in which you add them to a document.

	Erik


>
> Thanks,
>
> Mariella
>
> At 09:32 AM 1/7/2005 +0000, mark harwood wrote:
>> >>It still reads the data for every field in the
>> document
>>
>> No, not if your fields are positioned in the right
>> order. It stops reading fields after it has got what
>> is needed.
>> If your doc has fields in the order:
>>
>> smallFrequentlyReadField, largeRarelyReadField
>>
>> then the patch will not read "largeRarelyReadField"
>> off the disk when you ask for
>> "smallFrequentlyReadField".
>>
>> If the fields are ordered the other way around then
>> there is (currently) no way of knowing the offset of
>> the smallFrequentlyReadField so all fields would have
>> to be read.
>>
>> Hope this helps.
>> Mark
>>
>>
>>
>>
>>
>> ___________________________________________________________
>> ALL-NEW Yahoo! Messenger - all new features - even more fun! 
>> http://uk.messenger.yahoo.com
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12325-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 15:34:53 2005
Return-Path: <lucene-user-return-12325-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49712 invoked from network); 7 Jan 2005 15:34:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 15:34:53 -0000
Received: (qmail 28928 invoked by uid 500); 7 Jan 2005 15:34:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28907 invoked by uid 500); 7 Jan 2005 15:34:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28889 invoked by uid 99); 7 Jan 2005 15:34:47 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mariella@lanl.gov designates 192.65.95.54 as permitted sender)
Received: from mailwasher.lanl.gov (HELO mailwasher-b.lanl.gov) (192.65.95.54)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 07:34:46 -0800
Received: from mailrelay2.lanl.gov (mailrelay2.lanl.gov [128.165.4.103])
	by mailwasher-b.lanl.gov (8.12.11/8.12.11/(ccn-5)) with ESMTP id j07FZ208028035
	for <lucene-user@jakarta.apache.org>; Fri, 7 Jan 2005 08:35:03 -0700
Received: from cic-mail.lanl.gov (cic-mail.lanl.gov [128.165.4.115])
	by mailrelay2.lanl.gov (8.12.11/8.12.11/(ccn-5)) with ESMTP id j07FYdEt003791;
	Fri, 7 Jan 2005 08:34:39 -0700
Received: from butterfly.lanl.gov (butterfly.lanl.gov [128.165.10.37])
	by cic-mail.lanl.gov (8.12.11/8.12.11/(ccn-5)) with ESMTP id j07FYd2o001651;
	Fri, 7 Jan 2005 08:34:39 -0700
Message-Id: <5.2.1.1.2.20050107083257.00b0d388@cic-mail.lanl.gov>
X-Sender: mariella@cic-mail.lanl.gov (Unverified)
X-Mailer: QUALCOMM Windows Eudora Version 5.2.1
Date: Fri, 07 Jan 2005 08:34:40 -0700
To: lucene-user@jakarta.apache.org
From: Mariella Di Giacomo <mariella@lanl.gov>
Subject: Re: reading fields selectively
Cc: erik@ehatchersolutions.com
In-Reply-To: <40A23A9B-60C0-11D9-8024-000A95BC61B6@ehatchersolutions.com
 >
References: <5.2.1.1.2.20050107080203.00ada0a0@cic-mail.lanl.gov>
 <5.2.1.1.2.20050107080203.00ada0a0@cic-mail.lanl.gov>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-PMX-Version: 4.7.0.111621
X-PMX-Version: 4.7.0.111621
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

At 10:24 AM 1/7/2005 -0500, Erik Hatcher wrote:

>On Jan 7, 2005, at 10:03 AM, Mariella Di Giacomo wrote:
>>Probably this is trivial question.
>>How can you enforce the order of the fields when you index them ?
>
>By the order in which you add them to a document.

So when you do the following:

   doc.add(Field.Keyword("id", keywords[i]));
  doc.add(Field.UnIndexed("country", unindexed[i]));
  doc.add(Field.UnStored("contents", unstored[i]));
  doc.add(Field.Text("city", text[i]));

The first stored will be id, the second country and so on.
Is that correct ?

Mariella







>>Thanks,
>>
>>Mariella
>>
>>At 09:32 AM 1/7/2005 +0000, mark harwood wrote:
>>> >>It still reads the data for every field in the
>>>document
>>>
>>>No, not if your fields are positioned in the right
>>>order. It stops reading fields after it has got what
>>>is needed.
>>>If your doc has fields in the order:
>>>
>>>smallFrequentlyReadField, largeRarelyReadField
>>>
>>>then the patch will not read "largeRarelyReadField"
>>>off the disk when you ask for
>>>"smallFrequentlyReadField".
>>>
>>>If the fields are ordered the other way around then
>>>there is (currently) no way of knowing the offset of
>>>the smallFrequentlyReadField so all fields would have
>>>to be read.
>>>
>>>Hope this helps.
>>>Mark
>>>
>>>
>>>
>>>
>>>
>>>___________________________________________________________
>>>ALL-NEW Yahoo! Messenger - all new features - even more fun! 
>>>http://uk.messenger.yahoo.com
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12326-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 15:54:56 2005
Return-Path: <lucene-user-return-12326-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60545 invoked from network); 7 Jan 2005 15:54:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 15:54:55 -0000
Received: (qmail 90547 invoked by uid 500); 7 Jan 2005 15:54:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90524 invoked by uid 500); 7 Jan 2005 15:54:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90511 invoked by uid 99); 7 Jan 2005 15:54:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork2.mail.Virginia.EDU (HELO fork2.mail.virginia.edu) (128.143.2.192)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 07:54:49 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork2.mail.virginia.edu (Postfix) with ESMTP id 730CF1C19D
	for <lucene-user@jakarta.apache.org>; Fri,  7 Jan 2005 10:54:47 -0500 (EST)
Received: from fork2.mail.virginia.edu ([127.0.0.1])
 by localhost (fork2.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 11866-10 for <lucene-user@jakarta.apache.org>;
 Fri,  7 Jan 2005 10:54:47 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork2.mail.virginia.edu (Postfix) with ESMTP id 2EA081C19A
	for <lucene-user@jakarta.apache.org>; Fri,  7 Jan 2005 10:54:47 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <5.2.1.1.2.20050107083257.00b0d388@cic-mail.lanl.gov>
References: <5.2.1.1.2.20050107080203.00ada0a0@cic-mail.lanl.gov> <5.2.1.1.2.20050107080203.00ada0a0@cic-mail.lanl.gov> <5.2.1.1.2.20050107083257.00b0d388@cic-mail.lanl.gov>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <89A2B70E-60C4-11D9-8024-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: reading fields selectively
Date: Fri, 7 Jan 2005 10:55:22 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork2.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 7, 2005, at 10:34 AM, Mariella Di Giacomo wrote:
> At 10:24 AM 1/7/2005 -0500, Erik Hatcher wrote:
>
>> On Jan 7, 2005, at 10:03 AM, Mariella Di Giacomo wrote:
>>> Probably this is trivial question.
>>> How can you enforce the order of the fields when you index them ?
>>
>> By the order in which you add them to a document.
>
> So when you do the following:
>
>   doc.add(Field.Keyword("id", keywords[i]));
>  doc.add(Field.UnIndexed("country", unindexed[i]));
>  doc.add(Field.UnStored("contents", unstored[i]));
>  doc.add(Field.Text("city", text[i]));
>
> The first stored will be id, the second country and so on.
> Is that correct ?
>

Yes.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12327-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 16:37:38 2005
Return-Path: <lucene-user-return-12327-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86462 invoked from network); 7 Jan 2005 16:37:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 16:37:37 -0000
Received: (qmail 91724 invoked by uid 500); 7 Jan 2005 16:37:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91695 invoked by uid 500); 7 Jan 2005 16:37:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91680 invoked by uid 99); 7 Jan 2005 16:37:31 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mspmail2.stellent.com (HELO mspmail2.stellent.com) (12.40.185.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 08:37:29 -0800
Received: from [10.10.20.20] ([10.10.20.20])
	by mspmail2.stellent.com (8.11.6+Sun/8.11.5) with ESMTP id j07GbQ100050
	for <lucene-user@jakarta.apache.org>; Fri, 7 Jan 2005 10:37:26 -0600 (CST)
Subject: Re: Use search engine technology for object persistence
From: Luke Francl <luke.francl@stellent.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <421F45EA-60B5-11D9-8024-000A95BC61B6@ehatchersolutions.com>
References: <421F45EA-60B5-11D9-8024-000A95BC61B6@ehatchersolutions.com>
Content-Type: text/plain
Message-Id: <1105115835.1884.60.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 
Date: Fri, 07 Jan 2005 10:37:16 -0600
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Fri, 2005-01-07 at 08:05, Erik Hatcher wrote:
> Interesting article:
> 
> 	http://www.javaworld.com/javaworld/jw-01-2005/jw-0103-search_p.html

Sort of off-topic, but does this mean JavaWorld is publishing again? I
had read Bill Venners's post from back in January '04 that they shut
down.

Luke


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12328-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 18:01:13 2005
Return-Path: <lucene-user-return-12328-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28268 invoked from network); 7 Jan 2005 18:01:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 18:01:13 -0000
Received: (qmail 96510 invoked by uid 500); 7 Jan 2005 18:01:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96472 invoked by uid 500); 7 Jan 2005 18:01:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96430 invoked by uid 99); 7 Jan 2005 18:01:00 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from main.gmane.org (HELO main.gmane.org) (80.91.229.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 10:00:59 -0800
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1CmyPu-0003zY-00
	for <lucene-user@jakarta.apache.org>; Fri, 07 Jan 2005 19:00:54 +0100
Received: from gateway.subshell.com ([212.79.22.193])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Fri, 07 Jan 2005 19:00:53 +0100
Received: from kiehl by gateway.subshell.com with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Fri, 07 Jan 2005 19:00:53 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: Christoph Kiehl <kiehl@subshell.com>
Subject: Use a date field for ranking
Date: Fri, 07 Jan 2005 19:00:43 +0100
Lines: 19
Message-ID: <crmiob$aj5$1@sea.gmane.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: gateway.subshell.com
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

we are currently implementing a search engine for a news site. Our goal 
is to have a search result that uses the publish date of the documents 
to boost the score of the documents.

I took a look at nutch to see how it implements pagerank and it seems 
like this is done at index time by setting a document boost.

This approach won't work for us because ranking by date is optional. We 
have to use something that boosts the scores at _search_ time.

My idea is to implement it like the sort functionality built into lucene 
and use the FieldCache.

Has anyone a better idea or an important downside of this approach?

Regards,
Christoph


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12329-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 18:40:23 2005
Return-Path: <lucene-user-return-12329-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43405 invoked from network); 7 Jan 2005 18:40:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 18:40:22 -0000
Received: (qmail 68117 invoked by uid 500); 7 Jan 2005 18:40:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68098 invoked by uid 500); 7 Jan 2005 18:40:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68085 invoked by uid 99); 7 Jan 2005 18:40:18 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 10:40:17 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 04F4C5B76E; Fri,  7 Jan 2005 10:39:14 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 03D8E7F475
	for <lucene-user@jakarta.apache.org>; Fri,  7 Jan 2005 10:39:14 -0800 (PST)
Date: Fri, 7 Jan 2005 10:39:14 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Use a date field for ranking
In-Reply-To: <crmiob$aj5$1@sea.gmane.org>
Message-ID: <Pine.LNX.4.58.0501071018510.23136@hal.rescomp.berkeley.edu>
References: <crmiob$aj5$1@sea.gmane.org>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

: we are currently implementing a search engine for a news site. Our goal
: is to have a search result that uses the publish date of the documents
: to boost the score of the documents.

: have to use something that boosts the scores at _search_ time.

1) There is a way to boost individual Query objects (which you may then
compose into a Tree of BooleanQueries) see Query.setBoost(float)

2) if you are planning to rebuild your index on a regular basis (ie:
nightly) then you can easily apply boosts to your documets when you index
them.

If you want to be able to do only incrimental additions...

3) I'm sure there is a very cool and efficient way to do this using a
custom Similarity implimentation (which somhow causes the default score
to be divided by the age of the document) but i've never acctualy played
with the SImilarity class, so i won't say for certain it can be done that
way (hopefully someone else can chime in)

4) I can tell you what i cam up with when i was proof of concepting this a
while back...

In my case, I'm willing to accept that there is some finite granularity of
time at which "newer" documents are no longer very much more "fresh" then
"older" documents (ie: articles from the same week are equally "fresh" to
me) I also have a practicle cut off of how old things can get before they
are just plan old: 52 weeks.

With those numbers in mind, I can add a special field to each document
that indicates which week the article was published (ie: 2004w1, 2004w2,
2004w3, etc...).  At search time, my query can include a BooleanQuery of
52 clauses ORed together, each one containing the magic token for the last
52 weeks prio to when the search was execuded, each with a slightly
decreasing boost from the week before.





-Hoss

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12330-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 19:24:27 2005
Return-Path: <lucene-user-return-12330-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61758 invoked from network); 7 Jan 2005 19:24:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 19:24:27 -0000
Received: (qmail 59376 invoked by uid 500); 7 Jan 2005 19:24:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59189 invoked by uid 500); 7 Jan 2005 19:24:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59175 invoked by uid 99); 7 Jan 2005 19:24:23 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 40325CF2.ptr.dia.nextlink.net (HELO exch1.colmol.com) (64.50.92.242)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 11:24:22 -0800
Received: from ASSP-nospam ([192.168.1.204]) by exch1.colmol.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Fri, 7 Jan 2005 14:24:20 -0500
Received: from 192.168.1.205 ([192.168.1.205] helo=exch1.colmol.com) by ASSP-nospam ;  7 Jan 05 19:24:20 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.6556.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C4F4EE.7C670670"
Subject: Check to see if index is optimized
Date: Fri, 7 Jan 2005 14:24:19 -0500
Message-ID: <B1FD64AF10DAED4786DC31F17B1C3884E4EAAE@exch1.colmol.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Check to see if index is optimized
Thread-Index: AcT07nvEv4z6kztYQt60wT8vgz49HA==
From: "Crump, Michael" <mcrump@leadscope.com>
To: <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 07 Jan 2005 19:24:20.0129 (UTC) FILETIME=[7C7EB910:01C4F4EE]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4F4EE.7C670670
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hello,

=20

Lucene is great!  I just have a question.

=20

Is there a simple way to check and see if an index is already optimized?
What happens if optimize is called on an already optimized index - does
the call basically do a noop?  Or is it still and expensive call?

=20

=20

Regards,

=20

Michael


------_=_NextPart_001_01C4F4EE.7C670670--

From lucene-user-return-12331-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 19:47:21 2005
Return-Path: <lucene-user-return-12331-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71364 invoked from network); 7 Jan 2005 19:47:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 19:47:20 -0000
Received: (qmail 6301 invoked by uid 500); 7 Jan 2005 19:47:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6278 invoked by uid 500); 7 Jan 2005 19:47:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6264 invoked by uid 99); 7 Jan 2005 19:47:16 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx1-ext.sgi.com (HELO omx1.americas.sgi.com) (192.48.179.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 11:47:15 -0800
Received: from hastur.corp.sgi.com (hastur.corp.sgi.com [198.149.32.33])
	by omx1.americas.sgi.com (8.12.10/8.12.9/linux-outbound_gateway-1.1) with ESMTP id j07JlCxT007494
	for <lucene-user@jakarta.apache.org>; Fri, 7 Jan 2005 13:47:12 -0600
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com [169.238.221.130])
	by hastur.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2) with ESMTP id j07JkuYw86802288
	for <lucene-user@jakarta.apache.org>; Fri, 7 Jan 2005 11:46:56 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id j07JlBad20133436
	for <lucene-user@jakarta.apache.org>; Fri, 7 Jan 2005 14:47:11 -0500 (EST)
Message-ID: <41DEE73D.1070601@sgi.com>
Date: Fri, 07 Jan 2005 14:47:09 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Question about the best way to replace existing docs in an index.
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

My application for Lucene involves updating an existing index with a 
mixture of new and revised documents.  From what I've been able to 
dicern from reading I'm going to have to delete the old versions of the 
revised documents before indexing them again.  Since this indexing will 
probably take quite a while due to the number of new/revised documents 
I'll be adding and the large number of documents already in the index, 
I'm uncomfortable keeping an IndexReader and an IndexWriter open for 
long periods of time.  

What I'm considering doing is reading the file with mulitple documents 
twice.  One time I test to see if the document is in the index and 
delete it if it is with something like:

The "Reference" term is unique.

...
    while(String ref = getNextDocument() != null) {
      Term t = Term("Reference",ref);
      TermDocs td = indexReader.termDocs(t);
      if(td != null) {
        td.next();
        indexReader.delete(td.doc());
      }
    }

Or should I not bother to look for the term at all and do something like 
this?

    while(String ref = getNextDocument() != null) {
      Term t = Term("Reference",ref);
      indexReader.delete(t);
    }
Are either of these more efficient?

Then I would close the indexReader and go back and reread the file, 
indexing merrily away.

Should I be concerned about keeping both an indexReader and indexWriter 
open at the same time?  I'll have other processes probably making 
searches during this time.  I'm not concerned about the searches not 
finding the data I'm currently adding, I'm more concerned about locking 
those searches out.  

A couple of valid assumptions.  The reference term is unique in the 
index and there will be only one in the input file.

Thanks,
Jim.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12332-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 19:49:39 2005
Return-Path: <lucene-user-return-12332-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72140 invoked from network); 7 Jan 2005 19:49:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 19:49:38 -0000
Received: (qmail 12645 invoked by uid 500); 7 Jan 2005 19:49:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12280 invoked by uid 500); 7 Jan 2005 19:49:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12267 invoked by uid 99); 7 Jan 2005 19:49:35 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx3-ext.sgi.com (HELO omx3.sgi.com) (192.48.171.20)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 11:49:33 -0800
Received: from internal-mail-relay.corp.sgi.com (internal-mail-relay.corp.sgi.com [198.149.32.51])
	by omx3.sgi.com (8.12.11/8.12.9/linux-outbound_gateway-1.1) with ESMTP id j07JDgcV008965
	for <lucene-user@jakarta.apache.org>; Fri, 7 Jan 2005 11:13:42 -0800
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com [169.238.221.130])
	by internal-mail-relay.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2) with ESMTP id j07JnSXd174000849
	for <lucene-user@jakarta.apache.org>; Fri, 7 Jan 2005 11:49:28 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id j07JnRad20097153
	for <lucene-user@jakarta.apache.org>; Fri, 7 Jan 2005 14:49:27 -0500 (EST)
Message-ID: <41DEE7C6.6090009@sgi.com>
Date: Fri, 07 Jan 2005 14:49:26 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Quick question about highlighting.
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've read as much as I could find on the highlighting that is now in the 
sandbox.  I didn't find the javadocs.  I found a link to them, but it 
redirected my to a cvs tree.

Do I assume that you have to store the content of the document for the 
highlighting to work?  Otherwise I don't see how it could work.

Thanks,
Jim.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12333-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 20:18:37 2005
Return-Path: <lucene-user-return-12333-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94405 invoked from network); 7 Jan 2005 20:18:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 20:18:37 -0000
Received: (qmail 79250 invoked by uid 500); 7 Jan 2005 20:18:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79222 invoked by uid 500); 7 Jan 2005 20:18:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79199 invoked by uid 99); 7 Jan 2005 20:18:33 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 12:18:31 -0800
Received: (qmail 32144 invoked by uid 532); 7 Jan 2005 20:17:23 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.089614 secs); 07 Jan 2005 20:17:23 -0000
Received: from unknown (HELO ?10.0.0.157?) (127.0.0.1)
  by 0 with SMTP; 7 Jan 2005 20:17:23 -0000
Message-ID: <41DEEEA8.3070603@tropo.com>
Date: Fri, 07 Jan 2005 12:18:48 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Quick question about highlighting.
References: <41DEE7C6.6090009@sgi.com>
In-Reply-To: <41DEE7C6.6090009@sgi.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Jim Lynch wrote:

> I've read as much as I could find on the highlighting that is now in the 
> sandbox.  I didn't find the javadocs.

I have a copy here:

http://www.searchmorph.com/pub/jakarta-lucene-sandbox/contributions/highlighter/build/docs/api/overview-summary.html


   I found a link to them, but it
> redirected my to a cvs tree.
> 
> Do I assume that you have to store the content of the document for the 
> highlighting to work?  

Not per se, but you do need access to the contents to pass to 
Highlighter.getBestFragments(). You can store the contents in the index, 
or you can have in a cache, DB, or you can refetch the doc...

You need to know what Analyzer you used too to get the tokenStream via:

TokenStream tokenStream = analyzer.tokenStream( field, new 
StringReader(body));


> Otherwise I don't see how it could work.
> 
> Thanks,
> Jim.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12334-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 20:22:11 2005
Return-Path: <lucene-user-return-12334-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2570 invoked from network); 7 Jan 2005 20:22:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 20:22:11 -0000
Received: (qmail 85000 invoked by uid 500); 7 Jan 2005 20:22:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84809 invoked by uid 500); 7 Jan 2005 20:22:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84794 invoked by uid 99); 7 Jan 2005 20:22:06 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 12:22:05 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 7 Jan 2005 15:24:04 -0500
Message-ID: <00e901c4f4f6$d4c7e9e0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <B1FD64AF10DAED4786DC31F17B1C3884E4EAAE@exch1.colmol.com>
Subject: Re: Check to see if index is optimized
Date: Fri, 7 Jan 2005 15:24:04 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 07 Jan 2005 20:24:04.0310 (UTC) FILETIME=[D4D55760:01C4F4F6]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This may not be a simple way, but you could just do a quick check on the
folder to see if there is more than one file containing the name segment.

Luke

----- Original Message ----- 
From: "Crump, Michael" <mcrump@leadscope.com>
To: <lucene-user@jakarta.apache.org>
Sent: Friday, January 07, 2005 2:24 PM
Subject: Check to see if index is optimized


Hello,



Lucene is great!  I just have a question.



Is there a simple way to check and see if an index is already optimized?
What happens if optimize is called on an already optimized index - does
the call basically do a noop?  Or is it still and expensive call?





Regards,



Michael



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12335-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 20:22:16 2005
Return-Path: <lucene-user-return-12335-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2630 invoked from network); 7 Jan 2005 20:22:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 20:22:15 -0000
Received: (qmail 85724 invoked by uid 500); 7 Jan 2005 20:22:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85682 invoked by uid 500); 7 Jan 2005 20:22:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85615 invoked by uid 99); 7 Jan 2005 20:22:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from moutvdom.kundenserver.de (HELO moutvdomng.kundenserver.de) (212.227.126.249)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 12:22:08 -0800
Received: from [212.227.126.221] (helo=mrvdomng.kundenserver.de)
	by moutvdomng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1Cn0cX-0002t2-00
	for lucene-user@jakarta.apache.org; Fri, 07 Jan 2005 21:22:05 +0100
Received: from [80.128.88.204] (helo=eco)
	by mrvdomng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1Cn0cX-0000kz-00
	for lucene-user@jakarta.apache.org; Fri, 07 Jan 2005 21:22:05 +0100
Received: by eco (Postfix, from userid 1000)
	id A4B608386F; Fri,  7 Jan 2005 21:24:03 +0100 (CET)
From: Morus Walter <morus.walter@gmx.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16862.61411.609246.644368@onlinehome.de>
Date: Fri, 7 Jan 2005 21:24:03 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Check to see if index is optimized
In-Reply-To: <B1FD64AF10DAED4786DC31F17B1C3884E4EAAE@exch1.colmol.com>
References: <B1FD64AF10DAED4786DC31F17B1C3884E4EAAE@exch1.colmol.com>
X-Mailer: VM 7.17 under 21.4 (patch 15) "Security Through Obscurity" XEmacs Lucid
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Crump, Michael writes:

> 
> Is there a simple way to check and see if an index is already optimized?
> What happens if optimize is called on an already optimized index - does
> the call basically do a noop?  Or is it still and expensive call?
> 
Why don't you just try that? E.g. using luke. Or three lines of code...

You will find, that calling optimize for an optimized index does
not change the index. (optimized means just one segement and no
deleted documents)

So I guess the answer for your first question can be found in the sources
of optimize:

  public synchronized void optimize() throws IOException {
    flushRamSegments();
    while (segmentInfos.size() > 1 ||
           (segmentInfos.size() == 1 &&
            (SegmentReader.hasDeletions(segmentInfos.info(0)) ||
             segmentInfos.info(0).dir != directory ||
             (useCompoundFile &&
              (!SegmentReader.usesCompoundFile(segmentInfos.info(0)) ||
                SegmentReader.hasSeparateNorms(segmentInfos.info(0))))))) {
      int minSegment = segmentInfos.size() - mergeFactor;
      mergeSegments(minSegment < 0 ? 0 : minSegment);
    }
  }

segmentInfos is private in IndexWriter, so I suspect you cannot check
that without modifying lucene.

HTH
	Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12336-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 20:23:03 2005
Return-Path: <lucene-user-return-12336-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3037 invoked from network); 7 Jan 2005 20:23:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 20:23:02 -0000
Received: (qmail 87812 invoked by uid 500); 7 Jan 2005 20:22:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87756 invoked by uid 500); 7 Jan 2005 20:22:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87694 invoked by uid 99); 7 Jan 2005 20:22:43 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mspmail2.stellent.com (HELO mspmail2.stellent.com) (12.40.185.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 12:22:42 -0800
Received: from [10.10.20.20] ([10.10.20.20])
	by mspmail2.stellent.com (8.11.6+Sun/8.11.5) with ESMTP id j07KMd103453
	for <lucene-user@jakarta.apache.org>; Fri, 7 Jan 2005 14:22:39 -0600 (CST)
Subject: Re: Check to see if index is optimized
From: Luke Francl <luke.francl@stellent.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <B1FD64AF10DAED4786DC31F17B1C3884E4EAAE@exch1.colmol.com>
References: <B1FD64AF10DAED4786DC31F17B1C3884E4EAAE@exch1.colmol.com>
Content-Type: text/plain
Message-Id: <1105129343.1884.89.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 
Date: Fri, 07 Jan 2005 14:22:23 -0600
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Fri, 2005-01-07 at 13:24, Crump, Michael wrote:

> Is there a simple way to check and see if an index is already optimized?
> What happens if optimize is called on an already optimized index - does
> the call basically do a noop?  Or is it still and expensive call?

If an index has no deletions, it does not need to be optimized. You can
find out if it has deletions with IndexReader.hasDeletions.

I am not sure what the cost of optimization is if the index doesn't need
it. Perhaps someone else on this list knows.

Regards,
Luke Francl


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12337-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 20:30:31 2005
Return-Path: <lucene-user-return-12337-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6279 invoked from network); 7 Jan 2005 20:30:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 20:30:31 -0000
Received: (qmail 7155 invoked by uid 500); 7 Jan 2005 20:30:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7129 invoked by uid 500); 7 Jan 2005 20:30:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7110 invoked by uid 99); 7 Jan 2005 20:30:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mikesnare@gmail.com designates 64.233.184.202 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.202)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 12:30:27 -0800
Received: by wproxy.gmail.com with SMTP id 50so8166wri
        for <lucene-user@jakarta.apache.org>; Fri, 07 Jan 2005 12:30:24 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=sojYSNmxRRgeqPx/87GP4a4q8wVnRZbUufy0QWn/gRTp39lq4CzmDspzNEJ+DomgYybSCgXWrz8AilNlFie/fsgFDlSqQvDAj+4p8FVSI2E9M5ah2o6ddyq8OeRxr9Rvq+UWcwYfZHIc/hy+znxcJzLueviy7Ky+bCGXpBAgTrI=
Received: by 10.54.30.15 with SMTP id d15mr194200wrd;
        Fri, 07 Jan 2005 12:30:24 -0800 (PST)
Received: by 10.54.38.41 with HTTP; Fri, 7 Jan 2005 12:30:24 -0800 (PST)
Message-ID: <95fd5e1405010712302294a455@mail.gmail.com>
Date: Fri, 7 Jan 2005 15:30:24 -0500
From: Mike Snare <mikesnare@gmail.com>
Reply-To: Mike Snare <mikesnare@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Check to see if index is optimized
In-Reply-To: <1105129343.1884.89.camel@localhost>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <B1FD64AF10DAED4786DC31F17B1C3884E4EAAE@exch1.colmol.com>
	 <1105129343.1884.89.camel@localhost>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> If an index has no deletions, it does not need to be optimized. You can
> find out if it has deletions with IndexReader.hasDeletions.

Is that true?  An index that has just been created (with no deletions)
can still have multiple segments that could be optimized.  I'm not
sure your statement is correct.

-Mike

On Fri, 07 Jan 2005 14:22:23 -0600, Luke Francl
<luke.francl@stellent.com> wrote:
> On Fri, 2005-01-07 at 13:24, Crump, Michael wrote:
> 
> > Is there a simple way to check and see if an index is already optimized?
> > What happens if optimize is called on an already optimized index - does
> > the call basically do a noop?  Or is it still and expensive call?
> 
> If an index has no deletions, it does not need to be optimized. You can
> find out if it has deletions with IndexReader.hasDeletions.
> 
> I am not sure what the cost of optimization is if the index doesn't need
> it. Perhaps someone else on this list knows.
> 
> Regards,
> Luke Francl
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12338-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 20:46:43 2005
Return-Path: <lucene-user-return-12338-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13680 invoked from network); 7 Jan 2005 20:46:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 20:46:43 -0000
Received: (qmail 36344 invoked by uid 500); 7 Jan 2005 20:46:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36326 invoked by uid 500); 7 Jan 2005 20:46:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36310 invoked by uid 99); 7 Jan 2005 20:46:39 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mikesnare@gmail.com designates 64.233.184.193 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 12:46:37 -0800
Received: by wproxy.gmail.com with SMTP id 71so154889wri
        for <lucene-user@jakarta.apache.org>; Fri, 07 Jan 2005 12:46:36 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=tuUcIVgNM1WsiAayQCp2qQdfkTEy2fjuUd6YVje56lu3hat2JxEkocFQ3ApFpYURSMlOze9iWERG9S7hxTe2IQNK/VOH2CHsJWwiOPjEas/Ci4GEMYeqiv9rHHEVgF838tbmaJ5zVX64sGk273XysHtEs0RwDpWHR9oa9uh49N4=
Received: by 10.54.31.64 with SMTP id e64mr176599wre;
        Fri, 07 Jan 2005 12:46:35 -0800 (PST)
Received: by 10.54.38.41 with HTTP; Fri, 7 Jan 2005 12:46:35 -0800 (PST)
Message-ID: <95fd5e14050107124653aa22c@mail.gmail.com>
Date: Fri, 7 Jan 2005 15:46:35 -0500
From: Mike Snare <mikesnare@gmail.com>
Reply-To: Mike Snare <mikesnare@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Check to see if index is optimized
In-Reply-To: <1105130248.1884.91.camel@localhost>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <B1FD64AF10DAED4786DC31F17B1C3884E4EAAE@exch1.colmol.com>
	 <1105129343.1884.89.camel@localhost>
	 <95fd5e1405010712302294a455@mail.gmail.com>
	 <1105130248.1884.91.camel@localhost>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Based on the method sent earlier, it looks like Lucene first checks to
see if optimization is even necessary.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12339-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 20:58:47 2005
Return-Path: <lucene-user-return-12339-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19300 invoked from network); 7 Jan 2005 20:58:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 20:58:47 -0000
Received: (qmail 54851 invoked by uid 500); 7 Jan 2005 20:58:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54023 invoked by uid 500); 7 Jan 2005 20:58:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54009 invoked by uid 99); 7 Jan 2005 20:58:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from vpn3.cymfony.com (HELO webmail.cymfony.com) (65.209.1.80)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 12:58:42 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Query based stemming
Date: Fri, 7 Jan 2005 15:58:26 -0500
Message-ID: <13F36D2926AD444697093282F20041B7A2AE52@buf-ex01.cymfony.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Query based stemming
Thread-Index: AcT0+6HL7Suhu8zITWij2DT0lyzfng==
From: "Peter Kim" <pkim@cymfony.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I'm new to Lucene, so I apologize if this issue has been discussed
before (I'm sure it has), but I had a hard time finding an answer using
google. (Maybe this would be a good candidate for the FAQ!) :)

Is it possible to enable stem queries on a per-query basis? It doesn't
seem to be possible since the stem tokenizing is done during the
indexing process. Are people basically stuck with having all their
queries stemmed or none at all?

Thanks!
Peter

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12340-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 21:07:16 2005
Return-Path: <lucene-user-return-12340-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23050 invoked from network); 7 Jan 2005 21:07:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 21:07:15 -0000
Received: (qmail 64220 invoked by uid 500); 7 Jan 2005 21:07:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63384 invoked by uid 500); 7 Jan 2005 21:07:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63370 invoked by uid 99); 7 Jan 2005 21:07:12 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx2-ext.sgi.com (HELO omx2.sgi.com) (192.48.171.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 13:07:11 -0800
Received: from internal-mail-relay.corp.sgi.com (internal-mail-relay.corp.sgi.com [198.149.32.51])
	by omx2.sgi.com (8.12.11/8.12.9/linux-outbound_gateway-1.1) with ESMTP id j07MWNDt023551
	for <lucene-user@jakarta.apache.org>; Fri, 7 Jan 2005 14:32:23 -0800
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com [169.238.221.130])
	by internal-mail-relay.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2) with ESMTP id j07L79Xd173983284
	for <lucene-user@jakarta.apache.org>; Fri, 7 Jan 2005 13:07:09 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id j07L78ad20141444
	for <lucene-user@jakarta.apache.org>; Fri, 7 Jan 2005 16:07:08 -0500 (EST)
Message-ID: <41DEF9FB.90002@sgi.com>
Date: Fri, 07 Jan 2005 16:07:07 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Quick question about highlighting.
References: <41DEE7C6.6090009@sgi.com> <41DEEEA8.3070603@tropo.com>
In-Reply-To: <41DEEEA8.3070603@tropo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

OK, thanks.  That clears things up.  I'll play with it once I get 
something indexed.

Jim.

David Spencer wrote:

> Jim Lynch wrote:
>
>> I've read as much as I could find on the highlighting that is now in 
>> the sandbox.  I didn't find the javadocs.
>
>
> I have a copy here:
>
> http://www.searchmorph.com/pub/jakarta-lucene-sandbox/contributions/highlighter/build/docs/api/overview-summary.html 
>
>
>
>   I found a link to them, but it
>
>> redirected my to a cvs tree.
>>
>> Do I assume that you have to store the content of the document for 
>> the highlighting to work?  
>
>
> Not per se, but you do need access to the contents to pass to 
> Highlighter.getBestFragments(). You can store the contents in the 
> index, or you can have in a cache, DB, or you can refetch the doc...
>
> You need to know what Analyzer you used too to get the tokenStream via:
>
> TokenStream tokenStream = analyzer.tokenStream( field, new 
> StringReader(body));
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12341-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 21:10:12 2005
Return-Path: <lucene-user-return-12341-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24864 invoked from network); 7 Jan 2005 21:10:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 21:10:12 -0000
Received: (qmail 68983 invoked by uid 500); 7 Jan 2005 21:10:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68959 invoked by uid 500); 7 Jan 2005 21:10:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68944 invoked by uid 99); 7 Jan 2005 21:10:08 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx1-ext.sgi.com (HELO omx1.americas.sgi.com) (192.48.179.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 13:10:06 -0800
Received: from hastur.corp.sgi.com (hastur.corp.sgi.com [198.149.32.33])
	by omx1.americas.sgi.com (8.12.10/8.12.9/linux-outbound_gateway-1.1) with ESMTP id j07LA4xT025053
	for <lucene-user@jakarta.apache.org>; Fri, 7 Jan 2005 15:10:04 -0600
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com [169.238.221.130])
	by hastur.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2) with ESMTP id j07L9dYw86898483
	for <lucene-user@jakarta.apache.org>; Fri, 7 Jan 2005 13:09:39 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id j07LA3ad19933330
	for <lucene-user@jakarta.apache.org>; Fri, 7 Jan 2005 16:10:03 -0500 (EST)
Message-ID: <41DEFAAA.3030905@sgi.com>
Date: Fri, 07 Jan 2005 16:10:02 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Query based stemming
References: <13F36D2926AD444697093282F20041B7A2AE52@buf-ex01.cymfony.com>
In-Reply-To: <13F36D2926AD444697093282F20041B7A2AE52@buf-ex01.cymfony.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

 From what I've read, if you want to have a choice, the easiest way is 
to index the documents twice. Once with stemming on and once with it off 
placing the results in two different indexes.  Then at query time, 
select which index you want to use based on whether you want stemming on 
or off.

Jim.

Peter Kim wrote:

>Hi,
>
>I'm new to Lucene, so I apologize if this issue has been discussed
>before (I'm sure it has), but I had a hard time finding an answer using
>google. (Maybe this would be a good candidate for the FAQ!) :)
>
>Is it possible to enable stem queries on a per-query basis? It doesn't
>seem to be possible since the stem tokenizing is done during the
>indexing process. Are people basically stuck with having all their
>queries stemmed or none at all?
>
>Thanks!
>Peter
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12342-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 23:00:32 2005
Return-Path: <lucene-user-return-12342-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67420 invoked from network); 7 Jan 2005 23:00:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 23:00:32 -0000
Received: (qmail 67021 invoked by uid 500); 7 Jan 2005 23:00:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66987 invoked by uid 500); 7 Jan 2005 23:00:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66974 invoked by uid 99); 7 Jan 2005 23:00:27 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 15:00:26 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 879355B7EB; Fri,  7 Jan 2005 14:59:24 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 84D777F476
	for <lucene-user@jakarta.apache.org>; Fri,  7 Jan 2005 14:59:24 -0800 (PST)
Date: Fri, 7 Jan 2005 14:59:24 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Query based stemming
In-Reply-To: <41DEFAAA.3030905@sgi.com>
Message-ID: <Pine.LNX.4.58.0501071444330.11865@hal.rescomp.berkeley.edu>
References: <13F36D2926AD444697093282F20041B7A2AE52@buf-ex01.cymfony.com>
 <41DEFAAA.3030905@sgi.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


: >Is it possible to enable stem queries on a per-query basis? It doesn't
: >seem to be possible since the stem tokenizing is done during the
: >indexing process. Are people basically stuck with having all their
: >queries stemmed or none at all?

:  From what I've read, if you want to have a choice, the easiest way is
: to index the documents twice. Once with stemming on and once with it off
: placing the results in two different indexes.  Then at query time,
: select which index you want to use based on whether you want stemming on
: or off.

As I understand it, the intented place to impliment Stemming is in an
Analyzer Filter (not to be confused with a search Filter).  Since you can
can specify an Analyzer when you call addDocument, you don't have to
acctually have two seperate indexes, you could just have all the docs in
one index - and use a search Filter to indicate which docs to look at.

Alternately: the Analyzer's tokenStream method is given the fieldName
being analyzed, so you could write an Analyzer with a set of rules
telling it to only apply your Stemming filter to certain fields, and
then instead of having twice as many documents, you can just index your
text in two seperate fields (which should be a little easier, then
seperate docs because you are only duplicating the fields where stemming
is relevant)  Then at search time you don't have to filter anything, just
search the field that's applicable to your current desire (stemmed or
unstemmed)

Lastely: Allthough it's tricky to get correct, there's no law saying you
have to use the same Analyzer when you query as when you index.  You could
index your documents using an Analyzer that does no stemming, and then at
search time (if you want stemming) use an Analyzer that does "reverse
stemming" to expand your query terms out to all the possible variants.


(NOTE: I've never acctaully tried this, but i think the theory is sound).


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12343-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 07 23:00:41 2005
Return-Path: <lucene-user-return-12343-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67513 invoked from network); 7 Jan 2005 23:00:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Jan 2005 23:00:41 -0000
Received: (qmail 67981 invoked by uid 500); 7 Jan 2005 23:00:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67951 invoked by uid 500); 7 Jan 2005 23:00:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67935 invoked by uid 99); 7 Jan 2005 23:00:36 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 15:00:35 -0800
Received: (qmail 13277 invoked by uid 532); 7 Jan 2005 22:59:27 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.163402 secs); 07 Jan 2005 22:59:27 -0000
Received: from unknown (HELO ?10.0.0.157?) (127.0.0.1)
  by 0 with SMTP; 7 Jan 2005 22:59:26 -0000
Message-ID: <41DF14A4.6040707@tropo.com>
Date: Fri, 07 Jan 2005 15:00:52 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Query based stemming
References: <13F36D2926AD444697093282F20041B7A2AE52@buf-ex01.cymfony.com> <41DEFAAA.3030905@sgi.com>
In-Reply-To: <41DEFAAA.3030905@sgi.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Jim Lynch wrote:

>  From what I've read, if you want to have a choice, the easiest way is 
> to index the documents twice. Once with stemming on and once with it off 
> placing the results in two different indexes.  Then at query time, 
> select which index you want to use based on whether you want stemming on 
> or off.

IMHO keeping the data in the same index is easiest.

PerFieldAnalyzerWrapper is part of the magic...approx uasge follows from 
my code below. Second magic is to call doc.add(...) multiple times, 
"redundantly".

Don't use code below exactly however - things like MySnowballAnalyzer 
should become SnowballAnalyzer in your code...


Analyzer fa;
Analyzer getAnalyzer()
{
	Analyzer snowball = new MySnowballStopAnalyzer();
	Analyzer def = new AlphaNumStopAnalyzer();  // prob StandardAnalyzer 
for most people..
	PerFieldAnalyzerWrapper fa = new PerFieldAnalyzerWrapper( def);
	fa.addAnalyzer( "scontents", snowball);  // "s" in "scontents" if for 
stemming
	fa.addAnalyzer( "stitle", snowball);		
	return fa;
}


...

later:

Document doc = new Document();
doc.add( Field.Text( "title", title));
doc.add( Field.Text( "stitle", new StringReader( title))); // don't need 
recall
String body = ...;
doc.add( Field.Text( "contents", new StringReader( body), true)); // 
term vector
doc.add( Field.Text( "scontents", new StringReader( body)));
writer.addDocument( doc);



> 
> Jim.
> 
> Peter Kim wrote:
> 
>> Hi,
>>
>> I'm new to Lucene, so I apologize if this issue has been discussed
>> before (I'm sure it has), but I had a hard time finding an answer using
>> google. (Maybe this would be a good candidate for the FAQ!) :)
>>
>> Is it possible to enable stem queries on a per-query basis? It doesn't
>> seem to be possible since the stem tokenizing is done during the
>> indexing process. Are people basically stuck with having all their
>> queries stemmed or none at all?
>>
>> Thanks!
>> Peter
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>  
>>
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12344-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 08 02:20:23 2005
Return-Path: <lucene-user-return-12344-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34691 invoked from network); 8 Jan 2005 02:20:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jan 2005 02:20:23 -0000
Received: (qmail 36213 invoked by uid 500); 8 Jan 2005 02:20:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36187 invoked by uid 500); 8 Jan 2005 02:20:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36173 invoked by uid 99); 8 Jan 2005 02:20:10 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from main.gmane.org (HELO main.gmane.org) (80.91.229.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 07 Jan 2005 18:20:09 -0800
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1Cn6Cx-0003zT-00
	for <lucene-user@jakarta.apache.org>; Sat, 08 Jan 2005 03:20:03 +0100
Received: from pd9052264.dip.t-dialin.net ([217.5.34.100])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Sat, 08 Jan 2005 03:20:03 +0100
Received: from ck by pd9052264.dip.t-dialin.net with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Sat, 08 Jan 2005 03:20:03 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: Christoph Kiehl <ck@sulu3000.de>
Subject: Re: Use a date field for ranking
Date: Sat, 08 Jan 2005 03:20:09 +0100
Lines: 72
Message-ID: <crng0d$98e$1@sea.gmane.org>
References: <crmiob$aj5$1@sea.gmane.org> <Pine.LNX.4.58.0501071018510.23136@hal.rescomp.berkeley.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: pd9052264.dip.t-dialin.net
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
In-Reply-To: <Pine.LNX.4.58.0501071018510.23136@hal.rescomp.berkeley.edu>
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Chris Hostetter wrote:

> : we are currently implementing a search engine for a news site. Our goal
> : is to have a search result that uses the publish date of the documents
> : to boost the score of the documents.
> 
> : have to use something that boosts the scores at _search_ time.
 >
> 1) There is a way to boost individual Query objects (which you may then
> compose into a Tree of BooleanQueries) see Query.setBoost(float)

Yes, I know I can boost Query objects, but that is not the same as 
boosting the document score by a factor. By boosting query objects I 
_add_ values to the score. Let me show you an example:

I may use queries like this:

Query 1:
(a word that gets a score of 0.1) OR (date:20050108^3 OR date:20050107^1)

Query 2:
(a word that gets a score of 0.01) OR (date:20050108^3 OR date:20050107^1)

The date part of the clause gets a constant score of 0.3. So the total 
score of the queries will be:

Query 1: 0.4
Query 2: 0.31

If I had used a boost of 3.0 per document and left the date part of the 
query out I would have:

Query 1: 0.3
Query 2: 0.03

Which maintains the original proportion. Now if I want to specify a 
function (like 1/x) that calculates the boost factor of a specific 
publish date I can't emulate this by using Query boosts because the 
query boost must be adjusted to the first part of the query to achieve 
an equal distribution for any query.

I'm sure there is a mathematical term which describes exactly this 
problem - but I'm no mathematician ;) So I hope you understand my issues.

Additionally the construct above find also documents that have the right 
date but don't contain the first part of the query. So we might use a 
query like this:

(a word) AND (date:20050108^3 OR date:20050107^1)

But now I have to specify _all_ possible dates in the date part to reach 
all documents the index contains. This smells ;) Because it's all only 
an emulation of the real strategy.


> 2) if you are planning to rebuild your index on a regular basis (ie:
> nightly) then you can easily apply boosts to your documets when you index
> them.

Unfortunately this is no option because the index is updated incrementally.

> 3) I'm sure there is a very cool and efficient way to do this using a
> custom Similarity implimentation (which somhow causes the default score
> to be divided by the age of the document) but i've never acctualy played
> with the SImilarity class, so i won't say for certain it can be done that
> way (hopefully someone else can chime in)

AFAIK, Similarity can only be used on term level. But as outlined above 
I need a boost factor on document level.

Thanks for your input,
Christoph


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12345-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 08 09:08:55 2005
Return-Path: <lucene-user-return-12345-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62394 invoked from network); 8 Jan 2005 09:08:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jan 2005 09:08:55 -0000
Received: (qmail 55375 invoked by uid 500); 8 Jan 2005 09:08:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54549 invoked by uid 500); 8 Jan 2005 09:08:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54536 invoked by uid 99); 8 Jan 2005 09:08:52 -0000
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=BLANK_LINES_70_80
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from mail.anchormen.nl (HELO mail.anchormen.nl) (212.83.242.16)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 08 Jan 2005 01:08:51 -0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: what if the IndexReader crashes, after delete, before close.
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Date: Sat, 8 Jan 2005 10:08:47 +0100
Message-ID: <24CFCE44DCB015489FB96D38BDF4FCAA07C93D@gerard.anchormen.nl>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: what if the IndexReader crashes, after delete, before close.
thread-index: AcT1Yak1lpa5z0BfRv2K/pRzzSEQpg==
From: "Peter Veentjer - Anchor Men" <p.veentjer@anchormen.nl>
To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

What happens to the Index if the IndexReader crashes, after I have =
deleted documents, and before I have called close. Are the deletes =
ignored? Is the Index screwed up? Is the filesystem screwed up (if a =
document is deleted new delete-files appear) so are the delete-files =
still there (and can these be ignored the next time?). Can I restore the =
index to the previous state, just by removing those delete-files?
=20
=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12346-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 08 11:47:20 2005
Return-Path: <lucene-user-return-12346-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3144 invoked from network); 8 Jan 2005 11:47:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jan 2005 11:47:20 -0000
Received: (qmail 7112 invoked by uid 500); 8 Jan 2005 11:47:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7075 invoked by uid 500); 8 Jan 2005 11:47:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7058 invoked by uid 99); 8 Jan 2005 11:47:17 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from mail.anchormen.nl (HELO mail.anchormen.nl) (212.83.242.16)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 08 Jan 2005 03:47:15 -0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: some thoughts about adding transactions.
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Date: Sat, 8 Jan 2005 12:47:12 +0100
Message-ID: <24CFCE44DCB015489FB96D38BDF4FCAA07C93E@gerard.anchormen.nl>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: some thoughts about adding transactions.
thread-index: AcT1d8qQUFu9tnN9SrGeY2Mquj9kdw==
From: "Peter Veentjer - Anchor Men" <p.veentjer@anchormen.nl>
To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If have a question about transactions .
=20
Lucene doesn`t support transactions but I find it very important and I =
think it is possible to add some kind of rollback/commit functionality =
to make sure the index doesn`t corrupt..
=20
With lucene every segment is immutable (this is a perfect starting =
point), so after it has been created it will remain forever in a valid =
state. There are 3 ways to alter the index
1) deleting documents=20
2) adding documents
3) optimization
=20
If I delete a document, a del file appears (but doesn`t alter the =
segment because it is immutable).=20
-if crash: the del files could be deleted to do a rollback.
-if succes: the del files finally will be used by the writer to skip =
those documents in the new segment.
=20
If a new document is added, a new segment is created (finally).=20
-if succes: the new segment is created and the old segments can be =
deleted.
-if crash: the new segment (maybe it`s corrupted) can be deleted to do a =
rollback.
=20
If the index is optimized a new segment is created based on older =
segments.
-if succes: the old segments can be deleted.
-if crash: the new segment (maybe it`s corrupted) can be deleted to do a =
rollback.
=20
With this information it wouldn`t be to much trouble to add some kind of =
rollback/transaction functionality?
=20
And how about those 'per index' files? Can these be corrupted? Can these =
be removed and recreated succesfully? Would it be an idea to make copies =
of these files and restore them if the tranaction is rollbacked?=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12347-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 08 22:55:24 2005
Return-Path: <lucene-user-return-12347-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36119 invoked from network); 8 Jan 2005 22:55:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Jan 2005 22:55:24 -0000
Received: (qmail 54944 invoked by uid 500); 8 Jan 2005 22:55:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54915 invoked by uid 500); 8 Jan 2005 22:55:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54901 invoked by uid 99); 8 Jan 2005 22:55:11 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from gw1i.sciquest.com (HELO gw1.sciquest.com) (216.136.12.34)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 08 Jan 2005 14:55:10 -0800
Received: from MERCURY.sciquest.com ([10.0.4.1])
	by gw1.sciquest.com (8.12.9/8.12.9/SQ-GW-1.20040116) with ESMTP id j08Mt7sa072362
	for <lucene-user@jakarta.apache.org>; Sat, 8 Jan 2005 17:55:07 -0500
Received: by mercury.sciquest.com with Internet Mail Service (5.5.2653.19)
	id <VKHLYM38>; Sat, 8 Jan 2005 17:55:27 -0500
Message-ID: <8F091C3698D5D3119040009027E30B2A081DC898@mercury.sciquest.com>
From: Alexey Lef <alexey@sciquest.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: Fatal error on Windows
Date: Sat, 8 Jan 2005 17:55:25 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If my understanding is correct, unless you are using JNI, you should never
be able to crash the JVM using only java code. We've had a lot of crash
problems with Sun's JVM, especially in server mode (on Linux, not Windows).
We don't have any JNI code (only the JVM itself and the database driver).
Finally we have switched to BEA Jrockit and haven't had a crash since.

Hope this helps,

Alexey 

-----Original Message-----
From: Steve Rajavuori [mailto:SteveR@opin.com] 
Sent: Monday, January 03, 2005 11:59 AM
To: 'Lucene Users List'
Subject: RE: Fatal error on Windows


No, I didn't change the source code at all. Has anyone ever seen this error
with Lucene 1.4.3? I am unsure how to troubleshoot further, since the error
occurs within the call to search().

Steve

-----Original Message-----
From: Vikas Gupta [mailto:vgupta@cs.utexas.edu]
Sent: Thursday, December 30, 2004 4:47 PM
To: Lucene Users List
Subject: Re: Fatal error on Windows


A similar message appeared for me on linux. I would recommend doing a

ant clean (or something similar.)
ant jar
ant war

if you changing the source code. Did you change your source code?

-Vikas
----- Original Message ----- 
From: "Steve Rajavuori" <SteveR@opin.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Sent: Thursday, December 30, 2004 4:47 PM
Subject: Fatal error on Windows


> I am getting a fatal exception on Windows 2000 Server when performing a
> search. Upon call to IndexSearcher.search( ) with a large query I see this
> error from the JVM:
>
> Unexpected Signal : EXCEPTION_FLT_STACK_CHECK (0xc0000092) occurred at
> PC=0xA2D4
> 16
> Function=[Unknown.]
> Library=(N/A)
>
> NOTE: We are unable to locate the function name symbol for the error
>       just occurred. Please refer to release documentation for possible
>       reason and solutions.
>
> I am using Lucene 1.4.3 and JRE 1.4.2_06. Has anyone had an experience
like
> this? Any suggestions to work around or troubleshoot?
>
> Steve Rajavuori
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12348-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jan 09 23:54:50 2005
Return-Path: <lucene-user-return-12348-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53877 invoked from network); 9 Jan 2005 23:54:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Jan 2005 23:54:50 -0000
Received: (qmail 9461 invoked by uid 500); 9 Jan 2005 23:54:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9421 invoked by uid 500); 9 Jan 2005 23:54:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9405 invoked by uid 99); 9 Jan 2005 23:54:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from clift.nettas.net (HELO clift.nettas.net) (202.7.15.71)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 09 Jan 2005 15:54:46 -0800
Received: from clift.nettas.net (localhost [127.0.0.1])
	by localhost.nettas.net (Postfix) with ESMTP id 78BD61F3FF
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 10:54:40 +1100 (EST)
Received: from eduisa1.education.tas.gov.au (eduisa1.education.tas.gov.au [147.41.65.11])
	by clift.nettas.net (Postfix) with ESMTP id 2810F92
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 10:54:40 +1100 (EST)
Received: by eduisa1.education.tas.gov.au
	with XWall v3.31 ;
	Mon, 10 Jan 2005 10:54:39 +1100
From: "Kauler, Leto S" <leto.kauler@education.tas.gov.au>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: dotLucene 1.4.3 RC2 (port of Jakarta Lucene to C#)
Date: Mon, 10 Jan 2005 10:54:38 +1100
X-Assembled-By: XWall v3.31
Message-ID: <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B916A9@edumail2.education.tas.gov.au>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi George, this is good work.

I am wondering if you or anyone else is using a C# HTML parser for
Lucene, since the one in the Demo package is currently not working (it's
logged on Sourceforge, I know).

--Leto


> I am pleased to announce the availability of "dotLucene 1.4.3=20
> RC2 build-001" This is the second "Release Candidate" release=20
> of version 1.4.3 of Jakarta Lucene ported to C# and is=20
> intended to be "Final".
>=20
> Please visit http://www.sourceforge.net/projects/dotlucene/=20
> to learn more about dotLucene and to download the source code.
>=20
> Best regards,
> -- George Aroush

CONFIDENTIALITY NOTICE AND DISCLAIMER

Information in this transmission is intended only for the person(s) to whom =
it is addressed and may contain privileged and/or confidential information. =
If you are not the intended recipient, any disclosure, copying or disseminat=
ion of the information is unauthorised and you should delete/destroy all cop=
ies and notify the sender. No liability is accepted for any unauthorised use=
 of the information contained in this transmission.

This disclaimer has been automatically added.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12349-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 09:13:10 2005
Return-Path: <lucene-user-return-12349-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57846 invoked from network); 10 Jan 2005 09:13:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 09:13:10 -0000
Received: (qmail 17696 invoked by uid 500); 10 Jan 2005 09:13:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17676 invoked by uid 500); 10 Jan 2005 09:13:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17661 invoked by uid 99); 10 Jan 2005 09:13:00 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.fib.upc.es (HELO mail.fib.upc.es) (147.83.41.105)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 01:13:00 -0800
Received: from fib.upc.edu (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id 6A7AEC9A25
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 10:12:52 +0100 (CET)
Message-ID: <41E24714.3080005@fib.upc.edu>
Date: Mon, 10 Jan 2005 10:12:52 +0100
From: Daniel Cortes <dcortes@fib.upc.edu>
Organization: FIB
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.0.2) Gecko/20021120 Netscape/7.01
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: Search results
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've return with my questions :)
I''ve indexed a lot of documents (.txt, .doc, .pdf , .java , .html , 
.htm ) and I use with modifications of examples at Lucene in action :D.
The schema of documents is:

path/name_document     Field.Keyword     (not toke,    stored,        
indexed)
title                                 Field.Text            (token,     
  stored,         indexed)
author                            Field.Keyword     (not token, 
stored,         indexed)
summary                        Field.Text             (token,      
stored,          indexed)
keys                               Field.Unstored     (token,      not 
stored,    indexed)
date                                Field.UnIndexed  (not 
token,stored,          not indexed)
body                              Field.Text             (token,      
 not stored,   indexed)

I want to show the results like this :

title or name file            Author
Sumary
path            date

what do you think about this?

My question are what I do when I show results if documents haven't a 
summary? I show the first lines of documents? Perhaps it is a silly 
question but until now I haven't a solution.

PD: About the past thread of "Lucene In action" book I've bought Lucene 
In Action by Amazon and total prize for me was 26.37$.
PD2: When my book arrive I let you rest of  my questions.
Thanks for all


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12350-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 09:36:56 2005
Return-Path: <lucene-user-return-12350-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68306 invoked from network); 10 Jan 2005 09:36:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 09:36:55 -0000
Received: (qmail 54574 invoked by uid 500); 10 Jan 2005 09:36:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54555 invoked by uid 500); 10 Jan 2005 09:36:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54538 invoked by uid 99); 10 Jan 2005 09:36:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_60_70,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from mail.anchormen.nl (HELO mail.anchormen.nl) (212.83.242.16)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 01:36:45 -0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C4F6F7.E4215CA1"
Subject: document relations
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Date: Mon, 10 Jan 2005 10:36:41 +0100
Message-ID: <24CFCE44DCB015489FB96D38BDF4FCAA0710D6@gerard.anchormen.nl>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: document relations
thread-index: AcT29+QIqZPdgTKKTyKlGfqb1CJMBQ==
From: "Peter Veentjer - Anchor Men" <p.veentjer@anchormen.nl>
To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4F6F7.E4215CA1
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

=20
Does someone know anything about document relations/closeness? I want to
see all documents related to a specific document. The relations can be
link relations (the other documents refer to that document). But the
relation could also be some kind of semantic relation. Does anybody have
some thought about this?

Met vriendelijke groet,

Peter Veentjer
Anchor Men Interactive Solutions - duidelijk in zakelijke
internetoplossingen

Praediniussingel 41
9711 AE Groningen

T: 050-3115222
F: 050-5891696
E: p.veentjer@anchormen.nl
I : www.anchormen.nl <blocked::http://www.anchormen.nl/>=20

=20

------_=_NextPart_001_01C4F6F7.E4215CA1--

From lucene-user-return-12351-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 10:07:33 2005
Return-Path: <lucene-user-return-12351-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83052 invoked from network); 10 Jan 2005 10:07:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 10:07:32 -0000
Received: (qmail 1255 invoked by uid 500); 10 Jan 2005 10:07:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 885 invoked by uid 500); 10 Jan 2005 10:07:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 871 invoked by uid 99); 10 Jan 2005 10:07:25 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from Unknown (HELO goose.milesbarr.com) (81.168.89.246)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 02:07:23 -0800
Received: by goose.milesbarr.com (Postfix, from userid 1000)
	id 351A527DBD1; Mon, 10 Jan 2005 10:06:58 +0000 (GMT)
Subject: Re: Question about the best way to replace existing docs in an
	index.
From: Miles Barr <miles@runtime-collective.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41DEE73D.1070601@sgi.com>
References: <41DEE73D.1070601@sgi.com>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Organization: Runtime Collective Ltd.
Date: Mon, 10 Jan 2005 10:06:57 +0000
Message-Id: <1105351617.3257.15.camel@goose.milesbarr.com>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Fri, 2005-01-07 at 14:47 -0500, Jim Lynch wrote:
> My application for Lucene involves updating an existing index with a 
> mixture of new and revised documents.  From what I've been able to 
> dicern from reading I'm going to have to delete the old versions of the 
> revised documents before indexing them again.  Since this indexing will 
> probably take quite a while due to the number of new/revised documents 
> I'll be adding and the large number of documents already in the index, 
> I'm uncomfortable keeping an IndexReader and an IndexWriter open for 
> long periods of time.  

As I understand it you can't have an index reader which you do deletes
on and an index writer open at the same time since they are both doing
write operations. I think locking will prevent you from opening an index
writer once you do a delete on the reader.

So you're either going to have to open and close the reader and writer
for each update, or keep a list of duplicate references and a list of
documents to be updated, then do the deletes like:

for (Iterator it = toBeDeleted.iterator(); it.hasNext(); ) {
  Term term = new Term("Reference", (String) it.next());
  indexReader.delete(term);
}

Close the reader, open the writer, then iterate through your list of new
docs and write them to the index.

> Should I be concerned about keeping both an indexReader and indexWriter 
> open at the same time?  I'll have other processes probably making 
> searches during this time.  I'm not concerned about the searches not 
> finding the data I'm currently adding, I'm more concerned about locking 
> those searches out.  

Once you close your reader searches won't be possible. So once you've
done your deletes close the reader and open it again to release the
write lock before opening the writer.


-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12352-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 10:13:14 2005
Return-Path: <lucene-user-return-12352-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85076 invoked from network); 10 Jan 2005 10:13:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 10:13:14 -0000
Received: (qmail 10201 invoked by uid 500); 10 Jan 2005 10:13:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9367 invoked by uid 500); 10 Jan 2005 10:13:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9353 invoked by uid 99); 10 Jan 2005 10:13:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from Unknown (HELO goose.milesbarr.com) (81.168.89.246)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 02:13:10 -0800
Received: by goose.milesbarr.com (Postfix, from userid 1000)
	id F106927DBD1; Mon, 10 Jan 2005 10:12:43 +0000 (GMT)
Subject: Re: Search results
From: Miles Barr <miles@runtime-collective.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41E24714.3080005@fib.upc.edu>
References: <41E24714.3080005@fib.upc.edu>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Organization: Runtime Collective Ltd.
Date: Mon, 10 Jan 2005 10:12:43 +0000
Message-Id: <1105351963.3258.18.camel@goose.milesbarr.com>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mon, 2005-01-10 at 10:12 +0100, Daniel Cortes wrote:
> My question are what I do when I show results if documents haven't a 
> summary? I show the first lines of documents? Perhaps it is a silly 
> question but until now I haven't a solution.

Take a look at the highlighter code in the sandbox. It can generate
summaries on the fly.


-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12353-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 10:15:16 2005
Return-Path: <lucene-user-return-12353-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85958 invoked from network); 10 Jan 2005 10:15:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 10:15:16 -0000
Received: (qmail 12873 invoked by uid 500); 10 Jan 2005 10:15:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12041 invoked by uid 500); 10 Jan 2005 10:15:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12020 invoked by uid 99); 10 Jan 2005 10:15:12 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mail@2des.de designates 213.203.199.75 as permitted sender)
Received: from mis06.de (HELO mis06.mis06.de) (213.203.199.75)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 02:15:11 -0800
Received: from goliath (dsl-082-082-250-170.arcor-ip.net [82.82.250.170])
	by mis06.mis06.de (mis06.mis06.de) with ESMTP id 4C3932A83B1
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 11:15:10 +0100 (CET)
Message-ID: <001001c4f6fd$40195fa0$0100a8c0@goliath>
From: "DES" <mail@2des.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <24CFCE44DCB015489FB96D38BDF4FCAA0710D6@gerard.anchormen.nl>
Subject: Re: document relations
Date: Mon, 10 Jan 2005 11:15:02 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I am currently implementing some sort of semantic indexing with Lucene. I'm 
using lucene index to generate TFIDF matrix and then apply singular value 
decomposition on it. So I get some kind 2D vector representation for each 
document. The distance between  two vectors is their relevance.
If you are interested mail me.


cu

Anton


----- Original Message ----- 
From: "Peter Veentjer - Anchor Men" <p.veentjer@anchormen.nl>
To: <lucene-user@jakarta.apache.org>
Sent: Monday, January 10, 2005 10:36 AM
Subject: document relations



Does someone know anything about document relations/closeness? I want to
see all documents related to a specific document. The relations can be
link relations (the other documents refer to that document). But the
relation could also be some kind of semantic relation. Does anybody have
some thought about this?

Met vriendelijke groet,

Peter Veentjer
Anchor Men Interactive Solutions - duidelijk in zakelijke
internetoplossingen

Praediniussingel 41
9711 AE Groningen

T: 050-3115222
F: 050-5891696
E: p.veentjer@anchormen.nl
I : www.anchormen.nl <blocked::http://www.anchormen.nl/>




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12354-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 10:29:36 2005
Return-Path: <lucene-user-return-12354-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91566 invoked from network); 10 Jan 2005 10:29:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 10:29:35 -0000
Received: (qmail 27927 invoked by uid 500); 10 Jan 2005 10:29:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27091 invoked by uid 500); 10 Jan 2005 10:29:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27075 invoked by uid 99); 10 Jan 2005 10:29:32 -0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=BLANK_LINES_70_80,SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 10 Jan 2005 02:29:31 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id IA3KJP00.KCN for <lucene-user@jakarta.apache.org>; Mon,
          10 Jan 2005 16:15:25 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "LUCENE" <lucene-user@jakarta.apache.org>
Subject: SYNONYM + GOOGLE
Date: Mon, 10 Jan 2005 16:03:50 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKMEKMCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



Hi Guys

Apologies........

Does Lucene have a  Synonym  Functonality as Google.

If u search Google  using  '~shoes',  It returns  hits  based on the
Synonym's

[ I know there is a Synonym Wordnet  based Lucene Package in the sandbox

http://cvs.apache.org/viewcvs.cgi/jakarta-lucene-sandbox/contributions/WordN
et/   ]

Can this be achieved in Lucene ,If so How ???



Thx in Advance
Karthik






















WITH WARM REGARDS
HAVE A NICE DAY
[ N.S.KARTHIK]



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12355-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 11:50:15 2005
Return-Path: <lucene-user-return-12355-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43709 invoked from network); 10 Jan 2005 11:50:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 11:50:14 -0000
Received: (qmail 65802 invoked by uid 500); 10 Jan 2005 11:50:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65126 invoked by uid 500); 10 Jan 2005 11:50:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65111 invoked by uid 99); 10 Jan 2005 11:50:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 03:50:07 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 3248D13E2009; Mon, 10 Jan 2005 06:50:03 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 4B42F13E2005
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 06:49:32 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <OBELINLGKPEMCIEIJJNKMEKMCAAA.karthik@controlnet.co.in>
References: <OBELINLGKPEMCIEIJJNKMEKMCAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <AD5077B8-62FD-11D9-8E78-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: SYNONYM + GOOGLE
Date: Mon, 10 Jan 2005 06:49:25 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.7 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 10, 2005, at 5:33 AM, Karthik N S wrote:
> If u search Google  using  '~shoes',  It returns  hits  based on the
> Synonym's
>
> [ I know there is a Synonym Wordnet  based Lucene Package in the  
> sandbox
>
> http://cvs.apache.org/viewcvs.cgi/jakarta-lucene-sandbox/ 
> contributions/WordN
> et/   ]
>
> Can this be achieved in Lucene ,If so How ???

Yes, it can be achieved.  Not quite synonyms, but various forms of the  
same word can be found in this example, like this search for similar  
(see the highlighted variations):

	http://www.lucenebook.com/search?query=similar

This is accomplished using the Snowball stemmer filter found in the  
sandbox.   For synonyms, you have lots of options.  In Lucene in Action  
I demonstrate custom analyzers that inject synonyms using the WordNet  
database (from the sandbox).  From the source code distribution of LIA:

% ant SynonymAnalyzerViewer
Buildfile: build.xml

SynonymAnalyzerViewer:
      [echo]
      [echo]       Using a custom SynonymAnalyzer, two fixed strings are
      [echo]       analyzed with the results displayed.  Synonyms, from  
the
      [echo]       WordNet database, are injected into the same positions
      [echo]       as the original words.
      [echo]
      [echo]       See the "Analysis" chapter for more on synonym  
injection and
      [echo]       position increments.  The "Tools and extensions"  
chapter covers
      [echo]       the WordNet feature found in the Lucene sandbox.
      [echo]
     [input] Press return to continue...

      [echo] Running lia.analysis.synonym.SynonymAnalyzerViewer...

      [java] 1: [quick] [warm] [straightaway] [spry] [speedy] [ready]  
[quickly] [promptly] [prompt] [nimble] [immediate] [flying] [fast]  
[agile]
      [java] 2: [brown] [brownness] [brownish]
      [java] 3: [fox] [trick] [throw] [slyboots] [fuddle] [fob] [dodger]  
[discombobulate] [confuse] [confound] [befuddle] [bedevil]
      [java] 4: [jumps]
      [java] 5: [over] [o] [across]
      [java] 6: [lazy] [faineant] [indolent] [otiose] [slothful]
      [java] 7: [dogs]

...

The phrase analyzed was "The quick brown fox jumps over the lazy dogs".  
  Why no synonyms for "jumps" and "dogs"?  WordNet has synonyms for  
"jump" and "dog", but not the plural forms.  Stemming would be a  
necessary step in achieving full synonym look-up, though this would  
need to be done carefully as the stem of a word is not necessarily a  
real word itself - so you'd probably want to stem the synonym database  
also to ensure accurate lookup.

Also notice the semantically incorrect synonyms that appear for the  
animal fox ("confuse", for example).  Be careful!  :)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12356-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 12:51:41 2005
Return-Path: <lucene-user-return-12356-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75696 invoked from network); 10 Jan 2005 12:51:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 12:51:41 -0000
Received: (qmail 40869 invoked by uid 500); 10 Jan 2005 12:51:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40851 invoked by uid 500); 10 Jan 2005 12:51:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40837 invoked by uid 99); 10 Jan 2005 12:51:34 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 10 Jan 2005 04:51:33 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id IA3Q8Z00.7D9 for <lucene-user@jakarta.apache.org>; Mon,
          10 Jan 2005 18:18:35 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: SYNONYM + GOOGLE
Date: Mon, 10 Jan 2005 18:07:00 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKKEKOCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPart_000_0000_01C4F73F.2E4A5440"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <AD5077B8-62FD-11D9-8E78-000393A564E6@ehatchersolutions.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0000_01C4F73F.2E4A5440
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit

Hi Erik

Apologies.......

I may be a little offline from this form,but I may help u for the next
version of Luncene In Action.


 I Was working on Java WordNet Library , On fiddling with the API's, found
something Interesting ,

 the code attached to this  get's more Synonyms then the Wordnet's Indexed
format avaliable from the LuceneinAction Zip File



1) It needs Wordnet2.0's Dictonery  Installed

2) jwnl.jar from SourceForge

[
http://sourceforge.net/project/showfiles.php?group_id=33824&package_id=33975
&release_id=196864 ]


After sucess compilation

Type for watch

ORIGINAL  : "watch" OR "analog_watch" OR "digital_watch" OR "hunter" OR
"hunting_watch" OR "pendulum_watch" OR
            "pocket_watch" OR "stem-winder" OR "wristwatch" OR "wrist_watch"

FORMATTED : "watch" OR "analog watch" OR "digital watch" OR "hunter" OR
"hunting watch" OR "pendulum watch" OR "pocket watch"


Check this Out,may be u will come up with Briliant Idea's



with regards
Karthik

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Monday, January 10, 2005 5:19 PM
To: Lucene Users List
Subject: Re: SYNONYM + GOOGLE



On Jan 10, 2005, at 5:33 AM, Karthik N S wrote:
> If u search Google  using  '~shoes',  It returns  hits  based on the
> Synonym's
>
> [ I know there is a Synonym Wordnet  based Lucene Package in the
> sandbox
>
> http://cvs.apache.org/viewcvs.cgi/jakarta-lucene-sandbox/
> contributions/WordN
> et/   ]
>
> Can this be achieved in Lucene ,If so How ???

Yes, it can be achieved.  Not quite synonyms, but various forms of the
same word can be found in this example, like this search for similar
(see the highlighted variations):

	http://www.lucenebook.com/search?query=similar

This is accomplished using the Snowball stemmer filter found in the
sandbox.   For synonyms, you have lots of options.  In Lucene in Action
I demonstrate custom analyzers that inject synonyms using the WordNet
database (from the sandbox).  From the source code distribution of LIA:

% ant SynonymAnalyzerViewer
Buildfile: build.xml

SynonymAnalyzerViewer:
      [echo]
      [echo]       Using a custom SynonymAnalyzer, two fixed strings are
      [echo]       analyzed with the results displayed.  Synonyms, from
the
      [echo]       WordNet database, are injected into the same positions
      [echo]       as the original words.
      [echo]
      [echo]       See the "Analysis" chapter for more on synonym
injection and
      [echo]       position increments.  The "Tools and extensions"
chapter covers
      [echo]       the WordNet feature found in the Lucene sandbox.
      [echo]
     [input] Press return to continue...

      [echo] Running lia.analysis.synonym.SynonymAnalyzerViewer...

      [java] 1: [quick] [warm] [straightaway] [spry] [speedy] [ready]
[quickly] [promptly] [prompt] [nimble] [immediate] [flying] [fast]
[agile]
      [java] 2: [brown] [brownness] [brownish]
      [java] 3: [fox] [trick] [throw] [slyboots] [fuddle] [fob] [dodger]
[discombobulate] [confuse] [confound] [befuddle] [bedevil]
      [java] 4: [jumps]
      [java] 5: [over] [o] [across]
      [java] 6: [lazy] [faineant] [indolent] [otiose] [slothful]
      [java] 7: [dogs]

...

The phrase analyzed was "The quick brown fox jumps over the lazy dogs".
  Why no synonyms for "jumps" and "dogs"?  WordNet has synonyms for
"jump" and "dog", but not the plural forms.  Stemming would be a
necessary step in achieving full synonym look-up, though this would
need to be done carefully as the stem of a word is not necessarily a
real word itself - so you'd probably want to stem the synonym database
also to ensure accurate lookup.

Also notice the semantically incorrect synonyms that appear for the
animal fox ("confuse", for example).  Be careful!  :)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


------=_NextPart_000_0000_01C4F73F.2E4A5440
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------=_NextPart_000_0000_01C4F73F.2E4A5440--


From lucene-user-return-12357-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 13:22:21 2005
Return-Path: <lucene-user-return-12357-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90278 invoked from network); 10 Jan 2005 13:22:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 13:22:20 -0000
Received: (qmail 94423 invoked by uid 500); 10 Jan 2005 13:21:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94301 invoked by uid 500); 10 Jan 2005 13:21:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94240 invoked by uid 99); 10 Jan 2005 13:21:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork11.mail.Virginia.EDU (HELO fork11.mail.virginia.edu) (128.143.2.181)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 05:21:44 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork11.mail.virginia.edu (Postfix) with ESMTP id 5943D1F5160
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 08:21:41 -0500 (EST)
Received: from fork11.mail.virginia.edu ([127.0.0.1])
 by localhost (fork11.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 09177-04 for <lucene-user@jakarta.apache.org>;
 Mon, 10 Jan 2005 08:21:41 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork11.mail.virginia.edu (Postfix) with ESMTP id EE3C31F51BA
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 08:21:40 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <OBELINLGKPEMCIEIJJNKKEKOCAAA.karthik@controlnet.co.in>
References: <OBELINLGKPEMCIEIJJNKKEKOCAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <A847E5AE-630A-11D9-8525-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: SYNONYM + GOOGLE
Date: Mon, 10 Jan 2005 08:22:20 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork11.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Karthik,

Thanks for that info.  I knew I was behind the times with WordNet using  
the sandbox code, but it was good enough for my purposes at the time.   
I will definitely try out the latest WordNet offerings in the future  
though.

	Erik

On Jan 10, 2005, at 7:37 AM, Karthik N S wrote:

> Hi Erik
>
> Apologies.......
>
> I may be a little offline from this form,but I may help u for the next
> version of Luncene In Action.
>
>
>  I Was working on Java WordNet Library , On fiddling with the API's,  
> found
> something Interesting ,
>
>  the code attached to this  get's more Synonyms then the Wordnet's  
> Indexed
> format avaliable from the LuceneinAction Zip File
>
>
>
> 1) It needs Wordnet2.0's Dictonery  Installed
>
> 2) jwnl.jar from SourceForge
>
> [
> http://sourceforge.net/project/showfiles.php? 
> group_id=33824&package_id=33975
> &release_id=196864 ]
>
>
> After sucess compilation
>
> Type for watch
>
> ORIGINAL  : "watch" OR "analog_watch" OR "digital_watch" OR "hunter" OR
> "hunting_watch" OR "pendulum_watch" OR
>             "pocket_watch" OR "stem-winder" OR "wristwatch" OR  
> "wrist_watch"
>
> FORMATTED : "watch" OR "analog watch" OR "digital watch" OR "hunter" OR
> "hunting watch" OR "pendulum watch" OR "pocket watch"
>
>
> Check this Out,may be u will come up with Briliant Idea's
>
>
>
> with regards
> Karthik
>
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Monday, January 10, 2005 5:19 PM
> To: Lucene Users List
> Subject: Re: SYNONYM + GOOGLE
>
>
>
> On Jan 10, 2005, at 5:33 AM, Karthik N S wrote:
>> If u search Google  using  '~shoes',  It returns  hits  based on the
>> Synonym's
>>
>> [ I know there is a Synonym Wordnet  based Lucene Package in the
>> sandbox
>>
>> http://cvs.apache.org/viewcvs.cgi/jakarta-lucene-sandbox/
>> contributions/WordN
>> et/   ]
>>
>> Can this be achieved in Lucene ,If so How ???
>
> Yes, it can be achieved.  Not quite synonyms, but various forms of the
> same word can be found in this example, like this search for similar
> (see the highlighted variations):
>
> 	http://www.lucenebook.com/search?query=similar
>
> This is accomplished using the Snowball stemmer filter found in the
> sandbox.   For synonyms, you have lots of options.  In Lucene in Action
> I demonstrate custom analyzers that inject synonyms using the WordNet
> database (from the sandbox).  From the source code distribution of LIA:
>
> % ant SynonymAnalyzerViewer
> Buildfile: build.xml
>
> SynonymAnalyzerViewer:
>       [echo]
>       [echo]       Using a custom SynonymAnalyzer, two fixed strings  
> are
>       [echo]       analyzed with the results displayed.  Synonyms, from
> the
>       [echo]       WordNet database, are injected into the same  
> positions
>       [echo]       as the original words.
>       [echo]
>       [echo]       See the "Analysis" chapter for more on synonym
> injection and
>       [echo]       position increments.  The "Tools and extensions"
> chapter covers
>       [echo]       the WordNet feature found in the Lucene sandbox.
>       [echo]
>      [input] Press return to continue...
>
>       [echo] Running lia.analysis.synonym.SynonymAnalyzerViewer...
>
>       [java] 1: [quick] [warm] [straightaway] [spry] [speedy] [ready]
> [quickly] [promptly] [prompt] [nimble] [immediate] [flying] [fast]
> [agile]
>       [java] 2: [brown] [brownness] [brownish]
>       [java] 3: [fox] [trick] [throw] [slyboots] [fuddle] [fob]  
> [dodger]
> [discombobulate] [confuse] [confound] [befuddle] [bedevil]
>       [java] 4: [jumps]
>       [java] 5: [over] [o] [across]
>       [java] 6: [lazy] [faineant] [indolent] [otiose] [slothful]
>       [java] 7: [dogs]
>
> ...
>
> The phrase analyzed was "The quick brown fox jumps over the lazy dogs".
>   Why no synonyms for "jumps" and "dogs"?  WordNet has synonyms for
> "jump" and "dog", but not the plural forms.  Stemming would be a
> necessary step in achieving full synonym look-up, though this would
> need to be done carefully as the stem of a word is not necessarily a
> real word itself - so you'd probably want to stem the synonym database
> also to ensure accurate lookup.
>
> Also notice the semantically incorrect synonyms that appear for the
> animal fox ("confuse", for example).  Be careful!  :)
>
> 	Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12358-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 13:29:54 2005
Return-Path: <lucene-user-return-12358-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94158 invoked from network); 10 Jan 2005 13:29:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 13:29:54 -0000
Received: (qmail 11575 invoked by uid 500); 10 Jan 2005 13:29:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11543 invoked by uid 500); 10 Jan 2005 13:29:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11529 invoked by uid 99); 10 Jan 2005 13:29:49 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 209-254-108-74.ip.mcleodusa.net (HELO enigmastation.com) (209.254.108.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 05:29:47 -0800
Received: from localhost (joeo@localhost)
	by enigmastation.com (8.11.6/8.11.6) with ESMTP id j0ADQTY17205
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 08:26:29 -0500
Date: Mon, 10 Jan 2005 08:26:29 -0500 (EST)
From: Joseph Ottinger <joeo@enigmastation.com>
To: "Lucene User's List" <lucene-user@jakarta.apache.org>
Subject: IndexWriter failure leaves lock in place
Message-ID: <Pine.LNX.4.33.0501100815480.3029-100000@enigmastation.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm still working through making my own directory, based on JDBC (and yes,
I know, there are some out there already, unsuitable for this reason or
that reason.)

One thing I've noticed is that the Lock procedure in IndexWriter is a
little off, I think.

My normal process on application startup is to get an IndexWriter, just to
make sure an index is there. If I get an exception (FileNotFoundException
for the FSDirectory, for example), I assume the index isn't created
properly, so then I create a new IndexWriter set to create the index.

With a file-based directory, that works well enough - and I realise there
might be a better way to do it (but I don't know it yet.)

However, the SQL-based directory leaves the lock. I think what's happening
is that the IndexWriter constructor (IndexWriter.java:216 from 1.4.3's
souce distribution) is obtaining the lock, but then the synchronized block
(starting at line 227) gets an IOException from
segmentInfos.read(directory), which throws an IOException - but the
writeLock is never explicitly removed once it's obtained.

I would think that a try/finally (or something even more predictable,
like a try/catch tht rethrows the IOException after cleanup) would be
appropriate to clear the lock *provided it's obtained* in the IndexWriter
construction, and it'd make the code that I typically use work regardless
of the specific directory I rely on.

Now, to be sure, I'm VERY FAR from a Lucene expert; am I missing
something? (I can contribute a patch if you'd like.)

-----------------------------------------------------------------------
Joseph B. Ottinger                             http://enigmastation.com
IT Consultant                                    joeo@enigmastation.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12359-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 13:50:01 2005
Return-Path: <lucene-user-return-12359-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3460 invoked from network); 10 Jan 2005 13:50:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 13:50:00 -0000
Received: (qmail 40222 invoked by uid 500); 10 Jan 2005 13:49:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40193 invoked by uid 500); 10 Jan 2005 13:49:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40172 invoked by uid 99); 10 Jan 2005 13:49:48 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork6.mail.Virginia.EDU (HELO fork6.mail.virginia.edu) (128.143.2.176)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 05:49:47 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id 0761E1C04C
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 08:49:45 -0500 (EST)
Received: from fork6.mail.virginia.edu ([127.0.0.1])
 by localhost (fork6.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 06538-07 for <lucene-user@jakarta.apache.org>;
 Mon, 10 Jan 2005 08:49:44 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id A322B1C03D
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 08:49:44 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <Pine.LNX.4.33.0501100815480.3029-100000@enigmastation.com>
References: <Pine.LNX.4.33.0501100815480.3029-100000@enigmastation.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <93FBE03A-630E-11D9-8525-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: IndexWriter failure leaves lock in place
Date: Mon, 10 Jan 2005 08:50:24 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork6.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jan 10, 2005, at 8:26 AM, Joseph Ottinger wrote:
> My normal process on application startup is to get an IndexWriter, 
> just to
> make sure an index is there. If I get an exception 
> (FileNotFoundException
> for the FSDirectory, for example), I assume the index isn't created
> properly, so then I create a new IndexWriter set to create the index.

>
> With a file-based directory, that works well enough - and I realise 
> there
> might be a better way to do it (but I don't know it yet.)

How about using IndexReader.indexExists() instead?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12360-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 13:52:15 2005
Return-Path: <lucene-user-return-12360-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4245 invoked from network); 10 Jan 2005 13:52:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 13:52:15 -0000
Received: (qmail 43736 invoked by uid 500); 10 Jan 2005 13:52:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42905 invoked by uid 500); 10 Jan 2005 13:52:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42890 invoked by uid 99); 10 Jan 2005 13:52:02 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 209-254-108-74.ip.mcleodusa.net (HELO enigmastation.com) (209.254.108.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 05:52:02 -0800
Received: from localhost (joeo@localhost)
	by enigmastation.com (8.11.6/8.11.6) with ESMTP id j0ADmhF17465
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 08:48:43 -0500
Date: Mon, 10 Jan 2005 08:48:43 -0500 (EST)
From: Joseph Ottinger <joeo@enigmastation.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: IndexWriter failure leaves lock in place
In-Reply-To: <93FBE03A-630E-11D9-8525-000A95BC61B6@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.33.0501100847570.3029-100000@enigmastation.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mon, 10 Jan 2005, Erik Hatcher wrote:

> On Jan 10, 2005, at 8:26 AM, Joseph Ottinger wrote:
> > With a file-based directory, that works well enough - and I realise
> > there
> > might be a better way to do it (but I don't know it yet.)
>
> How about using IndexReader.indexExists() instead?
>

*blank stare* .. uh... because I didn't know it was there to look for it?
:) :) :) Thanks.

Would the change still be valid, though, just to catch morons who do what
I did?

-----------------------------------------------------------------------
Joseph B. Ottinger                             http://enigmastation.com
IT Consultant                                    joeo@enigmastation.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12361-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 13:59:18 2005
Return-Path: <lucene-user-return-12361-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7998 invoked from network); 10 Jan 2005 13:59:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 13:59:17 -0000
Received: (qmail 56314 invoked by uid 500); 10 Jan 2005 13:59:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55962 invoked by uid 500); 10 Jan 2005 13:59:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55944 invoked by uid 99); 10 Jan 2005 13:59:11 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns0.asml.nl (HELO nlvdhx10.asml.nl) (194.105.121.194)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 05:59:10 -0800
Received: from nlvdhv01.asml.nl (nlvdhv01.asml.nl [194.105.121.195])
	by nlvdhx10.asml.nl (8.11.7p1+Sun/8.11.7) with SMTP id j0ADx6o03753
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 14:59:06 +0100 (MET)
Received: from creon.asml.nl(146.106.1.223) by nlvdhv01.asml.nl via csmap 
	 id ca895fc2_630f_11d9_8b2a_003048290bad_10414;
	Mon, 10 Jan 2005 14:59:05 +0100 (CET)
Received: from titan.asml.nl (titan [146.106.1.9])
	by creon.asml.nl (8.11.7+Sun/8.11.7) with ESMTP id j0ADx5Y06639
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 14:59:05 +0100 (MET)
Received: from nlvdhx05.asml.nl (nlvdhx05-int1.asml.nl [146.106.237.91])
	by titan.asml.nl (8.11.7+Sun/8.11.6) with ESMTP id j0ADx4j21141
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 14:59:04 +0100 (MET)
Received: from [146.106.75.194] (dyn-75-194 [146.106.75.194])
	by nlvdhx05.asml.nl (8.11.7+Sun/8.11.6) with ESMTP id j0ADx4a21864
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 14:59:04 +0100 (MET)
Message-ID: <41E28A14.9080504@asml.nl>
Date: Mon, 10 Jan 2005 14:58:44 +0100
From: Daan Hoogland <daan.hoogland@asml.com>
User-Agent: Mozilla Thunderbird 0.7.3 (Windows/20040803)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: IndexWriter failure leaves lock in place
References: <Pine.LNX.4.33.0501100815480.3029-100000@enigmastation.com>
In-Reply-To: <Pine.LNX.4.33.0501100815480.3029-100000@enigmastation.com>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
X-NAIMIME-Disclaimer: 1
X-NAIMIME-Modified: 1
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Joseph (and others),

I'm not an expert on lucene either. Your mail just rang a bell and I 
thought I'd contribute the ring for any expert to use. I have found 
stale locks on a system running on solaris/iplanet with the FSDirectory. 
The same code does not pose a problem on a windows/apache/tomcat 
environment. I cannot reproduce the problem yet, and I'm not sure if it 
is new to version 1.4 (the system has been running with lucene 1.2 before).

Joseph Ottinger wrote:

>I'm still working through making my own directory, based on JDBC (and yes,
>I know, there are some out there already, unsuitable for this reason or
>that reason.)
>
>One thing I've noticed is that the Lock procedure in IndexWriter is a
>little off, I think.
>
>My normal process on application startup is to get an IndexWriter, just to
>make sure an index is there. If I get an exception (FileNotFoundException
>for the FSDirectory, for example), I assume the index isn't created
>properly, so then I create a new IndexWriter set to create the index.
>
>With a file-based directory, that works well enough - and I realise there
>might be a better way to do it (but I don't know it yet.)
>
>However, the SQL-based directory leaves the lock. I think what's happening
>is that the IndexWriter constructor (IndexWriter.java:216 from 1.4.3's
>souce distribution) is obtaining the lock, but then the synchronized block
>(starting at line 227) gets an IOException from
>segmentInfos.read(directory), which throws an IOException - but the
>writeLock is never explicitly removed once it's obtained.
>
>I would think that a try/finally (or something even more predictable,
>like a try/catch tht rethrows the IOException after cleanup) would be
>appropriate to clear the lock *provided it's obtained* in the IndexWriter
>construction, and it'd make the code that I typically use work regardless
>of the specific directory I rely on.
>
>Now, to be sure, I'm VERY FAR from a Lucene expert; am I missing
>something? (I can contribute a patch if you'd like.)
>
>-----------------------------------------------------------------------
>Joseph B. Ottinger                             http://enigmastation.com
>IT Consultant                                    joeo@enigmastation.com
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>



-- 
The information contained in this communication and any attachments is confidential and may be privileged, and is for the sole use of the intended recipient(s). Any unauthorized review, use, disclosure or distribution is prohibited. If you are not the intended recipient, please notify the sender immediately by replying to this message and destroy all copies of this message and any attachments. ASML is neither liable for the proper and complete transmission of the information contained in this communication, nor for any delay in its receipt.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12362-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 14:00:11 2005
Return-Path: <lucene-user-return-12362-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8525 invoked from network); 10 Jan 2005 14:00:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 14:00:11 -0000
Received: (qmail 58323 invoked by uid 500); 10 Jan 2005 14:00:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58051 invoked by uid 500); 10 Jan 2005 14:00:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58035 invoked by uid 99); 10 Jan 2005 14:00:06 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork6.mail.Virginia.EDU (HELO fork6.mail.virginia.edu) (128.143.2.176)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 06:00:05 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id 580B81BFD9
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 09:00:03 -0500 (EST)
Received: from fork6.mail.virginia.edu ([127.0.0.1])
 by localhost (fork6.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 09623-01 for <lucene-user@jakarta.apache.org>;
 Mon, 10 Jan 2005 09:00:03 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id 12D741C007
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 09:00:03 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <Pine.LNX.4.33.0501100847570.3029-100000@enigmastation.com>
References: <Pine.LNX.4.33.0501100847570.3029-100000@enigmastation.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <0499BDC6-6310-11D9-8525-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: IndexWriter failure leaves lock in place
Date: Mon, 10 Jan 2005 09:00:43 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork6.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 10, 2005, at 8:48 AM, Joseph Ottinger wrote:

> On Mon, 10 Jan 2005, Erik Hatcher wrote:
> Would the change still be valid, though, just to catch morons who do 
> what
> I did?

Someone more familiar with the underlying lock infrastructure will have 
to evaluate that.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12363-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 14:43:31 2005
Return-Path: <lucene-user-return-12363-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44079 invoked from network); 10 Jan 2005 14:43:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 14:43:31 -0000
Received: (qmail 21396 invoked by uid 500); 10 Jan 2005 14:43:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21110 invoked by uid 500); 10 Jan 2005 14:43:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21095 invoked by uid 99); 10 Jan 2005 14:43:24 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx1-ext.sgi.com (HELO omx1.americas.sgi.com) (192.48.179.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 06:43:23 -0800
Received: from hastur.corp.sgi.com (hastur.corp.sgi.com [198.149.32.33])
	by omx1.americas.sgi.com (8.12.10/8.12.9/linux-outbound_gateway-1.1) with ESMTP id j0AEhKxT001186
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 08:43:20 -0600
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com [169.238.221.130])
	by hastur.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2) with ESMTP id j0AEh8Yw88156945
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 06:43:08 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id j0AEhJad20404536
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 09:43:19 -0500 (EST)
Message-ID: <41E29482.8020705@sgi.com>
Date: Mon, 10 Jan 2005 09:43:14 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Question about the best way to replace existing docs in an	index.
References: <41DEE73D.1070601@sgi.com> <1105351617.3257.15.camel@goose.milesbarr.com>
In-Reply-To: <1105351617.3257.15.camel@goose.milesbarr.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Miles,

Thanks for the tips.  I didn't see this response nor did I see my 
original email earlier, so I reposted the question, thinking I had 
forgotten to do so on Friday.  My apologies to the group for the double 
post.

Jim.

Miles Barr wrote:

>On Fri, 2005-01-07 at 14:47 -0500, Jim Lynch wrote:
>  
>
>>My application for Lucene involves updating an existing index with a 
>>mixture of new and revised documents.  From what I've been able to 
>>dicern from reading I'm going to have to delete the old versions of the 
>>revised documents before indexing them again.  Since this indexing will 
>>probably take quite a while due to the number of new/revised documents 
>>I'll be adding and the large number of documents already in the index, 
>>I'm uncomfortable keeping an IndexReader and an IndexWriter open for 
>>long periods of time.  
>>    
>>
>
>As I understand it you can't have an index reader which you do deletes
>on and an index writer open at the same time since they are both doing
>write operations. I think locking will prevent you from opening an index
>writer once you do a delete on the reader.
>
>So you're either going to have to open and close the reader and writer
>for each update, or keep a list of duplicate references and a list of
>documents to be updated, then do the deletes like:
>
>for (Iterator it = toBeDeleted.iterator(); it.hasNext(); ) {
>  Term term = new Term("Reference", (String) it.next());
>  indexReader.delete(term);
>}
>
>Close the reader, open the writer, then iterate through your list of new
>docs and write them to the index.
>
>  
>
>>Should I be concerned about keeping both an indexReader and indexWriter 
>>open at the same time?  I'll have other processes probably making 
>>searches during this time.  I'm not concerned about the searches not 
>>finding the data I'm currently adding, I'm more concerned about locking 
>>those searches out.  
>>    
>>
>
>Once you close your reader searches won't be possible. So once you've
>done your deletes close the reader and open it again to release the
>write lock before opening the writer.
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12364-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 14:44:42 2005
Return-Path: <lucene-user-return-12364-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44686 invoked from network); 10 Jan 2005 14:44:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 14:44:42 -0000
Received: (qmail 23205 invoked by uid 500); 10 Jan 2005 14:44:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23026 invoked by uid 500); 10 Jan 2005 14:44:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23004 invoked by uid 99); 10 Jan 2005 14:44:37 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 06:44:35 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Mon, 10 Jan 2005 09:46:27 -0500
Message-ID: <000f01c4f723$2a3c56d0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <24CFCE44DCB015489FB96D38BDF4FCAA07C93D@gerard.anchormen.nl>
Subject: Re: what if the IndexReader crashes, after delete, before close.
Date: Mon, 10 Jan 2005 09:46:27 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 10 Jan 2005 14:46:27.0851 (UTC) FILETIME=[2A483DB0:01C4F723]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

One thing that will happen is the lock file will get left behind. This means
when you start back up and try to create another Reader you will get a file
lock error.

Our system is threaded and synchronized. Thus when a Reader is being created
I know it is the only one (the Writer comes after the reader has been
closed). Before creating it I check if the Index is locked. If it is, I
forcefully clear it. This prevents the above problem from happening.

Luke

----- Original Message ----- 
From: "Peter Veentjer - Anchor Men" <p.veentjer@anchormen.nl>
To: <lucene-user@jakarta.apache.org>
Sent: Saturday, January 08, 2005 4:08 AM
Subject: what if the IndexReader crashes, after delete, before close.


What happens to the Index if the IndexReader crashes, after I have deleted
documents, and before I have called close. Are the deletes ignored? Is the
Index screwed up? Is the filesystem screwed up (if a document is deleted new
delete-files appear) so are the delete-files still there (and can these be
ignored the next time?). Can I restore the index to the previous state, just
by removing those delete-files?



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12365-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 14:46:37 2005
Return-Path: <lucene-user-return-12365-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45518 invoked from network); 10 Jan 2005 14:46:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 14:46:37 -0000
Received: (qmail 26318 invoked by uid 500); 10 Jan 2005 14:46:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25829 invoked by uid 500); 10 Jan 2005 14:46:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25816 invoked by uid 99); 10 Jan 2005 14:46:32 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx1-ext.sgi.com (HELO omx1.americas.sgi.com) (192.48.179.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 06:46:31 -0800
Received: from hastur.corp.sgi.com (hastur.corp.sgi.com [198.149.32.33])
	by omx1.americas.sgi.com (8.12.10/8.12.9/linux-outbound_gateway-1.1) with ESMTP id j0AEkSxT001879
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 08:46:29 -0600
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com [169.238.221.130])
	by hastur.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2) with ESMTP id j0AEk5Yw88144206
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 06:46:05 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id j0AEkRad20421534
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 09:46:27 -0500 (EST)
Message-ID: <41E2953E.2060101@sgi.com>
Date: Mon, 10 Jan 2005 09:46:22 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Another highlighter question
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If the source of the documents in the index is from  web pages and the 
source isn't stored in the index, would highlighting be too slow since 
you'd have to download each web page again to gain access to the source?

Jim.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12366-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 14:48:41 2005
Return-Path: <lucene-user-return-12366-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46430 invoked from network); 10 Jan 2005 14:48:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 14:48:41 -0000
Received: (qmail 30924 invoked by uid 500); 10 Jan 2005 14:48:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30795 invoked by uid 500); 10 Jan 2005 14:48:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30782 invoked by uid 99); 10 Jan 2005 14:48:36 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx3-ext.sgi.com (HELO omx3.sgi.com) (192.48.171.20)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 06:48:35 -0800
Received: from internal-mail-relay.corp.sgi.com (internal-mail-relay.corp.sgi.com [198.149.32.51])
	by omx3.sgi.com (8.12.11/8.12.9/linux-outbound_gateway-1.1) with ESMTP id j0AE3vAG009339
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 06:03:57 -0800
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com [169.238.221.130])
	by internal-mail-relay.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2) with ESMTP id j0AEdHXd175109611
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 06:39:18 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id j0AEdFad20163052
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 09:39:17 -0500 (EST)
Message-ID: <41E2938E.5050804@sgi.com>
Date: Mon, 10 Jan 2005 09:39:10 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Program design question. 
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

My application for Lucene involves updating an existing index with a 
mixture of new and revised documents.  From what I've been able to 
dicern from reading I'm going to have to delete the old versions of the 
revised documents before indexing them again.  Since this indexing will 
probably take quite a while due to the number of new/revised documents 
I'll be adding and the large number of documents already in the index, 
I'm uncomfortable keeping an IndexReader and an IndexWriter open for 
long periods of time.  

What I'm considering doing is reading the file with mulitple documents 
twice.  One time I test to see if the document is in the index and 
delete it if it is with something like:

The "Reference" term is unique.

...
    while(String ref = getNextDocument() != null) {
    Term t = Term("Reference",ref);
    TermDocs td = indexReader.termDocs(t);
    if(td != null) {
        td.next();
        indexReader.delete(td.doc());
    }
    }

Or should I not bother to look for the term at all and do something like 
this?

    while(String ref = getNextDocument() != null) {
    Term t = Term("Reference",ref);
    indexReader.delete(t);
    }
Are either of these more efficient.

Then I would close the indexReader and go back and reread the file, 
indexing merrily away.

Should I be concerned about keeping both an indexReader and indexWriter 
open at the same time?  I'll have other processes probably making 
searches during this time.  I'm not concerned about the searches not 
finding the data I'm currently adding, I'm more concerned about locking 
those searches out.  

A couple of valid assumptions.  The reference term is unique in the 
index and there will be only one in the input file.

Comments?

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12367-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 14:58:27 2005
Return-Path: <lucene-user-return-12367-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52316 invoked from network); 10 Jan 2005 14:58:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 14:58:27 -0000
Received: (qmail 50709 invoked by uid 500); 10 Jan 2005 14:58:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50692 invoked by uid 500); 10 Jan 2005 14:58:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50678 invoked by uid 99); 10 Jan 2005 14:58:22 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from Unknown (HELO goose.milesbarr.com) (81.168.89.246)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 06:58:21 -0800
Received: by goose.milesbarr.com (Postfix, from userid 1000)
	id BB8A727E6D9; Mon, 10 Jan 2005 14:56:06 +0000 (GMT)
Subject: Re: Another highlighter question
From: Miles Barr <miles@runtime-collective.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41E2953E.2060101@sgi.com>
References: <41E2953E.2060101@sgi.com>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Organization: Runtime Collective Ltd.
Date: Mon, 10 Jan 2005 14:56:06 +0000
Message-Id: <1105368966.11158.5.camel@goose.milesbarr.com>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Jim,

On Mon, 2005-01-10 at 09:46 -0500, Jim Lynch wrote:
> If the source of the documents in the index is from  web pages and the 
> source isn't stored in the index, would highlighting be too slow since 
> you'd have to download each web page again to gain access to the source?

For web pages I keep a cached parsed (HTML removed) copy for
highlighting purposes. I think downloading each page and removing HTML
tags each time would take too long.

-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12368-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 16:01:29 2005
Return-Path: <lucene-user-return-12368-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92029 invoked from network); 10 Jan 2005 16:01:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 16:01:28 -0000
Received: (qmail 61313 invoked by uid 500); 10 Jan 2005 16:01:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60473 invoked by uid 500); 10 Jan 2005 16:01:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60457 invoked by uid 99); 10 Jan 2005 16:01:25 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx1-ext.sgi.com (HELO omx1.americas.sgi.com) (192.48.179.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 08:01:23 -0800
Received: from hastur.corp.sgi.com (hastur.corp.sgi.com [198.149.32.33])
	by omx1.americas.sgi.com (8.12.10/8.12.9/linux-outbound_gateway-1.1) with ESMTP id j0AG1LxT017092
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 10:01:21 -0600
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com [169.238.221.130])
	by hastur.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2) with ESMTP id j0AG1EYw88188237
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 08:01:14 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id j0AG1Jad20426427
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 11:01:20 -0500 (EST)
Message-ID: <41E2A6CA.3020005@sgi.com>
Date: Mon, 10 Jan 2005 11:01:14 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Another highlighter question
References: <41E2953E.2060101@sgi.com> <1105368966.11158.5.camel@goose.milesbarr.com>
In-Reply-To: <1105368966.11158.5.camel@goose.milesbarr.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Do you keep it in the index or cached in a separate place like a file or db?

Thanks,
Jim.

Miles Barr wrote:

>Hi Jim,
>
>On Mon, 2005-01-10 at 09:46 -0500, Jim Lynch wrote:
>  
>
>>If the source of the documents in the index is from  web pages and the 
>>source isn't stored in the index, would highlighting be too slow since 
>>you'd have to download each web page again to gain access to the source?
>>    
>>
>
>For web pages I keep a cached parsed (HTML removed) copy for
>highlighting purposes. I think downloading each page and removing HTML
>tags each time would take too long.
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12369-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 16:03:54 2005
Return-Path: <lucene-user-return-12369-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93079 invoked from network); 10 Jan 2005 16:03:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 16:03:54 -0000
Received: (qmail 65521 invoked by uid 500); 10 Jan 2005 16:03:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65497 invoked by uid 500); 10 Jan 2005 16:03:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65479 invoked by uid 99); 10 Jan 2005 16:03:50 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx1-ext.sgi.com (HELO omx1.americas.sgi.com) (192.48.179.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 08:03:48 -0800
Received: from hastur.corp.sgi.com (hastur.corp.sgi.com [198.149.32.33])
	by omx1.americas.sgi.com (8.12.10/8.12.9/linux-outbound_gateway-1.1) with ESMTP id j0AG3kxT017511
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 10:03:47 -0600
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com [169.238.221.130])
	by hastur.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2) with ESMTP id j0AG3TYw88183328
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 08:03:29 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id j0AG3jad20426726
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 11:03:45 -0500 (EST)
Message-ID: <41E2A75C.4070408@sgi.com>
Date: Mon, 10 Jan 2005 11:03:40 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: How do you handle dynamic html pages?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

How is anyone managing reindexing of pages that change?  Just 
periodically reindex everything or do you try to determine frequency of 
each changes to each page and/or site? 

Thanks,
Jim.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12370-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 16:05:46 2005
Return-Path: <lucene-user-return-12370-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94189 invoked from network); 10 Jan 2005 16:05:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 16:05:45 -0000
Received: (qmail 73612 invoked by uid 500); 10 Jan 2005 16:05:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73575 invoked by uid 500); 10 Jan 2005 16:05:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73558 invoked by uid 99); 10 Jan 2005 16:05:39 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from Unknown (HELO goose.milesbarr.com) (81.168.89.246)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 08:05:38 -0800
Received: by goose.milesbarr.com (Postfix, from userid 1000)
	id 583BC285223; Mon, 10 Jan 2005 16:02:42 +0000 (GMT)
Subject: Re: Another highlighter question
From: Miles Barr <miles@runtime-collective.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41E2A6CA.3020005@sgi.com>
References: <41E2953E.2060101@sgi.com>
	 <1105368966.11158.5.camel@goose.milesbarr.com>  <41E2A6CA.3020005@sgi.com>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Organization: Runtime Collective Ltd.
Date: Mon, 10 Jan 2005 16:02:41 +0000
Message-Id: <1105372962.11157.14.camel@goose.milesbarr.com>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mon, 2005-01-10 at 11:01 -0500, Jim Lynch wrote:
> Do you keep it in the index or cached in a separate place like a file or db?

I keep it in a field in the index.

-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12371-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 16:09:29 2005
Return-Path: <lucene-user-return-12371-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96225 invoked from network); 10 Jan 2005 16:09:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 16:09:29 -0000
Received: (qmail 80800 invoked by uid 500); 10 Jan 2005 16:09:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80782 invoked by uid 500); 10 Jan 2005 16:09:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80767 invoked by uid 99); 10 Jan 2005 16:09:24 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mspmail2.stellent.com (HELO mspmail2.stellent.com) (12.40.185.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 08:09:23 -0800
Received: from [10.10.20.20] ([10.10.20.20])
	by mspmail2.stellent.com (8.11.6+Sun/8.11.5) with ESMTP id j0AG9K119474
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 10:09:20 -0600 (CST)
Subject: Re: How do you handle dynamic html pages?
From: Luke Francl <luke.francl@stellent.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41E2A75C.4070408@sgi.com>
References: <41E2A75C.4070408@sgi.com>
Content-Type: text/plain
Message-Id: <1105373350.11364.2.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 
Date: Mon, 10 Jan 2005 10:09:10 -0600
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mon, 2005-01-10 at 10:03, Jim Lynch wrote:
> How is anyone managing reindexing of pages that change?  Just 
> periodically reindex everything or do you try to determine frequency of 
> each changes to each page and/or site? 

If you are using a CMS, your best bet is to integrate Lucene with the
CMS's content update mechanism. That way, your index will always be
up-to-date.

Otherwise, I would say reindexing everything is easiest, provided it
doesn't take too long. If it's ~15 minutes or less, you could schedule a
processes to do it at a low activity period (2 AM or whenever) every day
and that would probably handle your needs.

Regards,
Luke Francl


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12372-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 16:20:53 2005
Return-Path: <lucene-user-return-12372-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2758 invoked from network); 10 Jan 2005 16:20:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 16:20:53 -0000
Received: (qmail 2681 invoked by uid 500); 10 Jan 2005 16:20:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2601 invoked by uid 500); 10 Jan 2005 16:20:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2587 invoked by uid 99); 10 Jan 2005 16:20:48 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from web40729.mail.yahoo.com (HELO web40729.mail.yahoo.com) (66.218.92.67)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 10 Jan 2005 08:20:47 -0800
Received: (qmail 72271 invoked by uid 60001); 10 Jan 2005 16:20:45 -0000
Message-ID: <20050110162045.72269.qmail@web40729.mail.yahoo.com>
Received: from [62.212.119.132] by web40729.mail.yahoo.com via HTTP; Mon, 10 Jan 2005 17:20:45 CET
Date: Mon, 10 Jan 2005 17:20:45 +0100 (CET)
From: Nathalie Harbonne <nathha2000@yahoo.fr>
Subject: about the ezlm program-Nathalie Harbonne
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi, 

I'm very sorry, but i just wanted to receive an answer
to my question: where is the runable file to make the
software lucene work.
You told me that it is the ezlm program but i don't
see it anywhere.
If you could tell me where it is, it would be very
kind from you.

I don't really want to suscribe to the user list
because i will not be a frequent user of this
software; i; just wanted to see if there is a
thesaurus integrated inside and how it works( tables
and indexes etc...)

Thanks a lot for your help.

Cordially.

Nathalie Harbonne


	

	
		
Dcouvrez le nouveau Yahoo! Mail : 250 Mo d'espace de stockage pour vos mails ! 
Crez votre Yahoo! Mail sur http://fr.mail.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12373-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 16:26:49 2005
Return-Path: <lucene-user-return-12373-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6436 invoked from network); 10 Jan 2005 16:26:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 16:26:49 -0000
Received: (qmail 18948 invoked by uid 500); 10 Jan 2005 16:26:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18915 invoked by uid 500); 10 Jan 2005 16:26:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18894 invoked by uid 99); 10 Jan 2005 16:26:42 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ip-64-32-221-50.dsl.iad.megapath.net (HELO mail.lou.emergint.com) (64.32.221.50)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 08:26:41 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: How do you handle dynamic html pages?
Date: Mon, 10 Jan 2005 11:26:38 -0500
Message-ID: <8D7DE0C84F1D5149894354E754E6807E39A2F8@mail.lou.emergint.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: How do you handle dynamic html pages?
Thread-Index: AcT3LsKZrVnLCPrURI+x1gH0rFvPaAAAUKfQ
From: "Kevin L. Cobb" <kevin.cobb@emergint.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I don't like to periodically re-index everything because 1) you can't be
confident that your searches are as up to date as they could be, and 2)
you are wasting cycles either checking for documents that may or may not
need to be updated, or re-indexing documents that don't need updated.=20

Ideally, I think that you want an event driven system where the content
management system or the like indicates to your searcher engine when a
page/document gets updated. That way, you know that documents are as up
to date as possible in terms of searches, and you know that you aren't
doing unnecessary work.=20

=20

-----Original Message-----
From: Luke Francl [mailto:luke.francl@stellent.com]=20
Sent: Monday, January 10, 2005 11:09 AM
To: Lucene Users List
Subject: Re: How do you handle dynamic html pages?

On Mon, 2005-01-10 at 10:03, Jim Lynch wrote:
> How is anyone managing reindexing of pages that change?  Just=20
> periodically reindex everything or do you try to determine frequency
of=20
> each changes to each page and/or site?=20

If you are using a CMS, your best bet is to integrate Lucene with the
CMS's content update mechanism. That way, your index will always be
up-to-date.

Otherwise, I would say reindexing everything is easiest, provided it
doesn't take too long. If it's ~15 minutes or less, you could schedule a
processes to do it at a low activity period (2 AM or whenever) every day
and that would probably handle your needs.

Regards,
Luke Francl


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12374-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 16:31:26 2005
Return-Path: <lucene-user-return-12374-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8856 invoked from network); 10 Jan 2005 16:31:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 16:31:26 -0000
Received: (qmail 34921 invoked by uid 500); 10 Jan 2005 16:31:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34900 invoked by uid 500); 10 Jan 2005 16:31:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34884 invoked by uid 99); 10 Jan 2005 16:31:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mspmail2.stellent.com (HELO mspmail2.stellent.com) (12.40.185.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 08:31:19 -0800
Received: from [10.10.20.20] ([10.10.20.20])
	by mspmail2.stellent.com (8.11.6+Sun/8.11.5) with ESMTP id j0AGVG119750
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 10:31:16 -0600 (CST)
Subject: RE: How do you handle dynamic html pages?
From: Luke Francl <luke.francl@stellent.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <8D7DE0C84F1D5149894354E754E6807E39A2F8@mail.lou.emergint.com>
References: <8D7DE0C84F1D5149894354E754E6807E39A2F8@mail.lou.emergint.com>
Content-Type: text/plain
Message-Id: <1105374665.11364.6.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 
Date: Mon, 10 Jan 2005 10:31:05 -0600
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mon, 2005-01-10 at 10:26, Kevin L. Cobb wrote:
> I don't like to periodically re-index everything because 1) you can't be
> confident that your searches are as up to date as they could be, and 2)
> you are wasting cycles either checking for documents that may or may not
> need to be updated, or re-indexing documents that don't need updated. 
> 
> Ideally, I think that you want an event driven system where the content
> management system or the like indicates to your searcher engine when a
> page/document gets updated. That way, you know that documents are as up
> to date as possible in terms of searches, and you know that you aren't
> doing unnecessary work. 

CMS integration is definitely superior, but if you're just indexing flat
HTML files that people are uploading to the site with FTP, I think
periodic re-indexing will fit the bill.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12375-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 16:32:17 2005
Return-Path: <lucene-user-return-12375-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9454 invoked from network); 10 Jan 2005 16:32:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 16:32:16 -0000
Received: (qmail 38167 invoked by uid 500); 10 Jan 2005 16:32:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38124 invoked by uid 500); 10 Jan 2005 16:32:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38081 invoked by uid 99); 10 Jan 2005 16:32:07 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 08:32:05 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Mon, 10 Jan 2005 11:33:57 -0500
Message-ID: <006e01c4f732$2ec00c60$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <8D7DE0C84F1D5149894354E754E6807E39A2F8@mail.lou.emergint.com>
Subject: Re: How do you handle dynamic html pages?
Date: Mon, 10 Jan 2005 11:33:57 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 10 Jan 2005 16:33:57.0886 (UTC) FILETIME=[2ECD79E0:01C4F732]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I run the indexer in our CMS everytime a content change has occured. It is
an incremental update so only documents that generate a different UID than
the coresponding UID in the index get processed.

Luke

----- Original Message ----- 
From: "Kevin L. Cobb" <kevin.cobb@emergint.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, January 10, 2005 11:26 AM
Subject: RE: How do you handle dynamic html pages?


I don't like to periodically re-index everything because 1) you can't be
confident that your searches are as up to date as they could be, and 2)
you are wasting cycles either checking for documents that may or may not
need to be updated, or re-indexing documents that don't need updated.

Ideally, I think that you want an event driven system where the content
management system or the like indicates to your searcher engine when a
page/document gets updated. That way, you know that documents are as up
to date as possible in terms of searches, and you know that you aren't
doing unnecessary work.



-----Original Message-----
From: Luke Francl [mailto:luke.francl@stellent.com]
Sent: Monday, January 10, 2005 11:09 AM
To: Lucene Users List
Subject: Re: How do you handle dynamic html pages?

On Mon, 2005-01-10 at 10:03, Jim Lynch wrote:
> How is anyone managing reindexing of pages that change?  Just
> periodically reindex everything or do you try to determine frequency
of
> each changes to each page and/or site?

If you are using a CMS, your best bet is to integrate Lucene with the
CMS's content update mechanism. That way, your index will always be
up-to-date.

Otherwise, I would say reindexing everything is easiest, provided it
doesn't take too long. If it's ~15 minutes or less, you could schedule a
processes to do it at a low activity period (2 AM or whenever) every day
and that would probably handle your needs.

Regards,
Luke Francl


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12376-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 17:01:36 2005
Return-Path: <lucene-user-return-12376-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27502 invoked from network); 10 Jan 2005 17:01:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 17:01:34 -0000
Received: (qmail 4264 invoked by uid 500); 10 Jan 2005 17:01:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4214 invoked by uid 500); 10 Jan 2005 17:01:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4156 invoked by uid 99); 10 Jan 2005 17:01:26 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork7.mail.Virginia.EDU (HELO fork7.mail.virginia.edu) (128.143.2.177)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 09:01:24 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id 9EE381F5221
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 12:01:22 -0500 (EST)
Received: from fork7.mail.virginia.edu ([127.0.0.1])
 by localhost (fork7.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 03074-06 for <lucene-user@jakarta.apache.org>;
 Mon, 10 Jan 2005 12:01:22 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id 2B2181F52C3
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 12:01:22 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <20050110162045.72269.qmail@web40729.mail.yahoo.com>
References: <20050110162045.72269.qmail@web40729.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <5918E1CE-6329-11D9-8525-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: about the ezlm program-Nathalie Harbonne
Date: Mon, 10 Jan 2005 12:02:02 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork7.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 10, 2005, at 11:20 AM, Nathalie Harbonne wrote:
> I'm very sorry, but i just wanted to receive an answer
> to my question: where is the runable file to make the
> software lucene work.
> You told me that it is the ezlm program but i don't
> see it anywhere.
> If you could tell me where it is, it would be very
> kind from you.

:)

ezlm is the mail software used to power the Apache e-mail lists, and 
has absolutely nothing to do with Lucene.

> I don't really want to suscribe to the user list
> because i will not be a frequent user of this
> software; i; just wanted to see if there is a
> thesaurus integrated inside and how it works( tables
> and indexes etc...)

There is no thesaurus integrated into Lucene, however it is quite easy 
to custom code the integration.

Since you don't want to be on the e-mail list, but want to know about 
Lucene, I suggest picking up a copy of Lucene in Action (Manning 
Publications).  Sorry for the self-advertising ;)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12377-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 17:20:35 2005
Return-Path: <lucene-user-return-12377-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38616 invoked from network); 10 Jan 2005 17:20:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 17:20:32 -0000
Received: (qmail 48053 invoked by uid 500); 10 Jan 2005 17:20:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48029 invoked by uid 500); 10 Jan 2005 17:20:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48010 invoked by uid 99); 10 Jan 2005 17:20:26 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from web40703.mail.yahoo.com (HELO web40703.mail.yahoo.com) (66.218.78.160)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 10 Jan 2005 09:20:25 -0800
Received: (qmail 2890 invoked by uid 60001); 10 Jan 2005 17:20:23 -0000
Message-ID: <20050110172023.2888.qmail@web40703.mail.yahoo.com>
Received: from [62.212.119.132] by web40703.mail.yahoo.com via HTTP; Mon, 10 Jan 2005 18:20:23 CET
Date: Mon, 10 Jan 2005 18:20:23 +0100 (CET)
From: Nathalie Harbonne <nathha2000@yahoo.fr>
Subject: Re: about the ezlm program-Nathalie Harbonne
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <5918E1CE-6329-11D9-8525-000A95BC61B6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

 --- Erik Hatcher <erik@ehatchersolutions.com> a
crit: 
> 
> On Jan 10, 2005, at 11:20 AM, Nathalie Harbonne
> wrote:
> > I'm very sorry, but i just wanted to receive an
> answer
> > to my question: where is the runable file to make
> the
> > software lucene work.
> > You told me that it is the ezlm program but i
> don't
> > see it anywhere.
> > If you could tell me where it is, it would be very
> > kind from you.
> 
> :)
> 
> ezlm is the mail software used to power the Apache
> e-mail lists, and 
> has absolutely nothing to do with Lucene.
> 
> > I don't really want to suscribe to the user list
> > because i will not be a frequent user of this
> > software; i; just wanted to see if there is a
> > thesaurus integrated inside and how it works(
> tables
> > and indexes etc...)
> 
> There is no thesaurus integrated into Lucene,
> however it is quite easy 
> to custom code the integration.
> 
> Since you don't want to be on the e-mail list, but
> want to know about 
> Lucene, I suggest picking up a copy of Lucene in
> Action (Manning 
> Publications).  Sorry for the self-advertising ;)
> 
> 	Erik
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
>  


	

	
		
Dcouvrez le nouveau Yahoo! Mail : 250 Mo d'espace de stockage pour vos mails ! 
Crez votre Yahoo! Mail sur http://fr.mail.yahoo.com/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12378-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 18:58:09 2005
Return-Path: <lucene-user-return-12378-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85592 invoked from network); 10 Jan 2005 18:58:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 18:58:09 -0000
Received: (qmail 31178 invoked by uid 500); 10 Jan 2005 18:58:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31148 invoked by uid 500); 10 Jan 2005 18:58:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31134 invoked by uid 99); 10 Jan 2005 18:58:03 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS,UPPERCASE_50_75
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mariella@lanl.gov designates 192.65.95.54 as permitted sender)
Received: from mailwasher.lanl.gov (HELO mailwasher-b.lanl.gov) (192.65.95.54)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 10:58:03 -0800
Received: from mailrelay3.lanl.gov (mailrelay3.lanl.gov [128.165.4.104])
	by mailwasher-b.lanl.gov (8.12.11/8.12.11/(ccn-5)) with ESMTP id j0AIwKgf018075
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 11:58:20 -0700
Received: from cic-mail.lanl.gov (cic-mail.lanl.gov [128.165.4.115])
	by mailrelay3.lanl.gov (8.12.11/8.12.11/(ccn-5)) with ESMTP id j0AIvrBD032019
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 11:57:54 -0700
Received: from butterfly.lanl.gov (butterfly.lanl.gov [128.165.10.37])
	by cic-mail.lanl.gov (8.12.11/8.12.11/(ccn-5)) with ESMTP id j0AIvrp2019291
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 11:57:53 -0700
Message-Id: <5.2.1.1.2.20050110114759.00a78bf8@cic-mail.lanl.gov>
X-Sender: mariella@cic-mail.lanl.gov (Unverified)
X-Mailer: QUALCOMM Windows Eudora Version 5.2.1
Date: Mon, 10 Jan 2005 11:57:55 -0700
To: lucene-user@jakarta.apache.org
From: Mariella Di Giacomo <mariella@lanl.gov>
Subject: Question about sorting and sorted results 
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-PMX-Version: 4.7.0.111621
X-PMX-Version: 4.7.0.111621
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi ALL,


I am using a java class to query an index and return sorted results.
The "author" and "title" fields are Indexed, Tokenized and Stored.
The are added in the following way:
   doc.add(Field.Text("title"...
    doc.add(Field.Text("author"...

....................
Search.java
............
Query query = new TermQuery(new Term(field, searchText));


         ex.displayResults(query, Sort.RELEVANCE);
         System.out.println("---------------------------------------------------------");
         ex.displayResults(query, Sort.INDEXORDER);
         System.out.println("---------------------------------------------------------");
         ex.displayResults(query, new Sort("author"));
         System.out.println("---------------------------------------------------------");
         ex.displayResults(query, new Sort("title"));
         System.out.println("---------------------------------------------------------");

When I do a search on "author:blake"

The first two types of sorting (RELEVANCE and INDEXORDER) work
The "author" and "title" sortings do not seem to work properly.
Is that because those fields are Tokenized ?


Thanks in advance for your help.

Mariella


Following is a part of the output list:
________________________________________________________________________________________

62 Results for: author:blake sorted by "title",<doc>


Title                                            						           author 
                                                     id   	   score

ISOLATION AND A-B CLASSIFICATION OF HEMI CELLULOSES         BLAKE J D 
MURPHY P T RICHARDS G N                            211871         0.5
EVIDENCE FOR MOLECULAR AGGREGATION IN HEMI CELLULOSES       BLAKE J D 
RICHARDS G N                                       220526         0.6
METHODS OF ENZYME INDUCTION BY NICOTINAMIDE                 BLAKE R L KUN 
E                                    		          110994         0.7
PHARMACOLOGY IN THE CLINICALLY ORIENTED PHARMACY CURRICULUM BLAKE D A 
FLETCHER H P KINNARD W J JR                        46002         0.5
PLANTS FROM ARIZONA J.6.1                                   CUTLER H C 
BLAKE L W                                         40622         0.6
PSEUDO PERI CARDITIS IN DIABETIC KETO ACIDOSIS              BENNETT K R 
BLAKE T M                                        38191         0.7
EFFECT OF PREGNANCY AND EXERCISE ON ACTOMYOSIN NUCLEIC-A... BLAKE C A 
HAZELWOOD R L                                      61184         0.7
A CRITICAL REEXAMINATION OF PROBLEMS INHERENT IN COMPOSI... BLAKE J D 
RICHARDS G N                                       76648         0.6
OBSERVATIONS ON BABOONS PAPIO-ANUBIS IN AN ARID REGION I... ALDRICH-BLAKE F 
P G BUNN T K DUNBAR R I M HEADLEY P M        68831         0.4

________________________________________________________________________________________

62 Results for: author:blake sorted by "author",<doc>


Title                                                       author 
                                               id      score

HYPOTHALAMIC ELECTRICAL CHANGES FOLLOWING VAGINAL STIMUL... BLAKE C 
A                                                    223024           1
PROCEEDINGS OF THE ROYAL SOCIETY OF MEDICINE SECTION OF ... BLAKE H 
E                                                    3147         0.8
PROCEEDINGS OF THE ROYAL SOCIETY OF MEDICINE SECTION OF ... BLAKE H 
E                                                    76286         0.8
A REVIEW OF THE BEETLES OF THE GENUS METACHROMA COLEOPTE... BLAKE D 
H                                                    153593         0.8
NOTES ON SOME CHRYSOMELID BEETLES FROM THE USA AND ARGEN... BLAKE D 
H                                                    153728         0.8
STUDIES ON THE LIGNOTUBERS OF EUCALYPTUS-OBLIQUA-D PART ... BLAKE T J 
CARRODUS B B                                       5318         0.7
REVISION OF THE GENUS POLYDORA FROM THE EAST COAST OF NO... BLAKE J 
A                                                    121076           1
STUDIES ON THE LIGNOTUBERS OF EUCALYPTUS-OBLIQUA-D PART ... CARRODUS B B 
BLAKE T J                                       179396         0.7
DEGRADATION OF ATRAZINE BY SOIL FUNGI                       KAUFMAN D D 
BLAKE J                                          10186         0.7
AN INCOMPLETE RANDOMIZED BLOCK DESIGN ILLUSTRATED BY A S... BLAKE G 
M                                                    139069         0.8
BIOSYNTHESIS OF DEUTERATED BENZYL PENICILLINS PART 1 SOL... CARLSTEDT B C 
CRESPI H L BLAKE M I KATZ J J                  148917         0.4
METHYL CARBAMATES AFFECT ACYLANILIDE HERBICIDE RESIDUES ... KAUFMAN D D 
BLAKE J MILLER D E                               13114         0.5
THE STRUCTURE OF AN EXPERIMENTAL IN FAUNAL COMMUNITY        BLAKE N J 
JEFFRIES H P                                       85817         0.6
AN X-RAY STUDY OF THE PRODUCT OF AN UNUSUAL REACTION IN ... BEDDELL C R 
BLAKE C C F                                      13593         0.6
PSEUDO PERI CARDITIS IN DIABETIC KETO ACIDOSIS              BENNETT K R 
BLAKE T M                                        38191         0.7
THIXOTROPIC CHANGES WITH AGING OF SYNTHETIC SOIL AGGREGATES BLAKE G R 
GILMAN R D                                         53185         0.6
EFFECT OF PREGNANCY AND EXERCISE ON ACTOMYOSIN NUCLEIC-A... BLAKE C A 
HAZELWOOD R L                                      61184         0.7
A NEW SPECIES OF SPINETAIL SYNALLAXIS FROM PERU             BLAKE E 
R                                                    67031         0.8
OBSERVATIONS ON BABOONS PAPIO-ANUBIS IN AN ARID REGION I... ALDRICH-BLAKE F 
P G BUNN T K DUNBAR R I M HEADLEY P M        68831         0.4
COMPARATIVE STUDIES ON THE ABSORPTION OF TRITIATED THALI... KELLER G R 
BLAKE D A                                         78573         0.7
DEFICIENCY OF A GLUCO CORTICOID INDUCIBLE ISOENZYME OF L... BLAKE R L 
BRONER J

________________________________________________________________________________________




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12379-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 19:38:38 2005
Return-Path: <lucene-user-return-12379-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3276 invoked from network); 10 Jan 2005 19:38:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 19:38:37 -0000
Received: (qmail 5478 invoked by uid 500); 10 Jan 2005 19:38:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4982 invoked by uid 500); 10 Jan 2005 19:38:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4968 invoked by uid 99); 10 Jan 2005 19:38:30 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 209-254-108-74.ip.mcleodusa.net (HELO enigmastation.com) (209.254.108.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 11:38:29 -0800
Received: from localhost (joeo@localhost)
	by enigmastation.com (8.11.6/8.11.6) with ESMTP id j0AJZA121475
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 14:35:10 -0500
Date: Mon, 10 Jan 2005 14:35:10 -0500 (EST)
From: Joseph Ottinger <joeo@enigmastation.com>
To: "Lucene User's List" <lucene-user@jakarta.apache.org>
Subject: Yet another issue on my part
Message-ID: <Pine.LNX.4.33.0501101409520.3029-100000@enigmastation.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Gosh, I'm really sorry for the number of posts I'm making.

Again, to recap; I'm writing a Directory, a SQL-based one.

>From what I can tell, in IndexWriter, my directory's close method is never
getting called. I don't know why, because the calling code calls
IndexWriter.close, and with the constructor I'm using, it should set
"closeDir" to true.

I have a class that extends Directory, and I explicitly write data to
System.out in this method- placeholder stuff so I know the method's been
called. But I don't see anything, which tells me either it's not getting
called or the output's getting lost - and the latter isn't very likely
because OTHER similar logs seem to work.

Is there a simple reason the close() isn't being called in my subclass?

-----------------------------------------------------------------------
Joseph B. Ottinger                             http://enigmastation.com
IT Consultant                                    joeo@enigmastation.com



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12380-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 19:43:12 2005
Return-Path: <lucene-user-return-12380-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5489 invoked from network); 10 Jan 2005 19:43:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 19:43:12 -0000
Received: (qmail 12884 invoked by uid 500); 10 Jan 2005 19:43:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12564 invoked by uid 500); 10 Jan 2005 19:43:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12550 invoked by uid 99); 10 Jan 2005 19:43:08 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,UPPERCASE_50_75
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12706.mail.yahoo.com (HELO web12706.mail.yahoo.com) (216.136.173.243)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 10 Jan 2005 11:43:06 -0800
Received: (qmail 80597 invoked by uid 60001); 10 Jan 2005 19:43:01 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=VWLH7483z7uuSvF1y12SljVKFMuqwE7LWH77/CZdAsnXxcEvRhY7/ZDCfe3Xxpp2kaIXBWDFH/2c4p9k7wFZ9TaosW44AMFXogtpoa9e2vGHiXod+uVDJuSo/LWGyWiVy7SxvM08ojKZdzMtNkc4rcHbL45aRkWMKnSbO4cbYuM=  ;
Message-ID: <20050110194301.80594.qmail@web12706.mail.yahoo.com>
Received: from [216.194.17.194] by web12706.mail.yahoo.com via HTTP; Mon, 10 Jan 2005 11:43:01 PST
Date: Mon, 10 Jan 2005 11:43:01 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Question about sorting and sorted results 
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <5.2.1.1.2.20050110114759.00a78bf8@cic-mail.lanl.gov>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello Mariella,

Check out the first hit here:
http://www.lucenebook.com/search?query=sort+tokenize

Otis
--
http://www.simpy.com - save, tag, index, search, and share your links

--- Mariella Di Giacomo <mariella@lanl.gov> wrote:

> Hi ALL,
> 
> 
> I am using a java class to query an index and return sorted results.
> The "author" and "title" fields are Indexed, Tokenized and Stored.
> The are added in the following way:
>    doc.add(Field.Text("title"...
>     doc.add(Field.Text("author"...
> 
> ....................
> Search.java
> ............
> Query query = new TermQuery(new Term(field, searchText));
> 
> 
>          ex.displayResults(query, Sort.RELEVANCE);
>         
>
System.out.println("---------------------------------------------------------");
>          ex.displayResults(query, Sort.INDEXORDER);
>         
>
System.out.println("---------------------------------------------------------");
>          ex.displayResults(query, new Sort("author"));
>         
>
System.out.println("---------------------------------------------------------");
>          ex.displayResults(query, new Sort("title"));
>         
>
System.out.println("---------------------------------------------------------");
> 
> When I do a search on "author:blake"
> 
> The first two types of sorting (RELEVANCE and INDEXORDER) work
> The "author" and "title" sortings do not seem to work properly.
> Is that because those fields are Tokenized ?
> 
> 
> Thanks in advance for your help.
> 
> Mariella
> 
> 
> Following is a part of the output list:
>
________________________________________________________________________________________
> 
> 62 Results for: author:blake sorted by "title",<doc>
> 
> 
> Title                                            						          
> author 
>                                                      id   	   score
> 
> ISOLATION AND A-B CLASSIFICATION OF HEMI CELLULOSES         BLAKE J D
> 
> MURPHY P T RICHARDS G N                            211871         0.5
> EVIDENCE FOR MOLECULAR AGGREGATION IN HEMI CELLULOSES       BLAKE J D
> 
> RICHARDS G N                                       220526         0.6
> METHODS OF ENZYME INDUCTION BY NICOTINAMIDE                 BLAKE R L
> KUN 
> E                                    		          110994         0.7
> PHARMACOLOGY IN THE CLINICALLY ORIENTED PHARMACY CURRICULUM BLAKE D A
> 
> FLETCHER H P KINNARD W J JR                        46002         0.5
> PLANTS FROM ARIZONA J.6.1                                   CUTLER H
> C 
> BLAKE L W                                         40622         0.6
> PSEUDO PERI CARDITIS IN DIABETIC KETO ACIDOSIS              BENNETT K
> R 
> BLAKE T M                                        38191         0.7
> EFFECT OF PREGNANCY AND EXERCISE ON ACTOMYOSIN NUCLEIC-A... BLAKE C A
> 
> HAZELWOOD R L                                      61184         0.7
> A CRITICAL REEXAMINATION OF PROBLEMS INHERENT IN COMPOSI... BLAKE J D
> 
> RICHARDS G N                                       76648         0.6
> OBSERVATIONS ON BABOONS PAPIO-ANUBIS IN AN ARID REGION I...
> ALDRICH-BLAKE F 
> P G BUNN T K DUNBAR R I M HEADLEY P M        68831         0.4
> 
>
________________________________________________________________________________________
> 
> 62 Results for: author:blake sorted by "author",<doc>
> 
> 
> Title                                                       author 
>                                                id      score
> 
> HYPOTHALAMIC ELECTRICAL CHANGES FOLLOWING VAGINAL STIMUL... BLAKE C 
> A                                                    223024          
> 1
> PROCEEDINGS OF THE ROYAL SOCIETY OF MEDICINE SECTION OF ... BLAKE H 
> E                                                    3147         0.8
> PROCEEDINGS OF THE ROYAL SOCIETY OF MEDICINE SECTION OF ... BLAKE H 
> E                                                    76286        
> 0.8
> A REVIEW OF THE BEETLES OF THE GENUS METACHROMA COLEOPTE... BLAKE D 
> H                                                    153593        
> 0.8
> NOTES ON SOME CHRYSOMELID BEETLES FROM THE USA AND ARGEN... BLAKE D 
> H                                                    153728        
> 0.8
> STUDIES ON THE LIGNOTUBERS OF EUCALYPTUS-OBLIQUA-D PART ... BLAKE T J
> 
> CARRODUS B B                                       5318         0.7
> REVISION OF THE GENUS POLYDORA FROM THE EAST COAST OF NO... BLAKE J 
> A                                                    121076          
> 1
> STUDIES ON THE LIGNOTUBERS OF EUCALYPTUS-OBLIQUA-D PART ... CARRODUS
> B B 
> BLAKE T J                                       179396         0.7
> DEGRADATION OF ATRAZINE BY SOIL FUNGI                       KAUFMAN D
> D 
> BLAKE J                                          10186         0.7
> AN INCOMPLETE RANDOMIZED BLOCK DESIGN ILLUSTRATED BY A S... BLAKE G 
> M                                                    139069        
> 0.8
> BIOSYNTHESIS OF DEUTERATED BENZYL PENICILLINS PART 1 SOL... CARLSTEDT
> B C 
> CRESPI H L BLAKE M I KATZ J J                  148917         0.4
> METHYL CARBAMATES AFFECT ACYLANILIDE HERBICIDE RESIDUES ... KAUFMAN D
> D 
> BLAKE J MILLER D E                               13114         0.5
> THE STRUCTURE OF AN EXPERIMENTAL IN FAUNAL COMMUNITY        BLAKE N J
> 
> JEFFRIES H P                                       85817         0.6
> AN X-RAY STUDY OF THE PRODUCT OF AN UNUSUAL REACTION IN ... BEDDELL C
> R 
> BLAKE C C F                                      13593         0.6
> PSEUDO PERI CARDITIS IN DIABETIC KETO ACIDOSIS              BENNETT K
> R 
> BLAKE T M                                        38191         0.7
> THIXOTROPIC CHANGES WITH AGING OF SYNTHETIC SOIL AGGREGATES BLAKE G R
> 
> GILMAN R D                                         53185         0.6
> EFFECT OF PREGNANCY AND EXERCISE ON ACTOMYOSIN NUCLEIC-A... BLAKE C A
> 
> HAZELWOOD R L                                      61184         0.7
> A NEW SPECIES OF SPINETAIL SYNALLAXIS FROM PERU             BLAKE E 
> R                                                    67031        
> 0.8
> OBSERVATIONS ON BABOONS PAPIO-ANUBIS IN AN ARID REGION I...
> ALDRICH-BLAKE F 
> P G BUNN T K DUNBAR R I M HEADLEY P M        68831         0.4
> COMPARATIVE STUDIES ON THE ABSORPTION OF TRITIATED THALI... KELLER G
> R 
> BLAKE D A                                         78573         0.7
> DEFICIENCY OF A GLUCO CORTICOID INDUCIBLE ISOENZYME OF L... BLAKE R L
> 
> BRONER J
> 
>
________________________________________________________________________________________
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12381-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 22:05:31 2005
Return-Path: <lucene-user-return-12381-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91133 invoked from network); 10 Jan 2005 22:05:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 22:05:31 -0000
Received: (qmail 40470 invoked by uid 500); 10 Jan 2005 22:05:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40452 invoked by uid 500); 10 Jan 2005 22:05:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40437 invoked by uid 99); 10 Jan 2005 22:05:25 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 40325CF2.ptr.dia.nextlink.net (HELO exch1.colmol.com) (64.50.92.242)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 14:05:25 -0800
Received: from ASSP-nospam ([192.168.1.204]) by exch1.colmol.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Mon, 10 Jan 2005 17:05:22 -0500
Received: from 192.168.1.205 ([192.168.1.205] helo=exch1.colmol.com) by ASSP-nospam ; 10 Jan 05 22:05:22 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.6556.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C4F760.7AFB5F30"
Subject: Performance question
Date: Mon, 10 Jan 2005 17:05:22 -0500
Message-ID: <B1FD64AF10DAED4786DC31F17B1C3884E4EAB0@exch1.colmol.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Performance question
Thread-Index: AcT3YHsBZ6hUC3qSRr6AYMXJCeMbew==
From: "Crump, Michael" <mcrump@leadscope.com>
To: <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 10 Jan 2005 22:05:22.0715 (UTC) FILETIME=[7B1596B0:01C4F760]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4F760.7AFB5F30
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hello,

=20

If I have large text fields that are rarely retrieved but need to be
searched often - Is it better to create 2 indices, one for searching and
one for retrieval, or just one index and put everything in it?

=20

Or are there other recommendations?

=20

Regards,

=20

Michael


------_=_NextPart_001_01C4F760.7AFB5F30--

From lucene-user-return-12382-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 22:17:28 2005
Return-Path: <lucene-user-return-12382-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96120 invoked from network); 10 Jan 2005 22:17:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 22:17:28 -0000
Received: (qmail 61652 invoked by uid 500); 10 Jan 2005 22:17:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61627 invoked by uid 500); 10 Jan 2005 22:17:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61613 invoked by uid 99); 10 Jan 2005 22:17:21 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12705.mail.yahoo.com (HELO web12705.mail.yahoo.com) (216.136.173.242)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 10 Jan 2005 14:17:19 -0800
Received: (qmail 81431 invoked by uid 60001); 10 Jan 2005 22:17:17 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=tHljU0QZKYFC1qRuuhnLyVEEi7/UrIwxijHxyIQialNEfG/p8woZd3433wdz1S4CNqEwX7Hk1rGElpBjyQfntQFegLWGWmhjUpxZh+aUo5vrsdCVXKl1u/VphDx1WDzQj+QpYCHijQZWhq6xM49jvoaHSG1Be14o2WoFJjREYwY=  ;
Message-ID: <20050110221717.81429.qmail@web12705.mail.yahoo.com>
Received: from [216.194.17.194] by web12705.mail.yahoo.com via HTTP; Mon, 10 Jan 2005 14:17:17 PST
Date: Mon, 10 Jan 2005 14:17:17 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Performance question
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <B1FD64AF10DAED4786DC31F17B1C3884E4EAB0@exch1.colmol.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Use one index, working with a single index is simpler.  Also, once you
pull a Document from Hits object, all Fields are read off of the disk.

There was some discussion about selective Field reading about a week
ago, check the list archives.  Also keep in mind Field compression is
now possible (only with unreleased version in CVS).

Otis

--- "Crump, Michael" <mcrump@leadscope.com> wrote:

> Hello,
> 
>  
> 
> If I have large text fields that are rarely retrieved but need to be
> searched often - Is it better to create 2 indices, one for searching
> and
> one for retrieval, or just one index and put everything in it?
> 
>  
> 
> Or are there other recommendations?
> 
>  
> 
> Regards,
> 
>  
> 
> Michael
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12383-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 22:28:01 2005
Return-Path: <lucene-user-return-12383-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 334 invoked from network); 10 Jan 2005 22:28:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 22:28:01 -0000
Received: (qmail 84226 invoked by uid 500); 10 Jan 2005 22:27:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84179 invoked by uid 500); 10 Jan 2005 22:27:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84127 invoked by uid 99); 10 Jan 2005 22:27:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 14:27:49 -0800
Received: (qmail 29205 invoked by uid 532); 10 Jan 2005 22:26:35 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.054596 secs); 10 Jan 2005 22:26:35 -0000
Received: from unknown (HELO ?10.0.0.157?) (127.0.0.1)
  by 0 with SMTP; 10 Jan 2005 22:26:35 -0000
Message-ID: <41E30176.8090903@tropo.com>
Date: Mon, 10 Jan 2005 14:28:06 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How do you handle dynamic html pages?
References: <8D7DE0C84F1D5149894354E754E6807E39A2F8@mail.lou.emergint.com>
In-Reply-To: <8D7DE0C84F1D5149894354E754E6807E39A2F8@mail.lou.emergint.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin L. Cobb wrote:
> I don't like to periodically re-index everything because 1) you can't be
> confident that your searches are as up to date as they could be, and 2)
> you are wasting cycles either checking for documents that may or may not
> need to be updated, or re-indexing documents that don't need updated. 

And what I've noticed is that typically systems with dynamic content 
that comes from, say, a database, do not implment the HTTP "HEAD" verb 
nor "if-modified-since", which a smart spider might try to use to be 
more efficient. Thus an "incremental" spider run can be just as 
expensive as the first one.

> 
> Ideally, I think that you want an event driven system where the content
> management system or the like indicates to your searcher engine when a
> page/document gets updated. That way, you know that documents are as up
> to date as possible in terms of searches, and you know that you aren't
> doing unnecessary work. 
> 
>  
> 
> -----Original Message-----
> From: Luke Francl [mailto:luke.francl@stellent.com] 
> Sent: Monday, January 10, 2005 11:09 AM
> To: Lucene Users List
> Subject: Re: How do you handle dynamic html pages?
> 
> On Mon, 2005-01-10 at 10:03, Jim Lynch wrote:
> 
>>How is anyone managing reindexing of pages that change?  Just 
>>periodically reindex everything or do you try to determine frequency
> 
> of 
> 
>>each changes to each page and/or site? 
> 
> 
> If you are using a CMS, your best bet is to integrate Lucene with the
> CMS's content update mechanism. That way, your index will always be
> up-to-date.
> 
> Otherwise, I would say reindexing everything is easiest, provided it
> doesn't take too long. If it's ~15 minutes or less, you could schedule a
> processes to do it at a low activity period (2 AM or whenever) every day
> and that would probably handle your needs.
> 
> Regards,
> Luke Francl
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12384-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 10 23:54:47 2005
Return-Path: <lucene-user-return-12384-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33652 invoked from network); 10 Jan 2005 23:54:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Jan 2005 23:54:47 -0000
Received: (qmail 32254 invoked by uid 500); 10 Jan 2005 23:54:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32202 invoked by uid 500); 10 Jan 2005 23:54:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32147 invoked by uid 99); 10 Jan 2005 23:54:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 15:54:26 -0800
Received: (qmail 3138 invoked by uid 532); 10 Jan 2005 23:53:11 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.207765 secs); 10 Jan 2005 23:53:11 -0000
Received: from unknown (HELO ?10.0.0.157?) (127.0.0.1)
  by 0 with SMTP; 10 Jan 2005 23:53:10 -0000
Message-ID: <41E315C2.7030902@tropo.com>
Date: Mon, 10 Jan 2005 15:54:42 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: SYNONYM + GOOGLE
References: <OBELINLGKPEMCIEIJJNKKEKOCAAA.karthik@controlnet.co.in> <A847E5AE-630A-11D9-8525-000A95BC61B6@ehatchersolutions.com>
In-Reply-To: <A847E5AE-630A-11D9-8525-000A95BC61B6@ehatchersolutions.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:

> Karthik,
> 
> Thanks for that info.  I knew I was behind the times with WordNet using  
> the sandbox code, but it was good enough for my purposes at the time.   
> I will definitely try out the latest WordNet offerings in the future  

Hi...I wrote the WordNet sandbox code - but I'm not sure if I undertand 
this thread. Are we saying that it does not work w/ the new WordNet 
data, or that code in Eric's book is better/more up to date etc?

If needed I can update the sandbox code..

thx,
  Dave


> though.
> 
>     Erik
> 
> On Jan 10, 2005, at 7:37 AM, Karthik N S wrote:
> 
>> Hi Erik
>>
>> Apologies.......
>>
>> I may be a little offline from this form,but I may help u for the next
>> version of Luncene In Action.
>>
>>
>>  I Was working on Java WordNet Library , On fiddling with the API's,  
>> found
>> something Interesting ,
>>
>>  the code attached to this  get's more Synonyms then the Wordnet's  
>> Indexed
>> format avaliable from the LuceneinAction Zip File
>>
>>
>>
>> 1) It needs Wordnet2.0's Dictonery  Installed
>>
>> 2) jwnl.jar from SourceForge
>>
>> [
>> http://sourceforge.net/project/showfiles.php? 
>> group_id=33824&package_id=33975
>> &release_id=196864 ]
>>
>>
>> After sucess compilation
>>
>> Type for watch
>>
>> ORIGINAL  : "watch" OR "analog_watch" OR "digital_watch" OR "hunter" OR
>> "hunting_watch" OR "pendulum_watch" OR
>>             "pocket_watch" OR "stem-winder" OR "wristwatch" OR  
>> "wrist_watch"
>>
>> FORMATTED : "watch" OR "analog watch" OR "digital watch" OR "hunter" OR
>> "hunting watch" OR "pendulum watch" OR "pocket watch"
>>
>>
>> Check this Out,may be u will come up with Briliant Idea's
>>
>>
>>
>> with regards
>> Karthik
>>
>> -----Original Message-----
>> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
>> Sent: Monday, January 10, 2005 5:19 PM
>> To: Lucene Users List
>> Subject: Re: SYNONYM + GOOGLE
>>
>>
>>
>> On Jan 10, 2005, at 5:33 AM, Karthik N S wrote:
>>
>>> If u search Google  using  '~shoes',  It returns  hits  based on the
>>> Synonym's
>>>
>>> [ I know there is a Synonym Wordnet  based Lucene Package in the
>>> sandbox
>>>
>>> http://cvs.apache.org/viewcvs.cgi/jakarta-lucene-sandbox/
>>> contributions/WordN
>>> et/   ]
>>>
>>> Can this be achieved in Lucene ,If so How ???
>>
>>
>> Yes, it can be achieved.  Not quite synonyms, but various forms of the
>> same word can be found in this example, like this search for similar
>> (see the highlighted variations):
>>
>>     http://www.lucenebook.com/search?query=similar
>>
>> This is accomplished using the Snowball stemmer filter found in the
>> sandbox.   For synonyms, you have lots of options.  In Lucene in Action
>> I demonstrate custom analyzers that inject synonyms using the WordNet
>> database (from the sandbox).  From the source code distribution of LIA:
>>
>> % ant SynonymAnalyzerViewer
>> Buildfile: build.xml
>>
>> SynonymAnalyzerViewer:
>>       [echo]
>>       [echo]       Using a custom SynonymAnalyzer, two fixed strings  are
>>       [echo]       analyzed with the results displayed.  Synonyms, from
>> the
>>       [echo]       WordNet database, are injected into the same  
>> positions
>>       [echo]       as the original words.
>>       [echo]
>>       [echo]       See the "Analysis" chapter for more on synonym
>> injection and
>>       [echo]       position increments.  The "Tools and extensions"
>> chapter covers
>>       [echo]       the WordNet feature found in the Lucene sandbox.
>>       [echo]
>>      [input] Press return to continue...
>>
>>       [echo] Running lia.analysis.synonym.SynonymAnalyzerViewer...
>>
>>       [java] 1: [quick] [warm] [straightaway] [spry] [speedy] [ready]
>> [quickly] [promptly] [prompt] [nimble] [immediate] [flying] [fast]
>> [agile]
>>       [java] 2: [brown] [brownness] [brownish]
>>       [java] 3: [fox] [trick] [throw] [slyboots] [fuddle] [fob]  [dodger]
>> [discombobulate] [confuse] [confound] [befuddle] [bedevil]
>>       [java] 4: [jumps]
>>       [java] 5: [over] [o] [across]
>>       [java] 6: [lazy] [faineant] [indolent] [otiose] [slothful]
>>       [java] 7: [dogs]
>>
>> ...
>>
>> The phrase analyzed was "The quick brown fox jumps over the lazy dogs".
>>   Why no synonyms for "jumps" and "dogs"?  WordNet has synonyms for
>> "jump" and "dog", but not the plural forms.  Stemming would be a
>> necessary step in achieving full synonym look-up, though this would
>> need to be done carefully as the stem of a word is not necessarily a
>> real word itself - so you'd probably want to stem the synonym database
>> also to ensure accurate lookup.
>>
>> Also notice the semantically incorrect synonyms that appear for the
>> animal fox ("confuse", for example).  Be careful!  :)
>>
>>     Erik
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12385-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 00:08:13 2005
Return-Path: <lucene-user-return-12385-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37956 invoked from network); 11 Jan 2005 00:08:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 00:08:12 -0000
Received: (qmail 54490 invoked by uid 500); 11 Jan 2005 00:08:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54467 invoked by uid 500); 11 Jan 2005 00:08:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54452 invoked by uid 99); 11 Jan 2005 00:08:08 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from brmea-mail-4.Sun.COM (HELO brmea-mail-4.sun.com) (192.18.98.36)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 16:08:06 -0800
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by brmea-mail-4.sun.com (8.12.10/8.12.9) with ESMTP id j0B081ef020954
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 17:08:05 -0700 (MST)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0IA400A01LMWYW@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Mon, 10 Jan 2005 16:07:05 -0800 (PST)
Received: from [127.0.0.1] (d-mpk24-41-226.SFBay.Sun.COM [129.146.41.226])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0IA400CSWLNOQ8@ha21sca-mail1.sfbay.sun.com> for
 lucene-user@jakarta.apache.org; Mon, 10 Jan 2005 16:07:05 -0800 (PST)
Date: Mon, 10 Jan 2005 16:06:17 -0800
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Re: Indexing flat files with out .txt extension
In-reply-to: <A2DAC3C8-603E-11D9-A021-000393A564E6@ehatchersolutions.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <41E31879.6060406@sun.com>
MIME-version: 1.0
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7)
 Gecko/20040616
References: <41DC78CF.1020302@sun.com>
 <E259A3F5-5F78-11D9-9AF4-000393A564E6@ehatchersolutions.com>
 <41DDCE6C.6040903@sun.com>
 <A2DAC3C8-603E-11D9-A021-000393A564E6@ehatchersolutions.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi erik,
Got the latest Ant and got the demo to work. I am however not sure which 
part in the whole source code is the indexing for different file types 
is done, say for example .html .txt and such? From there I can derive 
how can I index a plain text file which does not have any extension.

Appreciate your help. If you have any sample code would certainly 
appreciate that also.
-H.

Erik Hatcher wrote:

> On Jan 6, 2005, at 6:49 PM, Hetan Shah wrote:
>
>> Hi Erik,
>>
>> I got the source downloaded and unpacked. I am having difficulty in 
>> building and of the modules. Maybe something's wrong with my Ant 
>> installation.
>> ************************
>> LuceneInAction% ant test
>> Buildfile: build.xml
>>
>> BUILD FAILED
>> file:/home/hs152827/LuceneInAction/build.xml:12: Unexpected element 
>> "available"
>
>
> The good ol' README says this:
>
> R E Q U I R E M E N T S
> -----------------------
>   * JDK 1.4+
>   * Ant 1.6+ (to run the automated examples)
>   * JUnit 3.8.1+
>     - junit.jar should be in ANT_HOME/lib
>
> You are not running Ant 1.6, I'm sure.  Upgrade your version of Ant, 
> and of course follow the rest of the README and all should be well.
>
>     Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12386-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 01:04:19 2005
Return-Path: <lucene-user-return-12386-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53710 invoked from network); 11 Jan 2005 01:04:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 01:04:18 -0000
Received: (qmail 24018 invoked by uid 500); 11 Jan 2005 01:04:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23995 invoked by uid 500); 11 Jan 2005 01:04:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23982 invoked by uid 99); 11 Jan 2005 01:04:14 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 17:04:14 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 25B3713E28F8; Mon, 10 Jan 2005 20:04:11 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id D3BCB13E200A
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 20:03:53 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <41E315C2.7030902@tropo.com>
References: <OBELINLGKPEMCIEIJJNKKEKOCAAA.karthik@controlnet.co.in> <A847E5AE-630A-11D9-8525-000A95BC61B6@ehatchersolutions.com> <41E315C2.7030902@tropo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <90D5BCD2-636C-11D9-892F-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: SYNONYM + GOOGLE
Date: Mon, 10 Jan 2005 20:03:12 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.6 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 10, 2005, at 6:54 PM, David Spencer wrote:
> Hi...I wrote the WordNet sandbox code - but I'm not sure if I 
> undertand this thread. Are we saying that it does not work w/ the new 
> WordNet data, or that code in Eric's book is better/more up to date 
> etc?

I have not tried the sandbox with any versions past WordNet 1.6.  
Karthik shows a Java API to it, which I have not used - only your code 
that parses the prolog files.  So the book code explains exactly what 
is in the sandbox and describes WordNet 1.6 integration.  Though 
WordNet has evolved.

> If needed I can update the sandbox code..

It'd be awesome to have current WordNet support - I haven't looked at 
what is involved in making it so.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12387-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 01:13:25 2005
Return-Path: <lucene-user-return-12387-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56172 invoked from network); 11 Jan 2005 01:13:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 01:13:24 -0000
Received: (qmail 33987 invoked by uid 500); 11 Jan 2005 01:13:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33952 invoked by uid 500); 11 Jan 2005 01:13:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33937 invoked by uid 99); 11 Jan 2005 01:13:19 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 17:13:16 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id AF23F13E200A; Mon, 10 Jan 2005 20:13:12 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id AF85413E28F8
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 20:13:06 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <41E31879.6060406@sun.com>
References: <41DC78CF.1020302@sun.com> <E259A3F5-5F78-11D9-9AF4-000393A564E6@ehatchersolutions.com> <41DDCE6C.6040903@sun.com> <A2DAC3C8-603E-11D9-A021-000393A564E6@ehatchersolutions.com> <41E31879.6060406@sun.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <F211AFC3-636D-11D9-892F-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Indexing flat files with out .txt extension
Date: Mon, 10 Jan 2005 20:13:04 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.6 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 10, 2005, at 7:06 PM, Hetan Shah wrote:
> Got the latest Ant and got the demo to work. I am however not sure 
> which part in the whole source code is the indexing for different file 
> types is done, say for example .html .txt and such?

Your best bet is to dig around in the codebase.  The Indexer.java code 
is hard-coded to only do .txt file extensions - this was on purpose as 
the first example in the book, figuring someone using this code on the 
their C:\ drive would be relatively safe and fast to run.

Their is also an example easily run from the Ant launcher to show how 
various document types can be handled using an extensible framework.  
Run "ant ExtensionFileHandler".  It doesn't actually index the document 
it creates, but displays it to the console.  It would be pretty trivial 
to pair the Indexer.java code up with the file handler framework to 
crawl a directory tree and index any content it recognizes.

> Appreciate your help. If you have any sample code would certainly 
> appreciate that also.

You got all the code already.  It should be fairly straightforward to 
navigate the src tree, especially with the Table of Contents handy:

	http://www.lucenebook.com/toc

(incidentally, this dynamic TOC page is blending the blog content with 
the TOC using an IndexReader to find all blog entries that refer to 
each section - and you'll see the two, minor and cosmetic, errata 
listed there already).

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12388-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 02:51:10 2005
Return-Path: <lucene-user-return-12388-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8094 invoked from network); 11 Jan 2005 02:51:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 02:51:10 -0000
Received: (qmail 37068 invoked by uid 500); 11 Jan 2005 02:51:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36835 invoked by uid 500); 11 Jan 2005 02:51:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36821 invoked by uid 99); 11 Jan 2005 02:51:05 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,HTML_50_60,HTML_FONT_TINY,HTML_IMAGE_ONLY_20,HTML_MESSAGE,HTML_TAG_EXIST_TBODY
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web90105.mail.scd.yahoo.com (HELO web90105.mail.scd.yahoo.com) (66.218.94.76)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 10 Jan 2005 18:51:04 -0800
Received: (qmail 44806 invoked by uid 60001); 11 Jan 2005 02:51:02 -0000
Message-ID: <20050111025102.44804.qmail@web90105.mail.scd.yahoo.com>
Received: from [137.132.136.237] by web90105.mail.scd.yahoo.com via HTTP; Tue, 11 Jan 2005 10:51:02 CST
Date: Tue, 11 Jan 2005 10:51:02 +0800 (CST)
From: jac jac <foria88@yahoo.com.sg>
Subject: Please help - installation problem
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-220282894-1105411862=:41605"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-220282894-1105411862=:41605
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi all,
 
This is jac here, and I am currently in urgent need to install Lucene on a unix machine. However, I am not sure where to set the paths coz I am unfamiliar with Unix & am a newbie to Java as well.
 
I have installed Lucene on the Windows version and it works but I cant understand why unix can't.. 
 
The following paths are what I have entered:
Can someone please check for me?
 
-  PATH=.:$PATH:$ANT_HOME/bin
- TOMCAT_HOME=/home/jac/jakarta-tomcat-3.2.4
- ANT_HOME=/home/jac/apache-ant-1.6.2
- CLASSPATH=$TOMCAT_HOME/webapps/luc/WEB-INF/lib/lucene-1.4.3.jar:
$TOMCAT_HOME/webapps/luc/WEB-INF/lib/lucene-demos-1.4.3
 
Can I also know if tomcat version 3.2.4 is sufficient for Lucene to run?
 
Thanks in advance!
 
Regards,
jac


 Yahoo! Mobile
- Download the latest ringtones, games, and more!
--0-220282894-1105411862=:41605--

From lucene-user-return-12389-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 03:02:58 2005
Return-Path: <lucene-user-return-12389-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12243 invoked from network); 11 Jan 2005 03:02:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 03:02:57 -0000
Received: (qmail 47185 invoked by uid 500); 11 Jan 2005 03:02:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47157 invoked by uid 500); 11 Jan 2005 03:02:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47144 invoked by uid 99); 11 Jan 2005 03:02:54 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 10 Jan 2005 19:02:53 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id BAD7D5B7C9; Mon, 10 Jan 2005 19:01:46 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id B982E7F466
	for <lucene-user@jakarta.apache.org>; Mon, 10 Jan 2005 19:01:46 -0800 (PST)
Date: Mon, 10 Jan 2005 19:01:46 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Use a date field for ranking
In-Reply-To: <crng0d$98e$1@sea.gmane.org>
Message-ID: <Pine.LNX.4.58.0501101749580.4623@hal.rescomp.berkeley.edu>
References: <crmiob$aj5$1@sea.gmane.org> <Pine.LNX.4.58.0501071018510.23136@hal.rescomp.berkeley.edu>
 <crng0d$98e$1@sea.gmane.org>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

: > : have to use something that boosts the scores at _search_ time.

: Yes, I know I can boost Query objects, but that is not the same as
: boosting the document score by a factor. By boosting query objects I
: _add_ values to the score. Let me show you an example:

well, sure it is ... you have to have some way (add search time) to
indicate that you want to want documents that meet a certain critera to
have their scores affected in a certain way -- that's exactly what a Query
is.  there may not be an existing Query subclass that meets you needs
exactly, but if you want the scores of documents to be influnced
conditionally at search time, a Query object is the way to indicate that.

: If I had used a boost of 3.0 per document and left the date part of the
: query out I would have:
:
: Query 1: 0.3
: Query 2: 0.03
:
: Which maintains the original proportion. Now if I want to specify a
: function (like 1/x) that calculates the boost factor of a specific
: publish date I can't emulate this by using Query boosts because the
: query boost must be adjusted to the first part of the query to achieve
: an equal distribution for any query.

Based on a recent thread about scores, I *think* you are making an
incorrect assumption about the relative scores of documents...

http://mail-archives.apache.org/eyebrowse/SearchList?listName=lucene-user%40jakarta.apache.org&searchText=%22A+question+about+scoring+function+in+Lucene%22&defaultField=subject

...but I'll be totally honest, I'm not sure exactly what your point is.
you're talking about comparing the final scores of too different queries,
but I'm not sure if you mean the score of a specific document against two
different queries, or the score of two documents against a single query in
which one document is more relevant to the term you search for.

: date but don't contain the first part of the query. So we might use a
: query like this:
:
: (a word) AND (date:20050108^3 OR date:20050107^1)
:
: But now I have to specify _all_ possible dates in the date part to reach
: all documents the index contains. This smells ;) Because it's all only
: an emulation of the real strategy.

well, this is why i proposed finding a feasible "granularity" and
"age" that you were comfortable with to use in picking your boosts.  If
you must have at least single day granularity, and you must provide a
gradually decreasing boost for every day back to the begining of time,
then you are correct: my suggestion was not practical. but if you are
willing to go with "week" based granularity, and only boost items from the
last 6 weeks, then you can do something like...

(a word) AND (    [date:20050108-20050114]^7
               OR [date:20050101-20050107]^6
               OR [date:20041225-20041231]^5
               OR [date:20041218-20041224]^4
               OR [date:20041211-20041217]^3
               OR [date:20041204-20041210]^2
               OR [date:00000000-20041204]^1 )

...except that i loath doing DateRange queries (see my first post in the
archives for why i think they are a silly/inefficient way of doing things)
which is why i suggested just using special keywords to denote which week
an item was published

: > 3) I'm sure there is a very cool and efficient way to do this using a
: > custom Similarity implimentation (which somhow causes the default score
: > to be divided by the age of the document) but i've never acctualy played
: > with the SImilarity class, so i won't say for certain it can be done that
: > way (hopefully someone else can chime in)
:
: AFAIK, Similarity can only be used on term level. But as outlined above
: I need a boost factor on document level.

You're right ... I was thinking of the Scorer class ... there was a recent
discussion about creating your own Scorer to return an arbitrary value
value as the Score of a (new class of) Query.  I don't know how much work
is involved, but take a look at this message...

http://mail-archives.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&msgId=2055565

...maybe it would be easy to crank out "RecentDocsScorer" and
"RecentQuery" classes which can do what you want (by returning the date
difference from a field and "now" as a score of the query)

-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12390-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 05:28:49 2005
Return-Path: <lucene-user-return-12390-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89445 invoked from network); 11 Jan 2005 05:28:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 05:28:47 -0000
Received: (qmail 87751 invoked by uid 500); 11 Jan 2005 05:28:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87721 invoked by uid 500); 11 Jan 2005 05:28:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87686 invoked by uid 99); 11 Jan 2005 05:28:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 10 Jan 2005 21:28:42 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id IA4YF800.1HC for <lucene-user@jakarta.apache.org>; Tue,
          11 Jan 2005 10:12:44 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Please help - installation problem
Date: Tue, 11 Jan 2005 10:01:10 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKEELKCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
In-Reply-To: <20050111025102.44804.qmail@web90105.mail.scd.yahoo.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

   I think u need to add One more piece of code at the end of

   Path setting

   JAVA _HOME = /home/JDK..

   and finally

   export TOMCAT_HOME CLASSPATH ANT_HOME PATH

   Once u have done this Type echo $CLASSPATH to check if the jar files are
avaliable for compilation / Interpretation


 >>an I also know if tomcat version 3.2.4 is sufficient for Lucene to run?

  Any Relavent Tomcat that works with Jdk1.4.2 is suffucient for Lucene to
Execute...




with regards
Karthik



-----Original Message-----
From: jac jac [mailto:foria88@yahoo.com.sg]
Sent: Tuesday, January 11, 2005 8:21 AM
To: lucene-user@jakarta.apache.org
Subject: Please help - installation problem


Hi all,

This is jac here, and I am currently in urgent need to install Lucene on a
unix machine. However, I am not sure where to set the paths coz I am
unfamiliar with Unix & am a newbie to Java as well.

I have installed Lucene on the Windows version and it works but I cant
understand why unix can't..

The following paths are what I have entered:
Can someone please check for me?

-  PATH=.:$PATH:$ANT_HOME/bin
- TOMCAT_HOME=/home/jac/jakarta-tomcat-3.2.4
- ANT_HOME=/home/jac/apache-ant-1.6.2
- CLASSPATH=$TOMCAT_HOME/webapps/luc/WEB-INF/lib/lucene-1.4.3.jar:
$TOMCAT_HOME/webapps/luc/WEB-INF/lib/lucene-demos-1.4.3

Can I also know if tomcat version 3.2.4 is sufficient for Lucene to run?

Thanks in advance!

Regards,
jac


 Yahoo! Mobile
- Download the latest ringtones, games, and more!


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12391-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 06:12:14 2005
Return-Path: <lucene-user-return-12391-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21909 invoked from network); 11 Jan 2005 06:12:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 06:12:13 -0000
Received: (qmail 35935 invoked by uid 500); 11 Jan 2005 06:12:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35910 invoked by uid 500); 11 Jan 2005 06:12:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35897 invoked by uid 99); 11 Jan 2005 06:12:01 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 10 Jan 2005 22:12:01 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id IA52EU00.8IQ for <lucene-user@jakarta.apache.org>; Tue,
          11 Jan 2005 11:38:54 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "LUCENE" <lucene-user@jakarta.apache.org>
Subject: QUERYPARSIN & BOOSTING
Date: Tue, 11 Jan 2005 11:27:20 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKGELLCAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



Hi Guys



Apologies...........

This Question may be asked million times on this form ,need some
clarifications.

1) FieldType =  keyword      name =  vendor

2)FieldType =  text              name = contents

Question:

1) How to Construct a Query which would allow hits  avaliable for the VENDOR
to  appear  first ?.

2) If boosting is to be applied How TO   ?.

3) Is the Query Constructed Below correct?.

+Contents:shoes +((vendor:nike)^10)



Please Advise.
Thx in advance.


WITH WARM REGARDS
HAVE A NICE DAY
[ N.S.KARTHIK]



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12392-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 08:20:45 2005
Return-Path: <lucene-user-return-12392-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96996 invoked from network); 11 Jan 2005 08:20:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 08:20:45 -0000
Received: (qmail 71128 invoked by uid 500); 11 Jan 2005 08:20:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71105 invoked by uid 500); 11 Jan 2005 08:20:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71089 invoked by uid 99); 11 Jan 2005 08:20:39 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.bayt.net (HELO mail.bayt.net) (216.176.57.91)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 11 Jan 2005 00:20:38 -0800
Received: from [192.168.1.24] [213.132.40.2] by mail.bayt.net with ESMTP
  (SMTPD32-8.14) id AE607B300090; Tue, 11 Jan 2005 03:29:20 -0500
Message-ID: <41E38C51.1070301@bayt.net>
Date: Tue, 11 Jan 2005 12:20:33 +0400
From: Nader Henein <nsh@bayt.net>
Reply-To:  nsh@bayt.net
Organization: Bayt.com
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: QUERYPARSIN & BOOSTING
References: <OBELINLGKPEMCIEIJJNKGELLCAAA.karthik@controlnet.co.in>
In-Reply-To: <OBELINLGKPEMCIEIJJNKGELLCAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

 From the text on the Lucene Jakarta Site : 
http://jakarta.apache.org/lucene/docs/queryparsersyntax.html


Lucene provides the relevance level of matching documents based on the 
terms found. To boost a term use the caret, "^", symbol with a boost 
factor (a number) at the end of the term you are searching. The higher 
the boost factor, the more relevant the term will be.

    Boosting allows you to control the relevance of a document by
    boosting its term. For example, if you are searching for

    		
    	

jakarta apache

    	
    		

    and you want the term "jakarta" to be more relevant boost it using
    the ^ symbol along with the boost factor next to the term. You would
    type:

    		
    	

jakarta^4 apache

    	
    		

    This will make documents with the term jakarta appear more relevant.
    You can also boost Phrase Terms as in the example:

    		
    	

"jakarta apache"^4 "jakarta lucene"

    	
    		

    By default, the boost factor is 1. Although the boost factor must be
    positive, it can be less than 1 (e.g. 0.2)


Regards.

Nader Henein


Karthik N S wrote:

>Hi Guys
>
>
>
>Apologies...........
>
>This Question may be asked million times on this form ,need some
>clarifications.
>
>1) FieldType =  keyword      name =  vendor
>
>2)FieldType =  text              name = contents
>
>Question:
>
>1) How to Construct a Query which would allow hits  avaliable for the VENDOR
>to  appear  first ?.
>
>2) If boosting is to be applied How TO   ?.
>
>3) Is the Query Constructed Below correct?.
>
>+Contents:shoes +((vendor:nike)^10)
>
>
>
>Please Advise.
>Thx in advance.
>
>
>WITH WARM REGARDS
>HAVE A NICE DAY
>[ N.S.KARTHIK]
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12393-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 08:24:48 2005
Return-Path: <lucene-user-return-12393-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5327 invoked from network); 11 Jan 2005 08:24:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 08:24:47 -0000
Received: (qmail 77983 invoked by uid 500); 11 Jan 2005 08:24:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77955 invoked by uid 500); 11 Jan 2005 08:24:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77942 invoked by uid 99); 11 Jan 2005 08:24:41 -0000
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=YOU_WON
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from mail.anchormen.nl (HELO mail.anchormen.nl) (212.83.242.16)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 11 Jan 2005 00:24:39 -0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: what if the IndexReader crashes, after delete, before close.
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Date: Tue, 11 Jan 2005 09:24:36 +0100
Message-ID: <24CFCE44DCB015489FB96D38BDF4FCAA0710D7@gerard.anchormen.nl>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: what if the IndexReader crashes, after delete, before close.
thread-index: AcT3IuwDqpOcUDzMQJWsuaT1d8ww3AAkkIWQ
From: "Peter Veentjer - Anchor Men" <p.veentjer@anchormen.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

=20

-----Oorspronkelijk bericht-----
Van: Luke Shannon [mailto:lshannon@futurebrand.com]=20
Verzonden: maandag 10 januari 2005 15:46
Aan: Lucene Users List
Onderwerp: Re: what if the IndexReader crashes, after delete, before
close.


>>One thing that will happen is the lock file=20
>>will get left behind. This means when you start=20
>>back up and try to create another Reader you will=20
>>get a file lock error.

I have figured out that part the hard way ;) Why can`t I access my index
anymore?? Ahh.. The lock file

>>Our system is threaded and synchronized.=20
>>Thus when a Reader is being created I know=20
>>it is the only one (the Writer comes after
>>the reader has been closed). Before creating=20
>>it I check if the Index is locked. If it is,=20
>>I forcefully clear it. This prevents the above=20
>>problem from happening.

You can have more than 1 reader open at anytime. Even while a delete or
add is in progress. But you can`t use a reader where documents are
deleted (IndexReader) and added(IndexWriter) at the same time. If you
don`t have other threads doing delete/add you won`t have to synchronize
anything.

And how do you synchronize on it? I have applied the ReadWriteLock From
Doug Lea`s concurrency library after I have build my own=20
synchronization brick and somebody pointed out that I was implementing
the ReadWriteLock. But at the moment I don`t do any synchronization.

And I want to have a component that is executed if the system is started
and knows that to do if there is rubbish in the index directory. I want
that component to restore my index to a usable version (and even small
loss of information is acceptable because everything is checked once and
a while. And user-added-information is going to be stored in the
database. So nothing gets lost. The index can be rebuild..=20




Luke

----- Original Message -----
From: "Peter Veentjer - Anchor Men" <p.veentjer@anchormen.nl>
To: <lucene-user@jakarta.apache.org>
Sent: Saturday, January 08, 2005 4:08 AM
Subject: what if the IndexReader crashes, after delete, before close.


What happens to the Index if the IndexReader crashes, after I have
deleted
documents, and before I have called close. Are the deletes ignored? Is
the
Index screwed up? Is the filesystem screwed up (if a document is deleted
new
delete-files appear) so are the delete-files still there (and can these
be
ignored the next time?). Can I restore the index to the previous state,
just
by removing those delete-files?



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12394-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 08:30:05 2005
Return-Path: <lucene-user-return-12394-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7642 invoked from network); 11 Jan 2005 08:30:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 08:30:03 -0000
Received: (qmail 86184 invoked by uid 500); 11 Jan 2005 08:29:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 86125 invoked by uid 500); 11 Jan 2005 08:29:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86067 invoked by uid 99); 11 Jan 2005 08:29:53 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_HELO_SOFTFAIL,SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 11 Jan 2005 00:29:51 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: QUERYPARSIN & BOOSTING
Date: Tue, 11 Jan 2005 00:29:47 -0800
Message-ID: <E3381E0825F1954D953A4E347017BB1C02F49FFF@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: QUERYPARSIN & BOOSTING
Thread-Index: AcT3tnKVyyd3tloZQ+6N8scQh7LJZwAAHl7w
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	<nsh@bayt.net>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Karthik,

I don't think the boost in your example does much since you are using an
AND query, i.e. all hits will have to contain both vendor:nike and
contents:shoes.  If you used an OR, then the boost would put nike
products above (non-nike) shoes, unless there was some other factor that
causes score of contents:shoes to be 10x greater than that of
vendor:nike.  It's a good idea to look at the results of explain() when
analyzing what's happening with scoring, tuning your boosts and your
Similarity.

Chuck

  > -----Original Message-----
  > From: Nader Henein [mailto:nsh@bayt.net]
  > Sent: Tuesday, January 11, 2005 12:21 AM
  > To: Lucene Users List
  > Subject: Re: QUERYPARSIN & BOOSTING
  >=20
  >  From the text on the Lucene Jakarta Site :
  > http://jakarta.apache.org/lucene/docs/queryparsersyntax.html
  >=20
  >=20
  > Lucene provides the relevance level of matching documents based on
the
  > terms found. To boost a term use the caret, "^", symbol with a boost
  > factor (a number) at the end of the term you are searching. The
higher
  > the boost factor, the more relevant the term will be.
  >=20
  >     Boosting allows you to control the relevance of a document by
  >     boosting its term. For example, if you are searching for
  >=20
  >=20
  >=20
  >=20
  > jakarta apache
  >=20
  >=20
  >=20
  >=20
  >     and you want the term "jakarta" to be more relevant boost it
using
  >     the ^ symbol along with the boost factor next to the term. You
would
  >     type:
  >=20
  >=20
  >=20
  >=20
  > jakarta^4 apache
  >=20
  >=20
  >=20
  >=20
  >     This will make documents with the term jakarta appear more
relevant.
  >     You can also boost Phrase Terms as in the example:
  >=20
  >=20
  >=20
  >=20
  > "jakarta apache"^4 "jakarta lucene"
  >=20
  >=20
  >=20
  >=20
  >     By default, the boost factor is 1. Although the boost factor
must be
  >     positive, it can be less than 1 (e.g. 0.2)
  >=20
  >=20
  > Regards.
  >=20
  > Nader Henein
  >=20
  >=20
  > Karthik N S wrote:
  >=20
  > >Hi Guys
  > >
  > >
  > >
  > >Apologies...........
  > >
  > >This Question may be asked million times on this form ,need some
  > >clarifications.
  > >
  > >1) FieldType =3D  keyword      name =3D  vendor
  > >
  > >2)FieldType =3D  text              name =3D contents
  > >
  > >Question:
  > >
  > >1) How to Construct a Query which would allow hits  avaliable for
the
  > VENDOR
  > >to  appear  first ?.
  > >
  > >2) If boosting is to be applied How TO   ?.
  > >
  > >3) Is the Query Constructed Below correct?.
  > >
  > >+Contents:shoes +((vendor:nike)^10)
  > >
  > >
  > >
  > >Please Advise.
  > >Thx in advance.
  > >
  > >
  > >WITH WARM REGARDS
  > >HAVE A NICE DAY
  > >[ N.S.KARTHIK]
  > >
  > >
  > >
  >
>---------------------------------------------------------------------
  > >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > >For additional commands, e-mail:
lucene-user-help@jakarta.apache.org
  > >
  > >
  > >
  > >
  > >
  > >
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12395-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 12:42:37 2005
Return-Path: <lucene-user-return-12395-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39035 invoked from network); 11 Jan 2005 12:42:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 12:42:36 -0000
Received: (qmail 59474 invoked by uid 500); 11 Jan 2005 12:42:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58647 invoked by uid 500); 11 Jan 2005 12:42:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58621 invoked by uid 99); 11 Jan 2005 12:42:32 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx3-ext.sgi.com (HELO omx3.sgi.com) (192.48.171.20)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 11 Jan 2005 04:42:31 -0800
Received: from internal-mail-relay.corp.sgi.com (internal-mail-relay.corp.sgi.com [198.149.32.51])
	by omx3.sgi.com (8.12.11/8.12.9/linux-outbound_gateway-1.1) with ESMTP id j0BC1B5w018076
	for <lucene-user@jakarta.apache.org>; Tue, 11 Jan 2005 04:01:14 -0800
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com [169.238.221.130])
	by internal-mail-relay.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2) with ESMTP id j0BCaNXd175331881
	for <lucene-user@jakarta.apache.org>; Tue, 11 Jan 2005 04:36:23 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id j0BCaMad20493987
	for <lucene-user@jakarta.apache.org>; Tue, 11 Jan 2005 07:36:23 -0500 (EST)
Message-ID: <41E3C840.5050604@sgi.com>
Date: Tue, 11 Jan 2005 07:36:16 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Performance question
References: <B1FD64AF10DAED4786DC31F17B1C3884E4EAB0@exch1.colmol.com>
In-Reply-To: <B1FD64AF10DAED4786DC31F17B1C3884E4EAB0@exch1.colmol.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I would be tempted to index the text fields but not save them.  Since 
Lucene returns everything as Otis pointed out, it's inefficent to keep 
rarely used data in as content in the index.  Put the text fields in a 
database or a file tree somewhere and keep a pointer to it as a field in 
the index.  When you need the data just retrieve it from wherever using 
the saved pointer.

Jim.

Crump, Michael wrote:

>Hello,
>
> 
>
>If I have large text fields that are rarely retrieved but need to be
>searched often - Is it better to create 2 indices, one for searching and
>one for retrieval, or just one index and put everything in it?
>
> 
>
>Or are there other recommendations?
>
> 
>
>Regards,
>
> 
>
>Michael
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12396-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 13:33:53 2005
Return-Path: <lucene-user-return-12396-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63659 invoked from network); 11 Jan 2005 13:33:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 13:33:53 -0000
Received: (qmail 40359 invoked by uid 500); 11 Jan 2005 13:33:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39525 invoked by uid 500); 11 Jan 2005 13:33:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39511 invoked by uid 99); 11 Jan 2005 13:33:49 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from sccimhc91.asp.att.net (HELO sccimhc91.asp.att.net) (63.240.76.165)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 11 Jan 2005 05:33:49 -0800
Received: from [192.168.1.42] (rrcs-24-172-168-17.central.biz.rr.com[24.172.168.17])
          by sccimhc91.asp.att.net (sccimhc91) with SMTP
          id <20050111133346i9100c6mu2e>
          (Authid: sganyo@insightbb.com);
          Tue, 11 Jan 2005 13:33:46 +0000
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <24CFCE44DCB015489FB96D38BDF4FCAA07C93E@gerard.anchormen.nl>
References: <24CFCE44DCB015489FB96D38BDF4FCAA07C93E@gerard.anchormen.nl>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <6ADF68FA-63D5-11D9-911D-000A95D01A94@ganyo.com>
Content-Transfer-Encoding: 7bit
From: Scott Ganyo <scott@ganyo.com>
Subject: Re: some thoughts about adding transactions.
Date: Tue, 11 Jan 2005 08:33:45 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I didn't want to let this drop this on the floor, but I haven't had the 
time to craft a response to it either.  So, just for the record I agree 
that transactions would be nice.  I think that it is important that the 
solution address change visibility and concurrent transactions within 
multiple VMs.  Also, it should be backward compatible so that 
applications can run without transactions.  So, I think that a good 
solution is probably more complex than it initially looks...

S

On Jan 8, 2005, at 6:47 AM, Peter Veentjer - Anchor Men wrote:

> If have a question about transactions .
>
> Lucene doesn`t support transactions but I find it very important and I 
> think it is possible to add some kind of rollback/commit functionality 
> to make sure the index doesn`t corrupt..
>
> With lucene every segment is immutable (this is a perfect starting 
> point), so after it has been created it will remain forever in a valid 
> state. There are 3 ways to alter the index
> 1) deleting documents
> 2) adding documents
> 3) optimization
>
> If I delete a document, a del file appears (but doesn`t alter the 
> segment because it is immutable).
> -if crash: the del files could be deleted to do a rollback.
> -if succes: the del files finally will be used by the writer to skip 
> those documents in the new segment.
>
> If a new document is added, a new segment is created (finally).
> -if succes: the new segment is created and the old segments can be 
> deleted.
> -if crash: the new segment (maybe it`s corrupted) can be deleted to do 
> a rollback.
>
> If the index is optimized a new segment is created based on older 
> segments.
> -if succes: the old segments can be deleted.
> -if crash: the new segment (maybe it`s corrupted) can be deleted to do 
> a rollback.
>
> With this information it wouldn`t be to much trouble to add some kind 
> of rollback/transaction functionality?
>
> And how about those 'per index' files? Can these be corrupted? Can 
> these be removed and recreated succesfully? Would it be an idea to 
> make copies of these files and restore them if the tranaction is 
> rollbacked?
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12397-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 13:58:49 2005
Return-Path: <lucene-user-return-12397-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77560 invoked from network); 11 Jan 2005 13:58:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 13:58:49 -0000
Received: (qmail 84415 invoked by uid 500); 11 Jan 2005 13:58:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84368 invoked by uid 500); 11 Jan 2005 13:58:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84344 invoked by uid 99); 11 Jan 2005 13:58:39 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from anchor-post-32.mail.demon.net (HELO anchor-post-32.mail.demon.net) (194.217.242.90)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 11 Jan 2005 05:58:37 -0800
Received: from rselvaraj.demon.co.uk ([83.104.137.62] helo=ROBERTSELVARAJ)
	by anchor-post-32.mail.demon.net with esmtp (Exim 4.42)
	id 1CoMXa-0008O6-6V; Tue, 11 Jan 2005 13:58:34 +0000
Reply-To: <lucene@searchblox.com>
From: "Robert Selvaraj" <lucene@searchblox.com>
To: <lucene-dev@jakarta.apache.org>,
	<lucene-user@jakarta.apache.org>
Subject: SearchBlox Distributed Edition released
Date: Tue, 11 Jan 2005 13:58:12 -0000
Organization: SearchBlox Software, Inc.
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcT35ZbR31XuoDF+SAaQt4W/1U6RsA==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


The SearchBlox Distributed Edition is a J2EE Search Component for the Akamai
EdgeComputing Platform, a J2EE Application Platform consisting of more than
14,000 servers in more than 1100 networks in over 70 countries. SearchBlox
Distributed Edition can handle search requests concurrently from thousands
of users at any time by distributing the handling of search requests to
thousands of servers on the EdgeComputing Platform. Each of these servers
runs an identical, standalone and special SearchBlox search application that
contains all the components required to handle the search requests. 
   
The Akamai-Certified SearchBlox Distributed Edition offers out-of-the-box
search functionality for fast and easy implementation with your websites,
applications, intranets and portals. SearchBlox uses the Lucene Search API
and incorporates integrated HTTP/HTTPS and File System crawlers, support for
various document formats including HTML, Word, PDF, PowerPoint and Excel,
support for indexing and searching content in 18 languages and customizable
search results, all controlled from a browser-based Admin Console. 

 
Main features: 
==============

- On Demand Search. SearchBlox Distributed Edition can handle search
requests concurrently from thousands of users at any time. Moreover, when
there is a sudden surge in search requests, it can quickly scale to handle
the demand without increasing search times. 
 
- Security. SearchBlox Distributed Edition offers total security for
deployed search application by making it completely READONLY. This ensures
the integrity of the deployed application at all times. 

- Integration. SearchBlox Distributed Edition is seamlessly integrated with
Akamai EdgeComputing Platform. With a single click in the SearchBlox Admin
Console, the search application can be deployed on the Akamai EdgeComputing
Platform. 


For more information, please visit the website at
http://www.searchblox.com/distributed.html




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12398-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 14:44:19 2005
Return-Path: <lucene-user-return-12398-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18233 invoked from network); 11 Jan 2005 14:44:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 14:44:18 -0000
Received: (qmail 80196 invoked by uid 500); 11 Jan 2005 14:43:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80027 invoked by uid 500); 11 Jan 2005 14:43:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79970 invoked by uid 99); 11 Jan 2005 14:43:53 -0000
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=FORGED_RCVD_HELO,YOU_WON
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 11 Jan 2005 06:43:47 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Tue, 11 Jan 2005 09:45:33 -0500
Message-ID: <021601c4f7ec$33f78ae0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <24CFCE44DCB015489FB96D38BDF4FCAA0710D7@gerard.anchormen.nl>
Subject: Re: what if the IndexReader crashes, after delete, before close.
Date: Tue, 11 Jan 2005 09:45:32 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 11 Jan 2005 14:45:33.0002 (UTC) FILETIME=[3400B2A0:01C4F7EC]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Here is how I handle it.

The Indexer is a Runnable. All the members it uses are static. The run()
method calls a syncronized method called go(). This kicks off the indexing.

Before you even get to here, the method in the CMS code that created the
thread object and instaniated the index is also sychronized.

Here is the code that handles the potential lock file that may be left
behind from a Reader or Writer.

Note: I found I had to check if the index existed before checking if it was
locked. If I checked if it was locked and the index had not been created yet
I got an error.

//if we have gotten to hear that this is the only index running.
//the index should not be locked. if it is the lock is "stale"
//and must be released before we can continue
try {
if (index.exists() && IndexReader.isLocked(indexFileLocation)) {
Trace.ERROR("INDEX INFO: Had to clear a stale index lock");
IndexReader.unlock(FSDirectory.getDirectory(index, false));
}
} catch (IOException e3) {
Trace.ERROR("INDEX ERROR: IMPORTANT. Was unable to clear a stale index lock:
" + e3);
}

HTH

Luke

----- Original Message ----- 
From: "Peter Veentjer - Anchor Men" <p.veentjer@anchormen.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, January 11, 2005 3:24 AM
Subject: RE: what if the IndexReader crashes, after delete, before close.




-----Oorspronkelijk bericht-----
Van: Luke Shannon [mailto:lshannon@futurebrand.com]
Verzonden: maandag 10 januari 2005 15:46
Aan: Lucene Users List
Onderwerp: Re: what if the IndexReader crashes, after delete, before
close.


>>One thing that will happen is the lock file
>>will get left behind. This means when you start
>>back up and try to create another Reader you will
>>get a file lock error.

I have figured out that part the hard way ;) Why can`t I access my index
anymore?? Ahh.. The lock file

>>Our system is threaded and synchronized.
>>Thus when a Reader is being created I know
>>it is the only one (the Writer comes after
>>the reader has been closed). Before creating
>>it I check if the Index is locked. If it is,
>>I forcefully clear it. This prevents the above
>>problem from happening.

You can have more than 1 reader open at anytime. Even while a delete or
add is in progress. But you can`t use a reader where documents are
deleted (IndexReader) and added(IndexWriter) at the same time. If you
don`t have other threads doing delete/add you won`t have to synchronize
anything.

And how do you synchronize on it? I have applied the ReadWriteLock From
Doug Lea`s concurrency library after I have build my own
synchronization brick and somebody pointed out that I was implementing
the ReadWriteLock. But at the moment I don`t do any synchronization.

And I want to have a component that is executed if the system is started
and knows that to do if there is rubbish in the index directory. I want
that component to restore my index to a usable version (and even small
loss of information is acceptable because everything is checked once and
a while. And user-added-information is going to be stored in the
database. So nothing gets lost. The index can be rebuild..




Luke

----- Original Message -----
From: "Peter Veentjer - Anchor Men" <p.veentjer@anchormen.nl>
To: <lucene-user@jakarta.apache.org>
Sent: Saturday, January 08, 2005 4:08 AM
Subject: what if the IndexReader crashes, after delete, before close.


What happens to the Index if the IndexReader crashes, after I have
deleted
documents, and before I have called close. Are the deletes ignored? Is
the
Index screwed up? Is the filesystem screwed up (if a document is deleted
new
delete-files appear) so are the delete-files still there (and can these
be
ignored the next time?). Can I restore the index to the previous state,
just
by removing those delete-files?



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12399-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 16:47:25 2005
Return-Path: <lucene-user-return-12399-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92691 invoked from network); 11 Jan 2005 16:47:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 16:47:25 -0000
Received: (qmail 32200 invoked by uid 500); 11 Jan 2005 16:47:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32017 invoked by uid 500); 11 Jan 2005 16:47:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32004 invoked by uid 99); 11 Jan 2005 16:47:20 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from fluffy.torchboxapps.com (HELO fluffy.torchbox.com) (81.187.40.70)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 11 Jan 2005 08:47:19 -0800
Received: from grenache.internal.torchbox.com ([192.168.1.81])
	by fluffy.torchbox.com with esmtp (Exim 4.34)
	id 1CoPAq-000444-FC
	for lucene-user@jakarta.apache.org; Tue, 11 Jan 2005 16:47:16 +0000
Date: Tue, 11 Jan 2005 16:47:15 +0000 (GMT)
From: Nick Burch <nick@torchbox.com>
X-X-Sender: nick@localhost.localdomain
To: lucene-user@jakarta.apache.org
Subject: Looking for UK based Lucene consultant
Message-ID: <Pine.LNX.4.44.0501111645570.2267-100000@localhost.localdomain>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Score: -104.1 (---------------------------------------------------)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi All

My company is looking to hire someone UK-based for a few day's Lucene 
consultancy. Experience with coupling Lucene to large scale web 
spidering is a must, experience with term vectors would be a bonus.

Please contact me off-list if interested

Thanks
Nick



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12400-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 20:03:31 2005
Return-Path: <lucene-user-return-12400-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92028 invoked from network); 11 Jan 2005 20:03:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 20:03:31 -0000
Received: (qmail 73026 invoked by uid 500); 11 Jan 2005 20:03:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73004 invoked by uid 500); 11 Jan 2005 20:03:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72988 invoked by uid 99); 11 Jan 2005 20:03:26 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx3-ext.sgi.com (HELO omx3.sgi.com) (192.48.171.20)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 11 Jan 2005 12:03:25 -0800
Received: from internal-mail-relay.corp.sgi.com (internal-mail-relay.corp.sgi.com [198.149.32.51])
	by omx3.sgi.com (8.12.11/8.12.9/linux-outbound_gateway-1.1) with ESMTP id j0BJOBOE023684
	for <lucene-user@jakarta.apache.org>; Tue, 11 Jan 2005 11:24:11 -0800
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com [169.238.221.130])
	by internal-mail-relay.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2) with ESMTP id j0BJxKXd175560608
	for <lucene-user@jakarta.apache.org>; Tue, 11 Jan 2005 11:59:21 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id j0BJxKad20519720
	for <lucene-user@jakarta.apache.org>; Tue, 11 Jan 2005 14:59:20 -0500 (EST)
Message-ID: <41E43011.5030005@sgi.com>
Date: Tue, 11 Jan 2005 14:59:13 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: How do I unlock?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm getting
Lock obtain timed out.

I was developing and forgot to close the writer.  How do I recover?  I 
killed the program, put the close in, but it won't let me open again.

Thanks,
Jim.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12401-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 20:14:44 2005
Return-Path: <lucene-user-return-12401-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97046 invoked from network); 11 Jan 2005 20:14:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 20:14:43 -0000
Received: (qmail 93564 invoked by uid 500); 11 Jan 2005 20:14:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93430 invoked by uid 500); 11 Jan 2005 20:14:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93415 invoked by uid 99); 11 Jan 2005 20:14:39 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 11 Jan 2005 12:14:38 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 86ACA5B7C6; Tue, 11 Jan 2005 12:13:30 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 851E17F467
	for <lucene-user@jakarta.apache.org>; Tue, 11 Jan 2005 12:13:30 -0800 (PST)
Date: Tue, 11 Jan 2005 12:13:30 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How do I unlock?
In-Reply-To: <41E43011.5030005@sgi.com>
Message-ID: <Pine.LNX.4.58.0501111205100.15977@hal.rescomp.berkeley.edu>
References: <41E43011.5030005@sgi.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


: I'm getting
: Lock obtain timed out.
:
: I was developing and forgot to close the writer.  How do I recover?  I
: killed the program, put the close in, but it won't let me open again.

if you are using FSDirectory then a lock file was put onto your disk in
the directory returned by...

    System.getProperty("org.apache.lucene.lockdir",System.getProperty("java.io.tmpdir"));

so if you haven't defined the property "org.apache.lucene.lockdir" then
it's whereever your JVM normally puts tmp files (on *nix it's usually in
/var/tmp ... somtimes /tmp)


This question has come up a couple of times in the last few weeks, while
leads me to think:

1) There should probably be a FAQ on discussing:
    1) where lock files are typically found on various OSes
    2) the naming convention of lucene lock files.
    2) how to manually clean up lock files (and other files in the index
       directory) in a safe manner.

2) it might be a good idea to add a static utility method for cleanly
removing all locks (or all lokcs of a particular type) on an index given a
Directory.  Javadocs would indicate this is an "Expert" method which
should only be used in code designed to try and recover from serious
errors.



	thoughts?



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12402-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 20:27:13 2005
Return-Path: <lucene-user-return-12402-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18835 invoked from network); 11 Jan 2005 20:27:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 20:27:13 -0000
Received: (qmail 13897 invoked by uid 500); 11 Jan 2005 20:27:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13858 invoked by uid 500); 11 Jan 2005 20:27:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13831 invoked by uid 99); 11 Jan 2005 20:27:08 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12704.mail.yahoo.com (HELO web12704.mail.yahoo.com) (216.136.173.241)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 11 Jan 2005 12:27:06 -0800
Received: (qmail 14510 invoked by uid 60001); 11 Jan 2005 20:27:05 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=NHp2MRym6urN3gAeabcdWwsUWJtGI4/hVcq7zHuIgljv7ezsqV1GisgVuTkB3f7lQUPk7Qr4ovSnLt+WXQfPXYPXyGi6PUdluz/DkLos03dbJ+D6vsraS97HqLklHvPKjC263TCca00zqN1mJjS+cTmmVisqov4FLuYf6TVmGA8=  ;
Message-ID: <20050111202705.14508.qmail@web12704.mail.yahoo.com>
Received: from [216.194.17.194] by web12704.mail.yahoo.com via HTTP; Tue, 11 Jan 2005 12:27:05 PST
Date: Tue, 11 Jan 2005 12:27:05 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: How do I unlock?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <Pine.LNX.4.58.0501111205100.15977@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

1) The FAQ has been moved to the Wiki, so feel free to stick it in
there.

2) http://www.lucenebook.com/search?query=unlock

Otis

--- Chris Hostetter <hossman_lucene@fucit.org> wrote:

> 
> : I'm getting
> : Lock obtain timed out.
> :
> : I was developing and forgot to close the writer.  How do I recover?
>  I
> : killed the program, put the close in, but it won't let me open
> again.
> 
> if you are using FSDirectory then a lock file was put onto your disk
> in
> the directory returned by...
> 
>    
>
System.getProperty("org.apache.lucene.lockdir",System.getProperty("java.io.tmpdir"));
> 
> so if you haven't defined the property "org.apache.lucene.lockdir"
> then
> it's whereever your JVM normally puts tmp files (on *nix it's usually
> in
> /var/tmp ... somtimes /tmp)
> 
> 
> This question has come up a couple of times in the last few weeks,
> while
> leads me to think:
> 
> 1) There should probably be a FAQ on discussing:
>     1) where lock files are typically found on various OSes
>     2) the naming convention of lucene lock files.
>     2) how to manually clean up lock files (and other files in the
> index
>        directory) in a safe manner.
> 
> 2) it might be a good idea to add a static utility method for cleanly
> removing all locks (or all lokcs of a particular type) on an index
> given a
> Directory.  Javadocs would indicate this is an "Expert" method which
> should only be used in code designed to try and recover from serious
> errors.
> 
> 
> 
> 	thoughts?
> 
> 
> 
> -Hoss
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12403-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 20:44:55 2005
Return-Path: <lucene-user-return-12403-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29671 invoked from network); 11 Jan 2005 20:44:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 20:44:55 -0000
Received: (qmail 48236 invoked by uid 500); 11 Jan 2005 20:44:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48208 invoked by uid 500); 11 Jan 2005 20:44:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48194 invoked by uid 99); 11 Jan 2005 20:44:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from fw.blueprint.org (HELO mail.blueprint.org) (38.112.109.12)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 11 Jan 2005 12:44:50 -0800
Received: from Blueprint21 (blueprint-21.blueprint.org [10.0.0.40])
 by mail.blueprint.org
 (iPlanet Messaging Server 5.2 Patch 1 (built Aug 19 2002))
 with SMTP id <0IA6008V96YOZ5@mail.blueprint.org> for
 lucene-user@jakarta.apache.org; Tue, 11 Jan 2005 15:44:48 -0500 (EST)
Date: Tue, 11 Jan 2005 15:44:48 -0500
From: Shawn Konopinsky <skonopinsky@blueprint.org>
Subject: Token Characters
In-reply-to: <20050111202705.14508.qmail@web12704.mail.yahoo.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <BAEBICAPLMHCPPOIGFHPMEECCAAA.skonopinsky@blueprint.org>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Mailer: Microsoft Outlook IMO, Build 9.0.6604 (9.0.2911.0)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey There,

Wondering where I can find a list of the set of characters that the
StandardAnalyzer will tokenize on when indexing text in Lucene.

Best,
Shawn.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12404-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 20:45:41 2005
Return-Path: <lucene-user-return-12404-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29999 invoked from network); 11 Jan 2005 20:45:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 20:45:41 -0000
Received: (qmail 49852 invoked by uid 500); 11 Jan 2005 20:45:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49485 invoked by uid 500); 11 Jan 2005 20:45:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49472 invoked by uid 99); 11 Jan 2005 20:45:37 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 209-254-108-74.ip.mcleodusa.net (HELO enigmastation.com) (209.254.108.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 11 Jan 2005 12:45:36 -0800
Received: from localhost (joeo@localhost)
	by enigmastation.com (8.11.6/8.11.6) with ESMTP id j0BKgFB02364
	for <lucene-user@jakarta.apache.org>; Tue, 11 Jan 2005 15:42:15 -0500
Date: Tue, 11 Jan 2005 15:42:15 -0500 (EST)
From: Joseph Ottinger <joeo@enigmastation.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How do I unlock?
In-Reply-To: <Pine.LNX.4.58.0501111205100.15977@hal.rescomp.berkeley.edu>
Message-ID: <Pine.LNX.4.33.0501111541110.3029-100000@enigmastation.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tue, 11 Jan 2005, Chris Hostetter wrote:

> 2) it might be a good idea to add a static utility method for cleanly
> removing all locks (or all lokcs of a particular type) on an index given a
> Directory.  Javadocs would indicate this is an "Expert" method which
> should only be used in code designed to try and recover from serious
> errors.

As one for whom the question's come up recently, I'd say that locks need
to be terminated gracefully, instead. I've noticed a number of cases where
the locks get abandoned in exceptional conditions, which is almost exactly
what you don't want.

-----------------------------------------------------------------------
Joseph B. Ottinger                             http://enigmastation.com
IT Consultant                                    joeo@enigmastation.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12405-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 20:52:30 2005
Return-Path: <lucene-user-return-12405-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35077 invoked from network); 11 Jan 2005 20:52:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 20:52:30 -0000
Received: (qmail 61326 invoked by uid 500); 11 Jan 2005 20:52:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61287 invoked by uid 500); 11 Jan 2005 20:52:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61272 invoked by uid 99); 11 Jan 2005 20:52:25 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12707.mail.yahoo.com (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 11 Jan 2005 12:52:24 -0800
Received: (qmail 80765 invoked by uid 60001); 11 Jan 2005 20:52:22 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=ur4CcwNrRnoVSNfoXGe2ZUPsl8gveE3dU18E5+t9kVUx8AH/mMMcUD5IOsKE6E5i2P1daIyNkRhtGZTgfruYo2jaUqXC9GsqVmrA6DLZnROHwepMStGV95GCQDe+9k3WRcGt64nH4yLqKIXY7AKyb5y//KUGUy11TSjbeAYtFAw=  ;
Message-ID: <20050111205222.80763.qmail@web12707.mail.yahoo.com>
Received: from [216.194.17.194] by web12707.mail.yahoo.com via HTTP; Tue, 11 Jan 2005 12:52:22 PST
Date: Tue, 11 Jan 2005 12:52:22 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Token Characters
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <BAEBICAPLMHCPPOIGFHPMEECCAAA.skonopinsky@blueprint.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The best place to look is:
./src/java/org/apache/lucene/analysis/standard/StandardTokenizer.jj

You can see it at:
http://cvs.apache.org/viewcvs.cgi/jakarta-lucene/src/java/org/apache/lucene/analysis/standard/

Otis


--- Shawn Konopinsky <skonopinsky@blueprint.org> wrote:

> Hey There,
> 
> Wondering where I can find a list of the set of characters that the
> StandardAnalyzer will tokenize on when indexing text in Lucene.
> 
> Best,
> Shawn.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12406-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 21:21:53 2005
Return-Path: <lucene-user-return-12406-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50453 invoked from network); 11 Jan 2005 21:21:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 21:21:52 -0000
Received: (qmail 18636 invoked by uid 500); 11 Jan 2005 21:21:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17808 invoked by uid 500); 11 Jan 2005 21:21:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17791 invoked by uid 99); 11 Jan 2005 21:21:49 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc12.comcast.net (HELO rwcrmhc12.comcast.net) (216.148.227.85)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 11 Jan 2005 13:21:48 -0800
Received: from [192.168.168.81] (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc12) with ESMTP
          id <2005011121214301400gpaq5e>; Tue, 11 Jan 2005 21:21:43 +0000
Message-ID: <41E44366.2070207@apache.org>
Date: Tue, 11 Jan 2005 13:21:42 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How do I unlock?
References: <Pine.LNX.4.33.0501111541110.3029-100000@enigmastation.com>
In-Reply-To: <Pine.LNX.4.33.0501111541110.3029-100000@enigmastation.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Joseph Ottinger wrote:
> As one for whom the question's come up recently, I'd say that locks need
> to be terminated gracefully, instead. I've noticed a number of cases where
> the locks get abandoned in exceptional conditions, which is almost exactly
> what you don't want.

The problem is that this is hard to do from Java.  A typical approach is 
to put the process id in the lock file, then, if that process is dead, 
ignore the lock file.  But Java does not let one know process ids.  Java 
1.4 provides a LockFile mechanism which should mostly solve this, but 
Lucene 1.4.3 does not yet require Java 1.4 and hence cannot use that 
feature.  Lucene 2.0 is likely to require Java 1.4 and should be able to 
do a better job of automatically unlocking indexes when processes die.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12407-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 21:25:49 2005
Return-Path: <lucene-user-return-12407-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52750 invoked from network); 11 Jan 2005 21:25:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 21:25:49 -0000
Received: (qmail 31921 invoked by uid 500); 11 Jan 2005 21:25:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31886 invoked by uid 500); 11 Jan 2005 21:25:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31871 invoked by uid 99); 11 Jan 2005 21:25:44 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 209-254-108-74.ip.mcleodusa.net (HELO enigmastation.com) (209.254.108.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 11 Jan 2005 13:25:43 -0800
Received: from localhost (joeo@localhost)
	by enigmastation.com (8.11.6/8.11.6) with ESMTP id j0BLMM502708
	for <lucene-user@jakarta.apache.org>; Tue, 11 Jan 2005 16:22:22 -0500
Date: Tue, 11 Jan 2005 16:22:22 -0500 (EST)
From: Joseph Ottinger <joeo@enigmastation.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How do I unlock?
In-Reply-To: <41E44366.2070207@apache.org>
Message-ID: <Pine.LNX.4.33.0501111621320.3029-100000@enigmastation.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tue, 11 Jan 2005, Doug Cutting wrote:

> Joseph Ottinger wrote:
> > As one for whom the question's come up recently, I'd say that locks need
> > to be terminated gracefully, instead. I've noticed a number of cases where
> > the locks get abandoned in exceptional conditions, which is almost exactly
> > what you don't want.
>
> The problem is that this is hard to do from Java.  A typical approach is
> to put the process id in the lock file, then, if that process is dead,
> ignore the lock file.  But Java does not let one know process ids.  Java
> 1.4 provides a LockFile mechanism which should mostly solve this, but
> Lucene 1.4.3 does not yet require Java 1.4 and hence cannot use that
> feature.  Lucene 2.0 is likely to require Java 1.4 and should be able to
> do a better job of automatically unlocking indexes when processes die.

Agreed - but while there are some situations in which releasing locks is
"difficult" (i.e., JVM catastrophic shutdown), there are others in which
attempts could be made via finally blocks, etc.

-----------------------------------------------------------------------
Joseph B. Ottinger                             http://enigmastation.com
IT Consultant                                    joeo@enigmastation.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12408-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 21:28:46 2005
Return-Path: <lucene-user-return-12408-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54344 invoked from network); 11 Jan 2005 21:28:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 21:28:46 -0000
Received: (qmail 35885 invoked by uid 500); 11 Jan 2005 21:28:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35614 invoked by uid 500); 11 Jan 2005 21:28:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35598 invoked by uid 99); 11 Jan 2005 21:28:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of clamprecht@gmail.com designates 64.233.170.192 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.192)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 11 Jan 2005 13:28:38 -0800
Received: by rproxy.gmail.com with SMTP id z35so328362rne
        for <lucene-user@jakarta.apache.org>; Tue, 11 Jan 2005 13:28:36 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=h+w378ldlEtnmP7gEN/LOVpAoEyYPP+37Lr/7En2dV9K1Pl/DTidUo71GjuoMXeGtLaNZPBB4XvrEOsGVj0gutR0zbXgyp5Q53Q2EOTvS9AExVlvsV36+h5PVC0Wjfjbbd+/Q3uh13M+SFNMjZR/xU5BJUqDlyrysUDvb4vXfeQ=
Received: by 10.38.92.21 with SMTP id p21mr107571rnb;
        Tue, 11 Jan 2005 13:28:35 -0800 (PST)
Received: by 10.38.104.58 with HTTP; Tue, 11 Jan 2005 13:28:35 -0800 (PST)
Message-ID: <88c6a6720501111328667df3c3@mail.gmail.com>
Date: Tue, 11 Jan 2005 15:28:35 -0600
From: Chris Lamprecht <clamprecht@gmail.com>
Reply-To: Chris Lamprecht <clamprecht@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How do I unlock?
In-Reply-To: <41E44366.2070207@apache.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <Pine.LNX.4.33.0501111541110.3029-100000@enigmastation.com>
	 <41E44366.2070207@apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

What about a shutdown hook?
  
Runtime.getRuntime().addShutdownHook(new Thread() {
    public void run() { /* whatever */ }
});

see also http://www.onjava.com/pub/a/onjava/2003/03/26/shutdownhook.html


On Tue, 11 Jan 2005 13:21:42 -0800, Doug Cutting <cutting@apache.org> wrote:
> Joseph Ottinger wrote:
> > As one for whom the question's come up recently, I'd say that locks need
> > to be terminated gracefully, instead. I've noticed a number of cases where
> > the locks get abandoned in exceptional conditions, which is almost exactly
> > what you don't want.
> 
> The problem is that this is hard to do from Java.  A typical approach is
> to put the process id in the lock file, then, if that process is dead,
> ignore the lock file.  But Java does not let one know process ids.  Java
> 1.4 provides a LockFile mechanism which should mostly solve this, but
> Lucene 1.4.3 does not yet require Java 1.4 and hence cannot use that
> feature.  Lucene 2.0 is likely to require Java 1.4 and should be able to
> do a better job of automatically unlocking indexes when processes die.
> 
> Doug
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12409-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 22:03:39 2005
Return-Path: <lucene-user-return-12409-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72540 invoked from network); 11 Jan 2005 22:03:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 22:03:39 -0000
Received: (qmail 6706 invoked by uid 500); 11 Jan 2005 22:03:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6635 invoked by uid 500); 11 Jan 2005 22:03:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6614 invoked by uid 99); 11 Jan 2005 22:03:29 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=HTML_90_100,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from plesk2.axarnet.com (HELO plesk1.axarnet.com) (213.200.101.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 11 Jan 2005 14:03:29 -0800
Received: (qmail 15488 invoked from network); 11 Jan 2005 21:57:50 -0000
Received: from 118.red-217-127-201.pooles.rima-tde.net (HELO XerAcer803) (217.127.201.118)
  by ip.grupoibc.com with SMTP; 11 Jan 2005 21:57:50 -0000
From: "Carlos Franco Robles" <carlos.franco@xeridia.com>
To: <lucene-user@jakarta.apache.org>
Subject: SQL Distinct sintax in Lucen
Date: Tue, 11 Jan 2005 23:05:19 +0100
Message-ID: <004101c4f829$a5cd4fa0$0b00a8c0@XerAcer803>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0042_01C4F832.0791B7A0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0042_01C4F832.0791B7A0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit

Hi all.
 
I'm starting to use lucene and I wonder if it is possible to make a
query syntax to ask for one string which can be in two different fields
and filter duplicated results like with distinct in SQL syntax.
Something like:
 
distinct (+string OR OtherField:(+string))
 
Thanks a lot
 
 

------=_NextPart_000_0042_01C4F832.0791B7A0--


From lucene-user-return-12410-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 22:09:25 2005
Return-Path: <lucene-user-return-12410-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74861 invoked from network); 11 Jan 2005 22:09:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 22:09:24 -0000
Received: (qmail 20135 invoked by uid 500); 11 Jan 2005 22:09:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19740 invoked by uid 500); 11 Jan 2005 22:09:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19725 invoked by uid 99); 11 Jan 2005 22:09:20 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12707.mail.yahoo.com (HELO web12707.mail.yahoo.com) (216.136.173.244)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 11 Jan 2005 14:09:18 -0800
Received: (qmail 91056 invoked by uid 60001); 11 Jan 2005 22:09:17 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=quSBqgGcgmUZ5t4fkZxDmTGjbHaSsTpDKm5F9Hrwyms9GXiSg1rWF2Xc/SzQMY0CWBIRlxPt9SJKgHIZky1JvtWWmM0bynGjvFkv3A5C2miWZMqMePdxb0bKoL5+4GIZ7sWKAzakUtp3JkyR2jAE/O2BFBqCXYCQWOesuEHfDXA=  ;
Message-ID: <20050111220917.91054.qmail@web12707.mail.yahoo.com>
Received: from [216.194.17.194] by web12707.mail.yahoo.com via HTTP; Tue, 11 Jan 2005 14:09:17 PST
Date: Tue, 11 Jan 2005 14:09:17 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: How do I unlock?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <Pine.LNX.4.33.0501111621320.3029-100000@enigmastation.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I didn't pay full attention to this thread, but it sounds like somebody
may be interested in RuntimeShutdownHook (or some similar name) as a
place to try to release the locks.

Otis

--- Joseph Ottinger <joeo@enigmastation.com> wrote:

> On Tue, 11 Jan 2005, Doug Cutting wrote:
> 
> > Joseph Ottinger wrote:
> > > As one for whom the question's come up recently, I'd say that
> locks need
> > > to be terminated gracefully, instead. I've noticed a number of
> cases where
> > > the locks get abandoned in exceptional conditions, which is
> almost exactly
> > > what you don't want.
> >
> > The problem is that this is hard to do from Java.  A typical
> approach is
> > to put the process id in the lock file, then, if that process is
> dead,
> > ignore the lock file.  But Java does not let one know process ids. 
> Java
> > 1.4 provides a LockFile mechanism which should mostly solve this,
> but
> > Lucene 1.4.3 does not yet require Java 1.4 and hence cannot use
> that
> > feature.  Lucene 2.0 is likely to require Java 1.4 and should be
> able to
> > do a better job of automatically unlocking indexes when processes
> die.
> 
> Agreed - but while there are some situations in which releasing locks
> is
> "difficult" (i.e., JVM catastrophic shutdown), there are others in
> which
> attempts could be made via finally blocks, etc.
> 
>
-----------------------------------------------------------------------
> Joseph B. Ottinger                            
> http://enigmastation.com
> IT Consultant                                   
> joeo@enigmastation.com
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12411-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 22:10:20 2005
Return-Path: <lucene-user-return-12411-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75237 invoked from network); 11 Jan 2005 22:10:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 22:10:20 -0000
Received: (qmail 21719 invoked by uid 500); 11 Jan 2005 22:10:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21299 invoked by uid 500); 11 Jan 2005 22:10:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21276 invoked by uid 99); 11 Jan 2005 22:10:16 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web12704.mail.yahoo.com (HELO web12704.mail.yahoo.com) (216.136.173.241)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 11 Jan 2005 14:10:14 -0800
Received: (qmail 29831 invoked by uid 60001); 11 Jan 2005 22:10:13 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=OJfLnO4UOtqELXna1l3S52F61/wIHFU5QPWOU5Bf/pVVTTCtrCY6Cz5uhHX/D54xmgR8Ouj7ovkI0OUgfvOq6yjsqxUbKJ4aZJv8QkoXvxSvj62XVEr0MDZAnWHL2JMFu5JsfjqCGVUDUApUGExAk6m11O5JmSzPc9gL01lXzmA=  ;
Message-ID: <20050111221013.29829.qmail@web12704.mail.yahoo.com>
Received: from [216.194.17.194] by web12704.mail.yahoo.com via HTTP; Tue, 11 Jan 2005 14:10:13 PST
Date: Tue, 11 Jan 2005 14:10:13 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: How do I unlock?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <88c6a6720501111328667df3c3@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Eh, that exactly :)  When I read my emails in reverse order....

--- Chris Lamprecht <clamprecht@gmail.com> wrote:

> What about a shutdown hook?
>   
> Runtime.getRuntime().addShutdownHook(new Thread() {
>     public void run() { /* whatever */ }
> });
> 
> see also
> http://www.onjava.com/pub/a/onjava/2003/03/26/shutdownhook.html
> 
> 
> On Tue, 11 Jan 2005 13:21:42 -0800, Doug Cutting <cutting@apache.org>
> wrote:
> > Joseph Ottinger wrote:
> > > As one for whom the question's come up recently, I'd say that
> locks need
> > > to be terminated gracefully, instead. I've noticed a number of
> cases where
> > > the locks get abandoned in exceptional conditions, which is
> almost exactly
> > > what you don't want.
> > 
> > The problem is that this is hard to do from Java.  A typical
> approach is
> > to put the process id in the lock file, then, if that process is
> dead,
> > ignore the lock file.  But Java does not let one know process ids. 
> Java
> > 1.4 provides a LockFile mechanism which should mostly solve this,
> but
> > Lucene 1.4.3 does not yet require Java 1.4 and hence cannot use
> that
> > feature.  Lucene 2.0 is likely to require Java 1.4 and should be
> able to
> > do a better job of automatically unlocking indexes when processes
> die.
> > 
> > Doug
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12412-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 22:17:50 2005
Return-Path: <lucene-user-return-12412-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80216 invoked from network); 11 Jan 2005 22:17:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 22:17:50 -0000
Received: (qmail 40224 invoked by uid 500); 11 Jan 2005 22:17:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40158 invoked by uid 500); 11 Jan 2005 22:17:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40082 invoked by uid 99); 11 Jan 2005 22:17:41 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 11 Jan 2005 14:17:40 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id DD7FE5B787; Tue, 11 Jan 2005 14:16:32 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP
	id DA57C7F467; Tue, 11 Jan 2005 14:16:32 -0800 (PST)
Date: Tue, 11 Jan 2005 14:16:32 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>,
	Chris Lamprecht <clamprecht@gmail.com>
Subject: Re: How do I unlock?
In-Reply-To: <88c6a6720501111328667df3c3@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0501111409280.15977@hal.rescomp.berkeley.edu>
References: <Pine.LNX.4.33.0501111541110.3029-100000@enigmastation.com> 
 <41E44366.2070207@apache.org> <88c6a6720501111328667df3c3@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

: What about a shutdown hook?

Interesting idea, at the moment the file is created on disk, the
FSDirectory could add a shutdown hook that checked for the existence of
the file and if it's still there (implying that the Lock owner failed
without releasing the lock) it can forcably remove it.

Of course: this assumes that LockFiles are never shared between processes
-- ie: if client A is waiting on a lock that client B is holding, does the
lock A eventually gets use the same file that B's lock was using, or does
the old lock file get deleted and a new one created ?

(I don't really understand a lot of Lucene's locking code)


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12413-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 22:22:34 2005
Return-Path: <lucene-user-return-12413-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82552 invoked from network); 11 Jan 2005 22:22:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 22:22:33 -0000
Received: (qmail 48330 invoked by uid 500); 11 Jan 2005 22:22:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47968 invoked by uid 500); 11 Jan 2005 22:22:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47953 invoked by uid 99); 11 Jan 2005 22:22:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mailout10.sul.t-online.com (HELO mailout10.sul.t-online.com) (194.25.134.21)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 11 Jan 2005 14:22:27 -0800
Received: from fwd03.aul.t-online.de 
	by mailout10.sul.t-online.com with smtp 
	id 1CoUPB-0004Ky-02; Tue, 11 Jan 2005 23:22:25 +0100
Received: from p54802639.dip.t-dialin.net (XNqy1sZAQe7SQCoiTygQVJYhywE0iVOByxlbD+jQMmArbiiFsbMpUX@[84.128.38.57]) by fmrl03.sul.t-online.com
	with esmtp id 1CoUP9-0O11pg0; Tue, 11 Jan 2005 23:22:23 +0100
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: SQL Distinct sintax in Lucen
Date: Tue, 11 Jan 2005 23:22:33 +0100
User-Agent: KMail/1.7.1
References: <004101c4f829$a5cd4fa0$0b00a8c0@XerAcer803>
In-Reply-To: <004101c4f829$a5cd4fa0$0b00a8c0@XerAcer803>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200501112322.33374@danielnaber.de>
X-ID: XNqy1sZAQe7SQCoiTygQVJYhywE0iVOByxlbD+jQMmArbiiFsbMpUX@t-dialin.net
X-TOI-MSGID: af30e3d8-92f6-4cf9-abe8-b24b20c717b9
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday 11 January 2005 23:05, Carlos Franco Robles wrote:

> I'm starting to use lucene and I wonder if it is possible to make a
> query syntax to ask for one string which can be in two different fields
> and filter duplicated results like with distinct in SQL syntax.

Lucene only knows documents and doesn't know what "duplicate" could mean. 
The easiest thing is to iterate over the result set and do the filtering 
yourself.

regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12414-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 11 22:41:10 2005
Return-Path: <lucene-user-return-12414-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90295 invoked from network); 11 Jan 2005 22:41:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Jan 2005 22:41:10 -0000
Received: (qmail 83158 invoked by uid 500); 11 Jan 2005 22:41:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82818 invoked by uid 500); 11 Jan 2005 22:41:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82804 invoked by uid 99); 11 Jan 2005 22:41:06 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 11 Jan 2005 14:41:05 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: SQL Distinct sintax in Lucen
Date: Tue, 11 Jan 2005 14:41:02 -0800
Message-ID: <E3381E0825F1954D953A4E347017BB1C03032D60@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: SQL Distinct sintax in Lucen
Thread-Index: AcT4KWdZ+kjukM8wTAm8DR8kHo+oYgABG8sg
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If I understand what you are trying to do, you don't have a problem.
You can OR to your heart's content and Lucene will properly create the
union of the results.  I.e., there will be no duplicates.

There is built-in support for this kind of thing.  See
MultiFieldQueryParser, and for better results, consider
http://issues.apache.org/bugzilla/show_bug.cgi?id=3D32674.

Chuck

  > -----Original Message-----
  > From: Carlos Franco Robles [mailto:carlos.franco@xeridia.com]
  > Sent: Tuesday, January 11, 2005 2:05 PM
  > To: lucene-user@jakarta.apache.org
  > Subject: SQL Distinct sintax in Lucen
  >=20
  > Hi all.
  >=20
  > I'm starting to use lucene and I wonder if it is possible to make a
  > query syntax to ask for one string which can be in two different
fields
  > and filter duplicated results like with distinct in SQL syntax.
  > Something like:
  >=20
  > distinct (+string OR OtherField:(+string))
  >=20
  > Thanks a lot
  >=20
  >=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12415-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 12 00:30:44 2005
Return-Path: <lucene-user-return-12415-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95542 invoked from network); 12 Jan 2005 00:30:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jan 2005 00:30:44 -0000
Received: (qmail 56950 invoked by uid 500); 12 Jan 2005 00:30:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56122 invoked by uid 500); 12 Jan 2005 00:30:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56108 invoked by uid 99); 12 Jan 2005 00:30:40 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from brmea-mail-4.Sun.COM (HELO brmea-mail-4.sun.com) (192.18.98.36)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 11 Jan 2005 16:30:38 -0800
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by brmea-mail-4.sun.com (8.12.10/8.12.9) with ESMTP id j0C0Uae7026360
	for <lucene-user@jakarta.apache.org>; Tue, 11 Jan 2005 17:30:37 -0700 (MST)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0IA600B01H9V01@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Tue, 11 Jan 2005 16:28:21 -0800 (PST)
Received: from Sun.COM (sr1-umpk-06.SFBay.Sun.COM [129.146.11.166])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0IA60035NHB8H3@ha21sca-mail1.sfbay.sun.com> for
 lucene-user@jakarta.apache.org; Tue, 11 Jan 2005 16:28:20 -0800 (PST)
Date: Tue, 11 Jan 2005 16:28:20 -0800
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Re: Indexing flat files with out .txt extension
In-reply-to: <F211AFC3-636D-11D9-892F-000393A564E6@ehatchersolutions.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Reply-to: Hetan.Shah@Sun.COM
Message-id: <41E46F24.2070500@Sun.COM>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.4) Gecko/20040414
References: <41DC78CF.1020302@sun.com>
 <E259A3F5-5F78-11D9-9AF4-000393A564E6@ehatchersolutions.com>
 <41DDCE6C.6040903@sun.com>
 <A2DAC3C8-603E-11D9-A021-000393A564E6@ehatchersolutions.com>
 <41E31879.6060406@sun.com>
 <F211AFC3-636D-11D9-892F-000393A564E6@ehatchersolutions.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Erik,

Thanks for the pointers, I have modified the Indexer.java to index the
files from the directory by removing the file extenstion check of
(".txt"). Now I do get the index from the files.

New situation is that when I run the FileSearch

java org.apache.lucene.demo.SearchFiles
Query: tty
Searching for: tty
3 total matching documents
0. No path nor URL for this document
1. No path nor URL for this document
2. No path nor URL for this document

I do not get the actual path from the index and using Luke I get the
three hits. Last two are from the index and not the real documents.

Any idea what is happeneing and how can I fix it.

Thanks.
-H

Erik Hatcher wrote:
> On Jan 10, 2005, at 7:06 PM, Hetan Shah wrote:
> 
>>Got the latest Ant and got the demo to work. I am however not sure 
>>which part in the whole source code is the indexing for different file 
>>types is done, say for example .html .txt and such?
> 
> 
> Your best bet is to dig around in the codebase.  The Indexer.java code 
> is hard-coded to only do .txt file extensions - this was on purpose as 
> the first example in the book, figuring someone using this code on the 
> their C:\ drive would be relatively safe and fast to run.
> 
> Their is also an example easily run from the Ant launcher to show how 
> various document types can be handled using an extensible framework.  
> Run "ant ExtensionFileHandler".  It doesn't actually index the document 
> it creates, but displays it to the console.  It would be pretty trivial 
> to pair the Indexer.java code up with the file handler framework to 
> crawl a directory tree and index any content it recognizes.
> 
> 
>>Appreciate your help. If you have any sample code would certainly 
>>appreciate that also.
> 
> 
> You got all the code already.  It should be fairly straightforward to 
> navigate the src tree, especially with the Table of Contents handy:
> 
> 	http://www.lucenebook.com/toc
> 
> (incidentally, this dynamic TOC page is blending the blog content with 
> the TOC using an IndexReader to find all blog entries that refer to 
> each section - and you'll see the two, minor and cosmetic, errata 
> listed there already).
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12416-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 12 00:47:39 2005
Return-Path: <lucene-user-return-12416-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25223 invoked from network); 12 Jan 2005 00:47:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jan 2005 00:47:39 -0000
Received: (qmail 91040 invoked by uid 500); 12 Jan 2005 00:47:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90204 invoked by uid 500); 12 Jan 2005 00:47:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90191 invoked by uid 99); 12 Jan 2005 00:47:36 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 11 Jan 2005 16:47:34 -0800
Received: (qmail 15590 invoked by uid 532); 12 Jan 2005 00:46:19 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.162529 secs); 12 Jan 2005 00:46:19 -0000
Received: from unknown (HELO ?10.0.0.157?) (127.0.0.1)
  by 0 with SMTP; 12 Jan 2005 00:46:19 -0000
Message-ID: <41E473B8.2030704@tropo.com>
Date: Tue, 11 Jan 2005 16:47:52 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: WordNet code updated, now with query expansion -- Re: SYNONYM + GOOGLE
References: <OBELINLGKPEMCIEIJJNKKEKOCAAA.karthik@controlnet.co.in> <A847E5AE-630A-11D9-8525-000A95BC61B6@ehatchersolutions.com> <41E315C2.7030902@tropo.com> <90D5BCD2-636C-11D9-892F-000393A564E6@ehatchersolutions.com>
In-Reply-To: <90D5BCD2-636C-11D9-892F-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:

> 
> On Jan 10, 2005, at 6:54 PM, David Spencer wrote:
> 
>> Hi...I wrote the WordNet sandbox code - but I'm not sure if I 
>> undertand this thread. Are we saying that it does not work w/ the new 
>> WordNet data, or that code in Eric's book is better/more up to date etc?
> 
> 
> I have not tried the sandbox with any versions past WordNet 1.6.  
> Karthik shows a Java API to it, which I have not used - only your code 
> that parses the prolog files.  So the book code explains exactly what is 
> in the sandbox and describes WordNet 1.6 integration.  Though WordNet 
> has evolved.
> 
>> If needed I can update the sandbox code..
> 
> 
> It'd be awesome to have current WordNet support - I haven't looked at 
> what is involved in making it so.


I verified that the code works w/ the latest WordNet (2.0), and it does 
so, no problem. The relevant data from WordNet has not changed so 
there's no need to upgrade WordNet for this package at least.

I added "query expansion" which takes in a simple query string and for 
every term adds their synonyms. There's an optional boost parameter to 
be used to "penalize" synonyms if you want to use the heuristic that the 
  user probably knows the right word.

One example of expansion with the synonym boost set to 0.9 is the query 
"big dog" expands to:

big adult^0.9 bad^0.9 bighearted^0.9 boastful^0.9 boastfully^0.9 
bounteous^0.9 bountiful^0.9 braggy^0.9 crowing^0.9 freehanded^0.9 
giving^0.9 grown^0.9 grownup^0.9 handsome^0.9 large^0.9 liberal^0.9 
magnanimous^0.9 momentous^0.9 openhanded^0.9 prominent^0.9 swelled^0.9 
vainglorious^0.9 vauntingly^0.9
  dog andiron^0.9 blackguard^0.9 bounder^0.9 cad^0.9 chase^0.9 click^0.9 
detent^0.9 dogtooth^0.9 firedog^0.9 frank^0.9 frankfurter^0.9 frump^0.9 
heel^0.9 hotdog^0.9 hound^0.9 pawl^0.9 tag^0.9 tail^0.9 track^0.9 
trail^0.9 weenie^0.9 wiener^0.9 wienerwurst^0.9

Amusingly then, documents with the terms "liberal wienerwurst" match 
"big dog"! :)

Javadoc is here:

http://www.searchmorph.com/pub/jakarta-lucene-sandbox/contributions/WordNet/build/docs/api/org/apache/lucene/wordnet/package-summary.html

The new query expansion is here:

http://www.searchmorph.com/pub/jakarta-lucene-sandbox/contributions/WordNet/build/docs/api/org/apache/lucene/wordnet/SynExpand.html


Want to try it out? This page *expands* a query and prints out the 
result (but doesn't execute it yet).
http://www.searchmorph.com/kat/synonym.jsp?syn=big

CVS tree here:

http://cvs.apache.org/viewcvs.cgi/jakarta-lucene-sandbox/contributions/WordNet/

If you just want to use a prebuild index it's here (1MB):
http://searchmorph.com/pub/syn_index.zip

The prebuilt jar file is here:

http://www.searchmorph.com/pub/lucene-wordnet-dev.jar


Redundant weblog entry here:

http://www.searchmorph.com/weblog/index.php?id=34

Hope y'all like it and someone finds it useful,
   Dave

PS
  Oh - it may need the 1.5 dev branch of Lucene to work - I'm not 
positive but it I tried to remove deprecated warnings and doing so may 
have tied it to the latest code...

> 
>     Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12417-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 12 02:05:00 2005
Return-Path: <lucene-user-return-12417-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56460 invoked from network); 12 Jan 2005 02:04:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jan 2005 02:04:59 -0000
Received: (qmail 84121 invoked by uid 500); 12 Jan 2005 02:04:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83629 invoked by uid 500); 12 Jan 2005 02:04:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83611 invoked by uid 99); 12 Jan 2005 02:04:55 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 11 Jan 2005 18:04:54 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 2A6E85B7CF; Tue, 11 Jan 2005 18:03:44 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 2280C7F466
	for <lucene-user@jakarta.apache.org>; Tue, 11 Jan 2005 18:03:44 -0800 (PST)
Date: Tue, 11 Jan 2005 18:03:44 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How do I unlock?
In-Reply-To: <20050111202705.14508.qmail@web12704.mail.yahoo.com>
Message-ID: <Pine.LNX.4.58.0501111800010.2338@hal.rescomp.berkeley.edu>
References: <20050111202705.14508.qmail@web12704.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

: 1) The FAQ has been moved to the Wiki, so feel free to stick it in
: there.

yeah ... i just wanted to give people a chance to chime in with weird ways
locks are used in case i wasn't aware of something.

: 2) http://www.lucenebook.com/search?query=unlock

ah ... yes.  The really pitiful thing is, I remember looking at that
method before.

FAQed...

http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-59be30838bbb5692e605384b5f4c2f224f3dfa6f



: > 1) There should probably be a FAQ on discussing:
: >     1) where lock files are typically found on various OSes
: >     2) the naming convention of lucene lock files.
: >     2) how to manually clean up lock files (and other files in the
: > index
: >        directory) in a safe manner.
: >
: > 2) it might be a good idea to add a static utility method for cleanly
: > removing all locks (or all lokcs of a particular type) on an index
: > given a
: > Directory.  Javadocs would indicate this is an "Expert" method which
: > should only be used in code designed to try and recover from serious
: > errors.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12418-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 12 02:37:05 2005
Return-Path: <lucene-user-return-12418-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85433 invoked from network); 12 Jan 2005 02:37:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jan 2005 02:37:05 -0000
Received: (qmail 22588 invoked by uid 500); 12 Jan 2005 02:37:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22557 invoked by uid 500); 12 Jan 2005 02:37:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22543 invoked by uid 99); 12 Jan 2005 02:37:00 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 11 Jan 2005 18:36:58 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id D02B713E20EA; Tue, 11 Jan 2005 21:36:46 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id AD42013E2006
	for <lucene-user@jakarta.apache.org>; Tue, 11 Jan 2005 21:36:42 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <41E46F24.2070500@Sun.COM>
References: <41DC78CF.1020302@sun.com> <E259A3F5-5F78-11D9-9AF4-000393A564E6@ehatchersolutions.com> <41DDCE6C.6040903@sun.com> <A2DAC3C8-603E-11D9-A021-000393A564E6@ehatchersolutions.com> <41E31879.6060406@sun.com> <F211AFC3-636D-11D9-892F-000393A564E6@ehatchersolutions.com> <41E46F24.2070500@Sun.COM>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <C8D05CE3-6442-11D9-B50C-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Indexing flat files with out .txt extension
Date: Tue, 11 Jan 2005 21:36:38 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.6 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 11, 2005, at 7:28 PM, Hetan Shah wrote:
> Thanks for the pointers, I have modified the Indexer.java to index the
> files from the directory by removing the file extenstion check of
> (".txt"). Now I do get the index from the files.

...

>
> java org.apache.lucene.demo.SearchFiles

The problem is you're using the SearchFiles demo code, which uses 
different field names than Indexer.java.  You need to be sure the 
searching and indexing code agree on the field names.  Since you 
borrowed from Indexer.java from LIA, keep borrowing from Searcher.java. 
  You can run "ant Searcher" from the LIA source code.

Be sure to really learn what's going on in that code rather than just 
accepting what its doing - this will pay off as you continue to evolve 
your application.  Indexer.java has only 6 (effective) lines of code 
tied to Lucene's API, and similarly very few lines of Lucene-dependent 
code in Searcher.java.  All of this is demo code, and is designed to be 
adapted to your needs.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12419-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 12 08:04:03 2005
Return-Path: <lucene-user-return-12419-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31815 invoked from network); 12 Jan 2005 08:04:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jan 2005 08:04:03 -0000
Received: (qmail 14680 invoked by uid 500); 12 Jan 2005 08:03:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14393 invoked by uid 500); 12 Jan 2005 08:03:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14376 invoked by uid 99); 12 Jan 2005 08:03:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mailout02.sul.t-online.com (HELO mailout02.sul.t-online.com) (194.25.134.17)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 12 Jan 2005 00:03:54 -0800
Received: from fwd01.aul.t-online.de 
	by mailout02.sul.t-online.com with smtp 
	id 1CodTn-0006ts-08; Wed, 12 Jan 2005 09:03:47 +0100
Received: from pD9EBF7D9.dip.t-dialin.net (XNqyOUZOYexNFK7P3v6c1dslaNr0xUdN+uZ0AiYVGocvRdBu1IgpQ5@[217.235.247.217]) by fmrl01.sul.t-online.com
	with esmtp id 1CodTi-0uHFaK0; Wed, 12 Jan 2005 09:03:42 +0100
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: WordNet code updated, now with query expansion -- Re: SYNONYM + GOOGLE
Date: Wed, 12 Jan 2005 09:03:52 +0100
User-Agent: KMail/1.7.1
References: <OBELINLGKPEMCIEIJJNKKEKOCAAA.karthik@controlnet.co.in> <90D5BCD2-636C-11D9-892F-000393A564E6@ehatchersolutions.com> <41E473B8.2030704@tropo.com>
In-Reply-To: <41E473B8.2030704@tropo.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200501120903.52487@danielnaber.de>
X-ID: XNqyOUZOYexNFK7P3v6c1dslaNr0xUdN+uZ0AiYVGocvRdBu1IgpQ5@t-dialin.net
X-TOI-MSGID: e578e100-3cba-450e-9890-ae6f3c6d4c72
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday 12 January 2005 01:47, David Spencer wrote:

> Amusingly then, documents with the terms "liberal wienerwurst" match
> "big dog"! :)

There's something like frequency information in WordNet, it could probably 
be used to ignore the uncommon meanings.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12420-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 12 09:13:47 2005
Return-Path: <lucene-user-return-12420-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90315 invoked from network); 12 Jan 2005 09:13:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jan 2005 09:13:46 -0000
Received: (qmail 1860 invoked by uid 500); 12 Jan 2005 09:13:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1028 invoked by uid 500); 12 Jan 2005 09:13:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1013 invoked by uid 99); 12 Jan 2005 09:13:43 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30506.mail.mud.yahoo.com (HELO web30506.mail.mud.yahoo.com) (68.142.200.119)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 12 Jan 2005 01:13:42 -0800
Received: (qmail 88679 invoked by uid 60001); 12 Jan 2005 09:13:40 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=m/qSsBD1It+EWx+jVSx7ANZ0l+RzKitc8Rc0FFUFi8qACGd7Q9K58L//sBPtaWFHfGl6hjFsRRTFjBFuDgqCxEwPPgGZ42EhN3o0dOxvUXb9fQBAXUfsy+A97Y4SwqG3SVCO4YA0NIpYlKlzn1ZRY1wXruO3mNW61k/D59jiWNY=  ;
Message-ID: <20050112091340.88677.qmail@web30506.mail.mud.yahoo.com>
Received: from [203.145.158.3] by web30506.mail.mud.yahoo.com via HTTP; Wed, 12 Jan 2005 01:13:40 PST
Date: Wed, 12 Jan 2005 01:13:40 -0800 (PST)
From: Swati Singhal <swati_singhal@yahoo.com>
Subject: Searching a document for a keyword
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I'm new to Lucene and also this forum.

I have a txt file, which contains the path to jpg
files. These jpg files are organized into folders. 
My search is limited to searching only this txt file.

So when i search based on a folder name, a match is
found in the txt file, but i want it to return me the
entire line as a search result and not the document
name. (which is the txt file)

How can I do that using Lucene?
I have already built the index by giving the txt file
as an input to build the index.

If this is not possible, please tell me a way to parse
jpg files to form an index file.

Thanks,
Swati

=====



		
__________________________________ 
Do you Yahoo!? 
Yahoo! Mail - Helps protect you from nasty viruses. 
http://promotions.yahoo.com/new_mail

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12421-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 12 09:52:26 2005
Return-Path: <lucene-user-return-12421-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11742 invoked from network); 12 Jan 2005 09:52:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jan 2005 09:52:26 -0000
Received: (qmail 83182 invoked by uid 500); 12 Jan 2005 09:52:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83163 invoked by uid 500); 12 Jan 2005 09:52:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83149 invoked by uid 99); 12 Jan 2005 09:52:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 12 Jan 2005 01:52:19 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 9A9A313E28F9; Wed, 12 Jan 2005 04:52:17 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id C695313E20EA
	for <lucene-user@jakarta.apache.org>; Wed, 12 Jan 2005 04:52:04 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <20050112091340.88677.qmail@web30506.mail.mud.yahoo.com>
References: <20050112091340.88677.qmail@web30506.mail.mud.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <97960D8A-647F-11D9-B687-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Searching a document for a keyword
Date: Wed, 12 Jan 2005 04:51:55 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.6 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 12, 2005, at 4:13 AM, Swati Singhal wrote:
> I have a txt file, which contains the path to jpg
> files. These jpg files are organized into folders.
> My search is limited to searching only this txt file.
>
> So when i search based on a folder name, a match is
> found in the txt file, but i want it to return me the
> entire line as a search result and not the document
> name. (which is the txt file)
>
> How can I do that using Lucene?
> I have already built the index by giving the txt file
> as an input to build the index.
>
> If this is not possible, please tell me a way to parse
> jpg files to form an index file.

First let me re-phrase what I think you want.  You want to be able to 
search on a folder name and retrieve back JPG filenames that are in 
that folder.  Correct?

You're using the text file as simply a way to get text into Lucene?  
Does this text file have any other relevance here?

If you have a folder of JPG images and all you're after is their 
filenames and the results granularity to be a JPG image file name, 
write a simple file system crawler that recurses your directory tree, 
and indexes a single document for each JPG, with a field for 
"filename".  What type of field should the "filename" field be?  That 
depends on how you want to search.  You could make it a 
Field.Keyword(), which would require exact (TermQuery) or PrefixQuery's 
to work.

The Indexer example from Lucene in Action makes a great starting place 
for this crawler - you'd have to adapt it to recognize .jpg extensions 
and adjust it to only index the filename, not the contents (though the 
contents may contain text and be worth indexing also).

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12422-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 12 10:03:03 2005
Return-Path: <lucene-user-return-12422-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18490 invoked from network); 12 Jan 2005 10:03:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jan 2005 10:03:03 -0000
Received: (qmail 6962 invoked by uid 500); 12 Jan 2005 10:02:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6942 invoked by uid 500); 12 Jan 2005 10:02:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6917 invoked by uid 99); 12 Jan 2005 10:02:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from Unknown (HELO goose.milesbarr.com) (81.168.89.246)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 12 Jan 2005 02:02:57 -0800
Received: by goose.milesbarr.com (Postfix, from userid 1000)
	id C84AE209E5A; Wed, 12 Jan 2005 09:59:39 +0000 (GMT)
Subject: Re: Searching a document for a keyword
From: Miles Barr <miles@runtime-collective.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20050112091340.88677.qmail@web30506.mail.mud.yahoo.com>
References: <20050112091340.88677.qmail@web30506.mail.mud.yahoo.com>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Organization: Runtime Collective Ltd.
Date: Wed, 12 Jan 2005 09:59:34 +0000
Message-Id: <1105523974.11158.60.camel@goose.milesbarr.com>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wed, 2005-01-12 at 01:13 -0800, Swati Singhal wrote:
> I have a txt file, which contains the path to jpg
> files. These jpg files are organized into folders. 
> My search is limited to searching only this txt file.
> 
> So when i search based on a folder name, a match is
> found in the txt file, but i want it to return me the
> entire line as a search result and not the document
> name. (which is the txt file)
> 
> How can I do that using Lucene?
> I have already built the index by giving the txt file
> as an input to build the index.
> 
> If this is not possible, please tell me a way to parse
> jpg files to form an index file.

Lucene might be overkill in this situation if you don't need it's more
advanced text searching facilities, i.e. you're only searching for exact
matches for folder names and never need to tokenize the search term.

If you still want to use Lucene the approach I would take would be to
have one Document in Lucene per folder name in the text file. Within
this document you store the list of JPG files, it might not even be
necessary to store them in separate fields from the sounds of your
requirements.

Start up parsing the text file and each time you find a new folder name
create a new Document. Assuming the entries in the file are of the form:

/folder-name/filename.jpg

It should be fairly straightforward to do using regular expressions.

If the text document is an unnecessary step I would follow the solution
described in Erik's reply.


-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12423-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 12 10:51:33 2005
Return-Path: <lucene-user-return-12423-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45629 invoked from network); 12 Jan 2005 10:51:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jan 2005 10:51:33 -0000
Received: (qmail 87417 invoked by uid 500); 12 Jan 2005 10:51:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87378 invoked by uid 500); 12 Jan 2005 10:51:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87346 invoked by uid 99); 12 Jan 2005 10:51:23 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 12 Jan 2005 02:51:21 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id IA79PS00.ORQ for <lucene-user@jakarta.apache.org>; Wed,
          12 Jan 2005 16:11:52 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: QUERYPARSIN & BOOSTING
Date: Wed, 12 Jan 2005 16:00:22 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKIENACAAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
In-Reply-To: <E3381E0825F1954D953A4E347017BB1C02F49FFF@reh001-1.REX001.ExchangeByRegister.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Guys

Apologies...........

If somebody's is  been closely watching GOOGLE, It boost's WEBSITES for
payed category sites based on search words.

Can This [ boost the Full WEBSITE ] be achieved in Lucene's search  based on
searchword

If So Please Explain /examples  ???.

with regards
karthik



-----Original Message-----
From: Chuck Williams [mailto:chuck@manawiz.com]
Sent: Tuesday, January 11, 2005 2:00 PM
To: Lucene Users List; nsh@bayt.net
Subject: RE: QUERYPARSIN & BOOSTING


Karthik,

I don't think the boost in your example does much since you are using an
AND query, i.e. all hits will have to contain both vendor:nike and
contents:shoes.  If you used an OR, then the boost would put nike
products above (non-nike) shoes, unless there was some other factor that
causes score of contents:shoes to be 10x greater than that of
vendor:nike.  It's a good idea to look at the results of explain() when
analyzing what's happening with scoring, tuning your boosts and your
Similarity.

Chuck

  > -----Original Message-----
  > From: Nader Henein [mailto:nsh@bayt.net]
  > Sent: Tuesday, January 11, 2005 12:21 AM
  > To: Lucene Users List
  > Subject: Re: QUERYPARSIN & BOOSTING
  >
  >  From the text on the Lucene Jakarta Site :
  > http://jakarta.apache.org/lucene/docs/queryparsersyntax.html
  >
  >
  > Lucene provides the relevance level of matching documents based on
the
  > terms found. To boost a term use the caret, "^", symbol with a boost
  > factor (a number) at the end of the term you are searching. The
higher
  > the boost factor, the more relevant the term will be.
  >
  >     Boosting allows you to control the relevance of a document by
  >     boosting its term. For example, if you are searching for
  >
  >
  >
  >
  > jakarta apache
  >
  >
  >
  >
  >     and you want the term "jakarta" to be more relevant boost it
using
  >     the ^ symbol along with the boost factor next to the term. You
would
  >     type:
  >
  >
  >
  >
  > jakarta^4 apache
  >
  >
  >
  >
  >     This will make documents with the term jakarta appear more
relevant.
  >     You can also boost Phrase Terms as in the example:
  >
  >
  >
  >
  > "jakarta apache"^4 "jakarta lucene"
  >
  >
  >
  >
  >     By default, the boost factor is 1. Although the boost factor
must be
  >     positive, it can be less than 1 (e.g. 0.2)
  >
  >
  > Regards.
  >
  > Nader Henein
  >
  >
  > Karthik N S wrote:
  >
  > >Hi Guys
  > >
  > >
  > >
  > >Apologies...........
  > >
  > >This Question may be asked million times on this form ,need some
  > >clarifications.
  > >
  > >1) FieldType =  keyword      name =  vendor
  > >
  > >2)FieldType =  text              name = contents
  > >
  > >Question:
  > >
  > >1) How to Construct a Query which would allow hits  avaliable for
the
  > VENDOR
  > >to  appear  first ?.
  > >
  > >2) If boosting is to be applied How TO   ?.
  > >
  > >3) Is the Query Constructed Below correct?.
  > >
  > >+Contents:shoes +((vendor:nike)^10)
  > >
  > >
  > >
  > >Please Advise.
  > >Thx in advance.
  > >
  > >
  > >WITH WARM REGARDS
  > >HAVE A NICE DAY
  > >[ N.S.KARTHIK]
  > >
  > >
  > >
  >
>---------------------------------------------------------------------
  > >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > >For additional commands, e-mail:
lucene-user-help@jakarta.apache.org
  > >
  > >
  > >
  > >
  > >
  > >
  >
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12424-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 12 13:21:48 2005
Return-Path: <lucene-user-return-12424-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21206 invoked from network); 12 Jan 2005 13:21:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jan 2005 13:21:48 -0000
Received: (qmail 65968 invoked by uid 500); 12 Jan 2005 13:21:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65938 invoked by uid 500); 12 Jan 2005 13:21:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65919 invoked by uid 99); 12 Jan 2005 13:21:43 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork10.mail.Virginia.EDU (HELO fork10.mail.virginia.edu) (128.143.2.180)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 12 Jan 2005 05:21:42 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork10.mail.virginia.edu (Postfix) with ESMTP id 2A6321F51EA
	for <lucene-user@jakarta.apache.org>; Wed, 12 Jan 2005 08:21:40 -0500 (EST)
Received: from fork10.mail.virginia.edu ([127.0.0.1])
 by localhost (fork10.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 08937-10 for <lucene-user@jakarta.apache.org>;
 Wed, 12 Jan 2005 08:21:40 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork10.mail.virginia.edu (Postfix) with ESMTP id EA0BB1F51E4
	for <lucene-user@jakarta.apache.org>; Wed, 12 Jan 2005 08:21:39 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <OBELINLGKPEMCIEIJJNKIENACAAA.karthik@controlnet.co.in>
References: <OBELINLGKPEMCIEIJJNKIENACAAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <FEFEB762-649C-11D9-9528-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: QUERYPARSIN & BOOSTING
Date: Wed, 12 Jan 2005 08:22:23 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork10.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 12, 2005, at 5:30 AM, Karthik N S wrote:
> If somebody's is  been closely watching GOOGLE, It boost's WEBSITES for
> payed category sites based on search words.

Do you have an example of this?  My understanding is Google *separates* 
the display of sponsored sites and ad links (like the one a friend of 
mine registered for me on my name).  Separating is different than 
boosting.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12425-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 12 14:45:49 2005
Return-Path: <lucene-user-return-12425-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78038 invoked from network); 12 Jan 2005 14:45:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jan 2005 14:45:49 -0000
Received: (qmail 35673 invoked by uid 500); 12 Jan 2005 14:45:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35656 invoked by uid 500); 12 Jan 2005 14:45:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35630 invoked by uid 99); 12 Jan 2005 14:45:42 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO,MANY_EXCLAMATIONS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 209-254-108-74.ip.mcleodusa.net (HELO enigmastation.com) (209.254.108.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 12 Jan 2005 06:45:40 -0800
Received: from localhost (joeo@localhost)
	by enigmastation.com (8.11.6/8.11.6) with ESMTP id j0CEgIJ12666
	for <lucene-user@jakarta.apache.org>; Wed, 12 Jan 2005 09:42:18 -0500
Date: Wed, 12 Jan 2005 09:42:18 -0500 (EST)
From: Joseph Ottinger <joeo@enigmastation.com>
To: "Lucene User's List" <lucene-user@jakarta.apache.org>
Subject: HELP! Directory is NOT getting closed!
Message-ID: <Pine.LNX.4.33.0501120938370.2880-100000@enigmastation.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

*sigh* Yet again, I apologize. I'm generating altogether too much traffic
here lately!

I'm stuck. I have a custom Directory, and I *need* a callback point so I
can clean up. There's a method for this: Directory.close(), which I've
overridden.

It never gets called!

According to IndexWriter.java, line 246 (in 1.4.3's codebase), if closeDir
is set, it's supposed to close the directory. That's fine - but that leads
me to believe that for some reason, closeDir is *not* set.

Why? Under what circumstances would this not be true, and under what
circumstances would you NOT want to close the Directory?

This is absolutely slaughtering my attempt at a Directory, because I need
a single unit-of-work, and I need a place to commit it, when it's done. If
I commit it inside the directory's innards, then the UOW gets corrupted
(and looks like it's more than one atomic action, which is EXACTLY what I
don't need.)

-----------------------------------------------------------------------
Joseph B. Ottinger                             http://enigmastation.com
IT Consultant                                    joeo@enigmastation.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12426-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 12 15:09:43 2005
Return-Path: <lucene-user-return-12426-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91789 invoked from network); 12 Jan 2005 15:09:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jan 2005 15:09:43 -0000
Received: (qmail 2286 invoked by uid 500); 12 Jan 2005 15:09:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2209 invoked by uid 500); 12 Jan 2005 15:09:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2188 invoked by uid 99); 12 Jan 2005 15:09:37 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=MANY_EXCLAMATIONS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 12 Jan 2005 07:09:36 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id 56EC023BE9
	for <lucene-user@jakarta.apache.org>; Wed, 12 Jan 2005 16:11:14 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 24327-04 for <lucene-user@jakarta.apache.org>;
 Wed, 12 Jan 2005 16:11:14 +0100 (CET)
Received: from tucholsky.office.tanto.de (tucholsky.office.tanto.de [10.0.0.35])
	by mail.tanto.de (Postfix) with ESMTP id 3A0DE23BE7
	for <lucene-user@jakarta.apache.org>; Wed, 12 Jan 2005 16:11:14 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) with ESMTP id j0CF9X72029517
	for <lucene-user@jakarta.apache.org>; Wed, 12 Jan 2005 16:09:33 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) id j0CF9X70029513;
	Wed, 12 Jan 2005 16:09:33 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16869.15789.568436.550653@tanto-xipolis.de>
Date: Wed, 12 Jan 2005 16:09:33 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: HELP! Directory is NOT getting closed!
In-Reply-To: <Pine.LNX.4.33.0501120938370.2880-100000@enigmastation.com>
References: <Pine.LNX.4.33.0501120938370.2880-100000@enigmastation.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Joseph Ottinger writes:
> 
> According to IndexWriter.java, line 246 (in 1.4.3's codebase), if closeDir
> is set, it's supposed to close the directory. That's fine - but that leads
> me to believe that for some reason, closeDir is *not* set.
> 
> Why? Under what circumstances would this not be true, and under what
> circumstances would you NOT want to close the Directory?
> 
>From the sources, you can see, that is is true only, if the directory
is created by the IndexWriter itself. If you provide a directory to
the IndexWriter you have to close it yourself.

HTH
	Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12427-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 12 15:11:40 2005
Return-Path: <lucene-user-return-12427-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92630 invoked from network); 12 Jan 2005 15:11:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jan 2005 15:11:40 -0000
Received: (qmail 10280 invoked by uid 500); 12 Jan 2005 15:11:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10257 invoked by uid 500); 12 Jan 2005 15:11:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10243 invoked by uid 99); 12 Jan 2005 15:11:33 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO,MANY_EXCLAMATIONS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 209-254-108-74.ip.mcleodusa.net (HELO enigmastation.com) (209.254.108.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 12 Jan 2005 07:11:32 -0800
Received: from localhost (joeo@localhost)
	by enigmastation.com (8.11.6/8.11.6) with ESMTP id j0CF8A213083
	for <lucene-user@jakarta.apache.org>; Wed, 12 Jan 2005 10:08:10 -0500
Date: Wed, 12 Jan 2005 10:08:10 -0500 (EST)
From: Joseph Ottinger <joeo@enigmastation.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: HELP! Directory is NOT getting closed!
In-Reply-To: <16869.15789.568436.550653@tanto-xipolis.de>
Message-ID: <Pine.LNX.4.33.0501121007310.12974-100000@enigmastation.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wed, 12 Jan 2005, Morus Walter wrote:

> Joseph Ottinger writes:
> >
> > According to IndexWriter.java, line 246 (in 1.4.3's codebase), if closeDir
> > is set, it's supposed to close the directory. That's fine - but that leads
> > me to believe that for some reason, closeDir is *not* set.
> >
> > Why? Under what circumstances would this not be true, and under what
> > circumstances would you NOT want to close the Directory?
> >
> >From the sources, you can see, that is is true only, if the directory
> is created by the IndexWriter itself. If you provide a directory to
> the IndexWriter you have to close it yourself.
>

ARGH! (I've been saying that a lot lately!)

Okay, I was looking at the sources but missed that. Thank you very much.
*sigh*

-----------------------------------------------------------------------
Joseph B. Ottinger                             http://enigmastation.com
IT Consultant                                    joeo@enigmastation.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12428-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 12 16:34:11 2005
Return-Path: <lucene-user-return-12428-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41626 invoked from network); 12 Jan 2005 16:34:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jan 2005 16:34:10 -0000
Received: (qmail 19208 invoked by uid 500); 12 Jan 2005 16:34:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19188 invoked by uid 500); 12 Jan 2005 16:34:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19175 invoked by uid 99); 12 Jan 2005 16:34:03 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail2.mindbridge.com) (206.135.58.98)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 12 Jan 2005 08:34:03 -0800
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail2.mindbridge.com (Postfix) with ESMTP id 0607C1C596
	for <lucene-user@jakarta.apache.org>; Wed, 12 Jan 2005 11:52:25 -0500 (EST)
Received: from mail2.mindbridge.com ([127.0.0.1])
 by localhost (nym [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 15446-05 for <lucene-user@jakarta.apache.org>;
 Wed, 12 Jan 2005 11:52:23 -0500 (EST)
Received: from suse92.mindbridge.com (unknown [192.168.45.109])
	by mail2.mindbridge.com (Postfix) with ESMTP id 5000B1C2CE
	for <lucene-user@jakarta.apache.org>; Wed, 12 Jan 2005 11:52:23 -0500 (EST)
From: asteigerwalt@mindbridge.com
To: lucene-user@jakarta.apache.org
Subject: Performance hits using MultiSearcher?
Date: Wed, 12 Jan 2005 11:36:09 -0500
User-Agent: KMail/1.7.1
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200501121136.09330.asteigerwalt@mindbridge.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am pretty new to Lucene.

In my situation, there will be one, most likely, fairly large index, and over 
time a trickle of smaller indexes being created that could eventually number 
into the hundreds. Does using MultiSearcher to search against all these 
separate indexes impose a performance hit as compared to merging the smaller 
indexes into the original larger one? How long could a typical index merge 
take, just arbitrarily?

Thanks,
Ashley

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12429-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 12 17:11:54 2005
Return-Path: <lucene-user-return-12429-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5250 invoked from network); 12 Jan 2005 17:11:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Jan 2005 17:11:54 -0000
Received: (qmail 79998 invoked by uid 500); 12 Jan 2005 17:11:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79966 invoked by uid 500); 12 Jan 2005 17:11:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79949 invoked by uid 99); 12 Jan 2005 17:11:49 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_HELO_SOFTFAIL,SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 12 Jan 2005 09:11:47 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: QUERYPARSIN & BOOSTING
Date: Wed, 12 Jan 2005 09:11:43 -0800
Message-ID: <E3381E0825F1954D953A4E347017BB1C03032EDF@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: QUERYPARSIN & BOOSTING
Thread-Index: AcT4lKtOYvtX+tabTRSFuC23ErWgMwAM9M+Q
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Google has natural results on the left and sponsored results on the
right.  I do not believe the natural results are affected by paid
keywords at all.  What you seem to be describing is the behavior of the
sponsored results, which I believe are explicitly attached to certain
keywords.

The same approach would work in Lucene.  Create a field to hold
"purchased" keywords (any keywords you want to associate with the
result).  Then you can include this field in your search with a high
boost (see DistributingMultiFieldQueryParser,
http://issues.apache.org/bugzilla/show_bug.cgi?id=3D32674).

Google prefers certain results over others for certain keywords based on
various factors of the keyword purchase and the site (amount paid for
the keyword, Page Rank of the site, tenure of the listing, popularity of
the listing, etc.).  You could emulate this in various ways, using a
combination of document/field boosting and perhaps replication of the
term in the field (to increase its tf), or even perhaps multiple fields
that are boosted at different levels.  I'm not sure of the best approach
to this part -- you could experiment a little.

Chuck

  > -----Original Message-----
  > From: Karthik N S [mailto:karthik@controlnet.co.in]
  > Sent: Wednesday, January 12, 2005 2:30 AM
  > To: Lucene Users List
  > Subject: RE: QUERYPARSIN & BOOSTING
  >=20
  > Hi Guys
  >=20
  > Apologies...........
  >=20
  > If somebody's is  been closely watching GOOGLE, It boost's WEBSITES
for
  > payed category sites based on search words.
  >=20
  > Can This [ boost the Full WEBSITE ] be achieved in Lucene's search
  > based on
  > searchword
  >=20
  > If So Please Explain /examples  ???.
  >=20
  > with regards
  > karthik
  >=20
  >=20
  >=20
  > -----Original Message-----
  > From: Chuck Williams [mailto:chuck@manawiz.com]
  > Sent: Tuesday, January 11, 2005 2:00 PM
  > To: Lucene Users List; nsh@bayt.net
  > Subject: RE: QUERYPARSIN & BOOSTING
  >=20
  >=20
  > Karthik,
  >=20
  > I don't think the boost in your example does much since you are
using an
  > AND query, i.e. all hits will have to contain both vendor:nike and
  > contents:shoes.  If you used an OR, then the boost would put nike
  > products above (non-nike) shoes, unless there was some other factor
that
  > causes score of contents:shoes to be 10x greater than that of
  > vendor:nike.  It's a good idea to look at the results of explain()
when
  > analyzing what's happening with scoring, tuning your boosts and your
  > Similarity.
  >=20
  > Chuck
  >=20
  >   > -----Original Message-----
  >   > From: Nader Henein [mailto:nsh@bayt.net]
  >   > Sent: Tuesday, January 11, 2005 12:21 AM
  >   > To: Lucene Users List
  >   > Subject: Re: QUERYPARSIN & BOOSTING
  >   >
  >   >  From the text on the Lucene Jakarta Site :
  >   > http://jakarta.apache.org/lucene/docs/queryparsersyntax.html
  >   >
  >   >
  >   > Lucene provides the relevance level of matching documents based
on
  > the
  >   > terms found. To boost a term use the caret, "^", symbol with a
boost
  >   > factor (a number) at the end of the term you are searching. The
  > higher
  >   > the boost factor, the more relevant the term will be.
  >   >
  >   >     Boosting allows you to control the relevance of a document
by
  >   >     boosting its term. For example, if you are searching for
  >   >
  >   >
  >   >
  >   >
  >   > jakarta apache
  >   >
  >   >
  >   >
  >   >
  >   >     and you want the term "jakarta" to be more relevant boost it
  > using
  >   >     the ^ symbol along with the boost factor next to the term.
You
  > would
  >   >     type:
  >   >
  >   >
  >   >
  >   >
  >   > jakarta^4 apache
  >   >
  >   >
  >   >
  >   >
  >   >     This will make documents with the term jakarta appear more
  > relevant.
  >   >     You can also boost Phrase Terms as in the example:
  >   >
  >   >
  >   >
  >   >
  >   > "jakarta apache"^4 "jakarta lucene"
  >   >
  >   >
  >   >
  >   >
  >   >     By default, the boost factor is 1. Although the boost factor
  > must be
  >   >     positive, it can be less than 1 (e.g. 0.2)
  >   >
  >   >
  >   > Regards.
  >   >
  >   > Nader Henein
  >   >
  >   >
  >   > Karthik N S wrote:
  >   >
  >   > >Hi Guys
  >   > >
  >   > >
  >   > >
  >   > >Apologies...........
  >   > >
  >   > >This Question may be asked million times on this form ,need
some
  >   > >clarifications.
  >   > >
  >   > >1) FieldType =3D  keyword      name =3D  vendor
  >   > >
  >   > >2)FieldType =3D  text              name =3D contents
  >   > >
  >   > >Question:
  >   > >
  >   > >1) How to Construct a Query which would allow hits  avaliable
for
  > the
  >   > VENDOR
  >   > >to  appear  first ?.
  >   > >
  >   > >2) If boosting is to be applied How TO   ?.
  >   > >
  >   > >3) Is the Query Constructed Below correct?.
  >   > >
  >   > >+Contents:shoes +((vendor:nike)^10)
  >   > >
  >   > >
  >   > >
  >   > >Please Advise.
  >   > >Thx in advance.
  >   > >
  >   > >
  >   > >WITH WARM REGARDS
  >   > >HAVE A NICE DAY
  >   > >[ N.S.KARTHIK]
  >   > >
  >   > >
  >   > >
  >   >
  >
>---------------------------------------------------------------------
  >   > >To unsubscribe, e-mail:
lucene-user-unsubscribe@jakarta.apache.org
  >   > >For additional commands, e-mail:
  > lucene-user-help@jakarta.apache.org
  >   > >
  >   > >
  >   > >
  >   > >
  >   > >
  >   > >
  >   >
  >   >
  >
---------------------------------------------------------------------
  >   > To unsubscribe, e-mail:
lucene-user-unsubscribe@jakarta.apache.org
  >   > For additional commands, e-mail:
lucene-user-help@jakarta.apache.org
  >=20
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
  >=20
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12430-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 13 10:04:36 2005
Return-Path: <lucene-user-return-12430-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17171 invoked from network); 13 Jan 2005 10:04:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jan 2005 10:04:36 -0000
Received: (qmail 27157 invoked by uid 500); 13 Jan 2005 10:04:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27133 invoked by uid 500); 13 Jan 2005 10:04:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27119 invoked by uid 99); 13 Jan 2005 10:04:30 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host.122.111.23.62.rev.coltfrance.com (HELO cer31mx-gw.cirso.fr) (62.23.111.122)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 13 Jan 2005 02:04:29 -0800
Received: from cer31mx-gw.cirso.fr 
        by cer31mx-gw.cirso.fr  with ESMTP id j0DA7L226672
        for <lucene-user@jakarta.apache.org>; Thu, 13 Jan 2005 11:07:21 +0100
Received: from contact31.urssaf.fr 
        by cer31mx-gw.cirso.fr  with ESMTP id j0DA7LL26652
        for <lucene-user@jakarta.apache.org>; Thu, 13 Jan 2005 11:07:21 +0100
Subject: IndexSearcher and number of occurence
X-Mailer: Lotus Notes Release 5.0.3 (Intl) 21 March 2000
Message-ID: <OF6DFA4DE8.12A5098F-ONC1256F88.00368EA5@urssaf.fr>
From: "Bertrand VENZAL" <bertrand.venzal@cirso.fr>
Date: Thu, 13 Jan 2005 11:03:33 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: quoted-printable
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



Hi all,

Im quite new in this mailing list. I ve many difficulties to find the
number of a word (occurence) in a document, I need to use indexSearcher=

because of the query but the score returning is not wot i m looking for=
.
I found in the mailing List the class TermDoc but it seems to work only=

with indexReader.

If anyone can give a hand of this one, I will appreciate ...

Tch=F5
Bertrand
=



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12431-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 13 10:28:40 2005
Return-Path: <lucene-user-return-12431-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29637 invoked from network); 13 Jan 2005 10:28:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jan 2005 10:28:39 -0000
Received: (qmail 74529 invoked by uid 500); 13 Jan 2005 10:28:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74473 invoked by uid 500); 13 Jan 2005 10:28:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74411 invoked by uid 99); 13 Jan 2005 10:28:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 13 Jan 2005 02:28:27 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 0571013E28FB; Thu, 13 Jan 2005 05:28:24 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 8010C13E28FA
	for <lucene-user@jakarta.apache.org>; Thu, 13 Jan 2005 05:28:13 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <OF6DFA4DE8.12A5098F-ONC1256F88.00368EA5@urssaf.fr>
References: <OF6DFA4DE8.12A5098F-ONC1256F88.00368EA5@urssaf.fr>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <D3F4264C-654D-11D9-B976-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: IndexSearcher and number of occurence
Date: Thu, 13 Jan 2005 05:28:12 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.6 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 13, 2005, at 5:03 AM, Bertrand VENZAL wrote:

>
>
> Hi all,
>
> Im quite new in this mailing list. I ve many difficulties to find the
> number of a word (occurence) in a document, I need to use indexSearcher
> because of the query but the score returning is not wot i m looking 
> for.
> I found in the mailing List the class TermDoc but it seems to work only
> with indexReader.
>
> If anyone can give a hand of this one, I will appreciate ...

Perhaps this technique is what you're looking for.... set the field(s) 
you're interested in capturing frequency on to be vectored.  You'll see 
that flag as additional overloaded methods on the Field.  You'll still 
need to use an IndexReader, but that is no problem.  Construct an 
IndexReader and use it to construct the IndexSearcher that you'll also 
use.  Here's some snippets of code:

	// During indexing, "subject" field was added like this:
     doc.add(Field.UnStored("subject", subject, true));

... // now during searching...

     IndexReader reader = IndexReader.open(directory);

     ...
     // from your Hits, get the document id
     int id = hits.doc(i);

     TermFreqVector vector =
         reader.getTermFreqVector(id, "subject");

Now read up on the TermFreqVector API to get at the frequency of a 
specific term.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12432-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 13 10:35:33 2005
Return-Path: <lucene-user-return-12432-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33086 invoked from network); 13 Jan 2005 10:35:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jan 2005 10:35:32 -0000
Received: (qmail 88601 invoked by uid 500); 13 Jan 2005 10:35:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88580 invoked by uid 500); 13 Jan 2005 10:35:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88563 invoked by uid 99); 13 Jan 2005 10:35:24 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 13 Jan 2005 02:35:22 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id 037ED23C07
	for <lucene-user@jakarta.apache.org>; Thu, 13 Jan 2005 11:37:02 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 18232-06 for <lucene-user@jakarta.apache.org>;
 Thu, 13 Jan 2005 11:37:01 +0100 (CET)
Received: from tucholsky.office.tanto.de (tucholsky.office.tanto.de [10.0.0.35])
	by mail.tanto.de (Postfix) with ESMTP id D6E0F23C06
	for <lucene-user@jakarta.apache.org>; Thu, 13 Jan 2005 11:37:01 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) with ESMTP id j0DAZJ72003987
	for <lucene-user@jakarta.apache.org>; Thu, 13 Jan 2005 11:35:19 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) id j0DAZJaZ003976;
	Thu, 13 Jan 2005 11:35:19 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16870.20199.459380.248442@tanto-xipolis.de>
Date: Thu, 13 Jan 2005 11:35:19 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: IndexSearcher and number of occurence
In-Reply-To: <OF6DFA4DE8.12A5098F-ONC1256F88.00368EA5@urssaf.fr>
References: <OF6DFA4DE8.12A5098F-ONC1256F88.00368EA5@urssaf.fr>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Bertrand VENZAL writes:
> 
> Im quite new in this mailing list. I ve many difficulties to find the
> number of a word (occurence) in a document, I need to use indexSearcher
> because of the query but the score returning is not wot i m looking for.
> I found in the mailing List the class TermDoc but it seems to work only
> with indexReader.
> 
The use of a searcher does not prevent the use of a reader (in fact
the searcher relys on a reader).
So I'd use the searcher to find the document and a reader to get the
frequency using IndexReader.termDocs.
Depending on how many frequencies your interested in, the term vector
support might be of interest.

HTH
	Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12433-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 13 11:37:06 2005
Return-Path: <lucene-user-return-12433-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64381 invoked from network); 13 Jan 2005 11:37:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jan 2005 11:37:06 -0000
Received: (qmail 12319 invoked by uid 500); 13 Jan 2005 11:37:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12293 invoked by uid 500); 13 Jan 2005 11:36:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12278 invoked by uid 99); 13 Jan 2005 11:36:59 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.fib.upc.es (HELO mail.fib.upc.es) (147.83.41.105)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 13 Jan 2005 03:36:59 -0800
Received: from fib.upc.edu (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id E0B48C9A14
	for <lucene-user@jakarta.apache.org>; Thu, 13 Jan 2005 12:36:49 +0100 (CET)
Message-ID: <41E65D51.8040203@fib.upc.edu>
Date: Thu, 13 Jan 2005 12:36:49 +0100
From: Daniel Cortes <dcortes@fib.upc.edu>
Organization: FIB
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.0.2) Gecko/20021120 Netscape/7.01
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: MySql and Lucene
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I what to know your opinion about this:

I've a new portal, and Lucene is the serach engine. This portal is an 
integration of a lot of opensource software.
phpBB(MySql) is our election for the forum, and I have to do that 
searches with the search engine include search in the forum.
I think that I have 2 options:
-Every new post in the forum, it was been  indexed in the Mysql and 
Lucene Index ( storing fields that I want to show in the results for 
exemaple author, title date,...)
It means that I've almost a total copy of the MySQL in my Lucene Index.
- Or  Do the search with lucene and after do a SQL query in the 
servlett, but how I show the results.I can't show first the Lucene's 
results and after the phorum's results.
Any Idea?
thks



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12434-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 13 11:48:28 2005
Return-Path: <lucene-user-return-12434-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69325 invoked from network); 13 Jan 2005 11:48:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jan 2005 11:48:28 -0000
Received: (qmail 23938 invoked by uid 500); 13 Jan 2005 11:48:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23896 invoked by uid 500); 13 Jan 2005 11:48:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23691 invoked by uid 99); 13 Jan 2005 11:48:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from Unknown (HELO goose.milesbarr.com) (81.168.89.246)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 13 Jan 2005 03:48:07 -0800
Received: by goose.milesbarr.com (Postfix, from userid 1000)
	id 0D61327A4D5; Thu, 13 Jan 2005 11:41:58 +0000 (GMT)
Subject: Re: MySql and Lucene
From: Miles Barr <miles@runtime-collective.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41E65D51.8040203@fib.upc.edu>
References: <41E65D51.8040203@fib.upc.edu>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Organization: Runtime Collective Ltd.
Date: Thu, 13 Jan 2005 11:41:58 +0000
Message-Id: <1105616518.20153.3.camel@goose.milesbarr.com>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thu, 2005-01-13 at 12:36 +0100, Daniel Cortes wrote:
> I what to know your opinion about this:
> 
> I've a new portal, and Lucene is the serach engine. This portal is an 
> integration of a lot of opensource software.
> phpBB(MySql) is our election for the forum, and I have to do that 
> searches with the search engine include search in the forum.
> I think that I have 2 options:
> -Every new post in the forum, it was been  indexed in the Mysql and 
> Lucene Index ( storing fields that I want to show in the results for 
> exemaple author, title date,...)
> It means that I've almost a total copy of the MySQL in my Lucene Index.
> - Or  Do the search with lucene and after do a SQL query in the 
> servlett, but how I show the results.I can't show first the Lucene's 
> results and after the phorum's results.
> Any Idea?
> thks

If space wasn't an issue I would just duplicate the data in Lucene
because that makes things easiest. 

If space is a concern you could store the post's primary key in Lucene
as the only stored field. Then do a search on Lucene, get the list of
matching posts and pull out the rest of the information from MySQL.

-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12435-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 13 15:18:21 2005
Return-Path: <lucene-user-return-12435-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99669 invoked from network); 13 Jan 2005 15:18:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jan 2005 15:18:21 -0000
Received: (qmail 55950 invoked by uid 500); 13 Jan 2005 15:18:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55925 invoked by uid 500); 13 Jan 2005 15:18:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55912 invoked by uid 99); 13 Jan 2005 15:18:14 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host.122.111.23.62.rev.coltfrance.com (HELO cer31mx-gw.cirso.fr) (62.23.111.122)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 13 Jan 2005 07:18:13 -0800
Received: from cer31mx-gw.cirso.fr 
        by cer31mx-gw.cirso.fr  with ESMTP id j0DFL7210906
        for <lucene-user@jakarta.apache.org>; Thu, 13 Jan 2005 16:21:07 +0100
Received: from contact31.urssaf.fr 
        by cer31mx-gw.cirso.fr  with ESMTP id j0DFL7L10900
        for <lucene-user@jakarta.apache.org>; Thu, 13 Jan 2005 16:21:07 +0100
Subject: =?iso-8859-1?Q?R=E9f=2E_=3A_Re=3A_IndexSearcher_and_number_of_occurence?=
X-Mailer: Lotus Notes Release 5.0.3 (Intl) 21 March 2000
Message-ID: <OF268F8AF7.A886717A-ONC1256F88.00526CDE@urssaf.fr>
From: "Bertrand VENZAL" <bertrand.venzal@cirso.fr>
Date: Thu, 13 Jan 2005 16:17:24 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: quoted-printable
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N




Hi,

Thanks for your quick answer, I understood wot u meant by using the
indexSearcher to get the termFreqVector. But, you use an int as an id t=
o
find the termFrequency so I suppose that it is the position number in t=
he
IndexReader vector.
My problem is : during the indexing phase, I can store the id, but if a=

document is deleted and recreated later on (like in an update), this wi=
ll
change my vector and all the id's previously set will be no more correc=
t.
Am i right on this point ? or am i missing something ...

thanks ...
|------------------------+------------------------+--------------------=
----|
|                        |   Erik Hatcher         |                    =
    |
|                        |   <erik@ehatchersolutio|                    =
    |
|                        |   ns.com>              |      Pour :        =
    |
|                        |   Envoy=E9 par :         |                  =
 "Luce|
|                        |   lucene-user-return-12|                   n=
e   |
|                        |   431-bertrand.venzal=3Dc|                  =
 Users|
|                        |   irso.fr@jakarta.apach|                   L=
ist"|
|                        |   e.org                |                   <=
luce|
|                        |                        |                   n=
e-us|
|                        |   13/01/2005 11:28     |                   e=
r@ja|
|                        |   Veuillez r=E9pondre =E0  |                =
   karta|
|                        |   "Lucene Users List"  |                   .=
apac|
|                        |                        |                   h=
e.or|
|                        |                        |                   g=
>   |
|                        |                        |                    =
    |
|                        |                        |                    =
    |
|                        |                        |      cc :          =
    |
|                        |                        |                    =
    |
|                        |                        |                    =
    |
|                        |                        |                    =
    |
|                        |                        |                    =
    |
|                        |                        |                    =
    |
|                        |                        |      Objet :       =
    |
|                        |                        |                   R=
e:  |
|                        |                        |                   I=
ndex|
|                        |                        |                   S=
earc|
|                        |                        |                   h=
er  |
|                        |                        |                   a=
nd  |
|                        |                        |                   n=
umbe|
|                        |                        |                   r=
 of |
|                        |                        |                   o=
ccur|
|                        |                        |                   e=
nce |
|                        |                        |                    =
    |
|                        |                        |                    =
    |
|------------------------+------------------------+--------------------=
----|










On Jan 13, 2005, at 5:03 AM, Bertrand VENZAL wrote:

>
>
> Hi all,
>
> Im quite new in this mailing list. I ve many difficulties to find the=

> number of a word (occurence) in a document, I need to use indexSearch=
er
> because of the query but the score returning is not wot i m looking
> for.
> I found in the mailing List the class TermDoc but it seems to work on=
ly
> with indexReader.
>
> If anyone can give a hand of this one, I will appreciate ...

Perhaps this technique is what you're looking for.... set the field(s)
you're interested in capturing frequency on to be vectored. =A0You'll s=
ee
that flag as additional overloaded methods on the Field. =A0You'll stil=
l
need to use an IndexReader, but that is no problem. =A0Construct an
IndexReader and use it to construct the IndexSearcher that you'll also
use. =A0Here's some snippets of code:

=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 // During indexing, "subject" field was=
 added like this:
=A0 =A0 doc.add(Field.UnStored("subject", subject, true));

... // now during searching...

=A0 =A0 IndexReader reader =3D IndexReader.open(directory);

=A0 =A0 ...
=A0 =A0 // from your Hits, get the document id
=A0 =A0 int id =3D hits.doc(i);

=A0 =A0 TermFreqVector vector =3D
=A0 =A0 =A0 =A0 reader.getTermFreqVector(id, "subject");

Now read up on the TermFreqVector API to get at the frequency of a
specific term.

=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




=



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12436-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 13 15:36:14 2005
Return-Path: <lucene-user-return-12436-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10000 invoked from network); 13 Jan 2005 15:36:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jan 2005 15:36:14 -0000
Received: (qmail 97654 invoked by uid 500); 13 Jan 2005 15:36:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97579 invoked by uid 500); 13 Jan 2005 15:36:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97566 invoked by uid 99); 13 Jan 2005 15:36:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork9.mail.Virginia.EDU (HELO fork9.mail.virginia.edu) (128.143.2.179)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 13 Jan 2005 07:36:06 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id BE63B1F52F3
	for <lucene-user@jakarta.apache.org>; Thu, 13 Jan 2005 10:36:04 -0500 (EST)
Received: from fork9.mail.virginia.edu ([127.0.0.1])
 by localhost (fork9.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 28980-08 for <lucene-user@jakarta.apache.org>;
 Thu, 13 Jan 2005 10:36:04 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id 7FBA01F523B
	for <lucene-user@jakarta.apache.org>; Thu, 13 Jan 2005 10:36:04 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <OF268F8AF7.A886717A-ONC1256F88.00526CDE@urssaf.fr>
References: <OF268F8AF7.A886717A-ONC1256F88.00526CDE@urssaf.fr>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <F0AE6978-6578-11D9-8193-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: =?ISO-8859-1?Q?Re:_R=E9f._:_Re:_IndexSearcher_and_number_of_occu?=
 =?ISO-8859-1?Q?rence?=
Date: Thu, 13 Jan 2005 10:36:49 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork9.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 13, 2005, at 10:17 AM, Bertrand VENZAL wrote:

>
>
>
> Hi,
>
> Thanks for your quick answer, I understood wot u meant by using the
> indexSearcher to get the termFreqVector. But, you use an int as an id 
> to
> find the termFrequency so I suppose that it is the position number in 
> the
> IndexReader vector.
> My problem is : during the indexing phase, I can store the id, but if a
> document is deleted and recreated later on (like in an update), this 
> will
> change my vector and all the id's previously set will be no more 
> correct.
> Am i right on this point ? or am i missing something ...

Yes, the Document id (the one Lucene uses) is not to be relied on 
long-term.  But, in the example you'd get it from Hits immediately 
after a search, and thus it would be accurate and usable.  You do not 
need to store any the id during indexing - Lucene maintains it and 
gives it to you from Hits.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12437-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 13 15:51:17 2005
Return-Path: <lucene-user-return-12437-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17917 invoked from network); 13 Jan 2005 15:51:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jan 2005 15:51:15 -0000
Received: (qmail 34304 invoked by uid 500); 13 Jan 2005 15:51:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34080 invoked by uid 500); 13 Jan 2005 15:51:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34063 invoked by uid 99); 13 Jan 2005 15:51:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from mailgate.urz.uni-halle.de (HELO mailgate.uni-halle.de) (141.48.3.51)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 13 Jan 2005 07:51:08 -0800
Received: from [141.48.204.134] (helo=MA3)
	 by mailgate.uni-halle.de with smtp  (Exim 4.43)
	 id 1Cp7FY-0004u4-4x for <lucene-user@jakarta.apache.org>
	 ; Thu, 13 Jan 2005 16:51:04 +0100
Message-ID: <003001c4f987$b0769880$0f00a8c0@MA3>
From: "Michael Scholz" <micha@infogeneration.de>
To: "Lucene Users" <lucene-user@jakarta.apache.org>
Subject: calculate score
Date: Thu, 13 Jan 2005 16:51:04 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_002D_01C4F990.1201C810"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Scan-Signature: e359b26de50609e6ee8025fa935e9c34
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_002D_01C4F990.1201C810
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello,

how does lucene calculate the score of a given document? In the class =
DefaultSimilarity are some parts of this formula (e.g. tf,itf), but how =
does these parts working together?

Thanks,
Michael Scholz
------=_NextPart_000_002D_01C4F990.1201C810--


From lucene-user-return-12438-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 13 16:02:24 2005
Return-Path: <lucene-user-return-12438-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24696 invoked from network); 13 Jan 2005 16:02:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jan 2005 16:02:24 -0000
Received: (qmail 61402 invoked by uid 500); 13 Jan 2005 16:02:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60973 invoked by uid 500); 13 Jan 2005 16:02:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60958 invoked by uid 99); 13 Jan 2005 16:02:19 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host.122.111.23.62.rev.coltfrance.com (HELO cer31mx-gw.cirso.fr) (62.23.111.122)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 13 Jan 2005 08:02:19 -0800
Received: from cer31mx-gw.cirso.fr 
        by cer31mx-gw.cirso.fr  with ESMTP id j0DG5E227120
        for <lucene-user@jakarta.apache.org>; Thu, 13 Jan 2005 17:05:14 +0100
Received: from contact31.urssaf.fr 
        by cer31mx-gw.cirso.fr  with ESMTP id j0DG5CL27100
        for <lucene-user@jakarta.apache.org>; Thu, 13 Jan 2005 17:05:12 +0100
Subject: =?iso-8859-1?Q?R=E9f=2E_=3A_Re=3A_R=E9f=2E_=3A_Re=3A_IndexSearcher_and?=
 number of occurence
X-Mailer: Lotus Notes Release 5.0.3 (Intl) 21 March 2000
Message-ID: <OF08F73A19.C55A2430-ONC1256F88.0057B271@urssaf.fr>
From: "Bertrand VENZAL" <bertrand.venzal@cirso.fr>
Date: Thu, 13 Jan 2005 17:01:40 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: quoted-printable
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N




Great, thanks for your help, I understand things quickly but I need lot=
s of
explanation .. ;-)

For who is interested .. I was using :

int id =3D hits.doc(i);
instead of :
int id =3D hits.id(i);

Tch=F5
Bertrand





On Jan 13, 2005, at 10:17 AM, Bertrand VENZAL wrote:

>
>
>
> Hi,
>
> Thanks for your quick answer, I understood wot u meant by using the
> indexSearcher to get the termFreqVector. But, you use an int as an id=

> to
> find the termFrequency so I suppose that it is the position number in=

> the
> IndexReader vector.
> My problem is : during the indexing phase, I can store the id, but if=
 a
> document is deleted and recreated later on (like in an update), this
> will
> change my vector and all the id's previously set will be no more
> correct.
> Am i right on this point ? or am i missing something ...

Yes, the Document id (the one Lucene uses) is not to be relied on
long-term. =A0But, in the example you'd get it from Hits immediately
after a search, and thus it would be accurate and usable. =A0You do not=

need to store any the id during indexing - Lucene maintains it and
gives it to you from Hits.

=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




=



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12439-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 13 18:06:14 2005
Return-Path: <lucene-user-return-12439-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89961 invoked from network); 13 Jan 2005 18:06:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jan 2005 18:06:13 -0000
Received: (qmail 90183 invoked by uid 500); 13 Jan 2005 18:06:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90165 invoked by uid 500); 13 Jan 2005 18:06:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90150 invoked by uid 99); 13 Jan 2005 18:06:07 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx1-ext.sgi.com (HELO omx1.americas.sgi.com) (192.48.179.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 13 Jan 2005 10:06:06 -0800
Received: from hastur.corp.sgi.com (hastur.corp.sgi.com [198.149.32.33])
	by omx1.americas.sgi.com (8.12.10/8.12.9/linux-outbound_gateway-1.1) with ESMTP id j0DI63xT012717
	for <lucene-user@jakarta.apache.org>; Thu, 13 Jan 2005 12:06:03 -0600
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com [169.238.221.130])
	by hastur.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2) with ESMTP id j0DI5xYw90035612
	for <lucene-user@jakarta.apache.org>; Thu, 13 Jan 2005 10:05:59 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id j0DI61ad20682605
	for <lucene-user@jakarta.apache.org>; Thu, 13 Jan 2005 13:06:02 -0500 (EST)
Message-ID: <41E6B880.9050702@sgi.com>
Date: Thu, 13 Jan 2005 13:05:52 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene Users List <lucene-user@jakarta.apache.org>
Subject: Search failed with a "File not found" error
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I was indexing at the time and I was under the impression that was safe, 
but it looks like the indexer may have removed a file that the search 
was trying to access.  Is there something I should be doing to lock the 
index?

Thanks,
Jim.

java.io.FileNotFoundException: /db/lucene/oasis/Clarify_Closed/_2meu.fnm 
(No such file or directory)
        at java.io.RandomAccessFile.open(Native Method)
        at java.io.RandomAccessFile.<init>(RandomAccessFile.java:200)
        at 
org.apache.lucene.store.FSInputStream$Descriptor.<init>(FSDirectory.java:376)
        at 
org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java:405)
        at 
org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java:268)
        at org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java:53)
        at 
org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:109)
        at 
org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:94)
        at 
org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:122)
        at org.apache.lucene.store.Lock$With.run(Lock.java:109)
        at org.apache.lucene.index.IndexReader.open(IndexReader.java:111)
        at org.apache.lucene.index.IndexReader.open(IndexReader.java:95)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12440-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 13 18:13:27 2005
Return-Path: <lucene-user-return-12440-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93379 invoked from network); 13 Jan 2005 18:13:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jan 2005 18:13:26 -0000
Received: (qmail 5350 invoked by uid 500); 13 Jan 2005 18:13:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5329 invoked by uid 500); 13 Jan 2005 18:13:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5315 invoked by uid 99); 13 Jan 2005 18:13:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mspmail2.stellent.com (HELO mspmail2.stellent.com) (12.40.185.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 13 Jan 2005 10:13:19 -0800
Received: from [10.10.20.20] ([10.10.20.20])
	by mspmail2.stellent.com (8.11.6+Sun/8.11.5) with ESMTP id j0DIDC105477
	for <lucene-user@jakarta.apache.org>; Thu, 13 Jan 2005 12:13:12 -0600 (CST)
Subject: Re: Multi-threading problem: couldn't delete segments
From: Luke Francl <luke.francl@stellent.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1105055035.1884.57.camel@localhost>
References: <1105055035.1884.57.camel@localhost>
Content-Type: text/plain
Message-Id: <1105639982.15869.6.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 
Date: Thu, 13 Jan 2005 12:13:04 -0600
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I didn't get any response to this post so I wanted to follow up (you can
read the full description of my problem in the archives:
http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&msgNo=11986).

Here's an additional piece of information: 

I wrote a small program to confirm that on Windows, you can't rename a
file while another thread has it open.

If I am performing a search, is it possible that the IndexReader is
holding open the "segments" file when there is an attempt by my indexing
code to overwrite it with File.renameTo()?

Thanks,
Luke Francl

On Thu, 2005-01-06 at 17:43, Luke Francl wrote:
> We are having a problem with Lucene in a high concurrency
> create/delete/search situation. I thought I fixed all these problems,
> but I guess not.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12441-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 13 18:24:23 2005
Return-Path: <lucene-user-return-12441-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99381 invoked from network); 13 Jan 2005 18:24:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jan 2005 18:24:22 -0000
Received: (qmail 26216 invoked by uid 500); 13 Jan 2005 18:24:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26187 invoked by uid 500); 13 Jan 2005 18:24:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26169 invoked by uid 99); 13 Jan 2005 18:24:17 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from Unknown (HELO zebedee.magus.co.uk) (193.131.98.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 13 Jan 2005 10:24:16 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Multi-threading problem: couldn't delete segments
Date: Thu, 13 Jan 2005 18:25:39 -0000
Message-ID: <D98ADD74A4E07445A943A90A184B51993795E7@zebedee.magus.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Multi-threading problem: couldn't delete segments
Thread-Index: AcT5m+pnGGZ7n4mQQuKja6B4WE0BhQAAGd7A
From: "David Townsend" <david.townsend@magus.co.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The problem could be you're writing to an index with multiple processes. =
This can happen if you're using a shared file system (NFS?).  We saw =
this problem when we had two IndexWriters getting access to a single =
index at the same time.  Usually if you're working on a single machine =
the file locks prevent this from happening.



-----Original Message-----
From: Luke Francl [mailto:luke.francl@stellent.com]
Sent: 13 January 2005 18:13
To: Lucene Users List
Subject: Re: Multi-threading problem: couldn't delete segments


I didn't get any response to this post so I wanted to follow up (you can
read the full description of my problem in the archives:
http://nagoya.apache.org/eyebrowse/ReadMsg?listName=3Dlucene-user@jakarta=
.apache.org&msgNo=3D11986).

Here's an additional piece of information:=20

I wrote a small program to confirm that on Windows, you can't rename a
file while another thread has it open.

If I am performing a search, is it possible that the IndexReader is
holding open the "segments" file when there is an attempt by my indexing
code to overwrite it with File.renameTo()?

Thanks,
Luke Francl

On Thu, 2005-01-06 at 17:43, Luke Francl wrote:
> We are having a problem with Lucene in a high concurrency
> create/delete/search situation. I thought I fixed all these problems,
> but I guess not.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12442-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 13 18:32:20 2005
Return-Path: <lucene-user-return-12442-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3198 invoked from network); 13 Jan 2005 18:32:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jan 2005 18:32:20 -0000
Received: (qmail 43372 invoked by uid 500); 13 Jan 2005 18:32:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43351 invoked by uid 500); 13 Jan 2005 18:32:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43336 invoked by uid 99); 13 Jan 2005 18:32:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from Unknown (HELO zebedee.magus.co.uk) (193.131.98.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 13 Jan 2005 10:32:13 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Multi-threading problem: couldn't delete segments
Date: Thu, 13 Jan 2005 18:33:37 -0000
Message-ID: <D98ADD74A4E07445A943A90A184B51993795E8@zebedee.magus.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Multi-threading problem: couldn't delete segments
Thread-Index: AcT5m+pnGGZ7n4mQQuKja6B4WE0BhQAAGd7AAABFnvA=
From: "David Townsend" <david.townsend@magus.co.uk>
To: "Lucene Users List \(E-mail\)" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Just read your old post. I'm not quite sure whether I've read this =
correctly.  Is the search worker thread also doing deletes from the =
index=20

"a test script is going that is hitting the search
part of our application (I think the script also updates and deletes
Documents, but I am not sure."

Deleting also locks the index, so maybe the indexwriter is waiting for =
the search thread to release the lock.

-----Original Message-----
From: David Townsend=20
Sent: 13 January 2005 18:26
To: 'Lucene Users List'
Subject: RE: Multi-threading problem: couldn't delete segments


The problem could be you're writing to an index with multiple processes. =
This can happen if you're using a shared file system (NFS?).  We saw =
this problem when we had two IndexWriters getting access to a single =
index at the same time.  Usually if you're working on a single machine =
the file locks prevent this from happening.



-----Original Message-----
From: Luke Francl [mailto:luke.francl@stellent.com]
Sent: 13 January 2005 18:13
To: Lucene Users List
Subject: Re: Multi-threading problem: couldn't delete segments


I didn't get any response to this post so I wanted to follow up (you can
read the full description of my problem in the archives:
http://nagoya.apache.org/eyebrowse/ReadMsg?listName=3Dlucene-user@jakarta=
.apache.org&msgNo=3D11986).

Here's an additional piece of information:=20

I wrote a small program to confirm that on Windows, you can't rename a
file while another thread has it open.

If I am performing a search, is it possible that the IndexReader is
holding open the "segments" file when there is an attempt by my indexing
code to overwrite it with File.renameTo()?

Thanks,
Luke Francl

On Thu, 2005-01-06 at 17:43, Luke Francl wrote:
> We are having a problem with Lucene in a high concurrency
> create/delete/search situation. I thought I fixed all these problems,
> but I guess not.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12443-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 13 18:33:49 2005
Return-Path: <lucene-user-return-12443-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3955 invoked from network); 13 Jan 2005 18:33:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jan 2005 18:33:49 -0000
Received: (qmail 48298 invoked by uid 500); 13 Jan 2005 18:33:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48234 invoked by uid 500); 13 Jan 2005 18:33:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48170 invoked by uid 99); 13 Jan 2005 18:33:37 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mspmail2.stellent.com (HELO mspmail2.stellent.com) (12.40.185.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 13 Jan 2005 10:33:37 -0800
Received: from [10.10.20.20] ([10.10.20.20])
	by mspmail2.stellent.com (8.11.6+Sun/8.11.5) with ESMTP id j0DIXY105726
	for <lucene-user@jakarta.apache.org>; Thu, 13 Jan 2005 12:33:35 -0600 (CST)
Subject: RE: Multi-threading problem: couldn't delete segments
From: Luke Francl <luke.francl@stellent.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <D98ADD74A4E07445A943A90A184B51993795E7@zebedee.magus.co.uk>
References: <D98ADD74A4E07445A943A90A184B51993795E7@zebedee.magus.co.uk>
Content-Type: text/plain
Message-Id: <1105641204.15869.10.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 
Date: Thu, 13 Jan 2005 12:33:24 -0600
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thu, 2005-01-13 at 12:25, David Townsend wrote:
> The problem could be you're writing to an index with multiple processes. This can happen if you're using a shared file system (NFS?).  We saw this problem when we had two IndexWriters getting access to a single index at the same time.  Usually if you're working on a single machine the file locks prevent this from happening.

No, there is a single process with multiple threads (synchronized). The
filesystem is NTFS.

Luke


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12444-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 13 18:44:58 2005
Return-Path: <lucene-user-return-12444-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9627 invoked from network); 13 Jan 2005 18:44:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Jan 2005 18:44:58 -0000
Received: (qmail 68403 invoked by uid 500); 13 Jan 2005 18:44:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68367 invoked by uid 500); 13 Jan 2005 18:44:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68323 invoked by uid 99); 13 Jan 2005 18:44:45 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mspmail2.stellent.com (HELO mspmail2.stellent.com) (12.40.185.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 13 Jan 2005 10:44:44 -0800
Received: from [10.10.20.20] ([10.10.20.20])
	by mspmail2.stellent.com (8.11.6+Sun/8.11.5) with ESMTP id j0DIig105883
	for <lucene-user@jakarta.apache.org>; Thu, 13 Jan 2005 12:44:42 -0600 (CST)
Subject: RE: Multi-threading problem: couldn't delete segments
From: Luke Francl <luke.francl@stellent.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <D98ADD74A4E07445A943A90A184B51993795E8@zebedee.magus.co.uk>
References: <D98ADD74A4E07445A943A90A184B51993795E8@zebedee.magus.co.uk>
Content-Type: text/plain
Message-Id: <1105641869.15869.22.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 
Date: Thu, 13 Jan 2005 12:44:29 -0600
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thu, 2005-01-13 at 12:33, David Townsend wrote:
> Just read your old post. I'm not quite sure whether I've read this correctly.  Is the search worker thread also doing deletes from the index 
> 
> "a test script is going that is hitting the search
> part of our application (I think the script also updates and deletes
> Documents, but I am not sure."
> 
> Deleting also locks the index, so maybe the indexwriter is waiting for the search thread to release the lock.

I checked with my co-worker, and his script is doing a search, modifying
assets (which deletes and re-inserts) and then deleting them. This is
going on while new Documents are being added to the index from another
thread. (Due to some weirdness in our application, it is also trying to
delete Documents that don't exist before inserting them -- should be
harmless, though.)

I control access to the index with a lock object during all write
accesses to the index, including deletes.

You can see the code here:
http://nagoya.apache.org/eyebrowse/GetAttachment?listName=lucene-user@jakarta.apache.org&msgId=2068605&attachId=1

Luke


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12445-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 14 00:03:49 2005
Return-Path: <lucene-user-return-12445-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61756 invoked from network); 14 Jan 2005 00:03:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jan 2005 00:03:49 -0000
Received: (qmail 28751 invoked by uid 500); 14 Jan 2005 00:03:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28708 invoked by uid 500); 14 Jan 2005 00:03:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28690 invoked by uid 99); 14 Jan 2005 00:03:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 13 Jan 2005 16:03:40 -0800
Received: (qmail 3466 invoked by uid 532); 14 Jan 2005 00:02:20 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.037602 secs); 14 Jan 2005 00:02:20 -0000
Received: from unknown (HELO ?10.0.0.157?) (127.0.0.1)
  by 0 with SMTP; 14 Jan 2005 00:02:20 -0000
Message-ID: <41E70C6D.5010407@tropo.com>
Date: Thu, 13 Jan 2005 16:03:57 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: stop words and index size
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Does anyone know how much stop words are supposed to affect the index size?

I did an experiment of building an index once with, and once without, 
stop words.

The corpus is the English Wikipedia, and I indexed the title and body of 
the articles. I used a list of 525 stop words.

With stopwords removed the index is 227MB.
With stopwords kept the index is 331MB.

Thus, the index grows by 45% in this case, which I found suprising, as I 
expected it to not grow as much. I haven't dug into the details of the 
Lucene file formats but thought compression (field/term vector/sparse 
lists/ vints) would negate the affect of stopwords to a large extent.

Some more details + a link to my stopword list are here:
http://www.searchmorph.com/weblog/index.php?id=36

-- Dave

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12446-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 14 00:29:58 2005
Return-Path: <lucene-user-return-12446-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72317 invoked from network); 14 Jan 2005 00:29:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jan 2005 00:29:57 -0000
Received: (qmail 58068 invoked by uid 500); 14 Jan 2005 00:29:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57701 invoked by uid 500); 14 Jan 2005 00:29:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57683 invoked by uid 99); 14 Jan 2005 00:29:52 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of hunterp@gmail.com designates 64.233.184.198 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 13 Jan 2005 16:29:51 -0800
Received: by wproxy.gmail.com with SMTP id 50so26581wri
        for <lucene-user@jakarta.apache.org>; Thu, 13 Jan 2005 16:29:49 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=r8bTqpNuiAZVOirA7yg4I3o4PiyRgbj4EqRa8FoD39HiaTyqLmqwfPbiPrsWom+Bexbh/fBmb7PcLijAMh0J6dHvYRvp1lf5hzyvqT48GHKBH81P8avB6hQdh5DuT9obms+yZmBTy024OPXxA/jtj42cXeBpxveDP7bDvizAjn8=
Received: by 10.54.26.65 with SMTP id 65mr130688wrz;
        Thu, 13 Jan 2005 16:29:48 -0800 (PST)
Received: by 10.54.32.69 with HTTP; Thu, 13 Jan 2005 16:29:48 -0800 (PST)
Message-ID: <3585b2e105011316297c5c0a5f@mail.gmail.com>
Date: Thu, 13 Jan 2005 19:29:48 -0500
From: Hunter Peress <hunterp@gmail.com>
Reply-To: Hunter Peress <hunterp@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: full text as input ?
In-Reply-To: <3585b2e1050113161912b3e92@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <3585b2e1050113161912b3e92@mail.gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

is it efficient and feasible to use lucene to do full text
comparisions. eg :  take an entire text thats reasonably large ( eg
more than 10 words) and find the result set within the lucene search
index that  is statistically similar with all the text.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12447-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 14 00:44:06 2005
Return-Path: <lucene-user-return-12447-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79033 invoked from network); 14 Jan 2005 00:44:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jan 2005 00:44:06 -0000
Received: (qmail 74589 invoked by uid 500); 14 Jan 2005 00:44:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74382 invoked by uid 500); 14 Jan 2005 00:44:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74368 invoked by uid 99); 14 Jan 2005 00:43:59 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 13 Jan 2005 16:43:57 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 1C6845B76C; Thu, 13 Jan 2005 16:42:43 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 19CE27F467
	for <lucene-user@jakarta.apache.org>; Thu, 13 Jan 2005 16:42:43 -0800 (PST)
Date: Thu, 13 Jan 2005 16:42:43 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: stop words and index size
In-Reply-To: <41E70C6D.5010407@tropo.com>
Message-ID: <Pine.LNX.4.58.0501131606400.23334@hal.rescomp.berkeley.edu>
References: <41E70C6D.5010407@tropo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



: The corpus is the English Wikipedia, and I indexed the title and body of
: the articles. I used a list of 525 stop words.
:
: With stopwords removed the index is 227MB.
: With stopwords kept the index is 331MB.

That doesn't seem horribly surprising.

consider that for every Term in the index, lucene is keeping track of the
list of <docId, freq> pairs for every document that contains that term.

Assume that something has to be in at least 25% of the docs before you
decide it's worth making it a stop word.  your URL indicates you are
dealing with 400k docs, which means that for each stop word, the space
need to store the int pairs for <docId, freq> is...

        (4B + 4B) * 100,000 =~ 780KB  (per stop word Term, minimum)

...not counting any indexing structures that may be used internally to
improve the lookup of a Term.  assuming some of those words are in more or
less then 25% of your documents, that could easily account for a
differents of 100MB.

I suspect that an interesting excersize would be to use some of the code
I've seen tossed arround on this list that lets you iterate over all Terms
and find the most common once to help you determine your stopword list
progromaticly.  Then remove/reindex any documents that have each word as
you add it to your stoplist (one word at a time) and watch your index
shrink.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12448-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 14 06:16:39 2005
Return-Path: <lucene-user-return-12448-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8136 invoked from network); 14 Jan 2005 06:16:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jan 2005 06:16:37 -0000
Received: (qmail 34901 invoked by uid 500); 14 Jan 2005 06:16:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34859 invoked by uid 500); 14 Jan 2005 06:16:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34837 invoked by uid 99); 14 Jan 2005 06:16:25 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 13 Jan 2005 22:16:24 -0800
Received: (qmail 29053 invoked by uid 532); 14 Jan 2005 06:15:03 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.136242 secs); 14 Jan 2005 06:15:03 -0000
Received: from unknown (HELO ?172.31.1.2?) (127.0.0.1)
  by 0 with SMTP; 14 Jan 2005 06:15:03 -0000
Message-ID: <41E763B4.7080103@tropo.com>
Date: Thu, 13 Jan 2005 22:16:20 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041217
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: full text as input ?
References: <3585b2e1050113161912b3e92@mail.gmail.com> <3585b2e105011316297c5c0a5f@mail.gmail.com>
In-Reply-To: <3585b2e105011316297c5c0a5f@mail.gmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hunter Peress wrote:

> is it efficient and feasible to use lucene to do full text
> comparisions. eg :  take an entire text thats reasonably large ( eg
> more than 10 words) and find the result set within the lucene search
> index that  is statistically similar with all the text.

I do this kind of stuff all the time, no problem.
I think this came up a month ago - probably appears monthly.
For another variation search for "MoreLikeThis" in the list - it's code 
I mailed in that I haven't, yet, checked in.

Anyway, if you want to search for docs that are similar to a source 
document, you can all this method to generate a similarity query.

'srch' is the source doc
'a' is your analyzer
'field' is the field that stores the body e.g. "contents"
'stop' is an opt Set of stop words to ignore as an optimization - it's 
not needed if the Analyzer ignores stop words, but if you keep stop 
words you might still want to ignore them in this kind of query as they 
probably won't help


   public static Query formSimilarQuery( String srch,								 
Analyzer a,									String field,									Set stop)
		throws org.apache.lucene.queryParser.ParseException, IOException
	{	
		TokenStream ts = a.tokenStream( field, new StringReader( srch));
		org.apache.lucene.analysis.Token t;
		BooleanQuery tmp = new BooleanQuery();
		Set already = new HashSet();
		while ( (t = ts.next()) != null)
		{
			String word = t.termText();
			if ( stop != null &&
				 stop.contains( word)) continue;
			if ( ! already.add( word)) continue;
			TermQuery tq = new TermQuery( new Term( field, word));
			tmp.add( tq, false, false);
		}

		// tbd, from lucene in action book
		// https://secure.manning.com/catalog/view.php?book=hatcher2&item=source
		// exclude myself
		//likeThisQuery.add(new TermQuery(
         //new Term("isbn", doc.get("isbn"))), false, true);
		return tmp;

	}

> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12449-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 14 09:34:16 2005
Return-Path: <lucene-user-return-12449-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13393 invoked from network); 14 Jan 2005 09:34:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jan 2005 09:34:16 -0000
Received: (qmail 75950 invoked by uid 500); 14 Jan 2005 09:34:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75782 invoked by uid 500); 14 Jan 2005 09:34:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75769 invoked by uid 99); 14 Jan 2005 09:34:04 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from Unknown (HELO goose.milesbarr.com) (81.168.89.246)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 14 Jan 2005 01:34:02 -0800
Received: by goose.milesbarr.com (Postfix, from userid 1000)
	id 4B1B727F68F; Fri, 14 Jan 2005 09:24:59 +0000 (GMT)
Subject: Re: Search failed with a "File not found" error
From: Miles Barr <miles@runtime-collective.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41E6B880.9050702@sgi.com>
References: <41E6B880.9050702@sgi.com>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Organization: Runtime Collective Ltd.
Date: Fri, 14 Jan 2005 09:24:58 +0000
Message-Id: <1105694698.17032.5.camel@goose.milesbarr.com>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thu, 2005-01-13 at 13:05 -0500, Jim Lynch wrote:
> I was indexing at the time and I was under the impression that was safe, 
> but it looks like the indexer may have removed a file that the search 
> was trying to access.  Is there something I should be doing to lock the 
> index?
> 
> java.io.FileNotFoundException: /db/lucene/oasis/Clarify_Closed/_2meu.fnm 
> (No such file or directory)

Did you call optimize on the writer? Alternatively you could have
reached the max number of segments and it optimized automatically (i.e.
turn several segment files like _2meu.fnm into one large one).

I don't know how this affects an existing reader, whether the reader
caches the values or not. Maybe someone can shed some more light on
this.


-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12450-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 14 13:20:31 2005
Return-Path: <lucene-user-return-12450-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11454 invoked from network); 14 Jan 2005 13:20:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jan 2005 13:20:31 -0000
Received: (qmail 92579 invoked by uid 500); 14 Jan 2005 13:20:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92547 invoked by uid 500); 14 Jan 2005 13:20:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92526 invoked by uid 99); 14 Jan 2005 13:20:20 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO,HTML_40_50,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host-64-65-202-3.pro.choiceone.net (HELO contextmedia.com) (64.65.202.3)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 14 Jan 2005 05:20:19 -0800
Received: from ppeddi ([192.168.1.33]) by contextmedia.com ; Fri, 14 Jan 2005 08:20:09 -0500
Message-ID: <034201c4fa3b$a3817000$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "lucenelist" <lucene-user@jakarta.apache.org>
Subject: Best way to find if a document exists, using Reader ...
Date: Fri, 14 Jan 2005 08:19:12 -0500
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_033F_01C4FA11.BA960B40"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_033F_01C4FA11.BA960B40
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi luceners,
Using Reader, whats the best (fastest) way to find if a documents exists =
with a given term. The term is unique ID, meaning, with that term, =
atmost one document can exist.

I have seen 2 appropriate methods of Reader. docFreq(Term) and =
termDocs(Term). docFreq should return either 0 or 1 in my case and =
termDocs should return TermDocs of size 0 or 1. But I was not sure which =
method is faster. All I want to find is if a document exist.

The actual reason I want to do is, I want to delete a document with the =
given GUID. It looks like delete(Term) has some overhead. So I thought I =
can look up the document and delete it only if it exists. Since I will =
be dealing with millions of documents, most of which are new documents. =
But I don't know if a document already exists in lucene index. So I was =
calling Reader.delete(Term) on each documen before adding it. This means =
I am calling delete method millions but there are possibly 99.9% of new =
document in that million docs.

Does it makes sense to call docFreq or termDocs (which ever is faster) =
before calling delete?

Any help is appreciated.

Thanks,
Praveen

 **************************************************************=20
Praveen Peddi
Sr Software Engg, Context Media, Inc.=20
email:ppeddi@contextmedia.com=20
Tel:  401.854.3475=20
Fax:  401.861.3596=20
web: http://www.contextmedia.com=20
**************************************************************=20
Context Media- "The Leader in Enterprise Content Integration"=20

------=_NextPart_000_033F_01C4FA11.BA960B40--


From lucene-user-return-12451-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 14 13:38:06 2005
Return-Path: <lucene-user-return-12451-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18268 invoked from network); 14 Jan 2005 13:38:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jan 2005 13:38:06 -0000
Received: (qmail 33473 invoked by uid 500); 14 Jan 2005 13:37:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33447 invoked by uid 500); 14 Jan 2005 13:37:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33431 invoked by uid 99); 14 Jan 2005 13:37:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 14 Jan 2005 05:37:55 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id 4F26423BC8
	for <lucene-user@jakarta.apache.org>; Fri, 14 Jan 2005 14:39:37 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 23475-10 for <lucene-user@jakarta.apache.org>;
 Fri, 14 Jan 2005 14:39:37 +0100 (CET)
Received: from tucholsky.office.tanto.de (tucholsky.office.tanto.de [10.0.0.35])
	by mail.tanto.de (Postfix) with ESMTP id 2C28C23BC5
	for <lucene-user@jakarta.apache.org>; Fri, 14 Jan 2005 14:39:37 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) with ESMTP id j0EDbq72014683
	for <lucene-user@jakarta.apache.org>; Fri, 14 Jan 2005 14:37:52 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) id j0EDbqQj014679;
	Fri, 14 Jan 2005 14:37:52 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16871.52016.872277.368544@tanto-xipolis.de>
Date: Fri, 14 Jan 2005 14:37:52 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Best way to find if a document exists, using Reader ...
In-Reply-To: <034201c4fa3b$a3817000$aa87a8c0@ppeddi>
References: <034201c4fa3b$a3817000$aa87a8c0@ppeddi>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Praveen Peddi writes:
> 
> Does it makes sense to call docFreq or termDocs (which ever is faster) before calling delete?
> 
IMO no.

calling termDocs is what Reader.delete(Term) does:

  public final int delete(Term term) throws IOException {
    TermDocs docs = termDocs(term);
    if (docs == null) return 0;
    int n = 0;
    try {
      while (docs.next()) {
        delete(docs.doc());
        n++;
      }
    } finally {
      docs.close();
    }
    return n;
  }

(the advantage of OSS is, that you can look into it's sources)

So it already uses termDocs to see if there's anything to do.
I doubt that using docFreq would be much faster. In both cases the
term is searched and -- if you don't have to delete anything -- not
found. If it's found, docFreq might be faster, but in that case you have
to delete and use termDocs anyway.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12452-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 14 14:06:20 2005
Return-Path: <lucene-user-return-12452-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35502 invoked from network); 14 Jan 2005 14:06:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jan 2005 14:06:20 -0000
Received: (qmail 36227 invoked by uid 500); 14 Jan 2005 14:05:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36179 invoked by uid 500); 14 Jan 2005 14:05:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35987 invoked by uid 99); 14 Jan 2005 14:05:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from rogue.ncsl.nist.gov (HELO rogue.ncsl.nist.gov) (129.6.101.41)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 14 Jan 2005 06:05:55 -0800
Received: from rogue.ncsl.nist.gov.nist.gov (localhost.localdomain [127.0.0.1])
	by rogue.ncsl.nist.gov (8.12.11/8.12.11) with ESMTP id j0EE5pot026578
	for <lucene-user@jakarta.apache.org>; Fri, 14 Jan 2005 09:05:51 -0500
From: Ian Soboroff <ian.soboroff@nist.gov>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: WordNet code updated, now with query expansion -- Re: SYNONYM + GOOGLE
References: <OBELINLGKPEMCIEIJJNKKEKOCAAA.karthik@controlnet.co.in>
	<90D5BCD2-636C-11D9-892F-000393A564E6@ehatchersolutions.com>
	<41E473B8.2030704@tropo.com> <200501120903.52487@danielnaber.de>
Date: Fri, 14 Jan 2005 09:05:51 -0500
In-Reply-To: <200501120903.52487@danielnaber.de> (Daniel Naber's message of
	"Wed, 12 Jan 2005 09:03:52 +0100")
Message-ID: <9cfhdlk3y2o.fsf@rogue.ncsl.nist.gov>
User-Agent: Gnus/5.110003 (No Gnus v0.3) Emacs/21.3 (gnu/linux)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Daniel Naber <daniel.naber@t-online.de> writes:

> On Wednesday 12 January 2005 01:47, David Spencer wrote:
>
>> Amusingly then, documents with the terms "liberal wienerwurst" match
>> "big dog"! :)
>
> There's something like frequency information in WordNet, it could probably 
> be used to ignore the uncommon meanings.

If you just go search CiteSeer for "WordNet", you will find the output
of every failed MS thesis experiment to improve retrieval performance
by naive application of WordNet synsets.

But I like the query expansion code.

Ian



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12453-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 14 14:10:33 2005
Return-Path: <lucene-user-return-12453-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37870 invoked from network); 14 Jan 2005 14:10:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jan 2005 14:10:32 -0000
Received: (qmail 53714 invoked by uid 500); 14 Jan 2005 14:10:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53692 invoked by uid 500); 14 Jan 2005 14:10:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53679 invoked by uid 99); 14 Jan 2005 14:10:26 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from rogue.ncsl.nist.gov (HELO rogue.ncsl.nist.gov) (129.6.101.41)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 14 Jan 2005 06:10:26 -0800
Received: from rogue.ncsl.nist.gov.nist.gov (localhost.localdomain [127.0.0.1])
	by rogue.ncsl.nist.gov (8.12.11/8.12.11) with ESMTP id j0EEAOhS026599
	for <lucene-user@jakarta.apache.org>; Fri, 14 Jan 2005 09:10:24 -0500
From: Ian Soboroff <ian.soboroff@nist.gov>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: full text as input ?
References: <3585b2e1050113161912b3e92@mail.gmail.com>
	<3585b2e105011316297c5c0a5f@mail.gmail.com>
Date: Fri, 14 Jan 2005 09:10:24 -0500
In-Reply-To: <3585b2e105011316297c5c0a5f@mail.gmail.com> (Hunter Peress's
	message of "Thu, 13 Jan 2005 19:29:48 -0500")
Message-ID: <9cfd5w83xv3.fsf@rogue.ncsl.nist.gov>
User-Agent: Gnus/5.110003 (No Gnus v0.3) Emacs/21.3 (gnu/linux)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hunter Peress <hunterp@gmail.com> writes:

> is it efficient and feasible to use lucene to do full text
> comparisions. eg :  take an entire text thats reasonably large ( eg
> more than 10 words) and find the result set within the lucene search
> index that  is statistically similar with all the text.

Yes, if the query is a BooleanQuery, then all the clauses are
essentially weighted with tf.idf weighting.  There are of course more
sophisticated term weightings, some of which can be handled be
extending the Similarity class.

Ian



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12454-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 14 14:13:23 2005
Return-Path: <lucene-user-return-12454-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38924 invoked from network); 14 Jan 2005 14:13:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jan 2005 14:13:23 -0000
Received: (qmail 61429 invoked by uid 500); 14 Jan 2005 14:13:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61393 invoked by uid 500); 14 Jan 2005 14:13:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61378 invoked by uid 99); 14 Jan 2005 14:13:08 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host-64-65-202-3.pro.choiceone.net (HELO contextmedia.com) (64.65.202.3)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 14 Jan 2005 06:13:07 -0800
Received: from ppeddi ([192.168.1.33]) by contextmedia.com ; Fri, 14 Jan 2005 09:12:56 -0500
Message-ID: <034701c4fa43$03cf0bf0$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <034201c4fa3b$a3817000$aa87a8c0@ppeddi> <16871.52016.872277.368544@tanto-xipolis.de>
Subject: Re: Best way to find if a document exists, using Reader ...
Date: Fri, 14 Jan 2005 09:12:00 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks Morus,
Silly me. I should have seen the source code before asking the question. I 
usually do that but for some reason I didn't do it this time.

Looking at the source code, you are right. It doesn't make sense to do that. 
But Is there such a performance over head on termDocs().

I tested as follows:
1) Adding 250K documents took half an hour for lucene.
2) Deleting and adding same 250K documents took more than 50 minutes. In my 
test all 250K objects are new so there is nothing to delete.

Looks like there is no other way to make it fast.

Praveen
----- Original Message ----- 
From: "Morus Walter" <morus.walter@tanto.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, January 14, 2005 8:37 AM
Subject: Re: Best way to find if a document exists, using Reader ...


> Praveen Peddi writes:
>>
>> Does it makes sense to call docFreq or termDocs (which ever is faster) 
>> before calling delete?
>>
> IMO no.
>
> calling termDocs is what Reader.delete(Term) does:
>
>  public final int delete(Term term) throws IOException {
>    TermDocs docs = termDocs(term);
>    if (docs == null) return 0;
>    int n = 0;
>    try {
>      while (docs.next()) {
>        delete(docs.doc());
>        n++;
>      }
>    } finally {
>      docs.close();
>    }
>    return n;
>  }
>
> (the advantage of OSS is, that you can look into it's sources)
>
> So it already uses termDocs to see if there's anything to do.
> I doubt that using docFreq would be much faster. In both cases the
> term is searched and -- if you don't have to delete anything -- not
> found. If it's found, docFreq might be faster, but in that case you have
> to delete and use termDocs anyway.
>
> Morus
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12455-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 14 14:34:56 2005
Return-Path: <lucene-user-return-12455-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66538 invoked from network); 14 Jan 2005 14:34:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jan 2005 14:34:55 -0000
Received: (qmail 18744 invoked by uid 500); 14 Jan 2005 14:34:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18501 invoked by uid 500); 14 Jan 2005 14:34:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18415 invoked by uid 99); 14 Jan 2005 14:34:37 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx3-ext.sgi.com (HELO omx3.sgi.com) (192.48.171.20)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 14 Jan 2005 06:34:35 -0800
Received: from internal-mail-relay1.corp.sgi.com (internal-mail-relay1.corp.sgi.com [198.149.32.52])
	by omx3.sgi.com (8.12.11/8.12.9/linux-outbound_gateway-1.1) with ESMTP id j0EDsvTI005309
	for <lucene-user@jakarta.apache.org>; Fri, 14 Jan 2005 05:55:03 -0800
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com [169.238.221.130])
	by internal-mail-relay1.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2) with ESMTP id j0EEWn0W151120374
	for <lucene-user@jakarta.apache.org>; Fri, 14 Jan 2005 06:32:50 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id j0EETfad20742013
	for <lucene-user@jakarta.apache.org>; Fri, 14 Jan 2005 09:29:41 -0500 (EST)
Message-ID: <41E7D74A.4000709@sgi.com>
Date: Fri, 14 Jan 2005 09:29:30 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Search failed with a "File not found" error
References: <41E6B880.9050702@sgi.com> <1105694698.17032.5.camel@goose.milesbarr.com>
In-Reply-To: <1105694698.17032.5.camel@goose.milesbarr.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I don't call optimize.  I suspect the indexer was since I was in the 
middle of indexing some 200000 documents each averaging 30K bytes.

Jim.

Miles Barr wrote:

>On Thu, 2005-01-13 at 13:05 -0500, Jim Lynch wrote:
>  
>
>>I was indexing at the time and I was under the impression that was safe, 
>>but it looks like the indexer may have removed a file that the search 
>>was trying to access.  Is there something I should be doing to lock the 
>>index?
>>
>>java.io.FileNotFoundException: /db/lucene/oasis/Clarify_Closed/_2meu.fnm 
>>(No such file or directory)
>>    
>>
>
>Did you call optimize on the writer? Alternatively you could have
>reached the max number of segments and it optimized automatically (i.e.
>turn several segment files like _2meu.fnm into one large one).
>
>I don't know how this affects an existing reader, whether the reader
>caches the values or not. Maybe someone can shed some more light on
>this.
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12456-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 14 16:36:27 2005
Return-Path: <lucene-user-return-12456-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32648 invoked from network); 14 Jan 2005 16:36:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jan 2005 16:36:26 -0000
Received: (qmail 48371 invoked by uid 500); 14 Jan 2005 16:36:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48346 invoked by uid 500); 14 Jan 2005 16:36:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48332 invoked by uid 99); 14 Jan 2005 16:36:18 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from postfix4-1.free.fr (HELO postfix4-1.free.fr) (213.228.0.62)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 14 Jan 2005 08:36:17 -0800
Received: from [192.168.0.101] (unknown [82.228.46.64])
	by postfix4-1.free.fr (Postfix) with ESMTP id C3B2A264419
	for <lucene-user@jakarta.apache.org>; Fri, 14 Jan 2005 17:36:14 +0100 (CET)
From: philippe <philippe.haas@free.fr>
Organization: quilombo
To: <lucene-user@jakarta.apache.org>
Subject: where to place the index directory
Date: Fri, 14 Jan 2005 17:39:16 +0100
User-Agent: KMail/1.6.2
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Message-Id: <200501141739.17111.philippe.haas@free.fr>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi everybody,

can someone help me ?

i have a problem with my index ?

on my localhost, everything is ok, 
i can put my index directory in different places, it is accessed by my jsp.

But on my hosting tomcat 4, my jsp can't open this directory

have an idea ?

thanks in advance

philippe

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12457-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 14 16:54:58 2005
Return-Path: <lucene-user-return-12457-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45621 invoked from network); 14 Jan 2005 16:54:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jan 2005 16:54:58 -0000
Received: (qmail 13989 invoked by uid 500); 14 Jan 2005 16:54:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13893 invoked by uid 500); 14 Jan 2005 16:54:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13754 invoked by uid 99); 14 Jan 2005 16:54:47 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 14 Jan 2005 08:54:45 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 14 Jan 2005 11:56:28 -0500
Message-ID: <014b01c4fa59$fd134b70$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <200501141739.17111.philippe.haas@free.fr>
Subject: Re: where to place the index directory
Date: Fri, 14 Jan 2005 11:56:27 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 14 Jan 2005 16:56:28.0057 (UTC) FILETIME=[FD383890:01C4FA59]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Does it give some sort of error message?

Luke

----- Original Message ----- 
From: "philippe" <philippe.haas@free.fr>
To: <lucene-user@jakarta.apache.org>
Sent: Friday, January 14, 2005 11:39 AM
Subject: where to place the index directory


> Hi everybody,
>
> can someone help me ?
>
> i have a problem with my index ?
>
> on my localhost, everything is ok,
> i can put my index directory in different places, it is accessed by my
jsp.
>
> But on my hosting tomcat 4, my jsp can't open this directory
>
> have an idea ?
>
> thanks in advance
>
> philippe
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12458-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 14 17:14:24 2005
Return-Path: <lucene-user-return-12458-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55795 invoked from network); 14 Jan 2005 17:14:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jan 2005 17:14:23 -0000
Received: (qmail 71721 invoked by uid 500); 14 Jan 2005 17:14:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71696 invoked by uid 500); 14 Jan 2005 17:14:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71682 invoked by uid 99); 14 Jan 2005 17:14:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from postfix4-2.free.fr (HELO postfix4-2.free.fr) (213.228.0.176)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 14 Jan 2005 09:14:15 -0800
Received: from [192.168.0.101] (unknown [82.228.46.64])
	by postfix4-2.free.fr (Postfix) with ESMTP id 4CA3E2A03ED
	for <lucene-user@jakarta.apache.org>; Fri, 14 Jan 2005 18:14:13 +0100 (CET)
From: philippe <philippe.haas@free.fr>
Organization: quilombo
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: where to place the index directory
Date: Fri, 14 Jan 2005 18:17:16 +0100
User-Agent: KMail/1.6.2
References: <200501141739.17111.philippe.haas@free.fr> <014b01c4fa59$fd134b70$7703d00a@hypermedia.com>
In-Reply-To: <014b01c4fa59$fd134b70$7703d00a@hypermedia.com>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200501141817.16326.philippe.haas@free.fr>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

yes Luke, 
thank you for your help,

the message is :
"indexHtml is not a directory"

during some experimentations, the message has been
"unable to open the directory"

thanks
philippe

On Friday 14 January 2005 17:56, Luke Shannon wrote:
> Does it give some sort of error message?
>
> Luke
>
> ----- Original Message -----
> From: "philippe" <philippe.haas@free.fr>
> To: <lucene-user@jakarta.apache.org>
> Sent: Friday, January 14, 2005 11:39 AM
> Subject: where to place the index directory
>
> > Hi everybody,
> >
> > can someone help me ?
> >
> > i have a problem with my index ?
> >
> > on my localhost, everything is ok,
> > i can put my index directory in different places, it is accessed by my
>
> jsp.
>
> > But on my hosting tomcat 4, my jsp can't open this directory
> >
> > have an idea ?
> >
> > thanks in advance
> >
> > philippe
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12459-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 14 17:31:52 2005
Return-Path: <lucene-user-return-12459-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68451 invoked from network); 14 Jan 2005 17:31:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jan 2005 17:31:52 -0000
Received: (qmail 22273 invoked by uid 500); 14 Jan 2005 17:31:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22218 invoked by uid 500); 14 Jan 2005 17:31:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22051 invoked by uid 99); 14 Jan 2005 17:31:38 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 14 Jan 2005 09:31:36 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 14 Jan 2005 12:33:19 -0500
Message-ID: <015301c4fa5f$23426f10$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <200501141739.17111.philippe.haas@free.fr> <014b01c4fa59$fd134b70$7703d00a@hypermedia.com> <200501141817.16326.philippe.haas@free.fr>
Subject: Re: where to place the index directory
Date: Fri, 14 Jan 2005 12:33:19 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 14 Jan 2005 17:33:19.0726 (UTC) FILETIME=[237A20E0:01C4FA5F]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The jsp is having some trouble locating the index folder. It is probably the
path you are supplying when you create the File object for the index. When
you create the File obkect what is the path you are passing in?

----- Original Message ----- 
From: "philippe" <philippe.haas@free.fr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, January 14, 2005 12:17 PM
Subject: Re: where to place the index directory


> yes Luke,
> thank you for your help,
>
> the message is :
> "indexHtml is not a directory"
>
> during some experimentations, the message has been
> "unable to open the directory"
>
> thanks
> philippe
>
> On Friday 14 January 2005 17:56, Luke Shannon wrote:
> > Does it give some sort of error message?
> >
> > Luke
> >
> > ----- Original Message -----
> > From: "philippe" <philippe.haas@free.fr>
> > To: <lucene-user@jakarta.apache.org>
> > Sent: Friday, January 14, 2005 11:39 AM
> > Subject: where to place the index directory
> >
> > > Hi everybody,
> > >
> > > can someone help me ?
> > >
> > > i have a problem with my index ?
> > >
> > > on my localhost, everything is ok,
> > > i can put my index directory in different places, it is accessed by my
> >
> > jsp.
> >
> > > But on my hosting tomcat 4, my jsp can't open this directory
> > >
> > > have an idea ?
> > >
> > > thanks in advance
> > >
> > > philippe
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12460-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 14 17:44:27 2005
Return-Path: <lucene-user-return-12460-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74462 invoked from network); 14 Jan 2005 17:44:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jan 2005 17:44:26 -0000
Received: (qmail 50358 invoked by uid 500); 14 Jan 2005 17:44:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50325 invoked by uid 500); 14 Jan 2005 17:44:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50311 invoked by uid 99); 14 Jan 2005 17:44:19 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from postfix3-1.free.fr (HELO postfix3-1.free.fr) (213.228.0.44)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 14 Jan 2005 09:44:18 -0800
Received: from [192.168.0.101] (unknown [82.228.46.64])
	by postfix3-1.free.fr (Postfix) with ESMTP id 7EC17173535
	for <lucene-user@jakarta.apache.org>; Fri, 14 Jan 2005 18:44:15 +0100 (CET)
From: philippe <philippe.haas@free.fr>
Organization: quilombo
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: where to place the index directory
Date: Fri, 14 Jan 2005 18:45:28 +0100
User-Agent: KMail/1.6.2
References: <200501141739.17111.philippe.haas@free.fr> <200501141817.16326.philippe.haas@free.fr> <015301c4fa5f$23426f10$7703d00a@hypermedia.com>
In-Reply-To: <015301c4fa5f$23426f10$7703d00a@hypermedia.com>
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Message-Id: <200501141845.28630.philippe.haas@free.fr>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Luke,

the jsp is in :
/var/www/html/capoeira

and the index directory, called indexHtmlCapoeira,
/home/quilombo/indexHtmlCapoeira/index

in the jsp, i'm giving the path,
 String indexLocation = "/home/quilombo/indexHtmlCapoeira/index";

thanks for your help

philippe


On Friday 14 January 2005 18:33, Luke Shannon wrote:
> The jsp is having some trouble locating the index folder. It is probably
> the path you are supplying when you create the File object for the index.
> When you create the File obkect what is the path you are passing in?
>
> ----- Original Message -----
> From: "philippe" <philippe.haas@free.fr>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Friday, January 14, 2005 12:17 PM
> Subject: Re: where to place the index directory
>
> > yes Luke,
> > thank you for your help,
> >
> > the message is :
> > "indexHtml is not a directory"
> >
> > during some experimentations, the message has been
> > "unable to open the directory"
> >
> > thanks
> > philippe
> >
> > On Friday 14 January 2005 17:56, Luke Shannon wrote:
> > > Does it give some sort of error message?
> > >
> > > Luke
> > >
> > > ----- Original Message -----
> > > From: "philippe" <philippe.haas@free.fr>
> > > To: <lucene-user@jakarta.apache.org>
> > > Sent: Friday, January 14, 2005 11:39 AM
> > > Subject: where to place the index directory
> > >
> > > > Hi everybody,
> > > >
> > > > can someone help me ?
> > > >
> > > > i have a problem with my index ?
> > > >
> > > > on my localhost, everything is ok,
> > > > i can put my index directory in different places, it is accessed by
> > > > my
> > >
> > > jsp.
> > >
> > > > But on my hosting tomcat 4, my jsp can't open this directory
> > > >
> > > > have an idea ?
> > > >
> > > > thanks in advance
> > > >
> > > > philippe
> > > >
> > > > ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12461-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 14 18:01:56 2005
Return-Path: <lucene-user-return-12461-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82595 invoked from network); 14 Jan 2005 18:01:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jan 2005 18:01:56 -0000
Received: (qmail 83147 invoked by uid 500); 14 Jan 2005 18:01:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83077 invoked by uid 500); 14 Jan 2005 18:01:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83003 invoked by uid 99); 14 Jan 2005 18:01:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc12.comcast.net (HELO rwcrmhc12.comcast.net) (216.148.227.85)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 14 Jan 2005 10:01:46 -0800
Received: from [192.168.168.81] (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc12) with ESMTP
          id <20050114180144014000ta83e>; Fri, 14 Jan 2005 18:01:44 +0000
Message-ID: <41E80907.50103@apache.org>
Date: Fri, 14 Jan 2005 10:01:43 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: stop words and index size
References: <41E70C6D.5010407@tropo.com>
In-Reply-To: <41E70C6D.5010407@tropo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

David Spencer wrote:
> Does anyone know how much stop words are supposed to affect the index size?
> 
> I did an experiment of building an index once with, and once without, 
> stop words.
> 
> The corpus is the English Wikipedia, and I indexed the title and body of 
> the articles. I used a list of 525 stop words.
> 
> With stopwords removed the index is 227MB.
> With stopwords kept the index is 331MB.

The unstopped version is indeed bigger and slower to build, but it's 
only slower to search when folks search on stop words.  One approach to 
minimizing stopwords in searches (used by, e.g. Nutch & Google) is to 
index all stop words but remove them from queries unless they're (a) in 
a phrase or (b) explicitly required with a "+".  (It might be nice if 
Lucene included a query parser that had this feature.)

Nutch also optimizes phrase searches involving a few very common stop 
words (e.g., "the", "a", "to") by indexing these as bigrams and 
converting phrases involving them to bigram phrases.  So, if someone 
searches for "to be or not to be" then this turns into a search for 
"to-be be or not-to to-be" which is considerably faster since it 
involves rarer terms.  But the more words you bigram the bigger the 
index gets and the slower updates get, so you probably can't afford to 
do this for your full stop list.  (It might be nice if Lucene included 
support for this technique too!)

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12462-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 14 19:17:40 2005
Return-Path: <lucene-user-return-12462-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75035 invoked from network); 14 Jan 2005 19:17:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jan 2005 19:17:39 -0000
Received: (qmail 12548 invoked by uid 500); 14 Jan 2005 19:17:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12516 invoked by uid 500); 14 Jan 2005 19:17:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12501 invoked by uid 99); 14 Jan 2005 19:17:34 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail3.qsent.com (HELO exchange.qsent.com) (208.252.86.23)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 14 Jan 2005 11:17:33 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Boolean Query
Date: Fri, 14 Jan 2005 11:17:40 -0800
Message-ID: <5238CD8601F3EF4BA3C5553FECBB7D2A03884ECA@exchange.qsent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Boolean Query
Thread-Index: AcT5Zcp5dbx7VXzlR3qIWqOxumXeiQBBv+EQ
From: "Ryan Aslett" <Ryan.Aslett@Qsent.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

=20
Okay, Im not grokking something here. Im trying to run a query that
returns only the results that have *all* of the terms in my query
string.

When I run this query, which I construct myself and do a


Analyzer analyzer =3D new WhitespaceAnalyzer();=20
QueryParser qp =3D new QueryParser("address", analyzer);
                    Query addyQ =3D qp.parse(queryString);

I get the following in addyQ.toString:=20

Query: +address:122 +address:N +address:30th +address:St
0 total matching documents in 19 ms
So the querystring is unchanged from what I created, and I get zilch.

However, when I do this:

Analyzer analyzer =3D new WhitespaceAnalyzer();
BooleanQuery baQ =3D new BooleanQuery();
Query parsedAddyQ =3D qp.parse("122 N 30th St");
baQ.add(parsedAddyQ, true, false);

I get this:
Query: +(address:122 address:N address:30th address:St)
62 total matching documents in 8 ms
0. 122 N 30th St
1. PO Box 122
2. PO Box 122
3. 122 N 9th St
4. 122 S Clay Ave
5. 122 E 3rd St
...

So.. I want that first result, I know its in there, its matching as the
highest match, but not when I require all 4 tokens? What gives? What am
I doing wrong?

Also, if it matters Im running the query on a parallelMultiSearcher with
280 indexes of 1 million records each.

Ryan

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12463-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 14 19:19:16 2005
Return-Path: <lucene-user-return-12463-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75901 invoked from network); 14 Jan 2005 19:19:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jan 2005 19:19:15 -0000
Received: (qmail 18664 invoked by uid 500); 14 Jan 2005 19:19:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18643 invoked by uid 500); 14 Jan 2005 19:19:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18630 invoked by uid 99); 14 Jan 2005 19:19:09 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 14 Jan 2005 11:19:09 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 14 Jan 2005 14:20:52 -0500
Message-ID: <016701c4fa6e$2951cdb0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <200501141739.17111.philippe.haas@free.fr> <200501141817.16326.philippe.haas@free.fr> <015301c4fa5f$23426f10$7703d00a@hypermedia.com> <200501141845.28630.philippe.haas@free.fr>
Subject: Re: where to place the index directory
Date: Fri, 14 Jan 2005 14:20:51 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 14 Jan 2005 19:20:52.0370 (UTC) FILETIME=[298D7720:01C4FA6E]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello Philippe;

Things have gotten busy here for me. I can help you trouble shoot this a
little later. Please email me directly if you still need help with this.

Luke
----- Original Message ----- 
From: "philippe" <philippe.haas@free.fr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, January 14, 2005 12:45 PM
Subject: Re: where to place the index directory


> Luke,
>
> the jsp is in :
> /var/www/html/capoeira
>
> and the index directory, called indexHtmlCapoeira,
> /home/quilombo/indexHtmlCapoeira/index
>
> in the jsp, i'm giving the path,
>  String indexLocation = "/home/quilombo/indexHtmlCapoeira/index";
>
> thanks for your help
>
> philippe
>
>
> On Friday 14 January 2005 18:33, Luke Shannon wrote:
> > The jsp is having some trouble locating the index folder. It is probably
> > the path you are supplying when you create the File object for the
index.
> > When you create the File obkect what is the path you are passing in?
> >
> > ----- Original Message -----
> > From: "philippe" <philippe.haas@free.fr>
> > To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> > Sent: Friday, January 14, 2005 12:17 PM
> > Subject: Re: where to place the index directory
> >
> > > yes Luke,
> > > thank you for your help,
> > >
> > > the message is :
> > > "indexHtml is not a directory"
> > >
> > > during some experimentations, the message has been
> > > "unable to open the directory"
> > >
> > > thanks
> > > philippe
> > >
> > > On Friday 14 January 2005 17:56, Luke Shannon wrote:
> > > > Does it give some sort of error message?
> > > >
> > > > Luke
> > > >
> > > > ----- Original Message -----
> > > > From: "philippe" <philippe.haas@free.fr>
> > > > To: <lucene-user@jakarta.apache.org>
> > > > Sent: Friday, January 14, 2005 11:39 AM
> > > > Subject: where to place the index directory
> > > >
> > > > > Hi everybody,
> > > > >
> > > > > can someone help me ?
> > > > >
> > > > > i have a problem with my index ?
> > > > >
> > > > > on my localhost, everything is ok,
> > > > > i can put my index directory in different places, it is accessed
by
> > > > > my
> > > >
> > > > jsp.
> > > >
> > > > > But on my hosting tomcat 4, my jsp can't open this directory
> > > > >
> > > > > have an idea ?
> > > > >
> > > > > thanks in advance
> > > > >
> > > > > philippe
> > > > >
> > > >
> ---------------------------------------------------------------------
> > > > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > > > For additional commands, e-mail:
lucene-user-help@jakarta.apache.org
> > > >
> > >
> ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12464-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 14 19:52:46 2005
Return-Path: <lucene-user-return-12464-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93520 invoked from network); 14 Jan 2005 19:52:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jan 2005 19:52:46 -0000
Received: (qmail 71805 invoked by uid 500); 14 Jan 2005 19:52:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71785 invoked by uid 500); 14 Jan 2005 19:52:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71772 invoked by uid 99); 14 Jan 2005 19:52:39 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail3.qsent.com (HELO exchange.qsent.com) (208.252.86.23)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 14 Jan 2005 11:52:39 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Boolean Query
Date: Fri, 14 Jan 2005 11:52:47 -0800
Message-ID: <5238CD8601F3EF4BA3C5553FECBB7D2A03884ECE@exchange.qsent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Boolean Query
Thread-Index: AcT5Zcp5dbx7VXzlR3qIWqOxumXeiQBBv+EQAAFw04A=
From: "Ryan Aslett" <Ryan.Aslett@Qsent.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Um.. Nevermind.. I figured it out.. I was using the StandardAnalyzer
when I built my index and thus didn't have N or St in the index itself.

R=20

-----Original Message-----
From: Ryan Aslett=20
Sent: Friday, January 14, 2005 11:18 AM
To: Lucene Users List
Subject: Boolean Query

=20
Okay, Im not grokking something here. Im trying to run a query that
returns only the results that have *all* of the terms in my query
string.

When I run this query, which I construct myself and do a


Analyzer analyzer =3D new WhitespaceAnalyzer();=20
QueryParser qp =3D new QueryParser("address", analyzer);
                    Query addyQ =3D qp.parse(queryString);

I get the following in addyQ.toString:=20

Query: +address:122 +address:N +address:30th +address:St
0 total matching documents in 19 ms
So the querystring is unchanged from what I created, and I get zilch.

However, when I do this:

Analyzer analyzer =3D new WhitespaceAnalyzer();
BooleanQuery baQ =3D new BooleanQuery();
Query parsedAddyQ =3D qp.parse("122 N 30th St");
baQ.add(parsedAddyQ, true, false);

I get this:
Query: +(address:122 address:N address:30th address:St)
62 total matching documents in 8 ms
0. 122 N 30th St
1. PO Box 122
2. PO Box 122
3. 122 N 9th St
4. 122 S Clay Ave
5. 122 E 3rd St
...

So.. I want that first result, I know its in there, its matching as the
highest match, but not when I require all 4 tokens? What gives? What am
I doing wrong?

Also, if it matters Im running the query on a parallelMultiSearcher with
280 indexes of 1 million records each.

Ryan

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12465-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 14 21:07:46 2005
Return-Path: <lucene-user-return-12465-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42431 invoked from network); 14 Jan 2005 21:07:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jan 2005 21:07:46 -0000
Received: (qmail 84063 invoked by uid 500); 14 Jan 2005 21:07:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83766 invoked by uid 500); 14 Jan 2005 21:07:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83753 invoked by uid 99); 14 Jan 2005 21:07:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 14 Jan 2005 13:07:39 -0800
Received: (qmail 31992 invoked by uid 532); 14 Jan 2005 21:06:18 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.036741 secs); 14 Jan 2005 21:06:18 -0000
Received: from unknown (HELO ?10.0.0.157?) (127.0.0.1)
  by 0 with SMTP; 14 Jan 2005 21:06:18 -0000
Message-ID: <41E834AD.40605@tropo.com>
Date: Fri, 14 Jan 2005 13:07:57 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Fun with the Wikipedia
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


For my own amusement I've indexed the Wikipedia and put up pages that:
- display search results
- cluster the results using Carrot2 (my first use of this)
- display similar pages using the entire text to re-query for similar 
docs and
- display similar pages using the "more like this" algorithm (TBD is get 
this into the sandbox, sorry for delays..)


You start off here to search:

	http://www.searchmorph.com/kat/wikipedia.jsp


And the weblog entry goes into a bit more detail:

	http://www.searchmorph.com/weblog/index.php?id=37



It's kinda fun to explore the Wikipedia by looking for pages similar to 
other ones.

Hope people find this useful...

- Dave

PS
   I'm in the process of running the page rank algorithm (from 
jung.sf.net) on most of the entries in the Wikipedia. It has taken over 
2 days so far....

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12466-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 14 22:09:25 2005
Return-Path: <lucene-user-return-12466-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70768 invoked from network); 14 Jan 2005 22:09:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jan 2005 22:09:25 -0000
Received: (qmail 87380 invoked by uid 500); 14 Jan 2005 22:09:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87324 invoked by uid 500); 14 Jan 2005 22:09:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87278 invoked by uid 99); 14 Jan 2005 22:09:11 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail01.internetmailserver.net (HELO mail01.internetmailserver.net) (64.79.161.12)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 14 Jan 2005 14:09:10 -0800
Received: (qmail 22278 invoked by uid 89); 14 Jan 2005 22:09:07 -0000
Received: from unknown (HELO webmail.codeintime.com) (192.168.100.126)
  by mail01.internetmailserver.net with SMTP; 14 Jan 2005 22:09:07 -0000
Received: from 144.136.135.234
        (SquirrelMail authenticated user aneesha@codeintime.com);
        by webmail.codeintime.com with HTTP;
        Fri, 14 Jan 2005 14:09:07 -0800 (PST)
Message-ID: <1333.144.136.135.234.1105740547.squirrel@144.136.135.234>
In-Reply-To: <41E834AD.40605@tropo.com>
References: <41E834AD.40605@tropo.com>
Date: Fri, 14 Jan 2005 14:09:07 -0800 (PST)
Subject: Re: Fun with the Wikipedia
From: aneesha@codeintime.com
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
User-Agent: SquirrelMail/1.4.3a
X-Mailer: SquirrelMail/1.4.3a
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

That is awesome and very inspirational!

Carrot2 looks very interesting. Wondering if anybody has a list of all the
academic research projects using Lucene. The only other one that I know of
is Striver - which uses a support vector machine to learn the ranking
function: http://www.cs.cornell.edu/People/tj/career/

Aneesha


>
> For my own amusement I've indexed the Wikipedia and put up pages that:
> - display search results
> - cluster the results using Carrot2 (my first use of this)
> - display similar pages using the entire text to re-query for similar
> docs and
> - display similar pages using the "more like this" algorithm (TBD is get
> this into the sandbox, sorry for delays..)
>
>
> You start off here to search:
>
> 	http://www.searchmorph.com/kat/wikipedia.jsp
>
>
> And the weblog entry goes into a bit more detail:
>
> 	http://www.searchmorph.com/weblog/index.php?id=37
>
>
>
> It's kinda fun to explore the Wikipedia by looking for pages similar to
> other ones.
>
> Hope people find this useful...
>
> - Dave
>
> PS
>    I'm in the process of running the page rank algorithm (from
> jung.sf.net) on most of the entries in the Wikipedia. It has taken over
> 2 days so far....
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12467-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 14 23:15:29 2005
Return-Path: <lucene-user-return-12467-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99350 invoked from network); 14 Jan 2005 23:15:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Jan 2005 23:15:29 -0000
Received: (qmail 64314 invoked by uid 500); 14 Jan 2005 23:15:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64270 invoked by uid 500); 14 Jan 2005 23:15:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64232 invoked by uid 99); 14 Jan 2005 23:15:18 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 14 Jan 2005 15:15:14 -0800
Received: (qmail 8221 invoked by uid 532); 14 Jan 2005 23:13:53 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.380935 secs); 14 Jan 2005 23:13:53 -0000
Received: from unknown (HELO ?10.0.0.157?) (127.0.0.1)
  by 0 with SMTP; 14 Jan 2005 23:13:52 -0000
Message-ID: <41E85293.7050103@tropo.com>
Date: Fri, 14 Jan 2005 15:15:31 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: carrot2 question too - Re: Fun with the Wikipedia
References: <41E834AD.40605@tropo.com> <1333.144.136.135.234.1105740547.squirrel@144.136.135.234>
In-Reply-To: <1333.144.136.135.234.1105740547.squirrel@144.136.135.234>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

aneesha@codeintime.com wrote:

> That is awesome and very inspirational!

Thank you.

> 
> Carrot2 looks very interesting. Wondering if anybody has a list of all the

Technically I don't think carrot2 uses lucene per-se- it's just that you 
can integrate the two, and ditto for Nutch - it has code that uses Carrot2.

This post is where the code I used as a basis came from:

http://www.newsarch.com/archive/mailinglist/jakarta/lucene/user/msg03928.html

This is URL w/ the code:

http://www.cs.put.poznan.pl/dweiss/tmp/carrot2-lucene.zip


And here's my question. I reread the Carrot2<->Lucene code, esp 
Demo.java, and there's this fragment:

     // warm-up round (stemmer tables must be read etc).
     List clusters = clusterer.clusterHits(docs);

     long clusteringStartTime = System.currentTimeMillis();
     clusters = clusterer.clusterHits(docs);
     long clusteringEndTime = System.currentTimeMillis();

Thus it calls clusterHits() twice.

I don't really understand how to use Carrot2 - but I think the above is 
just for the sake of benchmarking clusterHits() w/o the effect of 1-time 
initialization - and that there's no benefit of repeatedly calling 
clusterHits (where a benefit might be that it can find nested clusters 
or whatever) - is that right (that there's no benefit)?



> academic research projects using Lucene. The only other one that I know of
> is Striver - which uses a support vector machine to learn the ranking
> function: http://www.cs.cornell.edu/People/tj/career/

Could always search citeseer for mentions of Lucene too.
> 
> Aneesha
> 
> 
> 
>>For my own amusement I've indexed the Wikipedia and put up pages that:
>>- display search results
>>- cluster the results using Carrot2 (my first use of this)
>>- display similar pages using the entire text to re-query for similar
>>docs and
>>- display similar pages using the "more like this" algorithm (TBD is get
>>this into the sandbox, sorry for delays..)
>>
>>
>>You start off here to search:
>>
>>	http://www.searchmorph.com/kat/wikipedia.jsp
>>
>>
>>And the weblog entry goes into a bit more detail:
>>
>>	http://www.searchmorph.com/weblog/index.php?id=37
>>
>>
>>
>>It's kinda fun to explore the Wikipedia by looking for pages similar to
>>other ones.
>>
>>Hope people find this useful...
>>
>>- Dave
>>
>>PS
>>   I'm in the process of running the page rank algorithm (from
>>jung.sf.net) on most of the entries in the Wikipedia. It has taken over
>>2 days so far....
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12468-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 15 08:19:59 2005
Return-Path: <lucene-user-return-12468-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90641 invoked from network); 15 Jan 2005 08:19:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jan 2005 08:19:59 -0000
Received: (qmail 94532 invoked by uid 500); 15 Jan 2005 08:19:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94505 invoked by uid 500); 15 Jan 2005 08:19:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94491 invoked by uid 99); 15 Jan 2005 08:19:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from moutvdom.kundenserver.de (HELO moutvdomng.kundenserver.de) (212.227.126.249)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 15 Jan 2005 00:19:53 -0800
Received: from [212.227.126.221] (helo=mrvdomng.kundenserver.de)
	by moutvdomng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1Cpj9y-0007T5-00
	for lucene-user@jakarta.apache.org; Sat, 15 Jan 2005 09:19:50 +0100
Received: from [80.128.72.150] (helo=eco)
	by mrvdomng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1Cpj9y-00042w-00
	for lucene-user@jakarta.apache.org; Sat, 15 Jan 2005 09:19:50 +0100
Received: by eco (Postfix, from userid 1000)
	id 2980D83888; Sat, 15 Jan 2005 09:21:56 +0100 (CET)
From: Morus Walter <morus.walter@gmx.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16872.53923.894262.746354@onlinehome.de>
Date: Sat, 15 Jan 2005 09:21:55 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Best way to find if a document exists, using Reader ...
In-Reply-To: <034701c4fa43$03cf0bf0$aa87a8c0@ppeddi>
References: <034201c4fa3b$a3817000$aa87a8c0@ppeddi>
	<16871.52016.872277.368544@tanto-xipolis.de>
	<034701c4fa43$03cf0bf0$aa87a8c0@ppeddi>
X-Mailer: VM 7.17 under 21.4 (patch 15) "Security Through Obscurity" XEmacs Lucid
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Praveen,
> 
> I tested as follows:
> 1) Adding 250K documents took half an hour for lucene.
> 2) Deleting and adding same 250K documents took more than 50 minutes. In my 
> test all 250K objects are new so there is nothing to delete.
> 
> Looks like there is no other way to make it fast.
> 
Depending on the number of documents you have to deal with and the
memory available you might consider duplicating the info about indexed 
keys into a hash and check that.
Reading all the keys once should be fast.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12469-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 15 11:34:54 2005
Return-Path: <lucene-user-return-12469-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53599 invoked from network); 15 Jan 2005 11:34:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jan 2005 11:34:54 -0000
Received: (qmail 93440 invoked by uid 500); 15 Jan 2005 11:34:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92597 invoked by uid 500); 15 Jan 2005 11:34:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92582 invoked by uid 99); 15 Jan 2005 11:34:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of sunilgoyal@gmail.com designates 64.233.184.202 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.202)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 15 Jan 2005 03:34:50 -0800
Received: by wproxy.gmail.com with SMTP id 68so920198wra
        for <lucene-user@jakarta.apache.org>; Sat, 15 Jan 2005 03:34:49 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=WRy/wWMz2mBljBmHpXLCLXcb99Xy7fxLtwsFevTLkscSTushbKepIkSeySTx3pxsJgsAdPBwTLND4vQI/7xVex4fcAQo2GL73lo35tQ3+debwbSZx0FsFV1caeOhNkINDxABi2djn+L6+j11zvBoQe3rqAFcEPfrYAkHjfZU0es=
Received: by 10.54.4.2 with SMTP id 2mr178612wrd;
        Sat, 15 Jan 2005 03:34:48 -0800 (PST)
Received: by 10.54.2.34 with HTTP; Sat, 15 Jan 2005 03:34:48 -0800 (PST)
Message-ID: <8d8cb1e050115033477ed4707@mail.gmail.com>
Date: Sat, 15 Jan 2005 17:04:48 +0530
From: sunil goyal <sunilgoyal@gmail.com>
Reply-To: sunil goyal <sunilgoyal@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: lucene integration with relational database
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello all,

I am new to the lucene user group and trying to know more about
lucene. I want to know if lucene can be integrated with relational
database for querying ?

Lets say I have an employee database with their salaries, age , some
textual description (articles) and some other description. I can use
Lucene for instance for building index for the articles and do
querying for certain keywords on those articles.

But can i do for instance a unified query where i want to take certain
parameters (non-textual e.g. age < 30 ) from relational databases and
keywords from the lucene index ?

Thanks

Regards
Sunil

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12470-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 15 12:40:17 2005
Return-Path: <lucene-user-return-12470-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78388 invoked from network); 15 Jan 2005 12:40:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jan 2005 12:40:17 -0000
Received: (qmail 64429 invoked by uid 500); 15 Jan 2005 12:40:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64383 invoked by uid 500); 15 Jan 2005 12:40:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64370 invoked by uid 99); 15 Jan 2005 12:40:14 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from anchor-post-34.mail.demon.net (HELO anchor-post-34.mail.demon.net) (194.217.242.92)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 15 Jan 2005 04:40:12 -0800
Received: from peterpi.demon.co.uk ([80.176.85.36] helo=[10.0.0.3])
	by anchor-post-34.mail.demon.net with esmtp (Exim 4.42)
	id 1CpnDt-00093u-DU
	for lucene-user@jakarta.apache.org; Sat, 15 Jan 2005 12:40:09 +0000
Message-ID: <41E90F24.6040405@semantico.com>
Date: Sat, 15 Jan 2005 12:40:04 +0000
From: Peter Pimley <ppimley@semantico.com>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041124)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: lucene integration with relational database
References: <8d8cb1e050115033477ed4707@mail.gmail.com>
In-Reply-To: <8d8cb1e050115033477ed4707@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

sunil goyal wrote:

>But can i do for instance a unified query where i want to take certain
>parameters (non-textual e.g. age < 30 ) from relational databases and
>keywords from the lucene index ?
>
>  
>
When I have had to do this, I've done the lucene search first, and then 
manually filtered out the hits that fail on other criteria.

I'd suggest doing that first (as it's easiest) and then seeing whether 
the performance is acceptable.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12471-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 15 16:36:23 2005
Return-Path: <lucene-user-return-12471-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67451 invoked from network); 15 Jan 2005 16:36:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jan 2005 16:36:23 -0000
Received: (qmail 3667 invoked by uid 500); 15 Jan 2005 16:36:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2830 invoked by uid 500); 15 Jan 2005 16:36:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2817 invoked by uid 99); 15 Jan 2005 16:36:20 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of chenjian1227@gmail.com designates 64.233.170.204 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.204)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 15 Jan 2005 08:36:19 -0800
Received: by rproxy.gmail.com with SMTP id 34so650482rns
        for <lucene-user@jakarta.apache.org>; Sat, 15 Jan 2005 08:36:17 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=jNsaZwFlBw1bf56Llx7yfdsTFV/ugTPTVF98UmbfQ2KwL89wq1w1sQD3+rn3MNpZp7uKMv+nd6VKOvlK2UscmhqrZJC7PnMqBaqPHjDX0qLL56DqWuIAT3wEOUqb4qQwEYxYT6DdNcDOkHCQgkYW31MxGLX/y+wAOWGlRzCdUb4=
Received: by 10.38.206.10 with SMTP id d10mr118735rng;
        Sat, 15 Jan 2005 08:36:17 -0800 (PST)
Received: by 10.38.8.15 with HTTP; Sat, 15 Jan 2005 08:36:16 -0800 (PST)
Message-ID: <7ca12391050115083637d65ec2@mail.gmail.com>
Date: Sat, 15 Jan 2005 08:36:16 -0800
From: jian chen <chenjian1227@gmail.com>
Reply-To: jian chen <chenjian1227@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: lucene integration with relational database
In-Reply-To: <41E90F24.6040405@semantico.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <8d8cb1e050115033477ed4707@mail.gmail.com>
	 <41E90F24.6040405@semantico.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

To further the discussion. Would the following detailed steps work:

1) do lucene query and get the hits (keyed by the database primary
key, for example, employee id)

2) do database query and get the primary keys (i.e., employee id) for
the result rows, ordered by primary key

3) merge the two sets of primary keys (for example, in memory two-way
merge) and take the top k records

4) display the top k result rows

Cheers,

Jian

On Sat, 15 Jan 2005 12:40:04 +0000, Peter Pimley <ppimley@semantico.com> wrote:
> sunil goyal wrote:
> 
> >But can i do for instance a unified query where i want to take certain
> >parameters (non-textual e.g. age < 30 ) from relational databases and
> >keywords from the lucene index ?
> >
> >
> >
> When I have had to do this, I've done the lucene search first, and then
> manually filtered out the hits that fail on other criteria.
> 
> I'd suggest doing that first (as it's easiest) and then seeing whether
> the performance is acceptable.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12472-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 15 17:00:43 2005
Return-Path: <lucene-user-return-12472-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76476 invoked from network); 15 Jan 2005 17:00:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jan 2005 17:00:43 -0000
Received: (qmail 30147 invoked by uid 500); 15 Jan 2005 17:00:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30122 invoked by uid 500); 15 Jan 2005 17:00:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30109 invoked by uid 99); 15 Jan 2005 17:00:39 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of chenjian1227@gmail.com designates 64.233.170.204 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.204)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 15 Jan 2005 09:00:37 -0800
Received: by rproxy.gmail.com with SMTP id 34so651436rns
        for <lucene-user@jakarta.apache.org>; Sat, 15 Jan 2005 09:00:35 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=cfM1gixNFwprPWrnbCYR/NZHYFKRlga4ysZMXCn47YtwUKVFUilppStNfNmrVPt3L2VeMQ0hlRRDiS7oNgBKV+iBV4eADs7USDL2Nw/Dag538OdcGQzDpSgoitbwqdloZw1qhrS+tGobJrf5wFsPnJkaM0CKLHof/MJIt7W628A=
Received: by 10.38.8.48 with SMTP id 48mr56369rnh;
        Sat, 15 Jan 2005 09:00:35 -0800 (PST)
Received: by 10.38.8.15 with HTTP; Sat, 15 Jan 2005 09:00:35 -0800 (PST)
Message-ID: <7ca12391050115090012e282a9@mail.gmail.com>
Date: Sat, 15 Jan 2005 09:00:35 -0800
From: jian chen <chenjian1227@gmail.com>
Reply-To: jian chen <chenjian1227@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: lucene integration with relational database
In-Reply-To: <7ca12391050115083637d65ec2@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <8d8cb1e050115033477ed4707@mail.gmail.com>
	 <41E90F24.6040405@semantico.com>
	 <7ca12391050115083637d65ec2@mail.gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi, 

Still minor additions to the steps:

1) do lucene query and get the hits (keyed by the database primary
key, for example, employee id)

2) do database query and get the primary keys (i.e., employee id) for
the result rows, ordered by primary key

3) for each lucene query result, look into db query result and see if
the primary key is there (since db query result is sorted already by
primary key, so, a binary search could be applied)

if the primary key is there, store this result, else, discard it

4) when top k results are obtained, send back to the user.

How does this sound?

Cheers,

Jian

On Sat, 15 Jan 2005 08:36:16 -0800, jian chen <chenjian1227@gmail.com> wrote:
> Hi,
> 
> To further the discussion. Would the following detailed steps work:
> 
> 1) do lucene query and get the hits (keyed by the database primary
> key, for example, employee id)
> 
> 2) do database query and get the primary keys (i.e., employee id) for
> the result rows, ordered by primary key
> 
> 3) merge the two sets of primary keys (for example, in memory two-way
> merge) and take the top k records
> 
> 4) display the top k result rows
> 
> Cheers,
> 
> Jian
> 
> On Sat, 15 Jan 2005 12:40:04 +0000, Peter Pimley <ppimley@semantico.com> wrote:
> > sunil goyal wrote:
> >
> > >But can i do for instance a unified query where i want to take certain
> > >parameters (non-textual e.g. age < 30 ) from relational databases and
> > >keywords from the lucene index ?
> > >
> > >
> > >
> > When I have had to do this, I've done the lucene search first, and then
> > manually filtered out the hits that fail on other criteria.
> >
> > I'd suggest doing that first (as it's easiest) and then seeing whether
> > the performance is acceptable.
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12473-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 15 17:33:09 2005
Return-Path: <lucene-user-return-12473-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88480 invoked from network); 15 Jan 2005 17:33:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jan 2005 17:33:09 -0000
Received: (qmail 72903 invoked by uid 500); 15 Jan 2005 17:33:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72594 invoked by uid 500); 15 Jan 2005 17:33:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72581 invoked by uid 99); 15 Jan 2005 17:33:05 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of sunilgoyal@gmail.com designates 64.233.184.202 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.202)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 15 Jan 2005 09:33:04 -0800
Received: by wproxy.gmail.com with SMTP id 37so506268wra
        for <lucene-user@jakarta.apache.org>; Sat, 15 Jan 2005 09:33:02 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=mGHFTtYFTK+B5wcobtf3l2pIEJqV7b/wn9nfKIMUAISzVJgnGXfgHnr2vsZJ9nUBdLV8mrcXkefrrCRqwY/fGKmlcVNSLjvcLIt4dyeW/m6jTAQkIAWoT0Uh/darYWexralODZ6hybiTMxNalCnZH2aTyaofJQ32yjEQBy8dkag=
Received: by 10.54.45.26 with SMTP id s26mr34479wrs;
        Sat, 15 Jan 2005 09:33:00 -0800 (PST)
Received: by 10.54.2.34 with HTTP; Sat, 15 Jan 2005 09:33:00 -0800 (PST)
Message-ID: <8d8cb1e05011509335ea1a0be@mail.gmail.com>
Date: Sat, 15 Jan 2005 23:03:00 +0530
From: sunil goyal <sunilgoyal@gmail.com>
Reply-To: sunil goyal <sunilgoyal@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>, 
	jian chen <chenjian1227@gmail.com>
Subject: Re: lucene integration with relational database
In-Reply-To: <7ca12391050115090012e282a9@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <8d8cb1e050115033477ed4707@mail.gmail.com>
	 <41E90F24.6040405@semantico.com>
	 <7ca12391050115083637d65ec2@mail.gmail.com>
	 <7ca12391050115090012e282a9@mail.gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all,

Thanks for the answers. I was looking for a best practice guide to do
the same. If anyone already had had some practical experience with
such kind of queries, it will be great to know his thoughts.

Thanks

Regards
Sunil


On Sat, 15 Jan 2005 09:00:35 -0800, jian chen <chenjian1227@gmail.com> wrote:
> Hi,
> 
> Still minor additions to the steps:
> 
> 1) do lucene query and get the hits (keyed by the database primary
> key, for example, employee id)
> 
> 2) do database query and get the primary keys (i.e., employee id) for
> the result rows, ordered by primary key
> 
> 3) for each lucene query result, look into db query result and see if
> the primary key is there (since db query result is sorted already by
> primary key, so, a binary search could be applied)
> 
> if the primary key is there, store this result, else, discard it
> 
> 4) when top k results are obtained, send back to the user.
> 
> How does this sound?
> 
> Cheers,
> 
> Jian
> 
> On Sat, 15 Jan 2005 08:36:16 -0800, jian chen <chenjian1227@gmail.com> wrote:
> > Hi,
> >
> > To further the discussion. Would the following detailed steps work:
> >
> > 1) do lucene query and get the hits (keyed by the database primary
> > key, for example, employee id)
> >
> > 2) do database query and get the primary keys (i.e., employee id) for
> > the result rows, ordered by primary key
> >
> > 3) merge the two sets of primary keys (for example, in memory two-way
> > merge) and take the top k records
> >
> > 4) display the top k result rows
> >
> > Cheers,
> >
> > Jian
> >
> > On Sat, 15 Jan 2005 12:40:04 +0000, Peter Pimley <ppimley@semantico.com> wrote:
> > > sunil goyal wrote:
> > >
> > > >But can i do for instance a unified query where i want to take certain
> > > >parameters (non-textual e.g. age < 30 ) from relational databases and
> > > >keywords from the lucene index ?
> > > >
> > > >
> > > >
> > > When I have had to do this, I've done the lucene search first, and then
> > > manually filtered out the hits that fail on other criteria.
> > >
> > > I'd suggest doing that first (as it's easiest) and then seeing whether
> > > the performance is acceptable.
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > >
> > >
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12474-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 15 18:42:38 2005
Return-Path: <lucene-user-return-12474-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11660 invoked from network); 15 Jan 2005 18:42:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Jan 2005 18:42:38 -0000
Received: (qmail 75082 invoked by uid 500); 15 Jan 2005 18:42:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74237 invoked by uid 500); 15 Jan 2005 18:42:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74221 invoked by uid 99); 15 Jan 2005 18:42:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of hunterp@gmail.com designates 64.233.184.204 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.204)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 15 Jan 2005 10:42:35 -0800
Received: by wproxy.gmail.com with SMTP id 71so356702wri
        for <lucene-user@jakarta.apache.org>; Sat, 15 Jan 2005 10:42:33 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=clU+ynMM0GKmkeSN8bakJUqhW6GejJV5FFFwI92mA2hokWbXpXllxqLMeE9NfljU8GDfESTRmAgql1k1qh8OJ75ep69kmHDLQp1/cztCWjxen3ixQK5NWgEsfAgpPNuH+8gvCoFKtll6qcGgB1XbIfYNc3RUsTgXOzK+3gGvrqw=
Received: by 10.54.37.51 with SMTP id k51mr193951wrk;
        Sat, 15 Jan 2005 10:42:33 -0800 (PST)
Received: by 10.54.32.69 with HTTP; Sat, 15 Jan 2005 10:42:32 -0800 (PST)
Message-ID: <3585b2e10501151042192686d1@mail.gmail.com>
Date: Sat, 15 Jan 2005 13:42:32 -0500
From: Hunter Peress <hunterp@gmail.com>
Reply-To: Hunter Peress <hunterp@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: persistent server?
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

is there a lucene server that persists in memory ?

i see this announcement from september in the list
http://mail-archives.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&msgId=1897363

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12475-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jan 16 20:17:28 2005
Return-Path: <lucene-user-return-12475-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86241 invoked from network); 16 Jan 2005 20:17:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Jan 2005 20:17:28 -0000
Received: (qmail 41351 invoked by uid 500); 16 Jan 2005 20:17:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41304 invoked by uid 500); 16 Jan 2005 20:17:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41291 invoked by uid 99); 16 Jan 2005 20:17:23 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from main.gmane.org (HELO main.gmane.org) (80.91.229.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 16 Jan 2005 12:17:22 -0800
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1CqGpr-0000Q5-00
	for <lucene-user@jakarta.apache.org>; Sun, 16 Jan 2005 21:17:19 +0100
Received: from adsl-68-94-21-245.dsl.rcsntx.swbell.net ([68.94.21.245])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Sun, 16 Jan 2005 21:17:19 +0100
Received: from vin by adsl-68-94-21-245.dsl.rcsntx.swbell.net with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Sun, 16 Jan 2005 21:17:19 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: Vic <vin@friendvu.com>
Subject: Field.UnStored depracted in CVS
Date: Sun, 16 Jan 2005 14:17:15 -0600
Lines: 11
Message-ID: <csei4a$9ne$1@sea.gmane.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: adsl-68-94-21-245.dsl.rcsntx.swbell.net
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Field.UnStored("content", content) tell me it's deprecated and the rest 
of the methods.

What should I use instead?

tia,
.V
-- 
RiA-SoA w/JDNC <http://www.SandraSF.com> forums
- help develop a community
My blog <http://www.sandrasf.com/adminBlog>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12476-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jan 16 20:45:14 2005
Return-Path: <lucene-user-return-12476-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4693 invoked from network); 16 Jan 2005 20:45:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Jan 2005 20:45:13 -0000
Received: (qmail 75089 invoked by uid 500); 16 Jan 2005 20:45:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74247 invoked by uid 500); 16 Jan 2005 20:45:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74233 invoked by uid 99); 16 Jan 2005 20:45:10 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from main.gmane.org (HELO main.gmane.org) (80.91.229.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 16 Jan 2005 12:45:09 -0800
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1CqHGl-0000x9-00
	for <lucene-user@jakarta.apache.org>; Sun, 16 Jan 2005 21:45:07 +0100
Received: from adsl-68-94-21-245.dsl.rcsntx.swbell.net ([68.94.21.245])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Sun, 16 Jan 2005 21:45:07 +0100
Received: from vin by adsl-68-94-21-245.dsl.rcsntx.swbell.net with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Sun, 16 Jan 2005 21:45:07 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: Vic <vin@friendvu.com>
Subject: Re: Field.UnStored depracted in CVS
Date: Sun, 16 Jan 2005 14:45:03 -0600
Lines: 22
Message-ID: <csejoe$dkc$1@sea.gmane.org>
References: <csei4a$9ne$1@sea.gmane.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: adsl-68-94-21-245.dsl.rcsntx.swbell.net
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
In-Reply-To: <csei4a$9ne$1@sea.gmane.org>
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Fond it   :-[
in javaDoc. Now it has 2 more argumetns....

.V


Vic wrote:

> Field.UnStored("content", content) tell me it's deprecated and the 
> rest of the methods.
>
> What should I use instead?
>
> tia,
> .V



-- 
RiA-SoA w/JDNC <http://www.SandraSF.com> forums
- help develop a community
My blog <http://www.sandrasf.com/adminBlog>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12477-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 17 04:48:45 2005
Return-Path: <lucene-user-return-12477-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48546 invoked from network); 17 Jan 2005 04:48:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Jan 2005 04:48:45 -0000
Received: (qmail 34279 invoked by uid 500); 17 Jan 2005 04:48:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34015 invoked by uid 500); 17 Jan 2005 04:48:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33996 invoked by uid 99); 17 Jan 2005 04:48:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of clamprecht@gmail.com designates 64.233.170.198 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 16 Jan 2005 20:48:39 -0800
Received: by rproxy.gmail.com with SMTP id z35so282828rne
        for <lucene-user@jakarta.apache.org>; Sun, 16 Jan 2005 20:48:37 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=TLvUiiMlByXPwQpO/+24cntpJun9Zi4VwbKtO0XBKgyLXI22QrICFSZGfww1KlFpJct9Q81cQi3fk3w3YUrWmmFPDaKfWjrRr/m02abbMWrndbJQ/lRxFHziid7m5ZF/5YODrK9X3aXYRJIn5KZt71yZO8Iaso55/V0v9mVSLGk=
Received: by 10.38.99.77 with SMTP id w77mr270714rnb;
        Sun, 16 Jan 2005 20:48:37 -0800 (PST)
Received: by 10.38.104.58 with HTTP; Sun, 16 Jan 2005 20:48:37 -0800 (PST)
Message-ID: <88c6a672050116204866b6cb19@mail.gmail.com>
Date: Sun, 16 Jan 2005 22:48:37 -0600
From: Chris Lamprecht <clamprecht@gmail.com>
Reply-To: Chris Lamprecht <clamprecht@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: StandardAnalyzer unit tests?
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Does anyone have a unit test for StandardAnalyzer?  I've modified the
StandardAnalyzer javacc grammar to tokenize "c#" and "c++" without
removing the "#" and "++" parts, using pieces of the grammar from
Nutch.  Now I'd like to make sure I didn't change the way it parses
any other tokens.  thanks,

-Chris

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12478-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 17 04:49:57 2005
Return-Path: <lucene-user-return-12478-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48954 invoked from network); 17 Jan 2005 04:49:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Jan 2005 04:49:56 -0000
Received: (qmail 36695 invoked by uid 500); 17 Jan 2005 04:49:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36672 invoked by uid 500); 17 Jan 2005 04:49:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36655 invoked by uid 99); 17 Jan 2005 04:49:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of clamprecht@gmail.com designates 64.233.170.194 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.194)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 16 Jan 2005 20:49:50 -0800
Received: by rproxy.gmail.com with SMTP id z35so282914rne
        for <lucene-user@jakarta.apache.org>; Sun, 16 Jan 2005 20:49:48 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=IDnq09KUneI7c8BUDZ7mnKOp4sm2zMRqWg85FBIsNFrFXdwAvWX+SnQPxu8F/hpzLnTr9LWA5ua0aaJtNCZrm5OWVfkbBt3vRPF5cEOBNuxz2y/ZGc9erIpBv0IIeKgXebcoYHKEkpYwGTODwVe/60QSfgV+kJqKZYzm/DNH/Q0=
Received: by 10.39.3.57 with SMTP id f57mr185940rni;
        Sun, 16 Jan 2005 20:49:47 -0800 (PST)
Received: by 10.38.104.58 with HTTP; Sun, 16 Jan 2005 20:49:47 -0800 (PST)
Message-ID: <88c6a6720501162049754499e1@mail.gmail.com>
Date: Sun, 16 Jan 2005 22:49:47 -0600
From: Chris Lamprecht <clamprecht@gmail.com>
Reply-To: Chris Lamprecht <clamprecht@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: Re: StandardAnalyzer unit tests?
In-Reply-To: <88c6a672050116204866b6cb19@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <88c6a672050116204866b6cb19@mail.gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

PS-I didn't find any in lucene CVS head, and I'd be glad to contribute
some unit tests.


> Does anyone have a unit test for StandardAnalyzer?  I've modified the

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12479-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 17 05:16:08 2005
Return-Path: <lucene-user-return-12479-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60589 invoked from network); 17 Jan 2005 05:16:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Jan 2005 05:16:08 -0000
Received: (qmail 75896 invoked by uid 500); 17 Jan 2005 05:16:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75784 invoked by uid 500); 17 Jan 2005 05:16:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75770 invoked by uid 99); 17 Jan 2005 05:16:03 -0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp5.wanadoo.fr (HELO smtp5.wanadoo.fr) (193.252.22.26)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 16 Jan 2005 21:16:02 -0800
Received: from me-wanadoo.net (unknown [127.0.0.1])
	by mwinf0502.wanadoo.fr (SMTP Server) with ESMTP id ABD541C001DC
	for <lucene-user@jakarta.apache.org>; Mon, 17 Jan 2005 06:15:59 +0100 (CET)
Received: from wwinf0501 (wwinf0501 [172.22.136.28])
	by mwinf0502.wanadoo.fr (SMTP Server) with ESMTP id 9EA281C001DB
	for <lucene-user@jakarta.apache.org>; Mon, 17 Jan 2005 06:15:59 +0100 (CET)
X-ME-UUID: 20050117051559649.9EA281C001DB@mwinf0502.wanadoo.fr
Message-ID: <32945507.1105938959630.JavaMail.www@wwinf0501>
From: Eternal Security <veptune@wanadoo.fr>
Reply-To: veptune@wanadoo.fr
To: lucene-user@jakarta.apache.org
Subject: How to get the "context" of the searched word ?
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Originating-IP: [203.144.75.14]
X-WUM-FROM: |~|
X-WUM-TO: |~|
X-WUM-REPLYTO: |~|
Date: Mon, 17 Jan 2005 06:15:59 +0100 (CET)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello all

When i search a word on documents, i want to get also the "context" of the word, for examples the 10 words before and after.
Like in search engine like google or yahoo.

So i have tried to use the Highlight modules, but Highlight need to get a String of the contents.

I use this function :

highlighter.highlightText(myString);

myString must to be the contents of the whole document !

But of course i don't want to store all the contents in the index files !

How can i do ?

I'm  sure i'm not the first lucene's user who want to get the "context" of the searched word.
I need to use Highlight or do you know a better way ?


Thanks in advance.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12480-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 17 05:33:22 2005
Return-Path: <lucene-user-return-12480-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66455 invoked from network); 17 Jan 2005 05:33:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Jan 2005 05:33:22 -0000
Received: (qmail 96079 invoked by uid 500); 17 Jan 2005 05:33:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96056 invoked by uid 500); 17 Jan 2005 05:33:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96042 invoked by uid 99); 17 Jan 2005 05:33:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 16 Jan 2005 21:33:15 -0800
Received: (qmail 3740 invoked by uid 532); 17 Jan 2005 05:31:50 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.30536 secs); 17 Jan 2005 05:31:50 -0000
Received: from unknown (HELO ?172.31.1.2?) (127.0.0.1)
  by 0 with SMTP; 17 Jan 2005 05:31:49 -0000
Message-ID: <41EB4E17.6080005@tropo.com>
Date: Sun, 16 Jan 2005 21:33:11 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041217
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How to get the "context" of the searched word ?
References: <32945507.1105938959630.JavaMail.www@wwinf0501>
In-Reply-To: <32945507.1105938959630.JavaMail.www@wwinf0501>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Eternal Security wrote:

> Hello all
> 
> When i search a word on documents, i want to get also the "context" of the word, for examples the 10 words before and after.
> Like in search engine like google or yahoo.
> 
> So i have tried to use the Highlight modules, but Highlight need to get a String of the contents.
> 
> I use this function :
> 
> highlighter.highlightText(myString);
> 
> myString must to be the contents of the whole document !
> 
> But of course i don't want to store all the contents in the index files !
> 
> How can i do ?
> 
> I'm  sure i'm not the first lucene's user who want to get the "context" of the searched word.
> I need to use Highlight or do you know a better way ?

This is just the way it is - you can always compress the content. Only 
alternative is enabling term vectors for the body field - then - (um..I 
think) you don't need the entire content separately - instead is comes 
from the Lucene index.
To store the term vector the 3rd arg here will be true.
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/document/Field.html#Text(java.lang.String,%20java.lang.String,%20boolean)
I believe the index size will increase, but I haven't measured it.

> 
> 
> Thanks in advance.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12481-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 17 08:05:02 2005
Return-Path: <lucene-user-return-12481-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26814 invoked from network); 17 Jan 2005 08:05:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Jan 2005 08:05:02 -0000
Received: (qmail 53442 invoked by uid 500); 17 Jan 2005 08:04:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53420 invoked by uid 500); 17 Jan 2005 08:04:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53407 invoked by uid 99); 17 Jan 2005 08:04:49 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr1.xs4all.nl (HELO smtp-vbr1.xs4all.nl) (194.109.24.21)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 17 Jan 2005 00:04:48 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr1.xs4all.nl (8.12.11/8.12.11) with ESMTP id j0H84jQQ051093
	for <lucene-user@jakarta.apache.org>; Mon, 17 Jan 2005 09:04:45 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: StandardAnalyzer unit tests?
Date: Mon, 17 Jan 2005 09:04:45 +0100
User-Agent: KMail/1.5.4
References: <88c6a672050116204866b6cb19@mail.gmail.com> <88c6a6720501162049754499e1@mail.gmail.com>
In-Reply-To: <88c6a6720501162049754499e1@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200501170904.45026.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Chris,

On Monday 17 January 2005 05:49, Chris Lamprecht wrote:
> PS-I didn't find any in lucene CVS head, and I'd be glad to contribute
> some unit tests.

Under Unix this will give you the cvs head:

cvs -d :pserver:anoncvs@cvs.apache.org:/home/cvspublic checkout jakarta-lucene

The tests are in the jakarta-lucene/src/test directory.
There are some tests that might be interesting in the queryParser and analysis 
directories below the obligatory org/apache/lucene.

In case these tests are not covering what you need, or you need help to run 
the tests, could you continue on lucene-dev?

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12482-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 17 08:32:41 2005
Return-Path: <lucene-user-return-12482-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63075 invoked from network); 17 Jan 2005 08:32:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Jan 2005 08:32:40 -0000
Received: (qmail 11192 invoked by uid 500); 17 Jan 2005 08:32:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11134 invoked by uid 500); 17 Jan 2005 08:32:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11094 invoked by uid 99); 17 Jan 2005 08:32:24 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork3.mail.Virginia.EDU (HELO fork3.mail.virginia.edu) (128.143.2.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 17 Jan 2005 00:32:24 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id E77F21C04B
	for <lucene-user@jakarta.apache.org>; Mon, 17 Jan 2005 03:32:21 -0500 (EST)
Received: from fork3.mail.virginia.edu ([127.0.0.1])
 by localhost (fork3.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 28111-07 for <lucene-user@jakarta.apache.org>;
 Mon, 17 Jan 2005 03:32:21 -0500 (EST)
Received: from [12.1.10.119] (unknown [204.8.204.98])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id 95B671BFDD
	for <lucene-user@jakarta.apache.org>; Mon, 17 Jan 2005 03:32:21 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <88c6a672050116204866b6cb19@mail.gmail.com>
References: <88c6a672050116204866b6cb19@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <18461DCC-6861-11D9-9D0A-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: StandardAnalyzer unit tests?
Date: Mon, 17 Jan 2005 03:23:41 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork3.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I don't see any tests of StandardAnalyzer either.  Your contribution 
would be most welcome.  There are tests that use StandardAnalyzer, but 
not to test it directly.

	Erik

On Jan 16, 2005, at 11:48 PM, Chris Lamprecht wrote:

> Does anyone have a unit test for StandardAnalyzer?  I've modified the
> StandardAnalyzer javacc grammar to tokenize "c#" and "c++" without
> removing the "#" and "++" parts, using pieces of the grammar from
> Nutch.  Now I'd like to make sure I didn't change the way it parses
> any other tokens.  thanks,
>
> -Chris
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12483-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 17 09:14:43 2005
Return-Path: <lucene-user-return-12483-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82327 invoked from network); 17 Jan 2005 09:14:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Jan 2005 09:14:42 -0000
Received: (qmail 3520 invoked by uid 500); 17 Jan 2005 09:14:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3491 invoked by uid 500); 17 Jan 2005 09:14:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3477 invoked by uid 99); 17 Jan 2005 09:14:26 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from libra.cs.put.poznan.pl (HELO libra.cs.put.poznan.pl) (150.254.30.30)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 17 Jan 2005 01:14:25 -0800
Received: from libra.cs.put.poznan.pl (localhost [127.0.0.1])
	by libra (Postfix on VMS) with SMTP id 88A232EF9
	for <lucene-user@jakarta.apache.org>; Mon, 17 Jan 2005 10:14:21 +0100 (CET)
Received: from [150.254.24.146] (idss-dw-pnca.cs.put.poznan.pl [150.254.24.146])
	by libra.cs.put.poznan.pl (Postfix on VMS) with ESMTP id 552072EB2
	for <lucene-user@jakarta.apache.org>; Mon, 17 Jan 2005 10:14:21 +0100 (CET)
Message-ID: <41EB8219.5040408@cs.put.poznan.pl>
Date: Mon, 17 Jan 2005 10:15:05 +0100
From: Dawid Weiss <dawid.weiss@cs.put.poznan.pl>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: carrot2 question too - Re: Fun with the Wikipedia
References: <41E834AD.40605@tropo.com> <1333.144.136.135.234.1105740547.squirrel@144.136.135.234> <41E85293.7050103@tropo.com>
In-Reply-To: <41E85293.7050103@tropo.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi David,

I apologize about the delay in answering this one, Lucene is a busy 
mailing list and I had a hectic last week... Again, sorry for belated 
answer, hope you still find it useful.

>> That is awesome and very inspirational!

Yes, I admit what you've done with Wikipedia is quite interesting and 
looks very good. I'm also glad you spent some time working out Carrot 
integration with Lucene. It works quite nice.

>> Carrot2 looks very interesting. Wondering if anybody has a list of all 
>> the
> 
> Technically I don't think carrot2 uses lucene per-se- it's just that you 
> can integrate the two, and ditto for Nutch - it has code that uses Carrot2.

Yes, this is true. Carrot2 doesn't use all of Lucene's potential -- it 
merely takes the output from a query (titles, urls and snippets) and 
attempts to cluster them into some sensible groups. I think many things 
could be improved, the most important of them is fast snippet retrieval 
   from Lucene because right now it takes 50% of the time of the 
clustering; I've seen a post a while ago describing a faster snippet 
generation technique, I'm sure that would give clustering a huge boost 
speed-wise.

> And here's my question. I reread the Carrot2<->Lucene code, esp 
> Demo.java, and there's this fragment:
> 
>     // warm-up round (stemmer tables must be read etc).
>     List clusters = clusterer.clusterHits(docs);
> 
>     long clusteringStartTime = System.currentTimeMillis();
>     clusters = clusterer.clusterHits(docs);
>     long clusteringEndTime = System.currentTimeMillis();
> 
> Thus it calls clusterHits() twice.
> 
> I don't really understand how to use Carrot2 - but I think the above is 
> just for the sake of benchmarking clusterHits() w/o the effect of 1-time 
> initialization - and that there's no benefit of repeatedly calling 
> clusterHits (where a benefit might be that it can find nested clusters 
> or whatever) - is that right (that there's no benefit)?

No, there is absolutely no benefit from it. It was merely to show people 
that the clustering needs to be warmed up a bit. I should not have put 
it in the code knowing people would be confused by it. You can safely 
use clusterHits just once. It will just have a small delay at the first 
invocation.


Thanks for experimenting. Please BCC me if you have any urgent projects 
-- I read Lucene's list in batches and my personal e-mail I try to keep 
up to date with.

Dawid

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12484-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 17 09:47:13 2005
Return-Path: <lucene-user-return-12484-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2270 invoked from network); 17 Jan 2005 09:47:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Jan 2005 09:47:12 -0000
Received: (qmail 83863 invoked by uid 500); 17 Jan 2005 09:47:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83775 invoked by uid 500); 17 Jan 2005 09:47:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83760 invoked by uid 99); 17 Jan 2005 09:47:05 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=SUBJ_ALL_CAPS,UPPERCASE_25_50
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 17 Jan 2005 01:47:04 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id IAGH9E00.4OI for <lucene-user@jakarta.apache.org>; Mon,
          17 Jan 2005 15:33:14 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "LUCENE" <lucene-user@jakarta.apache.org>
Subject: QUERYPARSER + LEXECIAL ERROR
Date: Mon, 17 Jan 2005 15:21:47 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKOEAECBAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



Hi  Guys.

Apologies.........



The Query Parser is giving me an Lexical Error

String  searchWrd = "kid \"toy\" OR \"ball\" "

org.apache.lucene.queryParser.TokenMgrError: Lexical error at line 1, column
26. Encountered: <EOF> after : ""
at
org.apache.lucene.queryParser.QueryParserTokenManager.getNextToken(QueryPars
erTokenManager.java:1050)

What is this Happening?

Lucene version :  Lucene 1.4.3.jar
Jdk version        :  Jdk 1.4.2
O/s                      :  Win2000

Some body Please Reply






WITH WARM REGARDS
HAVE A NICE DAY
[ N.S.KARTHIK]



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12485-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 17 09:51:20 2005
Return-Path: <lucene-user-return-12485-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4383 invoked from network); 17 Jan 2005 09:51:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Jan 2005 09:51:20 -0000
Received: (qmail 95145 invoked by uid 500); 17 Jan 2005 09:51:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95084 invoked by uid 500); 17 Jan 2005 09:51:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95067 invoked by uid 99); 17 Jan 2005 09:51:05 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of clamprecht@gmail.com designates 64.233.170.201 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.201)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 17 Jan 2005 01:51:05 -0800
Received: by rproxy.gmail.com with SMTP id z35so306168rne
        for <lucene-user@jakarta.apache.org>; Mon, 17 Jan 2005 01:51:03 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=FTfoF7jxCM/LopTQ2fIvUgn7YJDOG12w10Cva+Iqqp7Ja/A9APJCGCjlFewkW161iVJVagFR/DiQDTRUpuHl+JKVVpp2nA8IzpBCpzenw6fsNd+uQ/QnRGOydTPNjZvaBDbLM4mJvEst/GXFAviWcvLYqHMhiKKgfnZIDCkjyjc=
Received: by 10.38.181.66 with SMTP id d66mr165726rnf;
        Mon, 17 Jan 2005 01:51:03 -0800 (PST)
Received: by 10.38.104.58 with HTTP; Mon, 17 Jan 2005 01:51:03 -0800 (PST)
Message-ID: <88c6a6720501170151642c5996@mail.gmail.com>
Date: Mon, 17 Jan 2005 03:51:03 -0600
From: Chris Lamprecht <clamprecht@gmail.com>
Reply-To: Chris Lamprecht <clamprecht@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: StandardAnalyzer unit tests?
In-Reply-To: <18461DCC-6861-11D9-9D0A-000A95BC61B6@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <88c6a672050116204866b6cb19@mail.gmail.com>
	 <18461DCC-6861-11D9-9D0A-000A95BC61B6@ehatchersolutions.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik, Paul, Daniel,

I submitted a testcase --
http://issues.apache.org/bugzilla/show_bug.cgi?id=33134

On a related note, what do you all think about updating the
StandardAnalyzer grammar to treat "C#" and "C++" as tokens?  It's a
small modification to the grammar -- NutchAnalysis.jj has it.

-Chris

On Mon, 17 Jan 2005 03:23:41 -0500, Erik Hatcher
<erik@ehatchersolutions.com> wrote:
> I don't see any tests of StandardAnalyzer either.  Your contribution
> would be most welcome.  There are tests that use StandardAnalyzer, but
> not to test it directly.
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12486-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 17 12:42:28 2005
Return-Path: <lucene-user-return-12486-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10631 invoked from network); 17 Jan 2005 12:42:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Jan 2005 12:42:27 -0000
Received: (qmail 80606 invoked by uid 500); 17 Jan 2005 12:42:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80545 invoked by uid 500); 17 Jan 2005 12:42:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80526 invoked by uid 99); 17 Jan 2005 12:42:18 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.reitverein-hohenhameln.de (HELO upk-webserver2.upk.de) (62.153.127.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 17 Jan 2005 04:42:16 -0800
content-class: urn:content-classes:message
Subject: How to get all field values from a Hits object?
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Mon, 17 Jan 2005 13:36:16 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.0.6556.0
Message-ID: <D9DB9769052FAC458635F1B52A097A670DAD83@upk.de>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: How to get all field values from a Hits object?
Thread-Index: AcT8khtG/XFJnKQ4Tiil0lyIipvdXA==
From: "Tim Lebedkov \(UPK\)" <Tim-Lebedkov@upk.de>
To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

is it possible to get all different values for a
<Field> from a <Hits> object and how to do this?

Thank You
--Tim

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12487-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 17 13:25:04 2005
Return-Path: <lucene-user-return-12487-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31780 invoked from network); 17 Jan 2005 13:25:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Jan 2005 13:25:04 -0000
Received: (qmail 67963 invoked by uid 500); 17 Jan 2005 13:24:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67903 invoked by uid 500); 17 Jan 2005 13:24:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67879 invoked by uid 99); 17 Jan 2005 13:24:55 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 209-254-108-74.ip.mcleodusa.net (HELO enigmastation.com) (209.254.108.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 17 Jan 2005 05:24:53 -0800
Received: from localhost (joeo@localhost)
	by enigmastation.com (8.11.6/8.11.6) with ESMTP id j0HDLMq20551
	for <lucene-user@jakarta.apache.org>; Mon, 17 Jan 2005 08:21:22 -0500
Date: Mon, 17 Jan 2005 08:21:22 -0500 (EST)
From: Joseph Ottinger <joeo@enigmastation.com>
To: "Lucene User's List" <lucene-user@jakarta.apache.org>
Subject: SUggestions for remoting lucene?
Message-ID: <Pine.LNX.4.33.0501170819280.20512-100000@enigmastation.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I just realised that the Hits object isn't Serializable, although Document
and Field are. I can easily build a Hits equivalent that *is*
Serializable, but should that be on my end, or at the Lucene API level?

-----------------------------------------------------------------------
Joseph B. Ottinger                             http://enigmastation.com
IT Consultant                                    joeo@enigmastation.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12488-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 17 13:32:49 2005
Return-Path: <lucene-user-return-12488-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36047 invoked from network); 17 Jan 2005 13:32:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Jan 2005 13:32:49 -0000
Received: (qmail 84592 invoked by uid 500); 17 Jan 2005 13:32:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84564 invoked by uid 500); 17 Jan 2005 13:32:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84532 invoked by uid 99); 17 Jan 2005 13:32:43 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 81-5-138-216.dsl.eclipse.net.uk (HELO goose.milesbarr.com) (81.5.138.216)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 17 Jan 2005 05:32:42 -0800
Received: by goose.milesbarr.com (Postfix, from userid 1000)
	id 1499927E452; Mon, 17 Jan 2005 13:29:52 +0000 (GMT)
Subject: Re: How to get all field values from a Hits object?
From: Miles Barr <miles@runtime-collective.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <D9DB9769052FAC458635F1B52A097A670DAD83@upk.de>
References: <D9DB9769052FAC458635F1B52A097A670DAD83@upk.de>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Organization: Runtime Collective Ltd.
Date: Mon, 17 Jan 2005 13:29:51 +0000
Message-Id: <1105968591.2945.4.camel@goose.milesbarr.com>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mon, 2005-01-17 at 13:36 +0100, Tim Lebedkov (UPK) wrote:
> is it possible to get all different values for a
> <Field> from a <Hits> object and how to do this?

Not unless you iterate through all the documents in the Hits object,
e.g.

Set fields = new HashSet();
for (int i = 0; i < hits.length(); i++) {
    Document doc = hits.doc(i);
    fields.add(doc.get("fieldName"));
}

but you probably don't want to do this on a per search basis because
retrieving the document is an expensive operation.



-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12489-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 17 15:23:20 2005
Return-Path: <lucene-user-return-12489-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17052 invoked from network); 17 Jan 2005 15:23:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Jan 2005 15:23:20 -0000
Received: (qmail 89502 invoked by uid 500); 17 Jan 2005 15:23:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89475 invoked by uid 500); 17 Jan 2005 15:23:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89461 invoked by uid 99); 17 Jan 2005 15:23:13 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30205.mail.mud.yahoo.com (HELO web30205.mail.mud.yahoo.com) (68.142.200.88)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 17 Jan 2005 07:23:10 -0800
Received: (qmail 2081 invoked by uid 60001); 17 Jan 2005 15:23:08 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=PlQsIjss0nW7TMkO8Q4XED+/n3jWuN7M82q2j3zdhvSWOw7sSnfSgC7IWOIcVZ+brmd7sC9Tnu1HJ7pFf0KVJn9Xwvo1T0JU50K+KviZ+74EL+lIhPSp6VLnI1ioRyVsAT3SQRR7UEzQY9+tHRycyiCE15bvTw+WUZkUQ/pEd1I=  ;
Message-ID: <20050117152308.2079.qmail@web30205.mail.mud.yahoo.com>
Received: from [69.201.139.168] by web30205.mail.mud.yahoo.com via HTTP; Mon, 17 Jan 2005 07:23:08 PST
Date: Mon, 17 Jan 2005 07:23:08 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: QUERYPARSER + LEXECIAL ERROR
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <OBELINLGKPEMCIEIJJNKOEAECBAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

Try:
  String  searchWrd = "kid \"toy\"" OR "kid \"ball\""

You'll have to use a WhitespaceAnalyzer with that, though, or a custom
Analyzer that doesn't remove the escape character (\).

Otis


--- Karthik N S <karthik@controlnet.co.in> wrote:

> 
> 
> Hi  Guys.
> 
> Apologies.........
> 
> 
> 
> The Query Parser is giving me an Lexical Error
> 
> String  searchWrd = "kid \"toy\" OR \"ball\" "
> 
> org.apache.lucene.queryParser.TokenMgrError: Lexical error at line 1,
> column
> 26. Encountered: <EOF> after : ""
> at
>
org.apache.lucene.queryParser.QueryParserTokenManager.getNextToken(QueryPars
> erTokenManager.java:1050)
> 
> What is this Happening?
> 
> Lucene version :  Lucene 1.4.3.jar
> Jdk version        :  Jdk 1.4.2
> O/s                      :  Win2000
> 
> Some body Please Reply
> 
> 
> 
> 
> 
> 
> WITH WARM REGARDS
> HAVE A NICE DAY
> [ N.S.KARTHIK]
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12490-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 17 15:28:58 2005
Return-Path: <lucene-user-return-12490-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23115 invoked from network); 17 Jan 2005 15:28:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Jan 2005 15:28:57 -0000
Received: (qmail 10174 invoked by uid 500); 17 Jan 2005 15:28:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10150 invoked by uid 500); 17 Jan 2005 15:28:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10136 invoked by uid 99); 17 Jan 2005 15:28:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork6.mail.Virginia.EDU (HELO fork6.mail.virginia.edu) (128.143.2.176)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 17 Jan 2005 07:28:45 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id C04281C084
	for <lucene-user@jakarta.apache.org>; Mon, 17 Jan 2005 10:28:42 -0500 (EST)
Received: from fork6.mail.virginia.edu ([127.0.0.1])
 by localhost (fork6.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 31822-04 for <lucene-user@jakarta.apache.org>;
 Mon, 17 Jan 2005 10:28:42 -0500 (EST)
Received: from [12.1.10.119] (unknown [204.8.204.98])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id 584D21C0A0
	for <lucene-user@jakarta.apache.org>; Mon, 17 Jan 2005 10:28:42 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <88c6a6720501170151642c5996@mail.gmail.com>
References: <88c6a672050116204866b6cb19@mail.gmail.com> <18461DCC-6861-11D9-9D0A-000A95BC61B6@ehatchersolutions.com> <88c6a6720501170151642c5996@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <7558F383-6871-11D9-9CC3-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: StandardAnalyzer unit tests?
Date: Mon, 17 Jan 2005 05:20:49 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork6.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I personally don't have a problem with that change, however I don't 
like changing such things as they can lead to unexpected and confusing 
issues later.  Suppose someone upgrades their version of Lucene without 
re-indexing and now queries that used to work no longer work?  (sure, I 
agree it is wise to re-index if you upgrade Lucene).

Perhaps others could chime in on whether this change would adversely 
affect them or if this a desirable change?

	Erik



On Jan 17, 2005, at 4:51 AM, Chris Lamprecht wrote:

> Erik, Paul, Daniel,
>
> I submitted a testcase --
> http://issues.apache.org/bugzilla/show_bug.cgi?id=33134
>
> On a related note, what do you all think about updating the
> StandardAnalyzer grammar to treat "C#" and "C++" as tokens?  It's a
> small modification to the grammar -- NutchAnalysis.jj has it.
>
> -Chris
>
> On Mon, 17 Jan 2005 03:23:41 -0500, Erik Hatcher
> <erik@ehatchersolutions.com> wrote:
>> I don't see any tests of StandardAnalyzer either.  Your contribution
>> would be most welcome.  There are tests that use StandardAnalyzer, but
>> not to test it directly.
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12491-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 17 15:49:24 2005
Return-Path: <lucene-user-return-12491-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42407 invoked from network); 17 Jan 2005 15:49:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Jan 2005 15:49:24 -0000
Received: (qmail 80860 invoked by uid 500); 17 Jan 2005 15:49:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80729 invoked by uid 500); 17 Jan 2005 15:49:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80709 invoked by uid 99); 17 Jan 2005 15:49:12 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=FORGED_RCVD_HELO,MIME_BASE64_BLANKS,MIME_BASE64_TEXT
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns0.asml.nl (HELO nlvdhx10.asml.nl) (194.105.121.194)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 17 Jan 2005 07:49:12 -0800
Received: from nlvdhv01.asml.nl (nlvdhv01.asml.nl [194.105.121.195])
	by nlvdhx10.asml.nl (8.11.7p1+Sun/8.11.7) with SMTP id j0HFn8o14480
	for <lucene-user@jakarta.apache.org>; Mon, 17 Jan 2005 16:49:08 +0100 (MET)
Received: from creon.asml.nl(146.106.1.223) by nlvdhv01.asml.nl via csmap 
	 id 53156036_689f_11d9_83f4_003048290bad_9796;
	Mon, 17 Jan 2005 16:49:08 +0100 (CET)
Received: from titan.asml.nl (titan [146.106.1.9])
	by creon.asml.nl (8.11.7+Sun/8.11.7) with ESMTP id j0HFn8K23144
	for <lucene-user@jakarta.apache.org>; Mon, 17 Jan 2005 16:49:08 +0100 (MET)
Received: from nlvdhx06-int1.asml.nl (nlvdhx06-int1.asml.nl [146.106.237.92])
	by titan.asml.nl (8.11.7+Sun/8.11.6) with ESMTP id j0HFmqj16112
	for <lucene-user@jakarta.apache.org>; Mon, 17 Jan 2005 16:49:05 +0100 (MET)
Received: from [146.106.75.194] (dyn-75-194 [146.106.75.194])
	by nlvdhx06-int1.asml.nl (8.11.7+Sun/8.11.6) with ESMTP id j0HFmqC14591
	for <lucene-user@jakarta.apache.org>; Mon, 17 Jan 2005 16:48:52 +0100 (MET)
Message-ID: <41EBDE5A.9070208@asml.nl>
Date: Mon, 17 Jan 2005 16:48:42 +0100
From: Daan Hoogland <daan.hoogland@asml.com>
User-Agent: Mozilla Thunderbird 0.7.3 (Windows/20040803)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: StandardAnalyzer unit tests?
References: <88c6a672050116204866b6cb19@mail.gmail.com> <18461DCC-6861-11D9-9D0A-000A95BC61B6@ehatchersolutions.com> <88c6a6720501170151642c5996@mail.gmail.com> <7558F383-6871-11D9-9CC3-000A95BC61B6@ehatchersolutions.com>
In-Reply-To: <7558F383-6871-11D9-9CC3-000A95BC61B6@ehatchersolutions.com>
Content-Type: text/plain;
  charset="windows-1252"
Content-Transfer-Encoding: base64
X-NAIMIME-Disclaimer: 1
X-NAIMIME-Modified: 1
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

gCAwLjAyOiBJbmRleGluZyBjb2RlICIrKyIgaXMgYSBzdG9wIHRlcm0sIGl0IG1pZ2h0IGJlIGlu
IGVuZ2xpc2ggdGV4dCAKYXMgd2VsbC4gJ0MnIGlzIGEgbm90IHZlcnkgZGVzY3JpcHRpdmUgYnV0
IHZlcnkgdmFsaWQgdmFyaWFibGUgbmFtZS4gJyMnIAppcyB1c2VkIGluIHNvbWUgb2xkIG1vcnNl
IHRyYW5zY3JpcHRzIEkgdGhpbmsuIEkgYW0gbm90IGdvaW5nIHRvIGRpZSBvciAKZ2V0IGZpcmVk
LCBidXQgSSdkIHN1Z2dlc3Qgbm90IGluY2x1ZGluZyB0aG9zZSB0b2tlbnMgaW4gYSBzdGFuZGFy
ZCAKYW55dGhpbmcuCgpFcmlrIEhhdGNoZXIgd3JvdGU6Cgo+IEkgcGVyc29uYWxseSBkb24ndCBo
YXZlIGEgcHJvYmxlbSB3aXRoIHRoYXQgY2hhbmdlLCBob3dldmVyIEkgZG9uJ3QgCj4gbGlrZSBj
aGFuZ2luZyBzdWNoIHRoaW5ncyBhcyB0aGV5IGNhbiBsZWFkIHRvIHVuZXhwZWN0ZWQgYW5kIGNv
bmZ1c2luZyAKPiBpc3N1ZXMgbGF0ZXIuIFN1cHBvc2Ugc29tZW9uZSB1cGdyYWRlcyB0aGVpciB2
ZXJzaW9uIG9mIEx1Y2VuZSB3aXRob3V0IAo+IHJlLWluZGV4aW5nIGFuZCBub3cgcXVlcmllcyB0
aGF0IHVzZWQgdG8gd29yayBubyBsb25nZXIgd29yaz8gKHN1cmUsIEkgCj4gYWdyZWUgaXQgaXMg
d2lzZSB0byByZS1pbmRleCBpZiB5b3UgdXBncmFkZSBMdWNlbmUpLgo+Cj4gUGVyaGFwcyBvdGhl
cnMgY291bGQgY2hpbWUgaW4gb24gd2hldGhlciB0aGlzIGNoYW5nZSB3b3VsZCBhZHZlcnNlbHkg
Cj4gYWZmZWN0IHRoZW0gb3IgaWYgdGhpcyBhIGRlc2lyYWJsZSBjaGFuZ2U/Cj4KPiBFcmlrCj4K
Pgo+Cj4gT24gSmFuIDE3LCAyMDA1LCBhdCA0OjUxIEFNLCBDaHJpcyBMYW1wcmVjaHQgd3JvdGU6
Cj4KPj4gRXJpaywgUGF1bCwgRGFuaWVsLAo+Pgo+PiBJIHN1Ym1pdHRlZCBhIHRlc3RjYXNlIC0t
Cj4+IGh0dHA6Ly9pc3N1ZXMuYXBhY2hlLm9yZy9idWd6aWxsYS9zaG93X2J1Zy5jZ2k/aWQ9MzMx
MzQKPj4KPj4gT24gYSByZWxhdGVkIG5vdGUsIHdoYXQgZG8geW91IGFsbCB0aGluayBhYm91dCB1
cGRhdGluZyB0aGUKPj4gU3RhbmRhcmRBbmFseXplciBncmFtbWFyIHRvIHRyZWF0ICJDIyIgYW5k
ICJDKysiIGFzIHRva2Vucz8gSXQncyBhCj4+IHNtYWxsIG1vZGlmaWNhdGlvbiB0byB0aGUgZ3Jh
bW1hciAtLSBOdXRjaEFuYWx5c2lzLmpqIGhhcyBpdC4KPj4KPj4gLUNocmlzCj4+Cj4+IE9uIE1v
biwgMTcgSmFuIDIwMDUgMDM6MjM6NDEgLTA1MDAsIEVyaWsgSGF0Y2hlcgo+PiA8ZXJpa0BlaGF0
Y2hlcnNvbHV0aW9ucy5jb20+IHdyb3RlOgo+Pgo+Pj4gSSBkb24ndCBzZWUgYW55IHRlc3RzIG9m
IFN0YW5kYXJkQW5hbHl6ZXIgZWl0aGVyLiBZb3VyIGNvbnRyaWJ1dGlvbgo+Pj4gd291bGQgYmUg
bW9zdCB3ZWxjb21lLiBUaGVyZSBhcmUgdGVzdHMgdGhhdCB1c2UgU3RhbmRhcmRBbmFseXplciwg
YnV0Cj4+PiBub3QgdG8gdGVzdCBpdCBkaXJlY3RseS4KPj4+Cj4+Cj4+IC0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQo+
PiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBsdWNlbmUtdXNlci11bnN1YnNjcmliZUBqYWthcnRh
LmFwYWNoZS5vcmcKPj4gRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogbHVjZW5lLXVz
ZXItaGVscEBqYWthcnRhLmFwYWNoZS5vcmcKPgo+Cj4KPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KPiBUbyB1bnN1
YnNjcmliZSwgZS1tYWlsOiBsdWNlbmUtdXNlci11bnN1YnNjcmliZUBqYWthcnRhLmFwYWNoZS5v
cmcKPiBGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBsdWNlbmUtdXNlci1oZWxwQGph
a2FydGEuYXBhY2hlLm9yZwo+Cj4KCgoKLS0gClRoZSBpbmZvcm1hdGlvbiBjb250YWluZWQgaW4g
dGhpcyBjb21tdW5pY2F0aW9uIGFuZCBhbnkgYXR0YWNobWVudHMgaXMgY29uZmlkZW50aWFsIGFu
ZCBtYXkgYmUgcHJpdmlsZWdlZCwgYW5kIGlzIGZvciB0aGUgc29sZSB1c2Ugb2YgdGhlIGludGVu
ZGVkIHJlY2lwaWVudChzKS4gQW55IHVuYXV0aG9yaXplZCByZXZpZXcsIHVzZSwgZGlzY2xvc3Vy
ZSBvciBkaXN0cmlidXRpb24gaXMgcHJvaGliaXRlZC4gSWYgeW91IGFyZSBub3QgdGhlIGludGVu
ZGVkIHJlY2lwaWVudCwgcGxlYXNlIG5vdGlmeSB0aGUgc2VuZGVyIGltbWVkaWF0ZWx5IGJ5IHJl
cGx5aW5nIHRvIHRoaXMgbWVzc2FnZSBhbmQgZGVzdHJveSBhbGwgY29waWVzIG9mIHRoaXMgbWVz
c2FnZSBhbmQgYW55IGF0dGFjaG1lbnRzLiBBU01MIGlzIG5laXRoZXIgbGlhYmxlIGZvciB0aGUg
cHJvcGVyIGFuZCBjb21wbGV0ZSB0cmFuc21pc3Npb24gb2YgdGhlIGluZm9ybWF0aW9uIGNvbnRh
aW5lZCBpbiB0aGlzIGNvbW11bmljYXRpb24sIG5vciBmb3IgYW55IGRlbGF5IGluIGl0cyByZWNl
aXB0Lgo=



From lucene-user-return-12492-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 17 15:58:19 2005
Return-Path: <lucene-user-return-12492-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51956 invoked from network); 17 Jan 2005 15:58:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Jan 2005 15:58:19 -0000
Received: (qmail 8370 invoked by uid 500); 17 Jan 2005 15:58:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8320 invoked by uid 500); 17 Jan 2005 15:58:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8246 invoked by uid 99); 17 Jan 2005 15:58:01 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from exchange.bvdep.com (HELO exchange.bvdep.com) (193.194.158.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 17 Jan 2005 07:57:59 -0800
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: QUERYPARSER + LEXECIAL ERROR
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Date: Mon, 17 Jan 2005 16:57:56 +0100
Message-ID: <950FF7DE40C2B64CAF80B564732927E10AB377@exchange.be.bvd>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: QUERYPARSER + LEXECIAL ERROR
thread-index: AcT8qH0RRObiGtXOTxSiVv5esmUM1wAAnjfw
From: "Vanlerberghe, Luc" <Luc.Vanlerberghe@bvdep.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

There's nothing wrong with the searchWrd string itself (I ran a few
variations of it trough my test setup)
The '\' characters in the source are escapes for the java compiler and
will never be seen by lucene.

The only way I found to produce a similar Exception
(org.apache.lucene.queryParser.ParseException: Lexical error at line 1,
column 15.  Encountered: <EOF> after : "")
is by passing a string without a matching closing quote like:
String  searchWrd =3D "kid \"toy\" OR \"";

The exception is thrown as soon as you pass the string to
QueryParser.parse().

I tested using lucene 1.4.3 and jdk 1.5.0

Luc

> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
> Sent: maandag 17 januari 2005 16:23
> To: Lucene Users List
> Subject: Re: QUERYPARSER + LEXECIAL ERROR
>=20
> Hello,
>=20
> Try:
>   String  searchWrd =3D "kid \"toy\"" OR "kid \"ball\""
>=20
> You'll have to use a WhitespaceAnalyzer with that, though, or=20
> a custom Analyzer that doesn't remove the escape character (\).
>=20
> Otis
>=20
>=20
> --- Karthik N S <karthik@controlnet.co.in> wrote:
>=20
> >=20
> >=20
> > Hi  Guys.
> >=20
> > Apologies.........
> >=20
> >=20
> >=20
> > The Query Parser is giving me an Lexical Error
> >=20
> > String  searchWrd =3D "kid \"toy\" OR \"ball\" "
> >=20
> > org.apache.lucene.queryParser.TokenMgrError: Lexical error=20
> at line 1,=20
> > column 26. Encountered: <EOF> after : ""
> > at
> >
> org.apache.lucene.queryParser.QueryParserTokenManager.getNextT
> oken(QueryPars
> > erTokenManager.java:1050)
> >=20
> > What is this Happening?
> >=20
> > Lucene version :  Lucene 1.4.3.jar
> > Jdk version        :  Jdk 1.4.2
> > O/s                      :  Win2000
> >=20
> > Some body Please Reply
> >=20
> >=20
> >=20
> >=20
> >=20
> >=20
> > WITH WARM REGARDS
> > HAVE A NICE DAY
> > [ N.S.KARTHIK]
> >=20
> >=20
> >=20
> >=20
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >=20
> >=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12493-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 17 18:25:43 2005
Return-Path: <lucene-user-return-12493-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65410 invoked from network); 17 Jan 2005 18:25:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Jan 2005 18:25:43 -0000
Received: (qmail 41860 invoked by uid 500); 17 Jan 2005 18:25:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41836 invoked by uid 500); 17 Jan 2005 18:25:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41823 invoked by uid 99); 17 Jan 2005 18:25:37 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of janssen@parc.com designates 13.1.64.93 as permitted sender)
Received: from alpha.Xerox.COM (HELO alpha.xerox.com) (13.1.64.93)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 17 Jan 2005 10:25:36 -0800
Received: from synergy1.parc.xerox.com ([13.1.101.60]) by alpha.xerox.com with SMTP id <147438(2)>; Mon, 17 Jan 2005 10:25:22 PST
Received: from parc.com ([127.0.0.1]) by synergy1.parc.xerox.com with SMTP id <58617>; Mon, 17 Jan 2005 10:25:12 PST
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: How to add a Lucene index to a jar file?
Date: Mon, 17 Jan 2005 10:25:08 PST
From: Bill Janssen <janssen@parc.com>
Message-Id: <05Jan17.102512pst."58617"@synergy1.parc.xerox.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi.

I'd like to package up a Lucene index with the Lucene class files and
my own application classes into a single jar file, so that it forms a
"double-clickable" single-file Java application that supports
searching over the index.  However, I'm not sure how to read the index
(create an IndexReader) if the files that form the index are packaged
into the same jar file with the code.

If anyone could shed some light on how to do this, I'd appreciate it.

Thanks!

Bill

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12494-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 17 18:51:32 2005
Return-Path: <lucene-user-return-12494-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85507 invoked from network); 17 Jan 2005 18:51:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Jan 2005 18:51:32 -0000
Received: (qmail 18724 invoked by uid 500); 17 Jan 2005 18:51:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18631 invoked by uid 500); 17 Jan 2005 18:51:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18611 invoked by uid 99); 17 Jan 2005 18:51:27 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 81-5-138-216.dsl.eclipse.net.uk (HELO goose.milesbarr.com) (81.5.138.216)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 17 Jan 2005 10:51:26 -0800
Received: by goose.milesbarr.com (Postfix, from userid 1000)
	id 87C0127E531; Mon, 17 Jan 2005 18:44:57 +0000 (GMT)
Subject: Re: How to add a Lucene index to a jar file?
From: Miles Barr <miles@runtime-collective.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <05Jan17.102512pst."58617"@synergy1.parc.xerox.com>
References: <05Jan17.102512pst."58617"@synergy1.parc.xerox.com>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Organization: Runtime Collective Ltd.
Date: Mon, 17 Jan 2005 18:44:57 +0000
Message-Id: <1105987497.2937.8.camel@goose.milesbarr.com>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mon, 2005-01-17 at 10:25 -0800, Bill Janssen wrote:
> I'd like to package up a Lucene index with the Lucene class files and
> my own application classes into a single jar file, so that it forms a
> "double-clickable" single-file Java application that supports
> searching over the index.  However, I'm not sure how to read the index
> (create an IndexReader) if the files that form the index are packaged
> into the same jar file with the code.
> 
> If anyone could shed some light on how to do this, I'd appreciate it.


You'll have to implement org.apache.lucene.store.Directory to load the
index from the JAR file. Take a look at FSDirectory and RAMDirectory for
some more details.

Then you have either load the JAR file with java.util.jar.JarFile to get
to the files or you can use Classloader#getResourceAsStream to get to
them.




-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12495-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 17 19:04:12 2005
Return-Path: <lucene-user-return-12495-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95337 invoked from network); 17 Jan 2005 19:04:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Jan 2005 19:04:12 -0000
Received: (qmail 56919 invoked by uid 500); 17 Jan 2005 19:04:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56886 invoked by uid 500); 17 Jan 2005 19:04:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56862 invoked by uid 99); 17 Jan 2005 19:04:06 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 17 Jan 2005 11:04:04 -0800
Received: (qmail 21902 invoked by uid 532); 17 Jan 2005 19:02:38 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.144753 secs); 17 Jan 2005 19:02:38 -0000
Received: from unknown (HELO ?172.31.1.2?) (127.0.0.1)
  by 0 with SMTP; 17 Jan 2005 19:02:38 -0000
Message-ID: <41EC0C21.2040501@tropo.com>
Date: Mon, 17 Jan 2005 11:04:01 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041217
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: carrot2 question too - Re: Fun with the Wikipedia
References: <41E834AD.40605@tropo.com> <1333.144.136.135.234.1105740547.squirrel@144.136.135.234> <41E85293.7050103@tropo.com> <41EB8219.5040408@cs.put.poznan.pl>
In-Reply-To: <41EB8219.5040408@cs.put.poznan.pl>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dawid Weiss wrote:

> 
> Hi David,
> 
> I apologize about the delay in answering this one, Lucene is a busy 
> mailing list and I had a hectic last week... Again, sorry for belated 
> answer, hope you still find it useful.
Oh no problem, and yes carrot2 is useful and fun.  It's a rich package 
so it takes a while to understand all that it can do.
> 
>>> That is awesome and very inspirational!
> 
> 
> Yes, I admit what you've done with Wikipedia is quite interesting and 
> looks very good. I'm also glad you spent some time working out Carrot 
> integration with Lucene. It works quite nice.

Thanks but I just took code that I think you wrote(!) and made minor 
mods to it - here's one link:
http://www.newsarch.com/archive/mailinglist/jakarta/lucene/user/msg03928.html

I'd like to do more w/ Carrot2- that's where things get harder.

> 
>>> Carrot2 looks very interesting. Wondering if anybody has a list of 
>>> all the
>>
>>
>> Technically I don't think carrot2 uses lucene per-se- it's just that 
>> you can integrate the two, and ditto for Nutch - it has code that uses 
>> Carrot2.
> 
> 
> Yes, this is true. Carrot2 doesn't use all of Lucene's potential -- it 
> merely takes the output from a query (titles, urls and snippets) and 
> attempts to cluster them into some sensible groups. I think many things 
> could be improved, the most important of them is fast snippet retrieval 
>   from Lucene because right now it takes 50% of the time of the 
> clustering; I've seen a post a while ago describing a faster snippet 
> generation technique, I'm sure that would give clustering a huge boost 
> speed-wise.
> 
>> And here's my question. I reread the Carrot2<->Lucene code, esp 
>> Demo.java, and there's this fragment:
>>
>>     // warm-up round (stemmer tables must be read etc).
>>     List clusters = clusterer.clusterHits(docs);
>>
>>     long clusteringStartTime = System.currentTimeMillis();
>>     clusters = clusterer.clusterHits(docs);
>>     long clusteringEndTime = System.currentTimeMillis();
>>
>> Thus it calls clusterHits() twice.
>>
>> I don't really understand how to use Carrot2 - but I think the above 
>> is just for the sake of benchmarking clusterHits() w/o the effect of 
>> 1-time initialization - and that there's no benefit of repeatedly 
>> calling clusterHits (where a benefit might be that it can find nested 
>> clusters or whatever) - is that right (that there's no benefit)?
> 
> 
> No, there is absolutely no benefit from it. It was merely to show people 
> that the clustering needs to be warmed up a bit. I should not have put 
> it in the code knowing people would be confused by it. You can safely 
> use clusterHits just once. It will just have a small delay at the first 
> invocation.
> 
> 
> Thanks for experimenting. Please BCC me if you have any urgent projects 
> -- I read Lucene's list in batches and my personal e-mail I try to keep 
> up to date with.
> 
> Dawid

thx,
  Dave

> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12496-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 17 19:10:58 2005
Return-Path: <lucene-user-return-12496-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99496 invoked from network); 17 Jan 2005 19:10:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Jan 2005 19:10:58 -0000
Received: (qmail 72949 invoked by uid 500); 17 Jan 2005 19:10:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72921 invoked by uid 500); 17 Jan 2005 19:10:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72906 invoked by uid 99); 17 Jan 2005 19:10:53 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc13.comcast.net (HELO rwcrmhc13.comcast.net) (204.127.198.39)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 17 Jan 2005 11:10:51 -0800
Received: from [192.168.168.81] (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc13) with ESMTP
          id <2005011719105001500d8male>; Mon, 17 Jan 2005 19:10:50 +0000
Message-ID: <41EC0DB9.8030706@apache.org>
Date: Mon, 17 Jan 2005 11:10:49 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How to add a Lucene index to a jar file?
References: <05Jan17.102512pst."58617"@synergy1.parc.xerox.com> <1105987497.2937.8.camel@goose.milesbarr.com>
In-Reply-To: <1105987497.2937.8.camel@goose.milesbarr.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Miles Barr wrote:
> You'll have to implement org.apache.lucene.store.Directory to load the
> index from the JAR file. Take a look at FSDirectory and RAMDirectory for
> some more details.
> 
> Then you have either load the JAR file with java.util.jar.JarFile to get
> to the files or you can use Classloader#getResourceAsStream to get to
> them.

The problem is that a jar file entry becomes an InputStream, but 
InputStream is not random access, and Lucene requires random access.  So 
you need to extract the index either to disk or RAM in order to get 
random access.  I think folks have posted code for this to the list 
previously.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12497-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 17 19:16:48 2005
Return-Path: <lucene-user-return-12497-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3546 invoked from network); 17 Jan 2005 19:16:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Jan 2005 19:16:48 -0000
Received: (qmail 93305 invoked by uid 500); 17 Jan 2005 19:16:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93280 invoked by uid 500); 17 Jan 2005 19:16:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93265 invoked by uid 99); 17 Jan 2005 19:16:43 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 17 Jan 2005 11:16:41 -0800
Received: (qmail 23048 invoked by uid 532); 17 Jan 2005 19:15:16 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.016484 secs); 17 Jan 2005 19:15:16 -0000
Received: from unknown (HELO ?172.31.1.2?) (127.0.0.1)
  by 0 with SMTP; 17 Jan 2005 19:15:15 -0000
Message-ID: <41EC0F17.2020304@tropo.com>
Date: Mon, 17 Jan 2005 11:16:39 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041217
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How to add a Lucene index to a jar file?
References: <05Jan17.102512pst."58617"@synergy1.parc.xerox.com> <1105987497.2937.8.camel@goose.milesbarr.com> <41EC0DB9.8030706@apache.org>
In-Reply-To: <41EC0DB9.8030706@apache.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:

> Miles Barr wrote:
> 
>> You'll have to implement org.apache.lucene.store.Directory to load the
>> index from the JAR file. Take a look at FSDirectory and RAMDirectory for
>> some more details.
>>
>> Then you have either load the JAR file with java.util.jar.JarFile to get
>> to the files or you can use Classloader#getResourceAsStream to get to
>> them.
> 
> 
> The problem is that a jar file entry becomes an InputStream, but 
> InputStream is not random access, and Lucene requires random access.  So 
> you need to extract the index either to disk or RAM in order to get 
> random access.  I think folks have posted code for this to the list 

Isn't "ZipDirectory" the thing to search for?

> previously.
> 
> Doug
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12498-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 17 19:17:56 2005
Return-Path: <lucene-user-return-12498-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4260 invoked from network); 17 Jan 2005 19:17:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Jan 2005 19:17:56 -0000
Received: (qmail 96691 invoked by uid 500); 17 Jan 2005 19:17:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96656 invoked by uid 500); 17 Jan 2005 19:17:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96640 invoked by uid 99); 17 Jan 2005 19:17:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mspmail2.stellent.com (HELO mspmail2.stellent.com) (12.40.185.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 17 Jan 2005 11:17:49 -0800
Received: from [10.10.20.20] ([10.10.20.20])
	by mspmail2.stellent.com (8.11.6+Sun/8.11.5) with ESMTP id j0HJHl108238
	for <lucene-user@jakarta.apache.org>; Mon, 17 Jan 2005 13:17:47 -0600 (CST)
Subject: Re: How to add a Lucene index to a jar file?
From: Luke Francl <luke.francl@stellent.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41EC0DB9.8030706@apache.org>
References: <05Jan17.102512pst."58617"@synergy1.parc.xerox.com>
	 <1105987497.2937.8.camel@goose.milesbarr.com> <41EC0DB9.8030706@apache.org>
Content-Type: text/plain
Message-Id: <1105989456.26593.28.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 
Date: Mon, 17 Jan 2005 13:17:36 -0600
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Mon, 2005-01-17 at 13:10, Doug Cutting wrote:

> The problem is that a jar file entry becomes an InputStream, but 
> InputStream is not random access, and Lucene requires random access.  So 
> you need to extract the index either to disk or RAM in order to get 
> random access.  I think folks have posted code for this to the list 
> previously.

I think it would be cool if Lucene included a class that facilitated
creating a RAMDirectory from an index in a JAR file, for the kind of
point-and-click startup that Bill is talking about.

Regards,
Luke Francl


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12499-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 17 19:28:28 2005
Return-Path: <lucene-user-return-12499-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10857 invoked from network); 17 Jan 2005 19:28:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Jan 2005 19:28:27 -0000
Received: (qmail 26662 invoked by uid 500); 17 Jan 2005 19:28:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26637 invoked by uid 500); 17 Jan 2005 19:28:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26612 invoked by uid 99); 17 Jan 2005 19:28:21 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc12.comcast.net (HELO rwcrmhc12.comcast.net) (216.148.227.85)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 17 Jan 2005 11:28:20 -0800
Received: from [192.168.168.81] (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc12) with ESMTP
          id <20050117192818014000up2he>; Mon, 17 Jan 2005 19:28:18 +0000
Message-ID: <41EC11D1.5080507@apache.org>
Date: Mon, 17 Jan 2005 11:28:17 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How to add a Lucene index to a jar file?
References: <05Jan17.102512pst."58617"@synergy1.parc.xerox.com> <1105987497.2937.8.camel@goose.milesbarr.com> <41EC0DB9.8030706@apache.org> <41EC0F17.2020304@tropo.com>
In-Reply-To: <41EC0F17.2020304@tropo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

David Spencer wrote:
> Isn't "ZipDirectory" the thing to search for?

I think it's actually URLDirectory:

http://www.mail-archive.com/lucene-dev@jakarta.apache.org/msg02453.html

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12500-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 17 20:24:43 2005
Return-Path: <lucene-user-return-12500-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61213 invoked from network); 17 Jan 2005 20:24:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Jan 2005 20:24:43 -0000
Received: (qmail 43934 invoked by uid 500); 17 Jan 2005 20:24:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43911 invoked by uid 500); 17 Jan 2005 20:24:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43896 invoked by uid 99); 17 Jan 2005 20:24:38 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 17 Jan 2005 12:24:37 -0800
Received: (qmail 27247 invoked by uid 532); 17 Jan 2005 20:23:10 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.281567 secs); 17 Jan 2005 20:23:10 -0000
Received: from unknown (HELO ?172.31.1.2?) (127.0.0.1)
  by 0 with SMTP; 17 Jan 2005 20:23:09 -0000
Message-ID: <41EC1F01.6040602@tropo.com>
Date: Mon, 17 Jan 2005 12:24:33 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041217
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Question about Analyzer and words spelled in different  languages
References: <5.2.1.1.2.20050105115023.00afc258@cic-mail.lanl.gov>
In-Reply-To: <5.2.1.1.2.20050105115023.00afc258@cic-mail.lanl.gov>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Mariella Di Giacomo wrote:

> Hi ALL,
> 
> 
> We are trying to index scientic articles written in english, but whose 
> authors can be spelled in any language (depending on the author's 
> nazionality)
> 
> E.g.
> Schffer
> 
> 
> In the XML document that we provide to Lucene the author name is written 
> in the following way (using HTML ENTITIES)
> 
> Sch&amp;auml;ffer
> 
> So in practice that is the name that would be given to a Lucene 
> analyzer/filter
> 
> Is there any already written analyzer that would take that name 
> (Sch&amp;auml;ffer or any other name that has entities) so that
> Lucene index could searched (once the field has been indexed) for the 
> real version of the name, which is
> 
> Schffer
> 
> and the english spelled version of the name which is
> 
> Schaffer
> 
> Thanks a lot in advance for your help,

If I understand the question then I think there are 2 ways of doing it.

[1] Write a custom analyzer that uses Token.setPositionIncrement(0) to 
put alternate spellings at the same place in the token stream. This way 
phrase matches work right (so the query "Jonathan Schaffer" and 
"Jonathan Schffer" will match the same phrase in the doc).

[2] Do not use a special analyzer - instead do query expansion, so if 
they search for "Schaffer" then the generated query is (Schaffer Schffer).

I've used both techniques before - I use #1 w/ a "JavadocAnalyzer" on 
searchmorph.com so that if you search for "hash" you'll see matches for 
"HashMap", as "HashMap" is tokenized into 3 tokens at the same location 
( 'hash', 'map, 'hashmap').  Writing this kind of an analyzer can be a 
bit of a hassle and the position increment of 0 might affect 
highlighting code or other (say, summarizing) code that uses the Analyzer.

For an example of #2 see my Wordnet/Synonym query expansion example in 
the lucene sandbox. You prebuild an index of synonyms (or in your case 
maybe just rules are fine). Then you need query expansion code that 
takes "Schaffer" and expands it to something like "Schaffer 
Schffer^0.9" (if you want to assume the user probably spells the name 
right). Simple enough to code, only hassle then is if you want to use 
the standard QueryParser...

thx,
  Dave





> 
> 
> Mariella
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12501-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 17 21:09:40 2005
Return-Path: <lucene-user-return-12501-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87689 invoked from network); 17 Jan 2005 21:09:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Jan 2005 21:09:39 -0000
Received: (qmail 43978 invoked by uid 500); 17 Jan 2005 21:09:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43957 invoked by uid 500); 17 Jan 2005 21:09:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43944 invoked by uid 99); 17 Jan 2005 21:09:34 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp002.mail.ukl.yahoo.com (HELO smtp002.mail.ukl.yahoo.com) (217.12.11.33)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 17 Jan 2005 13:09:33 -0800
Received: from unknown (HELO ?10.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp002.mail.ukl.yahoo.com with SMTP; 17 Jan 2005 21:09:30 -0000
Message-ID: <41EC2997.6030007@yahoo.co.uk>
Date: Mon, 17 Jan 2005 21:09:43 +0000
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 0.8 (Windows/20040913)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Question about Analyzer and words spelled in different  languages
References: <5.2.1.1.2.20050105115023.00afc258@cic-mail.lanl.gov> <41EC1F01.6040602@tropo.com>
In-Reply-To: <41EC1F01.6040602@tropo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

 >>Writing this kind of an analyzer can be a bit of a hassle and the 
position increment of 0 might affect highlighting code

The highlighter in the sandbox was refactored to support these kinds of 
analyzer some time ago so it shouldn't be a problem.  The Junit test 
that come with the highlighter includes a SynonymAnalyzer class which 
demonstrates this.

Cheers
Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12502-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 17 21:46:38 2005
Return-Path: <lucene-user-return-12502-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7236 invoked from network); 17 Jan 2005 21:46:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Jan 2005 21:46:38 -0000
Received: (qmail 99747 invoked by uid 500); 17 Jan 2005 21:46:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99670 invoked by uid 500); 17 Jan 2005 21:46:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99444 invoked by uid 99); 17 Jan 2005 21:46:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 17 Jan 2005 13:46:25 -0800
Received: (qmail 2461 invoked by uid 532); 17 Jan 2005 21:44:59 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.182912 secs); 17 Jan 2005 21:44:59 -0000
Received: from unknown (HELO ?172.31.1.2?) (127.0.0.1)
  by 0 with SMTP; 17 Jan 2005 21:44:59 -0000
Message-ID: <41EC322F.5090507@tropo.com>
Date: Mon, 17 Jan 2005 13:46:23 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041217
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  lucene-user@jakarta.apache.org
Subject: MoreLikeThis and other similarity query generators checked in + online
 demo
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Based on mail from Doug I wrote a "more like this" query generator, 
named, well, MoreLikeThis. Bruce Ritchie and Mark Harwood made changes 
to it (esp term vector support) and bug fixes. Thanks to everyone.

I've checked in the code to the sandbox under contributions/similarity.

The package it ends up at is org.apache.lucene.search.similar -- hope 
that makes sense.

I also created a class, SimilarityQueries, to hold other methods of 
similarity query generation. The 2 methods in there are "dumber" 
variations that use the entire source of the target doc to from a large 
query.

Javadoc is here:

http://www.searchmorph.com/pub/jakarta-lucene-sandbox/contributions/similarity/build/docs/api/org/apache/lucene/search/similar/package-summary.html

Online demo here - this page below compares the 3 variations on 
detecting similar docs. The timing info (3 numbers w/ "(ms)") may be 
suspect. Also note if you scroll to the bottom you can see the queries 
that were generated.

Here's a page showing docs similar to the entry for Iraq:

http://www.searchmorph.com/kat/wikipedia-compare.jsp?s=Iraq

And here's one for docs similar to the one on Garry Kasparov (he knows 
how to play chess :) ):

http://www.searchmorph.com/kat/wikipedia-compare.jsp?s=Garry_Kasparov


To get to it you start here:

http://www.searchmorph.com/kat/wikipedia.jsp

And search for something - on the search results page follow a "cmp" link

http://www.searchmorph.com/kat/wikipedia.jsp?s=iraq

Make sense? Useful? Has anyone done any other variations (e.g. cosine 
measure)?

- Dave


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12503-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 17 22:22:33 2005
Return-Path: <lucene-user-return-12503-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25228 invoked from network); 17 Jan 2005 22:22:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Jan 2005 22:22:33 -0000
Received: (qmail 75299 invoked by uid 500); 17 Jan 2005 22:22:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75273 invoked by uid 500); 17 Jan 2005 22:22:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75238 invoked by uid 99); 17 Jan 2005 22:22:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 17 Jan 2005 14:22:25 -0800
Received: (qmail 5652 invoked by uid 532); 17 Jan 2005 22:20:59 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.154483 secs); 17 Jan 2005 22:20:59 -0000
Received: from unknown (HELO ?172.31.1.2?) (127.0.0.1)
  by 0 with SMTP; 17 Jan 2005 22:20:59 -0000
Message-ID: <41EC3A9E.60507@tropo.com>
Date: Mon, 17 Jan 2005 14:22:22 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041217
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Question about Analyzer and words spelled in different  languages
References: <5.2.1.1.2.20050105115023.00afc258@cic-mail.lanl.gov> <41EC1F01.6040602@tropo.com> <41EC2997.6030007@yahoo.co.uk>
In-Reply-To: <41EC2997.6030007@yahoo.co.uk>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

markharw00d wrote:

>  >>Writing this kind of an analyzer can be a bit of a hassle and the 
> position increment of 0 might affect highlighting code
> 
> The highlighter in the sandbox was refactored to support these kinds of 
> analyzer some time ago so it shouldn't be a problem.
Sorry - I should have noted that as I think I was the one that requested 
this change! I meant to say that position increments are tricky and an 
increment of 0 could affect all kinds of other code that doesn't know to 
look for such things.

>  The Junit test 
> that come with the highlighter includes a SynonymAnalyzer class which 
> demonstrates this.
> 
> Cheers
> Mark
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12504-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 18 02:23:35 2005
Return-Path: <lucene-user-return-12504-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67144 invoked from network); 18 Jan 2005 02:23:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Jan 2005 02:23:34 -0000
Received: (qmail 81354 invoked by uid 500); 18 Jan 2005 02:23:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81313 invoked by uid 500); 18 Jan 2005 02:23:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81294 invoked by uid 99); 18 Jan 2005 02:23:28 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 17 Jan 2005 18:23:26 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id B3EBA5B7E2; Mon, 17 Jan 2005 18:22:04 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id B2BEE7F460
	for <lucene-user@jakarta.apache.org>; Mon, 17 Jan 2005 18:22:04 -0800 (PST)
Date: Mon, 17 Jan 2005 18:22:04 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Best way to find if a document exists, using Reader ...
In-Reply-To: <034701c4fa43$03cf0bf0$aa87a8c0@ppeddi>
Message-ID: <Pine.LNX.4.58.0501171816460.5506@hal.rescomp.berkeley.edu>
References: <034201c4fa3b$a3817000$aa87a8c0@ppeddi> <16871.52016.872277.368544@tanto-xipolis.de>
 <034701c4fa43$03cf0bf0$aa87a8c0@ppeddi>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


: 1) Adding 250K documents took half an hour for lucene.
: 2) Deleting and adding same 250K documents took more than 50 minutes. In my
: test all 250K objects are new so there is nothing to delete.
:
: Looks like there is no other way to make it fast.

I bet you can find an improvement in the specific case -- put probably not
in the general case.

Let's summarize your current process in psuedo code:

   open an existing index (which may be empty)
   foreach item in very large set of items:
      id = item.getId()
      index.delete(id)
      index.add(id)

...except that 99% of the time, that delete isn't neccesary right?

so what if you traded space for time, and kept an in memory Cache of all
IDs in your index?

   open an existing index (which may be empty)
   cache = all ids in TermDoc iterator of id field;
   foreach item in very large set of items:
      id = item.getId()
      if cache.contains(id):
         index.delete(id)
      cache.add(id)
      index.add(id)

... assuming you have enough ram to keep a HashMap of every id in your
index arround, i'm fairly confident that would be faster then doing the
delete every time.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12505-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 18 03:57:28 2005
Return-Path: <lucene-user-return-12505-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7307 invoked from network); 18 Jan 2005 03:57:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Jan 2005 03:57:28 -0000
Received: (qmail 83222 invoked by uid 500); 18 Jan 2005 03:57:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83191 invoked by uid 500); 18 Jan 2005 03:57:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83176 invoked by uid 99); 18 Jan 2005 03:57:22 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 17 Jan 2005 19:57:21 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 1049A5B7E5; Mon, 17 Jan 2005 19:55:59 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 0CFB17F460
	for <lucene-user@jakarta.apache.org>; Mon, 17 Jan 2005 19:55:59 -0800 (PST)
Date: Mon, 17 Jan 2005 19:55:59 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How to get all field values from a Hits object?
In-Reply-To: <D9DB9769052FAC458635F1B52A097A670DAD83@upk.de>
Message-ID: <Pine.LNX.4.58.0501171935060.26149@hal.rescomp.berkeley.edu>
References: <D9DB9769052FAC458635F1B52A097A670DAD83@upk.de>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


: is it possible to get all different values for a
: <Field> from a <Hits> object and how to do this?

The ording of your question suggests that the Field you are interested in
isn't a field which will have a fairly unique value for every doc (ie: not
a "title", more likely an "author" or "category" field).  Starting with
that assumption, then there is fairly efficient way to get the information
you want...

Assuming the total set of values for the Field you are interested in is
small (relative your index size), you can pre-compute a BitSet for
each value indicating which docs match that value in the Field (using a
TermFilter).  Then store those BitSets in a Map (key'ed by field value)

Everytime a search is performed, use a HitCollector that generates a
BitSet containing the documents in your result; AND that BitSet against (a
copy of) each BitSet in your Map.  All of the resulting BitSets with a
non-zero cardinality represent values in your results.  (As an added bonus
the cardinality() of each BitSet is the total number of docs in your
result that contain that value)

Two caveats:
   1) Everytime you modify your index, you have to regen the
      BitSets in your Map.
   2) You have to know the set of all values for the field you are
      interested in.  In many cases, this is easy to determine from the
      source data while building the index.  but it's also possible to
      get it using IndexReader.termDocs(Term).


(I'm doing something like this to provide ancilary information about which
categories of documents are most common in the users search result, and
what the exact number of documents in those categories is)


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12506-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 18 08:04:16 2005
Return-Path: <lucene-user-return-12506-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32746 invoked from network); 18 Jan 2005 08:04:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Jan 2005 08:04:16 -0000
Received: (qmail 46127 invoked by uid 500); 18 Jan 2005 08:04:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46099 invoked by uid 500); 18 Jan 2005 08:04:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46085 invoked by uid 99); 18 Jan 2005 08:04:05 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.seis-akustik.de (HELO upk-webserver2.upk.de) (62.153.127.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 18 Jan 2005 00:04:04 -0800
content-class: urn:content-classes:message
Subject: AW: How to get all field values from a Hits object?
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Tue, 18 Jan 2005 08:58:03 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.0.6556.0
Message-ID: <D9DB9769052FAC458635F1B52A097A670DAD85@upk.de>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: How to get all field values from a Hits object?
Thread-Index: AcT9EP+cZeXbh4lbTaOK4wj+bxTSNwAIyFHw
From: "Tim Lebedkov \(UPK\)" <Tim-Lebedkov@upk.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thank You very much

--Tim

> -----Urspr=FCngliche Nachricht-----
> Von: hossman@hal.rescomp.berkeley.edu
> [mailto:hossman@hal.rescomp.berkeley.edu]Im Auftrag von Chris=20
> Hostetter
> Gesendet: Dienstag, 18. Januar 2005 04:56
> An: Lucene Users List
> Betreff: Re: How to get all field values from a Hits object?
>=20
>=20
>=20
> : is it possible to get all different values for a
> : <Field> from a <Hits> object and how to do this?
>=20
> The ording of your question suggests that the Field you are=20
> interested in
> isn't a field which will have a fairly unique value for every=20
> doc (ie: not
> a "title", more likely an "author" or "category" field). =20
> Starting with
> that assumption, then there is fairly efficient way to get=20
> the information
> you want...
>=20
> Assuming the total set of values for the Field you are=20
> interested in is
> small (relative your index size), you can pre-compute a BitSet for
> each value indicating which docs match that value in the=20
> Field (using a
> TermFilter).  Then store those BitSets in a Map (key'ed by=20
> field value)
>=20
> Everytime a search is performed, use a HitCollector that generates a
> BitSet containing the documents in your result; AND that=20
> BitSet against (a
> copy of) each BitSet in your Map.  All of the resulting BitSets with a
> non-zero cardinality represent values in your results.  (As=20
> an added bonus
> the cardinality() of each BitSet is the total number of docs in your
> result that contain that value)
>=20
> Two caveats:
>    1) Everytime you modify your index, you have to regen the
>       BitSets in your Map.
>    2) You have to know the set of all values for the field you are
>       interested in.  In many cases, this is easy to=20
> determine from the
>       source data while building the index.  but it's also possible to
>       get it using IndexReader.termDocs(Term).
>=20
>=20
> (I'm doing something like this to provide ancilary=20
> information about which
> categories of documents are most common in the users search=20
> result, and
> what the exact number of documents in those categories is)
>=20
>=20
> -Hoss
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12507-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 18 13:32:27 2005
Return-Path: <lucene-user-return-12507-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68968 invoked from network); 18 Jan 2005 13:32:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Jan 2005 13:32:26 -0000
Received: (qmail 1877 invoked by uid 500); 18 Jan 2005 13:32:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1839 invoked by uid 500); 18 Jan 2005 13:32:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1823 invoked by uid 99); 18 Jan 2005 13:32:19 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork11.mail.Virginia.EDU (HELO fork11.mail.virginia.edu) (128.143.2.181)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 18 Jan 2005 05:32:18 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork11.mail.virginia.edu (Postfix) with ESMTP id E5A8A1F5281
	for <lucene-user@jakarta.apache.org>; Tue, 18 Jan 2005 08:32:15 -0500 (EST)
Received: from fork11.mail.virginia.edu ([127.0.0.1])
 by localhost (fork11.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 32581-02 for <lucene-user@jakarta.apache.org>;
 Tue, 18 Jan 2005 08:32:15 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork11.mail.virginia.edu (Postfix) with ESMTP id A85091F514C
	for <lucene-user@jakarta.apache.org>; Tue, 18 Jan 2005 08:32:15 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <88c6a6720501170151642c5996@mail.gmail.com>
References: <88c6a672050116204866b6cb19@mail.gmail.com> <18461DCC-6861-11D9-9D0A-000A95BC61B6@ehatchersolutions.com> <88c6a6720501170151642c5996@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <7E4F460A-6955-11D9-B3C0-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: StandardAnalyzer unit tests?
Date: Tue, 18 Jan 2005 08:33:09 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork11.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 17, 2005, at 4:51 AM, Chris Lamprecht wrote:
> I submitted a testcase --
> http://issues.apache.org/bugzilla/show_bug.cgi?id=33134

I reviewed and applied your contributed unit test.  Thanks!

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12508-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 18 19:04:08 2005
Return-Path: <lucene-user-return-12508-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67301 invoked from network); 18 Jan 2005 19:04:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Jan 2005 19:04:08 -0000
Received: (qmail 21943 invoked by uid 500); 18 Jan 2005 19:04:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21923 invoked by uid 500); 18 Jan 2005 19:04:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21909 invoked by uid 99); 18 Jan 2005 19:04:01 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail3.qsent.com (HELO exchange.qsent.com) (208.252.86.23)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 18 Jan 2005 11:03:59 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: ParallellMultiSearcher Vs. One big Index
Date: Tue, 18 Jan 2005 11:04:08 -0800
Message-ID: <5238CD8601F3EF4BA3C5553FECBB7D2A03884F1B@exchange.qsent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: ParallellMultiSearcher Vs. One big Index
Thread-Index: AcT6fR3E1n4jrwc3Q0mf2/F9h8CZpgDECVPw
From: "Ryan Aslett" <Ryan.Aslett@Qsent.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

=20
Okay, so Im trying to find the sweet spot on how many index segments I
should have.

I have 47 million records of contact data (Name + Address). I used 7
machines to build indexes that resulted in the following spread of
individual indexes:

1503000
1500000
1497000
5604750
5379750
1437000
1458000
1446000
1422000
1425000
1425000
1404000
1413000
1404000
4893750
4689750
4519500
4497750
46919250 Total Records
(The faster machines built the bigger indexes)
I also joined all these indexes together into one large 47 million
record index, and ran my query pounder against both data sets, one using
the ParallellMultiSearcher for the multi indexes, and one using a normal
IndexSearcher against the large index.
What I found was that for queries with one term (First Name), the large
index beat the multiple indexes hands down (280 Queries/per second vs
170 Q/s).
But for queries with multiple terms (Address), the multiple indexes beat
out the Large index. (26 Q/s vs 16 Q/s)
Btw, Im running these on a 2 proc box with 16GB of ram.

So what Im trying to determine Is if there is some equations out there
that can help me find the sweet spot for splitting my indexes. Most
queries are going to be multi-term, and clearly the big O of the single
term search appears to be log n. (I verified with 470 million records..
The single term search returns at 140 qps, consistent with what I
believe about search algorithms).  The equation that Im missing is the
big O for the union of the result sets that match particular terms.  Im
assuming (havent looked at the source yet) that lucene finds all the
documents that match the first term, and all the documents that match
each subsequent term, and then finds the union between all the sets. Is
this correct?  Anybody have any ideas on how to iron out an equation for
this?

Ryan

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12509-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 18 19:22:50 2005
Return-Path: <lucene-user-return-12509-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75815 invoked from network); 18 Jan 2005 19:22:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Jan 2005 19:22:50 -0000
Received: (qmail 65288 invoked by uid 500); 18 Jan 2005 19:22:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65262 invoked by uid 500); 18 Jan 2005 19:22:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65239 invoked by uid 99); 18 Jan 2005 19:22:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of goodell@gmail.com designates 64.233.170.198 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 18 Jan 2005 11:22:42 -0800
Received: by rproxy.gmail.com with SMTP id b11so3153rne
        for <lucene-user@jakarta.apache.org>; Tue, 18 Jan 2005 11:22:40 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=nON+JCw2Hb9TYboAgj/xcmdGw2Pwi6zuSebhTduoi8dRJga7uOUtvF26SZ5rzfAicSdcDwWtcBHg+ivR9SJV+jgeS6Wa7/Gg+wpwKI0A7pD2P2ag9kdbjnP5bS0m4KsUTPx5ztx5chy1Pe5oLnEhMD2UCVGp6ZsV1r8WLHJfAdw=
Received: by 10.38.67.9 with SMTP id p9mr209313rna;
        Tue, 18 Jan 2005 11:22:40 -0800 (PST)
Received: by 10.39.1.60 with HTTP; Tue, 18 Jan 2005 11:22:39 -0800 (PST)
Message-ID: <55b2c6b905011811226b019c57@mail.gmail.com>
Date: Tue, 18 Jan 2005 11:22:39 -0800
From: Andy Goodell <goodell@gmail.com>
Reply-To: Andy Goodell <goodell@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>, 
	sunil goyal <sunilgoyal@gmail.com>
Subject: Re: lucene integration with relational database
In-Reply-To: <8d8cb1e05011509335ea1a0be@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <8d8cb1e050115033477ed4707@mail.gmail.com>
	 <41E90F24.6040405@semantico.com>
	 <7ca12391050115083637d65ec2@mail.gmail.com>
	 <7ca12391050115090012e282a9@mail.gmail.com>
	 <8d8cb1e05011509335ea1a0be@mail.gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I do these kinds of queries all the time.  I found that the fastest
performance for my collections (millions of documents) came from
subclassing Filter using the set of primary keys from the database to
make the Filter, and then doing the query with the
Searcher.search(query,filter) interface.  I was previously using the
in memory merge, but the memory requirements were crashing the JVM
when we had a lot of simultaneous users.

- andy g


On Sat, 15 Jan 2005 23:03:00 +0530, sunil goyal <sunilgoyal@gmail.com> wrote:
> Hi all,
> 
> Thanks for the answers. I was looking for a best practice guide to do
> the same. If anyone already had had some practical experience with
> such kind of queries, it will be great to know his thoughts.
> 
> Thanks
> 
> Regards
> Sunil
> 
> 
> On Sat, 15 Jan 2005 09:00:35 -0800, jian chen <chenjian1227@gmail.com> wrote:
> > Hi,
> >
> > Still minor additions to the steps:
> >
> > 1) do lucene query and get the hits (keyed by the database primary
> > key, for example, employee id)
> >
> > 2) do database query and get the primary keys (i.e., employee id) for
> > the result rows, ordered by primary key
> >
> > 3) for each lucene query result, look into db query result and see if
> > the primary key is there (since db query result is sorted already by
> > primary key, so, a binary search could be applied)
> >
> > if the primary key is there, store this result, else, discard it
> >
> > 4) when top k results are obtained, send back to the user.
> >
> > How does this sound?
> >
> > Cheers,
> >
> > Jian
> >
> > On Sat, 15 Jan 2005 08:36:16 -0800, jian chen <chenjian1227@gmail.com> wrote:
> > > Hi,
> > >
> > > To further the discussion. Would the following detailed steps work:
> > >
> > > 1) do lucene query and get the hits (keyed by the database primary
> > > key, for example, employee id)
> > >
> > > 2) do database query and get the primary keys (i.e., employee id) for
> > > the result rows, ordered by primary key
> > >
> > > 3) merge the two sets of primary keys (for example, in memory two-way
> > > merge) and take the top k records
> > >
> > > 4) display the top k result rows
> > >
> > > Cheers,
> > >
> > > Jian
> > >
> > > On Sat, 15 Jan 2005 12:40:04 +0000, Peter Pimley <ppimley@semantico.com> wrote:
> > > > sunil goyal wrote:
> > > >
> > > > >But can i do for instance a unified query where i want to take certain
> > > > >parameters (non-textual e.g. age < 30 ) from relational databases and
> > > > >keywords from the lucene index ?
> > > > >
> > > > >
> > > > >
> > > > When I have had to do this, I've done the lucene search first, and then
> > > > manually filtered out the hits that fail on other criteria.
> > > >
> > > > I'd suggest doing that first (as it's easiest) and then seeing whether
> > > > the performance is acceptable.
> > > >
> > > > ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > > >
> > > >
> > >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12510-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 18 19:32:22 2005
Return-Path: <lucene-user-return-12510-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80353 invoked from network); 18 Jan 2005 19:32:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Jan 2005 19:32:22 -0000
Received: (qmail 91849 invoked by uid 500); 18 Jan 2005 19:32:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91817 invoked by uid 500); 18 Jan 2005 19:32:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91802 invoked by uid 99); 18 Jan 2005 19:32:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc13.comcast.net (HELO rwcrmhc13.comcast.net) (204.127.198.39)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 18 Jan 2005 11:32:12 -0800
Received: from [192.168.168.81] (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc13) with ESMTP
          id <2005011819321001500cn70ee>; Tue, 18 Jan 2005 19:32:11 +0000
Message-ID: <41ED6439.6090709@apache.org>
Date: Tue, 18 Jan 2005 11:32:09 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: ParallellMultiSearcher Vs. One big Index
References: <5238CD8601F3EF4BA3C5553FECBB7D2A03884F1B@exchange.qsent.com>
In-Reply-To: <5238CD8601F3EF4BA3C5553FECBB7D2A03884F1B@exchange.qsent.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ryan Aslett wrote:
> What I found was that for queries with one term (First Name), the large
> index beat the multiple indexes hands down (280 Queries/per second vs
> 170 Q/s).
> But for queries with multiple terms (Address), the multiple indexes beat
> out the Large index. (26 Q/s vs 16 Q/s)
> Btw, Im running these on a 2 proc box with 16GB of ram.
> 
> So what Im trying to determine Is if there is some equations out there
> that can help me find the sweet spot for splitting my indexes.

What appears to be the bottleneck, CPU or i/o?  Is your test system 
multi-threaded?  I.e., is it attempting to execute many queries in 
parallel?  If you're CPU-bound then a single index should be fastest. 
Are you using compound format?  If you're i/o-bound, the non-compound 
format may be somewhat faster, as it permits more parallel i/o.  Is the 
index data on multiple drives?  If you're i/o bound then it should be 
faster to use multiple drives.  To permit even more parallel i/o over 
multiple drives you might consider using a pool of IndexReaders.  That 
way, with, e.g., striped data, each could be simultaneously reading 
different portions of the same file.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12511-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 18 19:56:56 2005
Return-Path: <lucene-user-return-12511-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93961 invoked from network); 18 Jan 2005 19:56:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Jan 2005 19:56:56 -0000
Received: (qmail 38551 invoked by uid 500); 18 Jan 2005 19:56:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38522 invoked by uid 500); 18 Jan 2005 19:56:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38508 invoked by uid 99); 18 Jan 2005 19:56:50 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of chenjian1227@gmail.com designates 64.233.170.206 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.206)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 18 Jan 2005 11:56:50 -0800
Received: by rproxy.gmail.com with SMTP id 40so68978rnz
        for <lucene-user@jakarta.apache.org>; Tue, 18 Jan 2005 11:56:48 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=EFnx1m9Cx6M/eyo3UxrObDKmN0sGhYkJlssdMdoomN9qBpIIiRWDRFwjsv/xloOaBSrf7/+sYV7UQVoMoNfgNDcSCOjANlV/u4kV43qlcN7hmmvkkIliUm0xedOeZEQ0f4AuApZPMPm4PaTIjIzBh5AAIZ/hOfuZvf1YbKFj1qM=
Received: by 10.38.8.13 with SMTP id 13mr4243rnh;
        Tue, 18 Jan 2005 11:56:47 -0800 (PST)
Received: by 10.38.8.15 with HTTP; Tue, 18 Jan 2005 11:56:47 -0800 (PST)
Message-ID: <7ca123910501181156721a106f@mail.gmail.com>
Date: Tue, 18 Jan 2005 11:56:47 -0800
From: jian chen <chenjian1227@gmail.com>
Reply-To: jian chen <chenjian1227@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>, 
	Andy Goodell <goodell@gmail.com>
Subject: Re: lucene integration with relational database
In-Reply-To: <55b2c6b905011811226b019c57@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <8d8cb1e050115033477ed4707@mail.gmail.com>
	 <41E90F24.6040405@semantico.com>
	 <7ca12391050115083637d65ec2@mail.gmail.com>
	 <7ca12391050115090012e282a9@mail.gmail.com>
	 <8d8cb1e05011509335ea1a0be@mail.gmail.com>
	 <55b2c6b905011811226b019c57@mail.gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi, Andy,

Thanks for your tips. I am trying to get a more thorough understanding
why this would be better.

It seems to me that the performance gain and memory reduction is
because, you don't need to store all the lucene matched ids in memory.
Is that right?

Thanks,

Jian

So is it that the performance gain and memory reduction comes from the fact 

On Tue, 18 Jan 2005 11:22:39 -0800, Andy Goodell <goodell@gmail.com> wrote:
> I do these kinds of queries all the time.  I found that the fastest
> performance for my collections (millions of documents) came from
> subclassing Filter using the set of primary keys from the database to
> make the Filter, and then doing the query with the
> Searcher.search(query,filter) interface.  I was previously using the
> in memory merge, but the memory requirements were crashing the JVM
> when we had a lot of simultaneous users.
> 
> - andy g

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12512-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 18 20:35:12 2005
Return-Path: <lucene-user-return-12512-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29638 invoked from network); 18 Jan 2005 20:35:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Jan 2005 20:35:12 -0000
Received: (qmail 4320 invoked by uid 500); 18 Jan 2005 20:35:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4293 invoked by uid 500); 18 Jan 2005 20:35:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4280 invoked by uid 99); 18 Jan 2005 20:35:07 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 18 Jan 2005 12:35:05 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 40E995B776; Tue, 18 Jan 2005 12:33:42 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 3FA287F45E
	for <lucene-user@jakarta.apache.org>; Tue, 18 Jan 2005 12:33:42 -0800 (PST)
Date: Tue, 18 Jan 2005 12:33:42 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: lucene integration with relational database
In-Reply-To: <7ca123910501181156721a106f@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0501181219280.678@hal.rescomp.berkeley.edu>
References: <8d8cb1e050115033477ed4707@mail.gmail.com>  <41E90F24.6040405@semantico.com>
  <7ca12391050115083637d65ec2@mail.gmail.com>  <7ca12391050115090012e282a9@mail.gmail.com>
  <8d8cb1e05011509335ea1a0be@mail.gmail.com>  <55b2c6b905011811226b019c57@mail.gmail.com>
 <7ca123910501181156721a106f@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


: Thanks for your tips. I am trying to get a more thorough understanding
: why this would be better.

1) give serious consideration to just putting all of your data in lucene
for the purposes of searching.  the intial example mentioned employees,
and salaries and wanted to search for employees with certain names, and
salaries < $X ...lucene can do the "salaray < $X" using a RangeFilter.

2) assuming you *must* combine your lucene query with your SQL query...

When your goal is performance, I don't think you'll ever be able to
find a truely generic solution for all situations -- the specifics matter.


For example:

  a) is your goal specifically to discount lucene results that don't meet
     a criteria specified in your DB?
  b) do you care about having an accurate number of total matches, or do
     you only care about "filtering" out results?

depending on the answers, a fairly fast way to "eliminate" results is to
only worry about the page of results you are looking at.  Consider an
employee search application which displays 10 results per page.  first you
do a lucene search by name, then you want to throw out any employees whose
salary is below $X.  use the Hits object from the lucene search to get the
unique IDs for the first 10 employees (which uses a very small, fixed
amount of memory and time, regardless of how big your index/result is)
then do a lookup in your DB using a query built from those 10 IDs, ala:

   select ... from ... where ID in (1234, 5678 ... 7890)

...(which should also be very fast assuming your DB has a primary key on
ID)

if the 10 IDs all match your SQL query then you're done.  If N don't match
your query, then you need find the next N results from Hits that do; so
just repeat the steps above untill you've gotten 10 viable results.

(given good statistics on your data, you can virtually eliminate the need
to execute more then a few iterations ... if nothing else, you can use the
ratio or misses/hits from the first SQL query -- N of 10 didn't match --
to decide how big to make your second query to ensure you'll get N good
ones.)


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12513-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 18 21:24:09 2005
Return-Path: <lucene-user-return-12513-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59511 invoked from network); 18 Jan 2005 21:24:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Jan 2005 21:24:09 -0000
Received: (qmail 3774 invoked by uid 500); 18 Jan 2005 21:24:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3748 invoked by uid 500); 18 Jan 2005 21:24:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3734 invoked by uid 99); 18 Jan 2005 21:24:04 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of andi@osafoundation.org designates 204.152.186.98 as permitted sender)
Received: from kahuna.osafoundation.org (HELO kahuna.osafoundation.org) (204.152.186.98)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 18 Jan 2005 13:24:04 -0800
X-Envelope-From: andi@osafoundation.org
Received: from localhost (kahuna.osafoundation.org [127.0.0.1])
	by kahuna.osafoundation.org (8.12.8/8.12.8) with ESMTP id j0ILO1ab024377
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Tue, 18 Jan 2005 13:24:02 -0800
Date: Tue, 18 Jan 2005 13:26:16 -0800 (PST)
From: Andi Vajda <andi@osafoundation.org>
X-X-Sender: vajda@zoe
Reply-To: Andi Vajda <andi@osafoundation.org>
To: lucene-user@jakarta.apache.org
Subject: 'db' sandbox contribution update
Message-ID: <Pine.OSX.4.61.0501181317580.12099@zoe>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Scanned-By: MIMEDefang 2.48 on 127.0.0.1
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


With the release of Berkeley DB 4.3.x, Sleepycat radically changed the Java 
API to C Berkeley DB. This is to announce that the updates to the DbDirectory 
implementation I submitted were committed to the lucene sandbox at:
     http://cvs.apache.org/viewcvs.cgi/jakarta-lucene-sandbox/contributions/db

I also updated the 'Lucene in Action' samples that illustrate how to use this
Berkeley DB-based implementation of org.apache.lucene.store.Directory.
They are included below.

Andi..

/* ------- BerkeleyDbIndexer.java ------- */

package lia.tools;

import com.sleepycat.db.EnvironmentConfig;
import com.sleepycat.db.Environment;
import com.sleepycat.db.Transaction;
import com.sleepycat.db.Database;
import com.sleepycat.db.DatabaseConfig;
import com.sleepycat.db.DatabaseType;
import com.sleepycat.db.DatabaseException;

import java.io.File;
import java.io.IOException;

import org.apache.lucene.store.db.DbDirectory;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;

public class BerkeleyDbIndexer {

     public static void main(String[] args)
         throws IOException, DatabaseException
     {
         if (args.length < 1)
         {
             System.err.println("Usage: BerkeleyDbIndexer <index dir> -create");
             System.exit(-1);
         }

         String indexDir = args[0];
         boolean create = args.length == 2 ? args[1].equals("-create") : false;
         File dbHome = new File(indexDir);

         if (!dbHome.exists())
             dbHome.mkdir();
         else if (create)
         {
             File[] files = dbHome.listFiles();

             for (int i = 0; i < files.length; i++)
                 if (files[i].getName().startsWith("__"))
                     files[i].delete();
         }

         EnvironmentConfig envConfig = new EnvironmentConfig();
         DatabaseConfig dbConfig = new DatabaseConfig();

         envConfig.setTransactional(true);
         envConfig.setInitializeCache(true);
         envConfig.setInitializeLocking(true);
         envConfig.setInitializeLogging(true);
         envConfig.setLogInMemory(true);
         envConfig.setAllowCreate(true);
         envConfig.setThreaded(true);
         dbConfig.setAllowCreate(true);
         dbConfig.setType(DatabaseType.BTREE);

         Environment env = new Environment(dbHome, envConfig);
         Transaction txn = null;
         Database index, blocks;

         try {
             txn = env.beginTransaction(null, null);
             index = env.openDatabase(txn, "__index__", null, dbConfig);
             blocks = env.openDatabase(txn, "__blocks__", null, dbConfig);
         } catch (DatabaseException e) {
             if (txn != null)
             {
                 txn.abort();
                 txn = null;
             }
             throw e;
         } finally {
             if (txn != null)
                 txn.commit();
             txn = null;
         }

         DbDirectory directory;
         IndexWriter writer;

         try {
             txn = env.beginTransaction(null, null);
             directory = new DbDirectory(txn, index, blocks);
             writer = new IndexWriter(directory, new StandardAnalyzer(), create);
             writer.setUseCompoundFile(false);

             Document doc = new Document();
             doc.add(Field.Text("contents", "The quick brown fox..."));
             writer.addDocument(doc);

             writer.optimize();
             writer.close();
         } catch (IOException e) {
             txn.abort();
             txn = null;
             throw e;
         } catch (DatabaseException e) {
             if (txn != null)
             {
                 txn.abort();
                 txn = null;
             }
             throw e;
         } finally {
             if (txn != null)
                 txn.commit();

             index.close();
             blocks.close();
             env.close();
         }

         System.out.println("Indexing Complete");
     }
}

/* ------- BerkeleyDbSearcher.java ------- */

package lia.tools;

import com.sleepycat.db.EnvironmentConfig;
import com.sleepycat.db.Environment;
import com.sleepycat.db.Transaction;
import com.sleepycat.db.Database;
import com.sleepycat.db.DatabaseException;

import org.apache.lucene.index.Term;
import org.apache.lucene.search.Hits;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.search.TermQuery;
import org.apache.lucene.store.db.DbDirectory;

import java.io.File;
import java.io.IOException;

public class BerkeleyDbSearcher {

     public static void main(String[] args)
         throws IOException, DatabaseException
     {
         if (args.length != 1)
         {
             System.err.println("Usage: BerkeleyDbSearcher <index dir>");
             System.exit(-1);
         }

         File dbHome = new File(args[0]);
         EnvironmentConfig envConfig = new EnvironmentConfig();

         envConfig.setTransactional(true);
         envConfig.setInitializeCache(true);
         envConfig.setInitializeLocking(true);
         envConfig.setInitializeLogging(true);
         envConfig.setLogInMemory(true);
         envConfig.setThreaded(true);

         Environment env = new Environment(dbHome, envConfig);
         Transaction txn = null;
         Database index, blocks;

         try {
             txn = env.beginTransaction(null, null);
             index = env.openDatabase(txn, "__index__", null, null);
             blocks = env.openDatabase(txn, "__blocks__", null, null);
         } catch (DatabaseException e) {
             if (txn != null)
             {
                 txn.abort();
                 txn = null;
             }
             throw e;
         } finally {
             if (txn != null)
                 txn.commit();
             txn = null;
         }

         DbDirectory directory;
         IndexSearcher searcher;

         try {
             txn = env.beginTransaction(null, null);
             directory = new DbDirectory(txn, index, blocks);
             searcher = new IndexSearcher(directory);

             Hits hits = searcher.search(new TermQuery(new Term("contents",
                                                                "fox")));
             System.out.println(hits.length() + " documents found");
             searcher.close();
         } finally {
             if (txn != null)
                 txn.abort();

             index.close();
             blocks.close();
             env.close();
         }
     }
}

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12514-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 18 21:46:57 2005
Return-Path: <lucene-user-return-12514-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72114 invoked from network); 18 Jan 2005 21:46:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Jan 2005 21:46:57 -0000
Received: (qmail 52892 invoked by uid 500); 18 Jan 2005 21:46:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52838 invoked by uid 500); 18 Jan 2005 21:46:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52575 invoked by uid 99); 18 Jan 2005 21:46:47 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of chenjian1227@gmail.com designates 64.233.170.207 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.207)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 18 Jan 2005 13:46:45 -0800
Received: by rproxy.gmail.com with SMTP id 40so9091rnz
        for <lucene-user@jakarta.apache.org>; Tue, 18 Jan 2005 13:46:43 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=mLgd02v6eXBFt2bSIuLI82UH4a8uS4700l5+BjCoLEc+03ITq4xMPFFxqkXaN88ASnSEkY5yCIAptiZlKsatw+7A6ncsO8Yd++woJJbGyFu2f3hyqrOO017U37bEiAr6ZfeeGzJnFmwNNosaRv2oolFnnuJYxaqwQDTLl3FV54Q=
Received: by 10.38.8.13 with SMTP id 13mr46471rnh;
        Tue, 18 Jan 2005 13:46:43 -0800 (PST)
Received: by 10.38.8.15 with HTTP; Tue, 18 Jan 2005 13:46:43 -0800 (PST)
Message-ID: <7ca1239105011813466048aa31@mail.gmail.com>
Date: Tue, 18 Jan 2005 13:46:43 -0800
From: jian chen <chenjian1227@gmail.com>
Reply-To: jian chen <chenjian1227@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>, 
	Andi Vajda <andi@osafoundation.org>
Subject: Re: 'db' sandbox contribution update
In-Reply-To: <Pine.OSX.4.61.0501181317580.12099@zoe>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <Pine.OSX.4.61.0501181317580.12099@zoe>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi, Andi,

I'd like to know when I use Lucene, normally under what condition I
should use the db (berkeley db) directory instead of using the
standard file system based directory?

Could you please let me know some brief comparisons of using berkeley
db vs. using file system and what is better?

Thanks,

Jian


On Tue, 18 Jan 2005 13:26:16 -0800 (PST), Andi Vajda
<andi@osafoundation.org> wrote:
> 
> With the release of Berkeley DB 4.3.x, Sleepycat radically changed the Java
> API to C Berkeley DB. This is to announce that the updates to the DbDirectory
> implementation I submitted were committed to the lucene sandbox at:
>      http://cvs.apache.org/viewcvs.cgi/jakarta-lucene-sandbox/contributions/db
> 
> I also updated the 'Lucene in Action' samples that illustrate how to use this
> Berkeley DB-based implementation of org.apache.lucene.store.Directory.
> They are included below.
> 
> Andi..
> 
> /* ------- BerkeleyDbIndexer.java ------- */
> 
> package lia.tools;
> 
> import com.sleepycat.db.EnvironmentConfig;
> import com.sleepycat.db.Environment;
> import com.sleepycat.db.Transaction;
> import com.sleepycat.db.Database;
> import com.sleepycat.db.DatabaseConfig;
> import com.sleepycat.db.DatabaseType;
> import com.sleepycat.db.DatabaseException;
> 
> import java.io.File;
> import java.io.IOException;
> 
> import org.apache.lucene.store.db.DbDirectory;
> import org.apache.lucene.index.IndexWriter;
> import org.apache.lucene.analysis.standard.StandardAnalyzer;
> import org.apache.lucene.document.Document;
> import org.apache.lucene.document.Field;
> 
> public class BerkeleyDbIndexer {
> 
>      public static void main(String[] args)
>          throws IOException, DatabaseException
>      {
>          if (args.length < 1)
>          {
>              System.err.println("Usage: BerkeleyDbIndexer <index dir> -create");
>              System.exit(-1);
>          }
> 
>          String indexDir = args[0];
>          boolean create = args.length == 2 ? args[1].equals("-create") : false;
>          File dbHome = new File(indexDir);
> 
>          if (!dbHome.exists())
>              dbHome.mkdir();
>          else if (create)
>          {
>              File[] files = dbHome.listFiles();
> 
>              for (int i = 0; i < files.length; i++)
>                  if (files[i].getName().startsWith("__"))
>                      files[i].delete();
>          }
> 
>          EnvironmentConfig envConfig = new EnvironmentConfig();
>          DatabaseConfig dbConfig = new DatabaseConfig();
> 
>          envConfig.setTransactional(true);
>          envConfig.setInitializeCache(true);
>          envConfig.setInitializeLocking(true);
>          envConfig.setInitializeLogging(true);
>          envConfig.setLogInMemory(true);
>          envConfig.setAllowCreate(true);
>          envConfig.setThreaded(true);
>          dbConfig.setAllowCreate(true);
>          dbConfig.setType(DatabaseType.BTREE);
> 
>          Environment env = new Environment(dbHome, envConfig);
>          Transaction txn = null;
>          Database index, blocks;
> 
>          try {
>              txn = env.beginTransaction(null, null);
>              index = env.openDatabase(txn, "__index__", null, dbConfig);
>              blocks = env.openDatabase(txn, "__blocks__", null, dbConfig);
>          } catch (DatabaseException e) {
>              if (txn != null)
>              {
>                  txn.abort();
>                  txn = null;
>              }
>              throw e;
>          } finally {
>              if (txn != null)
>                  txn.commit();
>              txn = null;
>          }
> 
>          DbDirectory directory;
>          IndexWriter writer;
> 
>          try {
>              txn = env.beginTransaction(null, null);
>              directory = new DbDirectory(txn, index, blocks);
>              writer = new IndexWriter(directory, new StandardAnalyzer(), create);
>              writer.setUseCompoundFile(false);
> 
>              Document doc = new Document();
>              doc.add(Field.Text("contents", "The quick brown fox..."));
>              writer.addDocument(doc);
> 
>              writer.optimize();
>              writer.close();
>          } catch (IOException e) {
>              txn.abort();
>              txn = null;
>              throw e;
>          } catch (DatabaseException e) {
>              if (txn != null)
>              {
>                  txn.abort();
>                  txn = null;
>              }
>              throw e;
>          } finally {
>              if (txn != null)
>                  txn.commit();
> 
>              index.close();
>              blocks.close();
>              env.close();
>          }
> 
>          System.out.println("Indexing Complete");
>      }
> }
> 
> /* ------- BerkeleyDbSearcher.java ------- */
> 
> package lia.tools;
> 
> import com.sleepycat.db.EnvironmentConfig;
> import com.sleepycat.db.Environment;
> import com.sleepycat.db.Transaction;
> import com.sleepycat.db.Database;
> import com.sleepycat.db.DatabaseException;
> 
> import org.apache.lucene.index.Term;
> import org.apache.lucene.search.Hits;
> import org.apache.lucene.search.IndexSearcher;
> import org.apache.lucene.search.TermQuery;
> import org.apache.lucene.store.db.DbDirectory;
> 
> import java.io.File;
> import java.io.IOException;
> 
> public class BerkeleyDbSearcher {
> 
>      public static void main(String[] args)
>          throws IOException, DatabaseException
>      {
>          if (args.length != 1)
>          {
>              System.err.println("Usage: BerkeleyDbSearcher <index dir>");
>              System.exit(-1);
>          }
> 
>          File dbHome = new File(args[0]);
>          EnvironmentConfig envConfig = new EnvironmentConfig();
> 
>          envConfig.setTransactional(true);
>          envConfig.setInitializeCache(true);
>          envConfig.setInitializeLocking(true);
>          envConfig.setInitializeLogging(true);
>          envConfig.setLogInMemory(true);
>          envConfig.setThreaded(true);
> 
>          Environment env = new Environment(dbHome, envConfig);
>          Transaction txn = null;
>          Database index, blocks;
> 
>          try {
>              txn = env.beginTransaction(null, null);
>              index = env.openDatabase(txn, "__index__", null, null);
>              blocks = env.openDatabase(txn, "__blocks__", null, null);
>          } catch (DatabaseException e) {
>              if (txn != null)
>              {
>                  txn.abort();
>                  txn = null;
>              }
>              throw e;
>          } finally {
>              if (txn != null)
>                  txn.commit();
>              txn = null;
>          }
> 
>          DbDirectory directory;
>          IndexSearcher searcher;
> 
>          try {
>              txn = env.beginTransaction(null, null);
>              directory = new DbDirectory(txn, index, blocks);
>              searcher = new IndexSearcher(directory);
> 
>              Hits hits = searcher.search(new TermQuery(new Term("contents",
>                                                                 "fox")));
>              System.out.println(hits.length() + " documents found");
>              searcher.close();
>          } finally {
>              if (txn != null)
>                  txn.abort();
> 
>              index.close();
>              blocks.close();
>              env.close();
>          }
>      }
> }
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12515-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 18 21:55:28 2005
Return-Path: <lucene-user-return-12515-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76910 invoked from network); 18 Jan 2005 21:55:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Jan 2005 21:55:28 -0000
Received: (qmail 67662 invoked by uid 500); 18 Jan 2005 21:55:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67631 invoked by uid 500); 18 Jan 2005 21:55:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67606 invoked by uid 99); 18 Jan 2005 21:55:23 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of andi@osafoundation.org designates 204.152.186.98 as permitted sender)
Received: from kahuna.osafoundation.org (HELO kahuna.osafoundation.org) (204.152.186.98)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 18 Jan 2005 13:55:20 -0800
X-Envelope-From: andi@osafoundation.org
Received: from localhost (kahuna.osafoundation.org [127.0.0.1])
	by kahuna.osafoundation.org (8.12.8/8.12.8) with ESMTP id j0ILtGab031015
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Tue, 18 Jan 2005 13:55:17 -0800
Date: Tue, 18 Jan 2005 13:57:31 -0800 (PST)
From: Andi Vajda <andi@osafoundation.org>
X-X-Sender: vajda@zoe
Reply-To: Andi Vajda <andi@osafoundation.org>
To: jian chen <chenjian1227@gmail.com>
cc: Lucene Users List <lucene-user@jakarta.apache.org>,
   Andi Vajda <andi@osafoundation.org>
Subject: Re: 'db' sandbox contribution update
In-Reply-To: <7ca1239105011813466048aa31@mail.gmail.com>
Message-ID: <Pine.OSX.4.61.0501181350100.12187@zoe>
References: <Pine.OSX.4.61.0501181317580.12099@zoe> <7ca1239105011813466048aa31@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Scanned-By: MIMEDefang 2.48 on 127.0.0.1
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


  Jian,

> I'd like to know when I use Lucene, normally under what condition I
> should use the db (berkeley db) directory instead of using the
> standard file system based directory?
>
> Could you please let me know some brief comparisons of using berkeley
> db vs. using file system and what is better?

Berkeley DB is a real database offering ACID transactions, FSDirectory is not. 
Berkeley DB can be very lightweight and is easily embedded in your 
application. For more information on Berkeley DB, see:
     http://www.sleepycat.com.

When to use DbDirectory over FSDirectory really depends on your needs and 
constraints. If your index does not exceed the limits of your file system and 
you have no real concurrency needs then FSDirectory is fine. If you want/need
undoable transactions to wrap your index access calls, DbDirectory is probably 
a better choice.

Andi..

>
> Thanks,
>
> Jian
>
>
> On Tue, 18 Jan 2005 13:26:16 -0800 (PST), Andi Vajda
> <andi@osafoundation.org> wrote:
>>
>> With the release of Berkeley DB 4.3.x, Sleepycat radically changed the Java
>> API to C Berkeley DB. This is to announce that the updates to the DbDirectory
>> implementation I submitted were committed to the lucene sandbox at:
>>      http://cvs.apache.org/viewcvs.cgi/jakarta-lucene-sandbox/contributions/db
>>
>> I also updated the 'Lucene in Action' samples that illustrate how to use this
>> Berkeley DB-based implementation of org.apache.lucene.store.Directory.
>> They are included below.
>>
>> Andi..
>>
>> /* ------- BerkeleyDbIndexer.java ------- */
>>
>> package lia.tools;
>>
>> import com.sleepycat.db.EnvironmentConfig;
>> import com.sleepycat.db.Environment;
>> import com.sleepycat.db.Transaction;
>> import com.sleepycat.db.Database;
>> import com.sleepycat.db.DatabaseConfig;
>> import com.sleepycat.db.DatabaseType;
>> import com.sleepycat.db.DatabaseException;
>>
>> import java.io.File;
>> import java.io.IOException;
>>
>> import org.apache.lucene.store.db.DbDirectory;
>> import org.apache.lucene.index.IndexWriter;
>> import org.apache.lucene.analysis.standard.StandardAnalyzer;
>> import org.apache.lucene.document.Document;
>> import org.apache.lucene.document.Field;
>>
>> public class BerkeleyDbIndexer {
>>
>>      public static void main(String[] args)
>>          throws IOException, DatabaseException
>>      {
>>          if (args.length < 1)
>>          {
>>              System.err.println("Usage: BerkeleyDbIndexer <index dir> -create");
>>              System.exit(-1);
>>          }
>>
>>          String indexDir = args[0];
>>          boolean create = args.length == 2 ? args[1].equals("-create") : false;
>>          File dbHome = new File(indexDir);
>>
>>          if (!dbHome.exists())
>>              dbHome.mkdir();
>>          else if (create)
>>          {
>>              File[] files = dbHome.listFiles();
>>
>>              for (int i = 0; i < files.length; i++)
>>                  if (files[i].getName().startsWith("__"))
>>                      files[i].delete();
>>          }
>>
>>          EnvironmentConfig envConfig = new EnvironmentConfig();
>>          DatabaseConfig dbConfig = new DatabaseConfig();
>>
>>          envConfig.setTransactional(true);
>>          envConfig.setInitializeCache(true);
>>          envConfig.setInitializeLocking(true);
>>          envConfig.setInitializeLogging(true);
>>          envConfig.setLogInMemory(true);
>>          envConfig.setAllowCreate(true);
>>          envConfig.setThreaded(true);
>>          dbConfig.setAllowCreate(true);
>>          dbConfig.setType(DatabaseType.BTREE);
>>
>>          Environment env = new Environment(dbHome, envConfig);
>>          Transaction txn = null;
>>          Database index, blocks;
>>
>>          try {
>>              txn = env.beginTransaction(null, null);
>>              index = env.openDatabase(txn, "__index__", null, dbConfig);
>>              blocks = env.openDatabase(txn, "__blocks__", null, dbConfig);
>>          } catch (DatabaseException e) {
>>              if (txn != null)
>>              {
>>                  txn.abort();
>>                  txn = null;
>>              }
>>              throw e;
>>          } finally {
>>              if (txn != null)
>>                  txn.commit();
>>              txn = null;
>>          }
>>
>>          DbDirectory directory;
>>          IndexWriter writer;
>>
>>          try {
>>              txn = env.beginTransaction(null, null);
>>              directory = new DbDirectory(txn, index, blocks);
>>              writer = new IndexWriter(directory, new StandardAnalyzer(), create);
>>              writer.setUseCompoundFile(false);
>>
>>              Document doc = new Document();
>>              doc.add(Field.Text("contents", "The quick brown fox..."));
>>              writer.addDocument(doc);
>>
>>              writer.optimize();
>>              writer.close();
>>          } catch (IOException e) {
>>              txn.abort();
>>              txn = null;
>>              throw e;
>>          } catch (DatabaseException e) {
>>              if (txn != null)
>>              {
>>                  txn.abort();
>>                  txn = null;
>>              }
>>              throw e;
>>          } finally {
>>              if (txn != null)
>>                  txn.commit();
>>
>>              index.close();
>>              blocks.close();
>>              env.close();
>>          }
>>
>>          System.out.println("Indexing Complete");
>>      }
>> }
>>
>> /* ------- BerkeleyDbSearcher.java ------- */
>>
>> package lia.tools;
>>
>> import com.sleepycat.db.EnvironmentConfig;
>> import com.sleepycat.db.Environment;
>> import com.sleepycat.db.Transaction;
>> import com.sleepycat.db.Database;
>> import com.sleepycat.db.DatabaseException;
>>
>> import org.apache.lucene.index.Term;
>> import org.apache.lucene.search.Hits;
>> import org.apache.lucene.search.IndexSearcher;
>> import org.apache.lucene.search.TermQuery;
>> import org.apache.lucene.store.db.DbDirectory;
>>
>> import java.io.File;
>> import java.io.IOException;
>>
>> public class BerkeleyDbSearcher {
>>
>>      public static void main(String[] args)
>>          throws IOException, DatabaseException
>>      {
>>          if (args.length != 1)
>>          {
>>              System.err.println("Usage: BerkeleyDbSearcher <index dir>");
>>              System.exit(-1);
>>          }
>>
>>          File dbHome = new File(args[0]);
>>          EnvironmentConfig envConfig = new EnvironmentConfig();
>>
>>          envConfig.setTransactional(true);
>>          envConfig.setInitializeCache(true);
>>          envConfig.setInitializeLocking(true);
>>          envConfig.setInitializeLogging(true);
>>          envConfig.setLogInMemory(true);
>>          envConfig.setThreaded(true);
>>
>>          Environment env = new Environment(dbHome, envConfig);
>>          Transaction txn = null;
>>          Database index, blocks;
>>
>>          try {
>>              txn = env.beginTransaction(null, null);
>>              index = env.openDatabase(txn, "__index__", null, null);
>>              blocks = env.openDatabase(txn, "__blocks__", null, null);
>>          } catch (DatabaseException e) {
>>              if (txn != null)
>>              {
>>                  txn.abort();
>>                  txn = null;
>>              }
>>              throw e;
>>          } finally {
>>              if (txn != null)
>>                  txn.commit();
>>              txn = null;
>>          }
>>
>>          DbDirectory directory;
>>          IndexSearcher searcher;
>>
>>          try {
>>              txn = env.beginTransaction(null, null);
>>              directory = new DbDirectory(txn, index, blocks);
>>              searcher = new IndexSearcher(directory);
>>
>>              Hits hits = searcher.search(new TermQuery(new Term("contents",
>>                                                                 "fox")));
>>              System.out.println(hits.length() + " documents found");
>>              searcher.close();
>>          } finally {
>>              if (txn != null)
>>                  txn.abort();
>>
>>              index.close();
>>              blocks.close();
>>              env.close();
>>          }
>>      }
>> }
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12516-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 18 22:02:22 2005
Return-Path: <lucene-user-return-12516-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79976 invoked from network); 18 Jan 2005 22:02:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Jan 2005 22:02:21 -0000
Received: (qmail 86461 invoked by uid 500); 18 Jan 2005 22:01:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 86344 invoked by uid 500); 18 Jan 2005 22:01:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86287 invoked by uid 99); 18 Jan 2005 22:01:56 -0000
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mariella@lanl.gov designates 192.65.95.54 as permitted sender)
Received: from mailwasher.lanl.gov (HELO mailwasher-b.lanl.gov) (192.65.95.54)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 18 Jan 2005 14:01:54 -0800
Received: from mailrelay1.lanl.gov (mailrelay1.lanl.gov [128.165.4.101])
	by mailwasher-b.lanl.gov (8.12.11/8.12.11/(ccn-5)) with ESMTP id j0IM1qCf017735;
	Tue, 18 Jan 2005 15:01:52 -0700
Received: from cic-mail.lanl.gov (cic-mail.lanl.gov [128.165.4.115])
	by mailrelay1.lanl.gov (8.12.11/8.12.11/(ccn-5)) with ESMTP id j0IM1o9W008366;
	Tue, 18 Jan 2005 15:01:50 -0700
Received: from butterfly.lanl.gov (butterfly.lanl.gov [128.165.10.37])
	by cic-mail.lanl.gov (8.12.11/8.12.11/(ccn-5)) with ESMTP id j0IM1nvZ016341;
	Tue, 18 Jan 2005 15:01:49 -0700
Message-Id: <5.2.1.1.2.20050118142816.02f9c9b0@cic-mail.lanl.gov>
X-Sender: mariella@cic-mail.lanl.gov (Unverified)
X-Mailer: QUALCOMM Windows Eudora Version 5.2.1
Date: Tue, 18 Jan 2005 15:01:48 -0700
To: lucene-user@jakarta.apache.org, lucene-dev@jakarta.apache.org
From: Mariella Di Giacomo <mariella@lanl.gov>
Subject: Question about proximity searching and wildcards
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====================_504260218==.ALT"
X-PMX-Version: 4.7.0.111621
X-PMX-Version: 4.7.0.111621
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=====================_504260218==.ALT
Content-Type: text/plain; charset="iso-8859-1"; format=flowed
Content-Transfer-Encoding: quoted-printable

Hello,

We are using Lucene to index scientific articles.
We are also using Luke to verify the fields and values we index.

One of the fields we index is the author field that consists of the authors=
=20
that have written the scientific article (an example of such data is shown=
=20
at the bottom of the email).

The most common search on the author field is the following:

"find all the authors whose last name starts with Cole and the first name=20
starts with S"

We thought of a proximity search (we want to make sure we take the first=20
name and not the middle name/initial) similar like that

"Author:cole* S*"~1
"Author:cole* AND Author:S*"~1

What we were expecting was: all the documents that contain authors whose=20
last name starts with Cole and the first name start with S and those words=
=20
are near (next to each other)

Unfortunately when we type that search through the Luke "search interface"=
=20
we do not get the expansion of the
words when using the similarity at the same time

So my question:

1) Does Luke cannot deal with that ?
2) Is the query not properly structured to get what expected ? Which would=
=20
be the correct one ?

If Luke cannot deal with that, when writing the query through the Java=20
application, which would be the
query to be provided to get what expected ?
Do we need to use a query filter ?


Thanks a lot in advance for your help,


Mariella






____________________________________________________________________________=
_________________
E.g.

Below there are three examples of data we index and to be precise the=20
information related to the Authors field.

The following is the information related to scientific articles that we=
 index.

1)
The Authors field consists of two authors

Title: Using Document Dimensions for Enhanced Information Retrieval
Authors: Jayasooriya, Thimala(thimal@cs.york.ac.uk); Manandhar,=20
Suresha(suresh@cs.york.ac.uk)
Affiliations: a. Department of Computer Science, University of York
Abstract (English): Conventional document search techniques are constrained=
=20
by attempting to match individual keywords or phrases to source documents.=
=20
Thus, these techniques miss out documents that contain semantically similar=
=20
terms, thereby achieving a relatively low degree of recall. At the same=20
time, processing capabilities and tools for syntactic and semantic analysis=
=20
of language have advanced to the point where an index-time linguistic=20
analysis of source documents is both feasible and realistic. In this paper,=
=20
we introduce document dimensions, a means of classifying or grouping terms=
=20
discovered in documents. Using an enhanced version of Jakarta Lucene[1], we=
=20
demonstrate that supplementing keyword analysis with some syntactic and=20
semantic information can indeed enhance the quality of information=20
retrieval results.
Publisher: Springer-Verlag
Publication Type: Original Paper
ISSN: 0302-9743
ISBN: 3-540-23659-7
Book DOI: 10.1007/b101591

2)
The Authors field consists of six authors

Title: Multilingual Retrieval Experiments with MIMOR at the University of=20
Hildesheim
Authors: Hackl, Ren=E9a; K=F6lle, Ralpha; Mandl,=20
Thomasa(mandl@uni-hildesheim.de); Ploedt, Alexandraa; Scheufen,=20
Jan-Hendrika; Womser-Hacker, Christaa
Affiliations: a. University of Hildesheim, Information Science,=20
Marienburger Platz 22, D-31141 Hildesheim
Abstract (English): Fusion and optimization based relevance judgements have=
=20
proven to be successful strategies in information retrieval. In this years=
=20
CLEF campaign we applied these strategies to multilingual retrieval with=20
four languages. Our fusion experiments were carried out using freely=20
available software. We used the snowball stemmers, internet translation=20
services and the text retrieval tools in Lucene and the new MySQL.
Publisher: Springer-Verlag
Publication Type: Original Paper
ISSN: 0302-9743
ISBN: 3-540-24017-9
Book DOI: 10.1007/b102261

3)

The Authors field consists of one author and only middle and first initial=
=20
are provided

Title: Letter to the editor
Author: Coleman, S.S.a
Affiliations: a. Department of Orthopaedics, The University of Utah School=
=20
of Medicine, 50 North Medical Drive, Salt Lake City, UT 84132, USA US
Abstract: No Abstract
Publisher: Springer-Verlag
Item Identifier: 10.1007/s002640000113
Publication Type: Article
ISSN: 0341-2695



--=====================_504260218==.ALT--



From lucene-user-return-12517-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 18 22:23:21 2005
Return-Path: <lucene-user-return-12517-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11137 invoked from network); 18 Jan 2005 22:23:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Jan 2005 22:23:21 -0000
Received: (qmail 22044 invoked by uid 500); 18 Jan 2005 22:23:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22020 invoked by uid 500); 18 Jan 2005 22:23:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22007 invoked by uid 99); 18 Jan 2005 22:23:16 -0000
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=RCVD_BY_IP,RCVD_IN_SBL,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of petite.abeille@gmail.com designates 64.233.184.207 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.207)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 18 Jan 2005 14:23:15 -0800
Received: by wproxy.gmail.com with SMTP id 37so88450wra
        for <lucene-user@jakarta.apache.org>; Tue, 18 Jan 2005 14:23:11 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=Zu3PFgCffy7uyPbQ/GF5NucnmB3fQuDzaXilf0hhzNPD+3hZD2WzGYTGGtktlEZqAT0xGI3iobDhHmab1mmUtDqlgpzP5Vst1ti/dW0Tmcb8dLOMOgfdrAUMF3UsMesmPLLBtONIfxZd8yZB37RoM8xipcp88HMb+0iozkjoW2o=
Received: by 10.54.6.31 with SMTP id 31mr121471wrf;
        Tue, 18 Jan 2005 14:23:11 -0800 (PST)
Received: from ?10.0.1.159? ([62.167.118.3])
        by smtp.gmail.com with ESMTP id 34sm473wra.2005.01.18.14.23.10;
        Tue, 18 Jan 2005 14:23:11 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <Pine.OSX.4.61.0501181317580.12099@zoe>
References: <Pine.OSX.4.61.0501181317580.12099@zoe>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <957AEF6A-699F-11D9-BDD8-000393760B7E@gmail.com>
Content-Transfer-Encoding: 7bit
From: PA <petite.abeille@gmail.com>
Subject: Re: 'db' sandbox contribution update
Date: Tue, 18 Jan 2005 23:23:31 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 18, 2005, at 22:26, Andi Vajda wrote:

> With the release of Berkeley DB 4.3.x, Sleepycat radically changed the 
> Java API to C Berkeley DB.

Hmmm... out of curiosity... any reason not to use the Berkeley DB Java 
Edition instead of the Java API to C Berkeley DB?

http://www.sleepycat.com/products/je.shtml

Cheers

--
PA
http://alt.textdrive.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12518-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 18 23:01:38 2005
Return-Path: <lucene-user-return-12518-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80799 invoked from network); 18 Jan 2005 23:01:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Jan 2005 23:01:16 -0000
Received: (qmail 86286 invoked by uid 500); 18 Jan 2005 23:00:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85970 invoked by uid 500); 18 Jan 2005 23:00:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85955 invoked by uid 99); 18 Jan 2005 23:00:24 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of andi@osafoundation.org designates 204.152.186.98 as permitted sender)
Received: from kahuna.osafoundation.org (HELO kahuna.osafoundation.org) (204.152.186.98)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 18 Jan 2005 15:00:24 -0800
X-Envelope-From: andi@osafoundation.org
X-Envelope-To: <lucene-user@jakarta.apache.org>
Received: from localhost (kahuna.osafoundation.org [127.0.0.1])
	by kahuna.osafoundation.org (8.12.8/8.12.8) with ESMTP id j0IN0Mab008090
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Tue, 18 Jan 2005 15:00:22 -0800
Date: Tue, 18 Jan 2005 15:02:37 -0800 (PST)
From: Andi Vajda <andi@osafoundation.org>
X-X-Sender: vajda@zoe
Reply-To: Andi Vajda <andi@osafoundation.org>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: 'db' sandbox contribution update
Message-ID: <Pine.OSX.4.61.0501181501160.12267@zoe>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Scanned-By: MIMEDefang 2.48 on 127.0.0.1
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


> Hmmm... out of curiosity... any reason not to use the Berkeley DB Java
> Edition instead of the Java API to C Berkeley DB?
>
> http://www.sleepycat.com/products/je.shtml

Well, normally, if you're in a 100% Java situation, you could use the Berkeley
DB Java edition instead. I'm not. I'm using the same code with Chandler, a
python program, and PyLucene (http://pylucene.osafoundation.org).
Chandler and PyLucene share the same database environment and this can only be
done if the C edition of Berkeley DB is the underlying db implementation.

There are three Java APIs for Berkeley DB available now:
    - Java API for C Berkeley DB 4.2.x
    - Java API for C Berkeley DB 4.3.x
    - Berkeley DB 100% Java Edition

These APIs are different from each other although 4.3.x and 100% Java are
close. Many months ago, somebody contacted me about rewriting DbDirectory for
the Java Edition of Berkeley DB, but I haven't heard from him in a long long
while.

Andi..

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12519-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 18 23:25:00 2005
Return-Path: <lucene-user-return-12519-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93307 invoked from network); 18 Jan 2005 23:24:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Jan 2005 23:24:59 -0000
Received: (qmail 37122 invoked by uid 500); 18 Jan 2005 23:24:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37068 invoked by uid 500); 18 Jan 2005 23:24:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37028 invoked by uid 99); 18 Jan 2005 23:24:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail3.qsent.com (HELO exchange.qsent.com) (208.252.86.23)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 18 Jan 2005 15:24:48 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: ParallellMultiSearcher Vs. One big Index
Date: Tue, 18 Jan 2005 15:24:57 -0800
Message-ID: <5238CD8601F3EF4BA3C5553FECBB7D2A03884F36@exchange.qsent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: ParallellMultiSearcher Vs. One big Index
Thread-Index: AcT9lHOuE62xC3kYS3y1yurA1bnqewADnhwQ
From: "Ryan Aslett" <Ryan.Aslett@Qsent.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The test system is not multithreaded currently, i.e. the queries are
executed serially.
Which explains why the multi-term, single index was slower.. Ie. Only
using one thread vs the parallel multisearcher using many.
I had plenty of CPU on the multi-term single index.  So if I were to
make my querier multithreaded, the fastest index configuration would
ideally be one big index?

Thanks you for your help!
Ryan


-----Original Message-----
From: Doug Cutting [mailto:cutting@apache.org]=20
Sent: Tuesday, January 18, 2005 11:32 AM
To: Lucene Users List
Subject: Re: ParallellMultiSearcher Vs. One big Index

Ryan Aslett wrote:
> What I found was that for queries with one term (First Name), the
large
> index beat the multiple indexes hands down (280 Queries/per second vs
> 170 Q/s).
> But for queries with multiple terms (Address), the multiple indexes
beat
> out the Large index. (26 Q/s vs 16 Q/s)
> Btw, Im running these on a 2 proc box with 16GB of ram.
>=20
> So what Im trying to determine Is if there is some equations out there
> that can help me find the sweet spot for splitting my indexes.

What appears to be the bottleneck, CPU or i/o?  Is your test system=20
multi-threaded?  I.e., is it attempting to execute many queries in=20
parallel?  If you're CPU-bound then a single index should be fastest.=20
Are you using compound format?  If you're i/o-bound, the non-compound=20
format may be somewhat faster, as it permits more parallel i/o.  Is the=20
index data on multiple drives?  If you're i/o bound then it should be=20
faster to use multiple drives.  To permit even more parallel i/o over=20
multiple drives you might consider using a pool of IndexReaders.  That=20
way, with, e.g., striped data, each could be simultaneously reading=20
different portions of the same file.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12520-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 18 23:30:15 2005
Return-Path: <lucene-user-return-12520-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11527 invoked from network); 18 Jan 2005 23:30:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Jan 2005 23:30:14 -0000
Received: (qmail 52399 invoked by uid 500); 18 Jan 2005 23:30:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52353 invoked by uid 500); 18 Jan 2005 23:30:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52318 invoked by uid 99); 18 Jan 2005 23:30:08 -0000
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=RCVD_BY_IP,RCVD_IN_SBL,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of petite.abeille@gmail.com designates 64.233.170.195 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.195)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 18 Jan 2005 15:30:07 -0800
Received: by rproxy.gmail.com with SMTP id j1so46294rnf
        for <lucene-user@jakarta.apache.org>; Tue, 18 Jan 2005 15:30:04 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=N0t6MJin4KsTqyAFpq5ldpdpgzJEkDQ0Xzr9/7WmzD9ERnPOe1gxQVbvfp0/Bz6GStBREStxUzEBT1VdlOG+gmFtMgo88FpUBfUyFfqagC124/93oSQ79xNK+/Moh83/7vJlKmVkhnj2atakf3bTe9EKE7Foqjjh7grea5qHplk=
Received: by 10.38.99.16 with SMTP id w16mr191484rnb;
        Tue, 18 Jan 2005 15:30:04 -0800 (PST)
Received: from ?10.0.1.159? ([62.167.118.3])
        by smtp.gmail.com with ESMTP id 71sm2570rna.2005.01.18.15.30.03;
        Tue, 18 Jan 2005 15:30:04 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <Pine.OSX.4.61.0501181501160.12267@zoe>
References: <Pine.OSX.4.61.0501181501160.12267@zoe>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <EDE77C92-69A8-11D9-BDD8-000393760B7E@gmail.com>
Content-Transfer-Encoding: 7bit
From: PA <petite.abeille@gmail.com>
Subject: Re: 'db' sandbox contribution update
Date: Wed, 19 Jan 2005 00:30:25 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 19, 2005, at 00:02, Andi Vajda wrote:

> Well, normally, if you're in a 100% Java situation, you could use the 
> Berkeley
> DB Java edition instead.

Alternatively, did anyone played with JDBM [1] to achieve the same 
result?

> I'm not. I'm using the same code with Chandler, a
> python program, and PyLucene (http://pylucene.osafoundation.org).
> Chandler and PyLucene share the same database environment and this can 
> only be
> done if the C edition of Berkeley DB is the underlying db 
> implementation.

I see.

By the way, is Chandler ever going to be released in our lifetime? :o)

While waiting for Godot, there is always Haystack [2].

Cheers

--
PA
http://alt.textdrive.com/

[1] http://jdbm.sourceforge.net/
[2] http://haystack.lcs.mit.edu/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12521-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 18 23:53:08 2005
Return-Path: <lucene-user-return-12521-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56658 invoked from network); 18 Jan 2005 23:53:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Jan 2005 23:53:08 -0000
Received: (qmail 87779 invoked by uid 500); 18 Jan 2005 23:53:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87755 invoked by uid 500); 18 Jan 2005 23:53:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87738 invoked by uid 99); 18 Jan 2005 23:53:03 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 18 Jan 2005 15:53:02 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 67DE05B799; Tue, 18 Jan 2005 15:51:38 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 606497F45E
	for <lucene-user@jakarta.apache.org>; Tue, 18 Jan 2005 15:51:38 -0800 (PST)
Date: Tue, 18 Jan 2005 15:51:38 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: lucene-user@jakarta.apache.org
Subject: sharing lock files on multiple computers
Message-ID: <Pine.LNX.4.58.0501181541560.9348@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


LIA mentions that it's not a good idea to put Lock files on an NFS volume,
I can't think offhand of any specific examples of why this is bad, but
based on on my experience with NFS I'm not surprised by the advice either.

that said, the same paragraph of LIA does say...

   If you have multiple computers that need to access the same index
   stored on a shared disk, you should set the lock directory explicitly
   so that applications on different computers see each other's locks.

http://www.lucenebook.com/search?query=multiple+computers+%22see+each+other%27s+locks%22

...which prompts me to wonder, how do people do this (ie: configure
lockDir such that processes on seperate physical computers respect
eachothers locks) without using NFS?



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12522-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 19 00:57:56 2005
Return-Path: <lucene-user-return-12522-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81540 invoked from network); 19 Jan 2005 00:57:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jan 2005 00:57:56 -0000
Received: (qmail 73250 invoked by uid 500); 19 Jan 2005 00:57:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73225 invoked by uid 500); 19 Jan 2005 00:57:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73209 invoked by uid 99); 19 Jan 2005 00:57:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 18 Jan 2005 16:57:49 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 9757E13E20EA; Tue, 18 Jan 2005 19:57:44 -0500 (EST)
Received: from [192.168.1.102] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id CFAC613E2007
	for <lucene-user@jakarta.apache.org>; Tue, 18 Jan 2005 19:57:29 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <Pine.LNX.4.58.0501181541560.9348@hal.rescomp.berkeley.edu>
References: <Pine.LNX.4.58.0501181541560.9348@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <167B78AB-69B5-11D9-8968-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: sharing lock files on multiple computers
Date: Tue, 18 Jan 2005 19:57:27 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.6 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 18, 2005, at 6:51 PM, Chris Hostetter wrote:
> that said, the same paragraph of LIA does say...
>
>    If you have multiple computers that need to access the same index
>    stored on a shared disk, you should set the lock directory  
> explicitly
>    so that applications on different computers see each other's locks.
>
> http://www.lucenebook.com/search? 
> query=multiple+computers+%22see+each+other%27s+locks%22
>
> ...which prompts me to wonder, how do people do this (ie: configure
> lockDir such that processes on seperate physical computers respect
> eachothers locks) without using NFS?

There is a system property that controls where the lock files are  
written:

	http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head 
-59be30838bbb5692e605384b5f4c2f224f3dfa6f



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12523-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 19 01:11:19 2005
Return-Path: <lucene-user-return-12523-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86391 invoked from network); 19 Jan 2005 01:11:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jan 2005 01:11:18 -0000
Received: (qmail 90254 invoked by uid 500); 19 Jan 2005 01:11:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89415 invoked by uid 500); 19 Jan 2005 01:11:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89400 invoked by uid 99); 19 Jan 2005 01:11:15 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 18 Jan 2005 17:11:14 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 52C4D5B7B1; Tue, 18 Jan 2005 17:09:51 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 339ED7F45C
	for <lucene-user@jakarta.apache.org>; Tue, 18 Jan 2005 17:09:51 -0800 (PST)
Date: Tue, 18 Jan 2005 17:09:50 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: sharing lock files on multiple computers
In-Reply-To: <167B78AB-69B5-11D9-8968-000393A564E6@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.58.0501181703240.9348@hal.rescomp.berkeley.edu>
References: <Pine.LNX.4.58.0501181541560.9348@hal.rescomp.berkeley.edu>
 <167B78AB-69B5-11D9-8968-000393A564E6@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

: > ...which prompts me to wonder, how do people do this (ie: configure
: > lockDir such that processes on seperate physical computers respect
: > eachothers locks) without using NFS?
:
: There is a system property that controls where the lock files are
: written:
:
: 	http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head
: -59be30838bbb5692e605384b5f4c2f224f3dfa6f

Um, yeah.  I'm actually the one that added that FAQ answer last week :)

My question is: Given the assertion that it's not safe to keep lock
files on an NFS partition, what mechanism do/would/should people use to
enable two applications running on seperate physical machines to use the
same lock file directory?

(this question is based on the understanding that unless the applications
are sharing the same lock directory, and index may be corrupted by
concurrent modifications, correct?)



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12524-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 19 01:29:15 2005
Return-Path: <lucene-user-return-12524-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95360 invoked from network); 19 Jan 2005 01:29:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jan 2005 01:29:15 -0000
Received: (qmail 12646 invoked by uid 500); 19 Jan 2005 01:29:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12621 invoked by uid 500); 19 Jan 2005 01:29:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12607 invoked by uid 99); 19 Jan 2005 01:29:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 18 Jan 2005 17:29:09 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 18DA113E20EA; Tue, 18 Jan 2005 20:29:06 -0500 (EST)
Received: from [192.168.1.102] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 7F86013E2007
	for <lucene-user@jakarta.apache.org>; Tue, 18 Jan 2005 20:28:48 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <Pine.LNX.4.58.0501181703240.9348@hal.rescomp.berkeley.edu>
References: <Pine.LNX.4.58.0501181541560.9348@hal.rescomp.berkeley.edu> <167B78AB-69B5-11D9-8968-000393A564E6@ehatchersolutions.com> <Pine.LNX.4.58.0501181703240.9348@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <72B6515E-69B9-11D9-8968-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: sharing lock files on multiple computers
Date: Tue, 18 Jan 2005 20:28:39 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.6 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 18, 2005, at 8:09 PM, Chris Hostetter wrote:

> : > ...which prompts me to wonder, how do people do this (ie: configure
> : > lockDir such that processes on seperate physical computers respect
> : > eachothers locks) without using NFS?

> My question is: Given the assertion that it's not safe to keep lock
> files on an NFS partition, what mechanism do/would/should people use to
> enable two applications running on seperate physical machines to use 
> the
> same lock file directory?

I don't have experience with NFS, but the issue has cropped up numerous 
times on this e-mail list, and the general advice is "don't use Lucene 
on NFS drives, period", and that is why we provided that same advice in 
LIA.  However, I'm admittedly unknowledgeable in the reason the problem 
exists.

> (this question is based on the understanding that unless the 
> applications
> are sharing the same lock directory, and index may be corrupted by
> concurrent modifications, correct?)

Right - concurrent writes to the index could cause trouble.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12525-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 19 06:50:58 2005
Return-Path: <lucene-user-return-12525-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48660 invoked from network); 19 Jan 2005 06:50:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jan 2005 06:50:58 -0000
Received: (qmail 50902 invoked by uid 500); 19 Jan 2005 06:50:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50878 invoked by uid 500); 19 Jan 2005 06:50:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50862 invoked by uid 99); 19 Jan 2005 06:50:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of svijaykr@gmail.com designates 64.233.184.207 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.207)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 18 Jan 2005 22:50:51 -0800
Received: by wproxy.gmail.com with SMTP id 68so71082wra
        for <lucene-user@jakarta.apache.org>; Tue, 18 Jan 2005 22:50:49 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=P79+WY0ZDZz+2wuSdy86KVq/Y3nJF0A4K7h5+u9XhNxAIMrLVOC+0vP+4PPvcgpSNPcDiMEdJGIuolMJtrN8u0ygruus0pTRB7xpdWzD+Tp5iDpnQBaoUuHcJcIgfWZQtEdeMSEsR1pRII738U3tDr8ZI6QY36RDoUQjyEFbgS8=
Received: by 10.54.2.14 with SMTP id 14mr118130wrb;
        Tue, 18 Jan 2005 22:50:49 -0800 (PST)
Received: by 10.54.44.49 with HTTP; Tue, 18 Jan 2005 22:50:49 -0800 (PST)
Message-ID: <c4c8c69405011822507d14cbc3@mail.gmail.com>
Date: Wed, 19 Jan 2005 12:20:49 +0530
From: Siddharth Vijayakrishnan <svijaykr@gmail.com>
Reply-To: Siddharth Vijayakrishnan <svijaykr@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: TermPositionVector
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I am adding a field to a document in the index as follows

doc.add(new     Field("contents",reader,Field.TermVector.WITH_POSITIONS))

Later,I query the index and get the document id of this document. The
following code, however, prints "false".

 TermFreqVector tfv = reader.getTermFreqVector(docId,"contents");
 System.out.println("Is a TermPositionVector  " + (tfv instanceof
TermPositionVector));

Using Field.TermVector.WITH_POSITIONS_OFFSETS, while creating the
field, also produces the same result.

Can someone tell me why this is happening ? 


Thanks,
Siddharth

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12526-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 19 07:53:16 2005
Return-Path: <lucene-user-return-12526-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71848 invoked from network); 19 Jan 2005 07:53:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jan 2005 07:53:16 -0000
Received: (qmail 22377 invoked by uid 500); 19 Jan 2005 07:53:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22350 invoked by uid 500); 19 Jan 2005 07:53:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22336 invoked by uid 99); 19 Jan 2005 07:53:08 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 18 Jan 2005 23:53:06 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id BFCDB23BCB
	for <lucene-user@jakarta.apache.org>; Wed, 19 Jan 2005 08:53:06 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 03923-02 for <lucene-user@jakarta.apache.org>;
 Wed, 19 Jan 2005 08:53:06 +0100 (CET)
Received: from tucholsky.office.tanto.de (tucholsky.office.tanto.de [10.0.0.35])
	by mail.tanto.de (Postfix) with ESMTP id A16BD23B8E
	for <lucene-user@jakarta.apache.org>; Wed, 19 Jan 2005 08:53:06 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) with ESMTP id j0J7r372031327
	for <lucene-user@jakarta.apache.org>; Wed, 19 Jan 2005 08:53:03 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) id j0J7r3TQ031323;
	Wed, 19 Jan 2005 08:53:03 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16878.4575.618449.878405@tanto-xipolis.de>
Date: Wed, 19 Jan 2005 08:53:03 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Question about proximity searching and wildcards
In-Reply-To: <5.2.1.1.2.20050118142816.02f9c9b0@cic-mail.lanl.gov>
References: <5.2.1.1.2.20050118142816.02f9c9b0@cic-mail.lanl.gov>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Mariella Di Giacomo writes:
> Hello,
> 
> We are using Lucene to index scientific articles.
> We are also using Luke to verify the fields and values we index.
> 
> One of the fields we index is the author field that consists of the authors 
> that have written the scientific article (an example of such data is shown 
> at the bottom of the email).
> 
> The most common search on the author field is the following:
> 
> "find all the authors whose last name starts with Cole and the first name 
> starts with S"
> 
> We thought of a proximity search (we want to make sure we take the first 
> name and not the middle name/initial) similar like that
> 
Query parser cannot do that.

> "Author:cole* S*"~1

In that case you cannot expand the wildcard terms.

> "Author:cole* AND Author:S*"~1

You cannot mix boolean queries and proximity queries.

What comes next to your query is phrase prefix query, but that's designed
for something like 'Cole S*' not 'Cole* S*'.

Searching for 'Cole* S*' means to search for all combinations of possible 
expansions of Cole and S. You can do that by expanding the terms yourself
but I'd expect that a) to be slow and b) to create trouble with the maximum
number of boolean terms (or memory usage).
Given that there are 10 expansions of Cole and 500 of S (that's not just
first names, that all names) you have to do 5000 proximity searches.
 
> If Luke cannot deal with that, when writing the query through the Java 
> application, which would be the
> query to be provided to get what expected ?
> Do we need to use a query filter ?
> 
I would use different fields for first and last name in this case.
And if it's relevant to search for the first character of the first name,
I'd index that additionally.

HTH
	Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12527-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 19 08:04:57 2005
Return-Path: <lucene-user-return-12527-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77800 invoked from network); 19 Jan 2005 08:04:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jan 2005 08:04:56 -0000
Received: (qmail 41700 invoked by uid 500); 19 Jan 2005 08:04:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41658 invoked by uid 500); 19 Jan 2005 08:04:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41643 invoked by uid 99); 19 Jan 2005 08:04:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 19 Jan 2005 00:04:45 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id 00DCF23BC8
	for <lucene-user@jakarta.apache.org>; Wed, 19 Jan 2005 09:04:46 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 03929-03 for <lucene-user@jakarta.apache.org>;
 Wed, 19 Jan 2005 09:04:45 +0100 (CET)
Received: from tucholsky.office.tanto.de (tucholsky.office.tanto.de [10.0.0.35])
	by mail.tanto.de (Postfix) with ESMTP id C92A423B8E
	for <lucene-user@jakarta.apache.org>; Wed, 19 Jan 2005 09:04:45 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) with ESMTP id j0J84h72031401
	for <lucene-user@jakarta.apache.org>; Wed, 19 Jan 2005 09:04:43 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) id j0J84hZd031397;
	Wed, 19 Jan 2005 09:04:43 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16878.5275.71583.59190@tanto-xipolis.de>
Date: Wed, 19 Jan 2005 09:04:43 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: sharing lock files on multiple computers
In-Reply-To: <72B6515E-69B9-11D9-8968-000393A564E6@ehatchersolutions.com>
References: <Pine.LNX.4.58.0501181541560.9348@hal.rescomp.berkeley.edu>
	<167B78AB-69B5-11D9-8968-000393A564E6@ehatchersolutions.com>
	<Pine.LNX.4.58.0501181703240.9348@hal.rescomp.berkeley.edu>
	<72B6515E-69B9-11D9-8968-000393A564E6@ehatchersolutions.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher writes:
> 
> On Jan 18, 2005, at 8:09 PM, Chris Hostetter wrote:
> 
> > : > ...which prompts me to wonder, how do people do this (ie: configure
> > : > lockDir such that processes on seperate physical computers respect
> > : > eachothers locks) without using NFS?
> 
> > My question is: Given the assertion that it's not safe to keep lock
> > files on an NFS partition, what mechanism do/would/should people use to
> > enable two applications running on seperate physical machines to use 
> > the
> > same lock file directory?
> 
> I don't have experience with NFS, but the issue has cropped up numerous 
> times on this e-mail list, and the general advice is "don't use Lucene 
> on NFS drives, period", and that is why we provided that same advice in 
> LIA.  However, I'm admittedly unknowledgeable in the reason the problem 
> exists.
> 
IIRC there are suggestions to fix that using lock mechanisms from java 1.4
(or so; I guess it's something from nio). This was placed back because
lucene doesn't require java 1.4 yet.
There are also older (2002?) suggestions to work around using jni and
symlinks for creating lock files (on unix).
Alternatively you could put the lock into a relational database, if
your project already uses one.

Sorry Chris, no references but you might search the archives of this
list.

HTH
	Morus


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12528-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 19 09:20:04 2005
Return-Path: <lucene-user-return-12528-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53806 invoked from network); 19 Jan 2005 09:20:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jan 2005 09:20:03 -0000
Received: (qmail 84954 invoked by uid 500); 19 Jan 2005 09:19:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84884 invoked by uid 500); 19 Jan 2005 09:19:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84839 invoked by uid 99); 19 Jan 2005 09:19:33 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=HTML_MESSAGE,SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 19 Jan 2005 01:19:32 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id IAK5BQ00.Q5U for <lucene-user@jakarta.apache.org>; Wed,
          19 Jan 2005 15:05:50 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: <lucene-user@jakarta.apache.org>
Subject: FW:  EXCEPTION + HITS
Date: Wed, 19 Jan 2005 14:54:24 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKGEFBCBAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: multipart/related;
	boundary="----=_NextPart_000_0000_01C4FE36.C44CE7C0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0000_01C4FE36.C44CE7C0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_001_0001_01C4FE36.C44CE7C0"


------=_NextPart_001_0001_01C4FE36.C44CE7C0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit


  Hi
Apologies..............

Somebody Please Tell me Why am I getting this Error?

java.io.IOException: read past EOF
>        at
org.apache.lucene.index.CompoundFileReader$CSInputStream.readInternal(Compou
ndFileReader.java:218)
>        at
org.apache.lucene.store.InputStream.readBytes(InputStream.java:61)
>        at
org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:356)
>        at
org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:323)
>        at
org.apache.lucene.search.TermQuery$TermWeight.scorer(TermQuery.java:64)
>        at
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:85)
>        at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:64)
>        at org.apache.lucene.search.Hits.<init>(Hits.java:43)
>        at org.apache.lucene.search.Searcher.search(Searcher.java:33)
>        at org.apache.lucene.search.Searcher.search(Searcher.java:27)


O/s Linux  : Jentoo
JDK             : Jdk 1.4.2
LUcene      : Lucene 1.4.3

Thx in Advance.




WITH WARM REGARDS
HAVE A NICE DAY
[ N.S.KARTHIK]


------=_NextPart_001_0001_01C4FE36.C44CE7C0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<STYLE><!-- body, P.msoNormal, LI.msoNormal, PRE, BLOCKQUOTE, a, MENU, =
dd, UL, DT { font-family: "Arial"; font-size: 12pt; margin-top: 0em; =
margin-bottom: 0em; color: #000000; } dir, ADDRESS, h1, h2, h3, h4, h5, =
h6, HR { font-family: "Arial"; font-size: 12pt; margin-top: 0em; =
margin-bottom: 0em; color: #000000; } --></STYLE>

<META content=3D"MSHTML 6.00.2600.0" name=3DGENERATOR></HEAD>
<BODY id=3DridBody>
<DIV>
<DIV class=3DOutlookMessageHeader dir=3Dltr align=3Dleft><FONT =
face=3DTahoma=20
size=3D2></FONT></DIV><SPAN class=3D078074009-18012005><STRONG><SPAN=20
class=3D343423608-19012005><BR><FONT face=3DVerdana><FONT =
color=3D#0000ff><FONT=20
size=3D2><SPAN=20
class=3D484582309-19012005>&nbsp;</SPAN>&nbsp;</FONT></FONT></FONT></SPAN=
><FONT=20
face=3DVerdana size=3D2>Hi</FONT></STRONG></SPAN></DIV>
<P><SPAN class=3D078074009-18012005><STRONG><FONT face=3DVerdana=20
size=3D2>Apologies..............</FONT></STRONG></SPAN></P>
<P><SPAN class=3D078074009-18012005><STRONG><FONT face=3DVerdana =
size=3D2>Somebody=20
Please Tell me Why am I getting this Error?</FONT></STRONG></SPAN></P>
<P><SPAN class=3D078074009-18012005><STRONG><FONT face=3DVerdana=20
size=3D2>java.io.IOException: read past=20
EOF<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at=20
org.apache.lucene.index.CompoundFileReader$CSInputStream.readInternal(Com=
poundFileReader.java:218)<BR>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;=20
at=20
org.apache.lucene.store.InputStream.readBytes(InputStream.java:61)<BR>&gt=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
at=20
org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:356)<BR>&g=
t;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
at=20
org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:323)<BR>&g=
t;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
at=20
org.apache.lucene.search.TermQuery$TermWeight.scorer(TermQuery.java:64)<B=
R>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
at=20
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:85)<BR>&=
gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
at=20
org.apache.lucene.search.Hits.getMoreDocs(Hits.java:64)<BR>&gt;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
at=20
org.apache.lucene.search.Hits.&lt;init&gt;(Hits.java:43)<BR>&gt;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
at=20
org.apache.lucene.search.Searcher.search(Searcher.java:33)<BR>&gt;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
at=20
org.apache.lucene.search.Searcher.search(Searcher.java:27)<BR></FONT></ST=
RONG></SPAN></P>
<P><SPAN class=3D078074009-18012005><STRONG><FONT face=3DVerdana =
size=3D2>O/s=20
Linux&nbsp; :=20
Jentoo<BR>JDK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;=20
: </FONT></STRONG></SPAN><SPAN class=3D078074009-18012005><STRONG><FONT=20
face=3DVerdana size=3D2>Jdk =
1.4.2<BR>LUcene&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=20
</FONT></STRONG></SPAN><SPAN class=3D078074009-18012005><STRONG><FONT =
face=3DVerdana=20
size=3D2>Lucene 1.4.3</FONT></STRONG></SPAN></P>
<P><SPAN class=3D078074009-18012005><STRONG><FONT face=3DVerdana =
size=3D2>Thx in=20
Advance.</FONT></STRONG></SPAN></P>
<P>&nbsp;</P>
<P><IMG height=3D85 src=3D"cid:078074009@18012005-114c" =
width=3D85><BR><B><FONT=20
face=3DVerdana color=3D#939ff7 size=3D3>WITH WARM REGARDS <BR>HAVE A =
NICE DAY <BR>[=20
N.S.KARTHIK]</FONT></B> </P></BODY></HTML>

------=_NextPart_001_0001_01C4FE36.C44CE7C0--

------=_NextPart_000_0000_01C4FE36.C44CE7C0--


From lucene-user-return-12529-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 19 09:30:32 2005
Return-Path: <lucene-user-return-12529-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60999 invoked from network); 19 Jan 2005 09:30:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jan 2005 09:30:32 -0000
Received: (qmail 16581 invoked by uid 500); 19 Jan 2005 09:29:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16558 invoked by uid 500); 19 Jan 2005 09:29:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16543 invoked by uid 99); 19 Jan 2005 09:29:51 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail84.messagelabs.com (HELO mail84.messagelabs.com) (195.245.231.99)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 19 Jan 2005 01:29:49 -0800
X-VirusChecked: Checked
X-Env-Sender: iouli.golovatyi@group.novartis.com
X-Msg-Ref: server-9.tower-84.messagelabs.com!1106126985!4018482
X-StarScan-Version: 5.2.11; banners=-,-,-
X-Originating-IP: [160.62.1.169]
Received: (qmail 19290 invoked from network); 19 Jan 2005 09:29:45 -0000
Received: from fw-mail12.novartis.com (160.62.1.169)
  by server-9.tower-84.messagelabs.com with DES-CBC3-SHA encrypted SMTP; 19 Jan 2005 09:29:45 -0000
Received: from mtap1.is.chbs ([192.37.33.20])
	by fw-mail12.novartis.com (Switch-3.1.6/Switch-3.1.6) with ESMTP id j0J9TiFq4317400
	for <lucene-user@jakarta.apache.org>; Wed, 19 Jan 2005 10:29:44 +0100
Received: from phchbs-s3025.EU.novartis.net (phchbs-s3025.eu.novartis.net [192.37.31.249])
	by mtap1.is.chbs (Switch-3.1.6/Switch-3.1.6) with ESMTP id j0J9TifF10027220
	for <lucene-user@jakarta.apache.org>; Wed, 19 Jan 2005 10:29:44 +0100
Subject: Why IndexReader.lastModified(index) is depricated?
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Message-ID: <OFB28E64C4.E293E676-ONC1256F8E.0032E22E-C1256F8E.0034284A@EU.novartis.net>
From: iouli.golovatyi@group.novartis.com
Date: Wed, 19 Jan 2005 10:29:41 +0100
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Erik,Otis,*,

Why IndexReader.lastModified(index) is depricated?

It's always a good idea to know when the index changed last time, for
example for queries reload, optimization etc.
IndexReader.getCurrentVersion(index) introduced as alternative is not the
same, cause I'd like to know not just the version,ie the fact my index got
modified, but the stamp as well (for example index was modified but it
happened just for couple of min. -> I wait and do nothing)
Clear I can get the time from index file but it's not nice.

Regards
j.




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12530-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 19 14:55:12 2005
Return-Path: <lucene-user-return-12530-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46451 invoked from network); 19 Jan 2005 14:55:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jan 2005 14:55:12 -0000
Received: (qmail 18679 invoked by uid 500); 19 Jan 2005 14:55:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18605 invoked by uid 500); 19 Jan 2005 14:55:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18584 invoked by uid 99); 19 Jan 2005 14:55:04 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_POST,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from hermes2.aegean.gr (HELO hermes2.aegean.gr) (195.251.130.4)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 19 Jan 2005 06:55:03 -0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C4FE36.D7153990"
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Subject: Demo webapp + pdf
Date: Wed, 19 Jan 2005 16:54:56 +0200
Message-ID: <7D70712B3D33A146A3183389BC39D554026AE5@hermes2.aegean.gr>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Demo webapp + pdf
Thread-Index: AcT+NtbKZAocgUsgTLGpH8Cv1Jhq7A==
From: "Vlachogiannis Evangelos" <evlach@aegean.gr>
To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4FE36.D7153990
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

HI list,

=20

This is my first post to this list and my first touch with lucene. I
have downloaded and set up the lucene webapp demo under tomcat5. I can
search for html and txt files. I would like to ask how can I make that
looking also for pdf ?

=20

Thnx in advance,

Evangelos Vlachogiannis


------_=_NextPart_001_01C4FE36.D7153990--

From lucene-user-return-12531-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 19 15:11:27 2005
Return-Path: <lucene-user-return-12531-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54811 invoked from network); 19 Jan 2005 15:11:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jan 2005 15:11:26 -0000
Received: (qmail 76936 invoked by uid 500); 19 Jan 2005 15:11:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76895 invoked by uid 500); 19 Jan 2005 15:11:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76875 invoked by uid 99); 19 Jan 2005 15:11:19 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from moutng.kundenserver.de (HELO moutng.kundenserver.de) (212.227.126.185)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 19 Jan 2005 07:11:17 -0800
Received: from [212.227.126.162] (helo=mrelayng.kundenserver.de)
	by moutng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1CrHUI-0005JD-00
	for lucene-user@jakarta.apache.org; Wed, 19 Jan 2005 16:11:14 +0100
Received: from [82.135.66.219] (helo=voodoo.federation.net)
	by mrelayng.kundenserver.de with asmtp (TLSv1:RC4-MD5:128)
	(Exim 3.35 #1)
	id 1CrHUI-00033j-00
	for lucene-user@jakarta.apache.org; Wed, 19 Jan 2005 16:11:14 +0100
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Demo webapp + pdf
Date: Wed, 19 Jan 2005 16:11:13 +0100
User-Agent: KMail/1.7.1
References: <7D70712B3D33A146A3183389BC39D554026AE5@hermes2.aegean.gr>
In-Reply-To: <7D70712B3D33A146A3183389BC39D554026AE5@hermes2.aegean.gr>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200501191611.13913.daniel.naber@t-online.de>
X-Provags-ID: kundenserver.de abuse@kundenserver.de auth:94b5a5949d2eb00693e70b0c89be5163
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday 19 January 2005 15:54, Vlachogiannis Evangelos wrote:

> I can
> search for html and txt files. I would like to ask how can I make that
> looking also for pdf ?

This is answered in the FAQ:
http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-f3f5e8305b63cf17373953a50d6460e731bf2cfb

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12532-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 19 15:21:26 2005
Return-Path: <lucene-user-return-12532-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61491 invoked from network); 19 Jan 2005 15:21:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jan 2005 15:21:26 -0000
Received: (qmail 12585 invoked by uid 500); 19 Jan 2005 15:20:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12490 invoked by uid 500); 19 Jan 2005 15:20:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12449 invoked by uid 99); 19 Jan 2005 15:20:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from hermes.culture.fr (HELO hermes.culture.fr) (143.126.201.210)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 19 Jan 2005 07:20:44 -0800
Received: by mta.culture.fr with id j0JFKeiK009902
 for <lucene-user@jakarta.apache.org>; Wed, 19 Jan 2005 16:20:40 +0100
Received: from bretagne.culture.fr (bretagne.culture.fr) by pasteur.culture.fr
 (Content Technologies SMTPRS 4.3.17) with ESMTP id <T6e982f4fd78f7ec9dc488@pasteur.culture.fr> for <lucene-user@jakarta.apache.org>;
 Wed, 19 Jan 2005 16:20:40 +0100
Received: from culture.gouv.fr by bretagne.culture.fr with ESMTP id j0JFKdQs013252
  for <lucene-user@jakarta.apache.org>; Wed, 19 Jan 2005 16:20:39 +0100
Message-ID: <41EE7C04.80808@culture.gouv.fr>
Date: Wed, 19 Jan 2005 16:25:56 +0100
From: Pierrick Brihaye <pierrick.brihaye@culture.gouv.fr>
User-Agent: Mozilla/5.0 (Windows; U; Win98; fr-FR; rv:1.6) Gecko/20040113
X-Accept-Language: fr, en, ar-eg
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: WordNet code updated, now with query expansion -- Re: SYNONYM
 + GOOGLE
References: <OBELINLGKPEMCIEIJJNKKEKOCAAA.karthik@controlnet.co.in> <A847E5AE-630A-11D9-8525-000A95BC61B6@ehatchersolutions.com> <41E315C2.7030902@tropo.com> <90D5BCD2-636C-11D9-892F-000393A564E6@ehatchersolutions.com> <41E473B8.2030704@tropo.com>
In-Reply-To: <41E473B8.2030704@tropo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

David Spencer a crit :

> One example of expansion with the synonym boost set to 0.9 is the query 
> "big dog" expands to:

Interesting.

Do you plan to add expansion on other Wordnet relationships ? Hypernyms 
and hyponyms would be a good start point for thesaurus-like search, 
wouldn't it ?

However, I'm afraid that this kind of feature would require refactoring, 
probably based on WordNet-dedicated libraries. JWNL 
(http://jwordnet.sourceforge.net/) may be a good candidate for this.

Thank you for your work.

Cheers,

-- 
Pierrick Brihaye, informaticien
Service rgional de l'Inventaire
DRAC Bretagne
mailto:pierrick.brihaye@culture.gouv.fr
+33 (0)2 99 29 67 78

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12533-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 19 17:18:31 2005
Return-Path: <lucene-user-return-12533-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86307 invoked from network); 19 Jan 2005 17:18:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jan 2005 17:18:31 -0000
Received: (qmail 44834 invoked by uid 500); 19 Jan 2005 17:15:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44807 invoked by uid 500); 19 Jan 2005 17:15:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44766 invoked by uid 99); 19 Jan 2005 17:15:23 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from outbound1.z-ptx-11.fr.sopragroup.com (HELO outbound1.sopragroup.com) (81.80.239.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 19 Jan 2005 09:15:10 -0800
Received: by outbound1.sopragroup.com (8.12.10/8.12.10/outbound-A02) with ESMTP id j0JHEuKp010978
          for <lucene-user@jakarta.apache.org>; Wed, 19 Jan 2005 18:14:57 +0100
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C4FE4A.65E86CA4"
Subject: closing an IndexSearcher
x-mimeole: Produced By Microsoft Exchange V6.0.6603.0
Date: Wed, 19 Jan 2005 18:14:56 +0100
Message-ID: <F19E1B11985F2C4E902091B6901CDEFB28AD48@wexchbe04.ancy.fr.sopra>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: closing an IndexSearcher
Thread-Index: AcT+SmRwqtb1qmpzRPSN0nGd8jXr6Q==
From: "Cocula Remi" <rcocula@sopragroup.com>
To: "lucene-user" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 19 Jan 2005 17:15:53.0171 (UTC) FILETIME=[87BF4230:01C4FE4A]
X-Scanned-By: MIMEDefang 2.38
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4FE4A.65E86CA4
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


Hi ,

I remarked that after closing an IndexSearcher, queries on this Seacher =
will still run.
My question is : why not always closing an IndexSearcher ?
In my case I need to close all indexsearchers when I want to rebuild the =
index.



Sample code=20
-----------------------------------------------------
searcher =3D new IndexSearcher("c:\\tmp\\index");
searcher.close();

Query query =3D QueryParser.parse("toto","text",ana);
		=09
		=09
Hits hits =3D searcher.search(query);
System.out.println(hits.length());
for (int i=3D0;i<hits.length();i++)
{
	Document d =3D hits.doc(i);
	System.out.println(d.get("text"));
}
System.out.println("fin");
---------------------------------------------------

------_=_NextPart_001_01C4FE4A.65E86CA4--

From lucene-user-return-12534-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 19 17:30:06 2005
Return-Path: <lucene-user-return-12534-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95664 invoked from network); 19 Jan 2005 17:30:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jan 2005 17:30:06 -0000
Received: (qmail 26064 invoked by uid 500); 19 Jan 2005 17:29:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25795 invoked by uid 500); 19 Jan 2005 17:29:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25735 invoked by uid 99); 19 Jan 2005 17:29:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork8.mail.Virginia.EDU (HELO fork8.mail.virginia.edu) (128.143.2.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 19 Jan 2005 09:29:42 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork8.mail.virginia.edu (Postfix) with ESMTP id BA1061F5269
	for <lucene-user@jakarta.apache.org>; Wed, 19 Jan 2005 12:29:39 -0500 (EST)
Received: from fork8.mail.virginia.edu ([127.0.0.1])
 by localhost (fork8.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 15613-01 for <lucene-user@jakarta.apache.org>;
 Wed, 19 Jan 2005 12:29:39 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork8.mail.virginia.edu (Postfix) with ESMTP id 634121F51AB
	for <lucene-user@jakarta.apache.org>; Wed, 19 Jan 2005 12:29:39 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <F19E1B11985F2C4E902091B6901CDEFB28AD48@wexchbe04.ancy.fr.sopra>
References: <F19E1B11985F2C4E902091B6901CDEFB28AD48@wexchbe04.ancy.fr.sopra>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <D3208477-6A3F-11D9-86D7-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: closing an IndexSearcher
Date: Wed, 19 Jan 2005 12:30:34 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork8.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 19, 2005, at 12:14 PM, Cocula Remi wrote:

>
> Hi ,
>
> I remarked that after closing an IndexSearcher, queries on this 
> Seacher will still run.
> My question is : why not always closing an IndexSearcher ?

IndexSearcher.close:

   public void close() throws IOException {
     if(closeReader)
       reader.close();
   }

However, you open it with a String:

> -----------------------------------------------------
> searcher = new IndexSearcher("c:\\tmp\\index");

Which should close the underlying IndexReader.

Maybe this was a bug that has since been fixed in CVS (which is the 
code I'm referencing)?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12535-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 19 17:35:09 2005
Return-Path: <lucene-user-return-12535-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 402 invoked from network); 19 Jan 2005 17:35:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jan 2005 17:35:07 -0000
Received: (qmail 49416 invoked by uid 500); 19 Jan 2005 17:34:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49373 invoked by uid 500); 19 Jan 2005 17:34:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49329 invoked by uid 99); 19 Jan 2005 17:34:48 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of bong.my@gmail.com designates 64.233.184.207 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.207)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 19 Jan 2005 09:34:48 -0800
Received: by wproxy.gmail.com with SMTP id 68so21051wra
        for <lucene-user@jakarta.apache.org>; Wed, 19 Jan 2005 09:34:46 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=BYXtfN8B99v1ImrknMKSgAvBrrRAnf6O8q5dyHBiwmsziBYl5xHHMdzuUbeJXS+p0w8n3AELsHC95KMvJD2stotpl5LRAXCOELEtTwvRxFfipF4ugVH1AnBPwgHZ2Lnmz8qaVCbNOJu5s2trgEXMlzPor4hk3m0NZUg/0N8aWlM=
Received: by 10.54.39.67 with SMTP id m67mr119696wrm;
        Wed, 19 Jan 2005 09:34:45 -0800 (PST)
Received: by 10.54.43.56 with HTTP; Wed, 19 Jan 2005 09:34:45 -0800 (PST)
Message-ID: <6747b6c5050119093432908b42@mail.gmail.com>
Date: Thu, 20 Jan 2005 01:34:45 +0800
From: Bong My <bong.my@gmail.com>
Reply-To: Bong My <bong.my@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: Fwd: Do Lucene applicable to text analyst for IRC?? how??
In-Reply-To: <6747b6c50501190912627af950@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <6747b6c50501190912627af950@mail.gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

---------- Forwarded message ----------
From: Bong My <bong.my@gmail.com>
Date: Thu, 20 Jan 2005 01:12:55 +0800
Subject: Do Lucene applicable to text analyst for IRC?? how??
To: lucene-user-get.123_145@jakarta.apache.org


Im using Lucene1.4.2 to build my system. But my system is not build a
search engine like wat lucene web done that search result is displayed
based on the query from user. What im going to build is a text analyst
that i ll retrieve the chat discussion from online Internet Relay Chat
(IRC) and analyze it to get the topic discussion of the chatrooms.

At first, i ll analyse it using pre-processing process ,ie: stopping
and stemming.. And, tis is done using the Lucene1.4.2. I manage to get
the stem words from the chatrooms and store it in database. But my
problem is the steps after the stopping and stemming process. That i
duno how is the coding to add documents for every chatroom and get the
document term frequency matrix for that.. and also calculate the term
weight and inverse document frequency (idf) and presents the
document-terms weight in matrix..

My question is do Lucene 1.4.2 possible to do that? If yes, could
anyone pls giv me some sample code to do tat.. i had read the package
org.lucene.analysis.index.. there are TermFreqVec, TermFreq class sth
like tat.. bt im nt really udrstd the implementation of these classes,
how do i cal them to suit my system.. Which class or interface should
i call first.. and the steps as well...how is the codes to add
documents??

Thx to those kindly for help and reply..

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12536-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 19 17:35:49 2005
Return-Path: <lucene-user-return-12536-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1002 invoked from network); 19 Jan 2005 17:35:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jan 2005 17:35:49 -0000
Received: (qmail 54710 invoked by uid 500); 19 Jan 2005 17:35:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54685 invoked by uid 500); 19 Jan 2005 17:35:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54670 invoked by uid 99); 19 Jan 2005 17:35:39 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30209.mail.mud.yahoo.com (HELO web30209.mail.mud.yahoo.com) (68.142.200.92)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 19 Jan 2005 09:35:38 -0800
Received: (qmail 70004 invoked by uid 60001); 19 Jan 2005 16:35:36 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=hFiluSL8Fmq00/AG0mqqCdex6PzEcb1hw8c7zYyeeqlOmPLN1xn8WinhvNAxr6D/vshpVy5hUc7fIpjaCfbhUUnyd8uzW7b1SNF44tjZ4MDZaUwVFaq4RXO+DwlgPt11yqJUaypbFBhX2+goOzomJeUpUspnjRwyeMxXUNqjBII=  ;
Message-ID: <20050119163536.70002.qmail@web30209.mail.mud.yahoo.com>
Received: from [216.194.17.194] by web30209.mail.mud.yahoo.com via HTTP; Wed, 19 Jan 2005 08:35:36 PST
Date: Wed, 19 Jan 2005 08:35:36 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Demo webapp + pdf
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <7D70712B3D33A146A3183389BC39D554026AE5@hermes2.aegean.gr>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

We've used PDFBox for Lucene in Action:
  http://www.lucenebook.com/search?query=PDFBox

If you download the source code for the book you will get ready to use
code for parsing and indexing PDF files, as well as Word, XML, and RTF.

Otis


--- Vlachogiannis Evangelos <evlach@aegean.gr> wrote:

> HI list,
> 
>  
> 
> This is my first post to this list and my first touch with lucene. I
> have downloaded and set up the lucene webapp demo under tomcat5. I
> can
> search for html and txt files. I would like to ask how can I make
> that
> looking also for pdf ?
> 
>  
> 
> Thnx in advance,
> 
> Evangelos Vlachogiannis
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12537-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 19 19:30:56 2005
Return-Path: <lucene-user-return-12537-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66969 invoked from network); 19 Jan 2005 19:30:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jan 2005 19:30:56 -0000
Received: (qmail 77217 invoked by uid 500); 19 Jan 2005 19:30:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77192 invoked by uid 500); 19 Jan 2005 19:30:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77179 invoked by uid 99); 19 Jan 2005 19:30:51 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 209-254-108-74.ip.mcleodusa.net (HELO enigmastation.com) (209.254.108.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 19 Jan 2005 11:30:50 -0800
Received: from localhost (joeo@localhost)
	by enigmastation.com (8.11.6/8.11.6) with ESMTP id j0JJRDK21897
	for <lucene-user@jakarta.apache.org>; Wed, 19 Jan 2005 14:27:13 -0500
Date: Wed, 19 Jan 2005 14:27:13 -0500 (EST)
From: Joseph Ottinger <joeo@enigmastation.com>
To: "Lucene User's List" <lucene-user@jakarta.apache.org>
Subject: LuceneRAR project announcement
Message-ID: <Pine.LNX.4.33.0501191423490.17354-100000@enigmastation.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

After babbling endlessly about an RDMS directory and my lack of success
with it, I've created a project on java.net to create a Lucene JCA
component, to allow J2EE components to interact with a Lucene service.
It's at https://lucenerar.dev.java.net/ currently.

It's very crude. In current form, in fact, it's able to add a *specific
string* and search with *a specific query*, which is entirely useless -
it's in "the plumbing works!" stage, really.

But I'd like to throw it out for your awareness and consideration, because
while there's definitely a feature list I want to have (add, search, and
delete), I'm definitely cognizant that my use cases may not satisfy the
community-at-large's needs, and thus I'd love to know what you think such
a component should do, and how, if possible.

-----------------------------------------------------------------------
Joseph B. Ottinger                             http://enigmastation.com
IT Consultant                                    joeo@enigmastation.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12538-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 19 19:37:01 2005
Return-Path: <lucene-user-return-12538-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71578 invoked from network); 19 Jan 2005 19:37:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jan 2005 19:37:01 -0000
Received: (qmail 91145 invoked by uid 500); 19 Jan 2005 19:36:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91118 invoked by uid 500); 19 Jan 2005 19:36:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91103 invoked by uid 99); 19 Jan 2005 19:36:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from artishost.net (HELO artisangel.artishost.net) (69.56.132.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 19 Jan 2005 11:36:52 -0800
Received: from [81.25.38.69] (helo=localhost)
	by artisangel.artishost.net with esmtpa (Exim 4.43)
	id 1CrLdD-00053C-9I
	for lucene-user@jakarta.apache.org; Wed, 19 Jan 2005 13:36:48 -0600
Date: Wed, 19 Jan 2005 21:35:49 +0200
From: Yura Smolsky <info@altervision.biz>
X-Mailer: The Bat! (v3.0.1.33) Professional
Reply-To: Yura Smolsky <info@altervision.biz>
Organization: AlterVision Web Development Group
X-Priority: 3 (Normal)
Message-ID: <568673288.20050119213549@altervision.biz>
To: lucene-user@jakarta.apache.org
Subject: IndexWriter.addIndexes()
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Score: 0.0
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - artisangel.artishost.net
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - altervision.biz
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello, lucene-user.

Is there a way to do index merge without optimization?..

Yura Smolsky,




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12539-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 19 20:16:27 2005
Return-Path: <lucene-user-return-12539-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5795 invoked from network); 19 Jan 2005 20:16:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jan 2005 20:16:27 -0000
Received: (qmail 12095 invoked by uid 500); 19 Jan 2005 20:16:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12068 invoked by uid 500); 19 Jan 2005 20:16:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12054 invoked by uid 99); 19 Jan 2005 20:16:21 -0000
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=FORGED_MUA_IMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from hades.labone.com (HELO hades.labone.com) (198.70.194.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 19 Jan 2005 12:16:21 -0800
Received: from smsrv.1.24.172.in-addr.arpa by hades.labone.com
          via smtpd (for hermes.apache.org [209.237.227.199]) with ESMTP; Wed, 19 Jan 2005 14:16:15 -0600
From: "Jerry Jalenak" <Jerry.Jalenak@LABONE.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: [newbie] Confused about PrefixQuery
Date: Wed, 19 Jan 2005 14:16:01 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
X-WSS-ID: 6DF01F8033073833-01-01
Content-Type: text/plain;
 charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

All,

I'm investigating the use of Lucene as a search engine, and have been doing
some 'proof-of-concept' coding today.  I'm indexing about 650 text files,
and then searching against them using QueryParser.  Here's the indexing code
snippet:

<snip>
public static void Result(IndexWriter indexWriter, File file)
	throws FileNotFoundException
{
	Document document = null;
	String content = "";
		
	BufferedReader br = new BufferedReader(new FileReader(file));
	boolean EOF = false;
		
	try
	{
		while(!EOF)
		{
			String s = (String) br.readLine();
			if (null == s)
			{
				EOF = true;
			}
			else
			{
				if (!"".equals(s) &&
"CC>".equals(s.substring(0, 3)))
				{
					document = new Document();
					
					document.add(Field.Text("account",
s.substring(3, 7)));
	
document.add(Field.Keyword("created", s.substring(s.indexOf("DC>") + 3,
s.indexOf("DC>") + 11)));
					
					content = new String();
				}
				else if (!"".equals(s) &&
"AN>".equals(s.substring(0, 3)))
				{
	
document.add(Field.Keyword("lastname", s.substring(3,
28).trim().toLowerCase()));
	
document.add(Field.Keyword("firstname", s.substring(28,
43).trim().toLowerCase()));
					document.add(Field.Text("name",
s.substring(28, 43).trim() + " " + s.substring(3, 28).trim()));
	
document.add(Field.Keyword("controlnumber", s.substring(44, 52)));
					document.add(Field.Keyword("status",
s.substring(52, 53).trim()));
					document.add(Field.Keyword("ssn",
s.substring(53, 62)));
					document.add(Field.Keyword("dob",
s.substring(62, 70)));
	
document.add(Field.Keyword("collected", s.substring(137, 145)));
				}
				else if (!"".equals(s) &&
"<FF".equals(s.substring(0, 3)))
				{
	
document.add(Field.UnStored("content", content));
					indexWriter.addDocument(document);
				}
				else
				{
					content = content + s + "\n";
				}
			}
		}
		br.close();
	}
	catch(IOException ioe)
	{
		System.out.println(ioe.getClass() + " caught with message "
+ ioe.getMessage());
	}
}
</snip>

The text files have two control lines at the beginning of them - CC> and
AN>.  I extract particular fields from these lines and add them to my
document.  Everything (I think) indexes correctly.  When I search against
this index, though, I get some weird results, especially when using an '*'
at the end of my criteria.  Here's the search code snippet:

<snip>
public static void main(String[] args)
{
	try
	{
		Searcher searcher = new IndexSearcher("c:\\ResultIndex");
		Analyzer analyzer = new StandardAnalyzer();
		
		BufferedReader br= new BufferedReader(new
InputStreamReader(System.in));
		while(true)
		{
			System.out.println("Query: ");
			String s = br.readLine();
			if (null == s)
			{
				break;
			}
			else
			{
				Query query = QueryParser.parse(s,
"content", analyzer);
				System.out.println("Searching for: " +
query.toString("content"));
				
				Hits hits = searcher.search(query);
				System.out.println("... Found " +
hits.length() + " matching documents");
				System.out.println("");
				
				for (int i = 0; i < hits.length(); i++)
				{
					Document document = hits.doc(i);
					System.out.println("Hit " + i + ":
Specimen = " + document.get("controlnumber") + ", Account = " +
document.get("account") + 
							", Status = " +
document.get("status") + ", Name = " + document.get("name") + ", SSN = " +
document.get("ssn") + 
							", DOB = " +
document.get("dob") + ", Collected = " + document.get("collected") + ",
Created = " + document.get("created"));
	
//System.out.println(document.get("content"));
				}
			}
		}
	}
	catch(Exception e)
	{
		System.out.println(e.getClass() + " caught with message " +
e.getMessage());
	}
}
</snip>

When I run this using a criteria string of 

	lastname:mar*

I get back the following:

Query: 
lastname:mar*
Searching for: lastname:mar*
... Found 9 matching documents

Hit 0: Specimen = 40062720, Account = 0001, Status = N, Name = LOIS MARTIN,
SSN = 536628498, DOB = 19010101, Collected = 20050118, Created = 20050119
Hit 1: Specimen = 38843845, Account = 4NEK, Status = N, Name = RENEE
CAPPETTA, SSN = 585132901, DOB = 19010101, Collected = 20050117, Created =
20050119
Hit 2: Specimen = 39894441, Account = 3384, Status = N, Name = LINDA CANTU,
SSN = 453539817, DOB = 19010101, Collected = 20050118, Created = 20050119
Hit 3: Specimen = 39894441, Account = 3384, Status = N, Name = LINDA CANTU,
SSN = 453539817, DOB = 19010101, Collected = 20050118, Created = 20050119
Hit 4: Specimen = 38247027, Account = 23SQ, Status = N, Name = ROBERT
BASTOW, SSN = 528960058, DOB = 19010101, Collected = 20050118, Created =
20050119
Hit 5: Specimen = 38247027, Account = 23SQ, Status = N, Name = ROBERT
BASTOW, SSN = 528960058, DOB = 19010101, Collected = 20050118, Created =
20050119
Hit 6: Specimen = 38247027, Account = 23SQ, Status = N, Name = ROBERT
BASTOW, SSN = 528960058, DOB = 19010101, Collected = 20050118, Created =
20050119
Hit 7: Specimen = 38247027, Account = 23SQ, Status = N, Name = ROBERT
BASTOW, SSN = 528960058, DOB = 19010101, Collected = 20050118, Created =
20050119
Hit 8: Specimen = 38247027, Account = 23SQ, Status = N, Name = ROBERT
BASTOW, SSN = 528960058, DOB = 19010101, Collected = 20050118, Created =
20050119

I'm at a loss to explain why I'm getting hits 1 - 8 - the lastnames don't
start with mar!  I suspect it is due to an incorrect use of Field.Keyword vs
Field.Text in the indexer, but I can seem to figure it out...

Thanks.

Jerry Jalenak
Senior Programmer / Analyst, Web Publishing
LabOne, Inc.
10101 Renner Blvd.
Lenexa, KS  66219
(913) 577-1496

jerry.jalenak@labone.com


This transmission (and any information attached to it) may be confidential and
is intended solely for the use of the individual or entity to which it is
addressed. If you are not the intended recipient or the person responsible for
delivering the transmission to the intended recipient, be advised that you
have received this transmission in error and that any use, dissemination,
forwarding, printing, or copying of this information is strictly prohibited.
If you have received this transmission in error, please immediately notify
LabOne at the following email address: securityincidentreporting@labone.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12540-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 19 20:21:33 2005
Return-Path: <lucene-user-return-12540-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14799 invoked from network); 19 Jan 2005 20:21:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jan 2005 20:21:33 -0000
Received: (qmail 23436 invoked by uid 500); 19 Jan 2005 20:21:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23411 invoked by uid 500); 19 Jan 2005 20:21:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23387 invoked by uid 99); 19 Jan 2005 20:21:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork7.mail.Virginia.EDU (HELO fork7.mail.virginia.edu) (128.143.2.177)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 19 Jan 2005 12:21:26 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id 6D8C51F524C
	for <lucene-user@jakarta.apache.org>; Wed, 19 Jan 2005 15:21:21 -0500 (EST)
Received: from fork7.mail.virginia.edu ([127.0.0.1])
 by localhost (fork7.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 16259-05 for <lucene-user@jakarta.apache.org>;
 Wed, 19 Jan 2005 15:21:21 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id 154AB1F5229
	for <lucene-user@jakarta.apache.org>; Wed, 19 Jan 2005 15:21:20 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <Pine.LNX.4.33.0501191423490.17354-100000@enigmastation.com>
References: <Pine.LNX.4.33.0501191423490.17354-100000@enigmastation.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <CF649A64-6A57-11D9-9627-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: LuceneRAR project announcement
Date: Wed, 19 Jan 2005 15:22:15 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork7.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jan 19, 2005, at 2:27 PM, Joseph Ottinger wrote:
> After babbling endlessly about an RDMS directory and my lack of success
> with it, I've created a project on java.net to create a Lucene JCA
> component, to allow J2EE components to interact with a Lucene service.
> It's at https://lucenerar.dev.java.net/ currently.

Could you elaborate on some use cases?

What drove you to consider JCA rather than some other technique?  I'm 
curious why it is important to get all J2EE with it rather than working 
with Lucene much more naturally at a lower level of abstraction.

I briefly browsed the source tree from java.net and saw this comment in 
your Hits.java:

"This method loads a LuceneRAR hits object with its equivalent from the 
Apache Lucene Hits object. It basically walks the Lucene Hits object, 
copying values as it goes, so it may not be as light or fast as its 
Apache equivalent"

I'll say!

For large result sets, which are more often the norm than the exception 
for a search, you are going to take a huge performance hit doing 
something like this, not to mention possibly even killing the process 
as you run out of RAM.

This brings me back to my first questions - abstractions around Lucene 
tend to leak heavily.  While it sounds clever to wrap layers around 
Hits, the fact of the matter is that searches often return an enormous 
amount of results and only the first few are generally needed.  
Lucene's Hits takes this into account and fetches on demand from the 
index.

Admittedly for Java Development with Ant, I implemented a stateless 
session bean that walked the hits and packaged them up to send across 
the wire.  This was naive and only worked because I never tried it with 
a large number of hits.  These days I push back from "J2EE" in the 
larger "let's add acronyms because we can" sense and opt for much 
lighter weight, simpler solutions.

JCA sounds like an unnecessary abstraction around Lucene - though I'm 
open to be convinced otherwise.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12541-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 19 20:35:49 2005
Return-Path: <lucene-user-return-12541-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20912 invoked from network); 19 Jan 2005 20:34:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jan 2005 20:34:41 -0000
Received: (qmail 48553 invoked by uid 500); 19 Jan 2005 20:34:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48528 invoked by uid 500); 19 Jan 2005 20:34:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48512 invoked by uid 99); 19 Jan 2005 20:34:33 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 209-254-108-74.ip.mcleodusa.net (HELO enigmastation.com) (209.254.108.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 19 Jan 2005 12:34:32 -0800
Received: from localhost (joeo@localhost)
	by enigmastation.com (8.11.6/8.11.6) with ESMTP id j0JKUu022629
	for <lucene-user@jakarta.apache.org>; Wed, 19 Jan 2005 15:30:56 -0500
Date: Wed, 19 Jan 2005 15:30:56 -0500 (EST)
From: Joseph Ottinger <joeo@enigmastation.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: LuceneRAR project announcement
In-Reply-To: <CF649A64-6A57-11D9-9627-000A95BC61B6@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.33.0501191520000.17354-100000@enigmastation.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wed, 19 Jan 2005, Erik Hatcher wrote:

> On Jan 19, 2005, at 2:27 PM, Joseph Ottinger wrote:
> > After babbling endlessly about an RDMS directory and my lack of success
> > with it, I've created a project on java.net to create a Lucene JCA
> > component, to allow J2EE components to interact with a Lucene service.
> > It's at https://lucenerar.dev.java.net/ currently.
>
> Could you elaborate on some use cases?

Sure, and I'll pick the one that's been driving me along:

I have a set of J2EE servers, all of which can generate new content for
search, and all of which will be performing searches. They're on separate
machines. Sharing directories isn't my idea of "doing J2EE correctly."

Therefore, I chose to represent Lucene as an enterprise service, one
communicated to via a remote service instead, so that every module can
communicate with Lucene without realising the communication layer... for
the most part. Plus, I no longer violate my purist's sensibilities.

> What drove you to consider JCA rather than some other technique?  I'm
> curious why it is important to get all J2EE with it rather than working
> with Lucene much more naturally at a lower level of abstraction.

JCA allows me to provide it as a system service instead of as a dependency
represented at each component layer. An EJB would have served almost as
well, except an EJB has filesystem restrictions that a Connector does not.

> I briefly browsed the source tree from java.net and saw this comment in
> your Hits.java:
>
> "This method loads a LuceneRAR hits object with its equivalent from the
> Apache Lucene Hits object. It basically walks the Lucene Hits object,
> copying values as it goes, so it may not be as light or fast as its
> Apache equivalent"
>
> I'll say!

Haha, it's good to see my propensity for understatement is still alive. :)

The Hits object could CERTAINLY use optimization - callbacks into the
connector would probably be acceptable, for example. The code you were
looking at has a lot of other areas that are, um, surprisingly crippled as
well.

For example, the add() method... well, first, THAT's the signature. Yes,
that's right. It adds constant text. Every time.

Likewise, the super-flexible "search()" -- again, that's the signature. It
searches for "time." That's it. Nothing more. Nothing less.

This is very much a first-cut "can I get it working?" version. I think,
for very limited definitions of "working," the answer is "yes." I
certainly don't think it's got that show-room floor gleam going for it
yet.

> For large result sets, which are more often the norm than the exception
> for a search, you are going to take a huge performance hit doing
> something like this, not to mention possibly even killing the process
> as you run out of RAM.

*nod* As stated, a callback would be far more preferable. Given that
Lucene's internal Hits object is final and nonserializable, at least my
client's Hit object gives me an opportunity to do that.

> JCA sounds like an unnecessary abstraction around Lucene - though I'm
> open to be convinced otherwise.

I'm more than happy to talk about it. If I can fulfill my needs with no
code, hey, that's great! I just haven't been able to successfully do so
yet, and everyone to whom I've spoken who says that they HAVE managed...
well, they've almost invariably done so by lowering the bar a great deal
in order to accept what Lucene requires.

I'm certainly not castigating those who've done this - in fact, in many
ways, I'm very impressed. It's just something I'd prefer not to do, given
any alternative.

-----------------------------------------------------------------------
Joseph B. Ottinger                             http://enigmastation.com
IT Consultant                                    joeo@enigmastation.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12542-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 19 20:41:12 2005
Return-Path: <lucene-user-return-12542-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25392 invoked from network); 19 Jan 2005 20:41:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jan 2005 20:41:12 -0000
Received: (qmail 57319 invoked by uid 500); 19 Jan 2005 20:41:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57296 invoked by uid 500); 19 Jan 2005 20:41:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57279 invoked by uid 99); 19 Jan 2005 20:41:05 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork6.mail.Virginia.EDU (HELO fork6.mail.virginia.edu) (128.143.2.176)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 19 Jan 2005 12:41:04 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id 53FE01C03D
	for <lucene-user@jakarta.apache.org>; Wed, 19 Jan 2005 15:41:02 -0500 (EST)
Received: from fork6.mail.virginia.edu ([127.0.0.1])
 by localhost (fork6.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 30031-06 for <lucene-user@jakarta.apache.org>;
 Wed, 19 Jan 2005 15:41:02 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id E14861BFC6
	for <lucene-user@jakarta.apache.org>; Wed, 19 Jan 2005 15:41:01 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <20050119201625.C8D1913E2007@ehatchersolutions.com>
References: <20050119201625.C8D1913E2007@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <8F128348-6A5A-11D9-9627-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: [newbie] Confused about PrefixQuery
Date: Wed, 19 Jan 2005 15:41:56 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork6.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 19, 2005, at 3:16 PM, Jerry Jalenak wrote:
> The text files have two control lines at the beginning of them - CC> 
> and
> AN>.

That's quite a complex example to ask a user list to decipher.

Simplifying the example, besides making it easier for us to understand, 
would likely shed light on the problem.

> Everything (I think) indexes correctly.

To be sure, try Luke out and see what got indexed exactly.  You can 
also use Luke as an ad-hoc search tool rather than writing your own.

>   When I search against
> this index, though, I get some weird results, especially when using an 
> '*'
> at the end of my criteria.

The results you got definitely are weird given the query, and in my 
initial glance through your code I did not see the issue pop out.  Luke 
will likely shed much more light on the matter.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12543-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 19 21:12:47 2005
Return-Path: <lucene-user-return-12543-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41535 invoked from network); 19 Jan 2005 21:12:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jan 2005 21:12:47 -0000
Received: (qmail 13881 invoked by uid 500); 19 Jan 2005 21:12:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13856 invoked by uid 500); 19 Jan 2005 21:12:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13842 invoked by uid 99); 19 Jan 2005 21:12:39 -0000
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=FORGED_MUA_IMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from hades.labone.com (HELO hades.labone.com) (198.70.194.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 19 Jan 2005 13:12:37 -0800
Received: from smsrv.1.24.172.in-addr.arpa by hades.labone.com
          via smtpd (for hermes.apache.org [209.237.227.199]) with ESMTP; Wed, 19 Jan 2005 15:12:31 -0600
From: "Jerry Jalenak" <Jerry.Jalenak@LABONE.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: [newbie] Confused about PrefixQuery
Date: Wed, 19 Jan 2005 15:12:13 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
X-WSS-ID: 6DF012B033080901-01-01
Content-Type: text/plain;
 charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik,

Thanks for reply.  Some lists want all the info, some don't.  Just thought
I'd try to provide as much info as possible  8-)

That being said, where do I find Luke?



Jerry Jalenak
Senior Programmer / Analyst, Web Publishing
LabOne, Inc.
10101 Renner Blvd.
Lenexa, KS  66219
(913) 577-1496

jerry.jalenak@labone.com


> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Wednesday, January 19, 2005 2:42 PM
> To: Lucene Users List
> Subject: Re: [newbie] Confused about PrefixQuery
> 
> 
> 
> On Jan 19, 2005, at 3:16 PM, Jerry Jalenak wrote:
> > The text files have two control lines at the beginning of 
> them - CC> 
> > and
> > AN>.
> 
> That's quite a complex example to ask a user list to decipher.
> 
> Simplifying the example, besides making it easier for us to 
> understand, 
> would likely shed light on the problem.
> 
> > Everything (I think) indexes correctly.
> 
> To be sure, try Luke out and see what got indexed exactly.  You can 
> also use Luke as an ad-hoc search tool rather than writing your own.
> 
> >   When I search against
> > this index, though, I get some weird results, especially 
> when using an 
> > '*'
> > at the end of my criteria.
> 
> The results you got definitely are weird given the query, and in my 
> initial glance through your code I did not see the issue pop 
> out.  Luke 
> will likely shed much more light on the matter.
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 

This transmission (and any information attached to it) may be confidential and
is intended solely for the use of the individual or entity to which it is
addressed. If you are not the intended recipient or the person responsible for
delivering the transmission to the intended recipient, be advised that you
have received this transmission in error and that any use, dissemination,
forwarding, printing, or copying of this information is strictly prohibited.
If you have received this transmission in error, please immediately notify
LabOne at the following email address: securityincidentreporting@labone.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12544-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 19 21:27:09 2005
Return-Path: <lucene-user-return-12544-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46138 invoked from network); 19 Jan 2005 21:25:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jan 2005 21:25:01 -0000
Received: (qmail 32590 invoked by uid 500); 19 Jan 2005 21:24:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32472 invoked by uid 500); 19 Jan 2005 21:24:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32454 invoked by uid 99); 19 Jan 2005 21:24:37 -0000
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=FORGED_MUA_IMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from hades.labone.com (HELO hades.labone.com) (198.70.194.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 19 Jan 2005 13:24:37 -0800
Received: from smsrv.1.24.172.in-addr.arpa by hades.labone.com
          via smtpd (for hermes.apache.org [209.237.227.199]) with ESMTP; Wed, 19 Jan 2005 15:24:31 -0600
From: "Jerry Jalenak" <Jerry.Jalenak@LABONE.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: [newbie] Confused about PrefixQuery
Date: Wed, 19 Jan 2005 15:24:11 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
X-WSS-ID: 6DF00F8D33082456-01-01
Content-Type: text/plain;
 charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

<oops />

Never mind.  Stupid, stupid assumption on my part with the data.

Thanks anyway.

Jerry Jalenak
Senior Programmer / Analyst, Web Publishing
LabOne, Inc.
10101 Renner Blvd.
Lenexa, KS  66219
(913) 577-1496

jerry.jalenak@labone.com


> -----Original Message-----
> From: Jerry Jalenak [mailto:Jerry.Jalenak@LABONE.com]
> Sent: Wednesday, January 19, 2005 3:12 PM
> To: 'Lucene Users List'
> Subject: RE: [newbie] Confused about PrefixQuery
> 
> 
> Erik,
> 
> Thanks for reply.  Some lists want all the info, some don't.  
> Just thought
> I'd try to provide as much info as possible  8-)
> 
> That being said, where do I find Luke?
> 
> 
> 
> Jerry Jalenak
> Senior Programmer / Analyst, Web Publishing
> LabOne, Inc.
> 10101 Renner Blvd.
> Lenexa, KS  66219
> (913) 577-1496
> 
> jerry.jalenak@labone.com
> 
> 
> > -----Original Message-----
> > From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> > Sent: Wednesday, January 19, 2005 2:42 PM
> > To: Lucene Users List
> > Subject: Re: [newbie] Confused about PrefixQuery
> > 
> > 
> > 
> > On Jan 19, 2005, at 3:16 PM, Jerry Jalenak wrote:
> > > The text files have two control lines at the beginning of 
> > them - CC> 
> > > and
> > > AN>.
> > 
> > That's quite a complex example to ask a user list to decipher.
> > 
> > Simplifying the example, besides making it easier for us to 
> > understand, 
> > would likely shed light on the problem.
> > 
> > > Everything (I think) indexes correctly.
> > 
> > To be sure, try Luke out and see what got indexed exactly.  You can 
> > also use Luke as an ad-hoc search tool rather than writing your own.
> > 
> > >   When I search against
> > > this index, though, I get some weird results, especially 
> > when using an 
> > > '*'
> > > at the end of my criteria.
> > 
> > The results you got definitely are weird given the query, and in my 
> > initial glance through your code I did not see the issue pop 
> > out.  Luke 
> > will likely shed much more light on the matter.
> > 
> > 	Erik
> > 
> > 
> > 
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> > 
> 
> This transmission (and any information attached to it) may be 
> confidential and
> is intended solely for the use of the individual or entity to 
> which it is
> addressed. If you are not the intended recipient or the 
> person responsible for
> delivering the transmission to the intended recipient, be 
> advised that you
> have received this transmission in error and that any use, 
> dissemination,
> forwarding, printing, or copying of this information is 
> strictly prohibited.
> If you have received this transmission in error, please 
> immediately notify
> LabOne at the following email address: 
> securityincidentreporting@labone.com
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 

This transmission (and any information attached to it) may be confidential and
is intended solely for the use of the individual or entity to which it is
addressed. If you are not the intended recipient or the person responsible for
delivering the transmission to the intended recipient, be advised that you
have received this transmission in error and that any use, dissemination,
forwarding, printing, or copying of this information is strictly prohibited.
If you have received this transmission in error, please immediately notify
LabOne at the following email address: securityincidentreporting@labone.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12545-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 19 21:29:00 2005
Return-Path: <lucene-user-return-12545-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48624 invoked from network); 19 Jan 2005 21:28:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jan 2005 21:28:18 -0000
Received: (qmail 37781 invoked by uid 500); 19 Jan 2005 21:27:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37760 invoked by uid 500); 19 Jan 2005 21:27:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37747 invoked by uid 99); 19 Jan 2005 21:27:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork6.mail.Virginia.EDU (HELO fork6.mail.virginia.edu) (128.143.2.176)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 19 Jan 2005 13:27:14 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id 199921BFBB
	for <lucene-user@jakarta.apache.org>; Wed, 19 Jan 2005 16:27:12 -0500 (EST)
Received: from fork6.mail.virginia.edu ([127.0.0.1])
 by localhost (fork6.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 12680-06 for <lucene-user@jakarta.apache.org>;
 Wed, 19 Jan 2005 16:27:11 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id B06E71BFB2
	for <lucene-user@jakarta.apache.org>; Wed, 19 Jan 2005 16:27:11 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <20050119211244.B2B5913E2007@ehatchersolutions.com>
References: <20050119211244.B2B5913E2007@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <021D72B1-6A61-11D9-9627-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: [newbie] Confused about PrefixQuery
Date: Wed, 19 Jan 2005 16:28:06 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork6.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 19, 2005, at 4:12 PM, Jerry Jalenak wrote:
> Thanks for reply.  Some lists want all the info, some don't.  Just 
> thought
> I'd try to provide as much info as possible  8-)

The info is good... I just push for simple examples :)  By simplifying, 
often the problem becomes apparent and trivial.

> That being said, where do I find Luke?

Silly response, but go to Google, type in _luke lucene_ and press "I'm 
feeling lucky" :)

But, since I already have the URL handy, here it is:

	http://www.getopt.org/luke/

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12546-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 19 21:39:29 2005
Return-Path: <lucene-user-return-12546-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54702 invoked from network); 19 Jan 2005 21:39:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jan 2005 21:39:29 -0000
Received: (qmail 60686 invoked by uid 500); 19 Jan 2005 21:39:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60660 invoked by uid 500); 19 Jan 2005 21:39:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60647 invoked by uid 99); 19 Jan 2005 21:39:18 -0000
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=FORGED_MUA_IMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from hades.labone.com (HELO hades.labone.com) (198.70.194.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 19 Jan 2005 13:39:17 -0800
Received: from smsrv.1.24.172.in-addr.arpa by hades.labone.com
          via smtpd (for hermes.apache.org [209.237.227.199]) with ESMTP; Wed, 19 Jan 2005 15:39:11 -0600
From: "Jerry Jalenak" <Jerry.Jalenak@LABONE.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: [newbie] Confused about PrefixQuery
Date: Wed, 19 Jan 2005 15:38:53 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
X-WSS-ID: 6DF00CF233084251-01-01
Content-Type: text/plain;
 charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Sorry.  Thought Luke came bundled with Lucene, and I was just missing it..

Jerry Jalenak
Senior Programmer / Analyst, Web Publishing
LabOne, Inc.
10101 Renner Blvd.
Lenexa, KS  66219
(913) 577-1496

jerry.jalenak@labone.com


> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Wednesday, January 19, 2005 3:28 PM
> To: Lucene Users List
> Subject: Re: [newbie] Confused about PrefixQuery
> 
> 
> 
> On Jan 19, 2005, at 4:12 PM, Jerry Jalenak wrote:
> > Thanks for reply.  Some lists want all the info, some don't.  Just 
> > thought
> > I'd try to provide as much info as possible  8-)
> 
> The info is good... I just push for simple examples :)  By 
> simplifying, 
> often the problem becomes apparent and trivial.
> 
> > That being said, where do I find Luke?
> 
> Silly response, but go to Google, type in _luke lucene_ and 
> press "I'm 
> feeling lucky" :)
> 
> But, since I already have the URL handy, here it is:
> 
> 	http://www.getopt.org/luke/
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 

This transmission (and any information attached to it) may be confidential and
is intended solely for the use of the individual or entity to which it is
addressed. If you are not the intended recipient or the person responsible for
delivering the transmission to the intended recipient, be advised that you
have received this transmission in error and that any use, dissemination,
forwarding, printing, or copying of this information is strictly prohibited.
If you have received this transmission in error, please immediately notify
LabOne at the following email address: securityincidentreporting@labone.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12547-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 19 21:40:21 2005
Return-Path: <lucene-user-return-12547-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55071 invoked from network); 19 Jan 2005 21:40:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jan 2005 21:40:21 -0000
Received: (qmail 63545 invoked by uid 500); 19 Jan 2005 21:40:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63520 invoked by uid 500); 19 Jan 2005 21:40:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63506 invoked by uid 99); 19 Jan 2005 21:40:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork6.mail.Virginia.EDU (HELO fork6.mail.virginia.edu) (128.143.2.176)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 19 Jan 2005 13:40:14 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id BF0E91BFA7
	for <lucene-user@jakarta.apache.org>; Wed, 19 Jan 2005 16:40:12 -0500 (EST)
Received: from fork6.mail.virginia.edu ([127.0.0.1])
 by localhost (fork6.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 15858-10 for <lucene-user@jakarta.apache.org>;
 Wed, 19 Jan 2005 16:40:12 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id 718401BFA5
	for <lucene-user@jakarta.apache.org>; Wed, 19 Jan 2005 16:40:12 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <Pine.LNX.4.33.0501191520000.17354-100000@enigmastation.com>
References: <Pine.LNX.4.33.0501191520000.17354-100000@enigmastation.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <D3980B3E-6A62-11D9-9627-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: LuceneRAR project announcement
Date: Wed, 19 Jan 2005 16:41:07 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork6.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jan 19, 2005, at 3:30 PM, Joseph Ottinger wrote:
> On Wed, 19 Jan 2005, Erik Hatcher wrote:
>
>> On Jan 19, 2005, at 2:27 PM, Joseph Ottinger wrote:
>>> After babbling endlessly about an RDMS directory and my lack of 
>>> success
>>> with it, I've created a project on java.net to create a Lucene JCA
>>> component, to allow J2EE components to interact with a Lucene 
>>> service.
>>> It's at https://lucenerar.dev.java.net/ currently.
>>
>> Could you elaborate on some use cases?
>
> Sure, and I'll pick the one that's been driving me along:
>
> I have a set of J2EE servers, all of which can generate new content for
> search, and all of which will be performing searches. They're on 
> separate
> machines. Sharing directories isn't my idea of "doing J2EE correctly."

"doing J2EE correctly" is a funny phrase.   If sharing directories 
works and gets the job done right, on time, under budget, can be 
adjusted later if needed, and has been reasonably well tested, then 
you've done it "right".  And since its in Java and not on a cell phone, 
its basically "J2EE".

Also, what about using Lucene over RMI using the RemoteSearchable 
facility built-in?

> Therefore, I chose to represent Lucene as an enterprise service, one
> communicated to via a remote service instead, so that every module can
> communicate with Lucene without realising the communication layer... 
> for
> the most part.

And this is where I think the abstraction leaks.

The Nutch project has a very scalable "enterprise" approach to this 
type of remote service also.

>  Plus, I no longer violate my purist's sensibilities.

Ah, now we get to the real rationale!  :)

I'm not giving you, personally, a hard time, really ... but rather this 
purist approach, where "purist" means fitting into the acronyms under 
the J2EE umbrella.  I've been there myself, read the specs, and cringed 
when I saw file system access from a session bean, and so on.

> The Hits object could CERTAINLY use optimization - callbacks into the
> connector would probably be acceptable, for example.

Gotcha.  Yes, callbacks would be the right approach with this type of 
abstraction.

>> JCA sounds like an unnecessary abstraction around Lucene - though I'm
>> open to be convinced otherwise.
>
> I'm more than happy to talk about it. If I can fulfill my needs with no
> code, hey, that's great!

Would RemoteSearchable get you closer to no code?

>  I just haven't been able to successfully do so
> yet, and everyone to whom I've spoken who says that they HAVE 
> managed...
> well, they've almost invariably done so by lowering the bar a great 
> deal
> in order to accept what Lucene requires.

I'm definitely a skeptic when it comes to generic layers on top of 
Lucene, though there is definitely a yearning for easier management of 
the lower-level details.

I'll definitely follow your work with LuceneRAR closely and will do 
what I can to help out in this forum.  So take my feedback as 
constructive criticism, but keep up the good work!

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12548-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 19 21:50:09 2005
Return-Path: <lucene-user-return-12548-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59992 invoked from network); 19 Jan 2005 21:50:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Jan 2005 21:50:09 -0000
Received: (qmail 86654 invoked by uid 500); 19 Jan 2005 21:49:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 86601 invoked by uid 500); 19 Jan 2005 21:49:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86558 invoked by uid 99); 19 Jan 2005 21:49:59 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 209-254-108-74.ip.mcleodusa.net (HELO enigmastation.com) (209.254.108.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 19 Jan 2005 13:49:57 -0800
Received: from localhost (joeo@localhost)
	by enigmastation.com (8.11.6/8.11.6) with ESMTP id j0JLkLV23521
	for <lucene-user@jakarta.apache.org>; Wed, 19 Jan 2005 16:46:21 -0500
Date: Wed, 19 Jan 2005 16:46:21 -0500 (EST)
From: Joseph Ottinger <joeo@enigmastation.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: LuceneRAR project announcement
In-Reply-To: <D3980B3E-6A62-11D9-9627-000A95BC61B6@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.33.0501191638500.17354-100000@enigmastation.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

First off, Erik, thank you for taking an interest in any way. As I've said
before, I'm not trying to represent myelf as a Lucene expert, so having
someone point out flaws is goooooooood.

On Wed, 19 Jan 2005, Erik Hatcher wrote:
> >> Could you elaborate on some use cases?
> >
> > Sure, and I'll pick the one that's been driving me along:
> >
> > I have a set of J2EE servers, all of which can generate new content for
> > search, and all of which will be performing searches. They're on
> > separate
> > machines. Sharing directories isn't my idea of "doing J2EE correctly."
>
> "doing J2EE correctly" is a funny phrase.   If sharing directories
> works and gets the job done right, on time, under budget, can be
> adjusted later if needed, and has been reasonably well tested, then
> you've done it "right".  And since its in Java and not on a cell phone,
> its basically "J2EE".

Absolutely. I'm not trying to make fun of pragmatic, working solutions.
Nor am I sneering at those who've done it by sharing filesystems or
whatever.

> Also, what about using Lucene over RMI using the RemoteSearchable
> facility built-in?

Well, I'd prefer to avoid RMI. App servers typically have far better
transport layers than raw RMI, internally, and JCA can leverage that.

> > Therefore, I chose to represent Lucene as an enterprise service, one
> > communicated to via a remote service instead, so that every module can
> > communicate with Lucene without realising the communication layer...
> > for
> > the most part.
>
> And this is where I think the abstraction leaks.
>
> The Nutch project has a very scalable "enterprise" approach to this
> type of remote service also.

*nod* I'll look it up.

> >  Plus, I no longer violate my purist's sensibilities.
>
> Ah, now we get to the real rationale!  :)
>
> I'm not giving you, personally, a hard time, really ... but rather this
> purist approach, where "purist" means fitting into the acronyms under
> the J2EE umbrella.  I've been there myself, read the specs, and cringed
> when I saw file system access from a session bean, and so on.

Well, in all honesty, there IS a small factor of "Gee, I can use an
acronym here!" involved. It's not ALL that's involved, of course - I think
the connector's transparency might be a real benefit for others as well as
satisfying my own "I need a deployed component, and not a service I have
to tune" need.

> > The Hits object could CERTAINLY use optimization - callbacks into the
> > connector would probably be acceptable, for example.
>
> Gotcha.  Yes, callbacks would be the right approach with this type of
> abstraction.

Just as a general question... is it efficient to retrieve a Document by,
uh, a sort of Lucene key? (Is there such a thing?) If there is, I can code
up a callback procedure in almost no time. (There are some other issues to
address first, but THAT would be easy to do.)

> >> JCA sounds like an unnecessary abstraction around Lucene - though I'm
> >> open to be convinced otherwise.
> >
> > I'm more than happy to talk about it. If I can fulfill my needs with no
> > code, hey, that's great!
>
> Would RemoteSearchable get you closer to no code?

Dunno, I'll investigate.

> >  I just haven't been able to successfully do so
> > yet, and everyone to whom I've spoken who says that they HAVE
> > managed...
> > well, they've almost invariably done so by lowering the bar a great
> > deal
> > in order to accept what Lucene requires.
>
> I'm definitely a skeptic when it comes to generic layers on top of
> Lucene, though there is definitely a yearning for easier management of
> the lower-level details.

On my part, too. If I coul get a Directory reliably and quickly using an
RDMS, I'd have gone that route.

> I'll definitely follow your work with LuceneRAR closely and will do
> what I can to help out in this forum.  So take my feedback as
> constructive criticism, but keep up the good work!

Again, no problem - and thank you. The things you bring up are issues I
might not be aware of, so it's good to see them and evaluate them.

-----------------------------------------------------------------------
Joseph B. Ottinger                             http://enigmastation.com
IT Consultant                                    joeo@enigmastation.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12549-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 04:28:54 2005
Return-Path: <lucene-user-return-12549-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34818 invoked from network); 20 Jan 2005 04:28:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 04:28:53 -0000
Received: (qmail 13616 invoked by uid 500); 20 Jan 2005 04:28:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13587 invoked by uid 500); 20 Jan 2005 04:28:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13572 invoked by uid 99); 20 Jan 2005 04:28:48 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of eric138@gmail.com designates 64.233.170.199 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.199)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 19 Jan 2005 20:28:47 -0800
Received: by rproxy.gmail.com with SMTP id b11so48916rne
        for <lucene-user@jakarta.apache.org>; Wed, 19 Jan 2005 20:28:45 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=McoXJODQJC0sU3P6qH7tbBjWv1tgBwfr2Ew2PFhHA60uMMB055e1J3T/IN+FPio9ghIiQ0lc5VBR74eKk/+1ivqLR8aIk6DPT0O6oiJ9i/FfA+WXScmUBt2eANmnFnwLuzClqZw8d3ZqEYE1l5DxQ4Mp7DO9wlxp6ipyJj4+lio=
Received: by 10.38.67.53 with SMTP id p53mr222744rna;
        Wed, 19 Jan 2005 20:28:45 -0800 (PST)
Received: by 10.38.12.59 with HTTP; Wed, 19 Jan 2005 20:28:45 -0800 (PST)
Message-ID: <f472e9a005011920283d113aee@mail.gmail.com>
Date: Thu, 20 Jan 2005 12:28:45 +0800
From: Eric Chow <eric138@gmail.com>
Reply-To: Eric Chow <eric138@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: Genereate index files into database ?
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

How can generate Lucene index files into database tables ??

Eric

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12550-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 05:08:13 2005
Return-Path: <lucene-user-return-12550-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54193 invoked from network); 20 Jan 2005 05:08:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 05:08:13 -0000
Received: (qmail 78277 invoked by uid 500); 20 Jan 2005 05:08:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78253 invoked by uid 500); 20 Jan 2005 05:08:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78239 invoked by uid 99); 20 Jan 2005 05:08:08 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 19 Jan 2005 21:08:07 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id D1DEE5B7CC; Wed, 19 Jan 2005 21:06:26 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 937C27F460
	for <lucene-user@jakarta.apache.org>; Wed, 19 Jan 2005 21:06:26 -0800 (PST)
Date: Wed, 19 Jan 2005 21:06:26 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Why IndexReader.lastModified(index) is depricated?
In-Reply-To: <OFB28E64C4.E293E676-ONC1256F8E.0032E22E-C1256F8E.0034284A@EU.novartis.net>
Message-ID: <Pine.LNX.4.58.0501192053520.5321@hal.rescomp.berkeley.edu>
References: <OFB28E64C4.E293E676-ONC1256F8E.0032E22E-C1256F8E.0034284A@EU.novartis.net>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


: Why IndexReader.lastModified(index) is depricated?

Did you read the javadocs?

   Synchronization of IndexReader and IndexWriter instances is no longer
   done via time stamps of the segments file since the time resolution
   depends on the hardware platform. Instead, a version number is
   maintained within the segments file, which is incremented everytime
   when the index is changed.

: It's always a good idea to know when the index changed last time, for

That's a good point, and you can still get that information using the same
underlying method IndexReader.lastModified did/does...

     directory.fileModified("segments");

...it's just no longer crucial that IndexReader have that information.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12551-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 05:24:46 2005
Return-Path: <lucene-user-return-12551-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64445 invoked from network); 20 Jan 2005 05:24:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 05:24:45 -0000
Received: (qmail 5003 invoked by uid 500); 20 Jan 2005 05:24:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4972 invoked by uid 500); 20 Jan 2005 05:24:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4953 invoked by uid 99); 20 Jan 2005 05:24:37 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30205.mail.mud.yahoo.com (HELO web30205.mail.mud.yahoo.com) (68.142.200.88)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 19 Jan 2005 21:24:36 -0800
Received: (qmail 71319 invoked by uid 60001); 20 Jan 2005 05:24:34 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=UO5F1PFS3ToIYPaD03PdKDyDt7AeGyvEjoAPqADwKFVDzJNrffT3KU+N8lJfJTXo68RivpT1y1ZIZbug2dz6dTtQkL7lmvdDJiBJYZn6t7C7nVPnzcS2kgUPlUeY34dghd9Fyy8eojXrubTRRwpN2l5SXsGceZYModKpggCfOeo=  ;
Message-ID: <20050120052434.71317.qmail@web30205.mail.mud.yahoo.com>
Received: from [69.201.139.168] by web30205.mail.mud.yahoo.com via HTTP; Wed, 19 Jan 2005 21:24:34 PST
Date: Wed, 19 Jan 2005 21:24:34 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Why IndexReader.lastModified(index) is depricated?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <Pine.LNX.4.58.0501192053520.5321@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Going for the segments file like that is not a recommended practise, or
at least not something I'd recommend.  'segments' file is really
something that a caller should not know anything about.  Once day
Lucene may choose to rename the segments file or some such, and the
code that uses this trick will break.

To answer the original question, yes, I think it would be handy to have
this method back.  Perhaps we should revive it/them, ha?

Otis


--- Chris Hostetter <hossman_lucene@fucit.org> wrote:

> 
> : Why IndexReader.lastModified(index) is depricated?
> 
> Did you read the javadocs?
> 
>    Synchronization of IndexReader and IndexWriter instances is no
> longer
>    done via time stamps of the segments file since the time
> resolution
>    depends on the hardware platform. Instead, a version number is
>    maintained within the segments file, which is incremented
> everytime
>    when the index is changed.
> 
> : It's always a good idea to know when the index changed last time,
> for
> 
> That's a good point, and you can still get that information using the
> same
> underlying method IndexReader.lastModified did/does...
> 
>      directory.fileModified("segments");
> 
> ...it's just no longer crucial that IndexReader have that
> information.
> 
> 
> 
> -Hoss
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12552-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 06:34:52 2005
Return-Path: <lucene-user-return-12552-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93093 invoked from network); 20 Jan 2005 06:34:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 06:34:52 -0000
Received: (qmail 92221 invoked by uid 500); 20 Jan 2005 06:34:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92026 invoked by uid 500); 20 Jan 2005 06:34:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92013 invoked by uid 99); 20 Jan 2005 06:34:47 -0000
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web8410.mail.in.yahoo.com (HELO web8410.mail.in.yahoo.com) (202.43.219.158)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 19 Jan 2005 22:34:46 -0800
Received: (qmail 31391 invoked by uid 60001); 20 Jan 2005 06:34:42 -0000
Message-ID: <20050120063442.31389.qmail@web8410.mail.in.yahoo.com>
Received: from [203.200.42.210] by web8410.mail.in.yahoo.com via HTTP; Wed, 19 Jan 2005 22:34:42 PST
Date: Wed, 19 Jan 2005 22:34:42 -0800 (PST)
From: chetan minajagi <chetan_vm@yahoo.co.in>
Subject: help in indexing
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-413261432-1106202882=:31387"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-413261432-1106202882=:31387
Content-Type: text/plain; charset=us-ascii

Hi ,

It might seem elementary to most of you.
I am trying to build a search tool for internal use using lucene.
I have used the following
 for 
 .pdf   -->  PDFBOx
 .html -->  demo file of lucene(HTMLDocument)
 .xls   -->  poi
 
The indexing seems to work without throwing up any errors.
But,when i try to search i end up getting with zero hits always.
I have tried to use the same string that i see (System.out.print(Document)) but in vain.
Can somebody let me know where and what could be wrong.
Regards,
Chetan

		
---------------------------------
Do you Yahoo!?
 Yahoo! Search presents - Jib Jab's 'Second Term'
--0-413261432-1106202882=:31387--

From lucene-user-return-12553-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 07:16:06 2005
Return-Path: <lucene-user-return-12553-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9984 invoked from network); 20 Jan 2005 07:16:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 07:16:05 -0000
Received: (qmail 41201 invoked by uid 500); 20 Jan 2005 07:15:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41179 invoked by uid 500); 20 Jan 2005 07:15:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41163 invoked by uid 99); 20 Jan 2005 07:15:58 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 19 Jan 2005 23:15:57 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id IALU9Q00.I96 for <lucene-user@jakarta.apache.org>; Thu,
          20 Jan 2005 13:02:14 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: help in indexing
Date: Thu, 20 Jan 2005 12:50:50 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKAEGACBAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
In-Reply-To: <20050120063442.31389.qmail@web8410.mail.in.yahoo.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

 Probably u need to use the Luke S/w to peek insid tu'r Indexer,Use it then
  come back for more help


Karthik


-----Original Message-----
From: chetan minajagi [mailto:chetan_vm@yahoo.co.in]
Sent: Thursday, January 20, 2005 12:05 PM
To: lucene-user@jakarta.apache.org
Subject: help in indexing


Hi ,

It might seem elementary to most of you.
I am trying to build a search tool for internal use using lucene.
I have used the following
 for
 .pdf   -->  PDFBOx
 .html -->  demo file of lucene(HTMLDocument)
 .xls   -->  poi

The indexing seems to work without throwing up any errors.
But,when i try to search i end up getting with zero hits always.
I have tried to use the same string that i see (System.out.print(Document))
but in vain.
Can somebody let me know where and what could be wrong.
Regards,
Chetan


---------------------------------
Do you Yahoo!?
 Yahoo! Search presents - Jib Jab's 'Second Term'


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12554-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 08:29:46 2005
Return-Path: <lucene-user-return-12554-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64379 invoked from network); 20 Jan 2005 08:29:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 08:29:46 -0000
Received: (qmail 82691 invoked by uid 500); 20 Jan 2005 08:29:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82665 invoked by uid 500); 20 Jan 2005 08:29:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82649 invoked by uid 99); 20 Jan 2005 08:29:37 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from outbound1.z-ptx-11.fr.sopragroup.com (HELO outbound1.sopragroup.com) (81.80.239.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 00:29:36 -0800
Received: by outbound1.sopragroup.com (8.12.10/8.12.10/outbound-A02) with ESMTP id j0K8TWKp022905
          for <lucene-user@jakarta.apache.org>; Thu, 20 Jan 2005 09:29:32 +0100
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: help in indexing
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Date: Thu, 20 Jan 2005 09:29:31 +0100
Message-ID: <F19E1B11985F2C4E902091B6901CDEFB28ADEF@wexchbe04.ancy.fr.sopra>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: help in indexing
Thread-Index: AcT+uiV/EqkR2YUITOKOja34JRwhBQAD75dg
From: "Cocula Remi" <rcocula@sopragroup.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 20 Jan 2005 08:30:30.0171 (UTC) FILETIME=[4CFCEEB0:01C4FECA]
X-Scanned-By: MIMEDefang 2.38
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You don't tell how you created the fields of your documents.
Please post some code.


-----Message d'origine-----
De : chetan minajagi [mailto:chetan_vm@yahoo.co.in]
Envoy=E9 : jeudi 20 janvier 2005 07:35
=C0 : lucene-user@jakarta.apache.org
Objet : help in indexing


Hi ,

It might seem elementary to most of you.
I am trying to build a search tool for internal use using lucene.
I have used the following
 for=20
 .pdf   -->  PDFBOx
 .html -->  demo file of lucene(HTMLDocument)
 .xls   -->  poi
=20
The indexing seems to work without throwing up any errors.
But,when i try to search i end up getting with zero hits always.
I have tried to use the same string that i see =
(System.out.print(Document)) but in vain.
Can somebody let me know where and what could be wrong.
Regards,
Chetan

	=09
---------------------------------
Do you Yahoo!?
 Yahoo! Search presents - Jib Jab's 'Second Term'

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12555-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 09:14:45 2005
Return-Path: <lucene-user-return-12555-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89602 invoked from network); 20 Jan 2005 09:14:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 09:14:45 -0000
Received: (qmail 78030 invoked by uid 500); 20 Jan 2005 09:14:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78007 invoked by uid 500); 20 Jan 2005 09:14:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77987 invoked by uid 99); 20 Jan 2005 09:14:38 -0000
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,HTML_20_30,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web8405.mail.in.yahoo.com (HELO web8405.mail.in.yahoo.com) (202.43.219.153)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 20 Jan 2005 01:14:35 -0800
Received: (qmail 42945 invoked by uid 60001); 20 Jan 2005 09:14:32 -0000
Message-ID: <20050120091432.42943.qmail@web8405.mail.in.yahoo.com>
Received: from [203.200.42.210] by web8405.mail.in.yahoo.com via HTTP; Thu, 20 Jan 2005 01:14:32 PST
Date: Thu, 20 Jan 2005 01:14:32 -0800 (PST)
From: chetan minajagi <chetan_vm@yahoo.co.in>
Subject: RE: help in indexing
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <OBELINLGKPEMCIEIJJNKAEGACBAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1779876415-1106212472=:40578"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-1779876415-1106212472=:40578
Content-Type: text/plain; charset=us-ascii

Hi Karthik/Cocula,

Luke didn't work but Limo helped.I seem to get results when i use Limo for my text/xls files.
Now the problem with pdf search
The problem that i see is the "summary" field as seen through LIMO is not indexed and hence no hits.
I'm using the default document got by 
 LucenePDFDocument.getDocument(myPdfFile);
So how do i ensure that a few of the fields in this which are not indexed are set to indexed.
As far as I can see I can only probe whether a field is indexed or not by using 
Field.isIndexed() but is there a method by which i can set to indexed.
can someone provide any help or pointers in this regard?
 
Thanks & Regards,
Chetan

Karthik N S <karthik@controlnet.co.in> wrote:
Hi

Probably u need to use the Luke S/w to peek insid tu'r Indexer,Use it then
come back for more help


Karthik


-----Original Message-----
From: chetan minajagi [mailto:chetan_vm@yahoo.co.in]
Sent: Thursday, January 20, 2005 12:05 PM
To: lucene-user@jakarta.apache.org
Subject: help in indexing


Hi ,

It might seem elementary to most of you.
I am trying to build a search tool for internal use using lucene.
I have used the following
for
.pdf --> PDFBOx
.html --> demo file of lucene(HTMLDocument)
.xls --> poi

The indexing seems to work without throwing up any errors.
But,when i try to search i end up getting with zero hits always.
I have tried to use the same string that i see (System.out.print(Document))
but in vain.
Can somebody let me know where and what could be wrong.
Regards,
Chetan


---------------------------------
Do you Yahoo!?
Yahoo! Search presents - Jib Jab's 'Second Term'


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


		
---------------------------------
Do you Yahoo!?
 Yahoo! Mail - You care about security. So do we.
--0-1779876415-1106212472=:40578--

From lucene-user-return-12556-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 09:25:32 2005
Return-Path: <lucene-user-return-12556-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95290 invoked from network); 20 Jan 2005 09:25:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 09:25:31 -0000
Received: (qmail 5616 invoked by uid 500); 20 Jan 2005 09:25:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5594 invoked by uid 500); 20 Jan 2005 09:25:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5580 invoked by uid 99); 20 Jan 2005 09:25:25 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from outbound1.z-ptx-11.fr.sopragroup.com (HELO outbound1.sopragroup.com) (81.80.239.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 01:25:25 -0800
Received: by outbound1.sopragroup.com (8.12.10/8.12.10/outbound-A02) with ESMTP id j0K9PLKr001275
          for <lucene-user@jakarta.apache.org>; Thu, 20 Jan 2005 10:25:22 +0100
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: help in indexing
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Date: Thu, 20 Jan 2005 10:25:21 +0100
Message-ID: <F19E1B11985F2C4E902091B6901CDEFB28AE3F@wexchbe04.ancy.fr.sopra>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: help in indexing
Thread-Index: AcT+0Hshpm8phGpxT4moyZodmIe+CwAAMgGA
From: "Cocula Remi" <rcocula@sopragroup.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 20 Jan 2005 09:26:19.0515 (UTC) FILETIME=[195A44B0:01C4FED2]
X-Scanned-By: MIMEDefang 2.38
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

What is LucenePDFDocument ?
Is it a sample class ?

However  LucenePDFDocument.getDocument(myPdfFile) should create a =
document containing an indexed field.
You can achieve  that for instance by using Field.Text().

			writer =3D new IndexWriter("c:\\tmp\\index",ana,true);
			Document doc =3D new Document();
			doc.add(Field.Text("text","toto li toto"));
			writer.addDocument(doc);
			writer.close();

please refer to the static methods of the Field class.


-----Message d'origine-----
De : chetan minajagi [mailto:chetan_vm@yahoo.co.in]
Envoy=E9 : jeudi 20 janvier 2005 10:15
=C0 : Lucene Users List
Objet : RE: help in indexing


Hi Karthik/Cocula,

Luke didn't work but Limo helped.I seem to get results when i use Limo =
for my text/xls files.
Now the problem with pdf search
The problem that i see is the "summary" field as seen through LIMO is =
not indexed and hence no hits.
I'm using the default document got by=20
 LucenePDFDocument.getDocument(myPdfFile);
So how do i ensure that a few of the fields in this which are not =
indexed are set to indexed.
As far as I can see I can only probe whether a field is indexed or not =
by using=20
Field.isIndexed() but is there a method by which i can set to indexed.
can someone provide any help or pointers in this regard?
=20
Thanks & Regards,
Chetan

Karthik N S <karthik@controlnet.co.in> wrote:
Hi

Probably u need to use the Luke S/w to peek insid tu'r Indexer,Use it =
then
come back for more help


Karthik


-----Original Message-----
From: chetan minajagi [mailto:chetan_vm@yahoo.co.in]
Sent: Thursday, January 20, 2005 12:05 PM
To: lucene-user@jakarta.apache.org
Subject: help in indexing


Hi ,

It might seem elementary to most of you.
I am trying to build a search tool for internal use using lucene.
I have used the following
for
.pdf --> PDFBOx
.html --> demo file of lucene(HTMLDocument)
.xls --> poi

The indexing seems to work without throwing up any errors.
But,when i try to search i end up getting with zero hits always.
I have tried to use the same string that i see =
(System.out.print(Document))
but in vain.
Can somebody let me know where and what could be wrong.
Regards,
Chetan


---------------------------------
Do you Yahoo!?
Yahoo! Search presents - Jib Jab's 'Second Term'


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


	=09
---------------------------------
Do you Yahoo!?
 Yahoo! Mail - You care about security. So do we.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12557-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 10:26:41 2005
Return-Path: <lucene-user-return-12557-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26935 invoked from network); 20 Jan 2005 10:26:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 10:26:41 -0000
Received: (qmail 33632 invoked by uid 500); 20 Jan 2005 10:26:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33604 invoked by uid 500); 20 Jan 2005 10:26:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33589 invoked by uid 99); 20 Jan 2005 10:26:34 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from outbound1.z-ptx-11.fr.sopragroup.com (HELO outbound1.sopragroup.com) (81.80.239.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 02:26:33 -0800
Received: by outbound1.sopragroup.com (8.12.10/8.12.10/outbound-A02) with ESMTP id j0KAQSKr014091
          for <lucene-user@jakarta.apache.org>; Thu, 20 Jan 2005 11:26:29 +0100
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: closing an IndexSearcher
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Date: Thu, 20 Jan 2005 11:26:28 +0100
Message-ID: <F19E1B11985F2C4E902091B6901CDEFB28AE82@wexchbe04.ancy.fr.sopra>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: closing an IndexSearcher
Thread-Index: AcT+TIEpK58Zr0FWQjuYFLfSMNQY6QAjWhNw
From: "Cocula Remi" <rcocula@sopragroup.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 20 Jan 2005 10:27:27.0031 (UTC) FILETIME=[A35CCC70:01C4FEDA]
X-Scanned-By: MIMEDefang 2.38
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have run my code with eclipse debugger and the IndexReader is closed =
(I mean it steps into the reader.close() statement)
but the search over this IndexReader still works.

Should a query work on a closed indexReader or should it throw an =
IOException ?


-----Message d'origine-----
De : Erik Hatcher [mailto:erik@ehatchersolutions.com]
Envoy=E9 : mercredi 19 janvier 2005 18:31
=C0 : Lucene Users List
Objet : Re: closing an IndexSearcher



On Jan 19, 2005, at 12:14 PM, Cocula Remi wrote:

>
> Hi ,
>
> I remarked that after closing an IndexSearcher, queries on this=20
> Seacher will still run.
> My question is : why not always closing an IndexSearcher ?

IndexSearcher.close:

   public void close() throws IOException {
     if(closeReader)
       reader.close();
   }

However, you open it with a String:

> -----------------------------------------------------
> searcher =3D new IndexSearcher("c:\\tmp\\index");

Which should close the underlying IndexReader.

Maybe this was a bug that has since been fixed in CVS (which is the=20
code I'm referencing)?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12558-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 11:44:33 2005
Return-Path: <lucene-user-return-12558-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60116 invoked from network); 20 Jan 2005 11:44:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 11:44:31 -0000
Received: (qmail 82127 invoked by uid 500); 20 Jan 2005 11:43:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82024 invoked by uid 500); 20 Jan 2005 11:43:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81992 invoked by uid 99); 20 Jan 2005 11:43:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from outbound1.z-ptx-11.fr.sopragroup.com (HELO outbound1.sopragroup.com) (81.80.239.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 03:43:56 -0800
Received: by outbound1.sopragroup.com (8.12.10/8.12.10/outbound-A02) with ESMTP id j0KBhqKp029011
          for <lucene-user@jakarta.apache.org>; Thu, 20 Jan 2005 12:43:52 +0100
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: closing an IndexSearcher
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Date: Thu, 20 Jan 2005 12:43:52 +0100
Message-ID: <F19E1B11985F2C4E902091B6901CDEFB28AED8@wexchbe04.ancy.fr.sopra>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: closing an IndexSearcher
Thread-Index: AcT+TIEpK58Zr0FWQjuYFLfSMNQY6QAjWhNwAAKCycA=
From: "Cocula Remi" <rcocula@sopragroup.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 20 Jan 2005 11:44:50.0718 (UTC) FILETIME=[733733E0:01C4FEE5]
X-Scanned-By: MIMEDefang 2.38
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Complementary to my prvious mail I noticed strange behaviour of =
IndexSearcher.close().
Here is a code that does not work : the new IndexWriter() statement =
throws "java.io.IOException: Cannot delete _3.cfs" as if the Index =
searcher's underlying IndexReader where not closed. =20

			IndexSearcher searcher =3D new IndexSearcher("c:\\tmp\\index");
			searcher =3D new IndexSearcher("c:\\tmp\\index");
			searcher.close();

			writer =3D new IndexWriter("c:\\tmp\\index",ana,true);
			doc =3D new Document();
			doc.add(Field.Text("text","toto li toto"));
			writer.addDocument(doc);
			writer.close();

And now here is a code that works : the only differance with the =
previous one is the QueryParser call before new IndexWriter. The =
QueryParser .parse statement seems to close the IndexReader but I really =
can't figure how.
=20
			IndexSearcher searcher =3D new IndexSearcher("c:\\tmp\\index");
			searcher =3D new IndexSearcher("c:\\tmp\\index");
			searcher.close();

			Query query =3D QueryParser.parse("toto","text",ana);		=09

			writer =3D new IndexWriter("c:\\tmp\\index",ana,true);
			doc =3D new Document();
			doc.add(Field.Text("text","toto li toto"));
			writer.addDocument(doc);
			writer.close();


Note : I use Lucene 1.4 Final

Does it seem to be a bug ?=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12559-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 11:50:13 2005
Return-Path: <lucene-user-return-12559-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62253 invoked from network); 20 Jan 2005 11:50:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 11:50:13 -0000
Received: (qmail 95191 invoked by uid 500); 20 Jan 2005 11:50:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95166 invoked by uid 500); 20 Jan 2005 11:50:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95153 invoked by uid 99); 20 Jan 2005 11:50:04 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp.interpay.nl (HELO SMTP.INTERPAY.NL) (82.195.46.41)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 03:50:03 -0800
Received: from SMM00001.intern.interpay.nl (unverified) by SMTP.INTERPAY.NL 
    (Content Technologies SMTPRS 4.3.10) with ESMTP id 
    <T6e9c94d6830a010a29844@SMTP.INTERPAY.NL> for 
    <lucene-user@jakarta.apache.org>; Thu, 20 Jan 2005 12:50:02 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Disposition-Notification-To: <n.bulthuis@interpay.nl>
Subject: RE: closing an IndexSearcher
Date: Thu, 20 Jan 2005 12:50:02 +0100
Message-ID: <FF5ED66B91643840A3D4809E25952F83A3D527@SMM00001.INTERN.INTERPAY.NL>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: closing an IndexSearcher
Thread-Index: AcT+TIEpK58Zr0FWQjuYFLfSMNQY6QAjWhNwAAKCycAAAGzo0A==
From: <n.bulthuis@interpay.nl>
To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>			IndexSearcher searcher =3D new
IndexSearcher("c:\\tmp\\index");
>			searcher =3D new IndexSearcher("c:\\tmp\\index");
>			searcher.close();


Wouldn't the following mean you have two IndexSearcher instances, where
you would only close the last one?

Try just the first and the third line, thus:

>			IndexSearcher searcher =3D new
IndexSearcher("c:\\tmp\\index");
>			searcher.close();

Greetz,=20
Nick


---------------------------------------------------------------------------=
---------------------
Disclaimer:
' Aan de inhoud van dit bericht kunnen alleen rechten ten opzichte van Inte=
rpay Nederland B.V. of aan haar gelieerde ondernemingen worden ontleend, in=
dien zij door rechtsgeldig ondertekende stukken worden ondersteund. De info=
rmatie in dit e-mailbericht is van vertrouwelijke aard en alleen bedoeld vo=
or gebruik door de geadresseerde. Als u een bericht onbedoeld heeft ontvang=
en, wordt u verzocht de verzender hiervan in kennis te stellen en het beric=
ht te vernietigen zonder van de inhoud kennis te nemen, deze te vermenigvul=
digen of andersoortig te gebruiken.'=20
An English version of this disclaimer is available on http://www.interpay.n=
l/xhtml/ContentEng.aspx?linkid=3Den-04-00-00-00-00-00-001
---------------------------------------------------------------------------=
---------------------


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12560-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 11:52:07 2005
Return-Path: <lucene-user-return-12560-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62825 invoked from network); 20 Jan 2005 11:52:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 11:52:07 -0000
Received: (qmail 98565 invoked by uid 500); 20 Jan 2005 11:51:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98535 invoked by uid 500); 20 Jan 2005 11:51:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98522 invoked by uid 99); 20 Jan 2005 11:51:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 03:51:57 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id 537E823BCC
	for <lucene-user@jakarta.apache.org>; Thu, 20 Jan 2005 12:52:00 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 32287-08 for <lucene-user@jakarta.apache.org>;
 Thu, 20 Jan 2005 12:52:00 +0100 (CET)
Received: from tucholsky.office.tanto.de (tucholsky.office.tanto.de [10.0.0.35])
	by mail.tanto.de (Postfix) with ESMTP id 21F7023B8E
	for <lucene-user@jakarta.apache.org>; Thu, 20 Jan 2005 12:52:00 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) with ESMTP id j0KBps72001608
	for <lucene-user@jakarta.apache.org>; Thu, 20 Jan 2005 12:51:54 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) id j0KBpsja001604;
	Thu, 20 Jan 2005 12:51:54 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16879.39770.790327.420467@tanto-xipolis.de>
Date: Thu, 20 Jan 2005 12:51:54 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: closing an IndexSearcher
In-Reply-To: <F19E1B11985F2C4E902091B6901CDEFB28AED8@wexchbe04.ancy.fr.sopra>
References: <F19E1B11985F2C4E902091B6901CDEFB28AED8@wexchbe04.ancy.fr.sopra>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Cocula,
> 
> And now here is a code that works : the only differance with the previous one is the QueryParser call before new IndexWriter. The QueryParser .parse statement seems to close the IndexReader but I really can't figure how.
>  
I rather suspect your OS/filesystem to delay the effect of the close.
QueryParser does not even know about your searcher.

What OS are you using?

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12561-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 11:58:15 2005
Return-Path: <lucene-user-return-12561-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65627 invoked from network); 20 Jan 2005 11:58:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 11:58:14 -0000
Received: (qmail 16007 invoked by uid 500); 20 Jan 2005 11:58:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15984 invoked by uid 500); 20 Jan 2005 11:58:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15962 invoked by uid 99); 20 Jan 2005 11:58:06 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from outbound1.z-ptx-11.fr.sopragroup.com (HELO outbound1.sopragroup.com) (81.80.239.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 03:58:06 -0800
Received: by outbound1.sopragroup.com (8.12.10/8.12.10/outbound-A02) with ESMTP id j0KBw3Kp030736
          for <lucene-user@jakarta.apache.org>; Thu, 20 Jan 2005 12:58:03 +0100
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: closing an IndexSearcher
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Date: Thu, 20 Jan 2005 12:58:03 +0100
Message-ID: <F19E1B11985F2C4E902091B6901CDEFB28AEDB@wexchbe04.ancy.fr.sopra>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: closing an IndexSearcher
Thread-Index: AcT+TIEpK58Zr0FWQjuYFLfSMNQY6QAjWhNwAAKCycAAAGzo0AAAXg5A
From: "Cocula Remi" <rcocula@sopragroup.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 20 Jan 2005 11:59:01.0656 (UTC) FILETIME=[6E6A0980:01C4FEE7]
X-Scanned-By: MIMEDefang 2.38
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You are wright !=20
I didn't notice that.


-----Message d'origine-----
De : n.bulthuis@interpay.nl [mailto:n.bulthuis@interpay.nl]
Envoy=E9 : jeudi 20 janvier 2005 12:50
=C0 : lucene-user@jakarta.apache.org
Objet : RE: closing an IndexSearcher


>			IndexSearcher searcher =3D new
IndexSearcher("c:\\tmp\\index");
>			searcher =3D new IndexSearcher("c:\\tmp\\index");
>			searcher.close();


Wouldn't the following mean you have two IndexSearcher instances, where
you would only close the last one?

Try just the first and the third line, thus:

>			IndexSearcher searcher =3D new
IndexSearcher("c:\\tmp\\index");
>			searcher.close();

Greetz,=20
Nick


-------------------------------------------------------------------------=
-----------------------
Disclaimer:
' Aan de inhoud van dit bericht kunnen alleen rechten ten opzichte van =
Interpay Nederland B.V. of aan haar gelieerde ondernemingen worden =
ontleend, indien zij door rechtsgeldig ondertekende stukken worden =
ondersteund. De informatie in dit e-mailbericht is van vertrouwelijke =
aard en alleen bedoeld voor gebruik door de geadresseerde. Als u een =
bericht onbedoeld heeft ontvangen, wordt u verzocht de verzender hiervan =
in kennis te stellen en het bericht te vernietigen zonder van de inhoud =
kennis te nemen, deze te vermenigvuldigen of andersoortig te gebruiken.' =

An English version of this disclaimer is available on =
http://www.interpay.nl/xhtml/ContentEng.aspx?linkid=3Den-04-00-00-00-00-0=
0-001
-------------------------------------------------------------------------=
-----------------------


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12562-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 12:02:50 2005
Return-Path: <lucene-user-return-12562-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67653 invoked from network); 20 Jan 2005 12:02:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 12:02:50 -0000
Received: (qmail 29948 invoked by uid 500); 20 Jan 2005 12:02:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29892 invoked by uid 500); 20 Jan 2005 12:02:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29860 invoked by uid 99); 20 Jan 2005 12:02:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from outbound1.z-ptx-11.fr.sopragroup.com (HELO outbound1.sopragroup.com) (81.80.239.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 04:02:41 -0800
Received: by outbound1.sopragroup.com (8.12.10/8.12.10/outbound-A02) with ESMTP id j0KC2bKr031849
          for <lucene-user@jakarta.apache.org>; Thu, 20 Jan 2005 13:02:37 +0100
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: closing an IndexSearcher
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Date: Thu, 20 Jan 2005 13:02:37 +0100
Message-ID: <F19E1B11985F2C4E902091B6901CDEFB28AEDC@wexchbe04.ancy.fr.sopra>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: closing an IndexSearcher
Thread-Index: AcT+5nS4e7bhV73+RwWHxIIU0ORMRwAARLPA
From: "Cocula Remi" <rcocula@sopragroup.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 20 Jan 2005 12:03:35.0968 (UTC) FILETIME=[11EABA00:01C4FEE8]
X-Scanned-By: MIMEDefang 2.38
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

As said n.bulthuis@interpay.nl I was openning multiple instances of =
IndexSearcher.

Now the IndexReader seems to be closed but I am surprised that the =
searching over this closed index Reader still work, that was the =
original subject of this thread.


-----Message d'origine-----
De : Morus Walter [mailto:morus.walter@tanto.de]
Envoy=E9 : jeudi 20 janvier 2005 12:52
=C0 : Lucene Users List
Objet : RE: closing an IndexSearcher


Hi Cocula,
>=20
> And now here is a code that works : the only differance with the =
previous one is the QueryParser call before new IndexWriter. The =
QueryParser .parse statement seems to close the IndexReader but I really =
can't figure how.
> =20
I rather suspect your OS/filesystem to delay the effect of the close.
QueryParser does not even know about your searcher.

What OS are you using?

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12563-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 13:00:12 2005
Return-Path: <lucene-user-return-12563-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99209 invoked from network); 20 Jan 2005 13:00:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 13:00:12 -0000
Received: (qmail 50009 invoked by uid 500); 20 Jan 2005 13:00:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49981 invoked by uid 500); 20 Jan 2005 13:00:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49967 invoked by uid 99); 20 Jan 2005 13:00:05 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web25810.mail.ukl.yahoo.com (HELO web25810.mail.ukl.yahoo.com) (217.12.10.195)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 20 Jan 2005 05:00:02 -0800
Received: (qmail 29753 invoked by uid 60001); 20 Jan 2005 12:59:59 -0000
Message-ID: <20050120125959.29751.qmail@web25810.mail.ukl.yahoo.com>
Received: from [141.99.131.134] by web25810.mail.ukl.yahoo.com via HTTP; Thu, 20 Jan 2005 13:59:58 CET
Date: Thu, 20 Jan 2005 13:59:58 +0100 (CET)
From: Miro Max <kikiriki2k@yahoo.de>
Subject: list of most frequent words from Hits
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

i need to create a list of most frequent words from
the result set.
actually i'm creating new RAMDirectory to add the
Hits. From this i get the list of the most frequent
words.

is this ok? what happens when i create 10 querys at
the same time? does new query overwrite the old
RAMDirectory? is this solution consistent or does
anyone got other way to realize this?

thanks

miro


	

	
		
___________________________________________________________ 
Gesendet von Yahoo! Mail - Jetzt mit 250MB Speicher kostenlos - Hier anmelden: http://mail.yahoo.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12564-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 13:49:03 2005
Return-Path: <lucene-user-return-12564-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25013 invoked from network); 20 Jan 2005 13:49:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 13:49:02 -0000
Received: (qmail 58589 invoked by uid 500); 20 Jan 2005 13:48:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58557 invoked by uid 500); 20 Jan 2005 13:48:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58544 invoked by uid 99); 20 Jan 2005 13:48:50 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30207.mail.mud.yahoo.com (HELO web30207.mail.mud.yahoo.com) (68.142.200.90)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 20 Jan 2005 05:48:48 -0800
Received: (qmail 89209 invoked by uid 60001); 20 Jan 2005 13:48:45 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=SPq3p9/9GUiNfqTJELgP2bXsfVNFsKWIjPd7PqYIg4UjmqEvwbBuN9DTr/yt0XTuLbeeYps12wq1nNdlqvrRR8JcwSutj50Xr7ICxK4KF0h98QjT2Mjh0frUHsuXzXhbgd3WiZHNelH4seOu4rVZWo81vSyldOEBZcr9DIvkCXA=  ;
Message-ID: <20050120134845.89207.qmail@web30207.mail.mud.yahoo.com>
Received: from [69.201.139.168] by web30207.mail.mud.yahoo.com via HTTP; Thu, 20 Jan 2005 05:48:45 PST
Date: Thu, 20 Jan 2005 05:48:45 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: help in indexing
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20050120091432.42943.qmail@web8405.mail.in.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello Chetan,

The code that comes with the Lucene book contains a little framework
for indexing rich-text documents.  It sounds like you may be able to
use it as-is, and extending it with a parser for Excel files, which we
didn't include in the code (whould we include it in the next edition?).
 While PDFBox comes with that handy Lucene-specific class that you are
using, it may be better for you to be in control of how exactly you
construct your Lucene documents.
c.f. http://www.lucenebook.com/search?query=framework

Otis

--- chetan minajagi <chetan_vm@yahoo.co.in> wrote:

> Hi Karthik/Cocula,
> 
> Luke didn't work but Limo helped.I seem to get results when i use
> Limo for my text/xls files.
> Now the problem with pdf search
> The problem that i see is the "summary" field as seen through LIMO is
> not indexed and hence no hits.
> I'm using the default document got by 
>  LucenePDFDocument.getDocument(myPdfFile);
> So how do i ensure that a few of the fields in this which are not
> indexed are set to indexed.
> As far as I can see I can only probe whether a field is indexed or
> not by using 
> Field.isIndexed() but is there a method by which i can set to
> indexed.
> can someone provide any help or pointers in this regard?
>  
> Thanks & Regards,
> Chetan
> 
> Karthik N S <karthik@controlnet.co.in> wrote:
> Hi
> 
> Probably u need to use the Luke S/w to peek insid tu'r Indexer,Use it
> then
> come back for more help
> 
> 
> Karthik
> 
> 
> -----Original Message-----
> From: chetan minajagi [mailto:chetan_vm@yahoo.co.in]
> Sent: Thursday, January 20, 2005 12:05 PM
> To: lucene-user@jakarta.apache.org
> Subject: help in indexing
> 
> 
> Hi ,
> 
> It might seem elementary to most of you.
> I am trying to build a search tool for internal use using lucene.
> I have used the following
> for
> .pdf --> PDFBOx
> .html --> demo file of lucene(HTMLDocument)
> .xls --> poi
> 
> The indexing seems to work without throwing up any errors.
> But,when i try to search i end up getting with zero hits always.
> I have tried to use the same string that i see
> (System.out.print(Document))
> but in vain.
> Can somebody let me know where and what could be wrong.
> Regards,
> Chetan
> 
> 
> ---------------------------------
> Do you Yahoo!?
> Yahoo! Search presents - Jib Jab's 'Second Term'
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 		
> ---------------------------------
> Do you Yahoo!?
>  Yahoo! Mail - You care about security. So do we.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12565-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 16:00:44 2005
Return-Path: <lucene-user-return-12565-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10296 invoked from network); 20 Jan 2005 16:00:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 16:00:44 -0000
Received: (qmail 57165 invoked by uid 500); 20 Jan 2005 15:59:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57065 invoked by uid 500); 20 Jan 2005 15:59:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57014 invoked by uid 99); 20 Jan 2005 15:59:26 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mspmail2.stellent.com (HELO mspmail2.stellent.com) (12.40.185.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 07:59:25 -0800
Received: from [10.10.20.20] ([10.10.20.20])
	by mspmail2.stellent.com (8.11.6+Sun/8.11.5) with ESMTP id j0KFxMj19040
	for <lucene-user@jakarta.apache.org>; Thu, 20 Jan 2005 09:59:22 -0600 (CST)
Subject: Re: Why IndexReader.lastModified(index) is depricated?
From: Luke Francl <luke.francl@stellent.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20050120052434.71317.qmail@web30205.mail.mud.yahoo.com>
References: <20050120052434.71317.qmail@web30205.mail.mud.yahoo.com>
Content-Type: text/plain
Message-Id: <1106236750.30184.2.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 
Date: Thu, 20 Jan 2005 09:59:10 -0600
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wed, 2005-01-19 at 23:24, Otis Gospodnetic wrote:

> To answer the original question, yes, I think it would be handy to have
> this method back.  Perhaps we should revive it/them, ha?

LIMO and Luke use this method (even though it is deprecated) to show the
user when the index was last updated.

I think it would be nice to have it back, but it should be clearly noted
that it is for informational purposes _only_. If you want to see if the
index has changed, use the version number.

Luke Francl
LIMO co-developer
http://limo.sourceforge.net


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12566-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 17:59:08 2005
Return-Path: <lucene-user-return-12566-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75708 invoked from network); 20 Jan 2005 17:59:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 17:59:07 -0000
Received: (qmail 83328 invoked by uid 500); 20 Jan 2005 17:58:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83288 invoked by uid 500); 20 Jan 2005 17:58:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83209 invoked by uid 99); 20 Jan 2005 17:58:44 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.cybersites.net (HELO ns.uscybersites.net) (206.98.167.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 09:58:42 -0800
Received: from [127.0.0.1] (unknown [216.126.80.147])
	by ns.uscybersites.net (Postfix) with ESMTP id 95B718256E
	for <lucene-user@jakarta.apache.org>; Thu, 20 Jan 2005 12:07:36 -0500 (EST)
Message-ID: <41EFF144.2070108@max3d.com>
Date: Thu, 20 Jan 2005 12:58:28 -0500
From: "amigo@max3d.com" <amigo@max3d.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: English and French documents together / analysis, indexing, searching
References: <20050120125959.29751.qmail@web25810.mail.ukl.yahoo.com>
In-Reply-To: <20050120125959.29751.qmail@web25810.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Greetings everyone

I wonder is there a solution for analyzing both English and French 
documents using the same analyzer.
Reason being is that we have predominantly English documents but there 
are some French, yet it all has to go into the same index
and be searchable from the same location during any perticular search. 
Is there a way to analyze both types of documents with
a same analyzer (and which one)?

I've looked around and I see there's a SnowBall analyzer but you have to 
specify the language of analysis, and I do not know that
ahead of time during indexing nor do I know it most of the time during 
searching (users would like to search in both document types).

There's also the issue of letter accents in french words and searching 
for the same (how are they indexed at the first place even)?
Has anyone dealt with this before and how did you solve the problem?

thanks

-pedja



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12567-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 18:05:40 2005
Return-Path: <lucene-user-return-12567-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78562 invoked from network); 20 Jan 2005 18:05:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 18:05:39 -0000
Received: (qmail 9993 invoked by uid 500); 20 Jan 2005 18:05:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9932 invoked by uid 500); 20 Jan 2005 18:05:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9869 invoked by uid 99); 20 Jan 2005 18:05:26 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from p15112568.pureserver.info (HELO p15112568.pureserver.info) (217.160.91.29)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 10:05:26 -0800
Received: from [192.168.10.103] (ppp-82-135-4-15.mnet-online.de [82.135.4.15])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by p15112568.pureserver.info (Postfix) with ESMTP id 7CFEB14010F
	for <lucene-user@jakarta.apache.org>; Thu, 20 Jan 2005 19:05:22 +0100 (CET)
Message-ID: <41EFF2D8.1030709@intrafind.de>
Date: Thu, 20 Jan 2005 19:05:12 +0100
From: Bernhard Messer <bernhard.messer@intrafind.de>
Organization: IntraFind Software AG
User-Agent: Mozilla Thunderbird 0.8 (X11/20040913)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: English and French documents together / analysis, indexing, searching
References: <20050120125959.29751.qmail@web25810.mail.ukl.yahoo.com> <41EFF144.2070108@max3d.com>
In-Reply-To: <41EFF144.2070108@max3d.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

i think the easiest way ist to use Lucene's StandardAnalyzer. If you 
want to use the snowball stemmers, you have to add a language guesser to 
get the language for the particular document before creating the analyzer.

regards
Bernhard

amigo@max3d.com schrieb:

> Greetings everyone
>
> I wonder is there a solution for analyzing both English and French 
> documents using the same analyzer.
> Reason being is that we have predominantly English documents but there 
> are some French, yet it all has to go into the same index
> and be searchable from the same location during any perticular search. 
> Is there a way to analyze both types of documents with
> a same analyzer (and which one)?
>
> I've looked around and I see there's a SnowBall analyzer but you have 
> to specify the language of analysis, and I do not know that
> ahead of time during indexing nor do I know it most of the time during 
> searching (users would like to search in both document types).
>
> There's also the issue of letter accents in french words and searching 
> for the same (how are they indexed at the first place even)?
> Has anyone dealt with this before and how did you solve the problem?
>
> thanks
>
> -pedja
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12568-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 18:10:33 2005
Return-Path: <lucene-user-return-12568-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80822 invoked from network); 20 Jan 2005 18:10:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 18:10:33 -0000
Received: (qmail 27849 invoked by uid 500); 20 Jan 2005 18:10:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27805 invoked by uid 500); 20 Jan 2005 18:10:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27775 invoked by uid 99); 20 Jan 2005 18:10:23 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.cybersites.net (HELO ns.uscybersites.net) (206.98.167.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 10:10:23 -0800
Received: from [127.0.0.1] (unknown [216.126.80.147])
	by ns.uscybersites.net (Postfix) with ESMTP id 3D29E82737
	for <lucene-user@jakarta.apache.org>; Thu, 20 Jan 2005 12:18:59 -0500 (EST)
Message-ID: <41EFF3EE.4020702@max3d.com>
Date: Thu, 20 Jan 2005 13:09:50 -0500
From: "amigo@max3d.com" <amigo@max3d.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: English and French documents together / analysis, indexing, searching
References: <20050120125959.29751.qmail@web25810.mail.ukl.yahoo.com> <41EFF144.2070108@max3d.com> <41EFF2D8.1030709@intrafind.de>
In-Reply-To: <41EFF2D8.1030709@intrafind.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Right now I am using StandardAnalyzer but the results are not what I'd 
hope for. Also since my understanding is that we should use the same 
analyzer for searching that was used for indexing,
even if I can manage to guess the language during indexing and apply to 
the SnowBall analyzer I wouldn't be able to use SnowBall for searching 
because users want to search through both
English and French and I suppose I would not get the same results if 
used with StandardAnalyzer?

Another problem with StandardAnalyzer is that it breaks up some words 
that should not be broken (in our case document identifiers such as 
ABC-1234 etc) but that's a secondary issue...


thanks

-pedja




Bernhard Messer said the following on 1/20/2005 1:05 PM:

> i think the easiest way ist to use Lucene's StandardAnalyzer. If you 
> want to use the snowball stemmers, you have to add a language guesser 
> to get the language for the particular document before creating the 
> analyzer.
>
> regards
> Bernhard
>
> amigo@max3d.com schrieb:
>
>> Greetings everyone
>>
>> I wonder is there a solution for analyzing both English and French 
>> documents using the same analyzer.
>> Reason being is that we have predominantly English documents but 
>> there are some French, yet it all has to go into the same index
>> and be searchable from the same location during any perticular 
>> search. Is there a way to analyze both types of documents with
>> a same analyzer (and which one)?
>>
>> I've looked around and I see there's a SnowBall analyzer but you have 
>> to specify the language of analysis, and I do not know that
>> ahead of time during indexing nor do I know it most of the time 
>> during searching (users would like to search in both document types).
>>
>> There's also the issue of letter accents in french words and 
>> searching for the same (how are they indexed at the first place even)?
>> Has anyone dealt with this before and how did you solve the problem?
>>
>> thanks
>>
>> -pedja
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12569-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 18:22:20 2005
Return-Path: <lucene-user-return-12569-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85608 invoked from network); 20 Jan 2005 18:22:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 18:22:20 -0000
Received: (qmail 58489 invoked by uid 500); 20 Jan 2005 18:22:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58464 invoked by uid 500); 20 Jan 2005 18:22:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58449 invoked by uid 99); 20 Jan 2005 18:22:14 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from p15112568.pureserver.info (HELO p15112568.pureserver.info) (217.160.91.29)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 10:22:13 -0800
Received: from [192.168.10.103] (ppp-82-135-4-15.mnet-online.de [82.135.4.15])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by p15112568.pureserver.info (Postfix) with ESMTP id 1909114010F
	for <lucene-user@jakarta.apache.org>; Thu, 20 Jan 2005 19:22:10 +0100 (CET)
Message-ID: <41EFF6C8.2010409@intrafind.de>
Date: Thu, 20 Jan 2005 19:22:00 +0100
From: Bernhard Messer <bernhard.messer@intrafind.de>
Organization: IntraFind Software AG
User-Agent: Mozilla Thunderbird 0.8 (X11/20040913)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: TermPositionVector
References: <c4c8c69405011822507d14cbc3@mail.gmail.com>
In-Reply-To: <c4c8c69405011822507d14cbc3@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Siddarth,

i tested your code and the return is "true" and not "false" as you 
wrote. I assume that there is somethinf else which is wrong.

Bernhard

Siddharth Vijayakrishnan schrieb:

>Hi,
>
>I am adding a field to a document in the index as follows
>
>doc.add(new     Field("contents",reader,Field.TermVector.WITH_POSITIONS))
>
>Later,I query the index and get the document id of this document. The
>following code, however, prints "false".
>
> TermFreqVector tfv = reader.getTermFreqVector(docId,"contents");
> System.out.println("Is a TermPositionVector  " + (tfv instanceof
>TermPositionVector));
>
>Using Field.TermVector.WITH_POSITIONS_OFFSETS, while creating the
>field, also produces the same result.
>
>Can someone tell me why this is happening ? 
>
>
>Thanks,
>Siddharth
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12570-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 18:28:40 2005
Return-Path: <lucene-user-return-12570-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88066 invoked from network); 20 Jan 2005 18:28:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 18:28:39 -0000
Received: (qmail 75257 invoked by uid 500); 20 Jan 2005 18:28:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75231 invoked by uid 500); 20 Jan 2005 18:28:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75217 invoked by uid 99); 20 Jan 2005 18:28:33 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from p15112568.pureserver.info (HELO p15112568.pureserver.info) (217.160.91.29)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 10:28:32 -0800
Received: from [192.168.10.103] (ppp-82-135-4-15.mnet-online.de [82.135.4.15])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by p15112568.pureserver.info (Postfix) with ESMTP id 5E81F14010F
	for <lucene-user@jakarta.apache.org>; Thu, 20 Jan 2005 19:28:29 +0100 (CET)
Message-ID: <41EFF846.3090105@intrafind.de>
Date: Thu, 20 Jan 2005 19:28:22 +0100
From: Bernhard Messer <bernhard.messer@intrafind.de>
Organization: IntraFind Software AG
User-Agent: Mozilla Thunderbird 0.8 (X11/20040913)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: English and French documents together / analysis, indexing, searching
References: <20050120125959.29751.qmail@web25810.mail.ukl.yahoo.com> <41EFF144.2070108@max3d.com> <41EFF2D8.1030709@intrafind.de> <41EFF3EE.4020702@max3d.com>
In-Reply-To: <41EFF3EE.4020702@max3d.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


> Right now I am using StandardAnalyzer but the results are not what I'd 
> hope for. Also since my understanding is that we should use the same 
> analyzer for searching that was used for indexing,
> even if I can manage to guess the language during indexing and apply 
> to the SnowBall analyzer I wouldn't be able to use SnowBall for 
> searching because users want to search through both
> English and French and I suppose I would not get the same results if 
> used with StandardAnalyzer?

you could try to create a more complex query and expand it into both 
languages using different analyzers. Would this solve your problem ?

>
>
> Another problem with StandardAnalyzer is that it breaks up some words 
> that should not be broken (in our case document identifiers such as 
> ABC-1234 etc) but that's a secondary issue...

This is a behaviour is implemented in StandardTokenizer used by 
StandardAnalyzer. Look at the documentation of StandardTokenizer:

Many applications have specific tokenizer needs.  If this tokenizer does
not suit your application, please consider copying this source code
directory to your project and maintaining your own grammar-based tokenizer.

Bernhard

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12571-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 18:40:39 2005
Return-Path: <lucene-user-return-12571-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93415 invoked from network); 20 Jan 2005 18:40:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 18:40:39 -0000
Received: (qmail 7349 invoked by uid 500); 20 Jan 2005 18:40:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7173 invoked by uid 500); 20 Jan 2005 18:40:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7096 invoked by uid 99); 20 Jan 2005 18:40:09 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.cybersites.net (HELO ns.uscybersites.net) (206.98.167.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 10:40:08 -0800
Received: from [127.0.0.1] (unknown [216.126.80.147])
	by ns.uscybersites.net (Postfix) with ESMTP id 621A7828D0
	for <lucene-user@jakarta.apache.org>; Thu, 20 Jan 2005 12:48:56 -0500 (EST)
Message-ID: <41EFFAF4.3080206@max3d.com>
Date: Thu, 20 Jan 2005 13:39:48 -0500
From: "amigo@max3d.com" <amigo@max3d.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: English and French documents together / analysis, indexing, searching
References: <20050120125959.29751.qmail@web25810.mail.ukl.yahoo.com> <41EFF144.2070108@max3d.com> <41EFF2D8.1030709@intrafind.de> <41EFF3EE.4020702@max3d.com> <41EFF846.3090105@intrafind.de>
In-Reply-To: <41EFF846.3090105@intrafind.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


> you could try to create a more complex query and expand it into both 
> languages using different analyzers. Would this solve your problem ?
>
Would that mean I would have to actually conduct two searches (one in 
English and one in French) then merge the results and display them to 
the user?
It sounds to me like a long way around, so then actually writing an 
analyzer that has the language guesser might be a better solution on the 
long run?

>
> This is a behaviour is implemented in StandardTokenizer used by 
> StandardAnalyzer. Look at the documentation of StandardTokenizer:
>
> Many applications have specific tokenizer needs.  If this tokenizer 
> does not suit your application, please consider copying this source code
> directory to your project and maintaining your own grammar-based 
> tokenizer.

Hmm I feel this is beyond my abilities at the moment, writing my own 
tokenizer, without more in-depth knowledge of everything else.
Perhaps I'll try taking the StandardTokenizer and expand it or change it 
based on other tokenziers available in Lucene such as WhiteSpaceTokenizer.


thanks

-pedja


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12572-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 19:16:17 2005
Return-Path: <lucene-user-return-12572-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9365 invoked from network); 20 Jan 2005 19:16:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 19:16:17 -0000
Received: (qmail 96708 invoked by uid 500); 20 Jan 2005 19:16:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96679 invoked by uid 500); 20 Jan 2005 19:16:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96664 invoked by uid 99); 20 Jan 2005 19:16:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from p15112568.pureserver.info (HELO p15112568.pureserver.info) (217.160.91.29)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 11:16:06 -0800
Received: from [192.168.10.103] (ppp-82-135-4-15.mnet-online.de [82.135.4.15])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by p15112568.pureserver.info (Postfix) with ESMTP id A6B4114010F
	for <lucene-user@jakarta.apache.org>; Thu, 20 Jan 2005 20:16:02 +0100 (CET)
Message-ID: <41F00367.90503@intrafind.de>
Date: Thu, 20 Jan 2005 20:15:51 +0100
From: Bernhard Messer <bernhard.messer@intrafind.de>
Organization: IntraFind Software AG
User-Agent: Mozilla Thunderbird 0.8 (X11/20040913)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: English and French documents together / analysis, indexing, searching
References: <20050120125959.29751.qmail@web25810.mail.ukl.yahoo.com> <41EFF144.2070108@max3d.com> <41EFF2D8.1030709@intrafind.de> <41EFF3EE.4020702@max3d.com> <41EFF846.3090105@intrafind.de> <41EFFAF4.3080206@max3d.com>
In-Reply-To: <41EFFAF4.3080206@max3d.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


>> you could try to create a more complex query and expand it into both 
>> languages using different analyzers. Would this solve your problem ?
>>
> Would that mean I would have to actually conduct two searches (one in 
> English and one in French) then merge the results and display them to 
> the user?
> It sounds to me like a long way around, so then actually writing an 
> analyzer that has the language guesser might be a better solution on 
> the long run?

It's no problem to guess the language based on the document corpus. But 
how do you want to guess the language of a simple Term Query ? What if 
your users are searching for names like "George Bush" ? You can't guess 
the language of such a query and you have to expand it into both 
languages. I don't see an easier way for solving that problem.

>
>>
>> This is a behaviour is implemented in StandardTokenizer used by 
>> StandardAnalyzer. Look at the documentation of StandardTokenizer:
>>
>> Many applications have specific tokenizer needs.  If this tokenizer 
>> does not suit your application, please consider copying this source code
>> directory to your project and maintaining your own grammar-based 
>> tokenizer.
>
>
> Hmm I feel this is beyond my abilities at the moment, writing my own 
> tokenizer, without more in-depth knowledge of everything else.
> Perhaps I'll try taking the StandardTokenizer and expand it or change 
> it based on other tokenziers available in Lucene such as 
> WhiteSpaceTokenizer.

What's about using the WhitespaceAnalyzer directly ? Maybe this fits 
more into your requirement and you could use it for both languages.

Bernhard


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12573-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 20:08:51 2005
Return-Path: <lucene-user-return-12573-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33574 invoked from network); 20 Jan 2005 20:08:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 20:08:51 -0000
Received: (qmail 12759 invoked by uid 500); 20 Jan 2005 20:08:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12716 invoked by uid 500); 20 Jan 2005 20:08:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12630 invoked by uid 99); 20 Jan 2005 20:08:34 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from main.gmane.org (HELO main.gmane.org) (80.91.229.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 12:08:33 -0800
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1CribV-0002jl-00
	for <lucene-user@jakarta.apache.org>; Thu, 20 Jan 2005 21:08:29 +0100
Received: from dhcp-171-71-47-107.cisco.com ([171.71.47.107])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Thu, 20 Jan 2005 21:08:28 +0100
Received: from aurora00 by dhcp-171-71-47-107.cisco.com with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Thu, 20 Jan 2005 21:08:28 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: aurora <aurora00@gmail.com>
Subject: Lucene and multiple languages
Date: Thu, 20 Jan 2005 12:08:09 -0800
Lines: 44
Message-ID: <opskw3jvay6yt6e7@dhcp-171-71-47-107.cisco.com>
Mime-Version: 1.0
Content-Type: text/plain; format=flowed; delsp=yes; charset=iso-8859-15
Content-Transfer-Encoding: Quoted-Printable
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: dhcp-171-71-47-107.cisco.com
User-Agent: Opera M2/7.54u1 (Win32, build 3918)
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm trying to build some web search tool that could work for multiple  =

languages. I understand that Lucene is shipped with StandardAnalyzer plu=
s  =

a German and Russian analyzers and some more in the sandbox. And that  =

indexing and searching should use the same analyzer.

Now let's said I have an index with documents in multiple languages and =
 =

analyzed by an assortment of analyzers. When user enter a query, what  =

analyzer should be used? Should the user be asked for the language  =

upfront? What to expect when the analyzer and the document doesn't match=
?  =

Let's said the query is parsed using StandardAnalyzer. Would it match an=
y  =

documents done in German analyzer at all. Or would it end up in poor  =

result?

Also is there a good way to find out the languages used in a web page?  =

There is a 'content-langage' header in http and a 'lang' attribute in  =

HTML. Looks like people don't really use them. How can we recognize the =
 =

language?

Even more interesting is multiple languages used in one document, let's =
 =

say half English and half French. Is there a good way to deal with those=
  =

cases?

Thanks for any guidance.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12574-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 21:13:34 2005
Return-Path: <lucene-user-return-12574-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76741 invoked from network); 20 Jan 2005 21:13:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 21:13:34 -0000
Received: (qmail 62590 invoked by uid 500); 20 Jan 2005 21:13:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62558 invoked by uid 500); 20 Jan 2005 21:13:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62543 invoked by uid 99); 20 Jan 2005 21:13:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mailout10.sul.t-online.com (HELO mailout10.sul.t-online.com) (194.25.134.21)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 13:13:25 -0800
Received: from fwd02.aul.t-online.de 
	by mailout10.sul.t-online.com with smtp 
	id 1CrjcG-0001BS-01; Thu, 20 Jan 2005 22:13:20 +0100
Received: from p3E9EC49D.dip.t-dialin.net (rAeRsaZTQeLFWkzqiOTvR2Jx3LXvdgMrvaF23YJuOtPrdFQKzjHNE+@[62.158.196.157]) by fmrl02.sul.t-online.com
	with esmtp id 1Crjc3-1w4b4K0; Thu, 20 Jan 2005 22:13:07 +0100
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Lucene and multiple languages
Date: Thu, 20 Jan 2005 22:13:51 +0100
User-Agent: KMail/1.7.1
References: <opskw3jvay6yt6e7@dhcp-171-71-47-107.cisco.com>
In-Reply-To: <opskw3jvay6yt6e7@dhcp-171-71-47-107.cisco.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200501202213.51923@danielnaber.de>
X-ID: rAeRsaZTQeLFWkzqiOTvR2Jx3LXvdgMrvaF23YJuOtPrdFQKzjHNE+@t-dialin.net
X-TOI-MSGID: 918ca947-dd0a-4834-808d-263f0d71fd0d
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday 20 January 2005 21:08, aurora wrote:

> Now let's said I have an index with documents in multiple languages and
> =C2=A0 analyzed by an assortment of analyzers. When user enter a query, w=
hat
> analyzer should be used?

Use q1 OR q2, where q1 is the query parsed with the analyzer for language=20
1, q2 is the query parsed with the analyzer for language 2 (and so on). If=
=20
there are conflicts you could also add a required term query to each=20
subquery, like "language:en^0" so that, for example, the English analyzer=20
query only searches on documents that have been identified as English.

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12575-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 21:14:19 2005
Return-Path: <lucene-user-return-12575-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77065 invoked from network); 20 Jan 2005 21:14:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 21:14:18 -0000
Received: (qmail 66339 invoked by uid 500); 20 Jan 2005 21:14:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66306 invoked by uid 500); 20 Jan 2005 21:14:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66267 invoked by uid 99); 20 Jan 2005 21:14:11 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from avas-mr09.fibertel.com.ar (HELO avas-mr09.fibertel.com.ar) (24.232.0.222)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 13:14:09 -0800
Received: from OL152-184.fibertel.com.ar ([24.232.184.152]:28936 "EHLO
	[24.232.184.152]" smtp-auth: "edesantis") by avas-mr09.fibertel.com.ar
	with ESMTP id S213036AbVATVN7; Thu, 20 Jan 2005 18:13:59 -0300
X-Comment: RFC 2476 MSA function at avas-mr09.fibertel.com.ar logged sender identity as: edesantis
Message-ID: <41F02009.5070605@colaborativa.net>
Date:	Thu, 20 Jan 2005 18:18:01 -0300
From:	Ernesto De Santis <ernesto.desantis@colaborativa.net>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: es-ar, es, en-us, en
MIME-Version: 1.0
To:	Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene and multiple languages
References: <opskw3jvay6yt6e7@dhcp-171-71-47-107.cisco.com>
In-Reply-To: <opskw3jvay6yt6e7@dhcp-171-71-47-107.cisco.com>
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 8bit
X-Fib-Al-Info: Al
X-Fib-Al-MRId: 6363c4791dd65aa5416076e439edb11b
X-Fib-Al-From: ernesto.desantis@colaborativa.net
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Aurora

I develop a tool with this multiple languages issue. I found very useful
an nuke library "language-identifier". This jar have nuke dependencies,
but I delete all unnecessary code (for me obvious).

This language-identifier that I use work fine and is very simple:
For example:

LanguageIdentifier languageIdentifier = LanguageIdentifier.getInstance();
String userInputText = "free text";
String language = languageIdentifier.identify(text);

This work for 11 languages: English, Spanish, Portuguese, Dutch, German,
French, Italian, and Others.

I can send you this touched jar, but remember that this jar is from
Nuke, for copyright (or left :).
http://www.nutch.org/LICENSE.txt

More comments above...

aurora escribi:

> I'm trying to build some web search tool that could work for multiple  
> languages. I understand that Lucene is shipped with StandardAnalyzer 
> plus  a German and Russian analyzers and some more in the sandbox. And 
> that  indexing and searching should use the same analyzer.
>
> Now let's said I have an index with documents in multiple languages 
> and  analyzed by an assortment of analyzers. When user enter a query, 
> what  analyzer should be used? Should the user be asked for the 
> language  upfront? What to expect when the analyzer and the document 
> doesn't match?  Let's said the query is parsed using StandardAnalyzer. 
> Would it match any  documents done in German analyzer at all. Or would 
> it end up in poor  result?
>
When this happen, in the major cases you do not obtain matchs.

> Also is there a good way to find out the languages used in a web 
> page?  There is a 'content-langage' header in http and a 'lang' 
> attribute in  HTML. Looks like people don't really use them. How can 
> we recognize the  language?
>
With language identifier. :)

> Even more interesting is multiple languages used in one document, 
> let's  say half English and half French. Is there a good way to deal 
> with those  cases?
>
Language identifier only return one language. I look into
language-identifier and work with a score for each language, and return
the language with greater value.
Maybe you can modify the language-identifier for take the most greater
values.

Bye
Ernesto.

> Thanks for any guidance.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12576-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 21:39:45 2005
Return-Path: <lucene-user-return-12576-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88700 invoked from network); 20 Jan 2005 21:39:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 21:39:45 -0000
Received: (qmail 22025 invoked by uid 500); 20 Jan 2005 21:39:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22000 invoked by uid 500); 20 Jan 2005 21:39:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21984 invoked by uid 99); 20 Jan 2005 21:39:38 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of john.wang@gmail.com designates 64.233.170.194 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.194)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 13:39:37 -0800
Received: by rproxy.gmail.com with SMTP id 40so92766rnz
        for <lucene-user@jakarta.apache.org>; Thu, 20 Jan 2005 13:39:35 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=JasQVD6cFjReUF1qdiR+ZvR7STtDlR7aYPMrtrB/W4xxOV28Tke+N6kyPVmw3BbM1MSvbc9KRmCDDcUE5TPFs5me5w/ucLJUohi+9iVdpOXZqRY/r7ahMsax5BCZ/Epcer+D3vMO0n+POgMZNSe4Sswld9o2Lf/3GrXSvoxd2es=
Received: by 10.38.8.49 with SMTP id 49mr664481rnh;
        Thu, 20 Jan 2005 13:39:34 -0800 (PST)
Received: by 10.38.179.76 with HTTP; Thu, 20 Jan 2005 13:39:34 -0800 (PST)
Message-ID: <8837fb7705012013397b374ff7@mail.gmail.com>
Date: Thu, 20 Jan 2005 13:39:34 -0800
From: John Wang <john.wang@gmail.com>
Reply-To: John Wang <john.wang@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: lucene2.0 and transaction support
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi:

   When is lucene 2.0 scheduled to be released? Is there a javadoc
somewhere so we can check out the new APIs?

    Is there a plan to add transaction support into lucene? This is
something we need and if we do implement it ourselves, is it too large
of a change for a patch?

Thanks

-John

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12577-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 21:51:10 2005
Return-Path: <lucene-user-return-12577-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94136 invoked from network); 20 Jan 2005 21:51:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 21:51:10 -0000
Received: (qmail 50621 invoked by uid 500); 20 Jan 2005 21:51:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50553 invoked by uid 500); 20 Jan 2005 21:51:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50517 invoked by uid 99); 20 Jan 2005 21:51:04 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from sparta.hostgo.com (HELO sparta.hostgo.com) (66.220.22.162)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 13:51:02 -0800
Received: from [65.19.37.63] (helo=[10.0.1.2])
	by sparta.hostgo.com with esmtpa (Exim 4.43)
	id 1CrkBw-00009N-IY
	for lucene-user@jakarta.apache.org; Thu, 20 Jan 2005 16:50:13 -0500
Mime-Version: 1.0 (Apple Message framework v619)
Content-Transfer-Encoding: 7bit
Message-Id: <41F6AB95-6B2D-11D9-8FA3-000A95973046@backspaces.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: lucene-user@jakarta.apache.org
From: Owen Densmore <owen@backspaces.net>
Subject: Newbie: Human Readable Stemming, Lucene Architecture, etc!
Date: Thu, 20 Jan 2005 14:50:10 -0700
X-Mailer: Apple Mail (2.619)
X-MailScanner-Information: This email message has been scanned for viruses
X-MailScanner-HostGo: Found to be clean
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - sparta.hostgo.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - backspaces.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi .. I'm new to the list so forgive a dumb question or two as I get 
started.

We're in the midst of converting a small collection (1200-1500 
currently) of scientific literature to be easily searchable/navigable.  
We'll likely provide both a text query interface as well as a graphical 
way to search and discover.

Our initial approach will be vector based, looking at Latent Semantic 
Indexing (LSI) as a potential tool, although if that's not needed, 
we'll stop at reasonably simple stemming with a weighted document term 
matrix (DTM).  (Bear in mind I couldn't even pronounce most of these 
concepts last week, so go easy if I'm incoherent!)

It looks to me that Lucene has a quite well factored architecture.  I 
should at the very least be able to use the analyzer and stemmer to 
create a good starting point in the project.  I'd also like to leave a 
nice architecture behind in case we or others end up experimenting 
with, or extending, the system.

So a couple of questions:

1 - I'm a bit concerned that reasonable stemming (Porter/Snowball) 
apparently produces non-word stems .. i.e. not really human readable.  
(Example: generate, generates, generated, generating  -> generat) 
Although in typical queries this is not important because the result of 
the search is a document list, it *would* be important if we use the 
stems within a graphical navigation interface.
     So the question is: Is there a way to have the stemmer produce 
english
     base forms of the words being stemmed?

2 - We're probably using Lucene in ways it was not designed for, such 
as DTM/LSI and graphical clustering and navigation.  Naturally we'll 
provide code for these parts that are not in Lucene.
     But the question arises: is this kinda dumb?!  Has anyone stretched 
Lucene's
     design center with positive results?  Are we barking up the wrong 
tree?

3 - A nit on hyphenation: Our collection is scientific so has many 
hyphenated words.  I'm wondering about your experiences with 
hyphenation.  In our collection, things like self-organization, 
power-law, space-time, small-world, agent-based, etc. occur often, for 
example.
     So the question is: Do folks break up hyphenated words?  If not, do 
you stem the
     parts and glue them back together?  Do you apply stoplists to the 
parts?

Thanks for any help and pointers you can fling along,

Owen    http://backspaces.net/    http://redfish.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12578-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 21:58:11 2005
Return-Path: <lucene-user-return-12578-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96492 invoked from network); 20 Jan 2005 21:58:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 21:58:11 -0000
Received: (qmail 70364 invoked by uid 500); 20 Jan 2005 21:58:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70330 invoked by uid 500); 20 Jan 2005 21:58:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70315 invoked by uid 99); 20 Jan 2005 21:58:06 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30204.mail.mud.yahoo.com (HELO web30204.mail.mud.yahoo.com) (68.142.200.87)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 20 Jan 2005 13:58:03 -0800
Received: (qmail 77589 invoked by uid 60001); 20 Jan 2005 21:58:01 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=lgIudszbdh8q7tEzzIn246Sia5XwewFfSJ45UjIhVVuEms0FaKSOq9L+RICpGAvEuhyx8CNHTeK8movtlWqFC8j7Qf7NXOSLsESd89wgUaRvjEBNPmCIVwSNbHWM+08uxCkzi1FC+OPEVsGByTRD2X1rbSmJPgYMjfUestnG4x8=  ;
Message-ID: <20050120215801.77587.qmail@web30204.mail.mud.yahoo.com>
Received: from [216.194.17.194] by web30204.mail.mud.yahoo.com via HTTP; Thu, 20 Jan 2005 13:58:01 PST
Date: Thu, 20 Jan 2005 13:58:01 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: lucene2.0 and transaction support
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  John Wang <john.wang@gmail.com>
In-Reply-To: <8837fb7705012013397b374ff7@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The Wiki has some info about Lucene 2.0, but that is all there is about
2.0.

Regarding transactions - have you tried DbDirectory?  I believe that
will provide XA support and it won't require Lucene changes.

Otis


--- John Wang <john.wang@gmail.com> wrote:

> Hi:
> 
>    When is lucene 2.0 scheduled to be released? Is there a javadoc
> somewhere so we can check out the new APIs?
> 
>     Is there a plan to add transaction support into lucene? This is
> something we need and if we do implement it ourselves, is it too
> large
> of a change for a patch?
> 
> Thanks
> 
> -John
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12579-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 22:02:53 2005
Return-Path: <lucene-user-return-12579-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97758 invoked from network); 20 Jan 2005 22:02:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 22:02:53 -0000
Received: (qmail 79825 invoked by uid 500); 20 Jan 2005 22:02:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79801 invoked by uid 500); 20 Jan 2005 22:02:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79776 invoked by uid 99); 20 Jan 2005 22:02:47 -0000
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=FORGED_MUA_IMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from hades.labone.com (HELO hades.labone.com) (198.70.194.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 14:02:45 -0800
Received: from smsrv.1.24.172.in-addr.arpa by hades.labone.com
          via smtpd (for hermes.apache.org [209.237.227.199]) with ESMTP; Thu, 20 Jan 2005 16:02:37 -0600
From: "Jerry Jalenak" <Jerry.Jalenak@LABONE.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Filtering w/ Multiple Terms
Date: Thu, 20 Jan 2005 16:02:26 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
X-WSS-ID: 6DEEF5F033209838-02-01
Content-Type: text/plain;
 charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

In looking at the examples for filtering of hits, it looks like I can only
specify a single term; i.e.

	Filter f = new QueryFilter(new TermQuery(new Term("acct",
"acct1")));

I need to specify more than one term in my filter.  Short of using something
like ChainFilter, how are others handling this?

Thanks!

Jerry Jalenak
Senior Programmer / Analyst, Web Publishing
LabOne, Inc.
10101 Renner Blvd.
Lenexa, KS  66219
(913) 577-1496

jerry.jalenak@labone.com


This transmission (and any information attached to it) may be confidential and
is intended solely for the use of the individual or entity to which it is
addressed. If you are not the intended recipient or the person responsible for
delivering the transmission to the intended recipient, be advised that you
have received this transmission in error and that any use, dissemination,
forwarding, printing, or copying of this information is strictly prohibited.
If you have received this transmission in error, please immediately notify
LabOne at the following email address: securityincidentreporting@labone.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12580-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 22:09:49 2005
Return-Path: <lucene-user-return-12580-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99953 invoked from network); 20 Jan 2005 22:09:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 22:09:48 -0000
Received: (qmail 97975 invoked by uid 500); 20 Jan 2005 22:09:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97951 invoked by uid 500); 20 Jan 2005 22:09:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97935 invoked by uid 99); 20 Jan 2005 22:09:43 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of chenjian1227@gmail.com designates 64.233.170.201 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.201)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 14:09:41 -0800
Received: by rproxy.gmail.com with SMTP id 40so95231rnz
        for <lucene-user@jakarta.apache.org>; Thu, 20 Jan 2005 14:09:39 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=InKQ2io0l0l6TGZQ/0UIn0FgLZphOMEI3vts18C9C0r48r/SyBgFNTpN7PITr4eeUAKc3kC8ixHqzR4V/JpQQLNfnK3OS+Na/Zykak4swXYOY9eA66B+Fm5eTjxNWH5PpdY4WhJT23EOf3xsPacyPV7E3uIX7Am0jqGliX17CRc=
Received: by 10.38.8.49 with SMTP id 49mr675525rnh;
        Thu, 20 Jan 2005 14:09:39 -0800 (PST)
Received: by 10.38.8.15 with HTTP; Thu, 20 Jan 2005 14:09:39 -0800 (PST)
Message-ID: <7ca12391050120140944782ed7@mail.gmail.com>
Date: Thu, 20 Jan 2005 14:09:39 -0800
From: jian chen <chenjian1227@gmail.com>
Reply-To: jian chen <chenjian1227@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Newbie: Human Readable Stemming, Lucene Architecture, etc!
In-Reply-To: <41F6AB95-6B2D-11D9-8FA3-000A95973046@backspaces.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <41F6AB95-6B2D-11D9-8FA3-000A95973046@backspaces.net>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

One thing to point out. I think Lucene is not using LSI as the
underlying retrieval model. It uses vector space model and also
proximity based retrieval.

Personally, I don't know much about LSI and I don't think the fancy
stuff like LSI is workable in industry. I believe we are far away from
the era of artificial intelligence and using any elusive way to do
information retrieval.

Cheers,

Jian


On Thu, 20 Jan 2005 14:50:10 -0700, Owen Densmore <owen@backspaces.net> wrote:
> Hi .. I'm new to the list so forgive a dumb question or two as I get
> started.
> 
> We're in the midst of converting a small collection (1200-1500
> currently) of scientific literature to be easily searchable/navigable.
> We'll likely provide both a text query interface as well as a graphical
> way to search and discover.
> 
> Our initial approach will be vector based, looking at Latent Semantic
> Indexing (LSI) as a potential tool, although if that's not needed,
> we'll stop at reasonably simple stemming with a weighted document term
> matrix (DTM).  (Bear in mind I couldn't even pronounce most of these
> concepts last week, so go easy if I'm incoherent!)
> 
> It looks to me that Lucene has a quite well factored architecture.  I
> should at the very least be able to use the analyzer and stemmer to
> create a good starting point in the project.  I'd also like to leave a
> nice architecture behind in case we or others end up experimenting
> with, or extending, the system.
> 
> So a couple of questions:
> 
> 1 - I'm a bit concerned that reasonable stemming (Porter/Snowball)
> apparently produces non-word stems .. i.e. not really human readable.
> (Example: generate, generates, generated, generating  -> generat)
> Although in typical queries this is not important because the result of
> the search is a document list, it *would* be important if we use the
> stems within a graphical navigation interface.
>      So the question is: Is there a way to have the stemmer produce
> english
>      base forms of the words being stemmed?
> 
> 2 - We're probably using Lucene in ways it was not designed for, such
> as DTM/LSI and graphical clustering and navigation.  Naturally we'll
> provide code for these parts that are not in Lucene.
>      But the question arises: is this kinda dumb?!  Has anyone stretched
> Lucene's
>      design center with positive results?  Are we barking up the wrong
> tree?
> 
> 3 - A nit on hyphenation: Our collection is scientific so has many
> hyphenated words.  I'm wondering about your experiences with
> hyphenation.  In our collection, things like self-organization,
> power-law, space-time, small-world, agent-based, etc. occur often, for
> example.
>      So the question is: Do folks break up hyphenated words?  If not, do
> you stem the
>      parts and glue them back together?  Do you apply stoplists to the
> parts?
> 
> Thanks for any help and pointers you can fling along,
> 
> Owen    http://backspaces.net/    http://redfish.com/
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12581-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 22:25:56 2005
Return-Path: <lucene-user-return-12581-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5668 invoked from network); 20 Jan 2005 22:25:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 22:25:56 -0000
Received: (qmail 23984 invoked by uid 500); 20 Jan 2005 22:25:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23953 invoked by uid 500); 20 Jan 2005 22:25:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23938 invoked by uid 99); 20 Jan 2005 22:25:51 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 14:25:49 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Newbie: Human Readable Stemming, Lucene Architecture, etc!
Date: Thu, 20 Jan 2005 14:25:46 -0800
Message-ID: <E3381E0825F1954D953A4E347017BB1C031405CE@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Newbie: Human Readable Stemming, Lucene Architecture, etc!
Thread-Index: AcT/PMFL7Knss+aEQyqzE6ltG3W++AAAhNWA
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	"jian chen" <chenjian1227@gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Like any other field, A.I. is only elusive until you master it.  There
are plenty of companies using A.I. techniques in various IR applications
successfully. LSI in particular has been around a long time and is well
understood.

Chuck

  > -----Original Message-----
  > From: jian chen [mailto:chenjian1227@gmail.com]
  > Sent: Thursday, January 20, 2005 2:10 PM
  > To: Lucene Users List
  > Subject: Re: Newbie: Human Readable Stemming, Lucene Architecture,
etc!
  >=20
  > Hi,
  >=20
  > One thing to point out. I think Lucene is not using LSI as the
  > underlying retrieval model. It uses vector space model and also
  > proximity based retrieval.
  >=20
  > Personally, I don't know much about LSI and I don't think the fancy
  > stuff like LSI is workable in industry. I believe we are far away
from
  > the era of artificial intelligence and using any elusive way to do
  > information retrieval.
  >=20
  > Cheers,
  >=20
  > Jian
  >=20
  >=20
  > On Thu, 20 Jan 2005 14:50:10 -0700, Owen Densmore
<owen@backspaces.net>
  > wrote:
  > > Hi .. I'm new to the list so forgive a dumb question or two as I
get
  > > started.
  > >
  > > We're in the midst of converting a small collection (1200-1500
  > > currently) of scientific literature to be easily
searchable/navigable.
  > > We'll likely provide both a text query interface as well as a
  > graphical
  > > way to search and discover.
  > >
  > > Our initial approach will be vector based, looking at Latent
Semantic
  > > Indexing (LSI) as a potential tool, although if that's not needed,
  > > we'll stop at reasonably simple stemming with a weighted document
term
  > > matrix (DTM).  (Bear in mind I couldn't even pronounce most of
these
  > > concepts last week, so go easy if I'm incoherent!)
  > >
  > > It looks to me that Lucene has a quite well factored architecture.
I
  > > should at the very least be able to use the analyzer and stemmer
to
  > > create a good starting point in the project.  I'd also like to
leave a
  > > nice architecture behind in case we or others end up experimenting
  > > with, or extending, the system.
  > >
  > > So a couple of questions:
  > >
  > > 1 - I'm a bit concerned that reasonable stemming (Porter/Snowball)
  > > apparently produces non-word stems .. i.e. not really human
readable.
  > > (Example: generate, generates, generated, generating  -> generat)
  > > Although in typical queries this is not important because the
result
  > of
  > > the search is a document list, it *would* be important if we use
the
  > > stems within a graphical navigation interface.
  > >      So the question is: Is there a way to have the stemmer
produce
  > > english
  > >      base forms of the words being stemmed?
  > >
  > > 2 - We're probably using Lucene in ways it was not designed for,
such
  > > as DTM/LSI and graphical clustering and navigation.  Naturally
we'll
  > > provide code for these parts that are not in Lucene.
  > >      But the question arises: is this kinda dumb?!  Has anyone
  > stretched
  > > Lucene's
  > >      design center with positive results?  Are we barking up the
wrong
  > > tree?
  > >
  > > 3 - A nit on hyphenation: Our collection is scientific so has many
  > > hyphenated words.  I'm wondering about your experiences with
  > > hyphenation.  In our collection, things like self-organization,
  > > power-law, space-time, small-world, agent-based, etc. occur often,
for
  > > example.
  > >      So the question is: Do folks break up hyphenated words?  If
not,
  > do
  > > you stem the
  > >      parts and glue them back together?  Do you apply stoplists to
the
  > > parts?
  > >
  > > Thanks for any help and pointers you can fling along,
  > >
  > > Owen    http://backspaces.net/    http://redfish.com/
  > >
  > >
---------------------------------------------------------------------
  > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > > For additional commands, e-mail:
lucene-user-help@jakarta.apache.org
  > >
  > >
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12582-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 23:03:54 2005
Return-Path: <lucene-user-return-12582-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21879 invoked from network); 20 Jan 2005 23:03:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 23:03:54 -0000
Received: (qmail 94268 invoked by uid 500); 20 Jan 2005 23:03:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94161 invoked by uid 500); 20 Jan 2005 23:03:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94028 invoked by uid 99); 20 Jan 2005 23:03:40 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of goodell@gmail.com designates 64.233.170.193 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 15:03:39 -0800
Received: by rproxy.gmail.com with SMTP id f1so25275rne
        for <lucene-user@jakarta.apache.org>; Thu, 20 Jan 2005 15:03:37 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=o4CJ3ry5lg0hDQAR50Yv8q5IMjdeVkmQV3tK+UrRt6adU5Vm0bB7jmCkoDvWR4MKnG63FD9RMRoc5hChlC5Pm4QUySMjygocKaQ05xvNSYeNh+Gjh/R9ny4PHc0ks1B89HWQLLYesdG5gthDxaSU6DM/S2ZGPWjShUy0YiB54Iw=
Received: by 10.38.149.58 with SMTP id w58mr232766rnd;
        Thu, 20 Jan 2005 15:03:36 -0800 (PST)
Received: by 10.39.1.25 with HTTP; Thu, 20 Jan 2005 15:03:36 -0800 (PST)
Message-ID: <55b2c6b905012015031af408f4@mail.gmail.com>
Date: Thu, 20 Jan 2005 15:03:36 -0800
From: Andy Goodell <goodell@gmail.com>
Reply-To: Andy Goodell <goodell@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Filtering w/ Multiple Terms
In-Reply-To: <-481769307556042977@unknownmsgid>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <-481769307556042977@unknownmsgid>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Maybe you should try making a BooleanQuery out of the TermQuerys and
then passing that to QueryFilter.  I've never tried it, but it should
work, right?

- andy g


On Thu, 20 Jan 2005 16:02:26 -0600, Jerry Jalenak
<Jerry.Jalenak@labone.com> wrote:
> In looking at the examples for filtering of hits, it looks like I can only
> specify a single term; i.e.
> 
>         Filter f = new QueryFilter(new TermQuery(new Term("acct",
> "acct1")));
> 
> I need to specify more than one term in my filter.  Short of using something
> like ChainFilter, how are others handling this?
> 
> Thanks!
> 
> Jerry Jalenak
> Senior Programmer / Analyst, Web Publishing
> LabOne, Inc.
> 10101 Renner Blvd.
> Lenexa, KS  66219
> (913) 577-1496
> 
> jerry.jalenak@labone.com
> 
> This transmission (and any information attached to it) may be confidential and
> is intended solely for the use of the individual or entity to which it is
> addressed. If you are not the intended recipient or the person responsible for
> delivering the transmission to the intended recipient, be advised that you
> have received this transmission in error and that any use, dissemination,
> forwarding, printing, or copying of this information is strictly prohibited.
> If you have received this transmission in error, please immediately notify
> LabOne at the following email address: securityincidentreporting@labone.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12583-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 23:04:00 2005
Return-Path: <lucene-user-return-12583-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21941 invoked from network); 20 Jan 2005 23:04:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 23:04:00 -0000
Received: (qmail 95983 invoked by uid 500); 20 Jan 2005 23:03:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95921 invoked by uid 500); 20 Jan 2005 23:03:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95782 invoked by uid 99); 20 Jan 2005 23:03:52 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork7.mail.Virginia.EDU (HELO fork7.mail.virginia.edu) (128.143.2.177)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 15:03:51 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id B38CC1F52C5
	for <lucene-user@jakarta.apache.org>; Thu, 20 Jan 2005 18:03:48 -0500 (EST)
Received: from fork7.mail.virginia.edu ([127.0.0.1])
 by localhost (fork7.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 03156-08 for <lucene-user@jakarta.apache.org>;
 Thu, 20 Jan 2005 18:03:48 -0500 (EST)
Received: from [192.168.1.101] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id 686B91F52AD
	for <lucene-user@jakarta.apache.org>; Thu, 20 Jan 2005 18:03:48 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <20050120220252.38F9E13E28F7@ehatchersolutions.com>
References: <20050120220252.38F9E13E28F7@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <ACA162A4-6B37-11D9-BE7F-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Filtering w/ Multiple Terms
Date: Thu, 20 Jan 2005 18:04:44 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork7.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 20, 2005, at 5:02 PM, Jerry Jalenak wrote:

> In looking at the examples for filtering of hits, it looks like I can 
> only
> specify a single term; i.e.
>
> 	Filter f = new QueryFilter(new TermQuery(new Term("acct",
> "acct1")));
>
> I need to specify more than one term in my filter.  Short of using 
> something
> like ChainFilter, how are others handling this?

You can make as complex of a Query as you want for QueryFilter.  If you 
want to filter on multiple terms, construct a BooleanQuery with nested 
TermQuery's, either in an AND or OR fashion.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12584-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 20 23:09:16 2005
Return-Path: <lucene-user-return-12584-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24643 invoked from network); 20 Jan 2005 23:09:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Jan 2005 23:09:16 -0000
Received: (qmail 5795 invoked by uid 500); 20 Jan 2005 23:09:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5770 invoked by uid 500); 20 Jan 2005 23:09:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5757 invoked by uid 99); 20 Jan 2005 23:09:11 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mailout10.sul.t-online.com (HELO mailout10.sul.t-online.com) (194.25.134.21)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 15:09:08 -0800
Received: from fwd02.aul.t-online.de 
	by mailout10.sul.t-online.com with smtp 
	id 1CrlQH-00046e-00; Fri, 21 Jan 2005 00:09:05 +0100
Received: from pD9EBFAE6.dip.t-dialin.net (r1kV+wZfreVKHWofxMYBkPDc-5BhJAhEL1nrvRLrC3HLCOblRwBwQ1@[217.235.250.230]) by fmrl02.sul.t-online.com
	with esmtp id 1CrlQ6-0BbLwO0; Fri, 21 Jan 2005 00:08:54 +0100
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: lucene2.0 and transaction support
Date: Fri, 21 Jan 2005 00:09:41 +0100
User-Agent: KMail/1.7.1
References: <8837fb7705012013397b374ff7@mail.gmail.com>
In-Reply-To: <8837fb7705012013397b374ff7@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200501210009.41922@danielnaber.de>
X-ID: r1kV+wZfreVKHWofxMYBkPDc-5BhJAhEL1nrvRLrC3HLCOblRwBwQ1@t-dialin.net
X-TOI-MSGID: a027bb0c-1ec4-4de6-b94d-a21ae9efe85e
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday 20 January 2005 22:39, John Wang wrote:

> =C2=A0 =C2=A0When is lucene 2.0 scheduled to be released? Is there a java=
doc
> somewhere so we can check out the new APIs?

There's no release date. You'll need to check out the CVS and run "ant=20
javadocs" to see the API.

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12585-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 01:59:44 2005
Return-Path: <lucene-user-return-12585-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91211 invoked from network); 21 Jan 2005 01:59:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 01:59:44 -0000
Received: (qmail 65063 invoked by uid 500); 21 Jan 2005 01:59:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65040 invoked by uid 500); 21 Jan 2005 01:59:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65026 invoked by uid 99); 21 Jan 2005 01:59:39 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web50205.mail.yahoo.com (HELO web50205.mail.yahoo.com) (206.190.38.46)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 20 Jan 2005 17:59:38 -0800
Received: (qmail 95796 invoked by uid 60001); 21 Jan 2005 01:59:35 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=PDR6fKFk7F9Q2wLNrZWIxcKdokVA8xZ8oSlXYopVlA2vVCypbbxAE+bOuLHO0ZqRtDUtmh4PUEfHF0cHbaxL1SoRpx+jcBzKSPhELJYh9hwObYfhpi6HMZab2JHqgn5UGHRsWMbWOuT/DtidYAK/tdSJ7RPApG5FkvQlftE7b2I=  ;
Message-ID: <20050121015935.95794.qmail@web50205.mail.yahoo.com>
Received: from [24.37.192.190] by web50205.mail.yahoo.com via HTTP; Thu, 20 Jan 2005 17:59:35 PST
Date: Thu, 20 Jan 2005 17:59:35 -0800 (PST)
From: Oscar Picasso <oscgoogle@yahoo.com>
Subject: Closed IndexWriter reuse
To: lucene <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Is it safe to add documents to an IndexWriter that has been closed? 

>From what I have seen, the close method flush the changes, closes the files but
it creates new files allowing to add new documents.

Am I right?

Thanks.


		
__________________________________ 
Do you Yahoo!? 
Yahoo! Mail - Easier than ever with enhanced search. Learn more.
http://info.mail.yahoo.com/mail_250

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12586-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 06:22:20 2005
Return-Path: <lucene-user-return-12586-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97704 invoked from network); 21 Jan 2005 06:22:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 06:22:20 -0000
Received: (qmail 2590 invoked by uid 500); 21 Jan 2005 06:22:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2569 invoked by uid 500); 21 Jan 2005 06:22:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2554 invoked by uid 99); 21 Jan 2005 06:22:14 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30208.mail.mud.yahoo.com (HELO web30208.mail.mud.yahoo.com) (68.142.200.91)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 20 Jan 2005 22:22:14 -0800
Received: (qmail 54838 invoked by uid 60001); 21 Jan 2005 06:22:12 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=OwQROb0R8Sjj6LCSE9xMOXhCRntu+h+KzZuYiG9vznVof56iHWpjbgwoU5G/UbD/TB+6P3ns0xmp/lmlwbMLRRloxWvMieB94kokFV4o/8NOBKuW0PaYgHyABmDa4+U6VvMF0fnHfDDRfViRstgDicfxqD7YWzp1sn+Z2YbubFw=  ;
Message-ID: <20050121062212.54836.qmail@web30208.mail.mud.yahoo.com>
Received: from [69.201.139.168] by web30208.mail.mud.yahoo.com via HTTP; Thu, 20 Jan 2005 22:22:12 PST
Date: Thu, 20 Jan 2005 22:22:12 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Closed IndexWriter reuse
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20050121015935.95794.qmail@web50205.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

No, you can't add documents to an index once you close the IndexWriter.
You can re-open the IndexWriter and add more documents, of course.

Otis

--- Oscar Picasso <oscgoogle@yahoo.com> wrote:

> Hi,
> 
> Is it safe to add documents to an IndexWriter that has been closed? 
> 
> From what I have seen, the close method flush the changes, closes the
> files but
> it creates new files allowing to add new documents.
> 
> Am I right?
> 
> Thanks.
> 
> 
> 		
> __________________________________ 
> Do you Yahoo!? 
> Yahoo! Mail - Easier than ever with enhanced search. Learn more.
> http://info.mail.yahoo.com/mail_250
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12587-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 06:29:42 2005
Return-Path: <lucene-user-return-12587-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99769 invoked from network); 21 Jan 2005 06:29:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 06:29:42 -0000
Received: (qmail 9742 invoked by uid 500); 21 Jan 2005 06:29:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9716 invoked by uid 500); 21 Jan 2005 06:29:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9702 invoked by uid 99); 21 Jan 2005 06:29:36 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web53001.mail.yahoo.com (HELO web53001.mail.yahoo.com) (206.190.39.191)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 20 Jan 2005 22:29:36 -0800
Received: (qmail 61223 invoked by uid 60001); 21 Jan 2005 06:29:33 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=zGB8iVgWfNZL+Gcfb4d5kubciEHmxQecHL/QZaQb63AOA4dtDyOSbwueD0wjIrwlriHzjmCJdwH8MpaxMyMzKO6rPK49mrDEYw6qU6kyzOnWyoRRYpU/Vcco5kuNrHZ+lYDSaDuqpI90RA+37Hk89t9hXpjrAjOV2LT7oGGUEEM=  ;
Message-ID: <20050121062933.61221.qmail@web53001.mail.yahoo.com>
Received: from [192.94.34.2] by web53001.mail.yahoo.com via HTTP; Thu, 20 Jan 2005 22:29:33 PST
Date: Thu, 20 Jan 2005 22:29:33 -0800 (PST)
From: "Ranjan K. Baisak" <ranjanbaisak@yahoo.com>
Subject: Suggestion needed for extranet search
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20050121062212.54836.qmail@web30208.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am planning to move to Lucene but not have much
knowledge on the same. The search engine which I had
developed is searching some extranet URLs e.g.
codeguru.com/index.html. Is is possible to get the
same functionality using Lucene. So basically can I
make Lucene as a search engine to search extranets.

regards,
Ranjan

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12588-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 07:14:39 2005
Return-Path: <lucene-user-return-12588-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18365 invoked from network); 21 Jan 2005 07:14:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 07:14:38 -0000
Received: (qmail 63195 invoked by uid 500); 21 Jan 2005 07:14:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63109 invoked by uid 500); 21 Jan 2005 07:14:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63094 invoked by uid 99); 21 Jan 2005 07:14:33 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 23:14:32 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id EFF6023BC9
	for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 08:14:35 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 19042-08 for <lucene-user@jakarta.apache.org>;
 Fri, 21 Jan 2005 08:14:35 +0100 (CET)
Received: from tucholsky.office.tanto.de (tucholsky.office.tanto.de [10.0.0.35])
	by mail.tanto.de (Postfix) with ESMTP id C5E4823B8E
	for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 08:14:35 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) with ESMTP id j0L7ES72008542
	for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 08:14:28 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) id j0L7ESpu008538;
	Fri, 21 Jan 2005 08:14:28 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16880.43988.243047.240400@tanto-xipolis.de>
Date: Fri, 21 Jan 2005 08:14:28 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: English and French documents together / analysis, indexing, searching
In-Reply-To: <41EFFAF4.3080206@max3d.com>
References: <20050120125959.29751.qmail@web25810.mail.ukl.yahoo.com>
	<41EFF144.2070108@max3d.com>
	<41EFF2D8.1030709@intrafind.de>
	<41EFF3EE.4020702@max3d.com>
	<41EFF846.3090105@intrafind.de>
	<41EFFAF4.3080206@max3d.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

amigo@max3d.com writes:
> 
> > you could try to create a more complex query and expand it into both 
> > languages using different analyzers. Would this solve your problem ?
> >
> Would that mean I would have to actually conduct two searches (one in 
> English and one in French) then merge the results and display them to 
> the user?
No. You could do a ( ( french-query ) or ( english-query ) ) construct using
one query. So query construction would be a bit more complex but querying
itself wouldn't change.

The first thing I'd do in your case would be to look at the differences
in the output of english and french snowball stemmer.
I don't speak any french, but probably you might even use both stemmers
on all texts.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12589-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 07:30:42 2005
Return-Path: <lucene-user-return-12589-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24388 invoked from network); 21 Jan 2005 07:30:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 07:30:42 -0000
Received: (qmail 80205 invoked by uid 500); 21 Jan 2005 07:30:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80179 invoked by uid 500); 21 Jan 2005 07:30:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80165 invoked by uid 99); 21 Jan 2005 07:30:36 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 20 Jan 2005 23:30:35 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id 7657B23BC9
	for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 08:30:40 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 19472-06 for <lucene-user@jakarta.apache.org>;
 Fri, 21 Jan 2005 08:30:40 +0100 (CET)
Received: from tucholsky.office.tanto.de (tucholsky.office.tanto.de [10.0.0.35])
	by mail.tanto.de (Postfix) with ESMTP id 49FBF23B8E
	for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 08:30:40 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) with ESMTP id j0L7UX72008675
	for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 08:30:33 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) id j0L7UWlt008671;
	Fri, 21 Jan 2005 08:30:32 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16880.44952.950559.939801@tanto-xipolis.de>
Date: Fri, 21 Jan 2005 08:30:32 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Newbie: Human Readable Stemming, Lucene Architecture, etc!
In-Reply-To: <41F6AB95-6B2D-11D9-8FA3-000A95973046@backspaces.net>
References: <41F6AB95-6B2D-11D9-8FA3-000A95973046@backspaces.net>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Owen Densmore writes:

> 1 - I'm a bit concerned that reasonable stemming (Porter/Snowball) 
> apparently produces non-word stems .. i.e. not really human readable.  
> (Example: generate, generates, generated, generating  -> generat) 
> Although in typical queries this is not important because the result of 
> the search is a document list, it *would* be important if we use the 
> stems within a graphical navigation interface.
>      So the question is: Is there a way to have the stemmer produce 
> english
>      base forms of the words being stemmed?
> 
rule based stemmers such as porter/snowball cannot do that.
But there are (commercial) dictionary based tools that can. E.g. the
canoo lemmatizer.
You might also have a look at egothors stemmer, that are word list based.

HTH
	Morus



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12590-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 09:38:33 2005
Return-Path: <lucene-user-return-12590-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4272 invoked from network); 21 Jan 2005 09:38:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 09:38:32 -0000
Received: (qmail 15211 invoked by uid 500); 21 Jan 2005 09:38:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15155 invoked by uid 500); 21 Jan 2005 09:38:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15088 invoked by uid 99); 21 Jan 2005 09:38:17 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from shared4.hardhathosting.com (HELO getopt.org) (69.44.16.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 01:38:16 -0800
Received: from [192.168.0.252] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id j0L9aEN20207
	for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 03:36:15 -0600
Message-ID: <41F0CD8C.504@getopt.org>
Date: Fri, 21 Jan 2005 10:38:20 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Newbie: Human Readable Stemming, Lucene Architecture, etc!
References: <41F6AB95-6B2D-11D9-8FA3-000A95973046@backspaces.net> <16880.44952.950559.939801@tanto-xipolis.de>
In-Reply-To: <16880.44952.950559.939801@tanto-xipolis.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Morus Walter wrote:
> Owen Densmore writes:
> 
> 
>>1 - I'm a bit concerned that reasonable stemming (Porter/Snowball) 
>>apparently produces non-word stems .. i.e. not really human readable.  
>>(Example: generate, generates, generated, generating  -> generat) 
>>Although in typical queries this is not important because the result of 
>>the search is a document list, it *would* be important if we use the 
>>stems within a graphical navigation interface.
>>     So the question is: Is there a way to have the stemmer produce 
>>english
>>     base forms of the words being stemmed?
>>
> 
> rule based stemmers such as porter/snowball cannot do that.
> But there are (commercial) dictionary based tools that can. E.g. the
> canoo lemmatizer.
> You might also have a look at egothors stemmer, that are word list based.

Egothor stemmers are algorithmic, they only use word lists for training. 
Stems produced by them are usually closer to lemmas than in e.g. 
Porter's stemmer, but there is a significant amount of stems like in the 
example above.




-- 
Best regards,
Andrzej Bialecki
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12591-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 09:49:27 2005
Return-Path: <lucene-user-return-12591-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9871 invoked from network); 21 Jan 2005 09:49:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 09:49:27 -0000
Received: (qmail 34848 invoked by uid 500); 21 Jan 2005 09:49:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34823 invoked by uid 500); 21 Jan 2005 09:49:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34804 invoked by uid 99); 21 Jan 2005 09:49:21 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=FROM_ENDS_IN_NUMS,PLING_PLING,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of eric138@gmail.com designates 64.233.170.202 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.202)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 01:49:21 -0800
Received: by rproxy.gmail.com with SMTP id c16so23010rne
        for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 01:49:19 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=ldjwwePTi/cemCnKfW6Jnw6E+PHFXsnbsgrldT024MUul9566KwwZCGCnBET/nyNMkdd2YgdtOTn/8Koy/WU8rFKaLP+4KUc7xwqoqUTu2/ueNJeL1SOttHZPdZtqaAMnNTEGsYq1DNzCwVPLCeYnX5Epc+J5FYT3RIZt1mysSY=
Received: by 10.38.98.53 with SMTP id v53mr90989rnb;
        Fri, 21 Jan 2005 01:49:19 -0800 (PST)
Received: by 10.38.12.59 with HTTP; Fri, 21 Jan 2005 01:49:18 -0800 (PST)
Message-ID: <f472e9a005012101498f36892@mail.gmail.com>
Date: Fri, 21 Jan 2005 17:49:18 +0800
From: Eric Chow <eric138@gmail.com>
Reply-To: Eric Chow <eric138@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: Search Chinese in Unicode !!!
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

How to create index with chinese (in utf-8 encoding ) HTML and search
with Lucene ?

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12592-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 10:00:30 2005
Return-Path: <lucene-user-return-12592-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19076 invoked from network); 21 Jan 2005 10:00:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 10:00:29 -0000
Received: (qmail 60252 invoked by uid 500); 21 Jan 2005 10:00:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60223 invoked by uid 500); 21 Jan 2005 10:00:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60189 invoked by uid 99); 21 Jan 2005 10:00:20 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO,HTML_40_50,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host.122.111.23.62.rev.coltfrance.com (HELO cer31mx-gw.cirso.fr) (62.23.111.122)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 02:00:18 -0800
Received: from cer31mx-gw.cirso.fr 
        by cer31mx-gw.cirso.fr  with ESMTP id j0LA3t213085
        for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 11:03:55 +0100
Received: from contact31.urssaf.fr 
        by cer31mx-gw.cirso.fr  with ESMTP id j0LA3tL13079
        for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 11:03:55 +0100
To: lucene-user@jakarta.apache.org
Subject: How works *
MIME-Version: 1.0
X-Mailer: Lotus Notes Release 6.5.2 June 01, 2004
Message-ID: <OF63380B17.BF324660-ONC1256F90.00364D59-C1256F90.0036F4DC@urssaf.fr>
From: "Bertrand VENZAL" <bertrand.venzal@cirso.fr>
Date: Fri, 21 Jan 2005 10:58:05 +0100
Content-Type: multipart/alternative; boundary="=_alternative 0036F4D3C1256F90_="
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=_alternative 0036F4D3C1256F90_=
Content-Type: text/plain; charset="US-ASCII"

Hi,

I wondered how lucene implement the * character, I know that is working 
but when I look at the Query Object, it doesn t seem to appear somewhere, 
does someone know how is it implemented ?

thanks 
--=_alternative 0036F4D3C1256F90_=--

From lucene-user-return-12593-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 10:10:23 2005
Return-Path: <lucene-user-return-12593-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24715 invoked from network); 21 Jan 2005 10:10:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 10:10:23 -0000
Received: (qmail 78586 invoked by uid 500); 21 Jan 2005 10:10:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78564 invoked by uid 500); 21 Jan 2005 10:10:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78545 invoked by uid 99); 21 Jan 2005 10:10:16 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=PLING_PLING
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork8.mail.Virginia.EDU (HELO fork8.mail.virginia.edu) (128.143.2.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 02:10:13 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork8.mail.virginia.edu (Postfix) with ESMTP id 97D661F527D
	for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 05:10:10 -0500 (EST)
Received: from fork8.mail.virginia.edu ([127.0.0.1])
 by localhost (fork8.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 25757-05 for <lucene-user@jakarta.apache.org>;
 Fri, 21 Jan 2005 05:10:10 -0500 (EST)
Received: from [192.168.1.101] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by fork8.mail.virginia.edu (Postfix) with ESMTP id 46BAD1F5186
	for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 05:10:10 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <f472e9a005012101498f36892@mail.gmail.com>
References: <f472e9a005012101498f36892@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <C4928A86-6B94-11D9-91CD-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Search Chinese in Unicode !!!
Date: Fri, 21 Jan 2005 05:11:08 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork8.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 21, 2005, at 4:49 AM, Eric Chow wrote:

> How to create index with chinese (in utf-8 encoding ) HTML and search
> with Lucene ?

Indexing and searching Chinese basically is no different than using 
English with Lucene.  We covered a bit about it in Lucene in Action:

	http://www.lucenebook.com/search?query=chinese

And a screenshot here:

	http://www.blogscene.org/erik/LuceneInAction/i18n.html

The main issues of dealing with Chinese, and of course other languages, 
are encoding concerns in both indexing and querying of reading in the 
text and analysis (as you can see from the screenshot).

Lucene itself works with Unicode fine and you're free to index anything.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12594-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 10:17:49 2005
Return-Path: <lucene-user-return-12594-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29526 invoked from network); 21 Jan 2005 10:17:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 10:17:49 -0000
Received: (qmail 96237 invoked by uid 500); 21 Jan 2005 10:17:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96208 invoked by uid 500); 21 Jan 2005 10:17:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96169 invoked by uid 99); 21 Jan 2005 10:17:42 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 81-5-138-216.dsl.eclipse.net.uk (HELO goose.milesbarr.com) (81.5.138.216)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 02:17:41 -0800
Received: by goose.milesbarr.com (Postfix, from userid 1000)
	id BEDE327A7C3; Fri, 21 Jan 2005 10:16:59 +0000 (GMT)
Subject: Re: How works *
From: Miles Barr <miles@runtime-collective.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <OF63380B17.BF324660-ONC1256F90.00364D59-C1256F90.0036F4DC@urssaf.fr>
References:
	 <OF63380B17.BF324660-ONC1256F90.00364D59-C1256F90.0036F4DC@urssaf.fr>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Organization: Runtime Collective Ltd.
Date: Fri, 21 Jan 2005 10:16:58 +0000
Message-Id: <1106302618.879.41.camel@goose.milesbarr.com>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Fri, 2005-01-21 at 10:58 +0100, Bertrand VENZAL wrote:
> I wondered how lucene implement the * character, I know that is working 
> but when I look at the Query Object, it doesn t seem to appear somewhere, 
> does someone know how is it implemented ?

Take a look at the PrefixQuery and WildcardQuery. 

PrefixQuery works by finding all terms beginning with the query then
constructing a boolean query of them. I assume WildcardQuery works in a
similar way.

If you have several terms or a short prefix (e.g. a*) you might need to
increase the maximum number of clauses allowed in a boolean query
because the number of terms might exceed the default (i.e. 1024).
 
-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12595-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 10:42:16 2005
Return-Path: <lucene-user-return-12595-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41479 invoked from network); 21 Jan 2005 10:42:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 10:42:16 -0000
Received: (qmail 35710 invoked by uid 500); 21 Jan 2005 10:42:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35684 invoked by uid 500); 21 Jan 2005 10:42:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35669 invoked by uid 99); 21 Jan 2005 10:42:09 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=FROM_ENDS_IN_NUMS,PLING_PLING,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of eric138@gmail.com designates 64.233.170.196 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 02:42:08 -0800
Received: by rproxy.gmail.com with SMTP id f1so31451rne
        for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 02:42:06 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=OmjL16sew/syQvzUmr4qH5luXo75LU2q5nhw3RHKhGKbO5UFvM2AlcalafDt88Ad8mwS1EPQqoVkruO/BwoOASKW0XFmaVeFk9bDmylOeE6QAZxEIBx0rBYlRQ+oXYQEGT34ge6BgXBnGluZ3ytop63ZkWUF/sfXlfEf0GTT60w=
Received: by 10.38.155.16 with SMTP id c16mr116551rne;
        Fri, 21 Jan 2005 02:42:06 -0800 (PST)
Received: by 10.38.12.59 with HTTP; Fri, 21 Jan 2005 02:42:06 -0800 (PST)
Message-ID: <f472e9a0050121024231e2e9fa@mail.gmail.com>
Date: Fri, 21 Jan 2005 18:42:06 +0800
From: Eric Chow <eric138@gmail.com>
Reply-To: Eric Chow <eric138@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Search Chinese in Unicode !!!
In-Reply-To: <C4928A86-6B94-11D9-91CD-000A95BC61B6@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
References: <f472e9a005012101498f36892@mail.gmail.com>
	 <C4928A86-6B94-11D9-91CD-000A95BC61B6@ehatchersolutions.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Search not really correct with UTF-8 !!!


The following is the search result that I used the SearchFiles in the
lucene demo.

d:\Downloads\Softwares\Apache\Lucene\lucene-1.4.3\src>java
org.apache.lucene.demo.SearchFiles c:\temp\myindex
Usage: java SearchFiles <idnex>
Query: =E7=B6=93
Searching for: g                                <<<<<<<<<<<<      strange ?=
?
3 total matching documents
0. ../docs/ChineseDemo.html            <<<<<<<<<<<<    this files contains =
the =E7=B6=93
   -
1. ../docs/luceneplan.html
   - Jakarta Lucene - Plan for enhancements to Lucene
2. ../docs/api/index-all.html
   - Index (Lucene 1.4.3 API)
Query:=20



>From the above result only the ChineseDemo.html includes the character
that I want to search !




The modified code in SearchFiles.java:


BufferedReader in =3D new BufferedReader(new
InputStreamReader(System.in, "UTF-8"));

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12596-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 10:47:04 2005
Return-Path: <lucene-user-return-12596-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44167 invoked from network); 21 Jan 2005 10:47:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 10:47:04 -0000
Received: (qmail 44264 invoked by uid 500); 21 Jan 2005 10:46:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44228 invoked by uid 500); 21 Jan 2005 10:46:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44198 invoked by uid 99); 21 Jan 2005 10:46:56 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web26003.mail.ukl.yahoo.com (HELO web26003.mail.ukl.yahoo.com) (217.12.10.214)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 21 Jan 2005 02:46:54 -0800
Received: (qmail 35897 invoked by uid 60001); 21 Jan 2005 10:46:51 -0000
Message-ID: <20050121104651.35895.qmail@web26003.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26003.mail.ukl.yahoo.com via HTTP; Fri, 21 Jan 2005 10:46:51 GMT
Date: Fri, 21 Jan 2005 10:46:51 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject:  Re: Newbie: Human Readable Stemming, Lucene Architecture, etc!
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>>1 - I'm a bit concerned that reasonable stemming
(Porter/Snowball) 
>>apparently produces non-word stems .. i.e. not
really human readable. 

It is possible to derive the human-readable form of a
stemmed term using either re-analysis of indexed
content or TermPositionVector. Either of these
techniques should give you the position data required
to discover the original form. 
The highlighter package is one example of where this
technique is used.

Cheers
Mark


	
	
		
___________________________________________________________ 
ALL-NEW Yahoo! Messenger - all new features - even more fun! http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12597-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 10:51:48 2005
Return-Path: <lucene-user-return-12597-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47835 invoked from network); 21 Jan 2005 10:51:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 10:51:47 -0000
Received: (qmail 52366 invoked by uid 500); 21 Jan 2005 10:51:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52339 invoked by uid 500); 21 Jan 2005 10:51:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52326 invoked by uid 99); 21 Jan 2005 10:51:38 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=PLING_PLING,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of petite.abeille@gmail.com designates 64.233.184.199 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.199)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 02:51:36 -0800
Received: by wproxy.gmail.com with SMTP id 50so88147wri
        for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 02:51:34 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=VlPYmSGi4NIBNbuOlsWeFY5DBxk/uPem+k0jIY/VTVMXUwhMKVLJ9++F/5D8FPt9VetwJWFbJ2jKwiiVNL5ppGKgIt6O/WIYKw7dWQpydM0FuW24o28iubPCgab5+MZoAPB/7pw8NGRA+YPvYHslvsuwgabw9DUE8LdY1kGDJk0=
Received: by 10.54.52.40 with SMTP id z40mr175932wrz;
        Fri, 21 Jan 2005 02:51:34 -0800 (PST)
Received: from ?10.0.1.19? ([84.226.109.15])
        by smtp.gmail.com with ESMTP id d8sm1591wra.2005.01.21.02.51.33;
        Fri, 21 Jan 2005 02:51:34 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <f472e9a0050121024231e2e9fa@mail.gmail.com>
References: <f472e9a005012101498f36892@mail.gmail.com> <C4928A86-6B94-11D9-91CD-000A95BC61B6@ehatchersolutions.com> <f472e9a0050121024231e2e9fa@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <777C3708-6B9A-11D9-8055-000393760B7E@gmail.com>
Content-Transfer-Encoding: 7bit
From: PA <petite.abeille@gmail.com>
Subject: Re: Search Chinese in Unicode !!!
Date: Fri, 21 Jan 2005 11:51:55 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 21, 2005, at 11:42, Eric Chow wrote:

> Search not really correct with UTF-8 !!!

Lucene works just fine with any flavor of Unicode as long as _your_ 
application knows how to consistently deal with Unicode as well. 
Remember: the world is not just one Big5 pile.

As far as Analyzer goes, you may or may not be better off using 
something more tailored to your linguistic needs. That said, even the 
default Analyzer does a fairly decent job at handling non-roman 
languages. YMMV.

Cheers

--
PA
http://alt.textdrive.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12598-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 13:56:24 2005
Return-Path: <lucene-user-return-12598-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29393 invoked from network); 21 Jan 2005 13:56:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 13:56:24 -0000
Received: (qmail 58593 invoked by uid 500); 21 Jan 2005 13:56:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58564 invoked by uid 500); 21 Jan 2005 13:56:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58551 invoked by uid 99); 21 Jan 2005 13:56:19 -0000
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=FORGED_MUA_IMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from hades.labone.com (HELO hades.labone.com) (198.70.194.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 05:56:17 -0800
Received: from smsrv.1.24.172.in-addr.arpa by hades.labone.com
          via smtpd (for hermes.apache.org [209.237.227.199]) with ESMTP; Fri, 21 Jan 2005 07:56:10 -0600
From: "Jerry Jalenak" <Jerry.Jalenak@LABONE.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Filtering w/ Multiple Terms
Date: Fri, 21 Jan 2005 07:55:49 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
X-WSS-ID: 6DEFD67933275636-01-01
Content-Type: text/plain;
 charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

OK.  But isn't there a limit on the number of BooleanQueries that can be
combined with AND / OR / etc?



Jerry Jalenak
Senior Programmer / Analyst, Web Publishing
LabOne, Inc.
10101 Renner Blvd.
Lenexa, KS  66219
(913) 577-1496

jerry.jalenak@labone.com


> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Thursday, January 20, 2005 5:05 PM
> To: Lucene Users List
> Subject: Re: Filtering w/ Multiple Terms
> 
> 
> 
> On Jan 20, 2005, at 5:02 PM, Jerry Jalenak wrote:
> 
> > In looking at the examples for filtering of hits, it looks 
> like I can 
> > only
> > specify a single term; i.e.
> >
> > 	Filter f = new QueryFilter(new TermQuery(new Term("acct",
> > "acct1")));
> >
> > I need to specify more than one term in my filter.  Short of using 
> > something
> > like ChainFilter, how are others handling this?
> 
> You can make as complex of a Query as you want for 
> QueryFilter.  If you 
> want to filter on multiple terms, construct a BooleanQuery 
> with nested 
> TermQuery's, either in an AND or OR fashion.
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 

This transmission (and any information attached to it) may be confidential and
is intended solely for the use of the individual or entity to which it is
addressed. If you are not the intended recipient or the person responsible for
delivering the transmission to the intended recipient, be advised that you
have received this transmission in error and that any use, dissemination,
forwarding, printing, or copying of this information is strictly prohibited.
If you have received this transmission in error, please immediately notify
LabOne at the following email address: securityincidentreporting@labone.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12599-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 14:01:56 2005
Return-Path: <lucene-user-return-12599-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31683 invoked from network); 21 Jan 2005 14:01:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 14:01:55 -0000
Received: (qmail 69069 invoked by uid 500); 21 Jan 2005 14:01:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69043 invoked by uid 500); 21 Jan 2005 14:01:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69019 invoked by uid 99); 21 Jan 2005 14:01:49 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=FORGED_RCVD_HELO,HTML_MESSAGE,HTML_TEXT_AFTER_BODY,HTML_TEXT_AFTER_HTML
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ip-64-32-221-50.dsl.iad.megapath.net (HELO mail.lou.emergint.com) (64.32.221.50)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 06:01:48 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C4FFC1.BD93F60D"
Subject: Stemming
Date: Fri, 21 Jan 2005 09:01:44 -0500
Message-ID: <8D7DE0C84F1D5149894354E754E6807E332690@mail.lou.emergint.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Stemming
Thread-Index: AcT/wb9XQcVs/lSWTFWJ4EajmuePjw==
From: "Kevin L. Cobb" <kevin.cobb@emergint.com>
To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C4FFC1.BD93F60D
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I want to understand how Lucene uses stemming but can't find any
documentation on the Lucene site. I'll continue to google but hope that
this list can help narrow my search. I have several questions on the
subject currently but hesitate to list them here since finding a good
document on the subject may answer most of them.=20

=20

Thanks in advance for any pointers,

=20

Kevin

=20

=20


------_=_NextPart_001_01C4FFC1.BD93F60D--

From lucene-user-return-12600-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 14:12:24 2005
Return-Path: <lucene-user-return-12600-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37378 invoked from network); 21 Jan 2005 14:12:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 14:12:24 -0000
Received: (qmail 87906 invoked by uid 500); 21 Jan 2005 14:12:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87877 invoked by uid 500); 21 Jan 2005 14:12:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87862 invoked by uid 99); 21 Jan 2005 14:12:17 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30203.mail.mud.yahoo.com (HELO web30203.mail.mud.yahoo.com) (68.142.200.86)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 21 Jan 2005 06:12:16 -0800
Received: (qmail 6883 invoked by uid 60001); 21 Jan 2005 14:12:14 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=SxseOdVALlnBc5pwRisof2f4S4fGrWkyAmrjNH9Whqwqb/pUMP/QS9KnBaaKR0mcrSRiFLhytPPQ4L1MfHvsewUeQwtGiLrinlUOLjSPrEX9gMDye86bQ12EzkTkN30kP9NFEITD9wVsNuTJPDg7LWcSEWTAQYpZF4n6uZ88Qe0=  ;
Message-ID: <20050121141213.6881.qmail@web30203.mail.mud.yahoo.com>
Received: from [69.201.139.168] by web30203.mail.mud.yahoo.com via HTTP; Fri, 21 Jan 2005 06:12:13 PST
Date: Fri, 21 Jan 2005 06:12:13 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Stemming
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <8D7DE0C84F1D5149894354E754E6807E332690@mail.lou.emergint.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Kevin,

Stemming is an optional operation and is done in the analysis step. 
Lucene comes with a Porter stemmer and a Filter that you can use in an
Analyzer:

./src/java/org/apache/lucene/analysis/PorterStemFilter.java
./src/java/org/apache/lucene/analysis/PorterStemmer.java

You can find more about it here:
http://www.lucenebook.com/search?query=stemming
You can also see mentions of SnowballAnalyzer in those search results,
and you can find an adapter for SnowballAnalyzers in Lucene Sandbox.

Otis

--- "Kevin L. Cobb" <kevin.cobb@emergint.com> wrote:

> I want to understand how Lucene uses stemming but can't find any
> documentation on the Lucene site. I'll continue to google but hope
> that
> this list can help narrow my search. I have several questions on the
> subject currently but hesitate to list them here since finding a good
> document on the subject may answer most of them. 
> 
>  
> 
> Thanks in advance for any pointers,
> 
>  
> 
> Kevin
> 
>  
> 
>  
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12601-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 14:15:25 2005
Return-Path: <lucene-user-return-12601-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47980 invoked from network); 21 Jan 2005 14:15:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 14:15:24 -0000
Received: (qmail 95817 invoked by uid 500); 21 Jan 2005 14:15:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95775 invoked by uid 500); 21 Jan 2005 14:15:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95752 invoked by uid 99); 21 Jan 2005 14:15:14 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30208.mail.mud.yahoo.com (HELO web30208.mail.mud.yahoo.com) (68.142.200.91)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 21 Jan 2005 06:15:13 -0800
Received: (qmail 34705 invoked by uid 60001); 21 Jan 2005 14:15:10 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=yMGqqsKHVZvTyg/Bt0TqoTkYw5yaIt3HPclOawQUGhv0juWQCXfBbj5kOglZ2jZrIzk+1lGpgRoq0rl8GQ59wmzW001Fc6bdt9MGlJH3YannDvIn0xeV5ubbjrtvoNXSQbDsQyeP0b9zRVPywkJFKPcUOYlhdg1qqNuxrZObs+s=  ;
Message-ID: <20050121141510.34696.qmail@web30208.mail.mud.yahoo.com>
Received: from [69.201.139.168] by web30208.mail.mud.yahoo.com via HTTP; Fri, 21 Jan 2005 06:15:09 PST
Date: Fri, 21 Jan 2005 06:15:09 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Filtering w/ Multiple Terms
To: Lucene Users List <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This:
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/BooleanQuery.TooManyClauses.html
?

You can control that limit via
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/BooleanQuery.html#maxClauseCount

Otis


--- Jerry Jalenak <Jerry.Jalenak@LABONE.com> wrote:

> OK.  But isn't there a limit on the number of BooleanQueries that can
> be
> combined with AND / OR / etc?
> 
> 
> 
> Jerry Jalenak
> Senior Programmer / Analyst, Web Publishing
> LabOne, Inc.
> 10101 Renner Blvd.
> Lenexa, KS  66219
> (913) 577-1496
> 
> jerry.jalenak@labone.com
> 
> 
> > -----Original Message-----
> > From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> > Sent: Thursday, January 20, 2005 5:05 PM
> > To: Lucene Users List
> > Subject: Re: Filtering w/ Multiple Terms
> > 
> > 
> > 
> > On Jan 20, 2005, at 5:02 PM, Jerry Jalenak wrote:
> > 
> > > In looking at the examples for filtering of hits, it looks 
> > like I can 
> > > only
> > > specify a single term; i.e.
> > >
> > > 	Filter f = new QueryFilter(new TermQuery(new Term("acct",
> > > "acct1")));
> > >
> > > I need to specify more than one term in my filter.  Short of
> using 
> > > something
> > > like ChainFilter, how are others handling this?
> > 
> > You can make as complex of a Query as you want for 
> > QueryFilter.  If you 
> > want to filter on multiple terms, construct a BooleanQuery 
> > with nested 
> > TermQuery's, either in an AND or OR fashion.
> > 
> > 	Erik
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> > 
> 
> This transmission (and any information attached to it) may be
> confidential and
> is intended solely for the use of the individual or entity to which
> it is
> addressed. If you are not the intended recipient or the person
> responsible for
> delivering the transmission to the intended recipient, be advised
> that you
> have received this transmission in error and that any use,
> dissemination,
> forwarding, printing, or copying of this information is strictly
> prohibited.
> If you have received this transmission in error, please immediately
> notify
> LabOne at the following email address:
> securityincidentreporting@labone.com
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12602-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 14:19:12 2005
Return-Path: <lucene-user-return-12602-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49879 invoked from network); 21 Jan 2005 14:19:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 14:19:11 -0000
Received: (qmail 7507 invoked by uid 500); 21 Jan 2005 14:19:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7485 invoked by uid 500); 21 Jan 2005 14:19:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7471 invoked by uid 99); 21 Jan 2005 14:19:05 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30204.mail.mud.yahoo.com (HELO web30204.mail.mud.yahoo.com) (68.142.200.87)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 21 Jan 2005 06:19:04 -0800
Received: (qmail 21155 invoked by uid 60001); 21 Jan 2005 14:19:02 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=GHxc41GJx/tdpAJ+uR/BKxVyninJT8b2LsEx1g8pj4FqN25bVskdHf+C10Tz2XyI82kJxtzBrUxARXRHo6y5LjFSd17/m+N2F1YVRrTuxc4etsHCNXFBFQ+2dCUnprfrPuMbHEYm9gMydpHgrIM/0HgOZ4EOdZTeFi6bJaAyMsY=  ;
Message-ID: <20050121141902.21153.qmail@web30204.mail.mud.yahoo.com>
Received: from [69.201.139.168] by web30204.mail.mud.yahoo.com via HTTP; Fri, 21 Jan 2005 06:19:01 PST
Date: Fri, 21 Jan 2005 06:19:01 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Suggestion needed for extranet search
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20050121062933.61221.qmail@web53001.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Ranjan,

It sounds like you are should look at and use Nutch:
http://www.nutch.org

Otis

--- "Ranjan K. Baisak" <ranjanbaisak@yahoo.com> wrote:

> I am planning to move to Lucene but not have much
> knowledge on the same. The search engine which I had
> developed is searching some extranet URLs e.g.
> codeguru.com/index.html. Is is possible to get the
> same functionality using Lucene. So basically can I
> make Lucene as a search engine to search extranets.
> 
> regards,
> Ranjan
> 
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around 
> http://mail.yahoo.com 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12603-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 14:21:32 2005
Return-Path: <lucene-user-return-12603-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57407 invoked from network); 21 Jan 2005 14:21:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 14:21:32 -0000
Received: (qmail 12018 invoked by uid 500); 21 Jan 2005 14:21:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11997 invoked by uid 500); 21 Jan 2005 14:21:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11979 invoked by uid 99); 21 Jan 2005 14:21:25 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DATE_IN_FUTURE_03_06,FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from relay.fis.ru (HELO mail.office.fis.ru) (212.20.24.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 06:21:24 -0800
Received: by mail.office.fis.ru (Postfix, from userid 1007)
	id D434B8B5EE; Fri, 21 Jan 2005 20:26:29 +0600 (NOVT)
Received: from develop.fis.ru (dev.fis.ru [212.20.24.39])
	by mail.office.fis.ru (Postfix) with ESMTP id 659358B41C
	for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 20:26:29 +0600 (NOVT)
From: Simeon Koptelov <skoptelov@fis.ru>
Organization: FIS
To: lucene-user@jakarta.apache.org
Subject: Search on heterogenous index
Date: Fri, 21 Jan 2005 20:17:30 +0000
User-Agent: KMail/1.7
MIME-Version: 1.0
Content-Type: text/plain;
  charset="koi8-r"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200501212017.30261.skoptelov@fis.ru>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello all. I'm new to lucene and think about using it in my project.

I have prices with dynamic structure, containing wares there, about 10K prices 
with total 500K wares. Each price has about 5 text fields. 

I'll do searches on wares. The difficult part is that I'll do searches for all 
wares, the search is not bound to a particular price structure.

My question is, how should I organize my indices? Can Lucene handle data 
effectlively if I'll have one index containing different Fields in Documents? 
Or should I create a separate index for each price with same Fields structure 
across Documents?

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12604-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 14:22:35 2005
Return-Path: <lucene-user-return-12604-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58051 invoked from network); 21 Jan 2005 14:22:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 14:22:35 -0000
Received: (qmail 15572 invoked by uid 500); 21 Jan 2005 14:22:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15540 invoked by uid 500); 21 Jan 2005 14:22:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15519 invoked by uid 99); 21 Jan 2005 14:22:27 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web53009.mail.yahoo.com (HELO web53009.mail.yahoo.com) (206.190.39.199)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 21 Jan 2005 06:22:25 -0800
Received: (qmail 23021 invoked by uid 60001); 21 Jan 2005 14:22:23 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=MpQlhlB3JxEADz8OLiL2oqBmhE7g/SXwGVQX6IFAzDa0AN7qAAUWM2QL5riInnFVIzYSd3/azI4Y8ogHYqotthsQQV6+ndDLTkEyM3YylJ6fgOrsr9+xwv5eiyZ6kocUPBBBTkgQsY0EUIpxavxQMd36NrUsDpd3edJ53X9kXKg=  ;
Message-ID: <20050121142223.23019.qmail@web53009.mail.yahoo.com>
Received: from [192.94.34.2] by web53009.mail.yahoo.com via HTTP; Fri, 21 Jan 2005 06:22:23 PST
Date: Fri, 21 Jan 2005 06:22:23 -0800 (PST)
From: "Ranjan K. Baisak" <ranjanbaisak@yahoo.com>
Subject: Re: Suggestion needed for extranet search
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20050121141902.21153.qmail@web30204.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis,
    Thanks for your help. Is nutch a freeware tool?

regards,
Ranjan
--- Otis Gospodnetic <otis_gospodnetic@yahoo.com>
wrote:

> Hi Ranjan,
> 
> It sounds like you are should look at and use Nutch:
> http://www.nutch.org
> 
> Otis
> 
> --- "Ranjan K. Baisak" <ranjanbaisak@yahoo.com>
> wrote:
> 
> > I am planning to move to Lucene but not have much
> > knowledge on the same. The search engine which I
> had
> > developed is searching some extranet URLs e.g.
> > codeguru.com/index.html. Is is possible to get the
> > same functionality using Lucene. So basically can
> I
> > make Lucene as a search engine to search
> extranets.
> > 
> > regards,
> > Ranjan
> > 
> > __________________________________________________
> > Do You Yahoo!?
> > Tired of spam?  Yahoo! Mail has the best spam
> protection around 
> > http://mail.yahoo.com 
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> > 
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> 



		
__________________________________ 
Do you Yahoo!? 
The all-new My Yahoo! - What will yours do?
http://my.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12605-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 14:27:52 2005
Return-Path: <lucene-user-return-12605-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60237 invoked from network); 21 Jan 2005 14:27:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 14:27:52 -0000
Received: (qmail 30908 invoked by uid 500); 21 Jan 2005 14:27:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30869 invoked by uid 500); 21 Jan 2005 14:27:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30849 invoked by uid 99); 21 Jan 2005 14:27:45 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ip-64-32-221-50.dsl.iad.megapath.net (HELO mail.lou.emergint.com) (64.32.221.50)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 06:27:44 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Stemming
Date: Fri, 21 Jan 2005 09:27:42 -0500
Message-ID: <8D7DE0C84F1D5149894354E754E6807E332691@mail.lou.emergint.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Stemming
Thread-Index: AcT/wzk9hIXT2XL6Suqc+fByWiHQ3AAAOBsg
From: "Kevin L. Cobb" <kevin.cobb@emergint.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

OK, OK ... I'll buy the book. I guess its about time since I am deeply
and forever in love with Lucene. Might as well take the final plunge.



-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
Sent: Friday, January 21, 2005 9:12 AM
To: Lucene Users List
Subject: Re: Stemming

Hi Kevin,

Stemming is an optional operation and is done in the analysis step.=20
Lucene comes with a Porter stemmer and a Filter that you can use in an
Analyzer:

./src/java/org/apache/lucene/analysis/PorterStemFilter.java
./src/java/org/apache/lucene/analysis/PorterStemmer.java

You can find more about it here:
http://www.lucenebook.com/search?query=3Dstemming
You can also see mentions of SnowballAnalyzer in those search results,
and you can find an adapter for SnowballAnalyzers in Lucene Sandbox.

Otis

--- "Kevin L. Cobb" <kevin.cobb@emergint.com> wrote:

> I want to understand how Lucene uses stemming but can't find any
> documentation on the Lucene site. I'll continue to google but hope
> that
> this list can help narrow my search. I have several questions on the
> subject currently but hesitate to list them here since finding a good
> document on the subject may answer most of them.=20
>=20
> =20
>=20
> Thanks in advance for any pointers,
>=20
> =20
>=20
> Kevin
>=20
> =20
>=20
> =20
>=20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12606-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 14:53:06 2005
Return-Path: <lucene-user-return-12606-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74362 invoked from network); 21 Jan 2005 14:53:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 14:53:06 -0000
Received: (qmail 92214 invoked by uid 500); 21 Jan 2005 14:53:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92190 invoked by uid 500); 21 Jan 2005 14:52:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92177 invoked by uid 99); 21 Jan 2005 14:52:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail2.mindbridge.com) (206.135.58.98)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 06:52:58 -0800
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail2.mindbridge.com (Postfix) with ESMTP id 174FE1C495
	for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 10:12:40 -0500 (EST)
Received: from mail2.mindbridge.com ([127.0.0.1])
 by localhost (nym [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 15486-06 for <lucene-user@jakarta.apache.org>;
 Fri, 21 Jan 2005 10:12:37 -0500 (EST)
Received: from suse92.mindbridge.com (unknown [192.168.45.109])
	by mail2.mindbridge.com (Postfix) with ESMTP id 4D5F91C49F
	for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 10:12:37 -0500 (EST)
From: Ashley Steigerwalt <asteigerwalt@mindbridge.com>
Reply-To: asteigerwalt@mindbridge.com
To: lucene-user@jakarta.apache.org
Subject: Concurrent read and write
Date: Fri, 21 Jan 2005 09:57:22 -0500
User-Agent: KMail/1.7.1
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200501210957.22828.asteigerwalt@mindbridge.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am a little fuzzy on the thread-safeness of Lucene, or maybe just java. =
=20
=46rom what I understand, and correct me if I'm wrong, Lucene takes care of=
=20
concurrency issues and it is ok to run a query while writing to an index.

My question is, does this still hold true if the reader and writer are bein=
g=20
executed as separate programs?  I have a cron job that will update the inde=
x=20
periodically.  I also have a search application on a web form.  Is this goi=
ng=20
to cause trouble if someone runs a query while the indexer is updating?

Ashley

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12607-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 14:56:12 2005
Return-Path: <lucene-user-return-12607-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76220 invoked from network); 21 Jan 2005 14:56:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 14:56:11 -0000
Received: (qmail 4232 invoked by uid 500); 21 Jan 2005 14:56:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4200 invoked by uid 500); 21 Jan 2005 14:56:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4173 invoked by uid 99); 21 Jan 2005 14:56:01 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web50202.mail.yahoo.com (HELO web50202.mail.yahoo.com) (206.190.38.43)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 21 Jan 2005 06:56:00 -0800
Received: (qmail 55862 invoked by uid 60001); 21 Jan 2005 14:55:57 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=Wy6hduzbO7kCC9mqqWhHIwGCTKjvw1eb8Z3ICWHKRtUPqHlionCjXbynpGHYLK2zNyNE0BgGFkxMDVtO9So26PlvghzTRBhbzsQqS+vRYxQOJi83t5PnPaWFjlbBlTIgqp18inR2Rzzpw7fJyqzBw6i0BDKoNliWeiG7cZ9sUU0=  ;
Message-ID: <20050121145557.55860.qmail@web50202.mail.yahoo.com>
Received: from [24.37.192.190] by web50202.mail.yahoo.com via HTTP; Fri, 21 Jan 2005 06:55:57 PST
Date: Fri, 21 Jan 2005 06:55:57 -0800 (PST)
From: Oscar Picasso <oscgoogle@yahoo.com>
Subject: Re: Closed IndexWriter reuse
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20050121062212.54836.qmail@web30208.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--- Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:

> No, you can't add documents to an index once you close the IndexWriter.
> You can re-open the IndexWriter and add more documents, of course.
> 
> Otis

That's what I expected at first, but:
1- It's a disappointment, because such a 'feature' would have made IndexeWriter
management much easier. You would open an IndexWriter at startup and reuse it
during all the life of the application, just flushing on a regular base using
the close() method and without worrying if other objects are currently using
the writer.

2- When you say you can't add, do you mean it's impossible or that you
shouldn't because for example it could corrupt the index?
Maybe I'm wrong, but I think it's possible. Let's look at the follwoing code:
"


public static void main(String[] args) throws IOException
{
	final IndexWriter writer1 = new IndexWriter("/tmp/test-reuse", new
StandardAnalyzer(), true);

	// First write with the writer
	Document doc = new Document();
	doc.add(new Field("name", "John", Field.Store.YES, Field.Index.UN_TOKENIZED));
	writer1.addDocument(doc);
	System.out.println("1 ---- After first write, before closing the writer ---");
	Searcher searcher = new IndexSearcher("/tmp/test-reuse");
	Query query = new TermQuery(new Term("name", "John"));
	Hits hits = searcher.search(query);
	System.out.println("===> hits: " + hits.length());
	System.out.println();

	// CLOSING THE WRITER ONCE
	writer1.close();
	System.out.println("2 ---- After first write, after closing the writer ---");
	searcher = new IndexSearcher("/tmp/test-reuse");
	hits = searcher.search(query);
	System.out.println("===> hits: " + hits.length());
	System.out.println();
	
	// Second write, THE WRITER HAS ALREADY BEEN CLOSED ONCE
	writer1.addDocument(doc);
	System.out.println("3 ---- After second write, the writer has been closed once
---");
	hits = searcher.search(query);
	System.out.println("===> hits: " + hits.length());
	System.out.println();

	// Closing the writer again
	writer1.close();
	System.out.println("4 ---- After second write, the writer has been closed
twice ---");
	searcher = new IndexSearcher("/tmp/test-reuse");
	hits = searcher.search(query);
	System.out.println("===> hits: " + hits.length());
	
}

== Results ==
1 ---- After first write, before closing the writer ---
===> hits: 0

2 ---- After first write, after closing the writer ---
===> hits: 1

3 ---- After second write, the writer has been closed once ---
===> hits: 1

4 ---- After second write, the writer has been closed twice ---
===> hits: 2


As your can see, not only does the code above execute without complain but it
also gives the right results.

Thanks for your comments.


		
__________________________________ 
Do you Yahoo!? 
Yahoo! Mail - Easier than ever with enhanced search. Learn more.
http://info.mail.yahoo.com/mail_250

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12608-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 15:10:52 2005
Return-Path: <lucene-user-return-12608-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85884 invoked from network); 21 Jan 2005 15:10:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 15:10:52 -0000
Received: (qmail 49984 invoked by uid 500); 21 Jan 2005 15:10:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49958 invoked by uid 500); 21 Jan 2005 15:10:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49945 invoked by uid 99); 21 Jan 2005 15:10:45 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of nicclas@gmail.com designates 64.233.170.196 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 07:10:44 -0800
Received: by rproxy.gmail.com with SMTP id z35so118145rne
        for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 07:10:42 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=qkQyRMJHGg800Myom070Crg6N0OajwXMNST47ti7tmEVgOve9euwC9jJUr+D/VmHbvuWMPfWmEXKZoTVF0cUkUIUdBdsgAdCVwIl4cfCKGzDgb9YmVGVCjsC8R+CEgzkxk5oIerS7G6lMt+j4xJzLI25leF7gq0wcPD1vDxXz/k=
Received: by 10.39.3.61 with SMTP id f61mr148349rni;
        Fri, 21 Jan 2005 07:10:41 -0800 (PST)
Received: by 10.38.163.39 with HTTP; Fri, 21 Jan 2005 07:10:41 -0800 (PST)
Message-ID: <6bf9d694050121071049cec02d@mail.gmail.com>
Date: Fri, 21 Jan 2005 16:10:41 +0100
From: Clas Rydergren <nicclas@gmail.com>
Reply-To: Clas Rydergren <nicclas@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>, 
	asteigerwalt@mindbridge.com
Subject: Re: Concurrent read and write
In-Reply-To: <200501210957.22828.asteigerwalt@mindbridge.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <200501210957.22828.asteigerwalt@mindbridge.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

My limited experience shows that reading/searching in a servlet at the
"same" time as writing to the index from an application (e.g. by a
scheduled script) works very well.

The only thing that has caused me problems is applications (e.g. cron
started) writing to the index that "crash" while the write-lock is in
effect. (The "crash" is in my case often cause by bad socket
programming, and has nothing to do with Lucene.) The following
scheduled applications will then, of cause, not be able to update the
index.

cheers
Clas / frisim.com


On Fri, 21 Jan 2005 09:57:22 -0500, Ashley Steigerwalt
<asteigerwalt@mindbridge.com> wrote:
> I am a little fuzzy on the thread-safeness of Lucene, or maybe just java.
> From what I understand, and correct me if I'm wrong, Lucene takes care of
> concurrency issues and it is ok to run a query while writing to an index.
> 
> My question is, does this still hold true if the reader and writer are being
> executed as separate programs?  I have a cron job that will update the index
> periodically.  I also have a search application on a web form.  Is this going
> to cause trouble if someone runs a query while the indexer is updating?
> 
> Ashley
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12609-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 16:20:25 2005
Return-Path: <lucene-user-return-12609-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20641 invoked from network); 21 Jan 2005 16:20:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 16:20:25 -0000
Received: (qmail 30137 invoked by uid 500); 21 Jan 2005 16:20:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30110 invoked by uid 500); 21 Jan 2005 16:20:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30094 invoked by uid 99); 21 Jan 2005 16:20:17 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30208.mail.mud.yahoo.com (HELO web30208.mail.mud.yahoo.com) (68.142.200.91)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 21 Jan 2005 08:20:15 -0800
Received: (qmail 101 invoked by uid 60001); 21 Jan 2005 16:20:13 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=zBSV9sAJaeOQgvoEB+O/YeF+tTOaiALUnXUoPQDDEitInRrAwvidkeG46PnTf1NnZ5icSiKJsi6pQN0QUEXD+3PUSX3YNZ8wev3sVAegYvZ7w0d74laHm0kibLRLrtQ/X7+Nw7ftmSPOwuhj5ZBCSs/RG4XWjTneovSfs+1zxuU=  ;
Message-ID: <20050121162013.99998.qmail@web30208.mail.mud.yahoo.com>
Received: from [216.194.17.194] by web30208.mail.mud.yahoo.com via HTTP; Fri, 21 Jan 2005 08:20:12 PST
Date: Fri, 21 Jan 2005 08:20:12 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Concurrent read and write
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  asteigerwalt@mindbridge.com
In-Reply-To: <200501210957.22828.asteigerwalt@mindbridge.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello Ashley,

You can read/search while modifying the index, but you have to ensure
only one thread or only one process is modifying an index at any given
time.  Both IndexReader and IndexWriter can be used to modify an index.
 The former to delete Documents and the latter to add them.  You have
to ensure these two operations don't overlap.
c.f. http://www.lucenebook.com/search?query=concurrent

Otis


--- Ashley Steigerwalt <asteigerwalt@mindbridge.com> wrote:

> I am a little fuzzy on the thread-safeness of Lucene, or maybe just
> java.  
> From what I understand, and correct me if I'm wrong, Lucene takes
> care of 
> concurrency issues and it is ok to run a query while writing to an
> index.
> 
> My question is, does this still hold true if the reader and writer
> are being 
> executed as separate programs?  I have a cron job that will update
> the index 
> periodically.  I also have a search application on a web form.  Is
> this going 
> to cause trouble if someone runs a query while the indexer is
> updating?
> 
> Ashley
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12610-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 16:36:32 2005
Return-Path: <lucene-user-return-12610-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27930 invoked from network); 21 Jan 2005 16:36:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 16:36:31 -0000
Received: (qmail 73809 invoked by uid 500); 21 Jan 2005 16:36:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73736 invoked by uid 500); 21 Jan 2005 16:36:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73685 invoked by uid 99); 21 Jan 2005 16:36:22 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of Ali.Safarnejad@fao.org designates 168.202.2.12 as permitted sender)
Received: from pmdfint.fao.org (HELO smtpmail.fao.org) (168.202.2.12)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 08:36:21 -0800
Received: from CONVERSION-DAEMON.smtpmail.fao.org by smtpmail.fao.org
 (PMDF V6.2-X17 #30673) id <0IAO00C01E3PCB@smtpmail.fao.org> for
 lucene-user@jakarta.apache.org; Fri, 21 Jan 2005 17:35:49 +0100 (MET)
Received: from hqfaoex02.hq.un.fao.org (hqfaoex02.fao.org [168.202.2.80])
 by smtpmail.fao.org (PMDF V6.2-X17 #30673)
 with ESMTP id <0IAO00AFWE3PEA@smtpmail.fao.org>; Fri,
 21 Jan 2005 17:35:49 +0100 (MET)
Received: from hqafex01.hq.un.fao.org ([168.202.2.52])
 by hqfaoex02.hq.un.fao.org with Microsoft SMTPSVC(5.0.2195.6713); Fri,
 21 Jan 2005 17:36:17 +0100
Date: Fri, 21 Jan 2005 17:36:17 +0100
From: "Safarnejad, Ali (AFIS)" <Ali.Safarnejad@fao.org>
Subject: RE: Search Chinese in Unicode !!!
To: Lucene Users List <lucene-user@jakarta.apache.org>,
 Eric Chow <eric138@gmail.com>
Message-id: <B978AA198CB86D488F88454BE7CA796C18ABB0@hqafex01.fao.org>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6487.1
Content-type: text/plain; charset=iso-2022-jp
Content-transfer-encoding: 7BIT
Thread-Topic: Search Chinese in Unicode !!!
Thread-Index: AcT/pqQiIbzLkjjQR9mA83O4XPIGWAALf7Dw
content-class: urn:content-classes:message
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
X-OriginalArrivalTime: 21 Jan 2005 16:36:17.0618 (UTC)
 FILETIME=[54A22320:01C4FFD7]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've written a Chinese Analyzer for Lucene that uses a segmenter written by
Erik Peterson. However, as the author of the segmenter does not want his code
released under apache open source license (although his code _is_
opensource), I cannot place my work in the Lucene Sandbox.  This is
unfortunate, because I believe the analyzer works quite well in indexing and
searching chinese docs in GB2312 and UTF-8 encoding, and I like more people
to test, use, and confirm this.  So anyone who wants it, can have it. Just
shoot me an email.
BTW, I also have written an arabic analyzer, which is collecting dust for
similar reasons.
Good luck,

Ali Safarnejad


-----Original Message-----
From: Eric Chow [mailto:eric138@gmail.com] 
Sent: 21 January 2005 11:42
To: Lucene Users List
Subject: Re: Search Chinese in Unicode !!!


Search not really correct with UTF-8 !!!


The following is the search result that I used the SearchFiles in the lucene
demo.

d:\Downloads\Softwares\Apache\Lucene\lucene-1.4.3\src>java
org.apache.lucene.demo.SearchFiles c:\temp\myindex
Usage: java SearchFiles <idnex>
Query: $Be4(J
Searching for: g                                <<<<<<<<<<<<      strange ??
3 total matching documents
0. ../docs/ChineseDemo.html            <<<<<<<<<<<<    this files contains
the $Be4(J
   -
1. ../docs/luceneplan.html
   - Jakarta Lucene - Plan for enhancements to Lucene
2. ../docs/api/index-all.html
   - Index (Lucene 1.4.3 API)
Query: 



>From the above result only the ChineseDemo.html includes the character that I
want to search !




The modified code in SearchFiles.java:


BufferedReader in = new BufferedReader(new InputStreamReader(System.in,
"UTF-8"));

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12611-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 16:37:23 2005
Return-Path: <lucene-user-return-12611-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28306 invoked from network); 21 Jan 2005 16:37:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 16:37:22 -0000
Received: (qmail 77839 invoked by uid 500); 21 Jan 2005 16:37:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77784 invoked by uid 500); 21 Jan 2005 16:37:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77769 invoked by uid 99); 21 Jan 2005 16:37:16 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30204.mail.mud.yahoo.com (HELO web30204.mail.mud.yahoo.com) (68.142.200.87)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 21 Jan 2005 08:37:14 -0800
Received: (qmail 94321 invoked by uid 60001); 21 Jan 2005 16:37:12 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=qEC+Nbw5cLsBsnFYeAYj22E7xhzxShaz5vb79Ce8reYfaD6D1MjB1cHgNR3kKUIpPmk0pXQRYU4RTqiY1nV7/p5OQ4IIDxgDdrTHtrFeuQMPgF2Izl48hKCXm9UKX1Y0detQLeFXQP40fhgRV3WRiaY7bl2C4nwWJYJheYut4ok=  ;
Message-ID: <20050121163712.94319.qmail@web30204.mail.mud.yahoo.com>
Received: from [216.194.17.194] by web30204.mail.mud.yahoo.com via HTTP; Fri, 21 Jan 2005 08:37:12 PST
Date: Fri, 21 Jan 2005 08:37:12 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Suggestion needed for extranet search
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20050121142223.23019.qmail@web53009.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Free as in orange juice.

Otis

--- "Ranjan K. Baisak" <ranjanbaisak@yahoo.com> wrote:

> Otis,
>     Thanks for your help. Is nutch a freeware tool?
> 
> regards,
> Ranjan
> --- Otis Gospodnetic <otis_gospodnetic@yahoo.com>
> wrote:
> 
> > Hi Ranjan,
> > 
> > It sounds like you are should look at and use Nutch:
> > http://www.nutch.org
> > 
> > Otis
> > 
> > --- "Ranjan K. Baisak" <ranjanbaisak@yahoo.com>
> > wrote:
> > 
> > > I am planning to move to Lucene but not have much
> > > knowledge on the same. The search engine which I
> > had
> > > developed is searching some extranet URLs e.g.
> > > codeguru.com/index.html. Is is possible to get the
> > > same functionality using Lucene. So basically can
> > I
> > > make Lucene as a search engine to search
> > extranets.
> > > 
> > > regards,
> > > Ranjan
> > > 
> > > __________________________________________________
> > > Do You Yahoo!?
> > > Tired of spam?  Yahoo! Mail has the best spam
> > protection around 
> > > http://mail.yahoo.com 
> > > 
> > >
> >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > > 
> > > 
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > 
> > 
> 
> 
> 
> 		
> __________________________________ 
> Do you Yahoo!? 
> The all-new My Yahoo! - What will yours do?
> http://my.yahoo.com 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12612-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 16:40:15 2005
Return-Path: <lucene-user-return-12612-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29805 invoked from network); 21 Jan 2005 16:40:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 16:40:15 -0000
Received: (qmail 85823 invoked by uid 500); 21 Jan 2005 16:39:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85777 invoked by uid 500); 21 Jan 2005 16:39:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85743 invoked by uid 99); 21 Jan 2005 16:39:49 -0000
X-ASF-Spam-Status: No, hits=3.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD,PLING_PLING
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30205.mail.mud.yahoo.com (HELO web30205.mail.mud.yahoo.com) (68.142.200.88)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 21 Jan 2005 08:39:48 -0800
Received: (qmail 69702 invoked by uid 60001); 21 Jan 2005 16:39:46 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=x/KupXt0QweQmr0Cm4tZJdzW6+4c4z7ID6dlM/dWjEcc+J/cgKq2MJkS0WuDRW1TP3q4l1boq9V8ZLdqEA/aLn4M9iI2Xt0TawRtRVq8ovRF+VMXvTJAxE/cXS/91a0MZCNcyQKShAuL6KBP80HQdE0XP/fM6bjMZeOeRJexgqU=  ;
Message-ID: <20050121163946.69696.qmail@web30205.mail.mud.yahoo.com>
Received: from [216.194.17.194] by web30205.mail.mud.yahoo.com via HTTP; Fri, 21 Jan 2005 08:39:46 PST
Date: Fri, 21 Jan 2005 08:39:46 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Search Chinese in Unicode !!!
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <B978AA198CB86D488F88454BE7CA796C18ABB0@hqafex01.fao.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If you are hosting the code somewhere (e.g. your site, SF, java.net,
etc.), we should link to them from one of the Lucene pages where we
link to related external tools, apps, and such.

Otis


--- "Safarnejad, Ali (AFIS)" <Ali.Safarnejad@fao.org> wrote:

> I've written a Chinese Analyzer for Lucene that uses a segmenter
> written by
> Erik Peterson. However, as the author of the segmenter does not want
> his code
> released under apache open source license (although his code _is_
> opensource), I cannot place my work in the Lucene Sandbox.  This is
> unfortunate, because I believe the analyzer works quite well in
> indexing and
> searching chinese docs in GB2312 and UTF-8 encoding, and I like more
> people
> to test, use, and confirm this.  So anyone who wants it, can have it.
> Just
> shoot me an email.
> BTW, I also have written an arabic analyzer, which is collecting dust
> for
> similar reasons.
> Good luck,
> 
> Ali Safarnejad
> 
> 
> -----Original Message-----
> From: Eric Chow [mailto:eric138@gmail.com] 
> Sent: 21 January 2005 11:42
> To: Lucene Users List
> Subject: Re: Search Chinese in Unicode !!!
> 
> 
> Search not really correct with UTF-8 !!!
> 
> 
> The following is the search result that I used the SearchFiles in the
> lucene
> demo.
> 
> d:\Downloads\Softwares\Apache\Lucene\lucene-1.4.3\src>java
> org.apache.lucene.demo.SearchFiles c:\temp\myindex
> Usage: java SearchFiles <idnex>
> Query: 
> Searching for: g                                <<<<<<<<<<<<     
> strange ??
> 3 total matching documents
> 0. ../docs/ChineseDemo.html            <<<<<<<<<<<<    this files
> contains
> the 
>    -
> 1. ../docs/luceneplan.html
>    - Jakarta Lucene - Plan for enhancements to Lucene
> 2. ../docs/api/index-all.html
>    - Index (Lucene 1.4.3 API)
> Query: 
> 
> 
> 
> From the above result only the ChineseDemo.html includes the
> character that I
> want to search !
> 
> 
> 
> 
> The modified code in SearchFiles.java:
> 
> 
> BufferedReader in = new BufferedReader(new
> InputStreamReader(System.in,
> "UTF-8"));
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12613-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 17:24:52 2005
Return-Path: <lucene-user-return-12613-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52517 invoked from network); 21 Jan 2005 17:24:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 17:24:52 -0000
Received: (qmail 27633 invoked by uid 500); 21 Jan 2005 17:24:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27573 invoked by uid 500); 21 Jan 2005 17:24:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27552 invoked by uid 99); 21 Jan 2005 17:24:36 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 09:24:35 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 21 Jan 2005 12:26:00 -0500
Message-ID: <066801c4ffde$46896ad0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20050121163946.69696.qmail@web30205.mail.mud.yahoo.com>
Subject: FOP Generated PDF and PDFBox
Date: Fri, 21 Jan 2005 12:26:00 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 21 Jan 2005 17:26:00.0549 (UTC) FILETIME=[46994950:01C4FFDE]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello;

Our CMS now allows users to create PDF documents (uses FOP) and than search
them.

I seem to be able to index these documents ok. But when I am generating the
results to display I get a Null Pointer Exception while trying to use a
variable that should contain the url keyword for one of these documents in
the index:

Document doc = hits.doc(i);
String path = doc.get("url");

Path contains null.

The interesting thing is this only happens with PDF that are generate with
FOP. Other PDFs are fine.

What I find weird is shouldn't the "url" field just contain the path of the
file?

Anyone else seen this before?

Any ideas?

Thanks,

Luke



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12614-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 17:29:05 2005
Return-Path: <lucene-user-return-12614-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54896 invoked from network); 21 Jan 2005 17:29:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 17:29:05 -0000
Received: (qmail 39120 invoked by uid 500); 21 Jan 2005 17:29:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39078 invoked by uid 500); 21 Jan 2005 17:29:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39059 invoked by uid 99); 21 Jan 2005 17:28:59 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=FROM_ENDS_IN_NUMS,PLING_PLING,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from main.gmane.org (HELO main.gmane.org) (80.91.229.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 09:28:57 -0800
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1Cs2aa-0003li-00
	for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 18:28:52 +0100
Received: from dhcp-171-71-47-107.cisco.com ([171.71.47.107])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 18:28:52 +0100
Received: from aurora00 by dhcp-171-71-47-107.cisco.com with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 18:28:52 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: aurora <aurora00@gmail.com>
Subject: Re: Search Chinese in Unicode !!!
Date: Fri, 21 Jan 2005 09:28:45 -0800
Lines: 106
Message-ID: <opskyqt7de6yt6e7@dhcp-171-71-47-107.cisco.com>
References: <B978AA198CB86D488F88454BE7CA796C18ABB0@hqafex01.fao.org>
Mime-Version: 1.0
Content-Type: text/plain; format=flowed; delsp=yes; charset=utf-8
Content-Transfer-Encoding: Quoted-Printable
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: dhcp-171-71-47-107.cisco.com
User-Agent: Opera M2/7.54u1 (Win32, build 3918)
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I would love to give it a try. Please email me at aurora00 at gmail.com.=
  =

Thanks!

Also what is the opinion on the CJKAnalyzer and ChineseAnalyzer? Some  =

people actually said the StandardAnalyzer works better. I wonder what's =
 =

the pros and cons.



> I've written a Chinese Analyzer for Lucene that uses a segmenter writt=
en  =

> by
> Erik Peterson. However, as the author of the segmenter does not want h=
is  =

> code
> released under apache open source license (although his code _is_
> opensource), I cannot place my work in the Lucene Sandbox.  This is
> unfortunate, because I believe the analyzer works quite well in indexi=
ng  =

> and
> searching chinese docs in GB2312 and UTF-8 encoding, and I like more  =

> people
> to test, use, and confirm this.  So anyone who wants it, can have it. =
 =

> Just
> shoot me an email.
> BTW, I also have written an arabic analyzer, which is collecting dust =
for
> similar reasons.
> Good luck,
>
> Ali Safarnejad
>
>
> -----Original Message-----
> From: Eric Chow [mailto:eric138@gmail.com]
> Sent: 21 January 2005 11:42
> To: Lucene Users List
> Subject: Re: Search Chinese in Unicode !!!
>
>
> Search not really correct with UTF-8 !!!
>
>
> The following is the search result that I used the SearchFiles in the =
 =

> lucene
> demo.
>
> d:\Downloads\Softwares\Apache\Lucene\lucene-1.4.3\src>java
> org.apache.lucene.demo.SearchFiles c:\temp\myindex
> Usage: java SearchFiles <idnex>
> Query: =E7=B6=93
> Searching for: g                                <<<<<<<<<<<<       =

> strange ??
> 3 total matching documents
> 0. ../docs/ChineseDemo.html            <<<<<<<<<<<<    this files  =

> contains
> the =E7=B6=93
>    -
> 1. ../docs/luceneplan.html
>    - Jakarta Lucene - Plan for enhancements to Lucene
> 2. ../docs/api/index-all.html
>    - Index (Lucene 1.4.3 API)
> Query:
>
>
>
> From the above result only the ChineseDemo.html includes the character=
  =

> that I
> want to search !
>
>
>
>
> The modified code in SearchFiles.java:
>
>
> BufferedReader in =3D new BufferedReader(new InputStreamReader(System.=
in,
> "UTF-8"));
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org



-- =

Using Opera's revolutionary e-mail client: http://www.opera.com/m2/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12615-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 17:34:42 2005
Return-Path: <lucene-user-return-12615-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57034 invoked from network); 21 Jan 2005 17:34:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 17:34:42 -0000
Received: (qmail 55977 invoked by uid 500); 21 Jan 2005 17:34:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55951 invoked by uid 500); 21 Jan 2005 17:34:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55938 invoked by uid 99); 21 Jan 2005 17:34:35 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of ben@csh.rit.edu designates 129.21.60.6 as permitted sender)
Received: from blacksheep.csh.rit.edu (HELO blacksheep.csh.rit.edu) (129.21.60.6)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 09:34:34 -0800
Received: from fury.csh.rit.edu (fury.csh.rit.edu [IPv6:2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id 6E9C991BC
	for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 12:34:31 -0500 (EST)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id 30FAF14DC; Fri, 21 Jan 2005 12:34:31 -0500 (EST)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id 219891470
	for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 12:34:31 -0500 (EST)
Date: Fri, 21 Jan 2005 12:34:30 -0500 (EST)
From: Ben Litchfield <ben@csh.rit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: FOP Generated PDF and PDFBox
In-Reply-To: <066801c4ffde$46896ad0$7703d00a@hypermedia.com>
Message-ID: <Pine.GSO.4.53.0501211231060.14634@fury.csh.rit.edu>
References: <20050121163946.69696.qmail@web30205.mail.mud.yahoo.com>
 <066801c4ffde$46896ad0$7703d00a@hypermedia.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



Are you indexing the FOP PDF's differently than other PDF documents?

Can I assume that you are using PDFBox's LucenePDFDocument.getDocument()
method?

Ben

On Fri, 21 Jan 2005, Luke Shannon wrote:

> Hello;
>
> Our CMS now allows users to create PDF documents (uses FOP) and than search
> them.
>
> I seem to be able to index these documents ok. But when I am generating the
> results to display I get a Null Pointer Exception while trying to use a
> variable that should contain the url keyword for one of these documents in
> the index:
>
> Document doc = hits.doc(i);
> String path = doc.get("url");
>
> Path contains null.
>
> The interesting thing is this only happens with PDF that are generate with
> FOP. Other PDFs are fine.
>
> What I find weird is shouldn't the "url" field just contain the path of the
> file?
>
> Anyone else seen this before?
>
> Any ideas?
>
> Thanks,
>
> Luke
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12616-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 17:39:45 2005
Return-Path: <lucene-user-return-12616-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59703 invoked from network); 21 Jan 2005 17:39:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 17:39:45 -0000
Received: (qmail 65969 invoked by uid 500); 21 Jan 2005 17:39:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65926 invoked by uid 500); 21 Jan 2005 17:39:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65911 invoked by uid 99); 21 Jan 2005 17:39:40 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 09:39:39 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 21 Jan 2005 12:41:07 -0500
Message-ID: <067e01c4ffe0$634722a0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20050121163946.69696.qmail@web30205.mail.mud.yahoo.com> <066801c4ffde$46896ad0$7703d00a@hypermedia.com> <Pine.GSO.4.53.0501211231060.14634@fury.csh.rit.edu>
Subject: Re: FOP Generated PDF and PDFBox
Date: Fri, 21 Jan 2005 12:41:07 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 21 Jan 2005 17:41:07.0887 (UTC) FILETIME=[636A13F0:01C4FFE0]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

That is correct. No difference with how other PDF are handled.

I am looking at the index in Luke now. The FOP generated documents have a
path but no URL? I would guess that these would be the same?

Thanks for the speedy reply.

Luke


----- Original Message ----- 
From: "Ben Litchfield" <ben@csh.rit.edu>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, January 21, 2005 12:34 PM
Subject: Re: FOP Generated PDF and PDFBox


>
>
> Are you indexing the FOP PDF's differently than other PDF documents?
>
> Can I assume that you are using PDFBox's LucenePDFDocument.getDocument()
> method?
>
> Ben
>
> On Fri, 21 Jan 2005, Luke Shannon wrote:
>
> > Hello;
> >
> > Our CMS now allows users to create PDF documents (uses FOP) and than
search
> > them.
> >
> > I seem to be able to index these documents ok. But when I am generating
the
> > results to display I get a Null Pointer Exception while trying to use a
> > variable that should contain the url keyword for one of these documents
in
> > the index:
> >
> > Document doc = hits.doc(i);
> > String path = doc.get("url");
> >
> > Path contains null.
> >
> > The interesting thing is this only happens with PDF that are generate
with
> > FOP. Other PDFs are fine.
> >
> > What I find weird is shouldn't the "url" field just contain the path of
the
> > file?
> >
> > Anyone else seen this before?
> >
> > Any ideas?
> >
> > Thanks,
> >
> > Luke
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12617-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 17:40:46 2005
Return-Path: <lucene-user-return-12617-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60269 invoked from network); 21 Jan 2005 17:40:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 17:40:45 -0000
Received: (qmail 68900 invoked by uid 500); 21 Jan 2005 17:40:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68842 invoked by uid 500); 21 Jan 2005 17:40:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68828 invoked by uid 99); 21 Jan 2005 17:40:37 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from main.gmane.org (HELO main.gmane.org) (80.91.229.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 09:40:36 -0800
Received: from root by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1Cs2lt-00046p-00
	for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 18:40:33 +0100
Received: from dhcp-171-71-47-107.cisco.com ([171.71.47.107])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 18:40:33 +0100
Received: from aurora00 by dhcp-171-71-47-107.cisco.com with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 18:40:33 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: aurora <aurora00@gmail.com>
Subject: Re: Lucene and multiple languages
Date: Fri, 21 Jan 2005 09:32:16 -0800
Lines: 112
Message-ID: <opskyqz2ho6yt6e7@dhcp-171-71-47-107.cisco.com>
References: <opskw3jvay6yt6e7@dhcp-171-71-47-107.cisco.com> <41F02009.5070605@colaborativa.net>
Mime-Version: 1.0
Content-Type: text/plain; format=flowed; delsp=yes; charset=iso-8859-15
Content-Transfer-Encoding: Quoted-Printable
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: dhcp-171-71-47-107.cisco.com
User-Agent: Opera M2/7.54u1 (Win32, build 3918)
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks. I would like to give it a try. Is the source code available? I'm=
  =

using a Python version of Lucene so it would need to be wrapped or porte=
d  =

:)

> Hi Aurora
>
> I develop a tool with this multiple languages issue. I found very usef=
ul
> an nuke library "language-identifier". This jar have nuke dependencies=
,
> but I delete all unnecessary code (for me obvious).
>
> This language-identifier that I use work fine and is very simple:
> For example:
>
> LanguageIdentifier languageIdentifier =3D LanguageIdentifier.getInstan=
ce();
> String userInputText =3D "free text";
> String language =3D languageIdentifier.identify(text);
>
> This work for 11 languages: English, Spanish, Portuguese, Dutch, Germa=
n,
> French, Italian, and Others.
>
> I can send you this touched jar, but remember that this jar is from
> Nuke, for copyright (or left :).
> http://www.nutch.org/LICENSE.txt
>
> More comments above...
>
> aurora escribi=F3:
>
>> I'm trying to build some web search tool that could work for multiple=
   =

>> languages. I understand that Lucene is shipped with StandardAnalyzer =
 =

>> plus  a German and Russian analyzers and some more in the sandbox. An=
d  =

>> that  indexing and searching should use the same analyzer.
>>
>> Now let's said I have an index with documents in multiple languages  =

>> and  analyzed by an assortment of analyzers. When user enter a query,=
  =

>> what  analyzer should be used? Should the user be asked for the  =

>> language  upfront? What to expect when the analyzer and the document =
 =

>> doesn't match?  Let's said the query is parsed using StandardAnalyzer=
.  =

>> Would it match any  documents done in German analyzer at all. Or woul=
d  =

>> it end up in poor  result?
>>
> When this happen, in the major cases you do not obtain matchs.
>
>> Also is there a good way to find out the languages used in a web page=
?   =

>> There is a 'content-langage' header in http and a 'lang' attribute in=
   =

>> HTML. Looks like people don't really use them. How can we recognize  =

>> the  language?
>>
> With language identifier. :)
>
>> Even more interesting is multiple languages used in one document,  =

>> let's  say half English and half French. Is there a good way to deal =
 =

>> with those  cases?
>>
> Language identifier only return one language. I look into
> language-identifier and work with a score for each language, and retur=
n
> the language with greater value.
> Maybe you can modify the language-identifier for take the most greater=

> values.
>
> Bye
> Ernesto.
>
>> Thanks for any guidance.
>>
>>
>> ---------------------------------------------------------------------=

>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>



-- =

Using Opera's revolutionary e-mail client: http://www.opera.com/m2/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12618-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 17:56:09 2005
Return-Path: <lucene-user-return-12618-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67239 invoked from network); 21 Jan 2005 17:56:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 17:56:09 -0000
Received: (qmail 2952 invoked by uid 500); 21 Jan 2005 17:56:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2926 invoked by uid 500); 21 Jan 2005 17:56:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2913 invoked by uid 99); 21 Jan 2005 17:56:01 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of Ali.Safarnejad@fao.org designates 168.202.2.12 as permitted sender)
Received: from pmdfint.fao.org (HELO smtpmail.fao.org) (168.202.2.12)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 09:56:00 -0800
Received: from CONVERSION-DAEMON.smtpmail.fao.org by smtpmail.fao.org
 (PMDF V6.2-X17 #30673) id <0IAO00M01HSH95@smtpmail.fao.org> for
 lucene-user@jakarta.apache.org; Fri, 21 Jan 2005 18:55:29 +0100 (MET)
Received: from hqfaoex02.hq.un.fao.org (hqfaoex02.fao.org [168.202.2.80])
 by smtpmail.fao.org (PMDF V6.2-X17 #30673)
 with ESMTP id <0IAO00M18HSG23@smtpmail.fao.org> for
 lucene-user@jakarta.apache.org; Fri, 21 Jan 2005 18:55:28 +0100 (MET)
Received: from hqafex01.hq.un.fao.org ([168.202.2.52])
 by hqfaoex02.hq.un.fao.org with Microsoft SMTPSVC(5.0.2195.6713); Fri,
 21 Jan 2005 18:55:56 +0100
Date: Fri, 21 Jan 2005 18:55:56 +0100
From: "Safarnejad, Ali (AFIS)" <Ali.Safarnejad@fao.org>
Subject: RE: Search Chinese in Unicode !!!
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <B978AA198CB86D488F88454BE7CA796C18ABB1@hqafex01.fao.org>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6487.1
Content-type: text/plain; charset=iso-2022-jp
Content-transfer-encoding: 7BIT
Thread-Topic: Search Chinese in Unicode !!!
Thread-Index: AcT/3rS1tc45l/BWQaGVhPQY9+uGAwAAtVRg
content-class: urn:content-classes:message
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
X-OriginalArrivalTime: 21 Jan 2005 17:55:56.0790 (UTC)
 FILETIME=[753DE960:01C4FFE2]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The ChineseAnalyzer tokenizes based on some english stopwords.  The
CJKAnalzyer is not much more sophisticated for Chinese Analysis (2 byte
tokenizing).  The analyzer I just sent you (using Erik Peterson's
segmenter:), looks up three dictionaries to segment the chinese text, based
on real word matches.


-----Original Message-----
From: news [mailto:news@sea.gmane.org] On Behalf Of aurora
Sent: 21 January 2005 18:29
To: lucene-user@jakarta.apache.org
Subject: Re: Search Chinese in Unicode !!!


I would love to give it a try. Please email me at aurora00 at gmail.com.  
Thanks!

Also what is the opinion on the CJKAnalyzer and ChineseAnalyzer? Some  
people actually said the StandardAnalyzer works better. I wonder what's  
the pros and cons.



> I've written a Chinese Analyzer for Lucene that uses a segmenter 
> written
> by
> Erik Peterson. However, as the author of the segmenter does not want his  
> code
> released under apache open source license (although his code _is_
> opensource), I cannot place my work in the Lucene Sandbox.  This is
> unfortunate, because I believe the analyzer works quite well in indexing  
> and
> searching chinese docs in GB2312 and UTF-8 encoding, and I like more  
> people
> to test, use, and confirm this.  So anyone who wants it, can have it.  
> Just
> shoot me an email.
> BTW, I also have written an arabic analyzer, which is collecting dust for
> similar reasons.
> Good luck,
>
> Ali Safarnejad
>
>
> -----Original Message-----
> From: Eric Chow [mailto:eric138@gmail.com]
> Sent: 21 January 2005 11:42
> To: Lucene Users List
> Subject: Re: Search Chinese in Unicode !!!
>
>
> Search not really correct with UTF-8 !!!
>
>
> The following is the search result that I used the SearchFiles in the
> lucene
> demo.
>
> d:\Downloads\Softwares\Apache\Lucene\lucene-1.4.3\src>java
> org.apache.lucene.demo.SearchFiles c:\temp\myindex
> Usage: java SearchFiles <idnex>
> Query: $Be4(J
> Searching for: g                                <<<<<<<<<<<<       
> strange ??
> 3 total matching documents
> 0. ../docs/ChineseDemo.html            <<<<<<<<<<<<    this files  
> contains
> the $Be4(J
>    -
> 1. ../docs/luceneplan.html
>    - Jakarta Lucene - Plan for enhancements to Lucene
> 2. ../docs/api/index-all.html
>    - Index (Lucene 1.4.3 API)
> Query:
>
>
>
> From the above result only the ChineseDemo.html includes the character
> that I
> want to search !
>
>
>
>
> The modified code in SearchFiles.java:
>
>
> BufferedReader in = new BufferedReader(new InputStreamReader(System.in,
> "UTF-8"));
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org



-- 
Using Opera's revolutionary e-mail client: http://www.opera.com/m2/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12619-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 18:05:32 2005
Return-Path: <lucene-user-return-12619-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70938 invoked from network); 21 Jan 2005 18:05:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 18:05:31 -0000
Received: (qmail 22662 invoked by uid 500); 21 Jan 2005 18:05:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22633 invoked by uid 500); 21 Jan 2005 18:05:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22616 invoked by uid 99); 21 Jan 2005 18:05:26 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of ben@csh.rit.edu designates 129.21.60.6 as permitted sender)
Received: from blacksheep.csh.rit.edu (HELO blacksheep.csh.rit.edu) (129.21.60.6)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 10:05:24 -0800
Received: from fury.csh.rit.edu (fury.csh.rit.edu [IPv6:2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id EDE75936F
	for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 13:05:22 -0500 (EST)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id 9A64B14DF; Fri, 21 Jan 2005 13:05:22 -0500 (EST)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id 74B2614DC
	for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 13:05:22 -0500 (EST)
Date: Fri, 21 Jan 2005 13:05:22 -0500 (EST)
From: Ben Litchfield <ben@csh.rit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: FOP Generated PDF and PDFBox
In-Reply-To: <067e01c4ffe0$634722a0$7703d00a@hypermedia.com>
Message-ID: <Pine.GSO.4.53.0501211256420.14634@fury.csh.rit.edu>
References: <20050121163946.69696.qmail@web30205.mail.mud.yahoo.com>
 <066801c4ffde$46896ad0$7703d00a@hypermedia.com> <Pine.GSO.4.53.0501211231060.14634@fury.csh.rit.edu>
 <067e01c4ffe0$634722a0$7703d00a@hypermedia.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



Ya, when calling LucenePDFDocument.getDocument( File ) then it should be
the same as the path.

This is the code that the class uses to set those fields.

document.add( Field.UnIndexed("path", file.getPath() ) );
document.add(Field.UnIndexed("url", file.getPath().replace(FILE_SEPARATOR,
'/')));

I have no idea why an FOP PDF would be any different than another PDF.

You can also run it from the command line, this is just for debugging
purposes like this.

java org.pdfbox.searchengine.lucene.LucenePDFDocument <pdf-document>

and it should print out the fields of the lucene Document object.  Is the
url there and is it correct?

Ben

On Fri, 21 Jan 2005, Luke Shannon wrote:

> That is correct. No difference with how other PDF are handled.
>
> I am looking at the index in Luke now. The FOP generated documents have a
> path but no URL? I would guess that these would be the same?
>
> Thanks for the speedy reply.
>
> Luke
>
>
> ----- Original Message -----
> From: "Ben Litchfield" <ben@csh.rit.edu>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Friday, January 21, 2005 12:34 PM
> Subject: Re: FOP Generated PDF and PDFBox
>
>
> >
> >
> > Are you indexing the FOP PDF's differently than other PDF documents?
> >
> > Can I assume that you are using PDFBox's LucenePDFDocument.getDocument()
> > method?
> >
> > Ben
> >
> > On Fri, 21 Jan 2005, Luke Shannon wrote:
> >
> > > Hello;
> > >
> > > Our CMS now allows users to create PDF documents (uses FOP) and than
> search
> > > them.
> > >
> > > I seem to be able to index these documents ok. But when I am generating
> the
> > > results to display I get a Null Pointer Exception while trying to use a
> > > variable that should contain the url keyword for one of these documents
> in
> > > the index:
> > >
> > > Document doc = hits.doc(i);
> > > String path = doc.get("url");
> > >
> > > Path contains null.
> > >
> > > The interesting thing is this only happens with PDF that are generate
> with
> > > FOP. Other PDFs are fine.
> > >
> > > What I find weird is shouldn't the "url" field just contain the path of
> the
> > > file?
> > >
> > > Anyone else seen this before?
> > >
> > > Any ideas?
> > >
> > > Thanks,
> > >
> > > Luke
> > >
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12620-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 19:06:27 2005
Return-Path: <lucene-user-return-12620-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99563 invoked from network); 21 Jan 2005 19:06:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 19:06:26 -0000
Received: (qmail 40882 invoked by uid 500); 21 Jan 2005 19:06:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40857 invoked by uid 500); 21 Jan 2005 19:06:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40843 invoked by uid 99); 21 Jan 2005 19:06:20 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of janssen@parc.com designates 13.1.64.93 as permitted sender)
Received: from alpha.Xerox.COM (HELO alpha.xerox.com) (13.1.64.93)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 21 Jan 2005 11:06:20 -0800
Received: from synergy1.parc.xerox.com ([13.1.101.60]) by alpha.xerox.com with SMTP id <146082(1)>; Fri, 21 Jan 2005 11:06:03 PST
Received: by synergy1.parc.xerox.com id <58617>; Fri, 21 Jan 2005 11:06:01 PST
Sender: Bill Janssen <janssen@parc.com>
From: Bill Janssen <janssen@parc.com>
To: lucene-user@jakarta.apache.org
Subject: thanks for the URLDirectory pointer
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Message-Id: <05Jan21.110601pst."58617"@synergy1.parc.xerox.com>
Date: Fri, 21 Jan 2005 11:05:55 PST
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

lucene-user got blacklisted on SPEW, so I didn't actually get the
responses to my last question via email.  But I managed to dig them
out of the archive, and it should do what I needed.

Thanks for the pointer!

Bill

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12621-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 19:08:19 2005
Return-Path: <lucene-user-return-12621-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 592 invoked from network); 21 Jan 2005 19:08:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 19:08:19 -0000
Received: (qmail 43936 invoked by uid 500); 21 Jan 2005 19:08:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43916 invoked by uid 500); 21 Jan 2005 19:08:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43902 invoked by uid 99); 21 Jan 2005 19:08:14 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=FROM_ENDS_IN_NUMS,PLING_PLING,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of chenjian1227@gmail.com designates 64.233.170.202 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.202)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 11:08:12 -0800
Received: by rproxy.gmail.com with SMTP id 40so161082rnz
        for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 11:08:10 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=crXtZmiSdL5dUjbCtu1L9YsrgIGkHSqeVnk32PVI0sIhdjmstb5gkhXcQWHyKksS3485cFITvmCX0jJt77D6ca4/pQDuN0E3E5GNjIWlDcvtWTQwv40muPTSNI5GjoI4T4f6Qd40QXdEh4VQMq2li1xvrEJVuw4+4Pu+j2N7OjM=
Received: by 10.38.8.49 with SMTP id 49mr320103rnh;
        Fri, 21 Jan 2005 11:08:10 -0800 (PST)
Received: by 10.38.8.15 with HTTP; Fri, 21 Jan 2005 11:08:10 -0800 (PST)
Message-ID: <7ca123910501211108686b4328@mail.gmail.com>
Date: Fri, 21 Jan 2005 11:08:10 -0800
From: jian chen <chenjian1227@gmail.com>
Reply-To: jian chen <chenjian1227@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Search Chinese in Unicode !!!
In-Reply-To: <B978AA198CB86D488F88454BE7CA796C18ABB1@hqafex01.fao.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
References: <B978AA198CB86D488F88454BE7CA796C18ABB1@hqafex01.fao.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I have some studies in Chinese text search. The main problem is how to
separate the words. As in Chinese, there is no white space between
words.

The typical commercial search engines these days use a dictionary
based approach. That is, look through the Chinese text and find the
words that are in the dictionary. As for those characters that do not
match words in the dictionary, you could use bi-gram based approach.
Say, a b c,  you could index as 2 (pseudo) words, ab, bc.

I think pure bi-gram based approach is not good for relative large
Chinese text collection, as you end up with many pseudo terms that are
not actual words.

Cheers,

Jian

On Fri, 21 Jan 2005 18:55:56 +0100, Safarnejad, Ali (AFIS)
<Ali.Safarnejad@fao.org> wrote:
> The ChineseAnalyzer tokenizes based on some english stopwords.  The
> CJKAnalzyer is not much more sophisticated for Chinese Analysis (2 byte
> tokenizing).  The analyzer I just sent you (using Erik Peterson's
> segmenter:), looks up three dictionaries to segment the chinese text, bas=
ed
> on real word matches.
>=20
>=20
> -----Original Message-----
> From: news [mailto:news@sea.gmane.org] On Behalf Of aurora
> Sent: 21 January 2005 18:29
> To: lucene-user@jakarta.apache.org
> Subject: Re: Search Chinese in Unicode !!!
>=20
> I would love to give it a try. Please email me at aurora00 at gmail.com.
> Thanks!
>=20
> Also what is the opinion on the CJKAnalyzer and ChineseAnalyzer? Some
> people actually said the StandardAnalyzer works better. I wonder what's
> the pros and cons.
>=20
> > I've written a Chinese Analyzer for Lucene that uses a segmenter
> > written
> > by
> > Erik Peterson. However, as the author of the segmenter does not want hi=
s
> > code
> > released under apache open source license (although his code _is_
> > opensource), I cannot place my work in the Lucene Sandbox.  This is
> > unfortunate, because I believe the analyzer works quite well in indexin=
g
> > and
> > searching chinese docs in GB2312 and UTF-8 encoding, and I like more
> > people
> > to test, use, and confirm this.  So anyone who wants it, can have it.
> > Just
> > shoot me an email.
> > BTW, I also have written an arabic analyzer, which is collecting dust f=
or
> > similar reasons.
> > Good luck,
> >
> > Ali Safarnejad
> >
> >
> > -----Original Message-----
> > From: Eric Chow [mailto:eric138@gmail.com]
> > Sent: 21 January 2005 11:42
> > To: Lucene Users List
> > Subject: Re: Search Chinese in Unicode !!!
> >
> >
> > Search not really correct with UTF-8 !!!
> >
> >
> > The following is the search result that I used the SearchFiles in the
> > lucene
> > demo.
> >
> > d:\Downloads\Softwares\Apache\Lucene\lucene-1.4.3\src>java
> > org.apache.lucene.demo.SearchFiles c:\temp\myindex
> > Usage: java SearchFiles <idnex>
> > Query: =E7=B6=93
> > Searching for: g                                <<<<<<<<<<<<
> > strange ??
> > 3 total matching documents
> > 0. ../docs/ChineseDemo.html            <<<<<<<<<<<<    this files
> > contains
> > the =E7=B6=93
> >    -
> > 1. ../docs/luceneplan.html
> >    - Jakarta Lucene - Plan for enhancements to Lucene
> > 2. ../docs/api/index-all.html
> >    - Index (Lucene 1.4.3 API)
> > Query:
> >
> >
> >
> > From the above result only the ChineseDemo.html includes the character
> > that I
> > want to search !
> >
> >
> >
> >
> > The modified code in SearchFiles.java:
> >
> >
> > BufferedReader in =3D new BufferedReader(new InputStreamReader(System.i=
n,
> > "UTF-8"));
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
> --
> Using Opera's revolutionary e-mail client: http://www.opera.com/m2/
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12622-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 19:29:43 2005
Return-Path: <lucene-user-return-12622-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13043 invoked from network); 21 Jan 2005 19:29:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 19:29:43 -0000
Received: (qmail 85992 invoked by uid 500); 21 Jan 2005 19:29:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85966 invoked by uid 500); 21 Jan 2005 19:29:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85952 invoked by uid 99); 21 Jan 2005 19:29:37 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 11:29:35 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 21 Jan 2005 14:31:01 -0500
Message-ID: <06d701c4ffef$bdb79c10$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20050121163946.69696.qmail@web30205.mail.mud.yahoo.com> <066801c4ffde$46896ad0$7703d00a@hypermedia.com> <Pine.GSO.4.53.0501211231060.14634@fury.csh.rit.edu> <067e01c4ffe0$634722a0$7703d00a@hypermedia.com> <Pine.GSO.4.53.0501211256420.14634@fury.csh.rit.edu>
Subject: Re: FOP Generated PDF and PDFBox
Date: Fri, 21 Jan 2005 14:31:01 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 21 Jan 2005 19:31:01.0991 (UTC) FILETIME=[BDCE7F70:01C4FFEF]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks Ben. I new none related issues now. For the time being I will be
using path. Once I get a chance I will try this on the command line as you
have recommended.

Luke

----- Original Message ----- 
From: "Ben Litchfield" <ben@csh.rit.edu>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, January 21, 2005 1:05 PM
Subject: Re: FOP Generated PDF and PDFBox


>
>
> Ya, when calling LucenePDFDocument.getDocument( File ) then it should be
> the same as the path.
>
> This is the code that the class uses to set those fields.
>
> document.add( Field.UnIndexed("path", file.getPath() ) );
> document.add(Field.UnIndexed("url", file.getPath().replace(FILE_SEPARATOR,
> '/')));
>
> I have no idea why an FOP PDF would be any different than another PDF.
>
> You can also run it from the command line, this is just for debugging
> purposes like this.
>
> java org.pdfbox.searchengine.lucene.LucenePDFDocument <pdf-document>
>
> and it should print out the fields of the lucene Document object.  Is the
> url there and is it correct?
>
> Ben
>
> On Fri, 21 Jan 2005, Luke Shannon wrote:
>
> > That is correct. No difference with how other PDF are handled.
> >
> > I am looking at the index in Luke now. The FOP generated documents have
a
> > path but no URL? I would guess that these would be the same?
> >
> > Thanks for the speedy reply.
> >
> > Luke
> >
> >
> > ----- Original Message -----
> > From: "Ben Litchfield" <ben@csh.rit.edu>
> > To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> > Sent: Friday, January 21, 2005 12:34 PM
> > Subject: Re: FOP Generated PDF and PDFBox
> >
> >
> > >
> > >
> > > Are you indexing the FOP PDF's differently than other PDF documents?
> > >
> > > Can I assume that you are using PDFBox's
LucenePDFDocument.getDocument()
> > > method?
> > >
> > > Ben
> > >
> > > On Fri, 21 Jan 2005, Luke Shannon wrote:
> > >
> > > > Hello;
> > > >
> > > > Our CMS now allows users to create PDF documents (uses FOP) and than
> > search
> > > > them.
> > > >
> > > > I seem to be able to index these documents ok. But when I am
generating
> > the
> > > > results to display I get a Null Pointer Exception while trying to
use a
> > > > variable that should contain the url keyword for one of these
documents
> > in
> > > > the index:
> > > >
> > > > Document doc = hits.doc(i);
> > > > String path = doc.get("url");
> > > >
> > > > Path contains null.
> > > >
> > > > The interesting thing is this only happens with PDF that are
generate
> > with
> > > > FOP. Other PDFs are fine.
> > > >
> > > > What I find weird is shouldn't the "url" field just contain the path
of
> > the
> > > > file?
> > > >
> > > > Anyone else seen this before?
> > > >
> > > > Any ideas?
> > > >
> > > > Thanks,
> > > >
> > > > Luke
> > > >
> > > >
> > > >
> > >
> ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > >
> > >
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12623-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 19:44:15 2005
Return-Path: <lucene-user-return-12623-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21431 invoked from network); 21 Jan 2005 19:44:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 19:44:14 -0000
Received: (qmail 14363 invoked by uid 500); 21 Jan 2005 19:44:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14337 invoked by uid 500); 21 Jan 2005 19:44:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14324 invoked by uid 99); 21 Jan 2005 19:44:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from avas-mr03.fibertel.com.ar (HELO avas-mr03.fibertel.com.ar) (24.232.0.216)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 11:44:08 -0800
Received: from OL152-184.fibertel.com.ar ([24.232.184.152]:18951 "EHLO
	[24.232.184.152]" smtp-auth: "edesantis") by avas-mr03.fibertel.com.ar
	with ESMTP id S262187AbVAUToC; Fri, 21 Jan 2005 16:44:02 -0300
X-Comment: RFC 2476 MSA function at avas-mr03.fibertel.com.ar logged sender identity as: edesantis
Message-ID: <41F15C76.1060609@colaborativa.net>
Date:	Fri, 21 Jan 2005 16:48:06 -0300
From:	Ernesto De Santis <ernesto.desantis@colaborativa.net>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: es-ar, es, en-us, en
MIME-Version: 1.0
To:	Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene and multiple languages
References: <opskw3jvay6yt6e7@dhcp-171-71-47-107.cisco.com> <41F02009.5070605@colaborativa.net> <opskyqz2ho6yt6e7@dhcp-171-71-47-107.cisco.com>
In-Reply-To: <opskyqz2ho6yt6e7@dhcp-171-71-47-107.cisco.com>
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 8bit
X-Fib-Al-Info: Al
X-Fib-Al-MRId: 46bc49c0bccd7fe3dfecad95fecd2bd9
X-Fib-Al-From: ernesto.desantis@colaborativa.net
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I send you the source code in a private mail.

Ernesto.

aurora escribi:

> Thanks. I would like to give it a try. Is the source code available? 
> I'm  using a Python version of Lucene so it would need to be wrapped 
> or ported  :)
>
>> Hi Aurora
>>
>> I develop a tool with this multiple languages issue. I found very useful
>> an nuke library "language-identifier". This jar have nuke dependencies,
>> but I delete all unnecessary code (for me obvious).
>>
>> This language-identifier that I use work fine and is very simple:
>> For example:
>>
>> LanguageIdentifier languageIdentifier = 
>> LanguageIdentifier.getInstance();
>> String userInputText = "free text";
>> String language = languageIdentifier.identify(text);
>>
>> This work for 11 languages: English, Spanish, Portuguese, Dutch, German,
>> French, Italian, and Others.
>>
>> I can send you this touched jar, but remember that this jar is from
>> Nuke, for copyright (or left :).
>> http://www.nutch.org/LICENSE.txt
>>
>> More comments above...
>>
>> aurora escribi:
>>
>>> I'm trying to build some web search tool that could work for 
>>> multiple   languages. I understand that Lucene is shipped with 
>>> StandardAnalyzer  plus  a German and Russian analyzers and some more 
>>> in the sandbox. And  that  indexing and searching should use the 
>>> same analyzer.
>>>
>>> Now let's said I have an index with documents in multiple languages  
>>> and  analyzed by an assortment of analyzers. When user enter a 
>>> query,  what  analyzer should be used? Should the user be asked for 
>>> the  language  upfront? What to expect when the analyzer and the 
>>> document  doesn't match?  Let's said the query is parsed using 
>>> StandardAnalyzer.  Would it match any  documents done in German 
>>> analyzer at all. Or would  it end up in poor  result?
>>>
>> When this happen, in the major cases you do not obtain matchs.
>>
>>> Also is there a good way to find out the languages used in a web 
>>> page?   There is a 'content-langage' header in http and a 'lang' 
>>> attribute in   HTML. Looks like people don't really use them. How 
>>> can we recognize  the  language?
>>>
>> With language identifier. :)
>>
>>> Even more interesting is multiple languages used in one document,  
>>> let's  say half English and half French. Is there a good way to 
>>> deal  with those  cases?
>>>
>> Language identifier only return one language. I look into
>> language-identifier and work with a score for each language, and return
>> the language with greater value.
>> Maybe you can modify the language-identifier for take the most greater
>> values.
>>
>> Bye
>> Ernesto.
>>
>>> Thanks for any guidance.
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>>
>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12624-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 21:26:49 2005
Return-Path: <lucene-user-return-12624-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79519 invoked from network); 21 Jan 2005 21:26:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 21:26:49 -0000
Received: (qmail 32764 invoked by uid 500); 21 Jan 2005 21:26:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32737 invoked by uid 500); 21 Jan 2005 21:26:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32724 invoked by uid 99); 21 Jan 2005 21:26:44 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web50206.mail.yahoo.com (HELO web50206.mail.yahoo.com) (206.190.38.47)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 21 Jan 2005 13:26:43 -0800
Received: (qmail 71154 invoked by uid 60001); 21 Jan 2005 21:26:39 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=kiy/oVlewsLdKcDKseKq/Ted/t6HhyBDou3qfNSywr7eGROz3ZZeqxB8m4Ua7UlfWUD+rHFvQvxlsCSIRLNcxz8N3OgmGJXxP0cau/yTVuIAjLdOeXX1KDIUbnfBLh+KooYwJaoccvxQ5XP9/Fp70ceHh8bQqzRuIMMHFqVOA+g=  ;
Message-ID: <20050121212639.71152.qmail@web50206.mail.yahoo.com>
Received: from [24.37.192.190] by web50206.mail.yahoo.com via HTTP; Fri, 21 Jan 2005 13:26:39 PST
Date: Fri, 21 Jan 2005 13:26:39 -0800 (PST)
From: Oscar Picasso <oscgoogle@yahoo.com>
Subject: Re: Closed IndexWriter reuse
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20050121145557.55860.qmail@web50202.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> --- Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
> 
> > No, you can't add documents to an index once you close the IndexWriter.
> > You can re-open the IndexWriter and add more documents, of course.
> > 
> > Otis

After my previous post I have made some further tests with multithreading and
effectively it randomly throw NullPointerExceptions and Lock exceptions when
reusing a closed IndexWriter.

My example was bad because based on a very simple single thread.

But wouldn't it be safer if IndexWriter rose immediatly an Exception when
trying to use its modifying methods after is has been closed?


		
__________________________________ 
Do you Yahoo!? 
Yahoo! Mail - 250MB free storage. Do more. Manage less. 
http://info.mail.yahoo.com/mail_250

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12625-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 21 22:51:27 2005
Return-Path: <lucene-user-return-12625-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25688 invoked from network); 21 Jan 2005 22:51:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Jan 2005 22:51:27 -0000
Received: (qmail 86796 invoked by uid 500); 21 Jan 2005 22:51:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 86778 invoked by uid 500); 21 Jan 2005 22:51:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86764 invoked by uid 99); 21 Jan 2005 22:51:22 -0000
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=RCVD_BY_IP,RCVD_IN_BL_SPAMCOP_NET,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of clamprecht@gmail.com designates 64.233.170.200 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.200)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 14:51:21 -0800
Received: by rproxy.gmail.com with SMTP id z35so183904rne
        for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 14:51:19 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=k03rY7a0ElalYTEJ0QkwiZA+96+n2+gLMeSH2k+Xu+av26atiZVfSg64CpiAEJOHa7dGlMu5fXYf23Ded6Mb8yYGNXok7EFCWhbOfUYX3go0XYhci8D9BA/WZtWslDW/8BmTVakn2PSPZbzUxdHCwWfpgvMxhvRUWN42qYNMQjw=
Received: by 10.39.2.63 with SMTP id e63mr24396rni;
        Fri, 21 Jan 2005 14:51:19 -0800 (PST)
Received: by 10.38.104.58 with HTTP; Fri, 21 Jan 2005 14:51:19 -0800 (PST)
Message-ID: <88c6a67205012114514ffac3e6@mail.gmail.com>
Date: Fri, 21 Jan 2005 16:51:19 -0600
From: Chris Lamprecht <clamprecht@gmail.com>
Reply-To: Chris Lamprecht <clamprecht@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Stemming
In-Reply-To: <8D7DE0C84F1D5149894354E754E6807E332691@mail.lou.emergint.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <8D7DE0C84F1D5149894354E754E6807E332691@mail.lou.emergint.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Also if you can't wait, see page 2 of
http://www.onjava.com/pub/a/onjava/2003/01/15/lucene.html

or the LIA e-book ;)

On Fri, 21 Jan 2005 09:27:42 -0500, Kevin L. Cobb
<kevin.cobb@emergint.com> wrote:
> OK, OK ... I'll buy the book. I guess its about time since I am deeply
> and forever in love with Lucene. Might as well take the final plunge.
> 
> 
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Friday, January 21, 2005 9:12 AM
> To: Lucene Users List
> Subject: Re: Stemming
> 
> Hi Kevin,
> 
> Stemming is an optional operation and is done in the analysis step.
> Lucene comes with a Porter stemmer and a Filter that you can use in an
> Analyzer:
> 
> ./src/java/org/apache/lucene/analysis/PorterStemFilter.java
> ./src/java/org/apache/lucene/analysis/PorterStemmer.java
> 
> You can find more about it here:
> http://www.lucenebook.com/search?query=stemming
> You can also see mentions of SnowballAnalyzer in those search results,
> and you can find an adapter for SnowballAnalyzers in Lucene Sandbox.
> 
> Otis
> 
> --- "Kevin L. Cobb" <kevin.cobb@emergint.com> wrote:
> 
> > I want to understand how Lucene uses stemming but can't find any
> > documentation on the Lucene site. I'll continue to google but hope
> > that
> > this list can help narrow my search. I have several questions on the
> > subject currently but hesitate to list them here since finding a good
> > document on the subject may answer most of them.
> >
> >
> >
> > Thanks in advance for any pointers,
> >
> >
> >
> > Kevin
> >
> >
> >
> >
> >
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12626-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 22 00:17:35 2005
Return-Path: <lucene-user-return-12626-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53021 invoked from network); 22 Jan 2005 00:17:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jan 2005 00:17:35 -0000
Received: (qmail 81605 invoked by uid 500); 22 Jan 2005 00:17:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81336 invoked by uid 500); 22 Jan 2005 00:17:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81323 invoked by uid 99); 22 Jan 2005 00:17:30 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 16:17:29 -0800
Received: from [192.168.1.108] ([12.43.53.196])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id j0M0HOL2027205
	for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 16:17:25 -0800
Message-ID: <41F19B8F.305@newsmonster.org>
Date: Fri, 21 Jan 2005 16:17:19 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Opening up one large index takes 940M or memory?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

We have one large index right now... its about 60G ... When I open it 
the Java VM used 940M of memory.  The VM does nothing else besides open 
this index.

Here's the code:

        System.out.println( "opening..." );

        long before = System.currentTimeMillis();
        Directory dir = FSDirectory.getDirectory( 
"/var/ksa/index-1078106952160/", false );
        IndexReader ir = IndexReader.open( dir );
        System.out.println( ir.getClass() );
        long after = System.currentTimeMillis();
        System.out.println( "opening...done - duration: " + 
(after-before) );

        System.out.println( "totalMemory: " + 
Runtime.getRuntime().totalMemory() );
        System.out.println( "freeMemory: " + 
Runtime.getRuntime().freeMemory() );

Is there any way to reduce this footprint?  The index is fully 
optimized... I'm willing to take a performance hit if necessary.  Is 
this documented anywhere?

Kevin

-- 

Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask me for an 
invite!  Also see irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

If you're interested in RSS, Weblogs, Social Networking, etc... then you 
should work for Rojo!  If you recommend someone and we hire them you'll 
get a free iPod!
    
Kevin A. Burton, Location - San Francisco, CA
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12627-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 22 00:39:50 2005
Return-Path: <lucene-user-return-12627-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59369 invoked from network); 22 Jan 2005 00:39:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jan 2005 00:39:50 -0000
Received: (qmail 9449 invoked by uid 500); 22 Jan 2005 00:39:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8610 invoked by uid 500); 22 Jan 2005 00:39:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8596 invoked by uid 99); 22 Jan 2005 00:39:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 16:39:45 -0800
Received: from [192.168.1.108] ([12.43.53.196])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id j0M0dXSW027749
	for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 16:39:34 -0800
Message-ID: <41F1A0C0.9070005@newsmonster.org>
Date: Fri, 21 Jan 2005 16:39:28 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Opening up one large index takes 940M or memory?
References: <41F19B8F.305@newsmonster.org>
In-Reply-To: <41F19B8F.305@newsmonster.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin A. Burton wrote:

> We have one large index right now... its about 60G ... When I open it 
> the Java VM used 940M of memory.  The VM does nothing else besides 
> open this index.

After thinking about it I guess 1.5% of memory per index really isn't 
THAT bad.  What would be nice if there was a way to do this from disk 
and then use the a buffer (either via the filesystem or in-vm memory) to 
access these variables.

This would be similar to the way the MySQL index cache works...

Kevin

-- 

Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask me for an 
invite!  Also see irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

If you're interested in RSS, Weblogs, Social Networking, etc... then you 
should work for Rojo!  If you recommend someone and we hire them you'll 
get a free iPod!
    
Kevin A. Burton, Location - San Francisco, CA
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12628-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 22 00:47:55 2005
Return-Path: <lucene-user-return-12628-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61770 invoked from network); 22 Jan 2005 00:47:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jan 2005 00:47:55 -0000
Received: (qmail 20099 invoked by uid 500); 22 Jan 2005 00:47:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19956 invoked by uid 500); 22 Jan 2005 00:47:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19943 invoked by uid 99); 22 Jan 2005 00:47:50 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 16:47:49 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id D03775B7E4; Fri, 21 Jan 2005 16:46:20 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id CD3DB7F460
	for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 16:46:20 -0800 (PST)
Date: Fri, 21 Jan 2005 16:46:20 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Opening up one large index takes 940M or memory?
In-Reply-To: <41F19B8F.305@newsmonster.org>
Message-ID: <Pine.LNX.4.58.0501211643070.26514@hal.rescomp.berkeley.edu>
References: <41F19B8F.305@newsmonster.org>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

: We have one large index right now... its about 60G ... When I open it
: the Java VM used 940M of memory.  The VM does nothing else besides open

Just out of curiosity, have you tried turning on the verbose gc log, and
putting in some thread sleeps after you open the reader, to see if the
memory footprint "settles down" after a little while?  You're currently
checking the memoory usage immediately after opening the index, and some
of that memory may be used holding transient data that will get freed up
after some GC iterations.


:         IndexReader ir = IndexReader.open( dir );
:         System.out.println( ir.getClass() );
:         long after = System.currentTimeMillis();
:         System.out.println( "opening...done - duration: " +
: (after-before) );
:
:         System.out.println( "totalMemory: " +
: Runtime.getRuntime().totalMemory() );
:         System.out.println( "freeMemory: " +
: Runtime.getRuntime().freeMemory() );





-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12629-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 22 03:47:45 2005
Return-Path: <lucene-user-return-12629-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24396 invoked from network); 22 Jan 2005 03:47:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jan 2005 03:47:45 -0000
Received: (qmail 77845 invoked by uid 500); 22 Jan 2005 03:47:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77191 invoked by uid 500); 22 Jan 2005 03:47:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77178 invoked by uid 99); 22 Jan 2005 03:47:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.app.aconex.com (HELO mail.app.aconex.com) (203.89.192.138)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 19:47:40 -0800
Received: from herald.aconex.com (herald.aconex.com [192.168.0.211])
	by mail.app.aconex.com (Postfix) with ESMTP id 5C270159FA0
	for <lucene-user@jakarta.apache.org>; Sat, 22 Jan 2005 14:47:36 +1100 (EST)
Received: from localhost (localhost [127.0.0.1])
	by herald.aconex.com (Postfix) with ESMTP id D9C0D64007
	for <lucene-user@jakarta.apache.org>; Sat, 22 Jan 2005 14:47:37 +1100 (EST)
Received: from herald.aconex.com ([127.0.0.1])
 by localhost (herald [127.0.0.1]) (amavisd-new, port 10024) with LMTP
 id 27590-01-2 for <lucene-user@jakarta.apache.org>;
 Sat, 22 Jan 2005 14:47:36 +1100 (EST)
Received: from [192.168.0.152] (unknown [192.168.0.152])
	by herald.aconex.com (Postfix) with ESMTP id ACB4D64002
	for <lucene-user@jakarta.apache.org>; Sat, 22 Jan 2005 14:47:36 +1100 (EST)
Message-ID: <41F1CCD3.5040600@aconex.com>
Date: Sat, 22 Jan 2005 14:47:31 +1100
From: Paul Smith <psmith@aconex.com>
User-Agent: Mozilla Thunderbird 1.0 (Macintosh/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: Document 'Context' & Relation to each other
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: by amavisd-new at aconex.com
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

As a log4j developer, I've been toying with the idea of what Lucene 
could do for me, maybe as an excuse to play around with Lucene.

I've started creating a LoggingEvent->Document converter, and thinking 
through how I'd like this utility to work when I came across a question 
I wasn't sure about.

When scanning/searching through logging events, one is usually looking 
for a particular matching event which Lucene does excellently, but what 
a person usually needs is also the context of that matching logging 
event around it. 

With grep, one can use the "-C<contextSize>" argument to grep to provide 
X # of lines around the matching entry. I'd like to be able to do the 
same thing with Lucene.

Now, I could provide a Field to the LoggingEvent Document that has a 
sequence #, and once a user has chosen an appropriate matching event, do 
another search for the documents with a Sequence # between +/- the 
context size. 

My question is, is that going to be an efficient way to do this? The 
sequence # would be treated as text, wouldn't it?  Would the range 
search on an int be the most efficient way to do this?

I know from the Hits documentation that one can retrieve the Document ID 
of a matching entry.  What is the contract on this Document ID?  Is each 
Document added to the Index given an increasing number?  Can one search 
an index by Document ID?  Could one search for Document ID's between a 
range?   (Hope you can see where I'm going here).

If you have any other recommendations about "Context" searching I would 
appreciate any thoughts.

Many thanks for an excellent API, and kudos to Erik & Otis for a great 
eBook btw.

regards,

Paul Smith

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12630-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 22 05:10:29 2005
Return-Path: <lucene-user-return-12630-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47226 invoked from network); 22 Jan 2005 05:10:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jan 2005 05:10:28 -0000
Received: (qmail 47538 invoked by uid 500); 22 Jan 2005 05:10:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47514 invoked by uid 500); 22 Jan 2005 05:10:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47499 invoked by uid 99); 22 Jan 2005 05:10:24 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=FROM_ENDS_IN_NUMS,PLING_PLING,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of eric138@gmail.com designates 64.233.170.205 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.205)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 21 Jan 2005 21:10:21 -0800
Received: by rproxy.gmail.com with SMTP id c16so155093rne
        for <lucene-user@jakarta.apache.org>; Fri, 21 Jan 2005 21:10:19 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=f1AdxQYcE+DRRTRzX+822dxwLbeNvkYY6jygS1rZMDoYxahOXbro+3HMkN9K3SXFrmW7cm8MXZCaGBUCnpw/pctnlI7esFU/Ov62cYHplqhkEimCe+/1dpsecKgt1HEhyBtzj1BqA5sao+OlOcAB1I0V9gB126vBYFMPGgXm/cY=
Received: by 10.38.10.17 with SMTP id 17mr47551rnj;
        Fri, 21 Jan 2005 21:10:19 -0800 (PST)
Received: by 10.38.12.59 with HTTP; Fri, 21 Jan 2005 21:10:19 -0800 (PST)
Message-ID: <f472e9a0050121211022ff4f30@mail.gmail.com>
Date: Sat, 22 Jan 2005 13:10:19 +0800
From: Eric Chow <eric138@gmail.com>
Reply-To: Eric Chow <eric138@gmail.com>
To: "Safarnejad, Ali (AFIS)" <Ali.Safarnejad@fao.org>
Subject: Re: Search Chinese in Unicode !!!
Cc: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <B978AA198CB86D488F88454BE7CA796C18ABB0@hqafex01.fao.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
References: <B978AA198CB86D488F88454BE7CA796C18ABB0@hqafex01.fao.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I want that Chinese Anayzer !!


On Fri, 21 Jan 2005 17:36:17 +0100, Safarnejad, Ali (AFIS)
<Ali.Safarnejad@fao.org> wrote:
> I've written a Chinese Analyzer for Lucene that uses a segmenter written =
by
> Erik Peterson. However, as the author of the segmenter does not want his =
code
> released under apache open source license (although his code _is_
> opensource), I cannot place my work in the Lucene Sandbox.  This is
> unfortunate, because I believe the analyzer works quite well in indexing =
and
> searching chinese docs in GB2312 and UTF-8 encoding, and I like more peop=
le
> to test, use, and confirm this.  So anyone who wants it, can have it. Jus=
t
> shoot me an email.
> BTW, I also have written an arabic analyzer, which is collecting dust for
> similar reasons.
> Good luck,
>=20
> Ali Safarnejad
>=20
>=20
> -----Original Message-----
> From: Eric Chow [mailto:eric138@gmail.com]
> Sent: 21 January 2005 11:42
> To: Lucene Users List
> Subject: Re: Search Chinese in Unicode !!!
>=20
> Search not really correct with UTF-8 !!!
>=20
> The following is the search result that I used the SearchFiles in the luc=
ene
> demo.
>=20
> d:\Downloads\Softwares\Apache\Lucene\lucene-1.4.3\src>java
> org.apache.lucene.demo.SearchFiles c:\temp\myindex
> Usage: java SearchFiles <idnex>
> Query: =E7=B6=93
> Searching for: g                                <<<<<<<<<<<<      strange=
 ??
> 3 total matching documents
> 0. ../docs/ChineseDemo.html            <<<<<<<<<<<<    this files contain=
s
> the =E7=B6=93
>   -
> 1. ../docs/luceneplan.html
>   - Jakarta Lucene - Plan for enhancements to Lucene
> 2. ../docs/api/index-all.html
>   - Index (Lucene 1.4.3 API)
> Query:
>=20
> From the above result only the ChineseDemo.html includes the character th=
at I
> want to search !
>=20
> The modified code in SearchFiles.java:
>=20
> BufferedReader in =3D new BufferedReader(new InputStreamReader(System.in,
> "UTF-8"));
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12631-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 22 08:47:40 2005
Return-Path: <lucene-user-return-12631-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22758 invoked from network); 22 Jan 2005 08:47:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jan 2005 08:47:40 -0000
Received: (qmail 24527 invoked by uid 500); 22 Jan 2005 08:47:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24506 invoked by uid 500); 22 Jan 2005 08:47:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24493 invoked by uid 99); 22 Jan 2005 08:47:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork2.mail.Virginia.EDU (HELO fork2.mail.virginia.edu) (128.143.2.192)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 22 Jan 2005 00:47:34 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork2.mail.virginia.edu (Postfix) with ESMTP id 0BB201C16C
	for <lucene-user@jakarta.apache.org>; Sat, 22 Jan 2005 03:47:32 -0500 (EST)
Received: from fork2.mail.virginia.edu ([127.0.0.1])
 by localhost (fork2.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 23377-07 for <lucene-user@jakarta.apache.org>;
 Sat, 22 Jan 2005 03:47:31 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by fork2.mail.virginia.edu (Postfix) with ESMTP id A61581C166
	for <lucene-user@jakarta.apache.org>; Sat, 22 Jan 2005 03:47:31 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <41F1CCD3.5040600@aconex.com>
References: <41F1CCD3.5040600@aconex.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <640E758F-6C52-11D9-80AE-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Document 'Context' & Relation to each other
Date: Sat, 22 Jan 2005 03:48:30 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork2.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jan 21, 2005, at 10:47 PM, Paul Smith wrote:
> As a log4j developer, I've been toying with the idea of what Lucene 
> could do for me, maybe as an excuse to play around with Lucene.

First off, let me thank you for your work with log4j!  I've been using 
it at lucenebook.com with the SMTPAppender (once I learned that I 
needed a custom trigger to release e-mails when I wanted, not just on 
errors) and it's been working great.

> Now, I could provide a Field to the LoggingEvent Document that has a 
> sequence #, and once a user has chosen an appropriate matching event, 
> do another search for the documents with a Sequence # between +/- the 
> context size.
> My question is, is that going to be an efficient way to do this? The 
> sequence # would be treated as text, wouldn't it?  Would the range 
> search on an int be the most efficient way to do this?


> I know from the Hits documentation that one can retrieve the Document 
> ID of a matching entry.  What is the contract on this Document ID?  Is 
> each Document added to the Index given an increasing number?  Can one 
> search an index by Document ID?  Could one search for Document ID's 
> between a range?   (Hope you can see where I'm going here).


You wouldn't even need the sequence number.  You'll certainly be adding 
the documents to the index in the proper sequence already (right?).  It 
is easy to random access documents if you know Lucene's document ids.  
Here's the pseudo-code....

	- construct an IndexReader
	- open an IndexSearcher using the IndexReader
	- search, getting Hits back
	- for a hit you want to see the context, get hits.id(hit#)
	- subtract context size from the id, grab documents using 
reader.document(id)

You don't "search" for a document by id, but rather jump right to it 
with IndexReader.

> Many thanks for an excellent API, and kudos to Erik & Otis for a great 
> eBook btw.

Thanks!

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12632-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 22 09:47:36 2005
Return-Path: <lucene-user-return-12632-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56138 invoked from network); 22 Jan 2005 09:47:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jan 2005 09:47:36 -0000
Received: (qmail 73559 invoked by uid 500); 22 Jan 2005 09:47:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73534 invoked by uid 500); 22 Jan 2005 09:47:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73521 invoked by uid 99); 22 Jan 2005 09:47:32 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr11.xs4all.nl (HELO smtp-vbr11.xs4all.nl) (194.109.24.31)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 22 Jan 2005 01:47:31 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr11.xs4all.nl (8.12.11/8.12.11) with ESMTP id j0M9lSSD061505
	for <lucene-user@jakarta.apache.org>; Sat, 22 Jan 2005 10:47:28 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Opening up one large index takes 940M or memory?
Date: Sat, 22 Jan 2005 10:47:27 +0100
User-Agent: KMail/1.5.4
References: <41F19B8F.305@newsmonster.org> <41F1A0C0.9070005@newsmonster.org>
In-Reply-To: <41F1A0C0.9070005@newsmonster.org>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200501221047.27998.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Saturday 22 January 2005 01:39, Kevin A. Burton wrote:
> Kevin A. Burton wrote:
> 
> > We have one large index right now... its about 60G ... When I open it 
> > the Java VM used 940M of memory.  The VM does nothing else besides 
> > open this index.
> 
> After thinking about it I guess 1.5% of memory per index really isn't 
> THAT bad.  What would be nice if there was a way to do this from disk 
> and then use the a buffer (either via the filesystem or in-vm memory) to 
> access these variables.

It's even documented. From:
http://jakarta.apache.org/lucene/docs/fileformats.html :

>The term info index, or .tii file. 
>This contains every IndexIntervalth entry from the .tis file, along with its
>location in the "tis" file. This is designed to be read entirely into memory
>and used to provide random access to the "tis" file. 

My guess is that this is what you see happening.
To see the actuall .tii file, you need the non default file format.

Once searching starts you'll also see that the field norms are loaded,
these take one byte per searched field per document.

> This would be similar to the way the MySQL index cache works...

It would be possible to add another level of indexing to the terms.
No one has done this yet, so I guess it's prefered to buy RAM instead...

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12633-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 22 13:48:31 2005
Return-Path: <lucene-user-return-12633-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16699 invoked from network); 22 Jan 2005 13:48:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jan 2005 13:48:31 -0000
Received: (qmail 17267 invoked by uid 500); 22 Jan 2005 13:48:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17061 invoked by uid 500); 22 Jan 2005 13:48:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17047 invoked by uid 99); 22 Jan 2005 13:48:26 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,HTML_40_50,HTML_MESSAGE,PLING_PLING
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web15804.mail.cnb.yahoo.com (HELO web15804.mail.cnb.yahoo.com) (202.165.102.84)
  by apache.org (qpsmtpd/0.28) with SMTP; Sat, 22 Jan 2005 05:48:23 -0800
Message-ID: <20050122134818.7036.qmail@web15804.mail.cnb.yahoo.com>
Received: from [61.240.133.164] by web15804.mail.cnb.yahoo.com via HTTP; Sat, 22 Jan 2005 21:48:18 CST
Date: Sat, 22 Jan 2005 21:48:18 +0800 (CST)
From: =?gb2312?q?=CC=EF=B4=BA=B7=E5?= <tcf960@yahoo.com.cn>
Reply-To: tcf960@yahoo.com.cn
Subject: Re: Search Chinese in Unicode !!!
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  Eric Chow <eric138@gmail.com>
In-Reply-To: <f472e9a005012101498f36892@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-294623086-1106401698=:97151"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-294623086-1106401698=:97151
Content-Type: text/plain; charset=gb2312
Content-Transfer-Encoding: 8bit

hi, Eric
 
If you can read chinese directly , Please reference to this blog:
http://blog.csdn.net/accesine960
or, search weblucene at www.sf.net which is a project based upon lucene by a chinese, name : chedong , his web site is : www.chedong.com 
 
good luck

Eric Chow <eric138@gmail.com> wrote:
How to create index with chinese (in utf-8 encoding ) HTML and search
with Lucene ?

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



 

:
msn:  xiaodingdong21@hotmail.com
qq: 443803193







---------------------------------
Do You Yahoo!?
150MP3

1G1000
--0-294623086-1106401698=:97151--

From lucene-user-return-12634-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 22 16:31:10 2005
Return-Path: <lucene-user-return-12634-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73327 invoked from network); 22 Jan 2005 16:31:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jan 2005 16:31:10 -0000
Received: (qmail 1800 invoked by uid 500); 22 Jan 2005 16:31:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1770 invoked by uid 500); 22 Jan 2005 16:31:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1736 invoked by uid 99); 22 Jan 2005 16:31:05 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30203.mail.mud.yahoo.com (HELO web30203.mail.mud.yahoo.com) (68.142.200.86)
  by apache.org (qpsmtpd/0.28) with SMTP; Sat, 22 Jan 2005 08:31:02 -0800
Received: (qmail 8965 invoked by uid 60001); 22 Jan 2005 16:31:00 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=fDmMehoKp9P4jxjG7n8/aBNkUeiSJE4EMoy6BHayWYGFheQhcoPF1thx0weDmVPQuNDMfj2LlP7m2oEObFtiC1UHmJpJAEA2dTOXwSnuLlCaiHKF4cLQqnV45n2reR3YftUiHBawNzPxFo+gRD/LhCGxC3BNC3AlcCk+ke8F9LM=  ;
Message-ID: <20050122163100.8963.qmail@web30203.mail.mud.yahoo.com>
Received: from [69.201.139.168] by web30203.mail.mud.yahoo.com via HTTP; Sat, 22 Jan 2005 08:31:00 PST
Date: Sat, 22 Jan 2005 08:31:00 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Opening up one large index takes 940M or memory?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41F19B8F.305@newsmonster.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

It would be interesting to know _what_exactly_ uses your memory. 
Running under an optimizer should tell you that.

The only thing that comes to mind is... can't remember the details now,
but when the index is opened, I believe every 128th term is read into
memory.  This, I believe, helps with index seeks at search time.  I
wonder if this is what's using your memory.  The number '128' can't be
modified just like that, but somebody (Julien?) has modified the code
in the past to make this variable.  That's the only thing I can think
of right now and it may or may not be an idea in the right direction.

Otis


--- "Kevin A. Burton" <burton@newsmonster.org> wrote:
> We have one large index right now... its about 60G ... When I open it
> 
> the Java VM used 940M of memory.  The VM does nothing else besides
> open 
> this index.
> 
> Here's the code:
> 
>         System.out.println( "opening..." );
> 
>         long before = System.currentTimeMillis();
>         Directory dir = FSDirectory.getDirectory( 
> "/var/ksa/index-1078106952160/", false );
>         IndexReader ir = IndexReader.open( dir );
>         System.out.println( ir.getClass() );
>         long after = System.currentTimeMillis();
>         System.out.println( "opening...done - duration: " + 
> (after-before) );
> 
>         System.out.println( "totalMemory: " + 
> Runtime.getRuntime().totalMemory() );
>         System.out.println( "freeMemory: " + 
> Runtime.getRuntime().freeMemory() );
> 
> Is there any way to reduce this footprint?  The index is fully 
> optimized... I'm willing to take a performance hit if necessary.  Is 
> this documented anywhere?
> 
> Kevin
> 
> -- 
> 
> Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask me for an
> 
> invite!  Also see irc.freenode.net #rojo if you want to chat.
> 
> Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html
> 
> If you're interested in RSS, Weblogs, Social Networking, etc... then
> you 
> should work for Rojo!  If you recommend someone and we hire them
> you'll 
> get a free iPod!
>     
> Kevin A. Burton, Location - San Francisco, CA
>        AIM/YIM - sfburtonator,  Web - http://peerfear.org/
> GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12635-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 22 16:32:58 2005
Return-Path: <lucene-user-return-12635-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73665 invoked from network); 22 Jan 2005 16:32:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jan 2005 16:32:58 -0000
Received: (qmail 4557 invoked by uid 500); 22 Jan 2005 16:32:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4525 invoked by uid 500); 22 Jan 2005 16:32:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4508 invoked by uid 99); 22 Jan 2005 16:32:53 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30201.mail.mud.yahoo.com (HELO web30201.mail.mud.yahoo.com) (68.142.200.84)
  by apache.org (qpsmtpd/0.28) with SMTP; Sat, 22 Jan 2005 08:32:52 -0800
Received: (qmail 44363 invoked by uid 60001); 22 Jan 2005 16:32:50 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=ty7LQz0ZJIVCOA3y/qiJsyNg7q/oDDrFiEffRZtyVgwvjvN1yfyDMswITkhf7jTeZs2QJkN0bTqU9XrLrSI8Dtidn+4g4cCPf/sCyobz+fpqlWb7JljE2yKnolfDqvFYt7hc4Z31AbLcTyGMNhscepqgxZv8Ls2kwCRW0+VTiHY=  ;
Message-ID: <20050122163250.44359.qmail@web30201.mail.mud.yahoo.com>
Received: from [69.201.139.168] by web30201.mail.mud.yahoo.com via HTTP; Sat, 22 Jan 2005 08:32:50 PST
Date: Sat, 22 Jan 2005 08:32:50 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Opening up one large index takes 940M or memory?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <200501221047.27998.paul.elschot@xs4all.nl>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

There Kevin, that's what I was referring to, the .tii file.

Otis

--- Paul Elschot <paul.elschot@xs4all.nl> wrote:

> On Saturday 22 January 2005 01:39, Kevin A. Burton wrote:
> > Kevin A. Burton wrote:
> > 
> > > We have one large index right now... its about 60G ... When I
> open it 
> > > the Java VM used 940M of memory.  The VM does nothing else
> besides 
> > > open this index.
> > 
> > After thinking about it I guess 1.5% of memory per index really
> isn't 
> > THAT bad.  What would be nice if there was a way to do this from
> disk 
> > and then use the a buffer (either via the filesystem or in-vm
> memory) to 
> > access these variables.
> 
> It's even documented. From:
> http://jakarta.apache.org/lucene/docs/fileformats.html :
> 
> >The term info index, or .tii file. 
> >This contains every IndexIntervalth entry from the .tis file, along
> with its
> >location in the "tis" file. This is designed to be read entirely
> into memory
> >and used to provide random access to the "tis" file. 
> 
> My guess is that this is what you see happening.
> To see the actuall .tii file, you need the non default file format.
> 
> Once searching starts you'll also see that the field norms are
> loaded,
> these take one byte per searched field per document.
> 
> > This would be similar to the way the MySQL index cache works...
> 
> It would be possible to add another level of indexing to the terms.
> No one has done this yet, so I guess it's prefered to buy RAM
> instead...
> 
> Regards,
> Paul Elschot
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12636-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 22 16:48:11 2005
Return-Path: <lucene-user-return-12636-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77677 invoked from network); 22 Jan 2005 16:48:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jan 2005 16:48:11 -0000
Received: (qmail 25696 invoked by uid 500); 22 Jan 2005 16:48:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25416 invoked by uid 500); 22 Jan 2005 16:48:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25400 invoked by uid 99); 22 Jan 2005 16:48:06 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of chenjian1227@gmail.com designates 64.233.170.196 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 22 Jan 2005 08:48:05 -0800
Received: by rproxy.gmail.com with SMTP id 40so23180rnz
        for <lucene-user@jakarta.apache.org>; Sat, 22 Jan 2005 08:48:03 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=oMpqZ+vipyvcgDhDYUpgOr0ZVJidFceHqhCsIi0AAgs+NWuIvcgrpR5/JP8RbEqeEt8rEZ8vN3dzxiF3tz9prRSAdUz732WrtHd1mer8HJzgaLw+laMqzZrEpSsR6RYZ8DaSzftf+1RYLlD0+DLEZtEugs9PuSy5+3lhq1PJclo=
Received: by 10.38.8.12 with SMTP id 12mr85043rnh;
        Sat, 22 Jan 2005 08:48:03 -0800 (PST)
Received: by 10.38.8.15 with HTTP; Sat, 22 Jan 2005 08:48:03 -0800 (PST)
Message-ID: <7ca12391050122084835dbf9ac@mail.gmail.com>
Date: Sat, 22 Jan 2005 08:48:03 -0800
From: jian chen <chenjian1227@gmail.com>
Reply-To: jian chen <chenjian1227@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Opening up one large index takes 940M or memory?
In-Reply-To: <20050122163250.44359.qmail@web30201.mail.mud.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <200501221047.27998.paul.elschot@xs4all.nl>
	 <20050122163250.44359.qmail@web30201.mail.mud.yahoo.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

If it is really the case that every 128th term is loaded into memory.
Could you use a relational database or b-tree to index to do the work
of indexing of the terms instead?

Even if you create another level of indexing on top of the .tii fle,
it is just a hack and would not scale well.

I would think a b/b+ tree based approach is the way to go for better
memory utilization.

Cheers,

Jian


On Sat, 22 Jan 2005 08:32:50 -0800 (PST), Otis Gospodnetic
<otis_gospodnetic@yahoo.com> wrote:
> There Kevin, that's what I was referring to, the .tii file.
> 
> Otis
> 
> --- Paul Elschot <paul.elschot@xs4all.nl> wrote:
> 
> > On Saturday 22 January 2005 01:39, Kevin A. Burton wrote:
> > > Kevin A. Burton wrote:
> > >
> > > > We have one large index right now... its about 60G ... When I
> > open it
> > > > the Java VM used 940M of memory.  The VM does nothing else
> > besides
> > > > open this index.
> > >
> > > After thinking about it I guess 1.5% of memory per index really
> > isn't
> > > THAT bad.  What would be nice if there was a way to do this from
> > disk
> > > and then use the a buffer (either via the filesystem or in-vm
> > memory) to
> > > access these variables.
> >
> > It's even documented. From:
> > http://jakarta.apache.org/lucene/docs/fileformats.html :
> >
> > >The term info index, or .tii file.
> > >This contains every IndexIntervalth entry from the .tis file, along
> > with its
> > >location in the "tis" file. This is designed to be read entirely
> > into memory
> > >and used to provide random access to the "tis" file.
> >
> > My guess is that this is what you see happening.
> > To see the actuall .tii file, you need the non default file format.
> >
> > Once searching starts you'll also see that the field norms are
> > loaded,
> > these take one byte per searched field per document.
> >
> > > This would be similar to the way the MySQL index cache works...
> >
> > It would be possible to add another level of indexing to the terms.
> > No one has done this yet, so I guess it's prefered to buy RAM
> > instead...
> >
> > Regards,
> > Paul Elschot
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12637-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 22 19:04:05 2005
Return-Path: <lucene-user-return-12637-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26099 invoked from network); 22 Jan 2005 19:04:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jan 2005 19:04:05 -0000
Received: (qmail 89196 invoked by uid 500); 22 Jan 2005 19:03:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89153 invoked by uid 500); 22 Jan 2005 19:03:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89136 invoked by uid 99); 22 Jan 2005 19:03:58 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web50209.mail.yahoo.com (HELO web50209.mail.yahoo.com) (206.190.38.50)
  by apache.org (qpsmtpd/0.28) with SMTP; Sat, 22 Jan 2005 11:03:57 -0800
Received: (qmail 11446 invoked by uid 60001); 22 Jan 2005 19:03:54 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=UYPoALQmAXklJsUxHuhmSjaTDUuL355rCsrwplcpPWqTNkEcEmhzqkT38NFwqHaT0rSrTsbJY0r4SqPfaaSMlwWc+/3JNhZxd4MvdfXH3URpJQlMaBbKwOZNJf9UZ876ulapakz1N4ru+umUl3TuiVyRmhZ+ZsWg26ZWz4BekrE=  ;
Message-ID: <20050122190354.11444.qmail@web50209.mail.yahoo.com>
Received: from [24.37.192.190] by web50209.mail.yahoo.com via HTTP; Sat, 22 Jan 2005 11:03:54 PST
Date: Sat, 22 Jan 2005 11:03:54 -0800 (PST)
From: Oscar Picasso <oscgoogle@yahoo.com>
Subject: Lucene in Action: Batch indexing by using RAMDirectory
To: lucene <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

On page 52 of Lucene in Action (Indexing > Controlling the indexing process >
Batch indexing by using RAMDirectory as a buffer) I read:

"A more sophisticated approach would involve keeping track of RAMDirectory's
memory consumption, in order to prevent RAMDirectory from growing too large."

I've taken a look at Runtime.totalMemory() and so on but I didn't figure out
how to use these functions to prevent an OutMemoryException while using
RAMDirectory that way.

Any idea?


		
__________________________________ 
Do you Yahoo!? 
Read only the mail you want - Yahoo! Mail SpamGuard. 
http://promotions.yahoo.com/new_mail 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12638-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 22 20:37:10 2005
Return-Path: <lucene-user-return-12638-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63364 invoked from network); 22 Jan 2005 20:37:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jan 2005 20:37:10 -0000
Received: (qmail 95695 invoked by uid 500); 22 Jan 2005 20:37:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95583 invoked by uid 500); 22 Jan 2005 20:37:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95569 invoked by uid 99); 22 Jan 2005 20:37:05 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.app.aconex.com (HELO mail.app.aconex.com) (203.89.192.138)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 22 Jan 2005 12:37:04 -0800
Received: from herald.aconex.com (herald.aconex.com [192.168.0.211])
	by mail.app.aconex.com (Postfix) with ESMTP id 05C4D159FE2
	for <lucene-user@jakarta.apache.org>; Sun, 23 Jan 2005 07:37:01 +1100 (EST)
Received: from localhost (localhost [127.0.0.1])
	by herald.aconex.com (Postfix) with ESMTP id 8505D64008
	for <lucene-user@jakarta.apache.org>; Sun, 23 Jan 2005 07:37:02 +1100 (EST)
Received: from herald.aconex.com ([127.0.0.1])
 by localhost (herald [127.0.0.1]) (amavisd-new, port 10024) with LMTP
 id 22940-01-2 for <lucene-user@jakarta.apache.org>;
 Sun, 23 Jan 2005 07:37:01 +1100 (EST)
Received: from [192.168.1.100] (CPE-203-45-42-116.vic.bigpond.net.au [203.45.42.116])
	by herald.aconex.com (Postfix) with ESMTP id 953BE64007
	for <lucene-user@jakarta.apache.org>; Sun, 23 Jan 2005 07:37:01 +1100 (EST)
Message-ID: <41F2B969.1070300@aconex.com>
Date: Sun, 23 Jan 2005 07:36:57 +1100
From: Paul Smith <psmith@aconex.com>
User-Agent: Mozilla Thunderbird 1.0 (Macintosh/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Document 'Context' & Relation to each other
References: <41F1CCD3.5040600@aconex.com> <640E758F-6C52-11D9-80AE-000A95BC61B6@ehatchersolutions.com>
In-Reply-To: <640E758F-6C52-11D9-80AE-000A95BC61B6@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: by amavisd-new at aconex.com
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


> You wouldn't even need the sequence number.  You'll certainly be 
> adding the documents to the index in the proper sequence already 
> (right?).  It is easy to random access documents if you know Lucene's 
> document ids.  Here's the pseudo-code....
>
>     - construct an IndexReader
>     - open an IndexSearcher using the IndexReader
>     - search, getting Hits back
>     - for a hit you want to see the context, get hits.id(hit#)
>     - subtract context size from the id, grab documents using 
> reader.document(id)
>
> You don't "search" for a document by id, but rather jump right to it 
> with IndexReader.
>
Perfect, that's exactly what I was after! It's going to be easier than I 
thought. 

Thanks,

Paul

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12639-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 22 22:50:49 2005
Return-Path: <lucene-user-return-12639-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96011 invoked from network); 22 Jan 2005 22:50:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jan 2005 22:50:49 -0000
Received: (qmail 45542 invoked by uid 500); 22 Jan 2005 22:50:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44887 invoked by uid 500); 22 Jan 2005 22:50:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44870 invoked by uid 99); 22 Jan 2005 22:50:37 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_40_50,HTML_MESSAGE,HTML_TITLE_EMPTY
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 22 Jan 2005 14:50:35 -0800
Received: from [104.179.13.8] (www.rojo.com [66.180.233.2] (may be forged))
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id j0MMoXDj025645
	for <lucene-user@jakarta.apache.org>; Sat, 22 Jan 2005 14:50:33 -0800
Message-ID: <41F2D8B4.7010509@newsmonster.org>
Date: Sat, 22 Jan 2005 14:50:28 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Opening up one large index takes 940M or memory?
References: <41F19B8F.305@newsmonster.org> <41F1A0C0.9070005@newsmonster.org> <200501221047.27998.paul.elschot@xs4all.nl>
In-Reply-To: <200501221047.27998.paul.elschot@xs4all.nl>
Content-Type: multipart/alternative;
 boundary="------------080002000006030507070809"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------080002000006030507070809
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Paul Elschot wrote:

>>This would be similar to the way the MySQL index cache works...
>>    
>>
>
>It would be possible to add another level of indexing to the terms.
>No one has done this yet, so I guess it's prefered to buy RAM instead...
>
>  
>
The problem I think for everyone right now is that 32bits just doesn't 
cut it in production systems...   2G of memory per process and you 
really start to feel it.

Kevin

-- 

Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask me for an 
invite!  Also see irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

If you're interested in RSS, Weblogs, Social Networking, etc... then you 
should work for Rojo!  If you recommend someone and we hire them you'll 
get a free iPod!
    
Kevin A. Burton, Location - San Francisco, CA
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412


--------------080002000006030507070809--

From lucene-user-return-12640-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 22 22:52:15 2005
Return-Path: <lucene-user-return-12640-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96273 invoked from network); 22 Jan 2005 22:52:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jan 2005 22:52:15 -0000
Received: (qmail 46797 invoked by uid 500); 22 Jan 2005 22:52:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46771 invoked by uid 500); 22 Jan 2005 22:52:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46758 invoked by uid 99); 22 Jan 2005 22:52:11 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 22 Jan 2005 14:52:11 -0800
Received: from [104.179.13.8] (www.rojo.com [66.180.233.2] (may be forged))
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id j0MMq9Tc025669
	for <lucene-user@jakarta.apache.org>; Sat, 22 Jan 2005 14:52:09 -0800
Message-ID: <41F2D914.7090103@newsmonster.org>
Date: Sat, 22 Jan 2005 14:52:04 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Opening up one large index takes 940M or memory?
References: <41F19B8F.305@newsmonster.org> <Pine.LNX.4.58.0501211643070.26514@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0501211643070.26514@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Chris Hostetter wrote:

>: We have one large index right now... its about 60G ... When I open it
>: the Java VM used 940M of memory.  The VM does nothing else besides open
>
>Just out of curiosity, have you tried turning on the verbose gc log, and
>putting in some thread sleeps after you open the reader, to see if the
>memory footprint "settles down" after a little while?  You're currently
>checking the memoory usage immediately after opening the index, and some
>of that memory may be used holding transient data that will get freed up
>after some GC iterations.
>  
>
Actually I haven't but to be honest the numbers seem dead on. The VM 
heap wouldn't reallocate if it didn't need that much memory and this is 
almost exactly the behavior I'm seeing in product.

Though I guess it wouldn't hurt ;)

Kevin

-- 

Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask me for an 
invite!  Also see irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

If you're interested in RSS, Weblogs, Social Networking, etc... then you 
should work for Rojo!  If you recommend someone and we hire them you'll 
get a free iPod!
    
Kevin A. Burton, Location - San Francisco, CA
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12641-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 22 22:53:34 2005
Return-Path: <lucene-user-return-12641-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96508 invoked from network); 22 Jan 2005 22:53:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jan 2005 22:53:34 -0000
Received: (qmail 48566 invoked by uid 500); 22 Jan 2005 22:53:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48484 invoked by uid 500); 22 Jan 2005 22:53:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48471 invoked by uid 99); 22 Jan 2005 22:53:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 22 Jan 2005 14:53:28 -0800
Received: from [104.179.13.8] (www.rojo.com [66.180.233.2] (may be forged))
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id j0MMrORE025698
	for <lucene-user@jakarta.apache.org>; Sat, 22 Jan 2005 14:53:24 -0800
Message-ID: <41F2D95F.5070908@newsmonster.org>
Date: Sat, 22 Jan 2005 14:53:19 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Opening up one large index takes 940M or memory?
References: <20050122163100.8963.qmail@web30203.mail.mud.yahoo.com>
In-Reply-To: <20050122163100.8963.qmail@web30203.mail.mud.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis Gospodnetic wrote:

>It would be interesting to know _what_exactly_ uses your memory. 
>Running under an optimizer should tell you that.
>
>The only thing that comes to mind is... can't remember the details now,
>but when the index is opened, I believe every 128th term is read into
>memory.  This, I believe, helps with index seeks at search time.  I
>wonder if this is what's using your memory.  The number '128' can't be
>modified just like that, but somebody (Julien?) has modified the code
>in the past to make this variable.  That's the only thing I can think
>of right now and it may or may not be an idea in the right direction.
>  
>
I loaded it into a profiler a long time ago. Most of the code was due to 
Term classes being loaded into memory.

I might try to get some time to load it into a profiler on monday...

Kevin

-- 

Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask me for an 
invite!  Also see irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

If you're interested in RSS, Weblogs, Social Networking, etc... then you 
should work for Rojo!  If you recommend someone and we hire them you'll 
get a free iPod!
    
Kevin A. Burton, Location - San Francisco, CA
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12642-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 22 23:02:51 2005
Return-Path: <lucene-user-return-12642-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98706 invoked from network); 22 Jan 2005 23:02:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Jan 2005 23:02:51 -0000
Received: (qmail 60220 invoked by uid 500); 22 Jan 2005 23:02:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59373 invoked by uid 500); 22 Jan 2005 23:02:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59356 invoked by uid 99); 22 Jan 2005 23:02:48 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtpout.mac.com (HELO smtpout.mac.com) (17.250.248.44)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 22 Jan 2005 15:02:47 -0800
Received: from mac.com (smtpin02-en2 [10.13.10.147])
	by smtpout.mac.com (8.12.6/MantshX 2.0) with ESMTP id j0MN2gCS027298
	for <lucene-user@jakarta.apache.org>; Sat, 22 Jan 2005 15:02:42 -0800 (PST)
Received: from [10.0.1.19] (adsl-62-167-69-104.adslplus.ch [62.167.69.104])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin02/MantshX 4.0) with ESMTP id j0MN2dSt016604
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NO)
	for <lucene-user@jakarta.apache.org>; Sat, 22 Jan 2005 15:02:42 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <41F2D8B4.7010509@newsmonster.org>
References: <41F19B8F.305@newsmonster.org> <41F1A0C0.9070005@newsmonster.org> <200501221047.27998.paul.elschot@xs4all.nl> <41F2D8B4.7010509@newsmonster.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <C4030E3A-6CC9-11D9-8C94-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: Opening up one large index takes 940M or memory?
Date: Sun, 23 Jan 2005 00:03:01 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 22, 2005, at 23:50, Kevin A. Burton wrote:

> The problem I think for everyone right now is that 32bits just doesn't 
> cut it in production systems...   2G of memory per process and you 
> really start to feel it.

Hmmm... no... no pain at all... or perhaps you are implying that your 
entire system is running on one puny JVM instance... in that case, this 
is perhaps more of a design problem than an implementation one... 
YMMV...

Cheers

--
PA
http://alt.textdrive.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12643-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jan 23 00:05:15 2005
Return-Path: <lucene-user-return-12643-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13194 invoked from network); 23 Jan 2005 00:05:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jan 2005 00:05:15 -0000
Received: (qmail 13805 invoked by uid 500); 23 Jan 2005 00:05:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13453 invoked by uid 500); 23 Jan 2005 00:05:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13437 invoked by uid 99); 23 Jan 2005 00:05:10 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp001.mail.ukl.yahoo.com (HELO smtp001.mail.ukl.yahoo.com) (217.12.11.32)
  by apache.org (qpsmtpd/0.28) with SMTP; Sat, 22 Jan 2005 16:05:08 -0800
Received: from unknown (HELO ?10.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp001.mail.ukl.yahoo.com with SMTP; 23 Jan 2005 00:05:05 -0000
Message-ID: <41F2EA3A.5090602@yahoo.co.uk>
Date: Sun, 23 Jan 2005 00:05:14 +0000
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 0.8 (Windows/20040913)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene in Action: Batch indexing by using RAMDirectory
References: <20050122190354.11444.qmail@web50209.mail.yahoo.com>
In-Reply-To: <20050122190354.11444.qmail@web50209.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I posted a suggested solution to this some time ago:
http://marc.theaimsgroup.com/?l=lucene-user&m=108922279803667&w=2

The overhead of doing these tests was negligible but I haven't tried it 
since TermVectors and the compound indexes were introduced.



Oscar Picasso wrote:

>Hi,
>
>On page 52 of Lucene in Action (Indexing > Controlling the indexing process >
>Batch indexing by using RAMDirectory as a buffer) I read:
>
>"A more sophisticated approach would involve keeping track of RAMDirectory's
>memory consumption, in order to prevent RAMDirectory from growing too large."
>
>I've taken a look at Runtime.totalMemory() and so on but I didn't figure out
>how to use these functions to prevent an OutMemoryException while using
>RAMDirectory that way.
>
>Any idea?
>
>
>		
>__________________________________ 
>Do you Yahoo!? 
>Read only the mail you want - Yahoo! Mail SpamGuard. 
>http://promotions.yahoo.com/new_mail 
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12644-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jan 23 02:26:23 2005
Return-Path: <lucene-user-return-12644-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61388 invoked from network); 23 Jan 2005 02:26:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jan 2005 02:26:22 -0000
Received: (qmail 30141 invoked by uid 500); 23 Jan 2005 02:26:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30118 invoked by uid 500); 23 Jan 2005 02:26:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30104 invoked by uid 99); 23 Jan 2005 02:26:18 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=PLING_PLING,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mymaillist@gmail.com designates 64.233.184.198 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 22 Jan 2005 18:26:16 -0800
Received: by wproxy.gmail.com with SMTP id 55so164375wri
        for <lucene-user@jakarta.apache.org>; Sat, 22 Jan 2005 18:26:14 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=gij/K6TEqYB15ZSNunmAavdEbghPMDA9GnCQF53xtFqjebBo5eIfQOQcQVsPrkRD0TMx2VU/+zQtcjqip9RfL3tSEOkJPSYVr9oEyn8eDuQ5LG0ZguL7GzqEOUR020Jsq8oLXXPgemhLiQK7jmSSeBEbU9S71+JSPL1dLQha3r0=
Received: by 10.54.9.58 with SMTP id 58mr9415wri;
        Sat, 22 Jan 2005 18:26:14 -0800 (PST)
Received: by 10.54.49.77 with HTTP; Sat, 22 Jan 2005 18:25:44 -0800 (PST)
Message-ID: <4843653205012218255ceccffc@mail.gmail.com>
Date: Sun, 23 Jan 2005 10:25:44 +0800
From: ansi <mymaillist@gmail.com>
Reply-To: ansi <mymaillist@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Search Chinese in Unicode !!!
In-Reply-To: <B978AA198CB86D488F88454BE7CA796C18ABB0@hqafex01.fao.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
References: <B978AA198CB86D488F88454BE7CA796C18ABB0@hqafex01.fao.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

hi,Safarnejad
would you pls send me a copy of your code?
zhousp#gmail.com

thanks:)


On Fri, 21 Jan 2005 17:36:17 +0100, Safarnejad, Ali (AFIS)
<Ali.Safarnejad@fao.org> wrote:
> I've written a Chinese Analyzer for Lucene that uses a segmenter written =
by
> Erik Peterson. However, as the author of the segmenter does not want his =
code
> released under apache open source license (although his code _is_
> opensource), I cannot place my work in the Lucene Sandbox.  This is
> unfortunate, because I believe the analyzer works quite well in indexing =
and
> searching chinese docs in GB2312 and UTF-8 encoding, and I like more peop=
le
> to test, use, and confirm this.  So anyone who wants it, can have it. Jus=
t
> shoot me an email.
> BTW, I also have written an arabic analyzer, which is collecting dust for
> similar reasons.
> Good luck,
>=20
> Ali Safarnejad
>=20
>=20
> -----Original Message-----
> From: Eric Chow [mailto:eric138@gmail.com]
> Sent: 21 January 2005 11:42
> To: Lucene Users List
> Subject: Re: Search Chinese in Unicode !!!
>=20
> Search not really correct with UTF-8 !!!
>=20
> The following is the search result that I used the SearchFiles in the luc=
ene
> demo.
>=20
> d:\Downloads\Softwares\Apache\Lucene\lucene-1.4.3\src>java
> org.apache.lucene.demo.SearchFiles c:\temp\myindex
> Usage: java SearchFiles <idnex>
> Query: =E7=B6=93
> Searching for: g                                <<<<<<<<<<<<      strange=
 ??
> 3 total matching documents
> 0. ../docs/ChineseDemo.html            <<<<<<<<<<<<    this files contain=
s
> the =E7=B6=93
>   -
> 1. ../docs/luceneplan.html
>   - Jakarta Lucene - Plan for enhancements to Lucene
> 2. ../docs/api/index-all.html
>   - Index (Lucene 1.4.3 API)
> Query:
>=20
> From the above result only the ChineseDemo.html includes the character th=
at I
> want to search !
>=20
> The modified code in SearchFiles.java:
>=20
> BufferedReader in =3D new BufferedReader(new InputStreamReader(System.in,
> "UTF-8"));
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20


--=20
-----------------------------------
This mail is for maillist only.
Any private mail pls send to zhousp@gmail.com
---------------------------------

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12645-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jan 23 02:31:31 2005
Return-Path: <lucene-user-return-12645-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63222 invoked from network); 23 Jan 2005 02:31:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jan 2005 02:31:31 -0000
Received: (qmail 34028 invoked by uid 500); 23 Jan 2005 02:31:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34004 invoked by uid 500); 23 Jan 2005 02:31:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33991 invoked by uid 99); 23 Jan 2005 02:31:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mymaillist@gmail.com designates 64.233.170.198 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 22 Jan 2005 18:31:26 -0800
Received: by rproxy.gmail.com with SMTP id c16so217633rne
        for <lucene-user@jakarta.apache.org>; Sat, 22 Jan 2005 18:31:24 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=TnnUFiDXwO1K9BCUIfUFaWJYlg2EeXjoIa27uGozDhw1WqBY+D6sL779yAuV9F9/T+YGrQrHFFYDrSyqMkIKMKolrumuEbSidDBhNTxro9DYklMCczLZOwy2gcnOTKcl92OV4vTstkByzxb+c7xhk8OrobXD/JNjj1mLouX3X4o=
Received: by 10.38.160.51 with SMTP id i51mr7235rne;
        Sat, 22 Jan 2005 18:31:24 -0800 (PST)
Received: by 10.54.49.77 with HTTP; Sat, 22 Jan 2005 18:30:24 -0800 (PST)
Message-ID: <4843653205012218305a6e85f7@mail.gmail.com>
Date: Sun, 23 Jan 2005 10:30:24 +0800
From: ansi <mymaillist@gmail.com>
Reply-To: ansi <mymaillist@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Lucene in Action
In-Reply-To: <4843653205012218255ceccffc@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <B978AA198CB86D488F88454BE7CA796C18ABB0@hqafex01.fao.org>
	 <4843653205012218255ceccffc@mail.gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

hi,all

Does anyone know how to buy Lucene in Action in China?

Ansi

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12646-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jan 23 03:39:38 2005
Return-Path: <lucene-user-return-12646-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80380 invoked from network); 23 Jan 2005 03:39:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jan 2005 03:39:38 -0000
Received: (qmail 89319 invoked by uid 500); 23 Jan 2005 03:39:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89302 invoked by uid 500); 23 Jan 2005 03:39:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89288 invoked by uid 99); 23 Jan 2005 03:39:25 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of chenjian1227@gmail.com designates 64.233.170.204 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.204)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 22 Jan 2005 19:39:24 -0800
Received: by rproxy.gmail.com with SMTP id 40so42266rnz
        for <lucene-user@jakarta.apache.org>; Sat, 22 Jan 2005 19:39:22 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=f8IKwvMgCGv0yDI1F47w4Zm7cJW31L0wDMQoJUrmf7/fGu7g7elMxT5UAhtbw+Zrk1R2uqgT5vIoUEoOzEW1We5H3wQykxsdEWeQuiSi9ehM0Gi25khK8/1/JBooisdTLeiX0WTRFPuxqPcnNz8U0BrMxcGK7YAHfojv9MJgZpM=
Received: by 10.38.179.24 with SMTP id b24mr230469rnf;
        Sat, 22 Jan 2005 19:39:22 -0800 (PST)
Received: by 10.38.8.15 with HTTP; Sat, 22 Jan 2005 19:39:22 -0800 (PST)
Message-ID: <7ca1239105012219395f1653b9@mail.gmail.com>
Date: Sat, 22 Jan 2005 19:39:22 -0800
From: jian chen <chenjian1227@gmail.com>
Reply-To: jian chen <chenjian1227@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>, 
	ansi <mymaillist@gmail.com>
Subject: Re: Lucene in Action
In-Reply-To: <4843653205012218305a6e85f7@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <B978AA198CB86D488F88454BE7CA796C18ABB0@hqafex01.fao.org>
	 <4843653205012218255ceccffc@mail.gmail.com>
	 <4843653205012218305a6e85f7@mail.gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I am not sure. However I see that the book has an electronic version
you can buy online...

Cheers,

Jian


On Sun, 23 Jan 2005 10:30:24 +0800, ansi <mymaillist@gmail.com> wrote:
> hi,all
> 
> Does anyone know how to buy Lucene in Action in China?
> 
> Ansi
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12647-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jan 23 04:14:24 2005
Return-Path: <lucene-user-return-12647-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89015 invoked from network); 23 Jan 2005 04:14:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jan 2005 04:14:24 -0000
Received: (qmail 27897 invoked by uid 500); 23 Jan 2005 04:14:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27839 invoked by uid 500); 23 Jan 2005 04:14:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27825 invoked by uid 99); 23 Jan 2005 04:14:19 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30210.mail.mud.yahoo.com (HELO web30210.mail.mud.yahoo.com) (68.142.200.93)
  by apache.org (qpsmtpd/0.28) with SMTP; Sat, 22 Jan 2005 20:14:17 -0800
Received: (qmail 86510 invoked by uid 60001); 23 Jan 2005 04:14:15 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=BcA2ffMAh5mPN3tqOVNtayUJE5MA5RunQwMBzvpuUp17A6atIdtcBqahqSGBEYLc9n/R53679FVgZHoeF5l1TVaA+07JO5x2X5NaeUiHDrm+8B1ipZ0Q8We3WP4g4MD79p1fkL8/Gds1YbkyFoDcm6QXIwxIBqtG1z5RdRmZNPI=  ;
Message-ID: <20050123041415.86508.qmail@web30210.mail.mud.yahoo.com>
Received: from [69.201.139.168] by web30210.mail.mud.yahoo.com via HTTP; Sat, 22 Jan 2005 20:14:15 PST
Date: Sat, 22 Jan 2005 20:14:15 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene in Action
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  ansi <mymaillist@gmail.com>
In-Reply-To: <4843653205012218305a6e85f7@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Ansi,

If you want the print version, I would guess you could order it from
the publisher (http://www.manning.com/hatcher2) or from Amazon and they
will ship it to you in China.  The electronic version (a PDF file) is
also available from the above URL.

I'll ask Manning Publications and see whether they ship outside the
U.S.

Otis


--- ansi <mymaillist@gmail.com> wrote:

> hi,all
> 
> Does anyone know how to buy Lucene in Action in China?
> 
> Ansi
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12648-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jan 23 04:17:05 2005
Return-Path: <lucene-user-return-12648-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89467 invoked from network); 23 Jan 2005 04:17:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jan 2005 04:17:05 -0000
Received: (qmail 30288 invoked by uid 500); 23 Jan 2005 04:16:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30258 invoked by uid 500); 23 Jan 2005 04:16:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30241 invoked by uid 99); 23 Jan 2005 04:16:52 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30206.mail.mud.yahoo.com (HELO web30206.mail.mud.yahoo.com) (68.142.200.89)
  by apache.org (qpsmtpd/0.28) with SMTP; Sat, 22 Jan 2005 20:16:50 -0800
Received: (qmail 5377 invoked by uid 60001); 23 Jan 2005 04:16:48 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=oL/XOcRVTnMLWQzgcd14exbNonnRNHTMRkAyOd26mYFpehPjDEtZ/jzsWANNYMusEEhzfODFUYkOxY/xPL2lvtrSFvyB8t4Ed7b4DdEgAYh8ucWwuX1S+EpyW0YASMxzM7JCAIwMkWPE7IzNOMpVgeExe1fQPUR3vnxCbkaRu7k=  ;
Message-ID: <20050123041648.5375.qmail@web30206.mail.mud.yahoo.com>
Received: from [69.201.139.168] by web30206.mail.mud.yahoo.com via HTTP; Sat, 22 Jan 2005 20:16:48 PST
Date: Sat, 22 Jan 2005 20:16:48 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Opening up one large index takes 940M or memory?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41F2D95F.5070908@newsmonster.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yes, I remember your email about the large number of Terms.  If it can
be avoided and you figure out how to do it, I'd love to patch
something. :)

Otis

--- "Kevin A. Burton" <burton@newsmonster.org> wrote:

> Otis Gospodnetic wrote:
> 
> >It would be interesting to know _what_exactly_ uses your memory. 
> >Running under an optimizer should tell you that.
> >
> >The only thing that comes to mind is... can't remember the details
> now,
> >but when the index is opened, I believe every 128th term is read
> into
> >memory.  This, I believe, helps with index seeks at search time.  I
> >wonder if this is what's using your memory.  The number '128' can't
> be
> >modified just like that, but somebody (Julien?) has modified the
> code
> >in the past to make this variable.  That's the only thing I can
> think
> >of right now and it may or may not be an idea in the right
> direction.
> >  
> >
> I loaded it into a profiler a long time ago. Most of the code was due
> to 
> Term classes being loaded into memory.
> 
> I might try to get some time to load it into a profiler on monday...
> 
> Kevin
> 
> -- 
> 
> Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask me for an
> 
> invite!  Also see irc.freenode.net #rojo if you want to chat.
> 
> Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html
> 
> If you're interested in RSS, Weblogs, Social Networking, etc... then
> you 
> should work for Rojo!  If you recommend someone and we hire them
> you'll 
> get a free iPod!
>     
> Kevin A. Burton, Location - San Francisco, CA
>        AIM/YIM - sfburtonator,  Web - http://peerfear.org/
> GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12649-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jan 23 13:58:56 2005
Return-Path: <lucene-user-return-12649-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54732 invoked from network); 23 Jan 2005 13:58:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jan 2005 13:58:56 -0000
Received: (qmail 96727 invoked by uid 500); 23 Jan 2005 13:58:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96533 invoked by uid 500); 23 Jan 2005 13:58:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96520 invoked by uid 99); 23 Jan 2005 13:58:51 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web53505.mail.yahoo.com (HELO web53505.mail.yahoo.com) (206.190.37.66)
  by apache.org (qpsmtpd/0.28) with SMTP; Sun, 23 Jan 2005 05:58:49 -0800
Received: (qmail 71456 invoked by uid 60001); 23 Jan 2005 13:58:47 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=zKeKXMrPfg1JvDr/Ubn4S+645eKGbAn2wN7j8A9fFaRDXvxuDU3lZ+LxmAl1JNCigzLsdB9qnm17h6LD5jUcuNwcLwPlHpOr9ggLyHlt5Dp8CVBMyMgLwEmBYpMh/Vd604YHE2ZxZKtAfI3InTBaBgk9Mq4MiRk9eurJZHbatfU=  ;
Message-ID: <20050123135847.71454.qmail@web53505.mail.yahoo.com>
Received: from [210.5.196.6] by web53505.mail.yahoo.com via HTTP; Sun, 23 Jan 2005 05:58:47 PST
Date: Sun, 23 Jan 2005 05:58:47 -0800 (PST)
From: nafise hassani <nafisehasani@yahoo.com>
Subject: keep indexes as files or save them in database 
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi
I want to know from the performance point of view it
is better to save lucene indexes in database or use
them as files???
suggestion??
best regards  


		
__________________________________ 
Do you Yahoo!? 
All your favorites on one personal page  Try My Yahoo!
http://my.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12650-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jan 23 14:27:30 2005
Return-Path: <lucene-user-return-12650-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76854 invoked from network); 23 Jan 2005 14:27:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jan 2005 14:27:30 -0000
Received: (qmail 25653 invoked by uid 500); 23 Jan 2005 14:27:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25618 invoked by uid 500); 23 Jan 2005 14:27:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25603 invoked by uid 99); 23 Jan 2005 14:27:26 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=FORGED_RCVD_HELO,FROM_ENDS_IN_NUMS
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from av9-2-sn1.fre.skanova.net (HELO av9-2-sn1.fre.skanova.net) (81.228.11.116)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 23 Jan 2005 06:27:25 -0800
Received: by av9-2-sn1.fre.skanova.net (Postfix, from userid 502)
	id 39A7237E4E; Sun, 23 Jan 2005 15:27:22 +0100 (CET)
Received: from smtp2-1-sn2.hy.skanova.net (smtp2-1-sn2.hy.skanova.net [81.228.8.177])
	by av9-2-sn1.fre.skanova.net (Postfix) with ESMTP id 27B7737E4E
	for <lucene-user@jakarta.apache.org>; Sun, 23 Jan 2005 15:27:22 +0100 (CET)
Received: from 192.168.1.2 (h175n1fls25o1061.bredband.comhem.se [217.208.138.175])
	by smtp2-1-sn2.hy.skanova.net (Postfix) with ESMTP id 0329637E46
	for <lucene-user@jakarta.apache.org>; Sun, 23 Jan 2005 15:27:21 +0100 (CET)
Subject: Limit and offset
From: Kristian Hellquist <kristian.hellquist.054@student.lu.se>
Reply-To: kristian.hellquist.054@student.lu.se
To: lucene-user@jakarta.apache.org
Content-Type: text/plain
Date: Sun, 23 Jan 2005 15:37:33 +0100
Message-Id: <1106491053.6510.4.camel@svarten>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 (2.0.2-3) 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi!

I want to retrieve a selected area of the hits I get when I search the
index similar to a SQL-clause.
SELECT foo FROM bar OFFSET 10 LIMIT 10

How should I do this and experience good performance? Or is it just so
simple that I use the method Hits.doc(int)?

Thanks!
Kristian


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12651-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jan 23 14:51:07 2005
Return-Path: <lucene-user-return-12651-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82678 invoked from network); 23 Jan 2005 14:51:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jan 2005 14:51:07 -0000
Received: (qmail 50471 invoked by uid 500); 23 Jan 2005 14:51:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50388 invoked by uid 500); 23 Jan 2005 14:51:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50373 invoked by uid 99); 23 Jan 2005 14:51:03 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of appler@gmail.com designates 64.233.170.202 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.202)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 23 Jan 2005 06:51:01 -0800
Received: by rproxy.gmail.com with SMTP id z35so306571rne
        for <lucene-user@jakarta.apache.org>; Sun, 23 Jan 2005 06:51:00 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=oHHx/E9Sfd/mtjWpr5zhJMhW/vT0fnJ5RtXv9S5wZJDOe2YDGfaKDzPXIeywVxdachbCUNMu4PyFHn9c6DdVW51hBpTVlbY9+2QL4EoXQrM6wBJuSU5emGBgzpci3UjVcvDB/xtPwLh8nJt4se/JvF25Xiv9/U/yxLPHD52Wlb4=
Received: by 10.38.65.28 with SMTP id n28mr162266rna;
        Sun, 23 Jan 2005 06:50:59 -0800 (PST)
Received: by 10.38.163.47 with HTTP; Sun, 23 Jan 2005 06:50:59 -0800 (PST)
Message-ID: <48b708490501230650584c3f57@mail.gmail.com>
Date: Sun, 23 Jan 2005 23:50:59 +0900
From: Cheolgoo Kang <appler@gmail.com>
Reply-To: Cheolgoo Kang <appler@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Concurrent read and write
In-Reply-To: <20050121162013.99998.qmail@web30208.mail.mud.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <200501210957.22828.asteigerwalt@mindbridge.com>
	 <20050121162013.99998.qmail@web30208.mail.mud.yahoo.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Lucene's write lock is simple. There are four places that requires the
write lock.
Those are IndexReader.delete(int), IndexReader.setNorm(int,String,byte),
IndexReader.undeleteAll(), and IndexWriter.<init>. Once you've used
one of methods
above, you should close that IndexReader or IndexWriter instance to
release the write
lock (and to avoid the Lock-obtain-timed-out exception).

For example, the following sequence should be okay.
> IndexReader reader = IndexReader.open( DIR );
> reader.delete( new Term( "A", "B" ) );
> reader.close();
> IndexWriter writer = new IndexWriter( DIR, a, b );
> writer.add( oneDocument );
> writer.close();

But, a sequence following causes a "Lock obtain timed out" exception.
> IndexReader reader = IndexReader.open( DIR );
> reader.delete( new Term( "A", "B" ) );
> IndexWriter writer = new IndexWriter( DIR, a, b );

Because, the write lock obtained at IndexReader.delete() wouldn't be removed
by IndexReader.close() and "new IndexWriter()" sentence requires a write lock.


On Fri, 21 Jan 2005 08:20:12 -0800 (PST), Otis Gospodnetic
<otis_gospodnetic@yahoo.com> wrote:
> Hello Ashley,
> 
> You can read/search while modifying the index, but you have to ensure
> only one thread or only one process is modifying an index at any given
> time.  Both IndexReader and IndexWriter can be used to modify an index.
>  The former to delete Documents and the latter to add them.  You have
> to ensure these two operations don't overlap.
> c.f. http://www.lucenebook.com/search?query=concurrent
> 
> Otis
> 
> 
> --- Ashley Steigerwalt <asteigerwalt@mindbridge.com> wrote:
> 
> > I am a little fuzzy on the thread-safeness of Lucene, or maybe just
> > java.
> > From what I understand, and correct me if I'm wrong, Lucene takes
> > care of
> > concurrency issues and it is ok to run a query while writing to an
> > index.
> >
> > My question is, does this still hold true if the reader and writer
> > are being
> > executed as separate programs?  I have a cron job that will update
> > the index
> > periodically.  I also have a search application on a web form.  Is
> > this going
> > to cause trouble if someone runs a query while the indexer is
> > updating?
> >
> > Ashley
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


-- 
Cheolgoo, Kang

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12652-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jan 23 15:53:53 2005
Return-Path: <lucene-user-return-12652-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97833 invoked from network); 23 Jan 2005 15:53:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jan 2005 15:53:53 -0000
Received: (qmail 20736 invoked by uid 500); 23 Jan 2005 15:53:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20717 invoked by uid 500); 23 Jan 2005 15:53:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20704 invoked by uid 99); 23 Jan 2005 15:53:49 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 23 Jan 2005 07:53:48 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 1EEE913E2902; Sun, 23 Jan 2005 10:53:45 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 4CA8213E28F8
	for <lucene-user@jakarta.apache.org>; Sun, 23 Jan 2005 10:53:30 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <1106491053.6510.4.camel@svarten>
References: <1106491053.6510.4.camel@svarten>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <EB6B0ADF-6D56-11D9-BE72-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Limit and offset
Date: Sun, 23 Jan 2005 10:53:26 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.6 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Random accessing a start point in Hits will probably be sufficient for 
what you want to do.  I do this for all the web applications I've built 
with Lucene and performance has been more than acceptable.

	Erik



On Jan 23, 2005, at 9:37 AM, Kristian Hellquist wrote:

> Hi!
>
> I want to retrieve a selected area of the hits I get when I search the
> index similar to a SQL-clause.
> SELECT foo FROM bar OFFSET 10 LIMIT 10
>
> How should I do this and experience good performance? Or is it just so
> simple that I use the method Hits.doc(int)?
>
> Thanks!
> Kristian
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12653-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jan 23 21:33:13 2005
Return-Path: <lucene-user-return-12653-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14268 invoked from network); 23 Jan 2005 21:33:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jan 2005 21:33:13 -0000
Received: (qmail 14412 invoked by uid 500); 23 Jan 2005 21:33:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13571 invoked by uid 500); 23 Jan 2005 21:33:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13558 invoked by uid 99); 23 Jan 2005 21:33:10 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=FORGED_RCVD_HELO,FROM_ENDS_IN_NUMS
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from av3-2-sn4.m-sp.skanova.net (HELO av3-2-sn4.m-sp.skanova.net) (81.228.10.113)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 23 Jan 2005 13:33:10 -0800
Received: by av3-2-sn4.m-sp.skanova.net (Postfix, from userid 502)
	id 2FF0F37F22; Sun, 23 Jan 2005 22:33:07 +0100 (CET)
Received: from smtp4-1-sn4.m-sp.skanova.net (smtp4-1-sn4.m-sp.skanova.net [81.228.10.181])
	by av3-2-sn4.m-sp.skanova.net (Postfix) with ESMTP id 1CE8537EF6
	for <lucene-user@jakarta.apache.org>; Sun, 23 Jan 2005 22:33:07 +0100 (CET)
Received: from 192.168.1.2 (h175n1fls25o1061.bredband.comhem.se [217.208.138.175])
	by smtp4-1-sn4.m-sp.skanova.net (Postfix) with ESMTP id E532937E44
	for <lucene-user@jakarta.apache.org>; Sun, 23 Jan 2005 22:33:06 +0100 (CET)
Subject: Re: Limit and offset
From: Kristian Hellquist <kristian.hellquist.054@student.lu.se>
Reply-To: kristian.hellquist.054@student.lu.se
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <EB6B0ADF-6D56-11D9-BE72-000393A564E6@ehatchersolutions.com>
References: <1106491053.6510.4.camel@svarten>
	 <EB6B0ADF-6D56-11D9-BE72-000393A564E6@ehatchersolutions.com>
Content-Type: text/plain
Date: Sun, 23 Jan 2005 22:43:20 +0100
Message-Id: <1106516600.6510.11.camel@svarten>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 (2.0.2-3) 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Alright, that sounds good Erik. I go with the Hits.doc(int)
Thanks.

On Sun, 2005-01-23 at 10:53 -0500, Erik Hatcher wrote:
> Random accessing a start point in Hits will probably be sufficient for 
> what you want to do.  I do this for all the web applications I've built 
> with Lucene and performance has been more than acceptable.
> 
> 	Erik
> 
> 
> 
> On Jan 23, 2005, at 9:37 AM, Kristian Hellquist wrote:
> 
> > Hi!
> >
> > I want to retrieve a selected area of the hits I get when I search the
> > index similar to a SQL-clause.
> > SELECT foo FROM bar OFFSET 10 LIMIT 10
> >
> > How should I do this and experience good performance? Or is it just so
> > simple that I use the method Hits.doc(int)?
> >
> > Thanks!
> > Kristian
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12654-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jan 23 23:11:13 2005
Return-Path: <lucene-user-return-12654-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54071 invoked from network); 23 Jan 2005 23:11:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Jan 2005 23:11:13 -0000
Received: (qmail 33083 invoked by uid 500); 23 Jan 2005 23:11:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33044 invoked by uid 500); 23 Jan 2005 23:11:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33029 invoked by uid 99); 23 Jan 2005 23:11:07 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from main.gmane.org (HELO main.gmane.org) (80.91.229.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 23 Jan 2005 15:11:06 -0800
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1Csqsn-0004Nf-00
	for <lucene-user@jakarta.apache.org>; Mon, 24 Jan 2005 00:11:01 +0100
Received: from adsl-68-94-25-176.dsl.rcsntx.swbell.net ([68.94.25.176])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Mon, 24 Jan 2005 00:11:01 +0100
Received: from vin by adsl-68-94-25-176.dsl.rcsntx.swbell.net with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Mon, 24 Jan 2005 00:11:01 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: Vic <vin@friendvu.com>
Subject: Re: Opening up one large index takes 940M or memory?
Date: Sun, 23 Jan 2005 17:10:51 -0600
Lines: 138
Message-ID: <ct1atq$muh$1@sea.gmane.org>
References: <200501221047.27998.paul.elschot@xs4all.nl>	 <20050122163250.44359.qmail@web30201.mail.mud.yahoo.com> <7ca12391050122084835dbf9ac@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: adsl-68-94-25-176.dsl.rcsntx.swbell.net
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
In-Reply-To: <7ca12391050122084835dbf9ac@mail.gmail.com>
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Sounds interesting. (Is there a btree seralization impl in java?)
.V

jian chen wrote:

>Hi,
>
>If it is really the case that every 128th term is loaded into memory.
>Could you use a relational database or b-tree to index to do the work
>of indexing of the terms instead?
>
>Even if you create another level of indexing on top of the .tii fle,
>it is just a hack and would not scale well.
>
>I would think a b/b+ tree based approach is the way to go for better
>memory utilization.
>
>Cheers,
>
>Jian
>
>
>On Sat, 22 Jan 2005 08:32:50 -0800 (PST), Otis Gospodnetic
><otis_gospodnetic@yahoo.com> wrote:
>  
>
>>There Kevin, that's what I was referring to, the .tii file.
>>
>>Otis
>>
>>--- Paul Elschot <paul.elschot@xs4all.nl> wrote:
>>
>>    
>>
>>>On Saturday 22 January 2005 01:39, Kevin A. Burton wrote:
>>>      
>>>
>>>>Kevin A. Burton wrote:
>>>>
>>>>        
>>>>
>>>>>We have one large index right now... its about 60G ... When I
>>>>>          
>>>>>
>>>open it
>>>      
>>>
>>>>>the Java VM used 940M of memory.  The VM does nothing else
>>>>>          
>>>>>
>>>besides
>>>      
>>>
>>>>>open this index.
>>>>>          
>>>>>
>>>>After thinking about it I guess 1.5% of memory per index really
>>>>        
>>>>
>>>isn't
>>>      
>>>
>>>>THAT bad.  What would be nice if there was a way to do this from
>>>>        
>>>>
>>>disk
>>>      
>>>
>>>>and then use the a buffer (either via the filesystem or in-vm
>>>>        
>>>>
>>>memory) to
>>>      
>>>
>>>>access these variables.
>>>>        
>>>>
>>>It's even documented. From:
>>>http://jakarta.apache.org/lucene/docs/fileformats.html :
>>>
>>>      
>>>
>>>>The term info index, or .tii file.
>>>>This contains every IndexIntervalth entry from the .tis file, along
>>>>        
>>>>
>>>with its
>>>      
>>>
>>>>location in the "tis" file. This is designed to be read entirely
>>>>        
>>>>
>>>into memory
>>>      
>>>
>>>>and used to provide random access to the "tis" file.
>>>>        
>>>>
>>>My guess is that this is what you see happening.
>>>To see the actuall .tii file, you need the non default file format.
>>>
>>>Once searching starts you'll also see that the field norms are
>>>loaded,
>>>these take one byte per searched field per document.
>>>
>>>      
>>>
>>>>This would be similar to the way the MySQL index cache works...
>>>>        
>>>>
>>>It would be possible to add another level of indexing to the terms.
>>>No one has done this yet, so I guess it's prefered to buy RAM
>>>instead...
>>>
>>>Regards,
>>>Paul Elschot
>>>
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>>
>>>      
>>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>    
>>


-- 
RiA-SoA w/JDNC <http://www.SandraSF.com> forums
- help develop a community
My blog <http://www.sandrasf.com/adminBlog>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12655-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 24 01:58:30 2005
Return-Path: <lucene-user-return-12655-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43317 invoked from network); 24 Jan 2005 01:58:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Jan 2005 01:58:30 -0000
Received: (qmail 37752 invoked by uid 500); 24 Jan 2005 01:58:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36898 invoked by uid 500); 24 Jan 2005 01:58:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36881 invoked by uid 99); 24 Jan 2005 01:58:26 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=FORGED_RCVD_HELO,HTML_20_30,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.cybersites.net (HELO ns.uscybersites.net) (206.98.167.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 23 Jan 2005 17:58:25 -0800
Received: from [127.0.0.1] (unknown [216.126.80.147])
	by ns.uscybersites.net (Postfix) with ESMTP id DF68282B68
	for <lucene-user@jakarta.apache.org>; Sun, 23 Jan 2005 20:57:53 -0500 (EST)
Message-ID: <41F4563A.4000901@max3d.com>
Date: Sun, 23 Jan 2005 20:58:18 -0500
From: "amigo@max3d.com" <amigo@max3d.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: English and French documents together / analysis, indexing, searching
References: <20050120125959.29751.qmail@web25810.mail.ukl.yahoo.com>	<41EFF144.2070108@max3d.com>	<41EFF2D8.1030709@intrafind.de>	<41EFF3EE.4020702@max3d.com>	<41EFF846.3090105@intrafind.de>	<41EFFAF4.3080206@max3d.com> <16880.43988.243047.240400@tanto-xipolis.de>
In-Reply-To: <16880.43988.243047.240400@tanto-xipolis.de>
Content-Type: multipart/alternative;
 boundary="------------020506020404000201010806"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------020506020404000201010806
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable

Morus Walter said the following on 1/21/2005 2:14 AM:

> No. You could do a ( ( french-query ) or ( english-query ) ) construct =

> using
>
>one query. So query construction would be a bit more complex but queryin=
g
>itself wouldn't change.
>
>The first thing I'd do in your case would be to look at the differences
>in the output of english and french snowball stemmer.
>I don't speak any french, but probably you might even use both stemmers
>on all texts.
>
>Morus
>

I've done some thinking afterwards, and instead of messing with complex=20
queries, would it make sense to
replace all "special" characters such as "=E9", "=E8" with "e" during=20
indexing (I suppose write a custom analyzer)
and then during searching parse the query and replace all occurances of=20
special characters (if any) with their
normal latin equivalents?

This should produce the required results, no? Since the index would not=20
contain any French characters and
searching for French words would return them since they were indexed as=20
normal words.

-pedja



--------------020506020404000201010806--

From lucene-user-return-12656-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 24 06:08:38 2005
Return-Path: <lucene-user-return-12656-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12201 invoked from network); 24 Jan 2005 06:08:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Jan 2005 06:08:38 -0000
Received: (qmail 58334 invoked by uid 500); 24 Jan 2005 06:08:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58307 invoked by uid 500); 24 Jan 2005 06:08:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58293 invoked by uid 99); 24 Jan 2005 06:08:32 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30204.mail.mud.yahoo.com (HELO web30204.mail.mud.yahoo.com) (68.142.200.87)
  by apache.org (qpsmtpd/0.28) with SMTP; Sun, 23 Jan 2005 22:08:30 -0800
Received: (qmail 63905 invoked by uid 60001); 24 Jan 2005 06:08:28 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=XsXT/ED0mvrGb0z/wqYPRqs2raEuwgthpLiYYC7DqdEvCDYJXbGeUiQmua8kWmvCkI6tqUkZvM326UrhBrtPl5EfFlJWRG2EOWhU+QkvciFs5KWokNJBMMG+hoNjeN9wx7Bs6Qpa2r/g0OKFATtPUI5j0QDu1UtPYEvK1nbiBzc=  ;
Message-ID: <20050124060828.63903.qmail@web30204.mail.mud.yahoo.com>
Received: from [69.201.139.168] by web30204.mail.mud.yahoo.com via HTTP; Sun, 23 Jan 2005 22:08:28 PST
Date: Sun, 23 Jan 2005 22:08:28 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: English and French documents together / analysis, indexing, searching
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41F4563A.4000901@max3d.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

That would be a partial solution.  Accents will not be a problem any
more, but if you use an Analyzer than stems tokens, they will not rally
be tokenized properly.  Searches will probably work, but if you look at
the index you will see that some terms were not analyzed properly.  But
it may be sufficient for your needs, so try just with accent removal.

Otis


--- "amigo@max3d.com" <amigo@max3d.com> wrote:

> Morus Walter said the following on 1/21/2005 2:14 AM:
> 
> > No. You could do a ( ( french-query ) or ( english-query ) )
> construct 
> > using
> >
> >one query. So query construction would be a bit more complex but
> querying
> >itself wouldn't change.
> >
> >The first thing I'd do in your case would be to look at the
> differences
> >in the output of english and french snowball stemmer.
> >I don't speak any french, but probably you might even use both
> stemmers
> >on all texts.
> >
> >Morus
> >
> 
> I've done some thinking afterwards, and instead of messing with
> complex 
> queries, would it make sense to
> replace all "special" characters such as "", "" with "e" during 
> indexing (I suppose write a custom analyzer)
> and then during searching parse the query and replace all occurances
> of 
> special characters (if any) with their
> normal latin equivalents?
> 
> This should produce the required results, no? Since the index would
> not 
> contain any French characters and
> searching for French words would return them since they were indexed
> as 
> normal words.
> 
> -pedja
> 
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12657-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 24 06:09:57 2005
Return-Path: <lucene-user-return-12657-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13089 invoked from network); 24 Jan 2005 06:09:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Jan 2005 06:09:56 -0000
Received: (qmail 61505 invoked by uid 500); 24 Jan 2005 06:09:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61405 invoked by uid 500); 24 Jan 2005 06:09:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61391 invoked by uid 99); 24 Jan 2005 06:09:47 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30201.mail.mud.yahoo.com (HELO web30201.mail.mud.yahoo.com) (68.142.200.84)
  by apache.org (qpsmtpd/0.28) with SMTP; Sun, 23 Jan 2005 22:09:46 -0800
Received: (qmail 68279 invoked by uid 60001); 24 Jan 2005 06:09:44 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=kjDcErTGsoUY5QszbzhbgowYwQggBCC2BasZbcBInmTbCPYF9cIvMvHLaeoaCzeIxBBAc3o0JuWcji6HP+W44KTRBXGkjxPQR7McEBVB9PtFQBEj3+7+znkIzYt8InsyuXJlJ7n1ZsPc8dlSxmn9Pt64bC2EgACxMty0UPGP3l4=  ;
Message-ID: <20050124060944.68277.qmail@web30201.mail.mud.yahoo.com>
Received: from [69.201.139.168] by web30201.mail.mud.yahoo.com via HTTP; Sun, 23 Jan 2005 22:09:44 PST
Date: Sun, 23 Jan 2005 22:09:44 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: keep indexes as files or save them in database 
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20050123135847.71454.qmail@web53505.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

A number of people have tried putting Lucene indices in RDBMS.  As far
as I know, all were slower than FSDirectory.

Otis

--- nafise hassani <nafisehasani@yahoo.com> wrote:

> Hi
> I want to know from the performance point of view it
> is better to save lucene indexes in database or use
> them as files???
> suggestion??
> best regards  
> 
> 
> 		
> __________________________________ 
> Do you Yahoo!? 
> All your favorites on one personal page  Try My Yahoo!
> http://my.yahoo.com 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12658-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 24 07:58:15 2005
Return-Path: <lucene-user-return-12658-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82748 invoked from network); 24 Jan 2005 07:58:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Jan 2005 07:58:15 -0000
Received: (qmail 38773 invoked by uid 500); 24 Jan 2005 07:58:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38748 invoked by uid 500); 24 Jan 2005 07:58:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38730 invoked by uid 99); 24 Jan 2005 07:58:08 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtpout.mac.com (HELO smtpout.mac.com) (17.250.248.46)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 23 Jan 2005 23:58:06 -0800
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (8.12.6/MantshX 2.0) with ESMTP id j0O7w1Sp015821
	for <lucene-user@jakarta.apache.org>; Sun, 23 Jan 2005 23:58:01 -0800 (PST)
Received: from [10.0.1.19] (adsl-62-167-40-82.adslplus.ch [62.167.40.82])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 4.0) with ESMTP id j0O7vvLK014502
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NO)
	for <lucene-user@jakarta.apache.org>; Sun, 23 Jan 2005 23:58:00 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <ct1atq$muh$1@sea.gmane.org>
References: <200501221047.27998.paul.elschot@xs4all.nl> <20050122163250.44359.qmail@web30201.mail.mud.yahoo.com> <7ca12391050122084835dbf9ac@mail.gmail.com> <ct1atq$muh$1@sea.gmane.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <B63EF137-6DDD-11D9-AF86-000393760B7E@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: Opening up one large index takes 940M or memory?
Date: Mon, 24 Jan 2005 08:58:19 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 24, 2005, at 00:10, Vic wrote:

> (Is there a btree seralization impl in java?)

http://jdbm.sourceforge.net/

Cheers

--
PA
http://alt.textdrive.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12659-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 24 08:14:16 2005
Return-Path: <lucene-user-return-12659-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93299 invoked from network); 24 Jan 2005 08:14:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Jan 2005 08:14:16 -0000
Received: (qmail 69286 invoked by uid 500); 24 Jan 2005 08:14:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69261 invoked by uid 500); 24 Jan 2005 08:14:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69245 invoked by uid 99); 24 Jan 2005 08:14:07 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jasonpolites@tpg.com.au designates 203.12.160.113 as permitted sender)
Received: from mail6.tpgi.com.au (HELO mail.tpgi.com.au) (203.12.160.113)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 24 Jan 2005 00:14:06 -0800
Received: from MINOS (CPE-61-9-143-85.vic.bigpond.net.au [61.9.143.85])
	(authenticated bits=0)
	by mail.tpgi.com.au (8.12.10/8.12.10) with ESMTP id j0O8E1if010472
	for <lucene-user@jakarta.apache.org>; Mon, 24 Jan 2005 19:14:02 +1100
Message-ID: <08fe01c501ec$aa06a900$6400a8c0@everymail.com.au>
Reply-To: "Jason Polites" <jason.polites@everymail.com.au>
From: "Jason Polites" <jasonpolites@tpg.com.au>
To: <lucene-user@jakarta.apache.org>
Subject: Duplicate hits using ParallelMultiSearcher
Date: Mon, 24 Jan 2005 19:14:02 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-TPG-Antivirus: Passed
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello all,

I am looking for a strategy to exclude duplicate entries when searching 
multiple indexes which may contain the same document.  I have an email 
system which archives and indexes emails on a per-recipient basis.  So, each 
email recipient has their own index.  In the case where the same email is 
delivered to more than one recipient, each recipient's index stores a record 
of effectively the same document.  Now, there is a requirement to perform a 
search across multiple indexes, for which I am using the 
ParallelMultiSearcher.  The problem is that this results in duplicate 
entries in the Hits returned.  I can easily transfer the results into some 
form of java.util.Set to guarantee uniqueness, however I have a problem with 
the length() of the Hits object returned.  Ideally I need a way of filtering 
the Hits based on a "no duplicate" rule.  I am aware of the Filter object 
however the unique identifier of my document is a field within the lucene 
document itself (messageid); and I am reluctant to access this field using 
the public API for every Hit as I fear it will have drastic performance 
implications.

The ideal solution for me would be to specify a field during the search 
which is guaranteed to be unique across the Hits returned.  Anyone know of 
an elegant way to do this?  Alternatively is there a way I can de-dupe the 
list myself without loading every document?

Apologies for the length of this question.

P.S.  The separation of indexes per-recipient is a mandatory requirement. 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12660-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 24 10:10:40 2005
Return-Path: <lucene-user-return-12660-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4757 invoked from network); 24 Jan 2005 10:10:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Jan 2005 10:10:40 -0000
Received: (qmail 19585 invoked by uid 500); 24 Jan 2005 10:10:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19547 invoked by uid 500); 24 Jan 2005 10:10:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19534 invoked by uid 99); 24 Jan 2005 10:10:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from Unknown (HELO goose.milesbarr.com) (81.168.89.246)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 24 Jan 2005 02:10:25 -0800
Received: by goose.milesbarr.com (Postfix, from userid 1000)
	id 9759327A4E1; Mon, 24 Jan 2005 10:09:49 +0000 (GMT)
Subject: Re: keep indexes as files or save them in database
From: Miles Barr <miles@runtime-collective.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20050124060944.68277.qmail@web30201.mail.mud.yahoo.com>
References: <20050124060944.68277.qmail@web30201.mail.mud.yahoo.com>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Organization: Runtime Collective Ltd.
Date: Mon, 24 Jan 2005 10:09:48 +0000
Message-Id: <1106561389.5561.5.camel@goose.milesbarr.com>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Sun, 2005-01-23 at 22:09 -0800, Otis Gospodnetic wrote:
> A number of people have tried putting Lucene indices in RDBMS.  As far
> as I know, all were slower than FSDirectory.

Do you know if the Berkeley DB back end also has a performance hit?



-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12661-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 24 11:43:06 2005
Return-Path: <lucene-user-return-12661-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74150 invoked from network); 24 Jan 2005 11:43:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Jan 2005 11:43:05 -0000
Received: (qmail 6917 invoked by uid 500); 24 Jan 2005 11:42:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6878 invoked by uid 500); 24 Jan 2005 11:42:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6858 invoked by uid 99); 24 Jan 2005 11:42:58 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of petite.abeille@gmail.com designates 64.233.184.200 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.200)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 24 Jan 2005 03:42:56 -0800
Received: by wproxy.gmail.com with SMTP id 63so305002wri
        for <lucene-user@jakarta.apache.org>; Mon, 24 Jan 2005 03:42:54 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=AnllqsUpKYAj74pTiGyOdcJSc8d8USQy1EZOv1kTU3Fm9pN5zqaGIqq2taJADbgWmuzRWv7UXisGRVlS2E7wsA+a3PiPLVIqMFzq5RT5T/RluUDMNsJ6XpFsFbzGBViKGxnCe6I5rFRGC2tzVLh6FU6sLNcmZ7mOUwFoaCAF7YI=
Received: by 10.54.20.70 with SMTP id 70mr3674wrt;
        Mon, 24 Jan 2005 03:42:54 -0800 (PST)
Received: from ?10.0.1.19? ([62.167.40.82])
        by smtp.gmail.com with ESMTP id 67sm63wra.2005.01.24.03.42.53;
        Mon, 24 Jan 2005 03:42:54 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <08fe01c501ec$aa06a900$6400a8c0@everymail.com.au>
References: <08fe01c501ec$aa06a900$6400a8c0@everymail.com.au>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <2313E49E-6DFD-11D9-AEC2-000393760B7E@gmail.com>
Content-Transfer-Encoding: 7bit
From: PA <petite.abeille@gmail.com>
Subject: Re: Duplicate hits using ParallelMultiSearcher
Date: Mon, 24 Jan 2005 12:43:16 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 24, 2005, at 09:14, Jason Polites wrote:

> I am aware of the Filter object however the unique identifier of my 
> document is a field within the lucene document itself (messageid); and 
> I am reluctant to access this field using the public API for every Hit 
> as I fear it will have drastic performance implications.

Well... I don't see any way around that as you basically want to 
uniquely identify your messages based on their Message-ID.

That said, you don't need to do it during the search itself. You could 
simply perform your search as you do now and then create a set of 
unique messages while preserving Lucene Hits sort ordering for 
"relevance" purpose.

HTH.

Cheers

--
PA
http://alt.textdrive.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12662-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 24 12:24:57 2005
Return-Path: <lucene-user-return-12662-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11838 invoked from network); 24 Jan 2005 12:24:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Jan 2005 12:24:57 -0000
Received: (qmail 88231 invoked by uid 500); 24 Jan 2005 12:24:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88205 invoked by uid 500); 24 Jan 2005 12:24:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88190 invoked by uid 99); 24 Jan 2005 12:24:50 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ip-64-32-221-50.dsl.iad.megapath.net (HELO mail.lou.emergint.com) (64.32.221.50)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 24 Jan 2005 04:24:48 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Stemming
Date: Mon, 24 Jan 2005 07:24:46 -0500
Message-ID: <8D7DE0C84F1D5149894354E754E6807E332694@mail.lou.emergint.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Stemming
Thread-Index: AcUAC7yzXcDruTiOTAKcbdv+x3cmRwCA2RBw
From: "Kevin L. Cobb" <kevin.cobb@emergint.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	"Chris Lamprecht" <clamprecht@gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Do stemming algorithms take into consideration abbreviations too? Some
examples:

mg =3D milligrams
US =3D United States
CD =3D compact disc
vcr =3D video casette recorder

And, the next logical question, if stemming does not take care of
abbreviations, are there any solutions that include abbreviations inside
or outside of Lucene?

Thanks,

Kevin


-----Original Message-----
From: Chris Lamprecht [mailto:clamprecht@gmail.com]=20
Sent: Friday, January 21, 2005 5:51 PM
To: Lucene Users List
Subject: Re: Stemming

Also if you can't wait, see page 2 of
http://www.onjava.com/pub/a/onjava/2003/01/15/lucene.html

or the LIA e-book ;)

On Fri, 21 Jan 2005 09:27:42 -0500, Kevin L. Cobb
<kevin.cobb@emergint.com> wrote:
> OK, OK ... I'll buy the book. I guess its about time since I am deeply
> and forever in love with Lucene. Might as well take the final plunge.
>=20
>=20
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Friday, January 21, 2005 9:12 AM
> To: Lucene Users List
> Subject: Re: Stemming
>=20
> Hi Kevin,
>=20
> Stemming is an optional operation and is done in the analysis step.
> Lucene comes with a Porter stemmer and a Filter that you can use in an
> Analyzer:
>=20
> ./src/java/org/apache/lucene/analysis/PorterStemFilter.java
> ./src/java/org/apache/lucene/analysis/PorterStemmer.java
>=20
> You can find more about it here:
> http://www.lucenebook.com/search?query=3Dstemming
> You can also see mentions of SnowballAnalyzer in those search results,
> and you can find an adapter for SnowballAnalyzers in Lucene Sandbox.
>=20
> Otis
>=20
> --- "Kevin L. Cobb" <kevin.cobb@emergint.com> wrote:
>=20
> > I want to understand how Lucene uses stemming but can't find any
> > documentation on the Lucene site. I'll continue to google but hope
> > that
> > this list can help narrow my search. I have several questions on the
> > subject currently but hesitate to list them here since finding a
good
> > document on the subject may answer most of them.
> >
> >
> >
> > Thanks in advance for any pointers,
> >
> >
> >
> > Kevin
> >
> >
> >
> >
> >
> >
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12663-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 24 12:40:52 2005
Return-Path: <lucene-user-return-12663-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18305 invoked from network); 24 Jan 2005 12:40:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Jan 2005 12:40:52 -0000
Received: (qmail 15550 invoked by uid 500); 24 Jan 2005 12:40:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15513 invoked by uid 500); 24 Jan 2005 12:40:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15493 invoked by uid 99); 24 Jan 2005 12:40:45 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 24 Jan 2005 04:40:43 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 79DD413E28F8; Mon, 24 Jan 2005 07:40:40 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 71E8113E2902
	for <lucene-user@jakarta.apache.org>; Mon, 24 Jan 2005 07:40:18 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <8D7DE0C84F1D5149894354E754E6807E332694@mail.lou.emergint.com>
References: <8D7DE0C84F1D5149894354E754E6807E332694@mail.lou.emergint.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <1D62D31C-6E05-11D9-B65F-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Stemming
Date: Mon, 24 Jan 2005 07:40:23 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.5 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 24, 2005, at 7:24 AM, Kevin L. Cobb wrote:

> Do stemming algorithms take into consideration abbreviations too?

No, they don't.  Adding abbreviations, aliases, synonyms, etc is not 
stemming.

> And, the next logical question, if stemming does not take care of
> abbreviations, are there any solutions that include abbreviations 
> inside
> or outside of Lucene?

Nothing built into Lucene does this, but the infrastructure allows it 
to be added in the form of a custom analysis step.  There are two basic 
approaches, adding aliases at indexing time, or adding them at query 
time by expanding the query.  I created some example analyzers in 
Lucene in Action (grab the source code from the site linked below) that 
demonstrate how this can be done using WordNet (and mock) synonym 
lookup.  You could extrapolate this into looking up abbreviations and 
adding them into the token stream.

	http://www.lucenebook.com/search?query=synonyms

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12664-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 24 17:27:01 2005
Return-Path: <lucene-user-return-12664-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74802 invoked from network); 24 Jan 2005 17:27:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Jan 2005 17:27:01 -0000
Received: (qmail 95564 invoked by uid 500); 24 Jan 2005 17:26:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95525 invoked by uid 500); 24 Jan 2005 17:26:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95175 invoked by uid 99); 24 Jan 2005 17:26:48 -0000
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=FORGED_MUA_IMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from hades.labone.com (HELO hades.labone.com) (198.70.194.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 24 Jan 2005 09:26:46 -0800
Received: from smsrv.1.24.172.in-addr.arpa by hades.labone.com
          via smtpd (for hermes.apache.org [209.237.227.199]) with ESMTP; Mon, 24 Jan 2005 11:26:40 -0600
From: "Jerry Jalenak" <Jerry.Jalenak@LABONE.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Filtering w/ Multiple Terms
Date: Mon, 24 Jan 2005 11:26:22 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
X-WSS-ID: 6DEBF04333665264-01-01
Content-Type: text/plain;
 charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I spent some time reading the Lucene in Action book this weekend (great job,
btw), and came across the section on using custom filters.  Since the data
that I need to use to filter my hit set with comes from a database, I
thought it would be worth my effort this morning to write a custom filter
that would handle the filtering for me.  So, using the example from the book
(page 210), I've coded an AccountFilter:

public class AccountFilter extends Filter
{
	public AccountFilter()
	{}
	
	public BitSet bits(IndexReader indexReader)
		throws IOException
	{
		System.out.println("Entering AccountFilter...");
		BitSet bitSet = new BitSet(indexReader.maxDoc());

		String[] reportingAccounts = new String[] {"0011", "4kfs"};
		
		int[] docs = new int[1];
		int[] freqs = new int[1];
		
		for (int i = 0; i < reportingAccounts.length; i++)
		{
			String reportingAccount = reportingAccounts[i];
			if (reportingAccount != null)
			{
				TermDocs termDocs = indexReader.termDocs(new
Term("account", reportingAccount));
				int count = termDocs.read(docs, freqs);
				if (count == 1)
				{
					System.out.println("Setting bit
on");
					bitSet.set(docs[0]);
				}
			}
		}
		System.out.println("Leaving AccountFilter...");
		return bitSet;
	}
}

I see where the AccountFilter is setting the cooresponding 'bits', but I end
up without any 'hits':

Entering AccountFilter...
Entering AccountFilter...
Entering AccountFilter...
Setting bit on
Setting bit on
Setting bit on
Setting bit on
Setting bit on
Leaving AccountFilter...
Leaving AccountFilter...
Leaving AccountFilter...
... Found 0 matching documents in 1000 ms

Can anyone tell me what I've done wrong?

Jerry Jalenak
Senior Programmer / Analyst, Web Publishing
LabOne, Inc.
10101 Renner Blvd.
Lenexa, KS  66219
(913) 577-1496

jerry.jalenak@labone.com


> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Friday, January 21, 2005 8:15 AM
> To: Lucene Users List
> Subject: RE: Filtering w/ Multiple Terms
> 
> 
> This:
> http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/se
> arch/BooleanQuery.TooManyClauses.html
> ?
> 
> You can control that limit via
> http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/se
> arch/BooleanQuery.html#maxClauseCount
> 
> Otis
> 
> 
> --- Jerry Jalenak <Jerry.Jalenak@LABONE.com> wrote:
> 
> > OK.  But isn't there a limit on the number of 
> BooleanQueries that can
> > be
> > combined with AND / OR / etc?
> > 
> > 
> > 
> > Jerry Jalenak
> > Senior Programmer / Analyst, Web Publishing
> > LabOne, Inc.
> > 10101 Renner Blvd.
> > Lenexa, KS  66219
> > (913) 577-1496
> > 
> > jerry.jalenak@labone.com
> > 
> > 
> > > -----Original Message-----
> > > From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> > > Sent: Thursday, January 20, 2005 5:05 PM
> > > To: Lucene Users List
> > > Subject: Re: Filtering w/ Multiple Terms
> > > 
> > > 
> > > 
> > > On Jan 20, 2005, at 5:02 PM, Jerry Jalenak wrote:
> > > 
> > > > In looking at the examples for filtering of hits, it looks 
> > > like I can 
> > > > only
> > > > specify a single term; i.e.
> > > >
> > > > 	Filter f = new QueryFilter(new TermQuery(new 
> Term("acct",
> > > > "acct1")));
> > > >
> > > > I need to specify more than one term in my filter.  Short of
> > using 
> > > > something
> > > > like ChainFilter, how are others handling this?
> > > 
> > > You can make as complex of a Query as you want for 
> > > QueryFilter.  If you 
> > > want to filter on multiple terms, construct a BooleanQuery 
> > > with nested 
> > > TermQuery's, either in an AND or OR fashion.
> > > 
> > > 	Erik
> > > 
> > > 
> > >
> > 
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > > 
> > > 
> > 
> > This transmission (and any information attached to it) may be
> > confidential and
> > is intended solely for the use of the individual or entity to which
> > it is
> > addressed. If you are not the intended recipient or the person
> > responsible for
> > delivering the transmission to the intended recipient, be advised
> > that you
> > have received this transmission in error and that any use,
> > dissemination,
> > forwarding, printing, or copying of this information is strictly
> > prohibited.
> > If you have received this transmission in error, please immediately
> > notify
> > LabOne at the following email address:
> > securityincidentreporting@labone.com
> > 
> > 
> > 
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 

This transmission (and any information attached to it) may be confidential and
is intended solely for the use of the individual or entity to which it is
addressed. If you are not the intended recipient or the person responsible for
delivering the transmission to the intended recipient, be advised that you
have received this transmission in error and that any use, dissemination,
forwarding, printing, or copying of this information is strictly prohibited.
If you have received this transmission in error, please immediately notify
LabOne at the following email address: securityincidentreporting@labone.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12665-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 24 18:24:23 2005
Return-Path: <lucene-user-return-12665-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14414 invoked from network); 24 Jan 2005 18:24:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Jan 2005 18:24:23 -0000
Received: (qmail 38466 invoked by uid 500); 24 Jan 2005 18:24:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38418 invoked by uid 500); 24 Jan 2005 18:24:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38365 invoked by uid 99); 24 Jan 2005 18:24:07 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of andi@osafoundation.org designates 204.152.186.98 as permitted sender)
Received: from kahuna.osafoundation.org (HELO kahuna.osafoundation.org) (204.152.186.98)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 24 Jan 2005 10:24:06 -0800
X-Envelope-From: andi@osafoundation.org
X-Envelope-To: <lucene-user@jakarta.apache.org>
Received: from localhost (kahuna.osafoundation.org [127.0.0.1])
	by kahuna.osafoundation.org (8.12.8/8.12.8) with ESMTP id j0OIO3ab015568
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Mon, 24 Jan 2005 10:24:03 -0800
Date: Mon, 24 Jan 2005 10:26:12 -0800 (PST)
From: Andi Vajda <andi@osafoundation.org>
X-X-Sender: vajda@zoe
Reply-To: Andi Vajda <andi@osafoundation.org>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: keep indexes as files or save them in database
In-Reply-To: <1106561389.5561.5.camel@goose.milesbarr.com>
Message-ID: <Pine.OSX.4.61.0501241024490.399@zoe>
References: <20050124060944.68277.qmail@web30201.mail.mud.yahoo.com>
 <1106561389.5561.5.camel@goose.milesbarr.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-Scanned-By: MIMEDefang 2.48 on 127.0.0.1
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


> On Sun, 2005-01-23 at 22:09 -0800, Otis Gospodnetic wrote:
>> A number of people have tried putting Lucene indices in RDBMS.  As far
>> as I know, all were slower than FSDirectory.
>
> Do you know if the Berkeley DB back end also has a performance hit?

Try it, it all depends on how you configure it. And that depends on your 
needs. I posted examples to the list last week.

Andi..

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12666-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 24 19:03:20 2005
Return-Path: <lucene-user-return-12666-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31048 invoked from network); 24 Jan 2005 19:03:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Jan 2005 19:03:20 -0000
Received: (qmail 4904 invoked by uid 500); 24 Jan 2005 19:03:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4776 invoked by uid 500); 24 Jan 2005 19:03:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4758 invoked by uid 99); 24 Jan 2005 19:03:15 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr11.xs4all.nl (HELO smtp-vbr11.xs4all.nl) (194.109.24.31)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 24 Jan 2005 11:03:13 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr11.xs4all.nl (8.12.11/8.12.11) with ESMTP id j0OJ39Ou037003
	for <lucene-user@jakarta.apache.org>; Mon, 24 Jan 2005 20:03:10 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Filtering w/ Multiple Terms
Date: Mon, 24 Jan 2005 20:03:09 +0100
User-Agent: KMail/1.5.4
References: <200501241726.j0OHQu88015270@mxdrop41.xs4all.nl>
In-Reply-To: <200501241726.j0OHQu88015270@mxdrop41.xs4all.nl>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200501242003.09566.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Jerry,

On Monday 24 January 2005 18:26, Jerry Jalenak wrote:
> I spent some time reading the Lucene in Action book this weekend (great job,
> btw), and came across the section on using custom filters.  Since the data
> that I need to use to filter my hit set with comes from a database, I
> thought it would be worth my effort this morning to write a custom filter
> that would handle the filtering for me.  So, using the example from the book
> (page 210), I've coded an AccountFilter:
> 
> public class AccountFilter extends Filter
> {
> 	public AccountFilter()
> 	{}
> 	
> 	public BitSet bits(IndexReader indexReader)
> 		throws IOException
> 	{
> 		System.out.println("Entering AccountFilter...");
> 		BitSet bitSet = new BitSet(indexReader.maxDoc());
> 
> 		String[] reportingAccounts = new String[] {"0011", "4kfs"};
> 		
> 		int[] docs = new int[1];
> 		int[] freqs = new int[1];
> 		
> 		for (int i = 0; i < reportingAccounts.length; i++)
> 		{
> 			String reportingAccount = reportingAccounts[i];
> 			if (reportingAccount != null)
> 			{
> 				TermDocs termDocs = indexReader.termDocs(new
> Term("account", reportingAccount));
> 				int count = termDocs.read(docs, freqs);
> 				if (count == 1)

Unless "account" is a primary key fied, it's better to loop over the termdocs.

> 				{
> 					System.out.println("Setting bit
> on");
> 					bitSet.set(docs[0]);
> 				}
> 			}
> 		}
> 		System.out.println("Leaving AccountFilter...");
> 		return bitSet;
> 	}
> }
> 
> I see where the AccountFilter is setting the cooresponding 'bits', but I end
> up without any 'hits':
> 
> Entering AccountFilter...
> Entering AccountFilter...
> Entering AccountFilter...
> Setting bit on
> Setting bit on
> Setting bit on
> Setting bit on
> Setting bit on
> Leaving AccountFilter...
> Leaving AccountFilter...
> Leaving AccountFilter...

I don't see any recursion in your code, but this output
suggests nesting three deep. Something does not add up here.

> ... Found 0 matching documents in 1000 ms
> 
> Can anyone tell me what I've done wrong?

Maybe all query hits were filtered out?
Could you compare the docnrs in the bits of the filter with the
unfiltered query hits docnrs?

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12667-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 24 19:05:47 2005
Return-Path: <lucene-user-return-12667-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31778 invoked from network); 24 Jan 2005 19:05:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Jan 2005 19:05:47 -0000
Received: (qmail 7905 invoked by uid 500); 24 Jan 2005 19:05:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7880 invoked by uid 500); 24 Jan 2005 19:05:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7866 invoked by uid 99); 24 Jan 2005 19:05:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork9.mail.Virginia.EDU (HELO fork9.mail.virginia.edu) (128.143.2.179)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 24 Jan 2005 11:05:40 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id 8C2AB1F535E
	for <lucene-user@jakarta.apache.org>; Mon, 24 Jan 2005 14:05:37 -0500 (EST)
Received: from fork9.mail.virginia.edu ([127.0.0.1])
 by localhost (fork9.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 30893-04 for <lucene-user@jakarta.apache.org>;
 Mon, 24 Jan 2005 14:05:37 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id 330131F535D
	for <lucene-user@jakarta.apache.org>; Mon, 24 Jan 2005 14:05:36 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <20050124172659.944B613E28F8@ehatchersolutions.com>
References: <20050124172659.944B613E28F8@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <142B14CA-6E3B-11D9-9C80-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Filtering w/ Multiple Terms
Date: Mon, 24 Jan 2005 14:06:40 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork9.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 24, 2005, at 12:26 PM, Jerry Jalenak wrote:
> I spent some time reading the Lucene in Action book this weekend 
> (great job,
> btw)

Thanks!

> public class AccountFilter extends Filter
> I see where the AccountFilter is setting the cooresponding 'bits', but 
> I end
> up without any 'hits':
>
> Entering AccountFilter...
> Entering AccountFilter...
> Entering AccountFilter...
> Setting bit on
> Setting bit on
> Setting bit on
> Setting bit on
> Setting bit on
> Leaving AccountFilter...
> Leaving AccountFilter...
> Leaving AccountFilter...
> ... Found 0 matching documents in 1000 ms
>
> Can anyone tell me what I've done wrong?

A filter constrains which documents will be consulted during a search, 
but the Query needs to match some documents that are turned on by the 
filter bits.  I'm guessing that your Query did not match any of the 
documents you turned on.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12668-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 24 19:14:25 2005
Return-Path: <lucene-user-return-12668-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43779 invoked from network); 24 Jan 2005 19:14:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Jan 2005 19:14:25 -0000
Received: (qmail 26502 invoked by uid 500); 24 Jan 2005 19:14:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26469 invoked by uid 500); 24 Jan 2005 19:14:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26455 invoked by uid 99); 24 Jan 2005 19:14:19 -0000
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=FORGED_MUA_IMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from hades.labone.com (HELO hades.labone.com) (198.70.194.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 24 Jan 2005 11:14:18 -0800
Received: from smsrv.1.24.172.in-addr.arpa by hades.labone.com
          via smtpd (for hermes.apache.org [209.237.227.199]) with ESMTP; Mon, 24 Jan 2005 13:14:11 -0600
From: "Jerry Jalenak" <Jerry.Jalenak@LABONE.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Filtering w/ Multiple Terms
Date: Mon, 24 Jan 2005 13:13:47 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
X-WSS-ID: 6DEB977033679565-01-01
Content-Type: text/plain;
 charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Paul / Erik - 

I'm use the ParallelMultiSearcher to search three indexes concurrently -
hence the three entries into AccountFilter.  If I remove the filter from my
query, and simply enter the query on the command line, I get two hits back.
In other words, I can enter this:

	smith AND (account:0011)

and get hits back.  When I add the filter back in (which should take care of
the account:0011 part of the query), and enter only smith as my query, I get
0 hits.



Jerry Jalenak
Senior Programmer / Analyst, Web Publishing
LabOne, Inc.
10101 Renner Blvd.
Lenexa, KS  66219
(913) 577-1496

jerry.jalenak@labone.com


> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Monday, January 24, 2005 1:07 PM
> To: Lucene Users List
> Subject: Re: Filtering w/ Multiple Terms
> 
> 
> 
> On Jan 24, 2005, at 12:26 PM, Jerry Jalenak wrote:
> > I spent some time reading the Lucene in Action book this weekend 
> > (great job,
> > btw)
> 
> Thanks!
> 
> > public class AccountFilter extends Filter
> > I see where the AccountFilter is setting the cooresponding 
> 'bits', but 
> > I end
> > up without any 'hits':
> >
> > Entering AccountFilter...
> > Entering AccountFilter...
> > Entering AccountFilter...
> > Setting bit on
> > Setting bit on
> > Setting bit on
> > Setting bit on
> > Setting bit on
> > Leaving AccountFilter...
> > Leaving AccountFilter...
> > Leaving AccountFilter...
> > ... Found 0 matching documents in 1000 ms
> >
> > Can anyone tell me what I've done wrong?
> 
> A filter constrains which documents will be consulted during 
> a search, 
> but the Query needs to match some documents that are turned on by the 
> filter bits.  I'm guessing that your Query did not match any of the 
> documents you turned on.
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 

This transmission (and any information attached to it) may be confidential and
is intended solely for the use of the individual or entity to which it is
addressed. If you are not the intended recipient or the person responsible for
delivering the transmission to the intended recipient, be advised that you
have received this transmission in error and that any use, dissemination,
forwarding, printing, or copying of this information is strictly prohibited.
If you have received this transmission in error, please immediately notify
LabOne at the following email address: securityincidentreporting@labone.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12669-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 24 19:26:02 2005
Return-Path: <lucene-user-return-12669-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57368 invoked from network); 24 Jan 2005 19:26:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Jan 2005 19:26:02 -0000
Received: (qmail 50364 invoked by uid 500); 24 Jan 2005 19:25:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50339 invoked by uid 500); 24 Jan 2005 19:25:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50326 invoked by uid 99); 24 Jan 2005 19:25:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork9.mail.Virginia.EDU (HELO fork9.mail.virginia.edu) (128.143.2.179)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 24 Jan 2005 11:25:55 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id 3793E1F52B9
	for <lucene-user@jakarta.apache.org>; Mon, 24 Jan 2005 14:25:53 -0500 (EST)
Received: from fork9.mail.virginia.edu ([127.0.0.1])
 by localhost (fork9.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 05291-10 for <lucene-user@jakarta.apache.org>;
 Mon, 24 Jan 2005 14:25:52 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id B26D61F5227
	for <lucene-user@jakarta.apache.org>; Mon, 24 Jan 2005 14:25:52 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <20050124191425.A8D2913E2902@ehatchersolutions.com>
References: <20050124191425.A8D2913E2902@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <E89640BA-6E3D-11D9-9C80-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Filtering w/ Multiple Terms
Date: Mon, 24 Jan 2005 14:26:55 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork9.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

As Paul suggested, output the Lucene document numbers from your Hits, 
and also output which bit you're setting in your filter.  Do those sets 
overlap?

	Erik

On Jan 24, 2005, at 2:13 PM, Jerry Jalenak wrote:

> Paul / Erik -
>
> I'm use the ParallelMultiSearcher to search three indexes concurrently 
> -
> hence the three entries into AccountFilter.  If I remove the filter 
> from my
> query, and simply enter the query on the command line, I get two hits 
> back.
> In other words, I can enter this:
>
> 	smith AND (account:0011)
>
> and get hits back.  When I add the filter back in (which should take 
> care of
> the account:0011 part of the query), and enter only smith as my query, 
> I get
> 0 hits.
>
>
>
> Jerry Jalenak
> Senior Programmer / Analyst, Web Publishing
> LabOne, Inc.
> 10101 Renner Blvd.
> Lenexa, KS  66219
> (913) 577-1496
>
> jerry.jalenak@labone.com
>
>
>> -----Original Message-----
>> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
>> Sent: Monday, January 24, 2005 1:07 PM
>> To: Lucene Users List
>> Subject: Re: Filtering w/ Multiple Terms
>>
>>
>>
>> On Jan 24, 2005, at 12:26 PM, Jerry Jalenak wrote:
>>> I spent some time reading the Lucene in Action book this weekend
>>> (great job,
>>> btw)
>>
>> Thanks!
>>
>>> public class AccountFilter extends Filter
>>> I see where the AccountFilter is setting the cooresponding
>> 'bits', but
>>> I end
>>> up without any 'hits':
>>>
>>> Entering AccountFilter...
>>> Entering AccountFilter...
>>> Entering AccountFilter...
>>> Setting bit on
>>> Setting bit on
>>> Setting bit on
>>> Setting bit on
>>> Setting bit on
>>> Leaving AccountFilter...
>>> Leaving AccountFilter...
>>> Leaving AccountFilter...
>>> ... Found 0 matching documents in 1000 ms
>>>
>>> Can anyone tell me what I've done wrong?
>>
>> A filter constrains which documents will be consulted during
>> a search,
>> but the Query needs to match some documents that are turned on by the
>> filter bits.  I'm guessing that your Query did not match any of the
>> documents you turned on.
>>
>> 	Erik
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>
> This transmission (and any information attached to it) may be 
> confidential and
> is intended solely for the use of the individual or entity to which it 
> is
> addressed. If you are not the intended recipient or the person 
> responsible for
> delivering the transmission to the intended recipient, be advised that 
> you
> have received this transmission in error and that any use, 
> dissemination,
> forwarding, printing, or copying of this information is strictly 
> prohibited.
> If you have received this transmission in error, please immediately 
> notify
> LabOne at the following email address: 
> securityincidentreporting@labone.com
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12670-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 24 19:55:48 2005
Return-Path: <lucene-user-return-12670-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70338 invoked from network); 24 Jan 2005 19:55:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Jan 2005 19:55:48 -0000
Received: (qmail 93211 invoked by uid 500); 24 Jan 2005 19:55:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93090 invoked by uid 500); 24 Jan 2005 19:55:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93076 invoked by uid 99); 24 Jan 2005 19:55:43 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 24 Jan 2005 11:55:42 -0800
Received: (qmail 30261 invoked by uid 532); 24 Jan 2005 19:54:04 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.040196 secs); 24 Jan 2005 19:54:04 -0000
Received: from unknown (HELO ?10.0.0.157?) (127.0.0.1)
  by 0 with SMTP; 24 Jan 2005 19:54:04 -0000
Message-ID: <41F552D2.5060606@tropo.com>
Date: Mon, 24 Jan 2005 11:56:02 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: WordNet code updated, now with query expansion -- Re: SYNONYM
 + GOOGLE
References: <OBELINLGKPEMCIEIJJNKKEKOCAAA.karthik@controlnet.co.in> <A847E5AE-630A-11D9-8525-000A95BC61B6@ehatchersolutions.com> <41E315C2.7030902@tropo.com> <90D5BCD2-636C-11D9-892F-000393A564E6@ehatchersolutions.com> <41E473B8.2030704@tropo.com> <41EE7C04.80808@culture.gouv.fr>
In-Reply-To: <41EE7C04.80808@culture.gouv.fr>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Pierrick Brihaye wrote:

> Hi,
> 
> David Spencer a crit :
> 
>> One example of expansion with the synonym boost set to 0.9 is the 
>> query "big dog" expands to:
> 
> 
> Interesting.
> 
> Do you plan to add expansion on other Wordnet relationships ? Hypernyms 
> and hyponyms would be a good start point for thesaurus-like search, 
> wouldn't it ?

Good point, I hadn't considered this - but how would it work -just 
consider these 2 relationships "synonyms" (thus easier to use) or make 
it separate (too academic?)
> 
> However, I'm afraid that this kind of feature would require refactoring, 
> probably based on WordNet-dedicated libraries. JWNL 
> (http://jwordnet.sourceforge.net/) may be a good candidate for this.

Good point, should leverage existing code.


> 
> Thank you for your work.

thx,
  Dave

> 
> Cheers,
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12671-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 24 20:45:38 2005
Return-Path: <lucene-user-return-12671-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12307 invoked from network); 24 Jan 2005 20:45:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Jan 2005 20:45:38 -0000
Received: (qmail 64707 invoked by uid 500); 24 Jan 2005 20:45:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64674 invoked by uid 500); 24 Jan 2005 20:45:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64661 invoked by uid 99); 24 Jan 2005 20:45:33 -0000
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=FORGED_MUA_IMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from hades.labone.com (HELO hades.labone.com) (198.70.194.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 24 Jan 2005 12:45:31 -0800
Received: from smsrv.1.24.172.in-addr.arpa by hades.labone.com
          via smtpd (for hermes.apache.org [209.237.227.199]) with ESMTP; Mon, 24 Jan 2005 14:45:24 -0600
From: "Jerry Jalenak" <Jerry.Jalenak@LABONE.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Filtering w/ Multiple Terms
Date: Mon, 24 Jan 2005 14:45:08 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
X-WSS-ID: 6DEB81D633701712-01-01
Content-Type: text/plain;
 charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

<sheepish-look-on-face/>

After re-reading the book (again), and the javadocs (again), it dawned on my
little brain that I needed to have a doc and freq array *the size of
maxDocs* for the index reader.  I also needed to iterate through the docs
array and call bitSet.set for each entry in docs (that was valid, of
course).  Everything is good now....

Thanks!

Jerry Jalenak
Senior Programmer / Analyst, Web Publishing
LabOne, Inc.
10101 Renner Blvd.
Lenexa, KS  66219
(913) 577-1496

jerry.jalenak@labone.com


> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Monday, January 24, 2005 1:27 PM
> To: Lucene Users List
> Subject: Re: Filtering w/ Multiple Terms
> 
> 
> As Paul suggested, output the Lucene document numbers from your Hits, 
> and also output which bit you're setting in your filter.  Do 
> those sets 
> overlap?
> 
> 	Erik
> 
> On Jan 24, 2005, at 2:13 PM, Jerry Jalenak wrote:
> 
> > Paul / Erik -
> >
> > I'm use the ParallelMultiSearcher to search three indexes 
> concurrently 
> > -
> > hence the three entries into AccountFilter.  If I remove the filter 
> > from my
> > query, and simply enter the query on the command line, I 
> get two hits 
> > back.
> > In other words, I can enter this:
> >
> > 	smith AND (account:0011)
> >
> > and get hits back.  When I add the filter back in (which 
> should take 
> > care of
> > the account:0011 part of the query), and enter only smith 
> as my query, 
> > I get
> > 0 hits.
> >
> >
> >
> > Jerry Jalenak
> > Senior Programmer / Analyst, Web Publishing
> > LabOne, Inc.
> > 10101 Renner Blvd.
> > Lenexa, KS  66219
> > (913) 577-1496
> >
> > jerry.jalenak@labone.com
> >
> >
> >> -----Original Message-----
> >> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> >> Sent: Monday, January 24, 2005 1:07 PM
> >> To: Lucene Users List
> >> Subject: Re: Filtering w/ Multiple Terms
> >>
> >>
> >>
> >> On Jan 24, 2005, at 12:26 PM, Jerry Jalenak wrote:
> >>> I spent some time reading the Lucene in Action book this weekend
> >>> (great job,
> >>> btw)
> >>
> >> Thanks!
> >>
> >>> public class AccountFilter extends Filter
> >>> I see where the AccountFilter is setting the cooresponding
> >> 'bits', but
> >>> I end
> >>> up without any 'hits':
> >>>
> >>> Entering AccountFilter...
> >>> Entering AccountFilter...
> >>> Entering AccountFilter...
> >>> Setting bit on
> >>> Setting bit on
> >>> Setting bit on
> >>> Setting bit on
> >>> Setting bit on
> >>> Leaving AccountFilter...
> >>> Leaving AccountFilter...
> >>> Leaving AccountFilter...
> >>> ... Found 0 matching documents in 1000 ms
> >>>
> >>> Can anyone tell me what I've done wrong?
> >>
> >> A filter constrains which documents will be consulted during
> >> a search,
> >> but the Query needs to match some documents that are 
> turned on by the
> >> filter bits.  I'm guessing that your Query did not match any of the
> >> documents you turned on.
> >>
> >> 	Erik
> >>
> >>
> >> 
> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >> For additional commands, e-mail: 
> lucene-user-help@jakarta.apache.org
> >>
> >>
> >
> > This transmission (and any information attached to it) may be 
> > confidential and
> > is intended solely for the use of the individual or entity 
> to which it 
> > is
> > addressed. If you are not the intended recipient or the person 
> > responsible for
> > delivering the transmission to the intended recipient, be 
> advised that 
> > you
> > have received this transmission in error and that any use, 
> > dissemination,
> > forwarding, printing, or copying of this information is strictly 
> > prohibited.
> > If you have received this transmission in error, please immediately 
> > notify
> > LabOne at the following email address: 
> > securityincidentreporting@labone.com
> >
> >
> > 
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 

This transmission (and any information attached to it) may be confidential and
is intended solely for the use of the individual or entity to which it is
addressed. If you are not the intended recipient or the person responsible for
delivering the transmission to the intended recipient, be advised that you
have received this transmission in error and that any use, dissemination,
forwarding, printing, or copying of this information is strictly prohibited.
If you have received this transmission in error, please immediately notify
LabOne at the following email address: securityincidentreporting@labone.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12672-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 24 22:32:17 2005
Return-Path: <lucene-user-return-12672-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65245 invoked from network); 24 Jan 2005 22:32:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Jan 2005 22:32:17 -0000
Received: (qmail 6017 invoked by uid 500); 24 Jan 2005 22:32:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5992 invoked by uid 500); 24 Jan 2005 22:32:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5979 invoked by uid 99); 24 Jan 2005 22:32:11 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jasonpolites@tpg.com.au designates 203.12.160.101 as permitted sender)
Received: from mail5.tpgi.com.au (HELO mail.tpgi.com.au) (203.12.160.101)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 24 Jan 2005 14:32:10 -0800
Received: from MINOS (CPE-61-9-143-85.vic.bigpond.net.au [61.9.143.85])
	(authenticated bits=0)
	by mail.tpgi.com.au (8.12.10/8.12.10) with ESMTP id j0OMW5JN027117
	for <lucene-user@jakarta.apache.org>; Tue, 25 Jan 2005 09:32:06 +1100
Message-ID: <090401c50264$88da9a20$6400a8c0@everymail.com.au>
Reply-To: "Jason Polites" <jason.polites@everymail.com.au>
From: "Jason Polites" <jasonpolites@tpg.com.au>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <08fe01c501ec$aa06a900$6400a8c0@everymail.com.au> <2313E49E-6DFD-11D9-AEC2-000393760B7E@gmail.com>
Subject: Re: Duplicate hits using ParallelMultiSearcher
Date: Tue, 25 Jan 2005 09:32:05 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=response
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-TPG-Antivirus: Passed
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Agreed on the "set of unique messages", however the problem I have is with 
the "count" of the Hits.  The Hits object may contain 100 results (for 
example), of which only 90 are unique.  Because I am paging through results 
10 at a time, I need to know the total count without loading each document. 
If I get a count of 100 but a Collection of only 90 my paging breaks.

After careful consideration I have decided that the better approach is to 
create a separate "global" index in which all messages are stored.  This 
will not only relieve my duplication issue but should also scale better 
if/when there are several hundred or several thousand distinct indexes.

Thanks,

- JP

----- Original Message ----- 
From: "PA" <petite.abeille@gmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, January 24, 2005 10:43 PM
Subject: Re: Duplicate hits using ParallelMultiSearcher


>
> On Jan 24, 2005, at 09:14, Jason Polites wrote:
>
>> I am aware of the Filter object however the unique identifier of my 
>> document is a field within the lucene document itself (messageid); and I 
>> am reluctant to access this field using the public API for every Hit as I 
>> fear it will have drastic performance implications.
>
> Well... I don't see any way around that as you basically want to uniquely 
> identify your messages based on their Message-ID.
>
> That said, you don't need to do it during the search itself. You could 
> simply perform your search as you do now and then create a set of unique 
> messages while preserving Lucene Hits sort ordering for "relevance" 
> purpose.
>
> HTH.
>
> Cheers
>
> --
> PA
> http://alt.textdrive.com/
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12673-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 25 00:02:16 2005
Return-Path: <lucene-user-return-12673-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1920 invoked from network); 25 Jan 2005 00:02:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Jan 2005 00:02:16 -0000
Received: (qmail 63660 invoked by uid 500); 25 Jan 2005 00:02:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63638 invoked by uid 500); 25 Jan 2005 00:02:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63625 invoked by uid 99); 25 Jan 2005 00:02:11 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of peterhollas@hotmail.com designates 64.4.61.39 as permitted sender)
Received: from bay102-f29.bay102.hotmail.com (HELO hotmail.com) (64.4.61.39)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 24 Jan 2005 16:02:11 -0800
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Mon, 24 Jan 2005 16:02:08 -0800
Message-ID: <BAY102-F2942F9343452BD97A117C2AC860@phx.gbl>
Received: from 81.86.75.169 by by102fd.bay102.hotmail.msn.com with HTTP;
	Tue, 25 Jan 2005 00:01:20 GMT
X-Originating-IP: [81.86.75.169]
X-Originating-Email: [peterhollas@hotmail.com]
X-Sender: peterhollas@hotmail.com
From: "Peter Hollas" <peterhollas@hotmail.com>
To: lucene-user@jakarta.apache.org
Bcc: 
Subject: Sort Performance Problems across large dataset 
Date: Tue, 25 Jan 2005 00:01:20 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 25 Jan 2005 00:02:08.0854 (UTC) FILETIME=[1CDA0F60:01C50271]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am working on a public accessible Struts based species database project 
where the number of species names is currently at 2.3 million, and in the 
near future will be somewhere nearer 4 million (probably the largest there 
is). The species names are typically 1 to 7 words in length, and the broad 
requirement is to be able to do a fulltext search across them. It is also 
necessary to sort the results into alphabetical order by species name.

Currently we can issue a simple search query and expect a response back in 
about 0.2 seconds (~3,000 results) with the Lucene index that we have built. 
Lucene gives a much more predictable and faster average query time than 
using standard fulltext indexing with mySQL. This however returns result in 
score order, and not alphabetically.

To sort the resultset into alphabetical order, we added the species names as 
a seperate keyword field, and sorted using it whilst querying. This solution 
works fine, but is unacceptable since a query that returns thousands of 
results can take upwards of 30 seconds to sort them.

My question is whether it is possible to somehow return the names in 
alphabetical order without using a String SortField. My last resort will be 
to perform a monthly index rebuild, and return results by index order (about 
a day to re-index!). But ideally there might be a way to modify the Lucene 
API to incorporate a scoring system in a way that scores by lexical order.

Any ideas are appreciated!

Many thanks, Peter.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12674-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 25 00:12:23 2005
Return-Path: <lucene-user-return-12674-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5645 invoked from network); 25 Jan 2005 00:12:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Jan 2005 00:12:23 -0000
Received: (qmail 74434 invoked by uid 500); 25 Jan 2005 00:12:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74408 invoked by uid 500); 25 Jan 2005 00:12:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74393 invoked by uid 99); 25 Jan 2005 00:12:18 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from zeus.rz1.connectline.net (HELO zeus.rz1.connectline.net) (212.122.43.181)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 24 Jan 2005 16:12:16 -0800
Received: from [192.168.8.2] (dsl-084-056-219-178.arcor-ip.net [84.56.219.178])
	by zeus.rz1.connectline.net (Postfix) with ESMTP id 815E52B6AC9
	for <lucene-user@jakarta.apache.org>; Tue, 25 Jan 2005 01:11:54 +0100 (CET)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <BAY102-F2942F9343452BD97A117C2AC860@phx.gbl>
References: <BAY102-F2942F9343452BD97A117C2AC860@phx.gbl>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <C2F52A14-6E65-11D9-B0E1-000A95D4944C@media-style.com>
Content-Transfer-Encoding: 7bit
From: Stefan Groschupf <sg@media-style.com>
Subject: Re: Sort Performance Problems across large dataset 
Date: Tue, 25 Jan 2005 01:12:12 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
do you optimize the index?
Do you tried to implement a own hit collector?

Stefan

Am 25.01.2005 um 01:01 schrieb Peter Hollas:

> I am working on a public accessible Struts based species database 
> project where the number of species names is currently at 2.3 million, 
> and in the near future will be somewhere nearer 4 million (probably 
> the largest there is). The species names are typically 1 to 7 words in 
> length, and the broad requirement is to be able to do a fulltext 
> search across them. It is also necessary to sort the results into 
> alphabetical order by species name.
>
> Currently we can issue a simple search query and expect a response 
> back in about 0.2 seconds (~3,000 results) with the Lucene index that 
> we have built. Lucene gives a much more predictable and faster average 
> query time than using standard fulltext indexing with mySQL. This 
> however returns result in score order, and not alphabetically.
>
> To sort the resultset into alphabetical order, we added the species 
> names as a seperate keyword field, and sorted using it whilst 
> querying. This solution works fine, but is unacceptable since a query 
> that returns thousands of results can take upwards of 30 seconds to 
> sort them.
>
> My question is whether it is possible to somehow return the names in 
> alphabetical order without using a String SortField. My last resort 
> will be to perform a monthly index rebuild, and return results by 
> index order (about a day to re-index!). But ideally there might be a 
> way to modify the Lucene API to incorporate a scoring system in a way 
> that scores by lexical order.
>
> Any ideas are appreciated!
>
> Many thanks, Peter.
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
---------------------------------------------------------------
company:		http://www.media-style.com
forum:		http://www.text-mining.org
blog:			http://www.find23.net


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12675-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 25 00:37:08 2005
Return-Path: <lucene-user-return-12675-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14281 invoked from network); 25 Jan 2005 00:37:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Jan 2005 00:37:08 -0000
Received: (qmail 13579 invoked by uid 500); 25 Jan 2005 00:37:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13552 invoked by uid 500); 25 Jan 2005 00:37:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13537 invoked by uid 99); 25 Jan 2005 00:37:01 -0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web20326.mail.yahoo.com (HELO web20326.mail.yahoo.com) (216.136.227.19)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 24 Jan 2005 16:37:00 -0800
Received: (qmail 98745 invoked by uid 60001); 25 Jan 2005 00:36:58 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=UH1/VMxE4UNtBsfF8beY7lCzV/+T+cIpyVFtWPMJ6iSBMAtG5FSkmG1pyaaoFT1CsYB6TI7QVr7L6/Z1elAgoa1aT9tcRvxxzOtuw/Ww51S+uhlV3Hl/ndhRwPagTpeb5ci20pcwe0RYQ8jUdkdE4nGxNrS0oszuAWWDltL50qs=  ;
Message-ID: <20050125003658.98743.qmail@web20326.mail.yahoo.com>
Received: from [24.19.103.235] by web20326.mail.yahoo.com via HTTP; Mon, 24 Jan 2005 16:36:58 PST
Date: Mon, 24 Jan 2005 16:36:58 -0800 (PST)
From: "Xiaohong Yang \(Sharon\)" <sharonxyang@yahoo.com>
Subject: Re: Sort Performance Problems across large dataset 
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <BAY102-F2942F9343452BD97A117C2AC860@phx.gbl>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-147017602-1106613418=:95916"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-147017602-1106613418=:95916
Content-Type: text/plain; charset=us-ascii

Hi Peter,
I just got on the list a few hours ago.  I am still reading the source code.  I am not going to send this to the list.
 
I would like to know the ".2 sec" query time for 2 million fields, should it display only the first page (100 or so), not the whole 3000 found?  It is very fast I agree.  
 
If the alphabetic index display only a link, not the content, then it should not be very slow since you only need to sort part of what a user need.  May be display only the first "A" page, as it did with the regular scored results.  Just my thought, might not work for you.
 
Do you store the Lucene index in the database or in a text file?
 
Best,
Sharon
LangPower Computing, Inc.
http://www.indexingonline.com

Peter Hollas <peterhollas@hotmail.com> wrote:
I am working on a public accessible Struts based species database project 
where the number of species names is currently at 2.3 million, and in the 
near future will be somewhere nearer 4 million (probably the largest there 
is). The species names are typically 1 to 7 words in length, and the broad 
requirement is to be able to do a fulltext search across them. It is also 
necessary to sort the results into alphabetical order by species name.

Currently we can issue a simple search query and expect a response back in 
about 0.2 seconds (~3,000 results) with the Lucene index that we have built. 
Lucene gives a much more predictable and faster average query time than 
using standard fulltext indexing with mySQL. This however returns result in 
score order, and not alphabetically.

To sort the resultset into alphabetical order, we added the species names as 
a seperate keyword field, and sorted using it whilst querying. This solution 
works fine, but is unacceptable since a query that returns thousands of 
results can take upwards of 30 seconds to sort them.

My question is whether it is possible to somehow return the names in 
alphabetical order without using a String SortField. My last resort will be 
to perform a monthly index rebuild, and return results by index order (about 
a day to re-index!). But ideally there might be a way to modify the Lucene 
API to incorporate a scoring system in a way that scores by lexical order.

Any ideas are appreciated!

Many thanks, Peter.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


--0-147017602-1106613418=:95916--

From lucene-user-return-12676-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 25 01:26:17 2005
Return-Path: <lucene-user-return-12676-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33917 invoked from network); 25 Jan 2005 01:26:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Jan 2005 01:26:17 -0000
Received: (qmail 86423 invoked by uid 500); 25 Jan 2005 01:26:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 86398 invoked by uid 500); 25 Jan 2005 01:26:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86385 invoked by uid 99); 25 Jan 2005 01:26:11 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 24 Jan 2005 17:26:10 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id B909513E2904; Mon, 24 Jan 2005 20:26:07 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id C733913E2903
	for <lucene-user@jakarta.apache.org>; Mon, 24 Jan 2005 20:26:03 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <BAY102-F2942F9343452BD97A117C2AC860@phx.gbl>
References: <BAY102-F2942F9343452BD97A117C2AC860@phx.gbl>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <16310238-6E70-11D9-9C59-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Sort Performance Problems across large dataset 
Date: Mon, 24 Jan 2005 20:26:07 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.5 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jan 24, 2005, at 7:01 PM, Peter Hollas wrote:
> I am working on a public accessible Struts based

Well there's the problem right there :))

(just kidding)

> To sort the resultset into alphabetical order, we added the species 
> names as a seperate keyword field, and sorted using it whilst 
> querying. This solution works fine, but is unacceptable since a query 
> that returns thousands of results can take upwards of 30 seconds to 
> sort them.

30 seconds... wow.

> My question is whether it is possible to somehow return the names in 
> alphabetical order without using a String SortField. My last resort 
> will be to perform a monthly index rebuild, and return results by 
> index order (about a day to re-index!). But ideally there might be a 
> way to modify the Lucene API to incorporate a scoring system in a way 
> that scores by lexical order.

What about assigning a numeric value field for each document with the 
number indicating the alphabetical ordering?  Off the top of my head, 
I'm not sure how this could be done, but perhaps some clever hashing 
algorithm could do this?  Or consider each character position one digit 
in a base 27 (or 27 to include a space) and construct a number for 
that?  (though that would be an enormous number and probably too large) 
- sorry my off-the-cuff estimating skills are not what they should be.

Certainly sorting by a numeric value is far less resource intensive 
than by String - so perhaps that is worth a try?  At the very least, 
give each document a random number and try sorting by that field (the 
value of the field can be Integer.toString()) to see how it compares 
performance-wise.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12677-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 25 01:42:19 2005
Return-Path: <lucene-user-return-12677-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41566 invoked from network); 25 Jan 2005 01:42:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Jan 2005 01:42:19 -0000
Received: (qmail 9611 invoked by uid 500); 25 Jan 2005 01:42:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9584 invoked by uid 500); 25 Jan 2005 01:42:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9571 invoked by uid 99); 25 Jan 2005 01:42:12 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rs15.luxsci.com (HELO rs15.luxsci.com) (65.61.166.71)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 24 Jan 2005 17:42:12 -0800
Received: from [192.168.70.100] (ppp115-120.static.internode.on.net [150.101.115.120])
	(authenticated bits=0)
	by rs15.luxsci.com (8.12.11/8.12.11) with ESMTP id j0P1g7M8024058
	for <lucene-user@jakarta.apache.org>; Mon, 24 Jan 2005 19:42:08 -0600
Message-ID: <41F5A497.1070404@cenqua.com>
Date: Tue, 25 Jan 2005 12:44:55 +1100
From: Matt Quail <matt@cenqua.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Sort Performance Problems across large dataset
References: <BAY102-F2942F9343452BD97A117C2AC860@phx.gbl>
In-Reply-To: <BAY102-F2942F9343452BD97A117C2AC860@phx.gbl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Peter,

> Currently we can issue a simple search query and expect a response back 
> in about 0.2 seconds (~3,000 results) 

You may want to try something like the following (I do this in FishEye, 
seems to be performant for moderately large field-spaces).

Use a custom HitCollector, and store all the matching doc-ids in a 
java.util.BitSet. This will still give you your 0.2second performance.

Then, use a TermDocs iterator to visit each term in your "species name" 
field, "printing out" (or whatever) each species name if it contains a 
docid in your bitset. Something like this pseudocode:


BitSet docs = doSearch(query); // 0.2seconds

TermEnum te = reader.terms(new Term("species-name", ""));
TermDocs td = reader.termDocs();
Term t = te.term();
while (t!=null && t.field().equals("species-name")) {
   td.seek(te);
   while (td.next()) {
     int docid = td.doc();
     if (docs.get(docid)) {
       print "match:" + docid;
       break; // try next term
     }
   }

   if (!te.next()) {
     break;
   }
   t = te.term();
}

te.close();
td.close();


Now, with 2.3 million (or 4 million!) species names, I'm not sure how 
fast it will be to iterate through all the "species-name" termdocs. But 
I would be interested to find out; if you give this a code a try, could 
you report back your results?

=Matt

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12678-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 25 04:09:56 2005
Return-Path: <lucene-user-return-12678-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19839 invoked from network); 25 Jan 2005 04:09:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Jan 2005 04:09:56 -0000
Received: (qmail 22820 invoked by uid 500); 25 Jan 2005 04:09:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22791 invoked by uid 500); 25 Jan 2005 04:09:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22778 invoked by uid 99); 25 Jan 2005 04:09:50 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=HTML_MESSAGE,SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 24 Jan 2005 20:09:49 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id IAUUZJ00.C23 for <lucene-user@jakarta.apache.org>; Tue,
          25 Jan 2005 09:56:07 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "LUCENE" <lucene-user@jakarta.apache.org>
Subject: LUCENE + EXCEPTION
Date: Tue, 25 Jan 2005 09:44:48 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKOEJNCBAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: multipart/related;
	boundary="----=_NextPart_000_001A_01C502C2.827AE410"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_001A_01C502C2.827AE410
Content-Type: multipart/alternative;
	boundary="----=_NextPart_001_001B_01C502C2.827AE410"


------=_NextPart_001_001B_01C502C2.827AE410
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit



Hi Guys

Apologies..........



On STANDALONE Usge of   UPDATION/DELETION/ADDITION of Documents into
MergerIndex, the  Code of mine

runs PERFECTLY  with out any Problems.

But When the same Code is plugged into a WEBAPP on TOMCAT with a servlet
Running in SINGLE THREAD MODE,Some times

Frequently I get the Error as below

java.io.IOException: read past EOF
        at
org.apache.lucene.index.CompoundFileReader$CSInputStream.readInternal(Compou
ndFileReader.java:218)
        at
org.apache.lucene.store.InputStream.readBytes(InputStream.java:61)
        at
org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:356)
        at
org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:323)
        at
org.apache.lucene.search.TermQuery$TermWeight.scorer(TermQuery.java:64)
        at
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:85)
        at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:64)
        at org.apache.lucene.search.Hits.<init>(Hits.java:43)
        at org.apache.lucene.search.Searcher.search(Searcher.java:33)
        at org.apache.lucene.search.Searcher.search(Searcher.java:27)

Somebody Please tell me Why is this happening

O/s          =  Jentoo

JAVA       = Jdk 1.4.2

WEBAPP = TOMCAT

Lucene  = 1.4.3

Thx in advance

Karthik


























WITH WARM REGARDS
HAVE A NICE DAY
[ N.S.KARTHIK]


------=_NextPart_001_001B_01C502C2.827AE410
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<STYLE><!-- body, P.msoNormal, LI.msoNormal, PRE, BLOCKQUOTE, a, MENU, =
dd, UL, DT { font-family: "Arial"; font-size: 12pt; margin-top: 0em; =
margin-bottom: 0em; color: #000000; } dir, ADDRESS, h1, h2, h3, h4, h5, =
h6, HR { font-family: "Arial"; font-size: 12pt; margin-top: 0em; =
margin-bottom: 0em; color: #000000; } --></STYLE>

<META content=3D"MSHTML 6.00.2600.0" name=3DGENERATOR></HEAD>
<BODY id=3DridBody>
<P><STRONG><FONT face=3DVerdana size=3D2></FONT></STRONG>&nbsp;</P>
<P><SPAN class=3D343560504-25012005><FONT face=3DVerdana =
size=3D2><STRONG>Hi=20
Guys</STRONG></FONT></SPAN></P>
<P><SPAN class=3D343560504-25012005><STRONG><FONT face=3DVerdana=20
size=3D2>Apologies..........</FONT></STRONG></SPAN></P>
<P><SPAN class=3D343560504-25012005><STRONG><FONT face=3DVerdana=20
size=3D2></FONT></STRONG></SPAN>&nbsp;</P>
<P><SPAN class=3D343560504-25012005><STRONG><FONT face=3DVerdana =
size=3D2>On=20
STANDALONE Usge of&nbsp;&nbsp; UPDATION/DELETION/ADDITION of Documents =
into=20
MergerIndex, the&nbsp; Code of mine</FONT></STRONG></SPAN></P>
<P><SPAN class=3D343560504-25012005><STRONG><FONT face=3DVerdana =
size=3D2>runs=20
PERFECTLY&nbsp; with out any Problems.</FONT></STRONG></SPAN></P>
<P><SPAN class=3D343560504-25012005><STRONG><FONT face=3DVerdana =
size=3D2>But When the=20
same Code is plugged into a WEBAPP on TOMCAT with a servlet Running in =
SINGLE=20
THREAD MODE,Some times </FONT></STRONG></SPAN></P>
<P><SPAN class=3D343560504-25012005><STRONG><FONT face=3DVerdana =
size=3D2>Frequently I=20
get the Error as below</FONT></STRONG></SPAN></P>
<P><SPAN class=3D343560504-25012005><STRONG><FONT face=3DVerdana=20
size=3D2>java.io.IOException: read past=20
EOF<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at=20
org.apache.lucene.index.CompoundFileReader$CSInputStream.readInternal(Com=
poundFileReader.java:218)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
at=20
org.apache.lucene.store.InputStream.readBytes(InputStream.java:61)<BR>&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
at=20
org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:356)<BR>&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
at=20
org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:323)<BR>&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
at=20
org.apache.lucene.search.TermQuery$TermWeight.scorer(TermQuery.java:64)<B=
R>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
at=20
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:85)<BR>&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
at=20
org.apache.lucene.search.Hits.getMoreDocs(Hits.java:64)<BR>&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
at=20
org.apache.lucene.search.Hits.&lt;init&gt;(Hits.java:43)<BR>&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
at=20
org.apache.lucene.search.Searcher.search(Searcher.java:33)<BR>&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
at=20
org.apache.lucene.search.Searcher.search(Searcher.java:27)</FONT></STRONG=
></SPAN></P>
<P><SPAN class=3D343560504-25012005><STRONG><FONT face=3DVerdana =
size=3D2>Somebody=20
Please tell me Why is this happening</FONT></STRONG></SPAN></P>
<P><SPAN class=3D343560504-25012005><STRONG><FONT face=3DVerdana=20
size=3D2>O/s&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
=3D&nbsp;=20
Jentoo</FONT></STRONG></SPAN></P>
<P><SPAN class=3D343560504-25012005><STRONG><FONT face=3DVerdana=20
size=3D2>JAVA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =3D Jdk=20
1.4.2</FONT></STRONG></SPAN></P>
<P><SPAN class=3D343560504-25012005><STRONG><FONT face=3DVerdana =
size=3D2>WEBAPP =3D=20
TOMCAT</FONT></STRONG></SPAN></P>
<P><SPAN class=3D343560504-25012005><STRONG><FONT face=3DVerdana =
size=3D2>Lucene&nbsp;=20
=3D 1.4.3</FONT></STRONG></SPAN></P>
<P><SPAN class=3D343560504-25012005><STRONG><FONT face=3DVerdana =
size=3D2>Thx in=20
advance</FONT></STRONG></SPAN></P>
<P><SPAN class=3D343560504-25012005><STRONG><FONT face=3DVerdana=20
size=3D2>Karthik</FONT></STRONG></SPAN></P>
<P><SPAN class=3D343560504-25012005><STRONG><FONT face=3DVerdana=20
size=3D2></FONT></STRONG></SPAN>&nbsp;</P>
<P><SPAN class=3D343560504-25012005><STRONG><FONT face=3DVerdana=20
size=3D2></FONT></STRONG></SPAN>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P><IMG height=3D85 src=3D"cid:343560504@25012005-0187" =
width=3D85><BR><B><FONT=20
face=3DVerdana color=3D#939ff7 size=3D3>WITH WARM REGARDS <BR>HAVE A =
NICE DAY <BR>[=20
N.S.KARTHIK]</FONT></B> </P></BODY></HTML>

------=_NextPart_001_001B_01C502C2.827AE410--

------=_NextPart_000_001A_01C502C2.827AE410--


From lucene-user-return-12679-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 25 04:18:14 2005
Return-Path: <lucene-user-return-12679-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23319 invoked from network); 25 Jan 2005 04:18:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Jan 2005 04:18:13 -0000
Received: (qmail 45886 invoked by uid 500); 25 Jan 2005 04:18:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45851 invoked by uid 500); 25 Jan 2005 04:18:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45829 invoked by uid 99); 25 Jan 2005 04:18:06 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of clamprecht@gmail.com designates 64.233.170.192 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.192)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 24 Jan 2005 20:18:05 -0800
Received: by rproxy.gmail.com with SMTP id z35so529595rne
        for <lucene-user@jakarta.apache.org>; Mon, 24 Jan 2005 20:18:03 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=KGTw8lEilQ6UGHI2u67yLbNXvfHd5qrkOGI8r0n6nfkEO0mLBh9sDrm25g7EMAgyv9dX4T0JCSO0MRfjjiGcn+JizjnZPmZ5jUev5Z60jqcyhtHC85R3px4QZnpdBzJaaoxx45WIUiB8gu+cD6f2WTPRXRZe9ShjnbTGcdbZJcM=
Received: by 10.38.97.70 with SMTP id u70mr90111rnb;
        Mon, 24 Jan 2005 20:18:03 -0800 (PST)
Received: by 10.38.104.58 with HTTP; Mon, 24 Jan 2005 20:18:03 -0800 (PST)
Message-ID: <88c6a672050124201844559641@mail.gmail.com>
Date: Mon, 24 Jan 2005 22:18:03 -0600
From: Chris Lamprecht <clamprecht@gmail.com>
Reply-To: Chris Lamprecht <clamprecht@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: LUCENE + EXCEPTION
In-Reply-To: <OBELINLGKPEMCIEIJJNKOEJNCBAA.karthik@controlnet.co.in>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <OBELINLGKPEMCIEIJJNKOEJNCBAA.karthik@controlnet.co.in>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Karthik,

If you are talking about SingleThreadModel (i.e. your servlet
implements javax.servlet.SingleThreadModel), this does not guarantee
that two different instances of your servlet won't be run at the same
time.  It only guarantees that each instance of your servlet will only
be run by one thread at a time.  See:

http://java.sun.com/j2ee/sdk_1.3/techdocs/api/javax/servlet/SingleThreadModel.html

If you are accessing a shared resource (a lucene index), you'll have
to prevent concurrent modifications somehow other than
SingleThreadModel.

I think they've finally deprecated SingleThreadModel in the latest
(may be not even out yet) servlet spec.

-chris

 
> On STANDALONE Usge of   UPDATION/DELETION/ADDITION of Documents into
> MergerIndex, the  Code of mine
> 
> 
> runs PERFECTLY  with out any Problems.
> 
> 
> But When the same Code is plugged into a WEBAPP on TOMCAT with a servlet
> Running in SINGLE THREAD MODE,Some times 
> 
> 
> Frequently I get the Error as below

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12680-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 25 06:08:28 2005
Return-Path: <lucene-user-return-12680-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74686 invoked from network); 25 Jan 2005 06:08:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Jan 2005 06:08:28 -0000
Received: (qmail 2597 invoked by uid 500); 25 Jan 2005 06:08:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2575 invoked by uid 500); 25 Jan 2005 06:08:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2558 invoked by uid 99); 25 Jan 2005 06:08:20 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 24 Jan 2005 22:08:20 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id IAUZLP00.N2K; Tue, 25 Jan 2005 11:35:49 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	 "Chris Lamprecht" <clamprecht@gmail.com>
Subject: RE: LUCENE + EXCEPTION
Date: Tue, 25 Jan 2005 11:24:30 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKMEJPCBAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <88c6a672050124201844559641@mail.gmail.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

  Ok Still I have the Exeption in process ,If even I try to have a Servlet
Single Instance [may be by Authentication
  processs] , but I made shure that Lucene's MergerIndexing is controlled by
single Initiation...



  But With out any Shared Resource's the Exception is popping on Frequently,



   java.io.IOException: read past EOF
        at
org.apache.lucene.index.CompoundFileReader$CSInputStream.readInternal(Compou
ndFileReader.java:218)
        at
org.apache.lucene.store.InputStream.readBytes(InputStream.java:61)
        at
org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:356)
        at
org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:323)
        at
org.apache.lucene.search.TermQuery$TermWeight.scorer(TermQuery.java:64)
        at
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:85)
        at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:64)
        at org.apache.lucene.search.Hits.<init>(Hits.java:43)
        at org.apache.lucene.search.Searcher.search(Searcher.java:33)
        at org.apache.lucene.search.Searcher.search(Searcher.java:27)



  Please Help me

 [ I could not find any solution on Lucene Form for the same,may be I am the
only one with the issue]

Karthik

-----Original Message-----
From: Chris Lamprecht [mailto:clamprecht@gmail.com]
Sent: Tuesday, January 25, 2005 9:48 AM
To: Lucene Users List
Subject: Re: LUCENE + EXCEPTION


Hi Karthik,

If you are talking about SingleThreadModel (i.e. your servlet
implements javax.servlet.SingleThreadModel), this does not guarantee
that two different instances of your servlet won't be run at the same
time.  It only guarantees that each instance of your servlet will only
be run by one thread at a time.  See:

http://java.sun.com/j2ee/sdk_1.3/techdocs/api/javax/servlet/SingleThreadMode
l.html

If you are accessing a shared resource (a lucene index), you'll have
to prevent concurrent modifications somehow other than
SingleThreadModel.

I think they've finally deprecated SingleThreadModel in the latest
(may be not even out yet) servlet spec.

-chris


> On STANDALONE Usge of   UPDATION/DELETION/ADDITION of Documents into
> MergerIndex, the  Code of mine
>
>
> runs PERFECTLY  with out any Problems.
>
>
> But When the same Code is plugged into a WEBAPP on TOMCAT with a servlet
> Running in SINGLE THREAD MODE,Some times
>
>
> Frequently I get the Error as below

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12681-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 25 08:39:14 2005
Return-Path: <lucene-user-return-12681-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73887 invoked from network); 25 Jan 2005 08:39:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Jan 2005 08:39:14 -0000
Received: (qmail 20879 invoked by uid 500); 25 Jan 2005 08:39:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20850 invoked by uid 500); 25 Jan 2005 08:39:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20835 invoked by uid 99); 25 Jan 2005 08:39:03 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from proserver2.ifit.uni-klu.ac.at (HELO proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 25 Jan 2005 00:39:01 -0800
Received: from [143.205.118.98] ([143.205.118.98]) by proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 25 Jan 2005 09:38:57 +0100
Message-ID: <41F6059D.1000501@ifit.uni-klu.ac.at>
Date: Tue, 25 Jan 2005 09:38:53 +0100
From: sergiu gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla Thunderbird 0.7 (Windows/20040616)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: reading fields selectively
References: <20050107085925.97963.qmail@web26006.mail.ukl.yahoo.com>
In-Reply-To: <20050107085925.97963.qmail@web26006.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 25 Jan 2005 08:38:57.0716 (UTC) FILETIME=[4F92E740:01C502B9]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


 Hi to all lucene developers,

 The "read fields selectively" feature would be a very useful for me.
Do you plan to include it in the next lucene realeases?
I can patch lucene, but I will need to do it each time I upgrade my version,
and probably I would need to run the unit tests,  and this  is just 
duplicated effort....

  I'm working on an application that uses lucene only to index 
information that we store in
the database and in external files. We perform the search with lucene to 
get the IDs of our
database records. The ID keyword field is the only one that we need to 
read from the index.
Each document may index a few txt, pdf, doc, html, ppt, or xls files, 
and some other database fields,
so .. the size of the lucene documents may be quite big.

  Writing  the ID as the first field in the index, and having the 
possibility to read only the ID from the index
will be a great performance improvement in our case (speed and memory 
usage).

  Another frecquenty met situation is to have an index with an ALL 
field, in order to perform the search easily,
and a few another separate fields, needed to get information from the 
index and to apply special constraints
(i.e. for extended search functionality).  Also in this case, the 
information from the ALL field won't be read, but
lucene will load it in the memory, and the memory usage will be at least 
twice bigger.

 Thanks for understanding,

 Sergiu


mark harwood wrote:

>>>There is no API for this, but I recall somebody
>>>talking about adding support for this a few months
>>>back
>>>      
>>>
>
>See
>http://marc.theaimsgroup.com/?l=lucene-dev&m=109485996612177&w=2
>
>This implementation was working on a version of Lucene
>before compression was introduced so things may have
>changed a little.
>
>
>Cheers,
>Mark
>
>
>	
>	
>		
>___________________________________________________________ 
>ALL-NEW Yahoo! Messenger - all new features - even more fun! http://uk.messenger.yahoo.com
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12682-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 25 09:18:41 2005
Return-Path: <lucene-user-return-12682-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95070 invoked from network); 25 Jan 2005 09:18:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Jan 2005 09:18:41 -0000
Received: (qmail 96879 invoked by uid 500); 25 Jan 2005 09:18:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96841 invoked by uid 500); 25 Jan 2005 09:18:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96824 invoked by uid 99); 25 Jan 2005 09:18:33 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 25 Jan 2005 01:18:32 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id F242613E2907; Tue, 25 Jan 2005 04:18:28 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 824DB13E2904
	for <lucene-user@jakarta.apache.org>; Tue, 25 Jan 2005 04:18:22 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <41F6059D.1000501@ifit.uni-klu.ac.at>
References: <20050107085925.97963.qmail@web26006.mail.ukl.yahoo.com> <41F6059D.1000501@ifit.uni-klu.ac.at>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <1071D5B4-6EB2-11D9-B1E2-000393A564E6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: reading fields selectively
Date: Tue, 25 Jan 2005 04:18:24 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.5 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm not sure what the status of the selective field access feature is, 
but from what you've written it sounds like you are not aware of the 
existing feature of fields to turn off storage.  For an "all" field, 
you probably do not want to access its actual value, so simply do not 
store it in the index.  Field.UnStored or Field.Text with a 
java.io.Reader will do the trick.  If you use unstored fields for text, 
and only have a Field.Keyword "id" field, you will minimize the size of 
your index and the Document objects obtained from Hits will be tiny.

	Erik


On Jan 25, 2005, at 3:38 AM, sergiu gordea wrote:

>
> Hi to all lucene developers,
>
> The "read fields selectively" feature would be a very useful for me.
> Do you plan to include it in the next lucene realeases?
> I can patch lucene, but I will need to do it each time I upgrade my 
> version,
> and probably I would need to run the unit tests,  and this  is just 
> duplicated effort....
>
>  I'm working on an application that uses lucene only to index 
> information that we store in
> the database and in external files. We perform the search with lucene 
> to get the IDs of our
> database records. The ID keyword field is the only one that we need to 
> read from the index.
> Each document may index a few txt, pdf, doc, html, ppt, or xls files, 
> and some other database fields,
> so .. the size of the lucene documents may be quite big.
>
>  Writing  the ID as the first field in the index, and having the 
> possibility to read only the ID from the index
> will be a great performance improvement in our case (speed and memory 
> usage).
>
>  Another frecquenty met situation is to have an index with an ALL 
> field, in order to perform the search easily,
> and a few another separate fields, needed to get information from the 
> index and to apply special constraints
> (i.e. for extended search functionality).  Also in this case, the 
> information from the ALL field won't be read, but
> lucene will load it in the memory, and the memory usage will be at 
> least twice bigger.
>
> Thanks for understanding,
>
> Sergiu
>
>
> mark harwood wrote:
>
>>>> There is no API for this, but I recall somebody
>>>> talking about adding support for this a few months
>>>> back
>>>>
>>
>> See
>> http://marc.theaimsgroup.com/?l=lucene-dev&m=109485996612177&w=2
>>
>> This implementation was working on a version of Lucene
>> before compression was introduced so things may have
>> changed a little.
>>
>>
>> Cheers,
>> Mark
>>
>>
>> 	
>> 	
>> 		
>> ___________________________________________________________ ALL-NEW 
>> Yahoo! Messenger - all new features - even more fun! 
>> http://uk.messenger.yahoo.com
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12683-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 25 09:38:40 2005
Return-Path: <lucene-user-return-12683-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7429 invoked from network); 25 Jan 2005 09:38:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Jan 2005 09:38:39 -0000
Received: (qmail 44901 invoked by uid 500); 25 Jan 2005 09:38:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44844 invoked by uid 500); 25 Jan 2005 09:38:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44804 invoked by uid 99); 25 Jan 2005 09:38:21 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web26001.mail.ukl.yahoo.com (HELO web26001.mail.ukl.yahoo.com) (217.12.10.212)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 25 Jan 2005 01:38:20 -0800
Received: (qmail 58063 invoked by uid 60001); 25 Jan 2005 09:38:16 -0000
Message-ID: <20050125093816.58061.qmail@web26001.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26001.mail.ukl.yahoo.com via HTTP; Tue, 25 Jan 2005 09:38:16 GMT
Date: Tue, 25 Jan 2005 09:38:16 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject:  Re: reading fields selectively / 
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

As Erik says,If your content is in the database surely
all you need Stored in Lucene is the primary key
anyway? (Obviously all other fields are indexed in
Lucene - just not stored)

I've been playing around with this approach using
HSQLDB and Derby (Cloudscape). This relies on having a
"key map" for mapping RDBMS results to  Lucene docIds
for the purposes of filtering. I've got two
implementations of KeyMap - one uses TermDocs to look
up lucene doc ids on-the-fly and the other
implementation uses a cached array of ints which can
be indexed into very quickly, given an RDBMS key.  The
latter approach could be a memory hog if the RDBMS
keys become sparse after deletions. 

The other interesting possibility is that both Derby
and HSQLDB, when used in embedded mode, can allow
Lucene functionality to be evaluated as functions
inside the database as part of a single SQL statement.
ThreadLocal variables set by the client code can
contain Lucene objects such as IndexReader and these
are then accessible by Java functions running inside
the database engine.
I'm hoping to get to the stage where I can write
something like this:

select top 10 lucene_highlight(adText),
lucene_score('kitchen table', adKey) as score from ads
where score >0 and price <200 order by score desc;


This could be a nice approach, especially if you throw
in some triggers to automatically index database
content on insertion.

Cheers
Mark


	
	
		
___________________________________________________________ 
ALL-NEW Yahoo! Messenger - all new features - even more fun! http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12684-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 25 09:54:23 2005
Return-Path: <lucene-user-return-12684-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16517 invoked from network); 25 Jan 2005 09:54:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Jan 2005 09:54:23 -0000
Received: (qmail 68270 invoked by uid 500); 25 Jan 2005 09:54:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68246 invoked by uid 500); 25 Jan 2005 09:54:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68230 invoked by uid 99); 25 Jan 2005 09:54:14 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from hermes.culture.fr (HELO hermes.culture.fr) (143.126.201.210)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 25 Jan 2005 01:54:11 -0800
Received: by mta.culture.fr with id j0P9s7iK023741
 for <lucene-user@jakarta.apache.org>; Tue, 25 Jan 2005 10:54:07 +0100
Received: from bretagne.culture.fr (bretagne.culture.fr) by pasteur.culture.fr
 (Content Technologies SMTPRS 4.3.17) with ESMTP id <T6eb5ea80838f7ec9dc488@pasteur.culture.fr> for <lucene-user@jakarta.apache.org>;
 Tue, 25 Jan 2005 10:54:06 +0100
Received: from culture.gouv.fr by bretagne.culture.fr with ESMTP id j0P9s6Qs018257
  for <lucene-user@jakarta.apache.org>; Tue, 25 Jan 2005 10:54:06 +0100
Message-ID: <41F61897.2080702@culture.gouv.fr>
Date: Tue, 25 Jan 2005 10:59:51 +0100
From: Pierrick Brihaye <pierrick.brihaye@culture.gouv.fr>
User-Agent: Mozilla/5.0 (Windows; U; Win98; fr-FR; rv:1.6) Gecko/20040113
X-Accept-Language: fr, en, ar-eg
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: WordNet code updated, now with query expansion -- Re: SYNONYM
 + GOOGLE
References: <OBELINLGKPEMCIEIJJNKKEKOCAAA.karthik@controlnet.co.in> <A847E5AE-630A-11D9-8525-000A95BC61B6@ehatchersolutions.com> <41E315C2.7030902@tropo.com> <90D5BCD2-636C-11D9-892F-000393A564E6@ehatchersolutions.com> <41E473B8.2030704@tropo.com> <41EE7C04.80808@culture.gouv.fr> <41F552D2.5060606@tropo.com>
In-Reply-To: <41F552D2.5060606@tropo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

David Spencer a crit :

>> Do you plan to add expansion on other Wordnet relationships ? 
>> Hypernyms and hyponyms would be a good start point for thesaurus-like 
>> search, wouldn't it ?
> 
> Good point, I hadn't considered this - but how would it work -just 
> consider these 2 relationships "synonyms" (thus easier to use) or make 
> it separate (too academic?)

Well... the ideal case would be (easy) customization :-), form an 
external text (XML ?) file. Depending of the kind of relationship, the 
boost factor could be adjusted when the query is expanded. The same on 
relationships' depths.

For example a "father" hypernym could have a boost factor of 0.8, a 
"grand-father" a boost factor of 0.4, a "grand-grand-father" a boost 
factor of 0.2. Well, I wonder whether a logarithmic scale makes a better 
sense than a linear scale, but this should/would be customizable...

>> However, I'm afraid that this kind of feature would require 
>> refactoring, probably based on WordNet-dedicated libraries. JWNL 
>> (http://jwordnet.sourceforge.net/) may be a good candidate for this.
> 
> Good point, should leverage existing code.

One thing you can also easily get from this library are Wordnet's 
"exceptions", often irregular plurals (mouse/mice, addendum/addenda...). 
A very basic yet efficient kind of stemming which should be expanded 
with the same boost factor than the original term.

Well, there are many other relationships in WordNet. Take a look at :

http://jws-champo.ac-toulouse.fr:8080/treebolic-wordnet/
legends are here :
http://treebolic.sourceforge.net/en/browserwn.htm

Cheers,

-- 
Pierrick Brihaye, informaticien
Service rgional de l'Inventaire
DRAC Bretagne
mailto:pierrick.brihaye@culture.gouv.fr
+33 (0)2 99 29 67 78

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12685-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 25 10:29:14 2005
Return-Path: <lucene-user-return-12685-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38221 invoked from network); 25 Jan 2005 10:29:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Jan 2005 10:29:14 -0000
Received: (qmail 37663 invoked by uid 500); 25 Jan 2005 10:29:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37626 invoked by uid 500); 25 Jan 2005 10:29:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37599 invoked by uid 99); 25 Jan 2005 10:29:04 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of peterhollas@hotmail.com designates 64.4.61.76 as permitted sender)
Received: from bay102-dav4.bay102.hotmail.com (HELO hotmail.com) (64.4.61.76)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 25 Jan 2005 02:29:02 -0800
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 25 Jan 2005 02:29:00 -0800
Message-ID: <BAY102-DAV4C08506DE1F9C6C89C675AC860@phx.gbl>
Received: from 213.146.137.111 by BAY102-DAV4.phx.gbl with DAV;
	Tue, 25 Jan 2005 10:28:42 +0000
X-Originating-IP: [213.146.137.111]
X-Originating-Email: [peterhollas@hotmail.com]
X-Sender: peterhollas@hotmail.com
From: "Peter Hollas" <peterhollas@hotmail.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Sort Performance Problems across large dataset
Date: Tue, 25 Jan 2005 10:28:39 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <20050125003658.98743.qmail@web20326.mail.yahoo.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcUCdfx2RhyZ/tVwQQefXjC06+mviAAUeOMw
X-OriginalArrivalTime: 25 Jan 2005 10:29:00.0876 (UTC) FILETIME=[AF5D28C0:01C502C8]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Sharon,

The system that we are working on does recordset paging, so only the first
100 are returned on the first page. But then you are able to page through
the rest of the of the results.

The Lucene index is stored as a standard FSDirectory on a RAID filesystem,
and it used only for the initial name lookup, to discover the SpeciesID.
Further requests are handled by the mySQL backend database.

The way that Lucene returns results by default is based on a document
scoring algorithm, and so results most likely are out of alphabetical order.
I think that we will likely have to use a custom hitcollector object to do
the sorting.

Many thanks, Peter.
-----Original Message-----
From: Xiaohong Yang (Sharon) [mailto:sharonxyang@yahoo.com] 
Sent: 25 January 2005 00:37
To: Lucene Users List
Subject: Re: Sort Performance Problems across large dataset 

Hi Peter,
I just got on the list a few hours ago.  I am still reading the source code.
I am not going to send this to the list.
 
I would like to know the ".2 sec" query time for 2 million fields, should it
display only the first page (100 or so), not the whole 3000 found?  It is
very fast I agree.  
 
If the alphabetic index display only a link, not the content, then it should
not be very slow since you only need to sort part of what a user need.  May
be display only the first "A" page, as it did with the regular scored
results.  Just my thought, might not work for you.
 
Do you store the Lucene index in the database or in a text file?
 
Best,
Sharon
LangPower Computing, Inc.
http://www.indexingonline.com

Peter Hollas <peterhollas@hotmail.com> wrote:
I am working on a public accessible Struts based species database project 
where the number of species names is currently at 2.3 million, and in the 
near future will be somewhere nearer 4 million (probably the largest there 
is). The species names are typically 1 to 7 words in length, and the broad 
requirement is to be able to do a fulltext search across them. It is also 
necessary to sort the results into alphabetical order by species name.

Currently we can issue a simple search query and expect a response back in 
about 0.2 seconds (~3,000 results) with the Lucene index that we have built.

Lucene gives a much more predictable and faster average query time than 
using standard fulltext indexing with mySQL. This however returns result in 
score order, and not alphabetically.

To sort the resultset into alphabetical order, we added the species names as

a seperate keyword field, and sorted using it whilst querying. This solution

works fine, but is unacceptable since a query that returns thousands of 
results can take upwards of 30 seconds to sort them.

My question is whether it is possible to somehow return the names in 
alphabetical order without using a String SortField. My last resort will be 
to perform a monthly index rebuild, and return results by index order (about

a day to re-index!). But ideally there might be a way to modify the Lucene 
API to incorporate a scoring system in a way that scores by lexical order.

Any ideas are appreciated!

Many thanks, Peter.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12686-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 25 12:44:18 2005
Return-Path: <lucene-user-return-12686-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15437 invoked from network); 25 Jan 2005 12:44:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Jan 2005 12:44:18 -0000
Received: (qmail 45958 invoked by uid 500); 25 Jan 2005 12:44:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45918 invoked by uid 500); 25 Jan 2005 12:44:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45892 invoked by uid 99); 25 Jan 2005 12:44:11 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from mail.gmx.de (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 25 Jan 2005 04:44:10 -0800
Received: (qmail 13473 invoked by uid 0); 25 Jan 2005 12:44:07 -0000
Received: from 193.63.235.44 by www3.gmx.net with HTTP;
	Tue, 25 Jan 2005 13:44:07 +0100 (MET)
Date: Tue, 25 Jan 2005 13:44:07 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Subject: Lucene on JSE 1.1.8...
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <436.1106657047@www3.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

does somebody here know, which Lucene version runs on Java 1.1? Of course I
would like to run the best (latest) version possible :-)

Karl

-- 
10 GB Mailbox, 100 FreeSMS http://www.gmx.net/de/go/topmail
+++ GMX - die erste Adresse fr Mail, Message, More +++

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12687-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 25 12:54:15 2005
Return-Path: <lucene-user-return-12687-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20864 invoked from network); 25 Jan 2005 12:54:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Jan 2005 12:54:15 -0000
Received: (qmail 64799 invoked by uid 500); 25 Jan 2005 12:54:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64774 invoked by uid 500); 25 Jan 2005 12:54:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64748 invoked by uid 99); 25 Jan 2005 12:54:06 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from mail01.ina.de (HELO ina.de) (159.51.231.15)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 25 Jan 2005 04:54:05 -0800
Received: from de010245 (de010245.ina.de [159.51.231.10])
	by ina.de (8.11.7p1+Sun/8.9.1) with SMTP id j0PCs1t03282
	for <lucene-user@jakarta.apache.org>; Tue, 25 Jan 2005 13:54:01 +0100 (MET)
Received: From de010359.de.ina.com ([10.160.1.13]) by de010245 (WebShield SMTP v4.5 MR1a P0803.345);
	id 1106657654437; Tue, 25 Jan 2005 13:54:14 +0100
Received: from de010367.de.ina.com ([10.160.13.7]) by de010359.de.ina.com with Microsoft SMTPSVC(6.0.3790.211);
	 Tue, 25 Jan 2005 13:54:00 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Disposition-Notification-To: "Nestel, Frank  IZ/HZA-IOL" <nestefan@de.ina.com>
Subject: Strange Index problem
Date: Tue, 25 Jan 2005 13:54:00 +0100
Message-ID: <00ADB1D1C6D9434989D51BA9E55FAE0E733BB7@de010367.de.ina.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Strange Index problem
Thread-Index: AcUCpHPz2acOh3hnRrqoE+c3e3CXrAAEGjMQ
From: "Nestel, Frank  IZ/HZA-IOL" <nestefan@de.ina.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Cc: "Gast, Thorsten  IZ/HZA-IOL" <gasttor@de.ina.com>
X-OriginalArrivalTime: 25 Jan 2005 12:54:00.0461 (UTC) FILETIME=[F0B87BD0:01C502DC]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

we've been using Lucene here with great success in different
projects.=20

In one project we've a system which incrementally updates
an index every night. This has been working fine. We've=20
upgraded to Lucene 1.4.2 when it was there without observing a=20
difference instantly. But now we regularly run into trouble.
It seems like our index has "captured" a very defunc document
and as long as you work around this document the index
is still working, but as soon as you touch that particular
document, you run into trouble:

	java.lang.IndexOutOfBoundsException: Index: 114, Size: 19
at java.util.ArrayList.RangeCheck	(ArrayList.java:547) 	at
java.util.ArrayList.get(ArrayList.java:322) 	at
org.apache.lucene.index.FieldInfos.fieldInfo(FieldInfos.java:155)
at 	org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:66)
at
org.apache.lucene.index.SegmentReader.document(SegmentReader.java:237)
at
org.apache.lucene.index.SegmentMerger.mergeFields(SegmentMerger.java:185
) 	at
org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:92)
at
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:487)
at
org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:366)=20

We can also create this by calling the indexReader.document() function
directly
with the right document number. It seems as the whole index is only
containing
only one such document.

The questions remains, how can one "achieve" to insert such a defunc
document=20
in an index, or more interesting how can that be avoided in the future?
Note=20
that we rely on that "update" and do not rebuild strategy at least on
most=20
of the days!

Best wishes,
Frank

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12688-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 25 18:30:50 2005
Return-Path: <lucene-user-return-12688-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35900 invoked from network); 25 Jan 2005 18:30:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Jan 2005 18:30:50 -0000
Received: (qmail 96412 invoked by uid 500); 25 Jan 2005 18:30:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96390 invoked by uid 500); 25 Jan 2005 18:30:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96376 invoked by uid 99); 25 Jan 2005 18:30:44 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from main.gmane.org (HELO main.gmane.org) (80.91.229.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 25 Jan 2005 10:30:42 -0800
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1CtVSX-0002l6-00
	for <lucene-user@jakarta.apache.org>; Tue, 25 Jan 2005 19:30:37 +0100
Received: from dhcp-171-71-47-107.cisco.com ([171.71.47.107])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Tue, 25 Jan 2005 19:30:37 +0100
Received: from aurora00 by dhcp-171-71-47-107.cisco.com with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Tue, 25 Jan 2005 19:30:37 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: aurora <aurora00@gmail.com>
Subject: How to give recent documents a boost?
Date: Tue, 25 Jan 2005 10:30:21 -0800
Lines: 14
Message-ID: <opsk58cvzk6yt6e7@dhcp-171-71-47-107.cisco.com>
Mime-Version: 1.0
Content-Type: text/plain; format=flowed; delsp=yes; charset=iso-8859-15
Content-Transfer-Encoding: Quoted-Printable
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: dhcp-171-71-47-107.cisco.com
User-Agent: Opera M2/7.54u1 (Win32, build 3918)
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

What is the best way to give recent documents a boost? Not sorting them =
by  =

strict date order but to give them some preference. If document 1 filed =
 =

last week has a score of 0.5 and document 2 filed last month has a score=
  =

of 0.55, then list document 1 first. But if document 1 has a score of on=
ly  =

0.05, then keep it at the end. Any experience of fine tuning by date ord=
er?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12689-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 25 18:45:06 2005
Return-Path: <lucene-user-return-12689-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42294 invoked from network); 25 Jan 2005 18:45:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Jan 2005 18:45:05 -0000
Received: (qmail 23990 invoked by uid 500); 25 Jan 2005 18:44:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23958 invoked by uid 500); 25 Jan 2005 18:44:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23937 invoked by uid 99); 25 Jan 2005 18:44:59 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 25 Jan 2005 10:44:58 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 7D47A5B778; Tue, 25 Jan 2005 10:43:22 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 73F677F459
	for <lucene-user@jakarta.apache.org>; Tue, 25 Jan 2005 10:43:22 -0800 (PST)
Date: Tue, 25 Jan 2005 10:43:22 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How to give recent documents a boost?
In-Reply-To: <opsk58cvzk6yt6e7@dhcp-171-71-47-107.cisco.com>
Message-ID: <Pine.LNX.4.58.0501251042120.6151@hal.rescomp.berkeley.edu>
References: <opsk58cvzk6yt6e7@dhcp-171-71-47-107.cisco.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

: What is the best way to give recent documents a boost? Not sorting them by
: strict date order but to give them some preference. If document 1 filed
: last week has a score of 0.5 and document 2 filed last month has a score
: of 0.55, then list document 1 first. But if document 1 has a score of only
: 0.05, then keep it at the end. Any experience of fine tuning by date order?

a short thread on this subject came up fairly recently...

http://mail-archives.apache.org/eyebrowse/BrowseList?listName=lucene-user@jakarta.apache.org&by=thread&from=969634


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12690-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 25 21:54:18 2005
Return-Path: <lucene-user-return-12690-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55279 invoked from network); 25 Jan 2005 21:54:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Jan 2005 21:54:18 -0000
Received: (qmail 41472 invoked by uid 500); 25 Jan 2005 21:54:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41432 invoked by uid 500); 25 Jan 2005 21:54:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41412 invoked by uid 99); 25 Jan 2005 21:54:11 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web20327.mail.yahoo.com (HELO web20327.mail.yahoo.com) (216.136.227.32)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 25 Jan 2005 13:54:10 -0800
Received: (qmail 29072 invoked by uid 60001); 25 Jan 2005 21:54:08 -0000
Message-ID: <20050125215408.29070.qmail@web20327.mail.yahoo.com>
Received: from [24.19.103.235] by web20327.mail.yahoo.com via HTTP; Tue, 25 Jan 2005 13:54:08 PST
Date: Tue, 25 Jan 2005 13:54:08 -0800 (PST)
From: "Xiaohong Yang \(Sharon\)" <sharonxyang@yahoo.com>
Subject: RE: Sort Performance Problems across large dataset
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <BAY102-DAV4C08506DE1F9C6C89C675AC860@phx.gbl>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1100883684-1106690048=:28677"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-1100883684-1106690048=:28677
Content-Type: text/plain; charset=us-ascii

Peter, 
 

Let me continue to post to the list since I am here already.

 

Both dynamic sort on-the-fly (hit counter) or presorted and stored index would give you the alphabetically sorted species name.  Pre-stored alphabetical index would be faster.  Even for 4 million names, the index should not take up too much room if you use integer to represent the sorted strings.  ( The integer order represent the species name in alphabetical order.)

 

Using the pre-stored index, and an array of score-sorted document hit list, it would be reasonably fast to compile the alphabetic list for display.

 

This is just what I would design it, might not work for you.

 
What type of database is this?  Any example of use available on the web?
 
Best,
Sharon
 
    

Peter Hollas <peterhollas@hotmail.com> wrote:
Sharon,

The system that we are working on does recordset paging, so only the first
100 are returned on the first page. But then you are able to page through
the rest of the of the results.

The Lucene index is stored as a standard FSDirectory on a RAID filesystem,
and it used only for the initial name lookup, to discover the SpeciesID.
Further requests are handled by the mySQL backend database.

The way that Lucene returns results by default is based on a document
scoring algorithm, and so results most likely are out of alphabetical order.
I think that we will likely have to use a custom hitcollector object to do
the sorting.

Many thanks, Peter.
-----Original Message-----
From: Xiaohong Yang (Sharon) [mailto:sharonxyang@yahoo.com] 
Sent: 25 January 2005 00:37
To: Lucene Users List
Subject: Re: Sort Performance Problems across large dataset 

Hi Peter,
I just got on the list a few hours ago. I am still reading the source code.
I am not going to send this to the list.

I would like to know the ".2 sec" query time for 2 million fields, should it
display only the first page (100 or so), not the whole 3000 found? It is
very fast I agree. 

If the alphabetic index display only a link, not the content, then it should
not be very slow since you only need to sort part of what a user need. May
be display only the first "A" page, as it did with the regular scored
results. Just my thought, might not work for you.

Do you store the Lucene index in the database or in a text file?

Best,
Sharon
LangPower Computing, Inc.
http://www.indexingonline.com

Peter Hollas 
wrote:
I am working on a public accessible Struts based species database project 
where the number of species names is currently at 2.3 million, and in the 
near future will be somewhere nearer 4 million (probably the largest there 
is). The species names are typically 1 to 7 words in length, and the broad 
requirement is to be able to do a fulltext search across them. It is also 
necessary to sort the results into alphabetical order by species name.

Currently we can issue a simple search query and expect a response back in 
about 0.2 seconds (~3,000 results) with the Lucene index that we have built.

Lucene gives a much more predictable and faster average query time than 
using standard fulltext indexing with mySQL. This however returns result in 
score order, and not alphabetically.

To sort the resultset into alphabetical order, we added the species names as

a seperate keyword field, and sorted using it whilst querying. This solution

works fine, but is unacceptable since a query that returns thousands of 
results can take upwards of 30 seconds to sort them.

My question is whether it is possible to somehow return the names in 
alphabetical order without using a String SortField. My last resort will be 
to perform a monthly index rebuild, and return results by index order (about

a day to re-index!). But ideally there might be a way to modify the Lucene 
API to incorporate a scoring system in a way that scores by lexical order.

Any ideas are appreciated!

Many thanks, Peter.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


--0-1100883684-1106690048=:28677--

From lucene-user-return-12691-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 25 22:38:45 2005
Return-Path: <lucene-user-return-12691-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76710 invoked from network); 25 Jan 2005 22:38:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Jan 2005 22:38:45 -0000
Received: (qmail 35740 invoked by uid 500); 25 Jan 2005 22:38:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35714 invoked by uid 500); 25 Jan 2005 22:38:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35696 invoked by uid 99); 25 Jan 2005 22:38:39 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of chenjian1227@gmail.com designates 64.233.170.202 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.202)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 25 Jan 2005 14:38:38 -0800
Received: by rproxy.gmail.com with SMTP id 40so86670rnz
        for <lucene-user@jakarta.apache.org>; Tue, 25 Jan 2005 14:38:37 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=CvnFIaKJDmkxFpacoXrYtf8RbTcLPYKkA8hpSjNmjjnsvWQGiV3dSRR/ynDmwTnJMxKpg2CLbE/ns4xHOr6ooBCH+NfbYPzB3vubRvNRXwKVEuNVv9RMeT1oa5PPCAA5bmciFqRz+8IQAbJk16J2TxkSAAGOKOgvRDHJJp6+/KE=
Received: by 10.38.8.49 with SMTP id 49mr147449rnh;
        Tue, 25 Jan 2005 14:38:36 -0800 (PST)
Received: by 10.38.8.15 with HTTP; Tue, 25 Jan 2005 14:38:36 -0800 (PST)
Message-ID: <7ca12391050125143875402324@mail.gmail.com>
Date: Tue, 25 Jan 2005 14:38:36 -0800
From: jian chen <chenjian1227@gmail.com>
Reply-To: jian chen <chenjian1227@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How to give recent documents a boost?
In-Reply-To: <opsk58cvzk6yt6e7@dhcp-171-71-47-107.cisco.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <opsk58cvzk6yt6e7@dhcp-171-71-47-107.cisco.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I think setting boost to the recent document is tricky. There is no
clear cut except trial and error to make the boost value right.

Could you let the user specify a date range and sort the documents
within that range by relevance? This way, the users get what they
exactly specified, and won't be annoyed by in-proper setting of the
boost factor.

Workable?

Thanks,

Jian

On Tue, 25 Jan 2005 10:30:21 -0800, aurora <aurora00@gmail.com> wrote:
> What is the best way to give recent documents a boost? Not sorting them by
> strict date order but to give them some preference. If document 1 filed
> last week has a score of 0.5 and document 2 filed last month has a score
> of 0.55, then list document 1 first. But if document 1 has a score of only
> 0.05, then keep it at the end. Any experience of fine tuning by date order?
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12692-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Jan 25 23:57:50 2005
Return-Path: <lucene-user-return-12692-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11667 invoked from network); 25 Jan 2005 23:57:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Jan 2005 23:57:50 -0000
Received: (qmail 93556 invoked by uid 500); 25 Jan 2005 23:57:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93500 invoked by uid 500); 25 Jan 2005 23:57:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93467 invoked by uid 99); 25 Jan 2005 23:57:30 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_60_70,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.interoperate.com) (65.121.33.9)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 25 Jan 2005 15:57:30 -0800
Received: from imobile2 ([192.168.1.222])
	by mail.interoperate.com (8.12.8/8.12.8) with SMTP id j0PNvRvN028478
	for <lucene-user@jakarta.apache.org>; Tue, 25 Jan 2005 16:57:28 -0700
Message-ID: <02f201c50339$a04765a0$fb13fea9@imobile2>
From: "aaz" <x@interoperate.com>
To: <lucene-user@jakarta.apache.org>
Subject: multiple filters
Date: Tue, 25 Jan 2005 16:57:28 -0700
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_02EF_01C502FE.F3D1AA40"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_02EF_01C502FE.F3D1AA40
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello,
Every document in my index has 2 date related fields.

created_date and modified_date stored via the DateField.dateToString()

Users want to be able to search via such between like queries such as:
(where modified_date > X AND modified_date < X AND created_date >=3D =
created_date =3D< X)

Now I tried using RangeQuery's for this but quickly ran into the =
TooManyClauses exception issue. The next thing I am looking at is the =
use of DateFilters to pass in with the query at searcher.search(). =
However the interfaces only supports one filter. Is it possible to pass =
multiple filters that would be needed for my example above?

thanks




------=_NextPart_000_02EF_01C502FE.F3D1AA40--



From lucene-user-return-12693-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 00:38:51 2005
Return-Path: <lucene-user-return-12693-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79950 invoked from network); 26 Jan 2005 00:38:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 00:38:51 -0000
Received: (qmail 51941 invoked by uid 500); 26 Jan 2005 00:38:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51903 invoked by uid 500); 26 Jan 2005 00:38:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51884 invoked by uid 99); 26 Jan 2005 00:38:45 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from internalmx2.vasoftware.com (HELO lists.vasoftware.com) (12.152.184.150)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 25 Jan 2005 16:38:43 -0800
Received: from netblock-66-159-223-11.dslextreme.com ([66.159.223.11]:51467 helo=[192.168.1.15])
	by lists.vasoftware.com with asmtp 
	(Cipher TLSv1:RC4-SHA:128) (Exim 4.20 #1 (Debian))
	id 1CtbCF-0003vV-5L by VAauthid <cconrad> with fixed_plain
	for <lucene-user@jakarta.apache.org>; Tue, 25 Jan 2005 16:38:11 -0800
Mime-Version: 1.0 (Apple Message framework v619)
Content-Transfer-Encoding: 7bit
Message-Id: <8D9AC5DD-6F32-11D9-BD0D-000D93C31554@vasoftware.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: lucene-user@jakarta.apache.org
From: Chris Conrad <cconrad@vasoftware.com>
Subject: Optimal index structure
Date: Tue, 25 Jan 2005 16:38:09 -0800
X-Mailer: Apple Mail (2.619)
X-EA-Verified: lists.vasoftware.com 1CtbCF-0003vV-5L 63e7493b505da2566aaf3db8e05502de
X-Spam-Score: -97.0 (---------------------------------------------------)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm currently working on building a search function for my application 
and am looking for guidance on what the optimal way to store the index 
would be.

The application has several different document types with documents 
split into different categories.  Each category has differing numbers 
of documents of each type.  A small category may have as few as 0 to 5 
documents of each type, a large category might have as many 50,000+ 
documents of each type.  There are upwards of 100,000 categories.  The 
search function would never have to search documents from more than one 
category at a time, but should be able to search either a single 
document type or multiple document types together.  I need to be able 
to handle over 1,000,000 searches a day with as many as 50 simultaneous 
searches at peak times.

My current thinking is that each category would get it's own index.  
Each document type would have a keyword which indicates which document 
type it is.  When doing a search, I can either add a filter for that 
particular document type, or if the search is over all document types I 
can leave the filter out.  Alternately, I could put everything in 1 
very large index and choose category and document type by filters.  Or 
I can have an index for each document type for each category and use 
multi-index searchers when necessary.

I'm afraid that the description above is quite convoluted, so let me 
know if further clarification is necessary.

Any advice is welcome.

Thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12694-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 00:53:37 2005
Return-Path: <lucene-user-return-12694-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84166 invoked from network); 26 Jan 2005 00:53:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 00:53:37 -0000
Received: (qmail 73798 invoked by uid 500); 26 Jan 2005 00:53:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73741 invoked by uid 500); 26 Jan 2005 00:53:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73725 invoked by uid 99); 26 Jan 2005 00:53:31 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork2.mail.Virginia.EDU (HELO fork2.mail.virginia.edu) (128.143.2.192)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 25 Jan 2005 16:53:30 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork2.mail.virginia.edu (Postfix) with ESMTP id 04AC01C034
	for <lucene-user@jakarta.apache.org>; Tue, 25 Jan 2005 19:53:28 -0500 (EST)
Received: from fork2.mail.virginia.edu ([127.0.0.1])
 by localhost (fork2.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 01655-03 for <lucene-user@jakarta.apache.org>;
 Tue, 25 Jan 2005 19:53:27 -0500 (EST)
Received: from [192.168.1.104] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by fork2.mail.virginia.edu (Postfix) with ESMTP id 9C6861BFF0
	for <lucene-user@jakarta.apache.org>; Tue, 25 Jan 2005 19:53:27 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <02f201c50339$a04765a0$fb13fea9@imobile2>
References: <02f201c50339$a04765a0$fb13fea9@imobile2>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <D7412B68-6F34-11D9-BBF4-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: multiple filters
Date: Tue, 25 Jan 2005 19:54:32 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork2.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

There is a ChainedFilter in the jakarta-lucene-sandbox CVS repository 
allowing you to AND/OR/XOR, and more with multiple filters.  I covered 
it in LIA:

	http://www.lucenebook.com/search?query=ChainedFilter

And the source code you can download has some code that demonstrates it.

	Erik

On Jan 25, 2005, at 6:57 PM, aaz wrote:

> Hello,
> Every document in my index has 2 date related fields.
>
> created_date and modified_date stored via the DateField.dateToString()
>
> Users want to be able to search via such between like queries such as:
> (where modified_date > X AND modified_date < X AND created_date >= 
> created_date =< X)
>
> Now I tried using RangeQuery's for this but quickly ran into the 
> TooManyClauses exception issue. The next thing I am looking at is the 
> use of DateFilters to pass in with the query at searcher.search(). 
> However the interfaces only supports one filter. Is it possible to 
> pass multiple filters that would be needed for my example above?
>
> thanks
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12695-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 01:29:57 2005
Return-Path: <lucene-user-return-12695-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95049 invoked from network); 26 Jan 2005 01:29:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 01:29:57 -0000
Received: (qmail 19558 invoked by uid 500); 26 Jan 2005 01:29:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19528 invoked by uid 500); 26 Jan 2005 01:29:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19515 invoked by uid 99); 26 Jan 2005 01:29:52 -0000
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_POST,FROM_ENDS_IN_NUMS
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: 202.83.206.234 is neither permitted nor denied by domain of teayu2002@netvigator.com)
Received: from mail1.yesasia.com (HELO mail1.yesasia.com) (202.83.206.234)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 25 Jan 2005 17:29:51 -0800
Received: from teay (192.168.120.127:1429)
	by yesasia.com.hk with [XMail 1.20 ESMTP Server]
	id <S2FBEF9> for <lucene-user@jakarta.apache.org> from <teayu2002@netvigator.com>;
	Wed, 26 Jan 2005 09:29:34 +0800
Message-ID: <071e01c50346$7dd2acc0$7f78a8c0@yawin.yesasia.com>
From: "Tea Yu" <teayu2002@netvigator.com>
To: <cconrad@vasoftware.com>
Cc: <lucene-user@jakarta.apache.org>
References: <8D9AC5DD-6F32-11D9-BD0D-000D93C31554@vasoftware.com>
Subject: Re: Optimal index structure
Date: Wed, 26 Jan 2005 09:29:34 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1478
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1478
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

  How many total documents will be there?  I'll opt for a single index if
search in "all categories" meets the performance target, else you may want
to consider distributed searchers.  arguments for a single index:

  1) all doc scores will have to be calculated anyway leveraging Searcher or
(Parallel)MultiSearcher which should be most expensive (with a slight
overhead to aggregate and sort the docs in the latter)
  2) you'll most likely want to aggregate N categories into an index anyway
to avoid having too many opened files
  3) most of the time will be spent in context switching if having too many
indexes searched in parallel

  an alternative will be to optimize the structure base on usage pattern,
e.g. having 1 full category index and several sub-categories indexes, if
reindexing is not a problem

  Tea

  > I'm currently working on building a search function for my application
  > and am looking for guidance on what the optimal way to store the index
  > would be.
  >
  > The application has several different document types with documents
  > split into different categories.  Each category has differing numbers
  > of documents of each type.  A small category may have as few as 0 to 5
  > documents of each type, a large category might have as many 50,000+
  > documents of each type.  There are upwards of 100,000 categories.  The
  > search function would never have to search documents from more than one
  > category at a time, but should be able to search either a single
  > document type or multiple document types together.  I need to be able
  > to handle over 1,000,000 searches a day with as many as 50 simultaneous
  > searches at peak times.
  >
  > My current thinking is that each category would get it's own index.
  > Each document type would have a keyword which indicates which document
  > type it is.  When doing a search, I can either add a filter for that
  > particular document type, or if the search is over all document types I
  > can leave the filter out.  Alternately, I could put everything in 1
  > very large index and choose category and document type by filters.  Or
  > I can have an index for each document type for each category and use
  > multi-index searchers when necessary.
  >
  > I'm afraid that the description above is quite convoluted, so let me
  > know if further clarification is necessary.
  >
  > Any advice is welcome.
  >
  > Thanks


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12696-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 01:43:02 2005
Return-Path: <lucene-user-return-12696-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99343 invoked from network); 26 Jan 2005 01:43:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 01:43:02 -0000
Received: (qmail 33258 invoked by uid 500); 26 Jan 2005 01:42:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33232 invoked by uid 500); 26 Jan 2005 01:42:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33217 invoked by uid 99); 26 Jan 2005 01:42:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from internalmx2.vasoftware.com (HELO lists.vasoftware.com) (12.152.184.150)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 25 Jan 2005 17:42:56 -0800
Received: from netblock-66-159-223-11.dslextreme.com ([66.159.223.11]:51683 helo=[192.168.1.15])
	by lists.vasoftware.com with asmtp 
	(Cipher TLSv1:RC4-SHA:128) (Exim 4.20 #1 (Debian))
	id 1CtcCK-0007pW-4H by VAauthid <cconrad> with fixed_plain; Tue, 25 Jan 2005 17:42:20 -0800
In-Reply-To: <071e01c50346$7dd2acc0$7f78a8c0@yawin.yesasia.com>
References: <8D9AC5DD-6F32-11D9-BD0D-000D93C31554@vasoftware.com> <071e01c50346$7dd2acc0$7f78a8c0@yawin.yesasia.com>
Mime-Version: 1.0 (Apple Message framework v619)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <7E475E35-6F3B-11D9-BD0D-000D93C31554@vasoftware.com>
Content-Transfer-Encoding: 7bit
Cc:  <lucene-user@jakarta.apache.org>
From: Chris Conrad <cconrad@vasoftware.com>
Subject: Re: Optimal index structure
Date: Tue, 25 Jan 2005 17:42:09 -0800
To: "Tea Yu" <teayu2002@netvigator.com>
X-Mailer: Apple Mail (2.619)
X-EA-Verified: lists.vasoftware.com 1CtcCK-0007pW-4H 3acf9f5a82012dc08877e96ab87ba602
X-Spam-Score: -99.5 (---------------------------------------------------)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 25, 2005, at 5:29 PM, Tea Yu wrote:

>   How many total documents will be there?  I'll opt for a single index 
> if
> search in "all categories" meets the performance target, else you may 
> want
> to consider distributed searchers.  arguments for a single index:
>

Fortunately, there is no need for an all categories search.  I won't be 
searching across categories, just across document types.  Total, there 
will be somewhere near 15,000,000 documents across about 100,000 
categories.  But, again, the distribution across categories is very 
uneven.  There will be categories with a total of 5 or so documents, 
with other categories having over 100,000.

>   1) all doc scores will have to be calculated anyway leveraging 
> Searcher or
> (Parallel)MultiSearcher which should be most expensive (with a slight
> overhead to aggregate and sort the docs in the latter)
>   2) you'll most likely want to aggregate N categories into an index 
> anyway
> to avoid having too many opened files

I am concerned about the number of concurrent open files, but I think 
that may be mitigated since some categories will receive virtually no 
searches (since they have very few documents or those documents are 
mostly very old).  I would say that the number of categories searched 
frequently will be under 5000.  I was thinking of using a LRU cache of 
open indexes which would keep the number of open files under control 
and ensure that frequently used indexes are quickly available.


>   3) most of the time will be spent in context switching if having too 
> many
> indexes searched in parallel
>

I will be limiting the number of search threads to 4-12 (this will be 
running a dedicated quad xeon, most likely).

>   an alternative will be to optimize the structure base on usage 
> pattern,
> e.g. having 1 full category index and several sub-categories indexes, 
> if
> reindexing is not a problem
>

Re-indexing will be an issue since it looks like it will take on the 
order of 3-4 days to index everything.

Thanks for your input.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12697-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 04:30:08 2005
Return-Path: <lucene-user-return-12697-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95175 invoked from network); 26 Jan 2005 04:30:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 04:30:07 -0000
Received: (qmail 34230 invoked by uid 500); 26 Jan 2005 04:30:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34204 invoked by uid 500); 26 Jan 2005 04:30:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34190 invoked by uid 99); 26 Jan 2005 04:30:02 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30209.mail.mud.yahoo.com (HELO web30209.mail.mud.yahoo.com) (68.142.200.92)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 25 Jan 2005 20:30:00 -0800
Received: (qmail 24638 invoked by uid 60001); 26 Jan 2005 04:29:58 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=rK0a2QFxh4WmhBCUm0hfH0pssGm0iQYNN5is6h6lG+OwKPz3MO/KQP4c/3XekIQDFcVky0JfOWU+hdT0lLii6Z35Jye20B17YQM2AT5424imE6u9B2vOYC17/1sNDjV9wpx2/z92KfFcIKibHsKhbY3IpdBLcIpY9fxTZp2OaqY=  ;
Message-ID: <20050126042958.24636.qmail@web30209.mail.mud.yahoo.com>
Received: from [69.201.139.168] by web30209.mail.mud.yahoo.com via HTTP; Tue, 25 Jan 2005 20:29:58 PST
Date: Tue, 25 Jan 2005 20:29:58 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Search on heterogenous index
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <200501212017.30261.skoptelov@fis.ru>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello Simeon,

Heterogenous Documents/indices are OK - check out the second hit:

  http://www.lucenebook.com/search?query=heterogenous+different

Otis

--- Simeon Koptelov <skoptelov@fis.ru> wrote:

> Hello all. I'm new to lucene and think about using it in my project.
> 
> I have prices with dynamic structure, containing wares there, about
> 10K prices 
> with total 500K wares. Each price has about 5 text fields. 
> 
> I'll do searches on wares. The difficult part is that I'll do
> searches for all 
> wares, the search is not bound to a particular price structure.
> 
> My question is, how should I organize my indices? Can Lucene handle
> data 
> effectlively if I'll have one index containing different Fields in
> Documents? 
> Or should I create a separate index for each price with same Fields
> structure 
> across Documents?
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12698-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 04:35:47 2005
Return-Path: <lucene-user-return-12698-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96347 invoked from network); 26 Jan 2005 04:35:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 04:35:47 -0000
Received: (qmail 40251 invoked by uid 500); 26 Jan 2005 04:35:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40221 invoked by uid 500); 26 Jan 2005 04:35:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40204 invoked by uid 99); 26 Jan 2005 04:35:41 -0000
X-ASF-Spam-Status: No, hits=3.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD,PLING_PLING
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30205.mail.mud.yahoo.com (HELO web30205.mail.mud.yahoo.com) (68.142.200.88)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 25 Jan 2005 20:35:39 -0800
Received: (qmail 40533 invoked by uid 60001); 26 Jan 2005 04:35:37 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=bZ2xaP8I/4T+56q4P9tHpptQQodbk3vKqaYogL7NrF+JpzjnDJTkAZuBb54gmfxf3f7zzrc2v/ZZlBvVIyZdNawLJdAjd7YYzdsg7V0yOmJ14+Sid5Xgfs36XS5LzAE5A6yTI3Q66nDbxAVQRgTHW9bVonEbTHLGyqINeojnQ7w=  ;
Message-ID: <20050126043537.40531.qmail@web30205.mail.mud.yahoo.com>
Received: from [69.201.139.168] by web30205.mail.mud.yahoo.com via HTTP; Tue, 25 Jan 2005 20:35:37 PST
Date: Tue, 25 Jan 2005 20:35:37 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Search Chinese in Unicode !!!
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  Eric Chow <eric138@gmail.com>
In-Reply-To: <f472e9a0050121024231e2e9fa@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I don't have a document with chinese characters to verify this, but it
looks right, so I'll add your change to SearchFiles.java.

Thanks,
Otis

--- Eric Chow <eric138@gmail.com> wrote:

> Search not really correct with UTF-8 !!!
> 
> 
> The following is the search result that I used the SearchFiles in the
> lucene demo.
> 
> d:\Downloads\Softwares\Apache\Lucene\lucene-1.4.3\src>java
> org.apache.lucene.demo.SearchFiles c:\temp\myindex
> Usage: java SearchFiles <idnex>
> Query: 
> Searching for: g                                <<<<<<<<<<<<     
> strange ??
> 3 total matching documents
> 0. ../docs/ChineseDemo.html            <<<<<<<<<<<<    this files
> contains the 
>    -
> 1. ../docs/luceneplan.html
>    - Jakarta Lucene - Plan for enhancements to Lucene
> 2. ../docs/api/index-all.html
>    - Index (Lucene 1.4.3 API)
> Query: 
> 
> 
> 
> From the above result only the ChineseDemo.html includes the
> character
> that I want to search !
> 
> 
> 
> 
> The modified code in SearchFiles.java:
> 
> 
> BufferedReader in = new BufferedReader(new
> InputStreamReader(System.in, "UTF-8"));
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12699-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 04:48:20 2005
Return-Path: <lucene-user-return-12699-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98973 invoked from network); 26 Jan 2005 04:48:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 04:48:20 -0000
Received: (qmail 50399 invoked by uid 500); 26 Jan 2005 04:48:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50369 invoked by uid 500); 26 Jan 2005 04:48:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50352 invoked by uid 99); 26 Jan 2005 04:48:14 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DATE_IN_FUTURE_03_06,FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from relay.fis.ru (HELO mail.office.fis.ru) (212.20.24.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 25 Jan 2005 20:48:13 -0800
Received: by mail.office.fis.ru (Postfix, from userid 1007)
	id A7FE48A4D2; Wed, 26 Jan 2005 10:54:10 +0600 (NOVT)
Received: from develop.fis.ru (dev.fis.ru [212.20.24.39])
	by mail.office.fis.ru (Postfix) with ESMTP id 4D06F89EAA
	for <lucene-user@jakarta.apache.org>; Wed, 26 Jan 2005 10:54:10 +0600 (NOVT)
From: Simeon Koptelov <skoptelov@fis.ru>
Organization: FIS
To: lucene-user@jakarta.apache.org
Subject: Re: Re: Search on heterogenous index
Date: Wed, 26 Jan 2005 10:44:01 +0000
User-Agent: KMail/1.7
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200501261044.01410.skoptelov@fis.ru>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>Heterogenous Documents/indices are OK - check out the second hit:
>
>=A0 http://www.lucenebook.com/search?query=3Dheterogenous+different

Thanks, I'll consider buying "Lucene in Action".

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12700-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 08:53:47 2005
Return-Path: <lucene-user-return-12700-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60929 invoked from network); 26 Jan 2005 08:53:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 08:53:46 -0000
Received: (qmail 41778 invoked by uid 500); 26 Jan 2005 08:53:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41750 invoked by uid 500); 26 Jan 2005 08:53:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41735 invoked by uid 99); 26 Jan 2005 08:53:33 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=PLING_PLING,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of rene.a.hackl@gmx.de designates 213.165.64.20 as permitted sender)
Received: from pop.gmx.net (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 26 Jan 2005 00:53:31 -0800
Received: (qmail 13945 invoked by uid 0); 26 Jan 2005 08:53:28 -0000
Received: from 141.66.16.25 by www40.gmx.net with HTTP;
	Wed, 26 Jan 2005 09:53:28 +0100 (MET)
Date: Wed, 26 Jan 2005 09:53:28 +0100 (MET)
From: =?ISO-8859-1?Q?=22Ren=E9_Hackl=22?= <rene.a.hackl@gmx.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <20050126043537.40531.qmail@web30205.mail.mud.yahoo.com>
Subject: Re: Search Chinese in Unicode !!!
X-Priority: 3 (Normal)
X-Authenticated: #24166002
Message-ID: <12177.1106729608@www40.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> > The modified code in SearchFiles.java:
> > 
> > 
> > BufferedReader in = new BufferedReader(new
> > InputStreamReader(System.in, "UTF-8"));

It might make sense to incorporate a similar change in WordlistLoader.
Instead of 

freader = new FileReader(wordfile);
lnr = new LineNumberReader(freader);

I think it's preferable to do something like

LineNumberReader lnr = new LineNumberReader(new InputStreamReader(
                    new FileInputStream(wordfile), "UTF-8"));

to load even more languages' files, now that it resides in the
analysis-package.

Regards,
Ren

-- 
10 GB Mailbox, 100 FreeSMS http://www.gmx.net/de/go/topmail
+++ GMX - die erste Adresse fr Mail, Message, More +++

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12701-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 10:44:55 2005
Return-Path: <lucene-user-return-12701-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31116 invoked from network); 26 Jan 2005 10:44:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 10:44:55 -0000
Received: (qmail 95503 invoked by uid 500); 26 Jan 2005 10:44:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95470 invoked by uid 500); 26 Jan 2005 10:44:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95456 invoked by uid 99); 26 Jan 2005 10:44:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork7.mail.Virginia.EDU (HELO fork7.mail.virginia.edu) (128.143.2.177)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 26 Jan 2005 02:44:46 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id 6C3461F528F
	for <lucene-user@jakarta.apache.org>; Wed, 26 Jan 2005 05:44:43 -0500 (EST)
Received: from fork7.mail.virginia.edu ([127.0.0.1])
 by localhost (fork7.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 29643-05 for <lucene-user@jakarta.apache.org>;
 Wed, 26 Jan 2005 05:44:43 -0500 (EST)
Received: from [192.168.1.104] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id 23C4F1F5346
	for <lucene-user@jakarta.apache.org>; Wed, 26 Jan 2005 05:44:43 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619)
In-Reply-To: <200501261044.01410.skoptelov@fis.ru>
References: <200501261044.01410.skoptelov@fis.ru>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <712ACA8F-6F87-11D9-A4AA-000A95BC61B6@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Search on heterogenous index
Date: Wed, 26 Jan 2005 05:45:49 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619)
X-UVA-Virus-Scanned: by amavisd-new at fork7.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 26, 2005, at 5:44 AM, Simeon Koptelov wrote:

>> Heterogenous Documents/indices are OK - check out the second hit:
>>
>> =A0 http://www.lucenebook.com/search?query=3Dheterogenous+different
>
> Thanks, I'll consider buying "Lucene in Action".

Our master plan is working!  :)   Just kidding.... I have on my TODO=20
list to aggregate more Lucene related content (like the javadocs,=20
Lucene's own documentation, perhaps a crawl of the wiki and the Lucene=20=

resources) into our search engine so that it becomes a richer resource=20=

and seems less than a marketing ploy.  Though the highlighted snippets=20=

do have enough information to be useful in some cases, which is nice. =20=

I will start dedicating a few minutes a day to blog some useful=20
content.

By all means, if you have other suggestions for our site, let us know=20
at authors@lucenebook.com.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12702-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 11:43:10 2005
Return-Path: <lucene-user-return-12702-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64985 invoked from network); 26 Jan 2005 11:43:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 11:43:09 -0000
Received: (qmail 25777 invoked by uid 500); 26 Jan 2005 11:42:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25742 invoked by uid 500); 26 Jan 2005 11:42:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25718 invoked by uid 99); 26 Jan 2005 11:42:57 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 66-7-226-62.cust.telepacific.net (HELO hagrid.scalix.local) (66.7.226.62)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 26 Jan 2005 03:42:56 -0800
Received: from hagrid.scalix.local (localhost.localdomain [127.0.0.1])
	by hagrid.scalix.local (8.12.11/8.12.11) with ESMTP id j0QBYduP006102
	for <lucene-user@jakarta.apache.org>; Wed, 26 Jan 2005 03:34:39 -0800
Received: from hagrid.scalix.local (root@localhost)
	by hagrid.scalix.local (8.12.11/8.12.11/Submit) with ESMTP id j0QBYdXt006100
	for <lucene-user@jakarta.apache.org>; Wed, 26 Jan 2005 03:34:39 -0800
Received: from [10.11.108.243] (snorlax.uk.scalix.com 10.11.108.216)
    by snorlax.uk.scalix.com (Scalix SMTP Relay 9.2.0.98-beta)
    via ESMTP; Wed, 26 Jan 2005 11:42:52 +0000 (GMT)
Date: Wed, 26 Jan 2005 11:42:52 +0000
From: John Haxby <jch@scalix.com>
Sender: John Haxby <jch@scalix.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-ID: <41F7823C.2050305@scalix.com>
Subject: Lucene in Action hits desk in UK
x-scalix-Hops: 3
User-Agent: Mozilla Thunderbird 0.8 (X11/20041020)
X-Accept-Language: en-us, en
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1";
	format="flowed"
Content-Transfer-Encoding: 8bit
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


My copy of Lucene in Action has finally hit my desk in the UK.  
Hopefully the dispatch time quoted by amazon.co.uk will now start to 
drop to something more sensible.

It's been interesting watching the price changes.  When I ordered my 
copy back in November, I paid 19.38 for it.  At around the time of 
publication, the price went up to 35.99, the list price.   It's 
currently priced at 25.19, 30% off list price.

jch

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12703-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 14:02:53 2005
Return-Path: <lucene-user-return-12703-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44001 invoked from network); 26 Jan 2005 14:02:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 14:02:52 -0000
Received: (qmail 14339 invoked by uid 500); 26 Jan 2005 14:02:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14170 invoked by uid 500); 26 Jan 2005 14:02:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14141 invoked by uid 99); 26 Jan 2005 14:02:43 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from anchor-post-33.mail.demon.net (HELO anchor-post-33.mail.demon.net) (194.217.242.91)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 26 Jan 2005 06:02:42 -0800
Received: from rselvaraj.demon.co.uk ([83.104.137.62] helo=ROBERTSELVARAJ)
	by anchor-post-33.mail.demon.net with esmtp (Exim 4.42)
	id 1Ctnkk-000Lju-C4; Wed, 26 Jan 2005 14:02:38 +0000
Reply-To: <lucene@searchblox.com>
From: "Robert Selvaraj" <lucene@searchblox.com>
To: <lucene-user@jakarta.apache.org>,
	<lucene-dev@jakarta.apache.org>
Subject: SearchBlox J2EE Search Component Version 2.1 released
Date: Wed, 26 Jan 2005 14:02:15 -0000
Organization: SearchBlox Software, Inc.
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcUDr6P2Mqz4K3agTlC9m6V3Bekulw==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


SearchBlox is a J2EE Search Component that delivers out-of-the-box search
functionality for fast and easy implementation with your websites,
applications, intranets and portals. SearchBlox uses the Lucene Search API
and incorporates integrated HTTP/HTTPS and File System crawlers, support for
various document formats including HTML, Word, PDF, PowerPoint and Excel,
support for indexing and searching content in 18 languages and fully
customizable search results, all controlled from a browser-based Admin
Console. 
 
Main features in this release: 
==============================
- Support for Disk-based search index. Administrators can now choose where
the index is held during operations, In-Memory or On-Disk   
- Preset filter: a pre-defined search query that will be automatically added
to the end-user's search query   
- Indexing performance and stability improvements
- Bug fixes 

SearchBlox is available as a Web Archive (WAR) and is deployable on any
Servlet 2.3/JSP 1.2 compliant server. SearchBlox Getting-Started Guides are
available for the following servers: 

JBoss - http://www.searchblox.com/gettingstarted_jboss.html 
Jetty - http://www.searchblox.com/gettingstarted_jetty.html 
JRun - http://www.searchblox.com/gettingstarted_jrun.html 
Oracle - http://www.searchblox.com/gettingstarted_oracle.html 
Pramati - http://www.searchblox.com/gettingstarted_pramati.html 
Resin - http://www.searchblox.com/gettingstarted_resin.html 
Sun - http://www.searchblox.com/gettingstarted_sun.html 
Tomcat - http://www.searchblox.com/gettingstarted_tomcat.html 
Weblogic - http://www.searchblox.com/gettingstarted_weblogic.html 
Websphere - http://www.searchblox.com/gettingstarted_websphere.html 

SearchBlox is also available as SearchBlox Server. The Server is an
integrated application incorporating everything you need to run SearchBlox.
The Server includes SearchBlox J2EE Component, the Jetty Application Server
and the Java Runtime Environment (JRE) 1.4. With the SearchBlox Server,
there are no additional software requirements to deploy SearchBlox. 

The SearchBlox FREE Edition is available free of charge and can index up to
1000 documents. 

The software can be downloaded from http://www.searchblox.com




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12704-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 14:07:24 2005
Return-Path: <lucene-user-return-12704-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47332 invoked from network); 26 Jan 2005 14:07:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 14:07:24 -0000
Received: (qmail 23903 invoked by uid 500); 26 Jan 2005 14:07:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23881 invoked by uid 500); 26 Jan 2005 14:07:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23867 invoked by uid 99); 26 Jan 2005 14:07:17 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30201.mail.mud.yahoo.com (HELO web30201.mail.mud.yahoo.com) (68.142.200.84)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 26 Jan 2005 06:07:15 -0800
Received: (qmail 24851 invoked by uid 60001); 26 Jan 2005 14:07:13 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=FK+XjMKbvtgPAzuiLh+o8rxnM3EagwlMH5SAgatd3fC2Y7N2mcFMzJCCB197UAVhMCTlb59Kjd1Dbqg7uRC/zceM21dL7ShG/jWItN/Yy0gHWgU7h+NAx0TrXSdNglkK5bclc1V9BLNCu6pIoakuBgOw8emaQEVzU3npJnw9GXU=  ;
Message-ID: <20050126140713.24849.qmail@web30201.mail.mud.yahoo.com>
Received: from [69.201.139.168] by web30201.mail.mud.yahoo.com via HTTP; Wed, 26 Jan 2005 06:07:13 PST
Date: Wed, 26 Jan 2005 06:07:13 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene in Action hits desk in UK
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41F7823C.2050305@scalix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Publisher -> Amazon information feed seems to be a fairly manual
process, and Amazon takes a while to update book information on their
site, including prices.

I contacted both the US and UK Amazon sites and asked them to fix my
last name (the last character in my name has a little slash (not an
accent) above it), but they never bothered to fix it nor email me back.

Anyhow, enjoy Lucene in Action!

Otis Gospodneti&#263;

--- John Haxby <jch@scalix.com> wrote:

> 
> My copy of Lucene in Action has finally hit my desk in the UK.  
> Hopefully the dispatch time quoted by amazon.co.uk will now start to 
> drop to something more sensible.
> 
> It's been interesting watching the price changes.  When I ordered my 
> copy back in November, I paid 19.38 for it.  At around the time of 
> publication, the price went up to 35.99, the list price.   It's 
> currently priced at 25.19, 30% off list price.
> 
> jch
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12705-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 15:05:57 2005
Return-Path: <lucene-user-return-12705-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 431 invoked from network); 26 Jan 2005 15:05:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 15:05:57 -0000
Received: (qmail 52852 invoked by uid 500); 26 Jan 2005 15:05:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52820 invoked by uid 500); 26 Jan 2005 15:05:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52804 invoked by uid 99); 26 Jan 2005 15:05:48 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 66-7-226-62.cust.telepacific.net (HELO hagrid.scalix.local) (66.7.226.62)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 26 Jan 2005 07:05:47 -0800
Received: from hagrid.scalix.local (localhost.localdomain [127.0.0.1])
	by hagrid.scalix.local (8.12.11/8.12.11) with ESMTP id j0QEvTed013583
	for <lucene-user@jakarta.apache.org>; Wed, 26 Jan 2005 06:57:29 -0800
Received: from hagrid.scalix.local (root@localhost)
	by hagrid.scalix.local (8.12.11/8.12.11/Submit) with ESMTP id j0QEvTiU013581
	for <lucene-user@jakarta.apache.org>; Wed, 26 Jan 2005 06:57:29 -0800
Received: from [10.11.108.243] (snorlax.uk.scalix.com 10.11.108.216)
    by snorlax.uk.scalix.com (Scalix SMTP Relay 9.2.0.98-beta)
    via ESMTP; Wed, 26 Jan 2005 15:05:41 +0000 (GMT)
Date: Wed, 26 Jan 2005 15:05:41 +0000
From: John Haxby <jch@scalix.com>
Sender: John Haxby <jch@scalix.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-ID: <41F7B1C5.9000402@scalix.com>
In-Reply-To: <20050126140713.24849.qmail@web30201.mail.mud.yahoo.com>
References: <20050126140713.24849.qmail@web30201.mail.mud.yahoo.com>
Subject: Re: Lucene in Action hits desk in UK
x-scalix-Hops: 3
User-Agent: Mozilla Thunderbird 0.8 (X11/20041020)
X-Accept-Language: en-us, en
MIME-Version: 1.0
Content-Type: text/plain;
	charset="UTF-8";
	format="flowed"
Content-Transfer-Encoding: 8bit
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis Gospodnetic wrote:

>I contacted both the US and UK Amazon sites and asked them to fix my
>last name (the last character in my name has a little slash (not an
>accent) above it), but they never bothered to fix it nor email me back.
>
>  
>
They probably don't know how to type a .  How _do_ you pronounce your 
name?  I've no idea what to do with that mark over the final c!  At the 
moment it's "Lucene in Action" by Eric Hatcher and Otis 
Gospo-something-or-other :-)

>Anyhow, enjoy Lucene in Action!
>  
>
Already doing so!

jch

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12706-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 15:26:09 2005
Return-Path: <lucene-user-return-12706-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15530 invoked from network); 26 Jan 2005 15:26:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 15:26:09 -0000
Received: (qmail 29603 invoked by uid 500); 26 Jan 2005 15:25:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29530 invoked by uid 500); 26 Jan 2005 15:25:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29480 invoked by uid 99); 26 Jan 2005 15:25:19 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from rogue.ncsl.nist.gov (HELO rogue.ncsl.nist.gov) (129.6.101.41)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 26 Jan 2005 07:25:17 -0800
Received: from rogue.ncsl.nist.gov.nist.gov (localhost.localdomain [127.0.0.1])
	by rogue.ncsl.nist.gov (8.12.11/8.12.11) with ESMTP id j0QFPFuV023853
	for <lucene-user@jakarta.apache.org>; Wed, 26 Jan 2005 10:25:15 -0500
From: Ian Soboroff <ian.soboroff@nist.gov>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Suggestions for documentation or LIA
References: <200501261044.01410.skoptelov@fis.ru>
	<712ACA8F-6F87-11D9-A4AA-000A95BC61B6@ehatchersolutions.com>
Date: Wed, 26 Jan 2005 10:25:15 -0500
In-Reply-To: <712ACA8F-6F87-11D9-A4AA-000A95BC61B6@ehatchersolutions.com>
	(Erik Hatcher's message of "Wed, 26 Jan 2005 05:45:49 -0500")
Message-ID: <9cfekg8tdpg.fsf_-_@rogue.ncsl.nist.gov>
User-Agent: Gnus/5.110003 (No Gnus v0.3) Emacs/21.3 (gnu/linux)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher <erik@ehatchersolutions.com> writes:

> By all means, if you have other suggestions for our site, let us know 
> at authors@lucenebook.com.

One of the things I would like to see, but which isn't either in the
Lucene site, documentation, or "Lucene in Action", is a complete
description of how the retrieval algorithm works.  That is, how the
HitCollector, Scorers, Similarity, etc all fit together.

I'm involved in a project which to some degree is looking at poking
deeply into this part of the Lucene code.  We have a nice (non-Lucene)
framework for working with more different kinds of similarity
functions (beyond tf-idf) which should also be expandable to include
query expansion, relevance feedback, and the like.  

I used to think that integrating it would be as simple as hacking in
Similarity, but I'm beginning to think it might need broader changes.
I could obviously hook in our whole retrieval setup by just diving for
an IndexReader and doing it all by hand, but then I would have to redo
the incremental search and possibly the rich query structure, which
would be a lose.

So anyway, I got LIA hoping for a good explanation (not a good
Explanation) on this bit, but it wasn't there.  There are some hints
on the Lucene site, but nothing complete.  If I muddle it out before
anything gets contributed, I'll try to write something up, but don't
expect anything too soon...

Ian



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12707-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 16:21:43 2005
Return-Path: <lucene-user-return-12707-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 522 invoked from network); 26 Jan 2005 16:20:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 16:20:28 -0000
Received: (qmail 8881 invoked by uid 500); 26 Jan 2005 16:18:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8845 invoked by uid 500); 26 Jan 2005 16:18:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8827 invoked by uid 99); 26 Jan 2005 16:18:50 -0000
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=FORGED_MUA_IMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from hades.labone.com (HELO hades.labone.com) (198.70.194.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 26 Jan 2005 08:18:49 -0800
Received: from smsrv.1.24.172.in-addr.arpa by hades.labone.com
          via smtpd (for hermes.apache.org [209.237.227.199]) with ESMTP; Wed, 26 Jan 2005 10:18:41 -0600
From: "Jerry Jalenak" <Jerry.Jalenak@LABONE.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: [HOWTO] Setting BooleanQuery MaxClauseCount
Date: Wed, 26 Jan 2005 10:18:30 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
X-WSS-ID: 6DE91D5734067051-01-01
Content-Type: text/plain;
 charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Is there a way to set the maxClauseCount field of BooleanQuery when using
QueryParser?

Jerry Jalenak
Senior Programmer / Analyst, Web Publishing
LabOne, Inc.
10101 Renner Blvd.
Lenexa, KS  66219
(913) 577-1496

jerry.jalenak@labone.com


This transmission (and any information attached to it) may be confidential and
is intended solely for the use of the individual or entity to which it is
addressed. If you are not the intended recipient or the person responsible for
delivering the transmission to the intended recipient, be advised that you
have received this transmission in error and that any use, dissemination,
forwarding, printing, or copying of this information is strictly prohibited.
If you have received this transmission in error, please immediately notify
LabOne at the following email address: securityincidentreporting@labone.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12708-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 17:05:10 2005
Return-Path: <lucene-user-return-12708-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16196 invoked from network); 26 Jan 2005 17:05:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 17:05:10 -0000
Received: (qmail 54800 invoked by uid 500); 26 Jan 2005 17:05:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54774 invoked by uid 500); 26 Jan 2005 17:05:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54756 invoked by uid 99); 26 Jan 2005 17:05:04 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 26 Jan 2005 09:05:04 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 26 Jan 2005 12:06:19 -0500
Message-ID: <004e01c503c9$5a2f0d30$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20050126140713.24849.qmail@web30201.mail.mud.yahoo.com>
Subject: Getting Into Search
Date: Wed, 26 Jan 2005 12:06:18 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 26 Jan 2005 17:06:19.0084 (UTC) FILETIME=[5A74C8C0:01C503C9]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello;

My lucene application has been performing well in our company's CMS
application. The plan now is too offer "advanced searching".

I just bought the eBook version of Lucene in Action to help with my research
(it is taking Amazon for ever to ship the printed version to Canada).

The book looks great and will certainly deepen my understanding. But I am
suffering a bit of information over load.

I was hoping I could post the rough requirments I was given this morning and
perhaps some more experienced Luceners could help direct my research (this
can even be pointing me to relevant sections of the book).

1. Documents in the system contain the following fields, ModificationDate,
CreationDate. A query is required that allows users to search for documents
created/modified on a certain date or within a certain date range.

2. Documents in the system also contains fields: Title, Path. A query is
required that allows users to search for Titles or Path starting with,
ending with, containing (this is all the system currently does) or matching
specific term(s).

Later today I will get more specific requirments. For now I am looking
through Analysis section of the eBook for ideas on how to handle this. Any
tips anyone can give would be appreciated.

Thanks,

Luke




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12709-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 17:05:18 2005
Return-Path: <lucene-user-return-12709-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16239 invoked from network); 26 Jan 2005 17:05:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 17:05:18 -0000
Received: (qmail 55405 invoked by uid 500); 26 Jan 2005 17:05:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55341 invoked by uid 500); 26 Jan 2005 17:05:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55235 invoked by uid 99); 26 Jan 2005 17:05:07 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from main.gmane.org (HELO main.gmane.org) (80.91.229.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 26 Jan 2005 09:05:03 -0800
Received: from list by main.gmane.org with local (Exim 3.35 #1 (Debian))
	id 1CtqbD-0007ZH-00
	for <lucene-user@jakarta.apache.org>; Wed, 26 Jan 2005 18:04:59 +0100
Received: from netblock-66-159-221-83.dslextreme.com ([66.159.221.83])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Wed, 26 Jan 2005 18:04:59 +0100
Received: from aurora00 by netblock-66-159-221-83.dslextreme.com with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Wed, 26 Jan 2005 18:04:59 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: aurora <aurora00@gmail.com>
Subject: Re: Lucene in Action hits desk in UK
Date: Wed, 26 Jan 2005 09:04:41 -0800
Lines: 28
Message-ID: <opsk7y13eu6yt6e7@wtung-w2k01.amer.cisco.com>
References: <41F7823C.2050305@scalix.com>
Mime-Version: 1.0
Content-Type: text/plain; format=flowed; delsp=yes; charset=iso-8859-15
Content-Transfer-Encoding: Quoted-Printable
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: netblock-66-159-221-83.dslextreme.com
User-Agent: Opera M2/7.54u1 (Win32, build 3918)
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wed, 26 Jan 2005 11:42:52 +0000, John Haxby <jch@scalix.com> wrote:

>
> My copy of Lucene in Action has finally hit my desk in the UK.   =

> Hopefully the dispatch time quoted by amazon.co.uk will now start to  =

> drop to something more sensible.
>
> It's been interesting watching the price changes.  When I ordered my  =

> copy back in November, I paid =A319.38 for it.  At around the time of =
 =

> publication, the price went up to =A335.99, the list price.   It's  =

> currently priced at =A325.19, 30% off list price.
>
> jch

I noticed the price swing at Amazon too. I find the best price at  =

www.bookpool.com at US$27.5. Great book by the way. Not just about using=
  =

Lucene but touches on a wide range of background and related topics as  =

well.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12710-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 17:15:35 2005
Return-Path: <lucene-user-return-12710-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20286 invoked from network); 26 Jan 2005 17:15:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 17:15:35 -0000
Received: (qmail 82601 invoked by uid 500); 26 Jan 2005 17:15:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82525 invoked by uid 500); 26 Jan 2005 17:15:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82469 invoked by uid 99); 26 Jan 2005 17:15:22 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of chenjian1227@gmail.com designates 64.233.170.204 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.204)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 26 Jan 2005 09:15:20 -0800
Received: by rproxy.gmail.com with SMTP id 40so149874rnz
        for <lucene-user@jakarta.apache.org>; Wed, 26 Jan 2005 09:15:17 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=nx7SoNkIKtK29WbXDZU2Fgki9uA2iSWdoVWSImV3a/pYRScAZY14GZlez5YVnZnzgqEFZjyubTbd2Sev6n/y9LkfogHi0NnuGv3orcBBlXabqccScvownHq+LsJFXfSUka6DiUT2zhTBldY7Do7+XwuG0UWO4A0J24DVBYLXvv4=
Received: by 10.38.206.29 with SMTP id d29mr316322rng;
        Wed, 26 Jan 2005 09:15:16 -0800 (PST)
Received: by 10.38.8.15 with HTTP; Wed, 26 Jan 2005 09:15:16 -0800 (PST)
Message-ID: <7ca1239105012609152deee32e@mail.gmail.com>
Date: Wed, 26 Jan 2005 09:15:16 -0800
From: jian chen <chenjian1227@gmail.com>
Reply-To: jian chen <chenjian1227@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Suggestions for documentation or LIA
In-Reply-To: <9cfekg8tdpg.fsf_-_@rogue.ncsl.nist.gov>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <200501261044.01410.skoptelov@fis.ru>
	 <712ACA8F-6F87-11D9-A4AA-000A95BC61B6@ehatchersolutions.com>
	 <9cfekg8tdpg.fsf_-_@rogue.ncsl.nist.gov>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Just to continue this discussion. I think right now Lucene's retrieval
algorithm is based purely on Vector Space Model, which is simple and
efficient.

However, there maybe cases where folks like me want to use another set
of completely different ranking algorithms, those which do not even
use tf/idf.

For example, I am thinking about adding Cover Density ranking
algorithm to lucene, which is for now purely based on the proximity
information and does not require any global ranking variables. But
looking into the lucene code, it seems not very easy to make a hack
for that. At least, for me, a novice lucene user.

I read on the lucene whiteboard 2.0 that lucene will accomodate more
in terms of what to be indexed and such. That move might be good for
implementing other or ad hoc ranking algorithms.

Cheers,

Jian


On Wed, 26 Jan 2005 10:25:15 -0500, Ian Soboroff <ian.soboroff@nist.gov> wrote:
> Erik Hatcher <erik@ehatchersolutions.com> writes:
> 
> > By all means, if you have other suggestions for our site, let us know
> > at authors@lucenebook.com.
> 
> One of the things I would like to see, but which isn't either in the
> Lucene site, documentation, or "Lucene in Action", is a complete
> description of how the retrieval algorithm works.  That is, how the
> HitCollector, Scorers, Similarity, etc all fit together.
> 
> I'm involved in a project which to some degree is looking at poking
> deeply into this part of the Lucene code.  We have a nice (non-Lucene)
> framework for working with more different kinds of similarity
> functions (beyond tf-idf) which should also be expandable to include
> query expansion, relevance feedback, and the like.
> 
> I used to think that integrating it would be as simple as hacking in
> Similarity, but I'm beginning to think it might need broader changes.
> I could obviously hook in our whole retrieval setup by just diving for
> an IndexReader and doing it all by hand, but then I would have to redo
> the incremental search and possibly the rich query structure, which
> would be a lose.
> 
> So anyway, I got LIA hoping for a good explanation (not a good
> Explanation) on this bit, but it wasn't there.  There are some hints
> on the Lucene site, but nothing complete.  If I muddle it out before
> anything gets contributed, I'll try to write something up, but don't
> expect anything too soon...
> 
> Ian
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12711-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 17:34:05 2005
Return-Path: <lucene-user-return-12711-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36623 invoked from network); 26 Jan 2005 17:34:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 17:34:05 -0000
Received: (qmail 44170 invoked by uid 500); 26 Jan 2005 17:33:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44149 invoked by uid 500); 26 Jan 2005 17:33:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44136 invoked by uid 99); 26 Jan 2005 17:33:56 -0000
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=FORGED_MUA_IMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from hades.labone.com (HELO hades.labone.com) (198.70.194.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 26 Jan 2005 09:33:55 -0800
Received: from smsrv.1.24.172.in-addr.arpa by hades.labone.com
          via smtpd (for hermes.apache.org [209.237.227.199]) with ESMTP; Wed, 26 Jan 2005 11:33:49 -0600
From: "Jerry Jalenak" <Jerry.Jalenak@LABONE.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: [HOWTO] Setting BooleanQuery MaxClauseCount
Date: Wed, 26 Jan 2005 11:33:35 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
X-WSS-ID: 6DE90BFC34079346-01-01
Content-Type: text/plain;
 charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Never mind.

<disclaimer>
These types of questions is what occurs when one is trying to do too many
things at the same time.
</disclaimer>

Jerry Jalenak
Senior Programmer / Analyst, Web Publishing
LabOne, Inc.
10101 Renner Blvd.
Lenexa, KS  66219
(913) 577-1496

jerry.jalenak@labone.com


-----Original Message-----
From: Jerry Jalenak [mailto:Jerry.Jalenak@LABONE.com]
Sent: Wednesday, January 26, 2005 10:19 AM
To: 'lucene-user@jakarta.apache.org'
Subject: [HOWTO] Setting BooleanQuery MaxClauseCount


Is there a way to set the maxClauseCount field of BooleanQuery when using
QueryParser?

Jerry Jalenak
Senior Programmer / Analyst, Web Publishing
LabOne, Inc.
10101 Renner Blvd.
Lenexa, KS  66219
(913) 577-1496

jerry.jalenak@labone.com


This transmission (and any information attached to it) may be confidential
and
is intended solely for the use of the individual or entity to which it is
addressed. If you are not the intended recipient or the person responsible
for
delivering the transmission to the intended recipient, be advised that you
have received this transmission in error and that any use, dissemination,
forwarding, printing, or copying of this information is strictly prohibited.
If you have received this transmission in error, please immediately notify
LabOne at the following email address: securityincidentreporting@labone.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12712-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 17:41:21 2005
Return-Path: <lucene-user-return-12712-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42282 invoked from network); 26 Jan 2005 17:41:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 17:41:17 -0000
Received: (qmail 64101 invoked by uid 500); 26 Jan 2005 17:41:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63864 invoked by uid 500); 26 Jan 2005 17:41:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63792 invoked by uid 99); 26 Jan 2005 17:40:58 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from rogue.ncsl.nist.gov (HELO rogue.ncsl.nist.gov) (129.6.101.41)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 26 Jan 2005 09:40:57 -0800
Received: from rogue.ncsl.nist.gov.nist.gov (localhost.localdomain [127.0.0.1])
	by rogue.ncsl.nist.gov (8.12.11/8.12.11) with ESMTP id j0QHes80024507
	for <lucene-user@jakarta.apache.org>; Wed, 26 Jan 2005 12:40:54 -0500
From: Ian Soboroff <ian.soboroff@nist.gov>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Suggestions for documentation or LIA
References: <200501261044.01410.skoptelov@fis.ru>
	<712ACA8F-6F87-11D9-A4AA-000A95BC61B6@ehatchersolutions.com>
	<9cfekg8tdpg.fsf_-_@rogue.ncsl.nist.gov>
	<7ca1239105012609152deee32e@mail.gmail.com>
Date: Wed, 26 Jan 2005 12:40:54 -0500
In-Reply-To: <7ca1239105012609152deee32e@mail.gmail.com> (jian chen's message
	of "Wed, 26 Jan 2005 09:15:16 -0800")
Message-ID: <9cfhdl4nl5l.fsf@rogue.ncsl.nist.gov>
User-Agent: Gnus/5.110003 (No Gnus v0.3) Emacs/21.3 (gnu/linux)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

jian chen <chenjian1227@gmail.com> writes:

> Just to continue this discussion. I think right now Lucene's retrieval
> algorithm is based purely on Vector Space Model, which is simple and
> efficient.

As I understand it, it's indeed a tf-idf vector space approach, except
that the queries are structured and as such, the tf-idf weights are
totaled as a straight cosine among siblings of a BooleanQuery, but
other query nodes may do things differently, for example, I haven't
read it but I assume PhraseQueries require all terms present and
adjacent to contribute to the score.

There is also a document-specific boost factor in the equation which
is essentially a hook for document things like recency, PageRank, etc
etc.

You can tweak this by defining custom Similarity classes which can say
what the tf, idf, norm, and boost mean.  You can also affect the
term normalization at the query end in BooleanScorer (I think? through
the sumOfSquares method?).

We've implemented something kind of like the Similarity class but
based on a model which decsribes a larger family of "similarity
functions".  (For the curious or similarly IR-geeky, it's from Justin
Zobel's paper from a few years ago in SIGIR Forum.)  Essentially I
need more general hooks than the Lucene Similarity provides.  I think
those hooks might exist, but I'm not sure I know which classes they're
in.

I'm also interested in things like relevance feedback which can affect
term weights as well as adding terms to the query... just how many
places in the code do I have to subclass or change?

It's clear that if I'm interested in a completely different model like
language modeling the IndexReader is the way to go.  In which case,
what parts of the Lucene class structure should I adapt to maintain
the incremental-results-return, inverted list skips, and other
features which make the inverted search fast?

Ian



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12713-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 18:13:01 2005
Return-Path: <lucene-user-return-12713-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59238 invoked from network); 26 Jan 2005 18:13:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 18:12:55 -0000
Received: (qmail 33529 invoked by uid 500); 26 Jan 2005 18:12:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33503 invoked by uid 500); 26 Jan 2005 18:12:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33490 invoked by uid 99); 26 Jan 2005 18:12:08 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 26 Jan 2005 10:12:06 -0800
Received: (qmail 4849 invoked by uid 532); 26 Jan 2005 18:10:25 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.10273 secs); 26 Jan 2005 18:10:25 -0000
Received: from unknown (HELO ?10.0.0.157?) (127.0.0.1)
  by 0 with SMTP; 26 Jan 2005 18:10:25 -0000
Message-ID: <41F7DD8B.4060907@tropo.com>
Date: Wed, 26 Jan 2005 10:12:27 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: lucenebook.com -- Re: Search on heterogenous index
References: <200501261044.01410.skoptelov@fis.ru> <712ACA8F-6F87-11D9-A4AA-000A95BC61B6@ehatchersolutions.com>
In-Reply-To: <712ACA8F-6F87-11D9-A4AA-000A95BC61B6@ehatchersolutions.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:

> 
> On Jan 26, 2005, at 5:44 AM, Simeon Koptelov wrote:
> 
>>> Heterogenous Documents/indices are OK - check out the second hit:
>>>
>>>   http://www.lucenebook.com/search?query=heterogenous+different
>>
>>
>> Thanks, I'll consider buying "Lucene in Action".
> 
> 
> Our master plan is working!  :)   Just kidding.... I have on my TODO 
> list to aggregate more Lucene related content (like the javadocs, 

Would be nice if we could have up to date sandbox javadoc somewhere.
I've linked to some local copies of it from my page here:
http://www.searchmorph.com/pub/

Also useful would be to use the "-linksource" tag to javadoc so the 
htmlized source code is avail too, that way you have a source code search.

Maybe I should release my "javadoc" Analyzer which I use on 
searchmorph.com - it tries to do intelligent tokenization of java so 
that a word like "HashMap" becomes 3 tokens at the same offset 
('hashmap', 'hash', 'map') and which might be useful for you.

I do like the way you provide snippets from the book - nicely done.

> Lucene's own documentation, perhaps a crawl of the wiki and the Lucene 
> resources) into our search engine so that it becomes a richer resource 
> and seems less than a marketing ploy.  Though the highlighted snippets 
> do have enough information to be useful in some cases, which is nice.  I 
> will start dedicating a few minutes a day to blog some useful content.
> 
> By all means, if you have other suggestions for our site, let us know at 
> authors@lucenebook.com.
> 
>     Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12714-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 18:17:19 2005
Return-Path: <lucene-user-return-12714-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59758 invoked from network); 26 Jan 2005 18:14:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 18:14:46 -0000
Received: (qmail 39462 invoked by uid 500); 26 Jan 2005 18:13:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39438 invoked by uid 500); 26 Jan 2005 18:13:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39424 invoked by uid 99); 26 Jan 2005 18:13:54 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30207.mail.mud.yahoo.com (HELO web30207.mail.mud.yahoo.com) (68.142.200.90)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 26 Jan 2005 10:13:53 -0800
Received: (qmail 54100 invoked by uid 60001); 26 Jan 2005 18:13:50 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=RE4Fuhb2dy4FghHgCt288yOWbC6W8L5Z2s/AnMcovtO81NR4Xtg4uPmS3ZPca2KqZI3XyMEYA5zg/IVBBFta4nCMWWgdAszeMZIoZVQXrWMy4iWplmXRk2tI55U0gSwLOfzBU/7U2R5mW3KskZJX8mmRkin8GZlikdUZNxQsTAs=  ;
Message-ID: <20050126181350.54096.qmail@web30207.mail.mud.yahoo.com>
Received: from [216.194.17.194] by web30207.mail.mud.yahoo.com via HTTP; Wed, 26 Jan 2005 10:13:50 PST
Date: Wed, 26 Jan 2005 10:13:50 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Getting Into Search
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <004e01c503c9$5a2f0d30$7703d00a@hypermedia.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Luke,

That's not hard with RangeQuery (supported by QueryParser), take a look
at this:
  http://www.lucenebook.com/search?query=date+range

The grayed-out text has the section name and page number, so you can
quickly locate this stuff in your ebook.

Otis
P.S.
Do you know if Indigo/Chapters has Lucene in Action on their book
shelves yet?


--- Luke Shannon <lshannon@futurebrand.com> wrote:

> Hello;
> 
> My lucene application has been performing well in our company's CMS
> application. The plan now is too offer "advanced searching".
> 
> I just bought the eBook version of Lucene in Action to help with my
> research
> (it is taking Amazon for ever to ship the printed version to Canada).
> 
> The book looks great and will certainly deepen my understanding. But
> I am
> suffering a bit of information over load.
> 
> I was hoping I could post the rough requirments I was given this
> morning and
> perhaps some more experienced Luceners could help direct my research
> (this
> can even be pointing me to relevant sections of the book).
> 
> 1. Documents in the system contain the following fields,
> ModificationDate,
> CreationDate. A query is required that allows users to search for
> documents
> created/modified on a certain date or within a certain date range.
> 
> 2. Documents in the system also contains fields: Title, Path. A query
> is
> required that allows users to search for Titles or Path starting
> with,
> ending with, containing (this is all the system currently does) or
> matching
> specific term(s).
> 
> Later today I will get more specific requirments. For now I am
> looking
> through Analysis section of the eBook for ideas on how to handle
> this. Any
> tips anyone can give would be appreciated.
> 
> Thanks,
> 
> Luke
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12715-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 18:21:30 2005
Return-Path: <lucene-user-return-12715-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61265 invoked from network); 26 Jan 2005 18:19:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 18:19:23 -0000
Received: (qmail 48130 invoked by uid 500); 26 Jan 2005 18:17:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48101 invoked by uid 500); 26 Jan 2005 18:17:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48087 invoked by uid 99); 26 Jan 2005 18:17:04 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30210.mail.mud.yahoo.com (HELO web30210.mail.mud.yahoo.com) (68.142.200.93)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 26 Jan 2005 10:17:03 -0800
Received: (qmail 39406 invoked by uid 60001); 26 Jan 2005 18:17:01 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=ZXhXuSXmx1v9JVKytm75aZQQAdP/r03Pd4nGX/5tK4eQRRS/lZO3tvnIfznWgeEECUVWH4VOiEZWYaKNQY2aYsj98SpD4X5Iu3qYCQFL3anqkU/LPzlGKhd7cTqNy+PYerzcv4jVEq9/y3Kz2qtyQloDVNX5KvN3XcPz8RBEfQ0=  ;
Message-ID: <20050126181701.39404.qmail@web30210.mail.mud.yahoo.com>
Received: from [216.194.17.194] by web30210.mail.mud.yahoo.com via HTTP; Wed, 26 Jan 2005 10:17:00 PST
Date: Wed, 26 Jan 2005 10:17:00 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene in Action hits desk in UK
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41F7B1C5.9000402@scalix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Gospodneti&#263; sounds like Gospodnetich and Eric is Erik :)

Otis

--- John Haxby <jch@scalix.com> wrote:

> Otis Gospodnetic wrote:
> 
> >I contacted both the US and UK Amazon sites and asked them to fix my
> >last name (the last character in my name has a little slash (not an
> >accent) above it), but they never bothered to fix it nor email me
> back.
> >
> >  
> >
> They probably don't know how to type a .  How _do_ you pronounce
> your 
> name?  I've no idea what to do with that mark over the final c!  At
> the 
> moment it's "Lucene in Action" by Eric Hatcher and Otis 
> Gospo-something-or-other :-)
> 
> >Anyhow, enjoy Lucene in Action!
> >  
> >
> Already doing so!
> 
> jch
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12717-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 18:46:22 2005
Return-Path: <lucene-user-return-12717-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73207 invoked from network); 26 Jan 2005 18:46:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 18:46:22 -0000
Received: (qmail 37695 invoked by uid 500); 26 Jan 2005 18:45:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37653 invoked by uid 500); 26 Jan 2005 18:45:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37611 invoked by uid 99); 26 Jan 2005 18:45:52 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of chenjian1227@gmail.com designates 64.233.170.194 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.194)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 26 Jan 2005 10:45:51 -0800
Received: by rproxy.gmail.com with SMTP id 40so158717rnz
        for <lucene-user@jakarta.apache.org>; Wed, 26 Jan 2005 10:45:48 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=T6i1fnOg6v46hnun5dP1FipsL+Mf79LEMRn/ESgBqkkdudm4+UWP4xn9B4EVfRLb2dL4iKFE8+6HpxQvUAPtp4xrBkwPrLi2OrvG9bW9f3KEzdvYmnZRMgSlU+n7/YPsxmYgYWIZiao52a4hZFrKAVWmmDqRSdBojhMQy9znsZQ=
Received: by 10.38.206.28 with SMTP id d28mr124451rng;
        Wed, 26 Jan 2005 10:45:48 -0800 (PST)
Received: by 10.38.8.15 with HTTP; Wed, 26 Jan 2005 10:45:48 -0800 (PST)
Message-ID: <7ca1239105012610455195b631@mail.gmail.com>
Date: Wed, 26 Jan 2005 10:45:48 -0800
From: jian chen <chenjian1227@gmail.com>
Reply-To: jian chen <chenjian1227@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Suggestions for documentation or LIA
In-Reply-To: <9cfhdl4nl5l.fsf@rogue.ncsl.nist.gov>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <200501261044.01410.skoptelov@fis.ru>
	 <712ACA8F-6F87-11D9-A4AA-000A95BC61B6@ehatchersolutions.com>
	 <9cfekg8tdpg.fsf_-_@rogue.ncsl.nist.gov>
	 <7ca1239105012609152deee32e@mail.gmail.com>
	 <9cfhdl4nl5l.fsf@rogue.ncsl.nist.gov>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi, Ian,

Thanks for your information. It would be really helpful to have some
documentation maybe on the WIKI about retrieval algorithm and how to
hack it. At least, something there even if like several paragraphs to
get started...

Thanks,

Jian

On Wed, 26 Jan 2005 12:40:54 -0500, Ian Soboroff <ian.soboroff@nist.gov> wrote:
> jian chen <chenjian1227@gmail.com> writes:
> 
> > Just to continue this discussion. I think right now Lucene's retrieval
> > algorithm is based purely on Vector Space Model, which is simple and
> > efficient.
> 
> As I understand it, it's indeed a tf-idf vector space approach, except
> that the queries are structured and as such, the tf-idf weights are
> totaled as a straight cosine among siblings of a BooleanQuery, but
> other query nodes may do things differently, for example, I haven't
> read it but I assume PhraseQueries require all terms present and
> adjacent to contribute to the score.
> 
> There is also a document-specific boost factor in the equation which
> is essentially a hook for document things like recency, PageRank, etc
> etc.
> 
> You can tweak this by defining custom Similarity classes which can say
> what the tf, idf, norm, and boost mean.  You can also affect the
> term normalization at the query end in BooleanScorer (I think? through
> the sumOfSquares method?).
> 
> We've implemented something kind of like the Similarity class but
> based on a model which decsribes a larger family of "similarity
> functions".  (For the curious or similarly IR-geeky, it's from Justin
> Zobel's paper from a few years ago in SIGIR Forum.)  Essentially I
> need more general hooks than the Lucene Similarity provides.  I think
> those hooks might exist, but I'm not sure I know which classes they're
> in.
> 
> I'm also interested in things like relevance feedback which can affect
> term weights as well as adding terms to the query... just how many
> places in the code do I have to subclass or change?
> 
> It's clear that if I'm interested in a completely different model like
> language modeling the IndexReader is the way to go.  In which case,
> what parts of the Lucene class structure should I adapt to maintain
> the incremental-results-return, inverted list skips, and other
> features which make the inverted search fast?
> 
> Ian
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12716-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 18:47:39 2005
Return-Path: <lucene-user-return-12716-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74218 invoked from network); 26 Jan 2005 18:47:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 18:47:39 -0000
Received: (qmail 51734 invoked by uid 500); 26 Jan 2005 18:18:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51709 invoked by uid 500); 26 Jan 2005 18:18:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51696 invoked by uid 99); 26 Jan 2005 18:18:15 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 26 Jan 2005 10:18:13 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 26 Jan 2005 13:19:29 -0500
Message-ID: <007d01c503d3$93278270$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20050126181350.54096.qmail@web30207.mail.mud.yahoo.com>
Subject: Re: Getting Into Search
Date: Wed, 26 Jan 2005 13:19:29 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 26 Jan 2005 18:19:29.0660 (UTC) FILETIME=[937183C0:01C503D3]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks Otis. Haven't seen it in either store (at least the ones in downtown
Toronto I usually shop at).

Their website says it ships in 24 hrs. It was cheaper on Amazon.ca so I went
that route for my printed version.

Luke

----- Original Message ----- 
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, January 26, 2005 1:13 PM
Subject: Re: Getting Into Search


> Hi Luke,
>
> That's not hard with RangeQuery (supported by QueryParser), take a look
> at this:
>   http://www.lucenebook.com/search?query=date+range
>
> The grayed-out text has the section name and page number, so you can
> quickly locate this stuff in your ebook.
>
> Otis
> P.S.
> Do you know if Indigo/Chapters has Lucene in Action on their book
> shelves yet?
>
>
> --- Luke Shannon <lshannon@futurebrand.com> wrote:
>
> > Hello;
> >
> > My lucene application has been performing well in our company's CMS
> > application. The plan now is too offer "advanced searching".
> >
> > I just bought the eBook version of Lucene in Action to help with my
> > research
> > (it is taking Amazon for ever to ship the printed version to Canada).
> >
> > The book looks great and will certainly deepen my understanding. But
> > I am
> > suffering a bit of information over load.
> >
> > I was hoping I could post the rough requirments I was given this
> > morning and
> > perhaps some more experienced Luceners could help direct my research
> > (this
> > can even be pointing me to relevant sections of the book).
> >
> > 1. Documents in the system contain the following fields,
> > ModificationDate,
> > CreationDate. A query is required that allows users to search for
> > documents
> > created/modified on a certain date or within a certain date range.
> >
> > 2. Documents in the system also contains fields: Title, Path. A query
> > is
> > required that allows users to search for Titles or Path starting
> > with,
> > ending with, containing (this is all the system currently does) or
> > matching
> > specific term(s).
> >
> > Later today I will get more specific requirments. For now I am
> > looking
> > through Analysis section of the eBook for ideas on how to handle
> > this. Any
> > tips anyone can give would be appreciated.
> >
> > Thanks,
> >
> > Luke
> >
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12718-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 20:26:37 2005
Return-Path: <lucene-user-return-12718-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68516 invoked from network); 26 Jan 2005 20:26:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 20:26:35 -0000
Received: (qmail 19152 invoked by uid 500); 26 Jan 2005 20:26:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19118 invoked by uid 500); 26 Jan 2005 20:26:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19097 invoked by uid 99); 26 Jan 2005 20:26:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork3.mail.Virginia.EDU (HELO fork3.mail.virginia.edu) (128.143.2.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 26 Jan 2005 12:26:28 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id 1FF811C128
	for <lucene-user@jakarta.apache.org>; Wed, 26 Jan 2005 15:26:25 -0500 (EST)
Received: from fork3.mail.virginia.edu ([127.0.0.1])
 by localhost (fork3.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 08734-09 for <lucene-user@jakarta.apache.org>;
 Wed, 26 Jan 2005 15:26:24 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id BF2541C088
	for <lucene-user@jakarta.apache.org>; Wed, 26 Jan 2005 15:26:24 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <9cfekg8tdpg.fsf_-_@rogue.ncsl.nist.gov>
References: <200501261044.01410.skoptelov@fis.ru> <712ACA8F-6F87-11D9-A4AA-000A95BC61B6@ehatchersolutions.com> <9cfekg8tdpg.fsf_-_@rogue.ncsl.nist.gov>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <c35da41f3c7b14d348c93b9052a5b2c0@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Suggestions for documentation or LIA
Date: Wed, 26 Jan 2005 15:26:24 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork3.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jan 26, 2005, at 10:25 AM, Ian Soboroff wrote:
> Erik Hatcher <erik@ehatchersolutions.com> writes:
>
>> By all means, if you have other suggestions for our site, let us know
>> at authors@lucenebook.com.
>
> One of the things I would like to see, but which isn't either in the
> Lucene site, documentation, or "Lucene in Action", is a complete
> description of how the retrieval algorithm works.  That is, how the
> HitCollector, Scorers, Similarity, etc all fit together.
>
> I'm involved in a project which to some degree is looking at poking
> deeply into this part of the Lucene code.  We have a nice (non-Lucene)
> framework for working with more different kinds of similarity
> functions (beyond tf-idf) which should also be expandable to include
> query expansion, relevance feedback, and the like.
>
> I used to think that integrating it would be as simple as hacking in
> Similarity, but I'm beginning to think it might need broader changes.
> I could obviously hook in our whole retrieval setup by just diving for
> an IndexReader and doing it all by hand, but then I would have to redo
> the incremental search and possibly the rich query structure, which
> would be a lose.
>
> So anyway, I got LIA hoping for a good explanation (not a good
> Explanation) on this bit, but it wasn't there.

Hacking Similarity wasn't covered in LIA for one simple reason - 
Lucene's built-in scoring mechanism really is good enough for almost 
all projects.  The book was written for developers of those projects.

Personally, I've not had to hack Similarity, though I've toyed with it 
in prototypes and am using a minor tweak (turning off length 
normalization for the "title" field) for the lucenebook.com book 
indexing.

>   There are some hints
> on the Lucene site, but nothing complete.  If I muddle it out before
> anything gets contributed, I'll try to write something up, but don't
> expect anything too soon...

And maybe you'd contribute what you write to LIA 2nd edition :)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12719-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 20:28:43 2005
Return-Path: <lucene-user-return-12719-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69380 invoked from network); 26 Jan 2005 20:28:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 20:28:32 -0000
Received: (qmail 22744 invoked by uid 500); 26 Jan 2005 20:28:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22706 invoked by uid 500); 26 Jan 2005 20:28:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22690 invoked by uid 99); 26 Jan 2005 20:28:24 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr14.xs4all.nl (HELO smtp-vbr14.xs4all.nl) (194.109.24.34)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 26 Jan 2005 12:28:23 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr14.xs4all.nl (8.12.11/8.12.11) with ESMTP id j0QKSK7x012390
	for <lucene-user@jakarta.apache.org>; Wed, 26 Jan 2005 21:28:20 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Suggestions for documentation or LIA
Date: Wed, 26 Jan 2005 21:28:19 +0100
User-Agent: KMail/1.5.4
References: <200501261044.01410.skoptelov@fis.ru> <7ca1239105012609152deee32e@mail.gmail.com> <9cfhdl4nl5l.fsf@rogue.ncsl.nist.gov>
In-Reply-To: <9cfhdl4nl5l.fsf@rogue.ncsl.nist.gov>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200501262128.19866.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday 26 January 2005 18:40, Ian Soboroff wrote:
> jian chen <chenjian1227@gmail.com> writes:
> 
> > Just to continue this discussion. I think right now Lucene's retrieval
> > algorithm is based purely on Vector Space Model, which is simple and
> > efficient.
> 
> As I understand it, it's indeed a tf-idf vector space approach, except
> that the queries are structured and as such, the tf-idf weights are
> totaled as a straight cosine among siblings of a BooleanQuery, but
> other query nodes may do things differently, for example, I haven't
> read it but I assume PhraseQueries require all terms present and
> adjacent to contribute to the score.
> 
> There is also a document-specific boost factor in the equation which
> is essentially a hook for document things like recency, PageRank, etc
> etc.
> 
> You can tweak this by defining custom Similarity classes which can say
> what the tf, idf, norm, and boost mean.  You can also affect the
> term normalization at the query end in BooleanScorer (I think? through
> the sumOfSquares method?).
> 
> We've implemented something kind of like the Similarity class but
> based on a model which decsribes a larger family of "similarity
> functions".  (For the curious or similarly IR-geeky, it's from Justin
> Zobel's paper from a few years ago in SIGIR Forum.)  Essentially I
> need more general hooks than the Lucene Similarity provides.  I think
> those hooks might exist, but I'm not sure I know which classes they're
> in.
> 
> I'm also interested in things like relevance feedback which can affect
> term weights as well as adding terms to the query... just how many
> places in the code do I have to subclass or change?

None. Create your own TermQuery instances, set their boosts,
and add them to a BooleanQuery.
 
> It's clear that if I'm interested in a completely different model like
> language modeling the IndexReader is the way to go.  In which case,
> what parts of the Lucene class structure should I adapt to maintain
> the incremental-results-return, inverted list skips, and other
> features which make the inverted search fast?

To keep the speed, the one thing you should keep is the performance of
TermQuery. In case you're interested in changing proximity scores,
the same holds for SpanTermQuery.
For a variation on TermQuery that scores query terms by their density in a
document field you can have a look here:
http://issues.apache.org/bugzilla/show_bug.cgi?id=31784

On top of these you can implement your own Scorers, but for Zobel's
similarities you probably won't need much more than what BooleanQuery
provides.
To use the inverted list skips, make sure to implement and use skipTo()
on your scorers.
In case you need larger queries in conjunctive normal form:
+(synA1 synA2 ....) +(synB1 synB2 ...) +(synC1 synC2 ...) ....
the development version of BooleanQuery might be a bit faster
than the current one.

For an interesting twist in the use of idf please search
for "fuzzy scoring changes" on lucene-dev at the end of 2004.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12720-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 22:19:06 2005
Return-Path: <lucene-user-return-12720-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1378 invoked from network); 26 Jan 2005 22:19:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 22:19:03 -0000
Received: (qmail 6337 invoked by uid 500); 26 Jan 2005 22:18:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6308 invoked by uid 500); 26 Jan 2005 22:18:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6294 invoked by uid 99); 26 Jan 2005 22:18:53 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web20328.mail.yahoo.com (HELO web20328.mail.yahoo.com) (216.136.227.33)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 26 Jan 2005 14:18:50 -0800
Received: (qmail 46564 invoked by uid 60001); 26 Jan 2005 22:18:49 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=ZJn+CfXBELk8/C9wf5i20h/h3dsHoA8mAow+Ww+2GKGMKC+vvyP0lIurTA42Uj9sNfEGA+T53eFKp4cPOZ/ESOpT0cDTx2Q+3pfB+IqrY76pU+lj1cnj9lKzyaT9GCeDaNazpLfDqUVzUo9nULW7jzqK2QoPAFPxapymEyrx+YI=  ;
Message-ID: <20050126221849.46562.qmail@web20328.mail.yahoo.com>
Received: from [24.19.103.235] by web20328.mail.yahoo.com via HTTP; Wed, 26 Jan 2005 14:18:49 PST
Date: Wed, 26 Jan 2005 14:18:49 -0800 (PST)
From: "Xiaohong Yang \(Sharon\)" <sharonxyang@yahoo.com>
Subject: Search Engine review article/book
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <200501262128.19866.paul.elschot@xs4all.nl>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1467696354-1106777929=:45942"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-1467696354-1106777929=:45942
Content-Type: text/plain; charset=us-ascii

Hi all,
 
I am looking for good review articles or books regarding latest search engine development trend and practices.  Any suggestions would be very helpful.  Any comments not covered by articles are also welcome.
 
Thanks a lot,
 
Sharon

--0-1467696354-1106777929=:45942--

From lucene-user-return-12721-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 22:27:53 2005
Return-Path: <lucene-user-return-12721-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9607 invoked from network); 26 Jan 2005 22:27:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 22:27:53 -0000
Received: (qmail 24038 invoked by uid 500); 26 Jan 2005 22:27:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24012 invoked by uid 500); 26 Jan 2005 22:27:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23998 invoked by uid 99); 26 Jan 2005 22:27:48 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from zeus.rz1.connectline.net (HELO zeus.rz1.connectline.net) (212.122.43.181)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 26 Jan 2005 14:27:46 -0800
Received: from [192.168.8.2] (dsl-084-056-219-210.arcor-ip.net [84.56.219.210])
	by zeus.rz1.connectline.net (Postfix) with ESMTP id AEEB12B6B28
	for <lucene-user@jakarta.apache.org>; Wed, 26 Jan 2005 23:27:05 +0100 (CET)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <20050126221849.46562.qmail@web20328.mail.yahoo.com>
References: <20050126221849.46562.qmail@web20328.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <d67735dd549be25052884bcb3229edfa@media-style.com>
Content-Transfer-Encoding: 7bit
From: Stefan Groschupf <sg@media-style.com>
Subject: Re: Search Engine review article/book
Date: Wed, 26 Jan 2005 23:27:43 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

+  the lucene in action book. :-)
+  scholar.google.com
+ acm.org ir group
+ ieee.org has ir group as well
may you will find http://searchenginewatch.com/ useful as well.

HTH
Stefan


Am 26.01.2005 um 23:18 schrieb Xiaohong Yang ((Sharon)):

> Hi all,
>
> I am looking for good review articles or books regarding latest search 
> engine development trend and practices.  Any suggestions would be very 
> helpful.  Any comments not covered by articles are also welcome.
>
> Thanks a lot,
>
> Sharon
>
---------------------------------------------------------------
company:		http://www.media-style.com
forum:		http://www.text-mining.org
blog:			http://www.find23.net


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12722-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 22:33:47 2005
Return-Path: <lucene-user-return-12722-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14999 invoked from network); 26 Jan 2005 22:33:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 22:33:45 -0000
Received: (qmail 39024 invoked by uid 500); 26 Jan 2005 22:33:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38999 invoked by uid 500); 26 Jan 2005 22:33:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38986 invoked by uid 99); 26 Jan 2005 22:33:39 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jasonpolites@tpg.com.au designates 203.12.160.103 as permitted sender)
Received: from mail7.tpgi.com.au (HELO mail.tpgi.com.au) (203.12.160.103)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 26 Jan 2005 14:33:38 -0800
Received: from MINOS (CPE-61-9-143-85.vic.bigpond.net.au [61.9.143.85])
	(authenticated bits=0)
	by mail.tpgi.com.au (8.12.10/8.12.10) with ESMTP id j0QMXYOq030261
	for <lucene-user@jakarta.apache.org>; Thu, 27 Jan 2005 09:33:34 +1100
Message-ID: <003101c503f7$123f9750$6400a8c0@everymail.com.au>
Reply-To: "Jason Polites" <jason.polites@everymail.com.au>
From: "Jason Polites" <jasonpolites@tpg.com.au>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20050126221849.46562.qmail@web20328.mail.yahoo.com> <d67735dd549be25052884bcb3229edfa@media-style.com>
Subject: Re: Search Engine review article/book
Date: Thu, 27 Jan 2005 09:33:34 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=response
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-TPG-Antivirus: Passed
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Also:

http://labs.google.com/papers.html
http://research.microsoft.com/wsm/

----- Original Message ----- 
From: "Stefan Groschupf" <sg@media-style.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, January 27, 2005 9:27 AM
Subject: Re: Search Engine review article/book


>+  the lucene in action book. :-)
> +  scholar.google.com
> + acm.org ir group
> + ieee.org has ir group as well
> may you will find http://searchenginewatch.com/ useful as well.
> 
> HTH
> Stefan
> 
> 
> Am 26.01.2005 um 23:18 schrieb Xiaohong Yang ((Sharon)):
> 
>> Hi all,
>>
>> I am looking for good review articles or books regarding latest search 
>> engine development trend and practices.  Any suggestions would be very 
>> helpful.  Any comments not covered by articles are also welcome.
>>
>> Thanks a lot,
>>
>> Sharon
>>
> ---------------------------------------------------------------
> company: http://www.media-style.com
> forum: http://www.text-mining.org
> blog: http://www.find23.net
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12723-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 22:39:32 2005
Return-Path: <lucene-user-return-12723-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19680 invoked from network); 26 Jan 2005 22:39:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 22:39:32 -0000
Received: (qmail 52666 invoked by uid 500); 26 Jan 2005 22:39:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52644 invoked by uid 500); 26 Jan 2005 22:39:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52630 invoked by uid 99); 26 Jan 2005 22:39:27 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from static-68-236-183-90.ny325.east.verizon.net (HELO mail01.nyc-ofc.criticalmention.com) (68.236.183.90)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 26 Jan 2005 14:39:26 -0800
Received: from MCELONA (unknown [192.168.42.109])
	by mail01.nyc-ofc.criticalmention.com (Postfix) with ESMTP id CF40A13BF5
	for <lucene-user@jakarta.apache.org>; Wed, 26 Jan 2005 17:39:23 -0500 (EST)
From: "Michael Celona" <mcelona@criticalmention.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: text highlighting
Date: Wed, 26 Jan 2005 17:39:29 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <003101c503f7$123f9750$6400a8c0@everymail.com.au>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcUD9xe9bI0VN9+vSXOyo9o/aX/6zgAAIwjQ
Message-Id: <20050126223923.CF40A13BF5@mail01.nyc-ofc.criticalmention.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Does any have a working example of the highlighter class found in the
sandbox?

-----Original Message-----
From: Jason Polites [mailto:jasonpolites@tpg.com.au] 
Sent: Wednesday, January 26, 2005 5:34 PM
To: Lucene Users List
Subject: Re: Search Engine review article/book

Also:

http://labs.google.com/papers.html
http://research.microsoft.com/wsm/

----- Original Message ----- 
From: "Stefan Groschupf" <sg@media-style.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, January 27, 2005 9:27 AM
Subject: Re: Search Engine review article/book


>+  the lucene in action book. :-)
> +  scholar.google.com
> + acm.org ir group
> + ieee.org has ir group as well
> may you will find http://searchenginewatch.com/ useful as well.
> 
> HTH
> Stefan
> 
> 
> Am 26.01.2005 um 23:18 schrieb Xiaohong Yang ((Sharon)):
> 
>> Hi all,
>>
>> I am looking for good review articles or books regarding latest search 
>> engine development trend and practices.  Any suggestions would be very 
>> helpful.  Any comments not covered by articles are also welcome.
>>
>> Thanks a lot,
>>
>> Sharon
>>
> ---------------------------------------------------------------
> company: http://www.media-style.com
> forum: http://www.text-mining.org
> blog: http://www.find23.net
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12724-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 22:52:10 2005
Return-Path: <lucene-user-return-12724-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28542 invoked from network); 26 Jan 2005 22:52:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 22:52:09 -0000
Received: (qmail 87063 invoked by uid 500); 26 Jan 2005 22:52:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87016 invoked by uid 500); 26 Jan 2005 22:52:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87002 invoked by uid 99); 26 Jan 2005 22:52:02 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp001.mail.ukl.yahoo.com (HELO smtp001.mail.ukl.yahoo.com) (217.12.11.32)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 26 Jan 2005 14:52:01 -0800
Received: from unknown (HELO ?10.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp001.mail.ukl.yahoo.com with SMTP; 26 Jan 2005 22:51:58 -0000
Message-ID: <41F81F10.9090603@yahoo.co.uk>
Date: Wed, 26 Jan 2005 22:52:00 +0000
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 0.8 (Windows/20040913)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: text highlighting
References: <20050126223923.CF40A13BF5@mail01.nyc-ofc.criticalmention.com>
In-Reply-To: <20050126223923.CF40A13BF5@mail01.nyc-ofc.criticalmention.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Michael Celona wrote:

>Does any have a working example of the highlighter class found in the
>sandbox?
>
>  
>
There are several in the accompanying Junit test:
http://cvs.apache.org/viewcvs.cgi/jakarta-lucene-sandbox/contributions/highlighter/src/test/org/apache/lucene/search/highlight/


Cheers
Mark


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12725-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 23:37:12 2005
Return-Path: <lucene-user-return-12725-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47328 invoked from network); 26 Jan 2005 23:37:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 23:37:12 -0000
Received: (qmail 99345 invoked by uid 500); 26 Jan 2005 23:37:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99318 invoked by uid 500); 26 Jan 2005 23:37:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99305 invoked by uid 99); 26 Jan 2005 23:37:06 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork7.mail.Virginia.EDU (HELO fork7.mail.virginia.edu) (128.143.2.177)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 26 Jan 2005 15:37:06 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id A91991F5308
	for <lucene-user@jakarta.apache.org>; Wed, 26 Jan 2005 18:37:03 -0500 (EST)
Received: from fork7.mail.virginia.edu ([127.0.0.1])
 by localhost (fork7.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 03828-05 for <lucene-user@jakarta.apache.org>;
 Wed, 26 Jan 2005 18:37:03 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id 55DE71F515F
	for <lucene-user@jakarta.apache.org>; Wed, 26 Jan 2005 18:37:03 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <41F81F10.9090603@yahoo.co.uk>
References: <20050126223923.CF40A13BF5@mail01.nyc-ofc.criticalmention.com> <41F81F10.9090603@yahoo.co.uk>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <ab1f8c8d9bf701cf915a6c0e9ead0491@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: text highlighting
Date: Wed, 26 Jan 2005 18:37:01 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork7.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Also, there are some examples in the Lucene in Action source code (grab  
it from http://www.lucenebook.com) (see HighlightIt.java).

	Erik

On Jan 26, 2005, at 5:52 PM, markharw00d wrote:

> Michael Celona wrote:
>
>> Does any have a working example of the highlighter class found in the
>> sandbox?
>>
>>
> There are several in the accompanying Junit test:
> http://cvs.apache.org/viewcvs.cgi/jakarta-lucene-sandbox/ 
> contributions/highlighter/src/test/org/apache/lucene/search/highlight/
>
>
> Cheers
> Mark
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12726-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Jan 26 23:39:52 2005
Return-Path: <lucene-user-return-12726-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47988 invoked from network); 26 Jan 2005 23:39:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Jan 2005 23:39:52 -0000
Received: (qmail 2727 invoked by uid 500); 26 Jan 2005 23:39:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2581 invoked by uid 500); 26 Jan 2005 23:39:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2562 invoked by uid 99); 26 Jan 2005 23:39:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from livestoryboard.com (HELO server1.livestoryboard.com) (209.61.132.12)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 26 Jan 2005 15:39:44 -0800
Received: from [127.0.0.1] (livestoryboard.com [209.61.132.12] (may be forged))
	(authenticated)
	by server1.livestoryboard.com (8.11.6/8.11.6) with ESMTP id j0QNnfx06917
	for <lucene-user@jakarta.apache.org>; Wed, 26 Jan 2005 17:49:41 -0600
Message-ID: <41F82A3D.5070600@koberg.com>
Date: Wed, 26 Jan 2005 15:39:41 -0800
From: Robert Koberg <rob@koberg.com>
User-Agent: Mozilla Thunderbird 1.0 (Macintosh/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: text highlighting
References: <20050126223923.CF40A13BF5@mail01.nyc-ofc.criticalmention.com> <41F81F10.9090603@yahoo.co.uk> <ab1f8c8d9bf701cf915a6c0e9ead0491@ehatchersolutions.com>
In-Reply-To: <ab1f8c8d9bf701cf915a6c0e9ead0491@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

A relevant link :)

http://www.tbray.org/ongoing/When/200x/2005/01/26/PatentFunnies


Erik Hatcher wrote:
> Also, there are some examples in the Lucene in Action source code (grab  
> it from http://www.lucenebook.com) (see HighlightIt.java).
> 
>     Erik
> 
> On Jan 26, 2005, at 5:52 PM, markharw00d wrote:
> 
>> Michael Celona wrote:
>>
>>> Does any have a working example of the highlighter class found in the
>>> sandbox?
>>>
>>>
>> There are several in the accompanying Junit test:
>> http://cvs.apache.org/viewcvs.cgi/jakarta-lucene-sandbox/ 
>> contributions/highlighter/src/test/org/apache/lucene/search/highlight/
>>
>>
>> Cheers
>> Mark
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12727-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 01:58:51 2005
Return-Path: <lucene-user-return-12727-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95373 invoked from network); 27 Jan 2005 01:58:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 01:58:51 -0000
Received: (qmail 48826 invoked by uid 500); 27 Jan 2005 01:58:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48798 invoked by uid 500); 27 Jan 2005 01:58:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48783 invoked by uid 99); 27 Jan 2005 01:58:46 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 216-49-77-242-ntkk.cavtel.net (HELO euphrates.ncsl.nist.gov) (216.49.77.242)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 26 Jan 2005 17:58:44 -0800
Received: from euphrates.ncsl.nist.gov.nist.gov (localhost [127.0.0.1])
	by euphrates.ncsl.nist.gov (8.13.1/8.13.1) with ESMTP id j0R1xVsv001644
	for <lucene-user@jakarta.apache.org>; Wed, 26 Jan 2005 20:59:32 -0500 (EST)
	(envelope-from ian.soboroff@nist.gov)
From: Ian Soboroff <ian.soboroff@nist.gov>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Suggestions for documentation or LIA
References: <200501261044.01410.skoptelov@fis.ru>
	<712ACA8F-6F87-11D9-A4AA-000A95BC61B6@ehatchersolutions.com>
	<9cfekg8tdpg.fsf_-_@rogue.ncsl.nist.gov>
	<c35da41f3c7b14d348c93b9052a5b2c0@ehatchersolutions.com>
Date: Wed, 26 Jan 2005 20:59:31 -0500
In-Reply-To: <c35da41f3c7b14d348c93b9052a5b2c0@ehatchersolutions.com> (Erik
	Hatcher's message of "Wed, 26 Jan 2005 15:26:24 -0500")
Message-ID: <9cfzmyv1vjw.fsf@euphrates.ncsl.nist.gov>
User-Agent: Gnus/5.110003 (No Gnus v0.3) Emacs/21.3 (berkeley-unix)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher <erik@ehatchersolutions.com> writes:

> Hacking Similarity wasn't covered in LIA for one simple reason - 
> Lucene's built-in scoring mechanism really is good enough for almost 
> all projects.  The book was written for developers of those projects.
>
> Personally, I've not had to hack Similarity, though I've toyed with it 
> in prototypes and am using a minor tweak (turning off length 
> normalization for the "title" field) for the lucenebook.com book 
> indexing.
>
>>   There are some hints
>> on the Lucene site, but nothing complete.  If I muddle it out before
>> anything gets contributed, I'll try to write something up, but don't
>> expect anything too soon...
>
> And maybe you'd contribute what you write to LIA 2nd edition :)

Maybe that too.  ;-) What we're working on isn't aimed at the site
admin who wants to tweak site search, it's more aimed at the IR
researcher.  Among other things it handles Cranfield-style batch
experiments and many standard IR test collections, for example.

Ian



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12728-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 02:18:58 2005
Return-Path: <lucene-user-return-12728-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11933 invoked from network); 27 Jan 2005 02:18:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 02:18:58 -0000
Received: (qmail 81651 invoked by uid 500); 27 Jan 2005 02:18:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81626 invoked by uid 500); 27 Jan 2005 02:18:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81609 invoked by uid 99); 27 Jan 2005 02:18:53 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork11.mail.Virginia.EDU (HELO fork11.mail.virginia.edu) (128.143.2.181)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 26 Jan 2005 18:18:52 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork11.mail.virginia.edu (Postfix) with ESMTP id E6E3C1F52EE
	for <lucene-user@jakarta.apache.org>; Wed, 26 Jan 2005 21:18:49 -0500 (EST)
Received: from fork11.mail.virginia.edu ([127.0.0.1])
 by localhost (fork11.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 07446-03 for <lucene-user@jakarta.apache.org>;
 Wed, 26 Jan 2005 21:18:49 -0500 (EST)
Received: from [172.25.135.102] (unknown [172.25.135.102])
	by fork11.mail.virginia.edu (Postfix) with ESMTP id 9BE171F51E8
	for <lucene-user@jakarta.apache.org>; Wed, 26 Jan 2005 21:18:49 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <41F81F10.9090603@yahoo.co.uk>
References: <20050126223923.CF40A13BF5@mail01.nyc-ofc.criticalmention.com> <41F81F10.9090603@yahoo.co.uk>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <ab1f8c8d9bf701cf915a6c0e9ead0491@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: text highlighting
Date: Wed, 26 Jan 2005 18:37:01 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork11.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Also, there are some examples in the Lucene in Action source code (grab  
it from http://www.lucenebook.com) (see HighlightIt.java).

	Erik

On Jan 26, 2005, at 5:52 PM, markharw00d wrote:

> Michael Celona wrote:
>
>> Does any have a working example of the highlighter class found in the
>> sandbox?
>>
>>
> There are several in the accompanying Junit test:
> http://cvs.apache.org/viewcvs.cgi/jakarta-lucene-sandbox/ 
> contributions/highlighter/src/test/org/apache/lucene/search/highlight/
>
>
> Cheers
> Mark
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12729-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 06:07:45 2005
Return-Path: <lucene-user-return-12729-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2851 invoked from network); 27 Jan 2005 06:07:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 06:07:44 -0000
Received: (qmail 6857 invoked by uid 500); 27 Jan 2005 06:07:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6814 invoked by uid 500); 27 Jan 2005 06:07:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6798 invoked by uid 99); 27 Jan 2005 06:07:33 -0000
X-ASF-Spam-Status: No, hits=2.7 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,HTML_40_50,HTML_FONT_TINY,HTML_IMAGE_ONLY_24,HTML_MESSAGE,HTML_TAG_EXIST_TBODY
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web90103.mail.scd.yahoo.com (HELO web90103.mail.scd.yahoo.com) (66.218.94.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 26 Jan 2005 22:07:32 -0800
Received: (qmail 87074 invoked by uid 60001); 27 Jan 2005 06:07:30 -0000
Message-ID: <20050127060730.87072.qmail@web90103.mail.scd.yahoo.com>
Received: from [137.132.136.237] by web90103.mail.scd.yahoo.com via HTTP; Thu, 27 Jan 2005 14:07:30 CST
Date: Thu, 27 Jan 2005 14:07:30 +0800 (CST)
From: jac jac <foria88@yahoo.com.sg>
Subject: Re: Lucene in Action hits desk in UK
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20050126181701.39404.qmail@web30210.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1437738508-1106806050=:86847"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-1437738508-1106806050=:86847
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit


Just wondering:

Is Lucene-in-Action being sold anywhere in Singapore?

 

thanks!



Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote: Gospodneti sounds like Gospodnetich and Eric is Erik :)

Otis

--- John Haxby wrote:

> Otis Gospodnetic wrote:
> 
> >I contacted both the US and UK Amazon sites and asked them to fix my
> >last name (the last character in my name has a little slash (not an
> >accent) above it), but they never bothered to fix it nor email me
> back.
> >
> > 
> >
> They probably don't know how to type a . How _do_ you pronounce
> your 
> name? I've no idea what to do with that mark over the final c! At
> the 
> moment it's "Lucene in Action" by Eric Hatcher and Otis 
> Gospo-something-or-other :-)
> 
> >Anyhow, enjoy Lucene in Action!
> > 
> >
> Already doing so!
> 
> jch
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



 Yahoo! Mobile
- Download the latest ringtones, games, and more!
--0-1437738508-1106806050=:86847--

From lucene-user-return-12730-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 06:42:25 2005
Return-Path: <lucene-user-return-12730-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17955 invoked from network); 27 Jan 2005 06:42:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 06:42:24 -0000
Received: (qmail 59449 invoked by uid 500); 27 Jan 2005 06:42:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59426 invoked by uid 500); 27 Jan 2005 06:42:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59413 invoked by uid 99); 27 Jan 2005 06:42:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of robinson.raju@gmail.com designates 64.233.170.195 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.195)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 26 Jan 2005 22:42:19 -0800
Received: by rproxy.gmail.com with SMTP id z35so185372rne
        for <lucene-user@jakarta.apache.org>; Wed, 26 Jan 2005 22:42:17 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=Tw/9F0UsaZhPOzY/kn/uoYnDcdf1CdkSPh0BCmZzF/RVatItqsht7A9kxaS4oh3Zd0/kJQ2znenc8BfSs/xvw2HEJrqyHoAr9pikUX7zFBzIdQCTpvqC4IgSnQktxVWI6O8C2x9WTr+yYycCKQCgSDeHcGDebDgEn+gxfn9EEJc=
Received: by 10.38.70.49 with SMTP id s49mr130794rna;
        Wed, 26 Jan 2005 22:42:16 -0800 (PST)
Received: by 10.39.3.1 with HTTP; Wed, 26 Jan 2005 22:42:16 -0800 (PST)
Message-ID: <d4357031050126224235773d21@mail.gmail.com>
Date: Thu, 27 Jan 2005 12:12:16 +0530
From: Robinson Raju <robinson.raju@gmail.com>
Reply-To: Robinson Raju <robinson.raju@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Searching with words that contain % , / and the like
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi ,
 
 Is there a way to search for words that contain "/" or "%" .
 if my query is "test/s" , it is just taken as "test"
 if my query is "test/p" , it is just taken as "test p"
 has anyone done this / faced such an issue ?
 
Regards
Robin

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12731-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 06:53:52 2005
Return-Path: <lucene-user-return-12731-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24210 invoked from network); 27 Jan 2005 06:53:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 06:53:52 -0000
Received: (qmail 81515 invoked by uid 500); 27 Jan 2005 06:53:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81490 invoked by uid 500); 27 Jan 2005 06:53:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81474 invoked by uid 99); 27 Jan 2005 06:53:46 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jasonpolites@tpg.com.au designates 203.12.160.103 as permitted sender)
Received: from mail7.tpgi.com.au (HELO mail.tpgi.com.au) (203.12.160.103)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 26 Jan 2005 22:53:45 -0800
Received: from MINOS (CPE-61-9-143-85.vic.bigpond.net.au [61.9.143.85])
	(authenticated bits=0)
	by mail.tpgi.com.au (8.12.10/8.12.10) with ESMTP id j0R6rdjY007694;
	Thu, 27 Jan 2005 17:53:39 +1100
Message-ID: <005d01c5043c$eed2d2f0$6400a8c0@everymail.com.au>
Reply-To: "Jason Polites" <jason.polites@everymail.com.au>
From: "Jason Polites" <jasonpolites@tpg.com.au>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
        "Robinson Raju" <robinson.raju@gmail.com>
References: <d4357031050126224235773d21@mail.gmail.com>
Subject: Re: Searching with words that contain % , / and the like
Date: Thu, 27 Jan 2005 17:53:39 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-TPG-Antivirus: Passed
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Lucene doco mentions escaping, but doesn't include the "/" char...


------
Lucene supports escaping special characters that are part of the query 
syntax. The current list special characters are

+ - && || ! ( ) { } [ ] ^ " ~ * ? : \

To escape these character use the \ before the character. For example to 
search for (1+1):2 use the query:


 \(1\+1\)\:2
------

You could try escaping it anyway?

Are you sure it's not an HTTP request which is screwing with the parameter?


----- Original Message ----- 
From: "Robinson Raju" <robinson.raju@gmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, January 27, 2005 5:42 PM
Subject: Searching with words that contain % , / and the like


> Hi ,
>
> Is there a way to search for words that contain "/" or "%" .
> if my query is "test/s" , it is just taken as "test"
> if my query is "test/p" , it is just taken as "test p"
> has anyone done this / faced such an issue ?
>
> Regards
> Robin
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12732-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 08:41:01 2005
Return-Path: <lucene-user-return-12732-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97507 invoked from network); 27 Jan 2005 08:41:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 08:41:00 -0000
Received: (qmail 60921 invoked by uid 500); 27 Jan 2005 08:40:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60894 invoked by uid 500); 27 Jan 2005 08:40:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60873 invoked by uid 99); 27 Jan 2005 08:40:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of robinson.raju@gmail.com designates 64.233.170.195 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.195)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 00:40:46 -0800
Received: by rproxy.gmail.com with SMTP id z35so196557rne
        for <lucene-user@jakarta.apache.org>; Thu, 27 Jan 2005 00:40:44 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=K2ppdYJKRYh6WQdKip3vO6ggVpJoI/yfbPDOCwIux347NzQOt/G5pMVKXE2sZD8jAsLhxvZwpbutznv81Jhw5R8cJglALxsZ05OIWkUFE9udPPUz3LOTIgZoipq4wq6NQsYOaFj/qIejXlVDPLrDvLrX7d4uBBqub97Lw3MlIvw=
Received: by 10.38.150.44 with SMTP id x44mr181908rnd;
        Thu, 27 Jan 2005 00:40:44 -0800 (PST)
Received: by 10.39.3.1 with HTTP; Thu, 27 Jan 2005 00:40:44 -0800 (PST)
Message-ID: <d435703105012700406a91e698@mail.gmail.com>
Date: Thu, 27 Jan 2005 14:10:44 +0530
From: Robinson Raju <robinson.raju@gmail.com>
Reply-To: Robinson Raju <robinson.raju@gmail.com>
To: Jason Polites <jason.polites@everymail.com.au>
Subject: Re: Searching with words that contain % , / and the like
Cc: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <005d01c5043c$eed2d2f0$6400a8c0@everymail.com.au>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <d4357031050126224235773d21@mail.gmail.com>
	 <005d01c5043c$eed2d2f0$6400a8c0@everymail.com.au>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Jason , 
yes , the doc'n does mention escaping . but thats only for special
characters used in queries , right ?
but i've tried 'escaping' too.
to answer ur question , am sure it is not HTTP request which is eating it up. 

        Query query = MultiFieldQueryParser.parse("test/s",
                 "value", analyzer);

  query has "value:test"

  am using StandardAnalyzer


On Thu, 27 Jan 2005 17:53:39 +1100, Jason Polites
<jasonpolites@tpg.com.au> wrote:
> Lucene doco mentions escaping, but doesn't include the "/" char...
> 
> ------
> Lucene supports escaping special characters that are part of the query
> syntax. The current list special characters are
> 
> + - && || ! ( ) { } [ ] ^ " ~ * ? : \
> 
> To escape these character use the \ before the character. For example to
> search for (1+1):2 use the query:
> 
> \(1\+1\)\:2
> ------
> 
> You could try escaping it anyway?
> 
> Are you sure it's not an HTTP request which is screwing with the parameter?
> 
> 
> ----- Original Message -----
> From: "Robinson Raju" <robinson.raju@gmail.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Thursday, January 27, 2005 5:42 PM
> Subject: Searching with words that contain % , / and the like
> 
> > Hi ,
> >
> > Is there a way to search for words that contain "/" or "%" .
> > if my query is "test/s" , it is just taken as "test"
> > if my query is "test/p" , it is just taken as "test p"
> > has anyone done this / faced such an issue ?
> >
> > Regards
> > Robin
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> 
> 


-- 
Regards,
Robin
9886394650
"The merit of an action lies in finishing it to the end"

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12733-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 08:50:25 2005
Return-Path: <lucene-user-return-12733-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3886 invoked from network); 27 Jan 2005 08:50:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 08:50:25 -0000
Received: (qmail 79067 invoked by uid 500); 27 Jan 2005 08:50:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79040 invoked by uid 500); 27 Jan 2005 08:50:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79026 invoked by uid 99); 27 Jan 2005 08:50:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of clamprecht@gmail.com designates 64.233.170.193 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 00:50:16 -0800
Received: by rproxy.gmail.com with SMTP id z35so197433rne
        for <lucene-user@jakarta.apache.org>; Thu, 27 Jan 2005 00:50:14 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=lrTjH+/xnMtCNFYk82E1jEB5JdW4/9MekGgiGJ7n+yaNKknV0hDsa2Rpi5EzFoEs8er0mStOeRelBQyhxPMA+MIb1nvfsURyHtvgdBc2W6eYN7fDeOoAPybcmup+Xl2qcYLBddtNDUuSEPZ0QwpnrjoAzmdMhpC8CZNenRrS5is=
Received: by 10.38.65.8 with SMTP id n8mr89759rna;
        Thu, 27 Jan 2005 00:50:13 -0800 (PST)
Received: by 10.38.104.58 with HTTP; Thu, 27 Jan 2005 00:50:13 -0800 (PST)
Message-ID: <88c6a672050127005029324330@mail.gmail.com>
Date: Thu, 27 Jan 2005 02:50:13 -0600
From: Chris Lamprecht <clamprecht@gmail.com>
Reply-To: Chris Lamprecht <clamprecht@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Searching with words that contain % , / and the like
In-Reply-To: <d4357031050126224235773d21@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <d4357031050126224235773d21@mail.gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Without looking at the source, my guess is that StandardAnalyzer (and
StandardTokenizer) is the culprit.  The StandardAnalyzer grammar (in
StandardTokenizer.jj) is probably defined so "x/y" parses into two
tokens, "x" and "y".  "s" is a default stopword (see
StopAnalyzer.ENGLISH_STOP_WORDS), so it gets filtered out, while "p"
does not.

To get what you want, you can use a WhitespaceAnalyzer, write your own
custom Analyzer or Tokenizer, or modify the StandardTokenizer.jj
grammar to suit your needs.  WhitespaceAnalyzer is much simpler than
StandardAnalyzer, so you may see some other things being tokenized
differently.

-Chris

On Thu, 27 Jan 2005 12:12:16 +0530, Robinson Raju
<robinson.raju@gmail.com> wrote:
> Hi ,
> 
> Is there a way to search for words that contain "/" or "%" .
> if my query is "test/s" , it is just taken as "test"
> if my query is "test/p" , it is just taken as "test p"
> has anyone done this / faced such an issue ?
> 
> Regards
> Robin
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12734-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 09:10:35 2005
Return-Path: <lucene-user-return-12734-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15141 invoked from network); 27 Jan 2005 09:10:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 09:10:35 -0000
Received: (qmail 17262 invoked by uid 500); 27 Jan 2005 09:10:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17220 invoked by uid 500); 27 Jan 2005 09:10:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17186 invoked by uid 99); 27 Jan 2005 09:10:27 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=MIME_BASE64_BLANKS,MIME_BASE64_TEXT
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO dev.nannet.co.kr) (221.146.159.218)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 01:10:25 -0800
Received: from win98 ([192.168.1.98])
	by dev.nannet.co.kr (8.12.8/8.12.8) with SMTP id j0R96HoM016428;
	Thu, 27 Jan 2005 18:06:17 +0900
Message-ID: <002701c50450$0a388c20$6201a8c0@win98>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Cc: "Che Dong" <chedong@hotmail.com>
References: <20050126223923.CF40A13BF5@mail01.nyc-ofc.criticalmention.com> <41F81F10.9090603@yahoo.co.uk> <ab1f8c8d9bf701cf915a6c0e9ead0491@ehatchersolutions.com>
Subject: Re: text highlighting
Date: Thu, 27 Jan 2005 18:10:26 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

SGVsbG8sDQoNCldoZW4gSSB1c2VkIHRoZSBjb2RlIHdpdGggQ0pLQW5hbHl6ZXIgYW5kIHNlYXJj
aCBFbmdsaXNoIFRleHQgDQooQmVjYXVzZSB0aGUgdGV4dCBpcyBtaXhlZCB3aXRoIEtvcmVhbiBh
bmQgRW5nbGlzaCApDQpzb21ldGltZXMgdGhlIHJldHVybiBTdGlybmcgaXMgbm9uZS4NCk90aGVy
cyB3b3JrcyB3ZWxsLg0KDQpJcyB0aGUgY29kZSBhbmFseXplciBkZXBlbmRhbmN5ID8NCg0KVGhh
bmtzLg0KDQpZb3VuZ2hvDQoNCi0tLS0tLS0gIFRlc3QgQ29kZSAoIEp1c3QgY29weSBvZiB0aGUg
Qm9vayBjb2RlICkgLS0tLS0tLS0tDQoNCiAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmcg
SElHSF9MSUdIVF9PUEVOID0gIjxzcGFuIGNsYXNzPVwiaGlnaGxpZ2h0XCI+IjsNCiAgICBwcml2
YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmcgSElHSF9MSUdIVF9DTE9TRSA9ICI8L3NwYW4+IjsNCg0K
ICAgIHB1YmxpYyBzdGF0aWMgU3RyaW5nIGhpZ2hMaWdodChTdHJpbmcgdmFsdWUsIFN0cmluZyBx
dWVyeVN0cmluZykNCiAgICAgICAgdGhyb3dzIElPRXhjZXB0aW9uDQogICAgew0KICAgICAgICBp
ZiAoU3RyaW5nVXRpbHMuaXNFbXB0eSh2YWx1ZSkgfHwgU3RyaW5nVXRpbHMuaXNFbXB0eShxdWVy
eVN0cmluZykpDQogICAgICAgIHsNCiAgICAgICAgICAgIHJldHVybiB2YWx1ZTsNCiAgICAgICAg
fQ0KDQogICAgICAgIFRlcm1RdWVyeSBxdWVyeSA9IG5ldyBUZXJtUXVlcnkobmV3IFRlcm0oImgi
LCBxdWVyeVN0cmluZykpOw0KICAgICAgICBRdWVyeVNjb3JlciBzY29yZXIgPSBuZXcgUXVlcnlT
Y29yZXIocXVlcnkpOw0KICAgICAgICBTaW1wbGVIVE1MRm9ybWF0dGVyIGZvcm1hdHRlciA9IG5l
dyBTaW1wbGVIVE1MRm9ybWF0dGVyKEhJR0hfTElHSFRfT1BFTiwNCiAgICAgICAgICAgICAgICBI
SUdIX0xJR0hUX0NMT1NFKTsNCiAgICAgICAgSGlnaGxpZ2h0ZXIgaGlnaGxpZ2h0ZXIgPSBuZXcg
SGlnaGxpZ2h0ZXIoZm9ybWF0dGVyLCBzY29yZXIpOw0KDQogICAgICAgIEZyYWdtZW50ZXIgZnJh
Z21lbnRlciA9IG5ldyBTaW1wbGVGcmFnbWVudGVyKDUwKTsNCg0KICAgICAgICBoaWdobGlnaHRl
ci5zZXRUZXh0RnJhZ21lbnRlcihmcmFnbWVudGVyKTsNCg0KICAgICAgICBUb2tlblN0cmVhbSB0
b2tlblN0cmVhbSA9IG5ldyBDSktBbmFseXplcigpLnRva2VuU3RyZWFtKCJoIiwNCiAgICAgICAg
ICAgICAgICBuZXcgU3RyaW5nUmVhZGVyKHZhbHVlKSk7DQoNCiAgICAgICAgcmV0dXJuIGhpZ2hs
aWdodGVyLmdldEJlc3RGcmFnbWVudHModG9rZW5TdHJlYW0sIHZhbHVlLCA1LCAiLi4uIik7DQog
ICAgfQ0KDQotLS0tLSBPcmlnaW5hbCBNZXNzYWdlIC0tLS0tIA0KRnJvbTogIkVyaWsgSGF0Y2hl
ciIgPGVyaWtAZWhhdGNoZXJzb2x1dGlvbnMuY29tPg0KVG86ICJMdWNlbmUgVXNlcnMgTGlzdCIg
PGx1Y2VuZS11c2VyQGpha2FydGEuYXBhY2hlLm9yZz4NClNlbnQ6IFRodXJzZGF5LCBKYW51YXJ5
IDI3LCAyMDA1IDg6MzcgQU0NClN1YmplY3Q6IFJlOiB0ZXh0IGhpZ2hsaWdodGluZw0KDQoNCj4g
QWxzbywgdGhlcmUgYXJlIHNvbWUgZXhhbXBsZXMgaW4gdGhlIEx1Y2VuZSBpbiBBY3Rpb24gc291
cmNlIGNvZGUgKGdyYWIgIA0KPiBpdCBmcm9tIGh0dHA6Ly93d3cubHVjZW5lYm9vay5jb20pIChz
ZWUgSGlnaGxpZ2h0SXQuamF2YSkuDQo+IA0KPiBFcmlrDQo+IA0KPiBPbiBKYW4gMjYsIDIwMDUs
IGF0IDU6NTIgUE0sIG1hcmtoYXJ3MDBkIHdyb3RlOg0KPiANCj4gPiBNaWNoYWVsIENlbG9uYSB3
cm90ZToNCj4gPg0KPiA+PiBEb2VzIGFueSBoYXZlIGEgd29ya2luZyBleGFtcGxlIG9mIHRoZSBo
aWdobGlnaHRlciBjbGFzcyBmb3VuZCBpbiB0aGUNCj4gPj4gc2FuZGJveD8NCj4gPj4NCj4gPj4N
Cj4gPiBUaGVyZSBhcmUgc2V2ZXJhbCBpbiB0aGUgYWNjb21wYW55aW5nIEp1bml0IHRlc3Q6DQo+
ID4gaHR0cDovL2N2cy5hcGFjaGUub3JnL3ZpZXdjdnMuY2dpL2pha2FydGEtbHVjZW5lLXNhbmRi
b3gvIA0KPiA+IGNvbnRyaWJ1dGlvbnMvaGlnaGxpZ2h0ZXIvc3JjL3Rlc3Qvb3JnL2FwYWNoZS9s
dWNlbmUvc2VhcmNoL2hpZ2hsaWdodC8NCj4gPg0KPiA+DQo+ID4gQ2hlZXJzDQo+ID4gTWFyaw0K
PiA+DQo+ID4NCj4gPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4gPiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBs
dWNlbmUtdXNlci11bnN1YnNjcmliZUBqYWthcnRhLmFwYWNoZS5vcmcNCj4gPiBGb3IgYWRkaXRp
b25hbCBjb21tYW5kcywgZS1tYWlsOiBsdWNlbmUtdXNlci1oZWxwQGpha2FydGEuYXBhY2hlLm9y
Zw0KPiANCj4gDQo+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBsdWNl
bmUtdXNlci11bnN1YnNjcmliZUBqYWthcnRhLmFwYWNoZS5vcmcNCj4gRm9yIGFkZGl0aW9uYWwg
Y29tbWFuZHMsIGUtbWFpbDogbHVjZW5lLXVzZXItaGVscEBqYWthcnRhLmFwYWNoZS5vcmc=




From lucene-user-return-12735-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 09:25:25 2005
Return-Path: <lucene-user-return-12735-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21786 invoked from network); 27 Jan 2005 09:25:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 09:25:25 -0000
Received: (qmail 45619 invoked by uid 500); 27 Jan 2005 09:25:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45569 invoked by uid 500); 27 Jan 2005 09:25:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45548 invoked by uid 99); 27 Jan 2005 09:25:13 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=MIME_BASE64_BLANKS,MIME_BASE64_TEXT
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO dev.nannet.co.kr) (221.146.159.218)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 01:25:11 -0800
Received: from win98 ([192.168.1.98])
	by dev.nannet.co.kr (8.12.8/8.12.8) with SMTP id j0R9N6oM016843;
	Thu, 27 Jan 2005 18:23:07 +0900
Message-ID: <005301c50452$63fa3ae0$6201a8c0@win98>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
   "Youngho Cho" <youngho@nannet.co.kr>
References: <20050126223923.CF40A13BF5@mail01.nyc-ofc.criticalmention.com> <41F81F10.9090603@yahoo.co.uk> <ab1f8c8d9bf701cf915a6c0e9ead0491@ehatchersolutions.com> <002701c50450$0a388c20$6201a8c0@win98>
Subject: Re: text highlighting
Date: Thu, 27 Jan 2005 18:27:15 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

TW9yZSB0ZXN0IHJlc3VsdA0KDQppZiB0aGUgdGV4dCBjb250YWlucyAgLi4uIEZhbWlseSAuLi4N
ClRoYW4NCg0KZmFtaWx5IHF1ZXJ5IHN0cmluZyB3b2tzIE9LLg0KQnV0IGlmIHRoZSBxdWVyeSBz
dGlybmcgaXMgRmFtaWx5IHRoYW4gdGhlIGhpZ2hsaWdodGVyIHJldHVybiBub25lLg0KDQoNClRo
YW5rcy4NCg0KWW91bmdobw0KDQotLS0tLSBPcmlnaW5hbCBNZXNzYWdlIC0tLS0tIA0KRnJvbTog
IllvdW5naG8gQ2hvIiA8eW91bmdob0BuYW5uZXQuY28ua3I+DQpUbzogIkx1Y2VuZSBVc2VycyBM
aXN0IiA8bHVjZW5lLXVzZXJAamFrYXJ0YS5hcGFjaGUub3JnPg0KQ2M6ICJDaGUgRG9uZyIgPGNo
ZWRvbmdAaG90bWFpbC5jb20+DQpTZW50OiBUaHVyc2RheSwgSmFudWFyeSAyNywgMjAwNSA2OjEw
IFBNDQpTdWJqZWN0OiBSZTogdGV4dCBoaWdobGlnaHRpbmcNCg0KDQo+IEhlbGxvLA0KPiANCj4g
V2hlbiBJIHVzZWQgdGhlIGNvZGUgd2l0aCBDSktBbmFseXplciBhbmQgc2VhcmNoIEVuZ2xpc2gg
VGV4dCANCj4gKEJlY2F1c2UgdGhlIHRleHQgaXMgbWl4ZWQgd2l0aCBLb3JlYW4gYW5kIEVuZ2xp
c2ggKQ0KPiBzb21ldGltZXMgdGhlIHJldHVybiBTdGlybmcgaXMgbm9uZS4NCj4gT3RoZXJzIHdv
cmtzIHdlbGwuDQo+IA0KPiBJcyB0aGUgY29kZSBhbmFseXplciBkZXBlbmRhbmN5ID8NCj4gDQo+
IFRoYW5rcy4NCj4gDQo+IFlvdW5naG8NCj4gDQo+IC0tLS0tLS0gIFRlc3QgQ29kZSAoIEp1c3Qg
Y29weSBvZiB0aGUgQm9vayBjb2RlICkgLS0tLS0tLS0tDQo+IA0KPiAgICAgcHJpdmF0ZSBzdGF0
aWMgZmluYWwgU3RyaW5nIEhJR0hfTElHSFRfT1BFTiA9ICI8c3BhbiBjbGFzcz1cImhpZ2hsaWdo
dFwiPiI7DQo+ICAgICBwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmcgSElHSF9MSUdIVF9DTE9T
RSA9ICI8L3NwYW4+IjsNCj4gDQo+ICAgICBwdWJsaWMgc3RhdGljIFN0cmluZyBoaWdoTGlnaHQo
U3RyaW5nIHZhbHVlLCBTdHJpbmcgcXVlcnlTdHJpbmcpDQo+ICAgICAgICAgdGhyb3dzIElPRXhj
ZXB0aW9uDQo+ICAgICB7DQo+ICAgICAgICAgaWYgKFN0cmluZ1V0aWxzLmlzRW1wdHkodmFsdWUp
IHx8IFN0cmluZ1V0aWxzLmlzRW1wdHkocXVlcnlTdHJpbmcpKQ0KPiAgICAgICAgIHsNCj4gICAg
ICAgICAgICAgcmV0dXJuIHZhbHVlOw0KPiAgICAgICAgIH0NCj4gDQo+ICAgICAgICAgVGVybVF1
ZXJ5IHF1ZXJ5ID0gbmV3IFRlcm1RdWVyeShuZXcgVGVybSgiaCIsIHF1ZXJ5U3RyaW5nKSk7DQo+
ICAgICAgICAgUXVlcnlTY29yZXIgc2NvcmVyID0gbmV3IFF1ZXJ5U2NvcmVyKHF1ZXJ5KTsNCj4g
ICAgICAgICBTaW1wbGVIVE1MRm9ybWF0dGVyIGZvcm1hdHRlciA9IG5ldyBTaW1wbGVIVE1MRm9y
bWF0dGVyKEhJR0hfTElHSFRfT1BFTiwNCj4gICAgICAgICAgICAgICAgIEhJR0hfTElHSFRfQ0xP
U0UpOw0KPiAgICAgICAgIEhpZ2hsaWdodGVyIGhpZ2hsaWdodGVyID0gbmV3IEhpZ2hsaWdodGVy
KGZvcm1hdHRlciwgc2NvcmVyKTsNCj4gDQo+ICAgICAgICAgRnJhZ21lbnRlciBmcmFnbWVudGVy
ID0gbmV3IFNpbXBsZUZyYWdtZW50ZXIoNTApOw0KPiANCj4gICAgICAgICBoaWdobGlnaHRlci5z
ZXRUZXh0RnJhZ21lbnRlcihmcmFnbWVudGVyKTsNCj4gDQo+ICAgICAgICAgVG9rZW5TdHJlYW0g
dG9rZW5TdHJlYW0gPSBuZXcgQ0pLQW5hbHl6ZXIoKS50b2tlblN0cmVhbSgiaCIsDQo+ICAgICAg
ICAgICAgICAgICBuZXcgU3RyaW5nUmVhZGVyKHZhbHVlKSk7DQo+IA0KPiAgICAgICAgIHJldHVy
biBoaWdobGlnaHRlci5nZXRCZXN0RnJhZ21lbnRzKHRva2VuU3RyZWFtLCB2YWx1ZSwgNSwgIi4u
LiIpOw0KPiAgICAgfQ0KPiANCj4gLS0tLS0gT3JpZ2luYWwgTWVzc2FnZSAtLS0tLSANCj4gRnJv
bTogIkVyaWsgSGF0Y2hlciIgPGVyaWtAZWhhdGNoZXJzb2x1dGlvbnMuY29tPg0KPiBUbzogIkx1
Y2VuZSBVc2VycyBMaXN0IiA8bHVjZW5lLXVzZXJAamFrYXJ0YS5hcGFjaGUub3JnPg0KPiBTZW50
OiBUaHVyc2RheSwgSmFudWFyeSAyNywgMjAwNSA4OjM3IEFNDQo+IFN1YmplY3Q6IFJlOiB0ZXh0
IGhpZ2hsaWdodGluZw0KPiANCj4gDQo+ID4gQWxzbywgdGhlcmUgYXJlIHNvbWUgZXhhbXBsZXMg
aW4gdGhlIEx1Y2VuZSBpbiBBY3Rpb24gc291cmNlIGNvZGUgKGdyYWIgIA0KPiA+IGl0IGZyb20g
aHR0cDovL3d3dy5sdWNlbmVib29rLmNvbSkgKHNlZSBIaWdobGlnaHRJdC5qYXZhKS4NCj4gPiAN
Cj4gPiBFcmlrDQo+ID4gDQo+ID4gT24gSmFuIDI2LCAyMDA1LCBhdCA1OjUyIFBNLCBtYXJraGFy
dzAwZCB3cm90ZToNCj4gPiANCj4gPiA+IE1pY2hhZWwgQ2Vsb25hIHdyb3RlOg0KPiA+ID4NCj4g
PiA+PiBEb2VzIGFueSBoYXZlIGEgd29ya2luZyBleGFtcGxlIG9mIHRoZSBoaWdobGlnaHRlciBj
bGFzcyBmb3VuZCBpbiB0aGUNCj4gPiA+PiBzYW5kYm94Pw0KPiA+ID4+DQo+ID4gPj4NCj4gPiA+
IFRoZXJlIGFyZSBzZXZlcmFsIGluIHRoZSBhY2NvbXBhbnlpbmcgSnVuaXQgdGVzdDoNCj4gPiA+
IGh0dHA6Ly9jdnMuYXBhY2hlLm9yZy92aWV3Y3ZzLmNnaS9qYWthcnRhLWx1Y2VuZS1zYW5kYm94
LyANCj4gPiA+IGNvbnRyaWJ1dGlvbnMvaGlnaGxpZ2h0ZXIvc3JjL3Rlc3Qvb3JnL2FwYWNoZS9s
dWNlbmUvc2VhcmNoL2hpZ2hsaWdodC8NCj4gPiA+DQo+ID4gPg0KPiA+ID4gQ2hlZXJzDQo+ID4g
PiBNYXJrDQo+ID4gPg0KPiA+ID4NCj4gPiA+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiA+ID4gVG8gdW5zdWJz
Y3JpYmUsIGUtbWFpbDogbHVjZW5lLXVzZXItdW5zdWJzY3JpYmVAamFrYXJ0YS5hcGFjaGUub3Jn
DQo+ID4gPiBGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBsdWNlbmUtdXNlci1oZWxw
QGpha2FydGEuYXBhY2hlLm9yZw0KPiA+IA0KPiA+IA0KPiA+IC0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiA+IFRv
IHVuc3Vic2NyaWJlLCBlLW1haWw6IGx1Y2VuZS11c2VyLXVuc3Vic2NyaWJlQGpha2FydGEuYXBh
Y2hlLm9yZw0KPiA+IEZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IGx1Y2VuZS11c2Vy
LWhlbHBAamFrYXJ0YS5hcGFjaGUub3Jn




From lucene-user-return-12736-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 10:12:36 2005
Return-Path: <lucene-user-return-12736-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50517 invoked from network); 27 Jan 2005 10:12:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 10:12:36 -0000
Received: (qmail 48494 invoked by uid 500); 27 Jan 2005 10:12:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48391 invoked by uid 500); 27 Jan 2005 10:12:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48321 invoked by uid 99); 27 Jan 2005 10:12:06 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web26007.mail.ukl.yahoo.com (HELO web26007.mail.ukl.yahoo.com) (217.12.10.218)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 27 Jan 2005 02:12:05 -0800
Received: (qmail 11443 invoked by uid 60001); 27 Jan 2005 10:05:20 -0000
Message-ID: <20050127100520.11441.qmail@web26007.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26007.mail.ukl.yahoo.com via HTTP; Thu, 27 Jan 2005 10:05:20 GMT
Date: Thu, 27 Jan 2005 10:05:20 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: text highlighting
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>>sometimes the return Stirng is none.
>>Is the code analyzer dependancy ?

When the highlighter.getBestFragments returns nothing
this is because there was no match found for query
terms in the TokenStream supplied.
This is nearly always because of Analyzer issues.
Check the post-analysis tokens produced for the query
and the tokens produced in the TokenStream passed to
the highlighter. The highlighter simply looks for
matches in the two sources of terms and uses the token
offsets to select the best sections of the supplied
text.

Cheers
Mark


	
	
		
___________________________________________________________ 
ALL-NEW Yahoo! Messenger - all new features - even more fun! http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12737-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 12:13:22 2005
Return-Path: <lucene-user-return-12737-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9492 invoked from network); 27 Jan 2005 12:13:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 12:13:22 -0000
Received: (qmail 27915 invoked by uid 500); 27 Jan 2005 12:13:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27877 invoked by uid 500); 27 Jan 2005 12:13:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27862 invoked by uid 99); 27 Jan 2005 12:13:11 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 209-254-108-74.ip.mcleodusa.net (HELO enigmastation.com) (209.254.108.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 04:13:10 -0800
Received: from localhost (joeo@localhost)
	by enigmastation.com (8.11.6/8.11.6) with ESMTP id j0RC9HI09747
	for <lucene-user@jakarta.apache.org>; Thu, 27 Jan 2005 07:09:17 -0500
Date: Thu, 27 Jan 2005 07:09:17 -0500 (EST)
From: Joseph Ottinger <joeo@enigmastation.com>
To: "Lucene User's List" <lucene-user@jakarta.apache.org>
Subject: LuceneRAR nearing first release
Message-ID: <Pine.LNX.4.33.0501270703450.32634-100000@enigmastation.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

https://lucenerar.dev.java.net

LuceneRAR is now working on two containers, verified: The J2EE 1.4 RI and
Orion. Websphere testing is underway, with JBoss to follow.

LuceneRAR is a resource adapter for Lucene, allowing J2EE components to
look up an entry in a JNDI tree, using that reference to add and search
for documents. It's much like RemoteSearcher would be, except using JNDI
semantics for communication instead of RMI, which is a little more elegant
in a J2EE environment (where JNDI communication is very common).

LuceneRAR was created to allow J2EE components to legitimately use the
filesystem indexes (for speed) while not violating J2EE's suggestion to
not rely on filesystem access. It also allows distributed access to the
index (as remote servers would simply establish a JNDI connection to the
LuceneRAR home.)

Please take a look at it, if you're interested; the feature set isn't
complete, but it's workable. There's a sample application that allows
creation, searches, and statistical data about the search included in the
distribution.

Any comments are welcomed.

-----------------------------------------------------------------------
Joseph B. Ottinger                             http://enigmastation.com
IT Consultant                                    joeo@enigmastation.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12738-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 13:38:50 2005
Return-Path: <lucene-user-return-12738-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54441 invoked from network); 27 Jan 2005 13:38:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 13:38:50 -0000
Received: (qmail 5537 invoked by uid 500); 27 Jan 2005 13:38:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5382 invoked by uid 500); 27 Jan 2005 13:38:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5368 invoked by uid 99); 27 Jan 2005 13:38:44 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from imap.gmx.net (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 27 Jan 2005 05:38:43 -0800
Received: (qmail 20320 invoked by uid 0); 27 Jan 2005 13:38:40 -0000
Received: from 193.63.235.44 by www45.gmx.net with HTTP;
	Thu, 27 Jan 2005 14:38:40 +0100 (MET)
Date: Thu, 27 Jan 2005 14:38:40 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "User " <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
Subject: Different Documents (with fields) in one index?
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <24756.1106833120@www45.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello all,

perhaps not such a sophisticated question: 

I would like to have a very diverse set of documents in one index. Depending
on the inside of text documents, I would like to put part of the text in
different fields. This means in the searches, when searching a particular
field, some of those documents won't be addressed at all.

Is it possible to have different kinds of Documents with different index
fields in ONE index? Or do I need one index for each set?

Karl

-- 
10 GB Mailbox, 100 FreeSMS http://www.gmx.net/de/go/topmail
+++ GMX - die erste Adresse fr Mail, Message, More +++

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12739-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 13:50:27 2005
Return-Path: <lucene-user-return-12739-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60511 invoked from network); 27 Jan 2005 13:50:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 13:50:27 -0000
Received: (qmail 33780 invoked by uid 500); 27 Jan 2005 13:50:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33755 invoked by uid 500); 27 Jan 2005 13:50:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33741 invoked by uid 99); 27 Jan 2005 13:50:21 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30203.mail.mud.yahoo.com (HELO web30203.mail.mud.yahoo.com) (68.142.200.86)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 27 Jan 2005 05:50:19 -0800
Received: (qmail 1346 invoked by uid 60001); 27 Jan 2005 13:50:17 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=p+QaqCIeJ64izpOCkZTfkX/939uVPHZcCDORozYWIzn76TnA9FNStSazIVVIKt9ewBLEfSyGw3ufZTdCZNxZWAI2GezvZJ1B2+tG8EvvmBBg5PvzJLvbOdOhouv0jxiQVXEIzCTSNk5h1DJfj8Nmi0gflIa8Y+QIox1Q9crue2g=  ;
Message-ID: <20050127135017.1344.qmail@web30203.mail.mud.yahoo.com>
Received: from [69.201.139.168] by web30203.mail.mud.yahoo.com via HTTP; Thu, 27 Jan 2005 05:50:17 PST
Date: Thu, 27 Jan 2005 05:50:17 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Different Documents (with fields) in one index?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <24756.1106833120@www45.gmx.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Karl,

This is completely fine.  You can have documents with different fields
in the same index.

Otis

--- Karl Koch <TheRanger@gmx.net> wrote:

> Hello all,
> 
> perhaps not such a sophisticated question: 
> 
> I would like to have a very diverse set of documents in one index.
> Depending
> on the inside of text documents, I would like to put part of the text
> in
> different fields. This means in the searches, when searching a
> particular
> field, some of those documents won't be addressed at all.
> 
> Is it possible to have different kinds of Documents with different
> index
> fields in ONE index? Or do I need one index for each set?
> 
> Karl
> 
> -- 
> 10 GB Mailbox, 100 FreeSMS http://www.gmx.net/de/go/topmail
> +++ GMX - die erste Adresse fr Mail, Message, More +++
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12740-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 13:54:52 2005
Return-Path: <lucene-user-return-12740-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62827 invoked from network); 27 Jan 2005 13:54:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 13:54:52 -0000
Received: (qmail 43783 invoked by uid 500); 27 Jan 2005 13:54:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43753 invoked by uid 500); 27 Jan 2005 13:54:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43738 invoked by uid 99); 27 Jan 2005 13:54:45 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from otto.isd-holland.nl (HELO otto2.isd-holland.nl) (62.221.254.21)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 05:54:45 -0800
Received: from [192.168.0.50] (dsl-82-199-135-164.dutchdsl.nl [82.199.135.164])
	by otto2.isd-holland.nl (Postfix) with ESMTP id 27D33364104
	for <lucene-user@jakarta.apache.org>; Thu, 27 Jan 2005 14:54:47 +0100 (CET)
Message-ID: <41F8F2A2.3070403@rotterdam-cs.com>
Date: Thu, 27 Jan 2005 14:54:42 +0100
From: Aad Nales <aad.nales@rotterdam-cs.com>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Different Documents (with fields) in one index?
References: <24756.1106833120@www45.gmx.net>
In-Reply-To: <24756.1106833120@www45.gmx.net>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Nope,

it is very possible. We have an index that holds the search info for 
documents, messages in discussion threads, filled in forms etc. etc. 
each having their own structure.

cheers,
Aad

Karl Koch wrote:

>Hello all,
>
>perhaps not such a sophisticated question: 
>
>I would like to have a very diverse set of documents in one index. Depending
>on the inside of text documents, I would like to put part of the text in
>different fields. This means in the searches, when searching a particular
>field, some of those documents won't be addressed at all.
>
>Is it possible to have different kinds of Documents with different index
>fields in ONE index? Or do I need one index for each set?
>
>Karl
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12741-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 15:36:17 2005
Return-Path: <lucene-user-return-12741-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63296 invoked from network); 27 Jan 2005 15:36:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 15:36:17 -0000
Received: (qmail 76848 invoked by uid 500); 27 Jan 2005 15:36:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76605 invoked by uid 500); 27 Jan 2005 15:36:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76374 invoked by uid 99); 27 Jan 2005 15:36:02 -0000
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=FORGED_MUA_IMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from hades.labone.com (HELO hades.labone.com) (198.70.194.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 07:36:00 -0800
Received: from smsrv.1.24.172.in-addr.arpa by hades.labone.com
          via smtpd (for hermes.apache.org [209.237.227.199]) with ESMTP; Thu, 27 Jan 2005 09:35:53 -0600
From: "Jerry Jalenak" <Jerry.Jalenak@LABONE.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Index Layout Question
Date: Thu, 27 Jan 2005 09:35:33 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
X-WSS-ID: 6DE7D5DE34230689-01-01
Content-Type: text/plain;
 charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am in the process of indexing about 1.5 million documents, and have
started down the path of indexing these by month.  Each month has between
100,000 and 200,000 documents.  From a performance standpoint, is this the
right approach?  This allows me to use MultiSearcher (or
ParallelMultiSearcher), but I'm not sure if the performance gains are really
there.  Would one monolithic index be better?

Thanks.

Jerry Jalenak
Senior Programmer / Analyst, Web Publishing
LabOne, Inc.
10101 Renner Blvd.
Lenexa, KS  66219
(913) 577-1496

jerry.jalenak@labone.com


This transmission (and any information attached to it) may be confidential and
is intended solely for the use of the individual or entity to which it is
addressed. If you are not the intended recipient or the person responsible for
delivering the transmission to the intended recipient, be advised that you
have received this transmission in error and that any use, dissemination,
forwarding, printing, or copying of this information is strictly prohibited.
If you have received this transmission in error, please immediately notify
LabOne at the following email address: securityincidentreporting@labone.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12742-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 16:28:56 2005
Return-Path: <lucene-user-return-12742-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1667 invoked from network); 27 Jan 2005 16:28:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 16:28:56 -0000
Received: (qmail 82992 invoked by uid 500); 27 Jan 2005 16:28:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82957 invoked by uid 500); 27 Jan 2005 16:28:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82935 invoked by uid 99); 27 Jan 2005 16:28:34 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web51702.mail.yahoo.com (HELO web51702.mail.yahoo.com) (206.190.38.220)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 27 Jan 2005 08:28:34 -0800
Received: (qmail 9458 invoked by uid 60001); 27 Jan 2005 16:28:31 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=REI3mWBhWQEyKDl48SYLMC6z9z3Iz77smVqlBvIn/Po5tDQTzWz+UsYMUnRIQYvrCulonwVGzceXgKaHUH3DAotA2avKo8tKyX8of5IQbnhjY2DD22GJPz7cpGRUrRU+Vi3KrNZOd+UptmVYniHpM3jXbXe7BUsKv2zLKMVoZhs=  ;
Message-ID: <20050127162830.9454.qmail@web51702.mail.yahoo.com>
Received: from [209.116.226.226] by web51702.mail.yahoo.com via HTTP; Thu, 27 Jan 2005 08:28:30 PST
Date: Thu, 27 Jan 2005 08:28:30 -0800 (PST)
From: Greg Gershman <greggersh@yahoo.com>
Subject: Reloading an index
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have an index that is frequently updated.  When
indexing is completed, an event triggers a new
Searcher to be opened.  When the new Searcher is
opened, incoming searches are redirected to the new
Searcher, the old Searcher is closed and nulled, but I
still see about twice the amount of memory in use well
after the original searcher has been closed.   Is
there something else I can do to get this memory
reclaimed?  Should I explicitly call garbarge
collection?  Any ideas?

Thanks.

Greg Gershman 


		
__________________________________ 
Do you Yahoo!? 
Meet the all-new My Yahoo! - Try it today! 
http://my.yahoo.com 
 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12743-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 16:31:47 2005
Return-Path: <lucene-user-return-12743-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3190 invoked from network); 27 Jan 2005 16:31:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 16:31:47 -0000
Received: (qmail 96657 invoked by uid 500); 27 Jan 2005 16:31:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96621 invoked by uid 500); 27 Jan 2005 16:31:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96585 invoked by uid 99); 27 Jan 2005 16:31:33 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from rogue.ncsl.nist.gov (HELO rogue.ncsl.nist.gov) (129.6.101.41)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 08:31:31 -0800
Received: from rogue.ncsl.nist.gov.nist.gov (localhost.localdomain [127.0.0.1])
	by rogue.ncsl.nist.gov (8.12.11/8.12.11) with ESMTP id j0RGVT4Y029956
	for <lucene-user@jakarta.apache.org>; Thu, 27 Jan 2005 11:31:29 -0500
From: Ian Soboroff <ian.soboroff@nist.gov>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Index Layout Question
References: <200501271536.j0RFaDAP021074@loggerhead.nist.gov>
Date: Thu, 27 Jan 2005 11:31:29 -0500
In-Reply-To: <200501271536.j0RFaDAP021074@loggerhead.nist.gov> (Jerry
	Jalenak's message of "Thu, 27 Jan 2005 09:35:33 -0600")
Message-ID: <9cfvf9ivnoe.fsf@rogue.ncsl.nist.gov>
User-Agent: Gnus/5.110003 (No Gnus v0.3) Emacs/21.3 (gnu/linux)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

"Jerry Jalenak" <Jerry.Jalenak@LABONE.com> writes:

> I am in the process of indexing about 1.5 million documents, and have
> started down the path of indexing these by month.  Each month has between
> 100,000 and 200,000 documents.  From a performance standpoint, is this the
> right approach?  This allows me to use MultiSearcher (or
> ParallelMultiSearcher), but I'm not sure if the performance gains are really
> there.  Would one monolithic index be better?

Depends on your search infrastructure.  Doug Cutting has sent out some
basic optimization guidelines on this list which should be in the
archives... simply, you need to think about how many CPUs and spindles
are involved.

1.5m documents isn't a challenge for Lucene to index or search on a
single machine with a monolithic index.  I indexed about 1.6m web
pages in 22 hours on a single machine with all data local, and search
with a single IndexSearcher was instantaneous.  We've also done some
testing with a larger collection (25m pages) and
ParallelMultiSearchers on several machines, and likewise on a fast
network haven't felt a slowdown, but we haven't actually benchmarked
it.

Ian



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12744-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 16:39:03 2005
Return-Path: <lucene-user-return-12744-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7556 invoked from network); 27 Jan 2005 16:39:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 16:39:02 -0000
Received: (qmail 17963 invoked by uid 500); 27 Jan 2005 16:38:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17939 invoked by uid 500); 27 Jan 2005 16:38:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17916 invoked by uid 99); 27 Jan 2005 16:38:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from outbound1.z-ptx-11.fr.sopragroup.com (HELO outbound1.sopragroup.com) (81.80.239.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 08:38:53 -0800
Received: by outbound1.sopragroup.com (8.12.10/8.12.10/outbound-A02) with ESMTP id j0RGcnc0006204
          for <lucene-user@jakarta.apache.org>; Thu, 27 Jan 2005 17:38:50 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Reloading an index
Date: Thu, 27 Jan 2005 17:38:49 +0100
Message-ID: <F19E1B11985F2C4E902091B6901CDEFB30FCEC@wexchbe04.ancy.fr.sopra>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Reloading an index
Thread-Index: AcUEjUqCSE7csUA0QU+Tp+sR9b5bfAAANM4g
From: "Cocula Remi" <rcocula@sopragroup.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 27 Jan 2005 16:40:02.0640 (UTC) FILETIME=[D93C4500:01C5048E]
X-Scanned-By: MIMEDefang 2.38
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Make sure that the older searcher is not referenced elsewhere otherwise =
the garbage collector should=20
delete it.
Just remember that the Garbage collector runs when memory is needed but =
not immediatly after changing a reference to null.


-----Message d'origine-----
De : Greg Gershman [mailto:greggersh@yahoo.com]
Envoy=E9 : jeudi 27 janvier 2005 17:29
=C0 : lucene-user@jakarta.apache.org
Objet : Reloading an index


I have an index that is frequently updated.  When
indexing is completed, an event triggers a new
Searcher to be opened.  When the new Searcher is
opened, incoming searches are redirected to the new
Searcher, the old Searcher is closed and nulled, but I
still see about twice the amount of memory in use well
after the original searcher has been closed.   Is
there something else I can do to get this memory
reclaimed?  Should I explicitly call garbarge
collection?  Any ideas?

Thanks.

Greg Gershman=20


	=09
__________________________________=20
Do you Yahoo!?=20
Meet the all-new My Yahoo! - Try it today!=20
http://my.yahoo.com=20
=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12745-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 16:58:19 2005
Return-Path: <lucene-user-return-12745-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18876 invoked from network); 27 Jan 2005 16:58:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 16:58:19 -0000
Received: (qmail 74790 invoked by uid 500); 27 Jan 2005 16:58:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74765 invoked by uid 500); 27 Jan 2005 16:58:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74750 invoked by uid 99); 27 Jan 2005 16:58:13 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 08:58:12 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 27 Jan 2005 11:59:26 -0500
Message-ID: <004f01c50491$8e9f70f0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20050126181701.39404.qmail@web30210.mail.mud.yahoo.com>
Subject: Boosting Questions
Date: Thu, 27 Jan 2005 11:59:25 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 27 Jan 2005 16:59:26.0459 (UTC) FILETIME=[8EECF4B0:01C50491]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi All;

I just want to make sure I have the right idea about boosting.

So if I boost a document (Document A) after I index it (lets say a score of
2.0) Lucene will now consider this document relativly more important than
other documents in the index with a boost factor less than 2.0. This boost
factor will also be applied to all the fields in the Document A. Therefore,
if I do a TermQuery on a field that all my documents share ("title"), in the
returned Hits (assuming Document A was among the return documents), Document
A will score higher than other documents with a lower boost factor because
the "title" field in A would have been boosted with all its other fields.
Correct?

Now if at indexing time I decided to boost a particular field, lets say
"address" in Document A (this is a field which all documents have) the boost
factor is only applied to the "address" field of Document A. Nothing else is
boosted by this operation. This means if a TermQuery on the "address" field
returns Document A along with a collection of other documents, Document A
will score higher than the others because of boosting. Correct?

Thanks,

Luke



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12746-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 17:12:17 2005
Return-Path: <lucene-user-return-12746-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30175 invoked from network); 27 Jan 2005 17:12:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 17:12:17 -0000
Received: (qmail 11843 invoked by uid 500); 27 Jan 2005 17:12:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11762 invoked by uid 500); 27 Jan 2005 17:12:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11707 invoked by uid 99); 27 Jan 2005 17:12:03 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30205.mail.mud.yahoo.com (HELO web30205.mail.mud.yahoo.com) (68.142.200.88)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 27 Jan 2005 09:12:02 -0800
Received: (qmail 6850 invoked by uid 60001); 27 Jan 2005 17:11:59 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=CecVUKA5tdDg1uW/7na1rjG7iH9nY4P7jAJU2Gohh/0sG43cUeumaLf+4UJZCZIkW9x4zRdA2uz5bWVwCVAlfgBlBuH4XpEiOJL1C2oliPTmxCpurYS9b5TmDVxOZicy2yFMEecB1YXotaqKNdTH19ro6GxE5zS382YWISEQOqM=  ;
Message-ID: <20050127171159.6848.qmail@web30205.mail.mud.yahoo.com>
Received: from [216.194.17.194] by web30205.mail.mud.yahoo.com via HTTP; Thu, 27 Jan 2005 09:11:59 PST
Date: Thu, 27 Jan 2005 09:11:59 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Boosting Questions
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <004f01c50491$8e9f70f0$7703d00a@hypermedia.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Luke,

Boosting is only one of the factors involved in Document/Query scoring.
 Assuming that by applying your boosts to Document A or a single field
of Document A increases the total score enough, yes, that Document A
may have the highest score.  But just because you boost a single
Document and not others, it does not mean it will emerge at the top.
You should check out the Explanation class, which can dump all scoring
factors in text or HTML format.

Otis


--- Luke Shannon <lshannon@futurebrand.com> wrote:

> Hi All;
> 
> I just want to make sure I have the right idea about boosting.
> 
> So if I boost a document (Document A) after I index it (lets say a
> score of
> 2.0) Lucene will now consider this document relativly more important
> than
> other documents in the index with a boost factor less than 2.0. This
> boost
> factor will also be applied to all the fields in the Document A.
> Therefore,
> if I do a TermQuery on a field that all my documents share ("title"),
> in the
> returned Hits (assuming Document A was among the return documents),
> Document
> A will score higher than other documents with a lower boost factor
> because
> the "title" field in A would have been boosted with all its other
> fields.
> Correct?
> 
> Now if at indexing time I decided to boost a particular field, lets
> say
> "address" in Document A (this is a field which all documents have)
> the boost
> factor is only applied to the "address" field of Document A. Nothing
> else is
> boosted by this operation. This means if a TermQuery on the "address"
> field
> returns Document A along with a collection of other documents,
> Document A
> will score higher than the others because of boosting. Correct?
> 
> Thanks,
> 
> Luke
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12747-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 17:17:38 2005
Return-Path: <lucene-user-return-12747-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54186 invoked from network); 27 Jan 2005 17:17:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 17:17:37 -0000
Received: (qmail 30136 invoked by uid 500); 27 Jan 2005 17:17:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30112 invoked by uid 500); 27 Jan 2005 17:17:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30093 invoked by uid 99); 27 Jan 2005 17:17:30 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 09:17:28 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 27 Jan 2005 12:18:42 -0500
Message-ID: <006701c50494$3fb5ff10$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20050127171159.6848.qmail@web30205.mail.mud.yahoo.com>
Subject: Re: Boosting Questions
Date: Thu, 27 Jan 2005 12:18:41 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 27 Jan 2005 17:18:42.0580 (UTC) FILETIME=[40070540:01C50494]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks Otis.

----- Original Message ----- 
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, January 27, 2005 12:11 PM
Subject: Re: Boosting Questions


> Luke,
> 
> Boosting is only one of the factors involved in Document/Query scoring.
>  Assuming that by applying your boosts to Document A or a single field
> of Document A increases the total score enough, yes, that Document A
> may have the highest score.  But just because you boost a single
> Document and not others, it does not mean it will emerge at the top.
> You should check out the Explanation class, which can dump all scoring
> factors in text or HTML format.
> 
> Otis
> 
> 
> --- Luke Shannon <lshannon@futurebrand.com> wrote:
> 
> > Hi All;
> > 
> > I just want to make sure I have the right idea about boosting.
> > 
> > So if I boost a document (Document A) after I index it (lets say a
> > score of
> > 2.0) Lucene will now consider this document relativly more important
> > than
> > other documents in the index with a boost factor less than 2.0. This
> > boost
> > factor will also be applied to all the fields in the Document A.
> > Therefore,
> > if I do a TermQuery on a field that all my documents share ("title"),
> > in the
> > returned Hits (assuming Document A was among the return documents),
> > Document
> > A will score higher than other documents with a lower boost factor
> > because
> > the "title" field in A would have been boosted with all its other
> > fields.
> > Correct?
> > 
> > Now if at indexing time I decided to boost a particular field, lets
> > say
> > "address" in Document A (this is a field which all documents have)
> > the boost
> > factor is only applied to the "address" field of Document A. Nothing
> > else is
> > boosted by this operation. This means if a TermQuery on the "address"
> > field
> > returns Document A along with a collection of other documents,
> > Document A
> > will score higher than the others because of boosting. Correct?
> > 
> > Thanks,
> > 
> > Luke
> > 
> > 
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12748-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 18:47:00 2005
Return-Path: <lucene-user-return-12748-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72722 invoked from network); 27 Jan 2005 18:47:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 18:47:00 -0000
Received: (qmail 14277 invoked by uid 500); 27 Jan 2005 18:46:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14259 invoked by uid 500); 27 Jan 2005 18:46:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14244 invoked by uid 99); 27 Jan 2005 18:46:55 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from imap.gmx.net (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 27 Jan 2005 10:46:52 -0800
Received: (qmail 18932 invoked by uid 0); 27 Jan 2005 18:46:49 -0000
Received: from 193.63.235.44 by www22.gmx.net with HTTP;
	Thu, 27 Jan 2005 19:46:50 +0100 (MET)
Date: Thu, 27 Jan 2005 19:46:50 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "User " <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
Subject: XML index
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <15399.1106851610@www22.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I want to use kXML with Lucene to index XML files. I think it is possible to
dynamically assign Node names as Document fields and Node texts as Text
(after using an Analyser). 

I have seen some XML indexing in the Sandbox. Is anybody here which has done
something with a thin pull parser (perhaps even kXML)? Does anybody know of
a project or some sourcecode available which covers this topic?

Karl

 

-- 
Sparen beginnt mit GMX DSL: http://www.gmx.net/de/go/dsl

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12749-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 18:54:52 2005
Return-Path: <lucene-user-return-12749-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88232 invoked from network); 27 Jan 2005 18:54:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 18:54:52 -0000
Received: (qmail 25467 invoked by uid 500); 27 Jan 2005 18:54:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24970 invoked by uid 500); 27 Jan 2005 18:54:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24955 invoked by uid 99); 27 Jan 2005 18:54:47 -0000
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=FORGED_MUA_IMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from hades.labone.com (HELO hades.labone.com) (198.70.194.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 10:54:46 -0800
Received: from smsrv.1.24.172.in-addr.arpa by hades.labone.com
          via smtpd (for hermes.apache.org [209.237.227.199]) with ESMTP; Thu, 27 Jan 2005 12:54:38 -0600
From: "Jerry Jalenak" <Jerry.Jalenak@LABONE.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Index Layout Question
Date: Thu, 27 Jan 2005 12:54:15 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
X-WSS-ID: 6DE7E76C34258160-02-01
Content-Type: text/plain;
 charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

That's good to know.

I'm indexing on 11 fields (9 keyword, 2 text).  The documents themselves are
between 1K to 2K in size.

Is there a point at which IndexSearcher performance begins to fall off?  (in
term of # of index records?)

Jerry Jalenak
Senior Programmer / Analyst, Web Publishing
LabOne, Inc.
10101 Renner Blvd.
Lenexa, KS  66219
(913) 577-1496

jerry.jalenak@labone.com


-----Original Message-----
From: Ian Soboroff [mailto:ian.soboroff@nist.gov]
Sent: Thursday, January 27, 2005 10:31 AM
To: Lucene Users List
Subject: Re: Index Layout Question


"Jerry Jalenak" <Jerry.Jalenak@LABONE.com> writes:

> I am in the process of indexing about 1.5 million documents, and have
> started down the path of indexing these by month.  Each month has between
> 100,000 and 200,000 documents.  From a performance standpoint, is this the
> right approach?  This allows me to use MultiSearcher (or
> ParallelMultiSearcher), but I'm not sure if the performance gains are
really
> there.  Would one monolithic index be better?

Depends on your search infrastructure.  Doug Cutting has sent out some
basic optimization guidelines on this list which should be in the
archives... simply, you need to think about how many CPUs and spindles
are involved.

1.5m documents isn't a challenge for Lucene to index or search on a
single machine with a monolithic index.  I indexed about 1.6m web
pages in 22 hours on a single machine with all data local, and search
with a single IndexSearcher was instantaneous.  We've also done some
testing with a larger collection (25m pages) and
ParallelMultiSearchers on several machines, and likewise on a fast
network haven't felt a slowdown, but we haven't actually benchmarked
it.

Ian



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


This transmission (and any information attached to it) may be confidential and
is intended solely for the use of the individual or entity to which it is
addressed. If you are not the intended recipient or the person responsible for
delivering the transmission to the intended recipient, be advised that you
have received this transmission in error and that any use, dissemination,
forwarding, printing, or copying of this information is strictly prohibited.
If you have received this transmission in error, please immediately notify
LabOne at the following email address: securityincidentreporting@labone.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12750-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 18:54:58 2005
Return-Path: <lucene-user-return-12750-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88269 invoked from network); 27 Jan 2005 18:54:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 18:54:58 -0000
Received: (qmail 25936 invoked by uid 500); 27 Jan 2005 18:54:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25915 invoked by uid 500); 27 Jan 2005 18:54:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25901 invoked by uid 99); 27 Jan 2005 18:54:52 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30205.mail.mud.yahoo.com (HELO web30205.mail.mud.yahoo.com) (68.142.200.88)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 27 Jan 2005 10:54:51 -0800
Received: (qmail 61077 invoked by uid 60001); 27 Jan 2005 18:54:47 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=fRb+ipk48TkaxRgQL6VmQH2ZrYxATWl90tYlvOQ/5yFXhET2z45KGVdbwGg4cglB/M1AEfk//9ummXZPXTVv8v4SF1MBE14ztymJCmKD8Is9e+ZgbNti8izoBM4r86YelQLXsZTq1tsbZ4sqC1TTYitZTuULiq+S0gH7Tg3EWoY=  ;
Message-ID: <20050127185447.61075.qmail@web30205.mail.mud.yahoo.com>
Received: from [216.194.17.194] by web30205.mail.mud.yahoo.com via HTTP; Thu, 27 Jan 2005 10:54:47 PST
Date: Thu, 27 Jan 2005 10:54:47 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: XML index
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <15399.1106851610@www22.gmx.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello Karl,

Grab the source code for Lucene in Action, it's got code that parses
and indexes XML with DOM and SAX.  You can see the coverage of that
stuff here: 
http://lucenebook.com/search?query=indexing+XML+section%3A7*
I haven't used kXML, but I imagine the LIA code should get you going
quickly and you are free to adapt the code to work with kXML for you.

Otis

--- Karl Koch <TheRanger@gmx.net> wrote:

> Hi,
> 
> I want to use kXML with Lucene to index XML files. I think it is
> possible to
> dynamically assign Node names as Document fields and Node texts as
> Text
> (after using an Analyser). 
> 
> I have seen some XML indexing in the Sandbox. Is anybody here which
> has done
> something with a thin pull parser (perhaps even kXML)? Does anybody
> know of
> a project or some sourcecode available which covers this topic?
> 
> Karl
> 
>  
> 
> -- 
> Sparen beginnt mit GMX DSL: http://www.gmx.net/de/go/dsl
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12751-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 19:28:21 2005
Return-Path: <lucene-user-return-12751-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46889 invoked from network); 27 Jan 2005 19:28:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 19:28:21 -0000
Received: (qmail 98157 invoked by uid 500); 27 Jan 2005 19:28:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98117 invoked by uid 500); 27 Jan 2005 19:28:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98069 invoked by uid 99); 27 Jan 2005 19:28:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc12.comcast.net (HELO rwcrmhc12.comcast.net) (216.148.227.85)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 11:28:06 -0800
Received: from [192.168.168.81] (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc12) with ESMTP
          id <2005012719280401400hp66ae>; Thu, 27 Jan 2005 19:28:05 +0000
Message-ID: <41F940C4.3030106@apache.org>
Date: Thu, 27 Jan 2005 11:28:04 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Opening up one large index takes 940M or memory?
References: <41F19B8F.305@newsmonster.org>
In-Reply-To: <41F19B8F.305@newsmonster.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin A. Burton wrote:
> Is there any way to reduce this footprint?  The index is fully 
> optimized... I'm willing to take a performance hit if necessary.  Is 
> this documented anywhere?

You can increase TermInfosWriter.indexInterval.  You'll need to re-write 
the .tii file for this to take effect.  The simplest way to do this is 
to use IndexWriter.addIndexes(), adding your index to a new, empty, 
directory.  This will of course take a while for a 60GB index...

Doubling TermInfosWriter.indexInterval should half the Term memory usage 
and double the time required to look up terms in the dictionary.  With 
an index this large the the latter is probably not an issue, since 
processing term frequency and proximity data probably overwhelmingly 
dominate search performance.

Perhaps we should make this public by adding an IndexWriter method?

Also, you can list the size of your .tii file by using the main() from 
CompoundFileReader.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12752-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 19:40:12 2005
Return-Path: <lucene-user-return-12752-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56825 invoked from network); 27 Jan 2005 19:40:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 19:40:12 -0000
Received: (qmail 22064 invoked by uid 500); 27 Jan 2005 19:40:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22042 invoked by uid 500); 27 Jan 2005 19:40:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22029 invoked by uid 99); 27 Jan 2005 19:40:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc12.comcast.net (HELO rwcrmhc12.comcast.net) (216.148.227.85)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 11:40:06 -0800
Received: from [192.168.168.81] (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc12) with ESMTP
          id <2005012719400401400hma27e>; Thu, 27 Jan 2005 19:40:04 +0000
Message-ID: <41F94390.1040800@apache.org>
Date: Thu, 27 Jan 2005 11:40:00 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Sort Performance Problems across large dataset
References: <BAY102-F2942F9343452BD97A117C2AC860@phx.gbl>
In-Reply-To: <BAY102-F2942F9343452BD97A117C2AC860@phx.gbl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Peter Hollas wrote:
> Currently we can issue a simple search query and expect a response back 
> in about 0.2 seconds (~3,000 results) with the Lucene index that we have 
> built. Lucene gives a much more predictable and faster average query 
> time than using standard fulltext indexing with mySQL. This however 
> returns result in score order, and not alphabetically.
> 
> To sort the resultset into alphabetical order, we added the species 
> names as a seperate keyword field, and sorted using it whilst querying. 
> This solution works fine, but is unacceptable since a query that returns 
> thousands of results can take upwards of 30 seconds to sort them.

Are you using a Lucene Sort?  If you reuse the same IndexReader (or 
IndexSearcher) then perhaps the first query specifying a Sort will take 
30 seconds (although that's much slower than I'd expect), but subsequent 
searches that sort on the same field should be nearly as fast as results 
sorted by score.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12753-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 22:27:44 2005
Return-Path: <lucene-user-return-12753-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24700 invoked from network); 27 Jan 2005 22:27:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 22:27:44 -0000
Received: (qmail 29547 invoked by uid 500); 27 Jan 2005 22:27:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28876 invoked by uid 500); 27 Jan 2005 22:27:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28863 invoked by uid 99); 27 Jan 2005 22:27:39 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from rimp1.nist.gov (HELO smtp.nist.gov) (129.6.16.226)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 14:27:37 -0800
Received: from postmark.nist.gov (pullyou.nist.gov [129.6.16.93])
	by smtp.nist.gov (8.12.10/8.12.10) with ESMTP id j0RMRUj3019029
	for <lucene-user@jakarta.apache.org>; Thu, 27 Jan 2005 17:27:30 -0500
Received: from [129.6.101.18] (monocacy.ncsl.nist.gov [129.6.101.18])
	by postmark.nist.gov (8.12.5/8.12.5) with ESMTP id j0RMRQEX003005
	for <lucene-user@jakarta.apache.org>; Thu, 27 Jan 2005 17:27:26 -0500 (EST)
Message-ID: <41F96ACE.5010309@nist.gov>
Date: Thu, 27 Jan 2005 17:27:26 -0500
From: Jonathan Lasko <jonathan.lasko@nist.gov>
Reply-To: jonathan.lasko@nist.gov
Organization: NIST
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7.3) Gecko/20040913
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: query term frequency
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-NIST-MailScanner: Found to be clean
X-MailScanner-From: jonathan.lasko@nist.gov
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

What do I call to get the term frequencies for terms in the Query?  I 
can't seem to find it in the Javadoc...
Thanks.

Jonathan

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12754-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 22:39:04 2005
Return-Path: <lucene-user-return-12754-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29509 invoked from network); 27 Jan 2005 22:39:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 22:39:04 -0000
Received: (qmail 53372 invoked by uid 500); 27 Jan 2005 22:38:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53342 invoked by uid 500); 27 Jan 2005 22:38:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53302 invoked by uid 99); 27 Jan 2005 22:38:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 14:38:53 -0800
Received: (qmail 12053 invoked by uid 532); 27 Jan 2005 22:37:09 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.103952 secs); 27 Jan 2005 22:37:09 -0000
Received: from unknown (HELO ?10.0.0.157?) (127.0.0.1)
  by 0 with SMTP; 27 Jan 2005 22:37:09 -0000
Message-ID: <41F96D92.8090106@tropo.com>
Date: Thu, 27 Jan 2005 14:39:14 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: query term frequency
References: <41F96ACE.5010309@nist.gov>
In-Reply-To: <41F96ACE.5010309@nist.gov>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Jonathan Lasko wrote:

> What do I call to get the term frequencies for terms in the Query?  I 
> can't seem to find it in the Javadoc...

Do you mean the # of docs that have a term?

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexReader.html#docFreq(org.apache.lucene.index.Term)
> Thanks.
> 
> Jonathan
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12755-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 23:18:32 2005
Return-Path: <lucene-user-return-12755-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46485 invoked from network); 27 Jan 2005 23:18:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 23:18:32 -0000
Received: (qmail 27385 invoked by uid 500); 27 Jan 2005 23:18:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27342 invoked by uid 500); 27 Jan 2005 23:18:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27328 invoked by uid 99); 27 Jan 2005 23:18:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from clift.nettas.net (HELO clift.nettas.net) (202.7.15.71)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 15:18:25 -0800
Received: from clift.nettas.net (localhost [127.0.0.1])
	by localhost.nettas.net (Postfix) with ESMTP id 92ECC591643
	for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 10:18:20 +1100 (EST)
Received: from eduisa2.education.tas.gov.au (eduisa2.education.tas.gov.au [147.41.65.12])
	by clift.nettas.net (Postfix) with ESMTP id 53C778A
	for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 10:18:20 +1100 (EST)
Received: by eduisa2.education.tas.gov.au
	with XWall v3.31 ;
	Fri, 28 Jan 2005 10:18:20 +1100
From: "Kauler, Leto S" <leto.kauler@education.tas.gov.au>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Disk space used by optimize
Date: Fri, 28 Jan 2005 10:18:19 +1100
X-Assembled-By: XWall v3.31
Message-ID: <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B916C0@edumail2.education.tas.gov.au>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Just a quick question:  after writing an index and then calling
optimize(), is it normal for the index to expand to about three times
the size before finally compressing?

In our case the optimise grinds the disk, expanding the index into many
files of about 145MB total, before compressing down to three files of
about 47MB total.  That must be a lot of disk activity for the people
with multi-gigabyte indexes!

Regards,
Leto

CONFIDENTIALITY NOTICE AND DISCLAIMER

Information in this transmission is intended only for the person(s) to whom =
it is addressed and may contain privileged and/or confidential information. =
If you are not the intended recipient, any disclosure, copying or disseminat=
ion of the information is unauthorised and you should delete/destroy all cop=
ies and notify the sender. No liability is accepted for any unauthorised use=
 of the information contained in this transmission.

This disclaimer has been automatically added.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12756-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 23:21:57 2005
Return-Path: <lucene-user-return-12756-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47525 invoked from network); 27 Jan 2005 23:21:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 23:21:57 -0000
Received: (qmail 30775 invoked by uid 500); 27 Jan 2005 23:21:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30670 invoked by uid 500); 27 Jan 2005 23:21:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30655 invoked by uid 99); 27 Jan 2005 23:21:53 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from lakermmtao07.cox.net (HELO lakermmtao07.cox.net) (68.230.240.32)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 15:21:52 -0800
Received: from smtp.east.cox.net ([172.18.52.52]) by lakermmtao07.cox.net
          (InterMail vM.6.01.03.04 201-2131-111-106-20040729) with SMTP
          id <20050127232149.ELLE20686.lakermmtao07.cox.net@smtp.east.cox.net>
          for <lucene-user@jakarta.apache.org>;
          Thu, 27 Jan 2005 18:21:49 -0500
X-Mailer: Openwave WebEngine, version 2.8.15 (webedge20-101-1103-20040528)
From: <akedar@cox.net>
To: <lucene-user@jakarta.apache.org>
Subject: LuceneReader.delete (term t) Failure ?
Date: Thu, 27 Jan 2005 18:21:48 -0500
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Message-Id: <20050127232149.ELLE20686.lakermmtao07.cox.net@smtp.east.cox.net>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I am trying to delete a document from Lucene index using:

     Term aTerm = new Term( "uid", path );
     aReader.delete( aTerm );
     aReader.close();

If the variable path="xxx/foo.txt" then I am able to delete the document.  

However, if path variable has "-" in the string, the delete method does not work

  e.g. path="xxx-yyy/foo.txt"  // Does Not work!!


Can I get around this problem.  I cannot subsitute minus character with '.' as 
it has other implications.  

is this a bug ? I am using Lucene 1.4-final version.

Thanks for the help
Atul


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12757-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 23:44:54 2005
Return-Path: <lucene-user-return-12757-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58095 invoked from network); 27 Jan 2005 23:44:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 23:44:54 -0000
Received: (qmail 70968 invoked by uid 500); 27 Jan 2005 23:44:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70644 invoked by uid 500); 27 Jan 2005 23:44:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70630 invoked by uid 99); 27 Jan 2005 23:44:51 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of chenjian1227@gmail.com designates 64.233.170.200 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.200)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 15:44:49 -0800
Received: by rproxy.gmail.com with SMTP id 40so275425rnz
        for <lucene-user@jakarta.apache.org>; Thu, 27 Jan 2005 15:44:48 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=Pz+O7Havnq/k9fWjhcgQpNOd7Oys3suV0eP454d9p4pmNaOubnifZM2c7+iG3EcfsQXL/O9/ZOvu1zJTwr6R72JjaKUx4n4lTMOLlj09B0rk+6mt/zMxjCIKI4HH61ppn9RkzLRC2ola1wivFQ0aoRrP8I44I42Xd7JbfDYDS0g=
Received: by 10.38.206.57 with SMTP id d57mr28777rng;
        Thu, 27 Jan 2005 15:44:47 -0800 (PST)
Received: by 10.38.8.15 with HTTP; Thu, 27 Jan 2005 15:44:47 -0800 (PST)
Message-ID: <7ca12391050127154418eb8003@mail.gmail.com>
Date: Thu, 27 Jan 2005 15:44:47 -0800
From: jian chen <chenjian1227@gmail.com>
Reply-To: jian chen <chenjian1227@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: google mini? who needs it when Lucene is there
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I was searching using google and just found that there was a new
feature called "google mini". Initially I thought it was another free
service for small companies. Then I realized that it costs quite some
money ($4,995) for the hardware and software. (I guess the proprietary
software costs a whole lot more than actual hardware.)

The "nice" feature is that, you can only index up to 50,000 documents
with this price. If you need to index more, sorry, send in the
check...

It seems to me that any small biz will be ripped off if they install
this google mini thing, compared to using Lucene to implement a easy
to use search software, which could search up to whatever number of
documents you could image.

I hope the lucene project could get exposed more to the enterprise so
that people know that they have not only cheaper but more importantly,
BETTER alternatives.

Jian

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12758-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Jan 27 23:52:59 2005
Return-Path: <lucene-user-return-12758-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61356 invoked from network); 27 Jan 2005 23:52:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 27 Jan 2005 23:52:58 -0000
Received: (qmail 89252 invoked by uid 500); 27 Jan 2005 23:52:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89222 invoked by uid 500); 27 Jan 2005 23:52:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89209 invoked by uid 99); 27 Jan 2005 23:52:54 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30202.mail.mud.yahoo.com (HELO web30202.mail.mud.yahoo.com) (68.142.200.85)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 27 Jan 2005 15:52:52 -0800
Received: (qmail 11135 invoked by uid 60001); 27 Jan 2005 23:52:50 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=hIxjrNZLxf+cVFdL0PL0IIxKQsCuGSklSzycSkpKIBZ48iBWEhd/x7ketwUDbdJs4LTpRVXDADxmChTp7DbeOFYB3zDhfg+SQqj9hRpzyMQxO3LqCwTZLJS6+ZouVOmwoeE9oJ02ZGGhREnDQtW3fgYjL8n5pm0EpIek8TqIXLY=  ;
Message-ID: <20050127235250.11133.qmail@web30202.mail.mud.yahoo.com>
Received: from [216.194.17.194] by web30202.mail.mud.yahoo.com via HTTP; Thu, 27 Jan 2005 15:52:49 PST
Date: Thu, 27 Jan 2005 15:52:49 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Disk space used by optimize
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B916C0@edumail2.education.tas.gov.au>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

Yes, that is how optimize works - copies all existing index segments
into one unified index segment, thus optimizing it.

see hit #1: http://www.lucenebook.com/search?query=optimize+disk+space

However, three times the space sounds a bit too much, or I make a
mistake in the book. :)

You said you end up with 3 files - .cfs is one of them, right?

Otis


--- "Kauler, Leto S" <leto.kauler@education.tas.gov.au> wrote:

> 
> Just a quick question:  after writing an index and then calling
> optimize(), is it normal for the index to expand to about three times
> the size before finally compressing?
> 
> In our case the optimise grinds the disk, expanding the index into
> many
> files of about 145MB total, before compressing down to three files of
> about 47MB total.  That must be a lot of disk activity for the people
> with multi-gigabyte indexes!
> 
> Regards,
> Leto
> 
> CONFIDENTIALITY NOTICE AND DISCLAIMER
> 
> Information in this transmission is intended only for the person(s)
> to whom it is addressed and may contain privileged and/or
> confidential information. If you are not the intended recipient, any
> disclosure, copying or dissemination of the information is
> unauthorised and you should delete/destroy all copies and notify the
> sender. No liability is accepted for any unauthorised use of the
> information contained in this transmission.
> 
> This disclaimer has been automatically added.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12759-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 00:05:05 2005
Return-Path: <lucene-user-return-12759-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64390 invoked from network); 28 Jan 2005 00:05:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 00:05:04 -0000
Received: (qmail 3401 invoked by uid 500); 28 Jan 2005 00:04:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3376 invoked by uid 500); 28 Jan 2005 00:04:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3248 invoked by uid 99); 28 Jan 2005 00:04:59 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_20_30,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web20323.mail.yahoo.com (HELO web20323.mail.yahoo.com) (216.136.227.9)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 27 Jan 2005 16:04:56 -0800
Received: (qmail 70880 invoked by uid 60001); 28 Jan 2005 00:04:55 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=KxKM5ZnRqhF4IhMs6TBCk3aPMR0j3POFVfFcxjnI217kUPB50TihlcRvly5YAiQcH82r0tu0vDSRsckSCxeEpcz4b/QRypYjAdV4qjxPoX2Kp3tYRqgD4lLOUXoHA/jO4QImJEGc67Ef1qKYOz6Leq3ON7iTgIUfjFklBbyjRK4=  ;
Message-ID: <20050128000455.70878.qmail@web20323.mail.yahoo.com>
Received: from [24.19.103.235] by web20323.mail.yahoo.com via HTTP; Thu, 27 Jan 2005 16:04:54 PST
Date: Thu, 27 Jan 2005 16:04:54 -0800 (PST)
From: "Xiaohong Yang \(Sharon\)" <sharonxyang@yahoo.com>
Subject: Re: google mini? who needs it when Lucene is there
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  jian chen <chenjian1227@gmail.com>
In-Reply-To: <7ca12391050127154418eb8003@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-94955877-1106870694=:70524"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-94955877-1106870694=:70524
Content-Type: text/plain; charset=us-ascii

Hi,
 
I agree that Google mini is quite expensive.  It might be similar to the desktop version in quality.  Anyone knows google's ratio of index to text?   Is it true that Lucene's index is about 500 times the original text size (not including image size)?  I don't have one installed, so I cannot measure.
 
Best,
 
Sharon

jian chen <chenjian1227@gmail.com> wrote:
Hi,

I was searching using google and just found that there was a new
feature called "google mini". Initially I thought it was another free
service for small companies. Then I realized that it costs quite some
money ($4,995) for the hardware and software. (I guess the proprietary
software costs a whole lot more than actual hardware.)

The "nice" feature is that, you can only index up to 50,000 documents
with this price. If you need to index more, sorry, send in the
check...

It seems to me that any small biz will be ripped off if they install
this google mini thing, compared to using Lucene to implement a easy
to use search software, which could search up to whatever number of
documents you could image.

I hope the lucene project could get exposed more to the enterprise so
that people know that they have not only cheaper but more importantly,
BETTER alternatives.

Jian

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


--0-94955877-1106870694=:70524--

From lucene-user-return-12760-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 00:13:44 2005
Return-Path: <lucene-user-return-12760-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68196 invoked from network); 28 Jan 2005 00:13:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 00:13:44 -0000
Received: (qmail 19196 invoked by uid 500); 28 Jan 2005 00:13:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19176 invoked by uid 500); 28 Jan 2005 00:13:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19162 invoked by uid 99); 28 Jan 2005 00:13:39 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from cato.nettas.net (HELO cato.nettas.net) (202.7.15.72)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 16:13:37 -0800
Received: from cato.nettas.net (localhost [127.0.0.1])
	by localhost.nettas.net (Postfix) with ESMTP id BC5F45C9AD
	for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 11:13:33 +1100 (EST)
Received: from eduisa1.education.tas.gov.au (eduisa1.education.tas.gov.au [147.41.65.11])
	by cato.nettas.net (Postfix) with ESMTP id 821BD3E
	for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 11:13:33 +1100 (EST)
Received: by eduisa1.education.tas.gov.au
	with XWall v3.31 ;
	Fri, 28 Jan 2005 11:13:32 +1100
From: "Kauler, Leto S" <leto.kauler@education.tas.gov.au>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: Disk space used by optimize
Date: Fri, 28 Jan 2005 11:13:32 +1100
X-Assembled-By: XWall v3.31
Message-ID: <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B916C1@edumail2.education.tas.gov.au>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Our copy of LIA is "in the mail" ;)

Yes the final three files are: the .cfs (46.8MB), deletable (4 bytes),
and segments (29 bytes).

--Leto



> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
>=20
> Hello,
>=20
> Yes, that is how optimize works - copies all existing index=20
> segments into one unified index segment, thus optimizing it.
>=20
> see hit #1: http://www.lucenebook.com/search?query=3Doptimize+disk+space
>=20
> However, three times the space sounds a bit too much, or I=20
> make a mistake in the book. :)
>=20
> You said you end up with 3 files - .cfs is one of them, right?
>=20
> Otis
>=20
>=20
> --- "Kauler, Leto S" <leto.kauler@education.tas.gov.au> wrote:
>=20
> >=20
> > Just a quick question:  after writing an index and then calling=20
> > optimize(), is it normal for the index to expand to about=20
> three times=20
> > the size before finally compressing?
> >=20
> > In our case the optimise grinds the disk, expanding the index into=20
> > many files of about 145MB total, before compressing down to three=20
> > files of about 47MB total.  That must be a lot of disk activity for=20
> > the people with multi-gigabyte indexes!
> >=20
> > Regards,
> > Leto

CONFIDENTIALITY NOTICE AND DISCLAIMER

Information in this transmission is intended only for the person(s) to whom =
it is addressed and may contain privileged and/or confidential information. =
If you are not the intended recipient, any disclosure, copying or disseminat=
ion of the information is unauthorised and you should delete/destroy all cop=
ies and notify the sender. No liability is accepted for any unauthorised use=
 of the information contained in this transmission.

This disclaimer has been automatically added.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12761-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 00:16:33 2005
Return-Path: <lucene-user-return-12761-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69446 invoked from network); 28 Jan 2005 00:16:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 00:16:32 -0000
Received: (qmail 29468 invoked by uid 500); 28 Jan 2005 00:16:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29446 invoked by uid 500); 28 Jan 2005 00:16:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29431 invoked by uid 99); 28 Jan 2005 00:16:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 16:16:27 -0800
Received: (qmail 20357 invoked by uid 532); 28 Jan 2005 00:14:43 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.078921 secs); 28 Jan 2005 00:14:43 -0000
Received: from unknown (HELO ?10.0.0.157?) (127.0.0.1)
  by 0 with SMTP; 28 Jan 2005 00:14:43 -0000
Message-ID: <41F98470.7070606@tropo.com>
Date: Thu, 27 Jan 2005 16:16:48 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: rackmount lucene/nutch - Re: google mini? who needs it when Lucene
 is there
References: <7ca12391050127154418eb8003@mail.gmail.com>
In-Reply-To: <7ca12391050127154418eb8003@mail.gmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This reminds me, has anyone every discussed something similar:

- rackmount server ( or for coolness factor, that mini mac)
- web i/f for config/control

- of course the server would have the following s/w:
-- web server
-- lucene / nutch

Part of the work here I think is having a decent web i/f to configure 
the thing and to customize the L&F of the search results.



jian chen wrote:
> Hi,
> 
> I was searching using google and just found that there was a new
> feature called "google mini". Initially I thought it was another free
> service for small companies. Then I realized that it costs quite some
> money ($4,995) for the hardware and software. (I guess the proprietary
> software costs a whole lot more than actual hardware.)
> 
> The "nice" feature is that, you can only index up to 50,000 documents
> with this price. If you need to index more, sorry, send in the
> check...
> 
> It seems to me that any small biz will be ripped off if they install
> this google mini thing, compared to using Lucene to implement a easy
> to use search software, which could search up to whatever number of
> documents you could image.
> 
> I hope the lucene project could get exposed more to the enterprise so
> that people know that they have not only cheaper but more importantly,
> BETTER alternatives.
> 
> Jian
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12762-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 00:24:00 2005
Return-Path: <lucene-user-return-12762-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72764 invoked from network); 28 Jan 2005 00:24:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 00:24:00 -0000
Received: (qmail 46029 invoked by uid 500); 28 Jan 2005 00:23:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46006 invoked by uid 500); 28 Jan 2005 00:23:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45993 invoked by uid 99); 28 Jan 2005 00:23:54 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of john.wang@gmail.com designates 64.233.170.196 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 16:23:53 -0800
Received: by rproxy.gmail.com with SMTP id 40so277300rnz
        for <lucene-user@jakarta.apache.org>; Thu, 27 Jan 2005 16:23:51 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=mZr2bO0vknJjrl1Bh2zBKXP8zFIHirgQSXAPdEiT/AJK6olUxmThL24pgmUHzna4VJFigy8dUd8/nheiZ/1Dm2QEGPfNbb4ISur+pfnDBFqntOsZ7qWpLX6GPlN3RcxaYEaTmgzk9Js4Bm3h8n0FdnIEPUT2jyNan1YvlRswooM=
Received: by 10.38.19.34 with SMTP id 34mr43626rns;
        Thu, 27 Jan 2005 16:23:51 -0800 (PST)
Received: by 10.38.179.76 with HTTP; Thu, 27 Jan 2005 16:23:51 -0800 (PST)
Message-ID: <8837fb7705012716231d428a4b@mail.gmail.com>
Date: Thu, 27 Jan 2005 16:23:51 -0800
From: John Wang <john.wang@gmail.com>
Reply-To: John Wang <john.wang@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: google mini? who needs it when Lucene is there
In-Reply-To: <20050128000455.70878.qmail@web20323.mail.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <7ca12391050127154418eb8003@mail.gmail.com>
	 <20050128000455.70878.qmail@web20323.mail.yahoo.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think Google mini also includes crawling and a server wrapper. So it
is not entirely an 1-to-1 comparison.

Of couse extending lucene to have those features are not at all
difficult anyway.

-John


On Thu, 27 Jan 2005 16:04:54 -0800 (PST), Xiaohong Yang (Sharon)
<sharonxyang@yahoo.com> wrote:
> Hi,
> 
> I agree that Google mini is quite expensive.  It might be similar to the desktop version in quality.  Anyone knows google's ratio of index to text?   Is it true that Lucene's index is about 500 times the original text size (not including image size)?  I don't have one installed, so I cannot measure.
> 
> Best,
> 
> Sharon
> 
> jian chen <chenjian1227@gmail.com> wrote:
> Hi,
> 
> I was searching using google and just found that there was a new
> feature called "google mini". Initially I thought it was another free
> service for small companies. Then I realized that it costs quite some
> money ($4,995) for the hardware and software. (I guess the proprietary
> software costs a whole lot more than actual hardware.)
> 
> The "nice" feature is that, you can only index up to 50,000 documents
> with this price. If you need to index more, sorry, send in the
> check...
> 
> It seems to me that any small biz will be ripped off if they install
> this google mini thing, compared to using Lucene to implement a easy
> to use search software, which could search up to whatever number of
> documents you could image.
> 
> I hope the lucene project could get exposed more to the enterprise so
> that people know that they have not only cheaper but more importantly,
> BETTER alternatives.
> 
> Jian
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12763-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 00:25:29 2005
Return-Path: <lucene-user-return-12763-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73410 invoked from network); 28 Jan 2005 00:25:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 00:25:29 -0000
Received: (qmail 49811 invoked by uid 500); 28 Jan 2005 00:25:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49776 invoked by uid 500); 28 Jan 2005 00:25:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49736 invoked by uid 99); 28 Jan 2005 00:25:23 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO,HTML_40_50,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mspmail5.stellent.com (HELO mspmail5.intranetsolutions.com) (12.40.184.203)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 16:25:23 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C504D0.63768530"
Subject: RE: google mini? who needs it when Lucene is there
Date: Thu, 27 Jan 2005 18:29:11 -0600
Message-ID: <DD94E025FE508A4CBA7FD5FAF6A9AEFE23E980@mspmail5.intranetsolutions.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: google mini? who needs it when Lucene is there
Thread-Index: AcUEysXIou8U7VvnQWCic9GynJvPxAABJVk6
From: "Luke Francl" <Luke.Francl@stellent.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C504D0.63768530
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I disagree. Most small companies don't have an IT staff capable of =
implementing a custom search engine using Lucene for less than $5,000. =
Nutch might make this possible, but compared to a plug-in-and-go =
solution like the Google mini, it still would probably cost a =
significant amount of money.
=20
Getting Lucene/Nutch to the point where it is possible to easily install =
it on a computer and administrate its settings in a user-friendly way is =
a great goal, though.
=20
Regards,
Luke Francl

________________________________

From: jian chen [mailto:chenjian1227@gmail.com]
Sent: Thu 1/27/2005 5:44 PM
To: Lucene Users List
Subject: google mini? who needs it when Lucene is there

It seems to me that any small biz will be ripped off if they install
this google mini thing, compared to using Lucene to implement a easy
to use search software, which could search up to whatever number of
documents you could image.


------_=_NextPart_001_01C504D0.63768530--

From lucene-user-return-12764-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 00:47:09 2005
Return-Path: <lucene-user-return-12764-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80401 invoked from network); 28 Jan 2005 00:47:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 00:47:09 -0000
Received: (qmail 78513 invoked by uid 500); 28 Jan 2005 00:47:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78291 invoked by uid 500); 28 Jan 2005 00:47:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78278 invoked by uid 99); 28 Jan 2005 00:47:04 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork7.mail.Virginia.EDU (HELO fork7.mail.virginia.edu) (128.143.2.177)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 16:47:03 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id B23491F5365
	for <lucene-user@jakarta.apache.org>; Thu, 27 Jan 2005 19:47:00 -0500 (EST)
Received: from fork7.mail.virginia.edu ([127.0.0.1])
 by localhost (fork7.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 18698-04 for <lucene-user@jakarta.apache.org>;
 Thu, 27 Jan 2005 19:47:00 -0500 (EST)
Received: from [192.168.1.101] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id 6C44E1F52EE
	for <lucene-user@jakarta.apache.org>; Thu, 27 Jan 2005 19:47:00 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <20050127232149.ELLE20686.lakermmtao07.cox.net@smtp.east.cox.net>
References: <20050127232149.ELLE20686.lakermmtao07.cox.net@smtp.east.cox.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <987933552542c3be18bdba67c3a62a41@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: LuceneReader.delete (term t) Failure ?
Date: Thu, 27 Jan 2005 19:46:40 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork7.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

How did you index the "uid" field?  Field.Keyword?  If not, that may be 
the problem in that the field was analyzed.  For a key field like this, 
it needs to be unanalyzed/untokenized.

	Erik

On Jan 27, 2005, at 6:21 PM, <akedar@cox.net> wrote:

> Hi,
>
> I am trying to delete a document from Lucene index using:
>
>      Term aTerm = new Term( "uid", path );
>      aReader.delete( aTerm );
>      aReader.close();
>
> If the variable path="xxx/foo.txt" then I am able to delete the 
> document.
>
> However, if path variable has "-" in the string, the delete method 
> does not work
>
>   e.g. path="xxx-yyy/foo.txt"  // Does Not work!!
>
>
> Can I get around this problem.  I cannot subsitute minus character 
> with '.' as
> it has other implications.
>
> is this a bug ? I am using Lucene 1.4-final version.
>
> Thanks for the help
> Atul
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12765-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 01:01:16 2005
Return-Path: <lucene-user-return-12765-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86050 invoked from network); 28 Jan 2005 01:01:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 01:01:16 -0000
Received: (qmail 95730 invoked by uid 500); 28 Jan 2005 01:01:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95709 invoked by uid 500); 28 Jan 2005 01:01:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95695 invoked by uid 99); 28 Jan 2005 01:01:11 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=MIME_BASE64_BLANKS,MIME_BASE64_TEXT
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO dev.nannet.co.kr) (221.146.159.218)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 17:01:09 -0800
Received: from win98 ([192.168.1.98])
	by dev.nannet.co.kr (8.12.8/8.12.8) with SMTP id j0S0x0oM029753
	for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 09:59:01 +0900
Message-ID: <001301c504d5$21ec3300$6201a8c0@win98>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20050127100520.11441.qmail@web26007.mail.ukl.yahoo.com>
Subject: Re: text highlighting
Date: Fri, 28 Jan 2005 10:03:08 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

VGhhbmtzIGZvciB5b3VyIHJlcGx5Lg0KDQpJIHVzZSBRdWVyeVBhcnNlciBpbnN0ZWFkIG9mICBU
ZXJtUXVlcnkuDQpBbmQgYWxsIHdvcmtzIGdvb2QgIS4NCg0KVGhhbmtzLg0KDQpZb3VuZ2hvDQoN
Ci0tLS0tIE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0gDQpGcm9tOiAibWFyayBoYXJ3b29kIiA8bWFy
a2hhcncwMGRAeWFob28uY28udWs+DQpUbzogPGx1Y2VuZS11c2VyQGpha2FydGEuYXBhY2hlLm9y
Zz4NClNlbnQ6IFRodXJzZGF5LCBKYW51YXJ5IDI3LCAyMDA1IDc6MDUgUE0NClN1YmplY3Q6IFJl
OiB0ZXh0IGhpZ2hsaWdodGluZw0KDQoNCj4gPj5zb21ldGltZXMgdGhlIHJldHVybiBTdGlybmcg
aXMgbm9uZS4NCj4gPj5JcyB0aGUgY29kZSBhbmFseXplciBkZXBlbmRhbmN5ID8NCj4gDQo+IFdo
ZW4gdGhlIGhpZ2hsaWdodGVyLmdldEJlc3RGcmFnbWVudHMgcmV0dXJucyBub3RoaW5nDQo+IHRo
aXMgaXMgYmVjYXVzZSB0aGVyZSB3YXMgbm8gbWF0Y2ggZm91bmQgZm9yIHF1ZXJ5DQo+IHRlcm1z
IGluIHRoZSBUb2tlblN0cmVhbSBzdXBwbGllZC4NCj4gVGhpcyBpcyBuZWFybHkgYWx3YXlzIGJl
Y2F1c2Ugb2YgQW5hbHl6ZXIgaXNzdWVzLg0KPiBDaGVjayB0aGUgcG9zdC1hbmFseXNpcyB0b2tl
bnMgcHJvZHVjZWQgZm9yIHRoZSBxdWVyeQ0KPiBhbmQgdGhlIHRva2VucyBwcm9kdWNlZCBpbiB0
aGUgVG9rZW5TdHJlYW0gcGFzc2VkIHRvDQo+IHRoZSBoaWdobGlnaHRlci4gVGhlIGhpZ2hsaWdo
dGVyIHNpbXBseSBsb29rcyBmb3INCj4gbWF0Y2hlcyBpbiB0aGUgdHdvIHNvdXJjZXMgb2YgdGVy
bXMgYW5kIHVzZXMgdGhlIHRva2VuDQo+IG9mZnNldHMgdG8gc2VsZWN0IHRoZSBiZXN0IHNlY3Rp
b25zIG9mIHRoZSBzdXBwbGllZA0KPiB0ZXh0Lg0KPiANCj4gQ2hlZXJzDQo+IE1hcmsNCj4gDQo+
IA0KPiANCj4gDQo+IA0KPiBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fXyANCj4gQUxMLU5FVyBZYWhvbyEgTWVzc2VuZ2VyIC0gYWxsIG5l
dyBmZWF0dXJlcyAtIGV2ZW4gbW9yZSBmdW4hIGh0dHA6Ly91ay5tZXNzZW5nZXIueWFob28uY29t
DQo+IA0KPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogbHVjZW5lLXVz
ZXItdW5zdWJzY3JpYmVAamFrYXJ0YS5hcGFjaGUub3JnDQo+IEZvciBhZGRpdGlvbmFsIGNvbW1h
bmRzLCBlLW1haWw6IGx1Y2VuZS11c2VyLWhlbHBAamFrYXJ0YS5hcGFjaGUub3Jn




From lucene-user-return-12766-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 01:02:08 2005
Return-Path: <lucene-user-return-12766-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86307 invoked from network); 28 Jan 2005 01:02:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 01:02:07 -0000
Received: (qmail 97267 invoked by uid 500); 28 Jan 2005 01:02:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96958 invoked by uid 500); 28 Jan 2005 01:02:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96945 invoked by uid 99); 28 Jan 2005 01:02:01 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork3.mail.Virginia.EDU (HELO fork3.mail.virginia.edu) (128.143.2.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 17:02:00 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id 67C181C88F
	for <lucene-user@jakarta.apache.org>; Thu, 27 Jan 2005 20:01:57 -0500 (EST)
Received: from fork3.mail.virginia.edu ([127.0.0.1])
 by localhost (fork3.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 27680-09 for <lucene-user@jakarta.apache.org>;
 Thu, 27 Jan 2005 20:01:57 -0500 (EST)
Received: from [192.168.1.101] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id EA6F01C8B4
	for <lucene-user@jakarta.apache.org>; Thu, 27 Jan 2005 20:01:56 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <41F98470.7070606@tropo.com>
References: <7ca12391050127154418eb8003@mail.gmail.com> <41F98470.7070606@tropo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <767922b5312c60a306cc3631c8111630@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: rackmount lucene/nutch - Re: google mini? who needs it when Lucene is there
Date: Thu, 27 Jan 2005 20:01:55 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork3.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've often said that there is a business to be had in packaging up 
Lucene (and now Nutch) into a cute little box with user friendly 
management software to search your intranet.  SearchBlox is already 
there (except they don't include the box).

I really hope that an application like SearchBlox/Zilverline can be 
created as part of the Lucene project itself, replacing the sad demos 
that currently ship with Lucene.  I've got so many things on my plate 
that I don't foresee myself getting to this as soon as I'd like, but I 
would most definitely support and contribute what time I could to such 
an effort.  If the web UI used Tapestry, I'd be very inclined to dig in 
hardcore to it.  Any other web UI technology would likely turn me off.  
One of these days I'll Tapestry-ify Nutch just for grins and submit it 
as a replacement for the JSPs.

And I'm even more sold on it if Mac Mini's are involved!  :)

	Erik

On Jan 27, 2005, at 7:16 PM, David Spencer wrote:

> This reminds me, has anyone every discussed something similar:
>
> - rackmount server ( or for coolness factor, that mini mac)
> - web i/f for config/control
>
> - of course the server would have the following s/w:
> -- web server
> -- lucene / nutch
>
> Part of the work here I think is having a decent web i/f to configure 
> the thing and to customize the L&F of the search results.
>
>
>
> jian chen wrote:
>> Hi,
>> I was searching using google and just found that there was a new
>> feature called "google mini". Initially I thought it was another free
>> service for small companies. Then I realized that it costs quite some
>> money ($4,995) for the hardware and software. (I guess the proprietary
>> software costs a whole lot more than actual hardware.)
>> The "nice" feature is that, you can only index up to 50,000 documents
>> with this price. If you need to index more, sorry, send in the
>> check...
>> It seems to me that any small biz will be ripped off if they install
>> this google mini thing, compared to using Lucene to implement a easy
>> to use search software, which could search up to whatever number of
>> documents you could image.
>> I hope the lucene project could get exposed more to the enterprise so
>> that people know that they have not only cheaper but more importantly,
>> BETTER alternatives.
>> Jian
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12767-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 01:25:13 2005
Return-Path: <lucene-user-return-12767-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95029 invoked from network); 28 Jan 2005 01:25:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 01:25:13 -0000
Received: (qmail 22886 invoked by uid 500); 28 Jan 2005 01:25:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22863 invoked by uid 500); 28 Jan 2005 01:25:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22850 invoked by uid 99); 28 Jan 2005 01:25:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of clamprecht@gmail.com designates 64.233.170.192 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.192)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 17:25:06 -0800
Received: by rproxy.gmail.com with SMTP id a36so330781rnf
        for <lucene-user@jakarta.apache.org>; Thu, 27 Jan 2005 17:25:04 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=hLsYEIw+whVpnGucwJYP1okrV7KN3N2qS0lvh2XZLp390aDCcRDSwOgPaZi8XMWEdNMW/YXFBGps3XT9szZzt4EZnGwnQVs1/KQehKQAfoGPjj2Rszmqmeg5uHBCu74HBkbXv7+/rRhDpPX57HJNC4dt3qqzALQnmTcrXrXkHWE=
Received: by 10.38.209.66 with SMTP id h66mr347014rng;
        Thu, 27 Jan 2005 17:25:04 -0800 (PST)
Received: by 10.38.104.58 with HTTP; Thu, 27 Jan 2005 17:25:04 -0800 (PST)
Message-ID: <88c6a67205012717256cf9695c@mail.gmail.com>
Date: Thu, 27 Jan 2005 19:25:04 -0600
From: Chris Lamprecht <clamprecht@gmail.com>
Reply-To: Chris Lamprecht <clamprecht@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Reloading an index
In-Reply-To: <20050127162830.9454.qmail@web51702.mail.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <20050127162830.9454.qmail@web51702.mail.yahoo.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I just ran into a similar issue.  When you close an IndexSearcher, it
doesn't necessarily close the underlying IndexReader.  It depends
which constructor you used to create the IndexSearcher.  See the
constructors javadocs or source for the details.

In my case, we were updating and optimizing the index from another
process, and reopening IndexSearchers.  We would eventually run out of
disk space because it was leaving open file handles to deleted files,
so the disk space was never being made available, until the JVM
processes ended.  If you're under linux, try running the 'lsof'
command to see if there are any handles to files marked "(deleted)".

-Chris

On Thu, 27 Jan 2005 08:28:30 -0800 (PST), Greg Gershman
<greggersh@yahoo.com> wrote:
> I have an index that is frequently updated.  When
> indexing is completed, an event triggers a new
> Searcher to be opened.  When the new Searcher is
> opened, incoming searches are redirected to the new
> Searcher, the old Searcher is closed and nulled, but I
> still see about twice the amount of memory in use well
> after the original searcher has been closed.   Is
> there something else I can do to get this memory
> reclaimed?  Should I explicitly call garbarge
> collection?  Any ideas?
> 
> Thanks.
> 
> Greg Gershman
> 
> __________________________________
> Do you Yahoo!?
> Meet the all-new My Yahoo! - Try it today!
> http://my.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12768-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 01:41:05 2005
Return-Path: <lucene-user-return-12768-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 501 invoked from network); 28 Jan 2005 01:41:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 01:41:05 -0000
Received: (qmail 37908 invoked by uid 500); 28 Jan 2005 01:40:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37886 invoked by uid 500); 28 Jan 2005 01:40:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37866 invoked by uid 99); 28 Jan 2005 01:40:56 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30210.mail.mud.yahoo.com (HELO web30210.mail.mud.yahoo.com) (68.142.200.93)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 27 Jan 2005 17:40:55 -0800
Received: (qmail 27882 invoked by uid 60001); 28 Jan 2005 01:40:53 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=mAEb8zFp+yF8MVECne8UR2+ZlZdotWcXT5GvbOh8AS+G48UukgcHxlchNTI6DnXlYBX86aCixI8p0EXsOLV9/y0/DlAYtw3vLRIWvo/i1LkpG1Y8hrW8y8LzRpvw+LfjIBdMgehkYzXmCWsZlRQj78rnH4iH8TE4aZDcS8E50yo=  ;
Message-ID: <20050128014053.27880.qmail@web30210.mail.mud.yahoo.com>
Received: from [69.201.139.168] by web30210.mail.mud.yahoo.com via HTTP; Thu, 27 Jan 2005 17:40:53 PST
Date: Thu, 27 Jan 2005 17:40:53 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: rackmount lucene/nutch - Re: google mini? who needs it when Lucene is there
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41F98470.7070606@tropo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I discuss this with myself a lot.... inside my head... :)
Seriously, I agree with Erik.  I think this is a business opportunity.
How many people are hating me now and going "shhhhhh"?  Raise your
hands!

Otis

--- David Spencer <dave-lucene-user@tropo.com> wrote:

> This reminds me, has anyone every discussed something similar:
> 
> - rackmount server ( or for coolness factor, that mini mac)
> - web i/f for config/control
> 
> - of course the server would have the following s/w:
> -- web server
> -- lucene / nutch
> 
> Part of the work here I think is having a decent web i/f to configure
> 
> the thing and to customize the L&F of the search results.
> 
> 
> 
> jian chen wrote:
> > Hi,
> > 
> > I was searching using google and just found that there was a new
> > feature called "google mini". Initially I thought it was another
> free
> > service for small companies. Then I realized that it costs quite
> some
> > money ($4,995) for the hardware and software. (I guess the
> proprietary
> > software costs a whole lot more than actual hardware.)
> > 
> > The "nice" feature is that, you can only index up to 50,000
> documents
> > with this price. If you need to index more, sorry, send in the
> > check...
> > 
> > It seems to me that any small biz will be ripped off if they
> install
> > this google mini thing, compared to using Lucene to implement a
> easy
> > to use search software, which could search up to whatever number of
> > documents you could image.
> > 
> > I hope the lucene project could get exposed more to the enterprise
> so
> > that people know that they have not only cheaper but more
> importantly,
> > BETTER alternatives.
> > 
> > Jian
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12769-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 01:43:53 2005
Return-Path: <lucene-user-return-12769-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3641 invoked from network); 28 Jan 2005 01:43:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 01:43:53 -0000
Received: (qmail 46664 invoked by uid 500); 28 Jan 2005 01:43:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46640 invoked by uid 500); 28 Jan 2005 01:43:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46624 invoked by uid 99); 28 Jan 2005 01:43:45 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30209.mail.mud.yahoo.com (HELO web30209.mail.mud.yahoo.com) (68.142.200.92)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 27 Jan 2005 17:43:43 -0800
Received: (qmail 67719 invoked by uid 60001); 28 Jan 2005 01:43:41 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=O/9+JrropztWrts9D/yej97RpZs3KY9bJMgT9VK9x6AYuNspTOZWpGu5/n1dzes/dVyktIkoGdPhNGcs2T5kEC4xclkjXYNDPBgWvQ+V1W8LJEZ1oAPcmW7twzN5mMTNcT7IdlAs0Wu5Uu1ELI2bD46SlfdXrNvTzL2B9Suey/w=  ;
Message-ID: <20050128014341.67717.qmail@web30209.mail.mud.yahoo.com>
Received: from [69.201.139.168] by web30209.mail.mud.yahoo.com via HTTP; Thu, 27 Jan 2005 17:43:41 PST
Date: Thu, 27 Jan 2005 17:43:41 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Disk space used by optimize
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B916C1@edumail2.education.tas.gov.au>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Have you tried using the multifile index format?  Now I wonder if there
is actually a difference in disk space cosumed by optimize() when you
use multifile and compound index format...

Otis

--- "Kauler, Leto S" <leto.kauler@education.tas.gov.au> wrote:

> Our copy of LIA is "in the mail" ;)
> 
> Yes the final three files are: the .cfs (46.8MB), deletable (4
> bytes),
> and segments (29 bytes).
> 
> --Leto
> 
> 
> 
> > -----Original Message-----
> > From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
> > 
> > Hello,
> > 
> > Yes, that is how optimize works - copies all existing index 
> > segments into one unified index segment, thus optimizing it.
> > 
> > see hit #1:
> http://www.lucenebook.com/search?query=optimize+disk+space
> > 
> > However, three times the space sounds a bit too much, or I 
> > make a mistake in the book. :)
> > 
> > You said you end up with 3 files - .cfs is one of them, right?
> > 
> > Otis
> > 
> > 
> > --- "Kauler, Leto S" <leto.kauler@education.tas.gov.au> wrote:
> > 
> > > 
> > > Just a quick question:  after writing an index and then calling 
> > > optimize(), is it normal for the index to expand to about 
> > three times 
> > > the size before finally compressing?
> > > 
> > > In our case the optimise grinds the disk, expanding the index
> into 
> > > many files of about 145MB total, before compressing down to three
> 
> > > files of about 47MB total.  That must be a lot of disk activity
> for 
> > > the people with multi-gigabyte indexes!
> > > 
> > > Regards,
> > > Leto
> 
> CONFIDENTIALITY NOTICE AND DISCLAIMER
> 
> Information in this transmission is intended only for the person(s)
> to whom it is addressed and may contain privileged and/or
> confidential information. If you are not the intended recipient, any
> disclosure, copying or dissemination of the information is
> unauthorised and you should delete/destroy all copies and notify the
> sender. No liability is accepted for any unauthorised use of the
> information contained in this transmission.
> 
> This disclaimer has been automatically added.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12770-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 01:45:13 2005
Return-Path: <lucene-user-return-12770-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4217 invoked from network); 28 Jan 2005 01:45:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 01:45:12 -0000
Received: (qmail 50496 invoked by uid 500); 28 Jan 2005 01:45:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50472 invoked by uid 500); 28 Jan 2005 01:45:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50459 invoked by uid 99); 28 Jan 2005 01:45:07 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30202.mail.mud.yahoo.com (HELO web30202.mail.mud.yahoo.com) (68.142.200.85)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 27 Jan 2005 17:45:06 -0800
Received: (qmail 64490 invoked by uid 60001); 28 Jan 2005 01:45:04 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=UqCpE0NYqP+iPVdfc8vO14lESNoe6Fv5LbI+XP3sZeRY58YhQBDx8ZN7TjyJuAlYFgabSlbLbxQ3lAGewgNTVdh6IzFhx/5jqKS9v73oaYaKDO+9DynW9mg/AJU4KtKKbUL0ZWrCTWL+hG8W80pgBfhKnXu51trFecAtS8OfoU0=  ;
Message-ID: <20050128014504.64488.qmail@web30202.mail.mud.yahoo.com>
Received: from [69.201.139.168] by web30202.mail.mud.yahoo.com via HTTP; Thu, 27 Jan 2005 17:45:03 PST
Date: Thu, 27 Jan 2005 17:45:03 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: google mini? who needs it when Lucene is there
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20050128000455.70878.qmail@web20323.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

500 times the original data?  Not true! :)

Otis

--- "Xiaohong Yang (Sharon)" <sharonxyang@yahoo.com> wrote:

> Hi,
>  
> I agree that Google mini is quite expensive.  It might be similar to
> the desktop version in quality.  Anyone knows google's ratio of index
> to text?   Is it true that Lucene's index is about 500 times the
> original text size (not including image size)?  I don't have one
> installed, so I cannot measure.
>  
> Best,
>  
> Sharon
> 
> jian chen <chenjian1227@gmail.com> wrote:
> Hi,
> 
> I was searching using google and just found that there was a new
> feature called "google mini". Initially I thought it was another free
> service for small companies. Then I realized that it costs quite some
> money ($4,995) for the hardware and software. (I guess the
> proprietary
> software costs a whole lot more than actual hardware.)
> 
> The "nice" feature is that, you can only index up to 50,000 documents
> with this price. If you need to index more, sorry, send in the
> check...
> 
> It seems to me that any small biz will be ripped off if they install
> this google mini thing, compared to using Lucene to implement a easy
> to use search software, which could search up to whatever number of
> documents you could image.
> 
> I hope the lucene project could get exposed more to the enterprise so
> that people know that they have not only cheaper but more
> importantly,
> BETTER alternatives.
> 
> Jian
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12771-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 01:48:42 2005
Return-Path: <lucene-user-return-12771-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5701 invoked from network); 28 Jan 2005 01:48:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 01:48:41 -0000
Received: (qmail 53432 invoked by uid 500); 28 Jan 2005 01:48:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53407 invoked by uid 500); 28 Jan 2005 01:48:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53394 invoked by uid 99); 28 Jan 2005 01:48:36 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 17:48:34 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 3EBF85B782; Thu, 27 Jan 2005 17:48:32 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 3C15B7F459
	for <lucene-user@jakarta.apache.org>; Thu, 27 Jan 2005 17:48:32 -0800 (PST)
Date: Thu, 27 Jan 2005 17:48:32 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Reloading an index
In-Reply-To: <88c6a67205012717256cf9695c@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0501271738220.23612@hal.rescomp.berkeley.edu>
References: <20050127162830.9454.qmail@web51702.mail.yahoo.com>
 <88c6a67205012717256cf9695c@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


: processes ended.  If you're under linux, try running the 'lsof'
: command to see if there are any handles to files marked "(deleted)".

: > Searcher, the old Searcher is closed and nulled, but I
: > still see about twice the amount of memory in use well
: > after the original searcher has been closed.   Is
: > there something else I can do to get this memory
: > reclaimed?  Should I explicitly call garbarge
: > collection?  Any ideas?

In addition to the previous advice, keep in mind that depending on the
implimentation of your JVM, it may never actually "free" memory back to
the OS.  And even the JVMs that can, only do it after a GC which results
in a ratio of unused/used memory that they deem worthy of freeing (usually
based on tunning parameters)

assuming you are using a Sun JVM, take a look at...

http://java.sun.com/docs/hotspot/gc1.4.2/index.html

...and search for MinHeapFreeRatio and MaxHeapFreeRatio


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12772-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 02:06:01 2005
Return-Path: <lucene-user-return-12772-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13536 invoked from network); 28 Jan 2005 02:06:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 02:06:00 -0000
Received: (qmail 85605 invoked by uid 500); 28 Jan 2005 02:05:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85586 invoked by uid 500); 28 Jan 2005 02:05:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85573 invoked by uid 99); 28 Jan 2005 02:05:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of clamprecht@gmail.com designates 64.233.170.201 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.201)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 18:05:53 -0800
Received: by rproxy.gmail.com with SMTP id z35so345730rne
        for <lucene-user@jakarta.apache.org>; Thu, 27 Jan 2005 18:05:52 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=a5axySBOhN/ok016ZlQq6GMVY2TTulcIF+mhIcW/p5TlafrLR6J22yKli4F4G7CN315enU5xtSwbp8V8DcqXVBTpEgR50Jeje707eyB8+F8tAMvrcTUe3nWt75jXcbE9+354/n3GX0YrfGZqF2Z0GDdxhUHG28KBzjmB34RSp5A=
Received: by 10.38.89.18 with SMTP id m18mr95461rnb;
        Thu, 27 Jan 2005 18:05:52 -0800 (PST)
Received: by 10.38.104.58 with HTTP; Thu, 27 Jan 2005 18:05:52 -0800 (PST)
Message-ID: <88c6a67205012718054be961de@mail.gmail.com>
Date: Thu, 27 Jan 2005 20:05:52 -0600
From: Chris Lamprecht <clamprecht@gmail.com>
Reply-To: Chris Lamprecht <clamprecht@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: rackmount lucene/nutch - Re: google mini? who needs it when Lucene is there
In-Reply-To: <20050128014053.27880.qmail@web30210.mail.mud.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <41F98470.7070606@tropo.com>
	 <20050128014053.27880.qmail@web30210.mail.mud.yahoo.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

As they say, nothing lasts forever ;)

I like the idea.  If a project like this gets going, I think I'd be
interested in helping.

The Google mini looks very well done (they have two demos on the web
page).  For $5000, it's probably a very good solution for many
businesses.  If the demos are accurate, it seems like you almost
literally plug it in, configure a few things using the web interface,
and you're in business.   Demos are at
http://www.google.com/enterprise/mini/product_tours_demos.html

-chris

On Thu, 27 Jan 2005 17:40:53 -0800 (PST), Otis Gospodnetic
<otis_gospodnetic@yahoo.com> wrote:
> I discuss this with myself a lot.... inside my head... :)
> Seriously, I agree with Erik.  I think this is a business opportunity.
> How many people are hating me now and going "shhhhhh"?  Raise your
> hands!
> 
> Otis
> 
> --- David Spencer <dave-lucene-user@tropo.com> wrote:
> 
> > This reminds me, has anyone every discussed something similar:
> >
> > - rackmount server ( or for coolness factor, that mini mac)
> > - web i/f for config/control
> >
> > - of course the server would have the following s/w:
> > -- web server
> > -- lucene / nutch
> >
> > Part of the work here I think is having a decent web i/f to configure
> >
> > the thing and to customize the L&F of the search results.
> >
> >
> >
> > jian chen wrote:
> > > Hi,
> > >
> > > I was searching using google and just found that there was a new
> > > feature called "google mini". Initially I thought it was another
> > free
> > > service for small companies. Then I realized that it costs quite
> > some
> > > money ($4,995) for the hardware and software. (I guess the
> > proprietary
> > > software costs a whole lot more than actual hardware.)
> > >
> > > The "nice" feature is that, you can only index up to 50,000
> > documents
> > > with this price. If you need to index more, sorry, send in the
> > > check...
> > >
> > > It seems to me that any small biz will be ripped off if they
> > install
> > > this google mini thing, compared to using Lucene to implement a
> > easy
> > > to use search software, which could search up to whatever number of
> > > documents you could image.
> > >
> > > I hope the lucene project could get exposed more to the enterprise
> > so
> > > that people know that they have not only cheaper but more
> > importantly,
> > > BETTER alternatives.
> > >
> > > Jian
> > >
> > >
> > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12773-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 02:08:25 2005
Return-Path: <lucene-user-return-12773-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14636 invoked from network); 28 Jan 2005 02:08:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 02:08:25 -0000
Received: (qmail 88215 invoked by uid 500); 28 Jan 2005 02:08:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88194 invoked by uid 500); 28 Jan 2005 02:08:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88181 invoked by uid 99); 28 Jan 2005 02:08:20 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jasonpolites@tpg.com.au designates 203.12.160.101 as permitted sender)
Received: from mail5.tpgi.com.au (HELO mail.tpgi.com.au) (203.12.160.101)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 18:08:18 -0800
Received: from MINOS (CPE-61-9-143-85.vic.bigpond.net.au [61.9.143.85])
	(authenticated bits=0)
	by mail.tpgi.com.au (8.12.10/8.12.10) with ESMTP id j0S28EKL024424
	for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 13:08:14 +1100
Message-ID: <002e01c504de$39db6ea0$6400a8c0@everymail.com.au>
Reply-To: "Jason Polites" <jason.polites@everymail.com.au>
From: "Jason Polites" <jasonpolites@tpg.com.au>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20050128014053.27880.qmail@web30210.mail.mud.yahoo.com>
Subject: Re: rackmount lucene/nutch - Re: google mini? who needs it when Lucene is there
Date: Fri, 28 Jan 2005 13:08:14 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-TPG-Antivirus: Passed
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think everyone agrees that this would be a very neat application of 
opensource technology like Lucene... however (opens drawer, pulls out 
devil's advocate hat, places on head)... there are several complexities here 
not addressed by Lucene (et. al).  Not because Lucene isn't damn fantastic, 
just because it's not its job.

One of the big ones is security.  Enterprise search is no good if it doesn't 
match up with the authentication and authorization paradigms existing in the 
organisation.  How useful is it to return a whole bunch of search results 
for documents to which you don't have access? Not to mention the issues 
around whether you are even authorized to know it exists.

The other prickly one is file types.  It's all well and good to index HTML, 
XML and text but when you start looking at PDF, MS Office (OLE docs, PSTs, 
Outlook MSG files, MS Project files etc), Lotus Notes databases etc etc, 
things begin to look less simple and far less elegant than a nice clean 
lucene rackmount.  Sure there are great projects like Apache POI but they 
are still have a bit of a way to go before they mature to a point of really 
solving these problems.  After which time Microsoft will probably be rolling 
out Longhorn and everyone may need to start from scratch.

This is not to say that it's not a great idea, but as with most great ideas 
the challenge is not the formation of the idea, but its implementation.

I think a great first step would be to start developing good, reliable, 
opensource extensions to Lucene which strive to solve some of these issues.

end rant.

----- Original Message ----- 
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, January 28, 2005 12:40 PM
Subject: Re: rackmount lucene/nutch - Re: google mini? who needs it when 
Lucene is there


>I discuss this with myself a lot.... inside my head... :)
> Seriously, I agree with Erik.  I think this is a business opportunity.
> How many people are hating me now and going "shhhhhh"?  Raise your
> hands!
>
> Otis
>
> --- David Spencer <dave-lucene-user@tropo.com> wrote:
>
>> This reminds me, has anyone every discussed something similar:
>>
>> - rackmount server ( or for coolness factor, that mini mac)
>> - web i/f for config/control
>>
>> - of course the server would have the following s/w:
>> -- web server
>> -- lucene / nutch
>>
>> Part of the work here I think is having a decent web i/f to configure
>>
>> the thing and to customize the L&F of the search results.
>>
>>
>>
>> jian chen wrote:
>> > Hi,
>> >
>> > I was searching using google and just found that there was a new
>> > feature called "google mini". Initially I thought it was another
>> free
>> > service for small companies. Then I realized that it costs quite
>> some
>> > money ($4,995) for the hardware and software. (I guess the
>> proprietary
>> > software costs a whole lot more than actual hardware.)
>> >
>> > The "nice" feature is that, you can only index up to 50,000
>> documents
>> > with this price. If you need to index more, sorry, send in the
>> > check...
>> >
>> > It seems to me that any small biz will be ripped off if they
>> install
>> > this google mini thing, compared to using Lucene to implement a
>> easy
>> > to use search software, which could search up to whatever number of
>> > documents you could image.
>> >
>> > I hope the lucene project could get exposed more to the enterprise
>> so
>> > that people know that they have not only cheaper but more
>> importantly,
>> > BETTER alternatives.
>> >
>> > Jian
>> >
>> >
>> ---------------------------------------------------------------------
>> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> > For additional commands, e-mail:
>> lucene-user-help@jakarta.apache.org
>> >
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12774-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 02:10:24 2005
Return-Path: <lucene-user-return-12774-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15256 invoked from network); 28 Jan 2005 02:10:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 02:10:24 -0000
Received: (qmail 90870 invoked by uid 500); 28 Jan 2005 02:10:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90844 invoked by uid 500); 28 Jan 2005 02:10:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90828 invoked by uid 99); 28 Jan 2005 02:10:18 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from lakermmtao03.cox.net (HELO lakermmtao03.cox.net) (68.230.240.36)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 18:10:17 -0800
Received: from smtp.east.cox.net ([172.18.52.51]) by lakermmtao03.cox.net
          (InterMail vM.6.01.04.00 201-2131-117-20041022) with SMTP
          id <20050128021011.PICW2250.lakermmtao03.cox.net@smtp.east.cox.net>
          for <lucene-user@jakarta.apache.org>;
          Thu, 27 Jan 2005 21:10:11 -0500
X-Mailer: Openwave WebEngine, version 2.8.15 (webedge20-101-1103-20040528)
From: <akedar@cox.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,"Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Re: LuceneReader.delete (term t) Failure ?
Date: Thu, 27 Jan 2005 21:10:12 -0500
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Message-Id: <20050128021011.PICW2250.lakermmtao03.cox.net@smtp.east.cox.net>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik,

I am using the keyword field 
	doc.add(Field.Keyword("uid", pathRelToArea));
anything else I can check on ?

thanks
atul 

PS we worked together for Darden project 


> 
> From: Erik Hatcher <erik@ehatchersolutions.com>
> Date: 2005/01/27 Thu PM 07:46:40 EST
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Subject: Re: LuceneReader.delete (term t) Failure ?
> 
> How did you index the "uid" field?  Field.Keyword?  If not, that may be 
> the problem in that the field was analyzed.  For a key field like this, 
> it needs to be unanalyzed/untokenized.
> 
> 	Erik
> 
> On Jan 27, 2005, at 6:21 PM, <akedar@cox.net> wrote:
> 
> > Hi,
> >
> > I am trying to delete a document from Lucene index using:
> >
> >      Term aTerm = new Term( "uid", path );
> >      aReader.delete( aTerm );
> >      aReader.close();
> >
> > If the variable path="xxx/foo.txt" then I am able to delete the 
> > document.
> >
> > However, if path variable has "-" in the string, the delete method 
> > does not work
> >
> >   e.g. path="xxx-yyy/foo.txt"  // Does Not work!!
> >
> >
> > Can I get around this problem.  I cannot subsitute minus character 
> > with '.' as
> > it has other implications.
> >
> > is this a bug ? I am using Lucene 1.4-final version.
> >
> > Thanks for the help
> > Atul
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12775-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 02:36:32 2005
Return-Path: <lucene-user-return-12775-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39164 invoked from network); 28 Jan 2005 02:36:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 02:36:32 -0000
Received: (qmail 36982 invoked by uid 500); 28 Jan 2005 02:36:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36934 invoked by uid 500); 28 Jan 2005 02:36:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36920 invoked by uid 99); 28 Jan 2005 02:36:25 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork8.mail.Virginia.EDU (HELO fork8.mail.virginia.edu) (128.143.2.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 18:36:23 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork8.mail.virginia.edu (Postfix) with ESMTP id D07A01F54B2
	for <lucene-user@jakarta.apache.org>; Thu, 27 Jan 2005 21:36:20 -0500 (EST)
Received: from fork8.mail.virginia.edu ([127.0.0.1])
 by localhost (fork8.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 24918-05 for <lucene-user@jakarta.apache.org>;
 Thu, 27 Jan 2005 21:36:20 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by fork8.mail.virginia.edu (Postfix) with ESMTP id 7F7C61F5489
	for <lucene-user@jakarta.apache.org>; Thu, 27 Jan 2005 21:36:20 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <20050128021011.PICW2250.lakermmtao03.cox.net@smtp.east.cox.net>
References: <20050128021011.PICW2250.lakermmtao03.cox.net@smtp.east.cox.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <1537e5fcdc565f1c023905c3890d5d66@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: LuceneReader.delete (term t) Failure ?
Date: Thu, 27 Jan 2005 21:36:18 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork8.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Could you work up a self-contained RAMDirectory-using example that 
demonstrates this issue?

	Erik

On Jan 27, 2005, at 9:10 PM, <akedar@cox.net> wrote:

> Erik,
>
> I am using the keyword field
> 	doc.add(Field.Keyword("uid", pathRelToArea));
> anything else I can check on ?
>
> thanks
> atul
>
> PS we worked together for Darden project
>
>
>>
>> From: Erik Hatcher <erik@ehatchersolutions.com>
>> Date: 2005/01/27 Thu PM 07:46:40 EST
>> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>> Subject: Re: LuceneReader.delete (term t) Failure ?
>>
>> How did you index the "uid" field?  Field.Keyword?  If not, that may 
>> be
>> the problem in that the field was analyzed.  For a key field like 
>> this,
>> it needs to be unanalyzed/untokenized.
>>
>> 	Erik
>>
>> On Jan 27, 2005, at 6:21 PM, <akedar@cox.net> wrote:
>>
>>> Hi,
>>>
>>> I am trying to delete a document from Lucene index using:
>>>
>>>      Term aTerm = new Term( "uid", path );
>>>      aReader.delete( aTerm );
>>>      aReader.close();
>>>
>>> If the variable path="xxx/foo.txt" then I am able to delete the
>>> document.
>>>
>>> However, if path variable has "-" in the string, the delete method
>>> does not work
>>>
>>>   e.g. path="xxx-yyy/foo.txt"  // Does Not work!!
>>>
>>>
>>> Can I get around this problem.  I cannot subsitute minus character
>>> with '.' as
>>> it has other implications.
>>>
>>> is this a bug ? I am using Lucene 1.4-final version.
>>>
>>> Thanks for the help
>>> Atul
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12776-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 03:24:11 2005
Return-Path: <lucene-user-return-12776-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55795 invoked from network); 28 Jan 2005 03:24:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 03:24:11 -0000
Received: (qmail 91491 invoked by uid 500); 28 Jan 2005 03:24:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91220 invoked by uid 500); 28 Jan 2005 03:24:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91206 invoked by uid 99); 28 Jan 2005 03:24:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from rimp1.nist.gov (HELO smtp.nist.gov) (129.6.16.226)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 19:24:05 -0800
Received: from real1.localdomain ([192.168.2.10])
	by smtp.nist.gov (8.12.10/8.12.10) with ESMTP id j0S3O0c5011092
	for <lucene-user@jakarta.apache.org>; Thu, 27 Jan 2005 22:24:00 -0500
Received: from real1.localdomain (real1.localdomain [127.0.0.1])
	by real1.localdomain (8.12.8/8.12.8) with ESMTP id j0S3O0Af017879
	for <lucene-user@jakarta.apache.org>; Thu, 27 Jan 2005 22:24:00 -0500
Received: (from apache@localhost)
	by real1.localdomain (8.12.8/8.12.8/Submit) id j0S3O0FJ017877
	for lucene-user@jakarta.apache.org; Thu, 27 Jan 2005 22:24:00 -0500
Received: from pool-138-88-137-122.esr.east.verizon.net (pool-138-88-137-122.esr.east.verizon.net [138.88.137.122]) 
	by webmail.nist.gov (IMP) with HTTP 
	for <jlasko@localhost>; Thu, 27 Jan 2005 22:24:00 -0500
Message-ID: <1106882640.41f9b050a561e@webmail.nist.gov>
Date: Thu, 27 Jan 2005 22:24:00 -0500
From: Jonathan Lasko <jonathan.lasko@nist.gov>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: query term frequency
References: <41F96ACE.5010309@nist.gov> <41F96D92.8090106@tropo.com>
In-Reply-To: <41F96D92.8090106@tropo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.2.1
X-Originating-IP: 138.88.137.122
X-NIST-MailScanner: Found to be clean
X-MailScanner-From: jonathan.lasko@nist.gov
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

No, the number of occurrences of a term in a Query.

Jonathan

Quoting David Spencer <dave-lucene-user@tropo.com>:

> Jonathan Lasko wrote:
> 
> > What do I call to get the term frequencies for terms in the Query?  I 
> > can't seem to find it in the Javadoc...
> 
> Do you mean the # of docs that have a term?
> 
>
http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexReader.html#docFreq(org.apache.lucene.index.Term)
> > Thanks.
> > 
> > Jonathan
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12777-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 04:06:08 2005
Return-Path: <lucene-user-return-12777-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71351 invoked from network); 28 Jan 2005 04:06:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 04:06:08 -0000
Received: (qmail 54327 invoked by uid 500); 28 Jan 2005 04:06:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54305 invoked by uid 500); 28 Jan 2005 04:06:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54291 invoked by uid 99); 28 Jan 2005 04:06:03 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of chenjian1227@gmail.com designates 64.233.170.198 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 20:06:02 -0800
Received: by rproxy.gmail.com with SMTP id 40so287720rnz
        for <lucene-user@jakarta.apache.org>; Thu, 27 Jan 2005 20:06:00 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=chi53Xgosyac0sdN8LLyMR/pL9mNwf0IvmquACHxkk4ZiDYsOYhnyoMliikQacAim+J7G3MiJxYztomGML/t6uZ8OCDAEeeW/5g5W3esPjiVLN+xcel0AObpOjgpczAJA6QgXs/rA0zYtOm44Oa+jE3Rh6U0wFTqmsTV2i4vdWc=
Received: by 10.38.206.57 with SMTP id d57mr111432rng;
        Thu, 27 Jan 2005 20:06:00 -0800 (PST)
Received: by 10.38.8.15 with HTTP; Thu, 27 Jan 2005 20:06:00 -0800 (PST)
Message-ID: <7ca1239105012720063fae9b6c@mail.gmail.com>
Date: Thu, 27 Jan 2005 20:06:00 -0800
From: jian chen <chenjian1227@gmail.com>
Reply-To: jian chen <chenjian1227@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: google mini? who needs it when Lucene is there
In-Reply-To: <20050128014504.64488.qmail@web30202.mail.mud.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <20050128000455.70878.qmail@web20323.mail.yahoo.com>
	 <20050128014504.64488.qmail@web30202.mail.mud.yahoo.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Overall, even if google mini gives a lot of cool features compared to
a bare-born lucene project, what is good with the 50,000 documents
limit. It is useless with that limit. That is just their way of trying
to turn it into another cash cow.

Jian


On Thu, 27 Jan 2005 17:45:03 -0800 (PST), Otis Gospodnetic
<otis_gospodnetic@yahoo.com> wrote:
> 500 times the original data?  Not true! :)
> 
> Otis
> 
> --- "Xiaohong Yang (Sharon)" <sharonxyang@yahoo.com> wrote:
> 
> > Hi,
> >
> > I agree that Google mini is quite expensive.  It might be similar to
> > the desktop version in quality.  Anyone knows google's ratio of index
> > to text?   Is it true that Lucene's index is about 500 times the
> > original text size (not including image size)?  I don't have one
> > installed, so I cannot measure.
> >
> > Best,
> >
> > Sharon
> >
> > jian chen <chenjian1227@gmail.com> wrote:
> > Hi,
> >
> > I was searching using google and just found that there was a new
> > feature called "google mini". Initially I thought it was another free
> > service for small companies. Then I realized that it costs quite some
> > money ($4,995) for the hardware and software. (I guess the
> > proprietary
> > software costs a whole lot more than actual hardware.)
> >
> > The "nice" feature is that, you can only index up to 50,000 documents
> > with this price. If you need to index more, sorry, send in the
> > check...
> >
> > It seems to me that any small biz will be ripped off if they install
> > this google mini thing, compared to using Lucene to implement a easy
> > to use search software, which could search up to whatever number of
> > documents you could image.
> >
> > I hope the lucene project could get exposed more to the enterprise so
> > that people know that they have not only cheaper but more
> > importantly,
> > BETTER alternatives.
> >
> > Jian
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12778-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 06:02:22 2005
Return-Path: <lucene-user-return-12778-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19675 invoked from network); 28 Jan 2005 06:02:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 06:02:22 -0000
Received: (qmail 5711 invoked by uid 500); 28 Jan 2005 06:02:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5691 invoked by uid 500); 28 Jan 2005 06:02:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5672 invoked by uid 99); 28 Jan 2005 06:02:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 22:02:14 -0800
Received: (qmail 13457 invoked by uid 532); 28 Jan 2005 06:00:30 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.410081 secs); 28 Jan 2005 06:00:30 -0000
Received: from unknown (HELO ?172.31.1.2?) (127.0.0.1)
  by 0 with SMTP; 28 Jan 2005 06:00:30 -0000
Message-ID: <41F9D563.7010706@tropo.com>
Date: Thu, 27 Jan 2005 22:02:11 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041217
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: rackmount lucene/nutch - Re: google mini? who needs it when Lucene
 is there
References: <20050128014053.27880.qmail@web30210.mail.mud.yahoo.com> <002e01c504de$39db6ea0$6400a8c0@everymail.com.au>
In-Reply-To: <002e01c504de$39db6ea0$6400a8c0@everymail.com.au>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Jason Polites wrote:

> I think everyone agrees that this would be a very neat application of 
> opensource technology like Lucene... however (opens drawer, pulls out 
> devil's advocate hat, places on head)... there are several complexities 
> here not addressed by Lucene (et. al).  Not because Lucene isn't damn 
> fantastic, just because it's not its job.
> 
> One of the big ones is security.  Enterprise search is no good if it 
> doesn't match up with the authentication and authorization paradigms 
> existing in the organisation.  How useful is it to return a whole bunch 
> of search results for documents to which you don't have access? Not to 
> mention the issues around whether you are even authorized to know it 
> exists.

I was gonna mention this - you beat me to the punch.  I suspect that 
LDAP/JNDI itegration is a start, but you need hooks for an arbitrary 
auth plugin. And once we address this it might be the case that a user 
has to *log in* to the search server.  We have Verity where I work and 
this is all the case, along w/ the fact that a sale seems to involve 
mandatory consulting work (not that that's bad, but if you're trying to 
ship a shrink wrapped search engine in a box then this is an issue).

> 
> The other prickly one is file types.  It's all well and good to index 
> HTML, XML and text but when you start looking at PDF, MS Office (OLE 
> docs, PSTs, Outlook MSG files, MS Project files etc), Lotus Notes 
> databases etc etc, things begin to look less simple and far less elegant 
> than a nice clean lucene rackmount.  Sure there are great projects like 
> Apache POI but they are still have a bit of a way to go before they 
> mature to a point of really solving these problems.  After which time 
> Microsoft will probably be rolling out Longhorn and everyone may need to 
> start from scratch.

Also need http://jcifs.samba.org/ so you can spider windows file shares.

> 
> This is not to say that it's not a great idea, but as with most great 
> ideas the challenge is not the formation of the idea, but its 
> implementation.

Indeed.

> 
> I think a great first step would be to start developing good, reliable, 
> opensource extensions to Lucene which strive to solve some of these issues.
> 
> end rant.
> 
> ----- Original Message ----- From: "Otis Gospodnetic" 
> <otis_gospodnetic@yahoo.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Friday, January 28, 2005 12:40 PM
> Subject: Re: rackmount lucene/nutch - Re: google mini? who needs it when 
> Lucene is there
> 
> 
>> I discuss this with myself a lot.... inside my head... :)
>> Seriously, I agree with Erik.  I think this is a business opportunity.
>> How many people are hating me now and going "shhhhhh"?  Raise your
>> hands!
>>
>> Otis
>>
>> --- David Spencer <dave-lucene-user@tropo.com> wrote:
>>
>>> This reminds me, has anyone every discussed something similar:
>>>
>>> - rackmount server ( or for coolness factor, that mini mac)
>>> - web i/f for config/control
>>>
>>> - of course the server would have the following s/w:
>>> -- web server
>>> -- lucene / nutch
>>>
>>> Part of the work here I think is having a decent web i/f to configure
>>>
>>> the thing and to customize the L&F of the search results.
>>>
>>>
>>>
>>> jian chen wrote:
>>> > Hi,
>>> >
>>> > I was searching using google and just found that there was a new
>>> > feature called "google mini". Initially I thought it was another
>>> free
>>> > service for small companies. Then I realized that it costs quite
>>> some
>>> > money ($4,995) for the hardware and software. (I guess the
>>> proprietary
>>> > software costs a whole lot more than actual hardware.)
>>> >
>>> > The "nice" feature is that, you can only index up to 50,000
>>> documents
>>> > with this price. If you need to index more, sorry, send in the
>>> > check...
>>> >
>>> > It seems to me that any small biz will be ripped off if they
>>> install
>>> > this google mini thing, compared to using Lucene to implement a
>>> easy
>>> > to use search software, which could search up to whatever number of
>>> > documents you could image.
>>> >
>>> > I hope the lucene project could get exposed more to the enterprise
>>> so
>>> > that people know that they have not only cheaper but more
>>> importantly,
>>> > BETTER alternatives.
>>> >
>>> > Jian
>>> >
>>> >
>>> ---------------------------------------------------------------------
>>> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>> > For additional commands, e-mail:
>>> lucene-user-help@jakarta.apache.org
>>> >
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12779-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 06:08:15 2005
Return-Path: <lucene-user-return-12779-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22639 invoked from network); 28 Jan 2005 06:08:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 06:08:15 -0000
Received: (qmail 13072 invoked by uid 500); 28 Jan 2005 06:08:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12218 invoked by uid 500); 28 Jan 2005 06:08:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12204 invoked by uid 99); 28 Jan 2005 06:08:11 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of newreaders@gmail.com designates 64.233.184.197 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.197)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 22:08:11 -0800
Received: by wproxy.gmail.com with SMTP id 71so472852wri
        for <lucene-user@jakarta.apache.org>; Thu, 27 Jan 2005 22:08:09 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=YbsH1bWbWYbAg68HRXl/298dTY2KF3QGHvf1md1Yu1FM2YTu8Kr6HwtK0WkfEIWGaI+rddnpDKgKxE9z50oTAlWGCVwn0i2bNpZJYVdKUxyDnPO3hRMXhzsXDL0heFo05MMWc5bujpIe3D4m8K8IUVmJZyDAXgalgJrQsp959CE=
Received: by 10.54.38.67 with SMTP id l67mr418516wrl;
        Thu, 27 Jan 2005 22:08:09 -0800 (PST)
Received: by 10.54.23.39 with HTTP; Thu, 27 Jan 2005 22:08:09 -0800 (PST)
Message-ID: <5f4a646105012722082af3ab4f@mail.gmail.com>
Date: Fri, 28 Jan 2005 17:08:09 +1100
From: Ben <newreaders@gmail.com>
Reply-To: Ben <newreaders@gmail.com>
To: Lucene <lucene-user@jakarta.apache.org>
Subject: Search results excerpt similar to Google
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

Is it hard to implement a function that displays the search results
excerpts similar to Google?

Is it just string manipulations or there are some logic behind it? I
like their excerpts.

Thanks

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12780-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 06:09:34 2005
Return-Path: <lucene-user-return-12780-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23281 invoked from network); 28 Jan 2005 06:09:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 06:09:33 -0000
Received: (qmail 14597 invoked by uid 500); 28 Jan 2005 06:09:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14565 invoked by uid 500); 28 Jan 2005 06:09:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14551 invoked by uid 99); 28 Jan 2005 06:09:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 22:09:26 -0800
Received: (qmail 13711 invoked by uid 532); 28 Jan 2005 06:07:42 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.213257 secs); 28 Jan 2005 06:07:42 -0000
Received: from unknown (HELO ?172.31.1.2?) (127.0.0.1)
  by 0 with SMTP; 28 Jan 2005 06:07:42 -0000
Message-ID: <41F9D713.1070406@tropo.com>
Date: Thu, 27 Jan 2005 22:09:23 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041217
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
CC: jian chen <chenjian1227@gmail.com>
Subject: Re: google mini? who needs it when Lucene is there
References: <20050128000455.70878.qmail@web20323.mail.yahoo.com>
In-Reply-To: <20050128000455.70878.qmail@web20323.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Xiaohong Yang (Sharon) wrote:

> Hi,
>  
> I agree that Google mini is quite expensive.  It might be similar to the desktop version in quality.  Anyone knows google's ratio of index to text?   Is it true that Lucene's index is about 500 times the original text size (not including image size)?  I don't have one installed, so I cannot measure.

500:1 for Lucene?  I don't think so.
In my wikipedia search engine the data in the MySQL DB I index from is 
approx 1.0 GB (sum of lengths of title and body), while the Lucene index 
of just these 2 fields is 250MB, thus in this case the Lucene index is 
25% of the corpus size.


>  
> Best,
>  
> Sharon
> 
> jian chen <chenjian1227@gmail.com> wrote:
> Hi,
> 
> I was searching using google and just found that there was a new
> feature called "google mini". Initially I thought it was another free
> service for small companies. Then I realized that it costs quite some
> money ($4,995) for the hardware and software. (I guess the proprietary
> software costs a whole lot more than actual hardware.)
> 
> The "nice" feature is that, you can only index up to 50,000 documents
> with this price. If you need to index more, sorry, send in the
> check...
> 
> It seems to me that any small biz will be ripped off if they install
> this google mini thing, compared to using Lucene to implement a easy
> to use search software, which could search up to whatever number of
> documents you could image.
> 
> I hope the lucene project could get exposed more to the enterprise so
> that people know that they have not only cheaper but more importantly,
> BETTER alternatives.
> 
> Jian
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12781-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 06:46:54 2005
Return-Path: <lucene-user-return-12781-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39775 invoked from network); 28 Jan 2005 06:46:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 06:46:53 -0000
Received: (qmail 60578 invoked by uid 500); 28 Jan 2005 06:46:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60346 invoked by uid 500); 28 Jan 2005 06:46:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60331 invoked by uid 99); 28 Jan 2005 06:46:48 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jasonpolites@tpg.com.au designates 203.12.160.103 as permitted sender)
Received: from mail7.tpgi.com.au (HELO mail.tpgi.com.au) (203.12.160.103)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 27 Jan 2005 22:46:47 -0800
Received: from MINOS (CPE-61-9-143-85.vic.bigpond.net.au [61.9.143.85])
	(authenticated bits=0)
	by mail.tpgi.com.au (8.12.10/8.12.10) with ESMTP id j0S6keuF026632;
	Fri, 28 Jan 2005 17:46:41 +1100
Message-ID: <006001c50505$203f6c90$6400a8c0@everymail.com.au>
Reply-To: "Jason Polites" <jason.polites@everymail.com.au>
From: "Jason Polites" <jasonpolites@tpg.com.au>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
        "Ben" <newreaders@gmail.com>
References: <5f4a646105012722082af3ab4f@mail.gmail.com>
Subject: Re: Search results excerpt similar to Google
Date: Fri, 28 Jan 2005 17:46:41 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-TPG-Antivirus: Passed
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think they do a proximity result based on keyword matches.  So... If you 
search for "lucene" and the document returned has this word at the very 
start and the very end of the document, then you will see the two sentences 
(sequences of words) surrounding the two keyword matches, one from the start 
of the document and one from the end.

How you determine which words from the result you include in the summary is 
up to you.  The problem with this it that in Lucene-land you have to store 
the content of the document inside in index verbatim (so you can get 
arbitrary portions of it out).  This means your index will be larger than it 
really needs to be.

I usually just store the first 255 characters in the index and use this as a 
summary.  It's not as good as Google, but it seems to work ok.

----- Original Message ----- 
From: "Ben" <newreaders@gmail.com>
To: "Lucene" <lucene-user@jakarta.apache.org>
Sent: Friday, January 28, 2005 5:08 PM
Subject: Search results excerpt similar to Google


> Hi
>
> Is it hard to implement a function that displays the search results
> excerpts similar to Google?
>
> Is it just string manipulations or there are some logic behind it? I
> like their excerpts.
>
> Thanks
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12782-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 08:15:56 2005
Return-Path: <lucene-user-return-12782-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99177 invoked from network); 28 Jan 2005 08:15:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 08:15:55 -0000
Received: (qmail 78519 invoked by uid 500); 28 Jan 2005 08:15:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78495 invoked by uid 500); 28 Jan 2005 08:15:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78481 invoked by uid 99); 28 Jan 2005 08:15:48 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 28 Jan 2005 00:15:47 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id 8957A23BCA
	for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 09:16:05 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 10021-01 for <lucene-user@jakarta.apache.org>;
 Fri, 28 Jan 2005 09:16:05 +0100 (CET)
Received: from tucholsky.office.tanto.de (tucholsky.office.tanto.de [10.0.0.35])
	by mail.tanto.de (Postfix) with ESMTP id 5698B23B8E
	for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 09:16:05 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) with ESMTP id j0S8Fh72020139
	for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 09:15:43 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) id j0S8Fhgf020135;
	Fri, 28 Jan 2005 09:15:43 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16889.62639.629816.504392@tanto-xipolis.de>
Date: Fri, 28 Jan 2005 09:15:43 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Disk space used by optimize
In-Reply-To: <20050127235250.11133.qmail@web30202.mail.mud.yahoo.com>
References: <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B916C0@edumail2.education.tas.gov.au>
	<20050127235250.11133.qmail@web30202.mail.mud.yahoo.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis Gospodnetic writes:
> Hello,
> 
> Yes, that is how optimize works - copies all existing index segments
> into one unified index segment, thus optimizing it.
> 
> see hit #1: http://www.lucenebook.com/search?query=optimize+disk+space
> 
> However, three times the space sounds a bit too much, or I make a
> mistake in the book. :)
> 
I cannot explain why, but ~ three times the size of the final index is
what I observed, when I logged disk usage during optimize of an index
in compound index format.
The test was on linux, I simply did a 'du -s' every few seconds parallel 
to the optimize.
I didn't test noncompund format. Probably optimizing a compund format
requires to store the different parts of the compound file separately
before joining them to the compound file (sound reasonable, otherwise
you would need to know the sizes before creating the parts). In that case 
you had the original index, the separate files and the new compound file 
as the disk usage peak.

So IMHO the book is wrong.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12783-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 09:09:34 2005
Return-Path: <lucene-user-return-12783-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40416 invoked from network); 28 Jan 2005 09:09:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 09:09:34 -0000
Received: (qmail 89150 invoked by uid 500); 28 Jan 2005 09:09:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89131 invoked by uid 500); 28 Jan 2005 09:09:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89117 invoked by uid 99); 28 Jan 2005 09:09:27 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web26001.mail.ukl.yahoo.com (HELO web26001.mail.ukl.yahoo.com) (217.12.10.212)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 28 Jan 2005 01:09:25 -0800
Received: (qmail 15054 invoked by uid 60001); 28 Jan 2005 09:09:23 -0000
Message-ID: <20050128090923.15052.qmail@web26001.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26001.mail.ukl.yahoo.com via HTTP; Fri, 28 Jan 2005 09:09:23 GMT
Date: Fri, 28 Jan 2005 09:09:23 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: rackmount lucene/nutch - Re: google mini? who needs it when Lucene is there
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>>Also need http://jcifs.samba.org/ so you can spider 
>>windows file shares.

That project also has a very nice servlet filter that
is used to provide automatic authentication of Windows
clients using the NTLM protocol. 



	
	
		
___________________________________________________________ 
ALL-NEW Yahoo! Messenger - all new features - even more fun! http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12784-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 11:33:41 2005
Return-Path: <lucene-user-return-12784-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35578 invoked from network); 28 Jan 2005 11:33:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 11:33:40 -0000
Received: (qmail 16569 invoked by uid 500); 28 Jan 2005 11:33:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16475 invoked by uid 500); 28 Jan 2005 11:33:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16333 invoked by uid 99); 28 Jan 2005 11:33:21 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork11.mail.Virginia.EDU (HELO fork11.mail.virginia.edu) (128.143.2.181)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 28 Jan 2005 03:33:21 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork11.mail.virginia.edu (Postfix) with ESMTP id 9DB991F516E
	for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 06:33:18 -0500 (EST)
Received: from fork11.mail.virginia.edu ([127.0.0.1])
 by localhost (fork11.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 26580-09 for <lucene-user@jakarta.apache.org>;
 Fri, 28 Jan 2005 06:33:18 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by fork11.mail.virginia.edu (Postfix) with ESMTP id 3AFF41F515B
	for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 06:33:18 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <1106882640.41f9b050a561e@webmail.nist.gov>
References: <41F96ACE.5010309@nist.gov> <41F96D92.8090106@tropo.com> <1106882640.41f9b050a561e@webmail.nist.gov>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <d565533ecdd1a68c7f8ab0fa2eccf7e7@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: query term frequency
Date: Fri, 28 Jan 2005 06:33:18 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork11.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jan 27, 2005, at 10:24 PM, Jonathan Lasko wrote:
> No, the number of occurrences of a term in a Query.

Nothing built-in gives you this.  You'd have to dissect the Query  
clause-by-clause and cast each clause to the proper type to pull the  
terms from them.  The Highlighter code does this.

If there is a better way, I'd like to know.

	Erik


>
> Jonathan
>
> Quoting David Spencer <dave-lucene-user@tropo.com>:
>
>> Jonathan Lasko wrote:
>>
>>> What do I call to get the term frequencies for terms in the Query?  I
>>> can't seem to find it in the Javadoc...
>>
>> Do you mean the # of docs that have a term?
>>
>>
> http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/ 
> IndexReader.html#docFreq(org.apache.lucene.index.Term)
>>> Thanks.
>>>
>>> Jonathan
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12785-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 11:41:23 2005
Return-Path: <lucene-user-return-12785-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38933 invoked from network); 28 Jan 2005 11:41:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 11:41:23 -0000
Received: (qmail 32113 invoked by uid 500); 28 Jan 2005 11:40:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31955 invoked by uid 500); 28 Jan 2005 11:40:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31871 invoked by uid 99); 28 Jan 2005 11:40:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of sunilgoyal@gmail.com designates 64.233.184.199 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.199)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 28 Jan 2005 03:40:57 -0800
Received: by wproxy.gmail.com with SMTP id 55so465773wri
        for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 03:40:55 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=P2lTNzfSGPvuiNR5fqKbFDuqVLW2X9/PZR/+KpvEsXTg5iDlU5D1nSAwxCYC5DHv9DoSmGR1lIUZgFGj21fs4zdMd5vDZ/tMK7Pj1cNi2M5a8UmBB6sdg5OzecXo/ulXrt46eZMeCBH1ruPK2cASFpan8kql++2YGjc/7L/JNoY=
Received: by 10.54.46.72 with SMTP id t72mr455409wrt;
        Fri, 28 Jan 2005 03:40:55 -0800 (PST)
Received: by 10.54.2.34 with HTTP; Fri, 28 Jan 2005 03:40:55 -0800 (PST)
Message-ID: <8d8cb1e05012803404b94391@mail.gmail.com>
Date: Fri, 28 Jan 2005 17:10:55 +0530
From: sunil goyal <sunilgoyal@gmail.com>
Reply-To: sunil goyal <sunilgoyal@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: lucene query (sql kind)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello all,

I want to run dynamic queries against the lucene index. Is there any
native syntax available for Lucene so that I can query, by first
generating the query in say an XML or SQL like format (cache this
query) and then  use this query over lucene index.


e.g. So a lucene query syntax in which I can define a query
(name="john" AND age <10)  and then I can just use this query to
execute over Lucene index.


Regards
Sunil

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12786-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 11:43:43 2005
Return-Path: <lucene-user-return-12786-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40137 invoked from network); 28 Jan 2005 11:43:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 11:43:42 -0000
Received: (qmail 38638 invoked by uid 500); 28 Jan 2005 11:43:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38612 invoked by uid 500); 28 Jan 2005 11:43:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38597 invoked by uid 99); 28 Jan 2005 11:43:34 -0000
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=RCVD_BY_IP,RCVD_IN_SBL,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of petite.abeille@gmail.com designates 64.233.170.203 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.203)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 28 Jan 2005 03:43:33 -0800
Received: by rproxy.gmail.com with SMTP id z35so408829rne
        for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 03:43:31 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=bqMCVzcLq3hMkz+KXP7LhRLckp+sSNk6GkLqPo3hzv1HV2um5nzwWhj2NOTTCtOq0tAwJeI7dvMgWtzoO/opWvYOQreejHX/WJklrq3VR37FcTEDAzagk79d96TFi2ldDi2MWsekvxTke/01uWHjxwF2utd4RIg2jh98tx9JRMs=
Received: by 10.38.89.70 with SMTP id m70mr355374rnb;
        Fri, 28 Jan 2005 03:43:31 -0800 (PST)
Received: from ?10.0.1.19? ([62.167.156.142])
        by smtp.gmail.com with ESMTP id 73sm120815rna.2005.01.28.03.43.30;
        Fri, 28 Jan 2005 03:43:31 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <8d8cb1e05012803404b94391@mail.gmail.com>
References: <8d8cb1e05012803404b94391@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <e6c624e5c359379dd9eb65b83b55d0b9@gmail.com>
Content-Transfer-Encoding: 7bit
From: PA <petite.abeille@gmail.com>
Subject: Re: lucene query (sql kind)
Date: Fri, 28 Jan 2005 12:43:55 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Jan 28, 2005, at 12:40, sunil goyal wrote:

> I want to run dynamic queries against the lucene index. Is there any
> native syntax available for Lucene so that I can query, by first
> generating the query in say an XML or SQL like format (cache this
> query) and then  use this query over lucene index.

Talking of which, did anyone contemplated the possibility of a 
<gasp>JDBC</gasp> adaptor of sort for Lucene?

Cheers

--
PA, Onnay Equitursay
http://alt.textdrive.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12787-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 11:52:01 2005
Return-Path: <lucene-user-return-12787-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44473 invoked from network); 28 Jan 2005 11:52:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 11:52:00 -0000
Received: (qmail 57533 invoked by uid 500); 28 Jan 2005 11:51:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57455 invoked by uid 500); 28 Jan 2005 11:51:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57408 invoked by uid 99); 28 Jan 2005 11:51:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from hidrogen.fundacio.urv.es (HELO hidrogen.fundacio.urv.es) (193.147.220.227)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 28 Jan 2005 03:51:40 -0800
Received: (qmail 5952 invoked from network); 28 Jan 2005 12:34:43 -0000
Received: from unknown (HELO ?193.147.220.167?) (193.147.220.167)
  by hidrogen.fundacio.urv.es with SMTP; 28 Jan 2005 12:34:43 -0000
Message-ID: <41FA27F3.1030705@simpple.com>
Date: Fri, 28 Jan 2005 12:54:27 +0100
From: David Escuer <david.escuer@simpple.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: lucene query (sql kind)
References: <8d8cb1e05012803404b94391@mail.gmail.com>
In-Reply-To: <8d8cb1e05012803404b94391@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hello,
   To build queries, you can generate a query like.... "(text:house OR 
text:car) AND (keywords:building)", and then
   parse it with the QueryParser.parse method to get the Lucene query. 
Is not 100% sql-like syntax, but it's more clear
   than the lucene syntax.

Hope it helps

David

sunil goyal wrote:

>Hello all,
>
>I want to run dynamic queries against the lucene index. Is there any
>native syntax available for Lucene so that I can query, by first
>generating the query in say an XML or SQL like format (cache this
>query) and then  use this query over lucene index.
>
>
>e.g. So a lucene query syntax in which I can define a query
>(name="john" AND age <10)  and then I can just use this query to
>execute over Lucene index.
>
>
>Regards
>Sunil
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12788-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 12:13:32 2005
Return-Path: <lucene-user-return-12788-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54204 invoked from network); 28 Jan 2005 12:13:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 12:13:32 -0000
Received: (qmail 3783 invoked by uid 500); 28 Jan 2005 12:13:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3759 invoked by uid 500); 28 Jan 2005 12:13:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3745 invoked by uid 99); 28 Jan 2005 12:13:23 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of sunilgoyal@gmail.com designates 64.233.184.199 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.199)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 28 Jan 2005 04:13:22 -0800
Received: by wproxy.gmail.com with SMTP id 55so468846wri
        for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 04:13:20 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=UpFffDqEjXuHPTrz/xxr1uelS/WUgmY5s+OAUNZCB2xZAj+ag3PojdZCL5SjoaevMnlEsV98dVFgvjaqvLmy/VHJgmsRzx2hsnS2rrVu/vLYWZFnu9klFZBaE6KPHVnTc4/ItW1i//hgF6zQZ4Aoq4Okc9TZPYfZIK7fLZx760k=
Received: by 10.54.25.32 with SMTP id 32mr61122wry;
        Fri, 28 Jan 2005 04:13:20 -0800 (PST)
Received: by 10.54.2.34 with HTTP; Fri, 28 Jan 2005 04:13:20 -0800 (PST)
Message-ID: <8d8cb1e050128041314f2a888@mail.gmail.com>
Date: Fri, 28 Jan 2005 17:43:20 +0530
From: sunil goyal <sunilgoyal@gmail.com>
Reply-To: sunil goyal <sunilgoyal@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: lucene query (sql kind)
In-Reply-To: <41FA27F3.1030705@simpple.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <8d8cb1e05012803404b94391@mail.gmail.com>
	 <41FA27F3.1030705@simpple.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

I was just trying that...

QueryParser qp = new QueryParser("field AND field", new StandardAnalyzer());
Query query = qp.parse("name:\"john\" AND age:[10 TO 16]");

It works fine with this. Do I need to specify that QueryParser should
expect things in order
"field AND field". Or can I do without it?

The static method of QueryParser.parse(String , String, Analyzer) -
expects the first string to be the query and second to be the field.

Thanks

Regards
Sunil

On Fri, 28 Jan 2005 12:54:27 +0100, David Escuer
<david.escuer@simpple.com> wrote:
> 
> Hello,
>    To build queries, you can generate a query like.... "(text:house OR
> text:car) AND (keywords:building)", and then
>    parse it with the QueryParser.parse method to get the Lucene query.
> Is not 100% sql-like syntax, but it's more clear
>    than the lucene syntax.
> 
> Hope it helps
> 
> David
> 
> sunil goyal wrote:
> 
> >Hello all,
> >
> >I want to run dynamic queries against the lucene index. Is there any
> >native syntax available for Lucene so that I can query, by first
> >generating the query in say an XML or SQL like format (cache this
> >query) and then  use this query over lucene index.
> >
> >
> >e.g. So a lucene query syntax in which I can define a query
> >(name="john" AND age <10)  and then I can just use this query to
> >execute over Lucene index.
> >
> >
> >Regards
> >Sunil
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12789-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 12:15:42 2005
Return-Path: <lucene-user-return-12789-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54809 invoked from network); 28 Jan 2005 12:15:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 12:15:42 -0000
Received: (qmail 7557 invoked by uid 500); 28 Jan 2005 12:15:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7519 invoked by uid 500); 28 Jan 2005 12:15:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7498 invoked by uid 99); 28 Jan 2005 12:15:33 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from outbound1.z-ptx-11.fr.sopragroup.com (HELO outbound1.sopragroup.com) (81.80.239.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 28 Jan 2005 04:15:32 -0800
Received: by outbound1.sopragroup.com (8.12.10/8.12.10/outbound-A02) with ESMTP id j0SCFRbw029384
          for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 13:15:27 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: rackmount lucene/nutch - Re: google mini? who needs it when Lucene is there
Date: Fri, 28 Jan 2005 13:15:12 +0100
Message-ID: <F19E1B11985F2C4E902091B6901CDEFB30FEAB@wexchbe04.ancy.fr.sopra>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: rackmount lucene/nutch - Re: google mini? who needs it when Lucene is there
Thread-Index: AcUE1PsZvT15WM1AQ8iu9qLLuD7ungAWjgaA
From: "Cocula Remi" <rcocula@sopragroup.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 28 Jan 2005 12:16:41.0796 (UTC) FILETIME=[399C9040:01C50533]
X-Scanned-By: MIMEDefang 2.38
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


In addition to this discution I would like to mention my efforts in =
creating=20
a wrapper around Lucene with the LuceneServer project =
(http://sourceforge.net/projects/luceneserver/).
It uses RMI to make indexes available over a network and includes =
automation tasks.
I am courrently working on a search session mechanism that includes =
pagination and highlightment.
I have many ideas to make it a real standalone Intranet search engine.

I would be verry glad that some people could help me make it grow.
Perhaps it could be a starting point of what Erik mentions.



-----Message d'origine-----
De : Erik Hatcher [mailto:erik@ehatchersolutions.com]
Envoy=E9 : vendredi 28 janvier 2005 02:02
=C0 : Lucene Users List
Objet : Re: rackmount lucene/nutch - Re: google mini? who needs it when
Lucene is there


I've often said that there is a business to be had in packaging up=20
Lucene (and now Nutch) into a cute little box with user friendly=20
management software to search your intranet.  SearchBlox is already=20
there (except they don't include the box).

I really hope that an application like SearchBlox/Zilverline can be=20
created as part of the Lucene project itself, replacing the sad demos=20
that currently ship with Lucene.  I've got so many things on my plate=20
that I don't foresee myself getting to this as soon as I'd like, but I=20
would most definitely support and contribute what time I could to such=20
an effort.  If the web UI used Tapestry, I'd be very inclined to dig in=20
hardcore to it.  Any other web UI technology would likely turn me off. =20
One of these days I'll Tapestry-ify Nutch just for grins and submit it=20
as a replacement for the JSPs.

And I'm even more sold on it if Mac Mini's are involved!  :)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12790-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 12:20:07 2005
Return-Path: <lucene-user-return-12790-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56110 invoked from network); 28 Jan 2005 12:20:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 12:20:07 -0000
Received: (qmail 14112 invoked by uid 500); 28 Jan 2005 12:19:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14081 invoked by uid 500); 28 Jan 2005 12:19:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14068 invoked by uid 99); 28 Jan 2005 12:19:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from hidrogen.fundacio.urv.es (HELO hidrogen.fundacio.urv.es) (193.147.220.227)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 28 Jan 2005 04:19:55 -0800
Received: (qmail 17373 invoked from network); 28 Jan 2005 13:03:00 -0000
Received: from unknown (HELO ?193.147.220.167?) (193.147.220.167)
  by hidrogen.fundacio.urv.es with SMTP; 28 Jan 2005 13:03:00 -0000
Message-ID: <41FA2E94.1090304@simpple.com>
Date: Fri, 28 Jan 2005 13:22:44 +0100
From: David Escuer <david.escuer@simpple.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: lucene query (sql kind)
References: <8d8cb1e05012803404b94391@mail.gmail.com>	 <41FA27F3.1030705@simpple.com> <8d8cb1e050128041314f2a888@mail.gmail.com>
In-Reply-To: <8d8cb1e050128041314f2a888@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


I've merged some different fields in one query, with the name of one of 
these fields as the second parameter in the
static method, and it worked fine.
Also, you can do a little query parser, and build the queries with 
BooleanQuery.....

David


sunil goyal wrote:

>Hello,
>
>I was just trying that...
>
>QueryParser qp = new QueryParser("field AND field", new StandardAnalyzer());
>Query query = qp.parse("name:\"john\" AND age:[10 TO 16]");
>
>It works fine with this. Do I need to specify that QueryParser should
>expect things in order
>"field AND field". Or can I do without it?
>
>The static method of QueryParser.parse(String , String, Analyzer) -
>expects the first string to be the query and second to be the field.
>
>Thanks
>
>Regards
>Sunil
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12791-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 12:26:41 2005
Return-Path: <lucene-user-return-12791-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63157 invoked from network); 28 Jan 2005 12:26:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 12:26:41 -0000
Received: (qmail 28296 invoked by uid 500); 28 Jan 2005 12:26:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28269 invoked by uid 500); 28 Jan 2005 12:26:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28255 invoked by uid 99); 28 Jan 2005 12:26:31 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 28 Jan 2005 04:26:30 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP
	id 11C5023BC6; Fri, 28 Jan 2005 13:26:49 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 14583-03; Fri, 28 Jan 2005 13:26:48 +0100 (CET)
Received: from tucholsky.office.tanto.de (tucholsky.office.tanto.de [10.0.0.35])
	by mail.tanto.de (Postfix) with ESMTP
	id CE1B223B8E; Fri, 28 Jan 2005 13:26:48 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) with ESMTP id j0SCQR72022730;
	Fri, 28 Jan 2005 13:26:27 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) id j0SCQQGs022726;
	Fri, 28 Jan 2005 13:26:26 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16890.12146.905252.399820@tanto-xipolis.de>
Date: Fri, 28 Jan 2005 13:26:26 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	sunil goyal <sunilgoyal@gmail.com>
Subject: Re: lucene query (sql kind)
In-Reply-To: <8d8cb1e050128041314f2a888@mail.gmail.com>
References: <8d8cb1e05012803404b94391@mail.gmail.com>
	<41FA27F3.1030705@simpple.com>
	<8d8cb1e050128041314f2a888@mail.gmail.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

sunil goyal writes:
> 
> I was just trying that...
> 
> QueryParser qp = new QueryParser("field AND field", new StandardAnalyzer());
> Query query = qp.parse("name:\"john\" AND age:[10 TO 16]");
> 
> It works fine with this. Do I need to specify that QueryParser should
> expect things in order
> "field AND field". Or can I do without it?
> 
The field parameter simply defines the default field for all queries 
without an explicit field specification (<field>:).
Using 'field AND field' as default field does not make sense but does
not hurt as long as the default field is not used.
I'm not sure why you choose that.

Further name:\"john\" and name:john should be the same.

HTH
  Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12792-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 12:41:29 2005
Return-Path: <lucene-user-return-12792-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70203 invoked from network); 28 Jan 2005 12:41:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 12:41:29 -0000
Received: (qmail 59165 invoked by uid 500); 28 Jan 2005 12:41:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59137 invoked by uid 500); 28 Jan 2005 12:41:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59122 invoked by uid 99); 28 Jan 2005 12:41:21 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of sunilgoyal@gmail.com designates 64.233.184.196 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 28 Jan 2005 04:41:19 -0800
Received: by wproxy.gmail.com with SMTP id 55so471665wri
        for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 04:41:18 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=PawNWCit+MVfzA+g0gb2uU6V4WWCSjRwdbDhz4WG0LZsLm4J3ge5SLt7reAdOVfSOJT9cK2Vo4cJWUmCXalZrM62a++0Yse9HE9eid6FQbXDaMN9526kl85U9+BV80vHUqAukHwIhm/HqXaUg+7D8Gnpc2oxQEa1ls5ss6/LMbE=
Received: by 10.54.28.31 with SMTP id b31mr188585wrb;
        Fri, 28 Jan 2005 04:41:17 -0800 (PST)
Received: by 10.54.2.34 with HTTP; Fri, 28 Jan 2005 04:41:17 -0800 (PST)
Message-ID: <8d8cb1e050128044112d5577f@mail.gmail.com>
Date: Fri, 28 Jan 2005 18:11:17 +0530
From: sunil goyal <sunilgoyal@gmail.com>
Reply-To: sunil goyal <sunilgoyal@gmail.com>
To: Morus Walter <morus.walter@tanto.de>
Subject: Re: lucene query (sql kind)
Cc: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <16890.12146.905252.399820@tanto-xipolis.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <8d8cb1e05012803404b94391@mail.gmail.com>
	 <41FA27F3.1030705@simpple.com>
	 <8d8cb1e050128041314f2a888@mail.gmail.com>
	 <16890.12146.905252.399820@tanto-xipolis.de>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

Thanks, It works fine.

> The field parameter simply defines the default field for all queries
> without an explicit field specification (<field>:).
> Using 'field AND field' as default field does not make sense but does
> not hurt as long as the default field is not used.
> I'm not sure why you choose that.
I just thought that Query Parser needs to be specifies what it should
expect before hand. So did "field AND field". But I was wrong.

> Further name:\"john\" and name:john should be the same.
Just in case it's not "john" but "hello john" or some phrase.

Regards
Sunil



On Fri, 28 Jan 2005 13:26:26 +0100, Morus Walter <morus.walter@tanto.de> wrote:
> sunil goyal writes:
> >
> > I was just trying that...
> >
> > QueryParser qp = new QueryParser("field AND field", new StandardAnalyzer());
> > Query query = qp.parse("name:\"john\" AND age:[10 TO 16]");
> >
> > It works fine with this. Do I need to specify that QueryParser should
> > expect things in order
> > "field AND field". Or can I do without it?
> > 
> The field parameter simply defines the default field for all queries
> without an explicit field specification (<field>:).
> Using 'field AND field' as default field does not make sense but does
> not hurt as long as the default field is not used.
> I'm not sure why you choose that.
> 
> Further name:\"john\" and name:john should be the same.
> 
> HTH
>   Morus
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12793-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 13:01:51 2005
Return-Path: <lucene-user-return-12793-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80657 invoked from network); 28 Jan 2005 13:01:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 13:01:51 -0000
Received: (qmail 2586 invoked by uid 500); 28 Jan 2005 13:01:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2560 invoked by uid 500); 28 Jan 2005 13:01:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2547 invoked by uid 99); 28 Jan 2005 13:01:44 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web26002.mail.ukl.yahoo.com (HELO web26002.mail.ukl.yahoo.com) (217.12.10.213)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 28 Jan 2005 05:01:43 -0800
Received: (qmail 77572 invoked by uid 60001); 28 Jan 2005 13:01:40 -0000
Message-ID: <20050128130140.77570.qmail@web26002.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26002.mail.ukl.yahoo.com via HTTP; Fri, 28 Jan 2005 13:01:40 GMT
Date: Fri, 28 Jan 2005 13:01:40 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject:  Re: lucene query (sql kind)
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've added some user-defined lucene functions to
HSQLDB and I've been able to run queries like the
following one:

select top 10 lucene_highlight(adText) from ads where
pricePounds <200  and lucene_query('bass guitar
drums',id)>0 order by lucene_score(id) DESC

I've had similar success with Derby (Cloudscape).
This approach has some appeal and I've been able to
use the same class as a UDF in both databases but it
does have issues: it looks like this UDF based
integration won't scale. The above query took 80
milliseconds using 10,000 records. Another
index/database with 50,000 records was taking a matter
of seconds. I think a scalable integration is likely
to require modification of the core RDBMS code.

I think it is worth considering developing such a
tight RDBMS integration if you consider the issues
commonly associated with using Lucene:
1) Sorting on float/date fields and associated memory
consumption
2) Representing numbers/dates in Lucene (eg having to
pad with sufficent leading zeros and add to index's
list of terms)
3) Retrieving only certain stored fields from a
document (all storage can be done in db)
4) Issues to do with updating volatile data eg price
data used in sorts
5) Manually coding joins with RDBMS content as custom
filters
6) Too-many terms exceptions produced by range queries
7) Grouping results eg by website
8) Boosting docs based on stored content eg date

I'm not saying there aren't answers to the above using
Lucene. However,I do wonder if these can be addressed
more effectively in a project which seeks tighter
integration with an RDBMS and leveraging its
capabilities.

Any one else been down this route?





	
	
		
___________________________________________________________ 
ALL-NEW Yahoo! Messenger - all new features - even more fun! http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12794-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 13:32:10 2005
Return-Path: <lucene-user-return-12794-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96192 invoked from network); 28 Jan 2005 13:32:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 13:32:10 -0000
Received: (qmail 71160 invoked by uid 500); 28 Jan 2005 13:32:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71133 invoked by uid 500); 28 Jan 2005 13:32:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71118 invoked by uid 99); 28 Jan 2005 13:32:01 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork7.mail.Virginia.EDU (HELO fork7.mail.virginia.edu) (128.143.2.177)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 28 Jan 2005 05:32:00 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id 49A5F1F5546
	for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 08:31:58 -0500 (EST)
Received: from fork7.mail.virginia.edu ([127.0.0.1])
 by localhost (fork7.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 15974-07 for <lucene-user@jakarta.apache.org>;
 Fri, 28 Jan 2005 08:31:58 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id 0D6991F5540
	for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 08:31:57 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <006001c50505$203f6c90$6400a8c0@everymail.com.au>
References: <5f4a646105012722082af3ab4f@mail.gmail.com> <006001c50505$203f6c90$6400a8c0@everymail.com.au>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <b2b667801294023f6808b905d12c3c85@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Search results excerpt similar to Google
Date: Fri, 28 Jan 2005 08:31:58 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork7.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Jan 28, 2005, at 1:46 AM, Jason Polites wrote:
> I think they do a proximity result based on keyword matches.  So... If 
> you search for "lucene" and the document returned has this word at the 
> very start and the very end of the document, then you will see the two 
> sentences (sequences of words) surrounding the two keyword matches, 
> one from the start of the document and one from the end.

There is a Highlighter package in the Lucene sandbox.  Highlighting 
looks like this:

	http://www.lucenebook.com/search?query=highlighter

> How you determine which words from the result you include in the 
> summary is up to you.  The problem with this it that in Lucene-land 
> you have to store the content of the document inside in index verbatim 
> (so you can get arbitrary portions of it out).  This means your index 
> will be larger than it really needs to be.

You do not have to store the content in the index, it just happens to 
be convenient for most situations.  Content could be stored anywhere.  
Getting the text and reanalyzing it for Highlighter is all that is 
required.  Storing in the index has some performance benefits in the 
CVS version of Lucene, as you can store term position offset 
information and avoid having to re-analyze for highlighting.

	Erik

> I usually just store the first 255 characters in the index and use 
> this as a summary.  It's not as good as Google, but it seems to work 
> ok.
>
> ----- Original Message ----- From: "Ben" <newreaders@gmail.com>
> To: "Lucene" <lucene-user@jakarta.apache.org>
> Sent: Friday, January 28, 2005 5:08 PM
> Subject: Search results excerpt similar to Google
>
>
>> Hi
>>
>> Is it hard to implement a function that displays the search results
>> excerpts similar to Google?
>>
>> Is it just string manipulations or there are some logic behind it? I
>> like their excerpts.
>>
>> Thanks
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12795-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 13:55:14 2005
Return-Path: <lucene-user-return-12795-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7137 invoked from network); 28 Jan 2005 13:55:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 13:55:14 -0000
Received: (qmail 27487 invoked by uid 500); 28 Jan 2005 13:55:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27461 invoked by uid 500); 28 Jan 2005 13:55:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27448 invoked by uid 99); 28 Jan 2005 13:55:08 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of blizzy-keyword-lucene_user.f5486d@blizzy.de designates 212.79.22.222 as permitted sender)
Received: from subshell.com (HELO subshell.com) (212.79.22.222)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 28 Jan 2005 05:55:06 -0800
Received: (qmail 3156 invoked from network); 28 Jan 2005 14:55:03 +0100
Received: from unknown (HELO neumann.subshell.com) (212.79.22.193)
  by subshell.com with SMTP; 28 Jan 2005 14:55:03 +0100
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by neumann.subshell.com (Postfix) with ESMTP id B3F441DCF55
	for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 14:56:47 +0100 (CET)
Message-ID: <41FA449F.20407@blizzy.de>
Date: Fri, 28 Jan 2005 14:56:47 +0100
From: Maik Schreiber <blizzy-keyword-lucene_user.f5486d@blizzy.de>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041214)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Search results excerpt similar to Google
References: <5f4a646105012722082af3ab4f@mail.gmail.com> <006001c50505$203f6c90$6400a8c0@everymail.com.au> <b2b667801294023f6808b905d12c3c85@ehatchersolutions.com>
In-Reply-To: <b2b667801294023f6808b905d12c3c85@ehatchersolutions.com>
X-Enigmail-Version: 0.86.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Storing in the index has some performance benefits in the CVS 
> version of Lucene, as you can store term position offset information and 
> avoid having to re-analyze for highlighting.

Speaking of which, is there a planned release date for a version that 
contains this feature?

-- 
Maik Schreiber   *   http://www.blizzy.de

GPG public key: http://pgp.mit.edu:11371/pks/lookup?op=get&search=0x1F11D713
Key fingerprint: CF19 AFCE 6E3D 5443 9599 18B5 5640 1F11 D713

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12796-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 15:19:17 2005
Return-Path: <lucene-user-return-12796-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62364 invoked from network); 28 Jan 2005 15:19:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 15:19:17 -0000
Received: (qmail 13405 invoked by uid 500); 28 Jan 2005 15:19:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13369 invoked by uid 500); 28 Jan 2005 15:19:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13355 invoked by uid 99); 28 Jan 2005 15:19:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from bamail.byteaction.de (HELO bamail.byteaction.de) (217.195.2.162)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 28 Jan 2005 07:19:09 -0800
Received: (qmail 18144 invoked by uid 1001); 28 Jan 2005 15:19:06 -0000
Received: from as@byteaction.de by new-maximus by uid 71 with qmail-scanner-1.22 
 (Dspam: 3.2.2 . ClamAV: 0.80 .  Clear:RC:1(217.231.84.212):. 
 Processed in 0.209432 secs); 28 Jan 2005 15:19:06 -0000
Received: from pd9e754d4.dip0.t-ipconnect.de (HELO ?192.168.5.2?) (217.231.84.212)
  by bamail.byteaction.de with SMTP; 28 Jan 2005 15:19:05 -0000
Subject: Re: carrot2 question too - Re: Fun with the Wikipedia
From: Akmal Sarhan <as@byteaction.de>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <41EB8219.5040408@cs.put.poznan.pl>
References: <41E834AD.40605@tropo.com>
	 <1333.144.136.135.234.1105740547.squirrel@144.136.135.234>
	 <41E85293.7050103@tropo.com>  <41EB8219.5040408@cs.put.poznan.pl>
Content-Type: text/plain
Organization: ByteAction GmbH
Date: Fri, 28 Jan 2005 16:19:03 +0100
Message-Id: <1106925543.8683.9.camel@dell-inspiron>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.3 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

we have been experimenting with carrot2 and are very pleased so far,
only one issue: there is no release not even an alpha one and the
dependencies seemed to be patched (jama)
is there any intentions to have any releases in the near future?

thanks 

Akmal
Am Montag, den 17.01.2005, 10:15 +0100 schrieb Dawid Weiss:
> Hi David,
> 
> I apologize about the delay in answering this one, Lucene is a busy 
> mailing list and I had a hectic last week... Again, sorry for belated 
> answer, hope you still find it useful.
> 
> >> That is awesome and very inspirational!
> 
> Yes, I admit what you've done with Wikipedia is quite interesting and 
> looks very good. I'm also glad you spent some time working out Carrot 
> integration with Lucene. It works quite nice.
> 
> >> Carrot2 looks very interesting. Wondering if anybody has a list of all 
> >> the
> > 
> > Technically I don't think carrot2 uses lucene per-se- it's just that you 
> > can integrate the two, and ditto for Nutch - it has code that uses Carrot2.
> 
> Yes, this is true. Carrot2 doesn't use all of Lucene's potential -- it 
> merely takes the output from a query (titles, urls and snippets) and 
> attempts to cluster them into some sensible groups. I think many things 
> could be improved, the most important of them is fast snippet retrieval 
>    from Lucene because right now it takes 50% of the time of the 
> clustering; I've seen a post a while ago describing a faster snippet 
> generation technique, I'm sure that would give clustering a huge boost 
> speed-wise.
> 
> > And here's my question. I reread the Carrot2<->Lucene code, esp 
> > Demo.java, and there's this fragment:
> > 
> >     // warm-up round (stemmer tables must be read etc).
> >     List clusters = clusterer.clusterHits(docs);
> > 
> >     long clusteringStartTime = System.currentTimeMillis();
> >     clusters = clusterer.clusterHits(docs);
> >     long clusteringEndTime = System.currentTimeMillis();
> > 
> > Thus it calls clusterHits() twice.
> > 
> > I don't really understand how to use Carrot2 - but I think the above is 
> > just for the sake of benchmarking clusterHits() w/o the effect of 1-time 
> > initialization - and that there's no benefit of repeatedly calling 
> > clusterHits (where a benefit might be that it can find nested clusters 
> > or whatever) - is that right (that there's no benefit)?
> 
> No, there is absolutely no benefit from it. It was merely to show people 
> that the clustering needs to be warmed up a bit. I should not have put 
> it in the code knowing people would be confused by it. You can safely 
> use clusterHits just once. It will just have a small delay at the first 
> invocation.
> 
> 
> Thanks for experimenting. Please BCC me if you have any urgent projects 
> -- I read Lucene's list in batches and my personal e-mail I try to keep 
> up to date with.
> 
> Dawid
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> !EXCUBATOR:41eb81f8156071530375633!
> 
-- 
Akmal Sarhan <as@byteaction.de>
ByteAction GmbH


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12797-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 15:36:36 2005
Return-Path: <lucene-user-return-12797-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71605 invoked from network); 28 Jan 2005 15:36:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 15:36:36 -0000
Received: (qmail 50105 invoked by uid 500); 28 Jan 2005 15:36:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50076 invoked by uid 500); 28 Jan 2005 15:36:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50057 invoked by uid 99); 28 Jan 2005 15:36:29 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of chenjian1227@gmail.com designates 64.233.170.207 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.207)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 28 Jan 2005 07:36:28 -0800
Received: by rproxy.gmail.com with SMTP id 40so323352rnz
        for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 07:36:26 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=nzDqAt2Df/a0txLUhgj53g3ng0bh/UYWWLy/f6JCPgwiC+kjcW8rwrf10TQSq7q5pUsXQXyhFKQrJT3AOcYD34z7kFs0b1EW9FvOgjib2et+RV8q7PsU83W0GkTcHnVXMiQI7cy8y/42QO9fkvnDGHue3vgjlWm6aMOZHJqfapc=
Received: by 10.38.19.34 with SMTP id 34mr32262rns;
        Fri, 28 Jan 2005 07:36:26 -0800 (PST)
Received: by 10.38.8.15 with HTTP; Fri, 28 Jan 2005 07:36:26 -0800 (PST)
Message-ID: <7ca1239105012807365cf466c8@mail.gmail.com>
Date: Fri, 28 Jan 2005 07:36:26 -0800
From: jian chen <chenjian1227@gmail.com>
Reply-To: jian chen <chenjian1227@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: lucene query (sql kind)
In-Reply-To: <20050128130140.77570.qmail@web26002.mail.ukl.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <20050128130140.77570.qmail@web26002.mail.ukl.yahoo.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I like your idea and think you are quite right. I see quite some
people are using lucene to the extreme such that relational database
functionalities are replaced by lucene.

However, storing everything in lucene and use it as a relational type
of database will be kind of re-inventing the wheel. For example,
sorting on the date field, and any other range query.

I think the better way is to look at ways to integrate lucene tightly
into a java relational database, such as HSQL, McKoi or Derby.

In particular, that integration would make it possible for queries
like "contains(...)", which is included in MySQL full text search
syntax and other major relational db vendors.

I would like to contribute any possible help I could for that to happen.

Thanks,

Jian

On Fri, 28 Jan 2005 13:01:40 +0000 (GMT), mark harwood
<markharw00d@yahoo.co.uk> wrote:
> I've added some user-defined lucene functions to
> HSQLDB and I've been able to run queries like the
> following one:
> 
> select top 10 lucene_highlight(adText) from ads where
> pricePounds <200  and lucene_query('bass guitar
> drums',id)>0 order by lucene_score(id) DESC
> 
> I've had similar success with Derby (Cloudscape).
> This approach has some appeal and I've been able to
> use the same class as a UDF in both databases but it
> does have issues: it looks like this UDF based
> integration won't scale. The above query took 80
> milliseconds using 10,000 records. Another
> index/database with 50,000 records was taking a matter
> of seconds. I think a scalable integration is likely
> to require modification of the core RDBMS code.
> 
> I think it is worth considering developing such a
> tight RDBMS integration if you consider the issues
> commonly associated with using Lucene:
> 1) Sorting on float/date fields and associated memory
> consumption
> 2) Representing numbers/dates in Lucene (eg having to
> pad with sufficent leading zeros and add to index's
> list of terms)
> 3) Retrieving only certain stored fields from a
> document (all storage can be done in db)
> 4) Issues to do with updating volatile data eg price
> data used in sorts
> 5) Manually coding joins with RDBMS content as custom
> filters
> 6) Too-many terms exceptions produced by range queries
> 7) Grouping results eg by website
> 8) Boosting docs based on stored content eg date
> 
> I'm not saying there aren't answers to the above using
> Lucene. However,I do wonder if these can be addressed
> more effectively in a project which seeks tighter
> integration with an RDBMS and leveraging its
> capabilities.
> 
> Any one else been down this route?
> 
> 
> ___________________________________________________________
> ALL-NEW Yahoo! Messenger - all new features - even more fun! http://uk.messenger.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12798-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 15:45:15 2005
Return-Path: <lucene-user-return-12798-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76577 invoked from network); 28 Jan 2005 15:45:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 15:45:15 -0000
Received: (qmail 74474 invoked by uid 500); 28 Jan 2005 15:45:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74447 invoked by uid 500); 28 Jan 2005 15:45:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74431 invoked by uid 99); 28 Jan 2005 15:45:10 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30807.mail.mud.yahoo.com (HELO web30807.mail.mud.yahoo.com) (68.142.200.150)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 28 Jan 2005 07:45:08 -0800
Received: (qmail 82380 invoked by uid 60001); 28 Jan 2005 15:45:06 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=HkbF8Da+p4tghHZxXpPFQrImJ1oUMoBk3NbQcBTcsHNNnOEVYrM5phv+VXv3HPQgFYZKwjly3OZHSeaSWudnp57LjDX8PxU/plOyEhIE/Rft1lp0zVEgyNfZmC4dwveF9oTQqtm6452Y6/sdAg42m6cxKLHEfzzPYesemZX5K9Y=  ;
Message-ID: <20050128154506.82378.qmail@web30807.mail.mud.yahoo.com>
Received: from [216.231.10.162] by web30807.mail.mud.yahoo.com via HTTP; Fri, 28 Jan 2005 07:45:06 PST
Date: Fri, 28 Jan 2005 07:45:06 -0800 (PST)
From: Edwin Tang <emttang@yahoo.com>
Subject: Loading a large index
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have three indices really that I search via ParallelMultiSearcher. All three
are being updated constantly. We would like to be able to perform a search on
the indices and have the results reflect the latest documents indexed. However,
that would mean I need to "refresh" my searcher. Because of the size of these,
it's taking some time to load, and so search speed from the end user
perspective seems slow. What can I do to minimize or do away with the time it
takes to loading a new searcher... from the end user perspective that is?


		
__________________________________ 
Do you Yahoo!? 
The all-new My Yahoo! - Get yours free! 
http://my.yahoo.com 
 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12799-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 15:58:00 2005
Return-Path: <lucene-user-return-12799-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83989 invoked from network); 28 Jan 2005 15:58:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 15:58:00 -0000
Received: (qmail 98058 invoked by uid 500); 28 Jan 2005 15:57:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98036 invoked by uid 500); 28 Jan 2005 15:57:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98010 invoked by uid 99); 28 Jan 2005 15:57:53 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from rimp1.nist.gov (HELO smtp.nist.gov) (129.6.16.226)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 28 Jan 2005 07:57:52 -0800
Received: from postmark.nist.gov (pullyou.nist.gov [129.6.16.93])
	by smtp.nist.gov (8.12.10/8.12.10) with ESMTP id j0SFvjc5031484
	for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 10:57:45 -0500
Received: from [129.6.101.18] (monocacy.ncsl.nist.gov [129.6.101.18])
	by postmark.nist.gov (8.12.5/8.12.5) with ESMTP id j0SFviEX001098
	for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 10:57:44 -0500 (EST)
Message-ID: <41FA60F8.9070006@nist.gov>
Date: Fri, 28 Jan 2005 10:57:44 -0500
From: Jonathan Lasko <jonathan.lasko@nist.gov>
Reply-To: jonathan.lasko@nist.gov
Organization: NIST
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7.3) Gecko/20040913
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: total number of (unique) terms in the index
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-NIST-MailScanner: Found to be clean
X-MailScanner-From: jonathan.lasko@nist.gov
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm looking for the total number of unique terms in the index.  I see 
that I can get a TermEnum of all the terms in the index, but what is the 
fastest way to get the total number of terms?

Jonathan

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12800-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 16:03:03 2005
Return-Path: <lucene-user-return-12800-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86921 invoked from network); 28 Jan 2005 16:03:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 16:03:02 -0000
Received: (qmail 12508 invoked by uid 500); 28 Jan 2005 16:02:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12480 invoked by uid 500); 28 Jan 2005 16:02:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12467 invoked by uid 99); 28 Jan 2005 16:02:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mailsrv1n1.nivis.com (HELO nivis.com) (65.205.163.222)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 28 Jan 2005 08:02:55 -0800
Received: from [65.205.163.254] (HELO commerceross)
  by nivis.com (CommuniGate Pro SMTP 4.1.8)
  with ESMTP id 5770028 for lucene-user@jakarta.apache.org; Fri, 28 Jan 2005 11:02:52 -0500
From: "Ross Rankin" <ross@commercescience.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: lucene query (sql kind)
Date: Fri, 28 Jan 2005 11:02:56 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <e6c624e5c359379dd9eb65b83b55d0b9@gmail.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcUFLpqUG3VEWBEuR0yRdhV66tGkLAAItYig
Message-ID: <auto-000005770028@nivis.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I agree.  My site is all dynamic pages created from the database.  Right
now, I have to have a process create dummy pages, index them with Lucene,
then translate the Lucene results into meaningful links.  It actually works
better than it sounds, however it could be easier.

If I could just give Lucene a query result (i.e. a list of rows) and then
have Lucene send me back say the primary key of the rows that match and the
other Lucene goodness: ranking, number of hits, etc. 

Could be pretty powerful and simplify the deployment for database driven
applications.   

[Note: this opinion and $3.00 will get you a coffee at Starbucks]

Ross

-----Original Message-----
From: PA [mailto:petite.abeille@gmail.com] 
Sent: Friday, January 28, 2005 6:44 AM
To: Lucene Users List
Subject: Re: lucene query (sql kind)


On Jan 28, 2005, at 12:40, sunil goyal wrote:

> I want to run dynamic queries against the lucene index. Is there any
> native syntax available for Lucene so that I can query, by first
> generating the query in say an XML or SQL like format (cache this
> query) and then  use this query over lucene index.

Talking of which, did anyone contemplated the possibility of a 
<gasp>JDBC</gasp> adaptor of sort for Lucene?

Cheers

--
PA, Onnay Equitursay
http://alt.textdrive.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12801-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 16:25:33 2005
Return-Path: <lucene-user-return-12801-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1327 invoked from network); 28 Jan 2005 16:25:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 16:25:33 -0000
Received: (qmail 93961 invoked by uid 500); 28 Jan 2005 16:25:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93927 invoked by uid 500); 28 Jan 2005 16:25:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93892 invoked by uid 99); 28 Jan 2005 16:25:23 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork11.mail.Virginia.EDU (HELO fork11.mail.virginia.edu) (128.143.2.181)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 28 Jan 2005 08:25:22 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork11.mail.virginia.edu (Postfix) with ESMTP id 9D5781F54EF
	for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 11:25:19 -0500 (EST)
Received: from fork11.mail.virginia.edu ([127.0.0.1])
 by localhost (fork11.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 01226-01 for <lucene-user@jakarta.apache.org>;
 Fri, 28 Jan 2005 11:25:19 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork11.mail.virginia.edu (Postfix) with ESMTP id 49F091F52C7
	for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 11:25:19 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <auto-000005770028@nivis.com>
References: <auto-000005770028@nivis.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <eebc416c9abf649661214017d30e17f8@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: lucene query (sql kind)
Date: Fri, 28 Jan 2005 11:25:19 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork11.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ross - I'm really perplexed by your message.  You create HTML from a 
database so that you can index it with Lucene, yet wish you could 
simply index the data in your database tied to a primary key directly, 
right?

Well, you're in luck - you already can do this!

What are you using for indexing?  It sounds like you borrowed the 
Lucene demo and have just run with that directly.

	Erik


On Jan 28, 2005, at 11:02 AM, Ross Rankin wrote:

> I agree.  My site is all dynamic pages created from the database.  
> Right
> now, I have to have a process create dummy pages, index them with 
> Lucene,
> then translate the Lucene results into meaningful links.  It actually 
> works
> better than it sounds, however it could be easier.
>
> If I could just give Lucene a query result (i.e. a list of rows) and 
> then
> have Lucene send me back say the primary key of the rows that match 
> and the
> other Lucene goodness: ranking, number of hits, etc.
>
> Could be pretty powerful and simplify the deployment for database 
> driven
> applications.
>
> [Note: this opinion and $3.00 will get you a coffee at Starbucks]
>
> Ross
>
> -----Original Message-----
> From: PA [mailto:petite.abeille@gmail.com]
> Sent: Friday, January 28, 2005 6:44 AM
> To: Lucene Users List
> Subject: Re: lucene query (sql kind)
>
>
> On Jan 28, 2005, at 12:40, sunil goyal wrote:
>
>> I want to run dynamic queries against the lucene index. Is there any
>> native syntax available for Lucene so that I can query, by first
>> generating the query in say an XML or SQL like format (cache this
>> query) and then  use this query over lucene index.
>
> Talking of which, did anyone contemplated the possibility of a
> <gasp>JDBC</gasp> adaptor of sort for Lucene?
>
> Cheers
>
> --
> PA, Onnay Equitursay
> http://alt.textdrive.com/
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12802-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 16:53:28 2005
Return-Path: <lucene-user-return-12802-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15483 invoked from network); 28 Jan 2005 16:53:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 16:53:28 -0000
Received: (qmail 68563 invoked by uid 500); 28 Jan 2005 16:53:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68536 invoked by uid 500); 28 Jan 2005 16:53:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68521 invoked by uid 99); 28 Jan 2005 16:53:21 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from rimp1.nist.gov (HELO smtp.nist.gov) (129.6.16.226)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 28 Jan 2005 08:53:20 -0800
Received: from postmark.nist.gov (pullyou.nist.gov [129.6.16.93])
	by smtp.nist.gov (8.12.10/8.12.10) with ESMTP id j0SGrFj3027237
	for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 11:53:15 -0500
Received: from [129.6.101.18] (monocacy.ncsl.nist.gov [129.6.101.18])
	by postmark.nist.gov (8.12.5/8.12.5) with ESMTP id j0SGrBEX021624
	for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 11:53:11 -0500 (EST)
Message-ID: <41FA6DF7.8010800@nist.gov>
Date: Fri, 28 Jan 2005 11:53:11 -0500
From: Jonathan Lasko <jonathan.lasko@nist.gov>
Reply-To: jonathan.lasko@nist.gov
Organization: NIST
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7.3) Gecko/20040913
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: document numbers
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-NIST-MailScanner: Found to be clean
X-MailScanner-From: jonathan.lasko@nist.gov
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yet another burning question :-).  Can someone explain how the document 
numbers in Lucene documents work?  For example, the TermDocs.doc() 
method returns "the current doc number."  How can I get this doc number 
if I just have a Document?

Here's the context.  I'm working on implementing Justin Zobel's 
similarity functions (from his paper "Exploring the Similarity Space," 
mentioned previously by Ian) in a retrieval system based on Lucene.  I 
have a Lucene document and a term, for which I can get a TermDocs object 
from an IndexReader.  I then want to get the number of occurrences of 
that term in the specific Lucene document mentioned above.  I would like 
to call TermDocs.skip(<"doc # of Lucene doc">) and then freq() to get 
this frequency.  Is this the way to get the frequency of a term in a 
specific document?

Jonathan

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12803-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 16:57:51 2005
Return-Path: <lucene-user-return-12803-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17752 invoked from network); 28 Jan 2005 16:57:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 16:57:51 -0000
Received: (qmail 83049 invoked by uid 500); 28 Jan 2005 16:57:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82786 invoked by uid 500); 28 Jan 2005 16:57:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82772 invoked by uid 99); 28 Jan 2005 16:57:45 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from sparta.hostgo.com (HELO sparta.hostgo.com) (66.220.22.162)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 28 Jan 2005 08:57:44 -0800
Received: from [65.19.37.63] (helo=[10.0.1.2])
	by sparta.hostgo.com with esmtpa (Exim 4.44)
	id 1CuZR1-0005Vr-DU; Fri, 28 Jan 2005 11:57:27 -0500
Mime-Version: 1.0 (Apple Message framework v619)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <AEEF2069-714D-11D9-A6C4-000A95973046@backspaces.net>
Content-Transfer-Encoding: 7bit
Cc: Owen Densmore <owen@backspaces.net>
From: Owen Densmore <owen@backspaces.net>
Subject: Re: carrot2 question too - Re: Fun with the Wikipedia
Date: Fri, 28 Jan 2005 09:57:24 -0700
To: lucene-user@jakarta.apache.org
X-Mailer: Apple Mail (2.619)
X-MailScanner-Information: This email message has been scanned for viruses
X-MailScanner-HostGo: Found to be clean
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - sparta.hostgo.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - backspaces.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I looked at the Carrot2 docs which mentioned dimension reduction via 
singular value decomposition (SVD) .. and other forms too I think.

Question: Does anyone have pointers to successful clustering techniques 
used with lucene?  I'm particularly interested in 2D and 3D graphics as 
well, possibly SOM (Self Organizing Maps).

I'm hoping to combine lucene with a graphical auto-clustering stunt of 
some kind but am not sure how to do it yet.

Owen


> From: Akmal Sarhan <as@byteaction.de>
> Date: January 28, 2005 8:19:03 AM MST
> To: Lucene Users List <lucene-user@jakarta.apache.org>
> Subject: Re: carrot2 question too - Re: Fun with the Wikipedia
>
>
> Hello,
>
> we have been experimenting with carrot2 and are very pleased so far,
> only one issue: there is no release not even an alpha one and the
> dependencies seemed to be patched (jama)
> is there any intentions to have any releases in the near future?
>
> thanks
>
> Akmal
> Am Montag, den 17.01.2005, 10:15 +0100 schrieb Dawid Weiss:
>> Hi David,
>>
>> I apologize about the delay in answering this one, Lucene is a busy
>> mailing list and I had a hectic last week... Again, sorry for belated
>> answer, hope you still find it useful.
>>
>>>> That is awesome and very inspirational!
>>
>> Yes, I admit what you've done with Wikipedia is quite interesting and
>> looks very good. I'm also glad you spent some time working out Carrot
>> integration with Lucene. It works quite nice.
>>
>>>> Carrot2 looks very interesting. Wondering if anybody has a list of 
>>>> all
>>>> the
>>>
>>> Technically I don't think carrot2 uses lucene per-se- it's just that 
>>> you
>>> can integrate the two, and ditto for Nutch - it has code that uses 
>>> Carrot2.
>>
>> Yes, this is true. Carrot2 doesn't use all of Lucene's potential -- it
>> merely takes the output from a query (titles, urls and snippets) and
>> attempts to cluster them into some sensible groups. I think many 
>> things
>> could be improved, the most important of them is fast snippet 
>> retrieval
>>    from Lucene because right now it takes 50% of the time of the
>> clustering; I've seen a post a while ago describing a faster snippet
>> generation technique, I'm sure that would give clustering a huge boost
>> speed-wise.
>>
>>> And here's my question. I reread the Carrot2<->Lucene code, esp
>>> Demo.java, and there's this fragment:
>>>
>>>     // warm-up round (stemmer tables must be read etc).
>>>     List clusters = clusterer.clusterHits(docs);
>>>
>>>     long clusteringStartTime = System.currentTimeMillis();
>>>     clusters = clusterer.clusterHits(docs);
>>>     long clusteringEndTime = System.currentTimeMillis();
>>>
>>> Thus it calls clusterHits() twice.
>>>
>>> I don't really understand how to use Carrot2 - but I think the above 
>>> is
>>> just for the sake of benchmarking clusterHits() w/o the effect of 
>>> 1-time
>>> initialization - and that there's no benefit of repeatedly calling
>>> clusterHits (where a benefit might be that it can find nested 
>>> clusters
>>> or whatever) - is that right (that there's no benefit)?
>>
>> No, there is absolutely no benefit from it. It was merely to show 
>> people
>> that the clustering needs to be warmed up a bit. I should not have put
>> it in the code knowing people would be confused by it. You can safely
>> use clusterHits just once. It will just have a small delay at the 
>> first
>> invocation.
>>
>>
>> Thanks for experimenting. Please BCC me if you have any urgent 
>> projects
>> -- I read Lucene's list in batches and my personal e-mail I try to 
>> keep 
>> up to date with.
>>
>> Dawid
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12804-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 17:55:22 2005
Return-Path: <lucene-user-return-12804-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51329 invoked from network); 28 Jan 2005 17:55:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 17:55:20 -0000
Received: (qmail 42324 invoked by uid 500); 28 Jan 2005 17:55:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42298 invoked by uid 500); 28 Jan 2005 17:55:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42197 invoked by uid 99); 28 Jan 2005 17:55:08 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30205.mail.mud.yahoo.com (HELO web30205.mail.mud.yahoo.com) (68.142.200.88)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 28 Jan 2005 09:55:07 -0800
Received: (qmail 9390 invoked by uid 60001); 28 Jan 2005 17:55:04 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=mQGrJys4eXboIsu9yA4BA3rinfVMA5Q9lrYoKUygbZLYQU6+rgAoTXD3DBzxVmzFCBZHVeDMpjtqrBTm+kzKD541twPwhVa8gKLnd9entsZpxzVFikEotr9t/kA85x88+Ja53fh3HrKFNlBJ85SfFnT53eDuL4BODb8/mB6IyGE=  ;
Message-ID: <20050128175504.9388.qmail@web30205.mail.mud.yahoo.com>
Received: from [216.194.17.194] by web30205.mail.mud.yahoo.com via HTTP; Fri, 28 Jan 2005 09:55:04 PST
Date: Fri, 28 Jan 2005 09:55:04 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: total number of (unique) terms in the index
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  jonathan.lasko@nist.gov
In-Reply-To: <41FA60F8.9070006@nist.gov>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I don't think there is a direct way to get the number of (unique) terms
in the index, so yes, I think you'll have to loop through TermEnum and
count.

Otis

--- Jonathan Lasko <jonathan.lasko@nist.gov> wrote:

> I'm looking for the total number of unique terms in the index.  I see
> 
> that I can get a TermEnum of all the terms in the index, but what is
> the 
> fastest way to get the total number of terms?
> 
> Jonathan
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12805-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 17:59:29 2005
Return-Path: <lucene-user-return-12805-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52996 invoked from network); 28 Jan 2005 17:59:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 17:59:29 -0000
Received: (qmail 49134 invoked by uid 500); 28 Jan 2005 17:59:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48913 invoked by uid 500); 28 Jan 2005 17:59:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48859 invoked by uid 99); 28 Jan 2005 17:59:10 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30205.mail.mud.yahoo.com (HELO web30205.mail.mud.yahoo.com) (68.142.200.88)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 28 Jan 2005 09:59:09 -0800
Received: (qmail 10779 invoked by uid 60001); 28 Jan 2005 17:59:07 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=50rWyn5bmuWJn76jol/Ml80XnmnkwMIc1y1/bfLxpCq1hjv6MOfFf6aZgVrcyXx+B8iToRx7upY+tAxi8D5RWc2qmvnhgHrlLOVdC3+lXDwtbbaX0Oc6rvwjtkR/de/ipnDeC4KlN0DKIndTnSVwrI1f34k81Bcnc0xX1Muq2fQ=  ;
Message-ID: <20050128175907.10777.qmail@web30205.mail.mud.yahoo.com>
Received: from [216.194.17.194] by web30205.mail.mud.yahoo.com via HTTP; Fri, 28 Jan 2005 09:59:07 PST
Date: Fri, 28 Jan 2005 09:59:07 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Loading a large index
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20050128154506.82378.qmail@web30807.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Edwin,

--- Edwin Tang <emttang@yahoo.com> wrote:

> I have three indices really that I search via ParallelMultiSearcher.
> All three
> are being updated constantly. We would like to be able to perform a
> search on
> the indices and have the results reflect the latest documents
> indexed. However,
> that would mean I need to "refresh" my searcher. Because of the size
> of these,
> it's taking some time to load, and so search speed from the end user
> perspective seems slow. What can I do to minimize or do away with the
> time it
> takes to loading a new searcher... from the end user perspective that
> is?

How up-to-date do these searches have to be?  If they don't have to be
exactly up to date you could periodically re-create the IndexSearcher,
instead of checking for a ne ndex version on every search.  I think 
person from Moreover.com posted some code that may be relevant.  Maybe
3-4 months ago, maybe 6...it had to do with re-reading the index in the
background for sorting purposes, if I recall correctly.

Otis


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12806-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 18:01:53 2005
Return-Path: <lucene-user-return-12806-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54160 invoked from network); 28 Jan 2005 18:01:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 18:01:53 -0000
Received: (qmail 56509 invoked by uid 500); 28 Jan 2005 18:01:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56482 invoked by uid 500); 28 Jan 2005 18:01:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56467 invoked by uid 99); 28 Jan 2005 18:01:48 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30209.mail.mud.yahoo.com (HELO web30209.mail.mud.yahoo.com) (68.142.200.92)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 28 Jan 2005 10:01:47 -0800
Received: (qmail 22277 invoked by uid 60001); 28 Jan 2005 18:01:45 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=Uj1IecIFMR0h76Kt6/C6a67fF8OLKYtF+YJBf62Ee9eikpFQXkP7rDlqnch4XsXxNEQGAbbhwQDBMv5AlSMPQD5fBdPrMHZ4DTOFgBBaS1sDTLubDTf+ilqErA/F49Er6qEqsgCRiCJS+hBYKjzS6gVThkRmfRrF2q4PnELn4+4=  ;
Message-ID: <20050128180145.22275.qmail@web30209.mail.mud.yahoo.com>
Received: from [216.194.17.194] by web30209.mail.mud.yahoo.com via HTTP; Fri, 28 Jan 2005 10:01:44 PST
Date: Fri, 28 Jan 2005 10:01:44 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Disk space used by optimize
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <16889.62639.629816.504392@tanto-xipolis.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Morus,

that description of 3 sets of index files is what I was imagining, too.
 I'll have to test and add to the book errata, it seems.

Thanks for the info,
Otis

--- Morus Walter <morus.walter@tanto.de> wrote:

> Otis Gospodnetic writes:
> > Hello,
> > 
> > Yes, that is how optimize works - copies all existing index
> segments
> > into one unified index segment, thus optimizing it.
> > 
> > see hit #1:
> http://www.lucenebook.com/search?query=optimize+disk+space
> > 
> > However, three times the space sounds a bit too much, or I make a
> > mistake in the book. :)
> > 
> I cannot explain why, but ~ three times the size of the final index
> is
> what I observed, when I logged disk usage during optimize of an index
> in compound index format.
> The test was on linux, I simply did a 'du -s' every few seconds
> parallel 
> to the optimize.
> I didn't test noncompund format. Probably optimizing a compund format
> requires to store the different parts of the compound file separately
> before joining them to the compound file (sound reasonable, otherwise
> you would need to know the sizes before creating the parts). In that
> case 
> you had the original index, the separate files and the new compound
> file 
> as the disk usage peak.
> 
> So IMHO the book is wrong.
> 
> Morus
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12807-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 18:31:40 2005
Return-Path: <lucene-user-return-12807-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69590 invoked from network); 28 Jan 2005 18:31:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 18:31:40 -0000
Received: (qmail 31510 invoked by uid 500); 28 Jan 2005 18:31:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31477 invoked by uid 500); 28 Jan 2005 18:31:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31449 invoked by uid 99); 28 Jan 2005 18:31:33 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30210.mail.mud.yahoo.com (HELO web30210.mail.mud.yahoo.com) (68.142.200.93)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 28 Jan 2005 10:31:31 -0800
Received: (qmail 3704 invoked by uid 60001); 28 Jan 2005 18:31:28 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=ur8mKpJ8r6FEbf4inDOLtcSjdOa7Z6UUOp5oFT6jTHs5FcmZRs7NDRsc1NtulOXM9hmApijiEjlZVjje/ihrEeGG2A+Gp7lsDd8b07v3aTM6gmFVKbMfRX+aDnAvjVxN1sCq8bcx7X+wsvywgIDm86cMZA5kQK7ygRHLdiZY/4s=  ;
Message-ID: <20050128183128.3702.qmail@web30210.mail.mud.yahoo.com>
Received: from [216.194.17.194] by web30210.mail.mud.yahoo.com via HTTP; Fri, 28 Jan 2005 10:31:28 PST
Date: Fri, 28 Jan 2005 10:31:28 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene in Action hits desk in UK
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20050127060730.87072.qmail@web90103.mail.scd.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

I've asked the publisher ( http://www.manning.com ) yesterday.  I don't
know about the exact stores, but apparently they do have a distributor
in Singapore, so you should be able to find Lucene in Action there
soon.

Otis

--- jac jac <foria88@yahoo.com.sg> wrote:

> 
> Just wondering:
> 
> Is Lucene-in-Action being sold anywhere in Singapore?
> 
>  
> 
> thanks!
> 
> 
> 
> Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote: Gospodneti
> sounds like Gospodnetich and Eric is Erik :)
> 
> Otis
> 
> --- John Haxby wrote:
> 
> > Otis Gospodnetic wrote:
> > 
> > >I contacted both the US and UK Amazon sites and asked them to fix
> my
> > >last name (the last character in my name has a little slash (not
> an
> > >accent) above it), but they never bothered to fix it nor email me
> > back.
> > >
> > > 
> > >
> > They probably don't know how to type a . How _do_ you pronounce
> > your 
> > name? I've no idea what to do with that mark over the final c! At
> > the 
> > moment it's "Lucene in Action" by Eric Hatcher and Otis 
> > Gospo-something-or-other :-)
> > 
> > >Anyhow, enjoy Lucene in Action!
> > > 
> > >
> > Already doing so!
> > 
> > jch



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12808-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 19:16:57 2005
Return-Path: <lucene-user-return-12808-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88759 invoked from network); 28 Jan 2005 19:16:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 19:16:56 -0000
Received: (qmail 3760 invoked by uid 500); 28 Jan 2005 19:16:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3741 invoked by uid 500); 28 Jan 2005 19:16:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3728 invoked by uid 99); 28 Jan 2005 19:16:52 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from gwia201.syr.edu (HELO gwia201.syr.edu) (128.230.248.25)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 28 Jan 2005 11:16:50 -0800
Received: from MTA2-MTA by gwia201.syr.edu
	with Novell_GroupWise; Fri, 28 Jan 2005 14:16:48 -0500
Message-Id: <s1fa4950.002@gwia201.syr.edu>
X-Mailer: Novell GroupWise Internet Agent 6.5.1 
Date: Fri, 28 Jan 2005 14:16:13 -0500
From: "Grant Ingersoll" <GSIngers@syr.edu>
To: <lucene-user@jakarta.apache.org>
Subject: Re: query term frequency
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I implemented a Query version of the TermVector

org.apache.lucene.search.QueryTermVector

Works off of an array of Strings or a String and an Analyzer.  Is this
what you are looking for?


>>> erik@ehatchersolutions.com 1/28/2005 6:33:18 AM >>>
On Jan 27, 2005, at 10:24 PM, Jonathan Lasko wrote:
> No, the number of occurrences of a term in a Query.

Nothing built-in gives you this.  You'd have to dissect the Query  
clause-by-clause and cast each clause to the proper type to pull the  
terms from them.  The Highlighter code does this.

If there is a better way, I'd like to know.

	Erik


>
> Jonathan
>
> Quoting David Spencer <dave-lucene-user@tropo.com>:
>
>> Jonathan Lasko wrote:
>>
>>> What do I call to get the term frequencies for terms in the Query? 
I
>>> can't seem to find it in the Javadoc...
>>
>> Do you mean the # of docs that have a term?
>>
>>
> http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/ 
> IndexReader.html#docFreq(org.apache.lucene.index.Term)
>>> Thanks.
>>>
>>> Jonathan
>>>
>>>
---------------------------------------------------------------------
>>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org

>>> For additional commands, e-mail:
lucene-user-help@jakarta.apache.org 
>>>
>>
>>
>>
---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org 
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org

>>
>>
>>
>>
>
>
>
>
---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org 
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org 
For additional commands, e-mail: lucene-user-help@jakarta.apache.org 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12809-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 19:56:30 2005
Return-Path: <lucene-user-return-12809-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7949 invoked from network); 28 Jan 2005 19:56:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 19:56:30 -0000
Received: (qmail 62832 invoked by uid 500); 28 Jan 2005 19:56:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62727 invoked by uid 500); 28 Jan 2005 19:56:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62712 invoked by uid 99); 28 Jan 2005 19:56:25 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp003.mail.ukl.yahoo.com (HELO smtp003.mail.ukl.yahoo.com) (217.12.11.34)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 28 Jan 2005 11:56:24 -0800
Received: from unknown (HELO ?10.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp003.mail.ukl.yahoo.com with SMTP; 28 Jan 2005 19:56:22 -0000
Message-ID: <41FA98EB.4000703@yahoo.co.uk>
Date: Fri, 28 Jan 2005 19:56:27 +0000
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 0.8 (Windows/20040913)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: query term frequency
References: <s1fa4950.002@gwia201.syr.edu>
In-Reply-To: <s1fa4950.002@gwia201.syr.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This from the highlighter package will give you the IDF :
WeightedTerm[]  QueryTermExtractor.getIdfWeightedTerms(Query query, 
IndexReader reader, String fieldName)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12810-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 21:21:59 2005
Return-Path: <lucene-user-return-12810-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59888 invoked from network); 28 Jan 2005 21:21:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 21:21:59 -0000
Received: (qmail 95096 invoked by uid 500); 28 Jan 2005 21:21:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95068 invoked by uid 500); 28 Jan 2005 21:21:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95041 invoked by uid 99); 28 Jan 2005 21:21:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from ylpvm43-ext.prodigy.net (HELO ylpvm43.prodigy.net) (207.115.57.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 28 Jan 2005 13:21:54 -0800
Received: from [192.168.1.10] (adsl-66-141-54-106.dsl.austtx.swbell.net [66.141.54.106])
	by ylpvm43.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id j0SLM32Y026883
	for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 16:22:03 -0500
Mime-Version: 1.0 (Apple Message framework v619.2)
Content-Transfer-Encoding: 7bit
Message-Id: <5daa4a02f38e35663d5dc3b5e6aeaa95@otherwise.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: Lucene Users List <lucene-user@jakarta.apache.org>
From: Bill Tschumy <bill@otherwise.com>
Subject: Penalty for storing unrelated field?
Date: Fri, 28 Jan 2005 15:21:50 -0600
X-Mailer: Apple Mail (2.619.2)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have an index containing a lot of documents with common fields.  Is 
there any speed/space penalty for adding an unrelated document with a 
totally unrelated field?  I want to store a version number and maybe a 
few other bits of meta-info in the index.  I just want to make sure 
that adding the unrelated field to a single doc won't cause all the 
other documents to increase their storage space.  I would guess not but 
thought I'd better ask.
-- 
Bill Tschumy
Otherwise -- Austin, TX
http://www.otherwise.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12811-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 21:31:06 2005
Return-Path: <lucene-user-return-12811-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63946 invoked from network); 28 Jan 2005 21:31:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 21:31:06 -0000
Received: (qmail 14857 invoked by uid 500); 28 Jan 2005 21:31:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14833 invoked by uid 500); 28 Jan 2005 21:31:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14814 invoked by uid 99); 28 Jan 2005 21:31:00 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of goodell@gmail.com designates 64.233.170.193 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 28 Jan 2005 13:30:59 -0800
Received: by rproxy.gmail.com with SMTP id f1so538265rne
        for <lucene-user@jakarta.apache.org>; Fri, 28 Jan 2005 13:30:57 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=TX0ANmMcdLblHEEwzbeL8cMwE1dqt6BODgi+/DqwOB/N3W+uc40Z46NOJTrOlOwVA9wgX15GruKZmH48h4fIHeTYiXGOJDohUA4DT3BoytoHdm3n9Xhk8a9DDyuh6L9jMRTb4ZaLE+4j7ylUNuLJWo12Pp6ffwLuaqx70Qb0YLc=
Received: by 10.39.1.65 with SMTP id d65mr50999rni;
        Fri, 28 Jan 2005 13:30:56 -0800 (PST)
Received: by 10.39.1.25 with HTTP; Fri, 28 Jan 2005 13:30:56 -0800 (PST)
Message-ID: <55b2c6b9050128133053fe98a8@mail.gmail.com>
Date: Fri, 28 Jan 2005 13:30:56 -0800
From: Andy Goodell <goodell@gmail.com>
Reply-To: Andy Goodell <goodell@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Penalty for storing unrelated field?
In-Reply-To: <5daa4a02f38e35663d5dc3b5e6aeaa95@otherwise.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <5daa4a02f38e35663d5dc3b5e6aeaa95@otherwise.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You should be fine.

On Fri, 28 Jan 2005 15:21:50 -0600, Bill Tschumy <bill@otherwise.com> wrote:
>  I just want to make sure
> that adding the unrelated field to a single doc won't cause all the
> other documents to increase their storage space. 
> --

I have lots of fields that only occur in one document, but it doesn't
phase lucene.  Actually when choosing an indexing solution, we chose
lucene mostly because of its ability to index and store unlimited
kinds of metadata.

- andy g

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12812-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Jan 28 22:13:48 2005
Return-Path: <lucene-user-return-12812-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79380 invoked from network); 28 Jan 2005 22:13:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Jan 2005 22:13:48 -0000
Received: (qmail 98422 invoked by uid 500); 28 Jan 2005 22:13:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98392 invoked by uid 500); 28 Jan 2005 22:13:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98371 invoked by uid 99); 28 Jan 2005 22:13:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from vpn3.cymfony.com (HELO webmail.cymfony.com) (65.209.1.80)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 28 Jan 2005 14:13:33 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Simple question about concurrency
Date: Fri, 28 Jan 2005 17:13:06 -0500
Message-ID: <13F36D2926AD444697093282F20041B7B3FE21@buf-ex01.cymfony.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Simple question about concurrency
Thread-Index: AcUFhoqmPn8LgZTWRFyb+aX8VppzWw==
From: "Peter Kim" <pkim@cymfony.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
I'm still mostly a beginner, both with Java and Lucene, so I apologize
if this may be  dumb questions.=20

Is making index-modifying operations "safe" as simple just doing the
following?

synchronized (writer) {

	while (IndexReader.isLocked(directory))
		wait();
	writer.addDocument(document);
	writer.optimize();
	writer.close();
	notifyAll();

}


Also, should the IndexWriter or IndexReader be static (since you can't
have more than one open anyways?) or is there a reason to make it
non-static?

Thanks!
Peter

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12813-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 29 00:01:36 2005
Return-Path: <lucene-user-return-12813-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14116 invoked from network); 29 Jan 2005 00:01:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Jan 2005 00:01:36 -0000
Received: (qmail 51548 invoked by uid 500); 29 Jan 2005 00:01:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51524 invoked by uid 500); 29 Jan 2005 00:01:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51511 invoked by uid 99); 29 Jan 2005 00:01:32 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web50505.mail.yahoo.com (HELO web50505.mail.yahoo.com) (206.190.38.81)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 28 Jan 2005 16:01:30 -0800
Received: (qmail 1135 invoked by uid 60001); 29 Jan 2005 00:01:28 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=E9neB2ddJzfcRBS1Y+xkBrV1es6bd4IKq3P/t45xMKNPnc1oMjftlC62P5IlUI0QJZ04zRtmkE+FkN/RHlxGEvhoOlmL/YkMKRzpziR6/HmORDGj46AiNYTayLu1trKTu9cFTeWLfrAgggom9FvnW3bFxCmnrHKxoZ0XflC6Ltw=  ;
Message-ID: <20050129000128.1133.qmail@web50505.mail.yahoo.com>
Received: from [64.170.159.34] by web50505.mail.yahoo.com via HTTP; Fri, 28 Jan 2005 16:01:28 PST
Date: Fri, 28 Jan 2005 16:01:28 -0800 (PST)
From: Yousef Ourabi <yousef_ourabi@yahoo.com>
Subject: Re-Indexing a moving target???
To: lucene-user@jakarta.apache.org
Cc: saad@jeteye.com
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey,
We are using lucene to index a moderatly changing
database, and I have a couple of questions on a
performance strategy.

1) Should we just have one index writer open unil the
system comes down...or create a new index writer each
time we re-index our data-set.

2) Does anyone have anythoughts...multi-threading and
segments instead of one index?

Thanks for your time and help.
Best,
Yousef

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12814-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 29 06:42:45 2005
Return-Path: <lucene-user-return-12814-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24177 invoked from network); 29 Jan 2005 06:42:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Jan 2005 06:42:45 -0000
Received: (qmail 99596 invoked by uid 500); 29 Jan 2005 06:42:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99450 invoked by uid 500); 29 Jan 2005 06:42:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99437 invoked by uid 99); 29 Jan 2005 06:42:39 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.bayt.net (HELO mail.bayt.net) (216.176.57.91)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 28 Jan 2005 22:42:37 -0800
Received: from [192.168.0.4] [217.165.84.89] by mail.bayt.net with ESMTP
  (SMTPD32-8.15) id A27A45CA00BA; Sat, 29 Jan 2005 01:51:38 -0500
Message-ID: <41FB3056.2000708@bayt.net>
Date: Sat, 29 Jan 2005 10:42:30 +0400
From: Nader Henein <nsh@bayt.net>
Reply-To:  nsh@bayt.net
Organization: Bayt.com
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Re-Indexing a moving target???
References: <20050129000128.1133.qmail@web50505.mail.yahoo.com>
In-Reply-To: <20050129000128.1133.qmail@web50505.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

We'll need a little more detail to help you, what are the sizes of your 
updates and how often are they updated.

1) No just re-open the index writer every time to re-index, according to 
you it's moderately changing index, just keep a flag on the rows and 
batch indexing every so often.
2) It all comes down to your needs, more detail would help us help you.

Nader Henein

Yousef Ourabi wrote:

>Hey,
>We are using lucene to index a moderatly changing
>database, and I have a couple of questions on a
>performance strategy.
>
>1) Should we just have one index writer open unil the
>system comes down...or create a new index writer each
>time we re-index our data-set.
>
>2) Does anyone have anythoughts...multi-threading and
>segments instead of one index?
>
>Thanks for your time and help.
>Best,
>Yousef
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
>  
>

-- 
Nader S. Henein
Senior Applications Developer

Bayt.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12815-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 29 11:27:51 2005
Return-Path: <lucene-user-return-12815-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44734 invoked from network); 29 Jan 2005 11:27:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Jan 2005 11:27:50 -0000
Received: (qmail 58608 invoked by uid 500); 29 Jan 2005 11:27:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58563 invoked by uid 500); 29 Jan 2005 11:27:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58533 invoked by uid 99); 29 Jan 2005 11:27:45 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr10.xs4all.nl (HELO smtp-vbr10.xs4all.nl) (194.109.24.30)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 29 Jan 2005 03:27:43 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr10.xs4all.nl (8.12.11/8.12.11) with ESMTP id j0TBRe2I058571
	for <lucene-user@jakarta.apache.org>; Sat, 29 Jan 2005 12:27:40 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Penalty for storing unrelated field?
Date: Sat, 29 Jan 2005 12:27:40 +0100
User-Agent: KMail/1.5.4
References: <5daa4a02f38e35663d5dc3b5e6aeaa95@otherwise.com> <55b2c6b9050128133053fe98a8@mail.gmail.com>
In-Reply-To: <55b2c6b9050128133053fe98a8@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200501291227.40161.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday 28 January 2005 22:30, Andy Goodell wrote:
> You should be fine.

For search performance, yes. But the extra field data does slow down
optimization of a modified index because all the field (and index) data
is read and written for that. When the extra data gets bulky, it's normally
better to store it in the file system or in a database.

> On Fri, 28 Jan 2005 15:21:50 -0600, Bill Tschumy <bill@otherwise.com> wrote:
> >  I just want to make sure
> > that adding the unrelated field to a single doc won't cause all the
> > other documents to increase their storage space. 
> > --
> 
> I have lots of fields that only occur in one document, but it doesn't
> phase lucene.  Actually when choosing an indexing solution, we chose
> lucene mostly because of its ability to index and store unlimited
> kinds of metadata.
> 
> - andy g
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12816-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Jan 29 19:29:30 2005
Return-Path: <lucene-user-return-12816-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9351 invoked from network); 29 Jan 2005 19:29:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 29 Jan 2005 19:29:30 -0000
Received: (qmail 76935 invoked by uid 500); 29 Jan 2005 19:29:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76904 invoked by uid 500); 29 Jan 2005 19:29:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76890 invoked by uid 99); 29 Jan 2005 19:29:24 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp804.mail.ukl.yahoo.com (HELO smtp804.mail.ukl.yahoo.com) (217.12.12.141)
  by apache.org (qpsmtpd/0.28) with SMTP; Sat, 29 Jan 2005 11:29:22 -0800
Received: from unknown (HELO p800xp) (adam.saltiel@btinternet.com@217.42.10.197 with login)
  by smtp804.mail.ukl.yahoo.com with SMTP; 29 Jan 2005 19:29:19 -0000
Reply-To: <adam.saltiel@btinternet.com>
From: "Adam Saltiel" <adam.saltiel@btinternet.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: carrot2 question too - Re: Fun with the Wikipedia
Date: Sat, 29 Jan 2005 19:29:30 -0000
Message-ID: <0a6501c50638$db4589f0$0200a8c0@p800xp>
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <AEEF2069-714D-11D9-A6C4-000A95973046@backspaces.net>
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Strangely enough this subject is being taken up in the RE: -> Grouping
Search Results by Clustering Snippets: thread.

Adam

> -----Original Message-----
> From: Owen Densmore [mailto:owen@backspaces.net]
> Sent: Friday, January 28, 2005 4:57 PM
> To: lucene-user@jakarta.apache.org
> Cc: Owen Densmore
> Subject: Re: carrot2 question too - Re: Fun with the Wikipedia
>
> I looked at the Carrot2 docs which mentioned dimension reduction via
> singular value decomposition (SVD) .. and other forms too I think.
>
> Question: Does anyone have pointers to successful clustering
techniques
> used with lucene?  I'm particularly interested in 2D and 3D graphics
as
> well, possibly SOM (Self Organizing Maps).
>
> I'm hoping to combine lucene with a graphical auto-clustering stunt of
> some kind but am not sure how to do it yet.
>
> Owen
>
>
> > From: Akmal Sarhan <as@byteaction.de>
> > Date: January 28, 2005 8:19:03 AM MST
> > To: Lucene Users List <lucene-user@jakarta.apache.org>
> > Subject: Re: carrot2 question too - Re: Fun with the Wikipedia
> >
> >
> > Hello,
> >
> > we have been experimenting with carrot2 and are very pleased so far,
> > only one issue: there is no release not even an alpha one and the
> > dependencies seemed to be patched (jama)
> > is there any intentions to have any releases in the near future?
> >
> > thanks
> >
> > Akmal
> > Am Montag, den 17.01.2005, 10:15 +0100 schrieb Dawid Weiss:
> >> Hi David,
> >>
> >> I apologize about the delay in answering this one, Lucene is a busy
> >> mailing list and I had a hectic last week... Again, sorry for
belated
> >> answer, hope you still find it useful.
> >>
> >>>> That is awesome and very inspirational!
> >>
> >> Yes, I admit what you've done with Wikipedia is quite interesting
and
> >> looks very good. I'm also glad you spent some time working out
Carrot
> >> integration with Lucene. It works quite nice.
> >>
> >>>> Carrot2 looks very interesting. Wondering if anybody has a list
of
> >>>> all
> >>>> the
> >>>
> >>> Technically I don't think carrot2 uses lucene per-se- it's just
that
> >>> you
> >>> can integrate the two, and ditto for Nutch - it has code that uses
> >>> Carrot2.
> >>
> >> Yes, this is true. Carrot2 doesn't use all of Lucene's potential --
it
> >> merely takes the output from a query (titles, urls and snippets)
and
> >> attempts to cluster them into some sensible groups. I think many
> >> things
> >> could be improved, the most important of them is fast snippet
> >> retrieval
> >>    from Lucene because right now it takes 50% of the time of the
> >> clustering; I've seen a post a while ago describing a faster
snippet
> >> generation technique, I'm sure that would give clustering a huge
boost
> >> speed-wise.
> >>
> >>> And here's my question. I reread the Carrot2<->Lucene code, esp
> >>> Demo.java, and there's this fragment:
> >>>
> >>>     // warm-up round (stemmer tables must be read etc).
> >>>     List clusters = clusterer.clusterHits(docs);
> >>>
> >>>     long clusteringStartTime = System.currentTimeMillis();
> >>>     clusters = clusterer.clusterHits(docs);
> >>>     long clusteringEndTime = System.currentTimeMillis();
> >>>
> >>> Thus it calls clusterHits() twice.
> >>>
> >>> I don't really understand how to use Carrot2 - but I think the
above
> >>> is
> >>> just for the sake of benchmarking clusterHits() w/o the effect of
> >>> 1-time
> >>> initialization - and that there's no benefit of repeatedly calling
> >>> clusterHits (where a benefit might be that it can find nested
> >>> clusters
> >>> or whatever) - is that right (that there's no benefit)?
> >>
> >> No, there is absolutely no benefit from it. It was merely to show
> >> people
> >> that the clustering needs to be warmed up a bit. I should not have
put
> >> it in the code knowing people would be confused by it. You can
safely
> >> use clusterHits just once. It will just have a small delay at the
> >> first
> >> invocation.
> >>
> >>
> >> Thanks for experimenting. Please BCC me if you have any urgent
> >> projects
> >> -- I read Lucene's list in batches and my personal e-mail I try to
> >> keep
> >> up to date with.
> >>
> >> Dawid
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12817-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Jan 30 10:34:45 2005
Return-Path: <lucene-user-return-12817-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96168 invoked from network); 30 Jan 2005 10:34:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 30 Jan 2005 10:34:44 -0000
Received: (qmail 51019 invoked by uid 500); 30 Jan 2005 10:34:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50989 invoked by uid 500); 30 Jan 2005 10:34:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50975 invoked by uid 99); 30 Jan 2005 10:34:39 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from artishost.net (HELO artisangel.artishost.net) (69.56.132.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 30 Jan 2005 02:34:38 -0800
Received: from [81.25.37.52] (helo=localhost)
	by artisangel.artishost.net with esmtpa (Exim 4.43)
	id 1CvCPO-0005Hm-Qz
	for lucene-user@jakarta.apache.org; Sun, 30 Jan 2005 04:34:28 -0600
Date: Sun, 30 Jan 2005 12:34:01 +0200
From: Yura Smolsky <info@altervision.biz>
X-Mailer: The Bat! (v3.0.1.33) Professional
Reply-To: Yura Smolsky <info@altervision.biz>
Organization: AlterVision Web Development Group
X-Priority: 3 (Normal)
Message-ID: <1485505105.20050130123401@altervision.biz>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re[2]: Disk space used by optimize
In-Reply-To: <20050128014341.67717.qmail@web30209.mail.mud.yahoo.com>
References:
 <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B916C1@edumail2.education.tas.gov.au>
 <20050128014341.67717.qmail@web30209.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Score: 0.0
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - artisangel.artishost.net
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - altervision.biz
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello, Otis.

There is a big difference when you use compound index format or
multiple files. I have tested it on the big index (45 Gb). When I used
compound file then optimize takes 3 times more space, b/c *.cfs needs
to be unpacked.

Now I do use non compound file format. It needs like twice as much
disk space.

OG> Have you tried using the multifile index format?  Now I wonder if there
OG> is actually a difference in disk space cosumed by optimize() when you
OG> use multifile and compound index format...

OG> Otis

OG> --- "Kauler, Leto S" <leto.kauler@education.tas.gov.au> wrote:

>> Our copy of LIA is "in the mail" ;)
>> 
>> Yes the final three files are: the .cfs (46.8MB), deletable (4
>> bytes),
>> and segments (29 bytes).
>> 
>> --Leto
>> 
>> 
>> 
>> > -----Original Message-----
>> > From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
>> > 
>> > Hello,
>> > 
>> > Yes, that is how optimize works - copies all existing index 
>> > segments into one unified index segment, thus optimizing it.
>> > 
>> > see hit #1:
>> http://www.lucenebook.com/search?query=optimize+disk+space
>> > 
>> > However, three times the space sounds a bit too much, or I 
>> > make a mistake in the book. :)
>> > 
>> > You said you end up with 3 files - .cfs is one of them, right?
>> > 
>> > Otis
>> > 
>> > 
>> > --- "Kauler, Leto S" <leto.kauler@education.tas.gov.au> wrote:
>> > 
>> > > 
>> > > Just a quick question:  after writing an index and then calling
>> > > optimize(), is it normal for the index to expand to about 
>> > three times 
>> > > the size before finally compressing?
>> > > 
>> > > In our case the optimise grinds the disk, expanding the index
>> into 
>> > > many files of about 145MB total, before compressing down to three
>> 
>> > > files of about 47MB total.  That must be a lot of disk activity
>> for 
>> > > the people with multi-gigabyte indexes!
>> > > 
>> > > Regards,
>> > > Leto
>> 
>> CONFIDENTIALITY NOTICE AND DISCLAIMER
>> 
>> Information in this transmission is intended only for the person(s)
>> to whom it is addressed and may contain privileged and/or
>> confidential information. If you are not the intended recipient, any
>> disclosure, copying or dissemination of the information is
>> unauthorised and you should delete/destroy all copies and notify the
>> sender. No liability is accepted for any unauthorised use of the
>> information contained in this transmission.
>> 
>> This disclaimer has been automatically added.
>> 
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail:
>> lucene-user-help@jakarta.apache.org
>> 
>> 


OG> ---------------------------------------------------------------------
OG> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
OG> For additional commands, e-mail:
OG> lucene-user-help@jakarta.apache.org


Yura Smolsky,




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12818-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 31 05:29:35 2005
Return-Path: <lucene-user-return-12818-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8938 invoked from network); 31 Jan 2005 05:29:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 Jan 2005 05:29:34 -0000
Received: (qmail 58078 invoked by uid 500); 31 Jan 2005 05:29:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57961 invoked by uid 500); 31 Jan 2005 05:29:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57946 invoked by uid 99); 31 Jan 2005 05:29:30 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of robinson.raju@gmail.com designates 64.233.170.194 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.194)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 30 Jan 2005 21:29:29 -0800
Received: by rproxy.gmail.com with SMTP id z35so750806rne
        for <lucene-user@jakarta.apache.org>; Sun, 30 Jan 2005 21:29:26 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=Dd52mZYYUc1BFtkxQT9BfubNd632bxy5bE4NlOl9ScooPhy4Mt59COpT0a3binE0GP1gPZqCmXAhc5PGJbvPZExGA4B2j7qCq2YI0U3aCM1WTRdneVFCOhwOnCjbpNBJw3kWX1vQ8axJlpYU/rH3mlytOla8pOu91OU+x67P9wY=
Received: by 10.38.14.66 with SMTP id 66mr174773rnn;
        Sun, 30 Jan 2005 21:29:26 -0800 (PST)
Received: by 10.39.3.1 with HTTP; Sun, 30 Jan 2005 21:29:26 -0800 (PST)
Message-ID: <d435703105013021291f3e4b40@mail.gmail.com>
Date: Mon, 31 Jan 2005 10:59:26 +0530
From: Robinson Raju <robinson.raju@gmail.com>
Reply-To: Robinson Raju <robinson.raju@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>, 
	Chris Lamprecht <clamprecht@gmail.com>
Subject: Re: Searching with words that contain % , / and the like
In-Reply-To: <88c6a672050127005029324330@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <d4357031050126224235773d21@mail.gmail.com>
	 <88c6a672050127005029324330@mail.gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi ,
  Yes. Analyzer was the culprit behind eating away some of the letters
in the search string . StandardAnalyser has 'a' and 's' as stop words
(amongst others).
Since i want to search on these (specifically , i want to search on
words like "a/s" , "e/p" , "15%" , " 15' " ..etc). so i commented the
following lines in StandardAnalyser .. (filtering of Standard tokens
and stop words)

  public TokenStream tokenStream(String fieldName, Reader reader) {
    TokenStream result = new StandardTokenizer(reader);
//    result = new StandardFilter(result);
    result = new LowerCaseFilter(result);
//    result = new StopFilter(result, stopSet);
    return result; 

now stop words are not getting filtered but "/" still goes off.
so "a/s" is read as "a s"

Regards
Robin

On Thu, 27 Jan 2005 02:50:13 -0600, Chris Lamprecht
<clamprecht@gmail.com> wrote:
> Without looking at the source, my guess is that StandardAnalyzer (and
> StandardTokenizer) is the culprit.  The StandardAnalyzer grammar (in
> StandardTokenizer.jj) is probably defined so "x/y" parses into two
> tokens, "x" and "y".  "s" is a default stopword (see
> StopAnalyzer.ENGLISH_STOP_WORDS), so it gets filtered out, while "p"
> does not.
> 
> To get what you want, you can use a WhitespaceAnalyzer, write your own
> custom Analyzer or Tokenizer, or modify the StandardTokenizer.jj
> grammar to suit your needs.  WhitespaceAnalyzer is much simpler than
> StandardAnalyzer, so you may see some other things being tokenized
> differently.
> 
> -Chris
> 
> On Thu, 27 Jan 2005 12:12:16 +0530, Robinson Raju
> <robinson.raju@gmail.com> wrote:
> > Hi ,
> >
> > Is there a way to search for words that contain "/" or "%" .
> > if my query is "test/s" , it is just taken as "test"
> > if my query is "test/p" , it is just taken as "test p"
> > has anyone done this / faced such an issue ?
> >
> > Regards
> > Robin
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


-- 
Regards,
Robin
9886394650
"The merit of an action lies in finishing it to the end"

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12819-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 31 08:11:00 2005
Return-Path: <lucene-user-return-12819-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67356 invoked from network); 31 Jan 2005 08:11:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 Jan 2005 08:11:00 -0000
Received: (qmail 49621 invoked by uid 500); 31 Jan 2005 08:10:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49473 invoked by uid 500); 31 Jan 2005 08:10:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49460 invoked by uid 99); 31 Jan 2005 08:10:54 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 31 Jan 2005 00:10:52 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP
	id D281B23BCA; Mon, 31 Jan 2005 09:11:16 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 19922-05; Mon, 31 Jan 2005 09:11:16 +0100 (CET)
Received: from tucholsky.office.tanto.de (tucholsky.office.tanto.de [10.0.0.35])
	by mail.tanto.de (Postfix) with ESMTP
	id A372A23B8E; Mon, 31 Jan 2005 09:11:16 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) with ESMTP id j0V8Ar72017025;
	Mon, 31 Jan 2005 09:10:53 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) id j0V8Ar2V017021;
	Mon, 31 Jan 2005 09:10:53 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16893.59405.553399.893964@tanto-xipolis.de>
Date: Mon, 31 Jan 2005 09:10:53 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	jonathan.lasko@nist.gov
Subject: Re: document numbers
In-Reply-To: <41FA6DF7.8010800@nist.gov>
References: <41FA6DF7.8010800@nist.gov>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Jonathan,

> Yet another burning question :-).  Can someone explain how the document 
> numbers in Lucene documents work?  For example, the TermDocs.doc() 
> method returns "the current doc number."  How can I get this doc number 
> if I just have a Document?
> 
I don't think you can.
A document does not even have to be indexed yet.

So either you're dealing with some document found in the index, then you 
should have the document number already, or you have a document independently
from the index, then you have to analyze the documents content and count
yourself.

Note that term vector support might be useful if you're interested in more
than one term (but that requires the document number again).

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12820-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 31 09:16:16 2005
Return-Path: <lucene-user-return-12820-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24063 invoked from network); 31 Jan 2005 09:16:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 Jan 2005 09:16:16 -0000
Received: (qmail 49282 invoked by uid 500); 31 Jan 2005 09:16:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49232 invoked by uid 500); 31 Jan 2005 09:16:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49211 invoked by uid 99); 31 Jan 2005 09:16:09 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web50506.mail.yahoo.com (HELO web50506.mail.yahoo.com) (206.190.38.82)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 31 Jan 2005 01:16:08 -0800
Received: (qmail 93212 invoked by uid 60001); 31 Jan 2005 09:16:05 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=tMp8MHykPWUMRYOL07L+7TFmbzWpzr+/c+hRm8ibL8VG3TamwHrMXPcI/sw0dtHr+QiwGUIu4U7da2C1dF/LAW6R7BbmFLyJSKE+Og8/5qvHCARdpGuK5iYA6EAPaGV3bO4pJGxTdibKWxpjfupquu5b2f691vZg+NZPl3xQ7UU=  ;
Message-ID: <20050131091605.93210.qmail@web50506.mail.yahoo.com>
Received: from [67.169.70.104] by web50506.mail.yahoo.com via HTTP; Mon, 31 Jan 2005 01:16:05 PST
Date: Mon, 31 Jan 2005 01:16:05 -0800 (PST)
From: Yousef Ourabi <yousef_ourabi@yahoo.com>
Subject: Re: Re-Indexing a moving target???
To: Lucene Users List <lucene-user@jakarta.apache.org>, nsh@bayt.net
Cc: saad@jeteye.com
In-Reply-To: <41FB3056.2000708@bayt.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Saad,
Here is what I got. I will post again, and be more
specific.
-Y

--- Nader Henein <nsh@bayt.net> wrote:

> We'll need a little more detail to help you, what
> are the sizes of your 
> updates and how often are they updated.
> 
> 1) No just re-open the index writer every time to
> re-index, according to 
> you it's moderately changing index, just keep a flag
> on the rows and 
> batch indexing every so often.
> 2) It all comes down to your needs, more detail
> would help us help you.
> 
> Nader Henein
> 
> Yousef Ourabi wrote:
> 
> >Hey,
> >We are using lucene to index a moderatly changing
> >database, and I have a couple of questions on a
> >performance strategy.
> >
> >1) Should we just have one index writer open unil
> the
> >system comes down...or create a new index writer
> each
> >time we re-index our data-set.
> >
> >2) Does anyone have anythoughts...multi-threading
> and
> >segments instead of one index?
> >
> >Thanks for your time and help.
> >Best,
> >Yousef
> >
>
>---------------------------------------------------------------------
> >To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> >
> >
> >
> >  
> >
> 
> -- 
> Nader S. Henein
> Senior Applications Developer
> 
> Bayt.com
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12821-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 31 16:13:56 2005
Return-Path: <lucene-user-return-12821-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15993 invoked from network); 31 Jan 2005 16:13:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 Jan 2005 16:13:55 -0000
Received: (qmail 77718 invoked by uid 500); 31 Jan 2005 16:13:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77678 invoked by uid 500); 31 Jan 2005 16:13:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77662 invoked by uid 99); 31 Jan 2005 16:13:49 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from kogni.poznan.pl (HELO libra.cs.put.poznan.pl) (150.254.30.30)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 31 Jan 2005 08:13:47 -0800
Received: from libra.cs.put.poznan.pl (localhost [127.0.0.1])
	by libra (Postfix on VMS) with SMTP id D71E62EF2
	for <lucene-user@jakarta.apache.org>; Mon, 31 Jan 2005 17:13:44 +0100 (CET)
Received: from [150.254.24.146] (idss-dw-pnca.cs.put.poznan.pl [150.254.24.146])
	by libra.cs.put.poznan.pl (Postfix on VMS) with ESMTP id B6C5E2EF0
	for <lucene-user@jakarta.apache.org>; Mon, 31 Jan 2005 17:13:44 +0100 (CET)
Message-ID: <41FE58ED.8090602@cs.put.poznan.pl>
Date: Mon, 31 Jan 2005 17:12:29 +0100
From: Dawid Weiss <dawid.weiss@cs.put.poznan.pl>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: carrot2 question too - Re: Fun with the Wikipedia
References: <41E834AD.40605@tropo.com>	 <1333.144.136.135.234.1105740547.squirrel@144.136.135.234>	 <41E85293.7050103@tropo.com>  <41EB8219.5040408@cs.put.poznan.pl> <1106925543.8683.9.camel@dell-inspiron>
In-Reply-To: <1106925543.8683.9.camel@dell-inspiron>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi.

Coming up with answers... a little belated, but hope you're still on:

> we have been experimenting with carrot2 and are very pleased so far,
> only one issue: there is no release not even an alpha one and the
> dependencies seemed to be patched (jama)

Yes, there is not "official" release. We just don't feel the need to tag 
the sources with an official label because Carrot is not a stand-alone 
product (rather a library... or a framework). It does not imply that the 
project is in alpha stage... quite the contrary, in fact -- it has been 
out there for a while and it seems to do a good job for most people.

> is there any intentions to have any releases in the near future?

I could tag a release even today if it makes you happy ;) But I hope I 
made the status of the project clear above.

D.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12822-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 31 16:41:16 2005
Return-Path: <lucene-user-return-12822-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32626 invoked from network); 31 Jan 2005 16:41:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 Jan 2005 16:41:15 -0000
Received: (qmail 31615 invoked by uid 500); 31 Jan 2005 16:41:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31589 invoked by uid 500); 31 Jan 2005 16:41:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31574 invoked by uid 99); 31 Jan 2005 16:41:11 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from main.gmane.org (HELO ciao.gmane.org) (80.91.229.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 31 Jan 2005 08:41:09 -0800
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1CvebY-0003nN-QU
	for lucene-user@jakarta.apache.org; Mon, 31 Jan 2005 17:40:48 +0100
Received: from adsl-63-205-78-194.dsl.snfc21.pacbell.net ([63.205.78.194])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Mon, 31 Jan 2005 17:40:48 +0100
Received: from aurora00 by adsl-63-205-78-194.dsl.snfc21.pacbell.net with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Mon, 31 Jan 2005 17:40:48 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: aurora <aurora00@gmail.com>
Subject: ANNOUNCE: MindRetrieve 0.4 - Search the web you have seen
Date: Mon, 31 Jan 2005 08:40:49 -0800
Lines: 37
Message-ID: <opslg7abk16yt6e7@wtung-w2k01.amer.cisco.com>
Mime-Version: 1.0
Content-Type: text/plain; format=flowed; delsp=yes; charset=iso-8859-15
Content-Transfer-Encoding: Quoted-Printable
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: adsl-63-205-78-194.dsl.snfc21.pacbell.net
User-Agent: Opera M2/7.54u1 (Win32, build 3918)
Sender: news <news@sea.gmane.org>
X-Gmane-MailScanner: Found to be clean
X-Gmane-MailScanner: Found to be clean
X-Gmane-MailScanner-SpamCheck: spam, SpamAssassin (score=6.79, required 6,
	BAYES_00 -2.60, HELO_DYNAMIC_DHCP 1.25, HELO_DYNAMIC_HCC 3.74,
	HELO_DYNAMIC_IPADDR 4.40)
X-Gmane-MailScanner-SpamScore: ssssss
X-MailScanner-From: jak-lucene-user@m.gmane.org
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am pleased to announce that MindRetrieve 0.4.0 has been released.

MindRetrieve is a desktop search tool to help users to search and organi=
ze  =

the web they have seen. Download it from http://mindretrieve.berlios.de/=
.

Everyday we read a large amount of information from the world wide web. =
 =

The truth is most of them does not register. We often search for similar=
  =

topics time after time. It is time consuming. Often after much work we  =

find that we are looking at the same old documents like a d=E9j=E0 vu.  =

MindRetrieve is here to help you to find information buried deep in your=
  =

memory.

MindRetrieve is a lightweight, cross-platform, open source application  =

available under the BSD license. It has been tested on Windows and Linux=
  =

with the latest versions of Firefox, Opera and IE. Mac support is planne=
d.

Finally I would like to thanks the Lucene and PyLucene team for making  =

such wonderful software available. Also thanks for all the help you have=
  =

provided in these discussion groups.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12823-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 31 17:05:55 2005
Return-Path: <lucene-user-return-12823-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45835 invoked from network); 31 Jan 2005 17:05:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 Jan 2005 17:05:55 -0000
Received: (qmail 78387 invoked by uid 500); 31 Jan 2005 17:05:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77978 invoked by uid 500); 31 Jan 2005 17:05:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77963 invoked by uid 99); 31 Jan 2005 17:05:49 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp811.mail.ukl.yahoo.com (HELO smtp811.mail.ukl.yahoo.com) (217.12.12.201)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 31 Jan 2005 09:05:48 -0800
Received: from unknown (HELO p800xp) (adam.saltiel@btinternet.com@217.42.10.197 with login)
  by smtp811.mail.ukl.yahoo.com with SMTP; 31 Jan 2005 17:05:45 -0000
Reply-To: <adam.saltiel@btinternet.com>
From: "Adam Saltiel" <adam.saltiel@btinternet.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: carrot2 question too - Re: Fun with the Wikipedia
Date: Mon, 31 Jan 2005 17:06:00 -0000
Message-ID: <0c1c01c507b7$24ffca40$0200a8c0@p800xp>
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <41FE58ED.8090602@cs.put.poznan.pl>
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

David, Hi,
Would you be able to comment on coincidentally recent thread " RE: ->
Grouping Search Results by Clustering Snippets:"?
Also, when I looked at Carrot2 the pipe line is implemented as over http. I
wonder how efficient that is, or can it be changed, for instance for an all
local implementation?
Has Carrot2 been integrated in with Lucene, has it been used as the bases
for a recommender system (could it be?)?
TIA.

Adam

> -----Original Message-----
> From: Dawid Weiss [mailto:dawid.weiss@cs.put.poznan.pl]
> Sent: Monday, January 31, 2005 4:12 PM
> To: Lucene Users List
> Subject: Re: carrot2 question too - Re: Fun with the Wikipedia
>
>
> Hi.
>
> Coming up with answers... a little belated, but hope you're still on:
>
> > we have been experimenting with carrot2 and are very pleased so far,
> > only one issue: there is no release not even an alpha one and the
> > dependencies seemed to be patched (jama)
>
> Yes, there is not "official" release. We just don't feel the need to tag
> the sources with an official label because Carrot is not a stand-alone
> product (rather a library... or a framework). It does not imply that the
> project is in alpha stage... quite the contrary, in fact -- it has been
> out there for a while and it seems to do a good job for most people.
>
> > is there any intentions to have any releases in the near future?
>
> I could tag a release even today if it makes you happy ;) But I hope I
> made the status of the project clear above.
>
> D.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12824-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 31 17:24:54 2005
Return-Path: <lucene-user-return-12824-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56368 invoked from network); 31 Jan 2005 17:24:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 Jan 2005 17:24:54 -0000
Received: (qmail 18434 invoked by uid 500); 31 Jan 2005 17:24:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18410 invoked by uid 500); 31 Jan 2005 17:24:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18395 invoked by uid 99); 31 Jan 2005 17:24:48 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc12.comcast.net (HELO rwcrmhc12.comcast.net) (216.148.227.85)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 31 Jan 2005 09:24:48 -0800
Received: from [192.168.168.81] (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc12) with ESMTP
          id <20050131172446014003gd3ve>; Mon, 31 Jan 2005 17:24:46 +0000
Message-ID: <41FE69DA.40800@apache.org>
Date: Mon, 31 Jan 2005 09:24:42 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Disk space used by optimize
References: <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B916C1@edumail2.education.tas.gov.au> <20050128014341.67717.qmail@web30209.mail.mud.yahoo.com> <1485505105.20050130123401@altervision.biz>
In-Reply-To: <1485505105.20050130123401@altervision.biz>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yura Smolsky wrote:
> There is a big difference when you use compound index format or
> multiple files. I have tested it on the big index (45 Gb). When I used
> compound file then optimize takes 3 times more space, b/c *.cfs needs
> to be unpacked.
> 
> Now I do use non compound file format. It needs like twice as much
> disk space.

Perhaps we should add something to the javadocs noting this?

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12825-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 31 17:50:43 2005
Return-Path: <lucene-user-return-12825-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70851 invoked from network); 31 Jan 2005 17:50:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 Jan 2005 17:50:42 -0000
Received: (qmail 86042 invoked by uid 500); 31 Jan 2005 17:50:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 86017 invoked by uid 500); 31 Jan 2005 17:50:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86004 invoked by uid 99); 31 Jan 2005 17:50:37 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30210.mail.mud.yahoo.com (HELO web30210.mail.mud.yahoo.com) (68.142.200.93)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 31 Jan 2005 09:50:33 -0800
Received: (qmail 14132 invoked by uid 60001); 31 Jan 2005 17:50:31 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=v6/5/eF+v6TJHguna8mNAts7B/f146qqKO7fzaRXR48CkL++6OASonftCC9+oY+Njgcy4Blk/lKxb8orv94P77eIMDOnjO/2cxj0lHsDUGLbInruPgyHlMO7XeX2ViKWZHxVRSLfGRPuDVpna9Nb2Skj/mBehHuRQaLeooR0E8w=  ;
Message-ID: <20050131175031.14130.qmail@web30210.mail.mud.yahoo.com>
Received: from [69.201.139.168] by web30210.mail.mud.yahoo.com via HTTP; Mon, 31 Jan 2005 09:50:31 PST
Date: Mon, 31 Jan 2005 09:50:31 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: carrot2 question too - Re: Fun with the Wikipedia
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  adam.saltiel@btinternet.com
In-Reply-To: <0c1c01c507b7$24ffca40$0200a8c0@p800xp>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Adam,

Dawid posted some code that lets you use Carrot2 locally with Lucene,
without the componentized pipe line system described on Carrot2 site.

Otis

--- Adam Saltiel <adam.saltiel@btinternet.com> wrote:

> David, Hi,
> Would you be able to comment on coincidentally recent thread " RE: ->
> Grouping Search Results by Clustering Snippets:"?
> Also, when I looked at Carrot2 the pipe line is implemented as over
> http. I
> wonder how efficient that is, or can it be changed, for instance for
> an all
> local implementation?
> Has Carrot2 been integrated in with Lucene, has it been used as the
> bases
> for a recommender system (could it be?)?
> TIA.
> 
> Adam
> 
> > -----Original Message-----
> > From: Dawid Weiss [mailto:dawid.weiss@cs.put.poznan.pl]
> > Sent: Monday, January 31, 2005 4:12 PM
> > To: Lucene Users List
> > Subject: Re: carrot2 question too - Re: Fun with the Wikipedia
> >
> >
> > Hi.
> >
> > Coming up with answers... a little belated, but hope you're still
> on:
> >
> > > we have been experimenting with carrot2 and are very pleased so
> far,
> > > only one issue: there is no release not even an alpha one and the
> > > dependencies seemed to be patched (jama)
> >
> > Yes, there is not "official" release. We just don't feel the need
> to tag
> > the sources with an official label because Carrot is not a
> stand-alone
> > product (rather a library... or a framework). It does not imply
> that the
> > project is in alpha stage... quite the contrary, in fact -- it has
> been
> > out there for a while and it seems to do a good job for most
> people.
> >
> > > is there any intentions to have any releases in the near future?
> >
> > I could tag a release even today if it makes you happy ;) But I
> hope I
> > made the status of the project clear above.
> >
> > D.
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12826-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 31 17:55:42 2005
Return-Path: <lucene-user-return-12826-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74522 invoked from network); 31 Jan 2005 17:55:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 Jan 2005 17:55:42 -0000
Received: (qmail 95936 invoked by uid 500); 31 Jan 2005 17:55:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95916 invoked by uid 500); 31 Jan 2005 17:55:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95902 invoked by uid 99); 31 Jan 2005 17:55:34 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 31 Jan 2005 09:55:32 -0800
Received: (qmail 25749 invoked by uid 532); 31 Jan 2005 17:53:43 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.091237 secs); 31 Jan 2005 17:53:43 -0000
Received: from unknown (HELO ?10.0.0.157?) (127.0.0.1)
  by 0 with SMTP; 31 Jan 2005 17:53:42 -0000
Message-ID: <41FE712A.9060000@tropo.com>
Date: Mon, 31 Jan 2005 09:55:54 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
CC:  adam.saltiel@btinternet.com
Subject: Re: carrot2 question too - Re: Fun with the Wikipedia
References: <20050131175031.14130.qmail@web30210.mail.mud.yahoo.com>
In-Reply-To: <20050131175031.14130.qmail@web30210.mail.mud.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis Gospodnetic wrote:

> Adam,
> 
> Dawid posted some code that lets you use Carrot2 locally with Lucene,

see embedded zip url here for carrot2/lucene code - it may also be in 
the carrot2 cvs tree too - this is what I used in the wikipedia/cluster 
stuff as the basis


http://www.newsarch.com/archive/mailinglist/jakarta/lucene/user/msg03928.html

> without the componentized pipe line system described on Carrot2 site.



> 
> Otis
> 
> --- Adam Saltiel <adam.saltiel@btinternet.com> wrote:
> 
> 
>>David, Hi,
>>Would you be able to comment on coincidentally recent thread " RE: ->
>>Grouping Search Results by Clustering Snippets:"?
>>Also, when I looked at Carrot2 the pipe line is implemented as over
>>http. I
>>wonder how efficient that is, or can it be changed, for instance for
>>an all
>>local implementation?
>>Has Carrot2 been integrated in with Lucene, has it been used as the
>>bases
>>for a recommender system (could it be?)?
>>TIA.
>>
>>Adam
>>
>>
>>>-----Original Message-----
>>>From: Dawid Weiss [mailto:dawid.weiss@cs.put.poznan.pl]
>>>Sent: Monday, January 31, 2005 4:12 PM
>>>To: Lucene Users List
>>>Subject: Re: carrot2 question too - Re: Fun with the Wikipedia
>>>
>>>
>>>Hi.
>>>
>>>Coming up with answers... a little belated, but hope you're still
>>
>>on:
>>
>>>>we have been experimenting with carrot2 and are very pleased so
>>
>>far,
>>
>>>>only one issue: there is no release not even an alpha one and the
>>>>dependencies seemed to be patched (jama)
>>>
>>>Yes, there is not "official" release. We just don't feel the need
>>
>>to tag
>>
>>>the sources with an official label because Carrot is not a
>>
>>stand-alone
>>
>>>product (rather a library... or a framework). It does not imply
>>
>>that the
>>
>>>project is in alpha stage... quite the contrary, in fact -- it has
>>
>>been
>>
>>>out there for a while and it seems to do a good job for most
>>
>>people.
>>
>>>>is there any intentions to have any releases in the near future?
>>>
>>>I could tag a release even today if it makes you happy ;) But I
>>
>>hope I
>>
>>>made the status of the project clear above.
>>>
>>>D.
>>>
>>>
>>
>>---------------------------------------------------------------------
>>
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail:
>>
>>lucene-user-help@jakarta.apache.org
>>
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12827-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 31 18:04:04 2005
Return-Path: <lucene-user-return-12827-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81193 invoked from network); 31 Jan 2005 18:04:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 Jan 2005 18:04:03 -0000
Received: (qmail 12453 invoked by uid 500); 31 Jan 2005 18:03:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12427 invoked by uid 500); 31 Jan 2005 18:03:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12414 invoked by uid 99); 31 Jan 2005 18:03:58 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO,HTML_40_50,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host.122.111.23.62.rev.coltfrance.com (HELO cer31mx-gw.cirso.fr) (62.23.111.122)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 31 Jan 2005 10:03:57 -0800
Received: from cer31mx-gw.cirso.fr 
        by cer31mx-gw.cirso.fr  with ESMTP id j0VI8U210414
        for <lucene-user@jakarta.apache.org>; Mon, 31 Jan 2005 19:08:30 +0100
Received: from contact31.urssaf.fr 
        by cer31mx-gw.cirso.fr  with ESMTP id j0VI8UL10408
        for <lucene-user@jakarta.apache.org>; Mon, 31 Jan 2005 19:08:30 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Use an executable from java ...
MIME-Version: 1.0
X-Mailer: Lotus Notes Release 6.5.2 June 01, 2004
Message-ID: <OF7A7BE3CA.5E42F7B7-ONC1256F9A.0061D85F-C1256F9A.00633C0A@urssaf.fr>
From: "Bertrand VENZAL" <bertrand.venzal@cirso.fr>
Date: Mon, 31 Jan 2005 19:01:11 +0100
Content-Type: multipart/alternative; boundary="=_alternative 00633C06C1256F9A_="
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=_alternative 00633C06C1256F9A_=
Content-Type: text/plain; charset="US-ASCII"

Hi all,

I ve a kind of problem to execute a converting tool to modify a pdf to an 
html under Linux. In fact, i have an executable "pdftohtml" which work 
correctly on batch mode, and when I want to use it through Java under 
Windows 2000 works also,BUT it does not work at all on the server under 
linux. I m using the following code.

scommand = "/bin/sh -c \"myCommand fileName output\" ";

Runtime runtime = Runtime.getRuntime();
Process proc = runtime.exec(scommand);
proc.waitFor();


I m running my code under Linux-redhat with a classic shell. 
Is there an other way to do the same thing or maybe am i missing something 
?
Any help will be grandly appreciate.

Thanks
Bertrand



--=_alternative 00633C06C1256F9A_=--

From lucene-user-return-12828-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 31 18:14:03 2005
Return-Path: <lucene-user-return-12828-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87765 invoked from network); 31 Jan 2005 18:14:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 Jan 2005 18:14:03 -0000
Received: (qmail 38025 invoked by uid 500); 31 Jan 2005 18:13:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38004 invoked by uid 500); 31 Jan 2005 18:13:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37989 invoked by uid 99); 31 Jan 2005 18:13:58 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of ben@csh.rit.edu designates 129.21.60.6 as permitted sender)
Received: from blacksheep.csh.rit.edu (HELO blacksheep.csh.rit.edu) (129.21.60.6)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 31 Jan 2005 10:13:57 -0800
Received: from fury.csh.rit.edu (fury.csh.rit.edu [IPv6:2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id 582659114
	for <lucene-user@jakarta.apache.org>; Mon, 31 Jan 2005 13:13:55 -0500 (EST)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id 330D914BB; Mon, 31 Jan 2005 13:13:55 -0500 (EST)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id 23A8D1471
	for <lucene-user@jakarta.apache.org>; Mon, 31 Jan 2005 13:13:55 -0500 (EST)
Date: Mon, 31 Jan 2005 13:13:54 -0500 (EST)
From: Ben Litchfield <ben@csh.rit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Use an executable from java ...
In-Reply-To: <OF7A7BE3CA.5E42F7B7-ONC1256F9A.0061D85F-C1256F9A.00633C0A@urssaf.fr>
Message-ID: <Pine.GSO.4.53.0501311311040.21334@fury.csh.rit.edu>
References: <OF7A7BE3CA.5E42F7B7-ONC1256F9A.0061D85F-C1256F9A.00633C0A@urssaf.fr>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


I will assume you are asking this question on the lucene mailing list
because you now want to index that PDF document.

Have you tried PDFBox?  It can't create an html file for you but it can
extract text.

Ben
http://www.pdfbox.org



On Mon, 31 Jan 2005, Bertrand VENZAL wrote:

> Hi all,
>
> I ve a kind of problem to execute a converting tool to modify a pdf to an
> html under Linux. In fact, i have an executable "pdftohtml" which work
> correctly on batch mode, and when I want to use it through Java under
> Windows 2000 works also,BUT it does not work at all on the server under
> linux. I m using the following code.
>
> scommand = "/bin/sh -c \"myCommand fileName output\" ";
>
> Runtime runtime = Runtime.getRuntime();
> Process proc = runtime.exec(scommand);
> proc.waitFor();
>
>
> I m running my code under Linux-redhat with a classic shell.
> Is there an other way to do the same thing or maybe am i missing something
> ?
> Any help will be grandly appreciate.
>
> Thanks
> Bertrand
>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12829-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 31 18:43:54 2005
Return-Path: <lucene-user-return-12829-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6495 invoked from network); 31 Jan 2005 18:43:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 Jan 2005 18:43:54 -0000
Received: (qmail 96634 invoked by uid 500); 31 Jan 2005 18:43:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96612 invoked by uid 500); 31 Jan 2005 18:43:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96597 invoked by uid 99); 31 Jan 2005 18:43:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from lyra.lunarpages.com (HELO lyra.lunarpages.com) (64.235.230.140)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 31 Jan 2005 10:43:41 -0800
Received: from pd9ff06f3.dip.t-dialin.net ([217.255.6.243] helo=Kelvin)
	by lyra.lunarpages.com with esmtpa (Exim 4.43)
	id 1CvgWP-00072I-OA
	for lucene-user@jakarta.apache.org; Mon, 31 Jan 2005 10:43:38 -0800
From:     Kelvin Tan <kelvin-lists@relevanz.com>
To:       Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Barca 1.1 (840) - Licensed Version
Date: Mon, 31 Jan 2005 19:43:14 +0100
Message-ID: <2005131194314.783305@Kelvin>
In-Reply-To: <OF7A7BE3CA.5E42F7B7-ONC1256F9A.0061D85F-C1256F9A.00633C0A@urssaf.fr>
Subject: Re: Use an executable from java ...
Mime-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - lyra.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - relevanz.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Check out http://www.javaworld.com/javaworld/jw-12-2000/jw-1229-traps.html=
 which provides some pointers and code which should be helpful.

Cheers,
Kelvin
http://www.supermind.org

On Mon, 31 Jan 2005 19:01:11 +0100, Bertrand VENZAL wrote:
>=A0Hi all,
>
>=A0I ve a kind of problem to execute a converting tool to modify a pdf
>=A0to an html under Linux. In fact, i have an executable "pdftohtml"
>=A0which work correctly on batch mode, and when I want to use it
>=A0through Java under Windows 2000 works also,BUT it does not work at
>=A0all on the server under linux. I m using the following code.
>
>=A0scommand =3D "/bin/sh -c \"myCommand fileName output\" ";
>
>=A0Runtime runtime =3D Runtime.getRuntime();
>=A0Process proc =3D runtime.exec(scommand);
>=A0proc.waitFor();
>
>
>=A0I m running my code under Linux-redhat with a classic shell. Is
>=A0there an other way to do the same thing or maybe am i missing
>=A0something ? Any help will be grandly appreciate.
>
>=A0Thanks
>=A0Bertrand



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12830-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 31 20:24:39 2005
Return-Path: <lucene-user-return-12830-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84511 invoked from network); 31 Jan 2005 20:24:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 Jan 2005 20:24:39 -0000
Received: (qmail 73119 invoked by uid 500); 31 Jan 2005 20:24:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73086 invoked by uid 500); 31 Jan 2005 20:24:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73073 invoked by uid 99); 31 Jan 2005 20:24:34 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from kogni.poznan.pl (HELO libra.cs.put.poznan.pl) (150.254.30.30)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 31 Jan 2005 12:24:33 -0800
Received: from libra.cs.put.poznan.pl (localhost [127.0.0.1])
	by libra (Postfix on VMS) with SMTP id 6EBBF2DF0
	for <lucene-user@jakarta.apache.org>; Mon, 31 Jan 2005 21:24:30 +0100 (CET)
Received: from [83.27.240.14] (bcy14.neoplus.adsl.tpnet.pl [83.27.240.14])
	by libra.cs.put.poznan.pl (Postfix on VMS) with ESMTP id 595E82DEB
	for <lucene-user@jakarta.apache.org>; Mon, 31 Jan 2005 21:24:29 +0100 (CET)
Message-ID: <41FE93FC.7060806@cs.put.poznan.pl>
Date: Mon, 31 Jan 2005 21:24:28 +0100
From: Dawid Weiss <dawid.weiss@cs.put.poznan.pl>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: carrot2 question too - Re: Fun with the Wikipedia
References: <0c1c01c507b7$24ffca40$0200a8c0@p800xp>
In-Reply-To: <0c1c01c507b7$24ffca40$0200a8c0@p800xp>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



Hi Adam.

Otis and David have already provided you with pointers to my previous 
post regarding Carrot2-Lucene integration, so just a tiny note here:

> Also, when I looked at Carrot2 the pipe line is implemented as over http. I
> wonder how efficient that is, or can it be changed, for instance for an all
> local implementation?

Yes, there exists a possibility to combine components locally. It is 
even demonstrated in the sample code David Spencer mentioned.

> Has Carrot2 been integrated in with Lucene, has it been used as the bases
> for a recommender system (could it be?)?

I don't know... I guess it could but you'd have to play with the source 
code and modify it a bit to get the required functionality. Can't really 
tell anything more specific because I'm not deep in that subject.

D.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12831-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Jan 31 23:07:08 2005
Return-Path: <lucene-user-return-12831-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6242 invoked from network); 31 Jan 2005 23:07:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 31 Jan 2005 23:07:08 -0000
Received: (qmail 54946 invoked by uid 500); 31 Jan 2005 23:07:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54525 invoked by uid 500); 31 Jan 2005 23:07:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54510 invoked by uid 99); 31 Jan 2005 23:07:04 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp801.mail.ukl.yahoo.com (HELO smtp801.mail.ukl.yahoo.com) (217.12.12.138)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 31 Jan 2005 15:07:02 -0800
Received: from unknown (HELO p800xp) (adam.saltiel@btinternet.com@217.42.10.197 with login)
  by smtp801.mail.ukl.yahoo.com with SMTP; 31 Jan 2005 23:06:59 -0000
Reply-To: <adam.saltiel@btinternet.com>
From: "Adam Saltiel" <adam.saltiel@btinternet.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: carrot2 question too - Re: Fun with the Wikipedia
Date: Mon, 31 Jan 2005 23:07:14 -0000
Message-ID: <0c6101c507e9$9c636060$0200a8c0@p800xp>
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.4024
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
In-Reply-To: <20050131175031.14130.qmail@web30210.mail.mud.yahoo.com>
Importance: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

OK, thanks.

Adam

> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> Sent: Monday, January 31, 2005 5:51 PM
> To: Lucene Users List; adam.saltiel@btinternet.com
> Subject: RE: carrot2 question too - Re: Fun with the Wikipedia
>
> Adam,
>
> Dawid posted some code that lets you use Carrot2 locally with Lucene,
> without the componentized pipe line system described on Carrot2 site.
>
> Otis
>
> --- Adam Saltiel <adam.saltiel@btinternet.com> wrote:
>
> > David, Hi,
> > Would you be able to comment on coincidentally recent thread " RE:
->
> > Grouping Search Results by Clustering Snippets:"?
> > Also, when I looked at Carrot2 the pipe line is implemented as over
> > http. I
> > wonder how efficient that is, or can it be changed, for instance for
> > an all
> > local implementation?
> > Has Carrot2 been integrated in with Lucene, has it been used as the
> > bases
> > for a recommender system (could it be?)?
> > TIA.
> >
> > Adam
> >
> > > -----Original Message-----
> > > From: Dawid Weiss [mailto:dawid.weiss@cs.put.poznan.pl]
> > > Sent: Monday, January 31, 2005 4:12 PM
> > > To: Lucene Users List
> > > Subject: Re: carrot2 question too - Re: Fun with the Wikipedia
> > >
> > >
> > > Hi.
> > >
> > > Coming up with answers... a little belated, but hope you're still
> > on:
> > >
> > > > we have been experimenting with carrot2 and are very pleased so
> > far,
> > > > only one issue: there is no release not even an alpha one and
the
> > > > dependencies seemed to be patched (jama)
> > >
> > > Yes, there is not "official" release. We just don't feel the need
> > to tag
> > > the sources with an official label because Carrot is not a
> > stand-alone
> > > product (rather a library... or a framework). It does not imply
> > that the
> > > project is in alpha stage... quite the contrary, in fact -- it has
> > been
> > > out there for a while and it seems to do a good job for most
> > people.
> > >
> > > > is there any intentions to have any releases in the near future?
> > >
> > > I could tag a release even today if it makes you happy ;) But I
> > hope I
> > > made the status of the project clear above.
> > >
> > > D.
> > >
> > >
> >
---------------------------------------------------------------------
> > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> >
> >
> >
> >
> >
---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


