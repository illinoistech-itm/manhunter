From java-user-return-20423-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 01 18:40:21 2006
Return-Path: <java-user-return-20423-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58772 invoked from network); 1 May 2006 18:40:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 May 2006 18:40:21 -0000
Received: (qmail 98475 invoked by uid 500); 1 May 2006 18:40:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98449 invoked by uid 500); 1 May 2006 18:40:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98438 invoked by uid 99); 1 May 2006 18:40:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 May 2006 11:40:14 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 May 2006 11:40:13 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 2EC7F5B77C; Mon,  1 May 2006 11:39:51 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 282E37F403
	for <java-user@lucene.apache.org>; Mon,  1 May 2006 11:39:51 -0700 (PDT)
Date: Mon, 1 May 2006 11:39:51 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re: SpanFirstQuery and SpanNotQuery
In-Reply-To: <Pine.LNX.4.58.0604281805080.1058@hal.rescomp.berkeley.edu>
Message-ID: <Pine.LNX.4.58.0605011117540.26837@hal.rescomp.berkeley.edu>
References: <Pine.LNX.4.58.0604281805080.1058@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


After consulting LIA, I find the following sentence at the end of 5.4.2
"Finding spans at the beinning of a field" ...

	The resulting span matches are the same as the orriginal SpanQuery
	spans, ...

...which indicates that it is working as documented -- but it remains to
be seen if that's what was intended or not.

In any case, it begs the question, how would someone go about building a
SpanQuery where the intent is:

   SpanQuery X must be in the first N positions
      AND
   SpanQuery Z must not come before SpanQuery X

The best i can figure would be something like...

   SpanQuery q = new SpanNotQuery(
       new SpanFirstQuery(X, N),
       new SpanFirstQuery(new SpanNearQuery(new SpanQuery[]{Z, X.clone()},
                                            N-1, true),
                          N-1);

...but this doesn't seem to work at the moment because of LUCENE-560.
Even if it did work, it seems kind of kludgy, anyone have a better
suggestion?


: I'm looking at SpanQueries as I work on new test cases for LUCENE-557, and
: I'm confused by the implimentation of SpanFirstQuery.getSpans().
:
: In the Anonymous Spans instance returned, start() and end() are allways
: the start() and end() of the inner SpanQuery for the current doc --
: shouldn't the start() be "0" indicating that the span starts at the
: begining of the document?
:
: Because of the current implimentation, there doesn't seem to be any way to
: use SpanNot with SpanFirst to ensure that a given SpanQuery X allways
: occurs in the first N positions, and that SpanQuery Z does not appear
: before it.
:
: In other words, this...
:    int N = ...
:    SpanQuery X =...;
:    SpanQuery Z =...;
:    SpanQuery first = new SpanFirstQuery(X,N);
:    SpanQuery q = new SpanNotQuery(first, Z);
:
: ...seems to be functionally equivilent to...
:    int N = ...
:    SpanQuery X =...;
:    //SpanQuery Z =...;
:    SpanQuery first = new SpanFirstQuery(X,N);
:    SpanQuery q = first;
:
: ...is that how it's suppose to work, or am i missunderstanding something?
:
: Here's a small addition to "TestBasics" which shows how i was
: expecting things to work...
:
:   public void testSpanNotFirst() throws Exception {
:     SpanTermQuery term40 = new SpanTermQuery(new Term("field", "forty"));
:     SpanFirstQuery first = new SpanFirstQuery(term40, 5);
:     SpanTermQuery hun = new SpanTermQuery(new Term("field", "hundred"));
:     SpanNotQuery not = new SpanNotQuery(first, hun);
:
:     checkHits(not, new int[]{40,41,42,43,44,45,46,47,48,49});
:
:   }
:
:
: ...but the results contain every number with a 4 in the tens digit



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20424-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 01 19:35:30 2006
Return-Path: <java-user-return-20424-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93849 invoked from network); 1 May 2006 19:35:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 May 2006 19:35:28 -0000
Received: (qmail 82786 invoked by uid 500); 1 May 2006 19:35:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82739 invoked by uid 500); 1 May 2006 19:35:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82728 invoked by uid 99); 1 May 2006 19:35:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 May 2006 12:35:21 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.56] (HELO web50302.mail.yahoo.com) (206.190.38.56)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 01 May 2006 12:35:20 -0700
Received: (qmail 9995 invoked by uid 60001); 1 May 2006 19:34:59 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=BXhPHnRSzdVGVFvLaRYUOqD8q+CD1It1x7LdrIf+A8Cw1AC4DjPtaRUkaz4Xp4wbLTQKpyGaDa2cpOurVd/UJqt4bK5KSPk3NpRpTbQa/feh5vwm/siuhc5N2Y5bWL1fSolhRnhpL3nBfggGvOMpzQDrPXJWCewnLuckn635b6A=  ;
Message-ID: <20060501193459.9993.qmail@web50302.mail.yahoo.com>
Date: Mon, 1 May 2006 12:34:59 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene search benchmark/stress test tool
To: java-user@lucene.apache.org
In-Reply-To: <C0FD8673-6CB8-481A-A18E-19689CB2453F@rectangular.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Marvin,
I wrote my Lucene search benchmarker, but will have to check with my employer about contributing it to Lucene.  It's rather simple - I used Java 1.5 concurrency package's ThreadedPoolExecutor for executing N parallel search requests, measured elaphsed time for each request, and then when all searches were done, I calculated min/max/median/percentile/etc.

Otis

----- Original Message ----
From: Marvin Humphrey <marvin@rectangular.com>
To: java-user@lucene.apache.org
Sent: Sunday, April 30, 2006 8:28:20 PM
Subject: Re: Lucene search benchmark/stress test tool


On Apr 26, 2006, at 9:34 AM, Otis Gospodnetic wrote:

> I'm about to write a little command-line Lucene search benchmark  
> tool.  I'm interested in benchmarking search performance and the  
> ability to specify concurrency level (# of parallel search threads)  
> and response timing, so I can calculate min, max, average, and mean  
> times.  Something like 'ab' (Apache Benchmark) tool, but for Lucene.
>
> Has anyone already written something like this?

I'm about to.  The predecessor to the indexing benchmarker tests I  
recently published results for was enormously helpful while  
streamlining the indexing process.  Now that I'm considering  
modifications to search logic and file format which may have a  
substantial impact on search-time performance, I'll need a search  
benchmarker to complement the indexing benchmarker.  I'll be writing  
a both a Perl/KinoSearch and a Java Lucene version, and they will use  
the Reuters corpus.

Where are you at with your app?

Marvin Humphrey
Rectangular Research
http://www.rectangular.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20425-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 01 19:38:56 2006
Return-Path: <java-user-return-20425-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96123 invoked from network); 1 May 2006 19:38:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 May 2006 19:38:56 -0000
Received: (qmail 89894 invoked by uid 500); 1 May 2006 19:38:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89791 invoked by uid 500); 1 May 2006 19:38:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89780 invoked by uid 99); 1 May 2006 19:38:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 May 2006 12:38:50 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 203.83.115.100 is neither permitted nor denied by domain of mchan@cse.unsw.edu.au)
Received: from [203.83.115.100] (HELO sitar.i-cable.com) (203.83.115.100)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 01 May 2006 12:38:49 -0700
Received: (qmail 4125 invoked by uid 508); 1 May 2006 19:38:25 -0000
Received: from 203.83.114.122 by sitar (envelope-from <mchan@cse.unsw.edu.au>, uid 505) with qmail-scanner-1.25 
 (clamdscan: 0.86rc1/938.  
 Clear:RC:1(203.83.114.122):. 
 Processed in 0.091895 secs); 01 May 2006 19:38:25 -0000
Received: from ip114122.hkicable.com (HELO xenon.i-cable.com) (203.83.114.122)
  by 0 with SMTP; 1 May 2006 19:38:25 -0000
Received: from [127.0.0.1] (cm61-18-137-145.hkcable.com.hk [61.18.137.145])
	by xenon.i-cable.com (8.13.5/8.13.5) with ESMTP id k41JbuJb004517
	for <java-user@lucene.apache.org>; Tue, 2 May 2006 03:38:25 +0800 (CST)
Message-ID: <4456638E.5070700@cse.unsw.edu.au>
Date: Tue, 02 May 2006 03:37:50 +0800
From: Michael Chan <mchan@cse.unsw.edu.au>
User-Agent: Thunderbird 1.5.0.2 (Windows/20060308)
MIME-Version: 1.0
To: Lucene Users <java-user@lucene.apache.org>
Subject: Stemming terms in SpanQuery
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I'm trying to build a SpanQuery using word stems. Is parsing each term 
with a QueryParser, constructed with an Analyzer giving stemmed 
tokenStream, the right approach? It just seems to me that QueryParser is 
designed to parse queries, and so my hunch is that there might be a 
better way.

Any help will be much appreciated.

Michael


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20426-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 02 10:39:16 2006
Return-Path: <java-user-return-20426-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15382 invoked from network); 2 May 2006 10:39:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2006 10:39:14 -0000
Received: (qmail 79173 invoked by uid 500); 2 May 2006 10:39:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79130 invoked by uid 500); 2 May 2006 10:39:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79118 invoked by uid 99); 2 May 2006 10:39:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 03:39:06 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [201.216.250.38] (HELO proxy2.iplannetworks.net) (201.216.250.38)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 03:39:05 -0700
Received: from barney.colaborativa.net (200.68.95.213) by proxy2.iplannetworks.net (7.2.052)
        id 444941AA00069D56 for java-user@lucene.apache.org; Tue, 2 May 2006 07:38:44 -0300
Received: from RANA (host41.201-253-1.telecom.net.ar [201.253.1.41])
	by barney.colaborativa.net (Postfix) with ESMTP id BF545F6385
	for <java-user@lucene.apache.org>; Tue,  2 May 2006 07:38:42 -0300 (ART)
From: "Mariano Barcia" <mariano.barcia@colaborativa.net>
To: <java-user@lucene.apache.org>
Subject: Kneobase: open source, enterprise search
Date: Tue, 2 May 2006 07:38:46 -0300
Organization: COLABORATIVA.NET
Message-ID: <013101c66dd4$97ae8890$6432a8c0@RANA>
MIME-Version: 1.0
Content-Type: multipart/related;
	boundary="----=_NextPart_000_0132_01C66DBB.72615090"
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
Thread-Index: AcZt1JcmBBZ6PpxnQU+jfj0Z8Gg7mA==
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0132_01C66DBB.72615090
Content-Type: multipart/alternative;
	boundary="----=_NextPart_001_0133_01C66DBB.72615090"


------=_NextPart_001_0133_01C66DBB.72615090
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi list,

=20

I=92m glad to announce Colaborativa.net has released Kneobase, an open =
source
"enterprise search" product, based on Lucene.=20

=20

Kneobase can accept many data sources as searchable elements, and can
provide search results in multiple formats, including SOAP, which might =
make
it a good search engine for use in a service-oriented environment, =
because
it doesn't need search indexes published to a web server.

=20

See this article in
<http://www.theserverside.com/news/thread.tss?thread_id=3D40160>  TSS =
for more
information,

=20

Cheers!

=20

--mariano

=20

=20





 <http://www.colaborativa.net/>=20

Lideramos la innovaci=F3n

=20



Mariano Barcia
Founder, CEO=20

COLABORATIVA.NET
C=F3rdoba 1147 Piso 6 Oficinas 3 y 4
(S2000AWO) Rosario, SF,
Argentina=20


 <mailto:mariano.barcia@colaborativa.net> =
mariano.barcia@colaborativa.net=20
IM: mariano_barcia@hotmail.com=20
Skype: mbarcia=20
 <http://www.colaborativa.net> http://www.colaborativa.net=20
 <http://www.kneobase.com> http://www.kneobase.com=20


tel:=20
mobile:=20

+54 (341) 528 9987
+54 9 (341) 587 6695=20

=20

=20


------=_NextPart_001_0133_01C66DBB.72615090
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" =
xmlns:o=3D"urn:schemas-microsoft-com:office:office" =
xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns=3D"http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<meta name=3DGenerator content=3D"Microsoft Word 11 (filtered medium)">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:Arial;
	color:windowtext;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
-->
</style>

</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Hi list,<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>I&#8217;m glad to announce Colaborativa.net has =
released
Kneobase, an open source &quot;enterprise search&quot; product, based on
Lucene. <o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><i><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial;font-style:italic'>Kneobase can accept many data =
sources as
searchable elements, and can provide search results in multiple formats,
including SOAP, which might make it a good search engine for use in a
service-oriented environment, because it doesn't need search indexes =
published
to a web server.<o:p></o:p></span></font></i></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>See this <a
href=3D"http://www.theserverside.com/news/thread.tss?thread_id=3D40160">a=
rticle in
TSS</a> for more information,<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Cheers!<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>--mariano<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<table class=3DMsoNormalTable border=3D0 cellspacing=3D0 cellpadding=3D0 =
width=3D450
 style=3D'width:337.5pt'>
 <tr>
  <td style=3D'padding:0in 0in 0in 0in'>
  <table class=3DMsoNormalTable border=3D0 cellspacing=3D0 =
cellpadding=3D0 align=3Dright
   width=3D"100%" style=3D'width:100.0%'>
   <tr>
    <td style=3D'padding:0in 0in 0in 0in'>
    <table class=3DMsoNormalTable border=3D1 cellspacing=3D0 =
cellpadding=3D0
     width=3D"100%" style=3D'width:100.0%;border:solid #666666 1.0pt'>
     <tr height=3D1 style=3D'height:.75pt'>
      <td width=3D"100%" height=3D1 bgcolor=3Dwhite =
style=3D'width:100.0%;border:none;
      background:white;padding:.75pt .75pt .75pt .75pt;height:.75pt'>
      <table class=3DMsoNormalTable border=3D0 cellspacing=3D0 =
cellpadding=3D0
       width=3D"100%" style=3D'width:100.0%'>
       <tr>
        <td style=3D'padding:.75pt .75pt .75pt 3.75pt'>
        <p class=3DMsoNormal><font size=3D2 face=3DVerdana><span =
style=3D'font-size:
        10.0pt;font-family:Verdana'><a =
href=3D"http://www.colaborativa.net/"
        target=3D"_blank"><span style=3D'text-decoration:none'><img =
border=3D0
        width=3D223 height=3D44 id=3D"_x0000_i1025"
        =
src=3D"cid:image001.gif@01C66DBB.71CAB5E0"></span></a><o:p></o:p></span><=
/font></p>
        </td>
        <td style=3D'padding:.75pt 3.75pt .75pt .75pt'>
        <p class=3DMsoNormal align=3Dright =
style=3D'text-align:right'><font size=3D1
        color=3D"#4e81c4" face=3DVerdana><span =
style=3D'font-size:7.0pt;font-family:
        Verdana;color:#4E81C4'>Lideramos la =
innovaci=F3n<o:p></o:p></span></font></p>
        </td>
       </tr>
      </table>
      <p class=3DMsoNormal><font size=3D1 face=3D"Times New Roman"><span
      style=3D'font-size:1.0pt'><o:p></o:p></span></font></p>
      </td>
      <td height=3D1 bgcolor=3Dwhite =
style=3D'border:none;background:white;
      padding:.75pt .75pt .75pt .75pt;height:.75pt'>
      <p class=3DMsoNormal><font size=3D1 face=3D"Times New Roman"><span
      style=3D'font-size:1.0pt'><o:p>&nbsp;</o:p></span></font></p>
      </td>
     </tr>
     <tr>
      <td colspan=3D2 style=3D'border:none;padding:.75pt .75pt .75pt =
.75pt'>
      <table class=3DMsoNormalTable border=3D0 cellpadding=3D0 =
align=3Dright
       width=3D"100%" style=3D'width:100.0%' height=3D"100%">
       <tr height=3D1 style=3D'height:.75pt'>
        <td height=3D1 valign=3Dtop style=3D'padding:.75pt .75pt 3.0pt =
3.0pt;
        height:.75pt'>
        <p class=3DMsoNormal><b><font size=3D1 color=3D"#4e81c4" =
face=3DVerdana><span
        =
style=3D'font-size:8.0pt;font-family:Verdana;color:#4E81C4;font-weight:
        bold'>Mariano Barcia</span></font></b><font size=3D1 =
color=3D"#4e81c4"
        face=3DVerdana><span =
style=3D'font-size:8.0pt;font-family:Verdana;
        color:#4E81C4'><br>
        <i><span style=3D'font-style:italic'>Founder, CEO</span></i> =
<o:p></o:p></span></font></p>
        </td>
        <td height=3D1 valign=3Dtop style=3D'padding:.75pt 3.0pt 3.0pt =
.75pt;
        height:.75pt'>
        <p class=3DMsoNormal align=3Dright =
style=3D'text-align:right'><b><font
        size=3D1 color=3D"#4e81c4" face=3DVerdana><span lang=3DES-AR =
style=3D'font-size:
        =
8.0pt;font-family:Verdana;color:#4E81C4;font-weight:bold'>COLABORATIVA.NE=
T</span></font></b><font
        size=3D1 color=3D"#4e81c4" face=3DVerdana><span lang=3DES-AR =
style=3D'font-size:
        8.0pt;font-family:Verdana;color:#4E81C4'><br>
        C=F3rdoba 1147 Piso 6 Oficinas 3 y 4<br>
        (S2000AWO) Rosario, SF,<br>
        Argentina <o:p></o:p></span></font></p>
        </td>
       </tr>
       <tr height=3D1 style=3D'height:.75pt'>
        <td height=3D1 valign=3Dbottom style=3D'padding:.75pt .75pt =
3.0pt 3.0pt;
        height:.75pt'>
        <p class=3DMsoNormal><font size=3D1 color=3D"#4e81c4" =
face=3DVerdana><span
        style=3D'font-size:8.0pt;font-family:Verdana;color:#4E81C4'><a
        href=3D"mailto:mariano.barcia@colaborativa.net" =
target=3D"_blank"><font
        color=3D"#4e81c4"><span =
style=3D'color:#4E81C4;text-decoration:none'>mariano.barcia@colaborativa.=
net</span></font></a>
        <br>
        IM: mariano_barcia@hotmail.com <br>
        Skype: mbarcia <br>
        <a href=3D"http://www.colaborativa.net" target=3D"_blank"><font
        color=3D"#4e81c4"><span =
style=3D'color:#4E81C4;text-decoration:none'>http://www.colaborativa.net<=
/span></font></a>
        <br>
        <a href=3D"http://www.kneobase.com" target=3D"_blank"><font =
color=3D"#4e81c4"><span
        =
style=3D'color:#4E81C4;text-decoration:none'>http://www.kneobase.com</spa=
n></font></a>
        <o:p></o:p></span></font></p>
        </td>
        <td height=3D1 valign=3Dbottom style=3D'padding:.75pt 3.0pt =
3.0pt .75pt;
        height:.75pt'>
        <table class=3DMsoNormalTable border=3D0 cellspacing=3D0 =
cellpadding=3D0
         align=3Dright>
         <tr>
          <td nowrap style=3D'padding:.75pt .75pt .75pt .75pt'>
          <p class=3DMsoNormal align=3Dright =
style=3D'text-align:right'><font size=3D1
          color=3D"#4e81c4" face=3DVerdana><span =
style=3D'font-size:8.0pt;font-family:
          Verdana;color:#4E81C4'>tel: <br>
          mobile: <o:p></o:p></span></font></p>
          </td>
          <td nowrap style=3D'padding:.75pt .75pt .75pt 3.0pt'>
          <p class=3DMsoNormal align=3Dright =
style=3D'text-align:right'><font size=3D1
          color=3D"#4e81c4" face=3DVerdana><span =
style=3D'font-size:8.0pt;font-family:
          Verdana;color:#4E81C4'>+54 (341) 528 9987<br>
          +54 9 (341) 587 6695 <o:p></o:p></span></font></p>
          </td>
         </tr>
        </table>
        <p class=3DMsoNormal align=3Dright =
style=3D'text-align:right'><font size=3D1
        color=3D"#4e81c4" face=3DVerdana><span =
style=3D'font-size:8.0pt;font-family:
        Verdana;color:#4E81C4'><o:p></o:p></span></font></p>
        </td>
       </tr>
      </table>
      <p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span
      style=3D'font-size:12.0pt'><o:p></o:p></span></font></p>
      </td>
     </tr>
    </table>
    <p class=3DMsoNormal><font size=3D1 face=3D"Times New Roman"><span
    style=3D'font-size:1.0pt'><o:p></o:p></span></font></p>
    </td>
    <td style=3D'padding:0in 0in 0in 0in'>
    <p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span
    style=3D'font-size:12.0pt'><o:p>&nbsp;</o:p></span></font></p>
    </td>
   </tr>
  </table>
  <p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span
  style=3D'font-size:12.0pt'><o:p></o:p></span></font></p>
  </td>
 </tr>
</table>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

</div>

</body>

</html>

------=_NextPart_001_0133_01C66DBB.72615090--

------=_NextPart_000_0132_01C66DBB.72615090--


From java-user-return-20427-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 02 10:55:47 2006
Return-Path: <java-user-return-20427-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23356 invoked from network); 2 May 2006 10:55:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2006 10:55:46 -0000
Received: (qmail 98427 invoked by uid 500); 2 May 2006 10:55:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98396 invoked by uid 500); 2 May 2006 10:55:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98385 invoked by uid 99); 2 May 2006 10:55:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 03:55:40 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ramana.jelda@ciao-group.com designates 194.112.113.90 as permitted sender)
Received: from [194.112.113.90] (HELO pigeon.ciao.com) (194.112.113.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 03:55:39 -0700
Received: from Jelda (gateway.ciao.com [194.221.9.215])
	by pigeon.ciao.com (8.13.3/8.13.3) with ESMTP id k42AtAcn090421
	for <java-user@lucene.apache.org>; Tue, 2 May 2006 12:55:11 +0200 (CEST)
	(envelope-from ramana.jelda@ciao-group.com)
Message-Id: <200605021055.k42AtAcn090421@pigeon.ciao.com>
From: "Ramana Jelda" <ramana.jelda@ciao-group.com>
To: <java-user@lucene.apache.org>
Subject: OutOfMemoryError while enumerating through reader.terms(fieldName)
Date: Tue, 2 May 2006 12:55:06 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
Thread-Index: AcZtVuHTftVaXuiqQv2J+xdaSTuXJgAfmpUg
In-Reply-To: <4456638E.5070700@cse.unsw.edu.au>
X-Scanned-By: MIMEDefang 2.52 on 194.112.113.90
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
I am getting OutOfMemoryError , while enumerating through  TermEnum  after
invoking reader.terms(fieldName).

Just to provide you more information, I have almost 10000 unique terms in
field A. I can successfully enumerate around 5000terms but later I am
gettting OutOfMemoryError.

I set jvm max memory as 512MB , Ofcourse my index is bigger than this memory
around 1GB-2GB..
How can I ask lucene to cleanup loaded index and traverse through remaining
terms.. It seems while enumerating memory always grows in steps of some MBs.

Any help would be really appreciable.

Thanks in advance,
Jelda


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20428-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 02 13:27:24 2006
Return-Path: <java-user-return-20428-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83085 invoked from network); 2 May 2006 12:53:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2006 12:53:18 -0000
Received: (qmail 43280 invoked by uid 500); 2 May 2006 12:52:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43249 invoked by uid 500); 2 May 2006 12:52:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43236 invoked by uid 99); 2 May 2006 12:52:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 05:52:51 -0700
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=HTML_MESSAGE,HTML_TAG_EXIST_TBODY,HTML_TINY_FONT,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lukas.vlcek@gmail.com designates 64.233.184.236 as permitted sender)
Received: from [64.233.184.236] (HELO wproxy.gmail.com) (64.233.184.236)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 05:52:49 -0700
Received: by wproxy.gmail.com with SMTP id i34so2467033wra
        for <java-user@lucene.apache.org>; Tue, 02 May 2006 05:52:29 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=ibJOwTgqhus+RU38EtLUiaLeFksEoR7p9oIE6m9xU8xNdKzdAOFh3+5H8x5rVa6mBX3AWFax9zNvDLjEF4pRvqvw8hhJoPhD3DoCQxklvedIzV9KlSHypHmHNkTatUmqxouRllUQzrLZU+8ZZ9/AbJ/TKrasCIkGTCkwWPavAT0=
Received: by 10.65.150.15 with SMTP id c15mr333530qbo;
        Tue, 02 May 2006 05:52:25 -0700 (PDT)
Received: by 10.65.243.2 with HTTP; Tue, 2 May 2006 05:52:25 -0700 (PDT)
Message-ID: <52c3ddca0605020552led35902i9c83c25e26403b1a@mail.gmail.com>
Date: Tue, 2 May 2006 14:52:25 +0200
From: "Lukas Vlcek" <lukas.vlcek@gmail.com>
Reply-To: java-user@lucene.apache.org
To: java-user@lucene.apache.org
Subject: Re: Kneobase: open source, enterprise search
In-Reply-To: <013101c66dd4$97ae8890$6432a8c0@RANA>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_28651_30108361.1146574345892"
References: <013101c66dd4$97ae8890$6432a8c0@RANA>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_28651_30108361.1146574345892
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I was quickly looking at its web page eariler this day and it looks good so
far! Good news!

However, I have one question: does Kneobase contain any kind of web crawler
functionality (like Nutch) or do I have to feed it with all sources
*manually*? How much can be gathering of web data automated?

May be this questions should go to Kneobase maillist or directly to TSS sit=
e
but they require registration... and I am too lazy about giving out
information about budget and my position details now :-)

Regards,
Lukas

On 5/2/06, Mariano Barcia <mariano.barcia@colaborativa.net> wrote:
>
>  Hi list,
>
>
>
> I'm glad to announce Colaborativa.net has released Kneobase, an open
> source "enterprise search" product, based on Lucene.
>
>
>
> *Kneobase can accept many data sources as searchable elements, and can
> provide search results in multiple formats, including SOAP, which might m=
ake
> it a good search engine for use in a service-oriented environment, becaus=
e
> it doesn't need search indexes published to a web server.*
>
>
>
> See this article in TSS<http://www.theserverside.com/news/thread.tss?thre=
ad_id=3D40160>for more information,
>
>
>
> Cheers!
>
>
>
> --mariano
>
>
>
>
>
> <http://www.colaborativa.net/>
>
> Lideramos la innovaci=F3n
>
>
>
> *Mariano Barcia*
> *Founder, CEO*
>
> *COLABORATIVA.NET*
> C=F3rdoba 1147 Piso 6 Oficinas 3 y 4
> (S2000AWO) Rosario, SF,
> Argentina
>
> mariano.barcia@colaborativa.net
> IM: mariano_barcia@hotmail.com
> Skype: mbarcia
> http://www.colaborativa.net
> http://www.kneobase.com
>
> tel:
> mobile:
>
> +54 (341) 528 9987
> +54 9 (341) 587 6695
>
>
>
>
>

------=_Part_28651_30108361.1146574345892--

From java-user-return-20429-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 02 13:40:59 2006
Return-Path: <java-user-return-20429-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5170 invoked from network); 2 May 2006 13:38:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2006 13:38:28 -0000
Received: (qmail 64283 invoked by uid 500); 2 May 2006 13:08:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64258 invoked by uid 500); 2 May 2006 13:08:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64243 invoked by uid 99); 2 May 2006 13:08:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 06:08:25 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ramana.jelda@ciao-group.com designates 194.112.113.90 as permitted sender)
Received: from [194.112.113.90] (HELO pigeon.ciao.com) (194.112.113.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 06:08:25 -0700
Received: from Jelda (gateway.ciao.com [194.221.9.215])
	by pigeon.ciao.com (8.13.3/8.13.3) with ESMTP id k42D7v70067042
	for <java-user@lucene.apache.org>; Tue, 2 May 2006 15:07:57 +0200 (CEST)
	(envelope-from ramana.jelda@ciao-group.com)
Message-Id: <200605021307.k42D7v70067042@pigeon.ciao.com>
From: "Ramana Jelda" <ramana.jelda@ciao-group.com>
To: <java-user@lucene.apache.org>
Subject: RE: OutOfMemoryError while enumerating through reader.terms(fieldName)
Date: Tue, 2 May 2006 15:07:52 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
Thread-Index: AcZtVuHTftVaXuiqQv2J+xdaSTuXJgAfmpUgAATZnyA=
In-Reply-To: <200605021055.k42AtAcn090421@pigeon.ciao.com>
X-Scanned-By: MIMEDefang 2.52 on 194.112.113.90
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

 
Hi,
I just debugged it closely.. Sorry I am getting OutOfMemoryError not because
of reader.terms()
But because of invoking QueryFilter.bits() method for each unique term.
I will try explain u with psuedo code.

 while(term != null){
       if(term.field().equals(name)){
          String termText = term.text();
          keys.addElement(termText);
       }else{
         break;
       }
      if(te.next()){
        term = te.term();
       }else{
      break;
      }
 }

for(Iterator iter = keys.iterator(); iter.hasNext();){
  String termText = (String) iter.next();
 TermQuery termQuery = new TermQuery(new Term(fieldName, termText));
   QueryFilter filter = new QueryFilter(termQuery);
   final BitSet bits;
   bits = filter.bits(ciaoReader.getIndexReader());
   BitSet pr = cache.put(termText, bits);
}
}

Second for loop which gets BitSet using QueryFilter is now throwing
OutOfMemoryError.

Any advise is relly welcome.

Thx,
Jelda



> -----Original Message-----
> From: Ramana Jelda [mailto:ramana.jelda@ciao-group.com] 
> Sent: Tuesday, May 02, 2006 12:55 PM
> To: java-user@lucene.apache.org
> Subject: OutOfMemoryError while enumerating through 
> reader.terms(fieldName)
> 
> Hi,
> I am getting OutOfMemoryError , while enumerating through  
> TermEnum  after invoking reader.terms(fieldName).
> 
> Just to provide you more information, I have almost 10000 
> unique terms in field A. I can successfully enumerate around 
> 5000terms but later I am gettting OutOfMemoryError.
> 
> I set jvm max memory as 512MB , Ofcourse my index is bigger 
> than this memory around 1GB-2GB..
> How can I ask lucene to cleanup loaded index and traverse 
> through remaining terms.. It seems while enumerating memory 
> always grows in steps of some MBs.
> 
> Any help would be really appreciable.
> 
> Thanks in advance,
> Jelda
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20430-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 02 13:41:12 2006
Return-Path: <java-user-return-20430-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5589 invoked from network); 2 May 2006 13:38:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2006 13:38:58 -0000
Received: (qmail 24833 invoked by uid 500); 2 May 2006 13:38:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24786 invoked by uid 500); 2 May 2006 13:38:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24774 invoked by uid 99); 2 May 2006 13:38:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 06:38:36 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [143.167.1.4] (HELO marmot.shef.ac.uk) (143.167.1.4)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 06:38:35 -0700
Received: from drake.shef.ac.uk ([143.167.2.64])
	by marmot.shef.ac.uk with esmtp (Exim 4.52)
	id 1Fav4w-0007KT-3k
	for java-user@lucene.apache.org; Tue, 02 May 2006 14:38:14 +0100
Received: from http by drake.shef.ac.uk with local (Exim 4.42)
	id 1Fav4w-0004J8-1R
	for java-user@lucene.apache.org; Tue, 02 May 2006 14:38:14 +0100
Received: from drake.shef.ac.uk (drake.shef.ac.uk [143.167.2.64]) 
	by 143.167.2.64 (IMP) with HTTP 
	for <acp05tm@localhost>; Tue,  2 May 2006 14:38:13 +0100
Message-ID: <1146577093.445760c6000eb@webmail.shef.ac.uk>
Date: Tue,  2 May 2006 14:38:13 +0100
From: trupti mulajkar <acp05tm@sheffield.ac.uk>
To: java-user@lucene.apache.org
Subject: creating indexReader object
References: <200605021055.k42AtAcn090421@pigeon.ciao.com>
In-Reply-To: <200605021055.k42AtAcn090421@pigeon.ciao.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.2.2
Organization: University of Sheffield
X-Originating-IP: 143.167.2.64
X-S0phie-Scan: no
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

i am trying to create an object of index reader class that reads my index. i
need this to further generate the document and term frequency vectors.
however when i try to print the contents of the documents (doc.get("contents"))
it shows -null .
any suggestions, 
if i cant read the contents then i cannot create the other vectors.

any help will be apprecisted

cheers,
trupti mulajkar
MSc Advanced Computer Science



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20431-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 02 13:47:50 2006
Return-Path: <java-user-return-20431-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12458 invoked from network); 2 May 2006 13:46:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2006 13:46:02 -0000
Received: (qmail 45457 invoked by uid 500); 2 May 2006 13:45:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45407 invoked by uid 500); 2 May 2006 13:45:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45378 invoked by uid 99); 2 May 2006 13:45:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 06:45:15 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.227.126.171] (HELO moutng.kundenserver.de) (212.227.126.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 06:45:14 -0700
Received: from [84.131.38.180] (helo=[192.168.115.23])
	by mrelayeu.kundenserver.de (node=mrelayeu5) with ESMTP (Nemesis),
	id 0ML25U-1FavBL1tgk-0008Kr; Tue, 02 May 2006 15:44:52 +0200
Message-ID: <44576184.3060508@rc.ag>
Date: Tue, 02 May 2006 15:41:24 +0200
From: Hannes Carl Meyer <developers@rc.ag>
Reply-To:  java-user@lucene.apache.org
User-Agent: Thunderbird 1.5.0.2 (Windows/20060308)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: creating indexReader object
References: <200605021055.k42AtAcn090421@pigeon.ciao.com> <1146577093.445760c6000eb@webmail.shef.ac.uk>
In-Reply-To: <1146577093.445760c6000eb@webmail.shef.ac.uk>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: kundenserver.de abuse@kundenserver.de login:a42d25494c1e4d7d8aa0d52bc18a9cb2
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

IndexReader has some static methods, e.g.

IndexReader reader = IndexReader.open(new File("/index"));
http://lucene.apache.org/java/docs/api/org/apache/lucene/index/IndexReader.html#open(java.lang.String)

Hannes

trupti mulajkar schrieb:
> i am trying to create an object of index reader class that reads my index. i
> need this to further generate the document and term frequency vectors.
> however when i try to print the contents of the documents (doc.get("contents"))
> it shows -null .
> any suggestions, 
> if i cant read the contents then i cannot create the other vectors.
>
> any help will be apprecisted
>
> cheers,
> trupti mulajkar
> MSc Advanced Computer Science
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>   


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20432-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 02 14:36:23 2006
Return-Path: <java-user-return-20432-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27223 invoked from network); 2 May 2006 14:14:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2006 14:14:14 -0000
Received: (qmail 91415 invoked by uid 500); 2 May 2006 14:11:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91385 invoked by uid 500); 2 May 2006 14:11:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91374 invoked by uid 99); 2 May 2006 14:11:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 07:11:44 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [143.167.1.4] (HELO marmot.shef.ac.uk) (143.167.1.4)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 07:11:43 -0700
Received: from drake.shef.ac.uk ([143.167.2.64])
	by marmot.shef.ac.uk with esmtp (Exim 4.52)
	id 1Favb0-000481-J0
	for java-user@lucene.apache.org; Tue, 02 May 2006 15:11:22 +0100
Received: from http by drake.shef.ac.uk with local (Exim 4.42)
	id 1Favb0-0006HP-G2
	for java-user@lucene.apache.org; Tue, 02 May 2006 15:11:22 +0100
Received: from drake.shef.ac.uk (drake.shef.ac.uk [143.167.2.64]) 
	by 143.167.2.64 (IMP) with HTTP 
	for <acp05tm@localhost>; Tue,  2 May 2006 15:11:22 +0100
Message-ID: <1146579082.4457688a6e86e@webmail.shef.ac.uk>
Date: Tue,  2 May 2006 15:11:22 +0100
From: trupti mulajkar <acp05tm@sheffield.ac.uk>
To: java-user@lucene.apache.org
Subject: Re: creating indexReader object
References: <200605021055.k42AtAcn090421@pigeon.ciao.com> <1146577093.445760c6000eb@webmail.shef.ac.uk> <44576184.3060508@rc.ag>
In-Reply-To: <44576184.3060508@rc.ag>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.2.2
Organization: University of Sheffield
X-Originating-IP: 143.167.2.64
X-S0phie-Scan: no
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

thanx hannes, 

but i dont think i made my query clear enough.
i have created the index reader object just the way you mentioned it, but after 
that when i try to do create the vectors like term frequency and document
frequency using

doc(i).get("Contents"); 

i get an only NULL

any ideas ?

cheers,
trupti mulajkar
MSc Advanced Computer Science


Quoting Hannes Carl Meyer <developers@rc.ag>:

> Hi,
> 
> IndexReader has some static methods, e.g.
> 
> IndexReader reader = IndexReader.open(new File("/index"));
>
http://lucene.apache.org/java/docs/api/org/apache/lucene/index/IndexReader.html#open(java.lang.String)
> 
> Hannes
> 
> trupti mulajkar schrieb:
> > i am trying to create an object of index reader class that reads my index.
> i
> > need this to further generate the document and term frequency vectors.
> > however when i try to print the contents of the documents
> (doc.get("contents"))
> > it shows -null .
> > any suggestions, 
> > if i cant read the contents then i cannot create the other vectors.
> >
> > any help will be apprecisted
> >
> > cheers,
> > trupti mulajkar
> > MSc Advanced Computer Science
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >   
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20435-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 02 14:58:37 2006
Return-Path: <java-user-return-20435-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29592 invoked from network); 2 May 2006 14:20:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2006 14:20:11 -0000
Received: (qmail 17410 invoked by uid 500); 2 May 2006 14:19:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17379 invoked by uid 500); 2 May 2006 14:19:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17368 invoked by uid 99); 2 May 2006 14:19:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 07:19:38 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.146.177.35] (HELO web26013.mail.ukl.yahoo.com) (217.146.177.35)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 02 May 2006 07:19:37 -0700
Received: (qmail 36163 invoked by uid 60001); 2 May 2006 14:19:15 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=oN0mu9IZrcM5e8SpcPHURjDPDdLKIU4dSdXPBfmv2TpED5bOmAoOwGAF8LSmFcC8Gz6jiW+Ay8Zk/IozJMMmEa9WdRdxFzfbmsmjldDY88J9VTxSCXXayZs8uvLAOThVTWrcHWUqgB/ALrk76StUDD5qLFk1usqmGPcf8P8I/YY=  ;
Message-ID: <20060502141915.36161.qmail@web26013.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26013.mail.ukl.yahoo.com via HTTP; Tue, 02 May 2006 15:19:15 BST
Date: Tue, 2 May 2006 15:19:15 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: RE: OutOfMemoryError while enumerating through reader.terms(fieldName)
To: java-user@lucene.apache.org
In-Reply-To: <200605021307.k42D7v70067042@pigeon.ciao.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>>Any advise is relly welcome.

Don't cache all that data.
You need a minimum of (numUniqueTerms*numDocs)/8 bytes
to hold that info.
Assuming 10,000 unique terms and 1 million docs you'd
need over 1 Gig of RAM.

I suppose the question is what are you trying to
achieve and why can't you use the existing Lucene APIs
instead of caching all those bitsets?

Cheers
Mark


		
___________________________________________________________ 
Switch an email account to Yahoo! Mail, you could win FIFA World Cup tickets. http://uk.mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20433-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 02 15:05:45 2006
Return-Path: <java-user-return-20433-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31004 invoked from network); 2 May 2006 14:24:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2006 14:24:05 -0000
Received: (qmail 2384 invoked by uid 500); 2 May 2006 14:15:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2349 invoked by uid 500); 2 May 2006 14:15:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2338 invoked by uid 99); 2 May 2006 14:15:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 07:15:09 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [149.77.160.1] (HELO master.hyd.deshaw.com) (149.77.160.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 07:15:08 -0700
Received: from mshydpub1.hyd.deshaw.com (mshydpub1.hyd.deshaw.com [149.77.160.67])
 by master.hyd.deshaw.com (8.12.7/8.12.7/2.0.kim.desco.357) with ESMTP id k42EEiR8018894
 for <java-user@lucene.apache.org>; Tue, 2 May 2006 19:44:45 +0530 (IST)
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: RE: creating indexReader object
Date: Tue, 2 May 2006 19:44:44 +0530
Message-ID: <E817F096B8D59B4E9D1E437917B1083103D75E@mshydpub1.hyd.deshaw.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: creating indexReader object
Thread-Index: AcZt8meX+X+hF98jQZCC30cErqiI9AAAAzfg
From: "Satuluri, Venu_Madhav" <Venu.Madhav.Satuluri@deshaw.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Try using luke to see how the document actually is in the index.=20
http://www.getopt.org/luke/

-Venu

-----Original Message-----
From: trupti mulajkar [mailto:acp05tm@sheffield.ac.uk]=20
Sent: Tuesday, May 02, 2006 7:41 PM
To: java-user@lucene.apache.org
Subject: Re: creating indexReader object


thanx hannes,=20

but i dont think i made my query clear enough.
i have created the index reader object just the way you mentioned it,
but after=20
that when i try to do create the vectors like term frequency and
document
frequency using

doc(i).get("Contents");=20

i get an only NULL

any ideas ?

cheers,
trupti mulajkar
MSc Advanced Computer Science


Quoting Hannes Carl Meyer <developers@rc.ag>:

> Hi,
>=20
> IndexReader has some static methods, e.g.
>=20
> IndexReader reader =3D IndexReader.open(new File("/index"));
>
http://lucene.apache.org/java/docs/api/org/apache/lucene/index/IndexRead
er.html#open(java.lang.String)
>=20
> Hannes
>=20
> trupti mulajkar schrieb:
> > i am trying to create an object of index reader class that reads my
index.
> i
> > need this to further generate the document and term frequency
vectors.
> > however when i try to print the contents of the documents
> (doc.get("contents"))
> > it shows -null .
> > any suggestions,=20
> > if i cant read the contents then i cannot create the other vectors.
> >
> > any help will be apprecisted
> >
> > cheers,
> > trupti mulajkar
> > MSc Advanced Computer Science
> >
> >
> >
> >
---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >  =20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20434-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 02 15:10:16 2006
Return-Path: <java-user-return-20434-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32050 invoked from network); 2 May 2006 14:26:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2006 14:26:58 -0000
Received: (qmail 9712 invoked by uid 500); 2 May 2006 14:16:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9452 invoked by uid 500); 2 May 2006 14:16:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9441 invoked by uid 99); 2 May 2006 14:16:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 07:16:35 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.177] (HELO hnexfe11.hetnet.nl) (195.121.6.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 07:16:34 -0700
Received: from [192.168.0.100] ([86.85.154.64]) by hnexfe11.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Tue, 2 May 2006 16:16:11 +0200
Mime-Version: 1.0 (Apple Message framework v749.3)
In-Reply-To: <1146579082.4457688a6e86e@webmail.shef.ac.uk>
References: <200605021055.k42AtAcn090421@pigeon.ciao.com> <1146577093.445760c6000eb@webmail.shef.ac.uk> <44576184.3060508@rc.ag> <1146579082.4457688a6e86e@webmail.shef.ac.uk>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <55F6C13C-DCF3-473C-B75F-4A30EEEB71D2@snigel.net>
Content-Transfer-Encoding: 7bit
From: karl wettin <kalle@snigel.net>
Subject: Re: creating indexReader object
Date: Tue, 2 May 2006 16:18:50 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.749.3)
X-OriginalArrivalTime: 02 May 2006 14:16:11.0539 (UTC) FILETIME=[F6B7C630:01C66DF2]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


2 maj 2006 kl. 16.11 skrev trupti mulajkar:
>
> doc(i).get("Contents");
>
> i get an only NULL
>
> any ideas ?

Did you index the field with term vector when you added it to the  
document?


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20438-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 02 17:24:45 2006
Return-Path: <java-user-return-20438-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51651 invoked from network); 2 May 2006 15:20:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2006 15:20:05 -0000
Received: (qmail 74797 invoked by uid 500); 2 May 2006 14:48:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74768 invoked by uid 500); 2 May 2006 14:48:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74757 invoked by uid 99); 2 May 2006 14:48:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 07:48:46 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [24.201.245.36] (HELO relais.videotron.ca) (24.201.245.36)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 07:48:45 -0700
Received: from beetext09 ([70.81.32.231]) by VL-MH-MR001.ip.videotron.ca
 (Sun Java System Messaging Server 6.2-2.05 (built Apr 28 2005))
 with ESMTP id <0IYN00HW27SL9QC0@VL-MH-MR001.ip.videotron.ca> for
 java-user@lucene.apache.org; Tue, 02 May 2006 10:48:21 -0400 (EDT)
Date: Tue, 02 May 2006 10:48:21 -0400
From: Philippe Deslauriers <deslauriers@beetext.com>
Subject: RE: Occurence (freq) and ordering
In-reply-to: <Pine.LNX.4.58.0604271115110.31055@hal.rescomp.berkeley.edu>
To: java-user@lucene.apache.org
Message-id: <004701c66df7$75273010$d100a8c0@beetext09>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2670
X-Mailer: Microsoft Office Outlook 11
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-index: AcZqJ55gZYD9i0cgSQqrbmzN0eOiyQDxg8Ug
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for the Field.setOmitNorms(true) tip!

Regarding the Similarity implementation I am trying to do, somehow it does
not work.

Here's what I understand:

Scorer implementation uses the method defined in Similarity, to compute
score. (the formula expressed in
"http://lucene.apache.org/java/docs/api/org/apache/lucene/search/Similarity.
html" is implemented in the scorer.  

According to the formula if all my methods return 1, except for tf(freq)
which simply returns freq, all should work.

score(q,d) = SUM (t in q) : tf(freq) * 1 * 1 * 1 * 1 * 1 * 1

By example doc contains 3 times the word "test", and 1 time the word
"example", and the query was looking for both words, the score for the doc
should be 4.

But whatever I do, score is 1.

What I am missing?

Thanks

Phil.

-----Original Message-----
From: Chris Hostetter [mailto:hossman_lucene@fucit.org] 
Sent: Thursday, April 27, 2006 2:21 PM
To: java-user@lucene.apache.org
Subject: Re: Occurence (freq) and ordering


: Upgrading from lucene 1.3 to 1.9.

: We need to order the result in order of occurrences (score of a doc = sum
of
: occurrences of all Query).

: I am just starting to read on Similarity, weights etc.

You are definitely on the right track with Similarity.  What you want is a
Similarity implimentation where the values returned by most methods are
either 0 or 1, except for the tf(int) and tf(float) which should be an
identify function.

If you *allways* want *every* query to work this way, then you may also
want to look at using the new Field.setOmitNorms(true) option when you
index your documents.  It not only removes the lengthNorm from the scoring
equation, but it can help to reduce the size of your index (which i seem
to recall you were concerned with an another thread)


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20437-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 02 17:35:43 2006
Return-Path: <java-user-return-20437-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29613 invoked from network); 2 May 2006 17:33:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2006 17:33:47 -0000
Received: (qmail 62422 invoked by uid 500); 2 May 2006 14:41:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62396 invoked by uid 500); 2 May 2006 14:41:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62385 invoked by uid 99); 2 May 2006 14:41:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 07:41:07 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ramana.jelda@ciao-group.com designates 194.112.113.90 as permitted sender)
Received: from [194.112.113.90] (HELO pigeon.ciao.com) (194.112.113.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 07:41:06 -0700
Received: from Jelda (gateway.ciao.com [194.221.9.215])
	by pigeon.ciao.com (8.13.3/8.13.3) with ESMTP id k42EecsV013989
	for <java-user@lucene.apache.org>; Tue, 2 May 2006 16:40:38 +0200 (CEST)
	(envelope-from ramana.jelda@ciao-group.com)
Message-Id: <200605021440.k42EecsV013989@pigeon.ciao.com>
From: "Ramana Jelda" <ramana.jelda@ciao-group.com>
To: <java-user@lucene.apache.org>
Subject: RE: OutOfMemoryError while enumerating through reader.terms(fieldName)
Date: Tue, 2 May 2006 16:40:33 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
Thread-Index: AcZt83e9TJ0jipRmSnOR5XDXBBlwEgAAaxmw
In-Reply-To: <20060502141915.36161.qmail@web26013.mail.ukl.yahoo.com>
X-Scanned-By: MIMEDefang 2.52 on 194.112.113.90
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am trying to implement category count almost similar to CNET approach.
At the initialization time , I am trying to create all these BitSets and
then trying to and them with user query(with a bitset obtained from
queryfilter containing user query)..

This way my application is performant..Don't u think so? 
Actually I need all those bitsets everytime user queries. I can not use
exisiting Lucene filter approach.. Is n't it??

Thx in advance,
Jelda




> -----Original Message-----
> From: mark harwood [mailto:markharw00d@yahoo.co.uk] 
> Sent: Tuesday, May 02, 2006 4:19 PM
> To: java-user@lucene.apache.org
> Subject: RE: OutOfMemoryError while enumerating through 
> reader.terms(fieldName)
> 
> >>Any advise is relly welcome.
> 
> Don't cache all that data.
> You need a minimum of (numUniqueTerms*numDocs)/8 bytes to 
> hold that info.
> Assuming 10,000 unique terms and 1 million docs you'd need 
> over 1 Gig of RAM.
> 
> I suppose the question is what are you trying to achieve and 
> why can't you use the existing Lucene APIs instead of caching 
> all those bitsets?
> 
> Cheers
> Mark
> 
> 
> 		
> ___________________________________________________________
> Switch an email account to Yahoo! Mail, you could win FIFA 
> World Cup tickets. http://uk.mail.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20442-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 02 17:49:38 2006
Return-Path: <java-user-return-20442-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58439 invoked from network); 2 May 2006 17:49:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2006 17:49:24 -0000
Received: (qmail 36243 invoked by uid 500); 2 May 2006 16:42:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36130 invoked by uid 500); 2 May 2006 16:42:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36084 invoked by uid 99); 2 May 2006 16:42:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 09:42:50 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [143.167.1.4] (HELO marmot.shef.ac.uk) (143.167.1.4)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 09:42:49 -0700
Received: from drake.shef.ac.uk ([143.167.2.64])
	by marmot.shef.ac.uk with esmtp (Exim 4.52)
	id 1FaxxE-00033n-6D
	for java-user@lucene.apache.org; Tue, 02 May 2006 17:42:28 +0100
Received: from http by drake.shef.ac.uk with local (Exim 4.42)
	id 1FaxxE-00004u-3m
	for java-user@lucene.apache.org; Tue, 02 May 2006 17:42:28 +0100
Received: from drake.shef.ac.uk (drake.shef.ac.uk [143.167.2.64]) 
	by 143.167.2.64 (IMP) with HTTP 
	for <acp05tm@localhost>; Tue,  2 May 2006 17:42:28 +0100
Message-ID: <1146588148.44578bf4133c6@webmail.shef.ac.uk>
Date: Tue,  2 May 2006 17:42:28 +0100
From: trupti mulajkar <acp05tm@sheffield.ac.uk>
To: java-user@lucene.apache.org
Subject: Re: creating indexReader object
References: <200605021055.k42AtAcn090421@pigeon.ciao.com> <1146577093.445760c6000eb@webmail.shef.ac.uk> <44576184.3060508@rc.ag> <1146579082.4457688a6e86e@webmail.shef.ac.uk> <55F6C13C-DCF3-473C-B75F-4A30EEEB71D2@snigel.net>
In-Reply-To: <55F6C13C-DCF3-473C-B75F-4A30EEEB71D2@snigel.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.2.2
Organization: University of Sheffield
X-Originating-IP: 143.167.2.64
X-S0phie-Scan: no
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

i have indexed files uisng IndexFiles, 
how can i add the field to the document using this.

cheers,
trupti mulajkar
MSc Advanced Computer Science


Quoting karl wettin <kalle@snigel.net>:

> 
> 2 maj 2006 kl. 16.11 skrev trupti mulajkar:
> >
> > doc(i).get("contents");
> >
> > i get an only NULL
> >
> > any ideas ?
> 
> Did you index the field with term vector when you added it to the  
> document?
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20439-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 02 17:52:05 2006
Return-Path: <java-user-return-20439-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65484 invoked from network); 2 May 2006 17:51:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2006 17:51:49 -0000
Received: (qmail 91973 invoked by uid 500); 2 May 2006 14:58:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91946 invoked by uid 500); 2 May 2006 14:58:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91935 invoked by uid 99); 2 May 2006 14:58:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 07:58:22 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ramana.jelda@ciao-group.com designates 194.112.113.90 as permitted sender)
Received: from [194.112.113.90] (HELO pigeon.ciao.com) (194.112.113.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 07:58:21 -0700
Received: from Jelda (gateway.ciao.com [194.221.9.215])
	by pigeon.ciao.com (8.13.3/8.13.3) with ESMTP id k42Evr2n023757
	for <java-user@lucene.apache.org>; Tue, 2 May 2006 16:57:53 +0200 (CEST)
	(envelope-from ramana.jelda@ciao-group.com)
Message-Id: <200605021457.k42Evr2n023757@pigeon.ciao.com>
From: "Ramana Jelda" <ramana.jelda@ciao-group.com>
To: <java-user@lucene.apache.org>
Subject: RE: OutOfMemoryError while enumerating through reader.terms(fieldName)
Date: Tue, 2 May 2006 16:57:48 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
Thread-Index: AcZt83e9TJ0jipRmSnOR5XDXBBlwEgAAaxmwAACwT4A=
In-Reply-To: <200605021440.k42EecsV013989@pigeon.ciao.com>
X-Scanned-By: MIMEDefang 2.52 on 194.112.113.90
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I just got an idea for category counting instead following this BitSet
approach..


I will maintain and array with  docIds to cateogy_ids as value.

i.e. documents[docId] =category_id

Which is taking for 1 million docs,around each docid=4
bytes,category_id=4bytes = 8MBytes 

And then from user query, using HitCollector docids, I will try to calculate
each category count.. I think it is self understandable.. 

What do u think??
Any advice is really welcome..

Note: Actually, I have around 20000 unique cateogry ids.. 

Thx,
Jelda

> -----Original Message-----
> From: Ramana Jelda [mailto:ramana.jelda@ciao-group.com] 
> Sent: Tuesday, May 02, 2006 4:41 PM
> To: java-user@lucene.apache.org
> Subject: RE: OutOfMemoryError while enumerating through 
> reader.terms(fieldName)
> 
> I am trying to implement category count almost similar to 
> CNET approach.
> At the initialization time , I am trying to create all these 
> BitSets and then trying to and them with user query(with a 
> bitset obtained from queryfilter containing user query)..
> 
> This way my application is performant..Don't u think so? 
> Actually I need all those bitsets everytime user queries. I 
> can not use exisiting Lucene filter approach.. Is n't it??
> 
> Thx in advance,
> Jelda
> 
> 
> 
> 
> > -----Original Message-----
> > From: mark harwood [mailto:markharw00d@yahoo.co.uk]
> > Sent: Tuesday, May 02, 2006 4:19 PM
> > To: java-user@lucene.apache.org
> > Subject: RE: OutOfMemoryError while enumerating through
> > reader.terms(fieldName)
> > 
> > >>Any advise is relly welcome.
> > 
> > Don't cache all that data.
> > You need a minimum of (numUniqueTerms*numDocs)/8 bytes to hold that 
> > info.
> > Assuming 10,000 unique terms and 1 million docs you'd need 
> over 1 Gig 
> > of RAM.
> > 
> > I suppose the question is what are you trying to achieve 
> and why can't 
> > you use the existing Lucene APIs instead of caching all 
> those bitsets?
> > 
> > Cheers
> > Mark
> > 
> > 
> > 		
> > ___________________________________________________________
> > Switch an email account to Yahoo! Mail, you could win FIFA 
> World Cup 
> > tickets. http://uk.mail.yahoo.com
> > 
> > 
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20440-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 02 17:57:03 2006
Return-Path: <java-user-return-20440-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74780 invoked from network); 2 May 2006 17:57:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2006 17:57:01 -0000
Received: (qmail 259 invoked by uid 500); 2 May 2006 15:03:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 225 invoked by uid 500); 2 May 2006 15:03:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 214 invoked by uid 99); 2 May 2006 15:03:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 08:03:36 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.213] (HELO web26002.mail.ukl.yahoo.com) (217.12.10.213)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 02 May 2006 08:03:36 -0700
Received: (qmail 6297 invoked by uid 60001); 2 May 2006 15:03:14 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=CUYwHJ/buxRl0n/QrmmD9/DFctEvJFO7F7AVUJPztBHTSXCBYHp3FEksT5nB7Ss8zYGM8lAAE8JKSKrd45HgwGitGGAAYs7IGcfIYgS1MedZxRdyQC+Eukl6pqieQbM7dONBEdqnPtT7Wo7pMUET3w6BDgCeHjoWjxMYZ36gxsA=  ;
Message-ID: <20060502150314.6293.qmail@web26002.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26002.mail.ukl.yahoo.com via HTTP; Tue, 02 May 2006 16:03:14 BST
Date: Tue, 2 May 2006 16:03:14 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: RE: OutOfMemoryError while enumerating through reader.terms(fieldName)
To: java-user@lucene.apache.org
In-Reply-To: <200605021457.k42Evr2n023757@pigeon.ciao.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

"Category counts" should really be a FAQ entry.

There is no one right solution to prescribe because it
depends on the shape of your data.


For previous discussions/code samples see here:
http://www.mail-archive.com/java-user@lucene.apache.org/msg05123.html

and here for more space-efficient representations for
sparse sets
http://www.mail-archive.com/java-user@lucene.apache.org/msg02929.html


Cheers
Mark


		
___________________________________________________________ 
Switch an email account to Yahoo! Mail, you could win FIFA World Cup tickets. http://uk.mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20443-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 02 18:01:53 2006
Return-Path: <java-user-return-20443-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80922 invoked from network); 2 May 2006 18:01:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2006 18:01:51 -0000
Received: (qmail 33253 invoked by uid 500); 2 May 2006 18:01:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33165 invoked by uid 500); 2 May 2006 18:01:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 60318 invoked by uid 500); 2 May 2006 16:11:47 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_MESSAGE,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Message-ID: <C256CA99D8EA1342A2A7864C27739B9B2501CB12@lnxnpvexc01.reedref.com>
From: ningjun.wang@lexisnexis.com
To: lucene-user@jakarta.apache.org
Subject: Does lucene works with NFS?
Date: Tue, 2 May 2006 12:09:06 -0400 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C66E02.BD009FC4"
X-Scanned-By: MIMEDefang 2.45
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C66E02.BD009FC4
Content-Type: text/plain

Hello:
 
We are developing a WebSphere application using Lucene. Can we use the
following architecture?
 
1. Store the index in a NFS file system which mount to all four UNIX
machines
2. The WebSphere application just perform search (read only access to the
index on NFS). 
3. One of the four machines has a cron job that run every night to update
the index on the NFS.
 
Is this articture safe? The alternative is copy the index on all 4 machines.
Then each machine also need a cron job to run every night to update the
index.
 
Which architecture do you recomend?
 
Ningjun Wang
Consulting Software Engineer
LexisNexis
 

------_=_NextPart_001_01C66E02.BD009FC4--

From java-user-return-20441-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 02 18:09:25 2006
Return-Path: <java-user-return-20441-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92023 invoked from network); 2 May 2006 18:09:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2006 18:09:25 -0000
Received: (qmail 30910 invoked by uid 500); 2 May 2006 15:16:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30880 invoked by uid 500); 2 May 2006 15:16:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30860 invoked by uid 99); 2 May 2006 15:16:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 08:16:00 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ramana.jelda@ciao-group.com designates 194.112.113.90 as permitted sender)
Received: from [194.112.113.90] (HELO pigeon.ciao.com) (194.112.113.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 08:15:58 -0700
Received: from Jelda (gateway.ciao.com [194.221.9.215])
	by pigeon.ciao.com (8.13.3/8.13.3) with ESMTP id k42FFYX4031680
	for <java-user@lucene.apache.org>; Tue, 2 May 2006 17:15:34 +0200 (CEST)
	(envelope-from ramana.jelda@ciao-group.com)
Message-Id: <200605021515.k42FFYX4031680@pigeon.ciao.com>
From: "Ramana Jelda" <ramana.jelda@ciao-group.com>
To: <java-user@lucene.apache.org>
Subject: RE: OutOfMemoryError while enumerating through reader.terms(fieldName)
Date: Tue, 2 May 2006 17:15:29 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
Thread-Index: AcZt+ZwbXNuwT5ReQcObXdGFdysX5QAAZFHg
In-Reply-To: <20060502150314.6293.qmail@web26002.mail.ukl.yahoo.com>
X-Scanned-By: MIMEDefang 2.52 on 194.112.113.90
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thx  for ur quick reply.
I will go through it.

Rgds,
Jelda 

> -----Original Message-----
> From: mark harwood [mailto:markharw00d@yahoo.co.uk] 
> Sent: Tuesday, May 02, 2006 5:03 PM
> To: java-user@lucene.apache.org
> Subject: RE: OutOfMemoryError while enumerating through 
> reader.terms(fieldName)
> 
> "Category counts" should really be a FAQ entry.
> 
> There is no one right solution to prescribe because it 
> depends on the shape of your data.
> 
> 
> For previous discussions/code samples see here:
> http://www.mail-archive.com/java-user@lucene.apache.org/msg05123.html
> 
> and here for more space-efficient representations for sparse 
> sets 
> http://www.mail-archive.com/java-user@lucene.apache.org/msg02929.html
> 
> 
> Cheers
> Mark
> 
> 
> 		
> ___________________________________________________________
> Switch an email account to Yahoo! Mail, you could win FIFA 
> World Cup tickets. http://uk.mail.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20444-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 02 18:23:09 2006
Return-Path: <java-user-return-20444-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7771 invoked from network); 2 May 2006 18:23:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2006 18:23:08 -0000
Received: (qmail 77106 invoked by uid 500); 2 May 2006 18:22:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77055 invoked by uid 500); 2 May 2006 18:22:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77026 invoked by uid 99); 2 May 2006 18:22:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 11:22:51 -0700
X-ASF-Spam-Status: No, hits=3.5 required=10.0
	tests=RCVD_DOUBLE_IP_SPAM
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [208.253.57.99] (HELO uwamail.unitedway.org) (208.253.57.99)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 02 May 2006 11:22:50 -0700
Received: from [10.100.8.1] by 10.100.8.99 with StormMail ESMTP id 14394.1575569382;
	Tue, 2 May 2006 14:02:16 -0400 (EDT)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C66E15.5DF08450"
Subject: RE: Does lucene works with NFS?
Date: Tue, 2 May 2006 14:22:27 -0400
Message-ID: <2911FD5311EEF04EABA7B8DAC518C1F60B9B1384@uwamail.unitedway.org>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <2911FD5311EEF04EABA7B8DAC518C1F60B9B1384@uwamail.unitedway.org>
Thread-Topic: Does lucene works with NFS?
Thread-Index: AcZuEnnfhyluU3WUQ36o02U3S4HiIQAAfUb2
References: <C256CA99D8EA1342A2A7864C27739B9B2501CB12@lnxnpvexc01.reedref.com>
From: "Bryzek.Michael" <Michael.Bryzek@uwa.unitedway.org>
To: <java-user@lucene.apache.org>,
	<lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C66E15.5DF08450
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable

We ran into a problem when implementing a similar infrastructure using =
NFS. We were updating our indexes continuously throughout the day which =
caused disk space problems when using NFS. I no longer recall the =
specific details, but in our configuration, NFS did not appear to flush =
stale file handles which then consumed disk space. Your configuration is =
different enough, esp. w/ updates planned for a specific time frame, =
that NFS might be a good solution.

It may also be worth taking a close look at Solr. They provide for index =
replication via rsync. We are in the process of moving from a custom =
Lucene application to a Solr based search application and are extremely =
pleased with progress thus far.

-Mike


-----Original Message-----
From:	ningjun.wang@lexisnexis.com [mailto:ningjun.wang@lexisnexis.com]
Sent:	Tue 5/2/06 12:09 PM
To:	lucene-user@jakarta.apache.org
Cc:=09
Subject:	Does lucene works with NFS?

Hello:
=20
We are developing a WebSphere application using Lucene. Can we use the
following architecture?
=20
1. Store the index in a NFS file system which mount to all four UNIX
machines
2. The WebSphere application just perform search (read only access to =
the
index on NFS).=20
3. One of the four machines has a cron job that run every night to =
update
the index on the NFS.
=20
Is this articture safe? The alternative is copy the index on all 4 =
machines.
Then each machine also need a cron job to run every night to update the
index.
=20
Which architecture do you recomend?
=20
Ningjun Wang
Consulting Software Engineer
LexisNexis
=20




------_=_NextPart_001_01C66E15.5DF08450
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------_=_NextPart_001_01C66E15.5DF08450--

From java-user-return-20445-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 02 18:23:21 2006
Return-Path: <java-user-return-20445-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7901 invoked from network); 2 May 2006 18:23:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2006 18:23:17 -0000
Received: (qmail 77240 invoked by uid 500); 2 May 2006 18:22:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77204 invoked by uid 500); 2 May 2006 18:22:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77116 invoked by uid 500); 2 May 2006 18:22:51 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 77069 invoked by uid 99); 2 May 2006 18:22:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 11:22:51 -0700
X-ASF-Spam-Status: No, hits=3.5 required=10.0
	tests=RCVD_DOUBLE_IP_SPAM
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [208.253.57.99] (HELO uwamail.unitedway.org) (208.253.57.99)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 02 May 2006 11:22:50 -0700
Received: from [10.100.8.1] by 10.100.8.99 with StormMail ESMTP id 14394.1723098198;
	Tue, 2 May 2006 14:02:16 -0400 (EDT)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Does lucene works with NFS?
Date: Tue, 2 May 2006 14:22:27 -0400
Message-ID: <2911FD5311EEF04EABA7B8DAC518C1F60B9B1384@uwamail.unitedway.org>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Does lucene works with NFS?
Thread-Index: AcZuEnnfhyluU3WUQ36o02U3S4HiIQAAfUb2
References: <C256CA99D8EA1342A2A7864C27739B9B2501CB12@lnxnpvexc01.reedref.com>
From: "Bryzek.Michael" <Michael.Bryzek@uwa.unitedway.org>
To: <java-user@lucene.apache.org>,
	<lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

We ran into a problem when implementing a similar infrastructure using =
NFS. We were updating our indexes continuously throughout the day which =
caused disk space problems when using NFS. I no longer recall the =
specific details, but in our configuration, NFS did not appear to flush =
stale file handles which then consumed disk space. Your configuration is =
different enough, esp. w/ updates planned for a specific time frame, =
that NFS might be a good solution.

It may also be worth taking a close look at Solr. They provide for index =
replication via rsync. We are in the process of moving from a custom =
Lucene application to a Solr based search application and are extremely =
pleased with progress thus far.

-Mike


-----Original Message-----
From:	ningjun.wang@lexisnexis.com [mailto:ningjun.wang@lexisnexis.com]
Sent:	Tue 5/2/06 12:09 PM
To:	lucene-user@jakarta.apache.org
Cc:=09
Subject:	Does lucene works with NFS?

Hello:
=20
We are developing a WebSphere application using Lucene. Can we use the
following architecture?
=20
1. Store the index in a NFS file system which mount to all four UNIX
machines
2. The WebSphere application just perform search (read only access to =
the
index on NFS).=20
3. One of the four machines has a cron job that run every night to =
update
the index on the NFS.
=20
Is this articture safe? The alternative is copy the index on all 4 =
machines.
Then each machine also need a cron job to run every night to update the
index.
=20
Which architecture do you recomend?
=20
Ningjun Wang
Consulting Software Engineer
LexisNexis
=20



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20436-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 02 18:29:41 2006
Return-Path: <java-user-return-20436-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14958 invoked from network); 2 May 2006 18:29:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2006 18:29:41 -0000
Received: (qmail 21615 invoked by uid 500); 2 May 2006 14:21:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21568 invoked by uid 500); 2 May 2006 14:21:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21539 invoked by uid 99); 2 May 2006 14:21:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 07:21:37 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.227.126.171] (HELO moutng.kundenserver.de) (212.227.126.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 07:21:35 -0700
Received: from [85.220.140.42] (helo=sl-ox.innosystec.site)
	by mrelayeu.kundenserver.de (node=mrelayeu5) with ESMTP (Nemesis),
	id 0ML25U-1FavkX0ReO-0008Ir; Tue, 02 May 2006 16:21:13 +0200
Received: from awkunemann (aw-kunemann.innosystec.site [192.168.3.126])
	by sl-ox.innosystec.site (Postfix) with ESMTP id 7E1981822104
	for <java-user@lucene.apache.org>; Tue,  2 May 2006 16:21:44 +0200 (CEST)
From: "Frank Kunemann" <frank.kunemann@innosystec.de>
To: <java-user@lucene.apache.org>
Subject: RE: creating indexReader object
Date: Tue, 2 May 2006 16:21:11 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <1146579082.4457688a6e86e@webmail.shef.ac.uk>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
Thread-Index: AcZt8xJp6PvQdU3NQOGk4x6+CWcg0wAAEwWA
Message-Id: <20060502142144.7E1981822104@sl-ox.innosystec.site>
X-Provags-ID: kundenserver.de abuse@kundenserver.de login:83fe6509a69fdd0b3dc2966fb66dcbe7
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Lucene's fields are case sensitive and I think "contents" is written in
lower case by default.

Cheers,
Frank


-----Original Message-----
From: trupti mulajkar [mailto:acp05tm@sheffield.ac.uk] 
Sent: Tuesday, May 02, 2006 4:11 PM
To: java-user@lucene.apache.org
Subject: Re: creating indexReader object

thanx hannes, 

but i dont think i made my query clear enough.
i have created the index reader object just the way you mentioned it, but
after that when i try to do create the vectors like term frequency and
document frequency using

doc(i).get("Contents"); 

i get an only NULL

any ideas ?

cheers,
trupti mulajkar
MSc Advanced Computer Science


Quoting Hannes Carl Meyer <developers@rc.ag>:

> Hi,
> 
> IndexReader has some static methods, e.g.
> 
> IndexReader reader = IndexReader.open(new File("/index"));
>
http://lucene.apache.org/java/docs/api/org/apache/lucene/index/IndexReader.h
tml#open(java.lang.String)
> 
> Hannes
> 
> trupti mulajkar schrieb:
> > i am trying to create an object of index reader class that reads my
index.
> i
> > need this to further generate the document and term frequency vectors.
> > however when i try to print the contents of the documents
> (doc.get("contents"))
> > it shows -null .
> > any suggestions,
> > if i cant read the contents then i cannot create the other vectors.
> >
> > any help will be apprecisted
> >
> > cheers,
> > trupti mulajkar
> > MSc Advanced Computer Science
> >
> >
> >
> > --------------------------------------------------------------------
> > - To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >   
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20446-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 02 18:45:29 2006
Return-Path: <java-user-return-20446-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27282 invoked from network); 2 May 2006 18:45:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2006 18:45:29 -0000
Received: (qmail 29313 invoked by uid 500); 2 May 2006 18:45:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29287 invoked by uid 500); 2 May 2006 18:45:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29276 invoked by uid 99); 2 May 2006 18:45:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 11:45:22 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 11:45:20 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 238205B772; Tue,  2 May 2006 11:44:51 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 14FC57F403
	for <java-user@lucene.apache.org>; Tue,  2 May 2006 11:44:51 -0700 (PDT)
Date: Tue, 2 May 2006 11:44:51 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: RE: Occurence (freq) and ordering
In-Reply-To: <004701c66df7$75273010$d100a8c0@beetext09>
Message-ID: <Pine.LNX.4.58.0605021142540.26650@hal.rescomp.berkeley.edu>
References: <004701c66df7$75273010$d100a8c0@beetext09>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: By example doc contains 3 times the word "test", and 1 time the word
: "example", and the query was looking for both words, the score for the doc
: should be 4.
:
: But whatever I do, score is 1.

1) this is where Searcher.explain really comes in handy ... it will help
you seewhat is going on.

2) are you using the Hits API?  if so then if the high score is above 1,
all scores are normalized realtive hte high score.  use the TopDocs search
method instead.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20447-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 02 20:22:56 2006
Return-Path: <java-user-return-20447-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89554 invoked from network); 2 May 2006 20:22:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2006 20:22:55 -0000
Received: (qmail 91746 invoked by uid 500); 2 May 2006 20:22:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91714 invoked by uid 500); 2 May 2006 20:22:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91703 invoked by uid 99); 2 May 2006 20:22:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 13:22:48 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [62.116.32.102] (HELO eris.sysfrog.org) (62.116.32.102)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 13:22:47 -0700
Received: from a103030.upc-a.chello.nl ([62.163.103.30] helo=pico.sysfrog.org)
	by eris.sysfrog.org with esmtpsa (TLS-1.0:RSA_AES_256_CBC_SHA:32)
	(Exim 4.50)
	id 1Fb1O6-0005CH-Pu
	for java-user@lucene.apache.org; Tue, 02 May 2006 22:22:26 +0200
Date: Tue, 2 May 2006 22:23:48 +0200
From: =?utf-8?Q?G=C3=BCnther?= Starnberger <gst@sysfrog.org>
To: java-user@lucene.apache.org
Subject: max_score(multi_valued_field) function?
Message-ID: <20060502202348.GH5060@sysfrog.org>
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
	protocol="application/pgp-signature"; boundary="AzNpbZlgThVzWita"
Content-Disposition: inline
User-Agent: Mutt/1.5.11
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--AzNpbZlgThVzWita
Content-Type: text/plain; charset=utf-8
Content-Disposition: inline

Hello,

I would like to use Lucene to index a set of articles, where several
different titles may belong to one single article. Currently I use a
field for the article as well as a multi-valued field for the titles.

My problem is:

- If I index only one of the titles I won't get matches when someone
searches for one of the other titles. Of course a part of the content
may match too, but as the title is shorter matches there will get a
higher score.

- If I index all of the possible titles in a multivalued field this
introduces some kind of noise and therefore also bad results. The
reason is that Lucene concatenates all the values of multi-valued
fields when searching them. While a single one of this fields may be a
perfect match this isn't the case when also indexing the alternative
titles.

I have come up with some (hackish) solutions to this problem like
indexing this alternative titles as whole new documents (together with
the content). Or by using different field-names for each title (e.g.
title01, title02, ...) and using a BooleanSearch to search on all
possible titles.

What I'm basically looking for is some way to not get the mean score
of a multi-valued field but the maximum score. Is there some more
elegant solution to implement this? I've thought of some things like
indexing multiple terms on the same position - but then there would
still be the problem that the length of the titles differs and that
this will also result in wrong combinations of the terms in the title.

Any suggestions on how to solve this problem?

bye,
/gst

--AzNpbZlgThVzWita
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: Digital signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.2.2 (GNU/Linux)

iD8DBQFEV7/UZtF7I/+gjcERAuiCAJ4l6H8EJyrUJWsfyrrXpSR81Wl2FwCfYpQo
YhXVPIu/GrBHDsiFwOzWoik=
=2RT2
-----END PGP SIGNATURE-----

--AzNpbZlgThVzWita--

From java-user-return-20448-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 02 20:58:18 2006
Return-Path: <java-user-return-20448-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6186 invoked from network); 2 May 2006 20:58:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2006 20:58:18 -0000
Received: (qmail 42728 invoked by uid 500); 2 May 2006 20:58:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42697 invoked by uid 500); 2 May 2006 20:58:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42686 invoked by uid 99); 2 May 2006 20:58:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 13:58:09 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 13:58:08 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 3E6E25B772; Tue,  2 May 2006 13:57:46 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 348017F403
	for <java-user@lucene.apache.org>; Tue,  2 May 2006 13:57:46 -0700 (PDT)
Date: Tue, 2 May 2006 13:57:46 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: max_score(multi_valued_field) function?
In-Reply-To: <20060502202348.GH5060@sysfrog.org>
Message-ID: <Pine.LNX.4.58.0605021345570.27426@hal.rescomp.berkeley.edu>
References: <20060502202348.GH5060@sysfrog.org>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: - If I index all of the possible titles in a multivalued field this
: introduces some kind of noise and therefore also bad results. The
: reason is that Lucene concatenates all the values of multi-valued
: fields when searching them. While a single one of this fields may be a
: perfect match this isn't the case when also indexing the alternative
: titles.

i can think of two possibilities you might be refering to when you say
"noise" ... one is that the lengthNorm for docs with many variant titles
causes matches in those titles to not score as well as documents with only
one title -- this can be dealt with by overriding the lengthNorm function
so that when used on your title field, it returns a constant value (or by
index your title Field with setOmitNorms(true)) ... this will completley
eliminate the length of all titles from scoring consideration, but it is
an option.
The second thing you might be refering to is phrase matches that span
multiple titles, ie a phrase search for "Big Bang" might
inadvertently be matching a document with two titles: "How I Made it Big
Big", "Bang: The Story of One man rose in the ranks of organized crime"
... this can be solved by using an Analyzer that has a high
positionIncrementGap.

: What I'm basically looking for is some way to not get the mean score
: of a multi-valued field but the maximum score. Is there some more
: elegant solution to implement this? I've thought of some things like

As far as I can figure, your best bet really is to use a seperate field
for each title -- but instead of combining the queries into a
BooleanQuery, use a DisjunctionMaxQuery with a tiebreaker value of 0.0f
... the whole purpose of that query is to score documents based on the
maximum score of a sub query, but you still have to make the sub queries
your self, and there's no easy way to make a query that only searches the
first "chunk" of terms from a field.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20449-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 02 22:28:08 2006
Return-Path: <java-user-return-20449-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45219 invoked from network); 2 May 2006 22:28:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2006 22:28:07 -0000
Received: (qmail 2191 invoked by uid 500); 2 May 2006 22:28:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1780 invoked by uid 500); 2 May 2006 22:27:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1763 invoked by uid 99); 2 May 2006 22:27:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 15:27:59 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [62.116.32.102] (HELO eris.sysfrog.org) (62.116.32.102)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 15:27:58 -0700
Received: from a103030.upc-a.chello.nl ([62.163.103.30] helo=pico.sysfrog.org)
	by eris.sysfrog.org with esmtpsa (TLS-1.0:RSA_AES_256_CBC_SHA:32)
	(Exim 4.50)
	id 1Fb3LE-0005TL-Vm
	for java-user@lucene.apache.org; Wed, 03 May 2006 00:27:37 +0200
Date: Wed, 3 May 2006 00:28:58 +0200
From: =?utf-8?Q?G=C3=BCnther?= Starnberger <gst@sysfrog.org>
To: java-user@lucene.apache.org
Subject: Re: max_score(multi_valued_field) function?
Message-ID: <20060502222858.GA14489@sysfrog.org>
References: <20060502202348.GH5060@sysfrog.org>
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
	protocol="application/pgp-signature"; boundary="rwEMma7ioTxnRzrJ"
Content-Disposition: inline
In-Reply-To: <Pine.LNX.4.58.0605021345570.27426@hal.rescomp.berkeley.edu>
User-Agent: Mutt/1.5.11
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--rwEMma7ioTxnRzrJ
Content-Type: text/plain; charset=utf-8
Content-Disposition: inline

hello,

> i can think of two possibilities you might be refering to when you say
> "noise" ... one is that the lengthNorm for docs with many variant
> titles causes matches in those titles to not score as well as
> documents with only one title -- this can be dealt with by overriding
> the lengthNorm function so that when used on your title field, it
> returns a constant value (or by index your title Field with
> setOmitNorms(true)) ... this will completley eliminate the length of
> all titles from scoring consideration, but it is an option.

yes - i guess this is more or less what i mean. an example are the two
documents:

1 - with the titles:
"http"
"hypertext transfer protocol"

2 - with the title:
"http tunnel"

when i use multi-valued fields and do a search on "http" the title
score on the second document is higher as there is a match and the
length is shorter. as the first title of the first document would be a
perfect match this one should get the higher score instead.

disabling the length normalization sounds good - while it may not help
to find the more relevant title at least it won't give a bad score to
good titles.

> As far as I can figure, your best bet really is to use a seperate
> field for each title -- but instead of combining the queries into a
> BooleanQuery, use a DisjunctionMaxQuery with a tiebreaker value of
> 0.0f ... the whole purpose of that query is to score documents based
> on the maximum score of a sub query, but you still have to make the
> sub queries your self, and there's no easy way to make a query that
> only searches the first "chunk" of terms from a field.

ok. this could also be a possible solution. i'll evaluate both methods
and use the "better" one.

thanks for the help.
/gst

--rwEMma7ioTxnRzrJ
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: Digital signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.2.2 (GNU/Linux)

iD8DBQFEV90qZtF7I/+gjcERAqnuAKDUBAzLkAp2juaOG3N042RQ7WGQawCfbZ/O
WS3NRgvQKyDquxgEyoboxLg=
=CD+t
-----END PGP SIGNATURE-----

--rwEMma7ioTxnRzrJ--

From java-user-return-20450-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 02 22:52:22 2006
Return-Path: <java-user-return-20450-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53511 invoked from network); 2 May 2006 22:52:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2006 22:52:21 -0000
Received: (qmail 34160 invoked by uid 500); 2 May 2006 22:51:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33385 invoked by uid 500); 2 May 2006 22:51:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33346 invoked by uid 99); 2 May 2006 22:51:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 15:51:47 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 15:51:36 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 8C5E15B778; Tue,  2 May 2006 15:51:09 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 878DC7F403
	for <java-user@lucene.apache.org>; Tue,  2 May 2006 15:51:09 -0700 (PDT)
Date: Tue, 2 May 2006 15:51:09 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re: max_score(multi_valued_field) function?
In-Reply-To: <20060502222858.GA14489@sysfrog.org>
Message-ID: <Pine.LNX.4.58.0605021543440.31880@hal.rescomp.berkeley.edu>
References: <20060502202348.GH5060@sysfrog.org> <20060502222858.GA14489@sysfrog.org>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

: yes - i guess this is more or less what i mean. an example are the two
: documents:
:
: 1 - with the titles:
: "http"
: "hypertext transfer protocol"
:
: 2 - with the title:
: "http tunnel"
:
: when i use multi-valued fields and do a search on "http" the title
: score on the second document is higher as there is a match and the
: length is shorter. as the first title of the first document would be a
: perfect match this one should get the higher score instead.
:
: disabling the length normalization sounds good - while it may not help
: to find the more relevant title at least it won't give a bad score to
: good titles.

something you could do to gain back the basic idea of length normalization
is to 1) put artificial tokens at the begining and end of each title; 2)
use a high positionIncrimentGap; 3) at query time make all of your queries
Phrase/Span queries that include the artifical begin/end tokens with slop
values 1 less then your positionIncrimentGap.

ie, if you want to search for "http" search for "BEGIN http END"~100

Short titles will get better scores because the begin/end tokens will be
closer together.

It doesn't take care of your max concern though ... a document with the
titles "http clients" and "http 1.1 clients" will still get a higher score
by default then a document with the single title "http"



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20451-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 02 23:46:39 2006
Return-Path: <java-user-return-20451-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78698 invoked from network); 2 May 2006 23:46:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 May 2006 23:46:38 -0000
Received: (qmail 97715 invoked by uid 500); 2 May 2006 23:46:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97688 invoked by uid 500); 2 May 2006 23:46:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97677 invoked by uid 99); 2 May 2006 23:46:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 16:46:32 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [17.250.248.176] (HELO smtpout.mac.com) (17.250.248.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 16:46:31 -0700
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/8.12.11/smtpout06/MantshX 4.0) with ESMTP id k42Nk9KB013224
	for <java-user@lucene.apache.org>; Tue, 2 May 2006 16:46:09 -0700 (PDT)
Received: from [131.111.248.102] (md403.quns.cam.ac.uk [131.111.248.102])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 4.0) with ESMTP id k42Nk5oY014047
	for <java-user@lucene.apache.org>; Tue, 2 May 2006 16:46:08 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v749.3)
To: Lucene Mailing List <java-user@lucene.apache.org>
Message-Id: <8AEF5908-F9A3-4CDA-A25D-CD501583EC81@mac.com>
Content-Type: multipart/alternative; boundary=Apple-Mail-1-802639547
From: Michael Dodson <mgdodson@mac.com>
Subject: ArrayIndexOutOfBoundsException w/ ImageSearcher
Date: Wed, 3 May 2006 00:46:04 +0100
X-Mailer: Apple Mail (2.749.3)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--Apple-Mail-1-802639547
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=US-ASCII;
	delsp=yes;
	format=flowed

Hi,

I'm getting an ArrayIndexOutOfBoundsException when I try to create an  
instance of IndexSearcher with an FSDirectory.

for IndexSearcher searcher = new IndexSearcher(directory);

I get the following stack trace:

Exception in thread "main" java.lang.ArrayIndexOutOfBoundsException: -1
	at java.util.ArrayList.get(ArrayList.java:323)
	at org.apache.lucene.index.FieldInfos.fieldInfo(FieldInfos.java:155)
	at org.apache.lucene.index.FieldInfos.fieldName(FieldInfos.java:151)
	at org.apache.lucene.index.SegmentTermEnum.readTerm 
(SegmentTermEnum.java:149)
	at org.apache.lucene.index.SegmentTermEnum.next(SegmentTermEnum.java: 
115)
	at org.apache.lucene.index.TermInfosReader.readIndex 
(TermInfosReader.java:86)
	at org.apache.lucene.index.TermInfosReader.<init> 
(TermInfosReader.java:45)
	at org.apache.lucene.index.SegmentReader.initialize 
(SegmentReader.java:112)
	at org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:89)
	at org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:118)
	at org.apache.lucene.store.Lock$With.run(Lock.java:109)
	at org.apache.lucene.index.IndexReader.open(IndexReader.java:111)
	at org.apache.lucene.index.IndexReader.open(IndexReader.java:106)
	at org.apache.lucene.search.IndexSearcher.<init>(IndexSearcher.java:43)
	at diploma.project.searching.ImageSearcher.contentSearch 
(ImageSearcher.java:356)
	at diploma.project.searching.ImageSearcher.searchIndex 
(ImageSearcher.java:136)
	at diploma.project.searching.ImageSearcher.main(ImageSearcher.java:666)

Where the last three lines are traced into the class where I'm trying  
to create the instance.  It is possible the index I am trying to open  
has been created with a different version of lucene.  I'm not sure if  
that could create this error but it was my best guess.

Thanks,

Mike
--Apple-Mail-1-802639547--

From java-user-return-20452-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 03 01:55:29 2006
Return-Path: <java-user-return-20452-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18459 invoked from network); 3 May 2006 01:55:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2006 01:55:26 -0000
Received: (qmail 99470 invoked by uid 500); 3 May 2006 01:54:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98185 invoked by uid 500); 3 May 2006 01:54:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96699 invoked by uid 99); 3 May 2006 01:54:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 18:54:14 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.193.231.187] (HELO mail.cbrese.com) (66.193.231.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 May 2006 18:30:52 -0700
Received: by mail.cbrese.com (Postfix, from userid 1003)
	id 3136DBD543E; Tue,  2 May 2006 18:30:31 -0700 (PDT)
X-Spam-Checker-Version: SpamAssassin 3.1.0-gr0 (2005-09-13) on newcastle
X-Spam-Level: 
Received: from [192.168.2.100] (cpe-70-95-226-234.san.res.rr.com [70.95.226.234])
	by mail.cbrese.com (Postfix) with ESMTP id 6F137BD543A
	for <java-user@lucene.apache.org>; Tue,  2 May 2006 18:30:26 -0700 (PDT)
From: Jason Calabrese <mail@jasoncalabrese.com>
To: java-user@lucene.apache.org
Subject: Re: Stemming terms in SpanQuery
Date: Tue, 2 May 2006 18:29:40 -0700
User-Agent: KMail/1.9.1
References: <4456638E.5070700@cse.unsw.edu.au>
In-Reply-To: <4456638E.5070700@cse.unsw.edu.au>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605021829.40754.mail@jasoncalabrese.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.7 required=6.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.1.0-gr0
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I think the best way to tokening/stem is to use the analyzer directly.  for 
example:

TokenStream ts = analyzer.tokenStream(field, new StringReader(text));
				
Token token = null;
while ((token = ts.next()) != null) {
	Term newTerm = new Term(field, token.termText());
	//do something with the new newTerm
}

If your just stemming then there will be only a single token so you probably 
won't need the while loop.

On Monday 01 May 2006 12:37, Michael Chan wrote:
> Hi,
>
> I'm trying to build a SpanQuery using word stems. Is parsing each term
> with a QueryParser, constructed with an Analyzer giving stemmed
> tokenStream, the right approach? It just seems to me that QueryParser is
> designed to parse queries, and so my hunch is that there might be a
> better way.
>
> Any help will be much appreciated.
>
> Michael
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20453-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 03 07:21:37 2006
Return-Path: <java-user-return-20453-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54162 invoked from network); 3 May 2006 07:21:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2006 07:21:14 -0000
Received: (qmail 79615 invoked by uid 500); 3 May 2006 07:20:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79575 invoked by uid 500); 3 May 2006 07:20:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79564 invoked by uid 99); 3 May 2006 07:20:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 00:20:50 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [67.15.12.79] (HELO plesk.ev1servers.net) (67.15.12.79)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 00:20:48 -0700
Received: (qmail 10067 invoked from network); 3 May 2006 06:35:37 -0000
Received: from unknown (HELO user) (85.154.11.234)
  by ev1s-67-15-13-114.ev1servers.net with SMTP; 3 May 2006 06:35:37 -0000
From: "Kiran Joisher" <kiran.joisher@recreatesolutions.com>
To: <java-user@lucene.apache.org>
Subject: Updating index if there is a database changes
Date: Wed, 3 May 2006 11:31:46 +0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <200605021829.40754.mail@jasoncalabrese.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1506
Thread-Index: AcZuTkRbDLIN2r6zQHa0ed3p01Eu3QAM/5og
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060503072049.98B6810FB015@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,

I m working on a project where I will use lucene to make a search engine on
a database. I am new to lucene. I wrote a test program which indexes a table
and searches the same.. but now I m stuck on how to update the index in case
a database change occurs.. I need some help on this topic...like how do I
update the index at run time... can it be done then and there...or do I have
to write some kind of schedular program which "re-builds" the entire index
say once in a day ... which will be more efficient ?

the data will be huge... 4 million records something.. 

Thanks in advance,
--Kiran




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20454-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 03 08:18:49 2006
Return-Path: <java-user-return-20454-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84060 invoked from network); 3 May 2006 08:18:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2006 08:18:48 -0000
Received: (qmail 31432 invoked by uid 500); 3 May 2006 08:18:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31404 invoked by uid 500); 3 May 2006 08:18:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31393 invoked by uid 99); 3 May 2006 08:18:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 01:18:40 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chris.lu@gmail.com designates 64.233.184.236 as permitted sender)
Received: from [64.233.184.236] (HELO wr-out-0506.google.com) (64.233.184.236)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 01:18:39 -0700
Received: by wr-out-0506.google.com with SMTP id i22so86358wra
        for <java-user@lucene.apache.org>; Wed, 03 May 2006 01:18:18 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=F9gy2EfWyjPBxi8nMtzJXPHQqEeAQ5SE8PZXb4bL661pQ8B9Nowx6hUAuhK1Yp3ZUEH9vtMIHP6HVd2BexPIthu19bpH+RpeD7Rfvchk4TT5v+NbuVJ0HY1bAsnPKWr/jrIBWDY8H3OP5p9MzLVnq1G74RV/GAbA7Y+AfG+dmdU=
Received: by 10.65.160.4 with SMTP id m4mr220385qbo;
        Wed, 03 May 2006 01:18:18 -0700 (PDT)
Received: by 10.65.84.17 with HTTP; Wed, 3 May 2006 01:18:18 -0700 (PDT)
Message-ID: <6e3ae6310605030118u6d135789l33cd338299acf2fe@mail.gmail.com>
Date: Wed, 3 May 2006 01:18:18 -0700
From: "Chris Lu" <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Updating index if there is a database changes
In-Reply-To: <20060503072049.98B6810FB015@asf.osuosl.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <200605021829.40754.mail@jasoncalabrese.com>
	 <20060503072049.98B6810FB015@asf.osuosl.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

My approach is to select documents ordered by updated_date desc
And only process documents newer than the ones already in the index.

Chris Lu
------------------------------------
Full-Text Lucene Search for Any Databases/Applications
http://www.dbsight.net


On 5/3/06, Kiran Joisher <kiran.joisher@recreatesolutions.com> wrote:
> Hi all,
>
> I m working on a project where I will use lucene to make a search engine =
on
> a database. I am new to lucene. I wrote a test program which indexes a ta=
ble
> and searches the same.. but now I m stuck on how to update the index in c=
ase
> a database change occurs.. I need some help on this topic...like how do I
> update the index at run time... can it be done then and there...or do I h=
ave
> to write some kind of schedular program which "re-builds" the entire inde=
x
> say once in a day ... which will be more efficient ?
>
> the data will be huge... 4 million records something..
>
> Thanks in advance,
> --Kiran
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20455-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 03 10:10:54 2006
Return-Path: <java-user-return-20455-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43482 invoked from network); 3 May 2006 10:10:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2006 10:10:53 -0000
Received: (qmail 78127 invoked by uid 500); 3 May 2006 10:10:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78096 invoked by uid 500); 3 May 2006 10:10:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78071 invoked by uid 99); 3 May 2006 10:10:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 03:10:44 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [205.158.62.67] (HELO webmail-outgoing.us4.outblaze.com) (205.158.62.67)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 03:10:43 -0700
Received: from unknown (unknown [192.168.9.180])
	by webmail-outgoing.us4.outblaze.com (Postfix) with QMQP id 72FFD18001A8
	for <java-user@lucene.apache.org>; Wed,  3 May 2006 10:10:21 +0000 (GMT)
X-OB-Received: from unknown (205.158.62.131)
  by wfilter.us4.outblaze.com; 3 May 2006 09:53:29 -0000
Received: by ws5-1.us4.outblaze.com (Postfix, from userid 1001)
	id A4E7643A8D; Wed,  3 May 2006 10:10:26 +0000 (GMT)
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain; charset="iso-8859-1"
MIME-Version: 1.0
From: "RamPrasad Suswaram" <smart_rp@india.com>
To: java-user@lucene.apache.org
Date: Wed, 03 May 2006 18:10:26 +0800
Subject: ParseException: Too many boolean clauses
Received: from [210.210.13.126] by ws5-1.us4.outblaze.com with http for
 smart_rp@india.com; Wed, 03 May 2006 18:10:26 +0800
X-Originating-Ip: 210.210.13.126
X-Originating-Server: ws5-1.us4.outblaze.com
Message-Id: <20060503101026.A4E7643A8D@ws5-1.us4.outblaze.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
I am new to Lucene & am using Lucene 1.9.1. Frequently I get a ParseExcepti=
on due to "Too many boolean clauses".

The lucene documents that I have created have three fields "userID", "desc"=
 and "codes". I need to find the information pertaing a set of users whose =
description contains a given search text and also relates to a set of codes=
 (each user has multiple codes associated with him/her).  The code (program=
ming code) I have is as below:

private Hits performSearch(String userIds, String srchText, String codes) {
  QueryParser queryParser;
  Query userInNtwkQuery =3D null;
  Query codeQuery =3D null;
  Query keywordQuery =3D null;
  BooleanQuery booleanQuery =3D new BooleanQuery();

  queryParser =3D new QueryParser("userID",
                        new StandardAnalyzer());
  userInNtwkQuery =3D queryParser.parse(userIds);
  booleanQuery.add(userInNtwkQuery, BooleanClause.Occur.MUST);

  queryParser =3D new QueryParser(
                		"searchData",
                        new StandardAnalyzer());
  keywordQuery =3D queryParser.parse(srchText);
  booleanQuery.add(keywordQuery, BooleanClause.Occur.MUST);

  queryParser =3D new QueryParser("codes",
                        new StandardAnalyzer());
  codeQuery =3D queryParser.parse(codes);
  booleanQuery.add(codeQuery, BooleanClause.Occur.MUST);

  return idxSearcher.search(booleanQuery);
}

The first argument of the "performSearch" method 'userIDs' is a String valu=
e containing user-ids delimited by space (for e.g. "1 4 7 1100 99 887") and=
 there is a possibility of the number of user-ids being as high as 15000.  =
The second argument 'srchText' can be any free text up to a max of 10 words=
 and the third argument 'codes' is a String value containing codes delimite=
d by space (for e.g. "00544 11744 11743"), the number of codes could as hig=
h as 1500 to 2000 codes for a single search.

As the number userIDs and/or codes per search is exceeding the lucene defau=
lt limit of 1024 boolean clauses I am facing the problem of 'Too many boole=
an clauses'.  Is it advisable to solve this problem by using "BooleanQuery.=
setMaxClauseCount(Integer.MAX_VALUE)" approach or is a better alternative (=
work around) available.  Please advice.=20

Regards,
Ram Prasad

--=20
India.com free e-mail - www.india.com.=20
Check out our value-added Premium features, such as an extra 20MB for mail =
storage, POP3, e-mail forwarding, and ads-free mailboxes!

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20456-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 03 11:18:27 2006
Return-Path: <java-user-return-20456-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84662 invoked from network); 3 May 2006 11:18:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2006 11:18:26 -0000
Received: (qmail 97350 invoked by uid 500); 3 May 2006 11:18:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97301 invoked by uid 500); 3 May 2006 11:18:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97289 invoked by uid 99); 3 May 2006 11:18:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 04:18:18 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [205.158.62.67] (HELO webmail-outgoing.us4.outblaze.com) (205.158.62.67)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 04:18:17 -0700
Received: from unknown (unknown [192.168.9.180])
	by webmail-outgoing.us4.outblaze.com (Postfix) with QMQP id BC48B1800B4C
	for <java-user@lucene.apache.org>; Wed,  3 May 2006 11:17:54 +0000 (GMT)
X-OB-Received: from unknown (205.158.62.16)
  by wfilter.us4.outblaze.com; 3 May 2006 10:55:39 -0000
Received: by ws5-10.us4.outblaze.com (Postfix, from userid 1001)
	id 7E8817B5BC; Wed,  3 May 2006 11:17:53 +0000 (GMT)
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain; charset="iso-8859-1"
MIME-Version: 1.0
From: "RamPrasad Suswaram" <smart_rp@india.com>
To: java-user@lucene.apache.org
Date: Wed, 03 May 2006 19:17:52 +0800
Subject: Re: ParseException: Too many boolean clauses
Received: from [210.210.13.126] by ws5-10.us4.outblaze.com with http for
 smart_rp@india.com; Wed, 03 May 2006 19:17:52 +0800
X-Originating-Ip: 210.210.13.126
X-Originating-Server: ws5-10.us4.outblaze.com
Message-Id: <20060503111753.7E8817B5BC@ws5-10.us4.outblaze.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

The code needs a minor change. Replace=20

queryParser =3D new QueryParser("searchData",new StandardAnalyzer());

with=20

queryParser =3D new QueryParser("desc",new StandardAnalyzer());

regards,
Ram Prasad.

> ----- Original Message -----
> From: "RamPrasad Suswaram" <smart_rp@india.com>
> To: java-user@lucene.apache.org
> Subject: ParseException: Too many boolean clauses
> Date: Wed, 03 May 2006 18:10:26 +0800
>=20
>=20
> Hi,
> I am new to Lucene & am using Lucene 1.9.1. Frequently I get a=20
> ParseException due to "Too many boolean clauses".
>=20
> The lucene documents that I have created have three fields=20
> "userID", "desc" and "codes". I need to find the information=20
> pertaing a set of users whose description contains a given search=20
> text and also relates to a set of codes (each user has multiple=20
> codes associated with him/her).  The code (programming code) I have=20
> is as below:
>=20
> private Hits performSearch(String userIds, String srchText, String codes)=
 {
>    QueryParser queryParser;
>    Query userInNtwkQuery =3D null;
>    Query codeQuery =3D null;
>    Query keywordQuery =3D null;
>    BooleanQuery booleanQuery =3D new BooleanQuery();
>=20
>    queryParser =3D new QueryParser("userID",
>                          new StandardAnalyzer());
>    userInNtwkQuery =3D queryParser.parse(userIds);
>    booleanQuery.add(userInNtwkQuery, BooleanClause.Occur.MUST);
>=20
>    queryParser =3D new QueryParser(
>                  		"searchData",
>                          new StandardAnalyzer());
>    keywordQuery =3D queryParser.parse(srchText);
>    booleanQuery.add(keywordQuery, BooleanClause.Occur.MUST);
>=20
>    queryParser =3D new QueryParser("codes",
>                          new StandardAnalyzer());
>    codeQuery =3D queryParser.parse(codes);
>    booleanQuery.add(codeQuery, BooleanClause.Occur.MUST);
>=20
>    return idxSearcher.search(booleanQuery);
> }
>=20
> The first argument of the "performSearch" method 'userIDs' is a=20
> String value containing user-ids delimited by space (for e.g. "1 4=20
> 7 1100 99 887") and there is a possibility of the number of=20
> user-ids being as high as 15000.  The second argument 'srchText'=20
> can be any free text up to a max of 10 words and the third argument=20
> 'codes' is a String value containing codes delimited by space (for=20
> e.g. "00544 11744 11743"), the number of codes could as high as=20
> 1500 to 2000 codes for a single search.
>=20
> As the number userIDs and/or codes per search is exceeding the=20
> lucene default limit of 1024 boolean clauses I am facing the=20
> problem of 'Too many boolean clauses'.  Is it advisable to solve=20
> this problem by using=20
> "BooleanQuery.setMaxClauseCount(Integer.MAX_VALUE)" approach or is=20
> a better alternative (work around) available.  Please advice.
>=20
> Regards,
> Ram Prasad
>=20
> --
> India.com free e-mail - www.india.com.
> Check out our value-added Premium features, such as an extra 20MB=20
> for mail storage, POP3, e-mail forwarding, and ads-free mailboxes!
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org

>


--=20
India.com free e-mail - www.india.com.=20
Check out our value-added Premium features, such as an extra 20MB for mail =
storage, POP3, e-mail forwarding, and ads-free mailboxes!

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20457-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 03 12:36:22 2006
Return-Path: <java-user-return-20457-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33636 invoked from network); 3 May 2006 12:36:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2006 12:36:20 -0000
Received: (qmail 23953 invoked by uid 500); 3 May 2006 12:36:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23751 invoked by uid 500); 3 May 2006 12:36:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23730 invoked by uid 99); 3 May 2006 12:36:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 05:36:09 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.180 as permitted sender)
Received: from [64.233.166.180] (HELO py-out-1112.google.com) (64.233.166.180)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 05:36:08 -0700
Received: by py-out-1112.google.com with SMTP id i75so202143pye
        for <java-user@lucene.apache.org>; Wed, 03 May 2006 05:35:48 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=YO3yWzrakpDvQLlqVSqg5riQZW/TB282AYbX3LcJ1w4dWJz4xV+fJfLlJQlCImo3PYTb9+HHnLtnAD76x6hO5u2CH+xvTxhncKs7uXmUMagT8mGucw8tFz+3t/GsVPmVDFwIhWo6HIxKu6c/Tr1aG9iaFDxUP2im0WC2W3PYrxY=
Received: by 10.35.8.1 with SMTP id l1mr52858pyi;
        Wed, 03 May 2006 05:35:48 -0700 (PDT)
Received: by 10.35.17.5 with HTTP; Wed, 3 May 2006 05:35:48 -0700 (PDT)
Message-ID: <359a92830605030535q1cf1c35eu5454d2e31ca49e8c@mail.gmail.com>
Date: Wed, 3 May 2006 08:35:48 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: ParseException: Too many boolean clauses
In-Reply-To: <20060503111753.7E8817B5BC@ws5-10.us4.outblaze.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_27825_9777529.1146659748135"
References: <20060503111753.7E8817B5BC@ws5-10.us4.outblaze.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_27825_9777529.1146659748135
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

This is a well-known Lucene issue, having to do with the way Lucene expands
queries with ranges, etc. There is a thread in this archive titled "I just
don't get wildcards at all" that will be very helpful. See especially Chris
Hostetter's reply to some of my questions.

The short form is that I *think* that what's happening is that, by using th=
e
StandardAnalyzer and passing a list of long user IDs, underneath the covers
you're getting one clause for each ID. The internal limit is 1024 clauses
before you get the "too many clauses" exception.

One possibility is to bump the number of clauses allowed. This is a solutio=
n
I don't recommend since, unless you are very careful, you'll get another
exception when the data or the query changes. But if you can *guarantee* th=
e
characteristics of the data and the query, this could work well.

Otherwise, I'd recommend you look at Chris's response in the thread I
mentioned above, as well as all of the other guys' responses. And/or search
the archive for "too many clauses".

Also, consider buying a copy of "lucene in action" as it goes into detail
about this kind of issue. Don't be fooled by the thread title, although it'=
s
about wildcards, it includes ranges, prefix queries, etc. There are a numbe=
r
of queries that have this behavior, as you are finding.

Best
Erick

------=_Part_27825_9777529.1146659748135--

From java-user-return-20458-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 03 13:38:56 2006
Return-Path: <java-user-return-20458-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74861 invoked from network); 3 May 2006 13:38:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2006 13:38:55 -0000
Received: (qmail 41046 invoked by uid 500); 3 May 2006 13:38:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40990 invoked by uid 500); 3 May 2006 13:38:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40979 invoked by uid 99); 3 May 2006 13:38:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 06:38:47 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.188.213.5] (HELO smtp-out2.blueyonder.co.uk) (195.188.213.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 06:38:46 -0700
Received: from [172.23.170.137] (helo=anti-virus01-08)
	by smtp-out2.blueyonder.co.uk with smtp (Exim 4.52)
	id 1FbHYg-0006Wi-0s
	for java-user@lucene.apache.org; Wed, 03 May 2006 14:38:26 +0100
Received: from [80.192.120.56] (helo=[192.168.1.20])
	by asmtp-out1.blueyonder.co.uk with esmtp (Exim 4.52)
	id 1FbHYb-0003oz-VW
	for java-user@lucene.apache.org; Wed, 03 May 2006 14:38:22 +0100
Message-ID: <4458B24F.9020902@intrallect.com>
Date: Wed, 03 May 2006 14:38:23 +0100
From: Gordon Rogers <g.rogers@intrallect.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Wildcard with Words Ending in 'e'
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi

I'm currently upgrading our version of intraLibrary from 1.3 to 1.9.1 (about time!) and have come 
across a failure in one of our wildcard query unit tests. Previously searching for the phrase peopl? 
would return results and now it doesn't. Further investigation has found that for any words I could 
think of that ended with an 'e' you can't use the single character wildcard to find the word.

Has anyone else seen this problem or know of a workaround?

Many thanks

Gordon


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20459-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 03 13:57:16 2006
Return-Path: <java-user-return-20459-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86972 invoked from network); 3 May 2006 13:57:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2006 13:57:00 -0000
Received: (qmail 87745 invoked by uid 500); 3 May 2006 13:56:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87714 invoked by uid 500); 3 May 2006 13:56:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87703 invoked by uid 99); 3 May 2006 13:56:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 06:56:38 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.72.192.242] (HELO fmmailgate04.web.de) (217.72.192.242)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 06:56:36 -0700
Received: by fmmailgate04.web.de (8.12.10/8.12.10/webde Linux 0.7) with SMTP id k43DtjoU015624 
        for <java-user@lucene.apache.org>; Wed, 3 May 2006 15:56:14 +0200
Received: from [80.242.161.211] by freemailng2202.web.de with HTTP;
	Wed, 03 May 2006 15:56:13 +0200
Date: Wed, 03 May 2006 15:56:13 +0200
Message-Id: <292154071@web.de>
MIME-Version: 1.0
From: Mathias Keilbach <mathias.keilbach@web.de>
To: java-user@lucene.apache.org
Subject: internal Searching behavior or how to get a hit?
Organization: http://freemail.web.de/
Content-Type: text/plain; charset=iso-8859-15
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi!
I have a question concerning the interal searching behavior of lucene. How does lucene get a hit.
If I search for the a term, will each index document be checked for this term or is there an internal relation between terms and lucene documents?
Thanks for any advice.
Matt
_______________________________________________________________
SMS schreiben mit WEB.DE FreeMail - einfach, schnell und
kostenguenstig. Jetzt gleich testen! http://f.web.de/?mc=021192


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20460-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 03 14:21:49 2006
Return-Path: <java-user-return-20460-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1922 invoked from network); 3 May 2006 14:21:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2006 14:21:45 -0000
Received: (qmail 29868 invoked by uid 500); 3 May 2006 14:21:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29128 invoked by uid 500); 3 May 2006 14:21:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29117 invoked by uid 99); 3 May 2006 14:21:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 07:21:38 -0700
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,HTML_SHORT_LENGTH,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ivanhe1981@gmail.com designates 64.233.162.204 as permitted sender)
Received: from [64.233.162.204] (HELO nz-out-0102.google.com) (64.233.162.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 07:21:37 -0700
Received: by nz-out-0102.google.com with SMTP id n29so180802nzf
        for <java-user@lucene.apache.org>; Wed, 03 May 2006 07:21:08 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=cDd9+7TDjyLGuobWAl2bWA0X5fAAXRydML5tyWUOlsfodxJZT3vHJQOGSmTXcEQWv0f7cK6HCgXgcyc46ZgJ5M28JVUeP1T2Vum3EQAXIrhgAqpbPTaUKQud5HTSg0lNPLHnXMacKIckkJhAMoSifq4jJ1stLA7xYjptbzLXNuc=
Received: by 10.65.84.6 with SMTP id m6mr894229qbl;
        Wed, 03 May 2006 07:21:08 -0700 (PDT)
Received: by 10.65.250.11 with HTTP; Wed, 3 May 2006 07:21:08 -0700 (PDT)
Message-ID: <477a38290605030721r25c284b2p2e50a202defe8294@mail.gmail.com>
Date: Wed, 3 May 2006 22:21:08 +0800
From: "he ivan" <ivanhe1981@gmail.com>
Reply-To: sdhjc@163.com
To: java-user@lucene.apache.org
Subject: Optimize process does't care the maxMergeDocs value?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2528_12031942.1146666068797"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_2528_12031942.1146666068797
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

optimize the index will merge existing segments into a single one;does the
final segment limit by the maxMergeDocs value also?

------=_Part_2528_12031942.1146666068797--

From java-user-return-20461-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 03 14:56:13 2006
Return-Path: <java-user-return-20461-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22245 invoked from network); 3 May 2006 14:55:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2006 14:55:08 -0000
Received: (qmail 2036 invoked by uid 500); 3 May 2006 14:54:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1732 invoked by uid 500); 3 May 2006 14:54:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1720 invoked by uid 99); 3 May 2006 14:54:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 07:54:35 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [208.97.132.5] (HELO randymail-a4.dreamhost.com) (208.97.132.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 07:54:35 -0700
Received: from [10.0.0.110] (mail2.runtime-collective.com [212.42.171.92])
	by randymail-a4.dreamhost.com (Postfix) with ESMTP id E8B5919524C
	for <java-user@lucene.apache.org>; Wed,  3 May 2006 07:54:10 -0700 (PDT)
From: Miles Barr <miles@runtime-collective.com>
To: java-user@lucene.apache.org
Subject: Re: internal Searching behavior or how to get a hit?
Date: Wed, 3 May 2006 15:53:59 +0100
User-Agent: KMail/1.8.3
References: <292154071@web.de>
In-Reply-To: <292154071@web.de>
Organization: Runtime Collective
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-15"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605031553.59382.miles@runtime-collective.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wednesday 03 May 2006 14:56, Mathias Keilbach wrote:
> I have a question concerning the interal searching behavior of lucene. How
> does lucene get a hit. If I search for the a term, will each index document
> be checked for this term or is there an internal relation between terms and
> lucene documents? Thanks for any advice.

AFAIK Lucene will have an inverted index which maps tokens (terms) to the 
documents that they appear in.

Some background info on inverted indices:

http://en.wikipedia.org/wiki/Inverted_index



Miles

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20462-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 03 16:05:15 2006
Return-Path: <java-user-return-20462-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67942 invoked from network); 3 May 2006 16:05:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2006 16:05:15 -0000
Received: (qmail 78017 invoked by uid 500); 3 May 2006 16:04:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77981 invoked by uid 500); 3 May 2006 16:04:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77970 invoked by uid 99); 3 May 2006 16:04:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 09:04:58 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_MESSAGE,MSGID_FROM_MTA_HEADER,NO_REAL_NAME,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of PrasenjitM@aol.com designates 64.12.137.7 as permitted sender)
Received: from [64.12.137.7] (HELO imo-m26.mx.aol.com) (64.12.137.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 09:04:57 -0700
Received: from PrasenjitM@aol.com
	by imo-m26.mx.aol.com (mail_out_v38_r7.5.) id h.2cb.7a56326 (15864)
	 for <java-user@lucene.apache.org>; Wed, 3 May 2006 12:04:31 -0400 (EDT)
Received: from  mblk-d48 (mblk-d48.mblk.aol.com [205.188.212.232]) by air-id06.mx.aol.com (vx) with ESMTP id MAILINID63-3df84458d48e14c; Wed, 03 May 2006 12:04:31 -0400
Date: Wed, 03 May 2006 12:04:42 -0400
From: prasenjitm@aol.com
Message-Id: <8C83CE26C7274F6-15C4-AF@mblk-d48.sysops.aol.com>
X-MB-Message-Source: WebUI
X-MB-Message-Type: User
Received: from 203.101.56.19 by mblk-d48.sysops.aol.com (205.188.212.232) with HTTP (WebMailUI); Wed, 03 May 2006 12:04:42 -0400
X-Mailer: AOL WebMail 17385
Subject: Lucene Segment's Fileformat
Content-Type: multipart/mixed;
 boundary="--------MailBlocks_8C83CE26C6DB040_15C4_AA_mblk-d48.sysops.aol.com"
MIME-Version: 1.0
To: java-user@lucene.apache.org
X-AOL-IP: 205.188.212.232
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: NO
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

----------MailBlocks_8C83CE26C6DB040_15C4_AA_mblk-d48.sysops.aol.com
Content-Type: multipart/alternative;
 boundary="--------MailBlocks_8C83CE26C6DB040_15C4_AB_mblk-d48.sysops.aol.com"



----------MailBlocks_8C83CE26C6DB040_15C4_AB_mblk-d48.sysops.aol.com
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi Lucene Gurus,
   I have tried to compile a one-page ppt with an attempt to explain lucene segment's basic fileformats and also how lucene's search algo uses them. 
 
Would greatly appreciate if you could verify my findings or clear any of my misunderstandings. 
 
Thanks,
Prasen

----------MailBlocks_8C83CE26C6DB040_15C4_AB_mblk-d48.sysops.aol.com
Content-Type: text/html; charset="us-ascii"
Content-Transfer-Encoding: 7bit

<HTML><BODY><DIV style='font-family: "Verdana"; font-size: 10pt;'><DIV>Hi Lucene Gurus,</DIV>
<DIV>&nbsp;&nbsp; I have tried to compile a one-page ppt with an attempt to explain lucene segment's basic fileformats and also how lucene's search algo uses them. </DIV>
<DIV>&nbsp;</DIV>
<DIV>Would greatly appreciate if you could verify my findings or clear any of my misunderstandings. </DIV>
<DIV>&nbsp;</DIV>
<DIV>Thanks,</DIV>
<DIV>Prasen</DIV></DIV></BODY></HTML>

----------MailBlocks_8C83CE26C6DB040_15C4_AB_mblk-d48.sysops.aol.com--

----------MailBlocks_8C83CE26C6DB040_15C4_AA_mblk-d48.sysops.aol.com
Content-Type: application/vnd.ms-powerpoint; name="Segment layout.ppt"
Content-Disposition: attachment; filename="Segment layout.ppt"
Content-Transfer-Encoding: base64

0M8R4KGxGuEAAAAAAAAAAAAAAAAAAAAAPgADAP7/CQAGAAAAAAAAAAAAAAABAAAAAQAAAAAA
AAAAEAAALwAAAAEAAAD+////AAAAAAAAAAD/////////////////////////////////////
////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////
///////////////////////////////////9////YQAAAAMAAAAEAAAABQAAAAYAAAAHAAAA
CAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUA
AAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAA
IwAAACQAAAAlAAAAJgAAACcAAAAoAAAAKQAAACoAAAArAAAALAAAAC0AAAAuAAAA/v////7/
//9gAAAAMgAAADMAAAA0AAAANQAAADYAAAA3AAAAOAAAADkAAAA6AAAAOwAAADwAAAA9AAAA
PgAAAD8AAABAAAAAQQAAAEIAAABDAAAARAAAAEUAAABGAAAARwAAAEgAAABJAAAASgAAAEsA
AABMAAAATQAAAE4AAABPAAAAUAAAAFEAAABSAAAAUwAAAFQAAABVAAAAVgAAAFcAAABYAAAA
WQAAAFoAAABbAAAAXAAAAF0AAABeAAAAXwAAAP7////+/////v//////////////////////
////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////1IA
bwBvAHQAIABFAG4AdAByAHkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAWAAUA//////////8BAAAAEI2BZJtPzxGG6gCqALkp6AAAAAAAAAAAAAAAAJCt
ppfKbsYBMAAAAIACAAAAAAAAUABvAHcAZQByAFAAbwBpAG4AdAAgAEQAbwBjAHUAbQBlAG4A
dAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAgECAAAAAwAAAP////8AAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAllgAAAAAAAAFAFMAdQBtAG0AYQByAHkA
SQBuAGYAbwByAG0AYQB0AGkAbwBuAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAACAQQA
AAD//////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADEAAAA8XQAA
AAAAAAUARABvAGMAdQBtAGUAbgB0AFMAdQBtAG0AYQByAHkASQBuAGYAbwByAG0AYQB0AGkA
bwBuAAAAAAAAAAAAAAA4AAIB////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAABQCAAAAAAAADwDoA88EAAABAOkDKAAAAIAWAADgEAAA4BAAAIAW
AAAFAAAACgAAAAIAAAAAAAAAAQAAAAAAAAEPAPID+AEAAC8AyA8MAAAAMADSDwQAAAABAAAA
DwDVBzABAAAAALcPRAAAAEEAcgBpAGEAbAAAAG4AZwBzAAAAvKYTALymEwDkLZ4APKUTACSl
EwD26AcwCAAAAAAAAAA8pRMA0kIJMDSlEwAAAAQAEAC3D0QAAABMAHUAeABpACAAUwBhAG4A
cwAAALymEwC8phMA5C2eADylEwAkpRMA9ugHMAgAAAAAAAAAPKUTANJCCTA0pRMAAAAGECAA
tw9EAAAAUwB0AGEAcgBTAHkAbQBiAG8AbAAAABMAvKYTAOQtngA8pRMAJKUTAPboBzAIAAAA
AAAAADylEwDSQgkwNKUTAAAABgAwALcPRAAAAFcAaQBuAGcAZABpAG4AZwBzAAAAAAATALym
EwDkLZ4APKUTACSlEwD26AcwCAAAAAAAAAA8pRMA0kIJMDSlEwACAAYCAACkDwgAAACAAEAA
AAD//wAApQ8MAAAAAAAACC4AAAAHAAAAAACpDwoAAAAHAAAAAgAJBAAAQACjD24AAAAFAP/9
PwAAACIgAABkAAAAAP8AAGQAAAAAAAAAAABAAgAAAAAHAAAA///vAAAAAAD///////8SAAAA
AAEAAAAFAAAgASABAAAAAAAFAABAAkACAAAAAAAFAABgA2ADAAAAAAAFAACABIAEAAAAAA8A
CwSYAAAADwAA8JAAAAAAAAbwOAAAAAQUAAAGAAAATAAAAAQAAAABAAAABwAAAAAAAAAEAAAA
AwAAAEEAAAAEAAAACAAAAAUAAAAEAAAAgwAL8DAAAACBAQQAAAiDAQAAAAiGQQAAAAC/ARAA
EADAAQEAAAjFQQAAAAD/AQgACAABAgIAAAhAAB7xEAAAAAQAAAgBAAAIAgAACPcAABAfAPAP
HAAAAAAA8wMUAAAAAwAAAAAAAAAAAAAAAAAAgAAAAAAPANAHMwEAAB8AFAQcAAAAAAAVBBQA
AAC6k7D2AMqaO9RdTCYAypo7AQEAAA8A+gNnAAAAAAD+AwMAAAAAAQAAAP0DNAAAAEwAAABk
AAAATAAAAGQAAAAIAAAAAAAAAFSlEwDSQgkwAAAAAAAAAADG+v//pv///wEAEwBwAPsDCAAA
AAAAAABwCAAAcAD7AwgAAAABAAAAQAsAAB8AEwQ8AAAAAAD9AzQAAABkAAAAZAAAAGQAAABk
AAAAgKUTAHBDCTC8phMAvC2eAAAAAAAAAAAAAAAAAAAAAAAAARMAHwD/AxQAAAACAAAEDAAA
AAAAAAAAAAAAAgAAAA8AiBM4AAAADwCKEzAAAAAAALoPEAAAAF8AXwBfAFAAUABUADEAMAAA
AIsTEAAAAAAADQQIAAAAAMAAAADAAAA/ANkPDAAAAAAA2g8EAAAADQAlAA8A8A9YAAAAAADz
AxQAAAAEAAAABAAAAAEAAAABAQAAAAAAAAAAnw8EAAAAAAAAAAAAqA8OAAAAU2VnbWVudCBs
YXlvdXQAAKoPEgAAAAcAAAABAAAAAAAIAAAAAAAAAC8A8A8cAAAAAADzAxQAAAAFAAAAAAAA
AAAAAAAAAQAAAAAAAAAA6gMAAAAADwD4A6QJAAACAO8DGAAAAAEAAAABAgcJCAAAAAAAAAAA
AAAAAAATAGAA8AcgAAAA////AAAAAACAgIAAAAAAALvg4wAzM5kAAJmZAJnMAABgAPAHIAAA
AP///wAAAAAAlpaWAAAAAAD731MA/5lmAMwzAACZZgAAYADwByAAAAD///8AAAAAAICAgAAA
AAAAmcz/AMzM/wAzM8wAr2f/AGAA8AcgAAAA3vbxAAAAAACWlpYAAAAAAP///wCNxv8AAGbM
AACoAABgAPAHIAAAAP//2QAAAAAAd3d3AAAAAAD///cAM8zMAP9QUAD/mQAAYADwByAAAAAA
gIAA////AABaWAD//5kAAGRiAG1vxwAA//8AAP8AAGAA8AcgAAAAgAAAAP///wBcHwAA39KT
AMwzAAC+eWAA//+ZANOiGQBgAPAHIAAAAAAAmQD///8AADNmAMz//wAzZswAALAAAGbM/wD/
5wEAYADwByAAAAAAAAAA////ADNmmQDj6/EAADOZAEaKSwBmzP8A8OUAAGAA8AcgAAAAaGtd
AP///wB3d3cA0dHLAJCQggCAnqgA/8xmAOncuQBgAPAHIAAAAGZmmQD///8APj5cAP///wBg
WXsAZmb/AJnM/wD//5kAYADwByAAAABSPiYA////AC0gFQDfwI0AjHtwAI9fLwDMtAAAjJ6g
AAAAow8+AAAAAQD//T8AAAAiIAAAZAAAAAD/AQBkAAAAAAAAAAAAQAIAAAAABwAAAP//7wAA
AAAA////////LAAAAAADAAAQAKMPfAAAAAUA//0/AAEAIiAAAGQAAAAA/wAAZAAUAAAA2AAA
AEACAAAAAAcAAAD//+8AAAAAAP///////yAAAAAAAQAAgAUAABMg1AEgAQAAAgAcAIAFAAAi
INACQAIAAAIAGACABQAAEyDwA2ADAAACABQAgAUAALsAEAWABAAAAAAgAKMPbgAAAAUA//0/
AAAAIiAAAGQAAAAA/wAAZAAeAAAAAAAAAEACAAAAAAcAAAD//+8AAAAAAP///////wwAAAAA
AQAAAAUAACABIAEAAAAAAAUAAEACQAIAAAAAAAUAAGADYAMAAAAAAAUAAIAEgAQAAAAAUACj
D1IAAAAFAAAAAQkAAAAAAQAAAAAAAAABAAEJAAAAAAEAIAEAAAAAAgABCQAAAAABAEACAAAA
AAMAAQkAAAAAAQBgAwAAAAAEAAEJAAAAAAEAgAQAAAAAYACjDwwAAAABAAAAAAAAAAAAAABw
AKMPPgAAAAUAAAAAAAAAAAACABwAAQAAAAAAAAACABgAAgAAAAAAAAACABQAAwAAAAAAAAAC
ABIABAAAAAAAAAACABIAgACjDz4AAAAFAAAAAAAAAAAAAgAYAAEAAAAAAAAAAgAUAAIAAAAA
AAAAAgASAAMAAAAAAAAAAgAQAAQAAAAAAAAAAgAQAA8ADATWBAAADwAC8M4EAAAQAAjwCAAA
AAYAAAAGBAAADwAD8GYEAAAPAATwKAAAAAEACfAQAAAAAAAAAAAAAAAAAAAAAAAAAAIACvAI
AAAAAAQAAAUAAAAPAATw0gAAABIACvAIAAAAAgQAAAAKAACTAAvwNgAAAH8AAQAFAIAAuIme
AIcAAQAAAIEBBAAACIMBAAAACL8BAQARAMABAQAACP8BAQAJAAECAgAACAAAEPAIAAAArQAg
AWAVfQMPABHwEAAAAAAAwwsIAAAAAAAAAAEAngAPAA3wVAAAAAAAnw8EAAAAAAAAAAAAqA8g
AAAAQ2xpY2sgdG8gZWRpdCBNYXN0ZXIgdGl0bGUgc3R5bGUAAKIPBgAAACEAAAAAAAAAqg8K
AAAAIQAAAAEAAAAAAA8ABPAWAQAAEgAK8AgAAAADBAAAAAoAAIMAC/AwAAAAfwABAAUAgABQ
jJ4AgQEEAAAIgwEAAAAIvwEBABEAwAEBAAAI/wEBAAkAAQICAAAIAAAQ8AgAAADwAyABYBUT
Dw8AEfAQAAAAAADDCwgAAAABAAAAAgCeAA8ADfCeAAAAAACfDwQAAAABAAAAAACoD1IAAABD
bGljayB0byBlZGl0IE1hc3RlciB0ZXh0IHN0eWxlcw1TZWNvbmQgbGV2ZWwNVGhpcmQgbGV2
ZWwNRm91cnRoIGxldmVsDUZpZnRoIGxldmVsAACiDx4AAAAhAAAAAAANAAAAAQAMAAAAAgAN
AAAAAwAMAAAABAAAAKoPCgAAAFMAAAABAAAAAAAPAATwtgAAABIACvAIAAAABAQAAAAKAACD
AAvwMAAAAH8AAQAFAIAA/JKeAIEBBAAACIMBAAAACL8BAQARAMABAQAACP8BAQAJAAECAgAA
CAAAEPAIAAAAXg8gAWAGihAPABHwEAAAAAAAwwsIAAAAAgAAAAcBngAPAA3wPgAAAAAAnw8E
AAAABAAAAAAAoA8CAAAAKgAAAKEPFAAAAAIAAAAAAAAAAAACAAAAAAACAA4AAAD4DwQAAAAA
AAAADwAE8LgAAAASAArwCAAAAAUEAAAACgAAgwAL8DAAAAB/AAEABQCAAMCXngCBAQQAAAiD
AQAAAAi/AQEAEQDAAQEAAAj/AQEACQABAgIAAAgAABDwCAAAAF4PsAfQDooQDwAR8BAAAAAA
AMMLCAAAAAMAAAAJAp4ADwAN8EAAAAAAAJ8PBAAAAAQAAAAAAKAPAgAAACoAAAChDxYAAAAC
AAAAAAAACAAAAQACAAAAAAACAA4AAAD6DwQAAAAAAAAADwAE8LgAAAASAArwCAAAAAYEAAAA
CgAAgwAL8DAAAAB/AAEABQCAAIicngCBAQQAAAiDAQAAAAi/AQEAEQDAAQEAAAj/AQEACQAB
AgIAAAgAABDwCAAAAF4PIBBgFYoQDwAR8BAAAAAAAMMLCAAAAAQAAAAIAp4ADwAN8EAAAAAA
AJ8PBAAAAAQAAAAAAKAPAgAAACoAAAChDxYAAAACAAAAAAAACAAAAgACAAAAAAACAA4AAADY
DwQAAAAAAAAADwAE8EgAAAASAArwCAAAAAEEAAAADAAAgwAL8DAAAACBAQAAAAiDAQUAAAiT
AY6fiwCUAd69aAC/ARIAEgD/AQAACAAEAwkAAAA/AwEAAQAQAPAHIAAAAP///wAAAAAAgICA
AAAAAAC74OMAMzOZAACZmQCZzAAADwCIEzgAAAAPAIoTMAAAAAAAug8QAAAAXwBfAF8AUABQ
AFQAMQAwAAAAixMQAAAAAADrLggAAADIbsYBcPyXdCAAug8cAAAARABlAGYAYQB1AGwAdAAg
AEQAZQBzAGkAZwBuAA8A8AP6BQAAAQDxAwgAAAAAAACAAAAKMA8ADAR6BQAADwAC8HIFAABA
AAjwCAAAAAcAAAAHEAAADwAD8AoFAAAPAATwKAAAAAEACfAQAAAAAAAAAAAAAAAAAAAAAAAA
AAIACvAIAAAAABAAAAUAAAAPAATwyAAAABIACvAIAAAAAhAAAAAKAACDAAvwMAAAAH8AAQAF
AIAA5HcvAYEBBAAACIMBAAAACL8BAQARAMABAQAACP8BAQAJAAECAgAACAAAEPAIAAAAAAAA
AFAHIAEPABHwEAAAAAAAwwsIAAAAAAAAAAoCLwEPAA3wUAAAAAAAnw8EAAAABAAAAAAAoA8C
AAAAKgAAAKEPFAAAAAIAAAAAAAAAAAACAAAAAAACAAwAAAD5DwQAAAAAAAAAAACqDwoAAAAC
AAAAAQAAAAAADwAE8MoAAAASAArwCAAAAAMQAAAACgAAgwAL8DAAAAB/AAEABQCAAEB9LwGB
AQQAAAiDAQAAAAi/AQEAEQDAAQEAAAj/AQEACQABAgIAAAgAABDwCAAAAAAAjwnfECABDwAR
8BAAAAAAAMMLCAAAAAEAAAAHAC8BDwAN8FIAAAAAAJ8PBAAAAAQAAAAAAKAPAgAAACoAAACh
DxYAAAACAAAAAAAACAAAAgACAAAAAAACAAwAAAD4DwQAAAAAAAAAAACqDwoAAAACAAAAAQAA
AAAADwAE8GQAAAASAArwCAAAAAQQAAAACgAAYwAL8CQAAAB/AAQBBAGHAAEAAAB/AQAAAQC/
AREAEQD/AQgACQA/AgEAAQAAABDwCAAAALAB0AIQDiAKDwAR8BAAAAAAAMMLCAAAAAIAAAAF
AC8BDwAE8BYBAAASAArwCAAAAAUQAAAACgAAgwAL8DAAAAB/AAEABQCAAGB4LwGBAQQAAAiD
AQAAAAi/AQEAEQDAAQEAAAj/AQEACQABAgIAAAgAABDwCAAAALAKsAEwD9AUDwAR8BAAAAAA
AMMLCAAAAAMAAAAGAi8BDwAN8J4AAAAAAJ8PBAAAAAIAAAAAAKgPUgAAAENsaWNrIHRvIGVk
aXQgTWFzdGVyIHRleHQgc3R5bGVzDVNlY29uZCBsZXZlbA1UaGlyZCBsZXZlbA1Gb3VydGgg
bGV2ZWwNRmlmdGggbGV2ZWwAAKIPHgAAACEAAAAAAA0AAAABAAwAAAACAA0AAAADAAwAAAAE
AAAAqg8KAAAAUwAAAAEAAAAAAA8ABPDOAAAAEgAK8AgAAAAGEAAAAAoAAJMAC/A2AAAAfwAB
AAUAgACsgy8BhwACAAAAgQEEAAAIgwEAAAAIvwEBABEAwAEBAAAI/wEBAAkAAQICAAAIAAAQ
8AgAAABfFQAAUAd/Fg8AEfAQAAAAAADDCwgAAAAEAAAACQIvAQ8ADfBQAAAAAACfDwQAAAAE
AAAAAACgDwIAAAAqAAAAoQ8UAAAAAgAAAAAAAAAAAAIAAAAAAAIADAAAAPoPBAAAAAAAAAAA
AKoPCgAAAAIAAAABAAAAAAAPAATw0AAAABIACvAIAAAABxAAAAAKAACTAAvwNgAAAH8AAQAF
AIAAEIovAYcAAgAAAIEBBAAACIMBAAAACL8BAQARAMABAQAACP8BAQAJAAECAgAACAAAEPAI
AAAAXxWPCd8QfxYPABHwEAAAAAAAwwsIAAAABQAAAAgCLwEPAA3wUgAAAAAAnw8EAAAABAAA
AAAAoA8CAAAAKgAAAKEPFgAAAAIAAAAAAAAIAAACAAIAAAAAAAIADAAAANgPBAAAAAAAAAAA
AKoPCgAAAAIAAAABAAAAAAAPAATwSAAAABIACvAIAAAAARAAAAAMAACDAAvwMAAAAIEBAAAA
CIMBBQAACJMB3r1oAJQBjp+LAL8BEgASAP8BAAAIAAQDCQAAAD8DAQABABAA8AcgAAAA////
AAAAAACAgIAAAAAAALvg4wAzM5kAAJmZAJnMAAAPAIgTOAAAAA8AihMwAAAAAAC6DxAAAABf
AF8AXwBQAFAAVAAxADAAAACLExAAAAAAAOsuCAAAAMhuxgFgjmR7DwDuA10sAAACAO8DGAAA
AAcAAAANAAAAAAAAAAAAAIAAAQAABwATAA8ADAR0KwAADwAC8GwrAAAwAAjwCAAAADwAAABA
DAAADwAD8JwqAAAPAATwKAAAAAEACfAQAAAAAAAAAAAAAAAAAAAAAAAAAAIACvAIAAAAAAwA
AAUAAAAPAATwjAAAABIACvAIAAAAAgwAACACAABzAAvwKgAAAAQAAAAAAH8AAAAEAIAA2NKe
AL8BAAABAP8BAAABAAEDAgQAAIgDAAAAAAAAEPAIAAAArQAgAWAVfQMPABHwEAAAAAAAwwsI
AAAAAAAAAA0AngAPAA3wGgAAAAAAng8EAAAAAAAAAAAApg8GAAAAAQAAACABDwAE8OoAAAAS
AArwCAAAAAMMAAAACgAA8wAL8FoAAAB/AAAABACAADjVngCBAAFEAQCCAAGiAACDAAFEAQCE
AAGiAACFAAIAAACHAAEAAAC/ABAAHwCBAQC4/wCDAQAAAAC/ARAAEADAAQEAAAj/AQgACAAB
AgIAAAgAABDwCAAAALIE4ADrAtIKDwAN8GAAAAAAAJ8PBAAAAAQAAAAAAKEPLgAAAAEAAAAA
AP4YCAAOAM8lAgAtAAAAAP4BAHQAAwABAAAAAAAPAAEAEAAAAAAA5/8AAKYPFgAAAPEeAAAK
AgUBBQEKAgoCEAMQAxUEFQQPAATw3gAAABIACvAIAAAABAwAAAAKAADjAAvwVAAAAIAAPOWe
AIEAAUQBAIIAAaIAAIMAAUQBAIQAAaIAAIUAAgAAAIcAAQAAAL8AEAAfAIEBALj/AIMBAAAA
AL8BEAAQAMABAQAACP8BCAAIAAECAgAACAAAEPAIAAAABATZB40JGBAPAA3wWgAAAAAAnw8E
AAAABAAAAAAAoQ8oAAAAAQAAAAAA/hgIAA4AzyUCAC0AAAAA/gEAdAADAAEAAAAAAAMAAQAP
AAAApg8WAAAA8R4AAAoCBQEFAQoCCgIQAxADFQQVBA8ABPBMAAAAQgEK8AgAAAAFDAAAAAoA
AGMAC/AkAAAARAEEAAAAfwEAAAEAvwEAABAAwAEBAAAI/wEYABgAAQICAAAIAAAQ8AgAAACM
BdkHjQmMBQ8ABPAPAQAAogwK8AgAAAAGDAAAAAoAAOMAC/BUAAAAgAA8554AgQABRAEAggAB
ogAAgwABRAEAhAABogAAhQACAAAAhwAGAAAAvwASAB8AgQEAuP8AgwEAAAAAvwEAABAAwAEB
AAAI/wEAAAgAAQICAAAIAAAQ8AgAAAB3BwwBXwLHCA8ADfCLAAAAAACfDwQAAAAEAAAAAACo
DwUAAABUaSsxDQAAoQ9MAAAABgAAAAAA/hAIAA4AzyUCAC0AAAAA/nQAAwABAAAAAQALAAEA
AQAWAOf/BAAAAAEACwABAAEAFgDO/wEAAAAAAA8AAQAQAAAAAADn/wAApg8WAAAA8R4AAAoC
BQEFAQoCCgIQAxADFQQVBA8ABPBMAAAAQgEK8AgAAAAHDAAAAAoAAGMAC/AkAAAARAEEAAAA
fwEAAAEAvwEAABAAwAEBAAAI/wEYABgAAQICAAAIAAAQ8AgAAABpD9kHjQlpDw8ABPAOAQAA
ogwK8AgAAAAIDAAAAAoAAOMAC/BUAAAAgAAk9J4AgQABRAEAggABogAAgwABRAEAhAABogAA
hQACAAAAhwAGAAAAvwASAB8AgQEAuP8AgwEAAAAAvwEAABAAwAEBAAAI/wEAAAgAAQICAAAI
AAAQ8AgAAACSDjAIkAlpDw8ADfCKAAAAAACfDwQAAAAEAAAAAACoDwQAAABUaitrAAChD0wA
AAAFAAAAAAD+EAgADgDPJQIALQAAAAD+dAADAAEAAAABAAsAAQABABYA5/8DAAAAAQALAAEA
AQAWAM7/AQAAAAAADwABABAAAAAAAOf/AACmDxYAAADxHgAACgIFAQUBCgIKAhADEAMVBBUE
DwAE8A0BAACiDArwCAAAAAkMAAAACgAA4wAL8FQAAACAABAALgGBAAFEAQCCAAGiAACDAAFE
AQCEAAGiAACFAAIAAACHAAYAAAC/ABIAHwCBAQC4/wCDAQAAAAC/AQAAEADAAQEAAAj/AQAA
CAABAgIAAAgAABDwCAAAALIEXAg5CQIGDwAN8IkAAAAAAJ8PBAAAAAQAAAAAAKgPAwAAAFRq
DQAAoQ9MAAAABAAAAAAA/hAIAA4AzyUCAC0AAAAA/nQAAwABAAAAAQALAAEAAQAWAOf/AgAA
AAEACwABAAEAFgDO/wEAAAAAAA8AAQAQAAAAAADn/wAApg8WAAAA8R4AAAoCBQEFAQoCCgIQ
AxADFQQVBA8ABPBMAAAAQgEK8AgAAAAKDAAAAAoAAGMAC/AkAAAARAEEAAAAfwEAAAEAvwEA
ABAAwAEBAAAI/wEYABgAAQICAAAIAAAQ8AgAAAAUB+AA6wIUBw8ABPANAQAAogwK8AgAAAAL
DAAAAAoAAOMAC/BUAAAAgADMDC4BgQABRAEAggABogAAgwABRAEAhAABogAAhQACAAAAhwAG
AAAAvwASAB8AgQEAuP8AgwEAAAAAvwEAABAAwAEBAAAI/wEAAAgAAQICAAAIAAAQ8AgAAAA6
BmMBOgKKBw8ADfCJAAAAAACfDwQAAAAEAAAAAACoDwMAAABUaQ0AAKEPTAAAAAQAAAAAAP4Q
CAAOAM8lAgAtAAAAAP50AAMAAQAAAAEACwABAAEAFgDn/wIAAAABAAsAAQABABYAzv8BAAAA
AAAPAAEAEAAAAAAA5/8AAKYPFgAAAPEeAAAKAgUBBQEKAgoCEAMQAxUEFQQPAATwTAAAAEIB
CvAIAAAADAwAAAAKAABjAAvwJAAAAEQBBAAAAH8BAAABAL8BAAAQAMABAQAACP8BGAAYAAEC
AgAACAAAEPAIAAAARAjgAOsCRAgPAATwUgAAAEIBCvAIAAAADQwAAIAKAABzAAvwKgAAAEQB
BAAAAH8BAAABAL8BAAAQAMABAQAACNEBAQAAAP8BGAAYAAECAgAACAAAEPAIAAAAjAXrAtkH
FAcPAATwUgAAAEIBCvAIAAAADgwAAAAKAABzAAvwKgAAAEQBBAAAAH8BAAABAL8BAAAQAMAB
AQAACNEBAQAAAP8BGAAYAAECAgAACAAAEPAIAAAARAjrAtkHaQ8PAATwGwEAAKIMCvAIAAAA
DwwAAAAKAADjAAvwVAAAAIAAUMmeAIEAAUQBAIIAAaIAAIMAAUQBAIQAAaIAAIUAAgAAAIcA
BgAAAL8AEgAfAIEBALj/AIMBAAAAAL8BAAAQAMABAQAACP8BAAAIAAECAgAACAAAEPAIAAAA
2wM/AEcEsgQPAA3wlwAAAAAAnw8EAAAABAAAAAAAqA8VAAAALnRpaSBmaWxlIChpbiBtZW1v
cnkpAAChDyYAAAAWAAAAAAD+EAgADgDPJQIALQAAAAD+dAADABYAAAAAAAMAAQAPAAAAqg8a
AAAAAQAAAAAAAAADAAAAAQAAAAMAEgAAAAAAAAAAAKYPFgAAAPEeAAAKAgUBBQEKAgoCEAMQ
AxUEFQQPAATwGQEAAKIMCvAIAAAAEAwAAAAKAADjAAvwVAAAAIAAoCAuAYEAAUQBAIIAAaIA
AIMAAUQBAIQAAaIAAIUAAgAAAIcABgAAAL8AEgAfAIEBALj/AIMBAAAAAL8BAAAQAMABAQAA
CP8BAAAIAAECAgAACAAAEPAIAAAAZwPUBicKPgQPAA3wlQAAAAAAnw8EAAAABAAAAAAAqA8T
AAAALnRpcyBmaWxlIChpbiBkaXNrKQAAoQ8mAAAAFAAAAAAA/hAIAA4AzyUCAC0AAAAA/nQA
AwAUAAAAAAADAAEADwAAAKoPGgAAAAEAAAAAAAAAAwAAAAEAAAADABAAAAAAAAAAAACmDxYA
AADxHgAACgIFAQUBCgIKAhADEAMVBBUEDwAE8PAAAACiDArwCAAAABEMAAAACgAA4wAL8FQA
AACAAMwpLgGBAAFEAQCCAAGiAACDAAFEAQCEAAGiAACFAAIAAACHAAYAAAC/ABIAHwCBAQC4
/wCDAQAAAAC/AQAAEADAAQEAAAj/AQAACAABAgIAAAgAABDwCAAAAOYFbQN5Br0GDwAN8GwA
AAAAAJ8PBAAAAAQAAAAAAKgPDAAAAFJhbmRvbSBzZWVrcwAAoQ8mAAAADQAAAAAA/hAIAA4A
zyUCAC0AAAAA/nQAAwANAAAAAAADAAEADwAAAKYPFgAAAPEeAAAKAgUBBQEKAgoCEAMQAxUE
FQQPAATwAgEAAKIMCvAIAAAAEgwAAAAKAADjAAvwVAAAAIAAgDkuAYEAAUQBAIIAAaIAAIMA
AUQBAIQAAaIAAIUAAgAAAIcABgAAAIgAAQAAAL8AEgAfAIEBALj/AL8BAAAQAMABAQAACP8B
AAAIAAECAgAACBMAIvEGAAAAvwEAAGAAAAAQ8AgAAAA1BSUHMAiUCA8ADfBwAAAAAACfDwQA
AAAEAAAAAACoDxAAAABDb250aWd1b3VzIHJlYWRzAAChDyYAAAARAAAAAAD+EAgADgDPJQIA
LQAAAAD+dAADABEAAAAAAAMAAQAPAAAApg8WAAAA8R4AAAoCBQEFAQoCCgIQAxADFQQVBA8A
BPBMAAAAQgEK8AgAAAATDAAAAAoAAGMAC/AkAAAARAEEAAAAfwEAAAEAvwEAABAAwAEBAAAI
/wEYABgAAQICAAAIAAAQ8AgAAADHCNQGFAvHCA8ABPAMAQAAogwK8AgAAAAUDAAAAAoAAOMA
C/BUAAAAgACAOy4BgQABRAEAggABogAAgwABRAEAhAABogAAhQACAAAAhwAGAAAAvwASAB8A
gQEAuP8AgwEAAAAAvwEAABAAwAEBAAAI/wEAAAgAAQICAAAIAAAQ8AgAAADCB1gITwmZCA8A
DfCIAAAAAACfDwQAAAAEAAAAAACoDwIAAABUcQAAoQ9MAAAAAwAAAAAA/hAIAA4AzyUCAC0A
AAAA/nQAAwABAAAAAQALAAEAAQAWAOf/AQAAAAEACwABAAEAFgDO/wEAAAAAAA8AAQAQAAAA
AADn/wAApg8WAAAA8R4AAAoCBQEFAQoCCgIQAxADFQQVBA8ABPBMAAAAQgEK8AgAAAAVDAAA
AAoAAGMAC/AkAAAARAEEAAAAfwEAAAEAvwEAABAAwAEBAAAI/wEYABgAAQICAAAIAAAQ8AgA
AAAeCdkH2QceCQ8ABPBMAAAAQgEK8AgAAAAWDAAAAAoAAGMAC/AkAAAARAEEAAAAfwEAAAEA
vwEAABAAwAEBAAAI/wEYABgAAQICAAAIAAAQ8AgAAAAzDdQGFAszDQ8ABPAIAQAAogwK8AgA
AAAXDAAAAAoAAOMAC/BUAAAAgAAgQC4BgQABRAEAggABogAAgwABRAEAhAABogAAhQACAAAA
hwAGAAAAvwASAB8AgQEAuP8AgwEAAAAAvwEAABAAwAEBAAAI/wEAAAgAAQICAAAIAAAQ8AgA
AABzCOsCWQVKCQ8ADfCEAAAAAACfDwQAAAAEAAAAAACoDwoAAABJbmRleERlbHRhAAChDyYA
AAALAAAAAAD+EAgADgDPJQIALQAAAAD+dAADAAsAAAAAAAMAAQAPAAAAqg8SAAAACgAAAAEA
AAADAAEAAAAAAAAAAACmDxYAAADxHgAACgIFAQUBCgIKAhADEAMVBBUEDwAE8N4AAAASAArw
CAAAABgMAAAACgAA4wAL8FQAAACAAIBYLgGBAAFEAQCCAAGiAACDAAFEAQCEAAGiAACFAAIA
AACHAAEAAAC/ABAAHwCBAQC4/wCDAQAAAAC/ARAAEADAAQEAAAj/AQgACAABAgIAAAgAABDw
CAAAAC8ERQz5DWkPDwAN8FoAAAAAAJ8PBAAAAAQAAAAAAKEPKAAAAAEAAAAAAP4YCAAOAM8l
AgAtAAAAAP4BAHQAAwABAAAAAAADAAEADwAAAKYPFgAAAPEeAAAKAgUBBQEKAgoCEAMQAxUE
FQQPAATwIQEAAKIMCvAIAAAAGQwAAAAKAADjAAvwVAAAAIAA+GIuAYEAAUQBAIIAAaIAAIMA
AUQBAIQAAaIAAIUAAgAAAIcABgAAAL8AEgAfAIEBALj/AIMBAAAAAL8BAAAQAMABAQAACP8B
AAAIAAECAgAACAAAEPAIAAAAWAN/C2MQLwQPAA3wnQAAAAAAnw8EAAAABAAAAAAAqA8bAAAA
LmZycS9wb3N0aW5nIGZpbGUgKGluIGRpc2spAAChDyYAAAAcAAAAAAD+EAgADgDPJQIALQAA
AAD+dAADABwAAAAAAAMAAQAPAAAAqg8aAAAAAQAAAAAAAAADAAAAAQAAAAMAGAAAAAAAAAAA
AKYPFgAAAPEeAAAKAgUBBQEKAgoCEAMQAxUEFQQPAATwTAAAAEIBCvAIAAAAGgwAAAAKAABj
AAvwJAAAAEQBBAAAAH8BAAABAL8BAAAQAMABAQAACP8BGAAYAAECAgAACAAAEPAIAAAAtwWS
CtgPtwUPAATwDgEAAKIMCvAIAAAAGwwAAAAKAADjAAvwVAAAAIAA+GQuAYEAAUQBAIIAAaIA
AIMAAUQBAIQAAaIAAIUAAgAAAIcABgAAAL8AEgAfAIEBALj/AIMBAAAAAL8BAAAQAMABAQAA
CP8BAAAIAAECAgAACAAAEPAIAAAAhQxcCM8JXA0PAA3wigAAAAAAnw8EAAAABAAAAAAAqA8E
AAAAVHErMQAAoQ9MAAAABQAAAAAA/hAIAA4AzyUCAC0AAAAA/nQAAwABAAAAAQALAAEAAQAW
AOf/AwAAAAEACwABAAEAFgDO/wEAAAAAAA8AAQAQAAAAAADn/wAApg8WAAAA8R4AAAoCBQEF
AQoCCgIQAxADFQQVBA8ABPBSAAAAQgEK8AgAAAAcDAAAAAoAAHMAC/AqAAAARAEEAAAAfwEA
AAEAvwEAABAAwAEBAAAIzgEHAAAA/wEYABgAAQICAAAIAAAQ8AgAAAB1CdkHjQl1CQ8ABPBS
AAAAQgEK8AgAAAAdDAAAAAoAAHMAC/AqAAAARAEEAAAAfwEAAAEAvwEAABAAwAEBAAAIzgEH
AAAA/wEYABgAAQICAAAIAAAQ8AgAAADSCtkHjQnSCg8ABPBSAAAAQgEK8AgAAAAeDAAAAAoA
AHMAC/AqAAAARAEEAAAAfwEAAAEAvwEAABAAwAEBAAAIzgEHAAAA/wEYABgAAQICAAAIAAAQ
8AgAAAAjCtkHjQkjCg8ABPBSAAAAQgEK8AgAAAAfDAAAAAoAAHMAC/AqAAAARAEEAAAAfwEA
AAEAvwEAABAAwAEBAAAIzgEHAAAA/wEYABgAAQICAAAIAAAQ8AgAAADXC9kHjQnXCw8ABPDo
AAAAogwK8AgAAAAgDAAAAAoAAOMAC/BUAAAAgAC4ci4BgQABRAEAggABogAAgwABRAEAhAAB
ogAAhQACAAAAhwAGAAAAvwASAB8AgQEAuP8AgwEAAAAAvwEAABAAwAEBAAAI/wEAAAgAAQIC
AAAIAAAQ8AgAAACcCK4HEwlzCQ8ADfBkAAAAAACfDwQAAAAEAAAAAACoDwQAAABUZXJtAACh
DyYAAAAFAAAAAAD+EAgADgDPJQIALQAAAAD+dAADAAUAAAAAAAMAAQAPAAAApg8WAAAA8R4A
AAoCBQEFAQoCCgIQAxADFQQVBA8ABPDrAAAAogwK8AgAAAAhDAAAAAoAAOMAC/BUAAAAgAC4
fC4BgQABRAEAggABogAAgwABRAEAhAABogAAhQACAAAAhwAGAAAAvwASAB8AgQEAuP8AgwEA
AAAAvwEAABAAwAEBAAAI/wEAAAgAAQICAAAIAAAQ8AgAAABKCbkHuAkhCg8ADfBnAAAAAACf
DwQAAAAEAAAAAACoDwcAAABEb2NGcmVxAAChDyYAAAAIAAAAAAD+EAgADgDPJQIALQAAAAD+
dAADAAgAAAAAAAMAAQAPAAAApg8WAAAA8R4AAAoCBQEFAQoCCgIQAxADFQQVBA8ABPDtAAAA
ogwK8AgAAAAiDAAAAAoAAOMAC/BUAAAAgABkiy4BgQABRAEAggABogAAgwABRAEAhAABogAA
hQACAAAAhwAGAAAAvwASAB8AgQEAuP8AgwEAAAAAvwEAABAAwAEBAAAI/wEAAAgAAQICAAAI
AAAQ8AgAAAD7CbkH8wnSCg8ADfBpAAAAAACfDwQAAAAEAAAAAACoDwkAAABGcmVxRGVsdGEA
AKEPJgAAAAoAAAAAAP4QCAAOAM8lAgAtAAAAAP50AAMACgAAAAAAAwABAA8AAACmDxYAAADx
HgAACgIFAQUBCgIKAhADEAMVBBUEDwAE8O0AAACiDArwCAAAACMMAAAACgAA4wAL8FQAAACA
AFCPLgGBAAFEAQCCAAGiAACDAAFEAQCEAAGiAACFAAIAAACHAAYAAAC/ABIAHwCBAQC4/wCD
AQAAAAC/AQAAEADAAQEAAAj/AQAACAABAgIAAAgAABDwCAAAAKkKrgfvCYALDwAN8GkAAAAA
AJ8PBAAAAAQAAAAAAKgPCQAAAFByb3hEZWx0YQAAoQ8mAAAACgAAAAAA/hAIAA4AzyUCAC0A
AAAA/nQAAwAKAAAAAAADAAEADwAAAKYPFgAAAPEeAAAKAgUBBQEKAgoCEAMQAxUEFQQPAATw
7QAAAKIMCvAIAAAAJAwAAAAKAADjAAvwVAAAAIAAeJ4uAYEAAUQBAIIAAaIAAIMAAUQBAIQA
AaIAAIUAAgAAAIcABgAAAL8AEgAfAIEBALj/AIMBAAAAAL8BAAAQAMABAQAACP8BAAAIAAEC
AgAACAAAEPAIAAAArguuB+gJhQwPAA3waQAAAAAAnw8EAAAABAAAAAAAqA8JAAAAU2tpcERl
bHRhAAChDyYAAAAKAAAAAAD+EAgADgDPJQIALQAAAAD+dAADAAoAAAAAAAMAAQAPAAAApg8W
AAAA8R4AAAoCBQEFAQoCCgIQAxADFQQVBA8ABPBSAAAAQgEK8AgAAAAlDAAAgAoAAHMAC/Aq
AAAARAEEAAAAfwEAAAEAvwEAABAAwAEBAAAI0QEBAAAA/wEYABgAAQICAAAIAAAQ8AgAAAC3
BY0JRQx7Cg8ABPDzAAAAogwK8AgAAAAmDAAAAAoAAOMAC/BUAAAAgAB4oC4BgQABRAEAggAB
ogAAgwABRAEAhAABogAAhQACAAAAhwAGAAAAvwASAB8AgQEAuP8AgwEAAAAAvwEAABAAwAEB
AAAI/wEAAAgAAQICAAAIAAAQ8AgAAACOBZMMsw1lBg8ADfBvAAAAAACfDwQAAAAEAAAAAACo
DwMAAABURjEAAKEPMgAAAAQAAAAAAP4QCAAOAM8lAgAtAAAAAP50AAMAAgAAAAAAAwABAA8A
AgAAAAAACQABAOf/AACmDxYAAADxHgAACgIFAQUBCgIKAhADEAMVBBUEDwAE8PMAAACiDArw
CAAAACcMAAAACgAA4wAL8FQAAACAAKCrLgGBAAFEAQCCAAGiAACDAAFEAQCEAAGiAACFAAIA
AACHAAYAAAC/ABIAHwCBAQC4/wCDAQAAAAC/AQAAEADAAQEAAAj/AQAACAABAgIAAAgAABDw
CAAAAEQInAy8DRsJDwAN8G8AAAAAAJ8PBAAAAAQAAAAAAKgPAwAAAFRGZAAAoQ8yAAAABAAA
AAAA/hAIAA4AzyUCAC0AAAAA/nQAAwACAAAAAAADAAEADwACAAAAAAAJAAEA5/8AAKYPFgAA
APEeAAAKAgUBBQEKAgoCEAMQAxUEFQQPAATwUgAAAEIBCvAIAAAAKAwAAAAKAABzAAvwKgAA
AEQBBAAAAH8BAAABAL8BAAAQAMABAQAACM4BBwAAAP8BGAAYAAECAgAACAAAEPAIAAAAHgnD
C6cOHgkPAATwWAAAAEIBCvAIAAAAKQwAAAAKAACDAAvwMAAAAEQBBAAAAH8BAAABAL8BAAAQ
AMABAQAACM4BAgAAANEBAQAAAP8BGAAYAAECAgAACAAAEPAIAAAAtwVQDlAOHgkPAATwOAEA
AAIDCvAIAAAAKgwAAAAKAAAjAQvwbAAAAIAAHLkuAYEAAUQBAIIAAaIAAIMAAUQBAIQAAaIA
AL8AEAAfAEcBviv//0gBLWQBAEkBVZT//00BAB///04BliwBAIEBALj/AIMBAAAAAL8BEAAQ
AMABAQAACP8BCAAIAAECAgAACH8DBAAMAAAAEPAIAAAANQFqE3QVkgIPAA3wnAAAAAAAnw8E
AAAABAAAAAAAqA8YAAAAUG9zdGluZy1saXN0KHRlcm0tZnJlcXMpAAChDygAAAAZAAAAAAD+
GAgADgDPJQIALQAAAAD+AQB0AAMAGQAAAAAAAwABAA8AAACqDxoAAAAIAAAAAAAAAA8AAAAB
AAAAAwACAAAAAAAAAAAApg8WAAAA8R4AAAoCBQEFAQoCCgIQAxADFQQVBA8ABPDzAAAAogwK
8AgAAAArDAAAAAoAAOMAC/BUAAAAgADIvy4BgQABRAEAggABogAAgwABRAEAhAABogAAhQAC
AAAAhwAGAAAAvwASAB8AgQEAuP8AgwEAAAAAvwEAABAAwAEBAAAI/wEAAAgAAQICAAAIAAAQ
8AgAAACkCdIN/g57Cg8ADfBvAAAAAACfDwQAAAAEAAAAAACoDwMAAABTRDEAAKEPMgAAAAQA
AAAAAP4QCAAOAM8lAgAtAAAAAP50AAMAAgAAAAAAAwABAA8AAgAAAAAACQABAOf/AACmDxYA
AADxHgAACgIFAQUBCgIKAhADEAMVBBUEDwAE8FIAAABCAQrwCAAAACwMAACACgAAcwAL8CoA
AABEAQQAAAB/AQAAAQC/AQAAEADAAQEAAAjRAQEAAAD/ARgAGAABAgIAAAgAABDwCAAAAB4J
jQlFDC4MDwAE8PYAAACiDArwCAAAAC0MAAAACgAA4wAL8FQAAACAAGzKLgGBAAFEAQCCAAGi
AACDAAFEAQCEAAGiAACFAAIAAACHAAYAAAC/ABIAHwCBAQC4/wCDAQAAAAC/AQAAEADAAQEA
AAj/AQAACAABAgIAAAgAABDwCAAAADYNnAw2Dg0ODwAN8HIAAAAAAJ8PBAAAAAQAAAAAAKgP
BgAAAFNEZC9zawAAoQ8yAAAABwAAAAAA/hAIAA4AzyUCAC0AAAAA/nQAAwACAAAAAAADAAEA
DwAFAAAAAAAJAAEA5/8AAKYPFgAAAPEeAAAKAgUBBQEKAgoCEAMQAxUEFQQPAATwTAAAAEIB
CvAIAAAALgwAAAAKAABjAAvwJAAAAEQBBAAAAH8BAAABAL8BAAAQAMABAQAACP8BGAAYAAEC
AgAACAAAEPAIAAAADQ6SCtgPDQ4PAATw8wAAAKIMCvAIAAAALwwAAAAKAADjAAvwVAAAAIAA
3NQuAYEAAUQBAIIAAaIAAIMAAUQBAIQAAaIAAIUAAgAAAIcABgAAAL8AEgAfAIEBALj/AIMB
AAAAAL8BAAAQAMABAQAACP8BAAAIAAECAgAACAAAEPAIAAAA/QqcDMkN1AsPAA3wbwAAAAAA
nw8EAAAABAAAAAAAqA8DAAAAU0QyAAChDzIAAAAEAAAAAAD+EAgADgDPJQIALQAAAAD+dAAD
AAIAAAAAAAMAAQAPAAIAAAAAAAkAAQDn/wAApg8WAAAA8R4AAAoCBQEFAQoCCgIQAxADFQQV
BA8ABPBSAAAAQgEK8AgAAAAwDAAAAAoAAHMAC/AqAAAARAEEAAAAfwEAAAEAvwEAABAAwAEB
AAAIzgEHAAAA/wEYABgAAQICAAAIAAAQ8AgAAAApC8MLpw4pCw8ABPBYAAAAQgEK8AgAAAAx
DAAAAAoAAIMAC/AwAAAARAEEAAAAfwEAAAEAvwEAABAAwAEBAAAIzgECAAAA1wEAAAAA/wEY
ABgAAQICAAAIAAAQ8AgAAADMCUUM+Q3MCQ8ABPBYAAAAQgEK8AgAAAAyDAAAAAoAAIMAC/Aw
AAAARAEEAAAAfwEAAAEAvwEAABAAwAEBAAAIzgECAAAA1wEAAAAA/wEYABgAAQICAAAIAAAQ
8AgAAAB7CkUM+Q17Cg8ABPDpAAAAogwK8AgAAAAzDAAAAAoAAOMAC/BUAAAAgADg3y4BgQAB
RAEAggABogAAgwABRAEAhAABogAAhQACAAAAhwAGAAAAvwASAB8AgQEAuP8AgwEAAAAAvwEA
ABAAwAEBAAAI/wEAAAgAAQICAAAIAAAQ8AgAAAAECUUM0Q3bCQ8ADfBlAAAAAACfDwQAAAAE
AAAAAACoDwUAAABEb2NJZAAAoQ8mAAAABgAAAAAA/hAIAA4AzyUCAC0AAAAA/nQAAwAGAAAA
AAADAAEADwAAAKYPFgAAAPEeAAAKAgUBBQEKAgoCEAMQAxUEFQQPAATw6gAAAKIMCvAIAAAA
NAwAAAAKAADjAAvwVAAAAIAAhOkuAYEAAUQBAIIAAaIAAIMAAUQBAIQAAaIAAIUAAgAAAIcA
BgAAAL8AEgAfAIEBALj/AIMBAAAAAL8BAAAQAMABAQAACP8BAAAIAAECAgAACAAAEPAIAAAA
oQlADPkNeAoPAA3wZgAAAAAAnw8EAAAABAAAAAAAqA8GAAAARnJlcVNrAAChDyYAAAAHAAAA
AAD+EAgADgDPJQIALQAAAAD+dAADAAcAAAAAAAMAAQAPAAAApg8WAAAA8R4AAAoCBQEFAQoC
CgIQAxADFQQVBA8ABPD0AAAAogwK8AgAAAA1DAAAAAoAAOMAC/BUAAAAgABc8i4BgQABRAEA
ggABogAAgwABRAEAhAABogAAhQACAAAAhwAGAAAAvwASAB8AgQEAuP8AgwEAAAAAvwEAABAA
wAEBAAAI/wEAAAgAAQICAAAIAAAQ8AgAAABoBpwM4A0/Bw8ADfBwAAAAAACfDwQAAAAEAAAA
AACoDwQAAABURnNrAAChDzIAAAAFAAAAAAD+EAgADgDPJQIALQAAAAD+dAADAAIAAAAAAAMA
AQAPAAMAAAAAAAkAAQDn/wAApg8WAAAA8R4AAAoCBQEFAQoCCgIQAxADFQQVBA8ABPDqAAAA
ogwK8AgAAAA3DAAAAAoAAOMAC/BUAAAAgAAQBC8BgQABRAEAggABogAAgwABRAEAhAABogAA
hQACAAAAhwAGAAAAvwASAB8AgQEAuP8AgwEAAAAAvwEAABAAwAEBAAAI/wEAAAgAAQICAAAI
AAAQ8AgAAABSCkUMBA4pCw8ADfBmAAAAAACfDwQAAAAEAAAAAACoDwYAAABQcm94U2sAAKEP
JgAAAAcAAAAAAP4QCAAOAM8lAgAtAAAAAP50AAMABwAAAAAAAwABAA8AAACmDxYAAADxHgAA
CgIFAQUBCgIKAhADEAMVBBUEDwAE8FgAAAASAArwCAAAADgMAAAACgAAgwAL8DAAAACFAAIA
AACHAAEAAACBAQC4/wCDAQAAAAC/ARAAEADAAQEAAAj/AQgACAABAgIAAAgAABDwCAAAAJYH
5xLGFMAPDwAE8A8BAACiDArwCAAAADoMAAAACgAA4wAL8FQAAACAAOQILwGBAAFEAQCCAAGi
AACDAAFEAQCEAAGiAACFAAIAAACHAAYAAAC/ABIAHwCBAQC4/wCDAQAAAAC/AQAAEADAAQEA
AAj/AQAACAABAgIAAAgAABDwCAAAAKIGvBKWFHkHDwAN8IsAAAAAAJ8PBAAAAAQAAAAAAKgP
CQAAAC5wcnggZmlsZQAAoQ8mAAAACgAAAAAA/hAIAA4AzyUCAC0AAAAA/nQAAwAKAAAAAAAD
AAEADwAAAKoPGgAAAAEAAAAAAAAAAwAAAAEAAAADAAYAAAAAAAAAAACmDxYAAADxHgAACgIF
AQUBCgIKAhADEAMVBBUEDwAE8FgAAABCAQrwCAAAADsMAAAACgAAgwAL8DAAAABEAQQAAAB/
AQAAAQC/AQAAEADAAQEAAAjOAQIAAADRAQEAAAD/ARgAGAABAgIAAAgAABDwCAAAAB4Jpw6n
DikLDwAE8BoBAADyAgrwCAAAADwMAAAACgAAMwEL8HIAAACAAFwZLwGBAAFEAQCCAAGiAACD
AAFEAQCEAAGiAAC/ABAAHwBHATBJ//9IAcZWAQBLAWxB//9MAd1OAQBNATBJ//9OAcZWAQCB
AQC4/wCDAQAAAAC/ARAAEADAAQEAAAj/AQgACAABAgIAAAh/AwQADAAAABDwCAAAAHEEExMd
Fc0FDwAN8HgAAAAAAJ8PBAAAAAQAAAAAAKgPFgAAAFVzZWQgdG8gbWVyZ2UgcG9zdGluZ3MA
AKEPKAAAABcAAAAAAP4YCAAOAM8lAgAtAAAAAP4BAHQAAwAXAAAAAAADAAEADwAAAKYPFgAA
APEeAAAKAgUBBQEKAgoCEAMQAxUEFQQPAATwXgAAAGICCvAIAAAAPwwAAAALAACTAAvwNgAA
AEcBJyoAAEgB9yz8/0kBAQ7//78BAAAQAMABAQAACNEBAQAAAP8BCAAIAAECAgAACAMDAgAA
AAAAEPAIAAAAvgoEDucSqwsPAATwXgAAAHICCvAIAAAAQAwAAMALAACTAAvwNgAAAEcBB7//
/0gBiTAAAEkB9E0GAL8BAAAQAMABAQAACNEBAQAAAP8BCAAIAAECAgAACAMDAgAAAAAAEPAI
AAAAPwc+DfkNDQoPAATwSAAAABIACvAIAAAAAQwAAAAMAACDAAvwMAAAAIEBAAAACIMBBQAA
CJMBjp+LAJQB3r1oAL8BEgASAP8BAAAIAAQDCQAAAD8DAQABAE8ABfBgAAAAAAAX8AgAAAAB
AAAAKgwAAAAAF/AIAAAABAAAADwMAAABABLwGAAAAAoAAAA3DAAAOAwAAD8MAAADAAAAAQAA
AAEAEvAYAAAADAAAADQMAAA1DAAAQAwAAAMAAAACAAAAEADwByAAAAD///8AAAAAAICAgAAA
AAAAAMyZADMzzADMzP8AsrKyAA8AiBORAAAADwCKE4kAAAAAALoPEAAAAF8AXwBfAFAAUABU
ADEAMAAAAIsTaQAAAAAA6y4IAAAAkm7GAZDto0wAAAArBAAAAAAAAAAfAETxPQAAAAAAJ/Eg
AAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAphMA/////xIAAAAPAD3xDQAAAEABQvEFAAAAAQkA
AAAPAAIrAAAAAA8A8ANgFwAAAQDxAwgAAAABAQAABwAKMA8ADATgFgAADwAC8NgWAABQAAjw
CAAAAAMAAAADFAAADwAD8HAWAAAPAATwKAAAAAEACfAQAAAAAAAAAAAAAAAAAAAAAAAAAAIA
CvAIAAAAABQAAAUAAAAPAATwZAAAABIACvAIAAAAAhQAACACAABjAAvwJAAAAAQAAAAAAH8A
BAAEAL8BAQABAP8BAQABAAEDBBAAAIgDAAAAAAAAEPAIAAAAtQHOAgwOIwoPABHwEAAAAAAA
wwsIAAAAAAAAAAsALwEPAATwzBUAABIACvAIAAAAAxQAACACAABzAAvwKgAAAAQAAAAAAH8A
AAAEAIAAlNsvAb8BAAABAP8BAAABAAEDBRAAAIgDAAAAAAAAEPAIAAAArwqwASkPzhQPABHw
EAAAAAAAwwsIAAAAAQAAAAwALwEPAA3wWhUAAAAAnw8EAAAAAgAAAAAAoA+kDgAASwAgAD0A
IABJAG4AZABlAHgASQBuAHQAZQB2AGEAbAANAFQAcQAgAD0AIABxAHUAZQByAHkAIAB0AGUA
cgBtAA0ADQAgAGQAIAA9ACAARABvAGMARgByAGUAcQB1AGUAbgBjAHkAIAAoAGYAcgBlAHEA
dQBlAG4AYwB5ACAAbwBmACAAYQAgAHQAZQByAG0AGSBzACAAbwBjAGMAdQByAHIAZQBuAGMA
ZQAgAGkAbgAgAGEAIABkAG8AYwB1AG0AZQBuAHQAKQANACAAcwBrACAAPQAgAFMAawBpAHAA
SQBuAHQAZQByAHYAYQBsAA0AVABGACAAPQAgAFQAZQByAG0ARgByAGUAcQAgACgAYQBrAGEA
IABwAG8AcwB0AGkAbgBnACAAbABpAHMAdAApAA0AUwBEACAAPQAgAFMAawBpAHAARABhAHQA
dQBtACAADQANAFQAZQByAG0ASQBuAGYAbwBJAG4AZABlAHgAKAAuAHQAaQBpACkAIADg8CAA
VABJAFYAZQByAHMAaQBvAG4ALABJAG4AZABlAHgAVABlAHIAbQBDAG8AdQBuAHQALABJAG4A
ZABlAHgASQBuAHQAZQByAHYAYQBsACwAIABTAGsAaQBwAEkAbgB0AGUAcgB2AGEAbAAsACAA
VABlAHIAbQBJAG4AZABpAGMAZQBzAA0AVABlAHIAbQBJAG4AZABpAGMAZQBzACAA4PAgADwA
VABlAHIAbQBJAG4AZgBvACwAIABJAG4AZABlAHgARABlAGwAdABhAD4AIABJAG4AZABlAHgA
VABlAHIAbQBDAG8AdQBuAHQADQANAEkAbgBkAGUAeABEAGUAbAB0AGEAIAAoAGkAbgAgAC4A
dABpAGkAKQAgAHAAbwBpAG4AdABzACAAdABvACAAdABoAGUAIABwAG8AcwBpAHQAaQBvAG4A
IABvAGYAIAB0AGgAaQBzACAAdABlAHIAbQAZIHMAIABUAGUAcgBtAEkAbgBmAG8AIAB3AGkA
dABoAGkAbgAgAHQAaABlACAAZABpAHMAawAgAGIAYQBzAGUAZAAgAC4AdABpAHMAIABmAGkA
bABlACAAaQBuACAAZABlAGwAdABhACAAZQBuAGMAbwBkAGkAbgBnACAAZgBvAHIAbQBhAHQA
LgANAA0AVABlAHIAbQBJAG4AZgBvAEYAaQBsAGUAKAAuAHQAaQBzACkAIADg8CAAVABJAFYA
ZQByAHMAaQBvAG4ALAAgAFQAZQByAG0AQwBvAHUAbgB0ACgAVABDACkALAAgAEkAbgBkAGUA
eABJAG4AdABlAHIAdgBhAGwAKABrACkALAAgAFMAawBpAHAASQBuAHQAZQByAHYAYQBsACgA
cwBrACkALAAgAFQAZQByAG0ASQBuAGYAbwBzAA0AVABlAHIAbQBJAG4AZgBvAHMAIADg8CAA
IAA8AFQAZQByAG0ASQBuAGYAbwA+ACAAVABlAHIAbQBDAG8AdQBuAHQADQANAFQAZQByAG0A
SQBuAGYAbwAgAODwIAA8AFQAZQByAG0ALAAgAEQAbwBjAEYAcgBlAHEALAAgAEYAcgBlAHEA
RABlAGwAdABhACwAIABQAHIAbwB4AEQAZQBsAHQAYQAsACAAUwBrAGkAcABEAGUAbAB0AGEA
PgAgACAAOgA6ACAAVABoAGkAcwAgAGkAcwAgAHAAcgBlAHMAZQBuAHQAIABpAG4AIAAuAHQA
aQBpACAAYQBuAGQAIAAuAHQAaQBzACAAYgBvAHQAaAAuAA0AVABlAHIAbQAgAODwIAA8AFAA
cgBlAGYAaQB4AEwAZQBuAGcAdABoACwAIABTAHUAZgBmAGkAeAAoAHMAdAByAGkAbgBnACkA
LAAgAEYAaQBlAGwAZABOAHUAbQA+ACAAOgA6ACAAVABoAGkAcwAgAGkAcwAgAHQAaABlACAA
dABlAHIAbQAgAHMAdAByAGkAbgBnACAAaQBuACAARABlAGwAdABhACAAZQBuAGMAbwBkAGUA
ZAAgAGYAbwByAG0AYQB0AA0ARgByAGUAcQBEAGUAbAB0AGEAIADg8CAAUABvAGkAbgB0AHMA
IAB0AG8AIAB0AGgAZQAgAFQAZQByAG0ARgByAGUAcQAgAGkAbgAgAC4AZgByAHEAIABmAGkA
bABlACAAKAB0AGgAaQBzACAAaQBzACAAdABoAGUAIABwAG8AcwB0AGkAbgBnACAAbABpAHMA
dAApAC4ADQANAEYAcgBlAHEARgBpAGwAZQAoAC4AZgByAHEAKQAgACAA4PAgADwAVABlAHIA
bQBGAHIAZQBxAHMALAAgAFMAawBpAHAARABhAHQAYQA+ACAAVABlAHIAbQBDAG8AdQBuAHQA
DQBUAGUAcgBtAEYAcgBlAHEAcwAgAODwIAA8AFQAZQByAG0ARgByAGUAcQA+AEQAbwBjAEYA
cgBlAHEAIAANAFQAZQByAG0ARgByAGUAcQAgAODwIABEAG8AYwBEAGUAbAB0AGEALAAgAEYA
cgBlAHEAPwANAEQAbwBjAEQAZQBsAHQAYQAgAHQAZQBsAGwAcwAgAHQAaABlACAARABvAGMA
dQBtAGUAbgB0AC0ASQBkACAAYQBuAGQAIABEAG8AYwBGAHIAZQBxAHUAZQBuAGMAeQAgAGkA
bgAgAHMAbwBtAGUAIABvAHAAdABpAG0AaQB6AGUAZAAgAGQAZQBsAHQAYQAtAGUAbgBjAG8A
ZABlAGQAIABmAGEAcwBoAGkAbwBuAC4AIABUAGgAaQBzACAAZQBzAHMAZQBuAHQAaQBhAGwA
bAB5ACAAYwBvAG4AcwB0AGkAdAB1AHQAZQBzACAAdABoAGUAIABQAE8AUwBUAEkATgBHAHMA
IABMAEkAUwBUACAAZgBvAHIAIABhACAAdABlAHIAbQAuAA0ADQBTAGsAaQBwAEQAYQB0AGEA
IADg8CAAPABTAGsAaQBwAEQAYQB0AHUAbQA+ACAARABvAGMARgByAGUAcQAvAFMAawBpAHAA
SQBuAHQAZQByAHYAYQBsACAAIAANAFMAawBpAHAARABhAHQAdQBtACAA4PAgAEQAbwBjAFMA
awBpAHAALAAgAEYAcgBlAHEAUwBrAGkAcAAsACAAUAByAG8AeABTAGsAaQBwAA0ADQANAA0A
UwBlAGEAcgBjAGgAIAAgAEEAbABnAG8AcgBpAHQAaABtACAAOgAgAA0ATABlAHQAcwAgAHMA
YQB5ACAAdABoAGUAIABxAHUAZQByAHkAIAB0AGUAcgBtACAAaQBzACAAVAAoAHEAKQAuACAA
RgBpAHIAcwB0ACAAVAAoAHEAKQAgAGkAcwAgAHMAZQBhAHIAYwBoAGUAZAAgAGkAbgAgAHQA
aABlACAAaQBuAC0AbQBlAG0AbwByAHkAIAAoAC4AdABpAGkAIABiAGEAcwBlAGQAIAApACAA
bABpAHMAdAAgAG8AZgAgAHQAZQByAG0AcwAuACAATABlAHQAcwAgAHMAYQB5ACAAdABoAGEA
dAAgAHcAZQAgAGYAaQBuAGQAIABhACAAVAAoAGkAKQAgAHMAdQBjAGgAIAB0AGgAYQB0ACAA
VAAoAGkAKQAgADwAIABUACgAcQApACAAPAAgAFQAKABpACsAMQApAC4AIABUAGgAZQBuACAA
YQAgAHMAZQBxAHUAZQBuAHQAaQBhAGwAIABzAGUAYQByAGMAaAAgAGgAYQBwAHAAZQBuAHMA
IABpAG4AIAAuAHQAaQBzABkgcwAgAHQAZQByAG0ALQBsAGkAcwB0ACAAZgByAG8AbQAgAFQA
KABqACkAIAAgAHQAbwAgAFQAKABqACsAawApACAAcwB1AGMAaAAgAHQAaABhAHQAIAAgAFQA
KABqACkALgB0AGUAcgBtACAAPQA9ACAAVAAoAGkAKQAuAHQAZQByAG0AIAAuACAASQB0ACAA
cwBlAGUAbQBzACAAdABoAGEAdAAgAHcAZQAgAGQAbwBuABkgdAAgAHUAcwBlACAAYQBuAHkA
IABzAGsAaQBwACAAbABpAHMAdAAgAGIAYQBzAGUAZAAgAGEAbABnAG8AIAB0AG8AIAAgAHMA
ZQBhAHIAYwBoACAAZgBvAHIAIAB0AGgAZQAgAHEAdQBlAHIAeQAgAHQAZQByAG0AIABpAG4A
IAAuAHQAaQBzACAAKABvAHIAIAAuAHQAaQBpACkAIABmAGkAbABlAHMALgAgACAAVABoAGUA
bgAgAHQAaABlACAAcABvAHMAdABpAG4AZwAgAGwAaQBzAHQAIABpAHMAIABlAHgAdAByAGEA
YwB0AGUAZAAgAGYAbwByACAAdABoAGEAdAAgAHQAZQByAG0AIABiAHkAIABkAG8AaQBuAGcA
IABhACAAcgBhAG4AZABvAG0AIABzAGUAZQBrACAAdABvACAAdABoAGUAIAAuAGYAcgBxACAA
ZgBpAGwAZQAgACgAcABvAGkAbgB0AGUAZAAgAGIAeQAgAEYAcgBlAHEARABlAGwAdABhACAA
aQBuACAALgB0AGkAcwAgAGYAaQBsAGUAKQAuACAAQQBuAGQAIAB0AGgAZQBuACAAZgBvAHIA
IABjAG8AbgBqAHUAbgBjAHQAaQBvAG4AIABxAHUAZQByAGkAZQBzACAAcABvAHMAdABpAG4A
ZwBzACAAKABmAHIAbwBtACAAZABpAGYAZgBlAHIAZQBuAHQAIABxAHUAZQByAHkAIAB0AGUA
cgBtAHMAKQAgAGEAcgBlACAAbQBlAHIAZwBlAGQALgAgAEkAdAAgAGkAcwAgAGQAdQByAGkA
bgBnACAAdABoAGkAcwAgAG0AZQByAGcAZQByACAAbwBmACAAcABvAHMAdABpAG4AZwAgAHcA
aABlAG4AIAB0AGgAZQAgAFMAawBpAHAARABhAHQAdQBtACAAZwBlAHQAcwAgAHUAcwBlAGQA
LgAgAA0ADQANAA0ADQANAAAAoQ9kAQAAUwcAAAAAABAAAFAAEgAAAAAAAgAIAAEAAAAAAAoA
GADn/6sAAAAAAAIACABEAAAAAACCAAMACAAMAAAAAAACAAgAGQAAAAAAggADAAgADwAAAAAA
igADAAkAMgABAAAAAAAKAAkAMgCSAAAAAAAAAEoAAAAAAIAAAwAKAAAAAAAAAA4AAAAAAIAA
AwAJAAAAAACIAAMAMgABAAAAAAAIADIACgAAAAAAAADBAAAAAACAAAMACgAAAAAAAABqAAAA
AACAAAMAAQAAAAAAggADAAgACgAAAAAAigADAAkAMgAWAAAAAACAAAMABwAAAAAAigADAAkA
MgDJAAAAAACCAAMACQAXAAAAAACKAAMACQAyACkAAAAAAIIAAwAJAAIAAAAAAIoAAwAJADIA
pwIAAAAAggADAAkAAQAAAAAAigADAAkAMgABAAAAAACCAAMACQACAAAAAACAAAMAAQAAAAAA
AAAAAKoPGAUAAAQAAAAAAAAADAAAAAEAAAABABcAAAAAAAAADAAAAAEAAAABADMAAAAAAAAA
AgAAAAEAAAABAAMAAAAAAAAADAAAAAEAAAABAAYAAAAAAAAACAAAAAEAAAABABkAAAAAAAAA
CQAAAAEAAAABAAMAAAAAAAAAEgAAAAEAAAABAAQAAAAAAAAAJgAAAAEAAAABAAIAAAAAAAAA
DAAAAAEAAAABAAIAAAAAAAAACwAAAAEAAAABAAEAAAAAAAAACwAAAAEAAAABAAQAAAAAAAAA
CAAAAAEAAAABAAIAAAAAAAAACgAAAAEAAAABAAIAAAAAAAAADgAAAAEAAAABAAIAAAAAAAAA
CgAAAAEAAAABAAYAAAAAAAAAAwAAAAEAAAABACgAAAAAAAAACAAAAAEAAAABABgAAAAAAAAA
AwAAAAEAAAABACEAAAAAAAAAEQAAAAEAAAABAAQAAAAAAAAACQAAAAEAAAABAAIAAAAAAAAA
DAAAAAEAAAABAAMAAAAAAAAADwAAAAEAAAABAAMAAAAAAAAADwAAAAEAAAABAAMAAAAAAAAA
CQAAAAEAAAABAAEAAAAAAAAACQAAAAEAAAABAAUAAAAAAAAACAAAAAEAAAABAAIAAAAAAAAA
CQAAAAEAAAABAAIAAAAAAAAACAAAAAEAAAABAEwAAAAAAAAAAwAAAAEAAAABAAYAAAAAAAAA
AwAAAAEAAAABAA8AAAAAAAAADAAAAAEAAAABAAIAAAAAAAAADQAAAAEAAAABAAMAAAAAAAAA
CAAAAAEAAAABAE8AAAAAAAAACAAAAAEAAAABAAUAAAAAAAAAAwAAAAEAAAABACMAAAAAAAAA
DQAAAAEAAAABAAYAAAAAAAAACQAAAAEAAAABAAIAAAAAAAAACAAAAAEAAAABAAIAAAAAAAAA
CQAAAAEAAAABAAEAAAAAAAAACQAAAAEAAAABAAQAAAAAAAAACAAAAAEAAAABAAEAAAAAAAAA
BwAAAAEAAAABAAIAAAAAAAAACAAAAAEAAAABAAMAAAAAAAAACAAAAAEAAAABAAgAAAAAAAAA
CAAAAAEAAAABABsAAAAAAAAADAAAAAEAAAABAEsAAAAAAAAACAAAAAEAAAABABMAAAAAAAAA
CAAAAAEAAAABAAQAAAAAAAAACQAAAAEAAAABAAIAAAAAAAAAFAAAAAEAAAABAAMAAAAAAAAA
CQAAAAEAAAABAAMAAAAAAAAABwAAAAEAAAABAAIAAAAAAAAACAAAAAEAAAABAAIAAAAAAAAA
CAAAAAEAAAABADQAAAAAAAAAAwAAAAEAAAABAAkAAAAAAAAAAwAAAAEAAAABACEAAAAAAAAA
AwAAAAEAAAABADAAAAAAAAAAAwAAAAEAAAABAAwAAAAAAAAAAwAAAAEAAAABAAQAAAAAAAAA
AwAAAAEAAAABADEAAAAAAAAABQAAAAEAAAABABAAAAAAAAAAAwAAAAEAAAABAAYAAAAAAAAA
BQAAAAEAAAABAA0AAAAAAAAACQAAAAEAAAABAAQAAAAAAAAACQAAAAEAAAABADIAAAAAAAAA
BAAAAAEAAAABACMAAAAAAAAAAwAAAAEAAAABAAYAAAAAAAAAAwAAAAEAAAABAFoAAAAAAAAA
AwAAAAEAAAABABIAAAAAAAAACQAAAAEAAAABAAUAAAAAAAAAAwAAAAEAAAABAIgAAAAAAAAA
CQAAAAEAAAABABMAAAAAAAAAAACmDw4AAADxAAAAIAHUAdAC8AMQBQ8ABPBIAAAAEgAK8AgA
AAABFAAAAAwAAIMAC/AwAAAAgQEAAAAIgwEFAAAIkwHevWgAlAGOn4sAvwESABIA/wEAAAgA
BAMJAAAAPwMBAAEAEADwByAAAAD///8AAAAAAICAgAAAAAAAAMyZADMzzADMzP8AsrKyAA8A
iBM4AAAADwCKEzAAAAAAALoPEAAAAF8AXwBfAFAAUABUADEAMAAAAIsTEAAAAAAA6y4IAAAA
mW7GAaADAjoAAHIXGAAAAAEAUAAAAAAAgw4AANcEAACFFAAA6kAAAAAA9Q8cAAAAAQEAAGUZ
AAMAAAAAUlgAAAEAAAAFAAAAAQCXAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAD+/////v//////////////
////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////+/wAABQECAAAAAAAAAAAAAAAAAAAA
AAABAAAAAtXN1ZwuGxCTlwgAKyz5rjAAAADkAQAAEAAAAAEAAACIAAAAAwAAAJAAAAAPAAAA
qAAAAAQAAADIAAAABgAAANAAAAAHAAAA2AAAAAgAAADgAAAACQAAAOgAAAAKAAAA8AAAABcA
AAD4AAAACwAAAAABAAAQAAAACAEAABMAAAAQAQAAFgAAABgBAAANAAAAIAEAAAwAAACDAQAA
AgAAAOQEAAAeAAAADwAAAE9uLXNjcmVlbiBTaG93AAAeAAAAFQAAAEFtZXJpY2EgT25saW5l
LCBJbmMuAABTZQMAAACWWAAAAwAAAEIAAAADAAAAAQAAAAMAAAABAAAAAwAAAAAAAAADAAAA
AAAAAAMAAABPGgoACwAAAAAAAAALAAAAAAAAAAsAAAAAAAAACwAAAAAAAAAeEAAABgAAAAYA
AABBcmlhbAAKAAAATHV4aSBTYW5zAAsAAABTdGFyU3ltYm9sAAoAAABXaW5nZGluZ3MADwAA
AERlZmF1bHQgRGVzaWduAA8AAABTZWdtZW50IGxheW91dAAMEAAABgAAAB4AAAALAAAARm9u
dHMgVXNlZAADAAAABAAAAB4AAAAQAAAARGVzaWduIFRlbXBsYXRlAAMAAAABAAAAHgAAAA0A
AABTbP7/AAAFAQIAAAAAAAAAAAAAAAAAAAAAAAEAAADghZ/y+U9oEKuRCAArJ7PZMAAAAAxd
AAALAAAAAQAAAGAAAAACAAAAaAAAAAQAAACAAAAACAAAAJQAAAAJAAAAqAAAABIAAAC0AAAA
CgAAANQAAAAMAAAA4AAAAA0AAADsAAAADwAAAPgAAAARAAAAAAEAAAIAAADkBAAAHgAAAA8A
AABTZWdtZW50IGxheW91dAAAHgAAAAsAAABwcmFzZW5qaXRtAG8eAAAACwAAAHByYXNlbmpp
dG0Abx4AAAACAAAANgBhcx4AAAAVAAAATWljcm9zb2Z0IFBvd2VyUG9pbnQAAFAAQAAAAADD
rAYCAAAAQAAAAJDY2YHIbsYBQAAAAJB4mpfKbsYBAwAAADQBAABHAAAABFwAAP////8DAAAA
CACJEGcMAAABAAkAAAP6LQAABwA6BQAAAAAEAAAAAwEIAAUAAAALAgAAAAAFAAAADALvAukD
AwAAAB4ABwAAAPwCAAD///8AAAAEAAAALQEAAAgAAAD6AgUAAAAAAP///wAEAAAALQEBAA4A
AAAkAwUA////////7gLoA+4C6AP///////8IAAAA+gIAAAAAAAAAAAAABAAAAC0BAgAHAAAA
/AIAAP///wAAAAQAAAAtAQMABAAAACcB//8cAAAA+wLD/wAAAAAAAJABAAAAAABAAABBcmlh
bAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAtAQQABAAAAC4BGAAEAAAAAgEBAAUA
AAAJAgAAAAISAAAAMgpzACABBwAAAFNlZ21lbnRzKQAiACIAMwAiACIAEQAEAAAALgEAABwA
AAD7AhAABwAAAAAAvAIAAAAAAQICIlN5c3RlbQAAAAAAABgAAABUoBMAAgAAAOQEAAAAAAAA
BAAAAC0BBQAEAAAA8AEEABwAAAD7AsP/AAAAAAAAkAEAAAAAAEAAAEFyaWFsAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAABAAAAC0BBAAEAAAALgEYAAQAAAACAQEABQAAAAkCAAAAAhAA
AAAyCnMAJgIGAAAAbGF5b3V0DgAiAB0AIgAiABEABAAAAC4BAAAEAAAALQEFAAQAAADwAQQA
BAAAAPABAAADAAAAHgAHAAAA/AIAAAC4/wAAAAQAAAAtAQAABAAAAC0BAQAOAAAAJAMFACYA
0AAmAOABgQDgAYEA0AAmANAABAAAAC0BAgAEAAAALQEDAAgAAAD6AgAAAQAAAAAAAAAEAAAA
LQEEAAcAAAD8AgEAAAAAAAAABAAAAC0BBgAMAAAAJAMEACYA0AAmAOABgQDgAYEA0AAEAAAA
LQECAAQAAAAtAQMABAAAAPABBAAEAAAAJwH//wMAAAAeAAQAAAAtAQAABAAAAC0BAQAOAAAA
JAMFAFwBsgBcAcsCqAHLAqgBsgBcAbIABAAAAC0BAgAEAAAALQEDAAgAAAD6AgAAAQAAAAAA
AAAEAAAALQEEAAQAAAAtAQYADAAAACQDBABcAbIAXAHLAqgBywKoAbIABAAAAC0BAgAEAAAA
LQEDAAQAAADwAQQABAAAACcB//8DAAAAHgAIAAAA+gIAAAEAAAAAAAAABAAAAC0BBAAEAAAA
LQEGAAgAAAAlAwIAXAH2AKgB9gAEAAAALQECAAQAAAAtAQMABAAAAPABBAAEAAAAJwH//xwA
AAD7Auv/AAAAAAAAvAIAAAAAAEAAEEx1eGkgU2FucwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
BAAAAC0BBAAEAAAALgEYAAQAAAACAQEABQAAAAkCAAAAAgkAAAAyCm8BOAABAAAAVAAOAAQA
AAAuAQAABAAAAC0BBQAEAAAA8AEEABwAAAD7Auv/AAAAAAAAvAIAAAAAAEAAEEx1eGkgU2Fu
cwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAC0BBAAEAAAALgEYAAQAAAACAQEABQAAAAkC
AAAAAgwAAAAyCnYBRgADAAAAaSsxAAUADAALAAQAAAAuAQAABAAAAC0BBQAEAAAA8AEEAAMA
AAAeAAgAAAD6AgAAAQAAAAAAAAAEAAAALQEEAAQAAAAtAQYACAAAACUDAgBcAawCqAGsAgQA
AAAtAQIABAAAAC0BAwAEAAAA8AEEAAQAAAAnAf//HAAAAPsC6/8AAAAAAAC8AgAAAAAAQAAQ
THV4aSBTYW5zAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAALQEEAAQAAAAuARgABAAAAAIB
AQAFAAAACQIAAAACCQAAADIKqwJ1AQEAAABUAA4ABAAAAC4BAAAEAAAALQEFAAQAAADwAQQA
HAAAAPsC6/8AAAAAAAC8AgAAAAAAQAAQTHV4aSBTYW5zAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAEAAAALQEEAAQAAAAuARgABAAAAAIBAQAFAAAACQIAAAACDAAAADIKsgKDAQMAAABqK2sA
BgAMAAsABAAAAC4BAAAEAAAALQEFAAQAAADwAQQAHAAAAPsC6/8AAAAAAAC8AgAAAAAAQAAQ
THV4aSBTYW5zAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAALQEEAAQAAAAuARgABAAAAAIB
AQAFAAAACQIAAAACCQAAADIK9AB9AQEAAABUAA4ABAAAAC4BAAAEAAAALQEFAAQAAADwAQQA
HAAAAPsC6/8AAAAAAAC8AgAAAAAAQAAQTHV4aSBTYW5zAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAEAAAALQEEAAQAAAAuARgABAAAAAIBAQAFAAAACQIAAAACCQAAADIK+wCLAQEAAABqAAYA
BAAAAC4BAAAEAAAALQEFAAQAAADwAQQAAwAAAB4ACAAAAPoCAAABAAAAAAAAAAQAAAAtAQQA
BAAAAC0BBgAIAAAAJQMCACYAOgGBADoBBAAAAC0BAgAEAAAALQEDAAQAAADwAQQABAAAACcB
//8cAAAA+wLr/wAAAAAAALwCAAAAAABAABBMdXhpIFNhbnMAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAQAAAAtAQQABAAAAC4BGAAEAAAAAgEBAAUAAAAJAgAAAAIJAAAAMgo4AUcAAQAAAFQA
DgAEAAAALgEAAAQAAAAtAQUABAAAAPABBAAcAAAA+wLr/wAAAAAAALwCAAAAAABAABBMdXhp
IFNhbnMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAtAQQABAAAAC4BGAAEAAAAAgEBAAUA
AAAJAgAAAAIJAAAAMgo/AVUAAQAAAGkABQAEAAAALgEAAAQAAAAtAQUABAAAAPABBAADAAAA
HgAIAAAA+gIAAAEAAAAAAAAABAAAAC0BBAAEAAAALQEGAAgAAAAlAwIAJgBvAYEAbwEEAAAA
LQECAAQAAAAtAQMABAAAAPABBAAEAAAAJwH//wQAAADwAQAAAwAAAB4ACAAAAPoCAAABAAAA
AAAAAAQAAAAtAQAABwAAAPwCAAAAAAAAAAAEAAAALQEEAAQAAAAGAQIAJgAAADgFAgAMAAQA
gQA5AVgB9wBYAfcAWAH3AFgB+ABYAfgAgQA7AYEAOwGBADoBgQA6AYEAOQGBADkBVgH1AFwB
9gBYAfsAVgH1AAQAAAAGAQEABAAAAC0BAwAEAAAALQECAAQAAADwAQAABAAAACcB//8DAAAA
HgAIAAAA+gIAAAEAAAAAAAAABAAAAC0BAAAEAAAALQEEAAQAAAAGAQIAJgAAADgFAgAMAAQA
ggBvAVoBqAJaAakCWgGpAlkBqQJZAakCgQBvAYEAbwGBAG4BgQBuAYIAbwGCAG8BWwGmAlwB
rAJXAakCWwGmAgQAAAAGAQEABAAAAC0BAwAEAAAALQECAAQAAADwAQAABAAAACcB//8cAAAA
+wLr/wAAAAAAAJABAAAAAABAABBMdXhpIFNhbnMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQA
AAAtAQAABAAAAC4BGAAEAAAAAgEBAAUAAAAJAgAAAAIJAAAAMgrHABQAAQAAAC4ABQAEAAAA
LgEAAAQAAAAtAQUABAAAAPABAAAcAAAA+wLr/wAAAAAAAJABAAAAAABAABBMdXhpIFNhbnMA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAtAQAABAAAAC4BGAAEAAAAAgEBAAUAAAAJAgAA
AAIMAAAAMgrHABkAAwAAAHRpaQAGAAYABgAEAAAALgEAAAQAAAAtAQUABAAAAPABAAAcAAAA
+wLr/wAAAAAAAJABAAAAAABAABBMdXhpIFNhbnMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQA
AAAtAQAABAAAAC4BGAAEAAAAAgEBAAUAAAAJAgAAAAIfAAAAMgrHADAAEAAAAGZpbGUgKGlu
IG1lbW9yeSkHAAYABgAJAAUABwAGAAoABQAQAAkAEAALAAcACQAHAAQAAAAuAQAABAAAAC0B
BQAEAAAA8AEAABwAAAD7Auv/AAAAAAAAkAEAAAAAAEAAEEx1eGkgU2FucwAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAABAAAAC0BAAAEAAAALgEYAAQAAAACAQEABQAAAAkCAAAAAgkAAAAyCrMA
OQEBAAAALgAFAAQAAAAuAQAABAAAAC0BBQAEAAAA8AEAABwAAAD7Auv/AAAAAAAAkAEAAAAA
AEAAEEx1eGkgU2FucwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAC0BAAAEAAAALgEYAAQA
AAACAQEABQAAAAkCAAAAAgwAAAAyCrMAPgEDAAAAdGlzAAYABgAIAAQAAAAuAQAABAAAAC0B
BQAEAAAA8AEAABwAAAD7Auv/AAAAAAAAkAEAAAAAAEAAEEx1eGkgU2FucwAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAABAAAAC0BAAAEAAAALgEYAAQAAAACAQEABQAAAAkCAAAAAhwAAAAyCrMA
VwEOAAAAZmlsZSAoaW4gZGlzaykHAAYABgAJAAUABwAGAAoABQAKAAYACAAKAAcABAAAAC4B
AAAEAAAALQEFAAQAAADwAQAAHAAAAPsC6/8AAAAAAACQAQAAAAAAQAAQTHV4aSBTYW5zAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAALQEAAAQAAAAuARgABAAAAAIBAQAFAAAACQIAAAAC
GQAAADIKIgGhAAwAAABSYW5kb20gc2Vla3MOAAkACgAKAAsAEAAFAAgACQAKAAoACAAEAAAA
LgEAAAQAAAAtAQUABAAAAPABAAAcAAAA+wLr/wAAjAqMCpABAAAAAAdAABBMdXhpIFNhbnMA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAtAQAABAAAAC4BGAAEAAAAAgEBAAUAAAAJAgAA
AAIfAAAAMgrrAEwBEAAAAENvbnRpZ3VvdXMgcmVhZHMOAAsACgAGAAYACgAKAAsACwAIAAUA
BwAJAAkACgAIAAQAAAAuAQAABAAAAC0BBQAEAAAA8AEAAAMAAAAeAAgAAAD6AgAAAQAAAAAA
AAAEAAAALQEAAAQAAAAtAQYACAAAACUDAgAvAYYB7AGGAQQAAAAtAQIABAAAAC0BAwAEAAAA
8AEAAAQAAAAnAf//HAAAAPsC6/8AAAAAAAC8AgAAAAAAQAAQTHV4aSBTYW5zAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAEAAAALQEAAAQAAAAuARgABAAAAAIBAQAFAAAACQIAAAACCQAAADIK
fAF8AQEAAABUAA4ABAAAAC4BAAAEAAAALQEFAAQAAADwAQAAHAAAAPsC6/8AAAAAAAC8AgAA
AAAAQAAQTHV4aSBTYW5zAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAALQEAAAQAAAAuARgA
BAAAAAIBAQAFAAAACQIAAAACCQAAADIKgwGKAQEAAABxAAsABAAAAC4BAAAEAAAALQEFAAQA
AADwAQAAAwAAAB4ACAAAAPoCAAABAAAAAAAAAAQAAAAtAQAABAAAAC0BBgAIAAAAJQMCAC8B
SgLsAUoCBAAAAC0BAgAEAAAALQEDAAQAAADwAQAABAAAACcB//8cAAAA+wLr/wAAAAAAAJAB
AAAAAABAABBMdXhpIFNhbnMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAtAQAABAAAAC4B
GAAEAAAAAgEBAAUAAAAJAgAAAAIWAAAAMgqTAYsACgAAAEluZGV4RGVsdGEGAAsACgAJAAsA
DwAJAAYABgAJAAQAAAAuAQAABAAAAC0BBQAEAAAA8AEAAAQAAADwAQQAAwAAAB4ABwAAAPwC
AAAAuP8AAAAEAAAALQEAAAQAAAAtAQEADgAAACQDBQAhArkAIQKsAm0CrAJtArkAIQK5AAQA
AAAtAQIABAAAAC0BAwAIAAAA+gIAAAEAAAAAAAAABAAAAC0BBAAEAAAALQEGAAwAAAAkAwQA
IQK5ACECrAJtAqwCbQK5AAQAAAAtAQIABAAAAC0BAwAEAAAA8AEEAAQAAAAnAf//HAAAAPsC
6/8AAAAAAACQAQAAAAAAQAAQTHV4aSBTYW5zAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAA
LQEEAAQAAAAuARgABAAAAAIBAQAFAAAACQIAAAACCQAAADIKsAAIAgEAAAAuAAUABAAAAC4B
AAAEAAAALQEFAAQAAADwAQQAHAAAAPsC6/8AAAAAAACQAQAAAAAAQAAQTHV4aSBTYW5zAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAALQEEAAQAAAAuARgABAAAAAIBAQAFAAAACQIAAAAC
DAAAADIKsAANAgMAAABmcnEABwAHAAoABAAAAC4BAAAEAAAALQEFAAQAAADwAQQAHAAAAPsC
6/8AAAAAAACQAQAAAAAAQAAQTHV4aSBTYW5zAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAA
LQEEAAQAAAAuARgABAAAAAIBAQAFAAAACQIAAAACKgAAADIKsAAlAhcAAAAvcG9zdGluZyBm
aWxlIChpbiBkaXNrKQAGAAoACwAIAAYABgAKAAoABQAHAAYABgAJAAUABwAGAAoABQAKAAYA
CQAKAAcABAAAAC4BAAAEAAAALQEFAAQAAADwAQQAAwAAAB4ACAAAAPoCAAABAAAAAAAAAAQA
AAAtAQQABAAAAC0BBgAIAAAAJQMCANUB/gDAAv4ABAAAAC0BAgAEAAAALQEDAAQAAADwAQQA
BAAAACcB//8cAAAA+wLr/wAAAAAAALwCAAAAAABAABBMdXhpIFNhbnMAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAQAAAAtAQQABAAAAC4BGAAEAAAAAgEBAAUAAAAJAgAAAAIJAAAAMgpQAn0B
AQAAAFQADgAEAAAALgEAAAQAAAAtAQUABAAAAPABBAAcAAAA+wLr/wAAAAAAALwCAAAAAABA
ABBMdXhpIFNhbnMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAtAQQABAAAAC4BGAAEAAAA
AgEBAAUAAAAJAgAAAAIMAAAAMgpXAosBAwAAAHErMQALAAwACwAEAAAALgEAAAQAAAAtAQUA
BAAAAPABBAAEAAAA8AEAAAMAAAAeAAgAAAD6AgAAAQAAAAAAAAAEAAAALQEAAAcAAAD8AgAA
AAAAAAAABAAAAC0BBAAEAAAABgECALMAAAA4BQcADAAMAAwADAAMAAwADABcAaMBZAGjAWQB
pAFkAaQBZAGkAWQBpAFcAaQBXAGkAVwBpAFcAaQBXAGjAVwBowFoAaMBbwGjAW8BpAFwAaQB
bwGkAW8BpAFoAaQBZwGkAWcBpAFnAaQBaAGjAWgBowFzAaMBewGjAXsBpAF7AaQBewGkAXsB
pAFzAaQBcwGkAXMBpAFzAaQBcwGjAXMBowF/AaMBhgGjAYYBpAGHAaQBhgGkAYYBpAF/AaQB
fgGkAX4BpAF+AaQBfwGjAX8BowGKAaMBkQGjAZIBpAGSAaQBkgGkAZEBpAGKAaQBigGkAYoB
pAGKAaQBigGjAYoBowGWAaMBnQGjAZ0BpAGdAaQBnQGkAZ0BpAGWAaQBlQGkAZUBpAGVAaQB
lgGjAZYBowGhAaMBqAGjAagBpAGpAaQBqAGkAagBpAGhAaQBoQGkAaEBpAGhAaQBoQGjAaEB
owEEAAAABgEBAAQAAAAtAQMABAAAAC0BAgAEAAAA8AEAAAQAAAAnAf//AwAAAB4ACAAAAPoC
AAABAAAAAAAAAAQAAAAtAQAABAAAAC0BBAAEAAAABgECAKsAAAA4BQcACwAMAAwACwAMAAwA
CgBcAeABZAHgAWQB4AFkAeABZAHhAWQB4QFcAeEBXAHhAVwB4AFcAeABXAHgAWgB4AFvAeAB
bwHgAXAB4AFvAeEBbwHhAWgB4QFnAeEBZwHgAWcB4AFoAeABaAHgAXMB4AF7AeABewHgAXsB
4AF7AeEBewHhAXMB4QFzAeEBcwHgAXMB4AFzAeABcwHgAX8B4AGGAeABhgHgAYcB4AGGAeEB
hgHhAX8B4QF+AeEBfgHgAX8B4AF/AeABigHgAZEB4AGSAeABkgHgAZIB4QGRAeEBigHhAYoB
4QGKAeABigHgAYoB4AGKAeABlgHgAZ0B4AGdAeABnQHgAZ0B4QGdAeEBlgHhAZUB4QGVAeAB
lQHgAZYB4AGWAeABoQHgAagB4AGpAeABqAHhAagB4QGhAeEBoQHhAaEB4AGhAeABoQHgAQQA
AAAGAQEABAAAAC0BAwAEAAAALQECAAQAAADwAQAABAAAACcB//8DAAAAHgAIAAAA+gIAAAEA
AAAAAAAABAAAAC0BAAAEAAAALQEEAAQAAAAGAQIAswAAADgFBwAMAAwADAAMAAwADAAMAFwB
wgFkAcIBZAHCAWQBwgFkAcIBZAHDAVwBwwFcAcIBXAHCAVwBwgFcAcIBXAHCAWgBwgFvAcIB
bwHCAXABwgFvAcIBbwHDAWgBwwFnAcIBZwHCAWcBwgFoAcIBaAHCAXMBwgF7AcIBewHCAXsB
wgF7AcIBewHDAXMBwwFzAcIBcwHCAXMBwgFzAcIBcwHCAX8BwgGGAcIBhgHCAYcBwgGGAcIB
hgHDAX8BwwF+AcIBfgHCAX4BwgF/AcIBfwHCAYoBwgGRAcIBkgHCAZIBwgGSAcIBkQHDAYoB
wwGKAcIBigHCAYoBwgGKAcIBigHCAZYBwgGdAcIBnQHCAZ0BwgGdAcIBnQHDAZYBwwGVAcIB
lQHCAZUBwgGWAcIBlgHCAaEBwgGoAcIBqAHCAakBwgGoAcIBqAHDAaEBwwGhAcIBoQHCAaEB
wgGhAcIBoQHCAQQAAAAGAQEABAAAAC0BAwAEAAAALQECAAQAAADwAQAABAAAACcB//8DAAAA
HgAIAAAA+gIAAAEAAAAAAAAABAAAAC0BAAAEAAAALQEEAAQAAAAGAQIAqwAAADgFBwALAAwA
DAALAAwADAAKAFwBDQJkAQ0CZAENAmQBDgJkAQ4CZAEOAlwBDgJcAQ4CXAENAlwBDQJcAQ0C
aAENAm8BDQJvAQ0CcAEOAm8BDgJvAQ4CaAEOAmcBDgJnAQ4CZwENAmgBDQJoAQ0CcwENAnsB
DQJ7AQ0CewEOAnsBDgJ7AQ4CcwEOAnMBDgJzAQ4CcwENAnMBDQJzAQ0CfwENAoYBDQKGAQ0C
hwEOAoYBDgKGAQ4CfwEOAn4BDgJ+AQ0CfwENAn8BDQKKAQ0CkQENApIBDQKSAQ4CkgEOApEB
DgKKAQ4CigEOAooBDgKKAQ0CigENAooBDQKWAQ0CnQENAp0BDQKdAQ4CnQEOAp0BDgKWAQ4C
lQEOApUBDgKVAQ0ClgENApYBDQKhAQ0CqAENAqgBDQKpAQ4CqAEOAqEBDgKhAQ4CoQENAqEB
DQKhAQ0CBAAAAAYBAQAEAAAALQEDAAQAAAAtAQIABAAAAPABAAAEAAAAJwH//xwAAAD7Auv/
AAAAAAAAkAEAAAAAAEAAEEx1eGkgU2FucwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAC0B
AAAEAAAALgEYAAQAAAACAQEABQAAAAkCAAAAAg0AAAAyCpoBXgEEAAAAVGVybQwACQAHABAA
BAAAAC4BAAAEAAAALQEFAAQAAADwAQAAHAAAAPsC6/8AAAAAAACQAQAAAAAAQAAQTHV4aSBT
YW5zAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAALQEAAAQAAAAuARgABAAAAAIBAQAFAAAA
CQIAAAACEgAAADIKuAFgAQcAAABEb2NGcmVxcw8ACwAJAAwABwAJAAoABAAAAC4BAAAEAAAA
LQEFAAQAAADwAQAAHAAAAPsC6/8AAAAAAACQAQAAAAAAQAAQTHV4aSBTYW5zAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAEAAAALQEAAAQAAAAuARgABAAAAAIBAQAFAAAACQIAAAACFQAAADIK
1wFgAQkAAABGcmVxRGVsdGEADAAHAAkACgAPAAkABgAGAAkABAAAAC4BAAAEAAAALQEFAAQA
AADwAQAAHAAAAPsC6/8AAAAAAACQAQAAAAAAQAAQTHV4aSBTYW5zAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAEAAAALQEAAAQAAAAuARgABAAAAAIBAQAFAAAACQIAAAACFQAAADIK9QFeAQkA
AABQcm94RGVsdGEADAAHAAsACgAPAAkABgAGAAkABAAAAC4BAAAEAAAALQEFAAQAAADwAQAA
HAAAAPsC6/8AAAAAAACQAQAAAAAAQAAQTHV4aSBTYW5zAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAEAAAALQEAAAQAAAAuARgABAAAAAIBAQAFAAAACQIAAAACFQAAADIKIwJeAQkAAABTa2lw
RGVsdGEACwAKAAYACgAQAAkABgAGAAkABAAAAC4BAAAEAAAALQEFAAQAAADwAQAAAwAAAB4A
CAAAAPoCAAABAAAAAAAAAAQAAAAtAQAABAAAAC0BBAAEAAAABgECACYAAAA4BQIADAAEAKcB
0QEeAgEBHgIBAR8CAQEfAgIBHwICAakB0gGoAdIBqAHSAacB0gGnAdEBpwHRARsCAQEhAv4A
IQIEARsCAQEEAAAABgEBAAQAAAAtAQMABAAAAC0BAgAEAAAA8AEAAAQAAAAnAf//HAAAAPsC
6/8AAAAAAACQAQAAAAAAQAAQTHV4aSBTYW5zAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAA
LQEAAAQAAAAuARgABAAAAAIBAQAFAAAACQIAAAACCgAAADIKEgE4AgIAAABURgwADAAEAAAA
LgEAAAQAAAAtAQUABAAAAPABAAAcAAAA+wLv/wAAAAAAAJABAAAAAABAABBMdXhpIFNhbnMA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAtAQAABAAAAC4BGAAEAAAAAgEBAAUAAAAJAgAA
AAIJAAAAMgoZAVACAQAAADEACQAEAAAALgEAAAQAAAAtAQUABAAAAPABAAAcAAAA+wLr/wAA
AAAAAJABAAAAAABAABBMdXhpIFNhbnMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAtAQAA
BAAAAC4BGAAEAAAAAgEBAAUAAAAJAgAAAAIKAAAAMgqLATkCAgAAAFRGDAAMAAQAAAAuAQAA
BAAAAC0BBQAEAAAA8AEAABwAAAD7Au//AAAAAAAAkAEAAAAAAEAAEEx1eGkgU2FucwAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAABAAAAC0BAAAEAAAALgEYAAQAAAACAQEABQAAAAkCAAAAAgkA
AAAyCpIBUQIBAAAAZAAIAAQAAAAuAQAABAAAAC0BBQAEAAAA8AEAAAMAAAAeAAgAAAD6AgAA
AQAAAAAAAAAEAAAALQEAAAQAAAAtAQQABAAAAAYBAgAwAQAAOAUMAAwADAAMAAwADAAMAAwA
DAAMAAwADAAMAAoClAESApQBEgKUARIClQESApUBEgKVAQoClQEKApUBCgKVAQoClAEKApQB
CgKUARYClAEdApQBHQKUAR4ClQEdApUBHQKVARYClQEVApUBFQKVARUClAEWApQBFgKUASEC
lAEpApQBKQKUASkClQEpApUBKQKVASEClQEhApUBIQKVASEClAEhApQBIQKUAS0ClAE0ApQB
NAKUATQClQE0ApUBNAKVAS0ClQEsApUBLAKVASwClAEtApQBLQKUATgClAE/ApQBQAKUAUAC
lQFAApUBPwKVATgClQE4ApUBOAKVATgClAE4ApQBOAKUAUQClAFLApQBSwKUAUsClQFLApUB
SwKVAUQClQFDApUBQwKVAUMClAFEApQBRAKUAU8ClAFWApQBVwKUAVcClQFXApUBVgKVAU8C
lQFPApUBTwKVAU8ClAFPApQBTwKUAVsClAFiApQBYgKUAWIClQFiApUBYgKVAVsClQFaApUB
WgKVAVoClAFbApQBWwKUAWYClAFtApQBbgKUAW4ClQFuApUBbQKVAWYClQFmApUBZQKVAWYC
lAFmApQBZgKUAXEClAF5ApQBeQKUAXkClQF5ApUBeQKVAXEClQFxApUBcQKVAXEClAFxApQB
cQKUAX0ClAGEApQBhQKUAYUClQGFApUBhAKVAX0ClQF9ApUBfAKVAX0ClAF9ApQBfQKUAYgC
lAGLApQBiwKUAYsClQGLApUBiwKVAYgClQGIApUBiAKVAYgClAGIApQBiAKUAQQAAAAGAQEA
BAAAAC0BAwAEAAAALQECAAQAAADwAQAABAAAACcB//8DAAAAHgAIAAAA+gIAAAEAAAAAAAAA
BAAAAC0BAAAEAAAALQEEAAQAAAAGAQIAOgUAADgFNgAMAAwADAAMAAwADAAMAAwADAAMAAwA
DAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwA
DAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwABAB8Av4AfAL+AHwC/gB8Av4AewL+AHsC
/gB7Av4AewL9AHwC/QB8Av0AfAL+AHwC/gB8AgABfAIAAXwCAQF8AgEBewIBAXsCAAF7AgAB
ewIAAXwCAAF8AgABfAIAAXwCAAF8AgMBfAIDAXwCBAF8AgQBewIEAXsCAwF7AgMBewIDAXwC
AgF8AgMBfAIDAXwCAwF8AgYBfAIGAXwCBgF8AgcBewIGAXsCBgF7AgYBewIFAXwCBQF8AgUB
fAIGAXwCBgF8AgkBfAIJAXwCCQF8AgkBewIJAXsCCQF7AgkBewIIAXwCCAF8AggBfAIJAXwC
CQF8AgsBfAILAXwCDAF8AgwBewIMAXsCCwF7AgsBewILAXwCCwF8AgsBfAILAXwCCwF8Ag4B
fAIOAXwCDwF8Ag8BewIPAXsCDgF7Ag4BewIOAXwCDgF8Ag4BfAIOAXwCDgF8AhEBfAIRAXwC
EgF8AhIBewISAXsCEQF7AhEBewIRAXwCEAF8AhEBfAIRAXwCEQF8AhQBfAIUAXwCFAF8AhQB
ewIUAXsCFAF7AhQBewITAXwCEwF8AhMBfAIUAXwCFAF8AhcBfAIXAXwCFwF8AhcBewIXAXsC
FwF7AhcBewIWAXwCFgF8AhYBfAIXAXwCFwF8AhkBfAIZAXwCGgF8AhoBewIaAXsCGQF7AhkB
ewIZAXwCGQF8AhkBfAIZAXwCGQF8AhwBfAIcAXwCHQF8Ah0BewIdAXsCHAF7AhwBewIcAXwC
GwF8AhwBfAIcAXwCHAF8Ah8BfAIfAXwCHwF8AiABewIfAXsCHwF7Ah8BewIeAXwCHgF8Ah4B
fAIfAXwCHwF8AiIBfAIiAXwCIgF8AiIBewIiAXsCIgF7AiIBewIhAXwCIQF8AiEBfAIiAXwC
IgF8AiQBfAIkAXwCJQF8AiUBewIlAXsCJAF7AiQBewIkAXwCJAF8AiQBfAIkAXwCJAF8AicB
fAInAXwCKAF8AigBewIoAXsCJwF7AicBewInAXwCJwF8AicBfAInAXwCJwF8AioBfAIqAXwC
KwF8AisBewIrAXsCKgF7AioBewIqAXwCKQF8AioBfAIqAXwCKgF8Ai0BfAItAXwCLQF8Ai0B
ewItAXsCLQF7Ai0BewIsAXwCLAF8AiwBfAItAXwCLQF8AjABfAIwAXwCMAF8AjABewIwAXsC
MAF7AjABewIvAXwCLwF8Ai8BfAIwAXwCMAF8AjIBfAIyAXwCMwF8AjMBewIzAXsCMgF7AjIB
ewIyAXwCMgF8AjIBfAIyAXwCMgF8AjUBfAI1AXwCNgF8AjYBewI2AXsCNQF7AjUBewI1AXwC
NAF8AjUBfAI1AXwCNQF8AjgBfAI4AXwCOAF8AjkBewI4AXsCOAF7AjgBewI3AXwCNwF8AjcB
fAI4AXwCOAF8AjsBfAI7AXwCOwF8AjsBewI7AXsCOwF7AjsBewI6AXwCOgF8AjoBfAI7AXwC
OwF8Aj0BfAI9AXwCPgF8Aj4BewI+AXsCPQF7Aj0BewI9AXwCPQF8Aj0BfAI9AXwCPQF8AkAB
fAJAAXwCQQF8AkEBewJBAXsCQAF7AkABewJAAXwCQAF8AkABfAJAAXwCQAF8AkMBfAJDAXwC
RAF8AkQBewJEAXsCQwF7AkMBewJDAXwCQgF8AkMBfAJDAXwCQwF8AkYBfAJGAXwCRgF8AkcB
ewJGAXsCRgF7AkYBewJFAXwCRQF8AkUBfAJGAXwCRgF8AkkBfAJJAXwCSQF8AkkBewJJAXsC
SQF7AkkBewJIAXwCSAF8AkgBfAJJAXwCSQF8AksBfAJLAXwCTAF8AkwBewJMAXsCSwF7AksB
ewJLAXwCSwF8AksBfAJLAXwCSwF8Ak4BfAJOAXwCTwF8Ak8BewJPAXsCTgF7Ak4BewJOAXwC
TQF8Ak4BfAJOAXwCTgF8AlEBfAJRAXwCUQF8AlIBewJRAXsCUQF7AlEBewJQAXwCUAF8AlAB
fAJRAXwCUQF8AlQBfAJUAXwCVAF8AlQBewJUAXsCVAF7AlQBewJTAXwCUwF8AlMBfAJUAXwC
VAF8AlYBfAJWAXwCVwF8AlcBewJXAXsCVgF7AlYBewJWAXwCVgF8AlYBfAJWAXwCVgF8AlkB
fAJZAXwCWgF8AloBewJaAXsCWQF7AlkBewJZAXwCWQF8AlkBfAJZAXwCWQF8AlwBfAJcAXwC
XQF8Al0BewJdAXsCXAF7AlwBewJcAXwCWwF8AlwBfAJcAXwCXAF8Al8BfAJfAXwCXwF8AmAB
ewJfAXsCXwF7Al8BewJeAXwCXgF8Al4BfAJfAXwCXwF8AmIBfAJiAXwCYgF8AmIBewJiAXsC
YgF7AmIBewJhAXwCYQF8AmEBfAJiAXwCYgF8AmQBfAJkAXwCZQF8AmUBewJlAXsCZAF7AmQB
ewJkAXwCZAF8AmQBfAJkAXwCZAF8AmcBfAJnAXwCaAF8AmgBewJoAXsCZwF7AmcBewJnAXwC
ZgF8AmcBfAJnAXwCZwF8AmoBfAJqAXwCagF8AmsBewJqAXsCagF7AmoBewJpAXwCaQF8AmkB
fAJqAXwCagF8Am0BfAJtAXwCbQF8Am0BewJtAXsCbQF7Am0BewJsAXwCbAF8AmwBfAJtAXwC
bQF8Am8BfAJwAXwCcAF8AnABewJwAXsCcAF7Am8BewJvAXwCbwF8Am8BfAJvAXwCbwF8AnIB
fAJyAXwCcwF8AnMBewJzAXsCcgF7AnIBewJyAXwCcgF8AnIBfAJyAXwCcgF8AnUBfAJ1AXwC
dgF8AnYBewJ2AXsCdQF7AnUBewJ1AXwCdAF8AnUBfAJ1AXwCdQF8AngBfAJ4AXwCeAF8AnkB
ewJ4AXsCeAF7AngBewJ3AXwCdwF8AncBfAJ4AXwCeAF8AnsBfAJ7AXwCewF8AnsBewJ7AXsC
ewF7AnsBewJ6AXwCegF8AnoBfAJ7AXwCewF8An0BfAJ9AXwCfgF8An4BewJ+AXsCfQF7An0B
ewJ9AXwCfQF8An0BfAJ9AXwCfQF8AoABfAKAAXwCgQF8AoEBewKBAXsCgAF7AoABewKAAXwC
fwF8AoABfAKAAXwCgAF8AoMBfAKDAXwCgwF8AoQBewKDAXsCgwF7AoMBewKCAXwCggF8AoIB
fAKDAXwCgwF8AoYBfAKGAXwChgF8AoYBewKGAXsChgF7AoYBewKFAXwChQF8AoUBfAKGAXwC
hgF8AokBfAKJAXwCiQF8AokBewKJAXsCiQF7AokBewKIAXwCiAF8AogBfAKJAXwCiQF8AosB
fAKLAXwCjAF8AowBewKMAXsCiwF7AosBewKLAXwCiwF8AosBfAKLAXwCiwF8Ao4BfAKOAXwC
jwF8Ao8BewKPAXsCjgF7Ao4BewKOAXwCjQF8Ao4BfAKOAXwCjgF/Ao8BfAKVAXkCjwF/Ao8B
BAAAAAYBAQAEAAAALQEDAAQAAAAtAQIABAAAAPABAAAEAAAAJwH//wQAAADwAQQAAwAAAB4A
BwAAAPwCAAAAuP8AAAAEAAAALQEAAAQAAAAtAQEADgAAACQDBQBeAzUAXgNyALkDcgC5AzUA
XgM1AAQAAAAtAQIABAAAAC0BAwAIAAAA+gIAAAEAAAAAAAAABAAAAC0BBAAEAAAALQEGAAoA
AAAlAwMAegI1AesCQQBXA0EABAAAAC0BAgAEAAAALQEDAAQAAADwAQQACAAAAPoCAAABAAAA
AAAAAAQAAAAtAQQABAAAAC0BBgAMAAAAJAMEAF4DNQC5AzUAuQNyAF4DcgAEAAAALQECAAQA
AAAtAQMABAAAAPABBAAEAAAAJwH//xwAAAD7Auv/AAAAAAAAkAEAAAAAAEAAEEx1eGkgU2Fu
cwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAC0BBAAEAAAALgEYAAQAAAACAQEABQAAAAkC
AAAAAhIAAAAyClIAaQMHAAAAUG9zdGluZ3MMAAsACAAGAAYACgAKAAQAAAAuAQAABAAAAC0B
BQAEAAAA8AEEABwAAAD7Auv/AAAAAAAAkAEAAAAAAEAAEEx1eGkgU2FucwAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAABAAAAC0BBAAEAAAALgEYAAQAAAACAQEABQAAAAkCAAAAAgkAAAAyClIA
qAMBAAAALQAGAAQAAAAuAQAABAAAAC0BBQAEAAAA8AEEABwAAAD7Auv/AAAAAAAAkAEAAAAA
AEAAEEx1eGkgU2FucwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAC0BBAAEAAAALgEYAAQA
AAACAQEABQAAAAkCAAAAAhUAAAAyCm8AaQMJAAAAbGlzdCh0ZXJtAwYABgAIAAYABwAGAAkA
BwAPAAQAAAAuAQAABAAAAC0BBQAEAAAA8AEEABwAAAD7Auv/AAAAAAAAkAEAAAAAAEAAEEx1
eGkgU2FucwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAC0BBAAEAAAALgEYAAQAAAACAQEA
BQAAAAkCAAAAAgkAAAAyCowAcAMBAAAALQAHAAQAAAAuAQAABAAAAC0BBQAEAAAA8AEEABwA
AAD7Auv/AAAAAAAAkAEAAAAAAEAAEEx1eGkgU2FucwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
BAAAAC0BBAAEAAAALgEYAAQAAAACAQEABQAAAAkCAAAAAg8AAAAyCowAdwMFAAAAZnJlcXNu
BwAHAAkACgAIAAQAAAAuAQAABAAAAC0BBQAEAAAA8AEEABwAAAD7Auv/AAAAAAAAkAEAAAAA
AEAAEEx1eGkgU2FucwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAC0BBAAEAAAALgEYAAQA
AAACAQEABQAAAAkCAAAAAgkAAAAyCowAoAMBAAAAKQAHAAQAAAAuAQAABAAAAC0BBQAEAAAA
8AEEABwAAAD7Auv/AAAAAAAAkAEAAAAAAEAAEEx1eGkgU2FucwAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAABAAAAC0BBAAEAAAALgEYAAQAAAACAQEABQAAAAkCAAAAAgoAAAAyCsgBbwICAAAA
U0QLAA8ABAAAAC4BAAAEAAAALQEFAAQAAADwAQQAHAAAAPsC7/8AAAAAAACQAQAAAAAAQAAQ
THV4aSBTYW5zAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAALQEEAAQAAAAuARgABAAAAAIB
AQAFAAAACQIAAAACCQAAADIKzwGJAgEAAAAxAAkABAAAAC4BAAAEAAAALQEFAAQAAADwAQQA
BAAAAPABAAADAAAAHgAIAAAA+gIAAAEAAAAAAAAABAAAAC0BAAAHAAAA/AIAAAAAAAAAAAQA
AAAtAQQABAAAAAYBAgAmAAAAOAUCAAwABACoARwCHQKYAR4CmAEeApgBHgKYAR4CmQGpAR0C
qAEeAqgBHQKnAR0CqAEcAqgBHAIbApcBIQKVAR8CmwEbApcBBAAAAAYBAQAEAAAALQEDAAQA
AAAtAQIABAAAAPABAAAEAAAAJwH//xwAAAD7Auv/AAAAAAAAkAEAAAAAAEAAEEx1eGkgU2Fu
cwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAC0BAAAEAAAALgEYAAQAAAACAQEABQAAAAkC
AAAAAgoAAAAyCmcCOQICAAAAU0QLAA8ABAAAAC4BAAAEAAAALQEFAAQAAADwAQAAHAAAAPsC
7/8AAAAAAACQAQAAAAAAQAAQTHV4aSBTYW5zAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAA
LQEAAAQAAAAuARgABAAAAAIBAQAFAAAACQIAAAACDQAAADIKbgJTAgQAAABkL3NrCAAFAAcA
CAAEAAAALgEAAAQAAAAtAQUABAAAAPABAAADAAAAHgAIAAAA+gIAAAEAAAAAAAAABAAAAC0B
AAAEAAAALQEGAAgAAAAlAwIA1QFwAsACcAIEAAAALQECAAQAAAAtAQMABAAAAPABAAAEAAAA
JwH//xwAAAD7Auv/AAAAAAAAkAEAAAAAAEAAEEx1eGkgU2FucwAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAABAAAAC0BAAAEAAAALgEYAAQAAAACAQEABQAAAAkCAAAAAgoAAAAyCgQCOQICAAAA
U0QLAA8ABAAAAC4BAAAEAAAALQEFAAQAAADwAQAAHAAAAPsC7/8AAAAAAACQAQAAAAAAQAAQ
THV4aSBTYW5zAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAALQEAAAQAAAAuARgABAAAAAIB
AQAFAAAACQIAAAACCQAAADIKCwJTAgEAAAAyAAkABAAAAC4BAAAEAAAALQEFAAQAAADwAQAA
AwAAAB4ACAAAAPoCAAABAAAAAAAAAAQAAAAtAQAABAAAAC0BBAAEAAAABgECADABAAA4BQwA
DAAMAAwADAAMAAwADAAMAAwADAAMAAwACgLvARIC7wESAu8BEgLwARIC8AESAvABCgLwAQoC
8AEKAvABCgLvAQoC7wEKAu8BFgLvAR0C7wEdAu8BHgLwAR0C8AEdAvABFgLwARUC8AEVAvAB
FQLvARYC7wEWAu8BIQLvASkC7wEpAu8BKQLwASkC8AEpAvABIQLwASEC8AEhAvABIQLvASEC
7wEhAu8BLQLvATQC7wE0Au8BNALwATQC8AE0AvABLQLwASwC8AEsAvABLALvAS0C7wEtAu8B
OALvAT8C7wFAAu8BQALwAUAC8AE/AvABOALwATgC8AE4AvABOALvATgC7wE4Au8BRALvAUsC
7wFLAu8BSwLwAUsC8AFLAvABRALwAUMC8AFDAvABQwLvAUQC7wFEAu8BTwLvAVYC7wFXAu8B
VwLwAVcC8AFWAvABTwLwAU8C8AFPAvABTwLvAU8C7wFPAu8BWwLvAWIC7wFiAu8BYgLwAWIC
8AFiAvABWwLwAVoC8AFaAvABWgLvAVsC7wFbAu8BZgLvAW0C7wFuAu8BbgLwAW4C8AFtAvAB
ZgLwAWYC8AFlAvABZgLvAWYC7wFmAu8BcQLvAXkC7wF5Au8BeQLwAXkC8AF5AvABcQLwAXEC
8AFxAvABcQLvAXEC7wFxAu8BfQLvAYQC7wGFAu8BhQLwAYUC8AGEAvABfQLwAX0C8AF8AvAB
fQLvAX0C7wF9Au8BiALvAYsC7wGLAu8BiwLwAYsC8AGLAvABiALwAYgC8AGIAvABiALvAYgC
7wGIAu8BBAAAAAYBAQAEAAAALQEDAAQAAAAtAQIABAAAAPABAAAEAAAAJwH//wMAAAAeAAgA
AAD6AgAAAQAAAAAAAAAEAAAALQEAAAQAAAAtAQQABAAAAAYBAgChAwAAOAUlAAwADAAMAAwA
DAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwA
DAAMAAwADAAMAAwAIQKyASECsgEhArMBIQKzASECswEhArMBIQKzASECswEgArMBIQKzASEC
sgEhArIBIwKyASMCsgEjArMBIwKzASMCswEjArMBIwKzASMCswEiArMBIwKzASMCsgEjArIB
JQKyASUCsgElArMBJgKzASUCswElArMBJQKzASUCswElArMBJQKzASUCsgElArIBJwKyAScC
sgEnArMBKAKzAScCswEnArMBJwKzAScCswEnArMBJwKzAScCsgEnArIBKQKyASkCsgEqArMB
KgKzASoCswEpArMBKQKzASkCswEpArMBKQKzASkCsgEpArIBKwKyASsCsgEsArMBLAKzASwC
swErArMBKwKzASsCswErArMBKwKzASsCsgErArIBLQKyAS0CsgEuArMBLgKzAS4CswEtArMB
LQKzAS0CswEtArMBLQKzAS0CsgEtArIBLwKyAS8CsgEwArMBMAKzATACswEvArMBLwKzAS8C
swEvArMBLwKzAS8CsgEvArIBMgKyATICsgEyArMBMgKzATICswEyArMBMgKzATECswExArMB
MQKzATICsgEyArIBNAKyATQCsgE0ArMBNAKzATQCswE0ArMBNAKzATMCswEzArMBMwKzATQC
sgE0ArIBNgKyATYCsgE2ArMBNgKzATYCswE2ArMBNgKzATUCswE1ArMBNQKzATYCsgE2ArIB
OAKyATgCsgE4ArMBOAKzATgCswE4ArMBOAKzATcCswE3ArMBNwKzATgCsgE4ArIBOgKyAToC
sgE6ArMBOgKzAToCswE6ArMBOgKzAToCswE5ArMBOgKzAToCsgE6ArIBPAKyATwCsgE8ArMB
PAKzATwCswE8ArMBPAKzATwCswE7ArMBPAKzATwCsgE8ArIBPgKyAT4CsgE+ArMBPwKzAT4C
swE+ArMBPgKzAT4CswE+ArMBPgKzAT4CsgE+ArIBQAKyAUACsgFAArMBQQKzAUACswFAArMB
QAKzAUACswFAArMBQAKzAUACsgFAArIBQgKyAUICsgFDArMBQwKzAUMCswFCArMBQgKzAUIC
swFCArMBQgKzAUICsgFCArIBRAKyAUQCsgFFArMBRQKzAUUCswFEArMBRAKzAUQCswFEArMB
RAKzAUQCsgFEArIBRgKyAUYCsgFHArMBRwKzAUcCswFGArMBRgKzAUYCswFGArMBRgKzAUYC
sgFGArIBSAKyAUgCsgFJArMBSQKzAUkCswFIArMBSAKzAUgCswFIArMBSAKzAUgCsgFIArIB
SwKyAUsCsgFLArMBSwKzAUsCswFLArMBSwKzAUoCswFKArMBSgKzAUsCsgFLArIBTQKyAU0C
sgFNArMBTQKzAU0CswFNArMBTQKzAUwCswFMArMBTAKzAU0CsgFNArIBTwKyAU8CsgFPArMB
TwKzAU8CswFPArMBTwKzAU4CswFOArMBTgKzAU8CsgFPArIBUQKyAVECsgFRArMBUQKzAVEC
swFRArMBUQKzAVACswFQArMBUAKzAVECsgFRArIBUwKyAVMCsgFTArMBUwKzAVMCswFTArMB
UwKzAVMCswFSArMBUwKzAVMCsgFTArIBVQKyAVUCsgFVArMBVgKzAVUCswFVArMBVQKzAVUC
swFUArMBVQKzAVUCsgFVArIBVwKyAVcCsgFXArMBWAKzAVcCswFXArMBVwKzAVcCswFXArMB
VwKzAVcCsgFXArIBWQKyAVkCsgFaArMBWgKzAVoCswFZArMBWQKzAVkCswFZArMBWQKzAVkC
sgFZArIBWwKyAVsCsgFcArMBXAKzAVwCswFbArMBWwKzAVsCswFbArMBWwKzAVsCsgFbArIB
XQKyAV0CsgFeArMBXgKzAV4CswFdArMBXQKzAV0CswFdArMBXQKzAV0CsgFdArIBXwKyAV8C
sgFgArMBYAKzAWACswFfArMBXwKzAV8CswFfArMBXwKzAV8CsgFfArIBYQKyAWECsgFiArMB
YgKzAWICswFhArMBYQKzAWECswFhArMBYQKzAWECsgFhArIBZAKyAWQCsgFkArMBZAKzAWQC
swFkArMBZAKzAWMCswFjArMBYwKzAWQCsgFkArIBZgKyAWYCsgFmArMBZgKzAWYCswFmArMB
ZgKzAWUCswFlArMBZQKzAWYCsgFmArIBaAKyAWgCsgFoArMBaAKzAWgCswFoArMBaAKzAWcC
swFnArMBZwKzAWgCsgFoArIBagKyAWoCsgFqArMBagKzAWoCswFqArMBagKzAWkCswFpArMB
aQKzAWoCsgFqArIBbAKyAWwCsgFsArMBbAKzAWwCswFsArMBbAKzAWwCswFrArMBbAKzAWwC
sgFsArIBBAAAAAYBAQAEAAAALQEDAAQAAAAtAQIABAAAAPABAAAEAAAAJwH//wMAAAAeAAgA
AAD6AgAAAQAAAAAAAAAEAAAALQEAAAQAAAAtAQQABAAAAAYBAgChAwAAOAUlAAwADAAMAAwA
DAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwA
DAAMAAwADAAMAAwAIQLRASEC0QEhAtEBIQLRASEC0gEhAtIBIQLSASEC0gEgAtEBIQLRASEC
0QEhAtEBIwLRASMC0QEjAtEBIwLRASMC0gEjAtIBIwLSASMC0gEiAtEBIwLRASMC0QEjAtEB
JQLRASUC0QElAtEBJgLRASUC0gElAtIBJQLSASUC0gElAtEBJQLRASUC0QElAtEBJwLRAScC
0QEnAtEBKALRAScC0gEnAtIBJwLSAScC0gEnAtEBJwLRAScC0QEnAtEBKQLRASkC0QEqAtEB
KgLRASoC0gEpAtIBKQLSASkC0gEpAtEBKQLRASkC0QEpAtEBKwLRASsC0QEsAtEBLALRASwC
0gErAtIBKwLSASsC0gErAtEBKwLRASsC0QErAtEBLQLRAS0C0QEuAtEBLgLRAS4C0gEtAtIB
LQLSAS0C0gEtAtEBLQLRAS0C0QEtAtEBLwLRAS8C0QEwAtEBMALRATAC0gEvAtIBLwLSAS8C
0gEvAtEBLwLRAS8C0QEvAtEBMgLRATIC0QEyAtEBMgLRATIC0gEyAtIBMgLSATEC0gExAtEB
MQLRATIC0QEyAtEBNALRATQC0QE0AtEBNALRATQC0gE0AtIBNALSATMC0gEzAtEBMwLRATQC
0QE0AtEBNgLRATYC0QE2AtEBNgLRATYC0gE2AtIBNgLSATUC0gE1AtEBNQLRATYC0QE2AtEB
OALRATgC0QE4AtEBOALRATgC0gE4AtIBOALSATcC0gE3AtEBNwLRATgC0QE4AtEBOgLRAToC
0QE6AtEBOgLRAToC0gE6AtIBOgLSAToC0gE5AtEBOgLRAToC0QE6AtEBPALRATwC0QE8AtEB
PALRATwC0gE8AtIBPALSATwC0gE7AtEBPALRATwC0QE8AtEBPgLRAT4C0QE+AtEBPwLRAT4C
0gE+AtIBPgLSAT4C0gE+AtEBPgLRAT4C0QE+AtEBQALRAUAC0QFAAtEBQQLRAUAC0gFAAtIB
QALSAUAC0gFAAtEBQALRAUAC0QFAAtEBQgLRAUIC0QFDAtEBQwLRAUMC0gFCAtIBQgLSAUIC
0gFCAtEBQgLRAUIC0QFCAtEBRALRAUQC0QFFAtEBRQLRAUUC0gFEAtIBRALSAUQC0gFEAtEB
RALRAUQC0QFEAtEBRgLRAUYC0QFHAtEBRwLRAUcC0gFGAtIBRgLSAUYC0gFGAtEBRgLRAUYC
0QFGAtEBSALRAUgC0QFJAtEBSQLRAUkC0gFIAtIBSALSAUgC0gFIAtEBSALRAUgC0QFIAtEB
SwLRAUsC0QFLAtEBSwLRAUsC0gFLAtIBSwLSAUoC0gFKAtEBSgLRAUsC0QFLAtEBTQLRAU0C
0QFNAtEBTQLRAU0C0gFNAtIBTQLSAUwC0gFMAtEBTALRAU0C0QFNAtEBTwLRAU8C0QFPAtEB
TwLRAU8C0gFPAtIBTwLSAU4C0gFOAtEBTgLRAU8C0QFPAtEBUQLRAVEC0QFRAtEBUQLRAVEC
0gFRAtIBUQLSAVAC0gFQAtEBUALRAVEC0QFRAtEBUwLRAVMC0QFTAtEBUwLRAVMC0gFTAtIB
UwLSAVMC0gFSAtEBUwLRAVMC0QFTAtEBVQLRAVUC0QFVAtEBVgLRAVUC0gFVAtIBVQLSAVUC
0gFUAtEBVQLRAVUC0QFVAtEBVwLRAVcC0QFXAtEBWALRAVcC0gFXAtIBVwLSAVcC0gFXAtEB
VwLRAVcC0QFXAtEBWQLRAVkC0QFaAtEBWgLRAVoC0gFZAtIBWQLSAVkC0gFZAtEBWQLRAVkC
0QFZAtEBWwLRAVsC0QFcAtEBXALRAVwC0gFbAtIBWwLSAVsC0gFbAtEBWwLRAVsC0QFbAtEB
XQLRAV0C0QFeAtEBXgLRAV4C0gFdAtIBXQLSAV0C0gFdAtEBXQLRAV0C0QFdAtEBXwLRAV8C
0QFgAtEBYALRAWAC0gFfAtIBXwLSAV8C0gFfAtEBXwLRAV8C0QFfAtEBYQLRAWEC0QFiAtEB
YgLRAWIC0gFhAtIBYQLSAWEC0gFhAtEBYQLRAWEC0QFhAtEBZALRAWQC0QFkAtEBZALRAWQC
0gFkAtIBZALSAWMC0gFjAtEBYwLRAWQC0QFkAtEBZgLRAWYC0QFmAtEBZgLRAWYC0gFmAtIB
ZgLSAWUC0gFlAtEBZQLRAWYC0QFmAtEBaALRAWgC0QFoAtEBaALRAWgC0gFoAtIBaALSAWcC
0gFnAtEBZwLRAWgC0QFoAtEBagLRAWoC0QFqAtEBagLRAWoC0gFqAtIBagLSAWkC0gFpAtEB
aQLRAWoC0QFqAtEBbALRAWwC0QFsAtEBbALRAWwC0gFsAtIBbALSAWwC0gFrAtEBbALRAWwC
0QFsAtEBBAAAAAYBAQAEAAAALQEDAAQAAAAtAQIABAAAAPABAAAEAAAAJwH//xwAAAD7Auv/
AAAAAAAAkAEAAAAAAEAAEEx1eGkgU2FucwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAC0B
AAAEAAAALgEYAAQAAAACAQEABQAAAAkCAAAAAg8AAAAyCqwBKgIFAAAARG9jSWRuDwALAAkA
BgAKAAQAAAAuAQAABAAAAC0BBQAEAAAA8AEAABwAAAD7Auv/AAAAAAAAkAEAAAAAAEAAEEx1
eGkgU2FucwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAC0BAAAEAAAALgEYAAQAAAACAQEA
BQAAAAkCAAAAAhAAAAAyCscBKQIGAAAARnJlcVNrDAAHAAkACgALAAoABAAAAC4BAAAEAAAA
LQEFAAQAAADwAQAAHAAAAPsC6/8AAAAAAACQAQAAAAAAQAAQTHV4aSBTYW5zAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAEAAAALQEAAAQAAAAuARgABAAAAAIBAQAFAAAACQIAAAACCgAAADIK
OAE5AgIAAABURgwADAAEAAAALgEAAAQAAAAtAQUABAAAAPABAAAcAAAA+wLv/wAAAAAAAJAB
AAAAAABAABBMdXhpIFNhbnMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAtAQAABAAAAC4B
GAAEAAAAAgEBAAUAAAAJAgAAAAIKAAAAMgo/AVECAgAAAHNrBwAIAAQAAAAuAQAABAAAAC0B
BQAEAAAA8AEAABwAAAD7Auv/AAAAAAAAkAEAAAAAAEAAEEx1eGkgU2FucwAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAABAAAAC0BAAAEAAAALgEYAAQAAAACAQEABQAAAAkCAAAAAhAAAAAyCuYB
KgIGAAAAUHJveFNrDAAHAAsACgALAAoABAAAAC4BAAAEAAAALQEFAAQAAADwAQAABAAAAPAB
BAADAAAAHgAHAAAA/AIAAAC4/wAAAAQAAAAtAQAABAAAAC0BAQAOAAAAJAMFAEgDUQFIA7wC
mwO8ApsDUQFIA1EBBAAAAC0BAgAEAAAALQEDAAgAAAD6AgAAAQAAAAAAAAAEAAAALQEEAAQA
AAAtAQYADAAAACQDBABIA1EBSAO8ApsDvAKbA1EBBAAAAC0BAgAEAAAALQEDAAQAAADwAQQA
BAAAACcB//8cAAAA+wLr/wAAAAAAAJABAAAAAABAABBMdXhpIFNhbnMAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAQAAAAtAQQABAAAAC4BGAAEAAAAAgEBAAUAAAAJAgAAAAIJAAAAMgpCAUoD
AQAAAC4ABQAEAAAALgEAAAQAAAAtAQUABAAAAPABBAAcAAAA+wLr/wAAAAAAAJABAAAAAABA
ABBMdXhpIFNhbnMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAtAQQABAAAAC4BGAAEAAAA
AgEBAAUAAAAJAgAAAAIMAAAAMgpCAU8DAwAAAHByeAAKAAcACgAEAAAALgEAAAQAAAAtAQUA
BAAAAPABBAAcAAAA+wLr/wAAAAAAAJABAAAAAABAABBMdXhpIFNhbnMAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAQAAAAtAQQABAAAAC4BGAAEAAAAAgEBAAUAAAAJAgAAAAINAAAAMgpCAW8D
BAAAAGZpbGUHAAYABgAJAAQAAAAuAQAABAAAAC0BBQAEAAAA8AEEAAQAAADwAQAAAwAAAB4A
CAAAAPoCAAABAAAAAAAAAAQAAAAtAQAABwAAAPwCAAAAAAAAAAAEAAAALQEEAAQAAAAGAQIA
FAMAADgFIAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwA
DAAMAAwADAAMAAwADAAMAAQAiwKVAYsClQGLApUBiwKVAYoClQGKApUBigKVAYoClAGLApQB
iwKUAYsClQGLApUBiwKYAYsCmAGLApgBiwKYAYoCmAGKApgBigKYAYoClwGLApcBiwKXAYsC
mAGLApgBiwKaAYsCmgGLApsBiwKbAYoCmwGKApoBigKaAYoCmgGLApoBiwKaAYsCmgGLApoB
iwKdAYsCnQGLAp4BiwKeAYoCngGKAp0BigKdAYoCnQGLApwBiwKdAYsCnQGLAp0BiwKgAYsC
oAGLAqABiwKhAYoCoAGKAqABigKgAYoCnwGLAp8BiwKfAYsCoAGLAqABiwKjAYsCowGLAqMB
iwKjAYoCowGKAqMBigKjAYoCogGLAqIBiwKiAYsCowGLAqMBiwKlAYsCpQGLAqYBiwKmAYoC
pgGKAqUBigKlAYoCpQGLAqUBiwKlAYsCpQGLAqUBiwKoAYsCqAGLAqkBiwKpAYoCqQGKAqgB
igKoAYoCqAGLAqgBiwKoAYsCqAGLAqgBiwKrAYsCqwGLAqwBiwKsAYoCrAGKAqsBigKrAYoC
qgGLAqoBiwKqAYsCqwGLAqsBiwKuAYsCrgGLAq4BiwKuAYoCrgGKAq4BigKuAYoCrQGLAq0B
iwKtAYsCrgGLAq4BiwKxAYsCsQGLArEBiwKxAYoCsQGKArEBigKxAYoCsAGLArABiwKwAYsC
sQGLArEBiwKzAYsCswGLArQBiwK0AYoCtAGKArMBigKzAYoCswGLArMBiwKzAYsCswGLArMB
iwK2AYsCtgGLArcBiwK3AYoCtwGKArYBigK2AYoCtgGLArUBiwK2AYsCtgGLArYBiwK5AYsC
uQGLArkBiwK6AYoCuQGKArkBigK5AYoCuAGLArgBiwK4AYsCuQGLArkBiwK8AYsCvAGLArwB
iwK8AYoCvAGKArwBigK8AYoCuwGLArsBiwK7AYsCvAGLArwBiwK+AYsCvgGLAr8BiwK/AYoC
vwGKAr4BigK+AYoCvgGLAr4BiwK+AYsCvgGLAr4BiwLBAYsCwQGLAsIBiwLCAYoCwgGKAsEB
igLBAYoCwQGLAsEBiwLBAYsCwQGLAsEBiwLEAYsCxAGLAsUBiwLFAYoCxQGKAsQBigLEAYoC
xAGLAsMBiwLEAYsCxAGLAsQBiwLHAYsCxwGLAscBiwLHAYoCxwGKAscBigLHAYoCxgGLAsYB
iwLGAYsCxwGLAscBiwLKAYsCygGLAsoBiwLKAYoCygGKAsoBigLKAYoCyQGLAskBiwLJAYsC
ygGLAsoBiwLMAYsCzAGLAs0BiwLNAYoCzQGKAswBigLMAYoCzAGLAswBiwLMAYsCzAGLAswB
iwLPAYsCzwGLAtABiwLQAYoC0AGKAs8BigLPAYoCzwGLAs4BiwLPAYsCzwGLAs8BiwLSAYsC
0gGLAtIBiwLTAYoC0gGKAtIBigLSAYoC0QGLAtEBiwLRAYsC0gGLAtIBiwLVAYsC1QGLAtUB
iwLVAYoC1QGKAtUBigLVAYoC1AGLAtQBiwLUAYsC1QGLAtUBiwLXAYsC1wGLAtgBiwLYAYoC
2AGKAtcBigLXAYoC1wGLAtcBiwLXAYsC1wGLAtcBiwLaAYsC2gGLAtsBiwLbAYoC2wGKAtoB
igLaAYoC2gGLAtoBiwLaAYsC2gGLAtoBiwLdAYsC3QGLAt4BiwLeAYoC3gGKAt0BigLdAYoC
3QGLAtwBiwLdAYsC3QGLAt0BiwLgAYsC4AGLAuABiwLhAYoC4AGKAuABigLgAYoC3wGLAt8B
iwLfAYsC4AGLAuABiwLjAYsC4wGLAuMBiwLjAYoC4wGKAuMBigLjAYoC4gGLAuIBiwLiAYsC
4wGLAuMBiwLlAYsC5QGLAuYBiwLmAYoC5gGKAuUBigLlAYoC5QGLAuUBiwLlAYsC5QGLAuUB
iwLoAYsC6AGLAukBiwLpAYoC6QGKAugBigLoAYoC6AGLAucBiwLoAYsC6AGLAugBjgLqAYsC
8AGIAuoBjgLqAQQAAAAGAQEABAAAAC0BAwAEAAAALQECAAQAAADwAQAABAAAACcB//8EAAAA
8AEEAAMAAAAeAAcAAAD8AgAAALj/AAAABAAAAC0BAAAEAAAALQEBAA4AAAAkAwUATwPFAE8D
AQGqAwEBqgPFAE8DxQAEAAAALQECAAQAAAAtAQMACAAAAPoCAAABAAAAAAAAAAQAAAAtAQQA
BAAAAC0BBgAIAAAAJQMCAIsCugFIA9AABAAAAC0BAgAEAAAALQEDAAQAAADwAQQACAAAAPoC
AAABAAAAAAAAAAQAAAAtAQQABAAAAC0BBgAMAAAAJAMEAE8DxQCqA8UAqgMBAU8DAQEEAAAA
LQECAAQAAAAtAQMABAAAAPABBAAEAAAAJwH//xwAAAD7Auv/AAAAAAAAkAEAAAAAAEAAEEx1
eGkgU2FucwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAC0BBAAEAAAALgEYAAQAAAACAQEA
BQAAAAkCAAAAAhMAAAAyCuEAXQMIAAAAVXNlZCB0byAPAAgACQAKAAUABgALAAUABAAAAC4B
AAAEAAAALQEFAAQAAADwAQQAHAAAAPsC6/8AAAAAAACQAQAAAAAAQAAQTHV4aSBTYW5zAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAALQEEAAQAAAAuARgABAAAAAIBAQAFAAAACQIAAAAC
EAAAADIK/gBjAwYAAABtZXJnZSAQAAkABwAKAAkABgAEAAAALgEAAAQAAAAtAQUABAAAAPAB
BAAcAAAA+wLr/wAAAAAAAJABAAAAAABAABBMdXhpIFNhbnMAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAQAAAAtAQQABAAAAC4BGAAEAAAAAgEBAAUAAAAJAgAAAAITAAAAMgobAVoDCAAAAHBv
c3RpbmdzCgALAAgABgAGAAoACgAIAAQAAAAuAQAABAAAAC0BBQAEAAAA8AEEAAQAAADwAQAA
AwAAAB4ACAAAAPoCAAABAAAAAAAAAAQAAAAtAQAABwAAAPwCAAAAAAAAAAAEAAAALQEEAAQA
AAAGAQIAogAAADgFAgBKAAQAbwLcAYMC3QGWAt4BoALfAakC4AGxAuEBuQLjAcEC5AHHAuYB
zQLoAdIC6QHWAusB2QLtAdkC7QHbAu8B2wLvAdwC8QHcAvMB3ALzAd4C9QHeAvUB4QL3AeUC
+QHpAvoB7wL8AfYC/gH9Av8BBQMAAg4DAgIXAwMCIAMEAjMDBQJDAwUCQwMGAkQDBgJDAwcC
QwMHAjMDBgIgAwUCFgMEAg0DAwIFAwIC/QIAAvYC/wHvAv0B6QL8AeQC+gHgAvgB3QL2Ad0C
9gHbAvQB2wL0AdoC8gHaAvAB2gLwAdgC7gHYAu4B1QLtAdEC6wHNAukBxwLnAcAC5gG5AuQB
sQLjAakC4QGgAuABlgLfAYMC3gFuAt4BbgLdAW4C3QFuAtwBbwLcAW8C3AFCAwMCSAMGAkID
CQJCAwMCBAAAAAYBAQAEAAAALQEDAAQAAAAtAQIABAAAAPABAAAEAAAAJwH//wMAAAAeAAgA
AAD6AgAAAQAAAAAAAAAEAAAALQEAAAQAAAAtAQQABAAAAAYBAgDmAAAAOAUCAGwABABtAr4B
bwK9AW8CvQFxAr0BcQK9AXUCuwF1ArsBegK3AXkCtwF9ArMBfQKzAYACrQGDAqcBgwKnAYQC
oQGEAqEBhQKaAYUCmwGEApQBhAKUAYICjQGCAo4BgAKHAYACiAF8AoIBfAKCAXgCfgF4An4B
cwJ6AXMCegFuAngBbgJ4AWsCdwFsAncBaQJ3AWYCdwFmAncBYwJ2AWMCdgFhAnUBYAJ0AV4C
cwFbAnABWQJtAVcCagFVAmYBUQJeAU4CVQFMAkwBTAJGAUwCRgFMAkYBTQJGAU0CRgFNAksB
TwJVAVICXgFWAmYBWAJpAVoCbAFcAm8BXwJxAWECcwFhAnMBZAJ1AWQCdQFmAnYBZgJ2AWkC
dgFsAnYBbAJ2AW4CdwFvAncBdAJ5AXQCeQF5An0BeQJ9AX0CgQF9AoEBgQKHAYEChwGEAo0B
hAKNAYYClAGGApQBhgKaAYYCmgGGAqEBhgKhAYQCqAGEAqgBggKuAX4CswF+ArQBewK4AXoC
uAF2ArwBdgK8AXICvgFxAr4BbwK/AW8CvwFtAr8BbAK/AWwCvgFsAr4BbQK+AW0CvgFKAkgB
TAJCAU8CRwFKAkgBBAAAAAYBAQAEAAAALQEDAAQAAAAtAQIABAAAAPABAAAEAAAAJwH//wMA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABpZGUgVGl0bGVzAAMAAAAB
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD2DyIA
AAAUAAAAX8CR43JYAAAKAPQDAwCeAHByYXNlbmppdG0IAAAAcAByAGEAcwBlAG4AagBpAHQA
bQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAEMAdQByAHIAZQBuAHQAIABVAHMAZQByAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAaAAIA////////////////AAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAACQAAAD4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////
//8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAP///////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////AAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA


----------MailBlocks_8C83CE26C6DB040_15C4_AA_mblk-d48.sysops.aol.com
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
----------MailBlocks_8C83CE26C6DB040_15C4_AA_mblk-d48.sysops.aol.com--

From java-user-return-20463-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 03 17:37:00 2006
Return-Path: <java-user-return-20463-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26886 invoked from network); 3 May 2006 17:36:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2006 17:36:59 -0000
Received: (qmail 21441 invoked by uid 500); 3 May 2006 17:36:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21400 invoked by uid 500); 3 May 2006 17:36:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21389 invoked by uid 99); 3 May 2006 17:36:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 10:36:51 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [17.250.248.181] (HELO smtpout.mac.com) (17.250.248.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 10:36:50 -0700
Received: from mac.com (smtpin02-en2 [10.13.10.147])
	by smtpout.mac.com (Xserve/8.12.11/smtpout11/MantshX 4.0) with ESMTP id k43HaRni002233
	for <java-user@lucene.apache.org>; Wed, 3 May 2006 10:36:28 -0700 (PDT)
Received: from [131.111.248.102] (md403.quns.cam.ac.uk [131.111.248.102])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin02/MantshX 4.0) with ESMTP id k43HaP43022229
	for <java-user@lucene.apache.org>; Wed, 3 May 2006 10:36:26 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v749.3)
In-Reply-To: <8AEF5908-F9A3-4CDA-A25D-CD501583EC81@mac.com>
References: <8AEF5908-F9A3-4CDA-A25D-CD501583EC81@mac.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E893AF37-54EF-41CF-BE1D-31467A850393@mac.com>
Content-Transfer-Encoding: 7bit
From: Michael Dodson <mgdodson@mac.com>
Subject: Re: ArrayIndexOutOfBoundsException w/ ImageSearcher
Date: Wed, 3 May 2006 18:36:24 +0100
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.749.3)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I think I've fixed my own problem.  I was using 1.4.3 in my code and  
the index was using 1.9.1.  I updated and no longer get the error.   
Is this consistent with other people's experience though?  I want to  
make sure this was actually the problem so the error doesn't  
resurface later.

Thanks.

Mike

On May 3, 2006, at 12:46 AM, Michael Dodson wrote:

> Hi,
>
> I'm getting an ArrayIndexOutOfBoundsException when I try to create  
> an instance of IndexSearcher with an FSDirectory.
>
> for IndexSearcher searcher = new IndexSearcher(directory);
>
> I get the following stack trace:
>
> Exception in thread "main"  
> java.lang.ArrayIndexOutOfBoundsException: -1
> 	at java.util.ArrayList.get(ArrayList.java:323)
> 	at org.apache.lucene.index.FieldInfos.fieldInfo(FieldInfos.java:155)
> 	at org.apache.lucene.index.FieldInfos.fieldName(FieldInfos.java:151)
> 	at org.apache.lucene.index.SegmentTermEnum.readTerm 
> (SegmentTermEnum.java:149)
> 	at org.apache.lucene.index.SegmentTermEnum.next 
> (SegmentTermEnum.java:115)
> 	at org.apache.lucene.index.TermInfosReader.readIndex 
> (TermInfosReader.java:86)
> 	at org.apache.lucene.index.TermInfosReader.<init> 
> (TermInfosReader.java:45)
> 	at org.apache.lucene.index.SegmentReader.initialize 
> (SegmentReader.java:112)
> 	at org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java: 
> 89)
> 	at org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:118)
> 	at org.apache.lucene.store.Lock$With.run(Lock.java:109)
> 	at org.apache.lucene.index.IndexReader.open(IndexReader.java:111)
> 	at org.apache.lucene.index.IndexReader.open(IndexReader.java:106)
> 	at org.apache.lucene.search.IndexSearcher.<init> 
> (IndexSearcher.java:43)
> 	at diploma.project.searching.ImageSearcher.contentSearch 
> (ImageSearcher.java:356)
> 	at diploma.project.searching.ImageSearcher.searchIndex 
> (ImageSearcher.java:136)
> 	at diploma.project.searching.ImageSearcher.main(ImageSearcher.java: 
> 666)
>
> Where the last three lines are traced into the class where I'm  
> trying to create the instance.  It is possible the index I am  
> trying to open has been created with a different version of  
> lucene.  I'm not sure if that could create this error but it was my  
> best guess.
>
> Thanks,
>
> Mike


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20464-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 03 18:02:11 2006
Return-Path: <java-user-return-20464-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40785 invoked from network); 3 May 2006 18:01:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2006 18:01:58 -0000
Received: (qmail 78282 invoked by uid 500); 3 May 2006 18:01:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78198 invoked by uid 500); 3 May 2006 18:01:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78109 invoked by uid 99); 3 May 2006 18:01:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 11:01:28 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 11:01:26 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 3DE9C5B771; Wed,  3 May 2006 11:00:58 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 38C407F403
	for <java-user@lucene.apache.org>; Wed,  3 May 2006 11:00:58 -0700 (PDT)
Date: Wed, 3 May 2006 11:00:58 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Wildcard with Words Ending in 'e'
In-Reply-To: <4458B24F.9020902@intrallect.com>
Message-ID: <Pine.LNX.4.58.0605031045481.25892@hal.rescomp.berkeley.edu>
References: <4458B24F.9020902@intrallect.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I'm going to take a shot in the dark and guess that the field in question
is analyzed using some form of Stemming which strips off trailing "e"
characters (Porter Stemmer seems to do this).

In the past, there was a bug in the way WildcardQuery works, so that the
metacharacter "?" matches 0 or 1 characters even though it's documented to
match exactly one character -- so "peopl?" would match both "peopl" and
peoplX" -- which wasn't correct.

   http://issues.apache.org/jira/browse/LUCENE-306

If i'm right about why you are encountering this problem, then your test
case isn't really valid.  Either you should do you wildcard queries on a
field that isn't stemmed, or you should take the stemming into account
(somehow ... if you think of a good way i'm sure others would be
interested) when building your wildcard query.

Keep in mind that trying to use wildcard queries on a field which uses
porter stemming isn't generally a good idea regardless of wether you like
the old behavior of "?" or not ... if your goal is to find documents
containing words like "elephant" and "elephantine" so you search for
"elephan*" you are going to miss any documents containing "elephant"
because Porter Stemmer trims that to "eleph"


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20465-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 03 19:35:40 2006
Return-Path: <java-user-return-20465-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9373 invoked from network); 3 May 2006 19:35:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2006 19:35:40 -0000
Received: (qmail 84310 invoked by uid 500); 3 May 2006 19:35:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84127 invoked by uid 500); 3 May 2006 19:35:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84026 invoked by uid 99); 3 May 2006 19:35:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 12:35:29 -0700
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=MAILTO_TO_SPAM_ADDR,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of koji.sekiguchi@m4.dion.ne.jp designates 219.125.112.16 as permitted sender)
Received: from [219.125.112.16] (HELO nm05omta05f.dion.ne.jp) (219.125.112.16)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 03 May 2006 12:35:28 -0700
Received: from sekiguchi ([59.135.108.171])
	by nm05mta.dion.ne.jp
	id <20060504043505958.MAE2.83C7B10@nm05mta.dion.ne.jp>;
	Thu, 4 May 2006 04:35:05 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>,
	<sdhjc@163.com>
Subject: RE: Optimize process does't care the maxMergeDocs value?
Date: Thu, 4 May 2006 04:35:02 +0900
Message-ID: <PKEIKOCKCHNIIHNECPCCKEEOCGAA.koji.sekiguchi@m4.dion.ne.jp>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <477a38290605030721r25c284b2p2e50a202defe8294@mail.gmail.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

AFAIK optimize() will merge existing segments into single segment,
regardless of the value of maxMergeDocs.

Koji

========================================
SEKIGUCHI, Koji
RONDHUIT Co.,Ltd.
9F AIG Bldg 1-1-3 Marunouchi
Chiyoda-ku, Tokyo 100-0005
TEL 03-5288-5927
FAX 03-5288-5353
http://www.rondhuit.com/


> -----Original Message-----
> From: he ivan [mailto:ivanhe1981@gmail.com]
> Sent: Wednesday, May 03, 2006 11:21 PM
> To: java-user@lucene.apache.org
> Subject: Optimize process does't care the maxMergeDocs value?
>
>
> optimize the index will merge existing segments into a single one;does the
> final segment limit by the maxMergeDocs value also?
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20466-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 03 19:52:35 2006
Return-Path: <java-user-return-20466-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19173 invoked from network); 3 May 2006 19:52:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2006 19:52:34 -0000
Received: (qmail 30157 invoked by uid 500); 3 May 2006 19:52:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30131 invoked by uid 500); 3 May 2006 19:52:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30120 invoked by uid 99); 3 May 2006 19:52:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 12:52:28 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [200.199.23.120] (HELO gonzaga.cesar.org.br) (200.199.23.120)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 12:52:25 -0700
Received: (qmail 65591 invoked from network); 3 May 2006 19:59:28 -0000
Received: from unknown (HELO pinho) (172.27.71.173)
  by gonzaga.cesar.org.br with SMTP; 3 May 2006 19:59:28 -0000
Message-ID: <002401c66eec$16420340$ad471bac@intraet.cesar.org.br>
From: "Rodrigo Marcuschi" <rodrigo.marcuschi@cesar.org.br>
To: <java-user@lucene.apache.org>
Subject: Problem with lucene 1.9.1
Date: Wed, 3 May 2006 16:59:28 -0300
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0021_01C66ED2.F09A2820"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2869
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0021_01C66ED2.F09A2820
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello,=20

I am having problems using lucene 1.9.1. I was using 1.4.3 successfully, =
and tried upgrading to 1.9.1. As I changed my source code so I would no =
longer be invocating deprecated methods, the application no longer =
worked properly, i.e. the IndexModifier was no longer storing documents. =
Here is my source code:

-------------------------------------------------------------------------=
------------------------------
package org.cesar.trulog.search.api;

import java.io.File;
import java.io.IOException;

import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.index.IndexModifier;

public class UserIndexer {

 public static final String ID =3D "userId";
 public static final String KEYWORDS =3D "searchKeywords";
 public static final String USERNAME =3D "searchUsername";

 private final File index;
 private final Analyzer analyzer;
 private IndexModifier modifier;=20

 public UserIndexer(final Analyzer analyzer, final String dir) throws =
IOException {
      index =3D new File(dir);
 =20
      this.analyzer =3D analyzer;
      synchronized(UserIndexer.class) {
           if (!index.exists()) {
                index.mkdirs();
           }
      }
 =20
      this.modifier =3D new IndexModifier(this.index, this.analyzer, =
true);
 }

 public UserIndexer(final String dir) throws IOException {
      this(new StandardAnalyzer(), dir);
 }
=20
 private Document getDocument(final SearchItem searchItem) {
      Document doc =3D new Document();=20
      doc.add(new Field(ID, ((Integer) =
searchItem.getValue(SearchItemField.ID)).toString(), Field.Store.YES, =
Field.Index.UN_TOKENIZED));
      doc.add(new Field(KEYWORDS, (String) =
searchItem.getValue(SearchItemField.KEYWORD), Field.Store.YES, =
Field.Index.TOKENIZED));
      doc.add(new Field(USERNAME, (String) =
searchItem.getValue(SearchItemField.NAME), Field.Store.YES, =
Field.Index.TOKENIZED));
 =20
      return doc;
 }
=20
 public synchronized void add(final SearchItem searchItem) throws =
IOException {=20
     modifier.deleteDocuments(new Term(ID, ((Integer) =
searchItem.getValue(SearchItemField.ID)).toString())); =20
     Document doc =3D this.getDocument(searchItem);
     modifier.addDocument(doc);
     modifier.flush();
     System.out.println(modifier.docCount() + " docs in index");
     modifier.close();  =20
 }=20
}

-------------------------------------------------------------------------=
------------------------------

SearchItem is a custom class that has the data to be used by lucene. The =
relevant method in there is=20

void add(final SearchItem searchItem)=20

which calls lucene's 'addDocument' method. It used to work back when I =
was using Field.Keyword, Field.Text and modifier.delete --- but all =
these got deprecated, so.... Here's what happens: no matter how many =
documents I add, all I get is '1 docs in index'. If I DON'T close the =
modifier, I get the right results 2, 3, 4 docs in index etc --- but if =
the application is restarted, the docs are lost, i.e. a search that =
should return 2 or 3 results returns no result at all.

Any ideas where to start? What to fix? If I should go back using the =
deprecated methods? I tried using FSDirectory instead of File, didn't =
work. I tried not deleting the documents before adding them, it didn't =
work. I tried using a custom analyzer, it didn't work. I'm running out =
of ideas.

Thank you very much for your attention,
    Rodrigo
------=_NextPart_000_0021_01C66ED2.F09A2820--


From java-user-return-20467-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 03 20:35:13 2006
Return-Path: <java-user-return-20467-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46957 invoked from network); 3 May 2006 20:35:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2006 20:35:13 -0000
Received: (qmail 33098 invoked by uid 500); 3 May 2006 20:35:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33054 invoked by uid 500); 3 May 2006 20:35:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33043 invoked by uid 99); 3 May 2006 20:35:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 13:35:05 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.207.119.238] (HELO mail.netsweeper.com) (66.207.119.238)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 13:35:05 -0700
Received: from kobele.netsweeper.com ([192.168.1.181])
	by mail.netsweeper.com (8.12.11/8.12.11) with ESMTP id k43KYRHi026264
	for <java-user@lucene.apache.org>; Wed, 3 May 2006 16:34:28 -0400
From: Martin Kobele <martin.kobele@netsweeper.com>
Reply-To: martin.kobele@netsweeper.com
Organization: Netsweeper Inc
To: java-user@lucene.apache.org
Subject: using search instead of explain
Date: Wed, 3 May 2006 16:35:04 -0400
User-Agent: KMail/1.9.1
X-Face: 'Hg*nnc?-\\wB.#~W"O5hQ,b%:&[TGXGb4s<t+.W~W!/_mV@xzrS=pN0(ETzKvX3^%eqTj
	.#{UNfQz^hwgOKc.s#rw!,7^!mGYLwvK
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605031635.05053.martin.kobele@netsweeper.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

at the moment we match a query with a document with explain. We consider the 
document as matched if the Explanation.getValue() is above a certain value (> 
0.001)

Now we want to use Search.search(Query, HitCollection). 
HitCollection adds the document to a BitSet as soon as the score is non-zero.

Is there any relation between the value of the explanation and the score?

Thanks!

Regards,
Martin Kobele


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20468-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 03 21:13:21 2006
Return-Path: <java-user-return-20468-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71739 invoked from network); 3 May 2006 21:13:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2006 21:13:21 -0000
Received: (qmail 13169 invoked by uid 500); 3 May 2006 21:13:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13125 invoked by uid 500); 3 May 2006 21:13:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13102 invoked by uid 99); 3 May 2006 21:13:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 14:13:14 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [62.116.32.102] (HELO eris.sysfrog.org) (62.116.32.102)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 14:13:13 -0700
Received: from a103030.upc-a.chello.nl ([62.163.103.30] helo=pico.sysfrog.org)
	by eris.sysfrog.org with esmtpsa (TLS-1.0:RSA_AES_256_CBC_SHA:32)
	(Exim 4.50)
	id 1FbOeP-0000bT-DL
	for java-user@lucene.apache.org; Wed, 03 May 2006 23:12:49 +0200
Date: Wed, 3 May 2006 23:14:11 +0200
From: =?utf-8?Q?G=C3=BCnther?= Starnberger <gst@sysfrog.org>
To: java-user@lucene.apache.org
Subject: Re: max_score(multi_valued_field) function?
Message-ID: <20060503211411.GE14489@sysfrog.org>
References: <20060502202348.GH5060@sysfrog.org> <Pine.LNX.4.58.0605021345570.27426@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
	protocol="application/pgp-signature"; boundary="4zI0WCX1RcnW9Hbu"
Content-Disposition: inline
In-Reply-To: <Pine.LNX.4.58.0605021345570.27426@hal.rescomp.berkeley.edu>
User-Agent: Mutt/1.5.11
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--4zI0WCX1RcnW9Hbu
Content-Type: text/plain; charset=utf-8
Content-Disposition: inline

On Tue, May 02, 2006 at 01:57:46PM -0700, Chris Hostetter wrote:

> As far as I can figure, your best bet really is to use a seperate
> field for each title -- but instead of combining the queries into a
> BooleanQuery, use a DisjunctionMaxQuery with a tiebreaker value of
> 0.0f ... the whole purpose of that query is to score documents based
> on the maximum score of a sub query, but you still have to make the
> sub queries your self, and there's no easy way to make a query that
> only searches the first "chunk" of terms from a field.

I don't understand what you mean with "first 'chunk' of terms from a
field". I actually tried to implement this method, but unfortunately I
face yet another problem.

Document 1:
Title-1: Rijksmuseum
Title-2: Rijksmuseum Amsterdam

Document 2:
Title-1: Amsterdam
Title-2: NLAMS

Document 1 gets the higher score in this case (when I do a search on
'Amsterdam'). The reason is that the term 'Amsterdam' has a higher
docFreq in Title-1 than in Title-2 (as Title-2 is only seldom used).

I think if I combine your .setOmitNorms(true) suggestion with this
second suggestion it may actually work - that will be my next attempt.

bye,
/gst

--4zI0WCX1RcnW9Hbu
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: Digital signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.2.2 (GNU/Linux)

iD8DBQFEWR0jZtF7I/+gjcERAuYfAJ9bDf5EOdjX5JJJ7aIgm+uIrVsVMQCZAevX
1VwYTRquV09DKRAMFmmcR0o=
=dMWq
-----END PGP SIGNATURE-----

--4zI0WCX1RcnW9Hbu--

From java-user-return-20469-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 03 21:18:00 2006
Return-Path: <java-user-return-20469-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74736 invoked from network); 3 May 2006 21:17:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2006 21:17:59 -0000
Received: (qmail 23343 invoked by uid 500); 3 May 2006 21:17:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23299 invoked by uid 500); 3 May 2006 21:17:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23288 invoked by uid 99); 3 May 2006 21:17:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 14:17:53 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 14:17:53 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 141D55B771; Wed,  3 May 2006 14:17:26 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 0334C7F403;
	Wed,  3 May 2006 14:17:26 -0700 (PDT)
Date: Wed, 3 May 2006 14:17:25 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org, martin.kobele@netsweeper.com
Subject: Re: using search instead of explain
In-Reply-To: <200605031635.05053.martin.kobele@netsweeper.com>
Message-ID: <Pine.LNX.4.58.0605031359160.4300@hal.rescomp.berkeley.edu>
References: <200605031635.05053.martin.kobele@netsweeper.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Now we want to use Search.search(Query, HitCollection).
: HitCollection adds the document to a BitSet as soon as the score is non-zero.
:
: Is there any relation between the value of the explanation and the score?

Generally speaking, calling Explain is suppose to return a detailed
explanation of how the score you would get in a HitCollector was
calcuated, but the documentation (and the code implimenting explain in
various Scorers) is vague as to what should happen in cases where the
document doesn't "match" your query.

So the score you get in a HItCollector forany matching document *should*
be equal to the value from an Explanation of that query and doc ... but
there are also some cases where the Explanation contains an incorrectly
computed value, this is a bug...

http://issues.apache.org/jira/browse/LUCENE-557?page=all

-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20470-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 03 21:33:06 2006
Return-Path: <java-user-return-20470-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86701 invoked from network); 3 May 2006 21:33:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 May 2006 21:33:04 -0000
Received: (qmail 51812 invoked by uid 500); 3 May 2006 21:32:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51776 invoked by uid 500); 3 May 2006 21:32:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51744 invoked by uid 99); 3 May 2006 21:32:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 14:32:57 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 14:32:56 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 3674F5B778; Wed,  3 May 2006 14:32:36 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 2B7497F403
	for <java-user@lucene.apache.org>; Wed,  3 May 2006 14:32:36 -0700 (PDT)
Date: Wed, 3 May 2006 14:32:36 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: max_score(multi_valued_field) function?
In-Reply-To: <20060503211411.GE14489@sysfrog.org>
Message-ID: <Pine.LNX.4.58.0605031422570.4300@hal.rescomp.berkeley.edu>
References: <20060502202348.GH5060@sysfrog.org>
 <Pine.LNX.4.58.0605021345570.27426@hal.rescomp.berkeley.edu>
 <20060503211411.GE14489@sysfrog.org>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

: > sub queries your self, and there's no easy way to make a query that
: > only searches the first "chunk" of terms from a field.
:
: I don't understand what you mean with "first 'chunk' of terms from a

In your specific case, i was refering to the first title of many multiple
titles if you *don't* use a seperate field for each -- once the text is
indexed, there is no notion of unique values, just a stream of tokens with
relative positions .. hence my poor choice of the word "chunk".

: Document 1 gets the higher score in this case (when I do a search on
: 'Amsterdam'). The reason is that the term 'Amsterdam' has a higher
: docFreq in Title-1 than in Title-2 (as Title-2 is only seldom used).

Hmmm ... i hadn't considered that.

You could override Similarity.idf(Term,Searcher) to heck if the termField
is one of the title variants, and if so use the sum of docFreq of the
termText accross all of the varient title fields.  My visceral reaction
to thinking of this idea was "ick" ... but i can't think of any legitimate
reasosn why this would be a bad idea.

: I think if I combine your .setOmitNorms(true) suggestion with this
: second suggestion it may actually work - that will be my next attempt.

Don't rule out the other idea i sent yesterday:  go back to using a
single title field with a high positionIncrimentGap between varient
titles, and marker tokens at the start/end of each title and make all of
your searches Phrase/SpanNear queries that include the start/end terms.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20471-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 04 00:26:46 2006
Return-Path: <java-user-return-20471-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69261 invoked from network); 4 May 2006 00:26:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2006 00:26:46 -0000
Received: (qmail 86142 invoked by uid 500); 4 May 2006 00:26:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85709 invoked by uid 500); 4 May 2006 00:26:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85698 invoked by uid 99); 4 May 2006 00:26:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 17:26:40 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [150.203.2.43] (HELO anumail3.anu.edu.au) (150.203.2.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 17:26:39 -0700
Received: from smtphost.anu.edu.au (ds1.anu.edu.au [130.56.64.53])
	by anumail3.anu.edu.au (8.13.6/8.13.6) with ESMTP id k440QD6o019204
	for <java-user@lucene.apache.org>; Thu, 4 May 2006 10:26:15 +1000 (EST)
Received: from cairo.anu.edu.au (cairo.anu.edu.au [150.203.224.11])
	by smtphost.anu.edu.au (8.13.6/8.13.6) with ESMTP id k440ABlH007087
	for <java-user@lucene.apache.org>; Thu, 4 May 2006 10:10:11 +1000 (EST)
Received: from assda220.anu.edu.au (assda220.anu.edu.au [150.203.11.220])
	by cairo.anu.edu.au (8.13.6/8.13.6) with ESMTP id k440ABJS018419
	for <java-user@lucene.apache.org>; Thu, 4 May 2006 10:10:11 +1000 (EST)
Message-Id: <6.2.1.2.0.20060504095949.01d2f6b8@mail.coombs.anu.edu.au>
X-Mailer: QUALCOMM Windows Eudora Version 6.2.1.2
Date: Thu, 04 May 2006 10:11:22 +1000
To: java-user@lucene.apache.org
From: Stephen Gray <Stephen.Gray@anu.edu.au>
Subject: Re: Updating index if there is a database changes
In-Reply-To: <20060503072049.98B6810FB015@asf.osuosl.org>
References: <200605021829.40754.mail@jasoncalabrese.com>
 <20060503072049.98B6810FB015@asf.osuosl.org>
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====================_1583984==.ALT"
X-PMX-Version: 4.7.1.128075, Antispam-Engine: 2.3.0.1, Antispam-Data: 2006.5.3.165109 internal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--=====================_1583984==.ALT
Content-Type: text/plain; charset="us-ascii"; format=flowed

Hi Kirin,

Once you've updated an index using IndexWriter or IndexReader you just need 
to close and re-open your IndexSearcher so that searching includes the 
changes. There is a great library callled LuceIndexAccessor at the link 
below that manages this for you. It creates an IndexReader/Writer/Searcher 
and hands out references to classes that need to use them. When you want to 
read/write you just get a reference to the appropriate object from the 
index accessor, then release it when you've finished. If you make changes 
using an IndexWriter then release the reference, it waits until all 
IndexSearcher refs have been released, then recreates the searcher 
automatically.

The link is:
http://www.nabble.com/Fwd%3A-Contribution%3A-LuceneIndexAccessor-t17416.html#a47049

You might also like to look at DelayCloseIndexSearcher at 
http://issues.apache.org/jira/browse/LUCENE-445

Regards,
Steve

At 05:31 PM 3/05/2006, you wrote:
>Hi all,
>
>I m working on a project where I will use lucene to make a search engine on
>a database. I am new to lucene. I wrote a test program which indexes a table
>and searches the same.. but now I m stuck on how to update the index in case
>a database change occurs.. I need some help on this topic...like how do I
>update the index at run time... can it be done then and there...or do I have
>to write some kind of schedular program which "re-builds" the entire index
>say once in a day ... which will be more efficient ?
>
>the data will be huge... 4 million records something..
>
>Thanks in advance,
>--Kiran
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org

Stephen Gray
Archive Research Officer
Australian Social Science Data Archive
18 Balmain Crescent (Building #66)
The Australian National University
Canberra ACT 0200

Phone +61 2 6125 2185
Fax +61 2 6125 0627
Web http://assda.anu.edu.au/

--=====================_1583984==.ALT--


From java-user-return-20472-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 04 01:56:04 2006
Return-Path: <java-user-return-20472-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 177 invoked from network); 4 May 2006 01:56:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2006 01:56:04 -0000
Received: (qmail 55573 invoked by uid 500); 4 May 2006 01:55:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55033 invoked by uid 500); 4 May 2006 01:55:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55022 invoked by uid 99); 4 May 2006 01:55:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 18:55:56 -0700
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 18:55:56 -0700
Received: from localhost ([127.0.0.1] helo=talk.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1FbT43-0005cE-Gw
	for java-user@lucene.apache.org; Wed, 03 May 2006 18:55:35 -0700
Message-ID: <4221469.post@talk.nabble.com>
Date: Wed, 3 May 2006 18:39:12 -0700 (PDT)
From: JustineHMS <justine.wang@hypermediasystems.com>
To: java-user@lucene.apache.org
Subject: How to realize Sql LIKE?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-Sender: justine.wang@hypermediasystems.com
X-Nabble-From: JustineHMS <justine.wang@hypermediasystems.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi All,

I m new to Lucene,

Just wondering if there is a way to realize sql 'Like' function in Lucene as
following:

Select * from user_table where username like '%abc%'

I have checked with wildCardQuery, but it can not start with a '%'.
What about RegexQuery?  How to use it?

Thank you very much for any input,

-J
--
View this message in context: http://www.nabble.com/How-to-realize-Sql-LIKE--t1553855.html#a4221469
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20473-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 04 02:30:26 2006
Return-Path: <java-user-return-20473-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13552 invoked from network); 4 May 2006 02:30:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2006 02:30:25 -0000
Received: (qmail 90310 invoked by uid 500); 4 May 2006 02:30:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90278 invoked by uid 500); 4 May 2006 02:30:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90267 invoked by uid 99); 4 May 2006 02:30:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 19:30:17 -0700
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [129.241.190.231] (HELO signal.itea.ntnu.no) (129.241.190.231)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 19:30:16 -0700
Received: from localhost (localhost [127.0.0.1])
	by signal.itea.ntnu.no (Postfix) with ESMTP id C49C933698
	for <java-user@lucene.apache.org>; Thu,  4 May 2006 04:29:55 +0200 (CEST)
Received: from localhost (textus6.itea.ntnu.no [129.241.56.156])
	by signal.itea.ntnu.no (Postfix) with ESMTP
	for <java-user@lucene.apache.org>; Thu,  4 May 2006 04:29:55 +0200 (CEST)
Received: from 157.84-48-54.nextgentel.com (157.84-48-54.nextgentel.com [84.48.54.157]) 
	by webmail.ntnu.no (IMP) with HTTP 
	for <johnhara@imap.stud.ntnu.no>; Thu,  4 May 2006 04:29:55 +0200
Message-ID: <1146709795.445967239044b@webmail.ntnu.no>
Date: Thu,  4 May 2006 04:29:55 +0200
From: johnhara@stud.ntnu.no
To: java-user@lucene.apache.org
Subject: Controlling the number of segments
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.2.8
X-Content-Scanned: with sophos and spamassassin at mailgw.ntnu.no.
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi.

When I add new documents to my index, I sometimes end up with a larger
number of segments than i theoretically should be able to. I use all
the default settings.

If I have understood this right I should never experience more than nine
segments in my index when the mergeFactor is 10.

I would like to ensure that there are never more than nine segments in
my index. Have i misunderstood something? How can I fix this problem?

John


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20474-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 04 06:19:43 2006
Return-Path: <java-user-return-20474-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50873 invoked from network); 4 May 2006 06:19:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2006 06:19:43 -0000
Received: (qmail 36364 invoked by uid 500); 4 May 2006 06:19:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35881 invoked by uid 500); 4 May 2006 06:19:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35870 invoked by uid 99); 4 May 2006 06:19:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 23:19:35 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [67.15.12.79] (HELO plesk.ev1servers.net) (67.15.12.79)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 May 2006 23:19:33 -0700
Received: (qmail 10845 invoked from network); 4 May 2006 05:34:23 -0000
Received: from unknown (HELO user) (85.154.10.237)
  by ev1s-67-15-13-114.ev1servers.net with SMTP; 4 May 2006 05:34:23 -0000
From: "Kiran Joisher" <kiran.joisher@recreatesolutions.com>
To: <java-user@lucene.apache.org>
Subject: RE: Updating index if there is a database changes
Date: Thu, 4 May 2006 10:30:34 +0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1506
Thread-Index: AcZvCyhqWNBY2yk+RcK+mwOTpsC5XAANswQA
In-Reply-To: <6.2.1.2.0.20060504095949.01d2f6b8@mail.coombs.anu.edu.au>
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060504061935.6CAF610FB001@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks Stephen,

This was really helpful. 

Cheers,
--Kiran


 
-----Original Message-----
From: Stephen Gray [mailto:Stephen.Gray@anu.edu.au] 
Sent: Thursday, May 04, 2006 4:11 AM
To: java-user@lucene.apache.org
Subject: Re: Updating index if there is a database changes

Hi Kirin,

Once you've updated an index using IndexWriter or IndexReader you just need
to close and re-open your IndexSearcher so that searching includes the
changes. There is a great library callled LuceIndexAccessor at the link
below that manages this for you. It creates an IndexReader/Writer/Searcher
and hands out references to classes that need to use them. When you want to
read/write you just get a reference to the appropriate object from the
index accessor, then release it when you've finished. If you make changes
using an IndexWriter then release the reference, it waits until all
IndexSearcher refs have been released, then recreates the searcher
automatically.

The link is:
http://www.nabble.com/Fwd%3A-Contribution%3A-LuceneIndexAccessor-t17416.html
#a47049

You might also like to look at DelayCloseIndexSearcher at
http://issues.apache.org/jira/browse/LUCENE-445

Regards,
Steve

At 05:31 PM 3/05/2006, you wrote:
>Hi all,
>
>I m working on a project where I will use lucene to make a search engine on
>a database. I am new to lucene. I wrote a test program which indexes a
table
>and searches the same.. but now I m stuck on how to update the index in
case
>a database change occurs.. I need some help on this topic...like how do I
>update the index at run time... can it be done then and there...or do I
have
>to write some kind of schedular program which "re-builds" the entire index
>say once in a day ... which will be more efficient ?
>
>the data will be huge... 4 million records something..
>
>Thanks in advance,
>--Kiran
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org

Stephen Gray
Archive Research Officer
Australian Social Science Data Archive
18 Balmain Crescent (Building #66)
The Australian National University
Canberra ACT 0200

Phone +61 2 6125 2185
Fax +61 2 6125 0627
Web http://assda.anu.edu.au/

**************************************************************
Scanned by  eScan  Anti-Virus  and  Content Security Software.
Visit http://www.mwti.net for more info on eScan and MailScan.
**************************************************************



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20475-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 04 08:02:35 2006
Return-Path: <java-user-return-20475-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6139 invoked from network); 4 May 2006 08:02:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2006 08:02:11 -0000
Received: (qmail 58867 invoked by uid 500); 4 May 2006 08:01:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58685 invoked by uid 500); 4 May 2006 08:01:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58674 invoked by uid 99); 4 May 2006 08:01:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 01:01:56 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.188.213.7] (HELO smtp-out4.blueyonder.co.uk) (195.188.213.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 01:01:54 -0700
Received: from [172.23.170.141] (helo=anti-virus02-08)
	by smtp-out4.blueyonder.co.uk with smtp (Exim 4.52)
	id 1FbYmB-00046w-Ia
	for java-user@lucene.apache.org; Thu, 04 May 2006 09:01:31 +0100
Received: from [80.192.120.56] (helo=[192.168.1.20])
	by asmtp-out6.blueyonder.co.uk with esmtp (Exim 4.52)
	id 1FbYm7-0003zK-Sj
	for java-user@lucene.apache.org; Thu, 04 May 2006 09:01:27 +0100
Message-ID: <4459B4D9.2040108@intrallect.com>
Date: Thu, 04 May 2006 09:01:29 +0100
From: Gordon Rogers <g.rogers@intrallect.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Wildcard with Words Ending in 'e'
References: <4458B24F.9020902@intrallect.com> <Pine.LNX.4.58.0605031045481.25892@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0605031045481.25892@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Chris

Your shot in the dark was correct, I am using Porter Stemming. Thanks to your excellent response I 
understand now why wildcards and stemming are now very useful when combined. I'm going to 
investigate other means of taking into account the wildcard queries and handling them in a different 
way. Rest assured that if I find a solution I'll post it to the user group.

Gordon

Chris Hostetter wrote:
> I'm going to take a shot in the dark and guess that the field in question
> is analyzed using some form of Stemming which strips off trailing "e"
> characters (Porter Stemmer seems to do this).
> 
> In the past, there was a bug in the way WildcardQuery works, so that the
> metacharacter "?" matches 0 or 1 characters even though it's documented to
> match exactly one character -- so "peopl?" would match both "peopl" and
> peoplX" -- which wasn't correct.
> 
>    http://issues.apache.org/jira/browse/LUCENE-306
> 
> If i'm right about why you are encountering this problem, then your test
> case isn't really valid.  Either you should do you wildcard queries on a
> field that isn't stemmed, or you should take the stemming into account
> (somehow ... if you think of a good way i'm sure others would be
> interested) when building your wildcard query.
> 
> Keep in mind that trying to use wildcard queries on a field which uses
> porter stemming isn't generally a good idea regardless of wether you like
> the old behavior of "?" or not ... if your goal is to find documents
> containing words like "elephant" and "elephantine" so you search for
> "elephan*" you are going to miss any documents containing "elephant"
> because Porter Stemmer trims that to "eleph"
> 
> 
> -Hoss
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20476-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 04 10:20:15 2006
Return-Path: <java-user-return-20476-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77473 invoked from network); 4 May 2006 10:20:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2006 10:20:15 -0000
Received: (qmail 42336 invoked by uid 500); 4 May 2006 10:20:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42308 invoked by uid 500); 4 May 2006 10:20:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42297 invoked by uid 99); 4 May 2006 10:20:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 03:20:07 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 03:20:06 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 8935C33C67E; Thu,  4 May 2006 06:19:43 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id AD20633C650
	for <java-user@lucene.apache.org>; Thu,  4 May 2006 06:19:39 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v749.3)
In-Reply-To: <4221469.post@talk.nabble.com>
References: <4221469.post@talk.nabble.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <61830144-6C88-45B6-AE0C-ABCE2E4BB530@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: How to realize Sql LIKE?
Date: Thu, 4 May 2006 06:19:36 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.749.3)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.0 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 3, 2006, at 9:39 PM, JustineHMS wrote:
> I m new to Lucene,
>
> Just wondering if there is a way to realize sql 'Like' function in  
> Lucene as
> following:
>
> Select * from user_table where username like '%abc%'
>
> I have checked with wildCardQuery, but it can not start with a '%'.
> What about RegexQuery?  How to use it?

WildcardQuery does support leading wildcard characters, but  
QueryParser is what prohibits it.  A custom QueryParser could be  
created that removes this restriction.  However, the potential of a  
"too many clauses" exception is great with WildcardQuery so you'll  
want to be careful.  Check the list archives for this topic in gory  
and never ending detail :)

	Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20477-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 04 10:20:32 2006
Return-Path: <java-user-return-20477-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77582 invoked from network); 4 May 2006 10:20:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2006 10:20:31 -0000
Received: (qmail 43731 invoked by uid 500); 4 May 2006 10:20:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43710 invoked by uid 500); 4 May 2006 10:20:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 57016 invoked by uid 99); 4 May 2006 01:57:41 -0000
Received-SPF: pass (asf.osuosl.org: local policy)
Message-ID: <1146707836.44595f7c8f4db@webmail.ntnu.no>
Date: Thu,  4 May 2006 03:57:16 +0200
From: johnhara@stud.ntnu.no
To: java-user@lucene.apache.org
Subject: Controlling the number of segments
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
User-Agent: Internet Messaging Program (IMP) 3.2.8
X-Content-Scanned: with sophos and spamassassin at mailgw.ntnu.no.
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi.

When I add new documents to my index, I sometimes end up with a larger
number of segments than i theoretically should be able to. I use all
the default settings.

If I have understood this right I should never experience more than nine
segments in my index when the mergeFactor is 10.

I would like to ensure that there are never more than nine segments in
my index. Have i misunderstood something? How can I fix this problem?

John


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20478-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 04 10:36:50 2006
Return-Path: <java-user-return-20478-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84020 invoked from network); 4 May 2006 10:36:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2006 10:36:50 -0000
Received: (qmail 66890 invoked by uid 500); 4 May 2006 10:36:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66862 invoked by uid 500); 4 May 2006 10:36:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66840 invoked by uid 99); 4 May 2006 10:36:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 03:36:42 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=SPF_PASS,SUBJ_FOR_ONLY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of cwho.work@gmail.com designates 64.233.162.207 as permitted sender)
Received: from [64.233.162.207] (HELO nz-out-0102.google.com) (64.233.162.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 03:36:41 -0700
Received: by nz-out-0102.google.com with SMTP id z3so424948nzf
        for <java-user@lucene.apache.org>; Thu, 04 May 2006 03:36:20 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=NJREIES8evzXyLAJR03OPDK/pXsP6GW8jltAtVImfs/idRYKNC13rRQ2PK7wdxcAX3OF7pspmVUL+ApULDBszgcOk0Wachat8avJXj3rYyXA+ooSRBvPyN/WbpS3dr3FKcKJp8IK90dmy1bGk0svWWjdb2BG3qsVWZEciSwBCuw=
Received: by 10.36.121.12 with SMTP id t12mr348484nzc;
        Thu, 04 May 2006 03:36:20 -0700 (PDT)
Received: by 10.36.113.1 with HTTP; Thu, 4 May 2006 03:36:20 -0700 (PDT)
Message-ID: <6c33f9950605040336uc50dc48g82e9570d243cda46@mail.gmail.com>
Date: Thu, 4 May 2006 18:36:20 +0800
From: "Chun Wei Ho" <cwho.work@gmail.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: Obtain terms for only particular field(s)
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I have a pretty large index and I would like to obtain all the Terms
for only one or two particular fields.

As I understand - IndexReader.terms() returns a termEnum of all the
terms in the index, and I would have to iterate through all of them to
pick out the ones from the fields that I want. Is there a better way
to do this?

Thanks :)

CW

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20479-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 04 10:40:24 2006
Return-Path: <java-user-return-20479-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85770 invoked from network); 4 May 2006 10:40:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2006 10:40:24 -0000
Received: (qmail 73815 invoked by uid 500); 4 May 2006 10:40:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73789 invoked by uid 500); 4 May 2006 10:40:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73778 invoked by uid 99); 4 May 2006 10:40:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 03:40:17 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS,SUBJ_FOR_ONLY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ramana.jelda@ciao-group.com designates 194.112.113.90 as permitted sender)
Received: from [194.112.113.90] (HELO pigeon.ciao.com) (194.112.113.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 03:40:16 -0700
Received: from Jelda (gateway.ciao.com [194.221.9.215])
	by pigeon.ciao.com (8.13.3/8.13.3) with ESMTP id k44Adpbp068117
	for <java-user@lucene.apache.org>; Thu, 4 May 2006 12:39:51 +0200 (CEST)
	(envelope-from ramana.jelda@ciao-group.com)
Message-Id: <200605041039.k44Adpbp068117@pigeon.ciao.com>
From: "Ramana Jelda" <ramana.jelda@ciao-group.com>
To: <java-user@lucene.apache.org>
Subject: RE: Obtain terms for only particular field(s)
Date: Thu, 4 May 2006 12:39:46 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
Thread-Index: AcZvZqfYGVSYkZlJRVO1jW/KmC+agQAAEnhg
In-Reply-To: <6c33f9950605040336uc50dc48g82e9570d243cda46@mail.gmail.com>
X-Scanned-By: MIMEDefang 2.52 on 194.112.113.90
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

FieldCache.getStringIndex(reader,fieldName) 

Good luck
Jelda

> -----Original Message-----
> From: Chun Wei Ho [mailto:cwho.work@gmail.com] 
> Sent: Thursday, May 04, 2006 12:36 PM
> To: java-user@lucene.apache.org
> Subject: Obtain terms for only particular field(s)
> 
> Hi,
> 
> I have a pretty large index and I would like to obtain all 
> the Terms for only one or two particular fields.
> 
> As I understand - IndexReader.terms() returns a termEnum of 
> all the terms in the index, and I would have to iterate 
> through all of them to pick out the ones from the fields that 
> I want. Is there a better way to do this?
> 
> Thanks :)
> 
> CW
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20480-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 04 12:48:18 2006
Return-Path: <java-user-return-20480-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61521 invoked from network); 4 May 2006 12:48:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2006 12:48:17 -0000
Received: (qmail 67251 invoked by uid 500); 4 May 2006 12:48:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67208 invoked by uid 500); 4 May 2006 12:48:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67187 invoked by uid 99); 4 May 2006 12:48:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 05:48:09 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.207.119.238] (HELO mail.netsweeper.com) (66.207.119.238)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 05:48:08 -0700
Received: from kobele.netsweeper.com ([192.168.1.181])
	by mail.netsweeper.com (8.12.11/8.12.11) with ESMTP id k44ClPal021362
	for <java-user@lucene.apache.org>; Thu, 4 May 2006 08:47:25 -0400
From: Martin Kobele <martin.kobele@netsweeper.com>
Reply-To: martin.kobele@netsweeper.com
Organization: Netsweeper Inc
To: java-user@lucene.apache.org
Subject: Re: using search instead of explain
Date: Thu, 4 May 2006 08:48:06 -0400
User-Agent: KMail/1.9.1
References: <200605031635.05053.martin.kobele@netsweeper.com> <Pine.LNX.4.58.0605031359160.4300@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0605031359160.4300@hal.rescomp.berkeley.edu>
X-Face: 'Hg*nnc?-\\wB.#~W"O5hQ,b%:&[TGXGb4s<t+.W~W!/_mV@xzrS=pN0(=?utf-8?q?ETzKvX3=5E=25eqTj=0A=09=2E=23=7BUNfQz=5EhwgOKc=2Es=23rw!?=,7^!mGYLwvK
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605040848.06949.martin.kobele@netsweeper.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Chris,

thank you very much. Let's hope the developers can get this bug fixed soon :)

Regards,
Martin

On Wednesday 03 May 2006 17:17, Chris Hostetter wrote:
> : Now we want to use Search.search(Query, HitCollection).
> : HitCollection adds the document to a BitSet as soon as the score is
> : non-zero.
> :
> : Is there any relation between the value of the explanation and the score?
>
> Generally speaking, calling Explain is suppose to return a detailed
> explanation of how the score you would get in a HitCollector was
> calcuated, but the documentation (and the code implimenting explain in
> various Scorers) is vague as to what should happen in cases where the
> document doesn't "match" your query.
>
> So the score you get in a HItCollector forany matching document *should*
> be equal to the value from an Explanation of that query and doc ... but
> there are also some cases where the Explanation contains an incorrectly
> computed value, this is a bug...
>
> http://issues.apache.org/jira/browse/LUCENE-557?page=all
>
> -Hoss
>
>Netsweeper Inc.
512 Woolwich Street, Suite 4
Guelph, Ontario N1H 3X7
support@netsweeper.com
Tel: 519-826-5222 ext. 224
Fax: 519-826-5228
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org

-- 
Martin Kobele
Software Engineer


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20481-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 04 13:16:07 2006
Return-Path: <java-user-return-20481-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77186 invoked from network); 4 May 2006 13:15:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2006 13:15:32 -0000
Received: (qmail 11537 invoked by uid 500); 4 May 2006 13:14:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11468 invoked by uid 500); 4 May 2006 13:14:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11171 invoked by uid 99); 4 May 2006 13:14:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 06:14:52 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [216.90.243.74] (HELO deloitte.ca) (216.90.243.74)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 06:14:51 -0700
Received: from ([10.60.109.175])
	by camail1.deloitte.ca with ESMTP  id KBBDB27.39450750;
	Thu, 04 May 2006 09:14:06 -0400
Received: from canat0411.ca.deloitte.com ([10.55.44.111]) by canat0475.ca.deloitte.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 4 May 2006 09:10:54 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Subject: Newbie questions re: scoring
Date: Thu, 4 May 2006 09:10:54 -0400
Message-ID: <D3FB08E688E4954EADE12CCFFA2F2548D65FA2@canat0411.ca.deloitte.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Newbie questions re: scoring
Thread-Index: AcZvfCyVjy0BlyHhT7mG1/aivbiUKQ==
From: "Lee, Andrew J \(CA - Toronto\)" <andrlee@deloitte.ca>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 04 May 2006 13:10:54.0413 (UTC) FILETIME=[2CC147D0:01C66F7C]
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C66F7C.2C9EAF55"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C66F7C.2C9EAF55
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,=0D=0A=0D=0AI am new to Lucene and this mailing list, so my apologies if=
 these=0D=0Aquestions have already been answered=2E=0D=0A=0D=0A1)  I create=
 an index with one document with a searchable field of "All=0D=0Adogs are b=
rown=2E"  If I search on that index with a query of "All dogs=0D=0Aare brow=
n=2E" I do not get a hit with score 1=2E0, but something low like=0D=0A0=2E=
38=2E  I tried looking at the scoring algorithm and can't make heads or=0D=
=0Atails of it=2E  Can anybody explain it to me in simple terms?=0D=0A=0D=
=0A2)  I have an index of documents, then run a search against it=2E  I run=
=0D=0Athrough the list of hits, building a Vector of documents whose score =
is=0D=0Aabove a certain threshold=2E  If I run the program with a threshold=
 of=0D=0Asay, 0=2E15, I'll get a Vector of documents with scores >=3D 0=2E1=
5 (as=0D=0Aexpected)=2E  If I set the threshold higher (0=2E30, for example=
) and rerun=0D=0Athe program, I see some of the same documents that I thoug=
ht would have=0D=0Abeen trimmed off with the higher threshold=2E  With a th=
reshold of 0=2E15=0D=0Athey would score 0=2E17, and with a threshold of 0=
=2E30 they are scoring=0D=0Asomething like 0=2E33=2E  Can anybody explain t=
his?  My trimming is coming=0D=0Apost-index-searching, so this is pretty co=
nfusing=2E=0D=0A=0D=0AThanks in advance for any help=2E=0D=0A=0D=0AAndrew L=
ee=0D=0A=0D=0A=0D=0A=0D=0A-----------------------------------------=0D=0A**=
*****************************************************************=0D=0A****=
***************=0D=0AConfidentiality Warning: This message and any attachme=
nts are=0D=0Aintended only for the use of the intended recipient(s), are=0D=
=0Aconfidential, and may be privileged=2E If you are not the intended=0D=0A=
recipient, you are hereby notified that any review, retransmission,=0D=0Aco=
nversion to hard copy, copying, circulation or other use of this=0D=0Amessa=
ge and any attachments is strictly prohibited=2E If you are not=0D=0Athe in=
tended recipient, please notify the sender immediately by=0D=0Areturn e-mai=
l, and delete this message and any attachments from=0D=0Ayour system=2E Tha=
nk you=2E=0D=0A=0D=0AInformation confidentielle: Le pr=E9sent message, ains=
i que tout=0D=0Afichier qui y est joint, est envoy=E9 =E0 l'intention exclu=
sive de=0D=0Ason ou de ses destinataires; il est de nature confidentielle e=
t=0D=0Apeut constituer une information privil=E9gi=E9e=2E Nous avertissons=
=0D=0Atoute personne autre que le destinataire pr=E9vu que tout examen,=0D=
=0Ar=E9acheminement, impression, copie, distribution ou autre=0D=0Autilisat=
ion de ce message et de tout fichier qui y est joint est=0D=0Astrictement i=
nterdit=2E Si vous n'=EAtes pas le destinataire pr=E9vu,=0D=0Aveuillez en a=
viser imm=E9diatement l'exp=E9diteur par retour de=0D=0Acourriel et supprim=
er ce message et tout document joint de votre=0D=0Asyst=E8me=2E Merci=2E=0D=
=0A*******************************************************************=0D=
=0A*******************=0D=0A
------_=_NextPart_001_01C66F7C.2C9EAF55--


From java-user-return-20482-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 04 13:28:18 2006
Return-Path: <java-user-return-20482-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90403 invoked from network); 4 May 2006 13:28:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2006 13:28:17 -0000
Received: (qmail 39012 invoked by uid 500); 4 May 2006 13:28:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38977 invoked by uid 500); 4 May 2006 13:28:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38966 invoked by uid 99); 4 May 2006 13:28:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 06:28:10 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.166.182 as permitted sender)
Received: from [64.233.166.182] (HELO py-out-1112.google.com) (64.233.166.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 06:28:10 -0700
Received: by py-out-1112.google.com with SMTP id i75so547396pye
        for <java-user@lucene.apache.org>; Thu, 04 May 2006 06:27:47 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=rPO/tM9W6IViAzo0ehamEx4HrX2+EjJwlF0IiCsDMPbl6CX/m6eH6AdYkYG3I08oYS0gTEGDhLtapRUeCpIJVg1kB/wWi2unTWCTBls+NnMXmd8oIf3lbbP+DFXNKPVyDvfvlp5C3AS0j261tR2sA2NJ4UCeh3gDi8/UN2iqNT8=
Received: by 10.35.34.20 with SMTP id m20mr301372pyj;
        Thu, 04 May 2006 06:27:47 -0700 (PDT)
Received: by 10.35.107.3 with HTTP; Thu, 4 May 2006 06:27:47 -0700 (PDT)
Message-ID: <c68e39170605040627i85d0a54v2fa3f8d07509455@mail.gmail.com>
Date: Thu, 4 May 2006 09:27:47 -0400
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org, martin.kobele@netsweeper.com
Subject: Re: using search instead of explain
In-Reply-To: <200605040848.06949.martin.kobele@netsweeper.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <200605031635.05053.martin.kobele@netsweeper.com>
	 <Pine.LNX.4.58.0605031359160.4300@hal.rescomp.berkeley.edu>
	 <200605040848.06949.martin.kobele@netsweeper.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 5/4/06, Martin Kobele <martin.kobele@netsweeper.com> wrote:
> thank you very much. Let's hope the developers can get this bug fixed soo=
n :)

While it would be nice to have a 100% accurate explain(), it should
only be used for debugging purposes (and it's normally going to be
*much* slower than using a HitCollector)

-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20483-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 04 15:42:30 2006
Return-Path: <java-user-return-20483-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72235 invoked from network); 4 May 2006 15:42:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2006 15:42:29 -0000
Received: (qmail 20784 invoked by uid 500); 4 May 2006 15:42:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20736 invoked by uid 500); 4 May 2006 15:42:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20725 invoked by uid 99); 4 May 2006 15:42:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 08:42:20 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.202] (HELO web50311.mail.yahoo.com) (206.190.39.202)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 04 May 2006 08:42:19 -0700
Received: (qmail 85643 invoked by uid 60001); 4 May 2006 15:41:55 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=3m68E+J673V569mUblsQNfz6d43/0EMSO0eqtBKv1DqjB9VYn40VdIffD2fv4wkoWZV/zYMFj1qewjHIRY8xxchiCFz8lamG15ftYdF61VMSfCUufMWJgF2d1GeOZvRkG/O+4RBagNUq+8PJYkEG8Ud02P8fi2KvjLZ9+PejVDE=  ;
Message-ID: <20060504154155.85641.qmail@web50311.mail.yahoo.com>
Date: Thu, 4 May 2006 08:41:55 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: How to realize Sql LIKE?
To: java-user@lucene.apache.org
In-Reply-To: <61830144-6C88-45B6-AE0C-ABCE2E4BB530@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

There is also the following, that some guy named Erik contributed recently:

./contrib/regex/src/java/org/apache/regexp/RegexpTunnel.java
./contrib/regex/src/java/org/apache/lucene/search/regex/SpanRegexQuery.java
./contrib/regex/src/java/org/apache/lucene/search/regex/RegexQuery.java
./contrib/regex/src/java/org/apache/lucene/search/regex/JakartaRegexpCapabilities.java
./contrib/regex/src/java/org/apache/lucene/search/regex/JavaUtilRegexCapabilities.java
./contrib/regex/src/java/org/apache/lucene/search/regex/RegexCapabilities.java
./contrib/regex/src/java/org/apache/lucene/search/regex/RegexTermEnum.java
./contrib/regex/src/java/org/apache/lucene/search/regex/RegexQueryCapable.java

As for how to use it, see this:

./contrib/regex/src/test/org/apache/lucene/search/regex/TestSpanRegexQuery.java
./contrib/regex/src/test/org/apache/lucene/search/regex/TestRegexQuery.java

Otis

----- Original Message ----
From: Erik Hatcher <erik@ehatchersolutions.com>
To: java-user@lucene.apache.org
Sent: Thursday, May 4, 2006 6:19:36 AM
Subject: Re: How to realize Sql LIKE?


On May 3, 2006, at 9:39 PM, JustineHMS wrote:
> I m new to Lucene,
>
> Just wondering if there is a way to realize sql 'Like' function in  
> Lucene as
> following:
>
> Select * from user_table where username like '%abc%'
>
> I have checked with wildCardQuery, but it can not start with a '%'.
> What about RegexQuery?  How to use it?

WildcardQuery does support leading wildcard characters, but  
QueryParser is what prohibits it.  A custom QueryParser could be  
created that removes this restriction.  However, the potential of a  
"too many clauses" exception is great with WildcardQuery so you'll  
want to be careful.  Check the list archives for this topic in gory  
and never ending detail :)

    Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20484-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 04 16:37:57 2006
Return-Path: <java-user-return-20484-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7345 invoked from network); 4 May 2006 16:37:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2006 16:37:56 -0000
Received: (qmail 31641 invoked by uid 500); 4 May 2006 16:37:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31430 invoked by uid 500); 4 May 2006 16:37:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31419 invoked by uid 99); 4 May 2006 16:37:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 09:37:48 -0700
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.166.181 as permitted sender)
Received: from [64.233.166.181] (HELO py-out-1112.google.com) (64.233.166.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 09:37:47 -0700
Received: by py-out-1112.google.com with SMTP id i75so604105pye
        for <java-user@lucene.apache.org>; Thu, 04 May 2006 09:37:27 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=HRQvmzORQR1Sqb4eV36hUrriVsIJsiLaMVb5cwlr7hM/nms2rBx9XucuuTvkvuylvHAf3rJ03nuRJxZA7xbSTgikbUyQPvlrYk8rkTeA+ArV8XBlS29PA2ujVzOpwQ/eJhZDJMpWO81QhFLn8lBmAKn9KbgjxUiB1cYBITQK9YE=
Received: by 10.35.39.2 with SMTP id r2mr286841pyj;
        Thu, 04 May 2006 09:37:27 -0700 (PDT)
Received: by 10.35.107.3 with HTTP; Thu, 4 May 2006 09:37:27 -0700 (PDT)
Message-ID: <c68e39170605040937q5b4882e9s2320e8a1516dddf9@mail.gmail.com>
Date: Thu, 4 May 2006 12:37:27 -0400
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Updating index if there is a database changes
In-Reply-To: <20060503072049.98B6810FB015@asf.osuosl.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <200605021829.40754.mail@jasoncalabrese.com>
	 <20060503072049.98B6810FB015@asf.osuosl.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 5/3/06, Kiran Joisher <kiran.joisher@recreatesolutions.com> wrote:
> I m working on a project where I will use lucene to make a search engine =
on
> a database. I am new to lucene. I wrote a test program which indexes a ta=
ble
> and searches the same.. but now I m stuck on how to update the index in c=
ase
> a database change occurs.. I need some help on this topic...

Solr handles incremental updating:
  - overwriting documents that already exist in the collection
  - graceful migration from old IndexSearchers to new IndexSearchers
so that the changes are visible

Solr does not yet handle automatically grabbing stuff from a
database... you need to write something that grabs the changes and
then sends those changes to Solr (via XML over HTTP-POST)


-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20485-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 04 17:37:50 2006
Return-Path: <java-user-return-20485-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47700 invoked from network); 4 May 2006 17:37:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2006 17:37:49 -0000
Received: (qmail 85248 invoked by uid 500); 4 May 2006 17:37:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85205 invoked by uid 500); 4 May 2006 17:37:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85194 invoked by uid 99); 4 May 2006 17:37:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 10:37:40 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.207.119.238] (HELO mail.netsweeper.com) (66.207.119.238)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 10:37:40 -0700
Received: from kobele.netsweeper.com ([192.168.1.181])
	by mail.netsweeper.com (8.12.11/8.12.11) with ESMTP id k44Hb4gl022931
	for <java-user@lucene.apache.org>; Thu, 4 May 2006 13:37:06 -0400
From: Martin Kobele <martin.kobele@netsweeper.com>
Reply-To: martin.kobele@netsweeper.com
Organization: Netsweeper Inc
To: java-user@lucene.apache.org
Subject: Re: using search instead of explain
Date: Thu, 4 May 2006 13:37:47 -0400
User-Agent: KMail/1.9.1
References: <200605031635.05053.martin.kobele@netsweeper.com> <200605040848.06949.martin.kobele@netsweeper.com> <c68e39170605040627i85d0a54v2fa3f8d07509455@mail.gmail.com>
In-Reply-To: <c68e39170605040627i85d0a54v2fa3f8d07509455@mail.gmail.com>
X-Face: 'Hg*nnc?-\\wB.#~W"O5hQ,b%:&[TGXGb4s<t+.W~W!/_mV@xzrS=pN0(=?utf-8?q?ETzKvX3=5E=25eqTj=0A=09=2E=23=7BUNfQz=5EhwgOKc=2Es=23rw!?=,7^!mGYLwvK
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605041337.47406.martin.kobele@netsweeper.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

so the score is always correct, just the Explain can return values greater 
than 0 although the query did not match the document due to a bug in Explain?
Are all version affected of that? I use lucene 1.9.1.

Thanks!

Regards,
Martin

On Thursday 04 May 2006 09:27, Yonik Seeley wrote:
> On 5/4/06, Martin Kobele <martin.kobele@netsweeper.com> wrote:
> > thank you very much. Let's hope the developers can get this bug fixed
> > soon :)
>
> While it would be nice to have a 100% accurate explain(), it should
> only be used for debugging purposes (and it's normally going to be
> *much* slower than using a HitCollector)
>
> -Yonik
> http://incubator.apache.org/solr Solr, the open-source Lucene search server
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org

-- 
Martin Kobele
Software Engineer

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20486-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 04 19:40:25 2006
Return-Path: <java-user-return-20486-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37315 invoked from network); 4 May 2006 19:40:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2006 19:40:24 -0000
Received: (qmail 68570 invoked by uid 500); 4 May 2006 19:40:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68421 invoked by uid 500); 4 May 2006 19:40:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68129 invoked by uid 99); 4 May 2006 19:40:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 12:40:14 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of nikhil.goel@gmail.com designates 64.233.184.232 as permitted sender)
Received: from [64.233.184.232] (HELO wr-out-0506.google.com) (64.233.184.232)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 12:40:14 -0700
Received: by wr-out-0506.google.com with SMTP id 57so422687wri
        for <java-user@lucene.apache.org>; Thu, 04 May 2006 12:39:53 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=NbhgEQgfSFfLwuBMwg229dqPY/ee86YMPWfhgHEBZFNcHzye4nZ/RX649/yrggqNBdyWnsHUyY7MbWuptPj7OkZZZcSd55ilv+q6Gwws8gUcf92uU1rQL3SpMjMD1/z8i+Jw6NTKZ7ezhjByW/5Qc603c6/57LxrAFonveCF7Yc=
Received: by 10.64.251.20 with SMTP id y20mr547124qbh;
        Thu, 04 May 2006 12:39:53 -0700 (PDT)
Received: by 10.65.214.2 with HTTP; Thu, 4 May 2006 12:39:53 -0700 (PDT)
Message-ID: <7f0c29930605041239l73791990l4a7c3c94cffbb344@mail.gmail.com>
Date: Thu, 4 May 2006 14:39:53 -0500
From: "Nikhil Goel" <nikhil.goel@gmail.com>
To: java-user@lucene.apache.org
Subject: Index Stored on Database instead of FileSystem
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_5836_19504865.1146771593556"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_5836_19504865.1146771593556
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

By default, Lucene create a directory for index on FileSystem. Is there a
plugin or support provided by Lucene to store the index in Databse instead
of FileSystem, where:-
1) Directory can be equal to table in DB .
2) Each file in the index directory represents one row in that table.
3) Data in the file can be stored as BLOB in each row.

If such a plugin exist, are there any concurreny issues or any limitation o=
n
the size of the index that can be stored?

Thanks
-Nikhil

------=_Part_5836_19504865.1146771593556--

From java-user-return-20487-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 04 19:47:23 2006
Return-Path: <java-user-return-20487-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40925 invoked from network); 4 May 2006 19:47:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2006 19:47:22 -0000
Received: (qmail 85079 invoked by uid 500); 4 May 2006 19:47:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85053 invoked by uid 500); 4 May 2006 19:47:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85042 invoked by uid 99); 4 May 2006 19:47:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 12:47:15 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.72.192.221] (HELO fmmailgate01.web.de) (217.72.192.221)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 12:47:14 -0700
Received: from smtp07.web.de (fmsmtp07.dlan.cinetic.de [172.20.5.215])
	by fmmailgate01.web.de (Postfix) with ESMTP id 3794E286252B
	for <java-user@lucene.apache.org>; Thu,  4 May 2006 21:41:43 +0200 (CEST)
Received: from [89.55.56.239] (helo=donkey)
	by smtp07.web.de with asmtp (TLSv1:RC4-MD5:128)
	(WEB.DE 4.107 #108)
	id 1Fbjhn-0006mt-00
	for java-user@lucene.apache.org; Thu, 04 May 2006 21:41:43 +0200
From: "Mathias Keilbach" <mathias.keilbach@web.de>
To: <java-user@lucene.apache.org>
Subject: AW: internal Searching behavior or how to get a hit?
Date: Thu, 4 May 2006 21:41:42 +0200
Message-ID: <!~!UENERkVCMDkAAQACAAAAAAAAAAAAAAAAABgAAAAAAAAA2aPncDRSbEefko2SYdG2HMKAAAAQAAAAfjYFGsdysEOKuIhBJiZi1AEAAAAA@web.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <200605031553.59382.miles@runtime-collective.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcZuwYJF1MyMJG5kQqab5JoC6vTYUAA8E8PQ
Sender: mathias.keilbach@web.de
X-Sender: mathias.keilbach@web.de
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Thanks a lot for your quick support!
I found another site which describes the index structure and files.
http://lucene.apache.org/java/docs/fileformats.html

--------------------------------------------------------------------------

AFAIK Lucene will have an inverted index which maps tokens (terms) to the 
documents that they appear in.

Some background info on inverted indices:

http://en.wikipedia.org/wiki/Inverted_index

Miles

--------------------------------------------------------------------------

On Wednesday 03 May 2006 14:56, Mathias Keilbach wrote:
> I have a question concerning the interal searching behavior of lucene. How
> does lucene get a hit. If I search for the a term, will each index
document
> be checked for this term or is there an internal relation between terms
and
> lucene documents? Thanks for any advice.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20488-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 04 20:21:19 2006
Return-Path: <java-user-return-20488-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67474 invoked from network); 4 May 2006 20:21:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2006 20:21:18 -0000
Received: (qmail 57819 invoked by uid 500); 4 May 2006 20:21:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57795 invoked by uid 500); 4 May 2006 20:21:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57784 invoked by uid 99); 4 May 2006 20:21:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 13:21:10 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.44 as permitted sender)
Received: from [80.67.18.44] (HELO smtprelay06.ispgateway.de) (80.67.18.44)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 13:21:09 -0700
Received: (qmail 698 invoked from network); 4 May 2006 20:20:46 -0000
Received: from unknown (HELO p5496ece5.dip.t-dialin.net) ([pbs]695637@[84.150.236.229])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay06.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 4 May 2006 20:20:46 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: ArrayIndexOutOfBoundsException w/ ImageSearcher
Date: Thu, 4 May 2006 22:23:00 +0200
User-Agent: KMail/1.8.2
References: <8AEF5908-F9A3-4CDA-A25D-CD501583EC81@mac.com>
In-Reply-To: <8AEF5908-F9A3-4CDA-A25D-CD501583EC81@mac.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605042223.00426@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Mittwoch 03 Mai 2006 01:46, Michael Dodson wrote:

> Exception in thread "main" java.lang.ArrayIndexOutOfBoundsException: -1

This is what you get when you try to open a Lucene 1.9 index with Lucene 
1.4.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20489-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 04 20:30:59 2006
Return-Path: <java-user-return-20489-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74016 invoked from network); 4 May 2006 20:30:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2006 20:30:59 -0000
Received: (qmail 81522 invoked by uid 500); 4 May 2006 20:30:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81495 invoked by uid 500); 4 May 2006 20:30:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81484 invoked by uid 99); 4 May 2006 20:30:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 13:30:51 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 13:30:50 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id E18915B766; Thu,  4 May 2006 13:30:21 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id D6BA37F403
	for <java-user@lucene.apache.org>; Thu,  4 May 2006 13:30:21 -0700 (PDT)
Date: Thu, 4 May 2006 13:30:21 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Wildcard with Words Ending in 'e'
In-Reply-To: <4459B4D9.2040108@intrallect.com>
Message-ID: <Pine.LNX.4.58.0605041327150.15267@hal.rescomp.berkeley.edu>
References: <4458B24F.9020902@intrallect.com>
 <Pine.LNX.4.58.0605031045481.25892@hal.rescomp.berkeley.edu>
 <4459B4D9.2040108@intrallect.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: now very useful when combined. I'm going to investigate other means of
: taking into account the wildcard queries and handling them in a
: different way. Rest assured that if I find a solution I'll post it to
: the user group.

the most straight forward solution is to have two indexed files -- one
that's stemmed which you use for normal "word granularity" searching, and
one that's unstemmed (probably whitespaced tokenized with a lowercase
filter) that you use when people give you wildcard like characters.

what i was refering to was the problem of trying to use wildcards on a
stemmed field -- there's no simple solution to that problem, because
untill you've looked up all the possible matching values, you don't know
what the possible stemms might be.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20490-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 04 20:33:03 2006
Return-Path: <java-user-return-20490-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75366 invoked from network); 4 May 2006 20:33:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2006 20:33:02 -0000
Received: (qmail 86134 invoked by uid 500); 4 May 2006 20:32:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86105 invoked by uid 500); 4 May 2006 20:32:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86094 invoked by uid 99); 4 May 2006 20:32:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 13:32:54 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=SUBJ_FOR_ONLY
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 13:32:52 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 18E6A5B766; Thu,  4 May 2006 13:32:32 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 0C9B47F403
	for <java-user@lucene.apache.org>; Thu,  4 May 2006 13:32:32 -0700 (PDT)
Date: Thu, 4 May 2006 13:32:32 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: Re: Obtain terms for only particular field(s)
In-Reply-To: <6c33f9950605040336uc50dc48g82e9570d243cda46@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0605041331080.15267@hal.rescomp.berkeley.edu>
References: <6c33f9950605040336uc50dc48g82e9570d243cda46@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: As I understand - IndexReader.terms() returns a termEnum of all the
: terms in the index, and I would have to iterate through all of them to
: pick out the ones from the fields that I want. Is there a better way
: to do this?

the TermEnum is garunteed to be in order.  you can seek to a particular
term, and you can stop iterating when you reach a term you don't like --
so you can seek to soemthing like Term("foo","") and stop when the field
doesn't equal "foo" and know that you have seen every term in the field
"foo"



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20491-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 04 21:16:10 2006
Return-Path: <java-user-return-20491-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1759 invoked from network); 4 May 2006 21:16:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2006 21:16:05 -0000
Received: (qmail 67591 invoked by uid 500); 4 May 2006 21:15:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67562 invoked by uid 500); 4 May 2006 21:15:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67551 invoked by uid 99); 4 May 2006 21:15:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 14:15:56 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 14:15:56 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 6039A5B764; Thu,  4 May 2006 14:15:35 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 4E3AF7F403;
	Thu,  4 May 2006 14:15:35 -0700 (PDT)
Date: Thu, 4 May 2006 14:15:35 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org, martin.kobele@netsweeper.com
Subject: Re: using search instead of explain
In-Reply-To: <200605041337.47406.martin.kobele@netsweeper.com>
Message-ID: <Pine.LNX.4.58.0605041411470.17134@hal.rescomp.berkeley.edu>
References: <200605031635.05053.martin.kobele@netsweeper.com>
 <200605040848.06949.martin.kobele@netsweeper.com>
 <c68e39170605040627i85d0a54v2fa3f8d07509455@mail.gmail.com>
 <200605041337.47406.martin.kobele@netsweeper.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: so the score is always correct, just the Explain can return values
: greater than 0 although the query did not match the document due to a
: bug in Explain? Are all version affected of that? I use lucene 1.9.1.

1) the score returned by TopDocs or passed to a HitCollector is by
definition the correct score.
2) for matching documents, the value in an Explaination may not allways
match  the value from #1, this is a bug.
3) for non-matching documents, there is no defined behavior for what
an Explanation should contain.  in many cases it uses 0.0f to indicate no
match, but 0.0f could also be a valid score for a match -- it's just not
well defined.
4) independent of #2 and #3, an Explanation should really only be used for
debugging -- it's much slower then just doing a search.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20492-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 04 21:22:41 2006
Return-Path: <java-user-return-20492-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5374 invoked from network); 4 May 2006 21:22:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2006 21:22:27 -0000
Received: (qmail 78787 invoked by uid 500); 4 May 2006 21:22:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78761 invoked by uid 500); 4 May 2006 21:22:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78750 invoked by uid 99); 4 May 2006 21:22:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 14:22:14 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.13 as permitted sender)
Received: from [80.67.18.13] (HELO smtprelay01.ispgateway.de) (80.67.18.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 14:22:13 -0700
Received: (qmail 23520 invoked from network); 4 May 2006 21:21:49 -0000
Received: from unknown (HELO p5496ee38.dip.t-dialin.net) ([pbs]695637@[84.150.238.56])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 4 May 2006 21:21:49 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Problem with lucene 1.9.1
Date: Thu, 4 May 2006 23:24:03 +0200
User-Agent: KMail/1.8.2
References: <002401c66eec$16420340$ad471bac@intraet.cesar.org.br>
In-Reply-To: <002401c66eec$16420340$ad471bac@intraet.cesar.org.br>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605042324.03894@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Mittwoch 03 Mai 2006 21:59, Rodrigo Marcuschi wrote:

> I am having problems using lucene 1.9.1. I was using 1.4.3 successfully,

Mhh, IndexModifier isn't part of Lucene 1.4, did you add it manually?

> documents I add, all I get is '1 docs in index'. If I DON'T close the
> modifier,

It must be closed, but not in your add() method, but when you stop using 
your UserIndexer object. So UserIndexer needs a close that closes the 
IndexModifier.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20493-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 04 21:23:04 2006
Return-Path: <java-user-return-20493-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5501 invoked from network); 4 May 2006 21:22:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2006 21:22:42 -0000
Received: (qmail 80043 invoked by uid 500); 4 May 2006 21:22:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79952 invoked by uid 500); 4 May 2006 21:22:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79922 invoked by uid 99); 4 May 2006 21:22:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 14:22:20 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.207.119.238] (HELO mail.netsweeper.com) (66.207.119.238)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 14:22:20 -0700
Received: from kobele.netsweeper.com ([192.168.1.181])
	by mail.netsweeper.com (8.12.11/8.12.11) with ESMTP id k44LLi2H015154
	for <java-user@lucene.apache.org>; Thu, 4 May 2006 17:21:44 -0400
From: Martin Kobele <martin.kobele@netsweeper.com>
Reply-To: martin.kobele@netsweeper.com
Organization: Netsweeper Inc
To: java-user@lucene.apache.org
Subject: Re: using search instead of explain
Date: Thu, 4 May 2006 17:22:27 -0400
User-Agent: KMail/1.9.1
References: <200605031635.05053.martin.kobele@netsweeper.com> <200605041337.47406.martin.kobele@netsweeper.com> <Pine.LNX.4.58.0605041411470.17134@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0605041411470.17134@hal.rescomp.berkeley.edu>
X-Face: 'Hg*nnc?-\\wB.#~W"O5hQ,b%:&[TGXGb4s<t+.W~W!/_mV@xzrS=pN0(=?utf-8?q?ETzKvX3=5E=25eqTj=0A=09=2E=23=7BUNfQz=5EhwgOKc=2Es=23rw!?=,7^!mGYLwvK
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605041722.27951.martin.kobele@netsweeper.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

awesome, thank you very much!

Regards,
Martin

On Thursday 04 May 2006 17:15, Chris Hostetter wrote:
> : so the score is always correct, just the Explain can return values
> : greater than 0 although the query did not match the document due to a
> : bug in Explain? Are all version affected of that? I use lucene 1.9.1.
>
> 1) the score returned by TopDocs or passed to a HitCollector is by
> definition the correct score.
> 2) for matching documents, the value in an Explaination may not allways
> match  the value from #1, this is a bug.
> 3) for non-matching documents, there is no defined behavior for what
> an Explanation should contain.  in many cases it uses 0.0f to indicate no
> match, but 0.0f could also be a valid score for a match -- it's just not
> well defined.
> 4) independent of #2 and #3, an Explanation should really only be used for
> debugging -- it's much slower then just doing a search.
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org

-- 
Martin Kobele
Software Engineer

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20494-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 04 21:45:18 2006
Return-Path: <java-user-return-20494-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17198 invoked from network); 4 May 2006 21:45:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2006 21:45:14 -0000
Received: (qmail 19962 invoked by uid 500); 4 May 2006 21:45:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19847 invoked by uid 500); 4 May 2006 21:45:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19751 invoked by uid 99); 4 May 2006 21:45:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 14:45:01 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 14:45:00 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 6069A5B764; Thu,  4 May 2006 14:44:40 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 46DA67F403
	for <java-user@lucene.apache.org>; Thu,  4 May 2006 14:44:40 -0700 (PDT)
Date: Thu, 4 May 2006 14:44:40 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Newbie questions re: scoring
In-Reply-To: <D3FB08E688E4954EADE12CCFFA2F2548D65FA2@canat0411.ca.deloitte.com>
Message-ID: <Pine.LNX.4.58.0605041434570.17134@hal.rescomp.berkeley.edu>
References: <D3FB08E688E4954EADE12CCFFA2F2548D65FA2@canat0411.ca.deloitte.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: 1)  I create an index with one document with a searchable field of "All
: dogs are brown."  If I search on that index with a query of "All dogs
: are brown." I do not get a hit with score 1.0, but something low like
: 0.38.  I tried looking at the scoring algorithm and can't make heads or
: tails of it.  Can anybody explain it to me in simple terms?

I've been using Lucene for about 16 months now, and i've never found a
simple way to explain the scoring.  But a big factor that you need to
realize is there is a differnece between the "raw" score and the
normalized score.  if you use a HitCollector or TopDocs object you get the
raw scored -- which is uncosntrained.  if you use a Hits object then your
scores will be normalized so that *if* the highest scoring document has a
score above 1, then all scores will be divided by the highest score -- if
the highest score is less then one, nothing changes.

my best advice for understainding how scores are calculated, is to look
at the toString() of an Explanation object from searcher.explain() for a
bunch of queries on a bunch of documens you know match, and think about
how those explanations corrispond to the equation in the Similarity class
javadocs.

: 2)  I have an index of documents, then run a search against it.  I run
: through the list of hits, building a Vector of documents whose score is
: above a certain threshold.  If I run the program with a threshold of
: say, 0.15, I'll get a Vector of documents with scores >= 0.15 (as
: expected).  If I set the threshold higher (0.30, for example) and rerun
: the program, I see some of the same documents that I thought would have
: been trimmed off with the higher threshold.  With a threshold of 0.15
: they would score 0.17, and with a threshold of 0.30 they are scoring
: something like 0.33.  Can anybody explain this?  My trimming is coming
: post-index-searching, so this is pretty confusing.

you are doing this with the exact same index and Query each time?

1) that shouldn't happen .. can you email some code that demonstates this
problem (ideally code that builds a small index and then searches it and
shows the same document getting two different scores without the index
changing)

2) independent of the scores being different, it is not safe to try and
pick a score threshold, this is mentioned in the FAQ...

http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-912c1f237bb00259185353182948e5935f0c2f03


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20495-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 04 22:03:34 2006
Return-Path: <java-user-return-20495-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25670 invoked from network); 4 May 2006 22:03:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 May 2006 22:03:32 -0000
Received: (qmail 55406 invoked by uid 500); 4 May 2006 22:03:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55381 invoked by uid 500); 4 May 2006 22:03:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55370 invoked by uid 99); 4 May 2006 22:03:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 15:03:25 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jlhamilton@kbsi.com designates 209.189.225.82 as permitted sender)
Received: from [209.189.225.82] (HELO mail.kbsi.com) (209.189.225.82)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 15:03:24 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Newbie questions re: scoring
Date: Thu, 4 May 2006 17:03:03 -0500
Message-ID: <25039D8626986D42820764CF3C2AB791580DD0@00-EMERALD.kbsi-cs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Newbie questions re: scoring
Thread-Index: AcZvxAZfmwIhiC/1SHyhD4Oe5TOHpAAAXkzA
From: "John Hamilton" <jlhamilton@kbsi.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


> 2) independent of the scores being different, it is not safe to try =
and
> pick a score threshold, this is mentioned in the FAQ...
>
> =
http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-912c1f237bb002591853=
53182948e5935f0c2f03



That link appears to be referring to normalized scores (everything is < =
1.0).  Is it also not safe to use a threshold for raw scores?


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20496-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 05 00:52:36 2006
Return-Path: <java-user-return-20496-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 645 invoked from network); 5 May 2006 00:52:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2006 00:52:36 -0000
Received: (qmail 65023 invoked by uid 500); 5 May 2006 00:52:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64997 invoked by uid 500); 5 May 2006 00:52:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64986 invoked by uid 99); 5 May 2006 00:52:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 17:52:30 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 May 2006 17:52:29 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 4D15A5B776; Thu,  4 May 2006 17:52:09 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 4A0A47F403
	for <java-user@lucene.apache.org>; Thu,  4 May 2006 17:52:09 -0700 (PDT)
Date: Thu, 4 May 2006 17:52:09 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: RE: Newbie questions re: scoring
In-Reply-To: <25039D8626986D42820764CF3C2AB791580DD0@00-EMERALD.kbsi-cs.com>
Message-ID: <Pine.LNX.4.58.0605041739351.4845@hal.rescomp.berkeley.edu>
References: <25039D8626986D42820764CF3C2AB791580DD0@00-EMERALD.kbsi-cs.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: That link appears to be referring to normalized scores (everything is <
: 1.0).  Is it also not safe to use a threshold for raw scores?

Nope.  The basic flaw in comparing scores between two queries still holds
... early messages in the threads linked to go into more detail, but as i
recall, the basic problem has to do with the way idf and docFreq come into
play.  Just becuase a term query for foo:bar says that document A has a
score of 2.2 and B has a score of 6.6; and a term query for yak:baz says
that document X has a score of 2.2 and Y has a score of 6.6 doesn't means
X is as relevent to yak:baz as A is to foo:bar -- it just means that the
relative quality of B compared to A is the same as the relative quality of
Y compared to X for their respective queries.  (once their normalized,
even that goes out the window)

the only way I can think of to fairly compare scores from queries for
foo:bar with queries for yak:baz is to normalize them relative a maximum
possible score across the entire term query space -- but finding that
maximum is a pretty complicated problem just for simple term queries ...
when you start talking about more complicated query structures you really
get messy -- and even then it's only fair as long as the query structures
are identical, you can never compare the scores from apples and oranges.





-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20497-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 05 08:03:03 2006
Return-Path: <java-user-return-20497-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63106 invoked from network); 5 May 2006 08:03:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2006 08:03:03 -0000
Received: (qmail 39304 invoked by uid 500); 5 May 2006 08:02:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39139 invoked by uid 500); 5 May 2006 08:02:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39114 invoked by uid 99); 5 May 2006 08:02:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 May 2006 01:02:54 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.35] (HELO smtp-vbr15.xs4all.nl) (194.109.24.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 May 2006 01:02:53 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr15.xs4all.nl (8.13.6/8.13.6) with ESMTP id k4582WvM070445
	for <java-user@lucene.apache.org>; Fri, 5 May 2006 10:02:32 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Tips on building a better BooleanQuery
Date: Fri, 5 May 2006 10:02:31 +0200
User-Agent: KMail/1.8.2
References: <11a4d6c20604281409p32e7333wd99c4eff8090278a@mail.gmail.com>
In-Reply-To: <11a4d6c20604281409p32e7333wd99c4eff8090278a@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605051002.31741.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Friday 28 April 2006 23:09, Daniel Shane wrote:
> Hi!
> 
> [I'm sorry for also posting this on the dev mailing list, but I was not sure
> in which one it would be best, so if there is a moderator, please kill
> either one.]
> 
> I'm planning on contributing to Lucene by adding a new kind of query. I dont
> know how to call it yet, but it would be a mix of BooleanQuery and
> ExactPhraseQuery.
> 
> I would like to have a Query that is a BooleanQuery, but with a slight touch
> where it would boost results if it finds the query terms in a an exact
> phrase.
> 
> For example, if I have terms A, B and C and I do a simple boolean search : A
> B C, I would like to have a query that behaves a bit like if I rewrote this
> query as such :
> 
> +A +B +C "A B" "B C" "A B C"
> 
> This would boost results where the exact string "A B C" or any substring
> like "A B" or "B C" are found.
>
> Of course I could rewrite all the queries, but it takes way too long to
> search which this algorithm. I wanted to know if anyone has any ideas in
> what direction I should go, or if its easy or not to implement this idea by
> modifying or extending some already existing Query classes.
> 
> I'm fairly new to Lucene although I know a bit about search engines, idf,
> etc... but I've tried to understand BooleanQuery and ExactPhraseQuery to see
> how I could modify them and I'm having a bit of a problem understanding it
> all on my own I guess.
> 
> Any help or comments would be appreciated, and if it works well I do think
> it would be a good addition to the Lucene code base (I think this query
> should be used as a default in the QueryParser if it works ok instead of a
> simple BooleanQuery).


Have a look in the archives at the thread "Lucene performance bottlenecks"
that started on 2 Dec 2005.

There are some recommendations there on how to implement a Scorer
for such a query.

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20498-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 05 14:14:27 2006
Return-Path: <java-user-return-20498-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57587 invoked from network); 5 May 2006 14:14:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2006 14:14:26 -0000
Received: (qmail 69499 invoked by uid 500); 5 May 2006 14:14:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69457 invoked by uid 500); 5 May 2006 14:14:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69446 invoked by uid 99); 5 May 2006 14:14:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 May 2006 07:14:19 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dayzman@gmail.com designates 64.233.166.179 as permitted sender)
Received: from [64.233.166.179] (HELO py-out-1112.google.com) (64.233.166.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 May 2006 07:14:18 -0700
Received: by py-out-1112.google.com with SMTP id i75so837743pye
        for <java-user@lucene.apache.org>; Fri, 05 May 2006 07:13:57 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=lv3+WeODCTt4zWhRoQhCvZ99PJK58MFM4fmiEGTVWXzq4T9yuCt8RtGQTsy+daQEkwFHvfdCFcXZcppqV/TNQ0P6roPrTf7mtVn7ZQaJJDksC1wEUE2MvKedU5YYSfU0WH1+jnYhXsQpswJC5C7x68wzq7WCXZHXI1c9EdSHh7E=
Received: by 10.35.98.6 with SMTP id a6mr736564pym;
        Fri, 05 May 2006 07:13:57 -0700 (PDT)
Received: by 10.35.93.3 with HTTP; Fri, 5 May 2006 07:13:57 -0700 (PDT)
Message-ID: <429c032d0605050713m629aa1e9t71f7cd49c3fce854@mail.gmail.com>
Date: Fri, 5 May 2006 22:13:57 +0800
From: "Michael Chan" <dayzman@gmail.com>
To: java-user@lucene.apache.org
Subject: SpanNearQuery .equals()/.hash()
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

It seems to me SpanNearQuery.equals()/.hash() are not overriden
because I've tried testing two logically equivalent queries but
.equals() returns false. Could anyone provide an implementation?

Cheers,

Michael

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20499-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 05 17:50:53 2006
Return-Path: <java-user-return-20499-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76272 invoked from network); 5 May 2006 17:50:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2006 17:50:52 -0000
Received: (qmail 2520 invoked by uid 500); 5 May 2006 17:50:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2310 invoked by uid 500); 5 May 2006 17:50:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2046 invoked by uid 99); 5 May 2006 17:50:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 May 2006 10:50:29 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 May 2006 10:50:28 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id DF04833C641; Fri,  5 May 2006 13:50:07 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 90CE633C641
	for <java-user@lucene.apache.org>; Fri,  5 May 2006 13:50:00 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v749.3)
In-Reply-To: <429c032d0605050713m629aa1e9t71f7cd49c3fce854@mail.gmail.com>
References: <429c032d0605050713m629aa1e9t71f7cd49c3fce854@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <57CCF33D-D525-4F3C-9C60-B2350B131118@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: SpanNearQuery .equals()/.hash()
Date: Fri, 5 May 2006 13:49:52 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.749.3)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-1.0 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_SORBS_DUL autolearn=no version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

What version of Lucene are you using?   It should work fine with  
1.9.  If not, could you supply a test case demonstrating this issue?

Thanks,
	Erik



On May 5, 2006, at 10:13 AM, Michael Chan wrote:

> Hi,
>
> It seems to me SpanNearQuery.equals()/.hash() are not overriden
> because I've tried testing two logically equivalent queries but
> .equals() returns false. Could anyone provide an implementation?
>
> Cheers,
>
> Michael
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20500-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 05 19:52:18 2006
Return-Path: <java-user-return-20500-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43882 invoked from network); 5 May 2006 19:52:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2006 19:52:17 -0000
Received: (qmail 75130 invoked by uid 500); 5 May 2006 19:52:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75044 invoked by uid 500); 5 May 2006 19:52:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75006 invoked by uid 99); 5 May 2006 19:52:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 May 2006 12:52:01 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.207.119.238] (HELO mail.netsweeper.com) (66.207.119.238)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 May 2006 12:52:00 -0700
Received: from kobele.netsweeper.com ([192.168.1.181])
	by mail.netsweeper.com (8.12.11/8.12.11) with ESMTP id k45JpNCJ018958
	for <java-user@lucene.apache.org>; Fri, 5 May 2006 15:51:24 -0400
From: Martin Kobele <martin.kobele@netsweeper.com>
Reply-To: martin.kobele@netsweeper.com
Organization: Netsweeper Inc
To: java-user@lucene.apache.org
Subject: is writing in an index thread safe?
Date: Fri, 5 May 2006 15:52:11 -0400
User-Agent: KMail/1.9.1
X-Face: 'Hg*nnc?-\\wB.#~W"O5hQ,b%:&[TGXGb4s<t+.W~W!/_mV@xzrS=pN0(=?utf-8?q?ETzKvX3=5E=25eqTj=0A=09=2E=23=7BUNfQz=5EhwgOKc=2Es=23rw!?=,7^!mGYLwvK
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605051552.12700.martin.kobele@netsweeper.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

is writing into an index with several threads safe?
I have a static IndexWriter and all the threads use that one to do an 
addDocument(Document).

Thanks!

Martin
-- 
Martin Kobele
Software Engineer

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20501-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 05 20:05:23 2006
Return-Path: <java-user-return-20501-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52438 invoked from network); 5 May 2006 20:05:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2006 20:05:22 -0000
Received: (qmail 5784 invoked by uid 500); 5 May 2006 20:05:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5756 invoked by uid 500); 5 May 2006 20:05:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5745 invoked by uid 99); 5 May 2006 20:05:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 May 2006 13:05:15 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.60] (HELO web50306.mail.yahoo.com) (206.190.38.60)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 05 May 2006 13:05:14 -0700
Received: (qmail 51350 invoked by uid 60001); 5 May 2006 20:04:52 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=4gGz74av9IMfs1ULpgCSilTSQiAnNxjhTXOeAYbny1xpIfTkVM0rAx/AzlTqkny8qNitYO9/4rcl0qh2ZsGV0Yv+WU8tPxLuWjCV7JayZ76MLnUGkvaE0KElRu3YIftVp2DhpwYq7Cz1u13EpV/KVTp62QY7DgRX7qcy8V6dyXc=  ;
Message-ID: <20060505200452.51348.qmail@web50306.mail.yahoo.com>
Date: Fri, 5 May 2006 13:04:52 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: is writing in an index thread safe?
To: java-user@lucene.apache.org
In-Reply-To: <200605051552.12700.martin.kobele@netsweeper.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yes, and I believe it's in the FAQ.

Otis

----- Original Message ----
From: Martin Kobele <martin.kobele@netsweeper.com>
To: java-user@lucene.apache.org
Sent: Friday, May 5, 2006 3:52:11 PM
Subject: is writing in an index thread safe?

Hi,

is writing into an index with several threads safe?
I have a static IndexWriter and all the threads use that one to do an 
addDocument(Document).

Thanks!

Martin
-- 
Martin Kobele
Software Engineer

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20502-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 05 20:15:10 2006
Return-Path: <java-user-return-20502-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58842 invoked from network); 5 May 2006 20:15:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2006 20:15:09 -0000
Received: (qmail 21023 invoked by uid 500); 5 May 2006 20:15:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20888 invoked by uid 500); 5 May 2006 20:14:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20873 invoked by uid 99); 5 May 2006 20:14:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 May 2006 13:14:59 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.207.119.238] (HELO mail.netsweeper.com) (66.207.119.238)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 May 2006 13:14:58 -0700
Received: from kobele.netsweeper.com ([192.168.1.181])
	by mail.netsweeper.com (8.12.11/8.12.11) with ESMTP id k45KEQ30021184
	for <java-user@lucene.apache.org>; Fri, 5 May 2006 16:14:27 -0400
From: Martin Kobele <martin.kobele@netsweeper.com>
Reply-To: martin.kobele@netsweeper.com
Organization: Netsweeper Inc
To: java-user@lucene.apache.org
Subject: Re: is writing in an index thread safe?
Date: Fri, 5 May 2006 16:15:11 -0400
User-Agent: KMail/1.9.1
References: <20060505200452.51348.qmail@web50306.mail.yahoo.com>
In-Reply-To: <20060505200452.51348.qmail@web50306.mail.yahoo.com>
X-Face: 'Hg*nnc?-\\wB.#~W"O5hQ,b%:&[TGXGb4s<t+.W~W!/_mV@xzrS=pN0(=?utf-8?q?ETzKvX3=5E=25eqTj=0A=09=2E=23=7BUNfQz=5EhwgOKc=2Es=23rw!?=,7^!mGYLwvK
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605051615.16024.martin.kobele@netsweeper.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

ouch, I missed it there. I always thought that the FAQ is really good! thank 
you! sorry for the noise.

Martin
On Friday 05 May 2006 16:04, Otis Gospodnetic wrote:
> Yes, and I believe it's in the FAQ.
>
> Otis
>
> ----- Original Message ----
> From: Martin Kobele <martin.kobele@netsweeper.com>
> To: java-user@lucene.apache.org
> Sent: Friday, May 5, 2006 3:52:11 PM
> Subject: is writing in an index thread safe?
>
> Hi,
>
> is writing into an index with several threads safe?
> I have a static IndexWriter and all the threads use that one to do an
> addDocument(Document).
>
> Thanks!
>
> Martin

-- 
Martin Kobele
Software Engineer

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20503-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 05 20:52:11 2006
Return-Path: <java-user-return-20503-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72264 invoked from network); 5 May 2006 20:52:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 May 2006 20:52:10 -0000
Received: (qmail 71395 invoked by uid 500); 5 May 2006 20:52:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71368 invoked by uid 500); 5 May 2006 20:52:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71357 invoked by uid 99); 5 May 2006 20:52:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 May 2006 13:52:01 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of romain.pechard@gmail.com designates 64.233.166.177 as permitted sender)
Received: from [64.233.166.177] (HELO py-out-1112.google.com) (64.233.166.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 May 2006 13:52:01 -0700
Received: by py-out-1112.google.com with SMTP id i75so927616pye
        for <java-user@lucene.apache.org>; Fri, 05 May 2006 13:51:40 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=XBet88xVyVED+BGLjbvGU4S5idF8eMFiaTOvIDOJMVqGWaY1LjY0uxb1P1vppW6vnlD+V4RPWcRDPzBrnJc45/tPU3z2ZSQyg1H5Qnt5JsidfLXwziY2XekCw9V7EsoFsoKrtg3Z4hvd+TEKE0o7Z5ZZkdPgDCS9EtVYxIdECD0=
Received: by 10.35.119.11 with SMTP id w11mr1185826pym;
        Fri, 05 May 2006 13:51:40 -0700 (PDT)
Received: by 10.35.108.13 with HTTP; Fri, 5 May 2006 13:51:40 -0700 (PDT)
Message-ID: <9e0563320605051351t7bf755ebv3011741baf59289d@mail.gmail.com>
Date: Fri, 5 May 2006 22:51:40 +0200
From: "=?ISO-8859-1?Q?Romain_P=E9chard?=" <romain.pechard@gmail.com>
To: java-user@lucene.apache.org
Subject: existing feature for Lucene ?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_41775_33318833.1146862300635"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_41775_33318833.1146862300635
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

Can the Lucene software do the following thing with some features : search
selected keywords in selected websites (forums, blogs, and others), store
the URLs where the keywords are found sorted by date and then show them in
tabular form ?

Full description of the feature I'm looking for :

The software has to run at least once a day but the better would be a real
time scanning.

Once the fist scan of a given website done, the next run has to check if th=
e
pages have been updated and then to check if there's any keyword in that ne=
w
part. It also needs to return if there's a simple update or if there's a
keyword in it (with tag or colour).

The user front-end would need 2 parts. The 1st to tag the given websites
with the chosen keywords (there would be multiple tags for a given website
and a keywords can be associated with many websites). The 2nd to show the
results in 3 tabular forms:

   1. Website result page: number of time the keywords of a given website
   appears (and the list of the URLs) in table and in pie chart form.
   2. Keywords result page: number of time the keyword appears in all the
   websites associated (and the list of the URLs) in table and in histogram=
.
   3. Global result page: ratio of the different keywords for all the
   websites (% and number of time) in pie chart and histogram forms.

Best,

--
Romain P=E9chard

------=_Part_41775_33318833.1146862300635--

From java-user-return-20504-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 06 01:17:15 2006
Return-Path: <java-user-return-20504-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56996 invoked from network); 6 May 2006 01:17:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 May 2006 01:17:14 -0000
Received: (qmail 84479 invoked by uid 500); 6 May 2006 01:17:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84452 invoked by uid 500); 6 May 2006 01:17:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84441 invoked by uid 99); 6 May 2006 01:17:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 May 2006 18:17:07 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gws293@hotmail.com designates 64.4.51.32 as permitted sender)
Received: from [64.4.51.32] (HELO hotmail.com) (64.4.51.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 May 2006 18:17:06 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Fri, 5 May 2006 18:16:45 -0700
Message-ID: <BAY107-F2218B73DF532F68013A09394AA0@phx.gbl>
Received: from 64.4.51.220 by by107fd.bay107.hotmail.msn.com with HTTP;
	Sat, 06 May 2006 01:16:43 GMT
X-Originating-IP: [125.255.18.237]
X-Originating-Email: [gws293@hotmail.com]
X-Sender: gws293@hotmail.com
From: "George Washington" <gws293@hotmail.com>
To: java-user@lucene.apache.org
Subject: Encryption
Date: Sat, 06 May 2006 01:16:43 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 06 May 2006 01:16:45.0811 (UTC) FILETIME=[BDD2FC30:01C670AA]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am using Lucene to index as well as to store complete source documents 
(typically few tens of thousands of documents, not millions). I would like 
to protect the source documents with encryption but have the following 
questions:
Is it possible to reconstruct a complete source document from the data 
stored in the index, even if the fields are only indexed but not stored? 
Because if the answer is "yes" there is no point in encrypting, unless the 
index itself can be encrypted. Is it feasible to encrypt the index?

If some of the source document fields are also stored in the index, can they 
be encrypted after indexing (and decoded following a search) without any 
side effects?
Many thanks
Victor

_________________________________________________________________
Research and compare new cars side by side at carpoint.com.au 
http://secure-au.imrworldwide.com/cgi-bin/a/ci_450304/et_2/cg_801459/pi_1004813/ai_833884


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20505-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 06 02:55:55 2006
Return-Path: <java-user-return-20505-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90767 invoked from network); 6 May 2006 02:55:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 May 2006 02:55:54 -0000
Received: (qmail 44445 invoked by uid 500); 6 May 2006 02:55:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44377 invoked by uid 500); 6 May 2006 02:55:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44366 invoked by uid 99); 6 May 2006 02:55:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 May 2006 19:55:48 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.227] (HELO web50314.mail.yahoo.com) (206.190.39.227)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 05 May 2006 19:55:47 -0700
Received: (qmail 39206 invoked by uid 60001); 6 May 2006 02:55:23 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=TU1MayOFvDHCkUjChRQdO2WVXi/+K2hixEoQLduwe1Q6avFRRO+CoX8JsAivz1zYO5cWjCxJHWsmstMzB/bsywz6s3oK1UyZjzEYJuluOWMa/w8ksms5mqxOP00hPvBsUqVHqQmKo4W5vm+5qKAxuKMDAQ5djekh8gGluWamqsw=  ;
Message-ID: <20060506025523.39204.qmail@web50314.mail.yahoo.com>
Date: Fri, 5 May 2006 19:55:23 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: existing feature for Lucene ?
To: java-user@lucene.apache.org
In-Reply-To: <9e0563320605051351t7bf755ebv3011741baf59289d@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Romain,

The short answer is: no.
The long answer is: Lucene is a library/toolkit for text indexing and searc=
hing.  The functionality that you described is what your application would =
have to do, and Lucene would provide only indexing and searching.

You may also want to look at Nutch, a web-crawling and searching applicatio=
n that is part of the Lucene project.

Otis

----- Original Message ----
From: Romain P=C3=A9chard <romain.pechard@gmail.com>
To: java-user@lucene.apache.org
Sent: Friday, May 5, 2006 1:51:40 PM
Subject: existing feature for Lucene ?

Hi,

Can the Lucene software do the following thing with some features : search
selected keywords in selected websites (forums, blogs, and others), store
the URLs where the keywords are found sorted by date and then show them in
tabular form ?

Full description of the feature I'm looking for :

The software has to run at least once a day but the better would be a real
time scanning.

Once the fist scan of a given website done, the next run has to check if th=
e
pages have been updated and then to check if there's any keyword in that ne=
w
part. It also needs to return if there's a simple update or if there's a
keyword in it (with tag or colour).

The user front-end would need 2 parts. The 1st to tag the given websites
with the chosen keywords (there would be multiple tags for a given website
and a keywords can be associated with many websites). The 2nd to show the
results in 3 tabular forms:

   1. Website result page: number of time the keywords of a given website
   appears (and the list of the URLs) in table and in pie chart form.
   2. Keywords result page: number of time the keyword appears in all the
   websites associated (and the list of the URLs) in table and in histogram=
.
   3. Global result page: ratio of the different keywords for all the
   websites (% and number of time) in pie chart and histogram forms.

Best,

--
Romain P=C3=A9chard




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20506-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 06 02:59:37 2006
Return-Path: <java-user-return-20506-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91589 invoked from network); 6 May 2006 02:59:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 May 2006 02:59:36 -0000
Received: (qmail 47506 invoked by uid 500); 6 May 2006 02:59:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47476 invoked by uid 500); 6 May 2006 02:59:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47462 invoked by uid 99); 6 May 2006 02:59:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 May 2006 19:59:29 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.215] (HELO web50313.mail.yahoo.com) (206.190.39.215)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 05 May 2006 19:59:28 -0700
Received: (qmail 42676 invoked by uid 60001); 6 May 2006 02:59:04 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=hX1mQmywMiEDF+A5ynhSg7vFAFPybAHJo6I37OsmOmk9PeVePvmuMXRepUK8dkANCrXC0jXu6IPlQlXvTQke5Q9cB70K0wDE/vZK4tBpFgeRiT5rjVIXAIvTDvYHB7NG0yp+xfmTB9MQhY0Qxa/y8S5RH6i1vTLDJ+bpUqdK8vQ=  ;
Message-ID: <20060506025904.42674.qmail@web50313.mail.yahoo.com>
Date: Fri, 5 May 2006 19:59:04 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Encryption
To: java-user@lucene.apache.org
In-Reply-To: <BAY107-F2218B73DF532F68013A09394AA0@phx.gbl>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am using Lucene to index as well as to store complete source documents 
(typically few tens of thousands of documents, not millions). I would like 
to protect the source documents with encryption but have the following 
questions:
Is it possible to reconstruct a complete source document from the data 
stored in the index, even if the fields are only indexed but not stored? 

-- Don't think so, especially if you remove stop words or use a stemming analyzer, etc.

Because if the answer is "yes" there is no point in encrypting, unless the 
index itself can be encrypted. Is it feasible to encrypt the index?

-- I believe there are file-system level "things" that migt allow that (e.g. encrypt the directory with the index)

If some of the source document fields are also stored in the index, can they 
be encrypted after indexing (and decoded following a search) without any 
side effects?

-- I'll let somebody else answer that.

- Bill Clinton





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20507-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 06 06:38:10 2006
Return-Path: <java-user-return-20507-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44724 invoked from network); 6 May 2006 06:38:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 May 2006 06:38:10 -0000
Received: (qmail 63371 invoked by uid 500); 6 May 2006 06:38:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63336 invoked by uid 500); 6 May 2006 06:38:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63324 invoked by uid 99); 6 May 2006 06:38:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 May 2006 23:38:04 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.16 as permitted sender)
Received: from [80.67.18.16] (HELO smtprelay04.ispgateway.de) (80.67.18.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 May 2006 23:38:00 -0700
Received: (qmail 29151 invoked from network); 6 May 2006 06:37:36 -0000
Received: from unknown (HELO p5496f16a.dip.t-dialin.net) ([pbs]695637@[84.150.241.106])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay04.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 6 May 2006 06:37:36 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Encryption
Date: Sat, 6 May 2006 08:37:05 +0200
User-Agent: KMail/1.8.2
References: <BAY107-F2218B73DF532F68013A09394AA0@phx.gbl>
In-Reply-To: <BAY107-F2218B73DF532F68013A09394AA0@phx.gbl>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605060837.05622@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Samstag 06 Mai 2006 03:16, George Washington wrote:

> Is it possible to reconstruct a complete source document from the data
> stored in the index, even if the fields are only indexed but not stored?

Yes, although stopwords etc get lost. You can use Luke's "Reconstruct & 
Edit" feature to see what's in the index.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20508-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 06 17:39:06 2006
Return-Path: <java-user-return-20508-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50038 invoked from network); 6 May 2006 17:39:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 May 2006 17:39:06 -0000
Received: (qmail 42732 invoked by uid 500); 6 May 2006 17:39:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42697 invoked by uid 500); 6 May 2006 17:38:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42686 invoked by uid 99); 6 May 2006 17:38:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 May 2006 10:38:59 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dayzman@gmail.com designates 64.233.166.179 as permitted sender)
Received: from [64.233.166.179] (HELO py-out-1112.google.com) (64.233.166.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 May 2006 10:38:58 -0700
Received: by py-out-1112.google.com with SMTP id i75so1080688pye
        for <java-user@lucene.apache.org>; Sat, 06 May 2006 10:38:38 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=ik8xTDBODf9BLkKDY+L5CoGt386K9oj8a7nuT39i1SY/hhG7zIcm7kP1cAMzBLYlRzt3cCW5KX881oFsHUS/ZNUkaiXDIWMz6z4PbzD/xmtSARuYGk0BmsNskuT9a++q6esMPM1MwTplLmupcvX8l6yDOfvdkW70kJIJC/lqS0E=
Received: by 10.35.82.15 with SMTP id j15mr506287pyl;
        Sat, 06 May 2006 10:38:38 -0700 (PDT)
Received: by 10.35.93.3 with HTTP; Sat, 6 May 2006 10:38:38 -0700 (PDT)
Message-ID: <429c032d0605061038o46b8c111q8c9c3160e29f97f1@mail.gmail.com>
Date: Sun, 7 May 2006 01:38:38 +0800
From: "Michael Chan" <dayzman@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: SpanNearQuery .equals()/.hash()
In-Reply-To: <57CCF33D-D525-4F3C-9C60-B2350B131118@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <429c032d0605050713m629aa1e9t71f7cd49c3fce854@mail.gmail.com>
	 <57CCF33D-D525-4F3C-9C60-B2350B131118@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I'm using the latest version. Try the following:

=09=09=09=09SpanQuery[] clauses1 =3D {new SpanTermQuery(new Term("contents"=
,
"test1")), new SpanTermQuery(new Term("contents", "test2"))};
=09=09=09=09SpanNearQuery nearQ1 =3D new SpanNearQuery(clauses1, 3, false);

=09=09=09=09SpanQuery[] clauses2 =3D {new SpanTermQuery(new Term("contents"=
,
"test2")), new SpanTermQuery(new Term("contents", "test1"))};
=09=09=09=09SpanNearQuery nearQ2 =3D new SpanNearQuery(clauses2, 3, false);

=09=09=09=09System.out.println(nearQ1.equals(nearQ2));

It works if clauses2 =3D {new SpanTermQuery(new Term("contents",
"test1")), new SpanTermQuery(new Term("contents", "test2"))}. But,
since order doesn't matter here, the two queries should be equal,
right?

Cheers,

Michael


On 5/6/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
> What version of Lucene are you using?   It should work fine with
> 1.9.  If not, could you supply a test case demonstrating this issue?
>
> Thanks,
>         Erik
>
>
>
> On May 5, 2006, at 10:13 AM, Michael Chan wrote:
>
> > Hi,
> >
> > It seems to me SpanNearQuery.equals()/.hash() are not overriden
> > because I've tried testing two logically equivalent queries but
> > .equals() returns false. Could anyone provide an implementation?
> >
> > Cheers,
> >
> > Michael
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20509-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 06 18:14:51 2006
Return-Path: <java-user-return-20509-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58731 invoked from network); 6 May 2006 18:14:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 May 2006 18:14:51 -0000
Received: (qmail 67642 invoked by uid 500); 6 May 2006 18:14:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66782 invoked by uid 500); 6 May 2006 18:14:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66771 invoked by uid 99); 6 May 2006 18:14:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 May 2006 11:14:44 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.166.176 as permitted sender)
Received: from [64.233.166.176] (HELO py-out-1112.google.com) (64.233.166.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 May 2006 11:14:43 -0700
Received: by py-out-1112.google.com with SMTP id i75so1084757pye
        for <java-user@lucene.apache.org>; Sat, 06 May 2006 11:14:23 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=iFGF0vI6JW2heZC5Pq2/Zf+Qlb4NR8bGTCpclptxRSRf6w2bidzWk33KdAWyMMemcabMu49dRoF3LXsBUSxcySMo1utRk8HrHjXMTW8Z9NAcMl7r4Su+myLZyi52EjKkgP6XhOCf2P8haSIFFz8Zl2DZZ/8YPBUP33p4qo13ttk=
Received: by 10.35.34.18 with SMTP id m18mr530686pyj;
        Sat, 06 May 2006 11:14:23 -0700 (PDT)
Received: by 10.35.107.3 with HTTP; Sat, 6 May 2006 11:14:23 -0700 (PDT)
Message-ID: <c68e39170605061114i5d849482u2ba4ba8f4bcb8ad4@mail.gmail.com>
Date: Sat, 6 May 2006 14:14:23 -0400
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: SpanNearQuery .equals()/.hash()
In-Reply-To: <429c032d0605061038o46b8c111q8c9c3160e29f97f1@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <429c032d0605050713m629aa1e9t71f7cd49c3fce854@mail.gmail.com>
	 <57CCF33D-D525-4F3C-9C60-B2350B131118@ehatchersolutions.com>
	 <429c032d0605061038o46b8c111q8c9c3160e29f97f1@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yes, most of Lucene's Query equals() and hashCode() methods consider
clause order important (including BooleanQuery).  It's like
List.equals() vs Set.equals()

I'm not sure if it's worth fixing them all or not... implementing set
equality with an underlying list can certainly be more expensive (some
kind of HashSet would be more efficient for that).

Users can also get this behavior by normalizing or sorting clauses.

-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server


On 5/6/06, Michael Chan <dayzman@gmail.com> wrote:
> Hi,
>
> I'm using the latest version. Try the following:
>
>                                 SpanQuery[] clauses1 =3D {new SpanTermQue=
ry(new Term("contents",
> "test1")), new SpanTermQuery(new Term("contents", "test2"))};
>                                 SpanNearQuery nearQ1 =3D new SpanNearQuer=
y(clauses1, 3, false);
>
>                                 SpanQuery[] clauses2 =3D {new SpanTermQue=
ry(new Term("contents",
> "test2")), new SpanTermQuery(new Term("contents", "test1"))};
>                                 SpanNearQuery nearQ2 =3D new SpanNearQuer=
y(clauses2, 3, false);
>
>                                 System.out.println(nearQ1.equals(nearQ2))=
;
>
> It works if clauses2 =3D {new SpanTermQuery(new Term("contents",
> "test1")), new SpanTermQuery(new Term("contents", "test2"))}. But,
> since order doesn't matter here, the two queries should be equal,
> right?
>
> Cheers,
>
> Michael
>
>
> On 5/6/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
> > What version of Lucene are you using?   It should work fine with
> > 1.9.  If not, could you supply a test case demonstrating this issue?
> >
> > Thanks,
> >         Erik
> >
> >
> >
> > On May 5, 2006, at 10:13 AM, Michael Chan wrote:
> >
> > > Hi,
> > >
> > > It seems to me SpanNearQuery.equals()/.hash() are not overriden
> > > because I've tried testing two logically equivalent queries but
> > > .equals() returns false. Could anyone provide an implementation?
> > >
> > > Cheers,
> > >
> > > Michael
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20510-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 06 19:22:57 2006
Return-Path: <java-user-return-20510-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92411 invoked from network); 6 May 2006 19:22:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 May 2006 19:22:56 -0000
Received: (qmail 19617 invoked by uid 500); 6 May 2006 19:22:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19574 invoked by uid 500); 6 May 2006 19:22:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19563 invoked by uid 99); 6 May 2006 19:22:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 May 2006 12:22:50 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 May 2006 12:22:50 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 076995B763; Sat,  6 May 2006 12:22:22 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id F17EF7F403
	for <java-user@lucene.apache.org>; Sat,  6 May 2006 12:22:22 -0700 (PDT)
Date: Sat, 6 May 2006 12:22:22 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: SpanNearQuery .equals()/.hash()
In-Reply-To: <c68e39170605061114i5d849482u2ba4ba8f4bcb8ad4@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0605061210190.32746@hal.rescomp.berkeley.edu>
References: <429c032d0605050713m629aa1e9t71f7cd49c3fce854@mail.gmail.com> 
 <57CCF33D-D525-4F3C-9C60-B2350B131118@ehatchersolutions.com> 
 <429c032d0605061038o46b8c111q8c9c3160e29f97f1@mail.gmail.com>
 <c68e39170605061114i5d849482u2ba4ba8f4bcb8ad4@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I'm not sure if it's worth fixing them all or not... implementing set

i'm -1 against making this change.  The results of searching on these
query objects may be the same -- but that doesn't mean the query objects
themselves should be considered equivilent.  attempting to define them as
equal would lead to a slippery slope of trying to determine that any two
queries (possibly implimented by different classes) are "equal" because
they produce the same results.

Assume that (hypothetically) a SpanNearQuery containing two
SpanTermQueries with inOrder=1 and slop=0 scores *exactly* the same as a
PhraseQuery with 0 slop containing the same two terms.  SHould these
queries be considered equal ?




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20511-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 06 20:51:46 2006
Return-Path: <java-user-return-20511-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31327 invoked from network); 6 May 2006 20:51:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 May 2006 20:51:46 -0000
Received: (qmail 72682 invoked by uid 500); 6 May 2006 20:51:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72640 invoked by uid 500); 6 May 2006 20:51:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72629 invoked by uid 99); 6 May 2006 20:51:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 May 2006 13:51:39 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [85.118.4.17] (HELO snorlax.uk.scalix.com) (85.118.4.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 May 2006 13:51:39 -0700
Received: from snorlax.uk.scalix.com (localhost.localdomain [127.0.0.1])
	by snorlax.uk.scalix.com (8.12.11.20060308/8.12.11) with ESMTP id k46KpFxn031739
	for <java-user@lucene.apache.org>; Sat, 6 May 2006 21:51:15 +0100
Received: from snorlax.uk.scalix.com (root@localhost)
	by snorlax.uk.scalix.com (8.12.11.20060308/8.12.11/Submit) with ESMTP id k46KpEqU031737
	for <java-user@lucene.apache.org>; Sat, 6 May 2006 21:51:15 +0100
Received: from [192.168.0.22] (snorlax.uk.scalix.com 10.11.108.216)
    by snorlax.uk.scalix.com (Scalix SMTP Relay 10.0.1.3)
    via ESMTP; Sat, 06 May 2006 21:51:14 +0100 (BST)
Date: Sat, 6 May 2006 21:51:04 +0100
From: John Haxby <jch@scalix.com>
To: java-user@lucene.apache.org
Message-ID: <445D0C38.3050304@scalix.com>
In-Reply-To: <BAY107-F2218B73DF532F68013A09394AA0@phx.gbl>
References: <BAY107-F2218B73DF532F68013A09394AA0@phx.gbl>
Subject: Re: Encryption
x-scalix-Hops: 1
User-Agent: Thunderbird 1.5.0.2 (X11/20060501)
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1";
	format="flowed"
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

George Washington wrote:
> Is it possible to reconstruct a complete source document from the data 
> stored in the index, even if the fields are only indexed but not 
> stored? Because if the answer is "yes" there is no point in 
> encrypting, unless the index itself can be encrypted. Is it feasible 
> to encrypt the index?

As Otis said, no, in general it's not possible to reconstruct the 
document, but that might not be needed to discover interesting thing 
about the documents.  For example, it's interesting to know if lots of 
documents contain the word "zimbra" or the words "eliminate" and 
"competition" -- smile -- near each other.   I'm sure you can dream up 
your own examples.

If your documents need to be encrypted to protect them, then I would say 
that your index does as well.   Although you can't reconstruct the 
original document you can certainly find out all kinds of interesting 
things even just by searching for phrases, let alone looking at what 
terms were indexesd.

As Otis also suggested, your best bet is going to be to use an encrypted 
file system; both Linux and Windows offer this capability.   Of course, 
and I presume you've already done this for the douments, you're going to 
have to worry about the safety of the key used to encrypt the file 
system and all the other associated security issues.

jch (I wouldn't be paranoid if they weren't out to get me)

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20512-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 06 21:47:33 2006
Return-Path: <java-user-return-20512-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40685 invoked from network); 6 May 2006 21:47:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 May 2006 21:47:33 -0000
Received: (qmail 173 invoked by uid 500); 6 May 2006 21:47:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 135 invoked by uid 500); 6 May 2006 21:47:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 124 invoked by uid 99); 6 May 2006 21:47:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 May 2006 14:47:27 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [81.169.158.23] (HELO mail.aurisp.de) (81.169.158.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 May 2006 14:47:27 -0700
Received: from localhost (localhost [127.0.0.1])
	by mail.aurisp.de (Postfix) with ESMTP id A9D33B811
	for <java-user@lucene.apache.org>; Sat,  6 May 2006 23:47:04 +0200 (CEST)
Received: from mail.aurisp.de ([127.0.0.1])
	by localhost (mail.aurisp.de [127.0.0.1]) (amavisd-new, port 10024)
	with LMTP id 08142-01-7 for <java-user@lucene.apache.org>;
	Sat, 6 May 2006 23:46:54 +0200 (CEST)
Received: from localhost (p50887F07.dip.t-dialin.net [80.136.127.7])
	by mail.aurisp.de (Postfix) with ESMTP id 53475B80B
	for <java-user@lucene.apache.org>; Sat,  6 May 2006 23:46:52 +0200 (CEST)
Date: Sat, 6 May 2006 23:46:47 +0200
From: Sebastian Marius Kirsch <skirsch@sebastian-kirsch.org>
To: java-user@lucene.apache.org
Subject: Re: Encryption
Message-ID: <20060506214647.GI757@amok.priv>
References: <BAY107-F2218B73DF532F68013A09394AA0@phx.gbl>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <BAY107-F2218B73DF532F68013A09394AA0@phx.gbl>
User-Agent: Mutt/1.4i
X-Virus-Scanned: amavisd-new at mail.aurisp.de
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Sat, May 06, 2006 at 01:16:43AM +0000, George Washington wrote:
> I am using Lucene to index as well as to store complete source documents 
> (typically few tens of thousands of documents, not millions). I would like 
> to protect the source documents with encryption but have the following 
> questions:

It's hard to suggest something without knowing exactly what your
scenario is, and against what threat you're trying to protect yourself
using encryption. Without knowing that, we can't really suggest
anything. From whom exactly are you trying to "protect the source
documents"?

For example, people have already told you that you can reconstruct an
approximation of the source documents from the index if you have
position information. Then an attacker could at least find out all the
terms and their sequence for each document.

You could try to guard against that by hashing the terms. But then,
things like wildcard queries or range queries would not work. And a
dedicated attacker could still run a dictionary attack or a brute
force attack to get the index terms corresponding to each hash term.

You could store the encrypted and base64 encoded source documents in a
stored, but unindexed field. (NB: Is base64 really necessary here?)
But where would the key for decryption come from? Would it be the same
for every document, or different ones?

If you just encrypt the whole index, it becomes just another file
encryption problem, and you can use anything you like (PGP, SSL, some
encrypted loopback stuff which works on Linux, a Mac OS encrypted disk
image, etc.) But then this question has nothing to do with Lucene.

So what exactly are you trying to accomplish? What are you trying to
guard against?

Regards, Sebastian

-- 
Sebastian Kirsch <skirsch@sebastian-kirsch.org> [http://www.sebastian-kirsch.org/]

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20513-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 07 07:38:30 2006
Return-Path: <java-user-return-20513-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2657 invoked from network); 7 May 2006 07:38:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 May 2006 07:38:30 -0000
Received: (qmail 66887 invoked by uid 500); 7 May 2006 07:38:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66849 invoked by uid 500); 7 May 2006 07:38:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66838 invoked by uid 99); 7 May 2006 07:38:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 May 2006 00:38:23 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of gws293@hotmail.com designates 64.4.51.26 as permitted sender)
Received: from [64.4.51.26] (HELO hotmail.com) (64.4.51.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 May 2006 00:38:21 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Sun, 7 May 2006 00:38:00 -0700
Message-ID: <BAY107-F1686DB549075DC95842B5494AB0@phx.gbl>
Received: from 64.4.51.220 by by107fd.bay107.hotmail.msn.com with HTTP;
	Sun, 07 May 2006 07:37:59 GMT
X-Originating-IP: [125.255.18.237]
X-Originating-Email: [gws293@hotmail.com]
X-Sender: gws293@hotmail.com
In-Reply-To: <200605060837.05622@danielnaber.de>
From: "George Washington" <gws293@hotmail.com>
To: java-user@lucene.apache.org
Subject: Re: Encryption
Date: Sun, 07 May 2006 07:37:59 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 07 May 2006 07:38:00.0858 (UTC) FILETIME=[2AD3E7A0:01C671A9]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thank you all for your replies (and Otis and John for your lively sense of 
humour as well).
I obviously accept the need to encrypt the index, but am not sure that using 
the Windows (or Linux) file system encryption will solve the problem. My 
understanding is that both cannot be under my application control, they need 
to be part of the site policy. Hence cannot be relied upon in all instances. 
I want the user to decide if encryption is required and then enable it 
knowing that it will be done.
If my understanding above is correct, the other alternative is to use the 
Java Cryptography Extension (JCE) to encrypt (and decode) the index on the 
fly. This however is more complex, and where I was hoping your knowledge of 
Lucene could help.
I suspect it would require careful choice of positioning of the encryption 
and decoding calls so as not to interfere for instance with segment 
optimisation and merging and many other such complications. Searching 
through this mailing list has revealed no interest in encryption at all.
Any suggestion as to how JCE could be embedded in Lucene? (or whether I am 
on the right or wrong track!)
Thanks
Victor

_________________________________________________________________
New year, new job  there's more than 100,00 jobs at SEEK 
http://a.ninemsn.com.au/b.aspx?URL=http%3A%2F%2Fninemsn%2Eseek%2Ecom%2Eau&_t=752315885&_r=Jan05_tagline&_m=EXT


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20514-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 07 12:01:35 2006
Return-Path: <java-user-return-20514-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80539 invoked from network); 7 May 2006 12:01:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 May 2006 12:01:34 -0000
Received: (qmail 72100 invoked by uid 500); 7 May 2006 12:01:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72065 invoked by uid 500); 7 May 2006 12:01:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72053 invoked by uid 99); 7 May 2006 12:01:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 May 2006 05:01:28 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of foxwu718@gmail.com designates 66.249.92.174 as permitted sender)
Received: from [66.249.92.174] (HELO ug-out-1314.google.com) (66.249.92.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 May 2006 05:01:27 -0700
Received: by ug-out-1314.google.com with SMTP id y2so1226653uge
        for <java-user@lucene.apache.org>; Sun, 07 May 2006 05:01:06 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=q7zRnw/jODLz5zvAAH9YWtfyW5kYxj8DH9/78Af5Rq4eTzm5fkceNwjRKjz2rTFdyMax8kNDNmPoWPi4eAbOb+XEXgUENf249NNepSiHRRshJuWTsNRzN1+8Wnx5R0wOZ77k90kfTlsEUq96YHEWPP50QrfMi44CaghuzD/PgEs=
Received: by 10.78.18.1 with SMTP id 1mr444264hur;
        Sun, 07 May 2006 05:01:06 -0700 (PDT)
Received: by 10.78.30.18 with HTTP; Sun, 7 May 2006 05:01:06 -0700 (PDT)
Message-ID: <9e7ba420605070501n45c573e1ob73c82dbcce93507@mail.gmail.com>
Date: Sun, 7 May 2006 20:01:06 +0800
From: "wu fox" <foxwu718@gmail.com>
To: java-user@lucene.apache.org
Subject: How lucene merge search results
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_17854_30662384.1147003266112"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_17854_30662384.1147003266112
Content-Type: text/plain; charset=GB2312; format=flowed
Content-Transfer-Encoding: base64
Content-Disposition: inline

SGkgYWxsOgogICBTb21lb25lIHRvbGQgbWUgcmVjZW50bHkgd2hlbiBsdWNlbmUgc2VhcmNoIGEg
cXVlcnkgd2hpY2ggY290YWlucyBzZXZlcmFsCmNsYXVzZXMgLGZvciBleGFtcGxlOiB0aXRsZToi
bHVjZW5lIGluIGFjdGlvbiIgQU5EIHB1Ymxpc2hlcjptYW5uaW5nICxsdWNlbmUKZmlyc3Qgc2Vh
cmNoIHRpdGxlOiJsdWNlbmUgaW4gYWN0aW9uIiBhbmQgdGhlbiBzZWFyY2ggcHVibGlzaGVyOm1h
bm5pbmcKLGx1Y2VuZSB3aWxsIGNvbWJpbmUgdGhlIHJlc3VsdHMgb2YgdGhlc2UgdG93IHNlYXJj
aCBwcm9jZXNzLEkganVzdCB3b25kZXIKaG93IGx1Y2VuZSBjYW4gZG8gdGhpcyBhbmQgSWYgaXQg
aXQgbm90IHRydWUgdGhlbiBob3cgbHVjZW5lIGNvbWJpbmUgc2VhcmNoCnJlc3VsdHM/IHRoYW5r
IHlvdQotLQqwrsn6u+6jrLCuRk9YCg==
------=_Part_17854_30662384.1147003266112--

From java-user-return-20515-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 07 19:25:12 2006
Return-Path: <java-user-return-20515-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35104 invoked from network); 7 May 2006 19:25:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 May 2006 19:25:11 -0000
Received: (qmail 8664 invoked by uid 500); 7 May 2006 19:25:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8602 invoked by uid 500); 7 May 2006 19:25:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8591 invoked by uid 99); 7 May 2006 19:25:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 May 2006 12:25:05 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.33] (HELO smtp-vbr13.xs4all.nl) (194.109.24.33)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 May 2006 12:25:05 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr13.xs4all.nl (8.13.6/8.13.6) with ESMTP id k47JOeQ8043899
	for <java-user@lucene.apache.org>; Sun, 7 May 2006 21:24:44 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Invoking luke when No sub-file with id ... found
Date: Sun, 7 May 2006 21:24:39 +0200
User-Agent: KMail/1.8.2
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605072124.39704.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dear readers,

I had this error message from luke when opening a recent index:

No sub-file with id ... found

After looking around a bit on the web I found the problem mentioned
several times, but no solution.
Putting the lucene jar that created the index on the classpath before
lukeall.jar allows luke to normally work on such an index:

java -cp lucene-core-1.9-rc1-dev.jar:lukeall.jar org.getopt.luke.Luke

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20516-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 08 06:35:45 2006
Return-Path: <java-user-return-20516-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65478 invoked from network); 8 May 2006 06:35:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 May 2006 06:35:44 -0000
Received: (qmail 67621 invoked by uid 500); 8 May 2006 06:35:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67590 invoked by uid 500); 8 May 2006 06:35:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67579 invoked by uid 99); 8 May 2006 06:35:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 May 2006 23:35:36 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of bob.cheung@sirsidynix.com designates 192.150.149.249 as permitted sender)
Received: from [192.150.149.249] (HELO dynix.com) (192.150.149.249)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 May 2006 23:35:35 -0700
Received: from ([10.1.102.55])
	by mx.dynix.com with ESMTP  id 4028803.9879845;
	Mon, 08 May 2006 00:34:39 -0600
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: The best Chinese Analyzer?
Date: Mon, 8 May 2006 00:34:38 -0600
Message-ID: <27DC6F1B1943DE42A2BBC21BEC8974DBE37DF7@POSTAL.corp.dynix.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: The best Chinese Analyzer?
Thread-Index: AcZIbmj1eZ95kQb2Rs6Rp5efmKREawp+k+og
From: "Bob Cheung" <bob.cheung@sirsidynix.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have a question for those who have used Lucene to index and search for
Chinese Characters, what is the best Analyzer for the job?

I know all these three can do the job:

1. StandardAnalyzer
2. CJKAnalyzer
3. ChineseAnalyzer

What are the difference between these 3 analyzers?

TIA.

Regards,
Bob

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20517-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 08 09:29:12 2006
Return-Path: <java-user-return-20517-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50356 invoked from network); 8 May 2006 09:29:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 May 2006 09:29:11 -0000
Received: (qmail 26663 invoked by uid 500); 8 May 2006 09:29:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25954 invoked by uid 500); 8 May 2006 09:29:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25943 invoked by uid 99); 8 May 2006 09:29:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 May 2006 02:29:05 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of saturnism@gmail.com designates 64.233.184.225 as permitted sender)
Received: from [64.233.184.225] (HELO wr-out-0506.google.com) (64.233.184.225)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 May 2006 02:29:04 -0700
Received: by wr-out-0506.google.com with SMTP id i4so1151365wra
        for <java-user@lucene.apache.org>; Mon, 08 May 2006 02:28:44 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=SKNc06iMnImObptVbROvf18RWI2ganplJAXieZlOTw+gTAdDd++pF4jDXa54GnFgNkqfYmQ7f/Squoa910jW79BWxRz8L7M9YhGq2XSaM7H8ncW1r8ANJUDZUqGxnzXWoy5PcdHT74IcVozov5r6zTCV4G09z/SUrC4Q+aSKyvA=
Received: by 10.54.147.19 with SMTP id u19mr2029625wrd;
        Mon, 08 May 2006 02:28:43 -0700 (PDT)
Received: by 10.54.119.19 with HTTP; Mon, 8 May 2006 02:28:43 -0700 (PDT)
Message-ID: <fb9748c90605080228h1da0b2d5kb01dbd2857b90f04@mail.gmail.com>
Date: Mon, 8 May 2006 17:28:43 +0800
From: "Ray Tsang" <saturnism@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: The best Chinese Analyzer?
In-Reply-To: <27DC6F1B1943DE42A2BBC21BEC8974DBE37DF7@POSTAL.corp.dynix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: base64
Content-Disposition: inline
References: <27DC6F1B1943DE42A2BBC21BEC8974DBE37DF7@POSTAL.corp.dynix.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

SGkgQm9iLAoKSW4gc2hvcnQsIEkgdXNlIGEgc2xpZ2h0bHkgbW9kaWZpZWQgQ2hpbmVzZUFuYWx5
emVyIHRvIGluZGV4IGNoaW5lc2UgdGV4dC4KVGhleSBkaWZmZXIgbWFpbmx5IGluIHRoZSB3YXkg
dGhleSB0b2tlbml6ZSB0aGUgdGV4dC4KClN0YW5kYXJkQW5hbHl6ZXIgaXMgaW50ZWRlZCB0byB1
c2Ugdy8gTGF0aW4tYmFzZWQgbGFuZ3VhZ2VzLCB0aGF0IGVhY2gKd29yZCBjb21wb3NlcyBvZiBt
dWx0aXBsZSBjaGFyYWN0ZXJzLCBhbmQgZWFjaCB3b3JkIGlzIHNlcGFyYXRlZCBieQpzcGVjaWFs
IG1hcmtlcnMgc3VjaCBhcyBhIHNwYWNlICcgJywgYSBjb21tYSwgYSBwZXJpb2QsIGEgbmV3IGxp
bmUuLi4KZXRjLi4gc28gIkMxQzJDMyIgKHNwYWNlKSAiQzRDNUM2IiB3aWxsIGJlIHRva2VuaXpl
ZCBpbnRvIDIgdGVybXM6CiJDMUMyQzMiIGFuZCAiQzRDNUM2IgoKQ0pLQW5hbHl6ZXIgdG9rZW5p
emVzIENoaW5lc2UgdGV4dCBpbnRvIDItZ3JhbXMgKGZyb20KaHR0cDovL3N2bi5hcGFjaGUub3Jn
L3ZpZXdjdnMuY2dpL2x1Y2VuZS9qYXZhL3RydW5rL2NvbnRyaWIvYW5hbHl6ZXJzL3NyYy9qYXZh
L29yZy9hcGFjaGUvbHVjZW5lL2FuYWx5c2lzL2Nqay9DSktUb2tlbml6ZXIuamF2YT9yZXY9MTY1
NTY1JnZpZXc9bWFya3VwKQoiQzFDMkMzQzQiIC0+ICJDMUMyIiAiQzJDMyIgIkMzQzQiCgpDaGlu
ZXNlQW5hbHl6ZXIgdG9rZW5pemVzIENoaW5lc2UgdGV4dCBpbnRvIDEtZ3JhbQooaHR0cDovL3N2
bi5hcGFjaGUub3JnL3ZpZXdjdnMuY2dpL2x1Y2VuZS9qYXZhL3RydW5rL2NvbnRyaWIvYW5hbHl6
ZXJzL3NyYy9qYXZhL29yZy9hcGFjaGUvbHVjZW5lL2FuYWx5c2lzL2NuL0NoaW5lc2VUb2tlbml6
ZXIuamF2YT9yZXY9MzUzOTMwJnZpZXc9bWFya3VwKQoiQzFDMkMzQzQiIC0+ICJDMSIgIkMyIiAi
QzIiICJDMyIgIkMzIiAiQzQiCgpUaGUgbW9zdCBvYnZpb3VzIHJlc3VsdCBvZiB0aGVzZSAzIHRv
a2VuaXphdGlvbiB0b2tlbml6YXRpb24Kc3RyYXRlZ2llcyBpcyB0aGUgc2VhcmNoIHJlc3VsdHMu
ClN1cHBvc2UgeW91IHNlYXJjaCBmb3IgIkMyQzMiLCB5b3UgY2FuIG9ubHkgZmluZCBpdCB3LwpD
aGluZXNlQW5hbHl6ZXIsIGJ1dCBub3QgdGhlIG90aGVyIDIgd2l0aCB0aGUgYWJvdmUgZXhhbXBs
ZS4KCnJheSwKCgpPbiA1LzgvMDYsIEJvYiBDaGV1bmcgPGJvYi5jaGV1bmdAc2lyc2lkeW5peC5j
b20+IHdyb3RlOgo+IEkgaGF2ZSBhIHF1ZXN0aW9uIGZvciB0aG9zZSB3aG8gaGF2ZSB1c2VkIEx1
Y2VuZSB0byBpbmRleCBhbmQgc2VhcmNoIGZvcgo+IENoaW5lc2UgQ2hhcmFjdGVycywgd2hhdCBp
cyB0aGUgYmVzdCBBbmFseXplciBmb3IgdGhlIGpvYj8KPgo+IEkga25vdyBhbGwgdGhlc2UgdGhy
ZWUgY2FuIGRvIHRoZSBqb2I6Cj4KPiAxLiBTdGFuZGFyZEFuYWx5emVyCj4gMi4gQ0pLQW5hbHl6
ZXIKPiAzLiBDaGluZXNlQW5hbHl6ZXIKPgo+IFdoYXQgYXJlIHRoZSBkaWZmZXJlbmNlIGJldHdl
ZW4gdGhlc2UgMyBhbmFseXplcnM/Cj4KPiBUSUEuCj4KPiBSZWdhcmRzLAo+IEJvYgo+Cj4gLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tCj4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJl
QGx1Y2VuZS5hcGFjaGUub3JnCj4gRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogamF2
YS11c2VyLWhlbHBAbHVjZW5lLmFwYWNoZS5vcmcKPgo+Cg==


From java-user-return-20518-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 08 09:53:35 2006
Return-Path: <java-user-return-20518-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62807 invoked from network); 8 May 2006 09:53:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 May 2006 09:53:34 -0000
Received: (qmail 47635 invoked by uid 500); 8 May 2006 09:53:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47319 invoked by uid 500); 8 May 2006 09:53:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47308 invoked by uid 99); 8 May 2006 09:53:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 May 2006 02:53:27 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=NO_REAL_NAME,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of pbatcoi@gmx.net designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 08 May 2006 02:53:26 -0700
Received: (qmail 10410 invoked by uid 0); 8 May 2006 09:53:04 -0000
Received: from 212.204.92.222 by www109.gmx.net with HTTP;
	Mon, 8 May 2006 11:53:04 +0200 (MEST)
Date: Mon, 8 May 2006 11:53:04 +0200 (MEST)
From: pbatcoi@gmx.net
To: java-user@lucene.apache.org
MIME-Version: 1.0
References: <fb9748c90605080228h1da0b2d5kb01dbd2857b90f04@mail.gmail.com>
Subject: Subject indexing and seraching documents with multiple languages
X-Priority: 3 (Normal)
X-Authenticated: #1820601
Message-ID: <9373.1147081984@www109.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

we need to index and search documents of multiple languages. 

Our current approach is:

Determine the language of each document before passing it to Lucene and use
a Lucene index for each language. This seems to be necessary because the
IndexWriter takes an analyzer as parameter. Thus we can pass the English
documents to the IndexWriter created with the English analyzer and so on.

Our problem is the search: We would like to be able to search in only one or
all language specific indexes. Not a problem itself, because we can use the
MultiSearcher. But the MultiSearcher takes one query as parameter and the
query is generated using an analyzer. We would need to generate different
analyzed queries for the different indexes.

Did somebody find a solution for this problem and can point us a direction
to investigate further?

Greetings 

Peter and Stefan

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20519-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 08 12:34:50 2006
Return-Path: <java-user-return-20519-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52811 invoked from network); 8 May 2006 12:34:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 May 2006 12:34:50 -0000
Received: (qmail 84172 invoked by uid 500); 8 May 2006 12:34:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84115 invoked by uid 500); 8 May 2006 12:34:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84099 invoked by uid 99); 8 May 2006 12:34:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 May 2006 05:34:39 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 May 2006 05:34:39 -0700
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.153359CB@mailer.syr.edu>; Mon, 8 May 2006 8:34:18 -0400
Message-ID: <445F3ACA.4070609@syr.edu>
Date: Mon, 08 May 2006 08:34:18 -0400
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Thunderbird 1.5.0.2 (Windows/20060308)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Subject indexing and seraching documents with multiple languages
References: <fb9748c90605080228h1da0b2d5kb01dbd2857b90f04@mail.gmail.com> <9373.1147081984@www109.gmx.net>
In-Reply-To: <9373.1147081984@www109.gmx.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

We wrote our own MultiSearcher type class that manages this problem.  It 
takes in a query in the user's native language and then feeds it to the 
searcher for that language, which uses a machine translation component 
to create a query for that index using that language's Analyzer.

-Grant

pbatcoi@gmx.net wrote:
> Hello,
>
> we need to index and search documents of multiple languages. 
>
> Our current approach is:
>
> Determine the language of each document before passing it to Lucene and use
> a Lucene index for each language. This seems to be necessary because the
> IndexWriter takes an analyzer as parameter. Thus we can pass the English
> documents to the IndexWriter created with the English analyzer and so on.
>
> Our problem is the search: We would like to be able to search in only one or
> all language specific indexes. Not a problem itself, because we can use the
> MultiSearcher. But the MultiSearcher takes one query as parameter and the
> query is generated using an analyzer. We would need to generate different
> analyzed queries for the different indexes.
>
> Did somebody find a solution for this problem and can point us a direction
> to investigate further?
>
> Greetings 
>
> Peter and Stefan
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>   

-- 

Grant Ingersoll 
Sr. Software Engineer 
Center for Natural Language Processing 
Syracuse University 
School of Information Studies 
335 Hinds Hall 
Syracuse, NY 13244 

http://www.cnlp.org 
Voice:  315-443-5484 
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20520-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 08 14:08:37 2006
Return-Path: <java-user-return-20520-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12000 invoked from network); 8 May 2006 14:08:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 May 2006 14:08:37 -0000
Received: (qmail 84354 invoked by uid 500); 8 May 2006 14:08:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84162 invoked by uid 500); 8 May 2006 14:08:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84151 invoked by uid 99); 8 May 2006 14:08:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 May 2006 07:08:30 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.173] (HELO hnexfe07.hetnet.nl) (195.121.6.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 May 2006 07:08:28 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe07.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Mon, 8 May 2006 16:08:06 +0200
Subject: Re: Subject indexing and seraching documents with multiple
	languages
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <445F3ACA.4070609@syr.edu>
References: <fb9748c90605080228h1da0b2d5kb01dbd2857b90f04@mail.gmail.com>
	 <9373.1147081984@www109.gmx.net>  <445F3ACA.4070609@syr.edu>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Mon, 08 May 2006 16:08:04 +0200
Message-Id: <1147097285.4722.20.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 08 May 2006 14:08:06.0236 (UTC) FILETIME=[D3EEE9C0:01C672A8]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Mon, 2006-05-08 at 08:34 -0400, Grant Ingersoll wrote:
> This seems to be necessary because the IndexWriter takes an analyzer
> as parameter. Thus we can pass the English documents to the
> IndexWriter created with the English analyzer and so on. 

/**
 * Adds a document to this index, using the provided analyzer
 * instead of the value of {@link #getAnalyzer()}.  If the
 * document contains more than {@link #setMaxFieldLength(int)}
 * terms for a given field, the remainder are discarded.
 */
 public void addDocument(Document doc, Analyzer analyzer) 



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20521-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 08 14:10:35 2006
Return-Path: <java-user-return-20521-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13100 invoked from network); 8 May 2006 14:10:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 May 2006 14:10:34 -0000
Received: (qmail 88059 invoked by uid 500); 8 May 2006 14:10:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87645 invoked by uid 500); 8 May 2006 14:10:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87634 invoked by uid 99); 8 May 2006 14:10:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 May 2006 07:10:27 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.175] (HELO hnexfe09.hetnet.nl) (195.121.6.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 May 2006 07:10:25 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe09.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Mon, 8 May 2006 16:10:04 +0200
Subject: Re: Subject indexing and seraching documents with multiple
	languages
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <1147097285.4722.20.camel@localhost>
References: <fb9748c90605080228h1da0b2d5kb01dbd2857b90f04@mail.gmail.com>
	 <9373.1147081984@www109.gmx.net>  <445F3ACA.4070609@syr.edu>
	 <1147097285.4722.20.camel@localhost>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Mon, 08 May 2006 16:10:03 +0200
Message-Id: <1147097403.4722.22.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 08 May 2006 14:10:04.0068 (UTC) FILETIME=[1A2AA640:01C672A9]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Mon, 2006-05-08 at 16:08 +0200, karl wettin wrote:
> On Mon, 2006-05-08 at 08:34 -0400, Grant Ingersoll wrote:
> > This seems to be necessary because the IndexWriter takes an analyzer
> > as parameter. Thus we can pass the English documents to the
> > IndexWriter created with the English analyzer and so on. 

>  public void addDocument(Document doc, Analyzer analyzer)  

hmm, perhaps i missunderstood?


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20522-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 08 14:43:26 2006
Return-Path: <java-user-return-20522-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32536 invoked from network); 8 May 2006 14:43:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 May 2006 14:43:26 -0000
Received: (qmail 56492 invoked by uid 500); 8 May 2006 14:43:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56469 invoked by uid 500); 8 May 2006 14:43:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56458 invoked by uid 99); 8 May 2006 14:43:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 May 2006 07:43:19 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lostzen@gmail.com designates 66.249.82.207 as permitted sender)
Received: from [66.249.82.207] (HELO wx-out-0102.google.com) (66.249.82.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 May 2006 07:43:18 -0700
Received: by wx-out-0102.google.com with SMTP id t4so802963wxc
        for <java-user@lucene.apache.org>; Mon, 08 May 2006 07:42:58 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=BF2ae0I9+gQuCyCspzSdEEVqLhg3iOJZmfu5LQXsaZQh9ViMTV0RkyXu6tdbzHqskUkM4UQ19vm1XZvS/tlq3us0RNKx0qTl5esEYPVJae+k0jh3gfeij8dQeXcouSDvJNJt9fBUHHh4HY5iOTAgmLeN0/axIVymoRh5GrzWBJo=
Received: by 10.70.109.11 with SMTP id h11mr2392278wxc;
        Mon, 08 May 2006 07:42:58 -0700 (PDT)
Received: by 10.70.100.4 with HTTP; Mon, 8 May 2006 07:42:57 -0700 (PDT)
Message-ID: <f2fbc8300605080742j7eab67fn8bbb4b5b9655f5ca@mail.gmail.com>
Date: Mon, 8 May 2006 15:42:57 +0100
From: lostzen <lostzen@gmail.com>
To: java-user@lucene.apache.org
Subject: spell checker across multiple fields
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello, I am trying to use the SpellChecker to suggest more popular
search terms.  It works great one only using one field, but what is
the best way to make it work across multiple fields?  I've already
created my own version of a Dictionary (based on LuceneDictionary)
which provides a dictionary off all terms across multiple fields.  I
was looking into overiding the suggestSimilar(String word, int
num_sug, IndexReader ir, String field, boolean morePopular) method but
not sure if this is the correct way?

I also thought of making multiple calls to the above method (once for
each field) and storing the term which provided the highest
doc.frecquency but was concerned about performance and quality of
suggestions.

Any coments/suggestions are much appreciated,
Thanks
Chris.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20523-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 08 19:51:31 2006
Return-Path: <java-user-return-20523-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24543 invoked from network); 8 May 2006 19:51:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 May 2006 19:51:27 -0000
Received: (qmail 59580 invoked by uid 500); 8 May 2006 19:51:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59444 invoked by uid 500); 8 May 2006 19:51:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 99244 invoked by uid 99); 8 May 2006 02:33:25 -0000
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
X-Server-Uuid: 7829E76E-BB9E-4995-8473-3C0929DF7DD1
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Subject: RE: Encryption
Date: Sun, 7 May 2006 22:33:04 -0400
Message-ID: <DAE04D9F6FD21448A220918A522FB60E755519@MI8NYCMAIL15.Mi8.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Encryption
Thread-Index: AcZxqUDqS+k2od1rQoW1FdoRJNrKIQAnjOsA
From: "Colin Young" <colin.young@travelgator.com>
To: java-user@lucene.apache.org
X-OriginalArrivalTime: 08 May 2006 02:32:55.0532 (UTC)
 FILETIME=[B66A92C0:01C67247]
X-WSS-ID: 6840725D20K4452821-01-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Rather than concentrating on the specific mechanisms, could you
elaborate a bit on the overall goals and features of the system? Who is
providing the documents? What are the threats you are guarding against?
How is the system going to be used?

Colin=20

-----Original Message-----
From: George Washington [mailto:gws293@hotmail.com]=20
Sent: 7 May, 2006 03:38
To: java-user@lucene.apache.org
Subject: Re: Encryption

Thank you all for your replies (and Otis and John for your lively sense
of humour as well).
I obviously accept the need to encrypt the index, but am not sure that
using the Windows (or Linux) file system encryption will solve the
problem. My understanding is that both cannot be under my application
control, they need to be part of the site policy. Hence cannot be relied
upon in all instances.=20
I want the user to decide if encryption is required and then enable it
knowing that it will be done.
If my understanding above is correct, the other alternative is to use
the Java Cryptography Extension (JCE) to encrypt (and decode) the index
on the fly. This however is more complex, and where I was hoping your
knowledge of Lucene could help.
I suspect it would require careful choice of positioning of the
encryption and decoding calls so as not to interfere for instance with
segment optimisation and merging and many other such complications.
Searching through this mailing list has revealed no interest in
encryption at all.
Any suggestion as to how JCE could be embedded in Lucene? (or whether I
am on the right or wrong track!) Thanks Victor

_________________________________________________________________
New year, new job - there's more than 100,00 jobs at SEEK
http://a.ninemsn.com.au/b.aspx?URL=3Dhttp%3A%2F%2Fninemsn%2Eseek%2Ecom%2E=
a
u&_t=3D752315885&_r=3DJan05_tagline&_m=3DEXT


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20524-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 08 23:40:00 2006
Return-Path: <java-user-return-20524-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42907 invoked from network); 8 May 2006 23:39:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 May 2006 23:39:59 -0000
Received: (qmail 42221 invoked by uid 500); 8 May 2006 23:39:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42177 invoked by uid 500); 8 May 2006 23:39:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42166 invoked by uid 99); 8 May 2006 23:39:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 May 2006 16:39:53 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.227] (HELO web50314.mail.yahoo.com) (206.190.39.227)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 08 May 2006 16:39:52 -0700
Received: (qmail 61631 invoked by uid 60001); 8 May 2006 23:39:30 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=AqhJ1o7ZWr2/6EnTwYAqoFvyOohPbBdntSJ6T1WV6TmE4to+NI4+G/j+qBMXwhbS7qWybxPUpD78F0Kyptd2XrSUKAd/8q0sxmSDzbEZx6pUAVNyXnIWBc6UvuwAT/Vpa3eehzhPcjlSHJeAdVww+B2AxSe4sVqp3ngak4zAq7g=  ;
Message-ID: <20060508233930.61629.qmail@web50314.mail.yahoo.com>
Date: Mon, 8 May 2006 16:39:30 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Scoring without floating point calculations
To: java-user@lucene.apache.org
In-Reply-To: <p0623091ac07856a53b68@[192.168.1.101]>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Ah, this is pretty disheartening.  Regardless, I'm about to dive into this, so if you have any tips or experiences to share, I'm all eyeballs.

Otis

----- Original Message ----
From: Ken Krugler <kkrugler_lists@transpac.com>
To: java-user@lucene.apache.org
Sent: Friday, April 28, 2006 7:34:16 PM
Subject: Re: Scoring without floating point calculations

>Apparently Sun's Niagara servers have a weak FPU, and I don't need 
>my matches to contain floating point scores, so I would like to 
>avoid floating point calculations when scoring, if possible.
>
>Doing a quick `grep -R ' float ' *` in the source tree shows a 
>number of places where floats are used: various *Score and *Scorer 
>classes, various Query classes, Similarity, etc.
>
>What would be the easiest way to plug in my own non-float scoring?

I'd briefly thought about this same issue (for the same reason), but 
didn't see an easy way to plug in a different scoring algorithm.

You can always add the log of the score versus doing a 
multiplication, but that would still involve a lot of source code 
changes.

-- Ken
-- 
Ken Krugler
Krugle, Inc.
+1 530-210-6378
"Find Code, Find Answers"

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20525-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 09 02:03:49 2006
Return-Path: <java-user-return-20525-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19897 invoked from network); 9 May 2006 02:03:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2006 02:03:49 -0000
Received: (qmail 88093 invoked by uid 500); 9 May 2006 02:03:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88057 invoked by uid 500); 9 May 2006 02:03:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88046 invoked by uid 99); 9 May 2006 02:03:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 May 2006 19:03:43 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of RASPL@de.ibm.com designates 195.212.29.153 as permitted sender)
Received: from [195.212.29.153] (HELO mtagate4.de.ibm.com) (195.212.29.153)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 May 2006 19:03:42 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate4.de.ibm.com (8.13.6/8.13.6) with ESMTP id k4923KQK135638
	for <java-user@lucene.apache.org>; Tue, 9 May 2006 02:03:20 GMT
Received: from d12av02.megacenter.de.ibm.com (d12av02.megacenter.de.ibm.com [9.149.165.228])
	by d12nrmr1607.megacenter.de.ibm.com (8.12.10/NCO/VER6.8) with ESMTP id k4924bff145526
	for <java-user@lucene.apache.org>; Tue, 9 May 2006 04:04:37 +0200
Received: from d12av02.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av02.megacenter.de.ibm.com (8.12.11/8.13.3) with ESMTP id k4923K9G016709
	for <java-user@lucene.apache.org>; Tue, 9 May 2006 04:03:20 +0200
Received: from d12ml067.megacenter.de.ibm.com (d12ml067.megacenter.de.ibm.com [9.149.164.162])
	by d12av02.megacenter.de.ibm.com (8.12.11/8.12.11) with ESMTP id k4923KuX016700
	for <java-user@lucene.apache.org>; Tue, 9 May 2006 04:03:20 +0200
Subject: Stefan Raspl/Germany/IBM is out of the office.
From: Stefan Raspl <RASPL@de.ibm.com>
To: java-user@lucene.apache.org
Message-ID: <OFE0B9D5B9.A7E035C5-ONC1257169.000B683F-C1257169.000B6840@de.ibm.com>
Date: Tue, 9 May 2006 04:04:35 +0200
X-MIMETrack: Serialize by Router on D12ML067/12/M/IBM(Release 6.53HF654 | July 22, 2005) at
 09/05/2006 04:04:36
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I will be out of the office starting  05/09/2006 and will not return until
05/15/2006.

I will respond to your message when I return.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20526-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 09 04:29:36 2006
Return-Path: <java-user-return-20526-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71530 invoked from network); 9 May 2006 04:29:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2006 04:29:36 -0000
Received: (qmail 88699 invoked by uid 500); 9 May 2006 04:29:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88673 invoked by uid 500); 9 May 2006 04:29:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88661 invoked by uid 99); 9 May 2006 04:29:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 May 2006 21:29:28 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of bob.cheung@sirsidynix.com designates 192.150.149.249 as permitted sender)
Received: from [192.150.149.249] (HELO dynix.com) (192.150.149.249)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 May 2006 21:29:27 -0700
Received: from ([10.1.102.55])
	by mx.dynix.com with ESMTP  id 4028803.9889603;
	Mon, 08 May 2006 22:28:41 -0600
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Indexing and searching with StandardAnalyzer
Date: Mon, 8 May 2006 22:28:40 -0600
Message-ID: <27DC6F1B1943DE42A2BBC21BEC8974DBE37F9A@POSTAL.corp.dynix.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Indexing and searching with StandardAnalyzer
Thread-Index: AcZyge/5cBRmL/kvRkaE7CrxVWds1wAnlGbA
From: "Bob Cheung" <bob.cheung@sirsidynix.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Using StandardAnalyzer, I was able to index a document containing the
string "co_cc" (without quotes) but I couldn't search for it.

Using Luke, I was able to see "co_cc" was indexed.  Using Luke to
search, I was not able to find any hit using StandardAnalyzer.

However, if I use KeywordAnalyzer to search, I could get the result.

Does anyone have any idea what's happening?

Query detail in Luke shows $co:"co cc" when using StandardAnalyzer while
it shows $co:co_cc when using KeywordAnalyzer.

If StandardAnalyzer splits co_cc into co and cc in searching, why does
it index co_cc as a whole string?

Regards,
Bob

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20527-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 09 07:20:47 2006
Return-Path: <java-user-return-20527-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36704 invoked from network); 9 May 2006 07:20:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2006 07:20:46 -0000
Received: (qmail 6810 invoked by uid 500); 9 May 2006 07:20:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6776 invoked by uid 500); 9 May 2006 07:20:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6765 invoked by uid 99); 9 May 2006 07:20:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 00:20:39 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.31] (HELO smtp-vbr11.xs4all.nl) (194.109.24.31)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 00:20:38 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr11.xs4all.nl (8.13.6/8.13.6) with ESMTP id k497KHCg052493
	for <java-user@lucene.apache.org>; Tue, 9 May 2006 09:20:17 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Scoring without floating point calculations
Date: Tue, 9 May 2006 09:20:16 +0200
User-Agent: KMail/1.8.2
References: <20060508233930.61629.qmail@web50314.mail.yahoo.com>
In-Reply-To: <20060508233930.61629.qmail@web50314.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative;
  boundary="Boundary-00=_wKEYEKOAvRfNJ6p"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605090920.16557.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--Boundary-00=_wKEYEKOAvRfNJ6p
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

On Tuesday 09 May 2006 01:39, Otis Gospodnetic wrote:
> Ah, this is pretty disheartening.  Regardless, I'm about to dive into this, so if you have any tips or experiences to share, I'm all eyeballs.
> 
> Otis
> 
> ----- Original Message ----
> From: Ken Krugler <kkrugler_lists@transpac.com>
> To: java-user@lucene.apache.org
> Sent: Friday, April 28, 2006 7:34:16 PM
> Subject: Re: Scoring without floating point calculations
> 
> >Apparently Sun's Niagara servers have a weak FPU, and I don't need 
> >my matches to contain floating point scores, so I would like to 
> >avoid floating point calculations when scoring, if possible.

In case you don't need score values at all, have a look at the score(HitCollector) method of Scorer. This method is easily
simplified to not call the Scorer.score() method at all.

> >
> >Doing a quick `grep -R ' float ' *` in the source tree shows a 
> >number of places where floats are used: various *Score and *Scorer 
> >classes, various Query classes, Similarity, etc.

By default, a lot of the score computation during query search is done by
table look up in TermScorer.

> >
> >What would be the easiest way to plug in my own non-float scoring?

Is there a profile available showing a floating point bottleneck during
a query search?

Regards,
Paul Elschot

--Boundary-00=_wKEYEKOAvRfNJ6p--

From java-user-return-20528-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 09 08:19:13 2006
Return-Path: <java-user-return-20528-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74508 invoked from network); 9 May 2006 08:19:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2006 08:19:11 -0000
Received: (qmail 85150 invoked by uid 500); 9 May 2006 08:19:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85041 invoked by uid 500); 9 May 2006 08:19:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85029 invoked by uid 99); 9 May 2006 08:19:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 01:19:03 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=NO_REAL_NAME,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of pbatcoi@gmx.net designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 09 May 2006 01:19:01 -0700
Received: (qmail 3817 invoked by uid 0); 9 May 2006 08:18:40 -0000
Received: from 212.204.92.222 by www067.gmx.net with HTTP;
	Tue, 9 May 2006 10:18:40 +0200 (MEST)
Date: Tue, 9 May 2006 10:18:40 +0200 (MEST)
From: pbatcoi@gmx.net
To: java-user@lucene.apache.org
MIME-Version: 1.0
References: <1147097403.4722.22.camel@localhost>
Subject: Re: Subject indexing and seraching documents with multiple	languages
X-Priority: 3 (Normal)
X-Authenticated: #1820601
Message-ID: <2150.1147162720@www067.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Karl,

no, you didn't misunderstand. We have to admit that we were not aware of the
possibility to use different analyzers for the documents in an index. It
seems that we were working to close to the examples and did not spend enough
time to RTFM. Thank you for the hint!

Grant,

considering the answer from Karl, it seems that we have to choice to put all
the documents in one index or use an index for each language. You are using
an index for each language. We are currently discussing the pros and cons
for both solutions. Thus we would be very interested to find out about your
reasons to use a separate index for each language.

Thanks again for taking the time to answer our question!

Greeting 

Stefan and Peter

> --- Ursprngliche Nachricht ---
> Von: karl wettin <kalle@snigel.net>
> An: java-user@lucene.apache.org
> Betreff: Re: Subject indexing and seraching documents with
> multiple	languages
> Datum: Mon, 08 May 2006 16:10:03 +0200
> 
> On Mon, 2006-05-08 at 16:08 +0200, karl wettin wrote:
> > On Mon, 2006-05-08 at 08:34 -0400, Grant Ingersoll wrote:
> > > This seems to be necessary because the IndexWriter takes an analyzer
> > > as parameter. Thus we can pass the English documents to the
> > > IndexWriter created with the English analyzer and so on. 
> 
> >  public void addDocument(Document doc, Analyzer analyzer)  
> 
> hmm, perhaps i missunderstood?
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20529-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 09 08:35:06 2006
Return-Path: <java-user-return-20529-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84184 invoked from network); 9 May 2006 08:35:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2006 08:35:06 -0000
Received: (qmail 10799 invoked by uid 500); 9 May 2006 08:34:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10768 invoked by uid 500); 9 May 2006 08:34:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10757 invoked by uid 99); 9 May 2006 08:34:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 01:34:58 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.143.78.232] (HELO xmail.me.corp.entopia.com) (212.143.78.232)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 01:34:57 -0700
Content-class: urn:content-classes:message
Subject: RE: Synonyms ...
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Tue, 9 May 2006 11:34:34 +0300
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Message-ID: <39B0FB508E5D7540ACA5AD57225E150D3927F3@xmail.me.corp.entopia.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Synonyms ...
Thread-Index: AcZla/Wvh+l1EF3bSDmEG4aKL2px2wN0dJ2w
From: "Ziv Gome" <zgome@entopia.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You are free to take a look at the thread about synonym query from mars,
initiated by Andrew Schetinin and myself. This code (suggestion) tries
to handle synonym as a query expansion, rather than injection at
indexing time, while fix the problems a simple expansion creates (mainly
results of IDF).

Full details can be found at:
http://mail-archives.apache.org/mod_mbox/lucene-java-user/200603.mbox/%3
c39B0FB508E5D7540ACA5AD57225E150D39203D@xmail.me.corp.entopia.com%3e
=20

BTW, for reply please use ziv.gome_gmail_com (replace "_" where
appropriate)

Ziv Gome

-----Original Message-----
From: Dragon Fly [mailto:dragon-fly999@hotmail.com]=20
Sent: Friday, April 21, 2006 8:49 PM
To: java-user@lucene.apache.org
Subject: Synonyms ...

Hi,

What is the best way to implement the following?

Document 1 contains the following text:
  "THE CZECH REPUBLIC ORGANIZATION"

Document 2 contains the following text:
  "THE CZE ORGANISATION"

Synonym rules:
  (1) CZECH REPUBLIC --> CZE
  (2) CZE --> CZECH REPUBLIC
  (3) ORGANIZATION --> ORG, ORGANISATION

All of the following phrase searches must match BOTH documents:
  "CZECH REPUBLIC ORGANIZATION"
  "CZECH REPUBLIC ORGANISATION"
  "CZECH REPUBLIC ORG"
  "CZE ORGANIZATION"
  "CZE ORGANISATION"
  "CZE ORG"

I don't think the SynonymAnalyzer described in LIA would work because
some of my "synonyms" contain multiple words.  Thank you.

_________________________________________________________________
Don't just search. Find. Check out the new MSN Search!=20
http://search.msn.click-url.com/go/onm00200636ave/direct/01/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20530-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 09 09:58:32 2006
Return-Path: <java-user-return-20530-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33801 invoked from network); 9 May 2006 09:58:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2006 09:58:30 -0000
Received: (qmail 68265 invoked by uid 500); 9 May 2006 09:58:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68220 invoked by uid 500); 9 May 2006 09:58:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68209 invoked by uid 99); 9 May 2006 09:58:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 02:58:23 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_FONT_BIG,HTML_MESSAGE,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Kinnar.Sen@hcl.in designates 203.105.185.20 as permitted sender)
Received: from [203.105.185.20] (HELO nda-hclin-gws02.hcl.in) (203.105.185.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 09 May 2006 02:58:22 -0700
Received: from nda-hclin-gws02.hcl.in (nda-hclin-gws02 [10.248.64.135])
	by localhost.hcl.in (Postfix) with ESMTP
	id 9CB02CFC01A; Tue,  9 May 2006 15:27:57 +0530 (IST)
Received: from nda-egw01-out.corp.hcl.in (unknown [10.248.64.37])by 
	nda-hclin-gws02.hcl.in (Postfix) with ESMTPid 758D7CFC011; Tue,  9 May 2006
	 15:27:57 +0530 (IST)
Received: from HSDLNTD1110010.noida.hcltech.com ([10.112.8.20]) by 
	nda-egw01-out.corp.hcl.in with Microsoft SMTPSVC(6.0.3790.1830); Tue, 9 May
	 2006 15:27:59 +0530
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6734E.F413CFDF"
Subject: re :Range queries
Date: Tue, 9 May 2006 15:27:16 +0530
Message-ID: <539C0A297AA0C74581CB5AF82D5372919A6466@HSDLNTD1110010.noida.hcltech.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: re :Range queries
Thread-Index: AcZzTvOyOMtyPMe4QMyWgrQ145zaHw==
From: "Kinnar Kumar Sen, Noida" <Kinnar.Sen@hcl.in>
To: <java-user@lucene.apache.org>
Cc: <clucene-developers@lists.sourceforge.net>
X-OriginalArrivalTime: 09 May 2006 09:57:59.0300 (UTC) 
	FILETIME=[0D83F440:01C6734F]
X-imss-version: 2.038
X-imss-result: Passed
X-imss-scores: Clean:99.90000 C:2 M:3 S:5 R:5
X-imss-settings: Baseline:2 C:2 M:2 S:2 R:2 (0.1500 0.1500)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C6734E.F413CFDF
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable


Hi

    When I am trying RANGE QUERY on my index it works fine for a  small
index but when the index is large such as 0 - 1000000 it gives an
exception

  Boolean Clause Exception  I have set the 1024 value in boolean to
integer.max but now  is giving a out of memory exception . Can some body
suggest me a way out or a technique to effectively use range queries  I
need to use this feature extensively for my application for ranges like
0 - 100000 ,=0D

=0D

=0D

Regards and Thanks

Kinnar Kumar Sen

=0D

=0D

=0D

TO SUCEED BE DIFFERENT BE DARING AND BE THERE FIRST

=0D

=0D

=0D



DISCLAIMER:
---------------------------------------------------------------------------=
--------------------------------------------
The contents of this e-mail and any attachment(s) are confidential and=
 intended for the named recipient(s) only.=0D
It shall not attach any liability on the originator or HCL or its=
 affiliates. Any views or opinions presented in=0D
this email are solely those of the author and may not necessarily reflect=
 the opinions of HCL or its affiliates.=0D
Any form of reproduction, dissemination, copying, disclosure, modification,=
 distribution and / or publication of=0D
this message without the prior written consent of the author of this e-mail=
 is strictly prohibited. If you have=0D
received this email in error please delete it and notify the sender=
 immediately. Before opening any mail and=0D
attachments please check them for viruses and defect.
---------------------------------------------------------------------------=
--------------------------------------------
------_=_NextPart_001_01C6734E.F413CFDF--

From java-user-return-20531-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 09 10:07:12 2006
Return-Path: <java-user-return-20531-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37918 invoked from network); 9 May 2006 10:07:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2006 10:07:10 -0000
Received: (qmail 77129 invoked by uid 500); 9 May 2006 10:07:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77093 invoked by uid 500); 9 May 2006 10:07:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77082 invoked by uid 99); 9 May 2006 10:07:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 03:07:02 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ramana.jelda@ciao-group.com designates 194.112.113.90 as permitted sender)
Received: from [194.112.113.90] (HELO pigeon.ciao.com) (194.112.113.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 03:07:01 -0700
Received: from Jelda (gateway.ciao.com [194.221.9.215])
	by pigeon.ciao.com (8.13.3/8.13.3) with ESMTP id k49A6boc005346
	for <java-user@lucene.apache.org>; Tue, 9 May 2006 12:06:37 +0200 (CEST)
	(envelope-from ramana.jelda@ciao-group.com)
Message-Id: <200605091006.k49A6boc005346@pigeon.ciao.com>
From: "Ramana Jelda" <ramana.jelda@ciao-group.com>
To: <java-user@lucene.apache.org>
Subject: RE: Range queries
Date: Tue, 9 May 2006 12:06:31 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <539C0A297AA0C74581CB5AF82D5372919A6466@HSDLNTD1110010.noida.hcltech.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
Thread-Index: AcZzTvOyOMtyPMe4QMyWgrQ145zaHwAALh4g
X-Scanned-By: MIMEDefang 2.52 on 194.112.113.90
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi, 

You can use  BooleanQuery.setMaxClauseCount() to set to your required
maximum clause count.
But ofcourse too big clause count is not advisable.

May be you need to find some strategy to reduce this range. Ex:Reduce date
ranges to 20060505 from including timestamp like 20060505120530 :)

All the best.

Jelda

> -----Original Message-----
> From: Kinnar Kumar Sen, Noida [mailto:Kinnar.Sen@hcl.in] 
> Sent: Tuesday, May 09, 2006 11:57 AM
> To: java-user@lucene.apache.org
> Cc: clucene-developers@lists.sourceforge.net
> Subject: re :Range queries
> 
> 
> Hi
> 
>     When I am trying RANGE QUERY on my index it works fine 
> for a  small index but when the index is large such as 0 - 
> 1000000 it gives an exception
> 
>   Boolean Clause Exception  I have set the 1024 value in 
> boolean to integer.max but now  is giving a out of memory 
> exception . Can some body suggest me a way out or a technique 
> to effectively use range queries  I need to use this feature 
> extensively for my application for ranges like 0 - 100000 , 
>  
>  
> Regards and Thanks
> 
> Kinnar Kumar Sen
> 
>  
>  
>  
> TO SUCEED BE DIFFERENT BE DARING AND BE THERE FIRST
> 
>  
>  
>  
> 
> 
> DISCLAIMER:
> --------------------------------------------------------------
> ---------------------------------------------------------
> The contents of this e-mail and any attachment(s) are 
> confidential and intended for the named recipient(s) only. It 
> shall not attach any liability on the originator or HCL or 
> its affiliates. Any views or opinions presented in this email 
> are solely those of the author and may not necessarily 
> reflect the opinions of HCL or its affiliates. Any form of 
> reproduction, dissemination, copying, disclosure, 
> modification, distribution and / or publication of this 
> message without the prior written consent of the author of 
> this e-mail is strictly prohibited. If you have received this 
> email in error please delete it and notify the sender 
> immediately. Before opening any mail and attachments please 
> check them for viruses and defect.
> --------------------------------------------------------------
> ---------------------------------------------------------


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20532-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 09 10:24:24 2006
Return-Path: <java-user-return-20532-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47546 invoked from network); 9 May 2006 10:24:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2006 10:24:23 -0000
Received: (qmail 2778 invoked by uid 500); 9 May 2006 10:24:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2734 invoked by uid 500); 9 May 2006 10:24:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2716 invoked by uid 99); 9 May 2006 10:24:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 03:24:16 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.172] (HELO hnexfe06.hetnet.nl) (195.121.6.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 03:24:15 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe06.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Tue, 9 May 2006 12:23:52 +0200
Subject: Re: Subject indexing and seraching documents with
	multiple	languages
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <2150.1147162720@www067.gmx.net>
References: <1147097403.4722.22.camel@localhost>
	 <2150.1147162720@www067.gmx.net>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Tue, 09 May 2006 12:23:49 +0200
Message-Id: <1147170229.5665.156.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 09 May 2006 10:23:52.0561 (UTC) FILETIME=[AB54C610:01C67352]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tue, 2006-05-09 at 10:18 +0200, pbatcoi@gmx.net wrote:
> 
> considering the answer from Karl, it seems that we have to choice to
> put all the documents in one index or use an index for each language.
> You are using an index for each language. We are currently discussing
> the pros and cons for both solutions. Thus we would be very interested
> to find out about your reasons to use a separate index for each
> language.


If you ask me, then you only choose multiple indices when there is no
other chooise. Well, at least if you plan to search on more than one
language at the time.

Why? It is really, really slow.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20533-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 09 10:37:33 2006
Return-Path: <java-user-return-20533-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54226 invoked from network); 9 May 2006 10:37:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2006 10:37:26 -0000
Received: (qmail 28724 invoked by uid 500); 9 May 2006 10:37:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28664 invoked by uid 500); 9 May 2006 10:37:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28428 invoked by uid 99); 9 May 2006 10:37:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 03:37:07 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.221] (HELO web26010.mail.ukl.yahoo.com) (217.12.10.221)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 09 May 2006 03:37:06 -0700
Received: (qmail 74642 invoked by uid 60001); 9 May 2006 10:36:44 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=i5Hf/B2I9VVn34s5V6nqfUTY7dU9J9xIyXQznyDtfyq5TYLd6y30/3ia+NC0fRzGWri3ENyDM6cYhIx70mC3129u9LRzZPFv/qLJ6GVwqoLTKZgnOFRGOri6cmHL7ukJf4z+9OOsCbAbBrBzPbhqoa63gd7opBl3Yl2MUxzBJDE=  ;
Message-ID: <20060509103644.74638.qmail@web26010.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26010.mail.ukl.yahoo.com via HTTP; Tue, 09 May 2006 11:36:44 BST
Date: Tue, 9 May 2006 11:36:44 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: RE: Range queries
To: java-user@lucene.apache.org
In-Reply-To: <200605091006.k49A6boc005346@pigeon.ciao.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Typically the 3 most important things to remember when
using numerical range queries are:

1) Use a filter instead.
2) Use a filter instead.
3) Use a filter instead.

Seriously, number rangeQueries are normally a bad idea
because:

a) they can produce "too many term" errors (your
current problem)
b) they influence results ranking in ways which are
undesirable (do we typically care how rare one number
in the range is versus another? - Lucene does when
scoring RangeQueries)
c) they are slower than filters

See here for examples of filter-based alternatives -
http://wiki.apache.org/jakarta-lucene/FilteringOptions


Cheers
Mark

Send instant messages to your online friends http://uk.messenger.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20534-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 09 11:50:15 2006
Return-Path: <java-user-return-20534-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91328 invoked from network); 9 May 2006 11:50:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2006 11:50:14 -0000
Received: (qmail 41056 invoked by uid 500); 9 May 2006 11:50:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41012 invoked by uid 500); 9 May 2006 11:50:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40956 invoked by uid 99); 9 May 2006 11:50:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 04:50:05 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 04:50:04 -0700
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.15344E71@mailer.syr.edu>; Tue, 9 May 2006 7:49:43 -0400
Message-ID: <446081D8.9010701@syr.edu>
Date: Tue, 09 May 2006 07:49:44 -0400
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Thunderbird 1.5.0.2 (Windows/20060308)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Subject indexing and seraching documents with multiple	languages
References: <1147097403.4722.22.camel@localhost> <2150.1147162720@www067.gmx.net>
In-Reply-To: <2150.1147162720@www067.gmx.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

pbatcoi@gmx.net wrote:
> Grant,
>
> considering the answer from Karl, it seems that we have to choice to put all
> the documents in one index or use an index for each language. You are using
> an index for each language. We are currently discussing the pros and cons
> for both solutions. Thus we would be very interested to find out about your
> reasons to use a separate index for each language.
>
>   
Hmmm, it was a while ago and I am not 100% convinced I would make the 
same decision again, but I seem to recall a few reasons:

1. I thought it would be easier to manage them separately, as they all 
come from distinct collections.  We can easily take one language/index 
off line w/o affecting the other indexes.  I think this has been proved 
out over time in our case.  We often index the same set of documents 
several different ways (different stemmers, adding proper nouns, 
phrases, transliteration, translation, etc.), trying to evaluate which 
one gives us the best results.  Having them all in the same collection 
makes this harder.  What works for you probably depends on how often you 
update/delete, etc.

2. I am not certain of what it means to have an English query match 
against Arabic documents that contain English in them (or any other 
language).  On the surface this seems fine, since it is a term match, 
but I am not sure if it is meaningful when it comes to meeting a user's 
information need.  This is just a hunch and I am not sure it is a 
correct one.  I think it would probably warrant more study from a user's 
perspective.  I would like to hear other's opinions on this.

3. Logically, to me, our collections our separate.  They come from 
different sources, they are in different languages, they have different 
styles, different authors, etc.  It just _feels_ like they should be 
kept separate.  You may not care about this distinction.

One question I have always had is whether storing everything in the same 
index skews the IDF values by giving a term more importance than it 
really warrants.  My guess is it doesn't b/c this would happen evenly 
for all terms.  However, some of the times you have terms that occur in 
both collections, so the IDF for these may be smaller than it would be 
relative to having indexed the collection separately.  Is this valid or 
am I talking crazy?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20535-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 09 13:26:05 2006
Return-Path: <java-user-return-20535-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45715 invoked from network); 9 May 2006 13:24:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2006 13:24:01 -0000
Received: (qmail 84606 invoked by uid 500); 9 May 2006 13:23:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84568 invoked by uid 500); 9 May 2006 13:23:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84554 invoked by uid 99); 9 May 2006 13:23:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 06:23:44 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of NYH@il.ibm.com designates 195.212.29.151 as permitted sender)
Received: from [195.212.29.151] (HELO mtagate2.de.ibm.com) (195.212.29.151)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 06:23:44 -0700
Received: from d12nrmr1607.megacenter.de.ibm.com (d12nrmr1607.megacenter.de.ibm.com [9.149.167.49])
	by mtagate2.de.ibm.com (8.13.6/8.13.6) with ESMTP id k49DNMVo177816
	for <java-user@lucene.apache.org>; Tue, 9 May 2006 13:23:22 GMT
Received: from d12av04.megacenter.de.ibm.com (d12av04.megacenter.de.ibm.com [9.149.165.229])
	by d12nrmr1607.megacenter.de.ibm.com (8.12.10/NCO/VER6.8) with ESMTP id k49DOeaY129396
	for <java-user@lucene.apache.org>; Tue, 9 May 2006 15:24:40 +0200
Received: from d12av04.megacenter.de.ibm.com (loopback [127.0.0.1])
	by d12av04.megacenter.de.ibm.com (8.12.11/8.13.3) with ESMTP id k49DNMbV003349
	for <java-user@lucene.apache.org>; Tue, 9 May 2006 15:23:22 +0200
Received: from d12mc102.megacenter.de.ibm.com (d12mc102.megacenter.de.ibm.com [9.149.167.114])
	by d12av04.megacenter.de.ibm.com (8.12.11/8.12.11) with ESMTP id k49DNMis003344
	for <java-user@lucene.apache.org>; Tue, 9 May 2006 15:23:22 +0200
In-Reply-To: <539C0A297AA0C74581CB5AF82D5372919A6466@HSDLNTD1110010.noida.hcltech.com>
Subject: re :Range queries
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 7.0 HF144 February 01, 2006
Message-ID: <OF6BBA7989.E5335868-ONC2257169.004877BD-C2257169.0048AD5A@il.ibm.com>
From: "Nadav Har'El" <NYH@il.ibm.com>
Date: Tue, 9 May 2006 16:13:49 +0300
X-MIMETrack: Serialize by Router on D12MC102/12/M/IBM(Release 7.0.1HF123 | April 14, 2006) at
 09/05/2006 16:24:39
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

"Kinnar Kumar Sen, Noida" <Kinnar.Sen@hcl.in> wrote on 09/05/2006 12:57:16
PM:
>     When I am trying RANGE QUERY on my index it works fine for a  small
> index but when the index is large such as 0 - 1000000 it gives an
> exception
>
>   Boolean Clause Exception  I have set the 1024 value in boolean to
> integer.max but now  is giving a out of memory exception . Can some body
> suggest me a way out or a technique to effectively use range queries  I
> need to use this feature extensively for my application for ranges like
> 0 - 100000 ,

Use "ConstantScoreRangeQuery" instead of "RangeQuery". It is still very
inefficient, and you still need to remember to pad all your numbers so
they sort properly *lexicographically* (e.g., 000000-1000000), but at
least you should not have exceptions any more.

--
Nadav Har'El


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20536-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 09 15:38:27 2006
Return-Path: <java-user-return-20536-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44843 invoked from network); 9 May 2006 15:38:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2006 15:38:26 -0000
Received: (qmail 89397 invoked by uid 500); 9 May 2006 15:38:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89273 invoked by uid 500); 9 May 2006 15:38:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89184 invoked by uid 99); 9 May 2006 15:38:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 08:38:17 -0700
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of isaacrc82@gmail.com designates 64.233.182.188 as permitted sender)
Received: from [64.233.182.188] (HELO nf-out-0910.google.com) (64.233.182.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 08:38:16 -0700
Received: by nf-out-0910.google.com with SMTP id o60so167505nfa
        for <java-user@lucene.apache.org>; Tue, 09 May 2006 08:37:55 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=QYT50nCxD1XaxD2eQuf9cRL6tD2lZQ0uaf5wLSPn0ReL9FW2fsczqX3jjkfuF/qaOUsrFh54ohz5nxHUSd9qCp3di1IaUxwAWiOPBg/FLq/YUQqofX7is7E3+BuFvBdQoskQUocwcQoP19/FcS3mgx/zxt8p6iJ24b5KGbUoGO4=
Received: by 10.48.213.7 with SMTP id l7mr2207353nfg;
        Tue, 09 May 2006 08:37:55 -0700 (PDT)
Received: by 10.49.88.4 with HTTP; Tue, 9 May 2006 08:37:55 -0700 (PDT)
Message-ID: <bf1404350605090837q7450ab56ke7725a7d300f8a41@mail.gmail.com>
Date: Tue, 9 May 2006 10:37:55 -0500
From: "Ariel Isaac Romero" <isaacrc82@gmail.com>
To: java-user@lucene.apache.org
Subject: How do I know the memory size of my RAMDirectory ?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_14110_27297575.1147189075594"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_14110_27297575.1147189075594
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

 Hi every body:

How do I know the memory size of my RAMDirectory ?
I need to control the memory size of my RAM directory to serialized the
index to disk when ram directory memory get the 100 MB size.
I have a distributed enviroment
I really need to find the way, I must control the size of the index in RAM
memory.
Please, Could you help me ???

Ariel

------=_Part_14110_27297575.1147189075594--

From java-user-return-20537-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 09 15:48:17 2006
Return-Path: <java-user-return-20537-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51009 invoked from network); 9 May 2006 15:48:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2006 15:48:16 -0000
Received: (qmail 19932 invoked by uid 500); 9 May 2006 15:48:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19910 invoked by uid 500); 9 May 2006 15:48:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19898 invoked by uid 99); 9 May 2006 15:48:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 08:48:10 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.212] (HELO web26001.mail.ukl.yahoo.com) (217.12.10.212)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 09 May 2006 08:48:08 -0700
Received: (qmail 11091 invoked by uid 60001); 9 May 2006 15:47:46 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=1g8VvZCoMK3SHeNhF/C+2fOSz7VJdDtKGQPbyiKwyWHBdV/65zC5K73AWuiAAQfIoUNHVwcv+CJZrBgbtzkkSoydDLhwiA04ZQ3XRWVVNncOyvhGQXwS4XLK8F9DW27XB3YBQla7rEkdK7Xdu15XB3S30lOzwbUnLTXvJY6CN2c=  ;
Message-ID: <20060509154746.11089.qmail@web26001.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26001.mail.ukl.yahoo.com via HTTP; Tue, 09 May 2006 16:47:46 BST
Date: Tue, 9 May 2006 16:47:46 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: How do I know the memory size of my RAMDirectory ?
To: java-user@lucene.apache.org
In-Reply-To: <bf1404350605090837q7450ab56ke7725a7d300f8a41@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

public int getRAMSize(RAMDirectory ramDir) throws
IOException
{
	String []segs=ramDir.list();
	int totalSize=0;
	for(int i=0;i<segs.length;i++)
	{
		totalSize+=ramDir.fileLength(segs[i]);
	}
	return totalSize;
}


		
___________________________________________________________ 
Switch an email account to Yahoo! Mail, you could win FIFA World Cup tickets. http://uk.mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20538-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 09 17:47:04 2006
Return-Path: <java-user-return-20538-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23846 invoked from network); 9 May 2006 17:47:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2006 17:47:04 -0000
Received: (qmail 889 invoked by uid 500); 9 May 2006 17:46:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 781 invoked by uid 500); 9 May 2006 17:46:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 743 invoked by uid 99); 9 May 2006 17:46:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 10:46:49 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of MBaranczak@epublishing.com designates 205.234.169.11 as permitted sender)
Received: from [205.234.169.11] (HELO epublishing.com) (205.234.169.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 10:46:47 -0700
Received: from [24.58.8.69] (account mbaranczak HELO [192.168.0.104])
  by epublishing.com (CommuniGate Pro SMTP 4.3.7)
  with ESMTPA id 772884 for java-user@lucene.apache.org; Tue, 09 May 2006 13:45:35 -0400
Mime-Version: 1.0 (Apple Message framework v749.3)
Content-Transfer-Encoding: 7bit
Message-Id: <2B4D586F-5F71-41FE-9D26-4FF995BBD6A2@ePublishing.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: Mike Baranczak <MBaranczak@ePublishing.com>
Subject: grouping search results
Date: Tue, 9 May 2006 13:46:25 -0400
X-Mailer: Apple Mail (2.749.3)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The documents in my index will contain a "category" field. (We can  
assume that the number of possible categories will be small - 10 or  
so max - and that they'll be known in advance.) I need to be able to  
present the search results to the end user like this:

- top 10 results in category "x":
	1. sdfsdfsd
	2. dfgdgfdfg
	3. [...]
- top 10 results in category "y":
	1. gffgdgf
	2. kjhjkkghj
[...]

The first thing I thought of was to construct a boolean AND query for  
every possible category (from the user's query and a term query for  
the category); but this seems like it might be causing a lot of  
redundant work. My next idea was to create a QueryFilter from the  
user's query, and run a search for each category with this filter and  
a term query. Since the QueryFilter is supposed to cache results,  
this should theoretically be more efficient. So my questions to the  
Lucene gurus are:

1) Will the QueryFilter method really be more efficient?

2) Is there yet another way to accomplish what I need?

-MB


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20539-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 09 17:53:39 2006
Return-Path: <java-user-return-20539-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26622 invoked from network); 9 May 2006 17:53:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2006 17:53:38 -0000
Received: (qmail 17744 invoked by uid 500); 9 May 2006 17:53:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17452 invoked by uid 500); 9 May 2006 17:53:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17441 invoked by uid 99); 9 May 2006 17:53:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 10:53:31 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of vsood2@gmail.com designates 64.233.162.192 as permitted sender)
Received: from [64.233.162.192] (HELO nz-out-0102.google.com) (64.233.162.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 10:53:30 -0700
Received: by nz-out-0102.google.com with SMTP id z3so989660nzf
        for <java-user@lucene.apache.org>; Tue, 09 May 2006 10:53:09 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=bcxd7RiBlbCF/VaSvemIWD1oW0mJhdUwpXyw0/4y41ZiCXoVPUW3hawEiNOWAyr4vc3oIM3Tu//h05snZkJi7wjjqZJkeRMc3ORHWkPLMhiON8XUnJu4AEFcZrsSrv+YM5a5ayUB6pXY1mStNxuBVFkxKIGqBL/SccWLdV6L/UI=
Received: by 10.36.221.15 with SMTP id t15mr5652031nzg;
        Tue, 09 May 2006 10:53:09 -0700 (PDT)
Received: by 10.36.221.25 with HTTP; Tue, 9 May 2006 10:53:09 -0700 (PDT)
Message-ID: <800d6e9c0605091053p4e137a89pef2059639d67f201@mail.gmail.com>
Date: Tue, 9 May 2006 13:53:09 -0400
From: "varun sood" <vsood2@gmail.com>
To: java-user@lucene.apache.org
Subject: Retrieving field or Document using document id.
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_3109_30849121.1147197189754"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_3109_30849121.1147197189754
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,
  I have "Doc. Id" of the document stored in the database. Now I want to
query database on that "Doc. Id" (which will always return one document).
How can I do this?
To avoid confusion, I am talking about the "Doc. Id" which Lucene
automatically creates for every document and hence is unique for every
Document.

String Database =3D null;

QueryParser queryParser =3D new QueryParser("Doc. Id",new
WhitespaceAnalyzer());
              Query query;
              Hits hits;
            try {
                query =3D queryParser.parse(String.valueOf(docIDs[i]));
                hits =3D searcher.search(query);
                Document doc =3D hits.doc(0);
                Database =3D doc.get("title");

            } catch (ParseException e) {

                e.printStackTrace();
            }

Kindly suggest me.
Thanks

------=_Part_3109_30849121.1147197189754--

From java-user-return-20541-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 09 18:23:25 2006
Return-Path: <java-user-return-20541-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36991 invoked from network); 9 May 2006 18:23:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2006 18:23:14 -0000
Received: (qmail 39820 invoked by uid 500); 9 May 2006 18:22:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36134 invoked by uid 500); 9 May 2006 18:21:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33431 invoked by uid 99); 9 May 2006 18:05:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 11:05:16 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.175] (HELO hnexfe09.hetnet.nl) (195.121.6.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 11:05:15 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe09.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Tue, 9 May 2006 20:04:52 +0200
Subject: Re: grouping search results
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <2B4D586F-5F71-41FE-9D26-4FF995BBD6A2@ePublishing.com>
References: <2B4D586F-5F71-41FE-9D26-4FF995BBD6A2@ePublishing.com>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Tue, 09 May 2006 20:04:43 +0200
Message-Id: <1147197884.5665.220.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 09 May 2006 18:04:52.0999 (UTC) FILETIME=[123CA970:01C67393]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tue, 2006-05-09 at 13:46 -0400, Mike Baranczak wrote:
> The documents in my index will contain a "category" field. (We can  
> assume that the number of possible categories will be small - 10 or  
> so max - and that they'll be known in advance.) I need to be able to  
> present the search results to the end user like this:
> 
> - top 10 results in category "x":
> 	1. sdfsdfsd
> 	2. dfgdgfdfg
> 	3. [...]
> - top 10 results in category "y":
> 	1. gffgdgf
> 	2. kjhjkkghj
> [...]


> 2) Is there yet another way to accomplish what I need?

Did you consider placing more than one query? Perhaps it is enough to
iterate the top 100 scoring hits?


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20540-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 09 18:24:19 2006
Return-Path: <java-user-return-20540-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38432 invoked from network); 9 May 2006 18:24:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2006 18:24:18 -0000
Received: (qmail 40718 invoked by uid 500); 9 May 2006 18:22:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34224 invoked by uid 500); 9 May 2006 18:21:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33799 invoked by uid 99); 9 May 2006 18:15:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 11:15:01 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.172] (HELO hnexfe06.hetnet.nl) (195.121.6.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 11:15:00 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe06.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Tue, 9 May 2006 20:14:39 +0200
Subject: Re: Retrieving field or Document using document id.
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <800d6e9c0605091053p4e137a89pef2059639d67f201@mail.gmail.com>
References: <800d6e9c0605091053p4e137a89pef2059639d67f201@mail.gmail.com>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Tue, 09 May 2006 20:14:34 +0200
Message-Id: <1147198474.5665.231.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 09 May 2006 18:14:39.0764 (UTC) FILETIME=[6FF9E540:01C67394]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tue, 2006-05-09 at 13:53 -0400, varun sood wrote:
> Hi,
>   I have "Doc. Id" of the document stored in the database. Now I want to
> query database on that "Doc. Id" (which will always return one document).
> How can I do this?

Are you aware that the document number created by Lucene is considered
be unsafe?

This is how you do it:

IndexReader ir = IndexReader.open(directory);
ir.document(7);


See:

class IndexReader {

 /** 
  * Returns the stored fields of the n:th Document
  * in this index. 
  */
  public abstract Document document(int n) throws IOException;

}


> QueryParser queryParser = new QueryParser("Doc. Id",new

You can not send a document number to the QueryParser.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20542-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 09 18:39:05 2006
Return-Path: <java-user-return-20542-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49315 invoked from network); 9 May 2006 18:39:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2006 18:39:02 -0000
Received: (qmail 46866 invoked by uid 500); 9 May 2006 18:22:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41194 invoked by uid 500); 9 May 2006 18:22:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33544 invoked by uid 99); 9 May 2006 18:08:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 11:08:37 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 11:08:37 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id ECFC75B764; Tue,  9 May 2006 11:08:16 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id E86F97F403
	for <java-user@lucene.apache.org>; Tue,  9 May 2006 11:08:16 -0700 (PDT)
Date: Tue, 9 May 2006 11:08:16 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: grouping search results
In-Reply-To: <2B4D586F-5F71-41FE-9D26-4FF995BBD6A2@ePublishing.com>
Message-ID: <Pine.LNX.4.58.0605091104500.13839@hal.rescomp.berkeley.edu>
References: <2B4D586F-5F71-41FE-9D26-4FF995BBD6A2@ePublishing.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: redundant work. My next idea was to create a QueryFilter from the
: user's query, and run a search for each category with this filter and
: a term query. Since the QueryFilter is supposed to cache results,
: this should theoretically be more efficient. So my questions to the

if you did an approach like this, the scores for each document in each
result set would be the same for each set -- becaue the "Query" is just on
the category term -- the Users's query would only be used to Filter, so
the score value would be ignored.

: 2) Is there yet another way to accomplish what I need?

Off hte top of my head, the best way i can think to do this (if the list
of categories is fixed and known in advance as you said) is with a
HitCollector that maintains a Bounded PriorityQuery for each category.  as
it collects matches, it can look up which category they are in using the
FieldCache and add them to the appropriate queue.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20543-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 09 19:09:09 2006
Return-Path: <java-user-return-20543-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66131 invoked from network); 9 May 2006 19:09:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2006 19:09:09 -0000
Received: (qmail 60147 invoked by uid 500); 9 May 2006 19:09:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60118 invoked by uid 500); 9 May 2006 19:09:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60106 invoked by uid 99); 9 May 2006 19:09:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 12:09:02 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of MBaranczak@epublishing.com designates 205.234.169.11 as permitted sender)
Received: from [205.234.169.11] (HELO epublishing.com) (205.234.169.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 12:09:00 -0700
Received: from [24.58.8.69] (account mbaranczak HELO [192.168.0.104])
  by epublishing.com (CommuniGate Pro SMTP 4.3.7)
  with ESMTPA id 773462 for java-user@lucene.apache.org; Tue, 09 May 2006 15:07:47 -0400
Mime-Version: 1.0 (Apple Message framework v749.3)
In-Reply-To: <Pine.LNX.4.58.0605091104500.13839@hal.rescomp.berkeley.edu>
References: <2B4D586F-5F71-41FE-9D26-4FF995BBD6A2@ePublishing.com> <Pine.LNX.4.58.0605091104500.13839@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E8E27ABE-09BC-49C3-A408-EBF9B9285834@ePublishing.com>
Content-Transfer-Encoding: 7bit
From: Mike Baranczak <MBaranczak@ePublishing.com>
Subject: Re: grouping search results
Date: Tue, 9 May 2006 15:08:37 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.749.3)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 9, 2006, at 2:08 PM, Chris Hostetter wrote:

>
> : redundant work. My next idea was to create a QueryFilter from the
> : user's query, and run a search for each category with this filter  
> and
> : a term query. Since the QueryFilter is supposed to cache results,
> : this should theoretically be more efficient. So my questions to the
>
> if you did an approach like this, the scores for each document in each
> result set would be the same for each set -- becaue the "Query" is  
> just on
> the category term -- the Users's query would only be used to  
> Filter, so
> the score value would be ignored.

Damn. That's no good, then. What about doing it the opposite way:  
make a QueryFilter for each category (these could be cached between  
search sessions), and use those to filter the results from searching  
for the user's query? Would that actually be any faster than the  
original idea of constructing a boolean query for each category?


>
> : 2) Is there yet another way to accomplish what I need?
>
> Off hte top of my head, the best way i can think to do this (if the  
> list
> of categories is fixed and known in advance as you said)

Not exactly fixed, but it probably won't change too often, and it  
will definitely be known at query time. So close enough.

> is with a
> HitCollector that maintains a Bounded PriorityQuery for each  
> category.  as
> it collects matches, it can look up which category they are in  
> using the
> FieldCache and add them to the appropriate queue.

Did you mean PriorityQueue?

Can you explain what you mean by that? I'm looking at the javadocs  
for FieldCache, but there's no indication of how to obtain one.


>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20544-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 09 19:48:08 2006
Return-Path: <java-user-return-20544-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94191 invoked from network); 9 May 2006 19:48:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2006 19:48:08 -0000
Received: (qmail 24185 invoked by uid 500); 9 May 2006 19:48:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23685 invoked by uid 500); 9 May 2006 19:48:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23674 invoked by uid 99); 9 May 2006 19:48:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 12:48:01 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 12:48:00 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id D19205B773; Tue,  9 May 2006 12:47:34 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id C7A297F403
	for <java-user@lucene.apache.org>; Tue,  9 May 2006 12:47:34 -0700 (PDT)
Date: Tue, 9 May 2006 12:47:34 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: grouping search results
In-Reply-To: <E8E27ABE-09BC-49C3-A408-EBF9B9285834@ePublishing.com>
Message-ID: <Pine.LNX.4.58.0605091236010.18603@hal.rescomp.berkeley.edu>
References: <2B4D586F-5F71-41FE-9D26-4FF995BBD6A2@ePublishing.com>
 <Pine.LNX.4.58.0605091104500.13839@hal.rescomp.berkeley.edu>
 <E8E27ABE-09BC-49C3-A408-EBF9B9285834@ePublishing.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Damn. That's no good, then. What about doing it the opposite way:
: make a QueryFilter for each category (these could be cached between
: search sessions), and use those to filter the results from searching
: for the user's query? Would that actually be any faster than the
: original idea of constructing a boolean query for each category?

1) if your categories are defined by simple terms, there's no reason why
it would have to be a QueryFilter, you could make a simple TermFilter
class that would do the same thing

2) i don't think it woud be much faster then doing 10 seperate
BooleanQueries -- the advantage would be that in the BooleanQuery approach
the resulting scores will be affected by the category part of the query
... if it's a simple mandatory term query then there's no harm, becuase it
will affect all of the scores in that category equally -- but if it's more
complex (ie: if your portable music category is defined by the query
"name:mp3 or name:ipod or name:cd") then the TF/IDF of each term will
affect the score of the resulting documents, and could change the order.

: > is with a
: > HitCollector that maintains a Bounded PriorityQuery for each
: > category.  as
: > it collects matches, it can look up which category they are in
: > using the
: > FieldCache and add them to the appropriate queue.
:
: Did you mean PriorityQueue?

yes, sorry ... but i wasn't explicitly refering to the lucene
PriorityQueue class ... i just mean any data structure that will maintain
an ordered list of the N "biggest" items you give it.

: Can you explain what you mean by that? I'm looking at the javadocs
: for FieldCache, but there's no indication of how to obtain one.

FieldCache.DEFAULT.getStringIndex(reader, fieldName) ... or
FieldCache.DEFAULT.getInts(reader, fieldName) depending on how you store
your category info.  The resulting array can be used to lookup values by
docid very quickly for comparison (or to be used as a key in a Map of
queues)



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20545-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 09 19:48:44 2006
Return-Path: <java-user-return-20545-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94369 invoked from network); 9 May 2006 19:48:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 May 2006 19:48:44 -0000
Received: (qmail 27474 invoked by uid 500); 9 May 2006 19:48:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27450 invoked by uid 500); 9 May 2006 19:48:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27439 invoked by uid 99); 9 May 2006 19:48:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 12:48:37 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [193.70.192.92] (HELO smtp8.libero.it) (193.70.192.92)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 12:48:36 -0700
Received: from localhost (172.16.1.80) by smtp8.libero.it (7.0.027-DD01)
        id 4422C35203F40EE5 for java-user@lucene.apache.org; Tue, 9 May 2006 21:48:15 +0200
Received: from smtp0.libero.it ([172.16.1.204])
 by localhost (asav2.libero.it [193.70.192.151]) (amavisd-new, port 10024)
 with ESMTP id 01640-10-2 for <java-user@lucene.apache.org>;
 Tue,  9 May 2006 21:48:14 +0200 (CEST)
Received: from libero.it (192.168.17.5) by smtp0.libero.it (7.0.027-DD01)
        id 4451519300260DA3 for java-user@lucene.apache.org; Tue, 9 May 2006 21:48:14 +0200
Date: Tue,  9 May 2006 21:48:14 +0200
Message-Id: <IZ0KCE$06F5D87B338297C2C5A46899B43113FE@libero.it>
Subject: Parallel
MIME-Version: 1.0
X-Sensitivity: 3
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
From: "salinaale\@inwind\.it" <salinaale@inwind.it>
To: "java-user" <java-user@lucene.apache.org>
X-XaM3-API-Version: 4.3 (R1) (B3pl15)
X-SenderIP: 87.4.162.133
X-Scanned: with antispam and antivirus automated system at libero.it
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
first sorry if this may be a stupid question... :-)
I've 3 separate index and i use a ParallelMultiSearcher to search in... n=
ow i would like to limits the number of hits founded ... for example i wo=
uld like to get the first 10 hits from each indexes.
How can i do this? Any suggestions?
Thanks and sorry for my terrible english!!! 
Ale


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20546-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 10 02:18:59 2006
Return-Path: <java-user-return-20546-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72243 invoked from network); 10 May 2006 02:18:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 May 2006 02:18:58 -0000
Received: (qmail 33504 invoked by uid 500); 10 May 2006 02:18:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33470 invoked by uid 500); 10 May 2006 02:18:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33459 invoked by uid 99); 10 May 2006 02:18:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 19:18:51 -0700
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of richmondmike@gmail.com designates 64.233.182.184 as permitted sender)
Received: from [64.233.182.184] (HELO nf-out-0910.google.com) (64.233.182.184)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 19:18:50 -0700
Received: by nf-out-0910.google.com with SMTP id l24so1257319nfc
        for <java-user@lucene.apache.org>; Tue, 09 May 2006 19:18:29 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=ipiYv+HuPS2DpnYLjxf8rjV51JbTww5kJZUOMXm2KvfCR83d/TNIwzsG3UWrwuvvcc5IHcn0lhC5QMtze245STzWSJKdyxx3P853CtCj08NyoA+hy3nmibseP6rubPrtwXQvfRoiTMb7JfKrHgiXtRoiFKFHSIudCQ/sQ3mRj5o=
Received: by 10.49.37.7 with SMTP id p7mr112261nfj;
        Tue, 09 May 2006 19:18:29 -0700 (PDT)
Received: by 10.48.164.3 with HTTP; Tue, 9 May 2006 19:18:29 -0700 (PDT)
Message-ID: <931ca11b0605091918r393f6992l985add55537fcf09@mail.gmail.com>
Date: Tue, 9 May 2006 22:18:29 -0400
From: "Mike Richmond" <richmondmike@gmail.com>
To: java-user@lucene.apache.org
Subject: Lucene query question
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am new to Lucene, but the behavior that I am seeing does not seem to
make sense to me.  I am using the latest version of Lucene (1.9.1) and
executing the following code below which creates an index with a
single document and only one field (named "test") with a value of
"richmondmike@gmail.com".

If I use Luke to search through this newly created index using a query such=
 as:
"test:richmondmike@gmail.com" I do not get any matches.  However, if
using Luke I browse to the document and click the "Reconstruct & Edit"
button then without making any changes save the document I can then
rerun the same query and it will find the document!

Is this normal?  The only thing I can think of is that the index was
created with Lucene 1.9.1 and is being searched using Luke (which was
probably written using an older version of Lucene).  Any help would be
greatly appreciated.


Thanks in advance,

Mike

-------------------CODE SNIPPET BELOW-----------------


IndexWriter iw =3D new IndexWriter("index", new StandardAnalyzer(), true);
Document d =3D new Document();

d.add( new Field("test", "richmondmike@gmail.com", Field.Store.YES,
Field.Index.TOKENIZED));

iw.addDocument( d );

iw.close();

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20547-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 10 04:16:18 2006
Return-Path: <java-user-return-20547-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22094 invoked from network); 10 May 2006 04:16:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 May 2006 04:16:18 -0000
Received: (qmail 60902 invoked by uid 500); 10 May 2006 04:16:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60830 invoked by uid 500); 10 May 2006 04:16:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60816 invoked by uid 99); 10 May 2006 04:16:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 May 2006 21:16:12 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.62] (HELO web50308.mail.yahoo.com) (206.190.38.62)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 09 May 2006 21:16:10 -0700
Received: (qmail 95714 invoked by uid 60001); 10 May 2006 04:15:49 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=oRcgbFn04xI2odIUmsyeZzEAXE2kDWcHj4LXwgjxeOjFg0yTwXtWNVFzVXv1M6yzrMHt7+YtCt9BciEbRbuhwUTqFVXcWtQFEvqwVuNEVICcjPbwnRzC1X9ac2aArmidNvyNaQxisU/Oa5F1ljT46Lz01FutEEKPp4VhioeS4iw=  ;
Message-ID: <20060510041549.95712.qmail@web50308.mail.yahoo.com>
Date: Tue, 9 May 2006 21:15:49 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene query question
To: java-user@lucene.apache.org
In-Reply-To: <931ca11b0605091918r393f6992l985add55537fcf09@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Mike,

Do you really want to tokenize your emails?  StandardAnalyzer may in fact recognize email addresses and leave them as one token, but it would probably be better practice to make that email field UN_TOKENIZED.

Most of the time when people have trouble finding a Document they _know_ is in the index, the problem involves Analyzers, and sometimes the QueryParser+Analyzer combination.  Grab Lucene in Action code and run the app that will take your input and pass it through various Analyzers to get an idea what's happening with your test field.

Otis

----- Original Message ----
From: Mike Richmond <richmondmike@gmail.com>
To: java-user@lucene.apache.org
Sent: Tuesday, May 9, 2006 10:18:29 PM
Subject: Lucene query question

I am new to Lucene, but the behavior that I am seeing does not seem to
make sense to me.  I am using the latest version of Lucene (1.9.1) and
executing the following code below which creates an index with a
single document and only one field (named "test") with a value of
"richmondmike@gmail.com".

If I use Luke to search through this newly created index using a query such as:
"test:richmondmike@gmail.com" I do not get any matches.  However, if
using Luke I browse to the document and click the "Reconstruct & Edit"
button then without making any changes save the document I can then
rerun the same query and it will find the document!

Is this normal?  The only thing I can think of is that the index was
created with Lucene 1.9.1 and is being searched using Luke (which was
probably written using an older version of Lucene).  Any help would be
greatly appreciated.


Thanks in advance,

Mike

-------------------CODE SNIPPET BELOW-----------------


IndexWriter iw = new IndexWriter("index", new StandardAnalyzer(), true);
Document d = new Document();

d.add( new Field("test", "richmondmike@gmail.com", Field.Store.YES,
Field.Index.TOKENIZED));

iw.addDocument( d );

iw.close();

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20548-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 10 07:36:41 2006
Return-Path: <java-user-return-20548-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20245 invoked from network); 10 May 2006 07:36:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 May 2006 07:36:41 -0000
Received: (qmail 57494 invoked by uid 500); 10 May 2006 07:36:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57150 invoked by uid 500); 10 May 2006 07:36:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57139 invoked by uid 99); 10 May 2006 07:36:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 00:36:32 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.73.178.224] (HELO web60816.mail.yahoo.com) (209.73.178.224)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 10 May 2006 00:36:31 -0700
Received: (qmail 53364 invoked by uid 60001); 10 May 2006 07:36:10 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=cDzYghmpqMsa5EOivFEV6RcSqMtw+X4iF9S1bAErQPJdMNhGDELS6uevAA/gmydPuQfrUGGNg6wAQnZ3wuE+Dm2aq7d+tC/EfOncO9KbNCRI6ZA99x+hXLKfvNwtcIeusqyYaqKIBAPlMqPYCa4PfelQTAjdom/yxI3T8JCIlQU=  ;
Message-ID: <20060510073610.53362.qmail@web60816.mail.yahoo.com>
Received: from [212.179.71.70] by web60816.mail.yahoo.com via HTTP; Wed, 10 May 2006 00:36:10 PDT
Date: Wed, 10 May 2006 00:36:10 -0700 (PDT)
From: zzzzz shalev <zzzzz_shalev@yahoo.com>
Subject: lowering score of doc if synonyms matched (synonyms indexed)
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1238695570-1147246570=:50448"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1238695570-1147246570=:50448
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

i am currently adding synonyms at index time (and not expanding the query), i fear that there is a problem with this implementation:
   
  is there a way to lower the score of a document if it was found due to a synonyms match and not due to a match of the word queried. from what i understand the synonyms are indexed with the same placement as the original word which may make this impossible?
   
  thanks,
   
   

		
---------------------------------
Blab-away for as little as 1/min. Make  PC-to-Phone Calls using Yahoo! Messenger with Voice.
--0-1238695570-1147246570=:50448--

From java-user-return-20549-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 10 08:48:44 2006
Return-Path: <java-user-return-20549-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55175 invoked from network); 10 May 2006 08:48:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 May 2006 08:48:44 -0000
Received: (qmail 22518 invoked by uid 500); 10 May 2006 08:48:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22483 invoked by uid 500); 10 May 2006 08:48:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22472 invoked by uid 99); 10 May 2006 08:48:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 01:48:36 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.143.78.232] (HELO xmail.me.corp.entopia.com) (212.143.78.232)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 01:48:36 -0700
Subject: RE: lowering score of doc if synonyms matched (synonyms indexed)
Date: Wed, 10 May 2006 11:48:13 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Message-ID: <39B0FB508E5D7540ACA5AD57225E150D415093@xmail.me.corp.entopia.com>
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
X-MS-TNEF-Correlator: 
Thread-Topic: lowering score of doc if synonyms matched (synonyms indexed)
Thread-Index: AcZ0BIgnu0HTHEuuRrOO6Yeb8jj+CwAB8c8A
From: "Ziv Gome" <zgome@entopia.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

As you might have already seen, Andrew Schetinin and I have published =
(at =
http://mail-archives.apache.org/mod_mbox/lucene-java-user/200603.mbox/%3c=
39B0FB508E5D7540ACA5AD57225E150D39203D@xmail.me.corp.entopia.com%3e) a =
source code that handles synonyms at search time (query expansion).=20

This code includes also a de-boost factor for synonyms (compared with =
root term). It also fixes the distortion created by IDF relationships of =
the root terms and their synonyms. The way it produces the score is to =
simulate an aggregated frequency from frequencies of all synonym terms =
in each document, and then constructs a score for the "joint frequency.

I realize you are asking about processing synonyms at index time, but =
note that terms injection does not allow you to (in addition to the =
de-boost issues you raise in your post):=20
a) Change the synonym dictionary, once index is built.
b) Change the boost factor once index is built.
c) enable/disable the option of using synonyms (e.g. some applications =
has an "exact match" feature, or the client simply doesn't want to drift =
from "car" to "auto").=20


BTW, for reply please use ziv.gome_gmail_com (replace "_" where =
appropriate)

Thanx,
Ziv Gome

-----Original Message-----
From: zzzzz shalev [mailto:zzzzz_shalev@yahoo.com]=20
Sent: Wednesday, May 10, 2006 10:36 AM
To: java-user@lucene.apache.org
Subject: lowering score of doc if synonyms matched (synonyms indexed)

i am currently adding synonyms at index time (and not expanding the =
query), i fear that there is a problem with this implementation:
  =20
  is there a way to lower the score of a document if it was found due to =
a synonyms match and not due to a match of the word queried. from what i =
understand the synonyms are indexed with the same placement as the =
original word which may make this impossible?
  =20
  thanks,
  =20
  =20

	=09
---------------------------------
Blab-away for as little as 1=A2/min. Make  PC-to-Phone Calls using =
Yahoo! Messenger with Voice.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20550-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 10 09:33:26 2006
Return-Path: <java-user-return-20550-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77720 invoked from network); 10 May 2006 09:33:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 May 2006 09:33:14 -0000
Received: (qmail 58640 invoked by uid 500); 10 May 2006 09:32:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58612 invoked by uid 500); 10 May 2006 09:32:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58601 invoked by uid 99); 10 May 2006 09:32:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 02:32:37 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of cwho.work@gmail.com designates 64.233.162.192 as permitted sender)
Received: from [64.233.162.192] (HELO nz-out-0102.google.com) (64.233.162.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 02:32:36 -0700
Received: by nz-out-0102.google.com with SMTP id z3so1146626nzf
        for <java-user@lucene.apache.org>; Wed, 10 May 2006 02:32:15 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=CuKSjoTxoHqNXDxVpBdz7KWmuXpX7JxodyJVVJ9Alz8B2ikxFtpbVxmCRvfTiiWi8o7ku545UO/vSy0FC7EZ7BDdxetYFJmhaFKjtC5hAGMIB7PbDEKTcsUHnb9IzSJhmY5+h4C2h+zEoq7KhyTyzn7zzQZXF2IsTpuPJbACMDc=
Received: by 10.36.252.58 with SMTP id z58mr645076nzh;
        Wed, 10 May 2006 02:32:15 -0700 (PDT)
Received: by 10.36.113.1 with HTTP; Wed, 10 May 2006 02:32:15 -0700 (PDT)
Message-ID: <6c33f9950605100232q6eefd51cv2b589c466e56318a@mail.gmail.com>
Date: Wed, 10 May 2006 17:32:15 +0800
From: "Chun Wei Ho" <cwho.work@gmail.com>
To: java-user@lucene.apache.org
Subject: Adding a new search field but needs searching for all
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have a large Lucene index that I am planning on adding one or more
search fields, and perform searches on them.

How do I include results from the other documents that do not have the
new field? For example, I have 10 million documents in a index, and I
update 200 of them adding the field "b" =3D 1, 100 of them with field
"b" =3D 2. How do I write a query such that I can specify "b" !=3D 1 and
get 10million minus 100 (including the ones that do not have the field
"b"). Or do I have to update all the documents (potentially time
consuming since it means deleting and inserting each document in
turn??)?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20551-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 10 11:56:48 2006
Return-Path: <java-user-return-20551-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45332 invoked from network); 10 May 2006 11:56:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 May 2006 11:56:39 -0000
Received: (qmail 50980 invoked by uid 500); 10 May 2006 11:56:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50809 invoked by uid 500); 10 May 2006 11:56:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50723 invoked by uid 99); 10 May 2006 11:56:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 04:56:23 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of richmondmike@gmail.com designates 64.233.182.187 as permitted sender)
Received: from [64.233.182.187] (HELO nf-out-0910.google.com) (64.233.182.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 04:56:22 -0700
Received: by nf-out-0910.google.com with SMTP id o60so344343nfa
        for <java-user@lucene.apache.org>; Wed, 10 May 2006 04:56:01 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=G1WzQGITktYT2UJGasXps5P3FerHyM48b8UPLKDJBf2ST8gZG2CLP7blkJ4YGlwb8W/ZFDcaSrTOy0Xat735hvRx+80CSITtFWNTROSj/xZxM8KQ0vjLGN22dmHp1Y8Vwly9pJaMIZK5SRtO+77X55S3dXbNj+52SzfBXLCUTW4=
Received: by 10.48.218.7 with SMTP id q7mr507607nfg;
        Wed, 10 May 2006 04:56:01 -0700 (PDT)
Received: by 10.48.164.3 with HTTP; Wed, 10 May 2006 04:56:01 -0700 (PDT)
Message-ID: <931ca11b0605100456r23e709fan39261f353eff9aca@mail.gmail.com>
Date: Wed, 10 May 2006 07:56:01 -0400
From: "Mike Richmond" <richmondmike@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene query question
In-Reply-To: <20060510041549.95712.qmail@web50308.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <931ca11b0605091918r393f6992l985add55537fcf09@mail.gmail.com>
	 <20060510041549.95712.qmail@web50308.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Mr. Gospodnetic,

Thanks for the quick response.  You make a good point about the field
being tokenized, and I initially had the e-mail field UN_TOKENIZED but
it did not change the result of the query (my example search was still
failing).  Do you have any ideas on what could be causing that?


Thanks again,

--Mike




On 5/10/06, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
> Mike,
>
> Do you really want to tokenize your emails?  StandardAnalyzer may in fact=
 recognize email addresses and leave them as one token, but it would probab=
ly be better practice to make that email field UN_TOKENIZED.
>
> Most of the time when people have trouble finding a Document they _know_ =
is in the index, the problem involves Analyzers, and sometimes the QueryPar=
ser+Analyzer combination.  Grab Lucene in Action code and run the app that =
will take your input and pass it through various Analyzers to get an idea w=
hat's happening with your test field.
>
> Otis
>
> ----- Original Message ----
> From: Mike Richmond <richmondmike@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Tuesday, May 9, 2006 10:18:29 PM
> Subject: Lucene query question
>
> I am new to Lucene, but the behavior that I am seeing does not seem to
> make sense to me.  I am using the latest version of Lucene (1.9.1) and
> executing the following code below which creates an index with a
> single document and only one field (named "test") with a value of
> "richmondmike@gmail.com".
>
> If I use Luke to search through this newly created index using a query su=
ch as:
> "test:richmondmike@gmail.com" I do not get any matches.  However, if
> using Luke I browse to the document and click the "Reconstruct & Edit"
> button then without making any changes save the document I can then
> rerun the same query and it will find the document!
>
> Is this normal?  The only thing I can think of is that the index was
> created with Lucene 1.9.1 and is being searched using Luke (which was
> probably written using an older version of Lucene).  Any help would be
> greatly appreciated.
>
>
> Thanks in advance,
>
> Mike
>
> -------------------CODE SNIPPET BELOW-----------------
>
>
> IndexWriter iw =3D new IndexWriter("index", new StandardAnalyzer(), true)=
;
> Document d =3D new Document();
>
> d.add( new Field("test", "richmondmike@gmail.com", Field.Store.YES,
> Field.Index.TOKENIZED));
>
> iw.addDocument( d );
>
> iw.close();
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20552-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 10 12:29:58 2006
Return-Path: <java-user-return-20552-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63612 invoked from network); 10 May 2006 12:29:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 May 2006 12:29:56 -0000
Received: (qmail 16495 invoked by uid 500); 10 May 2006 12:29:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16460 invoked by uid 500); 10 May 2006 12:29:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16449 invoked by uid 99); 10 May 2006 12:29:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 05:29:47 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.180 as permitted sender)
Received: from [64.233.166.180] (HELO py-out-1112.google.com) (64.233.166.180)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 05:29:46 -0700
Received: by py-out-1112.google.com with SMTP id i49so1697367pye
        for <java-user@lucene.apache.org>; Wed, 10 May 2006 05:29:26 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Yg0GGR7mNzqwF8ISFBYwpm9id0e/KSIGdlj8eyyjNkm8/jWqBTnRRU4a0QhhNuJgtoInnUn/iqDmEdydX18JVyCj9tgv8x+p/GGvcQbWOkDsXSESVBEVqhQ21DloSZx/ywu43/Sd31AdWNIbEAm6EUAxwFqHzqaqtsyrxX9M+Zw=
Received: by 10.35.97.17 with SMTP id z17mr2487768pyl;
        Wed, 10 May 2006 05:29:25 -0700 (PDT)
Received: by 10.35.17.5 with HTTP; Wed, 10 May 2006 05:29:25 -0700 (PDT)
Message-ID: <359a92830605100529p63611841t42c1ef751affe3bd@mail.gmail.com>
Date: Wed, 10 May 2006 08:29:25 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene query question
In-Reply-To: <931ca11b0605100456r23e709fan39261f353eff9aca@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_24771_18898873.1147264165922"
References: <931ca11b0605091918r393f6992l985add55537fcf09@mail.gmail.com>
	 <20060510041549.95712.qmail@web50308.mail.yahoo.com>
	 <931ca11b0605100456r23e709fan39261f353eff9aca@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_24771_18898873.1147264165922
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I'll take a quick stab at it. What analyzer are you using with the query? I=
n
the search page of Luke, near the upper right there's the "Analyzer to use
for query parsing:" box. You might try the WhitespaceAnalyzer, since that
shouldn't do anything "interesting". Also, below the search box on the
search page, you can get a lot of information from the "update" and "explai=
n
structure" buttons.

These make a LOT of lucene's behavior clearer.

Finally, watch out for case. Lucene's comparisons are often
case-sensitive.....

Best
Erick

------=_Part_24771_18898873.1147264165922--

From java-user-return-20553-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 10 12:35:02 2006
Return-Path: <java-user-return-20553-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67667 invoked from network); 10 May 2006 12:35:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 May 2006 12:35:01 -0000
Received: (qmail 27708 invoked by uid 500); 10 May 2006 12:34:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27678 invoked by uid 500); 10 May 2006 12:34:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27665 invoked by uid 99); 10 May 2006 12:34:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 05:34:53 -0700
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of richmondmike@gmail.com designates 64.233.182.189 as permitted sender)
Received: from [64.233.182.189] (HELO nf-out-0910.google.com) (64.233.182.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 05:34:53 -0700
Received: by nf-out-0910.google.com with SMTP id o60so350594nfa
        for <java-user@lucene.apache.org>; Wed, 10 May 2006 05:34:31 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Q15pXUtENVSEE7TO/8L/kD2C4Lg6vwrzWIMkZ2lx/dVButE9/WayR0urSyKvSqiMbHdqltL4pq409JXE6jI8FkkH0Svx3LmVBfASuUXTDxjALFTGV+/bEz2w80MILFY+z1G4c8ANmbQuPmEYuqhNU6ze8BG3TSkQE6pvrJp+oc0=
Received: by 10.49.17.17 with SMTP id u17mr544653nfi;
        Wed, 10 May 2006 05:34:31 -0700 (PDT)
Received: by 10.48.164.3 with HTTP; Wed, 10 May 2006 05:34:31 -0700 (PDT)
Message-ID: <931ca11b0605100534x76ad539br2288e11250443eb6@mail.gmail.com>
Date: Wed, 10 May 2006 08:34:31 -0400
From: "Mike Richmond" <richmondmike@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene query question
In-Reply-To: <359a92830605100529p63611841t42c1ef751affe3bd@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <931ca11b0605091918r393f6992l985add55537fcf09@mail.gmail.com>
	 <20060510041549.95712.qmail@web50308.mail.yahoo.com>
	 <931ca11b0605100456r23e709fan39261f353eff9aca@mail.gmail.com>
	 <359a92830605100529p63611841t42c1ef751affe3bd@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Erick,

I appreciate the help. I am using the "StandardAnalyzer" for both the
query and for indexing.


--Mike


On 5/10/06, Erick Erickson <erickerickson@gmail.com> wrote:
> I'll take a quick stab at it. What analyzer are you using with the query?=
 In
> the search page of Luke, near the upper right there's the "Analyzer to us=
e
> for query parsing:" box. You might try the WhitespaceAnalyzer, since that
> shouldn't do anything "interesting". Also, below the search box on the
> search page, you can get a lot of information from the "update" and "expl=
ain
> structure" buttons.
>
> These make a LOT of lucene's behavior clearer.
>
> Finally, watch out for case. Lucene's comparisons are often
> case-sensitive.....
>
> Best
> Erick
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20554-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 10 12:39:33 2006
Return-Path: <java-user-return-20554-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70388 invoked from network); 10 May 2006 12:39:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 May 2006 12:39:31 -0000
Received: (qmail 38359 invoked by uid 500); 10 May 2006 12:39:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38310 invoked by uid 500); 10 May 2006 12:39:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38266 invoked by uid 99); 10 May 2006 12:39:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 05:39:15 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Kinnar.Sen@hcl.in designates 203.105.186.20 as permitted sender)
Received: from [203.105.186.20] (HELO gws04.hcl.in) (203.105.186.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 10 May 2006 05:39:14 -0700
Received: from gws04.hcl.in (gws04 [10.249.64.135])
	by localhost.hcl.in (Postfix) with ESMTP id 55779360017
	for <java-user@lucene.apache.org>; Wed, 10 May 2006 18:11:52 +0530 (IST)
Received: from chn-egw01-out.corp.hcl.in (unknown [10.249.64.37])by 
	gws04.hcl.in (Postfix) with ESMTP id 42508360016for 
	<java-user@lucene.apache.org>; Wed, 10 May 2006 18:11:52 +0530 (IST)
Received: from HSDLNTD1110010.noida.hcltech.com ([10.112.8.20]) by 
	chn-egw01-out.corp.hcl.in with Microsoft SMTPSVC(6.0.3790.1830); Wed, 10 
	May 2006 18:08:46 +0530
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: RE: Lucene query question
Date: Wed, 10 May 2006 18:03:48 +0530
Message-ID: <539C0A297AA0C74581CB5AF82D537291A1C0F0@HSDLNTD1110010.noida.hcltech.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene query question
Thread-Index: AcZ0LaSg6oNsTGWpQCq3ZMAqqdLkKQAACBcQ
From: "Kinnar Kumar Sen, Noida" <Kinnar.Sen@hcl.in>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 10 May 2006 12:38:48.0415 (UTC) 
	FILETIME=[AF3FCEF0:01C6742E]
X-imss-version: 2.038
X-imss-result: Passed
X-imss-scores: Clean:89.65907 C:2 M:3 S:5 R:5
X-imss-settings: Baseline:1 C:1 M:1 S:1 R:1 (0.0000 0.0000)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi Erik

Is there any way to do a case insensitive search without modifying the
index

Regards and Thanks=0D
Kinnar Kumar Sen=0D
  HCL Technologies Ltd.
  Sec-60, Noida-201301
    Ph: - 09313297423
=0D
=0D
=0D
TO SUCEED BE DIFFERENT BE DARING AND BE THERE FIRST
=0D
=0D

-----Original Message-----
From: Erick Erickson [mailto:erickerickson@gmail.com]=0D
Sent: Wednesday, May 10, 2006 5:59 PM
To: java-user@lucene.apache.org
Subject: Re: Lucene query question

I'll take a quick stab at it. What analyzer are you using with the
query? In
the search page of Luke, near the upper right there's the "Analyzer to
use
for query parsing:" box. You might try the WhitespaceAnalyzer, since
that
shouldn't do anything "interesting". Also, below the search box on the
search page, you can get a lot of information from the "update" and
"explain
structure" buttons.

These make a LOT of lucene's behavior clearer.

Finally, watch out for case. Lucene's comparisons are often
case-sensitive.....

Best
Erick

DISCLAIMER:
---------------------------------------------------------------------------=
--------------------------------------------

The contents of this e-mail and any attachment(s) are confidential and=
 intended for the named recipient(s) only.
It shall not attach any liability on the originator or HCL or its=
 affiliates. Any views or opinions presented in=0D
this email are solely those of the author and may not necessarily reflect=
 the opinions of HCL or its affiliates.
Any form of reproduction, dissemination, copying, disclosure, modification,=
 distribution and / or publication of=0D
this message without the prior written consent of the author of this e-mail=
 is strictly prohibited. If you have=0D
received this email in error please delete it and notify the sender=
 immediately. Before opening any mail and=0D
attachments please check them for viruses and defect.

---------------------------------------------------------------------------=
--------------------------------------------

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20555-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 10 15:29:14 2006
Return-Path: <java-user-return-20555-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33053 invoked from network); 10 May 2006 15:29:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 May 2006 15:29:01 -0000
Received: (qmail 6652 invoked by uid 500); 10 May 2006 14:59:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6618 invoked by uid 500); 10 May 2006 14:59:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6607 invoked by uid 99); 10 May 2006 14:59:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 07:59:31 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 07:59:30 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 798B633C652; Wed, 10 May 2006 10:59:09 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id D5A2E33C64B
	for <java-user@lucene.apache.org>; Wed, 10 May 2006 10:59:08 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v749.3)
In-Reply-To: <6c33f9950605100232q6eefd51cv2b589c466e56318a@mail.gmail.com>
References: <6c33f9950605100232q6eefd51cv2b589c466e56318a@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <EC0AA43D-BAC0-42CF-A200-EBCBBD582658@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Adding a new search field but needs searching for all
Date: Wed, 10 May 2006 10:59:05 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.749.3)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Try a MatchAllDocsQuery combined in a BooleanQuery with a negative  
clause for b == 1.

	Erik


On May 10, 2006, at 5:32 AM, Chun Wei Ho wrote:

> I have a large Lucene index that I am planning on adding one or more
> search fields, and perform searches on them.
>
> How do I include results from the other documents that do not have the
> new field? For example, I have 10 million documents in a index, and I
> update 200 of them adding the field "b" = 1, 100 of them with field
> "b" = 2. How do I write a query such that I can specify "b" != 1 and
> get 10million minus 100 (including the ones that do not have the field
> "b"). Or do I have to update all the documents (potentially time
> consuming since it means deleting and inserting each document in
> turn??)?
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20556-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 10 15:39:14 2006
Return-Path: <java-user-return-20556-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45887 invoked from network); 10 May 2006 15:38:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 May 2006 15:38:32 -0000
Received: (qmail 98692 invoked by uid 500); 10 May 2006 15:38:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98665 invoked by uid 500); 10 May 2006 15:38:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98652 invoked by uid 99); 10 May 2006 15:38:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 08:38:24 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of nikhil.goel@gmail.com designates 64.233.184.224 as permitted sender)
Received: from [64.233.184.224] (HELO wr-out-0506.google.com) (64.233.184.224)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 08:38:23 -0700
Received: by wr-out-0506.google.com with SMTP id 57so1415689wri
        for <java-user@lucene.apache.org>; Wed, 10 May 2006 08:38:03 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=P76MjUNy8qh8vWnW+75O2D+5Lqzvbh1RcnlyHLZXG6FMS08XM5yweN6mTYMvizci41cSbiX0RRbtOmnO6fs2VspK6zWMTnJPXMpWxYLgi5ZFiW50t3IliYitEEbFn5N16PVRe1aevtac53Mrp6sb0+Q7dvog2+lRkKIN0VaSN0M=
Received: by 10.64.203.15 with SMTP id a15mr482582qbg;
        Wed, 10 May 2006 08:38:03 -0700 (PDT)
Received: by 10.65.191.3 with HTTP; Wed, 10 May 2006 08:38:03 -0700 (PDT)
Message-ID: <7f0c29930605100838y60b3adf7j2d3bb15de0ebc528@mail.gmail.com>
Date: Wed, 10 May 2006 10:38:03 -0500
From: "Nikhil Goel" <nikhil.goel@gmail.com>
To: java-user@lucene.apache.org
Subject: Lucene Index Stored on Database instead of FileSystem
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_17901_24959808.1147275483168"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_17901_24959808.1147275483168
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

By default, Lucene create a directory for index on FileSystem. Is there a
plugin or support provided by Lucene to store the index in Databse instead
of FileSystem, where:-
1) Directory can be equal to table in DB .
2) Each file in the index directory represents one row in that table.
3) Data in the file can be stored as BLOB in each row.

If such a plugin exist, are there any concurreny issues or any limitation o=
n
the size of the index that can be stored?

Thanks
-Nikhil

------=_Part_17901_24959808.1147275483168--

From java-user-return-20557-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 10 15:56:33 2006
Return-Path: <java-user-return-20557-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63886 invoked from network); 10 May 2006 15:55:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 May 2006 15:55:37 -0000
Received: (qmail 47435 invoked by uid 500); 10 May 2006 15:55:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47411 invoked by uid 500); 10 May 2006 15:55:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47400 invoked by uid 99); 10 May 2006 15:55:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 08:55:29 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.62] (HELO web50308.mail.yahoo.com) (206.190.38.62)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 10 May 2006 08:55:28 -0700
Received: (qmail 80387 invoked by uid 60001); 10 May 2006 15:55:03 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=Q6cHLcWCnDDOgX3K+o69tCp+KZ9mMF0qAGh117w3pbE4wSfmeTEdprAa0Rgi9VhZlPp1/kW2MvukjfvmY7StXTs2df+OZweo2RyKpYWETSzb5+StGIfHbOXLPp+o6zsfYNFivAeWVkHUqjuiIA1ERENIY9ysSp9e8Wbh/86UEtY=  ;
Message-ID: <20060510155503.80376.qmail@web50308.mail.yahoo.com>
Date: Wed, 10 May 2006 08:55:03 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene Index Stored on Database instead of FileSystem
To: java-user@lucene.apache.org
In-Reply-To: <7f0c29930605100838y60b3adf7j2d3bb15de0ebc528@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Nikhil,
This will help: http://www.google.com/search?q=jdbcdirectory%20lucene

We need to add this to the FAQ.
Otis

----- Original Message ----
From: Nikhil Goel <nikhil.goel@gmail.com>
To: java-user@lucene.apache.org
Sent: Wednesday, May 10, 2006 11:38:03 AM
Subject: Lucene Index Stored on Database instead of FileSystem

Hi,

By default, Lucene create a directory for index on FileSystem. Is there a
plugin or support provided by Lucene to store the index in Databse instead
of FileSystem, where:-
1) Directory can be equal to table in DB .
2) Each file in the index directory represents one row in that table.
3) Data in the file can be stored as BLOB in each row.

If such a plugin exist, are there any concurreny issues or any limitation on
the size of the index that can be stored?

Thanks
-Nikhil




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20558-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 10 17:36:01 2006
Return-Path: <java-user-return-20558-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11328 invoked from network); 10 May 2006 17:26:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 May 2006 17:26:44 -0000
Received: (qmail 69545 invoked by uid 500); 10 May 2006 17:26:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69517 invoked by uid 500); 10 May 2006 17:26:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69506 invoked by uid 99); 10 May 2006 17:26:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 10:26:23 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,HTML_00_10,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.87.64] (HELO web37411.mail.mud.yahoo.com) (209.191.87.64)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 10 May 2006 10:26:22 -0700
Received: (qmail 37406 invoked by uid 60001); 10 May 2006 17:26:01 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=pt9Vp5O6QWA2Ra6SlwN6znUQqIlAnypxBnTgJNmy0Y1By/39Azs5f0JILQYnCPoqHdwS5Adl58tqNcHneAjOENzSGZPWaSrbrSgza/HmRgTdv6SqPnCjsNBiWPSaGFrlfTcOtsVPTLbOx0ElG+phQhPjGWfYVBilm9WTR3Pvrso=  ;
Message-ID: <20060510172601.37404.qmail@web37411.mail.mud.yahoo.com>
Received: from [38.99.201.242] by web37411.mail.mud.yahoo.com via HTTP; Wed, 10 May 2006 10:26:01 PDT
Date: Wed, 10 May 2006 10:26:01 -0700 (PDT)
From: Xiaocheng Luan <jenaluan@yahoo.com>
Subject: (Lucene) tools/algorithms for co-occurrence terms computation
To: java-user@lucene.apache.org
In-Reply-To: <292154071@web.de>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1147469807-1147281961=:36337"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1147469807-1147281961=:36337
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi,

Is there any Lucene tools (or general tools/algorithms) that can compute the co-occurrence terms for a given query (or term)?

For example, if the user types in "avian flu", the top co-occurrence terms may include "Hong Kong", "vaccine", "H5N1", or "pandemic", depending on the underlying data set. It may be precompued or dynamically computed on a small data set, any help wil be highly appreciated.

Thanks!
Xiaocheng Luan

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-1147469807-1147281961=:36337--

From java-user-return-20559-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 10 17:36:05 2006
Return-Path: <java-user-return-20559-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13479 invoked from network); 10 May 2006 17:34:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 May 2006 17:34:44 -0000
Received: (qmail 81547 invoked by uid 500); 10 May 2006 17:34:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81514 invoked by uid 500); 10 May 2006 17:34:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81503 invoked by uid 99); 10 May 2006 17:34:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 10:34:37 -0700
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,RCVD_IN_NJABL_PROXY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [202.43.219.180] (HELO web8611.mail.in.yahoo.com) (202.43.219.180)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 10 May 2006 10:34:34 -0700
Received: (qmail 68816 invoked by uid 60001); 10 May 2006 17:34:11 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=FXfnjv/IKDnpoJo7wsCCOtvd/9gidQPEUL7/CzvX/odjl+4q9OnfpUem6zVSAdahgNOovGStKj3RJVoW4XtjyM1nVeoZFMIShZp2BRWrY1HlXDeXlEiLazCuhbklF/y2//rRpZHyEoJ3AoqHjwTQcMPkbUzrrBURsFWcDOoTt7c=  ;
Message-ID: <20060510173411.68814.qmail@web8611.mail.in.yahoo.com>
Received: from [59.92.43.167] by web8611.mail.in.yahoo.com via HTTP; Wed, 10 May 2006 18:34:11 BST
Date: Wed, 10 May 2006 18:34:11 +0100 (BST)
From: MAHADEVAN SAMBAMURTHY <mailmahaauro@yahoo.co.in>
Subject: Lucene - index writer
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

 I am new to Lucene and recently started making use of
it. Can anyone please clarify the following: 

I have 2 services and need to have index on the
fetched datas from respective services. I am trying to
create the index for both of them in the same
directory with 2 different analyzers like this: 

========================================= 

private final String indexDir = "/data/index"; 

(Service 1 creates INdexWriter as follows ) 
IndexWriter indexWriter = new IndexWriter(indexDir,
new StopAnalyzer(), false);

 (Service 2 creates INdexWriter as follows )
IndexWriter indexWriter = new IndexWriter(indexDir,
new StandardAnalyzer(), false); 

========================================== 

1. Can I have the IndexWriter like this using diferent
Analyzers.. for writing the INdex in the same dir. for
different services ? 

2. I could see from Lucene that I have to make use of
the SAME Analyzer when creating the INdex as well as
during searching.. but for the above mentioned
situation, will it have any conflicts ? 

Thanks & Regards, 
S. Mahadevan 



		
__________________________________________________________ 
Yahoo! India Answers: Share what you know. Learn something new. 
http://in.answers.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20560-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 11 05:02:32 2006
Return-Path: <java-user-return-20560-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95400 invoked from network); 11 May 2006 05:02:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2006 05:02:31 -0000
Received: (qmail 34986 invoked by uid 500); 10 May 2006 17:42:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34950 invoked by uid 500); 10 May 2006 17:42:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34939 invoked by uid 99); 10 May 2006 17:42:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 10:42:04 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [149.77.160.1] (HELO master.hyd.deshaw.com) (149.77.160.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 10:42:03 -0700
Received: from mshydpub1.hyd.deshaw.com (mshydpub1.hyd.deshaw.com [149.77.160.67])
 by master.hyd.deshaw.com (8.12.7/8.12.7/2.0.kim.desco.357) with ESMTP id k4AHfbR8002651
 for <java-user@lucene.apache.org>; Wed, 10 May 2006 23:11:39 +0530 (IST)
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: RE: Lucene - index writer
Date: Wed, 10 May 2006 23:11:36 +0530
Message-ID: <E817F096B8D59B4E9D1E437917B1083107D1A5@mshydpub1.hyd.deshaw.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene - index writer
Thread-Index: AcZ0WDCsxsnCnPqITv+KbDJrI66TQwAACORA
From: "Satuluri, Venu_Madhav" <Venu.Madhav.Satuluri@deshaw.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I don't think it should cause any conflicts in the index itself (the
indexing process proper is decoupled from the analyzing), and if you can
decide as to which analyzer to use when you're searching based on the
field/kind of search, then it should be fine.

Regards,
Venu


-----Original Message-----
From: MAHADEVAN SAMBAMURTHY [mailto:mailmahaauro@yahoo.co.in]=20
Sent: Wednesday, May 10, 2006 11:04 PM
To: java-user@lucene.apache.org
Subject: Lucene - index writer


Hi,

 I am new to Lucene and recently started making use of
it. Can anyone please clarify the following:=20

I have 2 services and need to have index on the
fetched datas from respective services. I am trying to
create the index for both of them in the same
directory with 2 different analyzers like this:=20

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=20

private final String indexDir =3D "/data/index";=20

(Service 1 creates INdexWriter as follows )=20
IndexWriter indexWriter =3D new IndexWriter(indexDir,
new StopAnalyzer(), false);

 (Service 2 creates INdexWriter as follows )
IndexWriter indexWriter =3D new IndexWriter(indexDir,
new StandardAnalyzer(), false);=20

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=20

1. Can I have the IndexWriter like this using diferent
Analyzers.. for writing the INdex in the same dir. for
different services ?=20

2. I could see from Lucene that I have to make use of
the SAME Analyzer when creating the INdex as well as
during searching.. but for the above mentioned
situation, will it have any conflicts ?=20

Thanks & Regards,=20
S. Mahadevan=20



	=09
__________________________________________________________=20
Yahoo! India Answers: Share what you know. Learn something new.=20
http://in.answers.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20569-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 11 05:03:22 2006
Return-Path: <java-user-return-20569-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98078 invoked from network); 11 May 2006 05:03:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2006 05:03:22 -0000
Received: (qmail 87342 invoked by uid 500); 10 May 2006 23:27:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87289 invoked by uid 500); 10 May 2006 23:27:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87268 invoked by uid 99); 10 May 2006 23:27:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 16:27:17 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of bubblenut@gmail.com designates 64.233.182.190 as permitted sender)
Received: from [64.233.182.190] (HELO nf-out-0910.google.com) (64.233.182.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 16:27:15 -0700
Received: by nf-out-0910.google.com with SMTP id o60so49271nfa
        for <java-user@lucene.apache.org>; Wed, 10 May 2006 16:26:54 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=VlU0QE1uDpyTavx4tYoQNJcphBuEndLaIaBRJXUJECT4V2jFEws6KU/Le/L8PbcosJ/ehKItkhIIvbJnskq56DjOoczKCl14AxIxPhza8tXN+adb+KVM++gZEcbJSYglTagu9ld9KUOtJyme2WR3Q8hYsLvlaTLqSyAk3AoMwY4=
Received: by 10.49.94.16 with SMTP id w16mr108183nfl;
        Wed, 10 May 2006 16:26:54 -0700 (PDT)
Received: by 10.48.157.7 with HTTP; Wed, 10 May 2006 16:26:54 -0700 (PDT)
Message-ID: <32a1c320605101626s96c3894q716378fcbe3a2db7@mail.gmail.com>
Date: Wed, 10 May 2006 23:26:54 +0000
From: "Robert Young" <bubblenut@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Searching across spaces
In-Reply-To: <359a92830605101307g5c29547cy17517e86aecb3092@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <32a1c320605101108v4091ac27o9c07f1d1b47544bf@mail.gmail.com>
	 <359a92830605101307g5c29547cy17517e86aecb3092@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yes, I looked at the synonym sollution from Lucene in Action but, as
you point out, I have to know about it ahead of time. The only
sollution I've had so far is to index the term without the spaces as
well and then run two searches, one with spaces and one without. It
would work but it just seems like quite a ratty sollution.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20561-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 11 05:08:49 2006
Return-Path: <java-user-return-20561-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27270 invoked from network); 11 May 2006 05:08:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2006 05:08:48 -0000
Received: (qmail 48317 invoked by uid 500); 10 May 2006 17:48:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48291 invoked by uid 500); 10 May 2006 17:48:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48280 invoked by uid 99); 10 May 2006 17:48:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 10:48:38 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_MESSAGE,NO_REAL_NAME,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Lee_Gary@emc.com designates 168.159.213.200 as permitted sender)
Received: from [168.159.213.200] (HELO mexforward.lss.emc.com) (168.159.213.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 10:48:37 -0700
Received: from mailhub.lss.emc.com (uraeus.lss.emc.com [10.254.144.14])
	by mexforward.lss.emc.com (Switch-3.1.8/Switch-3.1.7) with ESMTP id k4AHmF50019750
	for <java-user@lucene.apache.org>; Wed, 10 May 2006 13:48:15 -0400 (EDT)
Received: from MAHO3MSX2.corp.emc.com (maho3msx2.corp.emc.com [128.221.11.32])
	by mailhub.lss.emc.com (Switch-3.1.8/Switch-3.1.7) with ESMTP id k4AHmBtx021762
	for <java-user@lucene.apache.org>; Wed, 10 May 2006 13:48:14 -0400 (EDT)
Received: by maho3msx2.corp.emc.com with Internet Mail Service (5.5.2653.19)
	id <JF797JV2>; Wed, 10 May 2006 13:48:07 -0400
Message-ID: <BED850C725E74F47A0F69CC0EE9AB64D02B4E431@CORPUSMX40B.corp.emc.com>
From: Lee_Gary@emc.com
To: java-user@lucene.apache.org
Subject: wildcards in phrase searches
Date: Wed, 10 May 2006 13:47:43 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C67459.D7A9A716"
X-PMX-Version: 4.7.1.128075, Antispam-Engine: 2.3.0.1, Antispam-Data: 2006.5.10.101107
X-PerlMx-Spam: Gauge=, SPAM=2%, Reason='EMC_FROM_0+ -2, NO_REAL_NAME 0, __CT 0, __CTYPE_HAS_BOUNDARY 0, __CTYPE_MULTIPART 0, __CTYPE_MULTIPART_ALT 0, __HAS_MSGID 0, __HAS_X_MAILER 0, __IMS_MSGID 0, __IMS_MUA 0, __MIME_HTML 0, __MIME_VERSION 0, __SANE_MSGID 0, __TAG_EXISTS_HTML 0'
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C67459.D7A9A716
Content-Type: text/plain

Is it possible to have wildcards in a phrase search? For example, if my
object is indexed with a phrase "benchmark properties", is there a way to
specify a phrase search that uses wildcards, such as "benchmar* properties"
or "benchmark pro*"? I have tried using WildcardQuery, but it doesnt seem to
work with phrases, only single terms. Using the QueryParser doesnt seem to
work either, and ive tried it with the StandardAnalyzer and KeywordAnalyzer.
Perhaps there is something simple Im missing here. Has anyone gotten this to
work?
 
Thanks in advance,
-G

------_=_NextPart_001_01C67459.D7A9A716--

From java-user-return-20568-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 11 05:20:16 2006
Return-Path: <java-user-return-20568-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93139 invoked from network); 11 May 2006 05:20:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2006 05:20:16 -0000
Received: (qmail 465 invoked by uid 500); 10 May 2006 20:08:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 432 invoked by uid 500); 10 May 2006 20:08:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 421 invoked by uid 99); 10 May 2006 20:08:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 13:08:12 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.177 as permitted sender)
Received: from [64.233.166.177] (HELO py-out-1112.google.com) (64.233.166.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 13:08:11 -0700
Received: by py-out-1112.google.com with SMTP id i49so19581pye
        for <java-user@lucene.apache.org>; Wed, 10 May 2006 13:07:48 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=smnGGNg06ODfTZtoU/tiIoKv8iqnkpMkbIVxH3hEZWl7vNcJoGTscb49fsUhLIL5b8j08eOBMvnox1Zw8C8EbIHzwAy5SPiN+K48mJ6zQ/kFLb8+/BfOhQ9XjYl582DIkVMdgpxbA6xOETJjZEotDTIA4rswKEZ8nNEVqoLtWaw=
Received: by 10.35.85.1 with SMTP id n1mr7359pyl;
        Wed, 10 May 2006 13:07:48 -0700 (PDT)
Received: by 10.35.17.5 with HTTP; Wed, 10 May 2006 13:07:48 -0700 (PDT)
Message-ID: <359a92830605101307g5c29547cy17517e86aecb3092@mail.gmail.com>
Date: Wed, 10 May 2006 16:07:48 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Searching across spaces
In-Reply-To: <32a1c320605101108v4091ac27o9c07f1d1b47544bf@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_35948_23717665.1147291668733"
References: <32a1c320605101108v4091ac27o9c07f1d1b47544bf@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_35948_23717665.1147291668733
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I suspect you have to do some fancy indexing. That is, index the following
terms: sponge bob square pants spongebob squarepants.

But this requires that you understand all the variations you want to hit on
ahead of time.

Or, you could conceivably deal with wildcard queries, but I think this is
the same problem as indexing the many different terms.

Note that "Lucene in Action" has a section on indexing synonyms that could
be very helpful to you if you decide to index several terms, particularly i=
f
you want span queries to operate in this space.

Best
Erick

------=_Part_35948_23717665.1147291668733--

From java-user-return-20562-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 11 05:20:19 2006
Return-Path: <java-user-return-20562-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93230 invoked from network); 11 May 2006 05:20:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2006 05:20:19 -0000
Received: (qmail 86953 invoked by uid 500); 10 May 2006 18:00:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86928 invoked by uid 500); 10 May 2006 18:00:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86917 invoked by uid 99); 10 May 2006 18:00:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 11:00:14 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 11:00:13 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id F400533C64B; Wed, 10 May 2006 13:59:52 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id 442FE33C641
	for <java-user@lucene.apache.org>; Wed, 10 May 2006 13:59:52 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v749.3)
In-Reply-To: <BED850C725E74F47A0F69CC0EE9AB64D02B4E431@CORPUSMX40B.corp.emc.com>
References: <BED850C725E74F47A0F69CC0EE9AB64D02B4E431@CORPUSMX40B.corp.emc.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <EE619959-3C9D-4E6E-87A0-D06EDB38C938@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: wildcards in phrase searches
Date: Wed, 10 May 2006 13:59:44 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.749.3)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 10, 2006, at 1:47 PM, Lee_Gary@emc.com wrote:

> Is it possible to have wildcards in a phrase search? For example,  
> if my
> object is indexed with a phrase "benchmark properties", is there a  
> way to
> specify a phrase search that uses wildcards, such as "benchmar*  
> properties"
> or "benchmark pro*"? I have tried using WildcardQuery, but it  
> doesnt seem to
> work with phrases, only single terms. Using the QueryParser doesnt  
> seem to
> work either, and ive tried it with the StandardAnalyzer and  
> KeywordAnalyzer.
> Perhaps there is something simple Im missing here. Has anyone  
> gotten this to
> work?

It's a fair bit trickier than using any of the stock core classes  
like that.  But it can be done, using SpanNearQuery nested with  
SpanRegexQuery's for the wildcarded parts in the contrib code (note,  
this uses regex syntax, not WildcardQuery syntax), along with  
SpanTermQuery's for the non-wildcarded parts.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20564-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 11 05:29:06 2006
Return-Path: <java-user-return-20564-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14898 invoked from network); 11 May 2006 05:29:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2006 05:29:05 -0000
Received: (qmail 56568 invoked by uid 500); 10 May 2006 18:09:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56266 invoked by uid 500); 10 May 2006 18:08:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56255 invoked by uid 99); 10 May 2006 18:08:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 11:08:59 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of bubblenut@gmail.com designates 64.233.182.186 as permitted sender)
Received: from [64.233.182.186] (HELO nf-out-0910.google.com) (64.233.182.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 11:08:58 -0700
Received: by nf-out-0910.google.com with SMTP id y38so394620nfb
        for <java-user@lucene.apache.org>; Wed, 10 May 2006 11:08:37 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=VhJWKnBYFR+GDmv8tdmuqbWDi2+s0gdiyvx+YDOjM682IzPu9XfaQnRRx5iURH7Gw/JgeKi9mq34Zr/Ycfx3R2mqAfSdM/f92o/PTbIfc9zs1zf3XZmA1Fdhz7dCZido2B0uXKERYGm4CKVt1dyV7mhOvZbGGTs6O39TsnHG5ao=
Received: by 10.48.242.5 with SMTP id p5mr839853nfh;
        Wed, 10 May 2006 11:08:37 -0700 (PDT)
Received: by 10.48.157.7 with HTTP; Wed, 10 May 2006 11:08:37 -0700 (PDT)
Message-ID: <32a1c320605101108v4091ac27o9c07f1d1b47544bf@mail.gmail.com>
Date: Wed, 10 May 2006 18:08:37 +0000
From: "Robert Young" <bubblenut@gmail.com>
To: java-user@lucene.apache.org
Subject: Searching across spaces
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

How can I search accross spaces in the document when the spaces aren't
present in the search. For example, if the document contains
"spongebob squarepants" but the user searches on "sponge bob" I would
like to get the result.

Thanks
Rob

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20565-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 11 05:33:18 2006
Return-Path: <java-user-return-20565-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23375 invoked from network); 11 May 2006 05:33:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2006 05:33:18 -0000
Received: (qmail 63873 invoked by uid 500); 10 May 2006 18:13:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63843 invoked by uid 500); 10 May 2006 18:13:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63829 invoked by uid 99); 10 May 2006 18:13:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 11:13:12 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=NO_REAL_NAME,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Lee_Gary@emc.com designates 168.159.213.200 as permitted sender)
Received: from [168.159.213.200] (HELO mexforward.lss.emc.com) (168.159.213.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 11:13:11 -0700
Received: from mailhub.lss.emc.com (nagas.lss.emc.com [10.254.144.11])
	by mexforward.lss.emc.com (Switch-3.1.8/Switch-3.1.7) with ESMTP id k4AICofu015715
	for <java-user@lucene.apache.org>; Wed, 10 May 2006 14:12:50 -0400 (EDT)
Received: from MAHO3MSX2.corp.emc.com (maho3msx2.corp.emc.com [128.221.11.32])
	by mailhub.lss.emc.com (Switch-3.1.8/Switch-3.1.7) with ESMTP id k4AICc9h018596
	for <java-user@lucene.apache.org>; Wed, 10 May 2006 14:12:49 -0400 (EDT)
Received: by maho3msx2.corp.emc.com with Internet Mail Service (5.5.2653.19)
	id <JF797N6X>; Wed, 10 May 2006 14:12:31 -0400
Message-ID: <BED850C725E74F47A0F69CC0EE9AB64D02BA6169@CORPUSMX40B.corp.emc.com>
From: Lee_Gary@emc.com
To: java-user@lucene.apache.org
Subject: RE: wildcards in phrase searches
Date: Wed, 10 May 2006 14:12:22 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-PMX-Version: 4.7.1.128075, Antispam-Engine: 2.3.0.1, Antispam-Data: 2006.5.10.105109
X-PerlMx-Spam: Gauge=, SPAM=2%, Reason='EMC_FROM_0+ -2, NO_REAL_NAME 0, __CT 0, __CT_TEXT_PLAIN 0, __HAS_MSGID 0, __HAS_X_MAILER 0, __IMS_MSGID 0, __IMS_MUA 0, __MIME_TEXT_ONLY 0, __MIME_VERSION 0, __SANE_MSGID 0, __STOCK_CRUFT 0, __STOCK_PHRASE_6 0'
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for your reply. Is there any sample code that would demonstrate how
to use these classes properly to get the desired effect of what im looking
for? 

Thanks

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Wednesday, May 10, 2006 11:00 AM
To: java-user@lucene.apache.org
Subject: Re: wildcards in phrase searches


On May 10, 2006, at 1:47 PM, Lee_Gary@emc.com wrote:

> Is it possible to have wildcards in a phrase search? For example, if 
> my object is indexed with a phrase "benchmark properties", is there a 
> way to specify a phrase search that uses wildcards, such as "benchmar* 
> properties"
> or "benchmark pro*"? I have tried using WildcardQuery, but it doesnt 
> seem to work with phrases, only single terms. Using the QueryParser 
> doesnt seem to work either, and ive tried it with the StandardAnalyzer 
> and KeywordAnalyzer.
> Perhaps there is something simple Im missing here. Has anyone gotten 
> this to work?

It's a fair bit trickier than using any of the stock core classes like that.
But it can be done, using SpanNearQuery nested with SpanRegexQuery's for the
wildcarded parts in the contrib code (note, this uses regex syntax, not
WildcardQuery syntax), along with SpanTermQuery's for the non-wildcarded
parts.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20566-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 11 05:57:17 2006
Return-Path: <java-user-return-20566-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7922 invoked from network); 11 May 2006 05:57:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2006 05:57:17 -0000
Received: (qmail 3521 invoked by uid 500); 10 May 2006 18:37:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3471 invoked by uid 500); 10 May 2006 18:37:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3433 invoked by uid 99); 10 May 2006 18:37:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 11:37:11 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 11:37:09 -0700
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.1535B175@mailer.syr.edu>; Wed, 10 May 2006 14:36:48 -0400
Message-ID: <446232C1.2020302@syr.edu>
Date: Wed, 10 May 2006 14:36:49 -0400
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Thunderbird 1.5.0.2 (Windows/20060308)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: (Lucene) tools/algorithms for co-occurrence terms computation
References: <20060510172601.37404.qmail@web37411.mail.mud.yahoo.com> <1147284216.4926.38.camel@localhost>
In-Reply-To: <1147284216.4926.38.camel@localhost>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Take a look at my ApacheCon example code at 
http://www.cnlp.org/apachecon2005.  In particular there is some sample 
code in the file IndexAnalysis.java that demonstrates what Karl is 
talking about.  I don't think it is exactly what you want, but it shows 
how to get co-occurrence information from the Index.  You may be able to 
use it as a starting point.

karl wettin wrote:
> On Wed, 2006-05-10 at 10:26 -0700, Xiaocheng Luan wrote:
>   
>> Is there any Lucene tools 
>>     
>
> Not that I know.
>
>   
>> (or general tools/algorithms) that can compute the co-occurrence terms
>> for a given query (or term)?
>>     
>
> Might be slow, but you can work the TermFreqVector. It would probably be
> best to store this data in an alternative index.
>
> I would start with making it an all in memory index using Maps and hard
> links. Then use your favorite object mapping layer to store the
> information. Perhaps java.io.Serializable is enough.
>  
> Weka is a really nice data mining library. You should post the same
> question to them, and tell them what you try to achieve with this data. 
>
> Perhaps they have some really nice classifier for you. 
>
> Feel free to report back here.
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>   

-- 

Grant Ingersoll 
Sr. Software Engineer 
Center for Natural Language Processing 
Syracuse University 
School of Information Studies 
335 Hinds Hall 
Syracuse, NY 13244 

http://www.cnlp.org 
Voice:  315-443-5484 
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20570-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 11 06:17:01 2006
Return-Path: <java-user-return-20570-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67700 invoked from network); 11 May 2006 06:17:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2006 06:17:00 -0000
Received: (qmail 22635 invoked by uid 500); 11 May 2006 03:02:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19095 invoked by uid 500); 11 May 2006 03:02:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18332 invoked by uid 99); 11 May 2006 03:02:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 20:02:04 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of cwho.work@gmail.com designates 64.233.162.194 as permitted sender)
Received: from [64.233.162.194] (HELO nz-out-0102.google.com) (64.233.162.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 20:02:01 -0700
Received: by nz-out-0102.google.com with SMTP id z3so80794nzf
        for <java-user@lucene.apache.org>; Wed, 10 May 2006 20:01:41 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=ROqv1/rHMjEL0q2LK6fwTClJuVocxktlrdBvx40LLXjE48CVdIY5wdV7KtPT9fiTPliH5jogKAJhCIP5afDvg8t8X/1+TPuMS1CnN/snX0qmXsCADr6AEOiOUDgHfsyku+79xaCgTOYnPZ8hk1bWyKcBi2E5xO2i8gCwiROpQXs=
Received: by 10.37.20.14 with SMTP id x14mr415242nzi;
        Wed, 10 May 2006 20:01:41 -0700 (PDT)
Received: by 10.36.113.1 with HTTP; Wed, 10 May 2006 20:01:40 -0700 (PDT)
Message-ID: <6c33f9950605102001q6ddb29d7g4a7920d9a804ffc8@mail.gmail.com>
Date: Thu, 11 May 2006 11:01:41 +0800
From: "Chun Wei Ho" <cwho.work@gmail.com>
To: java-user@lucene.apache.org
Subject: Updating documents in index with some fields not stored
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I would like to make some updates to values within my large index. I
understand that I have to delete and re-insert each document to be
changed to do that. However I do have some large fields that are
unstored (only indexed and no, these are not the fields that I am
wanting to change), which means I can't re-insert the documents
easily. I would like to find out:

(1) Is it possible just to create a new field index on an existing
index file. My change is that I have a field that is stored but not
indexed, and now I would like to index that field. If it can be done
it would be much more convenient than deleting and re-inserting every
document.

(2) I understand Luke is able to reconstruct the field so that the
document can be re-inserted. Can someone give me a hint on how its
done and if its potentially too time consuming for a large index (up
to million docs and too many terms to count).

Thanks a lot. Any help would be much appreciated.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20563-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 11 06:19:03 2006
Return-Path: <java-user-return-20563-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77225 invoked from network); 11 May 2006 06:19:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2006 06:19:01 -0000
Received: (qmail 28240 invoked by uid 500); 10 May 2006 18:04:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28178 invoked by uid 500); 10 May 2006 18:04:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28145 invoked by uid 99); 10 May 2006 18:04:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 11:04:01 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.175] (HELO hnexfe09.hetnet.nl) (195.121.6.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 11:03:59 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe09.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Wed, 10 May 2006 20:03:35 +0200
Subject: Re: (Lucene) tools/algorithms for co-occurrence terms computation
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <20060510172601.37404.qmail@web37411.mail.mud.yahoo.com>
References: <20060510172601.37404.qmail@web37411.mail.mud.yahoo.com>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Wed, 10 May 2006 20:03:36 +0200
Message-Id: <1147284216.4926.38.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 10 May 2006 18:03:35.0764 (UTC) FILETIME=[0E9D4940:01C6745C]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wed, 2006-05-10 at 10:26 -0700, Xiaocheng Luan wrote:
> Is there any Lucene tools 

Not that I know.

> (or general tools/algorithms) that can compute the co-occurrence terms
> for a given query (or term)?

Might be slow, but you can work the TermFreqVector. It would probably be
best to store this data in an alternative index.

I would start with making it an all in memory index using Maps and hard
links. Then use your favorite object mapping layer to store the
information. Perhaps java.io.Serializable is enough.
 
Weka is a really nice data mining library. You should post the same
question to them, and tell them what you try to achieve with this data. 

Perhaps they have some really nice classifier for you. 

Feel free to report back here.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20567-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 11 06:31:32 2006
Return-Path: <java-user-return-20567-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8024 invoked from network); 11 May 2006 06:31:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2006 06:31:32 -0000
Received: (qmail 79710 invoked by uid 500); 10 May 2006 19:11:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79654 invoked by uid 500); 10 May 2006 19:11:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79643 invoked by uid 99); 10 May 2006 19:11:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 12:11:27 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 May 2006 12:11:26 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 4DE8A33C671; Wed, 10 May 2006 15:11:06 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id 1D70133C655
	for <java-user@lucene.apache.org>; Wed, 10 May 2006 15:11:05 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v749.3)
In-Reply-To: <BED850C725E74F47A0F69CC0EE9AB64D02BA6169@CORPUSMX40B.corp.emc.com>
References: <BED850C725E74F47A0F69CC0EE9AB64D02BA6169@CORPUSMX40B.corp.emc.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <7D8A505C-0334-4DB8-B31E-5DE9FFB9A24E@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: wildcards in phrase searches
Date: Wed, 10 May 2006 15:10:59 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.749.3)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 10, 2006, at 2:12 PM, Lee_Gary@emc.com wrote:
> Thanks for your reply. Is there any sample code that would  
> demonstrate how
> to use these classes properly to get the desired effect of what im  
> looking
> for?

I am not able to access Lucene's svn at the moment, but here's my  
local copy of the TestSpanRegexQuery:

public class TestSpanRegexQuery extends TestCase {
   public void testSpanRegex() throws Exception {
     RAMDirectory directory = new RAMDirectory();
     IndexWriter writer = new IndexWriter(directory, new  
SimpleAnalyzer(), true);
     Document doc = new Document();
//    doc.add(new Field("field", "the quick brown fox jumps over the  
lazy dog", Field.Store.NO, Field.Index.TOKENIZED));
//    writer.addDocument(doc);
//    doc = new Document();
     doc.add(new Field("field", "auto update", Field.Store.NO,  
Field.Index.TOKENIZED));
     writer.addDocument(doc);
     doc = new Document();
     doc.add(new Field("field", "first auto update", Field.Store.NO,  
Field.Index.TOKENIZED));
     writer.addDocument(doc);
     writer.optimize();
     writer.close();

     IndexSearcher searcher = new IndexSearcher(directory);
     SpanRegexQuery srq = new SpanRegexQuery(new Term("field",  
"aut.*"));
     SpanFirstQuery sfq = new SpanFirstQuery(srq, 1);
//    SpanNearQuery query = new SpanNearQuery(new SpanQuery[] {srq,  
stq}, 6, true);
     Hits hits = searcher.search(sfq);
     assertEquals(1, hits.length());
   }
}

This is not quite what you're after, but close.  You'll use a  
SpanTermQuery's and SpanRegexQuery's mixed inside a SpanNearQuery.   
Try out some simple examples like this and see where you get, and  
post back if you have issues/questions.

	Erik




>
> Thanks
>
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Wednesday, May 10, 2006 11:00 AM
> To: java-user@lucene.apache.org
> Subject: Re: wildcards in phrase searches
>
>
> On May 10, 2006, at 1:47 PM, Lee_Gary@emc.com wrote:
>
>> Is it possible to have wildcards in a phrase search? For example, if
>> my object is indexed with a phrase "benchmark properties", is there a
>> way to specify a phrase search that uses wildcards, such as  
>> "benchmar*
>> properties"
>> or "benchmark pro*"? I have tried using WildcardQuery, but it doesnt
>> seem to work with phrases, only single terms. Using the QueryParser
>> doesnt seem to work either, and ive tried it with the  
>> StandardAnalyzer
>> and KeywordAnalyzer.
>> Perhaps there is something simple Im missing here. Has anyone gotten
>> this to work?
>
> It's a fair bit trickier than using any of the stock core classes  
> like that.
> But it can be done, using SpanNearQuery nested with  
> SpanRegexQuery's for the
> wildcarded parts in the contrib code (note, this uses regex syntax,  
> not
> WildcardQuery syntax), along with SpanTermQuery's for the non- 
> wildcarded
> parts.
>
> 	Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20571-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 11 09:58:06 2006
Return-Path: <java-user-return-20571-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97176 invoked from network); 11 May 2006 09:58:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2006 09:58:06 -0000
Received: (qmail 27611 invoked by uid 500); 11 May 2006 09:57:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27574 invoked by uid 500); 11 May 2006 09:57:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27563 invoked by uid 99); 11 May 2006 09:57:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 02:57:57 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 02:57:56 -0700
Received: from [192.168.0.252] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id k4B9vcL04931
	for <java-user@lucene.apache.org>; Thu, 11 May 2006 04:57:38 -0500
Message-ID: <44630B12.8090206@getopt.org>
Date: Thu, 11 May 2006 11:59:46 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Thunderbird 1.5.0.2 (Windows/20060308)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Updating documents in index with some fields not stored
References: <6c33f9950605102001q6ddb29d7g4a7920d9a804ffc8@mail.gmail.com>
In-Reply-To: <6c33f9950605102001q6ddb29d7g4a7920d9a804ffc8@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Chun Wei Ho wrote:
> (2) I understand Luke is able to reconstruct the field so that the
> document can be re-inserted. Can someone give me a hint on how its
> done and if its potentially too time consuming for a large index (up
> to million docs and too many terms to count).

Luke simply iterates over all terms, and collects terms and their 
positions in a selected document, and then builds an array of terms, 
inserting them at correct positions. If there are gaps in positions, it 
inserts nulls.

For a large index with many terms this could take long (an hour?) - 
whether it's a viable option to you depends on the value you put on that 
document's data, and how often you need to do this ...

-- 
Best regards,
Andrzej Bialecki     <><
 ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20572-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 11 10:00:06 2006
Return-Path: <java-user-return-20572-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97530 invoked from network); 11 May 2006 10:00:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2006 10:00:05 -0000
Received: (qmail 30117 invoked by uid 500); 11 May 2006 09:59:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30082 invoked by uid 500); 11 May 2006 09:59:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30071 invoked by uid 99); 11 May 2006 09:59:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 02:59:58 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 02:59:56 -0700
Received: from [192.168.0.252] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id k4B9xdf08460
	for <java-user@lucene.apache.org>; Thu, 11 May 2006 04:59:39 -0500
Message-ID: <44630B8C.50809@getopt.org>
Date: Thu, 11 May 2006 12:01:48 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Thunderbird 1.5.0.2 (Windows/20060308)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Updating documents in index with some fields not stored
References: <6c33f9950605102001q6ddb29d7g4a7920d9a804ffc8@mail.gmail.com>
In-Reply-To: <6c33f9950605102001q6ddb29d7g4a7920d9a804ffc8@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Chun Wei Ho wrote:
> (2) I understand Luke is able to reconstruct the field so that the
> document can be re-inserted. Can someone give me a hint on how its
> done and if its potentially too time consuming for a large index (up
> to million docs and too many terms to count).

Ah, I forgot to mention: when that function in Luke was written, term 
vector support was still a bit shaky. Nowadays, if the index is created 
with term vectors with positions, I would rather use that information to 
reconstruct the doc. This should be very quick.

-- 
Best regards,
Andrzej Bialecki     <><
 ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20573-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 11 11:21:49 2006
Return-Path: <java-user-return-20573-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22062 invoked from network); 11 May 2006 11:21:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2006 11:21:48 -0000
Received: (qmail 63968 invoked by uid 500); 11 May 2006 11:21:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63939 invoked by uid 500); 11 May 2006 11:21:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63928 invoked by uid 99); 11 May 2006 11:21:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 04:21:40 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.112.4.54] (HELO smtp.nildram.co.uk) (195.112.4.54)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 04:21:39 -0700
Received: from raven (propel.gotadsl.co.uk [81.6.247.155])
	by smtp.nildram.co.uk (Postfix) with ESMTP id 5AA3033B9D1
	for <java-user@lucene.apache.org>; Thu, 11 May 2006 12:20:36 +0100 (BST)
From: "Gwyn Carwardine" <gwyn@carwardine.net>
To: <java-user@lucene.apache.org>
Subject: Redistribution Licensing
Date: Thu, 11 May 2006 12:19:26 +0100
Message-ID: <042f01c674ec$c5c28000$ca03010a@theoldstore.propelsystems.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
Thread-Index: AcZ07MNFrKI97IVjQ3uKt2Jgt6u6JA==
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all, We're using dotLucene (vanilla) in our commercial product and we're
redistributing dotLucene with our product.

What do we need to do in terms of licensing - what notices do we need to
include and where?

Any help much appreciated
Regards, Gwyn


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20574-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 11 13:27:58 2006
Return-Path: <java-user-return-20574-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78282 invoked from network); 11 May 2006 13:27:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2006 13:27:57 -0000
Received: (qmail 47726 invoked by uid 500); 11 May 2006 13:27:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47610 invoked by uid 500); 11 May 2006 13:27:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47561 invoked by uid 99); 11 May 2006 13:27:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 06:27:45 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 06:27:43 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id A28EA33C647; Thu, 11 May 2006 09:27:22 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id E7BE833C645
	for <java-user@lucene.apache.org>; Thu, 11 May 2006 09:27:17 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v749.3)
In-Reply-To: <042f01c674ec$c5c28000$ca03010a@theoldstore.propelsystems.com>
References: <042f01c674ec$c5c28000$ca03010a@theoldstore.propelsystems.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <D6A18187-AAEE-4125-A471-238FE7CB276B@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Redistribution Licensing
Date: Thu, 11 May 2006 09:27:13 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.749.3)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Gwyn,

You're asking in the wrong forum.  dotLucene is not an Apache hosted  
project.  Lucene.Net (which is no longer based on anything but Java  
Lucene) is now in incubation here, but is not dotLucene.   You need  
to check with the license of the version of dotLucene you're using.

	Erik


On May 11, 2006, at 7:19 AM, Gwyn Carwardine wrote:

> Hi all, We're using dotLucene (vanilla) in our commercial product  
> and we're
> redistributing dotLucene with our product.
>
> What do we need to do in terms of licensing - what notices do we  
> need to
> include and where?
>
> Any help much appreciated
> Regards, Gwyn
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20575-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 11 13:54:53 2006
Return-Path: <java-user-return-20575-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87145 invoked from network); 11 May 2006 13:54:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2006 13:54:53 -0000
Received: (qmail 95794 invoked by uid 500); 11 May 2006 13:54:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95762 invoked by uid 500); 11 May 2006 13:54:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95751 invoked by uid 99); 11 May 2006 13:54:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 06:54:45 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Eric.Isakson@sas.com designates 149.173.6.148 as permitted sender)
Received: from [149.173.6.148] (HELO mercav05.na.sas.com) (149.173.6.148)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 06:54:44 -0700
Received: from MERC23.na.sas.com ([10.19.9.179]) by mercav05.na.sas.com with InterScan Message Security Suite; Thu, 11 May 2006 09:54:22 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Searching across spaces
Date: Thu, 11 May 2006 09:54:21 -0400
Message-ID: <BFF5F6DFB538074B8A3FCD685C0DBE3601C0015F@MERC23.na.sas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Searching across spaces
Thread-Index: AcZ0XNMO3vNLpUxQThC+s3pA+sAJngAo0wpw
From: "Eric Isakson" <Eric.Isakson@sas.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You might consider using overlapping bi-gram tokenization with stripped =
out whitespace and a PhraseQuery.

So your tokenized content, "spongebob squarepants", would look like:

sp po on ng ge eb bo ob bs sq qu ua ar re ep pa an nt ts

and your tokens for your query, "sponge bob", would look like

sp po on ng ge eb bo ob

Add each token to the PhraseQuery and you should match.

This is very similar to the techniques used for searching in Asian =
languages which do not seperate words with spaces. There are probably =
some side effects for compound words that you didn't mean to do this =
too, but without knowing the exact domain of compound words that you =
wish to support, this is probably the best you will be able to do.

-----Original Message-----
From: Robert Young [mailto:bubblenut@gmail.com]=20
Sent: Wednesday, May 10, 2006 2:09 PM
To: java-user@lucene.apache.org
Subject: Searching across spaces

Hi,

How can I search accross spaces in the document when the spaces aren't =
present in the search. For example, if the document contains "spongebob =
squarepants" but the user searches on "sponge bob" I would like to get =
the result.

Thanks
Rob

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20576-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 11 14:04:20 2006
Return-Path: <java-user-return-20576-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90958 invoked from network); 11 May 2006 14:04:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2006 14:04:20 -0000
Received: (qmail 12547 invoked by uid 500); 11 May 2006 14:04:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12519 invoked by uid 500); 11 May 2006 14:04:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12508 invoked by uid 99); 11 May 2006 14:04:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 07:04:13 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.205.194.4] (HELO dit.unitn.it) (193.205.194.4)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 07:04:12 -0700
Received: from ict2011 (ict20-11.science.unitn.it [192.168.233.111])
	by dit.unitn.it (8.12.11.20060308/8.12.11) with SMTP id k4BE3lNp011592
	for <java-user@lucene.apache.org>; Thu, 11 May 2006 16:03:47 +0200
Message-ID: <00fd01c67503$bdc98490$6fe9a8c0@ict2011>
From: "Maxym Mykhalchuk" <maxym@dit.unitn.it>
To: <java-user@lucene.apache.org>
References: <BFF5F6DFB538074B8A3FCD685C0DBE3601C0015F@MERC23.na.sas.com>
Subject: Re: Searching across spaces
Date: Thu, 11 May 2006 16:03:55 +0200
Organization: DIT
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2869
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Eric,

IMHO the number of side-effects can be reduced by requiring "phrases":
tokens for your query, "sponge bob", would look like
"sp po on ng ge" eb "bo ob"

Maxym

==================================
Maxym Mykhalchuk
(+39) 320 8593170
PhD student at University of Trento, ITALY
==================================
----- Original Message ----- 
From: "Eric Isakson" <Eric.Isakson@sas.com>
To: <java-user@lucene.apache.org>
Sent: Thursday, May 11, 2006 3:54 PM
Subject: RE: Searching across spaces


> You might consider using overlapping bi-gram tokenization with stripped 
> out whitespace and a PhraseQuery.
>
> So your tokenized content, "spongebob squarepants", would look like:
>
> sp po on ng ge eb bo ob bs sq qu ua ar re ep pa an nt ts
>
> and your tokens for your query, "sponge bob", would look like
>
> sp po on ng ge eb bo ob
>
> Add each token to the PhraseQuery and you should match.
>
> This is very similar to the techniques used for searching in Asian 
> languages which do not seperate words with spaces. There are probably some 
> side effects for compound words that you didn't mean to do this too, but 
> without knowing the exact domain of compound words that you wish to 
> support, this is probably the best you will be able to do.
>
> -----Original Message-----
> From: Robert Young [mailto:bubblenut@gmail.com]
> Sent: Wednesday, May 10, 2006 2:09 PM
> To: java-user@lucene.apache.org
> Subject: Searching across spaces
>
> Hi,
>
> How can I search accross spaces in the document when the spaces aren't 
> present in the search. For example, if the document contains "spongebob 
> squarepants" but the user searches on "sponge bob" I would like to get the 
> result.
>
> Thanks
> Rob
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20577-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 11 14:09:09 2006
Return-Path: <java-user-return-20577-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93760 invoked from network); 11 May 2006 14:09:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2006 14:09:09 -0000
Received: (qmail 22691 invoked by uid 500); 11 May 2006 14:09:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22664 invoked by uid 500); 11 May 2006 14:09:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22653 invoked by uid 99); 11 May 2006 14:09:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 07:09:01 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.112.4.54] (HELO smtp.nildram.co.uk) (195.112.4.54)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 07:09:00 -0700
Received: from raven (propel.gotadsl.co.uk [81.6.247.155])
	by smtp.nildram.co.uk (Postfix) with ESMTP id 79A6D33C399
	for <java-user@lucene.apache.org>; Thu, 11 May 2006 15:08:36 +0100 (BST)
From: "Gwyn Carwardine" <gwyn@carwardine.net>
To: <java-user@lucene.apache.org>
Subject: RE: Redistribution Licensing
Date: Thu, 11 May 2006 15:07:29 +0100
Message-ID: <047901c67504$3daaa3b0$ca03010a@theoldstore.propelsystems.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
Thread-Index: AcZ0/rTFHUbKadXnQhCB5Wa53oSBuAAAc54g
In-Reply-To: <D6A18187-AAEE-4125-A471-238FE7CB276B@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Erik. I'm sorry if I posted in the wrong place. I get very confused!

However dotLucene and the Highlighter are both distributed under the apache
version 2.0 licence (that's what it says in the licence.txt file that they
come with)

So if anyone on here understands the requirement of this Apache v2.0
licensing then I guess it may be an appropriate place to try and get an
answer after all?

Cheers, Gwyn

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: 11 May 2006 14:27
To: java-user@lucene.apache.org
Subject: Re: Redistribution Licensing

Gwyn,

You're asking in the wrong forum.  dotLucene is not an Apache hosted  
project.  Lucene.Net (which is no longer based on anything but Java  
Lucene) is now in incubation here, but is not dotLucene.   You need  
to check with the license of the version of dotLucene you're using.

	Erik


On May 11, 2006, at 7:19 AM, Gwyn Carwardine wrote:

> Hi all, We're using dotLucene (vanilla) in our commercial product  
> and we're
> redistributing dotLucene with our product.
>
> What do we need to do in terms of licensing - what notices do we  
> need to
> include and where?
>
> Any help much appreciated
> Regards, Gwyn
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20578-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 11 14:22:21 2006
Return-Path: <java-user-return-20578-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1204 invoked from network); 11 May 2006 14:22:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2006 14:22:21 -0000
Received: (qmail 50700 invoked by uid 500); 11 May 2006 14:22:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50676 invoked by uid 500); 11 May 2006 14:22:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50665 invoked by uid 99); 11 May 2006 14:22:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 07:22:13 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 07:22:11 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 11A9233C645; Thu, 11 May 2006 10:21:51 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id 3B5CF33C645
	for <java-user@lucene.apache.org>; Thu, 11 May 2006 10:21:50 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v749.3)
In-Reply-To: <047901c67504$3daaa3b0$ca03010a@theoldstore.propelsystems.com>
References: <047901c67504$3daaa3b0$ca03010a@theoldstore.propelsystems.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <BAECD639-4BBC-42CC-858E-6980C6BE5294@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Redistribution Licensing
Date: Thu, 11 May 2006 10:21:46 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.749.3)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

IANAL, so I'll only refer you to the official ASF website on the  
license:

	<http://www.apache.org/foundation/licence-FAQ.html>

particularly this one:

	<http://www.apache.org/foundation/licence-FAQ.html#WhatDoesItMEAN>


On May 11, 2006, at 10:07 AM, Gwyn Carwardine wrote:

> Hi Erik. I'm sorry if I posted in the wrong place. I get very  
> confused!
>
> However dotLucene and the Highlighter are both distributed under  
> the apache
> version 2.0 licence (that's what it says in the licence.txt file  
> that they
> come with)
>
> So if anyone on here understands the requirement of this Apache v2.0
> licensing then I guess it may be an appropriate place to try and  
> get an
> answer after all?
>
> Cheers, Gwyn
>
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: 11 May 2006 14:27
> To: java-user@lucene.apache.org
> Subject: Re: Redistribution Licensing
>
> Gwyn,
>
> You're asking in the wrong forum.  dotLucene is not an Apache hosted
> project.  Lucene.Net (which is no longer based on anything but Java
> Lucene) is now in incubation here, but is not dotLucene.   You need
> to check with the license of the version of dotLucene you're using.
>
> 	Erik
>
>
> On May 11, 2006, at 7:19 AM, Gwyn Carwardine wrote:
>
>> Hi all, We're using dotLucene (vanilla) in our commercial product
>> and we're
>> redistributing dotLucene with our product.
>>
>> What do we need to do in terms of licensing - what notices do we
>> need to
>> include and where?
>>
>> Any help much appreciated
>> Regards, Gwyn
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20579-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 11 14:39:51 2006
Return-Path: <java-user-return-20579-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8457 invoked from network); 11 May 2006 14:39:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2006 14:39:50 -0000
Received: (qmail 70905 invoked by uid 500); 11 May 2006 14:39:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70865 invoked by uid 500); 11 May 2006 14:39:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70838 invoked by uid 99); 11 May 2006 14:39:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 07:39:41 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 213.167.72.182 is neither permitted nor denied by domain of bubblenut@gmail.com)
Received: from [213.167.72.182] (HELO cd-wow.com) (213.167.72.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 07:39:40 -0700
Received: from [192.168.250.47] (unverified [217.207.206.146]) 
	by cd-wow.com (SurgeMail 3.6f5) with ESMTP id 18120860 
	for <java-user@lucene.apache.org>; Thu, 11 May 2006 14:39:07 +0000
Message-ID: <44635A83.9010807@gmail.com>
Date: Thu, 11 May 2006 15:38:43 +0000
From: Rob Young <bubblenut@gmail.com>
User-Agent: Mozilla Thunderbird 1.0.7 (X11/20051013)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Searching across spaces
References: <BFF5F6DFB538074B8A3FCD685C0DBE3601C0015F@MERC23.na.sas.com>
In-Reply-To: <BFF5F6DFB538074B8A3FCD685C0DBE3601C0015F@MERC23.na.sas.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Server: High Performance Mail Server - http://surgemail.com r=-1251238296
X-Authenticated-User: robert.y@cd-wow.com 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

That sounds like just what I'm looking for. Do you know if this is 
covered in Lucene in Action or where I can find more information about it.

Eric Isakson wrote:

>You might consider using overlapping bi-gram tokenization with stripped out whitespace and a PhraseQuery.
>
>So your tokenized content, "spongebob squarepants", would look like:
>
>sp po on ng ge eb bo ob bs sq qu ua ar re ep pa an nt ts
>
>and your tokens for your query, "sponge bob", would look like
>
>sp po on ng ge eb bo ob
>
>Add each token to the PhraseQuery and you should match.
>
>This is very similar to the techniques used for searching in Asian languages which do not seperate words with spaces. There are probably some side effects for compound words that you didn't mean to do this too, but without knowing the exact domain of compound words that you wish to support, this is probably the best you will be able to do.
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20580-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 11 15:01:54 2006
Return-Path: <java-user-return-20580-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15086 invoked from network); 11 May 2006 15:01:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2006 15:01:53 -0000
Received: (qmail 7997 invoked by uid 500); 11 May 2006 15:01:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7975 invoked by uid 500); 11 May 2006 15:01:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7964 invoked by uid 99); 11 May 2006 15:01:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 08:01:45 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Eric.Isakson@sas.com designates 149.173.6.152 as permitted sender)
Received: from [149.173.6.152] (HELO mercav04.na.sas.com) (149.173.6.152)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 08:01:44 -0700
Received: from MERC23.na.sas.com ([10.19.9.179]) by mercav04.na.sas.com with InterScan Message Security Suite; Thu, 11 May 2006 11:01:23 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Searching across spaces
Date: Thu, 11 May 2006 11:01:22 -0400
Message-ID: <BFF5F6DFB538074B8A3FCD685C0DBE3601C002E5@MERC23.na.sas.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Searching across spaces
Thread-Index: AcZ1CMEdZSgqNuGxTdGbD8paWsI04QAAYJpg
From: "Eric Isakson" <Eric.Isakson@sas.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I think you will have to write a custom analyzer and tokenizer to =
produce the tokens you need and you will have to arrange for whatever =
code you are using to create your query to use that analyzer in the =
correct circumstances. I don't think I've seen anyone post about this =
particular use case before, so I'd be surprised if there is much other =
information about it on the lists.

I haven't read Lucene in Action, so I don't know if it is covered there =
or not. If Erik has any information on indexing Asian languages, there =
might be some background there on using overlapping n-grams. Searching =
the list archive may give you some background if Lucene in Action =
doesn't have enough info on this topic.

-----Original Message-----
From: Rob Young [mailto:bubblenut@gmail.com]=20
Sent: Thursday, May 11, 2006 11:39 AM
To: java-user@lucene.apache.org
Subject: Re: Searching across spaces

That sounds like just what I'm looking for. Do you know if this is =
covered in Lucene in Action or where I can find more information about =
it.

Eric Isakson wrote:

>You might consider using overlapping bi-gram tokenization with stripped =
out whitespace and a PhraseQuery.
>
>So your tokenized content, "spongebob squarepants", would look like:
>
>sp po on ng ge eb bo ob bs sq qu ua ar re ep pa an nt ts
>
>and your tokens for your query, "sponge bob", would look like
>
>sp po on ng ge eb bo ob
>
>Add each token to the PhraseQuery and you should match.
>
>This is very similar to the techniques used for searching in Asian =
languages which do not seperate words with spaces. There are probably =
some side effects for compound words that you didn't mean to do this =
too, but without knowing the exact domain of compound words that you =
wish to support, this is probably the best you will be able to do.
> =20
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20581-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 11 16:20:45 2006
Return-Path: <java-user-return-20581-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46943 invoked from network); 11 May 2006 16:20:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2006 16:20:44 -0000
Received: (qmail 76332 invoked by uid 500); 11 May 2006 16:20:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76296 invoked by uid 500); 11 May 2006 16:20:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76285 invoked by uid 99); 11 May 2006 16:20:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 09:20:36 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.62] (HELO web50308.mail.yahoo.com) (206.190.38.62)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 11 May 2006 09:20:35 -0700
Received: (qmail 72063 invoked by uid 60001); 11 May 2006 16:20:13 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=TzOwz41fX6WDTkFxZgWZf0KoSXIQQ3Vdv4bPwSgX+loU0J8crGKDCjGsU3F88VHsK+/0kkoJgDuej8jwsQwDT7ht5mqQ1ULrsXJW8lHGbeTce9wrJEYNhJKJTadb2cOpJLJNFqbg9kgccrsbJYS/q+ch8A79IjA7YgQTHd9rXAQ=  ;
Message-ID: <20060511162013.72061.qmail@web50308.mail.yahoo.com>
Date: Thu, 11 May 2006 09:20:13 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Searching across spaces
To: java-user@lucene.apache.org
In-Reply-To: <44635A83.9010807@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Rob, look at the third hit:
  http://www.lucenebook.com/search?query=bi-grams

Otis

----- Original Message ----
From: Rob Young <bubblenut@gmail.com>

> That sounds like just what I'm looking for. Do you know if this is 
> covered in Lucene in Action or where I can find more information about it.

Eric Isakson wrote:

>You might consider using overlapping bi-gram tokenization with stripped out whitespace and a PhraseQuery.
>
>So your tokenized content, "spongebob squarepants", would look like:
>
>sp po on ng ge eb bo ob bs sq qu ua ar re ep pa an nt ts
>
>and your tokens for your query, "sponge bob", would look like
>
>sp po on ng ge eb bo ob
>
>Add each token to the PhraseQuery and you should match.
>
>This is very similar to the techniques used for searching in Asian languages which do not seperate words with spaces. There are probably some side effects for compound words that you didn't mean to do this too, but without knowing the exact domain of compound words that you wish to support, this is probably the best you will be able to do.





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20582-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 11 17:07:42 2006
Return-Path: <java-user-return-20582-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67181 invoked from network); 11 May 2006 17:07:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2006 17:07:41 -0000
Received: (qmail 66117 invoked by uid 500); 11 May 2006 17:07:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64927 invoked by uid 500); 11 May 2006 17:07:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64165 invoked by uid 99); 11 May 2006 17:07:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 10:07:00 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=NO_REAL_NAME,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Lee_Gary@emc.com designates 168.159.213.200 as permitted sender)
Received: from [168.159.213.200] (HELO mexforward.lss.emc.com) (168.159.213.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 10:06:58 -0700
Received: from mailhub.lss.emc.com (uraeus.lss.emc.com [10.254.144.14])
	by mexforward.lss.emc.com (Switch-3.1.7/Switch-3.1.7) with ESMTP id k4BH6a82019495
	for <java-user@lucene.apache.org>; Thu, 11 May 2006 13:06:36 -0400 (EDT)
Received: from mxic2.corp.emc.com (mxic2.corp.emc.com [128.221.12.9])
	by mailhub.lss.emc.com (Switch-3.1.8/Switch-3.1.7) with ESMTP id k4BH5iqG010465
	for <java-user@lucene.apache.org>; Thu, 11 May 2006 13:06:35 -0400 (EDT)
Received: by mxic2.corp.emc.com with Internet Mail Service (5.5.2653.19)
	id <D48QRJHF>; Thu, 11 May 2006 13:02:17 -0400
Message-ID: <BED850C725E74F47A0F69CC0EE9AB64D02BA6A9C@CORPUSMX40B.corp.emc.com>
From: Lee_Gary@emc.com
To: java-user@lucene.apache.org
Subject: RE: wildcards in phrase searches
Date: Thu, 11 May 2006 13:02:14 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
X-PMX-Version: 4.7.1.128075, Antispam-Engine: 2.3.0.1, Antispam-Data: 2006.5.11.93110
X-PerlMx-Spam: Gauge=, SPAM=2%, Reason='EMC_FROM_0+ -2, NO_REAL_NAME 0, __CT 0, __CT_TEXT_PLAIN 0, __HAS_MSGID 0, __HAS_X_MAILER 0, __IMS_MSGID 0, __IMS_MUA 0, __MIME_TEXT_ONLY 0, __MIME_VERSION 0, __SANE_MSGID 0, __STOCK_CRUFT 0, __STOCK_PHRASE_6 0'
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks Erik, I was able to get a solution working for me using the classes
you outlined below.  

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Wednesday, May 10, 2006 12:11 PM
To: java-user@lucene.apache.org
Subject: Re: wildcards in phrase searches


On May 10, 2006, at 2:12 PM, Lee_Gary@emc.com wrote:
> Thanks for your reply. Is there any sample code that would demonstrate 
> how to use these classes properly to get the desired effect of what im 
> looking for?

I am not able to access Lucene's svn at the moment, but here's my local copy
of the TestSpanRegexQuery:

public class TestSpanRegexQuery extends TestCase {
   public void testSpanRegex() throws Exception {
     RAMDirectory directory = new RAMDirectory();
     IndexWriter writer = new IndexWriter(directory, new SimpleAnalyzer(),
true);
     Document doc = new Document();
//    doc.add(new Field("field", "the quick brown fox jumps over the  
lazy dog", Field.Store.NO, Field.Index.TOKENIZED));
//    writer.addDocument(doc);
//    doc = new Document();
     doc.add(new Field("field", "auto update", Field.Store.NO,
Field.Index.TOKENIZED));
     writer.addDocument(doc);
     doc = new Document();
     doc.add(new Field("field", "first auto update", Field.Store.NO,
Field.Index.TOKENIZED));
     writer.addDocument(doc);
     writer.optimize();
     writer.close();

     IndexSearcher searcher = new IndexSearcher(directory);
     SpanRegexQuery srq = new SpanRegexQuery(new Term("field", "aut.*"));
     SpanFirstQuery sfq = new SpanFirstQuery(srq, 1);
//    SpanNearQuery query = new SpanNearQuery(new SpanQuery[] {srq,  
stq}, 6, true);
     Hits hits = searcher.search(sfq);
     assertEquals(1, hits.length());
   }
}

This is not quite what you're after, but close.  You'll use a  
SpanTermQuery's and SpanRegexQuery's mixed inside a SpanNearQuery.   
Try out some simple examples like this and see where you get, and post back
if you have issues/questions.

	Erik




>
> Thanks
>
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Wednesday, May 10, 2006 11:00 AM
> To: java-user@lucene.apache.org
> Subject: Re: wildcards in phrase searches
>
>
> On May 10, 2006, at 1:47 PM, Lee_Gary@emc.com wrote:
>
>> Is it possible to have wildcards in a phrase search? For example, if 
>> my object is indexed with a phrase "benchmark properties", is there a 
>> way to specify a phrase search that uses wildcards, such as
>> "benchmar*
>> properties"
>> or "benchmark pro*"? I have tried using WildcardQuery, but it doesnt 
>> seem to work with phrases, only single terms. Using the QueryParser 
>> doesnt seem to work either, and ive tried it with the 
>> StandardAnalyzer and KeywordAnalyzer.
>> Perhaps there is something simple Im missing here. Has anyone gotten 
>> this to work?
>
> It's a fair bit trickier than using any of the stock core classes like 
> that.
> But it can be done, using SpanNearQuery nested with SpanRegexQuery's 
> for the wildcarded parts in the contrib code (note, this uses regex 
> syntax, not WildcardQuery syntax), along with SpanTermQuery's for the 
> non- wildcarded parts.
>
> 	Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20583-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 11 20:42:25 2006
Return-Path: <java-user-return-20583-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36983 invoked from network); 11 May 2006 20:42:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 May 2006 20:42:25 -0000
Received: (qmail 42108 invoked by uid 500); 11 May 2006 20:42:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42076 invoked by uid 500); 11 May 2006 20:42:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42063 invoked by uid 99); 11 May 2006 20:42:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 13:42:18 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.105.41.166] (HELO bettylou.configureone.net) (66.105.41.166)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 13:42:17 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6753B.2DAE6744"
Subject: can't delete
Date: Thu, 11 May 2006 15:40:44 -0500
Message-ID: <F9E303076B72074AB76B2C8F78952B291F499E@bettylou.configureone.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: can't delete
Thread-Index: AcZ1Oy1DmqY0c0rMSqKopHaHl3y0nQ==
From: "John Powers" <jpowers@configureone.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C6753B.2DAE6744
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

=20

If I search on id:test bbb in luke I find some items.

=20

If I do a

=20

=20

ir.delete(new Term(IDENTITY, id))

=20

I get records changed is zero..and those records aren't deleted

=20

=20

I do a print of new Term(IDENTITY, id) and it comes out with id:test bbb

=20

=20

What am I missing?


------_=_NextPart_001_01C6753B.2DAE6744--

From java-user-return-20584-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 12 01:30:33 2006
Return-Path: <java-user-return-20584-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96023 invoked from network); 12 May 2006 01:30:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2006 01:30:27 -0000
Received: (qmail 70322 invoked by uid 500); 12 May 2006 01:29:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69230 invoked by uid 500); 12 May 2006 01:29:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67941 invoked by uid 500); 12 May 2006 01:29:26 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 66615 invoked by uid 99); 12 May 2006 01:29:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 18:29:19 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=HTML_MESSAGE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ssmith@mainstreamdata.com designates 209.63.42.21 as permitted sender)
Received: from [209.63.42.21] (HELO ns1.mainstreamdata.com) (209.63.42.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 18:29:15 -0700
Received: from localhost (localhost [127.0.0.1])
	by ns1.mainstreamdata.com (Postfix) with ESMTP id 9C2A01DB4
	for <lucene-user@jakarta.apache.org>; Thu, 11 May 2006 19:28:54 -0600 (MDT)
Received: from ns1.mainstreamdata.com ([127.0.0.1])
	by localhost (ns1 [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
	id 00593-06 for <lucene-user@jakarta.apache.org>;
	Thu, 11 May 2006 19:28:51 -0600 (MDT)
Received: from exchange.slc.mainstreamdata.com (exchange.slc.mainstreamdata.com [10.2.1.132])
	by ns1.mainstreamdata.com (Postfix) with ESMTP id 5AEEC6F5
	for <lucene-user@jakarta.apache.org>; Thu, 11 May 2006 19:28:51 -0600 (MDT)
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C67563.6CC0F036"
X-MimeOLE: Produced By Microsoft Exchange V6.5
Subject: Can lucene do this?
Date: Thu, 11 May 2006 19:28:51 -0600
Message-ID: <55F9EF953014514EB6BEE1F5198CEEB406D0D4@exchange.slc.mainstreamdata.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Can lucene do this?
Thread-Index: AcZ1Y2yaq6ThEoxgRUaF8Eg2RRQG1w==
From: "Scott Smith" <ssmith@mainstreamdata.com>
To: <lucene-user@jakarta.apache.org>
X-Virus-Scanned: by amavisd-new-20030616-p10 (Debian) at mainstreamdata.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C67563.6CC0F036
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I'm building an application which has to provide "real-time" searching
of emails as they come in.  I have a number of search strings that I
need to apply against each email as it comes in and then do something
with the email based on which search string(s) get a hit. =20

=20

My initial thought was to create a lucene index of the emails received
in the last N seconds (where N is around 5 since I don't have to be
quite real-time) in a memory directory, do my searches and then delete
the index and create a new index for emails received in the next 5
seconds.   I'm a little concerned because the number of search strings
will probably grow over time and so there is a bit of a scalability
issue-though I'm not sure there's anyway around that other than doing
parallel processing on different machines.

=20

I'm wondering if anyone has any experience doing this kind of thing and
has additional or alternate suggestions?? =20

=20

Scott=20

=20

=20


------_=_NextPart_001_01C67563.6CC0F036--

From java-user-return-20585-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 12 01:33:32 2006
Return-Path: <java-user-return-20585-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97559 invoked from network); 12 May 2006 01:33:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2006 01:33:32 -0000
Received: (qmail 79361 invoked by uid 500); 12 May 2006 01:33:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78593 invoked by uid 500); 12 May 2006 01:33:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78580 invoked by uid 99); 12 May 2006 01:33:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 18:33:25 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 18:33:25 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 5CE7B33C687; Thu, 11 May 2006 21:33:04 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id A245633C664
	for <java-user@lucene.apache.org>; Thu, 11 May 2006 21:33:03 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <55F9EF953014514EB6BEE1F5198CEEB406D0D4@exchange.slc.mainstreamdata.com>
References: <55F9EF953014514EB6BEE1F5198CEEB406D0D4@exchange.slc.mainstreamdata.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E434D347-9909-46C7-8472-A3AE9EC08771@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Can lucene do this?
Date: Thu, 11 May 2006 21:32:54 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-1.0 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_SORBS_DUL autolearn=no version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Scott,

Have a look at the MemoryIndex (in contrib/memory) - it is perfect  
for this sort of thing.  You'd index each e-mail individually into a  
MemoryIndex and then run all the queries against it getting a hit or  
not.

	Erik


On May 11, 2006, at 9:28 PM, Scott Smith wrote:

> I'm building an application which has to provide "real-time" searching
> of emails as they come in.  I have a number of search strings that I
> need to apply against each email as it comes in and then do something
> with the email based on which search string(s) get a hit.
>
>
>
> My initial thought was to create a lucene index of the emails received
> in the last N seconds (where N is around 5 since I don't have to be
> quite real-time) in a memory directory, do my searches and then delete
> the index and create a new index for emails received in the next 5
> seconds.   I'm a little concerned because the number of search strings
> will probably grow over time and so there is a bit of a scalability
> issue-though I'm not sure there's anyway around that other than doing
> parallel processing on different machines.
>
>
>
> I'm wondering if anyone has any experience doing this kind of thing  
> and
> has additional or alternate suggestions??
>
>
>
> Scott
>
>
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20586-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 12 04:47:33 2006
Return-Path: <java-user-return-20586-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53492 invoked from network); 12 May 2006 04:47:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2006 04:47:33 -0000
Received: (qmail 46997 invoked by uid 500); 12 May 2006 04:47:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46961 invoked by uid 500); 12 May 2006 04:47:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46946 invoked by uid 99); 12 May 2006 04:47:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 21:47:25 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 May 2006 21:47:23 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 745FE5B766; Thu, 11 May 2006 21:46:53 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 5F8FF7F403
	for <java-user@lucene.apache.org>; Thu, 11 May 2006 21:46:53 -0700 (PDT)
Date: Thu, 11 May 2006 21:46:53 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Can lucene do this?
In-Reply-To: <E434D347-9909-46C7-8472-A3AE9EC08771@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.58.0605112142470.21994@hal.rescomp.berkeley.edu>
References: <55F9EF953014514EB6BEE1F5198CEEB406D0D4@exchange.slc.mainstreamdata.com>
 <E434D347-9909-46C7-8472-A3AE9EC08771@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Have a look at the MemoryIndex (in contrib/memory) - it is perfect
: for this sort of thing.  You'd index each e-mail individually into a
: MemoryIndex and then run all the queries against it getting a hit or

alternately, if the "queries" you need to test each email against are
fairly simple (ie: basic term matches) and you expect the total number of
"queries" to be significantly greater then the average number of words in
a typical email, you could build an index of your "queries" (where each
query becomes a document with a stored feild telling you what to do if it
matches) and then as an email comes in, tokenize it on all of it's words
and search your index for each word in the email.

...but this starts to get into the area of "lucene *can* do it, in the
same way a hammer *can* drive a screw into wood -- but it's not exactly
ment for it".




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20587-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 12 09:30:54 2006
Return-Path: <java-user-return-20587-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56004 invoked from network); 12 May 2006 09:30:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2006 09:30:53 -0000
Received: (qmail 63451 invoked by uid 500); 12 May 2006 09:30:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63259 invoked by uid 500); 12 May 2006 09:30:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63248 invoked by uid 99); 12 May 2006 09:30:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 May 2006 02:30:45 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.201.66] (HELO web30913.mail.mud.yahoo.com) (68.142.201.66)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 12 May 2006 02:30:44 -0700
Received: (qmail 34884 invoked by uid 60001); 12 May 2006 09:30:23 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=0JvBbWmqHhRgpYdjPLoPRPPV6ci/0Yf7h9gqGqxAF2JmZJOx3+t0GfQwadCZl9bst69p6xMU1WBxsmNx93XOis8UFDZTlD17lF2g+6Ao0oj2BCeX4C2iV4HiJjOGXGEwmbEE370Hfa2b7sKPJ4UJAlcoksRWUMXK6PaGqfYbMA4=  ;
Message-ID: <20060512093023.34882.qmail@web30913.mail.mud.yahoo.com>
Received: from [217.219.195.10] by web30913.mail.mud.yahoo.com via HTTP; Fri, 12 May 2006 02:30:23 PDT
Date: Fri, 12 May 2006 02:30:23 -0700 (PDT)
From: Amir Hosein Jadidi Nejad <master_ai_ir@yahoo.com>
Subject: Re: Can lucene do this?
To: java-user@lucene.apache.org
In-Reply-To: <55F9EF953014514EB6BEE1F5198CEEB406D0D4@exchange.slc.mainstreamdata.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1728218346-1147426223=:34201"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1728218346-1147426223=:34201
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi,
  You can add per document to index without indexing all document from scratch !
  You have real time transactions in this way.
  Regard,

Scott Smith <ssmith@mainstreamdata.com> wrote:
  I'm building an application which has to provide "real-time" searching
of emails as they come in. I have a number of search strings that I
need to apply against each email as it comes in and then do something
with the email based on which search string(s) get a hit. 



My initial thought was to create a lucene index of the emails received
in the last N seconds (where N is around 5 since I don't have to be
quite real-time) in a memory directory, do my searches and then delete
the index and create a new index for emails received in the next 5
seconds. I'm a little concerned because the number of search strings
will probably grow over time and so there is a bit of a scalability
issue-though I'm not sure there's anyway around that other than doing
parallel processing on different machines.



I'm wondering if anyone has any experience doing this kind of thing and
has additional or alternate suggestions?? 



Scott 








              ------------------------------------------------------------------- 
Amir Hosein Jadidi Nejad 
Student Of Computer Science 
Bu-Ali Sina University, Hamedan-Iran 

  E-Mail : jadidi@basu.ac.ir , amir.jadidi@yahoo.com








		
---------------------------------
Yahoo! Messenger with Voice. PC-to-Phone calls for ridiculously low rates.
--0-1728218346-1147426223=:34201--

From java-user-return-20588-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 12 09:55:07 2006
Return-Path: <java-user-return-20588-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77401 invoked from network); 12 May 2006 09:55:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2006 09:55:06 -0000
Received: (qmail 4445 invoked by uid 500); 12 May 2006 09:54:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4417 invoked by uid 500); 12 May 2006 09:54:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4406 invoked by uid 99); 12 May 2006 09:54:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 May 2006 02:54:59 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.85.25] (HELO web36608.mail.mud.yahoo.com) (209.191.85.25)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 12 May 2006 02:54:58 -0700
Received: (qmail 88571 invoked by uid 60001); 12 May 2006 09:54:34 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=f5uj+QCirA0uNmqNHE8VzvSk0E9RyaLBmMmYPOFfjlaui4u858DajIKd0R5do61kIv1+E9o2Sbh9kEZeKNIozdVCC9VwoxPtah6NohbCcqaYreAji7zZo60YuIdy3GL618yVyH5SWtTrSovMLEB2Fukxtqin6CrtMpu8JPcCq6s=  ;
Message-ID: <20060512095434.88569.qmail@web36608.mail.mud.yahoo.com>
Date: Fri, 12 May 2006 02:54:34 -0700 (PDT)
From: Marc Dauncey <marc_dauncey@yahoo.com>
Reply-To: Marc Dauncey <marc_dauncey@yahoo.com>
Subject: Re: Can lucene do this?
To: java-user@lucene.apache.org
In-Reply-To: <20060512093023.34882.qmail@web30913.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

This is true, but you'd need to optimise if you want additions to show up - also means getting a new IndexSearcher each time which is not workable for some Lucene applications (esp if you've pre-built filters and caches).  I think the suggestion to use the new memory class is a good one.

----- Original Message ----
From: Amir Hosein Jadidi Nejad <master_ai_ir@yahoo.com>
To: java-user@lucene.apache.org
Sent: Friday, 12 May, 2006 10:30:23 AM
Subject: Re: Can lucene do this?

Hi,
  You can add per document to index without indexing all document from scratch !
  You have real time transactions in this way.
  Regard,

Scott Smith <ssmith@mainstreamdata.com> wrote:
  I'm building an application which has to provide "real-time" searching
of emails as they come in. I have a number of search strings that I
need to apply against each email as it comes in and then do something
with the email based on which search string(s) get a hit. 



My initial thought was to create a lucene index of the emails received
in the last N seconds (where N is around 5 since I don't have to be
quite real-time) in a memory directory, do my searches and then delete
the index and create a new index for emails received in the next 5
seconds. I'm a little concerned because the number of search strings
will probably grow over time and so there is a bit of a scalability
issue-though I'm not sure there's anyway around that other than doing
parallel processing on different machines.



I'm wondering if anyone has any experience doing this kind of thing and
has additional or alternate suggestions?? 



Scott 








              ------------------------------------------------------------------- 
Amir Hosein Jadidi Nejad 
Student Of Computer Science 
Bu-Ali Sina University, Hamedan-Iran 

  E-Mail : jadidi@basu.ac.ir , amir.jadidi@yahoo.com








        
---------------------------------
Yahoo! Messenger with Voice. PC-to-Phone calls for ridiculously low rates.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20589-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 12 10:48:04 2006
Return-Path: <java-user-return-20589-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99100 invoked from network); 12 May 2006 10:48:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2006 10:48:04 -0000
Received: (qmail 74761 invoked by uid 500); 12 May 2006 10:47:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74726 invoked by uid 500); 12 May 2006 10:47:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74715 invoked by uid 99); 12 May 2006 10:47:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 May 2006 03:47:57 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Kinnar.Sen@hcl.in designates 203.105.186.20 as permitted sender)
Received: from [203.105.186.20] (HELO gws04.hcl.in) (203.105.186.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 12 May 2006 03:47:55 -0700
Received: from gws04.hcl.in (gws04 [10.249.64.135])
	by localhost.hcl.in (Postfix) with ESMTP id 92773360030
	for <java-user@lucene.apache.org>; Fri, 12 May 2006 16:20:30 +0530 (IST)
Received: from chn-egw02-out.corp.hcl.in (unknown [10.249.64.38])by 
	gws04.hcl.in (Postfix) with ESMTP id 82B2D36000Afor 
	<java-user@lucene.apache.org>; Fri, 12 May 2006 16:20:30 +0530 (IST)
Received: from HSDLNTD1110010.noida.hcltech.com ([10.112.8.20]) by 
	chn-egw02-out.corp.hcl.in with Microsoft SMTPSVC(6.0.3790.1830); Fri, 12 
	May 2006 16:17:30 +0530
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: RE:SORTING
Date: Fri, 12 May 2006 16:15:31 +0530
Message-ID: <539C0A297AA0C74581CB5AF82D537291AD94C3@HSDLNTD1110010.noida.hcltech.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: RE:SORTING
Thread-Index: AcZ1ZBPiDSuwoLMtTtioml+QdLyehAATC4ww
From: "Kinnar Kumar Sen, Noida" <Kinnar.Sen@hcl.in>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 12 May 2006 10:47:31.0152 (UTC) 
	FILETIME=[781DD500:01C675B1]
X-imss-version: 2.040
X-imss-result: Passed
X-imss-scores: Clean:79.42673 C:2 M:4 S:5 R:5
X-imss-settings: Baseline:1 C:1 M:1 S:1 R:1 (0.0000 0.0000)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi=0D

I am indexing the price of some items in my index . I have quite a few
number of indexes. I want to sort the  items according to the price . is
there a way to include all the indexes at one go while sorting or I have
to do it one index at a time...

Cheers
KINNAR


DISCLAIMER:
---------------------------------------------------------------------------=
--------------------------------------------

The contents of this e-mail and any attachment(s) are confidential and=
 intended for the named recipient(s) only.
It shall not attach any liability on the originator or HCL or its=
 affiliates. Any views or opinions presented in=0D
this email are solely those of the author and may not necessarily reflect=
 the opinions of HCL or its affiliates.
Any form of reproduction, dissemination, copying, disclosure, modification,=
 distribution and / or publication of=0D
this message without the prior written consent of the author of this e-mail=
 is strictly prohibited. If you have=0D
received this email in error please delete it and notify the sender=
 immediately. Before opening any mail and=0D
attachments please check them for viruses and defect.

---------------------------------------------------------------------------=
--------------------------------------------

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20590-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 12 11:21:29 2006
Return-Path: <java-user-return-20590-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6776 invoked from network); 12 May 2006 11:21:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2006 11:21:29 -0000
Received: (qmail 7665 invoked by uid 500); 12 May 2006 11:21:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7636 invoked by uid 500); 12 May 2006 11:21:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7625 invoked by uid 99); 12 May 2006 11:21:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 May 2006 04:21:23 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [147.83.41.105] (HELO mail.fib.upc.es) (147.83.41.105)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 May 2006 04:21:23 -0700
Received: from [147.83.58.160] (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id 1E76E1BB8B
	for <java-user@lucene.apache.org>; Fri, 12 May 2006 13:20:57 +0200 (CEST)
Message-ID: <44646F98.4040506@fib.upc.edu>
Date: Fri, 12 May 2006 13:20:56 +0200
From: Daniel Cortes <dcortes@fib.upc.edu>
Organization: FIB
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: opened files
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: amavisd-new at 
X-Spam-Score: -4.285
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-4.285 tagged_above=-999 required=3.5
 tests=[ALL_TRUSTED=-1.8, AWL=0.114, BAYES_00=-2.599]
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi luceners, I want to know how many file descriptors you can have.
My lucene version is 1.4.3.
Now I have obtained a lot of Too many open files, I think that the 
problem is produced by another thing because I work only with to indexs 
and now it isn't big (10 MB).
For this reason I want to ask you how large is your index and  open file 
descriptors you have, and how many memory you are using.

We can be some stadistics about lucene users :D

Thks for any replies.





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20591-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 12 11:59:43 2006
Return-Path: <java-user-return-20591-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20465 invoked from network); 12 May 2006 11:59:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2006 11:59:42 -0000
Received: (qmail 54460 invoked by uid 500); 12 May 2006 11:59:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54428 invoked by uid 500); 12 May 2006 11:59:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54417 invoked by uid 99); 12 May 2006 11:59:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 May 2006 04:59:36 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.85.31] (HELO web36614.mail.mud.yahoo.com) (209.191.85.31)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 12 May 2006 04:59:35 -0700
Received: (qmail 12239 invoked by uid 60001); 12 May 2006 11:59:14 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type;
  b=U2lM1Iz9jZ1hnp+4LiNSYoUDZFiCzhdrp17FaaXb1B1L03a8keZeVETdWf8rdPyhaXFB6P+cXLS2G7Wwqii2APn28+Kn5sqAN14n+FbyGFUoUaAkFWwxDcyWEdDyLOBLlM+WSscgkvMwpd7f/vGw5fAGUkiOQs6olTilE+raUd0=  ;
Message-ID: <20060512115914.12237.qmail@web36614.mail.mud.yahoo.com>
Date: Fri, 12 May 2006 04:59:14 -0700 (PDT)
From: Marc Dauncey <marc_dauncey@yahoo.com>
Reply-To: Marc Dauncey <marc_dauncey@yahoo.com>
Subject: Backing up indexes, reliability and robustness
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi everyone,

Just wanted to get peoples views on an indexing issue.  I gather a lot of people have apps where indexing writes to the same index as is used by the searcher.  The thing that bothers me about this is if indexing is interrupted (file system crash, out of disk space etc) the index becomes unusable.  This seems too risky in terms of keeping searching available 24/7.

My first question is, if an index does become corrupt because of an interrupted operation, is the situation recoverable?  Is it simply a matter of managing the index locks?

My second question is do people back up their indexes before working on them?  If you do, then how do you manage this for large indexes?  What kind of strategies have you put in place to make your systems robust and available?

Many thanks for your advice


Marc



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20592-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 12 14:47:33 2006
Return-Path: <java-user-return-20592-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62684 invoked from network); 12 May 2006 14:47:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2006 14:47:30 -0000
Received: (qmail 93252 invoked by uid 500); 12 May 2006 14:47:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93215 invoked by uid 500); 12 May 2006 14:47:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93202 invoked by uid 99); 12 May 2006 14:47:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 May 2006 07:47:12 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.227] (HELO web50314.mail.yahoo.com) (206.190.39.227)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 12 May 2006 07:47:11 -0700
Received: (qmail 39325 invoked by uid 60001); 12 May 2006 14:46:50 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=MqAAid2tefw/knLS3eevClA5pj/KVKl8v+R4+UjlKfYzs5cVn+QZ08nuTKWojkMkNBNiYYM93oFq6i9lSf1eg9jqbmlL0B+jOcXNgok7M5fjTR2j0pEk/a24aYrstFDM5CO3oxaP6j9keyOGo9jW4sWZjQ5paU+S5K0btF1mNvY=  ;
Message-ID: <20060512144650.39323.qmail@web50314.mail.yahoo.com>
Date: Fri, 12 May 2006 07:46:50 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: opened files
To: java-user@lucene.apache.org
In-Reply-To: <44646F98.4040506@fib.upc.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Daniel,

The number of open files depends on several factors.  The formula for calculating the number of open files is in Lucene in Action.  It depends on the number of segments, index files, and indexed fields.  Page 401.

Otis

----- Original Message ----
From: Daniel Cortes <dcortes@fib.upc.edu>
To: java-user@lucene.apache.org
Sent: Friday, May 12, 2006 7:20:56 AM
Subject: opened files

Hi luceners, I want to know how many file descriptors you can have.
My lucene version is 1.4.3.
Now I have obtained a lot of Too many open files, I think that the 
problem is produced by another thing because I work only with to indexs 
and now it isn't big (10 MB).
For this reason I want to ask you how large is your index and  open file 
descriptors you have, and how many memory you are using.

We can be some stadistics about lucene users :D

Thks for any replies.





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20593-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 12 14:50:26 2006
Return-Path: <java-user-return-20593-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63965 invoked from network); 12 May 2006 14:50:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2006 14:50:22 -0000
Received: (qmail 685 invoked by uid 500); 12 May 2006 14:50:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 394 invoked by uid 500); 12 May 2006 14:50:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 383 invoked by uid 99); 12 May 2006 14:50:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 May 2006 07:50:13 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.56] (HELO web50302.mail.yahoo.com) (206.190.38.56)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 12 May 2006 07:50:12 -0700
Received: (qmail 91393 invoked by uid 60001); 12 May 2006 14:49:47 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=DTGz6jn1tWlpgGHlqNFHIDcKq3gIYODAE7iBbKlfAZAtxHrJT0L6CZjmMJTvAhHaiywRTTrCSgW905aybNCiUBBzF17je8ShFpzOph7n0TBek6ZwdjqQxxqgJQJYr8RZWAtUGVFde5RgrggerydZlvHqhD3Qj3IOrgBARvHMUwM=  ;
Message-ID: <20060512144947.91390.qmail@web50302.mail.yahoo.com>
Date: Fri, 12 May 2006 07:49:47 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Backing up indexes, reliability and robustness
To: java-user@lucene.apache.org
In-Reply-To: <20060512115914.12237.qmail@web36614.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

In the best case you'd just need to remove the lock file.
Never happened to me (knock on wood), but others have reported corrupt indices.  Some, I believe, had to manually edit their segments file to get things in order, and possibly reindex data in lost segments.

As for backing up, you could try making a backup using IndexWriter's addIndexes method, and I imagine hard-links would work, too.

Otis

----- Original Message ----
From: Marc Dauncey <marc_dauncey@yahoo.com>
To: java-user@lucene.apache.org
Sent: Friday, May 12, 2006 7:59:14 AM
Subject: Backing up indexes, reliability and robustness

Hi everyone,

Just wanted to get peoples views on an indexing issue.  I gather a lot of people have apps where indexing writes to the same index as is used by the searcher.  The thing that bothers me about this is if indexing is interrupted (file system crash, out of disk space etc) the index becomes unusable.  This seems too risky in terms of keeping searching available 24/7.

My first question is, if an index does become corrupt because of an interrupted operation, is the situation recoverable?  Is it simply a matter of managing the index locks?

My second question is do people back up their indexes before working on them?  If you do, then how do you manage this for large indexes?  What kind of strategies have you put in place to make your systems robust and available?

Many thanks for your advice


Marc



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20594-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 12 15:15:23 2006
Return-Path: <java-user-return-20594-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75449 invoked from network); 12 May 2006 15:15:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2006 15:15:22 -0000
Received: (qmail 68253 invoked by uid 500); 12 May 2006 15:15:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68201 invoked by uid 500); 12 May 2006 15:15:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68174 invoked by uid 99); 12 May 2006 15:15:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 May 2006 08:15:12 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [170.140.8.222] (HELO virginia.cc.emory.edu) (170.140.8.222)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 May 2006 08:15:11 -0700
Received: from localhost (localhost [127.0.0.1])
	by virginia.cc.emory.edu (8.13.6/8.13.6) with ESMTP id k4CFEkGl013820
	for <java-user@lucene.apache.org>; Fri, 12 May 2006 11:14:48 -0400 (EDT)
Received: from metascholar3.library.emory.edu(metascholar3.library.emory.edu
	 [170.140.210.99]) bywebmail.service.emory.edu (Horde MIME library) with 
	HTTP; Fri, 12 May 200611:14:46 -0400
Message-ID: <20060512111446.3kxu2k5frk8ws8sg@webmail.service.emory.edu>
Date: Fri, 12 May 2006 11:14:46 -0400
From: Urvashi Gadi <ugadi@emory.edu>
To: java-user@lucene.apache.org
Subject: question about custom sort method
MIME-Version: 1.0
Content-Type: text/plain;
	charset=ISO-8859-1;
	format=flowed
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
User-Agent: Internet Messaging Program (IMP) H3 (4.0.4)
X-imss-version: 2.040
X-imss-result: Passed
X-imss-approveListMatch: *@emory.edu
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am looking at DistanceComparatorSource class (for csutom sorting) and 
looks like it calculates the distance for each record in the index and 
not just the records returned from search, making the system very slow.

Is my observation correct? Are there ways to optimize this process?

Thanks,
Urvashi




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20595-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 12 16:38:41 2006
Return-Path: <java-user-return-20595-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7996 invoked from network); 12 May 2006 16:38:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2006 16:38:41 -0000
Received: (qmail 24546 invoked by uid 500); 12 May 2006 16:38:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24515 invoked by uid 500); 12 May 2006 16:38:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24504 invoked by uid 99); 12 May 2006 16:38:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 May 2006 09:38:35 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 May 2006 09:38:33 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 002CC33C671; Fri, 12 May 2006 12:38:12 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [192.168.0.10] (unknown [209.145.67.172])
	by ehatchersolutions.com (Postfix) with ESMTP id B9A5B33C664
	for <java-user@lucene.apache.org>; Fri, 12 May 2006 12:38:10 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <20060512111446.3kxu2k5frk8ws8sg@webmail.service.emory.edu>
References: <20060512111446.3kxu2k5frk8ws8sg@webmail.service.emory.edu>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <73A6FDD3-E17B-4CF9-921F-B7C74AE09850@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: question about custom sort method
Date: Fri, 12 May 2006 12:38:06 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yes, it does compute these distances for all the terms for the field  
specified, but only once (per IndexReader).  This is where the  
techniques Solr employs comes in real handy... warming up caches by  
running searches and sorts before putting a index into service.

	Erik


On May 12, 2006, at 11:14 AM, Urvashi Gadi wrote:

> I am looking at DistanceComparatorSource class (for csutom sorting)  
> and looks like it calculates the distance for each record in the  
> index and not just the records returned from search, making the  
> system very slow.
>
> Is my observation correct? Are there ways to optimize this process?
>
> Thanks,
> Urvashi
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20596-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 12 18:06:10 2006
Return-Path: <java-user-return-20596-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34283 invoked from network); 12 May 2006 18:06:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2006 18:06:10 -0000
Received: (qmail 65567 invoked by uid 500); 12 May 2006 18:06:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65542 invoked by uid 500); 12 May 2006 18:06:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65531 invoked by uid 99); 12 May 2006 18:06:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 May 2006 11:06:03 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [64.90.160.18] (HELO server1.threattracker.com) (64.90.160.18)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 May 2006 11:06:02 -0700
Received: from [192.168.1.98] (gate.marathonconsulting.com [69.38.225.18])
	(authenticated)
	by server1.threattracker.com (8.11.6/8.11.6) with ESMTP id k4CI5nZ29011
	for <java-user@lucene.apache.org>; Fri, 12 May 2006 14:05:49 -0400
Message-ID: <4464CEC4.4000405@alias-i.com>
Date: Fri, 12 May 2006 14:07:00 -0400
From: carp@alias-i.com
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Can lucene do this? [doc routing vs. standing queries]
References: <55F9EF953014514EB6BEE1F5198CEEB406D0D4@exchange.slc.mainstreamdata.com>
In-Reply-To: <55F9EF953014514EB6BEE1F5198CEEB406D0D4@exchange.slc.mainstreamdata.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Scott Smith wrote:
> I'm building an application which has to provide "real-time" searching
> of emails as they come in.  I have a number of search strings that I
> need to apply against each email as it comes in and then do something
> with the email based on which search string(s) get a hit.  
> 
> My initial thought was to create a lucene index of the emails received
> in the last N seconds (where N is around 5 since I don't have to be
> quite real-time) in a memory directory, do my searches and then delete
> the index and create a new index for emails received in the next 5
> seconds.   I'm a little concerned because the number of search strings
> will probably grow over time and so there is a bit of a scalability
> issue-though I'm not sure there's anyway around that other than doing
> parallel processing on different machines.

What exactly do you need to do?  That is, what
will the "search strings" look like?  And what
do you need to do with the mail based on the
result of search?  There's a substantial literature
on routing incoming emails and zoning them to
send them off to appropriate customer support
reps and even auto-generate reply templates.
It's really just a classification problem.

If you just need boolean search over a set of
strings, then a reasonable solution is to just
use a regular expression.  That'll even let you
find where the strings match in text at the same
time.  It's also easy to parallelize across
machines/threads.  Regexes also are built into Java now and likely more
easily understood by other developers you may
be working with now or in the future.
If you need a lot of efficiency, you can
unfold the regex into a deterministic finite automaton,
but that may be a lot more than you want to take
on for this project.

If you need the more complex logic of Lucene's
boolean searches or the weighting provided by TF/IDF,
then you need to think about what the corpus
is going to be that'll generate the IDF weightings
for terms that'll contribute their weight to
overall scores.  Ideally, it'll be small enough
to fit in a memory-backed directory (in Lucene's
terminology).  And the new emails would go in
a separate in-memory index.

If you need to do something like route the emails
to different departments, you can turn the
problem around and use the incoming email to
create a query which you match against pseudo-documents
generated by concatenating example documents
that should go to those departments together.

We did this at Bell Labs for routing telephone
calls, and used simple TF-IDF weighting (this
was, alas, before the days of Lucene).  Because
we were in the speech lab, we did it for telephone
calls based on speech recognition:

http://acl.ldc.upenn.edu/J/J99/J99-3003.pdf

- Bob Carpenter
   Alias-i

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20597-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 12 18:08:08 2006
Return-Path: <java-user-return-20597-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35142 invoked from network); 12 May 2006 18:08:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2006 18:08:07 -0000
Received: (qmail 71384 invoked by uid 500); 12 May 2006 18:08:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71358 invoked by uid 500); 12 May 2006 18:08:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71347 invoked by uid 99); 12 May 2006 18:08:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 May 2006 11:08:00 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 64.233.184.234 as permitted sender)
Received: from [64.233.184.234] (HELO wr-out-0506.google.com) (64.233.184.234)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 May 2006 11:07:59 -0700
Received: by wr-out-0506.google.com with SMTP id i22so550358wra
        for <java-user@lucene.apache.org>; Fri, 12 May 2006 11:07:39 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Nsiaf71dOXAiJ3jOAnP0SzELdv1uXJpoiClLVrLx0Iu+JXcx6UEnL7A5DCA3HDxEDV+ej7EchSXjNVjQSe83ja53pVqm2M44rL35q7gOqfxhmACW8wtHPa8e2K40FOk9Lw35xr6NDIfXzuoIWp1JUDbdiv+5CMUgyy6bLAPIaqQ=
Received: by 10.65.139.8 with SMTP id r8mr1873680qbn;
        Fri, 12 May 2006 11:07:35 -0700 (PDT)
Received: by 10.65.214.16 with HTTP; Fri, 12 May 2006 11:07:32 -0700 (PDT)
Message-ID: <50f433360605121107k544693cj38b87e6df8652cd3@mail.gmail.com>
Date: Fri, 12 May 2006 11:07:32 -0700
From: "Jeff Rodenburg" <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org, "Marc Dauncey" <marc_dauncey@yahoo.com>
Subject: Re: Backing up indexes, reliability and robustness
In-Reply-To: <20060512115914.12237.qmail@web36614.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_25850_32617327.1147457252869"
References: <20060512115914.12237.qmail@web36614.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_25850_32617327.1147457252869
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Marc -

We built our index maintenance operation to assume a breakdown would occur
in process (because it happened several times.)  We exist in an environment
where "always on, always available" is a business requirement.  We also do =
a
lot of updates on a cyclical basis (every 10 minutes), so malfeasance in
index updates must be limited/eliminated.

We *don't* update the same index used by our searchers.  We have a
distributed system with the index allocated among a number of servers, and
the primary source index resides on a system that performs index management
(update, optimization, etc.)  The search servers are responsible only for
making search available.

By de-coupling these tasks, we reduce contention on both reads & writes to
the particular indexes (source index for writes, replicated index for
reads).  The net cost of this is duplicating storage of the index, but we
need a backup of the files anyway and disk is cheap.  For our operation,
this works like a champ and our availability is in 5-9's territory.

Hope this helps.

-- j

On 5/12/06, Marc Dauncey <marc_dauncey@yahoo.com> wrote:
>
> Hi everyone,
>
> Just wanted to get peoples views on an indexing issue.  I gather a lot of
> people have apps where indexing writes to the same index as is used by th=
e
> searcher.  The thing that bothers me about this is if indexing is
> interrupted (file system crash, out of disk space etc) the index becomes
> unusable.  This seems too risky in terms of keeping searching available
> 24/7.
>
> My first question is, if an index does become corrupt because of an
> interrupted operation, is the situation recoverable?  Is it simply a matt=
er
> of managing the index locks?
>
> My second question is do people back up their indexes before working on
> them?  If you do, then how do you manage this for large indexes?  What ki=
nd
> of strategies have you put in place to make your systems robust and
> available?
>
> Many thanks for your advice
>
>
> Marc
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_25850_32617327.1147457252869--

From java-user-return-20598-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 12 18:39:41 2006
Return-Path: <java-user-return-20598-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43941 invoked from network); 12 May 2006 18:39:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2006 18:39:40 -0000
Received: (qmail 7164 invoked by uid 500); 12 May 2006 18:39:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7123 invoked by uid 500); 12 May 2006 18:39:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7111 invoked by uid 99); 12 May 2006 18:39:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 May 2006 11:39:32 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 May 2006 11:39:31 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 117B95B766; Fri, 12 May 2006 11:39:11 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 0D8077F403
	for <java-user@lucene.apache.org>; Fri, 12 May 2006 11:39:11 -0700 (PDT)
Date: Fri, 12 May 2006 11:39:11 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: RE:SORTING
In-Reply-To: <539C0A297AA0C74581CB5AF82D537291AD94C3@HSDLNTD1110010.noida.hcltech.com>
Message-ID: <Pine.LNX.4.58.0605121138040.28315@hal.rescomp.berkeley.edu>
References: <539C0A297AA0C74581CB5AF82D537291AD94C3@HSDLNTD1110010.noida.hcltech.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I am indexing the price of some items in my index . I have quite a few
: number of indexes. I want to sort the  items according to the price . is
: there a way to include all the indexes at one go while sorting or I have
: to do it one index at a time...

I assume you are using a MultiSearcher, or perhaps a MultiReader? ...
either way you should be able to use the Searcher.search(Query,Sort)
method (or any of the other Searcher.search methods that take a Sort
parameter)



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20599-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 12 18:42:14 2006
Return-Path: <java-user-return-20599-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44785 invoked from network); 12 May 2006 18:42:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 May 2006 18:42:09 -0000
Received: (qmail 12183 invoked by uid 500); 12 May 2006 18:41:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12153 invoked by uid 500); 12 May 2006 18:41:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12142 invoked by uid 99); 12 May 2006 18:41:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 May 2006 11:41:55 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 May 2006 11:41:54 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 393145B766; Fri, 12 May 2006 11:41:33 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 35F5D7F403;
	Fri, 12 May 2006 11:41:33 -0700 (PDT)
Date: Fri, 12 May 2006 11:41:33 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org,
	Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Backing up indexes, reliability and robustness
In-Reply-To: <20060512144947.91390.qmail@web50302.mail.yahoo.com>
Message-ID: <Pine.LNX.4.58.0605121140500.28315@hal.rescomp.berkeley.edu>
References: <20060512144947.91390.qmail@web50302.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: As for backing up, you could try making a backup using IndexWriter's
: addIndexes method, and I imagine hard-links would work, too.

Hardlinks do in fact work quite well.  This is how the Solr backup scripts
work...

http://svn.apache.org/repos/asf/incubator/solr/trunk/src/scripts/backup




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20600-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 13 13:12:39 2006
Return-Path: <java-user-return-20600-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37107 invoked from network); 13 May 2006 13:12:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 May 2006 13:12:39 -0000
Received: (qmail 43137 invoked by uid 500); 13 May 2006 13:12:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43092 invoked by uid 500); 13 May 2006 13:12:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43080 invoked by uid 99); 13 May 2006 13:12:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 May 2006 06:12:32 -0700
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.187] (HELO hnexfe17.hetnet.nl) (195.121.6.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 May 2006 06:12:31 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe17.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6713);
	 Sat, 13 May 2006 15:12:09 +0200
Subject: IndexUpdateListener
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
Content-Type: text/plain
Organization: snigel heavy industries
Date: Sat, 13 May 2006 15:12:07 +0200
Message-Id: <1147525928.4931.17.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 13 May 2006 13:12:09.0236 (UTC) FILETIME=[D7121D40:01C6768E]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

This might exist?

How about a list of index listeners that is called when an index is
updated? I want it to clear my hits cache. Perhaps it could be
interesting for other people to know what document was changed.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20601-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 13 16:10:55 2006
Return-Path: <java-user-return-20601-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96020 invoked from network); 13 May 2006 16:10:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 May 2006 16:10:54 -0000
Received: (qmail 40690 invoked by uid 500); 13 May 2006 16:10:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40660 invoked by uid 500); 13 May 2006 16:10:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40642 invoked by uid 99); 13 May 2006 16:10:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 May 2006 09:10:47 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.12.138] (HELO smtp801.mail.ukl.yahoo.com) (217.12.12.138)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 13 May 2006 09:10:43 -0700
Received: (qmail 14234 invoked from network); 13 May 2006 16:10:18 -0000
Received: from unknown (HELO MalcolmPC) (malcyclark@btinternet.com@86.132.236.60 with login)
  by smtp801.mail.ukl.yahoo.com with SMTP; 13 May 2006 16:10:18 -0000
Message-ID: <001401c676a7$bb40cd00$0401a8c0@MalcolmPC>
From: "Malcolm Clark" <malcyclark@btinternet.com>
To: <java-user@lucene.apache.org>
Subject: Recommendations please
Date: Sat, 13 May 2006 17:10:19 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0011_01C676B0.1CC98B90"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2869
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0011_01C676B0.1CC98B90
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi everyone,
I am about to index the INEX collection (22 files with 30000 files in =
each-ish) using Java Lucene. I am undecided with the approach to =
indexing and have left my LIA book at uni :-/
Would you recommend:

  1..  indexing all files into one big index? (would this be inefficient =
to search?)
  2.. 23 seperate indexes and then merging them?
  3.. 23 seperate indexes and then searching an array of indexes?

Also has anyone else indexed the INEX collection using Java Lucene and =
what did you do?
Thanks for any helpful advice.
MC
------=_NextPart_000_0011_01C676B0.1CC98B90--


From java-user-return-20602-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 14 11:06:09 2006
Return-Path: <java-user-return-20602-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24945 invoked from network); 14 May 2006 11:06:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 May 2006 11:06:09 -0000
Received: (qmail 8153 invoked by uid 500); 14 May 2006 11:06:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8114 invoked by uid 500); 14 May 2006 11:06:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8103 invoked by uid 99); 14 May 2006 11:06:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 04:06:03 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 04:06:02 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 43F6C33CAC5; Sun, 14 May 2006 07:05:42 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 45EFA33CAC5
	for <java-user@lucene.apache.org>; Sun, 14 May 2006 07:05:41 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <1147525928.4931.17.camel@localhost>
References: <1147525928.4931.17.camel@localhost>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E1FF6873-3904-44E1-84C4-7A0334D5B556@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: IndexUpdateListener
Date: Sun, 14 May 2006 07:05:08 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_SORBS_DUL autolearn=no version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Lucene itself doesn't provide this, but Solr does.  And with Solr you  
don't need your own custom Hits cache - it already provides caches in  
several areas.

	Erik


On May 13, 2006, at 9:12 AM, karl wettin wrote:

> This might exist?
>
> How about a list of index listeners that is called when an index is
> updated? I want it to clear my hits cache. Perhaps it could be
> interesting for other people to know what document was changed.
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20603-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 14 11:11:15 2006
Return-Path: <java-user-return-20603-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25601 invoked from network); 14 May 2006 11:11:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 May 2006 11:11:15 -0000
Received: (qmail 10856 invoked by uid 500); 14 May 2006 11:11:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10819 invoked by uid 500); 14 May 2006 11:11:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10808 invoked by uid 99); 14 May 2006 11:11:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 04:11:10 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 04:11:09 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 99A3133CAC6; Sun, 14 May 2006 07:10:47 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 5CDC633CAC5
	for <java-user@lucene.apache.org>; Sun, 14 May 2006 07:10:41 -0400 (EDT)
In-Reply-To: <001401c676a7$bb40cd00$0401a8c0@MalcolmPC>
References: <001401c676a7$bb40cd00$0401a8c0@MalcolmPC>
Mime-Version: 1.0 (Apple Message framework v750)
X-Priority: 3
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <AC80DE1D-F671-4A86-9AE2-D07318BBFF16@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Recommendations please
Date: Sun, 14 May 2006 07:10:39 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_SORBS_DUL autolearn=no version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 13, 2006, at 12:10 PM, Malcolm Clark wrote:
> Hi everyone,
> I am about to index the INEX collection (22 files with 30000 files  
> in each-ish) using Java Lucene. I am undecided with the approach to  
> indexing and have left my LIA book at uni :-/
> Would you recommend:
>
>   1..  indexing all files into one big index? (would this be  
> inefficient to search?)
>   2.. 23 seperate indexes and then merging them?
>   3.. 23 seperate indexes and then searching an array of indexes?
>
> Also has anyone else indexed the INEX collection using Java Lucene  
> and what did you do?
> Thanks for any helpful advice.

This really all depends.  Any of those options are fine, but I'd  
personally start with the simplest option of indexing it all into a  
single index.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20604-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 14 14:33:07 2006
Return-Path: <java-user-return-20604-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65561 invoked from network); 14 May 2006 14:33:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 May 2006 14:33:06 -0000
Received: (qmail 95089 invoked by uid 500); 14 May 2006 14:33:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95058 invoked by uid 500); 14 May 2006 14:33:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95037 invoked by uid 99); 14 May 2006 14:33:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 07:33:00 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.176] (HELO hnexfe10.hetnet.nl) (195.121.6.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 07:32:59 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe10.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Sun, 14 May 2006 16:32:34 +0200
Subject: Re: IndexUpdateListener
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <E1FF6873-3904-44E1-84C4-7A0334D5B556@ehatchersolutions.com>
References: <1147525928.4931.17.camel@localhost>
	 <E1FF6873-3904-44E1-84C4-7A0334D5B556@ehatchersolutions.com>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Sun, 14 May 2006 16:32:29 +0200
Message-Id: <1147617149.4931.106.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 14 May 2006 14:32:34.0369 (UTC) FILETIME=[3D7CBB10:01C67763]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Sun, 2006-05-14 at 07:05 -0400, Erik Hatcher wrote:
> Lucene itself doesn't provide this, but Solr does.

I'm not using Solr :) But what you suggest is that I should try to fit
in in my own layer around Lucene rather than in Lucene? 

May I ask why?

Not sure if I would do it that way. To me it feels as the index is the
only thing that knows for sure if it has been updated. Sending all my
requests via some method to catch such activities feels.. I don't know..
as the wrong layer I guess.


-- 
karl


>   And with Solr you  
> don't need your own custom Hits cache - it already provides caches in  
> several areas.
> 
> 	Erik
> 
> 
> On May 13, 2006, at 9:12 AM, karl wettin wrote:
> 
> > This might exist?
> >
> > How about a list of index listeners that is called when an index is
> > updated? I want it to clear my hits cache. Perhaps it could be
> > interesting for other people to know what document was changed.
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20605-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 14 14:50:57 2006
Return-Path: <java-user-return-20605-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69330 invoked from network); 14 May 2006 14:50:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 May 2006 14:50:57 -0000
Received: (qmail 7240 invoked by uid 500); 14 May 2006 14:50:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6927 invoked by uid 500); 14 May 2006 14:50:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6916 invoked by uid 99); 14 May 2006 14:50:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 07:50:50 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.166.183 as permitted sender)
Received: from [64.233.166.183] (HELO py-out-1112.google.com) (64.233.166.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 07:50:48 -0700
Received: by py-out-1112.google.com with SMTP id i75so893936pye
        for <java-user@lucene.apache.org>; Sun, 14 May 2006 07:50:28 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=DL8BJwNcTkgkZmKSN7wIW1RepCm/nCwhlhFzf+g1PszlcVjJgm9bEuz3ry3xoGPtdaWDA5ViyvJf57YsW+suba+u3s4asXa/uza1jKj+ZK118hoLGsFnzjf3BzNYikZCXivfkYIOe8eZBiv+1Jiz6gC+oCB0ltuOi89uF+9icfw=
Received: by 10.35.87.8 with SMTP id p8mr1757618pyl;
        Sun, 14 May 2006 07:50:27 -0700 (PDT)
Received: by 10.35.107.3 with HTTP; Sun, 14 May 2006 07:50:27 -0700 (PDT)
Message-ID: <c68e39170605140750q7d6de2b2i9998daf90d2651f6@mail.gmail.com>
Date: Sun, 14 May 2006 10:50:27 -0400
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: IndexUpdateListener
In-Reply-To: <1147617149.4931.106.camel@localhost>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <1147525928.4931.17.camel@localhost>
	 <E1FF6873-3904-44E1-84C4-7A0334D5B556@ehatchersolutions.com>
	 <1147617149.4931.106.camel@localhost>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 5/14/06, karl wettin <kalle@snigel.net> wrote:
> To me it feels as the index is the
> only thing that knows for sure if it has been updated.

I guess that would be whenever an IndexReader that had new deletions
is closed, or an IndexWriter that changed the segments file?

An app using Lucene still needs to coordinate all the activity
surrounding IndexReaders and IndexWriters, including explicit closure,
so the app will know anyway when the index has changed, right?
(unless you are talking about adding the callbacks to IndexModifier)

There are other tricky issues involved as well... would the listeners
be called in a synchronized context or not...  It really depends what
you use the listeners for.  Solr uses listeners to snapshot an index
for distribution, and hence it needs to be synchronized (no other
index modifications allowed while the callback is in progress).  Other
listeners can be  long running and asynchronous.


-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20606-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 14 16:08:12 2006
Return-Path: <java-user-return-20606-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91837 invoked from network); 14 May 2006 16:08:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 May 2006 16:08:11 -0000
Received: (qmail 89854 invoked by uid 500); 14 May 2006 16:08:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89566 invoked by uid 500); 14 May 2006 16:08:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89555 invoked by uid 99); 14 May 2006 16:08:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 09:08:05 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of beadygeraghty@gmail.com designates 66.249.82.197 as permitted sender)
Received: from [66.249.82.197] (HELO wx-out-0102.google.com) (66.249.82.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 09:08:04 -0700
Received: by wx-out-0102.google.com with SMTP id t14so542033wxc
        for <java-user@lucene.apache.org>; Sun, 14 May 2006 09:07:43 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=n+akDa5t+/pj4k55ESs+CvHFCqpoXWplP/yf+poIj4fUGiM0nfeJj9Jok6L6uI6K+paGirsWJGr57ByH//xT9VQ4+AgCsCXmSfdsr3Cuz09byceNyLBiNPhMAw6txSIqz7eB8UPvgHVzkXgP+C99GZrGfEqKypkdyEQtqVT6AHI=
Received: by 10.70.63.2 with SMTP id l2mr5614227wxa;
        Sun, 14 May 2006 09:07:43 -0700 (PDT)
Received: by 10.70.53.13 with HTTP; Sun, 14 May 2006 09:07:43 -0700 (PDT)
Message-ID: <b487c1370605140907n5679f828v998cd5bdb3e930ec@mail.gmail.com>
Date: Sun, 14 May 2006 12:07:43 -0400
From: "Beady Geraghty" <beadygeraghty@gmail.com>
To: java-user@lucene.apache.org
Subject: out-of-memory when searching, paging does not work.
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_39229_26171347.1147622863324"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_39229_26171347.1147622863324
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I have an out-of-memroy error when returning  many hits.

I am still on Lucene 1.4.3

I have a simple term query.  It returned 899810 documents.
I try to retrieve the name of each document and nothing else
and I ran out of memory.

Instead of getting the names all at once, I tried to query again after
every 10,000 document.
I close the index reader, index searcher, and the fsDir and re-query
for every 10000 documents.  This still doesn't work.

>From another entry in the forum, it appears that the information about
the hits that I have skipped over are still kept even though I don't
access them.  Am I understanding it correctly that if I start accessing
from the 400000th documents onwards, some information about the 0-399999
documents are still cached even though I have skipped over those.
Is there a way to get the file name (and perhaps other information) of the
remaining
documents ?

(I tried a different term query that returned a hit size of 400000, and I
was able
to get the names of them all without re-quering)

I think that I see someone mentioned about  clearing the hit cache ,
though I don't how this is done.

Thank you in advance for any hints on dealing with this.

------=_Part_39229_26171347.1147622863324--

From java-user-return-20607-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 14 16:14:39 2006
Return-Path: <java-user-return-20607-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93140 invoked from network); 14 May 2006 16:14:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 May 2006 16:14:38 -0000
Received: (qmail 99590 invoked by uid 500); 14 May 2006 16:14:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99164 invoked by uid 500); 14 May 2006 16:14:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99153 invoked by uid 99); 14 May 2006 16:14:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 09:14:32 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 09:14:31 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id DA4B933CAD3; Sun, 14 May 2006 12:14:10 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 2751F33CAD1
	for <java-user@lucene.apache.org>; Sun, 14 May 2006 12:14:10 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <b487c1370605140907n5679f828v998cd5bdb3e930ec@mail.gmail.com>
References: <b487c1370605140907n5679f828v998cd5bdb3e930ec@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <7929D2C6-29B3-4ACB-924F-BE2CECF6690E@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: out-of-memory when searching, paging does not work.
Date: Sun, 14 May 2006 12:14:06 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_SORBS_DUL autolearn=no version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Could you share at least some pseudo-code of what you're doing in the  
loop of retrieving the "name" of each document?   Are you storing all  
of those names as you iterate?

Have you profiled your application to see exactly where the memory is  
going?  It is surely being eaten by your own code and not Lucene.

	Erik


On May 14, 2006, at 12:07 PM, Beady Geraghty wrote:

> I have an out-of-memroy error when returning  many hits.
>
> I am still on Lucene 1.4.3
>
> I have a simple term query.  It returned 899810 documents.
> I try to retrieve the name of each document and nothing else
> and I ran out of memory.
>
> Instead of getting the names all at once, I tried to query again after
> every 10,000 document.
> I close the index reader, index searcher, and the fsDir and re-query
> for every 10000 documents.  This still doesn't work.
>
>> From another entry in the forum, it appears that the information  
>> about
> the hits that I have skipped over are still kept even though I don't
> access them.  Am I understanding it correctly that if I start  
> accessing
> from the 400000th documents onwards, some information about the  
> 0-399999
> documents are still cached even though I have skipped over those.
> Is there a way to get the file name (and perhaps other information)  
> of the
> remaining
> documents ?
>
> (I tried a different term query that returned a hit size of 400000,  
> and I
> was able
> to get the names of them all without re-quering)
>
> I think that I see someone mentioned about  clearing the hit cache ,
> though I don't how this is done.
>
> Thank you in advance for any hints on dealing with this.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20608-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 14 16:20:41 2006
Return-Path: <java-user-return-20608-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94617 invoked from network); 14 May 2006 16:20:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 May 2006 16:20:41 -0000
Received: (qmail 5317 invoked by uid 500); 14 May 2006 16:20:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5284 invoked by uid 500); 14 May 2006 16:20:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5273 invoked by uid 99); 14 May 2006 16:20:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 09:20:35 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.85.31] (HELO web36614.mail.mud.yahoo.com) (209.191.85.31)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 14 May 2006 09:20:34 -0700
Received: (qmail 17247 invoked by uid 60001); 14 May 2006 16:20:09 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=xORXATFmCNCoJQbB4kEiRzhfesOsLQ2DxUev8ztRP4dNKfXlCpp8fVPD0mUneMPp6Y4yAj4PXq5D/QoEQdReOnKYzQe0rRH9JIQSJ/EaW2S6fvnA5oAXXkHxn3bLf+WUtJ2k4IqfPnZYvneQDM6ybhlwI79n8Nf1rbXwA7EJI4o=  ;
Message-ID: <20060514162009.17245.qmail@web36614.mail.mud.yahoo.com>
Date: Sun, 14 May 2006 09:20:09 -0700 (PDT)
From: Marc Dauncey <marc_dauncey@yahoo.com>
Reply-To: Marc Dauncey <marc_dauncey@yahoo.com>
Subject: Re: IndexUpdateListener
To: java-user@lucene.apache.org
In-Reply-To: <c68e39170605140750q7d6de2b2i9998daf90d2651f6@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm planning to write a listener which will recieve messages from our indexing application via SOAP - the message will indicate which indexes have been updated as we will be using quite a few separate lucene indexes.  No point dropping all the searchers (and any caches, filters etc) if only one index has been modified.

Some will be updated frequently - in which case we will have a scheduled optimisation and close of any searchers rather than doing it every time - and others will be infrequent, but contain large updates.



----- Original Message ----
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Sent: Sunday, 14 May, 2006 3:50:27 PM
Subject: Re: IndexUpdateListener

On 5/14/06, karl wettin <kalle@snigel.net> wrote:
> To me it feels as the index is the
> only thing that knows for sure if it has been updated.

I guess that would be whenever an IndexReader that had new deletions
is closed, or an IndexWriter that changed the segments file?

An app using Lucene still needs to coordinate all the activity
surrounding IndexReaders and IndexWriters, including explicit closure,
so the app will know anyway when the index has changed, right?
(unless you are talking about adding the callbacks to IndexModifier)

There are other tricky issues involved as well... would the listeners
be called in a synchronized context or not...  It really depends what
you use the listeners for.  Solr uses listeners to snapshot an index
for distribution, and hence it needs to be synchronized (no other
index modifications allowed while the callback is in progress).  Other
listeners can be  long running and asynchronous.


-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20609-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 14 16:22:05 2006
Return-Path: <java-user-return-20609-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94812 invoked from network); 14 May 2006 16:22:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 May 2006 16:22:04 -0000
Received: (qmail 6828 invoked by uid 500); 14 May 2006 16:21:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6800 invoked by uid 500); 14 May 2006 16:21:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6789 invoked by uid 99); 14 May 2006 16:21:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 09:21:59 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.85.19] (HELO web36602.mail.mud.yahoo.com) (209.191.85.19)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 14 May 2006 09:21:58 -0700
Received: (qmail 50571 invoked by uid 60001); 14 May 2006 16:21:37 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=TJnzUL9I8Qnpo5fbHQV27jUt5ZKUGQMiQUqDRG3xw8ST1nwuFwCIpk+We6Pk2+c5kr0bpKzjM2kCgDedC5acKuMDMWV82z34bRFFek+b1QGY8Zkb+oI30kiB26IkrmwbJhQRlwnnaUlQmxcZaVsD65TNc0o9j3vKjaZ2psQuldU=  ;
Message-ID: <20060514162137.50569.qmail@web36602.mail.mud.yahoo.com>
Date: Sun, 14 May 2006 09:21:37 -0700 (PDT)
From: Marc Dauncey <marc_dauncey@yahoo.com>
Reply-To: Marc Dauncey <marc_dauncey@yahoo.com>
Subject: Re: Backing up indexes, reliability and robustness
To: java-user@lucene.apache.org, Otis Gospodnetic <otis_gospodnetic@yahoo.com>
In-Reply-To: <Pine.LNX.4.58.0605121140500.28315@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thank you for all your thoughts on this - I think we will go the route of having two copies for each index, a working copy and the one the searchers use.  If we start off indexing like this it shouldn't be too hard to keep them in sync.

Thanks again,

Marc

----- Original Message ----
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org; Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Sent: Friday, 12 May, 2006 7:41:33 PM
Subject: Re: Backing up indexes, reliability and robustness


: As for backing up, you could try making a backup using IndexWriter's
: addIndexes method, and I imagine hard-links would work, too.

Hardlinks do in fact work quite well.  This is how the Solr backup scripts
work...

http://svn.apache.org/repos/asf/incubator/solr/trunk/src/scripts/backup




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20610-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 14 17:49:11 2006
Return-Path: <java-user-return-20610-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12227 invoked from network); 14 May 2006 17:49:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 May 2006 17:49:10 -0000
Received: (qmail 76748 invoked by uid 500); 14 May 2006 17:49:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76662 invoked by uid 500); 14 May 2006 17:49:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76628 invoked by uid 99); 14 May 2006 17:49:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 10:49:03 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.176] (HELO hnexfe10.hetnet.nl) (195.121.6.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 10:49:02 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe10.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Sun, 14 May 2006 19:48:38 +0200
Subject: Re: IndexUpdateListener
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <c68e39170605140750q7d6de2b2i9998daf90d2651f6@mail.gmail.com>
References: <1147525928.4931.17.camel@localhost>
	 <E1FF6873-3904-44E1-84C4-7A0334D5B556@ehatchersolutions.com>
	 <1147617149.4931.106.camel@localhost>
	 <c68e39170605140750q7d6de2b2i9998daf90d2651f6@mail.gmail.com>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Sun, 14 May 2006 19:48:34 +0200
Message-Id: <1147628914.4931.115.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 14 May 2006 17:48:39.0212 (UTC) FILETIME=[A1E14EC0:01C6777E]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Sun, 2006-05-14 at 10:50 -0400, Yonik Seeley wrote:
> On 5/14/06, karl wettin <kalle@snigel.net> wrote:
> > To me it feels as the index is the
> > only thing that knows for sure if it has been updated.
> 
> I guess that would be whenever an IndexReader that had new deletions
> is closed, or an IndexWriter that changed the segments file?

Something like that.

> 
> An app using Lucene still needs to coordinate all the activity
> surrounding IndexReaders and IndexWriters, including explicit closure,
> so the app will know anyway when the index has changed, right?

A car could go 600 miles in reverse, but I'd prefere not. :)

> (unless you are talking about adding the callbacks to IndexModifier)

As deep as possible.

All the user would need to know is Directory.getListerners() 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20611-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 14 19:34:37 2006
Return-Path: <java-user-return-20611-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39410 invoked from network); 14 May 2006 19:34:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 May 2006 19:34:36 -0000
Received: (qmail 52748 invoked by uid 500); 14 May 2006 19:34:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52722 invoked by uid 500); 14 May 2006 19:34:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52711 invoked by uid 99); 14 May 2006 19:34:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 12:34:30 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of beadygeraghty@gmail.com designates 66.249.82.198 as permitted sender)
Received: from [66.249.82.198] (HELO wx-out-0102.google.com) (66.249.82.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 12:34:29 -0700
Received: by wx-out-0102.google.com with SMTP id t4so16222wxc
        for <java-user@lucene.apache.org>; Sun, 14 May 2006 12:34:08 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=qWYItHiIlp6u45LD/7pcSUHkGmzPiEFMtk5Uve11ZujMj5at/ZM+Hk2/CaNApFRcWpVI4BsqzYU1TL/Gr0yH516VXI+oZqYmvi8+W8nbZ1bHUi34AeO/rClHAvErn1tzHH1dY7XC6GBli8XKaKVdDLoo+6h+M+MbFGXUFee3BEA=
Received: by 10.70.33.20 with SMTP id g20mr5753833wxg;
        Sun, 14 May 2006 12:34:08 -0700 (PDT)
Received: by 10.70.53.13 with HTTP; Sun, 14 May 2006 12:34:08 -0700 (PDT)
Message-ID: <b487c1370605141234j52334aa6tbe097e8763efa42d@mail.gmail.com>
Date: Sun, 14 May 2006 15:34:08 -0400
From: "Beady Geraghty" <beadygeraghty@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: out-of-memory when searching, paging does not work.
In-Reply-To: <7929D2C6-29B3-4ACB-924F-BE2CECF6690E@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_40142_23531489.1147635248780"
References: <b487c1370605140907n5679f828v998cd5bdb3e930ec@mail.gmail.com>
	 <7929D2C6-29B3-4ACB-924F-BE2CECF6690E@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_40142_23531489.1147635248780
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Here is the gist of the code:

    Query query =3D new TermQuery( new Term("contents", q.toLowerCase()));


    long start =3D new Date().getTime();
    Hits hits =3D is.search(query);
    long end =3D new Date().getTime();

    System.err.println("Found " + hits.length() +
      " document(s) (in " + (end - start) +
      " milliseconds) that matched query '" +
        q  + "'");


    int ct =3D hits.length() ;
    int ct2 =3D 400000;
    int step =3D 10000;
    int startct;
    while (ct2 < ct ) {
     startct =3D ct2;
     for (int i =3D startct; i < startct+step; i++ ) {
      if (ct2 >=3D ct ) {
       break;
      }
      Document doc =3D hits.doc(ct2);
      doc.get("filename");
      ct2++;
     }
     System.out.println( "ct2 is " + ct2 );
     ir.close();
     is.close();
     fsDir.close();
     ir =3D null;
     is =3D null;
     fsDir =3D null;
     fsDir =3D FSDirectory.getDirectory(indexDir, false);
     ir =3D IndexReader.open(fsDir);
     is =3D new IndexSearcher(ir);
     hits =3D is.search(query);


    }

if  ct2 is set to 40,000 as oppose to 400,000 , I see some output before I
get the out-of-memory.  If not, I get out of memory error almost instantly
without any output.

Is there a method call to clear the cache ?

Thank you for your response.


On 5/14/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
> Could you share at least some pseudo-code of what you're doing in the
> loop of retrieving the "name" of each document?   Are you storing all
> of those names as you iterate?
>
> Have you profiled your application to see exactly where the memory is
> going?  It is surely being eaten by your own code and not Lucene.
>
>        Erik
>
>
> On May 14, 2006, at 12:07 PM, Beady Geraghty wrote:
>
> > I have an out-of-memroy error when returning  many hits.
> >
> > I am still on Lucene 1.4.3
> >
> > I have a simple term query.  It returned 899810 documents.
> > I try to retrieve the name of each document and nothing else
> > and I ran out of memory.
> >
> > Instead of getting the names all at once, I tried to query again after
> > every 10,000 document.
> > I close the index reader, index searcher, and the fsDir and re-query
> > for every 10000 documents.  This still doesn't work.
> >
> >> From another entry in the forum, it appears that the information
> >> about
> > the hits that I have skipped over are still kept even though I don't
> > access them.  Am I understanding it correctly that if I start
> > accessing
> > from the 400000th documents onwards, some information about the
> > 0-399999
> > documents are still cached even though I have skipped over those.
> > Is there a way to get the file name (and perhaps other information)
> > of the
> > remaining
> > documents ?
> >
> > (I tried a different term query that returned a hit size of 400000,
> > and I
> > was able
> > to get the names of them all without re-quering)
> >
> > I think that I see someone mentioned about  clearing the hit cache ,
> > though I don't how this is done.
> >
> > Thank you in advance for any hints on dealing with this.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_40142_23531489.1147635248780--

From java-user-return-20612-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 14 20:59:58 2006
Return-Path: <java-user-return-20612-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58576 invoked from network); 14 May 2006 20:59:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 May 2006 20:59:57 -0000
Received: (qmail 6240 invoked by uid 500); 14 May 2006 20:59:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6197 invoked by uid 500); 14 May 2006 20:59:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6186 invoked by uid 99); 14 May 2006 20:59:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 13:59:51 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 13:59:50 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 794745B776; Sun, 14 May 2006 13:59:19 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 6D4C07F403
	for <java-user@lucene.apache.org>; Sun, 14 May 2006 13:59:19 -0700 (PDT)
Date: Sun, 14 May 2006 13:59:19 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: out-of-memory when searching, paging does not work.
In-Reply-To: <b487c1370605141234j52334aa6tbe097e8763efa42d@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0605141353150.9446@hal.rescomp.berkeley.edu>
References: <b487c1370605140907n5679f828v998cd5bdb3e930ec@mail.gmail.com> 
 <7929D2C6-29B3-4ACB-924F-BE2CECF6690E@ehatchersolutions.com>
 <b487c1370605141234j52334aa6tbe097e8763efa42d@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


please review the advice in these archived messages, I think you'll find
them very applicable to your problem...

http://www.nabble.com/eliminating-scoring-for-the-sake-of-efficiency-t1603827.html#a4351614
http://www.nabble.com/Exact-date-search-doesn%27t-work-with-1.9.1--t1418643.html#a3833741



: Date: Sun, 14 May 2006 15:34:08 -0400
: From: Beady Geraghty <beadygeraghty@gmail.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: Re: out-of-memory when searching, paging does not work.
:
: Here is the gist of the code:
:
:     Query query = new TermQuery( new Term("contents", q.toLowerCase()));
:
:
:     long start = new Date().getTime();
:     Hits hits = is.search(query);
:     long end = new Date().getTime();
:
:     System.err.println("Found " + hits.length() +
:       " document(s) (in " + (end - start) +
:       " milliseconds) that matched query '" +
:         q  + "'");
:
:
:     int ct = hits.length() ;
:     int ct2 = 400000;
:     int step = 10000;
:     int startct;
:     while (ct2 < ct ) {
:      startct = ct2;
:      for (int i = startct; i < startct+step; i++ ) {
:       if (ct2 >= ct ) {
:        break;
:       }
:       Document doc = hits.doc(ct2);
:       doc.get("filename");
:       ct2++;
:      }
:      System.out.println( "ct2 is " + ct2 );
:      ir.close();
:      is.close();
:      fsDir.close();
:      ir = null;
:      is = null;
:      fsDir = null;
:      fsDir = FSDirectory.getDirectory(indexDir, false);
:      ir = IndexReader.open(fsDir);
:      is = new IndexSearcher(ir);
:      hits = is.search(query);
:
:
:     }
:
: if  ct2 is set to 40,000 as oppose to 400,000 , I see some output before I
: get the out-of-memory.  If not, I get out of memory error almost instantly
: without any output.
:
: Is there a method call to clear the cache ?
:
: Thank you for your response.
:
:
: On 5/14/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
: >
: > Could you share at least some pseudo-code of what you're doing in the
: > loop of retrieving the "name" of each document?   Are you storing all
: > of those names as you iterate?
: >
: > Have you profiled your application to see exactly where the memory is
: > going?  It is surely being eaten by your own code and not Lucene.
: >
: >        Erik
: >
: >
: > On May 14, 2006, at 12:07 PM, Beady Geraghty wrote:
: >
: > > I have an out-of-memroy error when returning  many hits.
: > >
: > > I am still on Lucene 1.4.3
: > >
: > > I have a simple term query.  It returned 899810 documents.
: > > I try to retrieve the name of each document and nothing else
: > > and I ran out of memory.
: > >
: > > Instead of getting the names all at once, I tried to query again after
: > > every 10,000 document.
: > > I close the index reader, index searcher, and the fsDir and re-query
: > > for every 10000 documents.  This still doesn't work.
: > >
: > >> From another entry in the forum, it appears that the information
: > >> about
: > > the hits that I have skipped over are still kept even though I don't
: > > access them.  Am I understanding it correctly that if I start
: > > accessing
: > > from the 400000th documents onwards, some information about the
: > > 0-399999
: > > documents are still cached even though I have skipped over those.
: > > Is there a way to get the file name (and perhaps other information)
: > > of the
: > > remaining
: > > documents ?
: > >
: > > (I tried a different term query that returned a hit size of 400000,
: > > and I
: > > was able
: > > to get the names of them all without re-quering)
: > >
: > > I think that I see someone mentioned about  clearing the hit cache ,
: > > though I don't how this is done.
: > >
: > > Thank you in advance for any hints on dealing with this.
: >
: >
: > ---------------------------------------------------------------------
: > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: > For additional commands, e-mail: java-user-help@lucene.apache.org
: >
: >
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20613-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 14 23:15:50 2006
Return-Path: <java-user-return-20613-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86419 invoked from network); 14 May 2006 23:15:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 May 2006 23:15:50 -0000
Received: (qmail 4043 invoked by uid 500); 14 May 2006 23:15:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4015 invoked by uid 500); 14 May 2006 23:15:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4004 invoked by uid 99); 14 May 2006 23:15:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 16:15:43 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of beadygeraghty@gmail.com designates 66.249.82.201 as permitted sender)
Received: from [66.249.82.201] (HELO wx-out-0102.google.com) (66.249.82.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 16:15:42 -0700
Received: by wx-out-0102.google.com with SMTP id t4so32372wxc
        for <java-user@lucene.apache.org>; Sun, 14 May 2006 16:15:19 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=sy51pzv50g1vgSpGxj8P3EaYNWoNuOloHIvZwnDDRCZCYnBDEyGUGiS5XluK2MipqEKoz/DwzChG2/zSx8Saksaoo96CwRqcHjyTF+DNri18ph2uV+T3efJMV3q1LNV63+FMurWO8pXoizHeHwyC/fB57h7rJxRdz+EUbFPbrvg=
Received: by 10.70.118.3 with SMTP id q3mr5993026wxc;
        Sun, 14 May 2006 16:15:19 -0700 (PDT)
Received: by 10.70.53.13 with HTTP; Sun, 14 May 2006 16:15:19 -0700 (PDT)
Message-ID: <b487c1370605141615v57d0799dm955b19a7198c4468@mail.gmail.com>
Date: Sun, 14 May 2006 19:15:19 -0400
From: "Beady Geraghty" <beadygeraghty@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: out-of-memory when searching, paging does not work.
In-Reply-To: <Pine.LNX.4.58.0605141353150.9446@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_41570_20430680.1147648519096"
References: <b487c1370605140907n5679f828v998cd5bdb3e930ec@mail.gmail.com>
	 <7929D2C6-29B3-4ACB-924F-BE2CECF6690E@ehatchersolutions.com>
	 <b487c1370605141234j52334aa6tbe097e8763efa42d@mail.gmail.com>
	 <Pine.LNX.4.58.0605141353150.9446@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_41570_20430680.1147648519096
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Thank you for the links.  I will go through them, and hopefully solve my
problem.



On 5/14/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
>
> please review the advice in these archived messages, I think you'll find
> them very applicable to your problem...
>
>
> http://www.nabble.com/eliminating-scoring-for-the-sake-of-efficiency-t160=
3827.html#a4351614
>
> http://www.nabble.com/Exact-date-search-doesn%27t-work-with-1.9.1--t14186=
43.html#a3833741
>
>
>
> : Date: Sun, 14 May 2006 15:34:08 -0400
> : From: Beady Geraghty <beadygeraghty@gmail.com>
> : Reply-To: java-user@lucene.apache.org
> : To: java-user@lucene.apache.org
> : Subject: Re: out-of-memory when searching, paging does not work.
> :
> : Here is the gist of the code:
> :
> :     Query query =3D new TermQuery( new Term("contents", q.toLowerCase()=
));
> :
> :
> :     long start =3D new Date().getTime();
> :     Hits hits =3D is.search(query);
> :     long end =3D new Date().getTime();
> :
> :     System.err.println("Found " + hits.length() +
> :       " document(s) (in " + (end - start) +
> :       " milliseconds) that matched query '" +
> :         q  + "'");
> :
> :
> :     int ct =3D hits.length() ;
> :     int ct2 =3D 400000;
> :     int step =3D 10000;
> :     int startct;
> :     while (ct2 < ct ) {
> :      startct =3D ct2;
> :      for (int i =3D startct; i < startct+step; i++ ) {
> :       if (ct2 >=3D ct ) {
> :        break;
> :       }
> :       Document doc =3D hits.doc(ct2);
> :       doc.get("filename");
> :       ct2++;
> :      }
> :      System.out.println( "ct2 is " + ct2 );
> :      ir.close();
> :      is.close();
> :      fsDir.close();
> :      ir =3D null;
> :      is =3D null;
> :      fsDir =3D null;
> :      fsDir =3D FSDirectory.getDirectory(indexDir, false);
> :      ir =3D IndexReader.open(fsDir);
> :      is =3D new IndexSearcher(ir);
> :      hits =3D is.search(query);
> :
> :
> :     }
> :
> : if  ct2 is set to 40,000 as oppose to 400,000 , I see some output befor=
e
> I
> : get the out-of-memory.  If not, I get out of memory error almost
> instantly
> : without any output.
> :
> : Is there a method call to clear the cache ?
> :
> : Thank you for your response.
> :
> :
> : On 5/14/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
> : >
> : > Could you share at least some pseudo-code of what you're doing in the
> : > loop of retrieving the "name" of each document?   Are you storing all
> : > of those names as you iterate?
> : >
> : > Have you profiled your application to see exactly where the memory is
> : > going?  It is surely being eaten by your own code and not Lucene.
> : >
> : >        Erik
> : >
> : >
> : > On May 14, 2006, at 12:07 PM, Beady Geraghty wrote:
> : >
> : > > I have an out-of-memroy error when returning  many hits.
> : > >
> : > > I am still on Lucene 1.4.3
> : > >
> : > > I have a simple term query.  It returned 899810 documents.
> : > > I try to retrieve the name of each document and nothing else
> : > > and I ran out of memory.
> : > >
> : > > Instead of getting the names all at once, I tried to query again
> after
> : > > every 10,000 document.
> : > > I close the index reader, index searcher, and the fsDir and re-quer=
y
> : > > for every 10000 documents.  This still doesn't work.
> : > >
> : > >> From another entry in the forum, it appears that the information
> : > >> about
> : > > the hits that I have skipped over are still kept even though I don'=
t
> : > > access them.  Am I understanding it correctly that if I start
> : > > accessing
> : > > from the 400000th documents onwards, some information about the
> : > > 0-399999
> : > > documents are still cached even though I have skipped over those.
> : > > Is there a way to get the file name (and perhaps other information)
> : > > of the
> : > > remaining
> : > > documents ?
> : > >
> : > > (I tried a different term query that returned a hit size of 400000,
> : > > and I
> : > > was able
> : > > to get the names of them all without re-quering)
> : > >
> : > > I think that I see someone mentioned about  clearing the hit cache =
,
> : > > though I don't how this is done.
> : > >
> : > > Thank you in advance for any hints on dealing with this.
> : >
> : >
> : > ---------------------------------------------------------------------
> : > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> : > For additional commands, e-mail: java-user-help@lucene.apache.org
> : >
> : >
> :
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_41570_20430680.1147648519096--

From java-user-return-20614-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 15 02:28:16 2006
Return-Path: <java-user-return-20614-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40042 invoked from network); 15 May 2006 02:28:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 May 2006 02:28:16 -0000
Received: (qmail 90347 invoked by uid 500); 15 May 2006 02:28:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90303 invoked by uid 500); 15 May 2006 02:28:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90292 invoked by uid 99); 15 May 2006 02:28:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 19:28:08 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 19:28:08 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 7760C33CADD; Sun, 14 May 2006 22:27:47 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 7430D33CADB
	for <java-user@lucene.apache.org>; Sun, 14 May 2006 22:27:45 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <1147617149.4931.106.camel@localhost>
References: <1147525928.4931.17.camel@localhost> <E1FF6873-3904-44E1-84C4-7A0334D5B556@ehatchersolutions.com> <1147617149.4931.106.camel@localhost>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <8D163653-3751-469F-A14B-8E9256EB588C@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: IndexUpdateListener
Date: Sun, 14 May 2006 22:27:43 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_SORBS_DUL autolearn=no version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 14, 2006, at 10:32 AM, karl wettin wrote:

> On Sun, 2006-05-14 at 07:05 -0400, Erik Hatcher wrote:
>> Lucene itself doesn't provide this, but Solr does.
>
> I'm not using Solr :) But what you suggest is that I should try to fit
> in in my own layer around Lucene rather than in Lucene?
>
> May I ask why?

It's not quite a "suggestion", but rather just stating the facts of  
what exists _now_.  I'm skeptical of Lucene acquiring too many  
listener kinda hooks more deeply, or whether that layer should be  
added in a Solr kinda way.  Interesting architectural topic, methinks.

> Not sure if I would do it that way. To me it feels as the index is the
> only thing that knows for sure if it has been updated.

What are the boundaries of what you call an "index"?  Is it the  
current Lucene API, or could it be a service-like layer such as Solr  
on top of it?

> Sending all my
> requests via some method to catch such activities feels.. I don't  
> know..
> as the wrong layer I guess.

I wonder.

	Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20615-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 15 02:32:48 2006
Return-Path: <java-user-return-20615-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41019 invoked from network); 15 May 2006 02:32:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 May 2006 02:32:48 -0000
Received: (qmail 93842 invoked by uid 500); 15 May 2006 02:32:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93808 invoked by uid 500); 15 May 2006 02:32:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93797 invoked by uid 99); 15 May 2006 02:32:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 19:32:42 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 19:32:42 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 6F62333CADD; Sun, 14 May 2006 22:32:20 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id C98D833CADB
	for <java-user@lucene.apache.org>; Sun, 14 May 2006 22:32:19 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <1147628914.4931.115.camel@localhost>
References: <1147525928.4931.17.camel@localhost> <E1FF6873-3904-44E1-84C4-7A0334D5B556@ehatchersolutions.com> <1147617149.4931.106.camel@localhost> <c68e39170605140750q7d6de2b2i9998daf90d2651f6@mail.gmail.com> <1147628914.4931.115.camel@localhost>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <08C9FF7A-5997-4FEB-967E-4CB9CDF8BD4E@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: IndexUpdateListener
Date: Sun, 14 May 2006 22:32:17 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_SORBS_DUL autolearn=no version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 14, 2006, at 1:48 PM, karl wettin wrote:
>> An app using Lucene still needs to coordinate all the activity
>> surrounding IndexReaders and IndexWriters, including explicit  
>> closure,
>> so the app will know anyway when the index has changed, right?
>
> A car could go 600 miles in reverse, but I'd prefere not. :)

Right, so what Yonik is saying is Solr implements most (if not all)  
of your needs in this regard right now.  It is a working  
implementation of your stated end goals, but it is at a different  
layer than you'd like....

>
>> (unless you are talking about adding the callbacks to IndexModifier)
>
> As deep as possible.
>
> All the user would need to know is Directory.getListerners()

At this point we have to stop speculating and someone implement this  
in their local version of Lucene with performance profiling before  
and after listeners are added and ensure that we don't slow Lucene  
down with such things and then contribute the code along with use and  
test cases.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20616-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 15 03:06:33 2006
Return-Path: <java-user-return-20616-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46496 invoked from network); 15 May 2006 03:06:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 May 2006 03:06:32 -0000
Received: (qmail 7827 invoked by uid 500); 15 May 2006 03:06:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7807 invoked by uid 500); 15 May 2006 03:06:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7796 invoked by uid 99); 15 May 2006 03:06:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 20:06:26 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.176] (HELO hnexfe10.hetnet.nl) (195.121.6.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 20:06:24 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe10.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Mon, 15 May 2006 05:06:01 +0200
Subject: Re: IndexUpdateListener
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <08C9FF7A-5997-4FEB-967E-4CB9CDF8BD4E@ehatchersolutions.com>
References: <1147525928.4931.17.camel@localhost>
	 <E1FF6873-3904-44E1-84C4-7A0334D5B556@ehatchersolutions.com>
	 <1147617149.4931.106.camel@localhost>
	 <c68e39170605140750q7d6de2b2i9998daf90d2651f6@mail.gmail.com>
	 <1147628914.4931.115.camel@localhost>
	 <08C9FF7A-5997-4FEB-967E-4CB9CDF8BD4E@ehatchersolutions.com>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Mon, 15 May 2006 05:05:54 +0200
Message-Id: <1147662355.4931.158.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 15 May 2006 03:06:01.0322 (UTC) FILETIME=[7EEE54A0:01C677CC]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Sun, 2006-05-14 at 22:32 -0400, Erik Hatcher wrote:
> On May 14, 2006, at 1:48 PM, karl wettin wrote:
> >> An app using Lucene still needs to coordinate all the activity
> >> surrounding IndexReaders and IndexWriters, including explicit  
> >> closure,
> >> so the app will know anyway when the index has changed, right?
> >
> > A car could go 600 miles in reverse, but I'd prefere not. :)
> 
> Right, so what Yonik is saying is Solr implements most (if not all)  
> of your needs in this regard right now.  It is a working  
> implementation of your stated end goals, but it is at a different  
> layer than you'd like....

Actually, they layer is not such a big problem. I just plain old can't
fit Solr and Tomcat in my environment.

> >> (unless you are talking about adding the callbacks to IndexModifier)
> >
> > As deep as possible.
> >
> > All the user would need to know is Directory.getListerners()
> 
> At this point we have to stop speculating and someone implement this  
> in their local version of Lucene with performance profiling before  
> and after listeners are added and ensure that we don't slow Lucene  
> down with such things and then contribute the code along with use and  
> test cases.

That is of course what I'm getting at. I wrote the topic and pull
sentimental ropes in order to to find where to look and how to
implement.

I'm up for middleware just as well as hacking the core. Thus me asking
and not just hacking.

I'll do some tests.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20617-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 15 03:14:35 2006
Return-Path: <java-user-return-20617-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47801 invoked from network); 15 May 2006 03:14:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 May 2006 03:14:34 -0000
Received: (qmail 11442 invoked by uid 500); 15 May 2006 03:14:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11408 invoked by uid 500); 15 May 2006 03:14:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11397 invoked by uid 99); 15 May 2006 03:14:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 20:14:29 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.177] (HELO hnexfe11.hetnet.nl) (195.121.6.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 20:14:29 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe11.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Mon, 15 May 2006 05:14:06 +0200
Subject: Re: IndexUpdateListener
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <8D163653-3751-469F-A14B-8E9256EB588C@ehatchersolutions.com>
References: <1147525928.4931.17.camel@localhost>
	 <E1FF6873-3904-44E1-84C4-7A0334D5B556@ehatchersolutions.com>
	 <1147617149.4931.106.camel@localhost>
	 <8D163653-3751-469F-A14B-8E9256EB588C@ehatchersolutions.com>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Mon, 15 May 2006 05:14:01 +0200
Message-Id: <1147662841.4931.167.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 15 May 2006 03:14:06.0620 (UTC) FILETIME=[A030EDC0:01C677CD]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Sun, 2006-05-14 at 22:27 -0400, Erik Hatcher wrote:
> What are the boundaries of what you call an "index"?  Is it the  
> current Lucene API, or could it be a service-like layer such as Solr  
> on top of it?

The persistence mechanism. 
So that would be a part of the the current Lucene API.


> > Sending all my requests via some method to catch such 
> > activities feels.. I don't  know.. as the wrong layer
>
> I wonder.

I have no application where it would happen, but a second service layer
could modify the index at some point without notifying the first service
layer.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20618-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 15 03:51:33 2006
Return-Path: <java-user-return-20618-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55488 invoked from network); 15 May 2006 03:51:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 May 2006 03:51:32 -0000
Received: (qmail 6141 invoked by uid 500); 15 May 2006 03:51:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6099 invoked by uid 500); 15 May 2006 03:51:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6086 invoked by uid 99); 15 May 2006 03:51:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 20:51:25 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.166.182 as permitted sender)
Received: from [64.233.166.182] (HELO py-out-1112.google.com) (64.233.166.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 20:51:24 -0700
Received: by py-out-1112.google.com with SMTP id i75so975691pye
        for <java-user@lucene.apache.org>; Sun, 14 May 2006 20:51:04 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=ZzqTPBhViJg+IJID8m+78ViZrpJoGHaRu2x21INyoJRCltkLyVOaOCawByNd2vZ+duMcZDwR7bwu/uEqDLp1xRkGJ6cHe/wnbi/9yS3Xu7QDpo9Zfp5g95iFZ1CuvH2B62L2q+82i2tJhadg67ZlwYfkXoxg7burx5J/kx82oFI=
Received: by 10.35.91.10 with SMTP id t10mr1124677pyl;
        Sun, 14 May 2006 20:51:04 -0700 (PDT)
Received: by 10.35.107.3 with HTTP; Sun, 14 May 2006 20:51:04 -0700 (PDT)
Message-ID: <c68e39170605142051j12cb50cve9de9800da3e9d8d@mail.gmail.com>
Date: Sun, 14 May 2006 23:51:04 -0400
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: IndexUpdateListener
In-Reply-To: <1147662841.4931.167.camel@localhost>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <1147525928.4931.17.camel@localhost>
	 <E1FF6873-3904-44E1-84C4-7A0334D5B556@ehatchersolutions.com>
	 <1147617149.4931.106.camel@localhost>
	 <8D163653-3751-469F-A14B-8E9256EB588C@ehatchersolutions.com>
	 <1147662841.4931.167.camel@localhost>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 5/14/06, karl wettin <kalle@snigel.net> wrote:
> On Sun, 2006-05-14 at 22:27 -0400, Erik Hatcher wrote:
> > What are the boundaries of what you call an "index"?  Is it the
> > current Lucene API, or could it be a service-like layer such as Solr
> > on top of it?
>
> The persistence mechanism.
> So that would be a part of the the current Lucene API.

Subclassing FSDirectory would allow you a hook into create(),
rename(), close(), etc...
Would that meet your needs?

One could also create a Directory  implementation that allowed
listeners to register.  It doesn't seem like something commonly needed
though.


-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20619-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 15 04:10:10 2006
Return-Path: <java-user-return-20619-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62715 invoked from network); 15 May 2006 04:10:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 May 2006 04:10:10 -0000
Received: (qmail 25260 invoked by uid 500); 15 May 2006 04:10:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25212 invoked by uid 500); 15 May 2006 04:10:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25200 invoked by uid 99); 15 May 2006 04:10:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 21:10:01 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 21:10:00 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 2BAC65B780; Sun, 14 May 2006 21:09:33 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 23A337F403
	for <java-user@lucene.apache.org>; Sun, 14 May 2006 21:09:33 -0700 (PDT)
Date: Sun, 14 May 2006 21:09:33 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: IndexUpdateListener
In-Reply-To: <1147628914.4931.115.camel@localhost>
Message-ID: <Pine.LNX.4.58.0605142056170.29361@hal.rescomp.berkeley.edu>
References: <1147525928.4931.17.camel@localhost> 
 <E1FF6873-3904-44E1-84C4-7A0334D5B556@ehatchersolutions.com> 
 <1147617149.4931.106.camel@localhost>  <c68e39170605140750q7d6de2b2i9998daf90d2651f6@mail.gmail.com>
 <1147628914.4931.115.camel@localhost>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: As deep as possible.
:
: All the user would need to know is Directory.getListerners()

I don't really get what the point of such a low level callback mechanism
would be ... do you have uses cases where you're really going to want to
know every time someone uses a Directory object to do something (create a
file, open a file, createa lock, etc..)

THe only usefull callback/listner abstractions i can think of are when you
want to know if someone has finished with a set of changes -- wether that
change is adding one document, deleting one document, or adding/deleting a
whole bunch of documents isn't really relevent, you still want to know
that a complete "set" has been modified, so you aren't constantly flushing
caches or reopening IndexReaders everytime a single document is added.

which means the lowerst level i can imagine a usefull listener hook being
added is hte IndexReader/IndexWriter/IndexModifier APIs -- but even then
what matters isn't the individual method calls, it's the opening and
closing of the objects themselves -- which means either subclassing them
so that when you construct them you tell them who to notify when they get
closed, or it means that you have some factory for creating them and that
factory keeps track of it ... Solr works in the later way.

Anyway I slice it, I can't think of any use cases where it would make
sense to register listeners as low as the IndexReader -- let alone down at
the directory.

Personally: I think the best way to be "notified" that the index is
changed at a really fine level of granularity is to just poll on
IndexReader.getCurrentVersion (and compare with IndexReader.getVersion)
... that way you don't have to worry that you'll get messages to often --
you can poll at whatever rate you want.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20620-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 15 04:36:30 2006
Return-Path: <java-user-return-20620-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69750 invoked from network); 15 May 2006 04:36:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 May 2006 04:36:30 -0000
Received: (qmail 39861 invoked by uid 500); 15 May 2006 04:36:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39832 invoked by uid 500); 15 May 2006 04:36:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39821 invoked by uid 99); 15 May 2006 04:36:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 21:36:24 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.177] (HELO hnexfe11.hetnet.nl) (195.121.6.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 May 2006 21:36:23 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe11.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Mon, 15 May 2006 06:36:00 +0200
Subject: Re: IndexUpdateListener
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <Pine.LNX.4.58.0605142056170.29361@hal.rescomp.berkeley.edu>
References: <1147525928.4931.17.camel@localhost>
	 <E1FF6873-3904-44E1-84C4-7A0334D5B556@ehatchersolutions.com>
	 <1147617149.4931.106.camel@localhost>
	 <c68e39170605140750q7d6de2b2i9998daf90d2651f6@mail.gmail.com>
	 <1147628914.4931.115.camel@localhost>
	 <Pine.LNX.4.58.0605142056170.29361@hal.rescomp.berkeley.edu>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Mon, 15 May 2006 06:35:53 +0200
Message-Id: <1147667754.4931.168.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 15 May 2006 04:36:00.0781 (UTC) FILETIME=[114263D0:01C677D9]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Sun, 2006-05-14 at 21:09 -0700, Chris Hostetter wrote:
> 
> Personally: I think the best way to be "notified" that the index is
> changed at a really fine level of granularity is to just poll on
> IndexReader.getCurrentVersion (and compare with
> IndexReader.getVersion) ... that way you don't have to worry that
> you'll get messages to often -- you can poll at whatever rate you
> want. 

Thats not bad at all. Perhaps I can find a way to select notification
strategy using the same listener interface.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20621-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 15 07:24:05 2006
Return-Path: <java-user-return-20621-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17128 invoked from network); 15 May 2006 07:24:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 May 2006 07:24:04 -0000
Received: (qmail 35160 invoked by uid 500); 15 May 2006 07:23:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35129 invoked by uid 500); 15 May 2006 07:23:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35114 invoked by uid 99); 15 May 2006 07:23:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 00:23:58 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.33.215.142] (HELO expasy-ng.isb-sib.ch) (192.33.215.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 00:23:57 -0700
Received: from [10.0.0.252] (lin-000 [192.33.215.254])
	(authenticated bits=0)
	by expasy-ng.isb-sib.ch (8.12.10/8.12.8) with ESMTP id k4F7NQXF024928
	for <java-user@lucene.apache.org>; Mon, 15 May 2006 09:23:27 +0200
Received: from 127.0.0.1 (AVG SMTP 7.1.392 [268.5.6/339]); Mon, 15 May 2006 09:23:24 +0200
Message-ID: <44682C6C.4040905@isb-sib.ch>
Date: Mon, 15 May 2006 09:23:24 +0200
From: Eric Jain <Eric.Jain@isb-sib.ch>
Organization: Swiss Institute of Bioinformatics
User-Agent: Thunderbird 1.5.0.2 (Windows/20060308)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: IndexUpdateListener
References: <1147525928.4931.17.camel@localhost>  <E1FF6873-3904-44E1-84C4-7A0334D5B556@ehatchersolutions.com>  <1147617149.4931.106.camel@localhost>  <c68e39170605140750q7d6de2b2i9998daf90d2651f6@mail.gmail.com> <1147628914.4931.115.camel@localhost> <Pine.LNX.4.58.0605142056170.29361@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0605142056170.29361@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-sib-MailScanner-Information: Please contact the ISP for more information
X-sib-MailScanner: Found to be clean
X-sib-MailScanner-From: eric.jain@isb-sib.ch
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Chris Hostetter wrote:
> THe only usefull callback/listner abstractions i can think of are when you
> want to know if someone has finished with a set of changes -- wether that
> change is adding one document, deleting one document, or adding/deleting a
> whole bunch of documents isn't really relevent, you still want to know
> that a complete "set" has been modified, so you aren't constantly flushing
> caches or reopening IndexReaders everytime a single document is added.

Speaking of listeners: Would be great if there was a way to know when 
optimize() changes a document ID. Storing document IDs externally is the 
only way to merge Lucene queries with queries in a relational database 
efficiently (as far as I know), but the inability to track document ID 
changes complicates things a bit...

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20622-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 15 12:57:12 2006
Return-Path: <java-user-return-20622-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67587 invoked from network); 15 May 2006 12:56:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 May 2006 12:56:25 -0000
Received: (qmail 11298 invoked by uid 500); 15 May 2006 12:55:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10808 invoked by uid 500); 15 May 2006 12:55:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10797 invoked by uid 99); 15 May 2006 12:55:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 05:55:10 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [141.54.1.3] (HELO tigger.scc.uni-weimar.de) (141.54.1.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 05:55:09 -0700
Received: from [127.0.0.1] (vpnc053.scc.uni-weimar.de [141.54.158.53])
	(authenticated bits=0)
	by tigger.scc.uni-weimar.de (8.13.5/8.13.5) with ESMTP id k4FCsawE016206
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <java-user@lucene.apache.org>; Mon, 15 May 2006 14:54:36 +0200 (MEST)
Message-ID: <44687A09.7090600@uni-weimar.de>
Date: Mon, 15 May 2006 14:54:33 +0200
From: Franz Coriand <coriand@uni-weimar.de>
Organization: Bauhaus-University Weimar, Germany
User-Agent: Thunderbird 1.5.0.2 (Windows/20060308)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Position of a word in a document?
Content-Type: multipart/mixed;
 boundary="------------060504000303020203060207"
X-Greylist: Sender succeeded SMTP AUTH authentication, not delayed by milter-greylist-2.0.2 (tigger.scc.uni-weimar.de [141.54.1.3]); Mon, 15 May 2006 14:54:36 +0200 (MEST)
X-Virus-Scanned: by amavisd-new using NAI at mailgate.uni-weimar.de
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------060504000303020203060207
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit

Hi Lucene-users,

is it possible not only to get the document which contains the words of 
a query, but also get the position in the text of the query word?

Franz


--------------060504000303020203060207
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--------------060504000303020203060207--

From java-user-return-20623-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 15 13:41:16 2006
Return-Path: <java-user-return-20623-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96720 invoked from network); 15 May 2006 13:41:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 May 2006 13:41:12 -0000
Received: (qmail 93228 invoked by uid 500); 15 May 2006 13:40:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93199 invoked by uid 500); 15 May 2006 13:40:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93188 invoked by uid 99); 15 May 2006 13:40:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 06:40:44 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=NO_REAL_NAME,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of pbatcoi@gmx.net designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 15 May 2006 06:40:42 -0700
Received: (qmail 1424 invoked by uid 0); 15 May 2006 13:40:19 -0000
Received: from 212.204.92.222 by www054.gmx.net with HTTP;
	Mon, 15 May 2006 15:40:19 +0200 (MEST)
Date: Mon, 15 May 2006 15:40:19 +0200 (MEST)
From: pbatcoi@gmx.net
To: java-user@lucene.apache.org
MIME-Version: 1.0
References: <44682C6C.4040905@isb-sib.ch>
Subject: Lucene in JBoss
X-Priority: 3 (Normal)
X-Authenticated: #1820601
Message-ID: <2031.1147700419@www054.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

does anyone know an up to date integration of Lucene into JBoss.

ejIndex - JBoss MBean for Lucene seems to be out of date.

Thanks!

Stefan and Peter


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20624-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 15 15:36:35 2006
Return-Path: <java-user-return-20624-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51061 invoked from network); 15 May 2006 15:36:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 May 2006 15:36:35 -0000
Received: (qmail 83450 invoked by uid 500); 15 May 2006 15:36:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83410 invoked by uid 500); 15 May 2006 15:36:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83399 invoked by uid 99); 15 May 2006 15:36:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 08:36:27 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of steve_from_moreover@hotmail.com designates 65.54.224.49 as permitted sender)
Received: from [65.54.224.49] (HELO hotmail.com) (65.54.224.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 08:36:22 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Mon, 15 May 2006 08:36:02 -0700
Message-ID: <BAY105-F39DC4546230E9D8554C4BBB3A30@phx.gbl>
Received: from 65.54.224.200 by by105fd.bay105.hotmail.msn.com with HTTP;
	Mon, 15 May 2006 15:35:57 GMT
X-Originating-IP: [81.19.207.7]
X-Originating-Email: [steve_from_moreover@hotmail.com]
X-Sender: steve_from_moreover@hotmail.com
From: "Steve FromMoreover" <steve_from_moreover@hotmail.com>
To: java-user@lucene.apache.org
Cc: ssmith@mainstreamdata.com
Subject: RE: Can lucene do this?
Date: Mon, 15 May 2006 15:35:57 +0000
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 15 May 2006 15:36:02.0324 (UTC) FILETIME=[459E4D40:01C67835]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Scott,

I saw your email and thought of some work I have been doing recently for 
matching text on the fly.  If you are not going to be keeping the emails for 
later searching then this may provide a faster and easier way of checking 
your email.  It involves using monq which is a java api - 
http://www.ebi.ac.uk/Rebholz-srv/whatizit/software

http://www.ebi.ac.uk/~kirsch/JfaWiki/index.php/Main_Page

As your emails come in you can pass them through this software and any 
matched regular expressions will trigger java callbacks.  The best bit is 
that no matter how many regular expressions you have (I tried 30,000) you 
can process 1Mb per second of data, this is because the program just runs 
through the Finite State Automaton that gets created one character at a 
time... (this is demoed graphically here - 
http://www-sr.informatik.uni-tuebingen.de/~buehler/AC/AC.html if you choose 
the Aho/Corasick algorithm)

Anyways, off topic, so if you want more advice I can email you direct and 
I'm sure someone else on the list can help you out with the Lucene-related 
answer...

Ta

steve

-----Original Message-----
From: Scott Smith [mailto:ssmith@mainstreamdata.com]
Sent: 12 May 2006 02:29
To: lucene-user@jakarta.apache.org
Subject: Can lucene do this?

I'm building an application which has to provide "real-time" searching of 
emails as they come in.  I have a number of search strings that I need to 
apply against each email as it comes in and then do something with the email 
based on which search string(s) get a hit.



My initial thought was to create a lucene index of the emails received in 
the last N seconds (where N is around 5 since I don't have to be quite 
real-time) in a memory directory, do my searches and then delete the index 
and create a new index for emails received in the next 5
seconds.   I'm a little concerned because the number of search strings
will probably grow over time and so there is a bit of a scalability 
issue-though I'm not sure there's anyway around that other than doing 
parallel processing on different machines.



I'm wondering if anyone has any experience doing this kind of thing and has 
additional or alternate suggestions??



Scott

_________________________________________________________________
Are you using the latest version of MSN Messenger? Download MSN Messenger 
7.5 today! http://join.msn.com/messenger/overview


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20625-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 15 17:51:57 2006
Return-Path: <java-user-return-20625-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18101 invoked from network); 15 May 2006 17:51:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 May 2006 17:51:53 -0000
Received: (qmail 16077 invoked by uid 500); 15 May 2006 17:51:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16050 invoked by uid 500); 15 May 2006 17:51:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16039 invoked by uid 99); 15 May 2006 17:51:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 10:51:43 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of isaacrc82@gmail.com designates 64.233.182.186 as permitted sender)
Received: from [64.233.182.186] (HELO nf-out-0910.google.com) (64.233.182.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 10:51:43 -0700
Received: by nf-out-0910.google.com with SMTP id m18so77419nfc
        for <java-user@lucene.apache.org>; Mon, 15 May 2006 10:51:21 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=Rxlv+7WBew3g/DNBUEv/y+arvBeqSmv2PhjstrmJhKJfhpYV4PzMlobb7nUP51KLqgtFtEywotbsQeKHjebCATOrurd5xaE1PnECPql99KoJq0TFSi3lpIhlGhMhACzAmAVITYECuAepc+ySr6XYUt0bt75tP3LAD/B397MzLfU=
Received: by 10.48.213.13 with SMTP id l13mr3689557nfg;
        Mon, 15 May 2006 10:51:21 -0700 (PDT)
Received: by 10.49.88.4 with HTTP; Mon, 15 May 2006 10:51:21 -0700 (PDT)
Message-ID: <bf1404350605151051t1a8a22ebw4d5288c82e1c4d67@mail.gmail.com>
Date: Mon, 15 May 2006 12:51:21 -0500
From: "Ariel Isaac Romero" <isaacrc82@gmail.com>
To: java-user@lucene.apache.org
Subject: How to merge lucene indexes ???
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_67312_13468156.1147715481471"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_67312_13468156.1147715481471
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

  Hi every body:

   I need to know how to merge an index into another.

   I have a master index whose another indexes are added to it from others
nodes . I want to merge indexes from the

others nodes to master index, I made this method:

      public void merge(String MasterIndexDir, String IndexToMerge) {

            FSDirectory fsDir;
            try {
                fsDir =3D FSDirectory.getDirectory(IndexDir, false);
                IndexReader indexToMerge =3D IndexReader.open(IndexToMerge)=
;
                AnalyzerHandler analyzer =3D new AnalyzerHandler();
                IndexWriter fsWriter =3D new IndexWriter(fsDir,
analyzer.getAnalyzer(), false);

                fsWriter.addIndexes(new IndexReader[] {indexToMerge});
                fsWriter.close();

            } catch (IOException e) {
                System.err.println(e.getMessage());
                e.printStackTrace();
            }


    }

But with this method I get the following exception:

Lock obtain timed out: Lock@C:\DOCUME~1\a\LOCALS~1\Temp\lucene-
f9488d465badf2bf80c713184c580f65-write.lock
java.io.IOException: Lock obtain timed out: Lock@C
:\DOCUME~1\aromero\LOCALS~1\Temp\lucene-
f9488d465badf2bf80c713184c580f65-write.lock
    at org.apache.lucene.store.Lock.obtain(Lock.java:58)
    at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:223)
    at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:213)
    at cu.co.cenatav.kernel.indexing.MergeIndexes.merge(MergeIndexes.java
:18)
    at cu.co.cenatav.kernel.indexing.MergeIndexes.main(MergeIndexes.java:36=
)

Could you help me ???
I don't know why this is happening ???

Sorry for my english.

------=_Part_67312_13468156.1147715481471--

From java-user-return-20626-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 15 18:07:47 2006
Return-Path: <java-user-return-20626-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24527 invoked from network); 15 May 2006 18:07:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 May 2006 18:07:47 -0000
Received: (qmail 43621 invoked by uid 500); 15 May 2006 18:07:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43592 invoked by uid 500); 15 May 2006 18:07:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43581 invoked by uid 99); 15 May 2006 18:07:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 11:07:40 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.14 as permitted sender)
Received: from [80.67.18.14] (HELO smtprelay02.ispgateway.de) (80.67.18.14)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 11:07:39 -0700
Received: (qmail 23818 invoked from network); 15 May 2006 18:07:16 -0000
Received: from unknown (HELO p5496f2fe.dip.t-dialin.net) ([pbs]695637@[84.150.242.254])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 15 May 2006 18:07:16 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: How to merge lucene indexes ???
Date: Mon, 15 May 2006 20:07:43 +0200
User-Agent: KMail/1.8.2
References: <bf1404350605151051t1a8a22ebw4d5288c82e1c4d67@mail.gmail.com>
In-Reply-To: <bf1404350605151051t1a8a22ebw4d5288c82e1c4d67@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200605152007.44046@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Montag 15 Mai 2006 19:51, Ariel Isaac Romero wrote:

> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 IndexReader index=
ToMerge =3D
> IndexReader.open(IndexToMerge); AnalyzerHandler analyzer =3D new
> AnalyzerHandler(); IndexWriter fsWriter =3D new IndexWriter(fsDir,
> analyzer.getAnalyzer(), false);

Don't open a reader, supply an array of Directories instead and use an=20
IndexWriter that creates a new index (true as last parameter).

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20627-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 15 18:22:32 2006
Return-Path: <java-user-return-20627-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32498 invoked from network); 15 May 2006 18:22:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 May 2006 18:22:31 -0000
Received: (qmail 68499 invoked by uid 500); 15 May 2006 18:22:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68466 invoked by uid 500); 15 May 2006 18:22:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68448 invoked by uid 99); 15 May 2006 18:22:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 11:22:24 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.14 as permitted sender)
Received: from [80.67.18.14] (HELO smtprelay02.ispgateway.de) (80.67.18.14)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 11:22:23 -0700
Received: (qmail 25921 invoked from network); 15 May 2006 18:22:02 -0000
Received: from unknown (HELO p5496e59a.dip.t-dialin.net) ([pbs]695637@[84.150.229.154])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 15 May 2006 18:22:02 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Position of a word in a document?
Date: Mon, 15 May 2006 20:22:30 +0200
User-Agent: KMail/1.8.2
References: <44687A09.7090600@uni-weimar.de>
In-Reply-To: <44687A09.7090600@uni-weimar.de>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605152022.30239@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Montag 15 Mai 2006 14:54, Franz Coriand wrote:

> is it possible not only to get the document which contains the words of
> a query, but also get the position in the text of the query word?

Yes, by using the term vectors with positions that were added in Lucene 1.9 
(see class Field.TermVector). Or you could re-analyze the text and iterate 
over the tokens returned by the analyzer.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20628-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 15 19:10:24 2006
Return-Path: <java-user-return-20628-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50526 invoked from network); 15 May 2006 19:10:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 May 2006 19:10:24 -0000
Received: (qmail 33576 invoked by uid 500); 15 May 2006 19:10:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33501 invoked by uid 500); 15 May 2006 19:10:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33490 invoked by uid 99); 15 May 2006 19:10:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 12:10:15 -0700
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of isaacrc82@gmail.com designates 64.233.182.187 as permitted sender)
Received: from [64.233.182.187] (HELO nf-out-0910.google.com) (64.233.182.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 12:10:14 -0700
Received: by nf-out-0910.google.com with SMTP id o60so232811nfa
        for <java-user@lucene.apache.org>; Mon, 15 May 2006 12:09:53 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=KAOtax4GyMDFn9q9vlRqF+grEjgfJzmPg7zCW/VucBp3KHknnSsP73UavWDclteXLN0u1eL1bQbatkv1uQlTcgZqXGzlc8BncxWMzbFeURoaoZuosBMnO8qh1h4noIxqgNUC1oXdrucUC9TfrWCVgiIEJhTgdZaChr+jR/TUY9o=
Received: by 10.48.223.11 with SMTP id v11mr2287235nfg;
        Mon, 15 May 2006 12:09:53 -0700 (PDT)
Received: by 10.49.88.4 with HTTP; Mon, 15 May 2006 12:09:53 -0700 (PDT)
Message-ID: <bf1404350605151209w7014a195h77619e79192ef224@mail.gmail.com>
Date: Mon, 15 May 2006 14:09:53 -0500
From: "Ariel Isaac Romero" <isaacrc82@gmail.com>
To: java-user@lucene.apache.org, lucenelist2005@danielnaber.de
Subject: Re: How to merge lucene indexes ???
In-Reply-To: <200605152007.44046@danielnaber.de>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_68710_33071245.1147720193592"
References: <bf1404350605151051t1a8a22ebw4d5288c82e1c4d67@mail.gmail.com>
	 <200605152007.44046@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_68710_33071245.1147720193592
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I think that do not solve my problem, because the line who's throwing the
exception is this :

IndexWriter fsWriter =3D new IndexWriter(fsDir, analyzer.getAnalyzer(),
false);

Besides if I create a new master index each time I'm going to merge them
I'd lose others indexes I have merged into master index before, that's why =
I
can't put the boolean parameter true.
I really need help, please.
I'm open to any suggestion.


On 5/15/06, Daniel Naber <lucenelist2005@danielnaber.de> wrote:
>
> On Montag 15 Mai 2006 19:51, Ariel Isaac Romero wrote:
>
> > IndexReader indexToMerge =3D
> > IndexReader.open(IndexToMerge); AnalyzerHandler analyzer =3D new
> > AnalyzerHandler(); IndexWriter fsWriter =3D new IndexWriter(fsDir,
> > analyzer.getAnalyzer(), false);
>
> Don't open a reader, supply an array of Directories instead and use an
> IndexWriter that creates a new index (true as last parameter).
>
> Regards
> Daniel
>
> --
> http://www.danielnaber.de
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_68710_33071245.1147720193592--

From java-user-return-20629-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 15 19:29:09 2006
Return-Path: <java-user-return-20629-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64417 invoked from network); 15 May 2006 19:29:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 May 2006 19:29:09 -0000
Received: (qmail 57415 invoked by uid 500); 15 May 2006 19:29:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57386 invoked by uid 500); 15 May 2006 19:29:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57375 invoked by uid 99); 15 May 2006 19:29:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 12:29:02 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.15 as permitted sender)
Received: from [80.67.18.15] (HELO smtprelay03.ispgateway.de) (80.67.18.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 12:29:00 -0700
Received: (qmail 30415 invoked from network); 15 May 2006 19:28:38 -0000
Received: from unknown (HELO p5496e384.dip.t-dialin.net) ([pbs]695637@[84.150.227.132])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay03.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 15 May 2006 19:28:38 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: How to merge lucene indexes ???
Date: Mon, 15 May 2006 21:29:05 +0200
User-Agent: KMail/1.8.2
References: <bf1404350605151051t1a8a22ebw4d5288c82e1c4d67@mail.gmail.com> <200605152007.44046@danielnaber.de> <bf1404350605151209w7014a195h77619e79192ef224@mail.gmail.com>
In-Reply-To: <bf1404350605151209w7014a195h77619e79192ef224@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605152129.05989@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Montag 15 Mai 2006 21:09, Ariel Isaac Romero wrote:

> I'd lose others indexes I have merged into master index before, that's
> why I can't put the boolean parameter true.

Use the "true" parameter to create a *new* index, not to overwrite an 
existing one.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20630-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 15 19:45:44 2006
Return-Path: <java-user-return-20630-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68953 invoked from network); 15 May 2006 19:45:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 May 2006 19:45:43 -0000
Received: (qmail 76413 invoked by uid 500); 15 May 2006 19:45:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76312 invoked by uid 500); 15 May 2006 19:45:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76251 invoked by uid 99); 15 May 2006 19:45:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 12:45:29 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 12:45:28 -0700
Received: from root by ciao.gmane.org with local (Exim 4.43)
	id 1Ffj01-0005fQ-RE
	for java-user@lucene.apache.org; Mon, 15 May 2006 21:45:01 +0200
Received: from mail2.hayesinc.com ([207.10.43.2])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Mon, 15 May 2006 21:45:01 +0200
Received: from aperez by mail2.hayesinc.com with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Mon, 15 May 2006 21:45:01 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  Arturo Perez <aperez@hayesinc.com>
Subject:  Re: Position of a word in a document?
Date: Mon, 15 May 2006 19:34:59 +0000 (UTC)
Lines: 12
Message-ID:  <loom.20060515T213352-77@post.gmane.org>
References:  <44687A09.7090600@uni-weimar.de> <200605152022.30239@danielnaber.de>
Mime-Version:  1.0
Content-Type:  text/plain; charset=us-ascii
Content-Transfer-Encoding:  7bit
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: main.gmane.org
User-Agent: Loom/3.14 (http://gmane.org/)
X-Loom-IP: 207.10.43.2 (Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.0.3) Gecko/20060426 Firefox/1.5.0.3)
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Daniel Naber <lucenelist2005 <at> danielnaber.de> writes:
> On Montag 15 Mai 2006 14:54, Franz Coriand wrote:
> > is it possible not only to get the document which contains the words of
> > a query, but also get the position in the text of the query word?
> 
> Yes, by using the term vectors with positions that were added in Lucene 1.9 
>  Daniel

Does this mean that the Highlighter needs to be redone to take advantage of
this?  Or has the highlighter already been updated?




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20631-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 15 20:32:51 2006
Return-Path: <java-user-return-20631-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85336 invoked from network); 15 May 2006 20:32:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 May 2006 20:32:50 -0000
Received: (qmail 39426 invoked by uid 500); 15 May 2006 20:32:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39141 invoked by uid 500); 15 May 2006 20:32:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39130 invoked by uid 99); 15 May 2006 20:32:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 13:32:44 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.14 as permitted sender)
Received: from [80.67.18.14] (HELO smtprelay02.ispgateway.de) (80.67.18.14)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 13:32:43 -0700
Received: (qmail 24696 invoked from network); 15 May 2006 20:32:20 -0000
Received: from unknown (HELO p5496e419.dip.t-dialin.net) ([pbs]695637@[84.150.228.25])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 15 May 2006 20:32:20 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Position of a word in a document?
Date: Mon, 15 May 2006 22:32:48 +0200
User-Agent: KMail/1.8.2
References: <44687A09.7090600@uni-weimar.de> <200605152022.30239@danielnaber.de> <loom.20060515T213352-77@post.gmane.org>
In-Reply-To: <loom.20060515T213352-77@post.gmane.org>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200605152232.48198@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Montag 15 Mai 2006 21:34, Arturo Perez wrote:

> Does this mean that the Highlighter needs to be redone to take advantage
> of this? =C2=A0Or has the highlighter already been updated?

No, it has not been updated yet.

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20632-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 15 21:07:52 2006
Return-Path: <java-user-return-20632-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95875 invoked from network); 15 May 2006 21:07:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 May 2006 21:07:52 -0000
Received: (qmail 81994 invoked by uid 500); 15 May 2006 21:07:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81969 invoked by uid 500); 15 May 2006 21:07:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81956 invoked by uid 99); 15 May 2006 21:07:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 14:07:46 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [12.154.210.214] (HELO rectangular.com) (12.154.210.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 14:07:45 -0700
Received: from p00.ohwy.com ([12.154.210.213] helo=[192.168.4.223])
	by rectangular.com with esmtpa (Exim 4.44)
	id 1FfkP2-000OH7-5q
	for java-user@lucene.apache.org; Mon, 15 May 2006 14:14:56 -0700
Mime-Version: 1.0 (Apple Message framework v750)
Content-Transfer-Encoding: 7bit
Message-Id: <CFF2E15D-61B3-4E8E-8000-0FAEFAB0874E@rectangular.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: Marvin Humphrey <marvin@rectangular.com>
Subject: Aggregating category hits
Date: Mon, 15 May 2006 14:07:22 -0700
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Greets,

If you needed to know not just the total number of hits, but the  
number of hits in each "category", how would you handle that?

For instance, a search for "egg" would have to produce the 20 most  
relevant documents for "egg", but also a list like this:

     Holiday & Seasonal / Easter     75
     Books / Cooking                 52
     Miscellaneous                   44
     Kitchen Collectibles            43
     Hobbies / Crafts                17
     [...]

It seems to me that you'd have to retrieve each hit's stored fields  
and examine the contents of a "category" field.  That's a lot of  
overhead.  Is there another way?

Marvin Humphrey
Rectangular Research
http://www.rectangular.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20633-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 15 21:17:02 2006
Return-Path: <java-user-return-20633-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99009 invoked from network); 15 May 2006 21:17:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 May 2006 21:17:01 -0000
Received: (qmail 5066 invoked by uid 500); 15 May 2006 21:16:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5034 invoked by uid 500); 15 May 2006 21:16:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5023 invoked by uid 99); 15 May 2006 21:16:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 14:16:55 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 14:16:54 -0700
Received: from [192.168.0.252] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id k4FLGnN24456
	for <java-user@lucene.apache.org>; Mon, 15 May 2006 16:16:49 -0500
Message-ID: <4468EF39.1050604@getopt.org>
Date: Mon, 15 May 2006 23:14:33 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Thunderbird 1.5.0.2 (Windows/20060308)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Aggregating category hits
References: <CFF2E15D-61B3-4E8E-8000-0FAEFAB0874E@rectangular.com>
In-Reply-To: <CFF2E15D-61B3-4E8E-8000-0FAEFAB0874E@rectangular.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Marvin Humphrey wrote:
> Greets,
>
> If you needed to know not just the total number of hits, but the 
> number of hits in each "category", how would you handle that?
>
> For instance, a search for "egg" would have to produce the 20 most 
> relevant documents for "egg", but also a list like this:
>
>     Holiday & Seasonal / Easter     75
>     Books / Cooking                 52
>     Miscellaneous                   44
>     Kitchen Collectibles            43
>     Hobbies / Crafts                17
>     [...]
>
> It seems to me that you'd have to retrieve each hit's stored fields 
> and examine the contents of a "category" field.  That's a lot of 
> overhead.  Is there another way?

Statistical sampling of results and estimation, that's what I use ... 
for large result sets works reasonably well, for small result sets I 
just pay the penalty of retrieving all docs.

Also, take a look at the following: 
http://www2005.org/cdrom/docs/p245.pdf, "Sampling Search-Engine Results",
A. Anagnostopoulos, A. Z. Broder, D. Carmel .

-- 
Best regards,
Andrzej Bialecki     <><
 ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20634-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 15 22:37:15 2006
Return-Path: <java-user-return-20634-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20064 invoked from network); 15 May 2006 22:37:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 May 2006 22:37:15 -0000
Received: (qmail 41156 invoked by uid 500); 15 May 2006 22:37:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41126 invoked by uid 500); 15 May 2006 22:37:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41115 invoked by uid 99); 15 May 2006 22:37:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 15:37:09 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.177] (HELO hnexfe11.hetnet.nl) (195.121.6.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 15:37:05 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe11.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Tue, 16 May 2006 00:36:43 +0200
Subject: Re: IndexUpdateListener
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <1147667754.4931.168.camel@localhost>
References: <1147525928.4931.17.camel@localhost>
	 <E1FF6873-3904-44E1-84C4-7A0334D5B556@ehatchersolutions.com>
	 <1147617149.4931.106.camel@localhost>
	 <c68e39170605140750q7d6de2b2i9998daf90d2651f6@mail.gmail.com>
	 <1147628914.4931.115.camel@localhost>
	 <Pine.LNX.4.58.0605142056170.29361@hal.rescomp.berkeley.edu>
	 <1147667754.4931.168.camel@localhost>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Tue, 16 May 2006 00:36:33 +0200
Message-Id: <1147732593.4931.328.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 15 May 2006 22:36:43.0343 (UTC) FILETIME=[0A7025F0:01C67870]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Mon, 2006-05-15 at 06:35 +0200, karl wettin wrote:

> Perhaps I can find a way to select notification strategy using
> the same listener interface.

I mostly look for the Solr-kind-of-solution for now, but I will
absolutely keep my mind set on that the layer should allow hooks deep in
the code.

I'm considering a couple of things. Feel free to comment: 

0. One notification service instance per index. A listener could however
be bound to multiple services. (Perhaps an index is a notification
service.)

1. IndexReader and IndexWriter facades as inner classes of the
notification service. I think this is my favorite so far. It would work
with any persistence. Somewhat problematic as there are protected
methods s.a. doSetNorm of IndexReader. Nothing that can't be fixed.

class WriterFacade extendes Writer {
    private final IndexWriter writer;
    private final List<Document> newDocuments;
    public WriterFacade (IndexWriter writer) {
        this.writer=writer;
    }
    public addDocument(.. {
        writer.addDocument( ..;
        newDocuments.add(doc)
    }
    public close() {
        NotificationService.this.notifyCreate(
    }
}

2. Adding call back hooks in the code. Could be difficult to keep track
of the notification service everywhere. 

3. Passive checksum tests of version numbers, docCount et.c. Will
require some kind of cron tab. 

4. All of above. The notification service can be associated with one
hook per notification type.



The following I'm quite certain at:

/** one per index. or perhaps a part of an index? */
class NotificationService {
        Set<UpdateListener> updateListeners..
    Set<CreateListener> createListeners..

    registerListener(..

    notifyUpdate(..
}

interface UpdateListener {
    /** General index update trigger. */
    void onDelete(NotificationService service);
}
interface CreateListener {
    /** is int[] easy available? */
    void onDelete(NotificationService service,
                  Document[] documents);
}

interface DeleteListener {
    void onDelete(NotificationService service,
                  int[] documentNumbers);
}

/** this will require deep hooks in code */
interface OptimizeListener {
    void onOptimization(NotificationService service,
                        int[] fromDocumentNumbers, 
                        int[] toDocumentNumbers);
}



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20635-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 15 22:45:34 2006
Return-Path: <java-user-return-20635-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22288 invoked from network); 15 May 2006 22:45:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 May 2006 22:45:33 -0000
Received: (qmail 49252 invoked by uid 500); 15 May 2006 22:45:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49225 invoked by uid 500); 15 May 2006 22:45:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49214 invoked by uid 99); 15 May 2006 22:45:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 15:45:26 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 15:45:25 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id AA57633CAA4; Mon, 15 May 2006 18:45:04 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id EE11A33CAA1
	for <java-user@lucene.apache.org>; Mon, 15 May 2006 18:45:03 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <CFF2E15D-61B3-4E8E-8000-0FAEFAB0874E@rectangular.com>
References: <CFF2E15D-61B3-4E8E-8000-0FAEFAB0874E@rectangular.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F5DB9BBC-80DC-4DD8-AC25-8BE6C88A7CB7@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Aggregating category hits
Date: Mon, 15 May 2006 18:45:01 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_SORBS_DUL autolearn=no version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 15, 2006, at 5:07 PM, Marvin Humphrey wrote:
> If you needed to know not just the total number of hits, but the  
> number of hits in each "category", how would you handle that?
>
> For instance, a search for "egg" would have to produce the 20 most  
> relevant documents for "egg", but also a list like this:
>
>     Holiday & Seasonal / Easter     75
>     Books / Cooking                 52
>     Miscellaneous                   44
>     Kitchen Collectibles            43
>     Hobbies / Crafts                17
>     [...]
>
> It seems to me that you'd have to retrieve each hit's stored fields  
> and examine the contents of a "category" field.  That's a lot of  
> overhead.  Is there another way?

My first implementation of faceted browsing uses BitSet's that get  
pre-loaded for each category value (each unique term in a "category"  
field, for example).  And to intersect that with an actual Query, it  
gets run through the QueryFilter to get its BitSet and then AND'd  
together with each of the category BitSet's.  Sounds like a lot, but  
for my applications there are not tons of these BitSet's and the  
performance has been outstanding.  Now that I'm doing more with Solr,  
I'm beginning to leverage its amazing caching infrastructure and  
replacing BitSet's with DocSet's.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20636-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 16 05:34:30 2006
Return-Path: <java-user-return-20636-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15879 invoked from network); 16 May 2006 05:34:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2006 05:34:30 -0000
Received: (qmail 30079 invoked by uid 500); 16 May 2006 05:34:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30048 invoked by uid 500); 16 May 2006 05:34:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30037 invoked by uid 99); 16 May 2006 05:34:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 22:34:24 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [203.92.45.229] (HELO noidagw01.naukri.com) (203.92.45.229)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 May 2006 22:34:23 -0700
Received: from [192.168.2.40] ([192.168.2.40])
	by noidagw01.naukri.com (8.13.4/8.13.4) with ESMTP id k4G5ScRq022274
	for <java-user@lucene.apache.org>; Tue, 16 May 2006 10:58:39 +0530
Message-ID: <44696521.40008@naukri.com>
Date: Tue, 16 May 2006 11:07:37 +0530
From: Kapil Chhabra <kapil.chhabra@naukri.com>
User-Agent: Thunderbird 1.5 (X11/20060313)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Aggregating category hits
References: <CFF2E15D-61B3-4E8E-8000-0FAEFAB0874E@rectangular.com> <F5DB9BBC-80DC-4DD8-AC25-8BE6C88A7CB7@ehatchersolutions.com>
In-Reply-To: <F5DB9BBC-80DC-4DD8-AC25-8BE6C88A7CB7@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Even I am doing the same in my application.
Once in a day, all the filters [for different categories] are 
initialized. Each time a query is fired, the Query BitSet is ANDed with 
the BitSet of each filter. The cardinality obtained is the desired output.
@Eric: I would like to know more about the implementation with DocSet in 
place of Bitset.

Regards,
kapilChhabra


Erik Hatcher wrote:
>
> On May 15, 2006, at 5:07 PM, Marvin Humphrey wrote:
>> If you needed to know not just the total number of hits, but the 
>> number of hits in each "category", how would you handle that?
>>
>> For instance, a search for "egg" would have to produce the 20 most 
>> relevant documents for "egg", but also a list like this:
>>
>> Holiday & Seasonal / Easter 75
>> Books / Cooking 52
>> Miscellaneous 44
>> Kitchen Collectibles 43
>> Hobbies / Crafts 17
>> [...]
>>
>> It seems to me that you'd have to retrieve each hit's stored fields 
>> and examine the contents of a "category" field. That's a lot of 
>> overhead. Is there another way?
>
> My first implementation of faceted browsing uses BitSet's that get 
> pre-loaded for each category value (each unique term in a "category" 
> field, for example). And to intersect that with an actual Query, it 
> gets run through the QueryFilter to get its BitSet and then AND'd 
> together with each of the category BitSet's. Sounds like a lot, but 
> for my applications there are not tons of these BitSet's and the 
> performance has been outstanding. Now that I'm doing more with Solr, 
> I'm beginning to leverage its amazing caching infrastructure and 
> replacing BitSet's with DocSet's.
>
> Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20637-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 16 07:03:18 2006
Return-Path: <java-user-return-20637-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39007 invoked from network); 16 May 2006 07:03:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2006 07:03:17 -0000
Received: (qmail 93080 invoked by uid 500); 16 May 2006 07:03:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93049 invoked by uid 500); 16 May 2006 07:03:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93038 invoked by uid 99); 16 May 2006 07:03:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 00:03:10 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.72.192.242] (HELO fmmailgate04.web.de) (217.72.192.242)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 00:03:08 -0700
Received: by fmmailgate04.web.de (8.12.10/8.12.10/webde Linux 0.7) with SMTP id k4G72jAg003243 
        for <java-user@lucene.apache.org>; Tue, 16 May 2006 09:02:46 +0200
Received: from [80.242.161.211] by freemailng9902.web.de with HTTP;
	Tue, 16 May 2006 09:02:44 +0200
Date: Tue, 16 May 2006 09:02:44 +0200
Message-Id: <303648608@web.de>
MIME-Version: 1.0
From: Mathias Keilbach <mathias.keilbach@web.de>
To: java-user@lucene.apache.org
Subject: Analyzer which distributes tokens to many fields
Organization: http://freemail.web.de/
Content-Type: text/plain; charset=iso-8859-15
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi!

I'm going to create a small application with Lucene, which analyze diffenrent Strings. While analyzing the strings, patterns (like emails or urls) shall be sort out and saved in a seperate index field.
I'm not sure if I can handle this with a self implemented Analyzer class. Afaik you can't distribute single tokens to different fields while analyzing a field.
At the worst I have to distribute the tokens in a first step and then analyze them in a second step.
Have anyone an idea how to handle this case with lucene in a better way than mine?

Thankfull for any advice!

So long!

Mathew
_______________________________________________________________
SMS schreiben mit WEB.DE FreeMail - einfach, schnell und
kostenguenstig. Jetzt gleich testen! http://f.web.de/?mc=021192


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20638-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 16 08:31:34 2006
Return-Path: <java-user-return-20638-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78271 invoked from network); 16 May 2006 08:31:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2006 08:31:34 -0000
Received: (qmail 16970 invoked by uid 500); 16 May 2006 08:31:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16286 invoked by uid 500); 16 May 2006 08:31:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16275 invoked by uid 99); 16 May 2006 08:31:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 01:31:26 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ramana.jelda@ciao-group.com designates 194.112.113.90 as permitted sender)
Received: from [194.112.113.90] (HELO pigeon.ciao.com) (194.112.113.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 01:31:25 -0700
Received: from Jelda (gateway.ciao.com [194.221.9.215])
	by pigeon.ciao.com (8.13.3/8.13.3) with ESMTP id k4G8Uxtp003645
	for <java-user@lucene.apache.org>; Tue, 16 May 2006 10:31:01 +0200 (CEST)
	(envelope-from ramana.jelda@ciao-group.com)
Message-Id: <200605160831.k4G8Uxtp003645@pigeon.ciao.com>
From: "Ramana Jelda" <ramana.jelda@ciao-group.com>
To: <java-user@lucene.apache.org>
Subject: RE: Aggregating category hits
Date: Tue, 16 May 2006 10:30:54 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <44696521.40008@naukri.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
Thread-Index: AcZ4qmpP6QtagGsrQRS8tp/EztjvAQAGA/HA
X-Scanned-By: MIMEDefang 2.52 on 194.112.113.90
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

But this BitSet strategy is more memory consuming mainly if you have
documents in million numbers and categories in thousands.
So I preferred in my project FieldCache strategy.

Jelda

> -----Original Message-----
> From: Kapil Chhabra [mailto:kapil.chhabra@naukri.com] 
> Sent: Tuesday, May 16, 2006 7:38 AM
> To: java-user@lucene.apache.org
> Subject: Re: Aggregating category hits
> 
> Even I am doing the same in my application.
> Once in a day, all the filters [for different categories] are 
> initialized. Each time a query is fired, the Query BitSet is 
> ANDed with the BitSet of each filter. The cardinality 
> obtained is the desired output.
> @Eric: I would like to know more about the implementation 
> with DocSet in place of Bitset.
> 
> Regards,
> kapilChhabra
> 
> 
> Erik Hatcher wrote:
> >
> > On May 15, 2006, at 5:07 PM, Marvin Humphrey wrote:
> >> If you needed to know not just the total number of hits, but the 
> >> number of hits in each "category", how would you handle that?
> >>
> >> For instance, a search for "egg" would have to produce the 20 most 
> >> relevant documents for "egg", but also a list like this:
> >>
> >> Holiday & Seasonal / Easter 75
> >> Books / Cooking 52
> >> Miscellaneous 44
> >> Kitchen Collectibles 43
> >> Hobbies / Crafts 17
> >> [...]
> >>
> >> It seems to me that you'd have to retrieve each hit's 
> stored fields 
> >> and examine the contents of a "category" field. That's a lot of 
> >> overhead. Is there another way?
> >
> > My first implementation of faceted browsing uses BitSet's that get 
> > pre-loaded for each category value (each unique term in a "category"
> > field, for example). And to intersect that with an actual Query, it 
> > gets run through the QueryFilter to get its BitSet and then AND'd 
> > together with each of the category BitSet's. Sounds like a lot, but 
> > for my applications there are not tons of these BitSet's and the 
> > performance has been outstanding. Now that I'm doing more 
> with Solr, 
> > I'm beginning to leverage its amazing caching infrastructure and 
> > replacing BitSet's with DocSet's.
> >
> > Erik
> >
> >
> > 
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20639-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 16 09:33:56 2006
Return-Path: <java-user-return-20639-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99956 invoked from network); 16 May 2006 09:33:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2006 09:33:50 -0000
Received: (qmail 10227 invoked by uid 500); 16 May 2006 09:33:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10194 invoked by uid 500); 16 May 2006 09:33:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10183 invoked by uid 99); 16 May 2006 09:33:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 02:33:40 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 02:33:39 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id B827233CABF; Tue, 16 May 2006 05:33:18 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id DB60833CABC
	for <java-user@lucene.apache.org>; Tue, 16 May 2006 05:33:17 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <44696521.40008@naukri.com>
References: <CFF2E15D-61B3-4E8E-8000-0FAEFAB0874E@rectangular.com> <F5DB9BBC-80DC-4DD8-AC25-8BE6C88A7CB7@ehatchersolutions.com> <44696521.40008@naukri.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <A37D4EFA-E2A8-4EBA-95C6-8067A2641F19@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Aggregating category hits
Date: Tue, 16 May 2006 05:33:12 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_SORBS_DUL autolearn=no version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 16, 2006, at 1:37 AM, Kapil Chhabra wrote:
> Even I am doing the same in my application.
> Once in a day, all the filters [for different categories] are  
> initialized. Each time a query is fired, the Query BitSet is ANDed  
> with the BitSet of each filter. The cardinality obtained is the  
> desired output.
> @Eric: I would like to know more about the implementation with  
> DocSet in place of Bitset.

I'm still in progress with migration to Solr's infrastructure.   
Regarding the other issue Jelda brought up about memory - another  
handy thing about Solr is that it caches things into a configurable  
LRU cache which allows memory usage to be controlled at the expense  
of performance with cache misses.

	Erik


>
> Regards,
> kapilChhabra
>
>
> Erik Hatcher wrote:
>>
>> On May 15, 2006, at 5:07 PM, Marvin Humphrey wrote:
>>> If you needed to know not just the total number of hits, but the  
>>> number of hits in each "category", how would you handle that?
>>>
>>> For instance, a search for "egg" would have to produce the 20  
>>> most relevant documents for "egg", but also a list like this:
>>>
>>> Holiday & Seasonal / Easter 75
>>> Books / Cooking 52
>>> Miscellaneous 44
>>> Kitchen Collectibles 43
>>> Hobbies / Crafts 17
>>> [...]
>>>
>>> It seems to me that you'd have to retrieve each hit's stored  
>>> fields and examine the contents of a "category" field. That's a  
>>> lot of overhead. Is there another way?
>>
>> My first implementation of faceted browsing uses BitSet's that get  
>> pre-loaded for each category value (each unique term in a  
>> "category" field, for example). And to intersect that with an  
>> actual Query, it gets run through the QueryFilter to get its  
>> BitSet and then AND'd together with each of the category BitSet's.  
>> Sounds like a lot, but for my applications there are not tons of  
>> these BitSet's and the performance has been outstanding. Now that  
>> I'm doing more with Solr, I'm beginning to leverage its amazing  
>> caching infrastructure and replacing BitSet's with DocSet's.
>>
>> Erik
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20640-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 16 09:43:53 2006
Return-Path: <java-user-return-20640-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2769 invoked from network); 16 May 2006 09:43:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2006 09:43:51 -0000
Received: (qmail 18269 invoked by uid 500); 16 May 2006 09:43:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17689 invoked by uid 500); 16 May 2006 09:43:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17678 invoked by uid 99); 16 May 2006 09:43:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 02:43:44 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 02:43:44 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id C4C4733CABF; Tue, 16 May 2006 05:43:23 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id E405633CABC
	for <java-user@lucene.apache.org>; Tue, 16 May 2006 05:43:21 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <303648608@web.de>
References: <303648608@web.de>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F8071FE5-28E9-4AFD-ADF9-A1E819B43DBB@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Analyzer which distributes tokens to many fields
Date: Tue, 16 May 2006 05:43:19 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_SORBS_DUL autolearn=no version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 16, 2006, at 3:02 AM, Mathias Keilbach wrote:
> I'm going to create a small application with Lucene, which analyze  
> diffenrent Strings. While analyzing the strings, patterns (like  
> emails or urls) shall be sort out and saved in a seperate index field.
> I'm not sure if I can handle this with a self implemented Analyzer  
> class. Afaik you can't distribute single tokens to different fields  
> while analyzing a field.
> At the worst I have to distribute the tokens in a first step and  
> then analyze them in a second step.
> Have anyone an idea how to handle this case with lucene in a better  
> way than mine?

Yeah, an Analyzer is not capable of splitting terms into separate  
fields dynamically.  As you've surmised, you'll need to _parse_ your  
text prior to analyzing it.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20641-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 16 09:46:50 2006
Return-Path: <java-user-return-20641-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4122 invoked from network); 16 May 2006 09:46:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2006 09:46:49 -0000
Received: (qmail 22423 invoked by uid 500); 16 May 2006 09:46:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21943 invoked by uid 500); 16 May 2006 09:46:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21931 invoked by uid 99); 16 May 2006 09:46:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 02:46:43 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [203.92.45.229] (HELO noidagw01.naukri.com) (203.92.45.229)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 02:46:42 -0700
Received: from [192.168.2.40] ([192.168.2.40])
	by noidagw01.naukri.com (8.13.4/8.13.4) with ESMTP id k4G9es1B029241
	for <java-user@lucene.apache.org>; Tue, 16 May 2006 15:10:54 +0530
Message-ID: <4469A042.7070009@naukri.com>
Date: Tue, 16 May 2006 15:19:54 +0530
From: Kapil Chhabra <kapil.chhabra@naukri.com>
User-Agent: Thunderbird 1.5 (X11/20060313)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Aggregating category hits
References: <200605160831.k4G8Uxtp003645@pigeon.ciao.com>
In-Reply-To: <200605160831.k4G8Uxtp003645@pigeon.ciao.com>
Content-Type: multipart/alternative;
 boundary="------------070405060105010603010104"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------070405060105010603010104
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Hi Jelda,
I have not yet migrated to Lucene 1.9 and I guess FieldCache has been 
introduced in this release.
Can you please give me a pointer to your strategy of FieldCache?

Thanks & Regards,
Kapil Chhabra


Ramana Jelda wrote:
> But this BitSet strategy is more memory consuming mainly if you have
> documents in million numbers and categories in thousands.
> So I preferred in my project FieldCache strategy.
>
> Jelda
>
>   
>> -----Original Message-----
>> From: Kapil Chhabra [mailto:kapil.chhabra@naukri.com] 
>> Sent: Tuesday, May 16, 2006 7:38 AM
>> To: java-user@lucene.apache.org
>> Subject: Re: Aggregating category hits
>>
>> Even I am doing the same in my application.
>> Once in a day, all the filters [for different categories] are 
>> initialized. Each time a query is fired, the Query BitSet is 
>> ANDed with the BitSet of each filter. The cardinality 
>> obtained is the desired output.
>> @Eric: I would like to know more about the implementation 
>> with DocSet in place of Bitset.
>>
>> Regards,
>> kapilChhabra
>>
>>
>> Erik Hatcher wrote:
>>     
>>> On May 15, 2006, at 5:07 PM, Marvin Humphrey wrote:
>>>       
>>>> If you needed to know not just the total number of hits, but the 
>>>> number of hits in each "category", how would you handle that?
>>>>
>>>> For instance, a search for "egg" would have to produce the 20 most 
>>>> relevant documents for "egg", but also a list like this:
>>>>
>>>> Holiday & Seasonal / Easter 75
>>>> Books / Cooking 52
>>>> Miscellaneous 44
>>>> Kitchen Collectibles 43
>>>> Hobbies / Crafts 17
>>>> [...]
>>>>
>>>> It seems to me that you'd have to retrieve each hit's 
>>>>         
>> stored fields 
>>     
>>>> and examine the contents of a "category" field. That's a lot of 
>>>> overhead. Is there another way?
>>>>         
>>> My first implementation of faceted browsing uses BitSet's that get 
>>> pre-loaded for each category value (each unique term in a "category"
>>> field, for example). And to intersect that with an actual Query, it 
>>> gets run through the QueryFilter to get its BitSet and then AND'd 
>>> together with each of the category BitSet's. Sounds like a lot, but 
>>> for my applications there are not tons of these BitSet's and the 
>>> performance has been outstanding. Now that I'm doing more 
>>>       
>> with Solr, 
>>     
>>> I'm beginning to leverage its amazing caching infrastructure and 
>>> replacing BitSet's with DocSet's.
>>>
>>> Erik
>>>
>>>
>>>
>>>       
>> ---------------------------------------------------------------------
>>     
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>>       
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>     
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>   


--------------070405060105010603010104--

From java-user-return-20642-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 16 10:04:57 2006
Return-Path: <java-user-return-20642-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10533 invoked from network); 16 May 2006 10:04:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2006 10:04:57 -0000
Received: (qmail 41361 invoked by uid 500); 16 May 2006 10:04:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40823 invoked by uid 500); 16 May 2006 10:04:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40809 invoked by uid 99); 16 May 2006 10:04:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 03:04:48 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ramana.jelda@ciao-group.com designates 194.112.113.90 as permitted sender)
Received: from [194.112.113.90] (HELO pigeon.ciao.com) (194.112.113.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 03:04:47 -0700
Received: from Jelda (gateway.ciao.com [194.221.9.215])
	by pigeon.ciao.com (8.13.3/8.13.3) with ESMTP id k4GA4OZU044340
	for <java-user@lucene.apache.org>; Tue, 16 May 2006 12:04:24 +0200 (CEST)
	(envelope-from ramana.jelda@ciao-group.com)
Message-Id: <200605161004.k4GA4OZU044340@pigeon.ciao.com>
From: "Ramana Jelda" <ramana.jelda@ciao-group.com>
To: <java-user@lucene.apache.org>
Subject: RE: Aggregating category hits
Date: Tue, 16 May 2006 12:04:19 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <4469A042.7070009@naukri.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
Thread-Index: AcZ4zagRj70QmF23RXavzu6aQbJ5wQAASn2g
X-Scanned-By: MIMEDefang 2.52 on 194.112.113.90
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Kapil,
As I remember FieldCache is in lucene api since 1.4 .
Ok . Anyhow here is suedo code that can help.

//1. initialize reader on opening documentId to the categoryid relation as
below. Depending on your requirement you can either getStringIndex().. I get
StringIndex in //my project.

String[] docId2CategoryIdRelation=FieldCache.DEFAULT.getStrings(reader,
categoryFieldName);

//2. cache it
//3. search as usal with your Query providing your own HitCollector
//4. use docId2CategoryIdRelation to retrieve category id for each result
document
String yourCategoryId=	docId2CategoryIdRelation[resultDocId]
//5.Increment yourCategoryId count (do lazy initialization of categoryCounts
holder.FAQ.)

//6 You are done.. :)

All the best,
Jelda




> -----Original Message-----
> From: Kapil Chhabra [mailto:kapil.chhabra@naukri.com] 
> Sent: Tuesday, May 16, 2006 11:50 AM
> To: java-user@lucene.apache.org
> Subject: Re: Aggregating category hits
> 
> Hi Jelda,
> I have not yet migrated to Lucene 1.9 and I guess FieldCache 
> has been introduced in this release.
> Can you please give me a pointer to your strategy of FieldCache?
> 
> Thanks & Regards,
> Kapil Chhabra
> 
> 
> Ramana Jelda wrote:
> > But this BitSet strategy is more memory consuming mainly if 
> you have 
> > documents in million numbers and categories in thousands.
> > So I preferred in my project FieldCache strategy.
> >
> > Jelda
> >
> >   
> >> -----Original Message-----
> >> From: Kapil Chhabra [mailto:kapil.chhabra@naukri.com]
> >> Sent: Tuesday, May 16, 2006 7:38 AM
> >> To: java-user@lucene.apache.org
> >> Subject: Re: Aggregating category hits
> >>
> >> Even I am doing the same in my application.
> >> Once in a day, all the filters [for different categories] are 
> >> initialized. Each time a query is fired, the Query BitSet is ANDed 
> >> with the BitSet of each filter. The cardinality obtained is the 
> >> desired output.
> >> @Eric: I would like to know more about the implementation 
> with DocSet 
> >> in place of Bitset.
> >>
> >> Regards,
> >> kapilChhabra
> >>
> >>
> >> Erik Hatcher wrote:
> >>     
> >>> On May 15, 2006, at 5:07 PM, Marvin Humphrey wrote:
> >>>       
> >>>> If you needed to know not just the total number of hits, but the 
> >>>> number of hits in each "category", how would you handle that?
> >>>>
> >>>> For instance, a search for "egg" would have to produce 
> the 20 most 
> >>>> relevant documents for "egg", but also a list like this:
> >>>>
> >>>> Holiday & Seasonal / Easter 75
> >>>> Books / Cooking 52
> >>>> Miscellaneous 44
> >>>> Kitchen Collectibles 43
> >>>> Hobbies / Crafts 17
> >>>> [...]
> >>>>
> >>>> It seems to me that you'd have to retrieve each hit's
> >>>>         
> >> stored fields
> >>     
> >>>> and examine the contents of a "category" field. That's a lot of 
> >>>> overhead. Is there another way?
> >>>>         
> >>> My first implementation of faceted browsing uses BitSet's 
> that get 
> >>> pre-loaded for each category value (each unique term in a 
> "category"
> >>> field, for example). And to intersect that with an actual 
> Query, it 
> >>> gets run through the QueryFilter to get its BitSet and then AND'd 
> >>> together with each of the category BitSet's. Sounds like 
> a lot, but 
> >>> for my applications there are not tons of these BitSet's and the 
> >>> performance has been outstanding. Now that I'm doing more
> >>>       
> >> with Solr,
> >>     
> >>> I'm beginning to leverage its amazing caching infrastructure and 
> >>> replacing BitSet's with DocSet's.
> >>>
> >>> Erik
> >>>
> >>>
> >>>
> >>>       
> >> 
> ---------------------------------------------------------------------
> >>     
> >>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>>
> >>>
> >>>       
> >> 
> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>     
> >
> >
> > 
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> >   
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20643-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 16 10:13:00 2006
Return-Path: <java-user-return-20643-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14196 invoked from network); 16 May 2006 10:13:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2006 10:13:00 -0000
Received: (qmail 49698 invoked by uid 500); 16 May 2006 10:12:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49672 invoked by uid 500); 16 May 2006 10:12:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49660 invoked by uid 99); 16 May 2006 10:12:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 03:12:53 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [203.92.45.229] (HELO noidagw01.naukri.com) (203.92.45.229)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 03:12:52 -0700
Received: from [192.168.2.40] ([192.168.2.40])
	by noidagw01.naukri.com (8.13.4/8.13.4) with ESMTP id k4GA72PS029958
	for <java-user@lucene.apache.org>; Tue, 16 May 2006 15:37:02 +0530
Message-ID: <4469A662.6090407@naukri.com>
Date: Tue, 16 May 2006 15:46:02 +0530
From: Kapil Chhabra <kapil.chhabra@naukri.com>
User-Agent: Thunderbird 1.5 (X11/20060313)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Aggregating category hits
References: <200605161004.k4GA4OZU044340@pigeon.ciao.com>
In-Reply-To: <200605161004.k4GA4OZU044340@pigeon.ciao.com>
Content-Type: multipart/alternative;
 boundary="------------030809080904030600020000"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------030809080904030600020000
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Thanks a lot Jelda.
I'll try this get back with the performance comparison chart.

Regards,
kapilChhabra
 
Ramana Jelda wrote:
> Hi Kapil,
> As I remember FieldCache is in lucene api since 1.4 .
> Ok . Anyhow here is suedo code that can help.
>
> //1. initialize reader on opening documentId to the categoryid relation as
> below. Depending on your requirement you can either getStringIndex().. I get
> StringIndex in //my project.
>
> String[] docId2CategoryIdRelation=FieldCache.DEFAULT.getStrings(reader,
> categoryFieldName);
>
> //2. cache it
> //3. search as usal with your Query providing your own HitCollector
> //4. use docId2CategoryIdRelation to retrieve category id for each result
> document
> String yourCategoryId=	docId2CategoryIdRelation[resultDocId]
> //5.Increment yourCategoryId count (do lazy initialization of categoryCounts
> holder.FAQ.)
>
> //6 You are done.. :)
>
> All the best,
> Jelda
>
>
>
>
>   
>> -----Original Message-----
>> From: Kapil Chhabra [mailto:kapil.chhabra@naukri.com] 
>> Sent: Tuesday, May 16, 2006 11:50 AM
>> To: java-user@lucene.apache.org
>> Subject: Re: Aggregating category hits
>>
>> Hi Jelda,
>> I have not yet migrated to Lucene 1.9 and I guess FieldCache 
>> has been introduced in this release.
>> Can you please give me a pointer to your strategy of FieldCache?
>>
>> Thanks & Regards,
>> Kapil Chhabra
>>
>>
>> Ramana Jelda wrote:
>>     
>>> But this BitSet strategy is more memory consuming mainly if 
>>>       
>> you have 
>>     
>>> documents in million numbers and categories in thousands.
>>> So I preferred in my project FieldCache strategy.
>>>
>>> Jelda
>>>
>>>   
>>>       
>>>> -----Original Message-----
>>>> From: Kapil Chhabra [mailto:kapil.chhabra@naukri.com]
>>>> Sent: Tuesday, May 16, 2006 7:38 AM
>>>> To: java-user@lucene.apache.org
>>>> Subject: Re: Aggregating category hits
>>>>
>>>> Even I am doing the same in my application.
>>>> Once in a day, all the filters [for different categories] are 
>>>> initialized. Each time a query is fired, the Query BitSet is ANDed 
>>>> with the BitSet of each filter. The cardinality obtained is the 
>>>> desired output.
>>>> @Eric: I would like to know more about the implementation 
>>>>         
>> with DocSet 
>>     
>>>> in place of Bitset.
>>>>
>>>> Regards,
>>>> kapilChhabra
>>>>
>>>>
>>>> Erik Hatcher wrote:
>>>>     
>>>>         
>>>>> On May 15, 2006, at 5:07 PM, Marvin Humphrey wrote:
>>>>>       
>>>>>           
>>>>>> If you needed to know not just the total number of hits, but the 
>>>>>> number of hits in each "category", how would you handle that?
>>>>>>
>>>>>> For instance, a search for "egg" would have to produce 
>>>>>>             
>> the 20 most 
>>     
>>>>>> relevant documents for "egg", but also a list like this:
>>>>>>
>>>>>> Holiday & Seasonal / Easter 75
>>>>>> Books / Cooking 52
>>>>>> Miscellaneous 44
>>>>>> Kitchen Collectibles 43
>>>>>> Hobbies / Crafts 17
>>>>>> [...]
>>>>>>
>>>>>> It seems to me that you'd have to retrieve each hit's
>>>>>>         
>>>>>>             
>>>> stored fields
>>>>     
>>>>         
>>>>>> and examine the contents of a "category" field. That's a lot of 
>>>>>> overhead. Is there another way?
>>>>>>         
>>>>>>             
>>>>> My first implementation of faceted browsing uses BitSet's 
>>>>>           
>> that get 
>>     
>>>>> pre-loaded for each category value (each unique term in a 
>>>>>           
>> "category"
>>     
>>>>> field, for example). And to intersect that with an actual 
>>>>>           
>> Query, it 
>>     
>>>>> gets run through the QueryFilter to get its BitSet and then AND'd 
>>>>> together with each of the category BitSet's. Sounds like 
>>>>>           
>> a lot, but 
>>     
>>>>> for my applications there are not tons of these BitSet's and the 
>>>>> performance has been outstanding. Now that I'm doing more
>>>>>       
>>>>>           
>>>> with Solr,
>>>>     
>>>>         
>>>>> I'm beginning to leverage its amazing caching infrastructure and 
>>>>> replacing BitSet's with DocSet's.
>>>>>
>>>>> Erik
>>>>>
>>>>>
>>>>>
>>>>>       
>>>>>           
>> ---------------------------------------------------------------------
>>     
>>>>     
>>>>         
>>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>>
>>>>>
>>>>>       
>>>>>           
>> ---------------------------------------------------------------------
>>     
>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>
>>>>     
>>>>         
>>>
>>>       
>> ---------------------------------------------------------------------
>>     
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>>   
>>>       
>>     
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>   


--------------030809080904030600020000--

From java-user-return-20644-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 16 12:32:08 2006
Return-Path: <java-user-return-20644-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65839 invoked from network); 16 May 2006 12:32:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2006 12:32:07 -0000
Received: (qmail 24950 invoked by uid 500); 16 May 2006 12:31:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24876 invoked by uid 500); 16 May 2006 12:31:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24842 invoked by uid 99); 16 May 2006 12:31:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 05:31:56 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of david.trattnig@gmail.com designates 64.233.182.190 as permitted sender)
Received: from [64.233.182.190] (HELO nf-out-0910.google.com) (64.233.182.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 05:31:55 -0700
Received: by nf-out-0910.google.com with SMTP id o60so358287nfa
        for <java-user@lucene.apache.org>; Tue, 16 May 2006 05:31:34 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=XoXR+8PwFuaEq/tSJgab4xmI90kxkQVCvCJuhOouZhIFo+A3soA3DYruW+DBR2F12l6OyoQdxNTPOodqhOTuk9KoB/tRKdPJp8ss0A/wKwzCCZMyC1xrmEI45KCrsNK5HiifHzN56UgrqHshzUxm31RYxYm0EsvNc/v9vVJw3Rs=
Received: by 10.49.63.6 with SMTP id q6mr3092074nfk;
        Tue, 16 May 2006 05:31:34 -0700 (PDT)
Received: by 10.48.205.14 with HTTP; Tue, 16 May 2006 05:31:34 -0700 (PDT)
Message-ID: <f4f104340605160531q4b273800i5f050cd99356d25d@mail.gmail.com>
Date: Tue, 16 May 2006 14:31:34 +0200
From: "David Trattnig" <david.trattnig@gmail.com>
To: java-user@lucene.apache.org
Subject: Search precondition: matching area
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_63555_8988730.1147782694580"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_63555_8988730.1147782694580
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hello LuceneList,

I've got at least following fields in my index:

AREA =3D "home news business"
CONTENTS =3D "... hello world ..."

If I submit the query

query-string: "hello area:home"

Lucene should only search these documents which has the matching area.
Actually Lucene searches the area, but it should

   - NOT return results if the area doesn't match --> actually Lucene
   searches also in the other fields for the area - indeed with less rating=
 -
   but they are returned.
   - NOT include a matching area to the rating

In other words: The area shouldn't handled like a standard search able
field, more like a precondition if the query should be applied.

Additionally: If I submit no area

query-string: "hello"

the query should be applied as it would have a matching area.


Any help would be appreciated,
Best Regards,
David

------=_Part_63555_8988730.1147782694580--

From java-user-return-20645-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 16 12:37:25 2006
Return-Path: <java-user-return-20645-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68528 invoked from network); 16 May 2006 12:37:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2006 12:37:21 -0000
Received: (qmail 36159 invoked by uid 500); 16 May 2006 12:37:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36131 invoked by uid 500); 16 May 2006 12:37:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36120 invoked by uid 99); 16 May 2006 12:37:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 05:37:11 -0700
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FROM_ENDS_IN_NUMS
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [209.191.87.115] (HELO web37802.mail.mud.yahoo.com) (209.191.87.115)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 16 May 2006 05:37:10 -0700
Received: (qmail 29912 invoked by uid 60001); 16 May 2006 12:36:48 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com.vn;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=iXOriXFVt3fL+ZR4+kHfJ9rF8VkGHzqa73WZVvozKJc1PjGHf/qvn538tw2HruhZDXWmeG068wDnckH6CMlHl9Qf21tPKVGWlLPoPTtWlHVjdv0xm/vlghf86oE7ogvNKiqvCZUBp6cZcodE4ag2qnMiVNeDHXurjWym2KK2dkE=  ;
Message-ID: <20060516123648.29910.qmail@web37802.mail.mud.yahoo.com>
Received: from [193.49.172.146] by web37802.mail.mud.yahoo.com via HTTP; Tue, 16 May 2006 19:36:48 ICT
Date: Tue, 16 May 2006 19:36:48 +0700 (ICT)
From: Trung <ngay01032006@yahoo.com.vn>
Subject: Extracting citation graph of ACM digital library and others DLs.
To: java-user@lucene.apache.org
In-Reply-To: <F8071FE5-28E9-4AFD-ADF9-A1E819B43DBB@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello everybody,

I have an question. It's not related to Lucene, I
know, but I post it here because many of you have
excellent knowledge in computer science and I hope
that you can help me. 

My question is how I can extract citation graph of ACM
digital library (or any important digital library in
computer science if you know). Given a citation graph
and the name of a predefined document, we can know
documents cited by this  predefined document and
documents that cite it. In my knowledge, ACM donot
provide API to access its bibliography database like
CiteSeer.

Thank you very much,
Trung.

__________________________________________________
Bn C S Dng Yahoo! Khng?
Mt mi v th rc?  Yahoo! Th c chng trnh bo v chng th rc hu hiu nht trn mng 
http://vn.mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20646-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 16 12:38:52 2006
Return-Path: <java-user-return-20646-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69312 invoked from network); 16 May 2006 12:38:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2006 12:38:51 -0000
Received: (qmail 41529 invoked by uid 500); 16 May 2006 12:38:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41500 invoked by uid 500); 16 May 2006 12:38:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41489 invoked by uid 99); 16 May 2006 12:38:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 05:38:44 -0700
X-ASF-Spam-Status: No, hits=4.1 required=10.0
	tests=DATE_IN_FUTURE_03_06,DNS_FROM_RFC_ABUSE,RCVD_FAKE_HELO_DOTCOM,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of sharadbdc@aol.com designates 152.163.225.130 as permitted sender)
Received: from [152.163.225.130] (HELO omr-r02.mail.aol.com) (152.163.225.130)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 05:38:44 -0700
Received: from aol.com (10.146.144.105)
  by omr-r02.mail.aol.com with ESMTP; 16 May 2006 08:38:22 -0400
Message-ID: <446A1410.2010108@aol.com>
Date: Tue, 16 May 2006 23:34:00 +0530
From: Sharad Agarwal <sharadbdc@aol.com>
User-Agent: Mozilla Thunderbird 1.0.7-1.1.fc4 (X11/20050929)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: IndexReader seems loading the full index
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am a newbie in lucene space. and trying to understand lucene search 
result caching; facing with a wierd issue.

After creating the IndexReader from a file system directory, I 
rename/remove the index directory; but still I am able to search the 
index and able to get the documents from Hits. This is making me beleive 
that there is some level of index loading in IndexReader itself. Does it 
load the full index or what all things it loads?

The code I am using is:

    reader = IndexReader.open("/data/index");
    System.out.println("Sleeping..."); 

    Thread.sleep(10000);  
//during the sleep time I just delete /data/index dir but still rest of 
the code works

    System.out.println("Sleeping after");
    indexSearcher = new IndexSearcher(reader);
   query = MultiFieldQueryParser.parse("yahoo", fields,  new 
PorterStemAnalyzer());
   filter = new QueryFilter(query);
   
    Hits hits = indexSearcher.search(query, filter);
    for(int i=0;i<hits.length();i++){
        System.out.println(i +":     "+ hits.doc(i));
    }

-sharad



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20647-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 16 13:07:45 2006
Return-Path: <java-user-return-20647-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82765 invoked from network); 16 May 2006 13:07:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2006 13:07:44 -0000
Received: (qmail 84500 invoked by uid 500); 16 May 2006 13:07:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83763 invoked by uid 500); 16 May 2006 13:07:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83752 invoked by uid 99); 16 May 2006 13:07:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 06:07:37 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mike@curtin.com designates 205.158.62.107 as permitted sender)
Received: from [205.158.62.107] (HELO ws6-4.us4.outblaze.com) (205.158.62.107)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 16 May 2006 06:07:36 -0700
Received: (qmail 19503 invoked from network); 16 May 2006 13:07:13 -0000
Received: from unknown (HELO ?10.1.1.2?) (mike@curtin.com@68.21.41.163)
  by ws6-4.us4.outblaze.com with SMTP; 16 May 2006 13:07:13 -0000
Message-ID: <4469CE84.20206@curtin.com>
Date: Tue, 16 May 2006 09:07:16 -0400
From: "Michael D. Curtin" <mike@curtin.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.2) Gecko/20040804 Netscape/7.2 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: IndexReader seems loading the full index
References: <446A1410.2010108@aol.com>
In-Reply-To: <446A1410.2010108@aol.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Sharad Agarwal wrote:

> I am a newbie in lucene space. and trying to understand lucene search 
> result caching; facing with a wierd issue.
> 
> After creating the IndexReader from a file system directory, I 
> rename/remove the index directory; but still I am able to search the 
> index and able to get the documents from Hits. This is making me beleive 
> that there is some level of index loading in IndexReader itself. Does it 
> load the full index or what all things it loads?

If you're running on Linux, your process has open file descriptors on the 
index files.  So, even though you've rm'd them, they're not really gone as far 
as the kernel is concerned until those file descriptors are closed (the space 
isn't reclaimed until then either).

I don't know if Windows acts the same way.

I'm curious:  Why are you removing the index if your application is still 
using it?

--MDC

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20648-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 16 13:14:30 2006
Return-Path: <java-user-return-20648-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87019 invoked from network); 16 May 2006 13:14:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2006 13:14:29 -0000
Received: (qmail 98089 invoked by uid 500); 16 May 2006 13:14:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98053 invoked by uid 500); 16 May 2006 13:14:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98042 invoked by uid 99); 16 May 2006 13:14:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 06:14:22 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mike@curtin.com designates 205.158.62.152 as permitted sender)
Received: from [205.158.62.152] (HELO ws6-5.us4.outblaze.com) (205.158.62.152)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 16 May 2006 06:14:21 -0700
Received: (qmail 29804 invoked from network); 16 May 2006 13:13:58 -0000
Received: from unknown (HELO ?10.1.1.2?) (mike@curtin.com@68.21.41.163)
  by ws6-5.us4.outblaze.com with SMTP; 16 May 2006 13:13:58 -0000
Message-ID: <4469D019.60604@curtin.com>
Date: Tue, 16 May 2006 09:14:01 -0400
From: "Michael D. Curtin" <mike@curtin.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.2) Gecko/20040804 Netscape/7.2 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Search precondition: matching area
References: <f4f104340605160531q4b273800i5f050cd99356d25d@mail.gmail.com>
In-Reply-To: <f4f104340605160531q4b273800i5f050cd99356d25d@mail.gmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

David Trattnig wrote:

> Hello LuceneList,
> 
> I've got at least following fields in my index:
> 
> AREA = "home news business"
> CONTENTS = "... hello world ..."
> 
> If I submit the query
> 
> query-string: "hello area:home"
> 
> Lucene should only search these documents which has the matching area.
> Actually Lucene searches the area, but it should
> 
>   - NOT return results if the area doesn't match --> actually Lucene
>   searches also in the other fields for the area - indeed with less 
> rating -
>   but they are returned.
>   - NOT include a matching area to the rating
> 
> In other words: The area shouldn't handled like a standard search able
> field, more like a precondition if the query should be applied.

You may need to put a '+' on the query terms that are required, like so:

query-string: "+hello +area:home"

The default operator between query terms, at least for 1.4, is OR.  You can 
change it to AND via QueryParser's setOperator() method, like so:

qp.setOperator(QueryParser.DEFAULT_OPERATOR_AND);

You might also want to check what you set for the default query field in 
QueryParser's constructor, for the "hello" term.

> Additionally: If I submit no area
> 
> query-string: "hello"
> 
> the query should be applied as it would have a matching area.

I'm not sure exactly what you mean.  This simple query will only return 
documents that contain the string "hello" in the default field.  Is that what 
you mean?

--MDC

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20649-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 16 13:16:36 2006
Return-Path: <java-user-return-20649-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88041 invoked from network); 16 May 2006 13:16:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2006 13:16:35 -0000
Received: (qmail 2340 invoked by uid 500); 16 May 2006 13:16:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2309 invoked by uid 500); 16 May 2006 13:16:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2298 invoked by uid 99); 16 May 2006 13:16:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 06:16:27 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of david.trattnig@gmail.com designates 64.233.182.190 as permitted sender)
Received: from [64.233.182.190] (HELO nf-out-0910.google.com) (64.233.182.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 06:16:26 -0700
Received: by nf-out-0910.google.com with SMTP id o60so365538nfa
        for <java-user@lucene.apache.org>; Tue, 16 May 2006 06:16:05 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=cUoCNsorX59qHMMc0Cf13M+hW5PVYLCtdxdo5+kjK9U2YUftbmmfKNgvCt5nL25A5/vNTFHLThrUaKFF9PGKbu016liskcdmYG4IGN4f1zLzVUEBpzk86F+imExhewujU86N7ebwwunKmyiIXGkjLtRgxQT/S+fw8nG/8x9dZgc=
Received: by 10.49.59.16 with SMTP id m16mr3324818nfk;
        Tue, 16 May 2006 06:16:05 -0700 (PDT)
Received: by 10.48.205.14 with HTTP; Tue, 16 May 2006 06:16:05 -0700 (PDT)
Message-ID: <f4f104340605160616q17adf500ya232d49ab7917d68@mail.gmail.com>
Date: Tue, 16 May 2006 15:16:05 +0200
From: "David Trattnig" <david.trattnig@gmail.com>
To: java-user@lucene.apache.org
Subject: Search precondition: matching area
In-Reply-To: <f4f104340605160531q4b273800i5f050cd99356d25d@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <f4f104340605160531q4b273800i5f050cd99356d25d@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello LuceneList,

I've got at least following fields in my index:

  AREA =3D "home news business"
  CONTENTS =3D "... hello world ..."

If I submit the query

  query-string: "hello area:home"

Lucene should only search these documents which has the matching area.
Actually Lucene searches the area, but it should

  NOT return results if the area doesn't match --> actually Lucene
searches also in the other fields for the area - indeed with less
rating - but they are returned.
  NOT include a matching area to the rating
In other words: The area shouldn't handled like a standard search able
field, more like a precondition if the query should be applied.

Additionally: If I submit no area

 e.g. query-string: "hello"

the query should be applied as it would have a matching area.


Any help would be appreciated,
Best Regards,
David

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20650-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 16 13:43:38 2006
Return-Path: <java-user-return-20650-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6976 invoked from network); 16 May 2006 13:43:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2006 13:43:37 -0000
Received: (qmail 66741 invoked by uid 500); 16 May 2006 13:43:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66716 invoked by uid 500); 16 May 2006 13:43:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66705 invoked by uid 99); 16 May 2006 13:43:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 06:43:30 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.146.176.251] (HELO web25913.mail.ukl.yahoo.com) (217.146.176.251)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 16 May 2006 06:43:30 -0700
Received: (qmail 77685 invoked by uid 60001); 16 May 2006 13:43:08 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=BSm96XSXoHJd+lbUS7xMnX1Tleo10PCYcUezYA9sW/EZOdkldcDvhB+wZFEWi3v8kF1VEQ8iwerXAFZrtQTIP2NaTjKRhKg1vBIqZh+AgxD3iv/0fblBKXCVgPgvE997hLbsAXpK3+7fbTgqswHhVWG5+XClhJArVVQFIMgRj7E=  ;
Message-ID: <20060516134308.77683.qmail@web25913.mail.ukl.yahoo.com>
Date: Tue, 16 May 2006 13:43:08 +0000 (GMT)
From: eks dev <eksdev@yahoo.co.uk>
Reply-To: eks dev <eksdev@yahoo.co.uk>
Subject: Re: Search precondition: matching area
To: java-user@lucene.apache.org
In-Reply-To: <f4f104340605160616q17adf500ya232d49ab7917d68@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

try:
1.  query-string: "hello +area:home"  to get Filtering effect

2. to minimize scoring use boosts: "(hello)^HIGH_BOOST +(area:home)^LOW_BOOST"

3. If scoring via boosts does not work good enough for you, or is slow, use Filter interface from your code... search this list for Filter



----- Original Message ----
From: David Trattnig <david.trattnig@gmail.com>
To: java-user@lucene.apache.org
Sent: Tuesday, 16 May, 2006 3:16:05 PM
Subject: Search precondition: matching area

Hello LuceneList,

I've got at least following fields in my index:

  AREA = "home news business"
  CONTENTS = "... hello world ..."

If I submit the query

  query-string: "hello area:home"

Lucene should only search these documents which has the matching area.
Actually Lucene searches the area, but it should

  NOT return results if the area doesn't match --> actually Lucene
searches also in the other fields for the area - indeed with less
rating - but they are returned.
  NOT include a matching area to the rating
In other words: The area shouldn't handled like a standard search able
field, more like a precondition if the query should be applied.

Additionally: If I submit no area

 e.g. query-string: "hello"

the query should be applied as it would have a matching area.


Any help would be appreciated,
Best Regards,
David

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20651-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 16 15:51:59 2006
Return-Path: <java-user-return-20651-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71124 invoked from network); 16 May 2006 15:51:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2006 15:51:58 -0000
Received: (qmail 65543 invoked by uid 500); 16 May 2006 15:51:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65516 invoked by uid 500); 16 May 2006 15:51:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65505 invoked by uid 99); 16 May 2006 15:51:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 08:51:51 -0700
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of david.trattnig@gmail.com designates 64.233.182.185 as permitted sender)
Received: from [64.233.182.185] (HELO nf-out-0910.google.com) (64.233.182.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 08:51:49 -0700
Received: by nf-out-0910.google.com with SMTP id x30so2832nfb
        for <java-user@lucene.apache.org>; Tue, 16 May 2006 08:51:28 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=maHxX4Nx12bYyvWdkrvPZETGhfoxUISwyrKCuRLxrOdev6M7a0WElHDaD2W8ZMRNWmt7iPSsnpZSYOxG7pYBFLq94DIetxDEVzHougDms8azzerbNh/R02Av1NbdZp2KywFHugdjdWbKzAklrft+QbIgvwWYiBSlbtqzEJ7LqNM=
Received: by 10.49.41.16 with SMTP id t16mr4610518nfj;
        Tue, 16 May 2006 08:51:28 -0700 (PDT)
Received: by 10.48.205.14 with HTTP; Tue, 16 May 2006 08:51:28 -0700 (PDT)
Message-ID: <f4f104340605160851l4f2f058xb24dd6fe761a9a27@mail.gmail.com>
Date: Tue, 16 May 2006 17:51:28 +0200
From: "David Trattnig" <david.trattnig@gmail.com>
To: java-user@lucene.apache.org, eksdev@yahoo.co.uk, mike@curtin.com
Subject: Re: Search precondition: matching area
In-Reply-To: <20060516134308.77683.qmail@web25913.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <f4f104340605160616q17adf500ya232d49ab7917d68@mail.gmail.com>
	 <20060516134308.77683.qmail@web25913.mail.ukl.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Mike, Hi Eks-Dev,

first of all: Thank you so much! Both of you helped me a lot & it works fin=
e!

> > Additionally: If I submit no area
> >
> > query-string: "hello"
> >
> > the query should be applied as it would have a matching area.
>
> I'm not sure exactly what you mean.  This simple query will only return
> documents that contain the string "hello" in the default field.  Is that =
what
> you mean?

Yes this was exactly what i meant. So it works anyway...

BTW: Is it possible to set more than one default-field at the
QueryParser's constructor? Actually I've set it to "contents" but i'd
like to search "contents" AND "title" and matches in title should have
a higher rating.

Nice day,
david



On 5/16/06, eks dev <eksdev@yahoo.co.uk> wrote:
> try:
> 1.  query-string: "hello +area:home"  to get Filtering effect
>
> 2. to minimize scoring use boosts: "(hello)^HIGH_BOOST +(area:home)^LOW_B=
OOST"
>
> 3. If scoring via boosts does not work good enough for you, or is slow, u=
se Filter interface from your code... search this list for Filter
>
>
>
> ----- Original Message ----
> From: David Trattnig <david.trattnig@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Tuesday, 16 May, 2006 3:16:05 PM
> Subject: Search precondition: matching area
>
> Hello LuceneList,
>
> I've got at least following fields in my index:
>
>   AREA =3D "home news business"
>   CONTENTS =3D "... hello world ..."
>
> If I submit the query
>
>   query-string: "hello area:home"
>
> Lucene should only search these documents which has the matching area.
> Actually Lucene searches the area, but it should
>
>   NOT return results if the area doesn't match --> actually Lucene
> searches also in the other fields for the area - indeed with less
> rating - but they are returned.
>   NOT include a matching area to the rating
> In other words: The area shouldn't handled like a standard search able
> field, more like a precondition if the query should be applied.
>
> Additionally: If I submit no area
>
>  e.g. query-string: "hello"
>
> the query should be applied as it would have a matching area.
>
>
> Any help would be appreciated,
> Best Regards,
> David
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20652-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 16 16:43:24 2006
Return-Path: <java-user-return-20652-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93536 invoked from network); 16 May 2006 16:43:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2006 16:43:23 -0000
Received: (qmail 94984 invoked by uid 500); 16 May 2006 16:43:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94785 invoked by uid 500); 16 May 2006 16:43:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94773 invoked by uid 99); 16 May 2006 16:43:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 09:43:17 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [141.54.1.3] (HELO tigger.scc.uni-weimar.de) (141.54.1.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 09:43:15 -0700
Received: from [127.0.0.1] (dslb-088-073-226-094.pools.arcor-ip.net [88.73.226.94])
	(authenticated bits=0)
	by tigger.scc.uni-weimar.de (8.13.5/8.13.5) with ESMTP id k4GGgnQk015501
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <java-user@lucene.apache.org>; Tue, 16 May 2006 18:42:50 +0200 (MEST)
Message-ID: <446A010B.50303@uni-weimar.de>
Date: Tue, 16 May 2006 18:42:51 +0200
From: Franz Coriand <coriand@uni-weimar.de>
Organization: Bauhaus-University Weimar, Germany
User-Agent: Thunderbird 1.5.0.2 (Windows/20060308)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Position of a word in a document?
References: <44687A09.7090600@uni-weimar.de> <200605152022.30239@danielnaber.de>
In-Reply-To: <200605152022.30239@danielnaber.de>
Content-Type: multipart/mixed;
 boundary="------------000301050004060103080500"
X-Greylist: Sender succeeded SMTP AUTH authentication, not delayed by milter-greylist-2.0.2 (tigger.scc.uni-weimar.de [141.54.1.3]); Tue, 16 May 2006 18:42:50 +0200 (MEST)
X-Virus-Scanned: by amavisd-new using NAI at mailgate.uni-weimar.de
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------000301050004060103080500
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Daniel Naber schrieb:
> On Montag 15 Mai 2006 14:54, Franz Coriand wrote:
>
>   
>> is it possible not only to get the document which contains the words of
>> a query, but also get the position in the text of the query word?
>>     
>
> Yes, by using the term vectors with positions that were added in Lucene 1.9 
> (see class Field.TermVector). Or you could re-analyze the text and iterate 
> over the tokens returned by the analyzer.
>
>   

Ok, so I just set in Field.java

"private boolean storeTermVector = true;"
"private boolean storePositionWithTermVector = true;"

and index my collection again. Right?

But how can I retrieve this information during my search process???
I retrieve an object of the Typ Document ... but this object doesn't 
have a "getPosition()" or "getTermVector()" methode?!

Franz


--------------000301050004060103080500
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--------------000301050004060103080500--

From java-user-return-20653-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 16 18:43:23 2006
Return-Path: <java-user-return-20653-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42865 invoked from network); 16 May 2006 18:43:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2006 18:43:22 -0000
Received: (qmail 26995 invoked by uid 500); 16 May 2006 18:43:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26969 invoked by uid 500); 16 May 2006 18:43:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26958 invoked by uid 99); 16 May 2006 18:43:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 11:43:15 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 194.52.12.17 is neither permitted nor denied by domain of marcus.falck@observer.se)
Received: from [194.52.12.17] (HELO mail1.observergroup.com) (194.52.12.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 11:43:14 -0700
Received: (qmail 27520 invoked by uid 509); 16 May 2006 20:42:52 +0200
Received: from 10.8.1.20 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.20):. 
 Processed in 0.103048 secs); 16 May 2006 18:42:52 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.20):. Processed in 0.103048 secs Process 27509)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.20)
  by mail1.observergroup.com with SMTP; 16 May 2006 20:42:52 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C67918.8963EB6E"
Subject: Changing the scoring (newest doc date first)
Date: Tue, 16 May 2006 20:42:51 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C33B5CE@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Changing the scoring (newest doc date first)
Thread-Index: AcZ5GIlj8eIYLwMZRuqRTOgxf4clKA==
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C67918.8963EB6E
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello,
=20
I'm working on a very large implementation of a search engine based on =
the lucene api (1.4.3). We have also been investigating enterprise =
search companies such as FAST and Verity but have come to the conclusion =
that we might aswell save ourselves 1 millon dollars by doing our own =
implementation on lucene.
=20
What we are talking about here is to index up data from alot of =
different system all containing ALOT of document. This index will be =
distributed by range ( date ) and scaled with 1 or more machines =
containing the same index per range (load balanced using round robin).=20
=20
Currently the total size of all documents we need to index is around 2TB =
(200 million documents) but this is growing with approximentely 200 000 =
document on a daily basis.
=20
I have already written code for a prototype that contains fetcher =
application, for fetching data from the orignal systems storages and =
distributes the documents using SOAP over TCP to the correct data =
intervall (and the intervalls machines), SearchMachineHost (the actual =
index/search per machine), Search/Index api (that adds transparancy to =
the whole clustering part), AlertHost (for time sensetive alerts) and =
demo applications. Every thing looks very good we are very satisfied =
with the performance.=20
=20
---PROBLEM--
There is however one LARGE problem that we have run into. All search =
result should be displayed sorted with the newest document at top. We =
tried to accomplish this using Lucene's sort capabilites but quickly ran =
into large performance bottlenecks. So i figured since the default sort =
is by relevance i would like to change the relevance so that we don't =
even need to sort the documents. I guess alot of people at this mail =
list can give me valuable hints about how to accomplish this!=20
(Since i now about the ability to sort by index id (which i haven't =
tried) I can also add that i can't guarantee that all documents will be =
added in correct date order (remember the several systems,  the future =
plans is to buy content from different actors on the market and index it =
up).
=20
Please help me in my fight against FAST and Verity =3DD
=20
/ Regards
Marcus Falck, Stockholm, Sweden.=20
=20
I would also like to thank all people that have been involved in the =
lucene development.=20
Very nice work!
=20

------_=_NextPart_001_01C67918.8963EB6E--

From java-user-return-20654-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 16 18:55:16 2006
Return-Path: <java-user-return-20654-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47008 invoked from network); 16 May 2006 18:55:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2006 18:55:15 -0000
Received: (qmail 52522 invoked by uid 500); 16 May 2006 18:55:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52498 invoked by uid 500); 16 May 2006 18:55:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52487 invoked by uid 99); 16 May 2006 18:55:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 11:55:07 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.187] (HELO hnexfe17.hetnet.nl) (195.121.6.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 11:55:06 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe17.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 16 May 2006 20:54:42 +0200
Subject: Re: Search precondition: matching area
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <f4f104340605160851l4f2f058xb24dd6fe761a9a27@mail.gmail.com>
References: <f4f104340605160616q17adf500ya232d49ab7917d68@mail.gmail.com>
	 <20060516134308.77683.qmail@web25913.mail.ukl.yahoo.com>
	 <f4f104340605160851l4f2f058xb24dd6fe761a9a27@mail.gmail.com>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Tue, 16 May 2006 20:54:31 +0200
Message-Id: <1147805672.4931.354.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 16 May 2006 18:54:42.0956 (UTC) FILETIME=[314824C0:01C6791A]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tue, 2006-05-16 at 17:51 +0200, David Trattnig wrote:
> Is it possible to set more than one default-field at the
> QueryParser's constructor? Actually I've set it to "contents" but i'd
> like to search "contents" AND "title" and matches in title should have
> a higher rating. 

I've posted a patch to MultiFieldQueryParser that might do what you are
looking for.

http://issues.apache.org/jira/browse/LUCENE-544

Query "foo" could be treated as:

+(name:foo^1 description:foo^0.1)


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20655-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 16 20:09:21 2006
Return-Path: <java-user-return-20655-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90155 invoked from network); 16 May 2006 20:09:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2006 20:09:19 -0000
Received: (qmail 27437 invoked by uid 500); 16 May 2006 20:09:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27397 invoked by uid 500); 16 May 2006 20:09:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27386 invoked by uid 99); 16 May 2006 20:09:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 13:09:10 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.14 as permitted sender)
Received: from [80.67.18.14] (HELO smtprelay02.ispgateway.de) (80.67.18.14)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 13:09:08 -0700
Received: (qmail 25547 invoked from network); 16 May 2006 20:08:45 -0000
Received: from unknown (HELO p5496eaac.dip.t-dialin.net) ([pbs]695637@[84.150.234.172])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 16 May 2006 20:08:45 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Position of a word in a document?
Date: Tue, 16 May 2006 22:09:19 +0200
User-Agent: KMail/1.8.2
References: <44687A09.7090600@uni-weimar.de> <200605152022.30239@danielnaber.de> <446A010B.50303@uni-weimar.de>
In-Reply-To: <446A010B.50303@uni-weimar.de>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605162209.19572@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Dienstag 16 Mai 2006 18:42, Franz Coriand wrote:

> "private boolean storeTermVector = true;"
> "private boolean storePositionWithTermVector = true;"

Use the optional Field.TermVector parameter in the Field constructor.

> But how can I retrieve this information during my search process???
> I retrieve an object of the Typ Document ... but this object doesn't
> have a "getPosition()" or "getTermVector()" methode?!

IndexReader has the appropriate get... methods.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20656-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 16 20:15:02 2006
Return-Path: <java-user-return-20656-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91586 invoked from network); 16 May 2006 20:15:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2006 20:15:02 -0000
Received: (qmail 35412 invoked by uid 500); 16 May 2006 20:14:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35381 invoked by uid 500); 16 May 2006 20:14:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35370 invoked by uid 500); 16 May 2006 20:14:51 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 35367 invoked by uid 99); 16 May 2006 20:14:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 13:14:51 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.238.156.229] (HELO franken.ws) (212.238.156.229)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 13:14:50 -0700
Received: from [127.0.0.1] ([192.168.1.4]) by franken.ws with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 16 May 2006 22:14:28 +0200
Message-ID: <446A32A0.4030807@zilverline.org>
Date: Tue, 16 May 2006 22:14:24 +0200
From: Michael Franken <info@zilverline.org>
User-Agent: Thunderbird 1.5.0.2 (Windows/20060308)
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Zilverline Search Engine version 1.5.0 released
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 16 May 2006 20:14:28.0781 (UTC) FILETIME=[55DB15D0:01C67925]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

All,

I've just released Zilverline version 1.5.0.

This version adds security and upload functionality, as well as some 
minor fixes and enhancements.

The source will be made available as well very soon.

Zilverline is protected by a Collaborative Source License. You can read
more on this type of licensing at http://www.zilverline.org

Zilverline is a fully web based search engine based on lucene that's
ready to roll, and can be simply dropped in a Servlet Engine. It runs
out of the box, and supports PDF, WORD, HTM, TXT, RTF, Excel, Powerpoint
and CHM, and can index zip, rar, and many other formats. Both on
Windows and Linux.

Zilverline supports plugins. You can create your own extractors
for various file formats. I've provided Extractors for RTF, Text, PDF,
Word, Excel, Powerpoint and HTML.

Zilverline supports collections. A collection is a set of files and
directories in a directory. A collection can be indexed, and searched.
The results of the search can be retrieved from local disk or remotely,
if you run a webserver on your machine. Files inside zip, rar and chm
files are extracted, indexed and can be cached. The cache can be mapped
to sit behind your webserver as well.

It's also possible to specify your own handlers for archives. Say you
have a RAR archive, and you have a program on your system that can
extract the content from it, then you can specify that Zilverline should
use this program.

Zilverline indexes in the background, detects ISBN numbers, and has 
(some) IMAP support.

Please take look at http://www.zilverline.org, and have a swing at it.

cheers,

   Michael Franken







---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20657-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 16 21:49:23 2006
Return-Path: <java-user-return-20657-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21358 invoked from network); 16 May 2006 21:48:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2006 21:48:57 -0000
Received: (qmail 95416 invoked by uid 500); 16 May 2006 21:48:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95151 invoked by uid 500); 16 May 2006 21:48:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95135 invoked by uid 99); 16 May 2006 21:48:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 14:48:36 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [140.203.7.200] (HELO mx1.nuigalway.ie) (140.203.7.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 14:48:34 -0700
Received: from beacon.nuigalway.ie ([140.203.9.96])
  by mx1.nuigalway.ie with ESMTP; 16 May 2006 22:48:12 +0100
X-IronPort-AV: i="4.05,134,1146438000"; 
   d="scan'208"; a="72090424:sNHT22971372"
Received: from CONVERSION-DAEMON.beacon.nuigalway.ie by beacon.nuigalway.ie
 (PMDF V6.2-X26 #30714) id <01M2I8KQ2WTC00HONW@beacon.nuigalway.ie> for
 java-user@lucene.apache.org; Tue, 16 May 2006 22:41:28 +0000 (GMT)
Received: from deri-swc01 (srvgal17.nuigalway.ie [140.203.154.135])
 by beacon.nuigalway.ie (PMDF V6.2-X26 #30714)
 with ESMTP id <01M2I8KPYB2G00IPDA@beacon.nuigalway.ie> for
 java-user@lucene.apache.org; Tue, 16 May 2006 22:41:28 +0000 (GMT)
Received: by deri-swc01 (Postfix, from userid 1000)	id 4912D49F69; Tue,
 16 May 2006 22:51:09 +0100 (IST)
Date: Tue, 16 May 2006 22:51:09 +0100
From: Andreas Harth <andreas.harth@deri.org>
Subject: Theoretical Lucene Performance
To: java-user@lucene.apache.org
Message-id: <20060516215109.GA12676@srvgal17.nuigalway.ie>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii
Content-disposition: inline
User-Agent: Mutt/1.5.9i
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

I'd like to learn a bit more about the index organization of
Lucene (ideally without sifting through source code).

Are there any publications that explain the Lucene indexing
structure in detail?  Or is it possible to say in a few sentences
how Lucene works and I can look up the details in a text book
(e.g. Baeza-Yates/Ribeiro-Neto)?

Many thanks in advance!

Regards,
Andreas.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20658-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 16 22:01:26 2006
Return-Path: <java-user-return-20658-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25234 invoked from network); 16 May 2006 22:01:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2006 22:01:22 -0000
Received: (qmail 8243 invoked by uid 500); 16 May 2006 22:01:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8207 invoked by uid 500); 16 May 2006 22:01:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8196 invoked by uid 99); 16 May 2006 22:01:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 15:01:15 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [141.54.1.3] (HELO tigger.scc.uni-weimar.de) (141.54.1.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 15:01:14 -0700
Received: from [127.0.0.1] (dslb-088-073-242-080.pools.arcor-ip.net [88.73.242.80])
	(authenticated bits=0)
	by tigger.scc.uni-weimar.de (8.13.5/8.13.5) with ESMTP id k4GM0i6x029289
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <java-user@lucene.apache.org>; Wed, 17 May 2006 00:00:45 +0200 (MEST)
Message-ID: <446A4B8B.5010606@uni-weimar.de>
Date: Wed, 17 May 2006 00:00:43 +0200
From: Franz Coriand <coriand@uni-weimar.de>
Organization: Bauhaus-University Weimar, Germany
User-Agent: Thunderbird 1.5.0.2 (Windows/20060308)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Position of a word in a document?
References: <44687A09.7090600@uni-weimar.de> <200605152022.30239@danielnaber.de> <446A010B.50303@uni-weimar.de> <200605162209.19572@danielnaber.de>
In-Reply-To: <200605162209.19572@danielnaber.de>
Content-Type: multipart/mixed;
 boundary="------------000703070500040800020708"
X-Greylist: Sender succeeded SMTP AUTH authentication, not delayed by milter-greylist-2.0.2 (tigger.scc.uni-weimar.de [141.54.1.3]); Wed, 17 May 2006 00:00:45 +0200 (MEST)
X-Virus-Scanned: by amavisd-new using NAI at mailgate.uni-weimar.de
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------000703070500040800020708
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit


>> But how can I retrieve this information during my search process???
>> I retrieve an object of the Typ Document ... but this object doesn't
>> have a "getPosition()" or "getTermVector()" methode?!
>>     
>
> IndexReader has the appropriate get... methods.

There is a "TermPositions pos = reader.termPositions();" [reader is an 
instance of IndexReader] - but I have no clue, how to get a position of 
a hit in a document. What can I do with TermPosition?

So, I have all hits of my query with "Hits hits = 
searcher.search(query);" - with the help of "hits" I know the 
document(s) where I can find my query ... but how can I retrieve the 
position now?!

Franz




--------------000703070500040800020708
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--------------000703070500040800020708--

From java-user-return-20659-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 16 22:13:33 2006
Return-Path: <java-user-return-20659-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29371 invoked from network); 16 May 2006 22:13:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2006 22:13:14 -0000
Received: (qmail 31798 invoked by uid 500); 16 May 2006 22:13:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31770 invoked by uid 500); 16 May 2006 22:13:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31759 invoked by uid 99); 16 May 2006 22:13:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 15:13:01 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [81.103.221.49] (HELO mtaout03-winn.ispmail.ntl.com) (81.103.221.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 15:13:00 -0700
Received: from aamtaout03-winn.ispmail.ntl.com ([81.103.221.35])
          by mtaout03-winn.ispmail.ntl.com with ESMTP
          id <20060516221235.PJW27969.mtaout03-winn.ispmail.ntl.com@aamtaout03-winn.ispmail.ntl.com>
          for <java-user@lucene.apache.org>;
          Tue, 16 May 2006 23:12:35 +0100
Received: from jhi ([82.15.75.27]) by aamtaout03-winn.ispmail.ntl.com
          with SMTP
          id <20060516221235.RRRV16286.aamtaout03-winn.ispmail.ntl.com@jhi>
          for <java-user@lucene.apache.org>;
          Tue, 16 May 2006 23:12:35 +0100
Message-ID: <004d01c67935$d7602db0$b900a8c0@jhi>
From: "gekkokid" <me@gekkokid.org.uk>
To: <java-user@lucene.apache.org>
References: <20060516215109.GA12676@srvgal17.nuigalway.ie>
Subject: Re: Theoretical Lucene Performance
Date: Tue, 16 May 2006 23:12:35 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2869
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

http://lucenebook.com

http://www.amazon.com/exec/obidos/asin/1932394281

:)
----- Original Message ----- 
From: "Andreas Harth" <andreas.harth@deri.org>
To: <java-user@lucene.apache.org>
Sent: Tuesday, May 16, 2006 10:51 PM
Subject: Theoretical Lucene Performance


> Hello,
> 
> I'd like to learn a bit more about the index organization of
> Lucene (ideally without sifting through source code).
> 
> Are there any publications that explain the Lucene indexing
> structure in detail?  Or is it possible to say in a few sentences
> how Lucene works and I can look up the details in a text book
> (e.g. Baeza-Yates/Ribeiro-Neto)?
> 
> Many thanks in advance!
> 
> Regards,
> Andreas.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20660-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 16 23:42:56 2006
Return-Path: <java-user-return-20660-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61711 invoked from network); 16 May 2006 23:42:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 May 2006 23:42:56 -0000
Received: (qmail 32557 invoked by uid 500); 16 May 2006 23:42:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32529 invoked by uid 500); 16 May 2006 23:42:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32518 invoked by uid 99); 16 May 2006 23:42:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 16:42:50 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 16:42:49 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 211E95B76C; Tue, 16 May 2006 16:42:21 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 151877F403
	for <java-user@lucene.apache.org>; Tue, 16 May 2006 16:42:21 -0700 (PDT)
Date: Tue, 16 May 2006 16:42:21 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Position of a word in a document?
In-Reply-To: <446A4B8B.5010606@uni-weimar.de>
Message-ID: <Pine.LNX.4.58.0605161634450.27733@hal.rescomp.berkeley.edu>
References: <44687A09.7090600@uni-weimar.de> <200605152022.30239@danielnaber.de>
 <446A010B.50303@uni-weimar.de> <200605162209.19572@danielnaber.de>
 <446A4B8B.5010606@uni-weimar.de>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: There is a "TermPositions pos = reader.termPositions();" [reader is an
: instance of IndexReader] - but I have no clue, how to get a position of
: a hit in a document. What can I do with TermPosition?
:
: So, I have all hits of my query with "Hits hits =
: searcher.search(query);" - with the help of "hits" I know the
: document(s) where I can find my query ... but how can I retrieve the
: position now?!

Start by understanding the TermDocs API -- TermPositions subclasses it.
TermDocs provides a way to iterate over docid,frequency pirs ..
TermPositions adds another dimension to the iteration by letting you
iterate over the positions within the document that a term appears in.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20661-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 04:20:13 2006
Return-Path: <java-user-return-20661-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19176 invoked from network); 17 May 2006 04:20:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 04:20:12 -0000
Received: (qmail 22775 invoked by uid 500); 17 May 2006 04:20:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22638 invoked by uid 500); 17 May 2006 04:20:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22627 invoked by uid 99); 17 May 2006 04:20:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 21:20:05 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [12.154.210.214] (HELO rectangular.com) (12.154.210.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 May 2006 21:20:03 -0700
Received: from p00.ohwy.com ([12.154.210.213] helo=[192.168.4.8])
	by rectangular.com with esmtpa (Exim 4.44)
	id 1FgDdM-0001xP-KY
	for java-user@lucene.apache.org; Tue, 16 May 2006 21:27:40 -0700
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <4469A662.6090407@naukri.com>
References: <200605161004.k4GA4OZU044340@pigeon.ciao.com> <4469A662.6090407@naukri.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <0E1423F2-DD3C-424D-84D1-7ED0BB795F44@rectangular.com>
Content-Transfer-Encoding: 7bit
From: Marvin Humphrey <marvin@rectangular.com>
Subject: Re: Aggregating category hits
Date: Tue, 16 May 2006 21:19:40 -0700
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Thanks, all.

The field cache and the bitsets both seem like good options until the  
collection grows too large, provided that the index does not need to  
be updated very frequently.  Then for large collections, there's  
statistical sampling.  Any of those options seems preferable to  
retrieving all docs all the time.

Marvin Humphrey
Rectangular Research
http://www.rectangular.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20662-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 11:53:39 2006
Return-Path: <java-user-return-20662-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37127 invoked from network); 17 May 2006 11:53:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 11:53:03 -0000
Received: (qmail 13439 invoked by uid 500); 17 May 2006 11:52:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13409 invoked by uid 500); 17 May 2006 11:52:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13398 invoked by uid 99); 17 May 2006 11:52:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 04:52:48 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.146.177.43] (HELO web26211.mail.ukl.yahoo.com) (217.146.177.43)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 17 May 2006 04:52:48 -0700
Received: (qmail 75442 invoked by uid 60001); 17 May 2006 11:52:26 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.es;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=kJsBNVfzAFhYFcI2Uq7tynXGlOWrxMyoHWZV2swtkQLjAXDk4xgzMSC5d+6ht35resmknKNZjXkgGYl3Kg3gYmRolqqwkqUvw8osQ6RDkV6ic0XU+JpjWeIjnlXRrsYMFk6Gw7vZWgWfssyJT+7nh8o/zmhstilYe5aV0O9jZac=  ;
Message-ID: <20060517115226.75440.qmail@web26211.mail.ukl.yahoo.com>
Received: from [195.55.30.21] by web26211.mail.ukl.yahoo.com via HTTP; Wed, 17 May 2006 13:52:26 CEST
Date: Wed, 17 May 2006 13:52:26 +0200 (CEST)
From: =?iso-8859-1?q?Alberto=20Marqu=FFffffe9s?= <alberto_marques@yahoo.es>
Subject: lucene
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-61139822-1147866746=:74773"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-61139822-1147866746=:74773
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

My question if is once created indices in a directory I I can add more indices without having to erase the previous directory that already I have created.   

Since I need to be continuously adding files indice, thus not if Lucene does what I need.  

My language is the Spanish does not exist support for this language???.



		
---------------------------------

LLama Gratis a cualquier PC del Mundo.
Llamadas a fijos y mviles desde 1 cntimo por minuto.
http://es.voice.yahoo.com
--0-61139822-1147866746=:74773--

From java-user-return-20663-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 12:23:18 2006
Return-Path: <java-user-return-20663-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48056 invoked from network); 17 May 2006 12:21:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 12:21:07 -0000
Received: (qmail 46183 invoked by uid 500); 17 May 2006 12:20:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45780 invoked by uid 500); 17 May 2006 12:20:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45769 invoked by uid 99); 17 May 2006 12:20:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 05:20:11 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.79.216.190] (HELO cluster-e.mailcontrol.com) (217.79.216.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 05:20:10 -0700
Received: from c1-ex002.groupinfra.com ([213.86.115.109])
	by rly25e.srv.mailcontrol.com (MailControl) with ESMTP id k4HCIsDD009215
	for <java-user@lucene.apache.org>; Wed, 17 May 2006 13:19:48 +0100
Received: from uk-ex004.groupinfra.com ([158.234.68.230]) by c1-ex002.groupinfra.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 17 May 2006 13:19:43 +0100
Received: from uk-ex010.groupinfra.com ([158.234.9.225]) by uk-ex004.groupinfra.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 17 May 2006 13:19:43 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Building queries
Date: Wed, 17 May 2006 13:19:43 +0100
Message-ID: <56A91B627656434C829D393A7151DA420112107E@uk-ex010.groupinfra.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Building queries
Thread-Index: AcZ5rC3G8N2yBRp8SZijMNL36ClkAg==
From: "Irving, Dave" <dave.irving@logicacmg.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 17 May 2006 12:19:43.0744 (UTC) FILETIME=[2DDD2000:01C679AC]
X-Scanned-By: MailControl A-06-00-05 (www.mailcontrol.com) on 10.69.0.135
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

First - thanks for Lucene! I started working with it a few days ago,
bought the Lucene In Action book, and Im very impressed with both.

Im integrating search in to an existing pet-project web application
where new fields for index / search may be added via configuration.
My idea is to have a simple FieldMetaData concept which provides info on
the type of data, the analyzer (if any) used for the field, boosts etc.
This would allow both the indexing front end and the search front end to
be driven by this meta-data.

This led me to two questions:

1) Are there any "best / common practises" for this that I've missed
during my web searches and reading of Lucene in Action?

2) I don't want to release the full query syntax to users: So I'll
probably have multiple fields in the UI, and then construct them in to a
query at the server side. One thing that is mentioned quite a bit in
docs is that the same analyser needs to be used when querying as was
used when indexing. Im guessing my FieldMetaData concept will help a bit
here - as I'll be able to track the analyser type employed for a field.
So, I just need to run the terms entered by the user in each field
against the appropriate analyser, and build up the query that way. Does
that sound like a sensible approach? Are there any code samples around
showing how to run search phrases through analysers and build up a
query?

Many thanks in advance for any help,

Dave


This e-mail and any attachment is for authorised use by the intended recipi=
ent(s) only. It may contain proprietary material, confidential information =
and/or be subject to legal privilege. It should not be copied, disclosed to=
, retained or used by, any other party. If you are not an intended recipien=
t then please promptly delete this e-mail and any attachment and all copies=
 and inform the sender. Thank you.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20664-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 12:24:26 2006
Return-Path: <java-user-return-20664-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49564 invoked from network); 17 May 2006 12:23:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 12:23:58 -0000
Received: (qmail 54433 invoked by uid 500); 17 May 2006 12:23:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54407 invoked by uid 500); 17 May 2006 12:23:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54343 invoked by uid 99); 17 May 2006 12:23:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 05:23:41 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 194.52.12.17 is neither permitted nor denied by domain of marcus.falck@observer.se)
Received: from [194.52.12.17] (HELO mail1.observergroup.com) (194.52.12.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 05:23:40 -0700
Received: (qmail 10552 invoked by uid 509); 17 May 2006 14:23:16 +0200
Received: from 10.8.1.20 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.20):. 
 Processed in 0.096691 secs); 17 May 2006 12:23:16 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.20):. Processed in 0.096691 secs Process 10546)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.20)
  by mail1.observergroup.com with SMTP; 17 May 2006 14:23:16 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C679AC.AC847201"
Subject: Sort problematics
Date: Wed, 17 May 2006 14:23:16 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C01AF1FF6@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Sort problematics
Thread-Index: AcZ5rKxtGlus1rh3QjaTmLV2UZ27BA==
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C679AC.AC847201
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

=20

I did a quite interesting notice, if i search for IndexId:x

  (IndexId is unique) with a sort it still takes very long time, which=20

 it doesn't without the sort.=20

=20

Does anybody know why? I mean the resultset=20

 contains exactly 1 document.

=20

/Regards

Marcus


------_=_NextPart_001_01C679AC.AC847201--

From java-user-return-20665-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 12:40:52 2006
Return-Path: <java-user-return-20665-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56182 invoked from network); 17 May 2006 12:40:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 12:40:33 -0000
Received: (qmail 82439 invoked by uid 500); 17 May 2006 12:40:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81990 invoked by uid 500); 17 May 2006 12:40:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81979 invoked by uid 99); 17 May 2006 12:40:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 05:40:22 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.179 as permitted sender)
Received: from [64.233.166.179] (HELO py-out-1112.google.com) (64.233.166.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 05:40:21 -0700
Received: by py-out-1112.google.com with SMTP id c39so242750pyd
        for <java-user@lucene.apache.org>; Wed, 17 May 2006 05:40:01 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=D4WhrvG4cTkQg0eobX1TgwbQqIO/wvDIQ+fPWZGd+5GW/plYSwTPiQSHeoTNVfsiApyF8aDgb/k4JDXecfwo20n4BxJ0RO+wJrC+qHMx3O4CkpYlwekeLejl0PBVqIkAUNQiSK2WFiGGOlfFM0cdgVDF80OMp7diC/pXFuZYgus=
Received: by 10.35.101.9 with SMTP id d9mr978048pym;
        Wed, 17 May 2006 05:40:00 -0700 (PDT)
Received: by 10.35.17.5 with HTTP; Wed, 17 May 2006 05:40:00 -0700 (PDT)
Message-ID: <359a92830605170540i42a31519wb226fc71ec7a887c@mail.gmail.com>
Date: Wed, 17 May 2006 08:40:00 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: lucene
In-Reply-To: <20060517115226.75440.qmail@web26211.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_93744_28821327.1147869600590"
References: <20060517115226.75440.qmail@web26211.mail.ukl.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_93744_28821327.1147869600590
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Alberto:

Not a problem. You can add more data to an index even as it is being read b=
y
your application.

HOWEVER, you must close and reopen your IndexReaders before the
newly-indexed data is available to the readers. This is an expensive
operation, so I would close/open the IndexReader judiciously.

NOTE: when you instantiate the IndexWriter, use false for the create
parameter or you'll erase your existing index.

You can also create an index in a *different* directory and then use a
MultiReader or Searcher, but that requires re-compiling your application to
add in the new indexes, and I assume that's not what you want.

I don't know about Spanish support.

Best
Erick

------=_Part_93744_28821327.1147869600590--

From java-user-return-20666-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 12:58:34 2006
Return-Path: <java-user-return-20666-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62398 invoked from network); 17 May 2006 12:57:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 12:57:06 -0000
Received: (qmail 8452 invoked by uid 500); 17 May 2006 12:56:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8423 invoked by uid 500); 17 May 2006 12:56:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8412 invoked by uid 99); 17 May 2006 12:56:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 05:56:38 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.176 as permitted sender)
Received: from [64.233.166.176] (HELO py-out-1112.google.com) (64.233.166.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 05:56:37 -0700
Received: by py-out-1112.google.com with SMTP id c39so246904pyd
        for <java-user@lucene.apache.org>; Wed, 17 May 2006 05:56:16 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=QP87mRO+q3WP4C1RIz/Jc9FPJRYKrcsqaI20aRXgNv4uvhtt1X71TYFiZHgAVPS6gYgXZjGWdSccXYzmV7kPuzjqzWE+Yer4E3EP7gUNQP16KaCBcU2PgpUyLnVGIuWw1iWa2S975HrPBANb+jTw1cqFlyh6376gUeaw58eWuFs=
Received: by 10.35.36.13 with SMTP id o13mr1027969pyj;
        Wed, 17 May 2006 05:56:16 -0700 (PDT)
Received: by 10.35.17.5 with HTTP; Wed, 17 May 2006 05:56:16 -0700 (PDT)
Message-ID: <359a92830605170556t240b34b8r825743b4d3a891de@mail.gmail.com>
Date: Wed, 17 May 2006 08:56:16 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Building queries
In-Reply-To: <56A91B627656434C829D393A7151DA420112107E@uk-ex010.groupinfra.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_94096_4382245.1147870576541"
References: <56A91B627656434C829D393A7151DA420112107E@uk-ex010.groupinfra.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_94096_4382245.1147870576541
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

See below...

1) Are there any "best / common practises" for this that I've missed
> during my web searches and reading of Lucene in Action?


OF COURSE there are <G>, but I don't know where they are either..


2) I don't want to release the full query syntax to users: So I'll
> probably have multiple fields in the UI, and then construct them in to a
> query at the server side. One thing that is mentioned quite a bit in
> docs is that the same analyser needs to be used when querying as was
> used when indexing. Im guessing my FieldMetaData concept will help a bit
> here - as I'll be able to track the analyser type employed for a field.
> So, I just need to run the terms entered by the user in each field
> against the appropriate analyser, and build up the query that way. Does
> that sound like a sensible approach? Are there any code samples around
> showing how to run search phrases through analysers and build up a
> query?
>
> Warning! I'm relatively new to Lucene to, so you are warned.. What I did
was add in the underlying index terms to the string, and use a
PerFieldAnalyzerWrapper to "do the right thing" with QueryParser. Kinda lik=
e
this...

Let's say you have two fields, F1 and F2 that are indexed as IDX1 and IDX2.
The user enters "clause1" and "clause2" in the fields, respectively.
Construct something like
IDX1:(clause1) IDX2:(clause2) as a string.
Construct a PerFieldAnalyzerWrapper for fields IDX1 and IDX2, call it pFAW

Construct a QueryParser (qp) with the default field and analyzer wrapper
(pFAW), and then you can call qp.parse(constructed string);

Additional warning: watch out for TooManyClausesException if you intend to
allow wildcards. See the thread in this list "I just don't get wildcards at
all" for an exposition "the guys" gave me on this issue.

Best
Erick

------=_Part_94096_4382245.1147870576541--

From java-user-return-20667-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 13:05:11 2006
Return-Path: <java-user-return-20667-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64598 invoked from network); 17 May 2006 13:03:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 13:03:45 -0000
Received: (qmail 23023 invoked by uid 500); 17 May 2006 13:03:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22999 invoked by uid 500); 17 May 2006 13:03:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22988 invoked by uid 99); 17 May 2006 13:03:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 06:03:11 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.207.119.238] (HELO mail.netsweeper.com) (66.207.119.238)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 06:03:10 -0700
Received: from kobele.netsweeper.com ([192.168.1.181])
	by mail.netsweeper.com (8.12.11/8.12.11) with ESMTP id k4HD2bZS019939
	for <java-user@lucene.apache.org>; Wed, 17 May 2006 09:02:37 -0400
From: Martin Kobele <martin.kobele@netsweeper.com>
Reply-To: martin.kobele@netsweeper.com
Organization: Netsweeper Inc
To: java-user@lucene.apache.org
Subject: Some documents are not added to the index
Date: Wed, 17 May 2006 09:02:24 -0400
User-Agent: KMail/1.9.1
X-Face: 'Hg*nnc?-\\wB.#~W"O5hQ,b%:&[TGXGb4s<t+.W~W!/_mV@xzrS=pN0(=?utf-8?q?ETzKvX3=5E=25eqTj=0A=09=2E=23=7BUNfQz=5EhwgOKc=2Es=23rw!?=,7^!mGYLwvK
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605170902.24190.martin.kobele@netsweeper.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

several threads add document to the same index.
As noted in the FAQ, adding documents is thread safe.
(I even synchronize my static index writer when I add documents. just to make 
sure.)

However, after addind all my documents, the index does not contain all of the 
documents. When I run it again, I get either a different number of documents 
or in rare cases the actual number of docs which I added.
I get better results if I have only one thread adding docs.

How can I check whether a document was actually added?
Is there another way to monitor whether the doc was added?

Thanks!

Regards,
Martin


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20668-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 13:09:21 2006
Return-Path: <java-user-return-20668-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66516 invoked from network); 17 May 2006 13:08:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 13:08:38 -0000
Received: (qmail 32474 invoked by uid 500); 17 May 2006 13:08:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31929 invoked by uid 500); 17 May 2006 13:08:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31918 invoked by uid 99); 17 May 2006 13:08:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 06:08:15 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.172] (HELO hnexfe06.hetnet.nl) (195.121.6.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 06:08:13 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe06.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Wed, 17 May 2006 15:07:50 +0200
Subject: Re: Sort problematics
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C01AF1FF6@S1SE1MAIL.emea1.ad.group>
References:
	 <8834A84C87A2C148AD46921BB8BFC97C01AF1FF6@S1SE1MAIL.emea1.ad.group>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Wed, 17 May 2006 15:07:49 +0200
Message-Id: <1147871269.4926.25.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 17 May 2006 13:07:50.0452 (UTC) FILETIME=[E679CF40:01C679B2]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wed, 2006-05-17 at 14:23 +0200, Marcus Falck wrote:
>  
> I did a quite interesting notice, if i search for IndexId:x
> (IndexId is unique) with a sort it still takes very long time, which 
> it doesn't without the sort.  
> 
> Does anybody know why? I mean the resultset contains exactly 1
> document.

Can you post some code with this?


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20669-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 13:15:06 2006
Return-Path: <java-user-return-20669-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68281 invoked from network); 17 May 2006 13:14:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 13:14:30 -0000
Received: (qmail 46594 invoked by uid 500); 17 May 2006 13:14:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46556 invoked by uid 500); 17 May 2006 13:14:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46538 invoked by uid 99); 17 May 2006 13:14:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 06:14:14 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.79.216.190] (HELO cluster-e.mailcontrol.com) (217.79.216.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 06:14:11 -0700
Received: from c1-ex001.groupinfra.com ([213.86.115.108])
	by rly12e.srv.mailcontrol.com (MailControl) with ESMTP id k4HDDghI007350
	for <java-user@lucene.apache.org>; Wed, 17 May 2006 14:13:49 +0100
Received: from uk-ex003.groupinfra.com ([158.234.38.247]) by c1-ex001.groupinfra.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 17 May 2006 14:13:46 +0100
Received: from uk-ex010.groupinfra.com ([158.234.9.225]) by uk-ex003.groupinfra.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 17 May 2006 14:13:46 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Building queries
Date: Wed, 17 May 2006 14:13:46 +0100
Message-ID: <56A91B627656434C829D393A7151DA420112107F@uk-ex010.groupinfra.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Building queries
Thread-Index: AcZ5sVuwyU2mcJhWQOO6eIoZbvJISwAARQcQ
From: "Irving, Dave" <dave.irving@logicacmg.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 17 May 2006 13:13:46.0528 (UTC) FILETIME=[BAB6B200:01C679B3]
X-Scanned-By: MailControl A-06-00-05 (www.mailcontrol.com) on 10.69.0.122
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,=20

...

>> So, I just need to run the terms entered by the user in each field=20
>> against the appropriate analyser, and build up the query that way.=20
>> Does that sound like a sensible approach? Are there any=20
>> code samples=20
>> around showing how to run search phrases through analysers=20
>> and build=20
>> up a query?
>>

> Warning! I'm relatively new to Lucene to, so you are=20
> warned.. What I=20
> did
> was add in the underlying index terms to the string, and use=20
> a PerFieldAnalyzerWrapper to "do the right thing" with=20
> QueryParser. Kinda like this...
>=20
> Let's say you have two fields, F1 and F2 that are indexed as=20
> IDX1 and IDX2.
> The user enters "clause1" and "clause2" in the fields, respectively.
> Construct something like
> IDX1:(clause1) IDX2:(clause2) as a string.
> Construct a PerFieldAnalyzerWrapper for fields IDX1 and IDX2,=20
> call it pFAW
>=20
> Construct a QueryParser (qp) with the default field and=20
> analyzer wrapper (pFAW), and then you can call=20
> qp.parse(constructed string);
>=20

If I understand that correctly, you're saying I supply QueryParser with
a per field analyser wrapper which delegates to the correct analyser for
each field - allowing Query Parser to build up the correct query - yeah?

This kinda leads me back to my "best practises" question: If Im building
up the query dynamically based off of several fields (rather than the
user entering a Lucene Query), Im kind of wondering If I should be using
query parser at all...?! I keep feeling that maybe I should just be
building up the Query programatically (although dynamically) based off
the fields.

But all the examples I can find seem to transform already split UI
fields back in to a single lucene query string and then put them through
a parser.=20
However, if I don't use the QueryParser, I guess I've got to manually
run each field through the appropriate analyser as Im building up the
query terms.=20



> Additional warning: watch out for TooManyClausesException if=20
> you intend to allow wildcards. See the thread in this list "I=20
> just don't get wildcards at all" for an exposition "the guys"=20
> gave me on this issue.

Thanks for the tip - I don't think I'll be using wildcards though - so
hopefully I'll escape this problem :o)

> Best
> Erick
>=20


This e-mail and any attachment is for authorised use by the intended recipi=
ent(s) only. It may contain proprietary material, confidential information =
and/or be subject to legal privilege. It should not be copied, disclosed to=
, retained or used by, any other party. If you are not an intended recipien=
t then please promptly delete this e-mail and any attachment and all copies=
 and inform the sender. Thank you.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20670-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 13:39:08 2006
Return-Path: <java-user-return-20670-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87965 invoked from network); 17 May 2006 13:39:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 13:39:08 -0000
Received: (qmail 5440 invoked by uid 500); 17 May 2006 13:39:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5414 invoked by uid 500); 17 May 2006 13:39:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5403 invoked by uid 99); 17 May 2006 13:39:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 06:39:01 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.207.119.238] (HELO mail.netsweeper.com) (66.207.119.238)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 06:39:00 -0700
Received: from kobele.netsweeper.com ([192.168.1.181])
	by mail.netsweeper.com (8.12.11/8.12.11) with ESMTP id k4HDcIeB024136;
	Wed, 17 May 2006 09:38:18 -0400
From: Martin Kobele <martin.kobele@netsweeper.com>
Reply-To: martin.kobele@netsweeper.com
Organization: Netsweeper Inc
To: karl wettin <kalle@snigel.net>, java-user@lucene.apache.org
Subject: Re: Some documents are not added to the index
Date: Wed, 17 May 2006 09:38:05 -0400
User-Agent: KMail/1.9.1
References: <200605170902.24190.martin.kobele@netsweeper.com> <1147871377.4926.27.camel@localhost>
In-Reply-To: <1147871377.4926.27.camel@localhost>
X-Face: 'Hg*nnc?-\\wB.#~W"O5hQ,b%:&[TGXGb4s<t+.W~W!/_mV@xzrS=pN0(=?utf-8?q?ETzKvX3=5E=25eqTj=0A=09=2E=23=7BUNfQz=5EhwgOKc=2Es=23rw!?=,7^!mGYLwvK
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-15"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605170938.05535.martin.kobele@netsweeper.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wednesday 17 May 2006 09:09, karl wettin wrote:
> On Wed, 2006-05-17 at 09:02 -0400, Martin Kobele wrote:
> > How can I check whether a document was actually added?
> > Is there another way to monitor whether the doc was added?
>
> Luke is your friend when it comes to inspecting indices.
> <http://www.getopt.org/luke>

yes, I use that. That's how I know that not all documents are in the index ;)

> Sometimes IndexWriter.setInfoStream is enough.
> <http://lucene.apache.org/java/docs/api/org/apache/lucene/index/IndexWriter
>.html#setInfoStream(java.io.PrintStream)>

I'm adding 512 documents to an index. 20 threads are writing into the index.
I set the setInfoStream to System.out. I got an index with 419 documents and 
no messages on stdout :(.
Weird.

Martin

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20671-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 13:42:37 2006
Return-Path: <java-user-return-20671-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89946 invoked from network); 17 May 2006 13:42:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 13:42:37 -0000
Received: (qmail 13855 invoked by uid 500); 17 May 2006 13:42:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13828 invoked by uid 500); 17 May 2006 13:42:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13817 invoked by uid 99); 17 May 2006 13:42:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 06:42:30 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 06:42:29 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 6D1ED33CADC; Wed, 17 May 2006 09:42:08 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id 2F0A333CADC
	for <java-user@lucene.apache.org>; Wed, 17 May 2006 09:42:07 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <56A91B627656434C829D393A7151DA420112107E@uk-ex010.groupinfra.com>
References: <56A91B627656434C829D393A7151DA420112107E@uk-ex010.groupinfra.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <269FF86F-CC12-4E6E-B311-CF6076B8A14B@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Building queries
Date: Wed, 17 May 2006 09:42:04 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 17, 2006, at 8:19 AM, Irving, Dave wrote:
> First - thanks for Lucene! I started working with it a few days ago,
> bought the Lucene In Action book, and Im very impressed with both.

Thank you for the latter!  For the former, thanks go to Doug and many  
others.

> Im integrating search in to an existing pet-project web application
> where new fields for index / search may be added via configuration.
> My idea is to have a simple FieldMetaData concept which provides  
> info on
> the type of data, the analyzer (if any) used for the field, boosts  
> etc.
> This would allow both the indexing front end and the search front  
> end to
> be driven by this meta-data.
>
> This led me to two questions:
>
> 1) Are there any "best / common practises" for this that I've missed
> during my web searches and reading of Lucene in Action?

The case studies chapter has some examples of metadata driven  
configuration as in TheServerSide section.  There aren't any "best  
practices" in this regard.  Every environment has a different way to  
configure it some via JNDI, some via deployment descriptors, most  
probably hard-coded, some via .properties files, some via Ant build  
files (see contrib/ant), and so on.  Solr and Nutch are projects that  
leverage Lucene underneath and add a layer of configurability on top  
- you can check out how they've done this.

> 2) I don't want to release the full query syntax to users: So I'll
> probably have multiple fields in the UI, and then construct them in  
> to a
> query at the server side. One thing that is mentioned quite a bit in
> docs is that the same analyser needs to be used when querying as was
> used when indexing. Im guessing my FieldMetaData concept will help  
> a bit
> here - as I'll be able to track the analyser type employed for a  
> field.
> So, I just need to run the terms entered by the user in each field
> against the appropriate analyser, and build up the query that way.  
> Does
> that sound like a sensible approach? Are there any code samples around
> showing how to run search phrases through analysers and build up a
> query?

Yup, as mentioned earlier, PerFieldAnalyzerWrapper is handy in this  
scenario.

	Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20672-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 13:44:31 2006
Return-Path: <java-user-return-20672-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90407 invoked from network); 17 May 2006 13:44:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 13:44:31 -0000
Received: (qmail 19169 invoked by uid 500); 17 May 2006 13:44:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19126 invoked by uid 500); 17 May 2006 13:44:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19113 invoked by uid 99); 17 May 2006 13:44:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 06:44:18 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 194.52.12.17 is neither permitted nor denied by domain of marcus.falck@observer.se)
Received: from [194.52.12.17] (HELO mail1.observergroup.com) (194.52.12.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 06:44:16 -0700
Received: (qmail 25860 invoked by uid 509); 17 May 2006 15:43:52 +0200
Received: from 10.8.1.20 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.20):. 
 Processed in 0.179208 secs); 17 May 2006 13:43:52 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.20):. Processed in 0.179208 secs Process 25851)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.20)
  by mail1.observergroup.com with SMTP; 17 May 2006 15:43:52 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C679B7.EEE88418"
Subject: Boost problems
Date: Wed, 17 May 2006 15:43:51 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C01AF223A@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Boost problems
Thread-Index: AcZ5t+6fxQCVDsIKSASHkVU3366xwA==
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C679B7.EEE88418
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hello,

=20

I have run in to problems regarding boosting of documents, using
lucene.net 1.4.3 (so if anybody runs the java version and feel for
running my posted source code please do so and see if the result is the
same).

=20

The following code:

       // The following example illustrates the boost problematic

       Document doc =3D new Document();

       doc.Add(Field.Text("BodyText", "My name is Marcus"));

       doc.SetBoost(2); // <-- Set the boost to 2

=20

       // Create index

IndexWriter iw =3D new IndexWriter(@"c:\ixtest", new StandardAnalyzer(),
true);

       iw.AddDocument(doc);

       iw.Optimize();

       iw.Close();

=20

       // Search

       Searcher s =3D new IndexSearcher(@"c:\ixtest");

       Query q =3D QueryParser.Parse("BodyText:name",null, new
StandardAnalyzer());

      =20

       Hits h =3D s.Search(q);

       Console.WriteLine( h.Doc(0).GetField("BodyText").StringValue() );

       Console.WriteLine( h.Doc(0).GetBoost());

       s.Close();

=20

Outputs:

My name is Marcus

1

=20

Why does it reply with 1 as boost? Shouldn't this value be 2?

=20

/

Regards=20

Marcus=20

=20


------_=_NextPart_001_01C679B7.EEE88418--

From java-user-return-20673-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 13:55:37 2006
Return-Path: <java-user-return-20673-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93628 invoked from network); 17 May 2006 13:55:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 13:55:36 -0000
Received: (qmail 38318 invoked by uid 500); 17 May 2006 13:55:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37809 invoked by uid 500); 17 May 2006 13:55:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37796 invoked by uid 99); 17 May 2006 13:55:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 06:55:30 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.176] (HELO hnexfe10.hetnet.nl) (195.121.6.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 06:55:29 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe10.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Wed, 17 May 2006 15:55:06 +0200
Subject: Re: Some documents are not added to the index
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <200605170938.05535.martin.kobele@netsweeper.com>
References: <200605170902.24190.martin.kobele@netsweeper.com>
	 <1147871377.4926.27.camel@localhost>
	 <200605170938.05535.martin.kobele@netsweeper.com>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Wed, 17 May 2006 15:55:05 +0200
Message-Id: <1147874106.4926.73.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 17 May 2006 13:55:06.0930 (UTC) FILETIME=[81260120:01C679B9]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wed, 2006-05-17 at 09:38 -0400, Martin Kobele wrote:
> On Wednesday 17 May 2006 09:09, karl wettin wrote:
> > On Wed, 2006-05-17 at 09:02 -0400, Martin Kobele wrote:
> > > How can I check whether a document was actually added?
> > > Is there another way to monitor whether the doc was added?
> >
> > Luke is your friend when it comes to inspecting indices.
> > <http://www.getopt.org/luke>
> 
> yes, I use that. That's how I know that not all documents are in the index ;)
> 
> > Sometimes IndexWriter.setInfoStream is enough.
> > <http://lucene.apache.org/java/docs/api/org/apache/lucene/index/IndexWriter
> >.html#setInfoStream(java.io.PrintStream)>
> 
> I'm adding 512 documents to an index. 20 threads are writing into the index.
> I set the setInfoStream to System.out. I got an index with 419 documents and 
> no messages on stdout :(.

Can you make a small test case that produce this error and post the code
here? 

I can only guess out of the blue. Do you clear the index now and then
when creating a new IndexWriter? You say there is only one instance of
that so that would not be it then.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20674-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 14:00:05 2006
Return-Path: <java-user-return-20674-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98569 invoked from network); 17 May 2006 14:00:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 14:00:04 -0000
Received: (qmail 54165 invoked by uid 500); 17 May 2006 13:59:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54130 invoked by uid 500); 17 May 2006 13:59:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54119 invoked by uid 99); 17 May 2006 13:59:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 06:59:57 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.85.27] (HELO web36610.mail.mud.yahoo.com) (209.191.85.27)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 17 May 2006 06:59:56 -0700
Received: (qmail 8915 invoked by uid 60001); 17 May 2006 13:59:36 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=IOETRGjLVQj2EPUN0GXDBwFxhhI732aRUUa8mlZ/G+BK0IiwEmklbAb4N9eClkmGcWEXWardjjr+yqtwHBm5dAYQbd4AszPTpqZyPWVfHmaDhUYMpAUpclIxTbIWFD1XBtoo612i+mvbKTbBMuZVug14SvsPS9V3C4kGprE2o1c=  ;
Message-ID: <20060517135935.8913.qmail@web36610.mail.mud.yahoo.com>
Date: Wed, 17 May 2006 06:59:35 -0700 (PDT)
From: Marc Dauncey <marc_dauncey@yahoo.com>
Reply-To: Marc Dauncey <marc_dauncey@yahoo.com>
Subject: Re: Building queries
To: java-user@lucene.apache.org
In-Reply-To: <269FF86F-CC12-4E6E-B311-CF6076B8A14B@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm working on designing this kind of meta configuration on top of some Lucene indexes right now.  The company I work for has several different "products" which have to be indexed and searched, each with their own field list.  Sometimes products will map to many individual Lucene indexes.

The structure I've come up with works via xml configuration files (read and written using digester).  I have entities for field meta data which are aggregated into a FieldMap object.  Each product can have one or more FieldMaps which are used during parsing and indexing for each indexable unit that is processed.

I am then grouping multiple products together into a "Search Application" - I want to build multisearchers for each of these, plus a load of filters to support narrowing down of query criteria based on the users input on the search form.

At a later stage, will build a web admin console which will let administrators edit and create new products, applications, fields etc. Not sure if I can also use the LIMO libraries for some index monitoring within the app too.

We intend to build our own version of a query parser to allow finer control - especially in as regards the toomanylcauses exception.

Hope this gives you some ideas, Dave.

Marc

----- Original Message ----
From: Erik Hatcher <erik@ehatchersolutions.com>
To: java-user@lucene.apache.org
Sent: Wednesday, 17 May, 2006 2:42:04 PM
Subject: Re: Building queries


On May 17, 2006, at 8:19 AM, Irving, Dave wrote:
> First - thanks for Lucene! I started working with it a few days ago,
> bought the Lucene In Action book, and Im very impressed with both.

Thank you for the latter!  For the former, thanks go to Doug and many  
others.

> Im integrating search in to an existing pet-project web application
> where new fields for index / search may be added via configuration.
> My idea is to have a simple FieldMetaData concept which provides  
> info on
> the type of data, the analyzer (if any) used for the field, boosts  
> etc.
> This would allow both the indexing front end and the search front  
> end to
> be driven by this meta-data.
>
> This led me to two questions:
>
> 1) Are there any "best / common practises" for this that I've missed
> during my web searches and reading of Lucene in Action?

The case studies chapter has some examples of metadata driven  
configuration as in TheServerSide section.  There aren't any "best  
practices" in this regard.  Every environment has a different way to  
configure it some via JNDI, some via deployment descriptors, most  
probably hard-coded, some via .properties files, some via Ant build  
files (see contrib/ant), and so on.  Solr and Nutch are projects that  
leverage Lucene underneath and add a layer of configurability on top  
- you can check out how they've done this.

> 2) I don't want to release the full query syntax to users: So I'll
> probably have multiple fields in the UI, and then construct them in  
> to a
> query at the server side. One thing that is mentioned quite a bit in
> docs is that the same analyser needs to be used when querying as was
> used when indexing. Im guessing my FieldMetaData concept will help  
> a bit
> here - as I'll be able to track the analyser type employed for a  
> field.
> So, I just need to run the terms entered by the user in each field
> against the appropriate analyser, and build up the query that way.  
> Does
> that sound like a sensible approach? Are there any code samples around
> showing how to run search phrases through analysers and build up a
> query?

Yup, as mentioned earlier, PerFieldAnalyzerWrapper is handy in this  
scenario.

    Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20675-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 14:09:32 2006
Return-Path: <java-user-return-20675-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2010 invoked from network); 17 May 2006 14:09:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 14:09:32 -0000
Received: (qmail 76912 invoked by uid 500); 17 May 2006 14:09:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76883 invoked by uid 500); 17 May 2006 14:09:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76872 invoked by uid 99); 17 May 2006 14:09:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 07:09:24 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.79.216.190] (HELO cluster-e.mailcontrol.com) (217.79.216.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 07:09:22 -0700
Received: from c1-ex002.groupinfra.com ([213.86.115.109])
	by rly14e.srv.mailcontrol.com (MailControl) with ESMTP id k4HE8wBq010161
	for <java-user@lucene.apache.org>; Wed, 17 May 2006 15:09:00 +0100
Received: from uk-ex003.groupinfra.com ([158.234.38.247]) by c1-ex002.groupinfra.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 17 May 2006 15:08:59 +0100
Received: from uk-ex010.groupinfra.com ([158.234.9.225]) by uk-ex003.groupinfra.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 17 May 2006 15:08:59 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Building queries
Date: Wed, 17 May 2006 15:08:59 +0100
Message-ID: <56A91B627656434C829D393A7151DA4201121080@uk-ex010.groupinfra.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Building queries
Thread-Index: AcZ5ujTOhxpGWXPMQeqw0UbBCJrSjQAACL3g
From: "Irving, Dave" <dave.irving@logicacmg.com>
To: <java-user@lucene.apache.org>, "Marc Dauncey" <marc_dauncey@yahoo.com>
X-OriginalArrivalTime: 17 May 2006 14:08:59.0965 (UTC) FILETIME=[71AD0ED0:01C679BB]
X-Scanned-By: MailControl A-06-00-05 (www.mailcontrol.com) on 10.69.0.124
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hey - thanks Marc - that's really useful information, thanks so much!
Its really good to hear that someone has already used the "field
metadata" approach - and I definitely think it's the route I'll now be
taking :o)

Thanks,

Dave

> -----Original Message-----
> From: Marc Dauncey [mailto:marc_dauncey@yahoo.com]=20
> Sent: 17 May 2006 15:00
> To: java-user@lucene.apache.org
> Subject: Re: Building queries
>=20
> I'm working on designing this kind of meta configuration on=20
> top of some Lucene indexes right now.  The company I work for=20
> has several different "products" which have to be indexed and=20
> searched, each with their own field list.  Sometimes products=20
> will map to many individual Lucene indexes.
>=20
> The structure I've come up with works via xml configuration=20
> files (read and written using digester).  I have entities for=20
> field meta data which are aggregated into a FieldMap object.=20=20
> Each product can have one or more FieldMaps which are used=20
> during parsing and indexing for each indexable unit that is processed.
>=20
> I am then grouping multiple products together into a "Search=20
> Application" - I want to build multisearchers for each of=20
> these, plus a load of filters to support narrowing down of=20
> query criteria based on the users input on the search form.
>=20
> At a later stage, will build a web admin console which will=20
> let administrators edit and create new products,=20
> applications, fields etc. Not sure if I can also use the LIMO=20
> libraries for some index monitoring within the app too.
>=20
> We intend to build our own version of a query parser to allow=20
> finer control - especially in as regards the toomanylcauses exception.
>=20
> Hope this gives you some ideas, Dave.
>=20
> Marc
>=20
> ----- Original Message ----
> From: Erik Hatcher <erik@ehatchersolutions.com>
> To: java-user@lucene.apache.org
> Sent: Wednesday, 17 May, 2006 2:42:04 PM
> Subject: Re: Building queries
>=20
>=20
> On May 17, 2006, at 8:19 AM, Irving, Dave wrote:
> > First - thanks for Lucene! I started working with it a few=20
> days ago,=20
> > bought the Lucene In Action book, and Im very impressed with both.
>=20
> Thank you for the latter!  For the former, thanks go to Doug=20
> and many others.
>=20
> > Im integrating search in to an existing pet-project web application=20
> > where new fields for index / search may be added via configuration.
> > My idea is to have a simple FieldMetaData concept which=20
> provides info=20
> > on the type of data, the analyzer (if any) used for the=20
> field, boosts=20
> > etc.
> > This would allow both the indexing front end and the search=20
> front end=20
> > to be driven by this meta-data.
> >
> > This led me to two questions:
> >
> > 1) Are there any "best / common practises" for this that=20
> I've missed=20
> > during my web searches and reading of Lucene in Action?
>=20
> The case studies chapter has some examples of metadata driven=20
> configuration as in TheServerSide section.  There aren't any=20
> "best practices" in this regard.  Every environment has a=20
> different way to configure it some via JNDI, some via=20
> deployment descriptors, most probably hard-coded, some via=20
> .properties files, some via Ant build files (see=20
> contrib/ant), and so on.  Solr and Nutch are projects that=20
> leverage Lucene underneath and add a layer of configurability on top
> - you can check out how they've done this.
>=20
> > 2) I don't want to release the full query syntax to users: So I'll=20
> > probably have multiple fields in the UI, and then construct=20
> them in to=20
> > a query at the server side. One thing that is mentioned=20
> quite a bit in=20
> > docs is that the same analyser needs to be used when=20
> querying as was=20
> > used when indexing. Im guessing my FieldMetaData concept=20
> will help a=20
> > bit here - as I'll be able to track the analyser type=20
> employed for a=20
> > field.
> > So, I just need to run the terms entered by the user in each field=20
> > against the appropriate analyser, and build up the query that way.
> > Does
> > that sound like a sensible approach? Are there any code=20
> samples around=20
> > showing how to run search phrases through analysers and build up a=20
> > query?
>=20
> Yup, as mentioned earlier, PerFieldAnalyzerWrapper is handy=20
> in this scenario.
>=20
>     Erik
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20


This e-mail and any attachment is for authorised use by the intended recipi=
ent(s) only. It may contain proprietary material, confidential information =
and/or be subject to legal privilege. It should not be copied, disclosed to=
, retained or used by, any other party. If you are not an intended recipien=
t then please promptly delete this e-mail and any attachment and all copies=
 and inform the sender. Thank you.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20676-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 14:32:04 2006
Return-Path: <java-user-return-20676-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14656 invoked from network); 17 May 2006 14:32:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 14:32:04 -0000
Received: (qmail 33176 invoked by uid 500); 17 May 2006 14:31:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33148 invoked by uid 500); 17 May 2006 14:31:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33137 invoked by uid 99); 17 May 2006 14:31:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 07:31:56 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.166.182 as permitted sender)
Received: from [64.233.166.182] (HELO py-out-1112.google.com) (64.233.166.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 07:31:55 -0700
Received: by py-out-1112.google.com with SMTP id c39so274490pyd
        for <java-user@lucene.apache.org>; Wed, 17 May 2006 07:31:34 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=SavNzm8gEMy2U/EyOm6MrN7vPlHHJtFOhNEKKoOVyq5uNTBkqy5+NX+fyCxt+NJMJBdUCPqfcEqHrHaKpHrDXgfcrKbgucvRC9Ps7U2gU5WU4vXtIJXSg4j5w78IgstkyFBl34iX+kWFZFYUuJWBR1PQTdGx3Rruytyt4wANeM4=
Received: by 10.35.87.8 with SMTP id p8mr1127000pyl;
        Wed, 17 May 2006 07:31:34 -0700 (PDT)
Received: by 10.35.107.3 with HTTP; Wed, 17 May 2006 07:31:34 -0700 (PDT)
Message-ID: <c68e39170605170731p1f99cbfeq6f8993a726039adf@mail.gmail.com>
Date: Wed, 17 May 2006 10:31:34 -0400
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Sort problematics
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C01AF1FF6@S1SE1MAIL.emea1.ad.group>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <8834A84C87A2C148AD46921BB8BFC97C01AF1FF6@S1SE1MAIL.emea1.ad.group>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 5/17/06, Marcus Falck <marcus.falck@observer.se> wrote:
> I did a quite interesting notice, if i search for IndexId:x
>   (IndexId is unique) with a sort it still takes very long time, which
>  it doesn't without the sort.

This will only be the case the first time you sort on a field because
a FieldCache entry is created for that field and then cached for
subsequent sorts.

-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20677-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 16:03:47 2006
Return-Path: <java-user-return-20677-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53706 invoked from network); 17 May 2006 16:03:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 16:03:47 -0000
Received: (qmail 43310 invoked by uid 500); 17 May 2006 16:03:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43273 invoked by uid 500); 17 May 2006 16:03:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43262 invoked by uid 99); 17 May 2006 16:03:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 09:03:40 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.166.181 as permitted sender)
Received: from [64.233.166.181] (HELO py-out-1112.google.com) (64.233.166.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 09:03:40 -0700
Received: by py-out-1112.google.com with SMTP id c39so302209pyd
        for <java-user@lucene.apache.org>; Wed, 17 May 2006 09:03:19 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=pyriOheJekyxNLWJer992Tka96dy933FwNS9aVJkfoyjOymF4UFRt1i/m84tUiXm5Dw4+lWSYziwGoMfuOdeJlgBvhr+AeiWsiGOLivW6DPXubwbrO6/6iMVvfWSOKR/5QMVaKCGKWw8nKMiWI1scCH3ogdlvDCghConX5luRK0=
Received: by 10.35.21.1 with SMTP id y1mr1291611pyi;
        Wed, 17 May 2006 09:03:19 -0700 (PDT)
Received: by 10.35.107.3 with HTTP; Wed, 17 May 2006 09:03:19 -0700 (PDT)
Message-ID: <c68e39170605170903l1a82e9bcu414bea3c0d2c5454@mail.gmail.com>
Date: Wed, 17 May 2006 12:03:19 -0400
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org, martin.kobele@netsweeper.com
Subject: Re: Some documents are not added to the index
In-Reply-To: <200605170902.24190.martin.kobele@netsweeper.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <200605170902.24190.martin.kobele@netsweeper.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 5/17/06, Martin Kobele <martin.kobele@netsweeper.com> wrote:
> several threads add document to the same index.
> As noted in the FAQ, adding documents is thread safe.
> (I even synchronize my static index writer when I add documents. just to =
make
> sure.)
>
> However, after addind all my documents, the index does not contain all of=
 the
> documents.

We add documents via multiple threads all the time... no problems.
Are you explicitly closing the IndexWriter only *after* all of your
theads are finised adding docs?

There may also be a bug in your code that adds the 512 documents (not
synchronizing the clients properly could cause your count to be off).

-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20678-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 16:10:37 2006
Return-Path: <java-user-return-20678-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56201 invoked from network); 17 May 2006 16:10:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 16:10:37 -0000
Received: (qmail 57426 invoked by uid 500); 17 May 2006 16:10:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57370 invoked by uid 500); 17 May 2006 16:10:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57317 invoked by uid 99); 17 May 2006 16:10:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 09:10:22 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.207.119.238] (HELO mail.netsweeper.com) (66.207.119.238)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 09:10:20 -0700
Received: from kobele.netsweeper.com ([192.168.1.181])
	by mail.netsweeper.com (8.12.11/8.12.11) with ESMTP id k4HG9eI2006978
	for <java-user@lucene.apache.org>; Wed, 17 May 2006 12:09:40 -0400
From: Martin Kobele <martin.kobele@netsweeper.com>
Reply-To: martin.kobele@netsweeper.com
Organization: Netsweeper Inc
To: java-user@lucene.apache.org
Subject: Re: Some documents are not added to the index
Date: Wed, 17 May 2006 12:09:27 -0400
User-Agent: KMail/1.9.1
References: <200605170902.24190.martin.kobele@netsweeper.com> <c68e39170605170903l1a82e9bcu414bea3c0d2c5454@mail.gmail.com>
In-Reply-To: <c68e39170605170903l1a82e9bcu414bea3c0d2c5454@mail.gmail.com>
X-Face: 'Hg*nnc?-\\wB.#~W"O5hQ,b%:&[TGXGb4s<t+.W~W!/_mV@xzrS=pN0(=?utf-8?q?ETzKvX3=5E=25eqTj=0A=09=2E=23=7BUNfQz=5EhwgOKc=2Es=23rw!?=,7^!mGYLwvK
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605171209.27823.martin.kobele@netsweeper.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wednesday 17 May 2006 12:03, Yonik Seeley wrote:
> On 5/17/06, Martin Kobele <martin.kobele@netsweeper.com> wrote:
> > several threads add document to the same index.
> > As noted in the FAQ, adding documents is thread safe.
> > (I even synchronize my static index writer when I add documents. just to
> > make sure.)
> >
> > However, after addind all my documents, the index does not contain all of
> > the documents.
>
> We add documents via multiple threads all the time... no problems.
> Are you explicitly closing the IndexWriter only *after* all of your
> theads are finised adding docs?

yes, I wait until all the threads are done.
Then I do a ctrl-c which sends a signal to all threads to close the index 
writer.

>
> There may also be a bug in your code that adds the 512 documents (not
> synchronizing the clients properly could cause your count to be off).
luke tells me how many documents are in my index. I open the index in luke 
after I closed my app.

all I do is this (after creating the document):

synchronized(fswriter){
	fswriter.addDocument(tempDoc);
}


> -Yonik
> http://incubator.apache.org/solr Solr, the open-source Lucene search server
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org

-- 
Martin Kobele
Software Engineer
Netsweeper Inc.
512 Woolwich Street, Suite 4
Guelph, Ontario N1H 3X7
support@netsweeper.com
Tel: 519-826-5222 ext. 224
Fax: 519-826-5228

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20679-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 16:11:39 2006
Return-Path: <java-user-return-20679-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56444 invoked from network); 17 May 2006 16:11:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 16:11:38 -0000
Received: (qmail 61776 invoked by uid 500); 17 May 2006 16:11:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61742 invoked by uid 500); 17 May 2006 16:11:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61731 invoked by uid 99); 17 May 2006 16:11:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 09:11:31 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.207.119.238] (HELO mail.netsweeper.com) (66.207.119.238)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 09:11:30 -0700
Received: from kobele.netsweeper.com ([192.168.1.181])
	by mail.netsweeper.com (8.12.11/8.12.11) with ESMTP id k4HGAqoQ007010
	for <java-user@lucene.apache.org>; Wed, 17 May 2006 12:10:53 -0400
From: Martin Kobele <martin.kobele@netsweeper.com>
Reply-To: martin.kobele@netsweeper.com
Organization: Netsweeper Inc
To: java-user@lucene.apache.org
Subject: Re: Some documents are not added to the index
Date: Wed, 17 May 2006 12:10:40 -0400
User-Agent: KMail/1.9.1
References: <200605170902.24190.martin.kobele@netsweeper.com> <200605170938.05535.martin.kobele@netsweeper.com> <1147874106.4926.73.camel@localhost>
In-Reply-To: <1147874106.4926.73.camel@localhost>
X-Face: 'Hg*nnc?-\\wB.#~W"O5hQ,b%:&[TGXGb4s<t+.W~W!/_mV@xzrS=pN0(=?utf-8?q?ETzKvX3=5E=25eqTj=0A=09=2E=23=7BUNfQz=5EhwgOKc=2Es=23rw!?=,7^!mGYLwvK
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-15"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605171210.41000.martin.kobele@netsweeper.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wednesday 17 May 2006 09:55, karl wettin wrote:

> I can only guess out of the blue. Do you clear the index now and then
> when creating a new IndexWriter? You say there is only one instance of
> that so that would not be it then.
how do I clear the index?
I create an IndexWriter with the create flag = true;
Do you want me to delete the directory every time?

Martin


>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20680-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 16:12:57 2006
Return-Path: <java-user-return-20680-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57040 invoked from network); 17 May 2006 16:12:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 16:12:57 -0000
Received: (qmail 66116 invoked by uid 500); 17 May 2006 16:12:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66090 invoked by uid 500); 17 May 2006 16:12:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66079 invoked by uid 99); 17 May 2006 16:12:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 09:12:49 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.166.181 as permitted sender)
Received: from [64.233.166.181] (HELO py-out-1112.google.com) (64.233.166.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 09:12:49 -0700
Received: by py-out-1112.google.com with SMTP id c39so304602pyd
        for <java-user@lucene.apache.org>; Wed, 17 May 2006 09:12:28 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=SVqnz/+1+y6TvJEAdsAa+5NvJq+MmDbGuyrYvfa7I3FLLRLHDoF56Z55LDrBK9iLB6P4GktPz1kzuDXCvA8YE0IKSdLwo/GqAkzt1T63MRVXe5rBePAAUFg5t0Q3RNytaCIl4TdQ+3Y3k1xZW+7oK2nQGI8kTehu7pN8g78osl8=
Received: by 10.35.91.10 with SMTP id t10mr843915pyl;
        Wed, 17 May 2006 09:12:28 -0700 (PDT)
Received: by 10.35.107.3 with HTTP; Wed, 17 May 2006 09:12:28 -0700 (PDT)
Message-ID: <c68e39170605170912r3a2863ddtd96e1c8d561f3d0c@mail.gmail.com>
Date: Wed, 17 May 2006 12:12:28 -0400
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Some documents are not added to the index
In-Reply-To: <200605171209.27823.martin.kobele@netsweeper.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <200605170902.24190.martin.kobele@netsweeper.com>
	 <c68e39170605170903l1a82e9bcu414bea3c0d2c5454@mail.gmail.com>
	 <200605171209.27823.martin.kobele@netsweeper.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 5/17/06, Martin Kobele <martin.kobele@netsweeper.com> wrote:
> > There may also be a bug in your code that adds the 512 documents (not
> > synchronizing the clients properly could cause your count to be off).
> luke tells me how many documents are in my index. I open the index in luk=
e
> after I closed my app.
> all I do is this (after creating the document):
>
> synchronized(fswriter){
>         fswriter.addDocument(tempDoc);
> }

Yes, but how do you know that you did that exactly 512 times?

-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20681-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 17:05:18 2006
Return-Path: <java-user-return-20681-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86301 invoked from network); 17 May 2006 17:05:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 17:05:17 -0000
Received: (qmail 90562 invoked by uid 500); 17 May 2006 17:05:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90534 invoked by uid 500); 17 May 2006 17:05:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90523 invoked by uid 99); 17 May 2006 17:05:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 10:05:10 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.160.230.40] (HELO mout.perfora.net) (217.160.230.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 10:05:09 -0700
Received: from [59.93.66.194] (helo=[192.168.0.2])
	by mrelay.perfora.net (node=mrelayus1) with ESMTP (Nemesis),
	id 0MKp2t-1FgPS207mb-0001zQ; Wed, 17 May 2006 13:04:48 -0400
Message-ID: <446B565E.6020705@insideview.com>
Date: Wed, 17 May 2006 22:29:10 +0530
From: Harini Raghavan <harini.raghavan@insideview.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: adding new fields to index
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: perfora.net abuse@perfora.net login:9759476ad67fa08aca5d9352c82c69ea
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi All,
I have an existing lucene index whose size is around 10G. I need to
add/delete some fields for all the documents in the index. Is there any
way to do this without reindexing all the documents again?
Thanks,
Harini



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20682-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 17:29:47 2006
Return-Path: <java-user-return-20682-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3012 invoked from network); 17 May 2006 17:29:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 17:29:46 -0000
Received: (qmail 29217 invoked by uid 500); 17 May 2006 17:29:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29193 invoked by uid 500); 17 May 2006 17:29:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29182 invoked by uid 99); 17 May 2006 17:29:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 10:29:40 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.35.35.7] (HELO mailgw3a.lmco.com) (192.35.35.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 10:29:39 -0700
Received: from emss04g01.ems.lmco.com (relay4.ems.lmco.com [166.17.13.122])by mailgw3a.lmco.com (LM-6) with ESMTP id k4HHTHoB018059for <java-user@lucene.apache.org>; Wed, 17 May 2006 13:29:18 -0400 (EDT)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30884)
 id <0IZF00K0178T8R@lmco.com> for java-user@lucene.apache.org; Wed, 17 May 2006 13:29:17 -0400 (EDT)
Received: from EMSS10M01.us.lmco.com ([158.187.0.150]) by lmco.com (PMDF V6.1-1X6 #30884)
 with ESMTP id <0IZF00MWB78TGF@lmco.com> for java-user@lucene.apache.org; Wed, 17 May 2006 13:29:17 -0400 (EDT)
Received: from EMSS10M03.us.lmco.com ([158.187.0.148]) by EMSS10M01.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Wed,
 17 May 2006 13:29:17 -0400
Date: Wed, 17 May 2006 13:29:17 -0400
From: "Mordo, Aviran (EXP N-NANNATEK)" <aviran.mordo@lmco.com>
Subject: RE: adding new fields to index
To: java-user@lucene.apache.org
Message-id: <92A278501EF50444AD3EE1FFB51219550BCE3B30@emss10m03.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: adding new fields to index
Thread-Index: AcZ51BMJ8nbrFlaYSh2lOd/nrRBpKQAAzqVg
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 17 May 2006 17:29:17.0515 (UTC) FILETIME=[6CB1A9B0:01C679D7]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

No, Lucene does not have an update index option, you need to reindex 

Aviran
http://www.aviransplace.com

-----Original Message-----
From: Harini Raghavan [mailto:harini.raghavan@insideview.com] 
Sent: Wednesday, May 17, 2006 12:59 PM
To: java-user@lucene.apache.org
Subject: adding new fields to index

Hi All,
I have an existing lucene index whose size is around 10G. I need to
add/delete some fields for all the documents in the index. Is there any
way to do this without reindexing all the documents again?
Thanks,
Harini



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20683-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 17:35:30 2006
Return-Path: <java-user-return-20683-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5609 invoked from network); 17 May 2006 17:35:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 17:35:30 -0000
Received: (qmail 41090 invoked by uid 500); 17 May 2006 17:35:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41065 invoked by uid 500); 17 May 2006 17:35:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41054 invoked by uid 99); 17 May 2006 17:35:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 10:35:23 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.35.35.7] (HELO mailgw3a.lmco.com) (192.35.35.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 10:35:22 -0700
Received: from emss04g01.ems.lmco.com (relay4.ems.lmco.com [166.17.13.122])by mailgw3a.lmco.com (LM-6) with ESMTP id k4HHZ2qC021123for <java-user@lucene.apache.org>; Wed, 17 May 2006 13:35:02 -0400 (EDT)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30884)
 id <0IZF000017IDWU@lmco.com> for java-user@lucene.apache.org; Wed, 17 May 2006 13:35:01 -0400 (EDT)
Received: from EMSS10M01.us.lmco.com ([158.187.0.150]) by lmco.com (PMDF V6.1-1X6 #30884)
 with ESMTP id <0IZF00MNR7IDGM@lmco.com> for java-user@lucene.apache.org; Wed, 17 May 2006 13:35:01 -0400 (EDT)
Received: from EMSS10M03.us.lmco.com ([158.187.0.148]) by EMSS10M01.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Wed,
 17 May 2006 13:35:01 -0400
Date: Wed, 17 May 2006 13:35:01 -0400
From: "Mordo, Aviran (EXP N-NANNATEK)" <aviran.mordo@lmco.com>
Subject: RE: Changing the scoring (newest doc date first)
To: java-user@lucene.apache.org
Message-id: <92A278501EF50444AD3EE1FFB51219550BCE3B31@emss10m03.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Changing the scoring (newest doc date first)
Thread-Index: AcZ5GIlj8eIYLwMZRuqRTOgxf4clKAAv0w8w
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 17 May 2006 17:35:01.0836 (UTC) FILETIME=[39ECE0C0:01C679D8]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

When you write your query, you can add a date range with a boot factor
for this field, i.e boost y a factor x the documents that have a date of
today, boost  by x-1 the documents from the past wee, boost by x-2 the
documents from the past two weeks, etc'.

This will not be a perfect sort on the dates but it will boost newer
documents depends on your date range.

HTH

Aviran
http://www.aviransplace.com

-----Original Message-----
From: Marcus Falck [mailto:marcus.falck@observer.se] 
Sent: Tuesday, May 16, 2006 2:43 PM
To: java-user@lucene.apache.org
Subject: Changing the scoring (newest doc date first)

Hello,
 
I'm working on a very large implementation of a search engine based on
the lucene api (1.4.3). We have also been investigating enterprise
search companies such as FAST and Verity but have come to the conclusion
that we might aswell save ourselves 1 millon dollars by doing our own
implementation on lucene.
 
What we are talking about here is to index up data from alot of
different system all containing ALOT of document. This index will be
distributed by range ( date ) and scaled with 1 or more machines
containing the same index per range (load balanced using round robin). 
 
Currently the total size of all documents we need to index is around 2TB
(200 million documents) but this is growing with approximentely 200 000
document on a daily basis.
 
I have already written code for a prototype that contains fetcher
application, for fetching data from the orignal systems storages and
distributes the documents using SOAP over TCP to the correct data
intervall (and the intervalls machines), SearchMachineHost (the actual
index/search per machine), Search/Index api (that adds transparancy to
the whole clustering part), AlertHost (for time sensetive alerts) and
demo applications. Every thing looks very good we are very satisfied
with the performance. 
 
---PROBLEM--
There is however one LARGE problem that we have run into. All search
result should be displayed sorted with the newest document at top. We
tried to accomplish this using Lucene's sort capabilites but quickly ran
into large performance bottlenecks. So i figured since the default sort
is by relevance i would like to change the relevance so that we don't
even need to sort the documents. I guess alot of people at this mail
list can give me valuable hints about how to accomplish this! 
(Since i now about the ability to sort by index id (which i haven't
tried) I can also add that i can't guarantee that all documents will be
added in correct date order (remember the several systems,  the future
plans is to buy content from different actors on the market and index it
up).
 
Please help me in my fight against FAST and Verity =D
 
/ Regards
Marcus Falck, Stockholm, Sweden. 
 
I would also like to thank all people that have been involved in the
lucene development. 
Very nice work!
 



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20684-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 18:05:08 2006
Return-Path: <java-user-return-20684-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17923 invoked from network); 17 May 2006 18:05:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 18:05:07 -0000
Received: (qmail 4480 invoked by uid 500); 17 May 2006 18:05:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4455 invoked by uid 500); 17 May 2006 18:05:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4444 invoked by uid 99); 17 May 2006 18:05:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 11:05:00 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.166.176 as permitted sender)
Received: from [64.233.166.176] (HELO py-out-1112.google.com) (64.233.166.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 11:05:00 -0700
Received: by py-out-1112.google.com with SMTP id c39so332005pyd
        for <java-user@lucene.apache.org>; Wed, 17 May 2006 11:04:39 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=okdjcV/P+kOCd05a9uSOcXXp2rqyVdpKiGhvFbQeB5WIX/WYzKnK/aSec30rvGXCOJUHTY1XPD60C3m34ndNInpcjbOw+8VK49CiElFFD2fR4bEqW3ST+giH4h2HdqaJT/m+f79ldwGKYxcDFCZ/54wU1tMmC0FQPWOOddWfHHs=
Received: by 10.35.97.17 with SMTP id z17mr1394299pyl;
        Wed, 17 May 2006 11:04:39 -0700 (PDT)
Received: by 10.35.107.3 with HTTP; Wed, 17 May 2006 11:04:39 -0700 (PDT)
Message-ID: <c68e39170605171104r18450ce2je0c2f209df7690de@mail.gmail.com>
Date: Wed, 17 May 2006 14:04:39 -0400
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Changing the scoring (newest doc date first)
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C33B5CE@S1SE1MAIL.emea1.ad.group>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <8834A84C87A2C148AD46921BB8BFC97C33B5CE@S1SE1MAIL.emea1.ad.group>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 5/16/06, Marcus Falck <marcus.falck@observer.se> wrote:
> I'm working on a very large implementation of a search engine based on th=
e lucene api (1.4.3). We have also been investigating enterprise search com=
panies such as FAST and Verity but have come to the conclusion that we migh=
t aswell save ourselves 1 millon dollars by doing our own implementation on=
 lucene.

That's the same conclusion we came to... and how Solr came about.
If it is close enough to meeting your needs, it might make sense to collabo=
rate.

> So i figured since the default sort is by relevance i would like to chang=
e the relevance so that we don't even need to sort the documents.

Documents sorted by relevance are still sorted.
How much slower is a sort on another field vs a sort on relevance (not
counting the first time)


-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20685-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 18:08:55 2006
Return-Path: <java-user-return-20685-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20848 invoked from network); 17 May 2006 18:08:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 18:08:55 -0000
Received: (qmail 14649 invoked by uid 500); 17 May 2006 18:08:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14616 invoked by uid 500); 17 May 2006 18:08:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14605 invoked by uid 99); 17 May 2006 18:08:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 11:08:46 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of suman.ghosh.1@gmail.com designates 66.249.92.174 as permitted sender)
Received: from [66.249.92.174] (HELO ug-out-1314.google.com) (66.249.92.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 11:08:45 -0700
Received: by ug-out-1314.google.com with SMTP id u2so268306uge
        for <java-user@lucene.apache.org>; Wed, 17 May 2006 11:08:24 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=rPADWSJfs6UiueIRxDIyJwXc+nzWf/mj4w2evrLX9kdITeMZCM24SHAtno/G2jPVEz3xYsFAPD18fFG6M9RJbr2nCnwcwiqwzMk8QDyve+4T/szEcfDJIvqlKcME6W5cOb5jSEIFbgQjRNCvRyjNpNeMUFWuYkw064gvUJXItU0=
Received: by 10.78.58.11 with SMTP id g11mr260468hua;
        Wed, 17 May 2006 11:08:23 -0700 (PDT)
Received: by 10.78.21.2 with HTTP; Wed, 17 May 2006 11:08:23 -0700 (PDT)
Message-ID: <a6c7e1410605171108l3ec31a50td4b9549bcba8823c@mail.gmail.com>
Date: Wed, 17 May 2006 14:08:23 -0400
From: "Suman Ghosh" <suman.ghosh.1@gmail.com>
To: java-user <java-user@lucene.apache.org>
Subject: Boost factor in MultiFieldQueryParser
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_18160_6598430.1147889303618"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_18160_6598430.1147889303618
Content-Type: multipart/alternative; 
	boundary="----=_Part_18161_2423705.1147889303618"

------=_Part_18161_2423705.1147889303618
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi all,

I am evaluating Lucene 1.9 for a search application. I am using
MultiFieldQueryParser for searching across fields and everything works fine=
.
However, we have a new requirement where certain fields need to be boosted
while searching. To complicate matters, users can specify fields while
searching (e.g. "title:hybrid content:vehicle").

I came across this enhancement request (
http://issues.apache.org/bugzilla/show_bug.cgi?id=3D32115) that appears to
address the boosting issue (Please see attached sample code to illustrate
the problem. NewMultiFieldQueryParser is the enhanced version of
MultiFieldQueryParser as per the enhancement request. I used
lucene-core-1.9.1.jar to test the code). For all simple searches (i.e. when
I don't mention a field while searching), it appears to work - explain
output follows:

Hits for "hybrid vehicle" were found in quotes by:
1. Big tax savings on hybrid vehicles
0.36948532 =3D sum of:
  0.35416904 =3D sum of:
    0.33885276 =3D weight(title:hybrid^8.0 in 0), product of:
      0.5510778 =3D queryWeight(title:hybrid^8.0), product of:
        8.0 =3D boost
        1.4054651 =3D idf(docFreq=3D1)
        0.049012046 =3D queryNorm
      0.614891 =3D fieldWeight(title:hybrid in 0), product of:
        1.0 =3D tf(termFreq(title:hybrid)=3D1)
        1.4054651 =3D idf(docFreq=3D1)
        0.4375 =3D fieldNorm(field=3Dtitle, doc=3D0)
    0.015316265 =3D weight(content:hybrid^2.0 in 0), product of:
      0.09802409 =3D queryWeight(content:hybrid^2.0), product of:
        2.0 =3D boost
        1.0 =3D idf(docFreq=3D2)
        0.049012046 =3D queryNorm
      0.15625 =3D fieldWeight(content:hybrid in 0), product of:
        1.0 =3D tf(termFreq(content:hybrid)=3D1)
        1.0 =3D idf(docFreq=3D2)
        0.15625 =3D fieldNorm(field=3Dcontent, doc=3D0)
  0.015316265 =3D weight(content:vehicle^2.0 in 0), product of:
    0.09802409 =3D queryWeight(content:vehicle^2.0), product of:
      2.0 =3D boost
      1.0 =3D idf(docFreq=3D2)
      0.049012046 =3D queryNorm
    0.15625 =3D fieldWeight(content:vehicle in 0), product of:
      1.0 =3D tf(termFreq(content:vehicle)=3D1)
      1.0 =3D idf(docFreq=3D2)
      0.15625 =3D fieldNorm(field=3Dcontent, doc=3D0)

2. Honda Civic
0.006126506 =3D product of:
  0.012253012 =3D weight(content:vehicle^2.0 in 1), product of:
    0.09802409 =3D queryWeight(content:vehicle^2.0), product of:
      2.0 =3D boost
      1.0 =3D idf(docFreq=3D2)
      0.049012046 =3D queryNorm
    0.125 =3D fieldWeight(content:vehicle in 1), product of:
      1.0 =3D tf(termFreq(content:vehicle)=3D1)
      1.0 =3D idf(docFreq=3D2)
      0.125 =3D fieldNorm(field=3Dcontent, doc=3D1)
  0.5 =3D coord(1/2)

3. Fuel blends: ethanol
0.017124103 =3D product of:
  0.034248207 =3D weight(content:hybrid^2.0 in 2), product of:
    0.09802409 =3D queryWeight(content:hybrid^2.0), product of:
      2.0 =3D boost
      1.0 =3D idf(docFreq=3D2)
      0.049012046 =3D queryNorm
    0.34938562 =3D fieldWeight(content:hybrid in 2), product of:
      2.236068 =3D tf(termFreq(content:hybrid)=3D5)
      1.0 =3D idf(docFreq=3D2)
      0.15625 =3D fieldNorm(field=3Dcontent, doc=3D2)
  0.5 =3D coord(1/2)



However, when the search term includes a field (e.g. "title:hybrid
content:vehicle"), boosting for the terms does not seem to work:

Hits for "title:hybrid content:vehicle" were found in quotes by:
1. Big tax savings on hybrid vehicles
0.59159887 =3D sum of:
  0.5010147 =3D weight(title:hybrid in 0), product of:
    0.81480247 =3D queryWeight(title:hybrid), product of:
      1.4054651 =3D idf(docFreq=3D1)
      0.5797387 =3D queryNorm
    0.614891 =3D fieldWeight(title:hybrid in 0), product of:
      1.0 =3D tf(termFreq(title:hybrid)=3D1)
      1.4054651 =3D idf(docFreq=3D1)
      0.4375 =3D fieldNorm(field=3Dtitle, doc=3D0)
  0.09058417 =3D weight(content:vehicle in 0), product of:
    0.5797387 =3D queryWeight(content:vehicle), product of:
      1.0 =3D idf(docFreq=3D2)
      0.5797387 =3D queryNorm
    0.15625 =3D fieldWeight(content:vehicle in 0), product of:
      1.0 =3D tf(termFreq(content:vehicle)=3D1)
      1.0 =3D idf(docFreq=3D2)
      0.15625 =3D fieldNorm(field=3Dcontent, doc=3D0)

2. Fuel blends: ethanol
0.036233667 =3D product of:
  0.072467335 =3D weight(content:vehicle in 1), product of:
    0.5797387 =3D queryWeight(content:vehicle), product of:
      1.0 =3D idf(docFreq=3D2)
      0.5797387 =3D queryNorm
    0.125 =3D fieldWeight(content:vehicle in 1), product of:
      1.0 =3D tf(termFreq(content:vehicle)=3D1)
      1.0 =3D idf(docFreq=3D2)
      0.125 =3D fieldNorm(field=3Dcontent, doc=3D1)
  0.5 =3D coord(1/2)


Can you please suggest how to tackle the issue?

Thanks

Suman

------=_Part_18161_2423705.1147889303618
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

<span style=3D"font-family: courier new,monospace;">Hi all,</span><br style=
=3D"font-family: courier new,monospace;"><br style=3D"font-family: courier =
new,monospace;"><span style=3D"font-family: courier new,monospace;">I am ev=
aluating Lucene=20
1.9 for a search application. I am using MultiFieldQueryParser for searchin=
g across fields and everything works fine. However, we have a new requireme=
nt where certain fields need to be boosted while searching. To complicate m=
atters, users can specify fields while searching (
e.g. &quot;title:hybrid content:vehicle&quot;).</span><br style=3D"font-fam=
ily: courier new,monospace;"><br style=3D"font-family: courier new,monospac=
e;"><span style=3D"font-family: courier new,monospace;">I came across this =
enhancement request (
<a href=3D"http://issues.apache.org/bugzilla/show_bug.cgi?id=3D32115">http:=
//issues.apache.org/bugzilla/show_bug.cgi?id=3D32115</a>) that appears to a=
ddress the boosting issue (Please see attached sample code to illustrate th=
e problem. NewMultiFieldQueryParser is the enhanced version of MultiFieldQu=
eryParser as per the enhancement request. I used=20
lucene-core-1.9.1.jar to test the code). For all simple searches (i.e. when=
 I don't mention a field while searching), it appears to work - explain out=
put follows:</span><br style=3D"font-family: courier new,monospace;"><br st=
yle=3D"font-family: courier new,monospace;">
<span style=3D"font-family: courier new,monospace;">Hits for &quot;hybrid v=
ehicle&quot; were found in quotes by:</span><br style=3D"font-family: couri=
er new,monospace;"><span style=3D"font-family: courier new,monospace;">1. B=
ig tax savings on hybrid vehicles
</span><br style=3D"font-family: courier new,monospace;"><span style=3D"fon=
t-family: courier new,monospace;">0.36948532 =3D sum of:</span><br style=3D=
"font-family: courier new,monospace;"><span style=3D"font-family: courier n=
ew,monospace;">
&nbsp; 0.35416904 =3D sum of:</span><br style=3D"font-family: courier new,m=
onospace;"><span style=3D"font-family: courier new,monospace;">&nbsp;&nbsp;=
&nbsp; 0.33885276 =3D weight(title:hybrid^8.0 in 0), product of:</span><br =
style=3D"font-family: courier new,monospace;">
<span style=3D"font-family: courier new,monospace;">&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; 0.5510778 =3D queryWeight(title:hybrid^8.0), product of:</span><br =
style=3D"font-family: courier new,monospace;"><span style=3D"font-family: c=
ourier new,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
8.0 =3D boost</span><br style=3D"font-family: courier new,monospace;"><span=
 style=3D"font-family: courier new,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp; 1.4054651 =3D idf(docFreq=3D1)</span><br style=3D"font-famil=
y: courier new,monospace;"><span style=3D"font-family: courier new,monospac=
e;">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.049012046 =3D queryNorm</span>=
<br style=3D"font-family: courier new,monospace;"><span style=3D"font-famil=
y: courier new,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.614891 =3D fiel=
dWeight(title:hybrid in 0), product of:</span><br style=3D"font-family: cou=
rier new,monospace;">
<span style=3D"font-family: courier new,monospace;">&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp; 1.0 =3D tf(termFreq(title:hybrid)=3D1)</span><br style=
=3D"font-family: courier new,monospace;"><span style=3D"font-family: courie=
r new,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.4054651 =3D =
idf(docFreq=3D1)
</span><br style=3D"font-family: courier new,monospace;"><span style=3D"fon=
t-family: courier new,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
; 0.4375 =3D fieldNorm(field=3Dtitle, doc=3D0)</span><br style=3D"font-fami=
ly: courier new,monospace;"><span style=3D"font-family: courier new,monospa=
ce;">
&nbsp;&nbsp;&nbsp; 0.015316265 =3D weight(content:hybrid^2.0 in 0), product=
 of:</span><br style=3D"font-family: courier new,monospace;"><span style=3D=
"font-family: courier new,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.0980=
2409 =3D queryWeight(content:hybrid^2.0), product of:
</span><br style=3D"font-family: courier new,monospace;"><span style=3D"fon=
t-family: courier new,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
; 2.0 =3D boost</span><br style=3D"font-family: courier new,monospace;"><sp=
an style=3D"font-family: courier new,monospace;">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.0 =3D idf(docFreq=3D2)</span><=
br style=3D"font-family: courier new,monospace;"><span style=3D"font-family=
: courier new,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.0490=
12046 =3D queryNorm</span><br style=3D"font-family: courier new,monospace;"=
><span style=3D"font-family: courier new,monospace;">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.15625 =3D fieldWeight(content:hybrid in 0)=
, product of:</span><br style=3D"font-family: courier new,monospace;"><span=
 style=3D"font-family: courier new,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp; 1.0 =3D tf(termFreq(content:hybrid)=3D1)</span><br style=3D"=
font-family: courier new,monospace;">
<span style=3D"font-family: courier new,monospace;">&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp; 1.0 =3D idf(docFreq=3D2)</span><br style=3D"font-family=
: courier new,monospace;"><span style=3D"font-family: courier new,monospace=
;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.15625 =3D fieldNorm(field=
=3Dcontent, doc=3D0)
</span><br style=3D"font-family: courier new,monospace;"><span style=3D"fon=
t-family: courier new,monospace;">&nbsp; 0.015316265 =3D weight(content:veh=
icle^2.0 in 0), product of:</span><br style=3D"font-family: courier new,mon=
ospace;">
<span style=3D"font-family: courier new,monospace;">&nbsp;&nbsp;&nbsp; 0.09=
802409 =3D queryWeight(content:vehicle^2.0), product of:</span><br style=3D=
"font-family: courier new,monospace;"><span style=3D"font-family: courier n=
ew,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
2.0 =3D boost</span><br style=3D"font-family: courier new,monospace;"><span=
 style=3D"font-family: courier new,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p; 1.0 =3D idf(docFreq=3D2)</span><br style=3D"font-family: courier new,mon=
ospace;"><span style=3D"font-family: courier new,monospace;">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.049012046 =3D queryNorm</span><br style=3D=
"font-family: courier new,monospace;"><span style=3D"font-family: courier n=
ew,monospace;">&nbsp;&nbsp;&nbsp; 0.15625 =3D fieldWeight(content:vehicle i=
n 0), product of:</span><br style=3D"font-family: courier new,monospace;">
<span style=3D"font-family: courier new,monospace;">&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; 1.0 =3D tf(termFreq(content:vehicle)=3D1)</span><br style=3D"font-f=
amily: courier new,monospace;"><span style=3D"font-family: courier new,mono=
space;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.0 =3D idf(docFreq=3D2)
</span><br style=3D"font-family: courier new,monospace;"><span style=3D"fon=
t-family: courier new,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.15625 =
=3D fieldNorm(field=3Dcontent, doc=3D0)</span><br style=3D"font-family: cou=
rier new,monospace;"><br style=3D"font-family: courier new,monospace;">
<span style=3D"font-family: courier new,monospace;">2. Honda Civic</span><b=
r style=3D"font-family: courier new,monospace;"><span style=3D"font-family:=
 courier new,monospace;">0.006126506 =3D product of:</span><br style=3D"fon=
t-family: courier new,monospace;">
<span style=3D"font-family: courier new,monospace;">&nbsp; 0.012253012 =3D =
weight(content:vehicle^2.0 in 1), product of:</span><br style=3D"font-famil=
y: courier new,monospace;"><span style=3D"font-family: courier new,monospac=
e;">&nbsp;&nbsp;&nbsp; 0.09802409
 =3D queryWeight(content:vehicle^2.0), product of:</span><br style=3D"font-=
family: courier new,monospace;"><span style=3D"font-family: courier new,mon=
ospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2.0 =3D boost</span><br style=3D"fo=
nt-family: courier new,monospace;">
<span style=3D"font-family: courier new,monospace;">&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; 1.0 =3D idf(docFreq=3D2)</span><br style=3D"font-family: courier ne=
w,monospace;"><span style=3D"font-family: courier new,monospace;">&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp; 0.049012046 =3D queryNorm</span><br style=3D"font-fam=
ily: courier new,monospace;">
<span style=3D"font-family: courier new,monospace;">&nbsp;&nbsp;&nbsp; 0.12=
5 =3D fieldWeight(content:vehicle in 1), product of:</span><br style=3D"fon=
t-family: courier new,monospace;"><span style=3D"font-family: courier new,m=
onospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.0
 =3D tf(termFreq(content:vehicle)=3D1)</span><br style=3D"font-family: cour=
ier new,monospace;"><span style=3D"font-family: courier new,monospace;">&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp; 1.0 =3D idf(docFreq=3D2)</span><br style=3D"fon=
t-family: courier new,monospace;"><span style=3D"font-family: courier new,m=
onospace;">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.125 =3D fieldNorm(field=3Dcontent, doc=3D1=
)</span><br style=3D"font-family: courier new,monospace;"><span style=3D"fo=
nt-family: courier new,monospace;">&nbsp; 0.5 =3D coord(1/2)</span><br styl=
e=3D"font-family: courier new,monospace;">
<br style=3D"font-family: courier new,monospace;"><span style=3D"font-famil=
y: courier new,monospace;">3. Fuel blends: ethanol</span><br style=3D"font-=
family: courier new,monospace;"><span style=3D"font-family: courier new,mon=
ospace;">
0.017124103 =3D product of:</span><br style=3D"font-family: courier new,mon=
ospace;"><span style=3D"font-family: courier new,monospace;">&nbsp; 0.03424=
8207 =3D weight(content:hybrid^2.0 in 2), product of:</span><br style=3D"fo=
nt-family: courier new,monospace;">
<span style=3D"font-family: courier new,monospace;">&nbsp;&nbsp;&nbsp; 0.09=
802409 =3D queryWeight(content:hybrid^2.0), product of:</span><br style=3D"=
font-family: courier new,monospace;"><span style=3D"font-family: courier ne=
w,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
2.0 =3D boost</span><br style=3D"font-family: courier new,monospace;"><span=
 style=3D"font-family: courier new,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p; 1.0 =3D idf(docFreq=3D2)</span><br style=3D"font-family: courier new,mon=
ospace;"><span style=3D"font-family: courier new,monospace;">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.049012046 =3D queryNorm</span><br style=3D=
"font-family: courier new,monospace;"><span style=3D"font-family: courier n=
ew,monospace;">&nbsp;&nbsp;&nbsp; 0.34938562 =3D fieldWeight(content:hybrid=
 in 2), product of:</span><br style=3D"font-family: courier new,monospace;"=
>
<span style=3D"font-family: courier new,monospace;">&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; 2.236068 =3D tf(termFreq(content:hybrid)=3D5)</span><br style=3D"fo=
nt-family: courier new,monospace;"><span style=3D"font-family: courier new,=
monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.0 =3D idf(docFreq=3D2)
</span><br style=3D"font-family: courier new,monospace;"><span style=3D"fon=
t-family: courier new,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.15625 =
=3D fieldNorm(field=3Dcontent, doc=3D2)</span><br style=3D"font-family: cou=
rier new,monospace;"><span style=3D"font-family: courier new,monospace;">
&nbsp; 0.5 =3D coord(1/2)</span><br style=3D"font-family: courier new,monos=
pace;"><br style=3D"font-family: courier new,monospace;"><br style=3D"font-=
family: courier new,monospace;"><br style=3D"font-family: courier new,monos=
pace;"><span style=3D"font-family: courier new,monospace;">
However, when the search term includes a field (e.g. &quot;title:hybrid con=
tent:vehicle&quot;), boosting for the terms does not seem to work:</span><b=
r style=3D"font-family: courier new,monospace;"><br style=3D"font-family: c=
ourier new,monospace;">
<span style=3D"font-family: courier new,monospace;">Hits for &quot;title:hy=
brid content:vehicle&quot; were found in quotes by:</span><br style=3D"font=
-family: courier new,monospace;"><span style=3D"font-family: courier new,mo=
nospace;">
1. Big tax savings on hybrid vehicles</span><br style=3D"font-family: couri=
er new,monospace;"><span style=3D"font-family: courier new,monospace;">0.59=
159887 =3D sum of:</span><br style=3D"font-family: courier new,monospace;">=
<span style=3D"font-family: courier new,monospace;">
&nbsp; 0.5010147 =3D weight(title:hybrid in 0), product of:</span><br style=
=3D"font-family: courier new,monospace;"><span style=3D"font-family: courie=
r new,monospace;">&nbsp;&nbsp;&nbsp; 0.81480247 =3D queryWeight(title:hybri=
d), product of:</span><br style=3D"font-family: courier new,monospace;">
<span style=3D"font-family: courier new,monospace;">&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; 1.4054651 =3D idf(docFreq=3D1)</span><br style=3D"font-family: cour=
ier new,monospace;"><span style=3D"font-family: courier new,monospace;">&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp; 0.5797387 =3D queryNorm</span>
<br style=3D"font-family: courier new,monospace;"><span style=3D"font-famil=
y: courier new,monospace;">&nbsp;&nbsp;&nbsp; 0.614891 =3D fieldWeight(titl=
e:hybrid in 0), product of:</span><br style=3D"font-family: courier new,mon=
ospace;"><span style=3D"font-family: courier new,monospace;">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.0 =3D tf(termFreq(title:hybrid)=3D1)</span=
><br style=3D"font-family: courier new,monospace;"><span style=3D"font-fami=
ly: courier new,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.4054651 =3D id=
f(docFreq=3D1)</span><br style=3D"font-family: courier new,monospace;">
<span style=3D"font-family: courier new,monospace;">&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; 0.4375 =3D fieldNorm(field=3Dtitle, doc=3D0)</span><br style=3D"fon=
t-family: courier new,monospace;"><span style=3D"font-family: courier new,m=
onospace;">&nbsp; 0.09058417 =3D weight(content:vehicle in 0), product of:
</span><br style=3D"font-family: courier new,monospace;"><span style=3D"fon=
t-family: courier new,monospace;">&nbsp;&nbsp;&nbsp; 0.5797387 =3D queryWei=
ght(content:vehicle), product of:</span><br style=3D"font-family: courier n=
ew,monospace;"><span style=3D"font-family: courier new,monospace;">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.0 =3D idf(docFreq=3D2)</span><br style=3D"=
font-family: courier new,monospace;"><span style=3D"font-family: courier ne=
w,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.5797387 =3D queryNorm</span>=
<br style=3D"font-family: courier new,monospace;"><span style=3D"font-famil=
y: courier new,monospace;">
&nbsp;&nbsp;&nbsp; 0.15625 =3D fieldWeight(content:vehicle in 0), product o=
f:</span><br style=3D"font-family: courier new,monospace;"><span style=3D"f=
ont-family: courier new,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.0 =3D =
tf(termFreq(content:vehicle)=3D1)</span><br style=3D"font-family: courier n=
ew,monospace;">
<span style=3D"font-family: courier new,monospace;">&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; 1.0 =3D idf(docFreq=3D2)</span><br style=3D"font-family: courier ne=
w,monospace;"><span style=3D"font-family: courier new,monospace;">&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp; 0.15625 =3D fieldNorm(field=3Dcontent, doc=3D0)
</span><br style=3D"font-family: courier new,monospace;"><br style=3D"font-=
family: courier new,monospace;"><span style=3D"font-family: courier new,mon=
ospace;">2. Fuel blends: ethanol</span><br style=3D"font-family: courier ne=
w,monospace;">
<span style=3D"font-family: courier new,monospace;">0.036233667 =3D product=
 of:</span><br style=3D"font-family: courier new,monospace;"><span style=3D=
"font-family: courier new,monospace;">&nbsp; 0.072467335 =3D weight(content=
:vehicle in 1), product of:
</span><br style=3D"font-family: courier new,monospace;"><span style=3D"fon=
t-family: courier new,monospace;">&nbsp;&nbsp;&nbsp; 0.5797387 =3D queryWei=
ght(content:vehicle), product of:</span><br style=3D"font-family: courier n=
ew,monospace;"><span style=3D"font-family: courier new,monospace;">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.0 =3D idf(docFreq=3D2)</span><br style=3D"=
font-family: courier new,monospace;"><span style=3D"font-family: courier ne=
w,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.5797387 =3D queryNorm</span>=
<br style=3D"font-family: courier new,monospace;"><span style=3D"font-famil=
y: courier new,monospace;">
&nbsp;&nbsp;&nbsp; 0.125 =3D fieldWeight(content:vehicle in 1), product of:=
</span><br style=3D"font-family: courier new,monospace;"><span style=3D"fon=
t-family: courier new,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.0 =3D tf=
(termFreq(content:vehicle)=3D1)</span><br style=3D"font-family: courier new=
,monospace;">
<span style=3D"font-family: courier new,monospace;">&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; 1.0 =3D idf(docFreq=3D2)</span><br style=3D"font-family: courier ne=
w,monospace;"><span style=3D"font-family: courier new,monospace;">&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp; 0.125 =3D fieldNorm(field=3Dcontent, doc=3D1)
</span><br style=3D"font-family: courier new,monospace;"><span style=3D"fon=
t-family: courier new,monospace;">&nbsp; 0.5 =3D coord(1/2)</span><br style=
=3D"font-family: courier new,monospace;"><br style=3D"font-family: courier =
new,monospace;">
<br style=3D"font-family: courier new,monospace;"><span style=3D"font-famil=
y: courier new,monospace;">Can you please suggest how to tackle the issue?<=
/span><br style=3D"font-family: courier new,monospace;"><br style=3D"font-f=
amily: courier new,monospace;">
<span style=3D"font-family: courier new,monospace;">Thanks</span><br style=
=3D"font-family: courier new,monospace;"><br style=3D"font-family: courier =
new,monospace;"><span style=3D"font-family: courier new,monospace;">Suman</=
span>

------=_Part_18161_2423705.1147889303618--


------=_Part_18160_6598430.1147889303618
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------=_Part_18160_6598430.1147889303618--

From java-user-return-20686-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 18:35:20 2006
Return-Path: <java-user-return-20686-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28578 invoked from network); 17 May 2006 18:35:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 18:35:20 -0000
Received: (qmail 51423 invoked by uid 500); 17 May 2006 18:35:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51399 invoked by uid 500); 17 May 2006 18:35:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51388 invoked by uid 99); 17 May 2006 18:35:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 11:35:13 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 11:35:12 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 0A4685B764; Wed, 17 May 2006 11:34:52 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 01C817F403
	for <java-user@lucene.apache.org>; Wed, 17 May 2006 11:34:52 -0700 (PDT)
Date: Wed, 17 May 2006 11:34:51 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: RE: Building queries
In-Reply-To: <56A91B627656434C829D393A7151DA420112107F@uk-ex010.groupinfra.com>
Message-ID: <Pine.LNX.4.58.0605171121470.7285@hal.rescomp.berkeley.edu>
References: <56A91B627656434C829D393A7151DA420112107F@uk-ex010.groupinfra.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: This kinda leads me back to my "best practises" question: If Im building
: up the query dynamically based off of several fields (rather than the
: user entering a Lucene Query), Im kind of wondering If I should be using
: query parser at all...?! I keep feeling that maybe I should just be
: building up the Query programatically (although dynamically) based off
: the fields.
:
: But all the examples I can find seem to transform already split UI
: fields back in to a single lucene query string and then put them through
: a parser.
: However, if I don't use the QueryParser, I guess I've got to manually
: run each field through the appropriate analyser as Im building up the
: query terms.

If you are parsing raw text from the user, and you want that text to
contain instructions (for things like required/prohibited clauses, range
queries, boosts and what not) then you might as well use the QueryParser.

if all of the forms are for very specific purposes (ie: one text box for
required text, one for prohibited text, pulldowns for rnages, etc) then i
wouldn't use the QUeryParser at all -- you've got it right with calling
with using the Analyzer directly.

What you really *DON'T* want to do because it's wastefull, silly, and easy
to get wrong so your users can break it is stuff like this...

       String mfgName = getStringFormInput("mfgName")
       int maxPrice = getIntFormInput("price");
       String query = getStringFormInput("q");
       Query q = parser.parse("+(" + query + ") +mfgName:("+mfgName+") "
                              + "+maxPrice:[0 TO "+ maxPrice"]");

that is certainly *NOT* a best practice.

The middle ground where things become muddy is when you wnat the user to
be able to specify *some* instrucutions (like require/prohibited clauses
and quoted phrases) but you don't want then specifying boosts, or field
names -- in that case, I think it makes a lot of sense to "partially
escape" their input to eliminate just hte special characters you don't
want to affect them (like "^" and ":") before passing itto the QueryParser
is a perfectly valid approach -- then you can add the resulting Query to a
bigger BooleanQuery along with the other Query objects you've built up
from the form...

       Query main = parser.parse(myescape(getStringFormInput("q"))
       Query mfg = parser.parse(myescape(getStringFormInput("mfgName"))
       Query price = buildPriceQuery(getIntFormInput("price"));
       BooleanQuery q = new BooleanQuery();
       q.add(main, ...);
       q.add(mfg, ...);
       q.add(price, ...);



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20687-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 18:48:16 2006
Return-Path: <java-user-return-20687-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33068 invoked from network); 17 May 2006 18:48:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 18:48:16 -0000
Received: (qmail 71078 invoked by uid 500); 17 May 2006 18:48:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71053 invoked by uid 500); 17 May 2006 18:48:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71040 invoked by uid 99); 17 May 2006 18:48:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 11:48:09 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 11:48:07 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 235605B764; Wed, 17 May 2006 11:47:45 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 1920D7F403
	for <java-user@lucene.apache.org>; Wed, 17 May 2006 11:47:45 -0700 (PDT)
Date: Wed, 17 May 2006 11:47:45 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Boost problems
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C01AF223A@S1SE1MAIL.emea1.ad.group>
Message-ID: <Pine.LNX.4.58.0605171144520.7285@hal.rescomp.berkeley.edu>
References: <8834A84C87A2C148AD46921BB8BFC97C01AF223A@S1SE1MAIL.emea1.ad.group>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Document boosts are folded into the individual fieldNorms when the
document is indexed -- they are not accessible from the Document object
returned after doing search.  This is mentioned in the javadocs for
Document.getBoost ... at least it is in 1.9, I'm not sure about 1.4.



: Date: Wed, 17 May 2006 15:43:51 +0200
: From: Marcus Falck <marcus.falck@observer.se>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: Boost problems
:
: Hello,
:
:
:
: I have run in to problems regarding boosting of documents, using
: lucene.net 1.4.3 (so if anybody runs the java version and feel for
: running my posted source code please do so and see if the result is the
: same).
:
:
:
: The following code:
:
:        // The following example illustrates the boost problematic
:
:        Document doc = new Document();
:
:        doc.Add(Field.Text("BodyText", "My name is Marcus"));
:
:        doc.SetBoost(2); // <-- Set the boost to 2
:
:
:
:        // Create index
:
: IndexWriter iw = new IndexWriter(@"c:\ixtest", new StandardAnalyzer(),
: true);
:
:        iw.AddDocument(doc);
:
:        iw.Optimize();
:
:        iw.Close();
:
:
:
:        // Search
:
:        Searcher s = new IndexSearcher(@"c:\ixtest");
:
:        Query q = QueryParser.Parse("BodyText:name",null, new
: StandardAnalyzer());
:
:
:
:        Hits h = s.Search(q);
:
:        Console.WriteLine( h.Doc(0).GetField("BodyText").StringValue() );
:
:        Console.WriteLine( h.Doc(0).GetBoost());
:
:        s.Close();
:
:
:
: Outputs:
:
: My name is Marcus
:
: 1
:
:
:
: Why does it reply with 1 as boost? Shouldn't this value be 2?
:
:
:
: /
:
: Regards
:
: Marcus
:
:
:
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20688-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 19:36:00 2006
Return-Path: <java-user-return-20688-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53891 invoked from network); 17 May 2006 19:36:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 19:36:00 -0000
Received: (qmail 43562 invoked by uid 500); 17 May 2006 19:35:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42803 invoked by uid 500); 17 May 2006 19:35:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42792 invoked by uid 99); 17 May 2006 19:35:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 12:35:53 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=RCVD_IN_SORBS_WEB,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.44 as permitted sender)
Received: from [80.67.18.44] (HELO smtprelay06.ispgateway.de) (80.67.18.44)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 12:35:52 -0700
Received: (qmail 15443 invoked from network); 17 May 2006 19:35:29 -0000
Received: from unknown (HELO p5496cda3.dip.t-dialin.net) ([pbs]695637@[84.150.205.163])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay06.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 17 May 2006 19:35:29 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Boost problems
Date: Wed, 17 May 2006 21:36:08 +0200
User-Agent: KMail/1.8.2
References: <8834A84C87A2C148AD46921BB8BFC97C01AF223A@S1SE1MAIL.emea1.ad.group>
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C01AF223A@S1SE1MAIL.emea1.ad.group>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605172136.08826@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Mittwoch 17 Mai 2006 15:43, Marcus Falck wrote:

> Why does it reply with 1 as boost? Shouldn't this value be 2?

No, these values are normalized and/or mixed with other values internally 
and cannot be re-fetched in their original form.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20689-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 19:55:04 2006
Return-Path: <java-user-return-20689-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59402 invoked from network); 17 May 2006 19:55:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 19:55:04 -0000
Received: (qmail 74503 invoked by uid 500); 17 May 2006 19:54:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74467 invoked by uid 500); 17 May 2006 19:54:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74456 invoked by uid 99); 17 May 2006 19:54:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 12:54:57 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.215] (HELO web50313.mail.yahoo.com) (206.190.39.215)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 17 May 2006 12:54:55 -0700
Received: (qmail 27886 invoked by uid 60001); 17 May 2006 19:54:34 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=uNxL+zdWMqGWi5wzNEabztgXmb+/swx5PTgraJal8EVIT6FHh9vDD/PP9oodyAlgFVoqKIL5TdXHeBrZoDeOvQoLEmBJ3N9yf9yEbbgK7LnSMT6IsjbtaqzpvimFFrRe3q86m0IByjYLYXz1arbPvOSOSfC4BeIbZ/RCVf7vdnA=  ;
Message-ID: <20060517195434.27884.qmail@web50313.mail.yahoo.com>
Date: Wed, 17 May 2006 12:54:34 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Boost problems
To: java-user@lucene.apache.org
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C01AF223A@S1SE1MAIL.emea1.ad.group>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I see you already got 2 answers.  However, judging from your source, it looks like you are really using the .Net port of Lucene, so a better place to ask would be the lucene.net mailing list.

Otis

----- Original Message ----
From: Marcus Falck <marcus.falck@observer.se>
To: java-user@lucene.apache.org
Sent: Wednesday, May 17, 2006 9:43:51 AM
Subject: Boost problems

Hello,

 

I have run in to problems regarding boosting of documents, using
lucene.net 1.4.3 (so if anybody runs the java version and feel for
running my posted source code please do so and see if the result is the
same).

 

The following code:

       // The following example illustrates the boost problematic

       Document doc = new Document();

       doc.Add(Field.Text("BodyText", "My name is Marcus"));

       doc.SetBoost(2); // <-- Set the boost to 2

 

       // Create index

IndexWriter iw = new IndexWriter(@"c:\ixtest", new StandardAnalyzer(),
true);

       iw.AddDocument(doc);

       iw.Optimize();

       iw.Close();

 

       // Search

       Searcher s = new IndexSearcher(@"c:\ixtest");

       Query q = QueryParser.Parse("BodyText:name",null, new
StandardAnalyzer());

       

       Hits h = s.Search(q);

       Console.WriteLine( h.Doc(0).GetField("BodyText").StringValue() );

       Console.WriteLine( h.Doc(0).GetBoost());

       s.Close();

 

Outputs:

My name is Marcus

1

 

Why does it reply with 1 as boost? Shouldn't this value be 2?

 

/

Regards 

Marcus 

 





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20690-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 20:41:22 2006
Return-Path: <java-user-return-20690-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70737 invoked from network); 17 May 2006 20:41:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 20:41:22 -0000
Received: (qmail 24580 invoked by uid 500); 17 May 2006 20:41:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24516 invoked by uid 500); 17 May 2006 20:41:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24480 invoked by uid 99); 17 May 2006 20:41:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 13:41:04 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of peterlkeegan@gmail.com designates 64.233.184.230 as permitted sender)
Received: from [64.233.184.230] (HELO wr-out-0506.google.com) (64.233.184.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 13:41:04 -0700
Received: by wr-out-0506.google.com with SMTP id 70so796321wra
        for <java-user@lucene.apache.org>; Wed, 17 May 2006 13:40:43 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=e+ZfzjHqX+4xJ0sVQQvvzyLoQbX5VoQVNka85ZWYDZnpxeA7BqP8Z/rZEzVO26GFIpAzXJ5i7Arrl6t1WSMPcuvAl62FcWdwvcWYPM1fwRcx/FPuom1R9lx4eEKAtYnz4bbz9F4X+5I9hxLSYlN5kafjpH8VgKi17Jfvigw7FNc=
Received: by 10.54.66.18 with SMTP id o18mr1558492wra;
        Wed, 17 May 2006 13:40:42 -0700 (PDT)
Received: by 10.54.114.12 with HTTP; Wed, 17 May 2006 13:40:42 -0700 (PDT)
Message-ID: <e994873a0605171340v2e5dffe3t1333dc6fb6598650@mail.gmail.com>
Date: Wed, 17 May 2006 16:40:42 -0400
From: "Peter Keegan" <peterlkeegan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: question about custom sort method
In-Reply-To: <73A6FDD3-E17B-4CF9-921F-B7C74AE09850@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_67011_4855374.1147898442885"
References: <20060512111446.3kxu2k5frk8ws8sg@webmail.service.emory.edu>
	 <73A6FDD3-E17B-4CF9-921F-B7C74AE09850@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_67011_4855374.1147898442885
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Suppose I have a custom sorting 'DocScoreComparator' for computing distance=
s
on each search hit from a specified coordinate (similar to the
DistanceComparatorSource example in LIA). Assume that the 'specified
coordinate' is different for each query. This means a new custom comparator
must be created for each query, which is ok. However, Lucene caches the
comparator even though it will never be reused. This could result in heavy
memory usage if many queries are performed before the IndexReader is
updated.

Is there any way to avoid having lucene cache the custom sorting objects?

------=_Part_67011_4855374.1147898442885--

From java-user-return-20691-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 17 20:46:38 2006
Return-Path: <java-user-return-20691-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72414 invoked from network); 17 May 2006 20:46:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 May 2006 20:46:38 -0000
Received: (qmail 37488 invoked by uid 500); 17 May 2006 20:46:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37376 invoked by uid 500); 17 May 2006 20:46:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37364 invoked by uid 99); 17 May 2006 20:46:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 13:46:31 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.166.179 as permitted sender)
Received: from [64.233.166.179] (HELO py-out-1112.google.com) (64.233.166.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 13:46:30 -0700
Received: by py-out-1112.google.com with SMTP id c39so366384pyd
        for <java-user@lucene.apache.org>; Wed, 17 May 2006 13:46:10 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=CUcjdw/n18V2kvG2hW+nLttA2n8dYablC3CE+RC/XxEWTsDbpx1GAvEir0fhdEOzYUH6NkUSiVNrf3Wv83Yobeokmmxu+cloV67vBRzWJ+6lE39DcfXUhnn9arUJuTp046rXfIgcJYLZGO6EQmYW6TcatXILrhF8SF5Y1lvewjE=
Received: by 10.35.98.6 with SMTP id a6mr1613435pym;
        Wed, 17 May 2006 13:46:10 -0700 (PDT)
Received: by 10.35.107.3 with HTTP; Wed, 17 May 2006 13:46:10 -0700 (PDT)
Message-ID: <c68e39170605171346v32a893a2ue8dca3881afc1f78@mail.gmail.com>
Date: Wed, 17 May 2006 16:46:10 -0400
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: question about custom sort method
In-Reply-To: <e994873a0605171340v2e5dffe3t1333dc6fb6598650@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <20060512111446.3kxu2k5frk8ws8sg@webmail.service.emory.edu>
	 <73A6FDD3-E17B-4CF9-921F-B7C74AE09850@ehatchersolutions.com>
	 <e994873a0605171340v2e5dffe3t1333dc6fb6598650@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

FunctionQuery could also be used for this.
http://incubator.apache.org/solr/docs/api/org/apache/solr/search/function/F=
unctionQuery.html

-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

On 5/17/06, Peter Keegan <peterlkeegan@gmail.com> wrote:
> Suppose I have a custom sorting 'DocScoreComparator' for computing distan=
ces
> on each search hit from a specified coordinate (similar to the
> DistanceComparatorSource example in LIA). Assume that the 'specified
> coordinate' is different for each query. This means a new custom comparat=
or
> must be created for each query, which is ok. However, Lucene caches the
> comparator even though it will never be reused. This could result in heav=
y
> memory usage if many queries are performed before the IndexReader is
> updated.
>
> Is there any way to avoid having lucene cache the custom sorting objects?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20692-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 01:27:16 2006
Return-Path: <java-user-return-20692-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57278 invoked from network); 18 May 2006 01:27:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 01:27:15 -0000
Received: (qmail 84176 invoked by uid 500); 18 May 2006 01:27:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84139 invoked by uid 500); 18 May 2006 01:27:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84128 invoked by uid 99); 18 May 2006 01:27:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 18:27:08 -0700
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of richmondmike@gmail.com designates 66.249.92.173 as permitted sender)
Received: from [66.249.92.173] (HELO ug-out-1314.google.com) (66.249.92.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 18:27:06 -0700
Received: by ug-out-1314.google.com with SMTP id u2so336078uge
        for <java-user@lucene.apache.org>; Wed, 17 May 2006 18:26:45 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=O2xIqRyrqwRzz1XHt4go0HAr9RynDe50b1bZ0drH9dnYSwkjH7knTv+AMl/xDutBjtvoIyqPisP/FS5XGoGEWyj1QZQpidvpFQEujsuFRZ8m1QKP95znY6VfD3hZzUgR4J9pixA0XoEc66e3AJblHiOVp3czbMbm/eSIP94bCFw=
Received: by 10.67.86.1 with SMTP id o1mr1124220ugl;
        Wed, 17 May 2006 18:26:45 -0700 (PDT)
Received: by 10.67.95.1 with HTTP; Wed, 17 May 2006 18:26:44 -0700 (PDT)
Message-ID: <931ca11b0605171826j717881bud6ff4a9f09164cda@mail.gmail.com>
Date: Wed, 17 May 2006 21:26:44 -0400
From: "Mike Richmond" <richmondmike@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Theoretical Lucene Performance
In-Reply-To: <20060516215109.GA12676@srvgal17.nuigalway.ie>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <20060516215109.GA12676@srvgal17.nuigalway.ie>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello Andreas,

This may also be a good reference for you:
http://lucene.apache.org/java/docs/fileformats.html


--Mike

On 5/16/06, Andreas Harth <andreas.harth@deri.org> wrote:
> Hello,
>
> I'd like to learn a bit more about the index organization of
> Lucene (ideally without sifting through source code).
>
> Are there any publications that explain the Lucene indexing
> structure in detail?  Or is it possible to say in a few sentences
> how Lucene works and I can look up the details in a text book
> (e.g. Baeza-Yates/Ribeiro-Neto)?
>
> Many thanks in advance!
>
> Regards,
> Andreas.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20693-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 06:17:44 2006
Return-Path: <java-user-return-20693-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16765 invoked from network); 18 May 2006 06:17:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 06:17:44 -0000
Received: (qmail 3209 invoked by uid 500); 18 May 2006 06:17:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3171 invoked by uid 500); 18 May 2006 06:17:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3160 invoked by uid 99); 18 May 2006 06:17:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 May 2006 23:17:38 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.162] (HELO web30909.mail.mud.yahoo.com) (68.142.200.162)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 17 May 2006 23:17:36 -0700
Received: (qmail 31424 invoked by uid 60001); 18 May 2006 06:17:16 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=r2p3lET3yiJwG58jH6vONubBSCmBP/4haXfYVS0R/s8bQrbKAus10CXQcvVQlGbwB/tR0kLvK4/9mnKxVZgbnJZPNxOYGpVi3nitF6tA84OvGH4cayh9yqPWGquJm44XZg9I/EGy4qQLpWl/C43DP+himbqOk+QDPZ0Rn9mFMN0=  ;
Message-ID: <20060518061716.31422.qmail@web30909.mail.mud.yahoo.com>
Received: from [217.219.195.10] by web30909.mail.mud.yahoo.com via HTTP; Wed, 17 May 2006 23:17:16 PDT
Date: Wed, 17 May 2006 23:17:16 -0700 (PDT)
From: Amir Hosein Jadidi Nejad <master_ai_ir@yahoo.com>
Subject: problem with eclipse and lucene 1.9.1
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1384782227-1147933036=:30852"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1384782227-1147933036=:30852
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi All,
I want to use lucene1.9.1 in Eclipse IDE in windows platform, but i can't create new project with "Java Project from Existing Ant Buildfile" in "New Project" window.
when i use "build.xml" in top level of lucene source folder, following error is occur : "specified buildfile does not contain a javac task".
is anybody can help me ???
  Regard,


              ------------------------------------------------------------------- 
Amir Hosein Jadidi Nejad 
Student Of Computer Science 
Bu-Ali Sina University, Hamedan-Iran 

  E-Mail : jadidi@basu.ac.ir , amir.jadidi@yahoo.com








		
---------------------------------
Love cheap thrills? Enjoy PC-to-Phone  calls to 30+ countries for just 2/min with Yahoo! Messenger with Voice.
--0-1384782227-1147933036=:30852--

From java-user-return-20694-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 07:07:11 2006
Return-Path: <java-user-return-20694-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28896 invoked from network); 18 May 2006 07:07:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 07:07:11 -0000
Received: (qmail 50889 invoked by uid 500); 18 May 2006 07:07:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50859 invoked by uid 500); 18 May 2006 07:07:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50848 invoked by uid 99); 18 May 2006 07:07:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 00:07:04 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.246] (HELO web26209.mail.ukl.yahoo.com) (217.12.10.246)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 18 May 2006 00:07:02 -0700
Received: (qmail 53082 invoked by uid 60001); 18 May 2006 07:06:40 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.es;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=MyOZRAxPp02mDePW2RKuI3fdG5JDkwnzXZePpCOXXJXm/l7XenvDQD2/yrMQo4NWPy+Hoe6YGpT6K0ZnPDB3Zox4XkRQ6uLwl2HdWMtceIbXRVp8bcEPjPdL1XI/s0QQ3ZnBmwHGpHuJIl1P5fuMWB92oKhMZxefw2CjDFVdHYE=  ;
Message-ID: <20060518070640.53080.qmail@web26209.mail.ukl.yahoo.com>
Received: from [195.55.30.21] by web26209.mail.ukl.yahoo.com via HTTP; Thu, 18 May 2006 09:06:40 CEST
Date: Thu, 18 May 2006 09:06:40 +0200 (CEST)
From: =?iso-8859-1?q?Alberto=20Marqu=FFffffe9s?= <alberto_marques@yahoo.es>
Subject: caching lucene
To: lucene <java-user@lucene.apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1595562254-1147936000=:53066"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1595562254-1147936000=:53066
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hello I need to know if Lucene has breaks for search, and in case of having it if I can form it and like becoming it.
		
---------------------------------

LLama Gratis a cualquier PC del Mundo.
Llamadas a fijos y mviles desde 1 cntimo por minuto.
http://es.voice.yahoo.com
--0-1595562254-1147936000=:53066--

From java-user-return-20695-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 07:28:25 2006
Return-Path: <java-user-return-20695-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42431 invoked from network); 18 May 2006 07:28:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 07:28:25 -0000
Received: (qmail 70175 invoked by uid 500); 18 May 2006 07:28:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69910 invoked by uid 500); 18 May 2006 07:28:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69899 invoked by uid 99); 18 May 2006 07:28:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 00:28:18 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [129.215.166.64] (HELO grassmarket.ucs.ed.ac.uk) (129.215.166.64)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 00:28:16 -0700
Received: from smtp.sms.ed.ac.uk (nougat.ucs.ed.ac.uk [192.168.30.2])
	by grassmarket.ucs.ed.ac.uk (8.13.6/8.12.10) with ESMTP id k4I7RrAt016579
	for <java-user@lucene.apache.org>; Thu, 18 May 2006 08:27:53 +0100 (BST)
Received: from 129.215.237.216 ([129.215.237.216]) by www.sms.ed.ac.uk
	(Horde MIME library) with HTTP; Thu, 18 May 2006 08:27:53 +0100
Message-ID: <20060518082753.1bf9pqms4k4wok0o@www.sms.ed.ac.uk>
Date: Thu, 18 May 2006 08:27:53 +0100
From: SG Edwards <s0460205@sms.ed.ac.uk>
To: lucene <java-user@lucene.apache.org>
Subject: Anyone used Zilverline?
MIME-Version: 1.0
Content-Type: text/plain;
	charset=ISO-8859-1;
	format="flowed"
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
User-Agent: Internet Messaging Program (IMP) H3 (4.0.4)
X-Edinburgh-Scanned: at grassmarket.ucs.ed.ac.uk
    with MIMEDefang 2.33, Sophie, Sophos Anti-Virus
X-Scanned-By: MIMEDefang 2.33 (www . roaringpenguin . com / mimedefang)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dear all,

I am a PhD student working on a text-mining project and I have a 
literature collection in a Postgres database. I now need to make this 
rapidly searchable for users through a web-interface so I have been 
looking at Lucene.

I have been looking at the Zilverline search tool 
(http://www.zilverline.org/zilverlineweb/space/home) which seems quite 
nice, particularly that you can use PDF, HTML or text collections. Does 
anyone have experience of this system or could someone recommend an 
alternative for fast database searching? If it would be better I could 
store the collection as  text files rather than in a database.

Thanks for your help, any hints appreciated!

Stephen Edwards,
PhD student,
University of Edinburgh


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20696-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 08:51:31 2006
Return-Path: <java-user-return-20696-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97694 invoked from network); 18 May 2006 08:51:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 08:51:31 -0000
Received: (qmail 23245 invoked by uid 500); 18 May 2006 08:51:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23210 invoked by uid 500); 18 May 2006 08:51:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23186 invoked by uid 99); 18 May 2006 08:51:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 01:51:23 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chris.lu@gmail.com designates 64.233.184.229 as permitted sender)
Received: from [64.233.184.229] (HELO wr-out-0506.google.com) (64.233.184.229)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 01:51:23 -0700
Received: by wr-out-0506.google.com with SMTP id i28so356667wra
        for <java-user@lucene.apache.org>; Thu, 18 May 2006 01:51:02 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Yb2fAlZAhU6zh3yJKoRZNquWrtPaz6VToiDSUQPuJxmIGrup4GSA8C20GfwfALPY4HvZXXpDxfH2T2I7qWNzjWknCT3UTP7fSv1MEA7u92jWagKhCKRZ2e5/PpT8y+ZL+WNu4M5H8+sqZcFHlTaOogs31vc08k1n0/UMBKNeYZ4=
Received: by 10.64.88.11 with SMTP id l11mr144321qbb;
        Thu, 18 May 2006 01:51:01 -0700 (PDT)
Received: by 10.65.84.17 with HTTP; Thu, 18 May 2006 01:51:01 -0700 (PDT)
Message-ID: <6e3ae6310605180151vfeda924pb33893336a6e9843@mail.gmail.com>
Date: Thu, 18 May 2006 01:51:01 -0700
From: "Chris Lu" <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Anyone used Zilverline?
In-Reply-To: <20060518082753.1bf9pqms4k4wok0o@www.sms.ed.ac.uk>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <20060518082753.1bf9pqms4k4wok0o@www.sms.ed.ac.uk>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You can try DBSight.
http://www.dbsight.net

You just need to use simple SQL to select content out. And you can
customize ranking, analyzers, result templates, etc. You can create a
google-like search in 15 minutes.

Please let me know your feedback also.

Chris Lu
-------------------------------------
Full-Text Lucene Search on Any Databases/Applications
http://www.dbsight.net


On 5/18/06, SG Edwards <s0460205@sms.ed.ac.uk> wrote:
> Dear all,
>
> I am a PhD student working on a text-mining project and I have a
> literature collection in a Postgres database. I now need to make this
> rapidly searchable for users through a web-interface so I have been
> looking at Lucene.
>
> I have been looking at the Zilverline search tool
> (http://www.zilverline.org/zilverlineweb/space/home) which seems quite
> nice, particularly that you can use PDF, HTML or text collections. Does
> anyone have experience of this system or could someone recommend an
> alternative for fast database searching? If it would be better I could
> store the collection as  text files rather than in a database.
>
> Thanks for your help, any hints appreciated!
>
> Stephen Edwards,
> PhD student,
> University of Edinburgh
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20697-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 08:54:34 2006
Return-Path: <java-user-return-20697-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98694 invoked from network); 18 May 2006 08:54:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 08:54:34 -0000
Received: (qmail 29236 invoked by uid 500); 18 May 2006 08:54:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29208 invoked by uid 500); 18 May 2006 08:54:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29197 invoked by uid 99); 18 May 2006 08:54:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 01:54:27 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 194.52.12.17 is neither permitted nor denied by domain of marcus.falck@observer.se)
Received: from [194.52.12.17] (HELO mail1.observergroup.com) (194.52.12.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 01:54:26 -0700
Received: (qmail 4810 invoked by uid 509); 18 May 2006 10:54:02 +0200
Received: from 10.8.1.20 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.20):. 
 Processed in 0.084442 secs); 18 May 2006 08:54:02 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.20):. Processed in 0.084442 secs Process 4804)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.20)
  by mail1.observergroup.com with SMTP; 18 May 2006 10:54:01 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C67A58.9BB383DE"
Subject: SV: Sort problematics
Date: Thu, 18 May 2006 10:52:59 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C33B5D4@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <8834A84C87A2C148AD46921BB8BFC97C33B5D4@S1SE1MAIL.emea1.ad.group>
Thread-Topic: Sort problematics
Thread-Index: AcZ5vrHr8EBmSRSySByjo1Fa0kkCkgAmcTcq
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C67A58.9BB383DE
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I have slow subsequent searches.=20
And if i get the cache up and running is it persisted to disc?
=20
/Marcus
=20

________________________________

Fr=E5n: Yonik Seeley [mailto:yseeley@gmail.com]
Skickat: on 2006-05-17 16:31
Till: java-user@lucene.apache.org
=C4mne: Re: Sort problematics



On 5/17/06, Marcus Falck <marcus.falck@observer.se> wrote:
> I did a quite interesting notice, if i search for IndexId:x
>   (IndexId is unique) with a sort it still takes very long time, which
>  it doesn't without the sort.

This will only be the case the first time you sort on a field because
a FieldCache entry is created for that field and then cached for
subsequent sorts.

-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search =
server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





------_=_NextPart_001_01C67A58.9BB383DE
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------_=_NextPart_001_01C67A58.9BB383DE--

From java-user-return-20698-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 08:58:29 2006
Return-Path: <java-user-return-20698-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99730 invoked from network); 18 May 2006 08:58:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 08:58:28 -0000
Received: (qmail 37581 invoked by uid 500); 18 May 2006 08:58:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37549 invoked by uid 500); 18 May 2006 08:58:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37538 invoked by uid 99); 18 May 2006 08:58:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 01:58:22 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 194.52.12.17 is neither permitted nor denied by domain of marcus.falck@observer.se)
Received: from [194.52.12.17] (HELO mail1.observergroup.com) (194.52.12.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 01:58:21 -0700
Received: (qmail 5670 invoked by uid 509); 18 May 2006 10:57:59 +0200
Received: from 10.8.1.20 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.20):. 
 Processed in 0.355327 secs); 18 May 2006 08:57:59 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.20):. Processed in 0.355327 secs Process 5637)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.20)
  by mail1.observergroup.com with SMTP; 18 May 2006 10:57:58 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C67A59.28A7EFA5"
Subject: SV: Changing the scoring (newest doc date first)
Date: Thu, 18 May 2006 10:56:27 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C33B5D5@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <8834A84C87A2C148AD46921BB8BFC97C33B5D5@S1SE1MAIL.emea1.ad.group>
Thread-Topic: Changing the scoring (newest doc date first)
Thread-Index: AcZ53HXjvwlnBfFVTTG+FJhW4kwZvQAfHzZr
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C67A59.28A7EFA5
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Yes the default behavior (sort on relevance) is a form of sort. But that =
sort don't need to access the field values which makes it alot faster.
=20
Sorting on fields works good up to index sizes of a couple of gigabytes =
( on a test machine dual opteron 2 GB ram)
=20
/
Marcus

________________________________

Fr=E5n: Yonik Seeley [mailto:yseeley@gmail.com]
Skickat: on 2006-05-17 20:04
Till: java-user@lucene.apache.org
=C4mne: Re: Changing the scoring (newest doc date first)



On 5/16/06, Marcus Falck <marcus.falck@observer.se> wrote:
> I'm working on a very large implementation of a search engine based on =
the lucene api (1.4.3). We have also been investigating enterprise =
search companies such as FAST and Verity but have come to the conclusion =
that we might aswell save ourselves 1 millon dollars by doing our own =
implementation on lucene.

That's the same conclusion we came to... and how Solr came about.
If it is close enough to meeting your needs, it might make sense to =
collaborate.

> So i figured since the default sort is by relevance i would like to =
change the relevance so that we don't even need to sort the documents.

Documents sorted by relevance are still sorted.
How much slower is a sort on another field vs a sort on relevance (not
counting the first time)


-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search =
server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





------_=_NextPart_001_01C67A59.28A7EFA5
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------_=_NextPart_001_01C67A59.28A7EFA5--

From java-user-return-20699-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 10:00:15 2006
Return-Path: <java-user-return-20699-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13854 invoked from network); 18 May 2006 10:00:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 10:00:15 -0000
Received: (qmail 20955 invoked by uid 500); 18 May 2006 10:00:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20924 invoked by uid 500); 18 May 2006 10:00:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20913 invoked by uid 99); 18 May 2006 10:00:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 03:00:08 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 03:00:08 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 3CEA633CB01; Thu, 18 May 2006 05:59:47 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 332D433CAFF
	for <java-user@lucene.apache.org>; Thu, 18 May 2006 05:59:45 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <20060518061716.31422.qmail@web30909.mail.mud.yahoo.com>
References: <20060518061716.31422.qmail@web30909.mail.mud.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <EE99D8C7-84F8-43F8-A1EA-1572840DB4A1@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: problem with eclipse and lucene 1.9.1
Date: Thu, 18 May 2006 05:59:40 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_SORBS_DUL autolearn=no version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 18, 2006, at 2:17 AM, Amir Hosein Jadidi Nejad wrote:
> I want to use lucene1.9.1 in Eclipse IDE in windows platform, but i  
> can't create new project with "Java Project from Existing Ant  
> Buildfile" in "New Project" window.
> when i use "build.xml" in top level of lucene source folder,  
> following error is occur : "specified buildfile does not contain a  
> javac task".
> is anybody can help me ???

Lucene's build.xml uses some advanced techniques that it seems  
Eclipse isn't dealing with.  build.xml <import>s common-build.xml  
which <macrodef>s a compile task which is a wrapper around <javac>.

Are you wanting to have an Eclipse project that works with the Lucene  
source code itself?  Or are you using the Lucene JAR in another  
project of your own source code?  It's easy enough to create a  
project in Eclipse to work with Lucene's source, ignoring build.xml.   
Lucene's core has no external dependencies so simply configure a new  
project with src/java for the source code.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20700-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 10:01:30 2006
Return-Path: <java-user-return-20700-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14523 invoked from network); 18 May 2006 10:01:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 10:01:29 -0000
Received: (qmail 25956 invoked by uid 500); 18 May 2006 10:01:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25921 invoked by uid 500); 18 May 2006 10:01:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25910 invoked by uid 99); 18 May 2006 10:01:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 03:01:22 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 03:01:21 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 34CBA33CB01; Thu, 18 May 2006 06:01:01 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 815B833CAFF
	for <java-user@lucene.apache.org>; Thu, 18 May 2006 06:00:59 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <20060518070640.53080.qmail@web26209.mail.ukl.yahoo.com>
References: <20060518070640.53080.qmail@web26209.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
Message-Id: <BDF4054B-C22A-4AE3-8BFB-7ECC10B13E34@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: caching lucene
Date: Thu, 18 May 2006 06:00:54 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_SORBS_DUL autolearn=no version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 18, 2006, at 3:06 AM, Alberto Marqu=FFffffe9s wrote:
> Hello I need to know if Lucene has breaks for search, and in case =20
> of having it if I can form it and like becoming it.

huh?   I'm sorry, but I do not understand the question.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20701-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 10:08:15 2006
Return-Path: <java-user-return-20701-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16666 invoked from network); 18 May 2006 10:08:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 10:08:15 -0000
Received: (qmail 37163 invoked by uid 500); 18 May 2006 10:08:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37066 invoked by uid 500); 18 May 2006 10:07:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37031 invoked by uid 99); 18 May 2006 10:07:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 03:07:59 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 03:07:58 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id BE01033CAFF; Thu, 18 May 2006 06:07:37 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 0B43933CAFF
	for <java-user@lucene.apache.org>; Thu, 18 May 2006 06:07:36 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C33B5D4@S1SE1MAIL.emea1.ad.group>
References: <8834A84C87A2C148AD46921BB8BFC97C33B5D4@S1SE1MAIL.emea1.ad.group>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
Message-Id: <50E3A766-3BAB-4DEF-B052-30AF42B9C195@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: SV: Sort problematics
Date: Thu, 18 May 2006 06:07:32 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_SORBS_DUL autolearn=no version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 18, 2006, at 4:52 AM, Marcus Falck wrote:
> I have slow subsequent searches.
> And if i get the cache up and running is it persisted to disc?

No, Lucene's caches are not persisted, only in RAM.  Are you using a =20
new IndexReader/IndexSearcher for your subsequent searches?  If not, =20
you're likely not leveraging any caches at all.

	Erik



>
> /Marcus
>
>
> ________________________________
>
> Fr=E5n: Yonik Seeley [mailto:yseeley@gmail.com]
> Skickat: on 2006-05-17 16:31
> Till: java-user@lucene.apache.org
> =C4mne: Re: Sort problematics
>
>
>
> On 5/17/06, Marcus Falck <marcus.falck@observer.se> wrote:
>> I did a quite interesting notice, if i search for IndexId:x
>>   (IndexId is unique) with a sort it still takes very long time, =20
>> which
>>  it doesn't without the sort.
>
> This will only be the case the first time you sort on a field because
> a FieldCache entry is created for that field and then cached for
> subsequent sorts.
>
> -Yonik
> http://incubator.apache.org/solr Solr, the open-source Lucene =20
> search server
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20702-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 10:41:54 2006
Return-Path: <java-user-return-20702-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26055 invoked from network); 18 May 2006 10:41:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 10:41:54 -0000
Received: (qmail 84946 invoked by uid 500); 18 May 2006 10:41:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84915 invoked by uid 500); 18 May 2006 10:41:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84904 invoked by uid 99); 18 May 2006 10:41:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 03:41:47 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 194.52.12.17 is neither permitted nor denied by domain of marcus.falck@observer.se)
Received: from [194.52.12.17] (HELO mail1.observergroup.com) (194.52.12.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 03:41:46 -0700
Received: (qmail 23594 invoked by uid 509); 18 May 2006 12:41:21 +0200
Received: from 10.8.1.20 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.20):. 
 Processed in 0.07137 secs); 18 May 2006 10:41:21 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.20):. Processed in 0.07137 secs Process 23588)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.20)
  by mail1.observergroup.com with SMTP; 18 May 2006 12:41:20 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: SV: SV: Sort problematics
Date: Thu, 18 May 2006 12:41:20 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C01B280CE@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: SV: Sort problematics
Thread-Index: AcZ6YwKDBD53kz2BRyOnlFKK9BvhaAABIgeA
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yes Erik I'm instantiating a new IndexSearcher for every search.


-----Ursprungligt meddelande-----
Fr=E5n: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Skickat: den 18 maj 2006 12:08
Till: java-user@lucene.apache.org
=C4mne: Re: SV: Sort problematics


On May 18, 2006, at 4:52 AM, Marcus Falck wrote:
> I have slow subsequent searches.
> And if i get the cache up and running is it persisted to disc?

No, Lucene's caches are not persisted, only in RAM.  Are you using a =20
new IndexReader/IndexSearcher for your subsequent searches?  If not, =20
you're likely not leveraging any caches at all.

	Erik



>
> /Marcus
>
>
> ________________________________
>
> Fr=E5n: Yonik Seeley [mailto:yseeley@gmail.com]
> Skickat: on 2006-05-17 16:31
> Till: java-user@lucene.apache.org
> =C4mne: Re: Sort problematics
>
>
>
> On 5/17/06, Marcus Falck <marcus.falck@observer.se> wrote:
>> I did a quite interesting notice, if i search for IndexId:x
>>   (IndexId is unique) with a sort it still takes very long time, =20
>> which
>>  it doesn't without the sort.
>
> This will only be the case the first time you sort on a field because
> a FieldCache entry is created for that field and then cached for
> subsequent sorts.
>
> -Yonik
> http://incubator.apache.org/solr Solr, the open-source Lucene =20
> search server
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20703-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 10:48:30 2006
Return-Path: <java-user-return-20703-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27589 invoked from network); 18 May 2006 10:48:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 10:48:30 -0000
Received: (qmail 99367 invoked by uid 500); 18 May 2006 10:48:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99338 invoked by uid 500); 18 May 2006 10:48:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99325 invoked by uid 99); 18 May 2006 10:48:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 03:48:24 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of danutchi@gmail.com designates 66.249.82.203 as permitted sender)
Received: from [66.249.82.203] (HELO wx-out-0102.google.com) (66.249.82.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 03:48:23 -0700
Received: by wx-out-0102.google.com with SMTP id h28so60710wxd
        for <java-user@lucene.apache.org>; Thu, 18 May 2006 03:48:02 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=GVQxw6jbDmrzw6n7o2fjWBkJOvspf1NFzZfYF0LxlrmrICeBUwtMoEcdJSTeMjbAnZUd1yO1hig+Bgkw7QLwDNqiRh+dLVemhHsKV0pL+Fty0yDitSSAHfRXLIqrhPUTreMewbB/NYmmbaOMdEAS3Cwmodc2vuDDJ+m6jS3rr58=
Received: by 10.70.73.1 with SMTP id v1mr458949wxa;
        Thu, 18 May 2006 03:48:02 -0700 (PDT)
Received: by 10.70.33.17 with HTTP; Thu, 18 May 2006 03:48:02 -0700 (PDT)
Message-ID: <d7a865a50605180348x3019a349n23ef1aea82b0047d@mail.gmail.com>
Date: Thu, 18 May 2006 12:48:02 +0200
From: "Dan Wiggin" <danutchi@gmail.com>
To: java-user@lucene.apache.org
Subject: My first question
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_69444_14988494.1147949282768"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_69444_14988494.1147949282768
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi luceners I'm looking "Lucene in Action" and proving the examples.
I have some questions:

If I have to index and I'm using MultiSearcher to search in my index, what =
I
have to do for every search?
Do I have a new Multisearcher for every search petition or Can I conserve m=
y
Multisearcher object for every search petition (until I use IndexWriter to
add or del some documents in my index)?

What's the better option to do?

Thks in advance.
PD: It looks a powerfull tool.

------=_Part_69444_14988494.1147949282768--

From java-user-return-20704-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 10:52:36 2006
Return-Path: <java-user-return-20704-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29059 invoked from network); 18 May 2006 10:52:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 10:52:36 -0000
Received: (qmail 8333 invoked by uid 500); 18 May 2006 10:52:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8299 invoked by uid 500); 18 May 2006 10:52:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8288 invoked by uid 99); 18 May 2006 10:52:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 03:52:29 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 03:52:28 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id ED4AC33CB00; Thu, 18 May 2006 06:52:06 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 5CDE233CB00
	for <java-user@lucene.apache.org>; Thu, 18 May 2006 06:52:03 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C01B280CE@S1SE1MAIL.emea1.ad.group>
References: <8834A84C87A2C148AD46921BB8BFC97C01B280CE@S1SE1MAIL.emea1.ad.group>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
Message-Id: <DFB2B655-C501-476D-BE98-250B754B059C@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: SV: SV: Sort problematics
Date: Thu, 18 May 2006 06:52:01 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_SORBS_DUL autolearn=no version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 18, 2006, at 6:41 AM, Marcus Falck wrote:
> Yes Erik I'm instantiating a new IndexSearcher for every search.

Then don't :)   You only need a new IndexSearcher instance when the =20
index itself has changed.

>
>
> -----Ursprungligt meddelande-----
> Fr=E5n: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Skickat: den 18 maj 2006 12:08
> Till: java-user@lucene.apache.org
> =C4mne: Re: SV: Sort problematics
>
>
> On May 18, 2006, at 4:52 AM, Marcus Falck wrote:
>> I have slow subsequent searches.
>> And if i get the cache up and running is it persisted to disc?
>
> No, Lucene's caches are not persisted, only in RAM.  Are you using a
> new IndexReader/IndexSearcher for your subsequent searches?  If not,
> you're likely not leveraging any caches at all.
>
> 	Erik
>
>
>
>>
>> /Marcus
>>
>>
>> ________________________________
>>
>> Fr=E5n: Yonik Seeley [mailto:yseeley@gmail.com]
>> Skickat: on 2006-05-17 16:31
>> Till: java-user@lucene.apache.org
>> =C4mne: Re: Sort problematics
>>
>>
>>
>> On 5/17/06, Marcus Falck <marcus.falck@observer.se> wrote:
>>> I did a quite interesting notice, if i search for IndexId:x
>>>   (IndexId is unique) with a sort it still takes very long time,
>>> which
>>>  it doesn't without the sort.
>>
>> This will only be the case the first time you sort on a field because
>> a FieldCache entry is created for that field and then cached for
>> subsequent sorts.
>>
>> -Yonik
>> http://incubator.apache.org/solr Solr, the open-source Lucene
>> search server
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20705-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 10:54:13 2006
Return-Path: <java-user-return-20705-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29525 invoked from network); 18 May 2006 10:54:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 10:54:13 -0000
Received: (qmail 12350 invoked by uid 500); 18 May 2006 10:54:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12327 invoked by uid 500); 18 May 2006 10:54:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12311 invoked by uid 99); 18 May 2006 10:54:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 03:54:06 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 03:54:05 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 471AF33CB02; Thu, 18 May 2006 06:53:45 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id B35CF33CB00
	for <java-user@lucene.apache.org>; Thu, 18 May 2006 06:53:42 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <d7a865a50605180348x3019a349n23ef1aea82b0047d@mail.gmail.com>
References: <d7a865a50605180348x3019a349n23ef1aea82b0047d@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <D45A5E7B-9390-4A10-BF82-152BB47B0692@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: My first question
Date: Thu, 18 May 2006 06:53:40 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_SORBS_DUL autolearn=no version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 18, 2006, at 6:48 AM, Dan Wiggin wrote:

> Hi luceners I'm looking "Lucene in Action" and proving the examples.
> I have some questions:
>
> If I have to index and I'm using MultiSearcher to search in my  
> index, what I
> have to do for every search?

I don't understand the question.  Using a MultiSearcher is the same  
as using IndexSearcher except in how its constructed.  Searching is  
identical - call a search() method and work with Hits (or TopDocs).

> Do I have a new Multisearcher for every search petition or Can I  
> conserve my
> Multisearcher object for every search petition (until I use  
> IndexWriter to
> add or del some documents in my index)?
>
> What's the better option to do?

What's a "petition" in this context?

	Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20706-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 11:05:19 2006
Return-Path: <java-user-return-20706-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34289 invoked from network); 18 May 2006 11:05:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 11:05:18 -0000
Received: (qmail 49111 invoked by uid 500); 18 May 2006 11:05:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49088 invoked by uid 500); 18 May 2006 11:05:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49077 invoked by uid 99); 18 May 2006 11:05:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 04:05:11 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 194.52.12.17 is neither permitted nor denied by domain of marcus.falck@observer.se)
Received: from [194.52.12.17] (HELO mail1.observergroup.com) (194.52.12.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 04:05:10 -0700
Received: (qmail 27111 invoked by uid 509); 18 May 2006 13:04:48 +0200
Received: from 10.8.1.20 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.20):. 
 Processed in 0.075593 secs); 18 May 2006 11:04:48 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.20):. Processed in 0.075593 secs Process 27102)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.20)
  by mail1.observergroup.com with SMTP; 18 May 2006 13:04:47 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: SV: SV: SV: Sort problematics
Date: Thu, 18 May 2006 13:04:45 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C01B2814E@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: SV: SV: Sort problematics
Thread-Index: AcZ6aTTjJ/KAKccZRiKXzFN7lFX3DwAAZwag
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yes I know. But the index is changed constantly.

/ Marcus

-----Ursprungligt meddelande-----
Fr=E5n: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Skickat: den 18 maj 2006 12:52
Till: java-user@lucene.apache.org
=C4mne: Re: SV: SV: Sort problematics


On May 18, 2006, at 6:41 AM, Marcus Falck wrote:
> Yes Erik I'm instantiating a new IndexSearcher for every search.

Then don't :)   You only need a new IndexSearcher instance when the =20
index itself has changed.

>
>
> -----Ursprungligt meddelande-----
> Fr=E5n: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Skickat: den 18 maj 2006 12:08
> Till: java-user@lucene.apache.org
> =C4mne: Re: SV: Sort problematics
>
>
> On May 18, 2006, at 4:52 AM, Marcus Falck wrote:
>> I have slow subsequent searches.
>> And if i get the cache up and running is it persisted to disc?
>
> No, Lucene's caches are not persisted, only in RAM.  Are you using a
> new IndexReader/IndexSearcher for your subsequent searches?  If not,
> you're likely not leveraging any caches at all.
>
> 	Erik
>
>
>
>>
>> /Marcus
>>
>>
>> ________________________________
>>
>> Fr=E5n: Yonik Seeley [mailto:yseeley@gmail.com]
>> Skickat: on 2006-05-17 16:31
>> Till: java-user@lucene.apache.org
>> =C4mne: Re: Sort problematics
>>
>>
>>
>> On 5/17/06, Marcus Falck <marcus.falck@observer.se> wrote:
>>> I did a quite interesting notice, if i search for IndexId:x
>>>   (IndexId is unique) with a sort it still takes very long time,
>>> which
>>>  it doesn't without the sort.
>>
>> This will only be the case the first time you sort on a field because
>> a FieldCache entry is created for that field and then cached for
>> subsequent sorts.
>>
>> -Yonik
>> http://incubator.apache.org/solr Solr, the open-source Lucene
>> search server
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20707-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 11:08:10 2006
Return-Path: <java-user-return-20707-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35499 invoked from network); 18 May 2006 11:08:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 11:08:09 -0000
Received: (qmail 53956 invoked by uid 500); 18 May 2006 11:08:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53934 invoked by uid 500); 18 May 2006 11:08:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53923 invoked by uid 99); 18 May 2006 11:08:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 04:08:02 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.85.32] (HELO web36615.mail.mud.yahoo.com) (209.191.85.32)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 18 May 2006 04:08:02 -0700
Received: (qmail 37297 invoked by uid 60001); 18 May 2006 11:07:40 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=0keV9yI8NZIpZyXZ8oJKP8fZCRAN1KagOeSZuE6D9G0gCuxfCTXh4TWG5cOKyIuXQJ3kibgPHMZRmKvawbjnmCo58yJMp68OfNeK+7nEVxZvbNHXG/7amcefnthBnl3iw+uefgfHlKxf6MGckSPPlEaX1aBGMdHXr4x0ohlzkWc=  ;
Message-ID: <20060518110740.37295.qmail@web36615.mail.mud.yahoo.com>
Date: Thu, 18 May 2006 04:07:40 -0700 (PDT)
From: Marc Dauncey <marc_dauncey@yahoo.com>
Reply-To: Marc Dauncey <marc_dauncey@yahoo.com>
Subject: Re: My first question
To: java-user@lucene.apache.org
In-Reply-To: <D45A5E7B-9390-4A10-BF82-152BB47B0692@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

i think thats meant to be "partition" which would definitely make sense in the context of  using a multisearcher to search logical domain-specific partitions within  an app.

----- Original Message ----
From: Erik Hatcher <erik@ehatchersolutions.com>
To: java-user@lucene.apache.org
Sent: Thursday, 18 May, 2006 11:53:40 AM
Subject: Re: My first question


On May 18, 2006, at 6:48 AM, Dan Wiggin wrote:

> Hi luceners I'm looking "Lucene in Action" and proving the examples.
> I have some questions:
>
> If I have to index and I'm using MultiSearcher to search in my  
> index, what I
> have to do for every search?

I don't understand the question.  Using a MultiSearcher is the same  
as using IndexSearcher except in how its constructed.  Searching is  
identical - call a search() method and work with Hits (or TopDocs).

> Do I have a new Multisearcher for every search petition or Can I  
> conserve my
> Multisearcher object for every search petition (until I use  
> IndexWriter to
> add or del some documents in my index)?
>
> What's the better option to do?

What's a "petition" in this context?

    Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20708-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 11:18:00 2006
Return-Path: <java-user-return-20708-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39549 invoked from network); 18 May 2006 11:18:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 11:18:00 -0000
Received: (qmail 77535 invoked by uid 500); 18 May 2006 11:17:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77504 invoked by uid 500); 18 May 2006 11:17:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77493 invoked by uid 99); 18 May 2006 11:17:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 04:17:53 -0700
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,HTML_SHORT_LENGTH,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of danutchi@gmail.com designates 66.249.82.194 as permitted sender)
Received: from [66.249.82.194] (HELO wx-out-0102.google.com) (66.249.82.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 04:17:52 -0700
Received: by wx-out-0102.google.com with SMTP id h28so63782wxd
        for <java-user@lucene.apache.org>; Thu, 18 May 2006 04:17:32 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=hZYKHwqiwxyDJ7ez+FdSs3nU76I2fYpFrshIT3Rnr7o2+6GFz6uztL64CVfwulUdfDQSinMz1uP6bznp5+r9Rk7CuiVovM0socoebOeHGuIBq7YptLECI5dDPvAF02xV56uo9QxxNbB+A3WeJ5C6XGziHHs8bNp7AFrfeHvaMRk=
Received: by 10.70.75.12 with SMTP id x12mr495959wxa;
        Thu, 18 May 2006 04:17:32 -0700 (PDT)
Received: by 10.70.33.17 with HTTP; Thu, 18 May 2006 04:17:32 -0700 (PDT)
Message-ID: <d7a865a50605180417u2baed634p43ee59cc3c00d15d@mail.gmail.com>
Date: Thu, 18 May 2006 13:17:32 +0200
From: "Dan Wiggin" <danutchi@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: My first question
In-Reply-To: <D45A5E7B-9390-4A10-BF82-152BB47B0692@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_69544_9276040.1147951052289"
References: <d7a865a50605180348x3019a349n23ef1aea82b0047d@mail.gmail.com>
	 <D45A5E7B-9390-4A10-BF82-152BB47B0692@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_69544_9276040.1147951052289
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Excuse me,
jejeje  I searched and petition doesn't exist in english is a silly
traduction of spanish word that means request.
EXCUSE ME.

------=_Part_69544_9276040.1147951052289--

From java-user-return-20709-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 11:35:43 2006
Return-Path: <java-user-return-20709-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48112 invoked from network); 18 May 2006 11:35:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 11:35:43 -0000
Received: (qmail 24377 invoked by uid 500); 18 May 2006 11:35:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24355 invoked by uid 500); 18 May 2006 11:35:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24344 invoked by uid 99); 18 May 2006 11:35:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 04:35:35 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.243] (HELO web26206.mail.ukl.yahoo.com) (217.12.10.243)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 18 May 2006 04:35:34 -0700
Received: (qmail 59079 invoked by uid 60001); 18 May 2006 11:35:12 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.es;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=J55ixyaddI6ic2vg2Qa/2Q4gXS2I9ug6F6AGFIe2wjuMyCVxaCHkLvdRUagWarHnOWW4lPoY4SSb7M+3KPzimgpO67/QU5wVzEw1dV0uMWi0734bCzZECFqjYqYJiLo6chVYSPstxYEWwE+28U5Sk/8lAwDoBtbvogCwbo54W2Q=  ;
Message-ID: <20060518113512.59077.qmail@web26206.mail.ukl.yahoo.com>
Received: from [195.55.30.21] by web26206.mail.ukl.yahoo.com via HTTP; Thu, 18 May 2006 13:35:12 CEST
Date: Thu, 18 May 2006 13:35:12 +0200 (CEST)
From: =?iso-8859-1?q?Alberto=20Marqu=FFffffe9s?= <alberto_marques@yahoo.es>
Subject: cache in lucene
To: lucene <java-user@lucene.apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-806485141-1147952112=:58347"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-806485141-1147952112=:58347
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

My question is Lucene frisks in memory the results of its searches, to optimize them can be acceded to this breaks to form it
		
---------------------------------

LLama Gratis a cualquier PC del Mundo.
Llamadas a fijos y mviles desde 1 cntimo por minuto.
http://es.voice.yahoo.com
--0-806485141-1147952112=:58347--

From java-user-return-20710-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 12:08:48 2006
Return-Path: <java-user-return-20710-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56817 invoked from network); 18 May 2006 12:08:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 12:08:48 -0000
Received: (qmail 78321 invoked by uid 500); 18 May 2006 12:08:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78300 invoked by uid 500); 18 May 2006 12:08:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78289 invoked by uid 99); 18 May 2006 12:08:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 05:08:41 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [149.77.160.1] (HELO master.hyd.deshaw.com) (149.77.160.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 05:08:40 -0700
Received: from mshydpub1.hyd.deshaw.com (mshydpub1.hyd.deshaw.com [149.77.160.67])
 by master.hyd.deshaw.com (8.12.7/8.12.7/2.0.kim.desco.357) with ESMTP id k4IC8FR8019981
 for <java-user@lucene.apache.org>; Thu, 18 May 2006 17:38:15 +0530 (IST)
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: How to do analysis when creating a query programmatically?
Date: Thu, 18 May 2006 17:38:15 +0530
Message-ID: <E817F096B8D59B4E9D1E437917B1083107D1A9@mshydpub1.hyd.deshaw.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: How to do analysis when creating a query programmatically?
Thread-Index: AcZ6c74uHwwD6L8VQ4WRNo59YD1uUA==
From: "Satuluri, Venu_Madhav" <Venu.Madhav.Satuluri@deshaw.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,

I have recently shifted to creating queries programmatically rather than
using the QueryParser as this gave me more flexibility. I am facing a
new problem, though: when indexing my fields are being analyzed (on a
per-field basis: most are being stemmed etc, some are keywords returned
as it is), but the query doesn't get analyzed as I construct it myself.
This means that many legitimate documents don't come up as results.=20

Is there any way to run my Query object through my analyzer? Or is there
another solution?

Thanks in advance,
Venu



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20711-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 12:57:51 2006
Return-Path: <java-user-return-20711-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76497 invoked from network); 18 May 2006 12:57:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 12:57:50 -0000
Received: (qmail 53537 invoked by uid 500); 18 May 2006 12:57:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53515 invoked by uid 500); 18 May 2006 12:57:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53501 invoked by uid 99); 18 May 2006 12:57:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 05:57:43 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 05:57:41 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id AD7E233CAEE; Thu, 18 May 2006 08:57:20 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id C747233CAE7
	for <java-user@lucene.apache.org>; Thu, 18 May 2006 08:57:17 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C01B2814E@S1SE1MAIL.emea1.ad.group>
References: <8834A84C87A2C148AD46921BB8BFC97C01B2814E@S1SE1MAIL.emea1.ad.group>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
Message-Id: <30BA418C-B2FB-48C7-8705-282E7B656B04@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: SV: SV: SV: Sort problematics
Date: Thu, 18 May 2006 08:57:11 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 18, 2006, at 7:04 AM, Marcus Falck wrote:
> Yes I know. But the index is changed constantly.

Then use Solr :))

	Erik


>
> / Marcus
>
> -----Ursprungligt meddelande-----
> Fr=E5n: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Skickat: den 18 maj 2006 12:52
> Till: java-user@lucene.apache.org
> =C4mne: Re: SV: SV: Sort problematics
>
>
> On May 18, 2006, at 6:41 AM, Marcus Falck wrote:
>> Yes Erik I'm instantiating a new IndexSearcher for every search.
>
> Then don't :)   You only need a new IndexSearcher instance when the
> index itself has changed.
>
>>
>>
>> -----Ursprungligt meddelande-----
>> Fr=E5n: Erik Hatcher [mailto:erik@ehatchersolutions.com]
>> Skickat: den 18 maj 2006 12:08
>> Till: java-user@lucene.apache.org
>> =C4mne: Re: SV: Sort problematics
>>
>>
>> On May 18, 2006, at 4:52 AM, Marcus Falck wrote:
>>> I have slow subsequent searches.
>>> And if i get the cache up and running is it persisted to disc?
>>
>> No, Lucene's caches are not persisted, only in RAM.  Are you using a
>> new IndexReader/IndexSearcher for your subsequent searches?  If not,
>> you're likely not leveraging any caches at all.
>>
>> 	Erik
>>
>>
>>
>>>
>>> /Marcus
>>>
>>>
>>> ________________________________
>>>
>>> Fr=E5n: Yonik Seeley [mailto:yseeley@gmail.com]
>>> Skickat: on 2006-05-17 16:31
>>> Till: java-user@lucene.apache.org
>>> =C4mne: Re: Sort problematics
>>>
>>>
>>>
>>> On 5/17/06, Marcus Falck <marcus.falck@observer.se> wrote:
>>>> I did a quite interesting notice, if i search for IndexId:x
>>>>   (IndexId is unique) with a sort it still takes very long time,
>>>> which
>>>>  it doesn't without the sort.
>>>
>>> This will only be the case the first time you sort on a field =20
>>> because
>>> a FieldCache entry is created for that field and then cached for
>>> subsequent sorts.
>>>
>>> -Yonik
>>> http://incubator.apache.org/solr Solr, the open-source Lucene
>>> search server
>>>
>>> --------------------------------------------------------------------=20=

>>> -
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>>
>>>
>>> --------------------------------------------------------------------=20=

>>> -
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20712-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 13:03:54 2006
Return-Path: <java-user-return-20712-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78775 invoked from network); 18 May 2006 13:03:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 13:03:54 -0000
Received: (qmail 65909 invoked by uid 500); 18 May 2006 13:03:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65861 invoked by uid 500); 18 May 2006 13:03:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65826 invoked by uid 99); 18 May 2006 13:03:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 06:03:45 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 06:03:43 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id D448F33CAEF; Thu, 18 May 2006 09:03:22 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id BD0D733C65E
	for <java-user@lucene.apache.org>; Thu, 18 May 2006 09:03:20 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <d7a865a50605180417u2baed634p43ee59cc3c00d15d@mail.gmail.com>
References: <d7a865a50605180348x3019a349n23ef1aea82b0047d@mail.gmail.com> <D45A5E7B-9390-4A10-BF82-152BB47B0692@ehatchersolutions.com> <d7a865a50605180417u2baed634p43ee59cc3c00d15d@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <B8C6416A-55A2-4B77-8C9E-6931A6F4906F@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: My first question
Date: Thu, 18 May 2006 09:03:18 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

So if I got this right, you're asking if you should use a new  
MultiSearcher instance for every request.  Absolutely not.  The  
techniques for managing when to construct new instances and bring  
them online and how to warm them up is an interesting topic that I  
believe Solr has a very nice answer to.

	Erik


On May 18, 2006, at 7:17 AM, Dan Wiggin wrote:

> Excuse me,
> jejeje  I searched and petition doesn't exist in english is a silly
> traduction of spanish word that means request.
> EXCUSE ME.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20713-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 13:39:17 2006
Return-Path: <java-user-return-20713-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 924 invoked from network); 18 May 2006 13:39:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 13:39:16 -0000
Received: (qmail 24187 invoked by uid 500); 18 May 2006 13:39:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24158 invoked by uid 500); 18 May 2006 13:39:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24142 invoked by uid 99); 18 May 2006 13:39:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 06:39:09 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 06:39:08 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 47CF133CAF1; Thu, 18 May 2006 09:38:45 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id 6332633CAEF
	for <java-user@lucene.apache.org>; Thu, 18 May 2006 09:38:44 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <E817F096B8D59B4E9D1E437917B1083107D1A9@mshydpub1.hyd.deshaw.com>
References: <E817F096B8D59B4E9D1E437917B1083107D1A9@mshydpub1.hyd.deshaw.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <C448CEB8-259B-46A9-8EF4-C8DB289F9429@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: How to do analysis when creating a query programmatically?
Date: Thu, 18 May 2006 09:38:41 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 18, 2006, at 8:08 AM, Satuluri, Venu_Madhav wrote:
> Is there any way to run my Query object through my analyzer? Or is  
> there
> another solution?

But of course.  Have a look at the source code to  
QueryParser.getFieldQuery() - it does this very thing.  I'm glad to  
see more folks creating queries programatically using a blend of  
QueryParser, analysis, or just plain ol' StringTokenizer.  The  
expressiveness of queries is of the utmost importance, and  
QueryParser is pretty BASIC.  Most of the applications I've worked on  
have used custom techniques for creating the Query.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20714-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 14:23:10 2006
Return-Path: <java-user-return-20714-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16657 invoked from network); 18 May 2006 14:23:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 14:23:10 -0000
Received: (qmail 23347 invoked by uid 500); 18 May 2006 14:23:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23310 invoked by uid 500); 18 May 2006 14:23:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23299 invoked by uid 99); 18 May 2006 14:23:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 07:23:01 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 194.52.12.17 is neither permitted nor denied by domain of marcus.falck@observer.se)
Received: from [194.52.12.17] (HELO mail1.observergroup.com) (194.52.12.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 07:23:00 -0700
Received: (qmail 31146 invoked by uid 509); 18 May 2006 16:22:36 +0200
Received: from 10.8.1.20 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.20):. 
 Processed in 0.083225 secs); 18 May 2006 14:22:36 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.20):. Processed in 0.083225 secs Process 31140)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.20)
  by mail1.observergroup.com with SMTP; 18 May 2006 16:22:35 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: SV: SV: SV: SV: Sort problematics
Date: Thu, 18 May 2006 16:22:34 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C01B2859E@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: SV: SV: SV: Sort problematics
Thread-Index: AcZ6erOyEWGShxE4QI+ite69hsbjoAAC424Q
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Doesn't solr use the same sort implementation as Lucene ?


-----Ursprungligt meddelande-----
Fr=E5n: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Skickat: den 18 maj 2006 14:57
Till: java-user@lucene.apache.org
=C4mne: Re: SV: SV: SV: Sort problematics


On May 18, 2006, at 7:04 AM, Marcus Falck wrote:
> Yes I know. But the index is changed constantly.

Then use Solr :))

	Erik


>
> / Marcus
>
> -----Ursprungligt meddelande-----
> Fr=E5n: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Skickat: den 18 maj 2006 12:52
> Till: java-user@lucene.apache.org
> =C4mne: Re: SV: SV: Sort problematics
>
>
> On May 18, 2006, at 6:41 AM, Marcus Falck wrote:
>> Yes Erik I'm instantiating a new IndexSearcher for every search.
>
> Then don't :)   You only need a new IndexSearcher instance when the
> index itself has changed.
>
>>
>>
>> -----Ursprungligt meddelande-----
>> Fr=E5n: Erik Hatcher [mailto:erik@ehatchersolutions.com]
>> Skickat: den 18 maj 2006 12:08
>> Till: java-user@lucene.apache.org
>> =C4mne: Re: SV: Sort problematics
>>
>>
>> On May 18, 2006, at 4:52 AM, Marcus Falck wrote:
>>> I have slow subsequent searches.
>>> And if i get the cache up and running is it persisted to disc?
>>
>> No, Lucene's caches are not persisted, only in RAM.  Are you using a
>> new IndexReader/IndexSearcher for your subsequent searches?  If not,
>> you're likely not leveraging any caches at all.
>>
>> 	Erik
>>
>>
>>
>>>
>>> /Marcus
>>>
>>>
>>> ________________________________
>>>
>>> Fr=E5n: Yonik Seeley [mailto:yseeley@gmail.com]
>>> Skickat: on 2006-05-17 16:31
>>> Till: java-user@lucene.apache.org
>>> =C4mne: Re: Sort problematics
>>>
>>>
>>>
>>> On 5/17/06, Marcus Falck <marcus.falck@observer.se> wrote:
>>>> I did a quite interesting notice, if i search for IndexId:x
>>>>   (IndexId is unique) with a sort it still takes very long time,
>>>> which
>>>>  it doesn't without the sort.
>>>
>>> This will only be the case the first time you sort on a field =20
>>> because
>>> a FieldCache entry is created for that field and then cached for
>>> subsequent sorts.
>>>
>>> -Yonik
>>> http://incubator.apache.org/solr Solr, the open-source Lucene
>>> search server
>>>
>>> -------------------------------------------------------------------- =

>>> -
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>>
>>>
>>> -------------------------------------------------------------------- =

>>> -
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20715-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 14:46:21 2006
Return-Path: <java-user-return-20715-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24627 invoked from network); 18 May 2006 14:46:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 14:46:21 -0000
Received: (qmail 71774 invoked by uid 500); 18 May 2006 14:46:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71741 invoked by uid 500); 18 May 2006 14:46:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71726 invoked by uid 99); 18 May 2006 14:46:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 07:46:15 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.146.177.36] (HELO web26014.mail.ukl.yahoo.com) (217.146.177.36)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 18 May 2006 07:46:12 -0700
Received: (qmail 54585 invoked by uid 60001); 18 May 2006 14:45:50 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=BMxkfYWQO2Z8lzLGsHaNcqs+jt9Fuep47ALO6PAPFUAv4mKJc2vSr5QjpWrGvcmpObevbgYNJmP6ldu5g43fhJl+ZSP0fw7JtCE9dMEEk5xuUDMOJb9q1CvYjauYg2NYNlWvj2T+xIJZamLOONGuLlwRmTusmxfXK/1WFYlBt3M=  ;
Message-ID: <20060518144550.54583.qmail@web26014.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26014.mail.ukl.yahoo.com via HTTP; Thu, 18 May 2006 15:45:50 BST
Date: Thu, 18 May 2006 15:45:50 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Identifying Analyzers used in Microsoft's Lookout Lucene index for emails
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

For those who don't know Lookout is now a Microsoft
product based on a .net lucene port which indexes all
your Outlook mails.
(http://www.lookoutsoft.com/Lookout/download.html)

Lookout does a good job of integrating with Outlook
and periodically indexing the content but I'd like to
put a better search app on top using my own Java app.
I can open their index just fine using the latest java
Lucene release and (using Jacob) pop up matching
emails in Outlook.
To get things rolling further I need to work out what
analyzers they used to create the index. Has anyone
else already worked out what they use?


Cheers,
Mark


Send instant messages to your online friends http://uk.messenger.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20716-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 14:48:59 2006
Return-Path: <java-user-return-20716-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25827 invoked from network); 18 May 2006 14:48:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 14:48:58 -0000
Received: (qmail 76766 invoked by uid 500); 18 May 2006 14:48:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76734 invoked by uid 500); 18 May 2006 14:48:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76723 invoked by uid 99); 18 May 2006 14:48:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 07:48:52 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.172] (HELO hnexfe06.hetnet.nl) (195.121.6.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 07:48:50 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe06.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Thu, 18 May 2006 16:48:27 +0200
Subject: Re: Sort problematics
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C01B2859E@S1SE1MAIL.emea1.ad.group>
References:
	 <8834A84C87A2C148AD46921BB8BFC97C01B2859E@S1SE1MAIL.emea1.ad.group>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Thu, 18 May 2006 16:48:22 +0200
Message-Id: <1147963702.4926.279.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 18 May 2006 14:48:27.0640 (UTC) FILETIME=[1F555780:01C67A8A]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thu, 2006-05-18 at 16:22 +0200, Marcus Falck wrote:
> Doesn't solr use the same sort implementation as Lucene ?

Solr comes with more cache.

Is it a requirement that the new data is instantly available?


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20717-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 15:20:17 2006
Return-Path: <java-user-return-20717-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38668 invoked from network); 18 May 2006 15:20:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 15:20:17 -0000
Received: (qmail 68168 invoked by uid 500); 18 May 2006 15:20:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67955 invoked by uid 500); 18 May 2006 15:20:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67944 invoked by uid 99); 18 May 2006 15:20:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 08:20:10 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 194.52.12.17 is neither permitted nor denied by domain of marcus.falck@observer.se)
Received: from [194.52.12.17] (HELO mail1.observergroup.com) (194.52.12.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 08:20:09 -0700
Received: (qmail 6233 invoked by uid 509); 18 May 2006 17:19:47 +0200
Received: from 10.8.1.20 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.20):. 
 Processed in 0.06685 secs); 18 May 2006 15:19:47 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.20):. Processed in 0.06685 secs Process 6227)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.20)
  by mail1.observergroup.com with SMTP; 18 May 2006 17:19:46 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: SV: Sort problematics
Date: Thu, 18 May 2006 17:19:46 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C01B28622@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Sort problematics
Thread-Index: AcZ6ijrXFBe+AD7iQGWogBtJvVEFWwAA2QsA
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Ok.
I just set up a machine running solr and now I will index up a couple of =
gigabytes to see the difference in performance (using a sort).

But since my "real" index will be around 2TB in size I don't think =
sorting is the right way to go? I pretty sure I will have to modify the =
ranking.

And yes the data must be instantly available.

/
Marcus






-----Ursprungligt meddelande-----
Fr=E5n: karl wettin [mailto:kalle@snigel.net]=20
Skickat: den 18 maj 2006 16:48
Till: java-user@lucene.apache.org
=C4mne: Re: Sort problematics

On Thu, 2006-05-18 at 16:22 +0200, Marcus Falck wrote:
> Doesn't solr use the same sort implementation as Lucene ?

Solr comes with more cache.

Is it a requirement that the new data is instantly available?


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20718-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 15:24:10 2006
Return-Path: <java-user-return-20718-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42017 invoked from network); 18 May 2006 15:24:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 15:24:10 -0000
Received: (qmail 75248 invoked by uid 500); 18 May 2006 15:24:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75222 invoked by uid 500); 18 May 2006 15:24:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75210 invoked by uid 99); 18 May 2006 15:24:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 08:24:03 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.166.182 as permitted sender)
Received: from [64.233.166.182] (HELO py-out-1112.google.com) (64.233.166.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 08:24:02 -0700
Received: by py-out-1112.google.com with SMTP id c39so601688pyd
        for <java-user@lucene.apache.org>; Thu, 18 May 2006 08:23:42 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=YEasVh8kPK4du6S+pAD71/OuPBsuB09DcBJ1S1XBWiJfyW+fSr3kpLGXgpV17R4bOyMOR2WKpWhdsOzxMMMbTvKWhbmpEJKTeaxTPMvGSgmJUbhS0guv8coSTDNX7l3B4MnRaJLWhpmsCWt7+eJYNzJyAgoZ8M+9MMGXvTFqpIQ=
Received: by 10.35.87.8 with SMTP id p8mr404366pyl;
        Thu, 18 May 2006 08:23:41 -0700 (PDT)
Received: by 10.35.107.3 with HTTP; Thu, 18 May 2006 08:23:41 -0700 (PDT)
Message-ID: <c68e39170605180823x6cc04a8ald99400b778a77326@mail.gmail.com>
Date: Thu, 18 May 2006 11:23:41 -0400
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: SV: SV: SV: Sort problematics
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C01B2859E@S1SE1MAIL.emea1.ad.group>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <8834A84C87A2C148AD46921BB8BFC97C01B2859E@S1SE1MAIL.emea1.ad.group>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 5/18/06, Marcus Falck <marcus.falck@observer.se> wrote:
> Doesn't solr use the same sort implementation as Lucene ?

Yes, but Solr handles the mechanics of warming up a new searcher in
the background to avoid those lengthy first-time hits to the
FieldCache and norms, and it warms any configured caches based on
previous requests.

There is still the issue of data freshness... you don't want to open a
new searcher too often (less than once a minute probably).

-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20719-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 15:28:37 2006
Return-Path: <java-user-return-20719-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43896 invoked from network); 18 May 2006 15:28:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 15:28:37 -0000
Received: (qmail 92144 invoked by uid 500); 18 May 2006 15:28:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92103 invoked by uid 500); 18 May 2006 15:28:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92080 invoked by uid 99); 18 May 2006 15:28:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 08:28:30 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [149.77.160.1] (HELO master.hyd.deshaw.com) (149.77.160.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 08:28:29 -0700
Received: from mshydpub1.hyd.deshaw.com (mshydpub1.hyd.deshaw.com [149.77.160.67])
 by master.hyd.deshaw.com (8.12.7/8.12.7/2.0.kim.desco.357) with ESMTP id k4IFS3R8013267
 for <java-user@lucene.apache.org>; Thu, 18 May 2006 20:58:03 +0530 (IST)
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: RE: How to do analysis when creating a query programmatically?
Date: Thu, 18 May 2006 20:58:03 +0530
Message-ID: <E817F096B8D59B4E9D1E437917B1083107D1AB@mshydpub1.hyd.deshaw.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: How to do analysis when creating a query programmatically?
Thread-Index: AcZ6gMEEc84Cf3gfQkqDkcTfl5YoZgADjc/Q
From: "Satuluri, Venu_Madhav" <Venu.Madhav.Satuluri@deshaw.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks very much Erik. The QueryParser method was pretty useful in
writing my own one.

-Venu

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Sent: Thursday, May 18, 2006 7:09 PM
To: java-user@lucene.apache.org
Subject: Re: How to do analysis when creating a query programmatically?



On May 18, 2006, at 8:08 AM, Satuluri, Venu_Madhav wrote:
> Is there any way to run my Query object through my analyzer? Or is =20
> there
> another solution?

But of course.  Have a look at the source code to =20
QueryParser.getFieldQuery() - it does this very thing.  I'm glad to =20
see more folks creating queries programatically using a blend of =20
QueryParser, analysis, or just plain ol' StringTokenizer.  The =20
expressiveness of queries is of the utmost importance, and =20
QueryParser is pretty BASIC.  Most of the applications I've worked on =20
have used custom techniques for creating the Query.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20720-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 15:35:06 2006
Return-Path: <java-user-return-20720-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46139 invoked from network); 18 May 2006 15:35:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 15:35:01 -0000
Received: (qmail 11525 invoked by uid 500); 18 May 2006 15:34:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11021 invoked by uid 500); 18 May 2006 15:34:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10974 invoked by uid 99); 18 May 2006 15:34:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 08:34:40 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 194.52.12.17 is neither permitted nor denied by domain of marcus.falck@observer.se)
Received: from [194.52.12.17] (HELO mail1.observergroup.com) (194.52.12.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 08:34:30 -0700
Received: (qmail 7641 invoked by uid 509); 18 May 2006 17:34:06 +0200
Received: from 10.8.1.20 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.20):. 
 Processed in 0.06688 secs); 18 May 2006 15:34:06 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.20):. Processed in 0.06688 secs Process 7634)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.20)
  by mail1.observergroup.com with SMTP; 18 May 2006 17:34:06 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: SV: SV: SV: SV: Sort problematics
Date: Thu, 18 May 2006 17:33:53 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C01B2862F@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: SV: SV: SV: Sort problematics
Thread-Index: AcZ6jySlMGJCa483SAGol6FtFCoABQAAT15Q
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

But it will still require A LOT of RAM just to cache!


-----Ursprungligt meddelande-----
Fr=E5n: Yonik Seeley [mailto:yseeley@gmail.com]=20
Skickat: den 18 maj 2006 17:24
Till: java-user@lucene.apache.org
=C4mne: Re: SV: SV: SV: Sort problematics

On 5/18/06, Marcus Falck <marcus.falck@observer.se> wrote:
> Doesn't solr use the same sort implementation as Lucene ?

Yes, but Solr handles the mechanics of warming up a new searcher in
the background to avoid those lengthy first-time hits to the
FieldCache and norms, and it warms any configured caches based on
previous requests.

There is still the issue of data freshness... you don't want to open a
new searcher too often (less than once a minute probably).

-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search =
server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20721-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 15:43:29 2006
Return-Path: <java-user-return-20721-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52727 invoked from network); 18 May 2006 15:43:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 15:43:29 -0000
Received: (qmail 32572 invoked by uid 500); 18 May 2006 15:43:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32350 invoked by uid 500); 18 May 2006 15:43:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32339 invoked by uid 99); 18 May 2006 15:43:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 08:43:23 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.166.177 as permitted sender)
Received: from [64.233.166.177] (HELO py-out-1112.google.com) (64.233.166.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 08:43:22 -0700
Received: by py-out-1112.google.com with SMTP id c39so606983pyd
        for <java-user@lucene.apache.org>; Thu, 18 May 2006 08:43:01 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=utbeijs4J0QnziJCYUDXQZrcgLLNJTS4jCTreGv9V3ksBvaWyp7QvDpzR73y7oiCLNNzCBIjVs4VgEQVc3uK6Zim5PeRPE/wI+dZOifau1w3S4cb/L9473PH3wuggXfiusMKhaOskyc7G8PuNIF+7a9paD3+GMrEPBf7GnFzZ+8=
Received: by 10.35.90.20 with SMTP id s20mr714405pyl;
        Thu, 18 May 2006 08:43:01 -0700 (PDT)
Received: by 10.35.107.3 with HTTP; Thu, 18 May 2006 08:43:01 -0700 (PDT)
Message-ID: <c68e39170605180843v1e72f0bdxf9fcba92f45e4ba8@mail.gmail.com>
Date: Thu, 18 May 2006 11:43:01 -0400
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Sort problematics
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C01B28622@S1SE1MAIL.emea1.ad.group>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <8834A84C87A2C148AD46921BB8BFC97C01B28622@S1SE1MAIL.emea1.ad.group>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 5/18/06, Marcus Falck <marcus.falck@observer.se> wrote:
> But since my "real" index will be around 2TB in size I don't think sortin=
g is the right way to go? I pretty sure I will have to modify the ranking.

They are both sorts, and they both use a priority queue.  The
differences shouldn't be that great after the FieldCache is populated.
 The biggest downside to the FieldCache is the memory usage, not the
CPU.

> And yes the data must be instantly available.

For each update?  If so, use a database - Lucene made different
tradeoffs in it's design.

-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20722-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 16:11:26 2006
Return-Path: <java-user-return-20722-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63539 invoked from network); 18 May 2006 16:11:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 16:11:26 -0000
Received: (qmail 97171 invoked by uid 500); 18 May 2006 16:11:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96843 invoked by uid 500); 18 May 2006 16:11:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96832 invoked by uid 99); 18 May 2006 16:11:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 09:11:19 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of tremerson@gmail.com designates 64.233.162.194 as permitted sender)
Received: from [64.233.162.194] (HELO nz-out-0102.google.com) (64.233.162.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 09:11:18 -0700
Received: by nz-out-0102.google.com with SMTP id o37so507260nzf
        for <java-user@lucene.apache.org>; Thu, 18 May 2006 09:10:58 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=AGs18ttBbND9mb8ZhWKvBXqaWU1J1a0pbJr4uhEMfm1DM3qYw1xqLOSgfBKqcZcUxIlsMgvUNC4tAZi2gWMQhLeg/fS2kpH+qNY+yweHHY9AYuIesyaQ8w1tbwVeZsfGMbYy/bGMi4iiWWn3xM1rez3cyC/sUgQoT4YwRUafojM=
Received: by 10.36.58.17 with SMTP id g17mr261656nza;
        Thu, 18 May 2006 09:10:36 -0700 (PDT)
Received: by 10.36.129.11 with HTTP; Thu, 18 May 2006 09:10:57 -0700 (PDT)
Message-ID: <cefddd100605180910t9bac60axfe4fcb50972bfb7c@mail.gmail.com>
Date: Thu, 18 May 2006 12:10:57 -0400
From: "Tom Emerson" <tremerson@gmail.com>
To: java-user@lucene.apache.org
Subject: How are results merged from a multisearcher?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11045_4420082.1147968657395"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_11045_4420082.1147968657395
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: base64
Content-Disposition: inline

R3JlZXRpbmdzLAoKQ291bGQgc29tZW9uZSBkZXNjcmliZSBob3cgdGhlIHJlc3VsdHMgZnJvbSBt
dWx0aXBsZSBpbmRpY2VzIGFyZSBtZXJnZWQgd2hlbgp1c2luZyBhIE11bHRpU2VhcmNoZXI/IE15
IG5haXZlIGludHVpdGlvbiBpcyB0aGF0IHRoZSBzY29yZXMgZm9yIGRvY3VtZW50cwpmb3VuZCBp
biBlYWNoIGluZGV4IGNvdWxkIGJlIHdpbGRseSBkaWZmZXJlbnQsIHNvIHdoYXQgY3JpdGVyaWEg
aXMgdXNlZCB0bwptZXJnZSB0aGUgc2NvcmVkIGRvY3M/CgpNYW55IHRoYW5rcyBpbiBhZHZhbmNl
LAoKICAgIC10cmVlCgotLSAKVG9tIEVtZXJzb24KdHJlbWVyc29uQGdtYWlsLmNvbQpodHRwOi8v
d3d3LmRyZWFtZXJzcmVhbG0ubmV0L350cmVlCg==
------=_Part_11045_4420082.1147968657395--

From java-user-return-20723-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 16:18:01 2006
Return-Path: <java-user-return-20723-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66621 invoked from network); 18 May 2006 16:18:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 16:18:01 -0000
Received: (qmail 14318 invoked by uid 500); 18 May 2006 16:17:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14291 invoked by uid 500); 18 May 2006 16:17:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14280 invoked by uid 99); 18 May 2006 16:17:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 09:17:54 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of tremerson@gmail.com designates 64.233.162.193 as permitted sender)
Received: from [64.233.162.193] (HELO nz-out-0102.google.com) (64.233.162.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 09:17:53 -0700
Received: by nz-out-0102.google.com with SMTP id o37so508662nzf
        for <java-user@lucene.apache.org>; Thu, 18 May 2006 09:17:32 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=oZAieIapKVl2G1r3gvuyEmSjaeCsymsRYU4akP/+en4Pu9xYw4wx0nCj60+6QBIGoVW/YvzLzxSOj+kXUtdga+ypEyL4nrpBC/SrCUZRYsoWJ8xb8QTmRe3j9OsadDwAbZ0prSPa1JpOk9VPK9kYnQv4d/mf32Eo0dx/fbr9ejs=
Received: by 10.64.195.14 with SMTP id s14mr559495qbf;
        Thu, 18 May 2006 09:17:32 -0700 (PDT)
Received: by 10.36.129.11 with HTTP; Thu, 18 May 2006 09:17:31 -0700 (PDT)
Message-ID: <cefddd100605180917s701f33e1q3dea20603c488761@mail.gmail.com>
Date: Thu, 18 May 2006 12:17:31 -0400
From: "Tom Emerson" <tremerson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: problem with eclipse and lucene 1.9.1
In-Reply-To: <EE99D8C7-84F8-43F8-A1EA-1572840DB4A1@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11185_4806885.1147969051791"
References: <20060518061716.31422.qmail@web30909.mail.mud.yahoo.com>
	 <EE99D8C7-84F8-43F8-A1EA-1572840DB4A1@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_11185_4806885.1147969051791
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: base64
Content-Disposition: inline

V2hlbiBhZGRpbmcgdGhlIEx1Y2VuZSBqYXIgZmlsZSB0byBhbiBFY2xpcHNlIHByb2plY3QgeW91
IGNhbiBhdHRhY2ggdGhlCnNvdXJjZSBjb2RlIHRvIHRoZSBqYXJmaWxlLCB3aGljaCBhbGxvd3Mg
eW91IHRvIHN0ZXAgaW50byBMdWNlbmUgd2l0aG91dAphY3R1YWxseSBoYXZpbmcgdG8gYnVpbGQg
aXQuIFRoaXMgaXMgcmVhbGx5IGNvbnZlbmllbnQsIGFuZCBpcyBlYXNpbHkgZG9uZS4KQXNzdW1p
bmcgeW91IGhhdmUgdGhlIEx1Y2VuZSBqYXIgaW4geW91ciBwcm9qZWN0IHlvdSBhdHRhY2ggdGhl
IHNvdXJjZSBieToKCjEpIFJpZ2h0IGNsaWNrIG9uIHRoZSBqYXIgZmlsZSwgY2hvb3NlIFByb3Bl
cnRpZXMuCgoyKSBTZWxlY3QgSmF2YSBTb3VyY2UgQXR0YWNobWVudAoKMykgU3BlY2lmeSB0aGUg
ZGlyZWN0b3J5IGNvbnRhaW5pbmcgdGhlIHNvdXJjZSBjb2RlLCBlLmcuLCBDOlxzcmNcbHVjZW5l
LQoxLjkuMVxzcmNcamF2YQoKWW91IGNhbiBhbHNvIHNwZWNpZnkgYSB6aXAgZmlsZSB3aXRoIHRo
ZSBzb3VyY2UsIGJ1dCBJIGhhdmUgaXQgdW56aXBwZWQuCgpOb3RlIHRoYXQgeW91IGNhbiBhbHNv
IGRvIHRoaXMgc291cmNlIGF0dGFjaG1lbnQgd2hlbiB5b3UgaW5pdGlhbGx5IGFkZCB0aGUKamFy
IGZpbGUgdG8gdGhlIHByb2plY3QsIHRob3VnaCBJIGRvbid0IHJlbWVtYmVyIHRoZSBwYXRoIHRv
IGRvIHNvIGF0IHRoZQptb21lbnQuCgogICAgLXRyZWUKCk9uIDUvMTgvMDYsIEVyaWsgSGF0Y2hl
ciA8ZXJpa0BlaGF0Y2hlcnNvbHV0aW9ucy5jb20+IHdyb3RlOgo+Cj4KPiBPbiBNYXkgMTgsIDIw
MDYsIGF0IDI6MTcgQU0sIEFtaXIgSG9zZWluIEphZGlkaSBOZWphZCB3cm90ZToKPiA+IEkgd2Fu
dCB0byB1c2UgbHVjZW5lMS45LjEgaW4gRWNsaXBzZSBJREUgaW4gd2luZG93cyBwbGF0Zm9ybSwg
YnV0IGkKPiA+IGNhbid0IGNyZWF0ZSBuZXcgcHJvamVjdCB3aXRoICJKYXZhIFByb2plY3QgZnJv
bSBFeGlzdGluZyBBbnQKPiA+IEJ1aWxkZmlsZSIgaW4gIk5ldyBQcm9qZWN0IiB3aW5kb3cuCj4g
PiB3aGVuIGkgdXNlICJidWlsZC54bWwiIGluIHRvcCBsZXZlbCBvZiBsdWNlbmUgc291cmNlIGZv
bGRlciwKPiA+IGZvbGxvd2luZyBlcnJvciBpcyBvY2N1ciA6ICJzcGVjaWZpZWQgYnVpbGRmaWxl
IGRvZXMgbm90IGNvbnRhaW4gYQo+ID4gamF2YWMgdGFzayIuCj4gPiBpcyBhbnlib2R5IGNhbiBo
ZWxwIG1lID8/Pwo+Cj4gTHVjZW5lJ3MgYnVpbGQueG1sIHVzZXMgc29tZSBhZHZhbmNlZCB0ZWNo
bmlxdWVzIHRoYXQgaXQgc2VlbXMKPiBFY2xpcHNlIGlzbid0IGRlYWxpbmcgd2l0aC4gIGJ1aWxk
LnhtbCA8aW1wb3J0PnMgY29tbW9uLWJ1aWxkLnhtbAo+IHdoaWNoIDxtYWNyb2RlZj5zIGEgY29t
cGlsZSB0YXNrIHdoaWNoIGlzIGEgd3JhcHBlciBhcm91bmQgPGphdmFjPi4KPgo+IEFyZSB5b3Ug
d2FudGluZyB0byBoYXZlIGFuIEVjbGlwc2UgcHJvamVjdCB0aGF0IHdvcmtzIHdpdGggdGhlIEx1
Y2VuZQo+IHNvdXJjZSBjb2RlIGl0c2VsZj8gIE9yIGFyZSB5b3UgdXNpbmcgdGhlIEx1Y2VuZSBK
QVIgaW4gYW5vdGhlcgo+IHByb2plY3Qgb2YgeW91ciBvd24gc291cmNlIGNvZGU/ICBJdCdzIGVh
c3kgZW5vdWdoIHRvIGNyZWF0ZSBhCj4gcHJvamVjdCBpbiBFY2xpcHNlIHRvIHdvcmsgd2l0aCBM
dWNlbmUncyBzb3VyY2UsIGlnbm9yaW5nIGJ1aWxkLnhtbC4KPiBMdWNlbmUncyBjb3JlIGhhcyBu
byBleHRlcm5hbCBkZXBlbmRlbmNpZXMgc28gc2ltcGx5IGNvbmZpZ3VyZSBhIG5ldwo+IHByb2pl
Y3Qgd2l0aCBzcmMvamF2YSBmb3IgdGhlIHNvdXJjZSBjb2RlLgo+Cj4gICAgICAgICBFcmlrCj4K
Pgo+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLQo+IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGphdmEtdXNlci11bnN1
YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZwo+IEZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1h
aWw6IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3JnCj4KPgoKCi0tIApUb20gRW1lcnNv
bgp0cmVtZXJzb25AZ21haWwuY29tCmh0dHA6Ly93d3cuZHJlYW1lcnNyZWFsbS5uZXQvfnRyZWUK
------=_Part_11185_4806885.1147969051791--

From java-user-return-20724-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 17:02:44 2006
Return-Path: <java-user-return-20724-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83454 invoked from network); 18 May 2006 17:02:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 17:02:43 -0000
Received: (qmail 81424 invoked by uid 500); 18 May 2006 17:02:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81284 invoked by uid 500); 18 May 2006 17:02:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81273 invoked by uid 99); 18 May 2006 17:02:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 10:02:37 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.176 as permitted sender)
Received: from [64.233.166.176] (HELO py-out-1112.google.com) (64.233.166.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 10:02:36 -0700
Received: by py-out-1112.google.com with SMTP id c39so627095pyd
        for <java-user@lucene.apache.org>; Thu, 18 May 2006 10:02:15 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=QDDLIaMLAmZE2UR+kHB0/DHHdI344vbCkOLxdJiADmJUVGBggRin0X8TCFYhakendRl0c+jcvdVeyQIUX719RJ084WEd37aEx+VKMyeJx4j9KZxqQLEWPPv7aesIFa73R7hnqwmFuCDRqHGE/A0am9YlUy90ddcBIouzzh8zQK8=
Received: by 10.35.81.10 with SMTP id i10mr812761pyl;
        Thu, 18 May 2006 10:02:15 -0700 (PDT)
Received: by 10.35.17.5 with HTTP; Thu, 18 May 2006 10:02:14 -0700 (PDT)
Message-ID: <359a92830605181002p1cae7fbdle91c60a7b2abd615@mail.gmail.com>
Date: Thu, 18 May 2006 13:02:14 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Building queries
In-Reply-To: <56A91B627656434C829D393A7151DA420112107F@uk-ex010.groupinfra.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_122638_22278073.1147971734969"
References: <56A91B627656434C829D393A7151DA420112107F@uk-ex010.groupinfra.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_122638_22278073.1147971734969
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

One last small note based upon my experience (I warned you I didn't have
much, didn't I?)... use the parser if you can. The last thing I wanted to d=
o
was spend a lot of development time working out all the scenarios....... Fo=
r
instance, if you're building up your clause manually, how sure are you that
you parse the following correctly?

term1 and (term2 or "this is a phrase") not (term3 or (term4 and term5))

Yes, it's a simple tree structure. Yes, there are well-defined algorithms
for it. I don't care. The work has already been done and is already package=
d
up in the jar <G>.....

What I wound up doing was subclassing QueryParser, overriding the methods
there that I cared about (in my case, I wanted to handle wildcards with a
filter). That way, I got all the messy handling of parsing the and/or/not
and grouping and got to deal with my particular issues without spending tim=
e
reinventing the wheel....

None of which matters if you don't allow the user to enter their own boolea=
n
logic......

FWIW
Erick

------=_Part_122638_22278073.1147971734969--

From java-user-return-20725-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 17:20:47 2006
Return-Path: <java-user-return-20725-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88676 invoked from network); 18 May 2006 17:20:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 17:20:46 -0000
Received: (qmail 5307 invoked by uid 500); 18 May 2006 17:20:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4917 invoked by uid 500); 18 May 2006 17:20:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4895 invoked by uid 99); 18 May 2006 17:20:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 10:20:36 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [68.142.198.203] (HELO smtp104.sbc.mail.mud.yahoo.com) (68.142.198.203)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 18 May 2006 10:20:34 -0700
Received: (qmail 15105 invoked from network); 18 May 2006 17:20:11 -0000
Received: from unknown (HELO ?10.10.16.251?) (kkrugler@pacbell.net@64.71.164.125 with plain)
  by smtp104.sbc.mail.mud.yahoo.com with SMTP; 18 May 2006 17:20:11 -0000
Mime-Version: 1.0
Message-Id: <p06230935c0925247956c@[10.10.16.251]>
In-Reply-To: <cefddd100605180910t9bac60axfe4fcb50972bfb7c@mail.gmail.com>
References: <cefddd100605180910t9bac60axfe4fcb50972bfb7c@mail.gmail.com>
Date: Thu, 18 May 2006 09:36:14 -0700
To: java-user@lucene.apache.org
From: Ken Krugler <kkrugler_lists@transpac.com>
Subject: Re: How are results merged from a multisearcher?
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>Greetings,
>
>Could someone describe how the results from multiple indices are merged when
>using a MultiSearcher? My naive intuition is that the scores for documents
>found in each index could be wildly different, so what criteria is used to
>merge the scored docs?

I believe they are blindly merged.

Which means that the IDFs for terms between multiple indices must be 
relatively equal, otherwise the results will be skewed.

The simple approach that most people take when dealing with this 
issue is to generate a larger set of smaller indices from the total 
data set, then randomize the selection of indices that get merged to 
form the N final indices. This randomization helps avoid the IDF skew 
problem.

There's an Jira issue on the Nutch side (see NUTCH-92) around this 
same problem.

-- Ken
-- 
Ken Krugler
Krugle, Inc.
+1 530-210-6378
"Find Code, Find Answers"

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20726-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 18:10:01 2006
Return-Path: <java-user-return-20726-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7141 invoked from network); 18 May 2006 18:10:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 18:10:01 -0000
Received: (qmail 8007 invoked by uid 500); 18 May 2006 18:09:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7975 invoked by uid 500); 18 May 2006 18:09:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7961 invoked by uid 99); 18 May 2006 18:09:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 11:09:55 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 11:09:54 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 0CFA833C65E; Thu, 18 May 2006 14:09:34 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id 5FACC33C65E
	for <java-user@lucene.apache.org>; Thu, 18 May 2006 14:09:31 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C01B2862F@S1SE1MAIL.emea1.ad.group>
References: <8834A84C87A2C148AD46921BB8BFC97C01B2862F@S1SE1MAIL.emea1.ad.group>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <99AFF7A1-F76F-4956-9C42-F9CEE632C348@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: SV: SV: SV: SV: Sort problematics
Date: Thu, 18 May 2006 14:09:28 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 18, 2006, at 11:33 AM, Marcus Falck wrote:
> But it will still require A LOT of RAM just to cache!

Well, the more RAM you have the better when it comes to Solr  
responsiveness, I'm sure.  But, Solr leverages some caching  
cleverness so the queries and filters used most frequently are in RAM  
and lesser used items get dropped from the cache and loaded  
dynamically.  Quite cool stuff!  I'm just beginning to leverage it  
myself and its working nicely.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20727-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 18:22:23 2006
Return-Path: <java-user-return-20727-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10641 invoked from network); 18 May 2006 18:22:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 18:22:23 -0000
Received: (qmail 20453 invoked by uid 500); 18 May 2006 18:22:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20427 invoked by uid 500); 18 May 2006 18:22:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20416 invoked by uid 99); 18 May 2006 18:22:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 11:22:16 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 194.52.12.17 is neither permitted nor denied by domain of marcus.falck@observer.se)
Received: from [194.52.12.17] (HELO mail1.observergroup.com) (194.52.12.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 11:22:14 -0700
Received: (qmail 21459 invoked by uid 509); 18 May 2006 20:21:50 +0200
Received: from 10.8.1.20 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.20):. 
 Processed in 0.089087 secs); 18 May 2006 18:21:50 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.20):. Processed in 0.089087 secs Process 21453)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.20)
  by mail1.observergroup.com with SMTP; 18 May 2006 20:21:49 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C67AA7.EDEAF026"
Subject: SV: Sort problematics
Date: Thu, 18 May 2006 20:21:49 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C33B5D8@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <8834A84C87A2C148AD46921BB8BFC97C33B5D8@S1SE1MAIL.emea1.ad.group>
Thread-Topic: Sort problematics
Thread-Index: AcZ6kdf7wO51pfPeQfe3EMGV8tnS4gAFPwnG
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C67AA7.EDEAF026
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I'm well aware of the trade offs. But if you were aware of the large =
amounts of data that this system should be able to search you woldn't =
propose the usage of a database.
=20
Since I have an separate alert service for immediatly alerts up and =
running i may be able to do trade offs with the data availability =
timings, and hold the indexsearcher open for a longer period.
=20
But still. The memory is the problem.
I mean how much memory would the fieldcache take for 500 Millon =
newsletter articles? Probably a lot,
ok the system is scaled out over different machines so in reality each =
machine won't have 500 Million docs but maybe around 100Million.
=20
So i'm still interesting in changing the relevance.
Any ideas?
=20
/
Marcus

________________________________

Fr=E5n: Yonik Seeley [mailto:yseeley@gmail.com]
Skickat: to 2006-05-18 17:43
Till: java-user@lucene.apache.org
=C4mne: Re: Sort problematics



On 5/18/06, Marcus Falck <marcus.falck@observer.se> wrote:
> But since my "real" index will be around 2TB in size I don't think =
sorting is the right way to go? I pretty sure I will have to modify the =
ranking.

They are both sorts, and they both use a priority queue.  The
differences shouldn't be that great after the FieldCache is populated.
 The biggest downside to the FieldCache is the memory usage, not the
CPU.

> And yes the data must be instantly available.

For each update?  If so, use a database - Lucene made different
tradeoffs in it's design.

-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search =
server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





------_=_NextPart_001_01C67AA7.EDEAF026
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------_=_NextPart_001_01C67AA7.EDEAF026--

From java-user-return-20728-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 18:25:59 2006
Return-Path: <java-user-return-20728-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11991 invoked from network); 18 May 2006 18:25:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 18:25:59 -0000
Received: (qmail 26429 invoked by uid 500); 18 May 2006 18:25:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25778 invoked by uid 500); 18 May 2006 18:25:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25760 invoked by uid 99); 18 May 2006 18:25:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 11:25:53 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 194.52.12.17 is neither permitted nor denied by domain of marcus.falck@observer.se)
Received: from [194.52.12.17] (HELO mail1.observergroup.com) (194.52.12.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 11:25:53 -0700
Received: (qmail 21698 invoked by uid 509); 18 May 2006 20:25:31 +0200
Received: from 10.8.1.20 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.20):. 
 Processed in 0.0844780000000001 secs); 18 May 2006 18:25:31 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.20):. Processed in 0.0844780000000001 secs Process 21691)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.20)
  by mail1.observergroup.com with SMTP; 18 May 2006 20:25:30 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C67AA8.717E7FD6"
Subject: SV: SV: SV: SV: SV: Sort problematics
Date: Thu, 18 May 2006 20:23:06 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C33B5D9@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <8834A84C87A2C148AD46921BB8BFC97C33B5D9@S1SE1MAIL.emea1.ad.group>
Thread-Topic: SV: SV: SV: SV: Sort problematics
Thread-Index: AcZ6plE2Q4jVnILjS2GmZDekngIM8QAAcrOj
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C67AA8.717E7FD6
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Sound very interesting. But the thing is that my system shouldn't =
benefit so much of this kind of caching.
Since the searches are triggered by thousands of different companies =
that mainly searches for their own products.
=20
/
Marcus

________________________________

Fr=E5n: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Skickat: to 2006-05-18 20:09
Till: java-user@lucene.apache.org
=C4mne: Re: SV: SV: SV: SV: Sort problematics




On May 18, 2006, at 11:33 AM, Marcus Falck wrote:
> But it will still require A LOT of RAM just to cache!

Well, the more RAM you have the better when it comes to Solr=20
responsiveness, I'm sure.  But, Solr leverages some caching=20
cleverness so the queries and filters used most frequently are in RAM=20
and lesser used items get dropped from the cache and loaded=20
dynamically.  Quite cool stuff!  I'm just beginning to leverage it=20
myself and its working nicely.

        Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





------_=_NextPart_001_01C67AA8.717E7FD6
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------_=_NextPart_001_01C67AA8.717E7FD6--

From java-user-return-20729-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 18:39:36 2006
Return-Path: <java-user-return-20729-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16440 invoked from network); 18 May 2006 18:39:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 18:39:36 -0000
Received: (qmail 57361 invoked by uid 500); 18 May 2006 18:39:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57329 invoked by uid 500); 18 May 2006 18:39:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57318 invoked by uid 99); 18 May 2006 18:39:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 11:39:29 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.166.182 as permitted sender)
Received: from [64.233.166.182] (HELO py-out-1112.google.com) (64.233.166.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 11:39:27 -0700
Received: by py-out-1112.google.com with SMTP id c39so648379pyd
        for <java-user@lucene.apache.org>; Thu, 18 May 2006 11:39:07 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=jIPZR3j3efQwLJfFRCPr8KncIddb07kbp8LUhiU8uIGYliLQ7BFsCi6qlTHBYMv1PKWYzOsNA2GoMnxEuAQVwwGMlYaxWv2CditsSqz4pXM5LAz8TTv1LoOt20uBym885vaZSsx6g4U3gqURc15v+AhipIM5pWkEeTkYak/4FBE=
Received: by 10.35.53.18 with SMTP id f18mr887999pyk;
        Thu, 18 May 2006 11:39:07 -0700 (PDT)
Received: by 10.35.107.3 with HTTP; Thu, 18 May 2006 11:39:06 -0700 (PDT)
Message-ID: <c68e39170605181139p3d884795pec04d9f4e78811d2@mail.gmail.com>
Date: Thu, 18 May 2006 14:39:06 -0400
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Sort problematics
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C33B5D8@S1SE1MAIL.emea1.ad.group>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <8834A84C87A2C148AD46921BB8BFC97C33B5D8@S1SE1MAIL.emea1.ad.group>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 5/18/06, Marcus Falck <marcus.falck@observer.se> wrote:
> I'm well aware of the trade offs. But if you were aware of the large amou=
nts of data that this system should be able to search you woldn't propose t=
he usage of a database.

If you have a hard requirement of instantly seeing any update, you
can't use Lucene.  That's more database-like functionallity. That's
why I asked.

> Since I have an separate alert service for immediatly alerts up and runni=
ng i may be able to do trade offs with the data availability timings, and h=
old the indexsearcher open for a longer period.

That's pretty much a requirement for using Lucene to support a decent
query rate.


> But still. The memory is the problem.
> I mean how much memory would the fieldcache take for 500 Millon newslette=
r articles? Probably a lot,
> ok the system is scaled out over different machines so in reality each ma=
chine won't have 500 Million docs but maybe around 100Million.

Depends on what you are sorting by... for an int/float 100M*4 or
800MB.  Big, but possible.

> So i'm still interesting in changing the relevance.
> Any ideas?

Depends on what you are sorting by, and how many different ways you
want to sort.  If it's a single sort criteria, you can use index-time
boosts.  If you can sort multiple ways, avoiding the fieldcache
probably won't help you because the time to retrieve the per-doc sort
info via termvectors or stored fields will take too long.


-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20730-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 18:51:42 2006
Return-Path: <java-user-return-20730-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19910 invoked from network); 18 May 2006 18:51:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 18:51:41 -0000
Received: (qmail 76215 invoked by uid 500); 18 May 2006 18:51:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76148 invoked by uid 500); 18 May 2006 18:51:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76137 invoked by uid 99); 18 May 2006 18:51:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 11:51:35 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of paulo.silveira@gmail.com designates 66.249.92.171 as permitted sender)
Received: from [66.249.92.171] (HELO ug-out-1314.google.com) (66.249.92.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 11:51:34 -0700
Received: by ug-out-1314.google.com with SMTP id u2so513707uge
        for <java-user@lucene.apache.org>; Thu, 18 May 2006 11:51:13 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:sender:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition:x-google-sender-auth;
        b=NwB2LXDJSommfCb+xSpos9SzomKQ1s/0+bikHnuFsGtNuJCkCd/IjOcsJ/5Js7eKOwVBiZ9NDg0zxLOiBNAQ9b3S1j/Bggy/FXqyVYfxzTVztB9sYD4hqB9gg6R14dzS0wS6jtAasyI/o/+QT43PmaEm1MlwMkWz6PoLh6y7qhE=
Received: by 10.78.23.16 with SMTP id 16mr417321huw;
        Thu, 18 May 2006 11:51:13 -0700 (PDT)
Received: by 10.78.24.5 with HTTP; Thu, 18 May 2006 11:51:13 -0700 (PDT)
Message-ID: <6026e8b0605181151q7cff7908ndad383929be02370@mail.gmail.com>
Date: Thu, 18 May 2006 15:51:13 -0300
From: "Paulo Silveira" <paulo.silveira@caelum.com.br>
Sender: paulo.silveira@gmail.com
To: java-user@lucene.apache.org
Subject: should I create a redundant field instead of using BooleanQueries?
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Google-Sender-Auth: f2bfb69b7fbdfa13
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello

An example: my document has 3 fields: field1, field2 and field3. I
have to make queries for each field, and sometimes using all the
fields. Should I use a BooleanQuery when searching for a string in the
3 fields, or should I create a redundant field4 (where field4 is the
concat of field1+field3+field3).

Which one is faster?

Also, creating a field4 could improve the search results, since it
would calculate the score based on the 3 fields together, not merging
the search results for each field (as BooleanQuery does). Am I right?

thanks a lot

--=20
Paulo E. A. Silveira
Caelum Ensino e Solu=E7=F5es em Java
http://www.caelum.com.br/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20731-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 20:28:06 2006
Return-Path: <java-user-return-20731-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57437 invoked from network); 18 May 2006 20:28:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 20:28:06 -0000
Received: (qmail 10584 invoked by uid 500); 18 May 2006 20:27:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10560 invoked by uid 500); 18 May 2006 20:27:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10547 invoked by uid 99); 18 May 2006 20:27:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 13:27:58 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 194.52.12.17 is neither permitted nor denied by domain of marcus.falck@observer.se)
Received: from [194.52.12.17] (HELO mail1.observergroup.com) (194.52.12.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 13:27:57 -0700
Received: (qmail 30398 invoked by uid 509); 18 May 2006 22:27:33 +0200
Received: from 10.8.1.20 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.20):. 
 Processed in 0.091656 secs); 18 May 2006 20:27:33 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.20):. Processed in 0.091656 secs Process 30391)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.20)
  by mail1.observergroup.com with SMTP; 18 May 2006 22:27:33 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C67AB9.7E1D7BF0"
Subject: SV: Sort problematics
Date: Thu, 18 May 2006 22:25:23 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C33B5DB@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <8834A84C87A2C148AD46921BB8BFC97C33B5DB@S1SE1MAIL.emea1.ad.group>
Thread-Topic: Sort problematics
Thread-Index: AcZ6qnIGhSiqCQuVTFyn7EsOvnZKbQADr7kW
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C67AB9.7E1D7BF0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi
Where can i read more about the lucene sort implementation?
Does there exist any documentation on the sorting except for the Lucene =
API docs?
=20
/
Marcus
=20
=20
=20
=20

________________________________

Fr=E5n: Yonik Seeley [mailto:yseeley@gmail.com]
Skickat: to 2006-05-18 20:39
Till: java-user@lucene.apache.org
=C4mne: Re: Sort problematics



On 5/18/06, Marcus Falck <marcus.falck@observer.se> wrote:
> I'm well aware of the trade offs. But if you were aware of the large =
amounts of data that this system should be able to search you woldn't =
propose the usage of a database.

If you have a hard requirement of instantly seeing any update, you
can't use Lucene.  That's more database-like functionallity. That's
why I asked.

> Since I have an separate alert service for immediatly alerts up and =
running i may be able to do trade offs with the data availability =
timings, and hold the indexsearcher open for a longer period.

That's pretty much a requirement for using Lucene to support a decent
query rate.


> But still. The memory is the problem.
> I mean how much memory would the fieldcache take for 500 Millon =
newsletter articles? Probably a lot,
> ok the system is scaled out over different machines so in reality each =
machine won't have 500 Million docs but maybe around 100Million.

Depends on what you are sorting by... for an int/float 100M*4 or
800MB.  Big, but possible.

> So i'm still interesting in changing the relevance.
> Any ideas?

Depends on what you are sorting by, and how many different ways you
want to sort.  If it's a single sort criteria, you can use index-time
boosts.  If you can sort multiple ways, avoiding the fieldcache
probably won't help you because the time to retrieve the per-doc sort
info via termvectors or stored fields will take too long.


-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search =
server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





------_=_NextPart_001_01C67AB9.7E1D7BF0
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------_=_NextPart_001_01C67AB9.7E1D7BF0--

From java-user-return-20732-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 20:50:26 2006
Return-Path: <java-user-return-20732-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62188 invoked from network); 18 May 2006 20:50:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 20:50:26 -0000
Received: (qmail 47327 invoked by uid 500); 18 May 2006 20:50:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47291 invoked by uid 500); 18 May 2006 20:50:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47279 invoked by uid 99); 18 May 2006 20:50:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 13:50:20 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.44 as permitted sender)
Received: from [80.67.18.44] (HELO smtprelay06.ispgateway.de) (80.67.18.44)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 13:50:18 -0700
Received: (qmail 14045 invoked from network); 18 May 2006 20:49:56 -0000
Received: from unknown (HELO p5496ed10.dip.t-dialin.net) ([pbs]695637@[84.150.237.16])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay06.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 18 May 2006 20:49:56 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: How are results merged from a multisearcher?
Date: Thu, 18 May 2006 22:50:40 +0200
User-Agent: KMail/1.8.2
References: <cefddd100605180910t9bac60axfe4fcb50972bfb7c@mail.gmail.com> <p06230935c0925247956c@[10.10.16.251]>
In-Reply-To: <p06230935c0925247956c@[10.10.16.251]>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605182250.40962@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Donnerstag 18 Mai 2006 18:36, Ken Krugler wrote:

> >Could someone describe how the results from multiple indices are merged
> > when using a MultiSearcher? My naive intuition is that the scores for
> > documents found in each index could be wildly different, so what
> > criteria is used to merge the scored docs?
>
> I believe they are blindly merged.
>
> Which means that the IDFs for terms between multiple indices must be
> relatively equal, otherwise the results will be skewed.

That was the case in Lucene <= 1.4, in 1.9 it should be fixed, i.e. merging 
is supposed to work correctly.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20733-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 20:53:59 2006
Return-Path: <java-user-return-20733-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63377 invoked from network); 18 May 2006 20:53:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 20:53:58 -0000
Received: (qmail 58081 invoked by uid 500); 18 May 2006 20:53:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58059 invoked by uid 500); 18 May 2006 20:53:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58048 invoked by uid 99); 18 May 2006 20:53:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 13:53:52 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 194.52.12.17 is neither permitted nor denied by domain of marcus.falck@observer.se)
Received: from [194.52.12.17] (HELO mail1.observergroup.com) (194.52.12.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 13:53:51 -0700
Received: (qmail 31921 invoked by uid 509); 18 May 2006 22:53:29 +0200
Received: from 10.8.1.20 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.20):. 
 Processed in 0.095743 secs); 18 May 2006 20:53:29 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.20):. Processed in 0.095743 secs Process 31915)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.20)
  by mail1.observergroup.com with SMTP; 18 May 2006 22:53:29 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C67ABD.1D808A12"
Subject: SV: Sort problematics
Date: Thu, 18 May 2006 22:53:23 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C33B5DD@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <8834A84C87A2C148AD46921BB8BFC97C33B5DD@S1SE1MAIL.emea1.ad.group>
Thread-Topic: Sort problematics
Thread-Index: AcZ6qnIGhSiqCQuVTFyn7EsOvnZKbQAEqhph
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C67ABD.1D808A12
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

=20

________________________________

Fr=E5n: Yonik Seeley [mailto:yseeley@gmail.com]
Skickat: to 2006-05-18 20:39
Till: java-user@lucene.apache.org
=C4mne: Re: Sort problematics



On 5/18/06, Marcus Falck <marcus.falck@observer.se> wrote:
>> I'm well aware of the trade offs. But if you were aware of the large =
amounts of data that this system should be able to search you woldn't =
propose the usage of a database.

>If you have a hard requirement of instantly seeing any update, you
can't use Lucene.  That's more database-like functionallity. That's
why I asked.

Instant in this case isn't really instant. Lets say that the MAXIMUM =
time that will be accepted is 5 minutes. Since i have the altert service =
up and running all users that pays for immediate alerts will get their =
hits from it.

>> Since I have an separate alert service for immediatly alerts up and =
running i may be able to do trade offs with the data availability =
timings, and hold the indexsearcher open for a longer period.

>That's pretty much a requirement for using Lucene to support a decent
query rate.

 I thought i had good query rates when i instantiated the IndexSearcher =
for every search. I mean in my example index on 10GB i had response =
times under a second when queried using a boolean query containing =
approximently 200 terms. But I will redesign using a more static =
behavior for the IndexSearcher and recreate it on a reqular basis. After =
this redesign i suppose the search will benefit from the fieldcache =
(until i recreate). And as you say 800MB is nothing. I will without =
problems have atleast 4GB RAM in each search machine.=20


>> But still. The memory is the problem.
>> I mean how much memory would the fieldcache take for 500 Millon =
newsletter articles? Probably a lot,
>> ok the system is scaled out over different machines so in reality =
each machine won't have 500 Million docs but maybe around 100Million.

>Depends on what you are sorting by... for an int/float 100M*4 or
800MB.  Big, but possible.

>> So i'm still interesting in changing the relevance.
>> Any ideas?

>Depends on what you are sorting by, and how many different ways you
>want to sort.  If it's a single sort criteria, you can use index-time
>boosts.  If you can sort multiple ways, avoiding the fieldcache
>probably won't help you because the time to retrieve the per-doc sort
>info via termvectors or stored fields will take too long.


There is however a problem with boosting the docs since the boost factor =
is of type float. A float doesn't have the resolution needed to differ =
on a second basis.=20

I will illustrate my sort/ranking need with an example:=20

If i use lucene default implementation of the TermScorer and search for

"you" OR "her"

The term scorer will give higher score on documents containing both =
terms. This is a problem (in our application) since in this case want =
the same score on documents as long as they contain 1 of the terms =
(since we are dealing with newsletter observation for companies they =
want to get the hits ordered by date to get the complete overview).  I =
tested to rewrite the TermScorer to give me the same score with success. =
So my question is.=20
If i can modify the score at search time using the Score class why does =
everybody talk about the Similarity class?

=20

/=20

Marcus

=20


=20



------_=_NextPart_001_01C67ABD.1D808A12
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------_=_NextPart_001_01C67ABD.1D808A12--

From java-user-return-20734-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 20:56:46 2006
Return-Path: <java-user-return-20734-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64106 invoked from network); 18 May 2006 20:56:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 20:56:46 -0000
Received: (qmail 66362 invoked by uid 500); 18 May 2006 20:56:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66329 invoked by uid 500); 18 May 2006 20:56:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66318 invoked by uid 99); 18 May 2006 20:56:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 13:56:40 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 13:56:39 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id A7D4C33CAE1; Thu, 18 May 2006 16:56:17 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id AC2DC33CAE1
	for <java-user@lucene.apache.org>; Thu, 18 May 2006 16:56:15 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C33B5DB@S1SE1MAIL.emea1.ad.group>
References: <8834A84C87A2C148AD46921BB8BFC97C33B5DB@S1SE1MAIL.emea1.ad.group>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <47E5D961-589A-4343-BD64-A5E53791B445@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: SV: Sort problematics
Date: Thu, 18 May 2006 16:56:11 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 18, 2006, at 4:25 PM, Marcus Falck wrote:
> Where can i read more about the lucene sort implementation?
> Does there exist any documentation on the sorting except for the  
> Lucene API docs?

Well, there is "Lucene in Action" which covers sorting in a fair bit  
of detail.  I hear that book is pretty cool ;)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20735-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 21:01:43 2006
Return-Path: <java-user-return-20735-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65533 invoked from network); 18 May 2006 21:01:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 21:01:42 -0000
Received: (qmail 75155 invoked by uid 500); 18 May 2006 21:01:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74603 invoked by uid 500); 18 May 2006 21:01:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74591 invoked by uid 99); 18 May 2006 21:01:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 14:01:36 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 194.52.12.17 is neither permitted nor denied by domain of marcus.falck@observer.se)
Received: from [194.52.12.17] (HELO mail1.observergroup.com) (194.52.12.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 14:01:35 -0700
Received: (qmail 32493 invoked by uid 509); 18 May 2006 23:01:13 +0200
Received: from 10.8.1.20 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.20):. 
 Processed in 0.081591 secs); 18 May 2006 21:01:13 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.20):. Processed in 0.081591 secs Process 32487)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.20)
  by mail1.observergroup.com with SMTP; 18 May 2006 23:01:13 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C67ABE.324AF65C"
Subject: SV: SV: Sort problematics
Date: Thu, 18 May 2006 23:00:16 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C33B5DE@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <8834A84C87A2C148AD46921BB8BFC97C33B5DE@S1SE1MAIL.emea1.ad.group>
Thread-Topic: SV: Sort problematics
Thread-Index: AcZ6vZr6/mr9jCo+TgmscNj2Kx/wDQAAHUu7
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C67ABE.324AF65C
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Well that book is cool =3D)
=20

________________________________

Fr=E5n: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Skickat: to 2006-05-18 22:56
Till: java-user@lucene.apache.org
=C4mne: Re: SV: Sort problematics




On May 18, 2006, at 4:25 PM, Marcus Falck wrote:
> Where can i read more about the lucene sort implementation?
> Does there exist any documentation on the sorting except for the=20
> Lucene API docs?

Well, there is "Lucene in Action" which covers sorting in a fair bit=20
of detail.  I hear that book is pretty cool ;)

        Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





------_=_NextPart_001_01C67ABE.324AF65C
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------_=_NextPart_001_01C67ABE.324AF65C--

From java-user-return-20736-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 21:02:24 2006
Return-Path: <java-user-return-20736-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65783 invoked from network); 18 May 2006 21:02:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 21:02:23 -0000
Received: (qmail 76523 invoked by uid 500); 18 May 2006 21:02:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76493 invoked by uid 500); 18 May 2006 21:02:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76482 invoked by uid 99); 18 May 2006 21:02:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 14:02:17 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.166.178 as permitted sender)
Received: from [64.233.166.178] (HELO py-out-1112.google.com) (64.233.166.178)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 14:02:17 -0700
Received: by py-out-1112.google.com with SMTP id c39so678870pyd
        for <java-user@lucene.apache.org>; Thu, 18 May 2006 14:01:56 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=M0XPO89XNRbvrTvkNiTdoVgIUpKkn6Sk7IaB3XJUaNkM0mesv0dScVYW98Eo0SfinyS7gQ8zfazW+baA0kvu504vx0D/6sJ9OKjxIb1OZsKTmVg6cNtoUt+UZ+1J/9dp/deNAHT+92O6zTbYYTr5SF3iUrMxUt4wp9Z6g9JZE4k=
Received: by 10.35.107.20 with SMTP id j20mr1027160pym;
        Thu, 18 May 2006 14:01:56 -0700 (PDT)
Received: by 10.35.107.3 with HTTP; Thu, 18 May 2006 14:01:56 -0700 (PDT)
Message-ID: <c68e39170605181401u55660c29g70f9d991de6d2625@mail.gmail.com>
Date: Thu, 18 May 2006 17:01:56 -0400
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Sort problematics
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C33B5DD@S1SE1MAIL.emea1.ad.group>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <8834A84C87A2C148AD46921BB8BFC97C33B5DD@S1SE1MAIL.emea1.ad.group>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 5/18/06, Marcus Falck <marcus.falck@observer.se> wrote:

> If i use lucene default implementation of the TermScorer and search for
>
> "you" OR "her"
>
> The term scorer will give higher score on documents containing both terms=
. This is a problem (in our application) since in this case want the same s=
core on documents as long as they contain 1 of the terms

If this is your problem, it has nothing to do with "sorting" (using
Lucene terminology) but scoring.  There are numbers of ways:

1) Change Similarity.coord()  (read the JavaDoc for Similarity)
2) DisjunctionMaxQuery
3) query "you" and "her" separately and use the union of the results

-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20737-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 21:21:10 2006
Return-Path: <java-user-return-20737-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71323 invoked from network); 18 May 2006 21:21:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 21:21:10 -0000
Received: (qmail 5038 invoked by uid 500); 18 May 2006 21:21:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5011 invoked by uid 500); 18 May 2006 21:21:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4997 invoked by uid 99); 18 May 2006 21:21:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 14:21:04 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [62.116.32.102] (HELO eris.sysfrog.org) (62.116.32.102)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 14:21:02 -0700
Received: from a103030.upc-a.chello.nl ([62.163.103.30] helo=pico.sysfrog.org)
	by eris.sysfrog.org with esmtpsa (TLS-1.0:RSA_AES_256_CBC_SHA:32)
	(Exim 4.50)
	id 1FgpvF-0003VQ-3j
	for java-user@lucene.apache.org; Thu, 18 May 2006 23:20:41 +0200
Date: Thu, 18 May 2006 23:22:06 +0200
From: =?utf-8?Q?G=C3=BCnther?= Starnberger <gst@sysfrog.org>
To: java-user@lucene.apache.org
Subject: Re: SV: Sort problematics
Message-ID: <20060518212206.GP19536@sysfrog.org>
References: <8834A84C87A2C148AD46921BB8BFC97C33B5DD@S1SE1MAIL.emea1.ad.group>
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
	protocol="application/pgp-signature"; boundary="RNGrj7vazCqBHNw7"
Content-Disposition: inline
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C33B5DD@S1SE1MAIL.emea1.ad.group>
User-Agent: Mutt/1.5.11
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--RNGrj7vazCqBHNw7
Content-Type: text/plain; charset=utf-8
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

On Thu, May 18, 2006 at 10:53:23PM +0200, Marcus Falck wrote:

Hello,

> The term scorer will give higher score on documents containing both
> terms. This is a problem (in our application) since in this case want
> the same score on documents as long as they contain 1 of the terms
> (since we are dealing with newsletter observation for companies they
> want to get the hits ordered by date to get the complete overview).  I
> tested to rewrite the TermScorer to give me the same score with
> success. So my question is.=20

What exactly do you want to achieve with your application?

You speak of "immediate alerts". I understand this as: Your users
specify keywords or queries and when you receive a new document which
matches a query you alert the user.

Is this what you want to do? If so I don't think that Lucene is useful
for this kind of realtime queries. Instead of using an inverted index
it would make more sense to use a normal index which contains the
terms you search for. If you receive a new document make a lookup on
each term of the document using the index. It _might_ be possible to
do this with Lucene by storing the search-terms as documents and using
the documents which you receive as queries, but i guess this it isn't
that trivial.

If you need a combination of traditional search and real-time alerts a
hybrid solution may make sense. But using Lucene for real-time search
isn't a good idea (at least IMO).

bye,
/gst

--RNGrj7vazCqBHNw7
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: Digital signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.2.2 (GNU/Linux)

iD8DBQFEbOV+ZtF7I/+gjcERAhgWAJwI3eBv0aNNvizIackQtp5t54gxkACg01we
c24LhUwNPKBmczIQS5EOcAY=
=Pd28
-----END PGP SIGNATURE-----

--RNGrj7vazCqBHNw7--

From java-user-return-20738-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 21:27:12 2006
Return-Path: <java-user-return-20738-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72258 invoked from network); 18 May 2006 21:27:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 21:27:12 -0000
Received: (qmail 10586 invoked by uid 500); 18 May 2006 21:27:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9382 invoked by uid 500); 18 May 2006 21:27:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9362 invoked by uid 99); 18 May 2006 21:27:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 14:27:06 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of tremerson@gmail.com designates 64.233.162.207 as permitted sender)
Received: from [64.233.162.207] (HELO nz-out-0102.google.com) (64.233.162.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 14:27:05 -0700
Received: by nz-out-0102.google.com with SMTP id o37so571380nzf
        for <java-user@lucene.apache.org>; Thu, 18 May 2006 14:26:45 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=E99GeoR89ql/xA1gnfPWYMigicboif9Dr8XnM4YhMxCMQ0jgH839zn14TwQ0E0yHkGSXm/OP5RYna8y9t+evWNvq1ynHZiA483xsxAAM43YGZT7XdHqqGVFRMW0/FaqcTzluDB5+i0g8OLmuMg25kl8b4FAEgOTFTp0MZjw8uqs=
Received: by 10.36.61.2 with SMTP id j2mr1013654nza;
        Thu, 18 May 2006 14:26:44 -0700 (PDT)
Received: by 10.36.129.11 with HTTP; Thu, 18 May 2006 14:26:44 -0700 (PDT)
Message-ID: <cefddd100605181426tde8296fw7419928232bb8b3d@mail.gmail.com>
Date: Thu, 18 May 2006 17:26:44 -0400
From: "Tom Emerson" <tremerson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: How are results merged from a multisearcher?
In-Reply-To: <200605182250.40962@danielnaber.de>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_15361_4923963.1147987604591"
References: <cefddd100605180910t9bac60axfe4fcb50972bfb7c@mail.gmail.com>
	 <p06230935c0925247956c@10.10.16.251>
	 <200605182250.40962@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_15361_4923963.1147987604591
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: base64
Content-Disposition: inline

T0ssIGJ1dCB3aGF0IGRvZXMgIm1lcmdlZCBjb3JyZWN0bHkiIG1lYW4/IFRoYXQgaXMgcmVhbGx5
IHRoZSBjcnV4IG9mIG15CnF1ZXN0aW9uOiB3aGF0IGlzIHRoZSBtZXJnaW5nIHNlbWFudGljcyBh
Y3Jvc3MgaW5kaWNlcyB3aXRoIHBvc3NpYmx5CmRpdmVyZ2VudCBJREZzLgoKT24gNS8xOC8wNiwg
RGFuaWVsIE5hYmVyIDxsdWNlbmVsaXN0MjAwNUBkYW5pZWxuYWJlci5kZT4gd3JvdGU6Cj4KPiBP
biBEb25uZXJzdGFnIDE4IE1haSAyMDA2IDE4OjM2LCBLZW4gS3J1Z2xlciB3cm90ZToKPgo+ID4g
PkNvdWxkIHNvbWVvbmUgZGVzY3JpYmUgaG93IHRoZSByZXN1bHRzIGZyb20gbXVsdGlwbGUgaW5k
aWNlcyBhcmUgbWVyZ2VkCj4gPiA+IHdoZW4gdXNpbmcgYSBNdWx0aVNlYXJjaGVyPyBNeSBuYWl2
ZSBpbnR1aXRpb24gaXMgdGhhdCB0aGUgc2NvcmVzIGZvcgo+ID4gPiBkb2N1bWVudHMgZm91bmQg
aW4gZWFjaCBpbmRleCBjb3VsZCBiZSB3aWxkbHkgZGlmZmVyZW50LCBzbyB3aGF0Cj4gPiA+IGNy
aXRlcmlhIGlzIHVzZWQgdG8gbWVyZ2UgdGhlIHNjb3JlZCBkb2NzPwo+ID4KPiA+IEkgYmVsaWV2
ZSB0aGV5IGFyZSBibGluZGx5IG1lcmdlZC4KPiA+Cj4gPiBXaGljaCBtZWFucyB0aGF0IHRoZSBJ
REZzIGZvciB0ZXJtcyBiZXR3ZWVuIG11bHRpcGxlIGluZGljZXMgbXVzdCBiZQo+ID4gcmVsYXRp
dmVseSBlcXVhbCwgb3RoZXJ3aXNlIHRoZSByZXN1bHRzIHdpbGwgYmUgc2tld2VkLgo+Cj4gVGhh
dCB3YXMgdGhlIGNhc2UgaW4gTHVjZW5lIDw9IDEuNCwgaW4gMS45IGl0IHNob3VsZCBiZSBmaXhl
ZCwgaS5lLgo+IG1lcmdpbmcKPiBpcyBzdXBwb3NlZCB0byB3b3JrIGNvcnJlY3RseS4KPgo+IFJl
Z2FyZHMKPiBEYW5pZWwKPgo+IC0tCj4gaHR0cDovL3d3dy5kYW5pZWxuYWJlci5kZQo+Cj4gLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tCj4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJl
QGx1Y2VuZS5hcGFjaGUub3JnCj4gRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogamF2
YS11c2VyLWhlbHBAbHVjZW5lLmFwYWNoZS5vcmcKPgo+CgoKLS0gClRvbSBFbWVyc29uCnRyZW1l
cnNvbkBnbWFpbC5jb20KaHR0cDovL3d3dy5kcmVhbWVyc3JlYWxtLm5ldC9+dHJlZQo=
------=_Part_15361_4923963.1147987604591--

From java-user-return-20739-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 21:44:12 2006
Return-Path: <java-user-return-20739-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76640 invoked from network); 18 May 2006 21:44:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 21:44:12 -0000
Received: (qmail 33768 invoked by uid 500); 18 May 2006 21:44:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33567 invoked by uid 500); 18 May 2006 21:44:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33549 invoked by uid 99); 18 May 2006 21:44:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 14:44:06 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.44 as permitted sender)
Received: from [80.67.18.44] (HELO smtprelay06.ispgateway.de) (80.67.18.44)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 14:44:05 -0700
Received: (qmail 20488 invoked from network); 18 May 2006 21:43:43 -0000
Received: from unknown (HELO p5496db89.dip.t-dialin.net) ([pbs]695637@[84.150.219.137])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay06.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 18 May 2006 21:43:43 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: How are results merged from a multisearcher?
Date: Thu, 18 May 2006 23:44:29 +0200
User-Agent: KMail/1.8.2
References: <cefddd100605180910t9bac60axfe4fcb50972bfb7c@mail.gmail.com> <200605182250.40962@danielnaber.de> <cefddd100605181426tde8296fw7419928232bb8b3d@mail.gmail.com>
In-Reply-To: <cefddd100605181426tde8296fw7419928232bb8b3d@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605182344.29708@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Donnerstag 18 Mai 2006 23:26, Tom Emerson wrote:

> OK, but what does "merged correctly" mean?

I assume it means: querying over several indices gives the same ranking as 
if the documents were in one index.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20740-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 22:23:56 2006
Return-Path: <java-user-return-20740-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87259 invoked from network); 18 May 2006 22:23:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 22:23:56 -0000
Received: (qmail 82909 invoked by uid 500); 18 May 2006 22:23:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82879 invoked by uid 500); 18 May 2006 22:23:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82863 invoked by uid 99); 18 May 2006 22:23:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 15:23:49 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 194.52.12.17 is neither permitted nor denied by domain of marcus.falck@observer.se)
Received: from [194.52.12.17] (HELO mail1.observergroup.com) (194.52.12.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 15:23:48 -0700
Received: (qmail 4866 invoked by uid 509); 19 May 2006 00:23:24 +0200
Received: from 10.8.1.20 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.20):. 
 Processed in 0.100951 secs); 18 May 2006 22:23:24 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.20):. Processed in 0.100951 secs Process 4860)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.20)
  by mail1.observergroup.com with SMTP; 19 May 2006 00:23:24 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C67AC9.AD551157"
Subject: SV: SV: Sort problematics
Date: Fri, 19 May 2006 00:23:24 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C33B5DF@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <8834A84C87A2C148AD46921BB8BFC97C33B5DF@S1SE1MAIL.emea1.ad.group>
Thread-Topic: SV: Sort problematics
Thread-Index: AcZ6wQR/MsPi3Z8LRKmU+o3ekIlH5gABh2lx
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C67AC9.AD551157
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi Gunther.
=20
We thought in the terms of an index containing the search profiles and =
search that index using the documents as a query. But we couldn't really =
figure it out. We have an alert service up and running today using =
Veritys implementation of alerts. So we looked at the Verity =
documentation and realised that they didn't handle the alert using an =
inverted index. So we implemented our new alert service in the same way =
the verity service works today.=20
Which seems to work nice, but if you have any concrete solution on how =
to achive an inverted index storing pretty complex queries you are more =
then welcome to share it.
=20
-
=20
What I want to accomplish is an central index for alot of large backend =
systems containing a lot of articles. For example news polled from web, =
newspapers delivered in electronic form to us and 3:d part document =
databases.
So what we have done is to implement a search engine using Lucene as the =
core. This engine is scalable both in terms of range and =
round-robin/range. Fetcher applications fetches documents from different =
storages and transforms those documents into a more common format and =
then distributes them to all searchmachines matching that range.
The range clustering is built using date range. Since we are going to =
buy document databases from other companies we can't guarantee that all =
data will be added in terms of date order.=20
The volymes of data we are talking about are around 500 Million news =
articles.
=20
The enduser, and alot of our internal processes for value adding =
services, are then defining a search query for things they want to =
monitor. In the endusers case this is called "agent". When the user logs =
in to the system and clicks on its agent the user will get the matching =
articles presented to him/her in DATE order (newest first). The date =
order is critical. The relevance is not important since we have value =
added services such as quality control of the hits.
=20
So the last thing to do in order to get a fully functional prof of =
concept up is to fix the date order presentation. And since it's alot of =
data and the IndexSearcher will be recreated pretty often we will need =
to change the lucene scoring/ranking. And I can't understand why this =
should be so hard? But I don't have any clue of what the best practises =
for doing so are.
=20
/
Regards
Marcus
=20
=20

________________________________

Fr=E5n: G=FCnther Starnberger [mailto:gst@sysfrog.org]
Skickat: to 2006-05-18 23:22
Till: java-user@lucene.apache.org
=C4mne: Re: SV: Sort problematics



On Thu, May 18, 2006 at 10:53:23PM +0200, Marcus Falck wrote:

Hello,

> The term scorer will give higher score on documents containing both
> terms. This is a problem (in our application) since in this case want
> the same score on documents as long as they contain 1 of the terms
> (since we are dealing with newsletter observation for companies they
> want to get the hits ordered by date to get the complete overview).  I
> tested to rewrite the TermScorer to give me the same score with
> success. So my question is.

What exactly do you want to achieve with your application?

You speak of "immediate alerts". I understand this as: Your users
specify keywords or queries and when you receive a new document which
matches a query you alert the user.

Is this what you want to do? If so I don't think that Lucene is useful
for this kind of realtime queries. Instead of using an inverted index
it would make more sense to use a normal index which contains the
terms you search for. If you receive a new document make a lookup on
each term of the document using the index. It _might_ be possible to
do this with Lucene by storing the search-terms as documents and using
the documents which you receive as queries, but i guess this it isn't
that trivial.

If you need a combination of traditional search and real-time alerts a
hybrid solution may make sense. But using Lucene for real-time search
isn't a good idea (at least IMO).

bye,
/gst




------_=_NextPart_001_01C67AC9.AD551157
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------_=_NextPart_001_01C67AC9.AD551157--

From java-user-return-20741-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 18 22:53:42 2006
Return-Path: <java-user-return-20741-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94298 invoked from network); 18 May 2006 22:53:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 May 2006 22:53:42 -0000
Received: (qmail 25131 invoked by uid 500); 18 May 2006 22:53:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25101 invoked by uid 500); 18 May 2006 22:53:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25089 invoked by uid 99); 18 May 2006 22:53:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 15:53:35 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [68.142.198.203] (HELO smtp104.sbc.mail.mud.yahoo.com) (68.142.198.203)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 18 May 2006 15:53:34 -0700
Received: (qmail 5427 invoked from network); 18 May 2006 22:53:11 -0000
Received: from unknown (HELO ?10.10.16.251?) (kkrugler@pacbell.net@64.71.164.125 with plain)
  by smtp104.sbc.mail.mud.yahoo.com with SMTP; 18 May 2006 22:53:11 -0000
Mime-Version: 1.0
Message-Id: <p06230942c092a3efb8f6@[10.10.16.251]>
In-Reply-To: <200605182250.40962@danielnaber.de>
References: <cefddd100605180910t9bac60axfe4fcb50972bfb7c@mail.gmail.com>
 <p06230935c0925247956c@[10.10.16.251]> <200605182250.40962@danielnaber.de>
Date: Thu, 18 May 2006 15:23:24 -0700
To: java-user@lucene.apache.org
From: Ken Krugler <kkrugler_lists@transpac.com>
Subject: Re: How are results merged from a multisearcher?
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>On Donnerstag 18 Mai 2006 18:36, Ken Krugler wrote:
>
>  > >Could someone describe how the results from multiple indices are merged
>>  > when using a MultiSearcher? My naive intuition is that the scores for
>>  > documents found in each index could be wildly different, so what
>>  > criteria is used to merge the scored docs?
>>
>>  I believe they are blindly merged.
>>
>>  Which means that the IDFs for terms between multiple indices must be
>  > relatively equal, otherwise the results will be skewed.
>
>That was the case in Lucene <= 1.4, in 1.9 it should be fixed, i.e. merging
>is supposed to work correctly.

Sorry, you're right. In Lucene 1.9 the MultiSearcher has been 
improved. In Nutch, which uses its own implementation, this is still 
a problem as per:

http://issues.apache.org/jira/browse/NUTCH-92

-- Ken
-- 
Ken Krugler
Krugle, Inc.
+1 530-210-6378
"Find Code, Find Answers"

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20742-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 19 00:49:06 2006
Return-Path: <java-user-return-20742-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23699 invoked from network); 19 May 2006 00:49:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2006 00:49:06 -0000
Received: (qmail 81674 invoked by uid 500); 19 May 2006 00:49:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80898 invoked by uid 500); 19 May 2006 00:48:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 62683 invoked by uid 99); 18 May 2006 22:08:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
X-SEF-Processed: 5_0_0_910__2006_05_18_15_12_46
X-SEF-37DF5EA0-ABAA-4294-A0CB-59A2F25D2F34: 1
Content-class: urn:content-classes:message
Subject: using MultiFieldQueryParser and WildcardQuery?
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C67AC8.30DC6B7C"
Date: Thu, 18 May 2006 15:12:45 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Message-ID: <D2D2FEE335CE304C81F17C83626158E2E086B7@wsdmnsvr>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: using MultiFieldQueryParser and WildcardQuery?
Thread-Index: AcZ6yDCJUSITJhOyT5qY1AJ1wKb5tg==
From: "Van Nguyen" <vnguyen@wynnesystems.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C67AC8.30DC6B7C
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

=0D=0AI've read through the book and was unable to find a solution to this=0D=
=0Aproblem. Currently, my query looks like this:=0D=0A=0D=0A(+description_s=
hort:white +description_short:hard=0D=0A+description_short:hat) (+descripti=
on_long:white +description_long:hard=0D=0A+description_long:hat)=0D=0A=0D=0A=
using a MultiFieldQueryParser and setting the default operator to AND.=0D=0A=0D=
=0ACode:=0D=0AString[] fields =3D {"description_short", "description_long"}=
;=0D=0AMultiFieldQueryParser queryParser =3D new MultiFieldQueryParser(fiel=
ds,=0D=0Anew StandardAnalyzer());=0D=0AqueryParser.setDefaultOperator(Query=
Parser.AND_OPERATOR);=0D=0AQuery query2 =3D queryParser.parse(line);=0D=0A=0D=
=0A=0D=0AIs there a way to do create a query that does this:=0D=0A=0D=0A(+d=
escription_short:white* +description_short:hard*=0D=0A+description_short:ha=
t*) (+description_long:white*=0D=0A+description_long:hard* +description_lon=
g:hat*)=20=0D=0A=0D=0A=20=0D=0AVan Nguyen=0D=0AWynne Systems, Inc.=0D=0A198=
00 MacArthur Blvd., Suite 900=0D=0AIrvine, CA  92612-2421=0D=0A949.224.6300=
 ext 223=0D=0A949.225.6540 (fax)=0D=0A866.901.9284 (toll-free)=0D=0Awww.wyn=
nesystems.com=0D=0A<blocked::blocked::blocked::blocked::http://www.wynnesys=
tems.com/> =20=0D=0A=20=0D=0AThis communication and any documents, files, o=
r previous electronic mail messages attached to it constitute=0D=0Aan elect=
ronic communication within the scope of the Electronic Communication Privac=
y Act, 18 USCA 2510.=20=0D=0AThis communication may contain non-public, con=
fidential, or legally privileged information intended for the=20=0D=0Asole =
use of the designated recipient(s). The unlawful interception, use or discl=
osure of such information is=20=0D=0Astrictly prohibited under 18 USCA 2511=
 and any applicable laws.=0D=0A
------_=_NextPart_001_01C67AC8.30DC6B7C--


From java-user-return-20743-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 19 01:14:20 2006
Return-Path: <java-user-return-20743-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29445 invoked from network); 19 May 2006 01:14:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2006 01:14:20 -0000
Received: (qmail 24489 invoked by uid 500); 19 May 2006 01:14:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24465 invoked by uid 500); 19 May 2006 01:14:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24454 invoked by uid 99); 19 May 2006 01:14:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 18:14:13 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 18:14:13 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 63D4B33CAF3; Thu, 18 May 2006 21:13:50 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 08A4A33CAEE
	for <java-user@lucene.apache.org>; Thu, 18 May 2006 21:13:48 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <20060518212206.GP19536@sysfrog.org>
References: <8834A84C87A2C148AD46921BB8BFC97C33B5DD@S1SE1MAIL.emea1.ad.group> <20060518212206.GP19536@sysfrog.org>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
Message-Id: <A7258BEB-220A-423A-9BE6-2E466A343741@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: SV: Sort problematics
Date: Thu, 18 May 2006 21:13:46 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_SORBS_DUL autolearn=no version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 18, 2006, at 5:22 PM, G=FCnther Starnberger wrote:

> On Thu, May 18, 2006 at 10:53:23PM +0200, Marcus Falck wrote:
>
> Hello,
>
>> The term scorer will give higher score on documents containing both
>> terms. This is a problem (in our application) since in this case want
>> the same score on documents as long as they contain 1 of the terms
>> (since we are dealing with newsletter observation for companies they
>> want to get the hits ordered by date to get the complete =20
>> overview).  I
>> tested to rewrite the TermScorer to give me the same score with
>> success. So my question is.
>
> What exactly do you want to achieve with your application?
>
> You speak of "immediate alerts". I understand this as: Your users
> specify keywords or queries and when you receive a new document which
> matches a query you alert the user.
>
> Is this what you want to do? If so I don't think that Lucene is useful
> for this kind of realtime queries. Instead of using an inverted index
> it would make more sense to use a normal index which contains the
> terms you search for. If you receive a new document make a lookup on
> each term of the document using the index. It _might_ be possible to
> do this with Lucene by storing the search-terms as documents and using
> the documents which you receive as queries, but i guess this it isn't
> that trivial.
>
> If you need a combination of traditional search and real-time alerts a
> hybrid solution may make sense. But using Lucene for real-time search
> isn't a good idea (at least IMO).


Actually there is contrib/memory's MemoryIndex that is specifically =20
designed for this type of single document high performance querying.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20744-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 19 01:27:08 2006
Return-Path: <java-user-return-20744-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39679 invoked from network); 19 May 2006 01:27:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2006 01:27:08 -0000
Received: (qmail 56826 invoked by uid 500); 19 May 2006 01:27:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56793 invoked by uid 500); 19 May 2006 01:27:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56782 invoked by uid 99); 19 May 2006 01:27:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 18:27:01 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.176 as permitted sender)
Received: from [64.233.166.176] (HELO py-out-1112.google.com) (64.233.166.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 18:27:00 -0700
Received: by py-out-1112.google.com with SMTP id c39so718104pyd
        for <java-user@lucene.apache.org>; Thu, 18 May 2006 18:26:40 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=fmxh7KGjEFXQWzOns+sr09IPVUSeEmIGdqpYPvd4Ll1ZzuQtXTdnaAu9WPgo1bRAudmhUD9+JxEMSJvl/YqAgpx1N5mQmkIJbPeNA/Sejcn4kwTpgO06n5EDRrsFNG6gYkVVRIfQcib2RoRZPbqxFJalI/fdNdVraESYwldZzhE=
Received: by 10.35.66.13 with SMTP id t13mr1229508pyk;
        Thu, 18 May 2006 18:26:40 -0700 (PDT)
Received: by 10.35.17.5 with HTTP; Thu, 18 May 2006 18:26:40 -0700 (PDT)
Message-ID: <359a92830605181826v3c57a778v71250af1f5432db1@mail.gmail.com>
Date: Thu, 18 May 2006 21:26:40 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: using MultiFieldQueryParser and WildcardQuery?
In-Reply-To: <D2D2FEE335CE304C81F17C83626158E2E086B7@wsdmnsvr>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_131399_32735673.1148002000041"
References: <D2D2FEE335CE304C81F17C83626158E2E086B7@wsdmnsvr>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_131399_32735673.1148002000041
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I'm pretty sure that just submitting the query will work. You might want to
use the QueryParser(String, Analyzer) form. Don't be put off by the fact
that the String is the "default field", it doesn't make any difference give=
n
that you qualify each term with the field. In fact, you can even use a
PerFieldAnalyzerWrapper for the Analyzer and have different analyzers for
each field "for free".

That said, I really doubt you want to do this if you have much data. I fear
you'll get a TooManyClauses exception. Lucene In Action describes the why o=
f
this, and "the guys" gave me a great service in the thread titled "I just
don't get wildcards at all". The short form is that if you have more than
1024 terms that could be part of this query, you'll get this exception. You
can bump the maximum number of clauses allowed, but that's a solution I'm
leery as I'm sure it'll break sometime, probably just after I release it to
my customers <G>.

The solution I used was to subclass QueryParser and override the wildcard
(and prefix and etc.) methods and return a ConstanScoreQuery with a Filter.
The filter is built up by using a WildcardTermEnum. This may or may not wor=
k
in your case, it depends on the characteristics of your data and query and
response time expectations.

Another approach is to use clever indexing. That is, when you index, overla=
y
(see the synonyms discussion in LIA) index whiter, white, whit, whi, wh, w
in the same position. Then you never have to search for a wildcard, you can
just search for white and hit white and whiter.

Anyway, I really recommend both LIA and the thread above, as well as
searching the archives for wildcards.

Best
Erick

------=_Part_131399_32735673.1148002000041--

From java-user-return-20745-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 19 02:55:58 2006
Return-Path: <java-user-return-20745-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56604 invoked from network); 19 May 2006 02:55:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2006 02:55:58 -0000
Received: (qmail 35190 invoked by uid 500); 19 May 2006 02:55:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35158 invoked by uid 500); 19 May 2006 02:55:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35133 invoked by uid 99); 19 May 2006 02:55:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 19:55:52 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 May 2006 19:55:51 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 33B295B764; Thu, 18 May 2006 19:55:31 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 2C0447F403
	for <java-user@lucene.apache.org>; Thu, 18 May 2006 19:55:31 -0700 (PDT)
Date: Thu, 18 May 2006 19:55:31 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: using MultiFieldQueryParser and WildcardQuery?
In-Reply-To: <359a92830605181826v3c57a778v71250af1f5432db1@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0605181952060.32707@hal.rescomp.berkeley.edu>
References: <D2D2FEE335CE304C81F17C83626158E2E086B7@wsdmnsvr>
 <359a92830605181826v3c57a778v71250af1f5432db1@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I think you may have missunderstood his question, i believe what he was
saying that his current use of MultiFieldParser will give him ...blah...
based on the input string "white hard hat"; but what he'd like to get is
hte same final query structure, but with the individual clauses being
WildCardQUeries instead of TermQueries.

I haven't looked at the internals of MultFieldQueryParser before, but if
it's a well behaved subclass of QueryParser, you should be able to
override getFieldQuery to call getWildCardQuery, and get what you want.

All of hte performance issues described below however, still apply...

: Date: Thu, 18 May 2006 21:26:40 -0400
: From: Erick Erickson <erickerickson@gmail.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: Re: using MultiFieldQueryParser and WildcardQuery?
:
: I'm pretty sure that just submitting the query will work. You might want to
: use the QueryParser(String, Analyzer) form. Don't be put off by the fact
: that the String is the "default field", it doesn't make any difference given
: that you qualify each term with the field. In fact, you can even use a
: PerFieldAnalyzerWrapper for the Analyzer and have different analyzers for
: each field "for free".
:
: That said, I really doubt you want to do this if you have much data. I fear
: you'll get a TooManyClauses exception. Lucene In Action describes the why of
: this, and "the guys" gave me a great service in the thread titled "I just
: don't get wildcards at all". The short form is that if you have more than
: 1024 terms that could be part of this query, you'll get this exception. You
: can bump the maximum number of clauses allowed, but that's a solution I'm
: leery as I'm sure it'll break sometime, probably just after I release it to
: my customers <G>.
:
: The solution I used was to subclass QueryParser and override the wildcard
: (and prefix and etc.) methods and return a ConstanScoreQuery with a Filter.
: The filter is built up by using a WildcardTermEnum. This may or may not work
: in your case, it depends on the characteristics of your data and query and
: response time expectations.
:
: Another approach is to use clever indexing. That is, when you index, overlay
: (see the synonyms discussion in LIA) index whiter, white, whit, whi, wh, w
: in the same position. Then you never have to search for a wildcard, you can
: just search for white and hit white and whiter.
:
: Anyway, I really recommend both LIA and the thread above, as well as
: searching the archives for wildcards.
:
: Best
: Erick
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20746-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 19 08:45:00 2006
Return-Path: <java-user-return-20746-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45708 invoked from network); 19 May 2006 08:44:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2006 08:44:59 -0000
Received: (qmail 62371 invoked by uid 500); 19 May 2006 08:44:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62329 invoked by uid 500); 19 May 2006 08:44:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62318 invoked by uid 99); 19 May 2006 08:44:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 01:44:52 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dlager@gmail.com designates 64.233.184.234 as permitted sender)
Received: from [64.233.184.234] (HELO wr-out-0506.google.com) (64.233.184.234)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 01:44:52 -0700
Received: by wr-out-0506.google.com with SMTP id 70so1083780wra
        for <java-user@lucene.apache.org>; Fri, 19 May 2006 01:44:31 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=XHW6kLwStwFD3xTz4nvT58r6eKFwyTtXOIBloN3zGChRU0/ubsCJHIPkjqVfXeCx++8z4aaJs+PpHtLZTQ0Dr7yySvi+mpvXnujcCoQ6+uLbhYW8zoBi0KQ6oVMpvowaTxey6J5+51msCEn/7Q5/f6gMyVoFRHaBiuH5cDWtBRg=
Received: by 10.54.123.4 with SMTP id v4mr1665889wrc;
        Fri, 19 May 2006 01:44:31 -0700 (PDT)
Received: by 10.54.157.8 with HTTP; Fri, 19 May 2006 01:44:31 -0700 (PDT)
Message-ID: <a171080c0605190144s25f51b6cl9dcce7459832c0f6@mail.gmail.com>
Date: Fri, 19 May 2006 10:44:31 +0200
From: "=?ISO-8859-1?Q?David_Ahlschl=E4ger?=" <dlager@gmail.com>
To: "Lucene User Group" <java-user@lucene.apache.org>
Subject: Need some Advice on Searching
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_38290_20352256.1148028271265"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_38290_20352256.1148028271265
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi All.

Firstly I am new to using Lucene and all its API's.

I am trying to evaluate if Lucene can solve the following problem for me.

1. I need to temporarilly index sets of documents on the Fly say 100 at a
Time.
    This seems simple enough - I create a Index either on the File System o=
r
in Memory - (This I can do.)
    with the following Fields for each Document: external_id (Fixed Length
String : 255 chars), contents (contents of HTML file)

2. I need to run a Fixed set of Queries against the Index I created on the
"contents" field.
    The Queries are in the form "123456789 OR 4323456 OR House OR Flat" or
more complicated
    like "((flat AND bed) OR (cat AND dog))"


My problem is that for these queries I need to know which Documents hit. I
also need to know which terms hit and if possible
the location of the hits for each term in the hit Document.

I can create queries using the Query Parser and get the Document that Hit.
This I assume is refered to as the Hits API ?

What I could really use is a brief decription of the steps I would need to
perform to solve the above, a point in the right direction
so to say.

Would I need to write my own Query Parser, Searcher, dig real deep into the
bowls of Lucene ect.

Suggestions would be realy appreciated.

------=_Part_38290_20352256.1148028271265--

From java-user-return-20747-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 19 09:14:04 2006
Return-Path: <java-user-return-20747-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53680 invoked from network); 19 May 2006 09:14:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2006 09:14:04 -0000
Received: (qmail 92449 invoked by uid 500); 19 May 2006 09:13:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92417 invoked by uid 500); 19 May 2006 09:13:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92406 invoked by uid 99); 19 May 2006 09:13:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 02:13:58 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of zhenjian@gmail.com designates 64.233.184.226 as permitted sender)
Received: from [64.233.184.226] (HELO wr-out-0506.google.com) (64.233.184.226)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 02:13:56 -0700
Received: by wr-out-0506.google.com with SMTP id i28so584335wra
        for <java-user@lucene.apache.org>; Fri, 19 May 2006 02:13:36 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=a6ycqMUAQAA4OnZscqOytM9QN/dROxWhd3ZidlvGFs1xDICwz9aWdQ9UisGxOb3Pf3xMiL1z6CnRv8t3odHiLWv4+bMnj32NqKB5tISRdN5Ur38EhMQmjtHieIalxREgFIMDIWugAhkW8nEbXp9uKaIjItMkyFgCcXMK/w/FIRo=
Received: by 10.65.156.19 with SMTP id i19mr1258070qbo;
        Fri, 19 May 2006 02:13:36 -0700 (PDT)
Received: by 10.65.197.3 with HTTP; Fri, 19 May 2006 02:13:36 -0700 (PDT)
Message-ID: <4ba70b40605190213m4368f944r38da4120a50bf5e2@mail.gmail.com>
Date: Fri, 19 May 2006 17:13:36 +0800
From: "Zhenjian YU" <zhenjian@gmail.com>
To: java-user@lucene.apache.org
Subject: does anybody have the experience to do some pooling upon lucene?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_135945_9189560.1148030016060"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_135945_9189560.1148030016060
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I'm using apache commons pooling library to pool the IndexSearcher, so that
my system
can provide high performance.

I wonder if it is reasonable to pooling objects of lucene?
If yes, is there any other objects I can also pool?

Thank you!

------=_Part_135945_9189560.1148030016060--

From java-user-return-20748-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 19 10:22:15 2006
Return-Path: <java-user-return-20748-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73329 invoked from network); 19 May 2006 10:22:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2006 10:22:15 -0000
Received: (qmail 14105 invoked by uid 500); 19 May 2006 10:22:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14072 invoked by uid 500); 19 May 2006 10:22:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14061 invoked by uid 99); 19 May 2006 10:22:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 03:22:08 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 03:22:06 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 27DF333CB00; Fri, 19 May 2006 06:21:45 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 5C17E33CB00
	for <java-user@lucene.apache.org>; Fri, 19 May 2006 06:21:44 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <4ba70b40605190213m4368f944r38da4120a50bf5e2@mail.gmail.com>
References: <4ba70b40605190213m4368f944r38da4120a50bf5e2@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <4A6F7A42-7755-457A-83AB-FF118954D932@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: does anybody have the experience to do some pooling upon lucene?
Date: Fri, 19 May 2006 06:21:41 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_SORBS_DUL autolearn=no version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

A single IndexSearcher is all a system needs to use (in the basic  
sense).  Pooling multiple instances pointing to the same index won't  
benefit your performance.  Things get trickier when you are updating  
the index and want to see the updates.

	Erik


On May 19, 2006, at 5:13 AM, Zhenjian YU wrote:

> I'm using apache commons pooling library to pool the IndexSearcher,  
> so that
> my system
> can provide high performance.
>
> I wonder if it is reasonable to pooling objects of lucene?
> If yes, is there any other objects I can also pool?
>
> Thank you!


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20749-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 19 11:43:34 2006
Return-Path: <java-user-return-20749-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93840 invoked from network); 19 May 2006 11:43:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2006 11:43:33 -0000
Received: (qmail 11987 invoked by uid 500); 19 May 2006 11:43:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11957 invoked by uid 500); 19 May 2006 11:43:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11944 invoked by uid 99); 19 May 2006 11:43:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 04:43:27 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dlager@gmail.com designates 64.233.184.234 as permitted sender)
Received: from [64.233.184.234] (HELO wr-out-0506.google.com) (64.233.184.234)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 04:43:27 -0700
Received: by wr-out-0506.google.com with SMTP id 50so133417wri
        for <java-user@lucene.apache.org>; Fri, 19 May 2006 04:43:06 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=T1qduAgSnSkaqm8pijXkWSfvQZV2L05YlnWVBdqTFsGsfo6B6ZZcoWdkf0QxyYHxN49X4SBP+sSYFgpbdPE8CKBNAynUn3GYyXNQzIozcJ6fKdKndpkWvsJUmfp2u2J+/oKiM1DOY/4FfasMuUsgkjnqr4MlRJVm8kj8S7R2p9w=
Received: by 10.54.78.19 with SMTP id a19mr797021wrb;
        Fri, 19 May 2006 04:42:04 -0700 (PDT)
Received: by 10.54.157.8 with HTTP; Fri, 19 May 2006 04:43:06 -0700 (PDT)
Message-ID: <a171080c0605190443x6f431b52ued31a796d210e1f1@mail.gmail.com>
Date: Fri, 19 May 2006 13:43:06 +0200
From: "=?ISO-8859-1?Q?David_Ahlschl=E4ger?=" <dlager@gmail.com>
To: "Lucene User Group" <java-user@lucene.apache.org>
Subject: Can lucene do this?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_38798_29088218.1148038986023"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_38798_29088218.1148038986023
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi All.

Firstly I am new to using Lucene and all its API's.

I am trying to evaluate if Lucene can solve the following problem for me.

1. I need to temporarilly index sets of documents on the Fly say 100 at a
Time.
    This seems simple enough - I create a Index either on the File System o=
r
in Memory - (This I can do.)
    with the following Fields for each Document: external_id (Fixed Length
String : 255 chars), contents (contents of HTML file)

2. I need to run a Fixed set of Queries against the Index I created on the
"contents" field.
    The Queries are in the form "123456789 OR 4323456 OR House OR Flat" or
more complicated
    like "((flat AND bed) OR (cat AND dog))"


My problem is that for these queries I need to know which Documents hit. I
also need to know which terms hit and if possible
the location of the hits for each term in the hit Document.

I can create queries using the Query Parser and get the Document that Hit.
This I assume is refered to as the Hits API ?

What I could really use is a brief decription of the steps I would need to
perform to solve the above, a point in the right direction
so to say.

Would I need to write my own Query Parser, Searcher, dig real deep into the
bowls of Lucene ect.

Suggestions would be realy appreciated.

------=_Part_38798_29088218.1148038986023--

From java-user-return-20750-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 19 12:16:07 2006
Return-Path: <java-user-return-20750-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1822 invoked from network); 19 May 2006 12:16:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2006 12:16:07 -0000
Received: (qmail 57798 invoked by uid 500); 19 May 2006 12:16:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57762 invoked by uid 500); 19 May 2006 12:16:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57751 invoked by uid 99); 19 May 2006 12:16:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 05:16:00 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [130.88.192.208] (HELO t8.cs.man.ac.uk) (130.88.192.208)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 05:15:59 -0700
Received: from cspool52 ([130.88.195.152])
	by t8 with esmtp (Exim 4.14)
	id 1Fh3rn-0004bB-TW
	for java-user@lucene.apache.org; Fri, 19 May 2006 13:14:03 +0100
Message-ID: <446DB683.8000402@cs.man.ac.uk>
Date: Fri, 19 May 2006 13:13:55 +0100
From: Rahil <qamarr@cs.man.ac.uk>
Reply-To:  qamarr@cs.man.ac.uk
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.2) Gecko/20040804 Netscape/7.2 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: OutOfMemory and IOException Access Denied errors
Content-Type: multipart/alternative;
 boundary="------------020504090909000908080707"
X-Spam-Score: -1.7 (-)
X-Scanner: exiscan for exim4 (http://duncanthrax.net/exiscan/) *1Fh3rn-0004bB-TW*SFrtoTdicwE*
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------020504090909000908080707
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Hi

I am new to Lucene so am perhaps missing something obvious. I have included Lucene 1.9.1 in my classpath and am trying to integrate it with MySQL.

I have a table which has near a million records in it. According to the documentation on Lucene I have read so far, my understanding is that I need to (1) make a connection with MySQL then (2) execute the query normally in SQL syntax. (3) Then pass the ResultSet to the method to create indexes. (4) I can then pass a queryString to the searchIndex() custom method to locate the queryString. 

PROBLEMS: 

(a) The first problem I had was when trying to execute the query on the million records table in Step 1. It resulted in an OutOfMemory error due to the size of the table. How can I get around this problem so that the query executes on the entire table at one time? 

As a workaround, I limited the number of results to 100,000 which worked fine.

(b) But I then received an IOException when the index was being written to the Document object. The Exception stack trace is shown below: 

---
Exception in thread "main" java.io.IOException: Access is denied
	at java.io.WinNTFileSystem.createFileExclusively(Native Method)
	at java.io.File.createNewFile(File.java:850)
	at org.apache.lucene.store.FSDirectory$1.obtain(FSDirectory.java:324)
	at org.apache.lucene.store.Lock.obtain(Lock.java:92)
	at org.apache.lucene.store.Lock$With.run(Lock.java:147)
	at org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:442)
	at org.apache.lucene.index.IndexWriter.maybeMergeSegments(IndexWriter.java:401)
	at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:260)
	at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:244)
	at man.ac.uk.most.LuceneIndex.indexResultSet(LuceneIndex.java:102)  --- error line in my piece of code !
	at man.ac.uk.most.LuceneIndex.main(LuceneIndex.java:40)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:78)

---

Line 102 is present in the block of code in my program as such

----
while(rs.next()){
                lucDoc = new Document();
                lucDoc.add(Field.Keyword("conceptId",rs.getString("CONCEPTID")));
                lucDoc.add(Field.Text("term",rs.getString("TERM")));
                lucDoc.add(Field.UnIndexed("descriptionType",rs.getString("DESCRIPTIONTYPE")));

                indexWriter.addDocument(lucDoc);		--- problem line 102
            }

rs.close();
closeIndexWriter();


----

If I limit Step 1 to execute 10000 records then the program runs fine and theres no problem. However I need to index the entire table either as a single query or an incremental query.

Can someone please help me with these problems.

Thanks
Rahil


--------------020504090909000908080707--

From java-user-return-20751-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 19 12:30:07 2006
Return-Path: <java-user-return-20751-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7518 invoked from network); 19 May 2006 12:30:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2006 12:30:07 -0000
Received: (qmail 82495 invoked by uid 500); 19 May 2006 12:30:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82469 invoked by uid 500); 19 May 2006 12:30:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82458 invoked by uid 99); 19 May 2006 12:30:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 05:30:00 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [130.88.192.208] (HELO t8.cs.man.ac.uk) (130.88.192.208)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 05:29:59 -0700
Received: from cspool52 ([130.88.195.152])
	by t8 with esmtp (Exim 4.14)
	id 1Fh45N-0005Bb-66
	for java-user@lucene.apache.org; Fri, 19 May 2006 13:28:05 +0100
Message-ID: <446DB9CB.5060206@cs.man.ac.uk>
Date: Fri, 19 May 2006 13:27:55 +0100
From: Rahil <qamarr@cs.man.ac.uk>
Reply-To: Lucene User Group <java-user@lucene.apache.org>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.2) Gecko/20040804 Netscape/7.2 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene User Group <java-user@lucene.apache.org>
Subject: OutOfMemory and IOException Access Denied errors
Content-Type: multipart/alternative;
 boundary="------------010905020905010807010402"
X-Spam-Score: -2.4 (--)
X-Scanner: exiscan for exim4 (http://duncanthrax.net/exiscan/) *1Fh45N-0005Bb-66*sMRbgi7PcaQ*
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------010905020905010807010402
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

  Hi

I am new to Lucene so am perhaps missing something obvious. I have 
included Lucene 1.9.1 in my classpath and am trying to integrate it with 
MySQL.

I have a table which has near a million records in it. According to the 
documentation on Lucene I have read so far, my understanding is that I 
need to (1) make a connection with MySQL then (2) execute the query 
normally in SQL syntax. (3) Then pass the ResultSet to the method to 
create indexes. (4) I can then pass a queryString to the searchIndex() 
custom method to locate the queryString.

PROBLEMS:

(a) The first problem I had was when trying to execute the query on the 
million records table in Step 1. It resulted in an OutOfMemory error due 
to the size of the table. How can I get around this problem so that the 
query executes on the entire table at one time?

As a workaround, I limited the number of results to 100,000 which worked 
fine.

(b) But I then received an IOException when the index was being written 
to the Document object. The Exception stack trace is shown below:

---
Exception in thread "main" java.io.IOException: Access is denied
at java.io.WinNTFileSystem.createFileExclusively(Native Method)
at java.io.File.createNewFile(File.java:850)
at org.apache.lucene.store.FSDirectory$1.obtain(FSDirectory.java:324)
at org.apache.lucene.store.Lock.obtain(Lock.java:92)
at org.apache.lucene.store.Lock$With.run(Lock.java:147)
at org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:442)
at 
org.apache.lucene.index.IndexWriter.maybeMergeSegments(IndexWriter.java:401)
at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:260)
at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:244)
at man.ac.uk.most.LuceneIndex.indexResultSet(LuceneIndex.java:102) --- 
error line in my piece of code !
at man.ac.uk.most.LuceneIndex.main(LuceneIndex.java:40)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at 
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at 
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at com.intellij.rt.execution.application.AppMain.main(AppMain.java:78)

---

Line 102 is present in the block of code in my program as such

----
while(rs.next()){
lucDoc = new Document();
lucDoc.add(Field.Keyword("conceptId",rs.getString("CONCEPTID")));
lucDoc.add(Field.Text("term",rs.getString("TERM")));
lucDoc.add(Field.UnIndexed("descriptionType",rs.getString("DESCRIPTIONTYPE")));

indexWriter.addDocument(lucDoc); --- problem line 102
}

rs.close();
closeIndexWriter();


----

If I limit Step 1 to execute 10000 records then the program runs fine 
and theres no problem. However I need to index the entire table either 
as a single query or an incremental query.

Can someone please help me with these problems.

Thanks
Rahil

--------------010905020905010807010402--

From java-user-return-20752-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 19 14:06:39 2006
Return-Path: <java-user-return-20752-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41725 invoked from network); 19 May 2006 14:06:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2006 14:06:39 -0000
Received: (qmail 85027 invoked by uid 500); 19 May 2006 14:06:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85001 invoked by uid 500); 19 May 2006 14:06:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84990 invoked by uid 99); 19 May 2006 14:06:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 07:06:32 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 07:06:29 -0700
Received: from localhost ([127.0.0.1] helo=talk.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1Fh5cH-0005wu-5d
	for java-user@lucene.apache.org; Fri, 19 May 2006 07:06:09 -0700
Message-ID: <4469840.post@talk.nabble.com>
Date: Fri, 19 May 2006 06:55:53 -0700 (PDT)
From: AsifTheManRahman <a4rahman@engmail.uwaterloo.ca>
To: java-user@lucene.apache.org
Subject: Analyzer question
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-Sender: a4rahman@engmail.uwaterloo.ca
X-Nabble-From: AsifTheManRahman <a4rahman@engmail.uwaterloo.ca>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I need to know how the following analyzers work:

Whitespace
Keyword

I am looking for an analyzer that will result in a hit if the string that is
queried appears in the document being searched. For example, if I am looking
for "A_B_C", then I want the analyzer to detect all of the following
patterns: XXXA_B_CXXX, A_B_C, A_B_CXXX, XXXA_B_C, where XXX can be any
character, string, etc.

I am using the Whitespace analyzer right now and it looks like it only
detects A_B_C when it appears in the document as a single string, i.e.
wrapped around by white spaces (which is what the Whitespace analyzer is
supposed to do, if I'm not mistaken). However, I have tried using the
Keyword Analyzer with 1.9.1 as well, but in vain. I would like to know how
exactly this analyzer would tokenize, say, the patterns mentioned above.

Besides, the KeywordAnalyzer I believe is only available in lucene 1.9.1,
but I prefer 1.4.3 in this case.

Is there any other analyzer that could probably serve my purpose? If not,
then I'm guessing I'll have to build my own. Since I am new to this kind of
stuff, I was wondering if anyone could give me a heads-on on how/where to
start.

Thanks in advance.
--
View this message in context: http://www.nabble.com/Analyzer+question-t1650271.html#a4469840
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20753-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 19 14:24:31 2006
Return-Path: <java-user-return-20753-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49947 invoked from network); 19 May 2006 14:24:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2006 14:24:31 -0000
Received: (qmail 31244 invoked by uid 500); 19 May 2006 14:24:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30892 invoked by uid 500); 19 May 2006 14:24:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30881 invoked by uid 99); 19 May 2006 14:24:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 07:24:25 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.55] (HELO web50301.mail.yahoo.com) (206.190.38.55)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 19 May 2006 07:24:24 -0700
Received: (qmail 84105 invoked by uid 60001); 19 May 2006 14:24:02 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=G/0eB0CB6GGys75Sa/SoE8MnNeC1YhqfYpzuLJlVLqx/KKxmd36YyQKSliygEwF/hTrR9GESqS5oIk7REc3EbC0gTBb8CCcQPw07tEvNFR+vfA8q04k2adzqNXxUeqONHo/gZBCSK3wmZoseTyjWAv4gQJyC2sVY5KvOO3zfKuU=  ;
Message-ID: <20060519142402.84098.qmail@web50301.mail.yahoo.com>
Date: Fri, 19 May 2006 07:24:02 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: OutOfMemory and IOException Access Denied errors
To: java-user@lucene.apache.org
In-Reply-To: <446DB9CB.5060206@cs.man.ac.uk>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

It's impossible to tell from the code you provided, but you are most likely just leaking memory/resources somewhere.  For example, ResultSet's and other DB operations should typically be placed in a try/catch/FINALLY block, where the finally block ensures all DB resources are closed/released.

Otis

----- Original Message ----
From: Rahil <qamarr@cs.man.ac.uk>
To: Lucene User Group <java-user@lucene.apache.org>
Sent: Friday, May 19, 2006 8:27:55 AM
Subject: OutOfMemory and IOException Access Denied errors

  Hi

I am new to Lucene so am perhaps missing something obvious. I have 
included Lucene 1.9.1 in my classpath and am trying to integrate it with 
MySQL.

I have a table which has near a million records in it. According to the 
documentation on Lucene I have read so far, my understanding is that I 
need to (1) make a connection with MySQL then (2) execute the query 
normally in SQL syntax. (3) Then pass the ResultSet to the method to 
create indexes. (4) I can then pass a queryString to the searchIndex() 
custom method to locate the queryString.

PROBLEMS:

(a) The first problem I had was when trying to execute the query on the 
million records table in Step 1. It resulted in an OutOfMemory error due 
to the size of the table. How can I get around this problem so that the 
query executes on the entire table at one time?

As a workaround, I limited the number of results to 100,000 which worked 
fine.

(b) But I then received an IOException when the index was being written 
to the Document object. The Exception stack trace is shown below:

---
Exception in thread "main" java.io.IOException: Access is denied
at java.io.WinNTFileSystem.createFileExclusively(Native Method)
at java.io.File.createNewFile(File.java:850)
at org.apache.lucene.store.FSDirectory$1.obtain(FSDirectory.java:324)
at org.apache.lucene.store.Lock.obtain(Lock.java:92)
at org.apache.lucene.store.Lock$With.run(Lock.java:147)
at org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:442)
at 
org.apache.lucene.index.IndexWriter.maybeMergeSegments(IndexWriter.java:401)
at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:260)
at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:244)
at man.ac.uk.most.LuceneIndex.indexResultSet(LuceneIndex.java:102) --- 
error line in my piece of code !
at man.ac.uk.most.LuceneIndex.main(LuceneIndex.java:40)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at 
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at 
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at com.intellij.rt.execution.application.AppMain.main(AppMain.java:78)

---

Line 102 is present in the block of code in my program as such

----
while(rs.next()){
lucDoc = new Document();
lucDoc.add(Field.Keyword("conceptId",rs.getString("CONCEPTID")));
lucDoc.add(Field.Text("term",rs.getString("TERM")));
lucDoc.add(Field.UnIndexed("descriptionType",rs.getString("DESCRIPTIONTYPE")));

indexWriter.addDocument(lucDoc); --- problem line 102
}

rs.close();
closeIndexWriter();


----

If I limit Step 1 to execute 10000 records then the program runs fine 
and theres no problem. However I need to index the entire table either 
as a single query or an incremental query.

Can someone please help me with these problems.

Thanks
Rahil




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20754-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 19 14:44:03 2006
Return-Path: <java-user-return-20754-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57669 invoked from network); 19 May 2006 14:44:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2006 14:44:03 -0000
Received: (qmail 75940 invoked by uid 500); 19 May 2006 14:43:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75909 invoked by uid 500); 19 May 2006 14:43:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75898 invoked by uid 99); 19 May 2006 14:43:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 07:43:56 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.75.234.2] (HELO smtpgate.saa-cons.co.uk) (194.75.234.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 07:43:55 -0700
Received: (from uucp@localhost)
	by smtpgate.saa-cons.co.uk (8.8.8/8.8.8) id PAA18226
	for <java-user@lucene.apache.org>; Fri, 19 May 2006 15:43:29 +0100 (BST)
	(envelope-from Paul.Illingworth@saaconsultants.com)
Received: from domino-mail.saa-cons.co.uk(10.10.10.4) by smtpgate.saa-cons.co.uk via smap (V2.1)
	id xma018216; Fri, 19 May 06 15:43:06 +0100
In-Reply-To: <20060519142402.84098.qmail@web50301.mail.yahoo.com>
Subject: Re: OutOfMemory and IOException Access Denied errors
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5.4 March 27, 2005
Message-ID: <OFDEFE804C.D1CED810-ON80257173.00505150-80257173.0050D427@SAAConsultants.com>
From: Paul.Illingworth@saaconsultants.com
Date: Fri, 19 May 2006 15:43:09 +0100
X-MIMETrack: Serialize by Router on domino-mail/Saa(Release 6.5.1|January 21, 2004) at
 19/05/2006 15:43:10
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N






I guess you are executing your SQL and getting the whole result set. There
are options on the JDBC Statement class that can be used for controlling
the fetch size - by using these you should be able to limit the amount of
data returned from the database so you don't get OOM. I haven't used these
so I am guessing a little.  Are you pulling the whole result set into
memory and then adding it to your index or are you iterating through result
set adding one entry at a time to your index? The latter would be better.
There is also something called DBSight (that I know very little about) but
it seems to do exactly what you are trying to do.

Regards

Paul I.


                                                                           
             Otis Gospodnetic                                              
             <otis_gospodnetic                                             
             @yahoo.com>                                                To 
                                       java-user@lucene.apache.org         
             19/05/2006 15:24                                           cc 
                                                                           
                                                                   Subject 
             Please respond to         Re: OutOfMemory and IOException     
             java-user@lucene.         Access Denied errors                
                apache.org                                                 
                                                                           
                                                                           
                                                                           
                                                                           
                                                                           




It's impossible to tell from the code you provided, but you are most likely
just leaking memory/resources somewhere.  For example, ResultSet's and
other DB operations should typically be placed in a try/catch/FINALLY
block, where the finally block ensures all DB resources are
closed/released.

Otis

----- Original Message ----
From: Rahil <qamarr@cs.man.ac.uk>
To: Lucene User Group <java-user@lucene.apache.org>
Sent: Friday, May 19, 2006 8:27:55 AM
Subject: OutOfMemory and IOException Access Denied errors

  Hi

I am new to Lucene so am perhaps missing something obvious. I have
included Lucene 1.9.1 in my classpath and am trying to integrate it with
MySQL.

I have a table which has near a million records in it. According to the
documentation on Lucene I have read so far, my understanding is that I
need to (1) make a connection with MySQL then (2) execute the query
normally in SQL syntax. (3) Then pass the ResultSet to the method to
create indexes. (4) I can then pass a queryString to the searchIndex()
custom method to locate the queryString.

PROBLEMS:

(a) The first problem I had was when trying to execute the query on the
million records table in Step 1. It resulted in an OutOfMemory error due
to the size of the table. How can I get around this problem so that the
query executes on the entire table at one time?

As a workaround, I limited the number of results to 100,000 which worked
fine.

(b) But I then received an IOException when the index was being written
to the Document object. The Exception stack trace is shown below:

---
Exception in thread "main" java.io.IOException: Access is denied
at java.io.WinNTFileSystem.createFileExclusively(Native Method)
at java.io.File.createNewFile(File.java:850)
at org.apache.lucene.store.FSDirectory$1.obtain(FSDirectory.java:324)
at org.apache.lucene.store.Lock.obtain(Lock.java:92)
at org.apache.lucene.store.Lock$With.run(Lock.java:147)
at org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:442)
at
org.apache.lucene.index.IndexWriter.maybeMergeSegments(IndexWriter.java:401)

at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:260)
at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:244)
at man.ac.uk.most.LuceneIndex.indexResultSet(LuceneIndex.java:102) ---
error line in my piece of code !
at man.ac.uk.most.LuceneIndex.main(LuceneIndex.java:40)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)

at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)

at java.lang.reflect.Method.invoke(Method.java:585)
at com.intellij.rt.execution.application.AppMain.main(AppMain.java:78)

---

Line 102 is present in the block of code in my program as such

----
while(rs.next()){
lucDoc = new Document();
lucDoc.add(Field.Keyword("conceptId",rs.getString("CONCEPTID")));
lucDoc.add(Field.Text("term",rs.getString("TERM")));
lucDoc.add(Field.UnIndexed("descriptionType",rs.getString("DESCRIPTIONTYPE")));


indexWriter.addDocument(lucDoc); --- problem line 102
}

rs.close();
closeIndexWriter();


----

If I limit Step 1 to execute 10000 records then the program runs fine
and theres no problem. However I need to index the entire table either
as a single query or an incremental query.

Can someone please help me with these problems.

Thanks
Rahil




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20755-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 19 14:59:49 2006
Return-Path: <java-user-return-20755-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63971 invoked from network); 19 May 2006 14:59:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2006 14:59:49 -0000
Received: (qmail 10859 invoked by uid 500); 19 May 2006 14:59:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10651 invoked by uid 500); 19 May 2006 14:59:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10640 invoked by uid 99); 19 May 2006 14:59:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 07:59:42 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 64.233.182.186 as permitted sender)
Received: from [64.233.182.186] (HELO nf-out-0910.google.com) (64.233.182.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 07:59:41 -0700
Received: by nf-out-0910.google.com with SMTP id a4so72347nfc
        for <java-user@lucene.apache.org>; Fri, 19 May 2006 07:59:18 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=PWe2EoJ97oxysAWfZZ8F4Vj/x58AgwSODhjXsWOMt2oDtOeAr7tmSVVOepffrGqt3NsuEARVCq1WE2EwjiRcrzaTq14BdVi5/iupGkLmxB/msmsaXLWKY81Wj7pdETVQCpT/Ux1jGcYpWHhBJsuCHoPLvNK4WQ9rk24UjM4Pr6Q=
Received: by 10.49.10.13 with SMTP id n13mr1513777nfi;
        Fri, 19 May 2006 07:59:18 -0700 (PDT)
Received: by 10.48.203.2 with HTTP; Fri, 19 May 2006 07:59:18 -0700 (PDT)
Message-ID: <50f433360605190759i210366c9i14e1a9019b5999fe@mail.gmail.com>
Date: Fri, 19 May 2006 07:59:18 -0700
From: "Jeff Rodenburg" <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Analyzer question
In-Reply-To: <4469840.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_54592_12615772.1148050758224"
References: <4469840.post@talk.nabble.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_54592_12615772.1148050758224
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

The Keyword analyzer does no stemming or input modification of any sort:
think of it as WYSIWYG for index population.  The Whitespace analyzer simpl=
y
removes spaces from your input (still no stemming), but the tokens are the
individual words.  I don't have the code in front of me, so I'm not sure if
the Whitespace analyzer uses a LowerCaseTokenizer or not.  Analyzers don't
break on partial terms; they may take a term and break it down further, but
the starting point is the term itself.

The analyzer won't detect the patterns -- it's your query.  You'll want to
look at WildcardQuery and/or PhraseQuery.  Given the sequences you've liste=
d
as matches, you'll have to experiment with indexing to meet those
scenarios.  Start there and that should give you a better idea of what you
need from your analyzer.

Hope this helps.

-- j

On 5/19/06, AsifTheManRahman <a4rahman@engmail.uwaterloo.ca> wrote:
>
>
> I need to know how the following analyzers work:
>
> Whitespace
> Keyword
>
> I am looking for an analyzer that will result in a hit if the string that
> is
> queried appears in the document being searched. For example, if I am
> looking
> for "A_B_C", then I want the analyzer to detect all of the following
> patterns: XXXA_B_CXXX, A_B_C, A_B_CXXX, XXXA_B_C, where XXX can be any
> character, string, etc.
>
> I am using the Whitespace analyzer right now and it looks like it only
> detects A_B_C when it appears in the document as a single string, i.e.
> wrapped around by white spaces (which is what the Whitespace analyzer is
> supposed to do, if I'm not mistaken). However, I have tried using the
> Keyword Analyzer with 1.9.1 as well, but in vain. I would like to know ho=
w
> exactly this analyzer would tokenize, say, the patterns mentioned above.
>
> Besides, the KeywordAnalyzer I believe is only available in lucene 1.9.1,
> but I prefer 1.4.3 in this case.
>
> Is there any other analyzer that could probably serve my purpose? If not,
> then I'm guessing I'll have to build my own. Since I am new to this kind
> of
> stuff, I was wondering if anyone could give me a heads-on on how/where to
> start.
>
> Thanks in advance.
> --
> View this message in context:
> http://www.nabble.com/Analyzer+question-t1650271.html#a4469840
> Sent from the Lucene - Java Users forum at Nabble.com.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_54592_12615772.1148050758224--

From java-user-return-20756-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 19 15:56:42 2006
Return-Path: <java-user-return-20756-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87032 invoked from network); 19 May 2006 15:56:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2006 15:56:41 -0000
Received: (qmail 17338 invoked by uid 500); 19 May 2006 15:56:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17311 invoked by uid 500); 19 May 2006 15:56:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17299 invoked by uid 99); 19 May 2006 15:56:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 08:56:35 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [130.88.192.208] (HELO t8.cs.man.ac.uk) (130.88.192.208)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 08:56:33 -0700
Received: from cspool52 ([130.88.195.152])
	by t8 with esmtp (Exim 4.14)
	id 1Fh7KJ-0002sw-TU
	for java-user@lucene.apache.org; Fri, 19 May 2006 16:55:43 +0100
Message-ID: <446DEA68.4070506@cs.man.ac.uk>
Date: Fri, 19 May 2006 16:55:20 +0100
From: Rahil <qamarr@cs.man.ac.uk>
Reply-To:  qamarr@cs.man.ac.uk
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.2) Gecko/20040804 Netscape/7.2 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: OutOfMemory and IOException Access Denied errors
References: <OFDEFE804C.D1CED810-ON80257173.00505150-80257173.0050D427@SAAConsultants.com>
In-Reply-To: <OFDEFE804C.D1CED810-ON80257173.00505150-80257173.0050D427@SAAConsultants.com>
Content-Type: multipart/alternative;
 boundary="------------070701000009090704050602"
X-Spam-Score: -2.1 (--)
X-Scanner: exiscan for exim4 (http://duncanthrax.net/exiscan/) *1Fh7KJ-0002sw-TU*8z64duy0c5U*
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------070701000009090704050602
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Thanks Paul and Otis

I basically applied the same mechanism used in creating indexes in MySQL 
to Lucene. So I didnt use any fetchSize. But Ill implement it now and 
see how it performs. Will also look into DBSight.

However when executing the query by limiting the result set to 100000 
the query executed fine but it led to an IOException in the Lucene index 
creation. I might be wrong but I think that this IOException has nothing 
to do with the MySQL code but rather with the inclusion of the Document 
object to the index. Im attaching a bit more of my code below.

-------

The main method has the following method calls :

        //establish a connection with MySQL
        Connection conn  = lucene.connectMySQL();

        //run SQL query
        ResultSet rs = lucene.executeQuery(conn);

        //build the index
        lucene.indexResultSet(rs);

private ResultSet executeQuery(Connection conn) {

        ResultSet resultSet = null;
        System.out.println("Executing query...");

        try {
            String sql = "SELECT CONCEPTID, TERM, DESCRIPTIONTYPE FROM 
sct_descriptions_20050731 limit 10000";
            PreparedStatement stmt = conn.prepareStatement(sql);
            resultSet = stmt.executeQuery();
        } catch (SQLException e) {
            e.printStackTrace();
        }
        return resultSet;
    }

private IndexWriter getIndexWriter(boolean create) throws IOException{

        if(indexWriter == null)
            indexWriter = new IndexWriter(asksPath+"index",new 
StandardAnalyzer(),create);

        return indexWriter;
    }
private void indexResultSet(ResultSet rs) throws IOException{

        Document lucDoc = null;
      
        indexWriter = getIndexWriter(true); //problem when I set it to 
'false'. Theres a javacc error which does not appear once I delete all 
the files in the 'index' directory and set the flag to 'true'
        System.out.println("Starting to Index resultset ...");
        try {
            while(rs.next()){
                lucDoc = new Document();
                
lucDoc.add(Field.Keyword("conceptId",rs.getString("CONCEPTID")));
                lucDoc.add(Field.Text("term",rs.getString("TERM")));
                
lucDoc.add(Field.UnIndexed("descriptionType",rs.getString("DESCRIPTIONTYPE")));

                indexWriter.addDocument(lucDoc);
            }

            rs.close();
            closeIndexWriter();

            //System.out.println("Completed indexing resultset");

        } catch (SQLException e) {
            e.printStackTrace();
        }

    }


--------

Thanks for all your help

Rahil



Paul.Illingworth@saaconsultants.com wrote:

>
>
>
>I guess you are executing your SQL and getting the whole result set. There
>are options on the JDBC Statement class that can be used for controlling
>the fetch size - by using these you should be able to limit the amount of
>data returned from the database so you don't get OOM. I haven't used these
>so I am guessing a little.  Are you pulling the whole result set into
>memory and then adding it to your index or are you iterating through result
>set adding one entry at a time to your index? The latter would be better.
>There is also something called DBSight (that I know very little about) but
>it seems to do exactly what you are trying to do.
>
>Regards
>
>Paul I.
>
>
>                                                                           
>             Otis Gospodnetic                                              
>             <otis_gospodnetic                                             
>             @yahoo.com>                                                To 
>                                       java-user@lucene.apache.org         
>             19/05/2006 15:24                                           cc 
>                                                                           
>                                                                   Subject 
>             Please respond to         Re: OutOfMemory and IOException     
>             java-user@lucene.         Access Denied errors                
>                apache.org                                                 
>                                                                           
>                                                                           
>                                                                           
>                                                                           
>                                                                           
>
>
>
>
>It's impossible to tell from the code you provided, but you are most likely
>just leaking memory/resources somewhere.  For example, ResultSet's and
>other DB operations should typically be placed in a try/catch/FINALLY
>block, where the finally block ensures all DB resources are
>closed/released.
>
>Otis
>
>----- Original Message ----
>From: Rahil <qamarr@cs.man.ac.uk>
>To: Lucene User Group <java-user@lucene.apache.org>
>Sent: Friday, May 19, 2006 8:27:55 AM
>Subject: OutOfMemory and IOException Access Denied errors
>
>  Hi
>
>I am new to Lucene so am perhaps missing something obvious. I have
>included Lucene 1.9.1 in my classpath and am trying to integrate it with
>MySQL.
>
>I have a table which has near a million records in it. According to the
>documentation on Lucene I have read so far, my understanding is that I
>need to (1) make a connection with MySQL then (2) execute the query
>normally in SQL syntax. (3) Then pass the ResultSet to the method to
>create indexes. (4) I can then pass a queryString to the searchIndex()
>custom method to locate the queryString.
>
>PROBLEMS:
>
>(a) The first problem I had was when trying to execute the query on the
>million records table in Step 1. It resulted in an OutOfMemory error due
>to the size of the table. How can I get around this problem so that the
>query executes on the entire table at one time?
>
>As a workaround, I limited the number of results to 100,000 which worked
>fine.
>
>(b) But I then received an IOException when the index was being written
>to the Document object. The Exception stack trace is shown below:
>
>---
>Exception in thread "main" java.io.IOException: Access is denied
>at java.io.WinNTFileSystem.createFileExclusively(Native Method)
>at java.io.File.createNewFile(File.java:850)
>at org.apache.lucene.store.FSDirectory$1.obtain(FSDirectory.java:324)
>at org.apache.lucene.store.Lock.obtain(Lock.java:92)
>at org.apache.lucene.store.Lock$With.run(Lock.java:147)
>at org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:442)
>at
>org.apache.lucene.index.IndexWriter.maybeMergeSegments(IndexWriter.java:401)
>
>at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:260)
>at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:244)
>at man.ac.uk.most.LuceneIndex.indexResultSet(LuceneIndex.java:102) ---
>error line in my piece of code !
>at man.ac.uk.most.LuceneIndex.main(LuceneIndex.java:40)
>at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
>at
>sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
>
>at
>sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
>
>at java.lang.reflect.Method.invoke(Method.java:585)
>at com.intellij.rt.execution.application.AppMain.main(AppMain.java:78)
>
>---
>
>Line 102 is present in the block of code in my program as such
>
>----
>while(rs.next()){
>lucDoc = new Document();
>lucDoc.add(Field.Keyword("conceptId",rs.getString("CONCEPTID")));
>lucDoc.add(Field.Text("term",rs.getString("TERM")));
>lucDoc.add(Field.UnIndexed("descriptionType",rs.getString("DESCRIPTIONTYPE")));
>
>
>indexWriter.addDocument(lucDoc); --- problem line 102
>}
>
>rs.close();
>closeIndexWriter();
>
>
>----
>
>If I limit Step 1 to execute 10000 records then the program runs fine
>and theres no problem. However I need to index the entire table either
>as a single query or an incremental query.
>
>Can someone please help me with these problems.
>
>Thanks
>Rahil
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>  
>

/


--------------070701000009090704050602--

From java-user-return-20757-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 19 16:04:43 2006
Return-Path: <java-user-return-20757-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89876 invoked from network); 19 May 2006 16:04:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2006 16:04:43 -0000
Received: (qmail 36706 invoked by uid 500); 19 May 2006 16:04:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36680 invoked by uid 500); 19 May 2006 16:04:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36668 invoked by uid 99); 19 May 2006 16:04:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 09:04:37 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_MESSAGE,MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of tremerson@gmail.com designates 64.233.162.200 as permitted sender)
Received: from [64.233.162.200] (HELO nz-out-0102.google.com) (64.233.162.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 09:04:36 -0700
Received: by nz-out-0102.google.com with SMTP id o37so724432nzf
        for <java-user@lucene.apache.org>; Fri, 19 May 2006 09:04:15 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=f9RhoypCrRu2Vzbxs1ABTt09iLzQb9zXNXdGVKRS5/GL28irsBTSKLg3y1KhHsY6l5NZQe19/2oMDEh6w/jCD/nrmvgRhWxA7eojxFvDk1u5mbEk4U3Zr7+PgpALl3FQGJtuTT5nOrxLixXKpexOPucT983XiVssJVlVat13Vrg=
Received: by 10.36.145.3 with SMTP id s3mr2277236nzd;
        Fri, 19 May 2006 09:04:15 -0700 (PDT)
Received: by 10.36.129.11 with HTTP; Fri, 19 May 2006 09:04:15 -0700 (PDT)
Message-ID: <cefddd100605190904l54996345j9d9bc5647d5007d@mail.gmail.com>
Date: Fri, 19 May 2006 12:04:15 -0400
From: "Tom Emerson" <tremerson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: How are results merged from a multisearcher?
In-Reply-To: <200605182344.29708@danielnaber.de>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_22923_7200441.1148054655277"
References: <cefddd100605180910t9bac60axfe4fcb50972bfb7c@mail.gmail.com>
	 <200605182250.40962@danielnaber.de>
	 <cefddd100605181426tde8296fw7419928232bb8b3d@mail.gmail.com>
	 <200605182344.29708@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_22923_7200441.1148054655277
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: base64
Content-Disposition: inline

RGFuaWVsLAoKVGhhbmtzIGZvciB0aGUgY2xhcmlmaWNhdGlvbi4gV2hhdCB0aGVuIGlzIHRoZSBk
aWZmZXJlbmNlIGJldHdlZW4gYQpNdWx0aVNlYXJjaGVyIGFuZCB1c2luZyBhbiBJbmRleFNlYXJj
aGVyIG9uIGEgTXVsdGlSZWFkZXI/CgpPbiA1LzE4LzA2LCBEYW5pZWwgTmFiZXIgPGx1Y2VuZWxp
c3QyMDA1QGRhbmllbG5hYmVyLmRlPiB3cm90ZToKPgo+IE9uIERvbm5lcnN0YWcgMTggTWFpIDIw
MDYgMjM6MjYsIFRvbSBFbWVyc29uIHdyb3RlOgo+Cj4gPiBPSywgYnV0IHdoYXQgZG9lcyAibWVy
Z2VkIGNvcnJlY3RseSIgbWVhbj8KPgo+IEkgYXNzdW1lIGl0IG1lYW5zOiBxdWVyeWluZyBvdmVy
IHNldmVyYWwgaW5kaWNlcyBnaXZlcyB0aGUgc2FtZSByYW5raW5nIGFzCj4gaWYgdGhlIGRvY3Vt
ZW50cyB3ZXJlIGluIG9uZSBpbmRleC4KPgo+IFJlZ2FyZHMKPiBEYW5pZWwKPgo+IC0tCj4gaHR0
cDovL3d3dy5kYW5pZWxuYWJlci5kZQo+Cj4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCj4gVG8gdW5zdWJzY3JpYmUs
IGUtbWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnCj4gRm9yIGFk
ZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogamF2YS11c2VyLWhlbHBAbHVjZW5lLmFwYWNoZS5v
cmcKPgo+CgoKLS0gClRvbSBFbWVyc29uCnRyZW1lcnNvbkBnbWFpbC5jb20KaHR0cDovL3d3dy5k
cmVhbWVyc3JlYWxtLm5ldC9+dHJlZQo=
------=_Part_22923_7200441.1148054655277--

From java-user-return-20758-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 19 16:29:00 2006
Return-Path: <java-user-return-20758-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97275 invoked from network); 19 May 2006 16:29:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2006 16:29:00 -0000
Received: (qmail 73308 invoked by uid 500); 19 May 2006 16:28:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73278 invoked by uid 500); 19 May 2006 16:28:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73267 invoked by uid 99); 19 May 2006 16:28:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 09:28:53 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [38.99.0.71] (HELO mail.guba.com) (38.99.0.71)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 09:28:51 -0700
Received: (qmail 6090 invoked from network); 19 May 2006 16:28:30 -0000
Received: from dsl093-171-034.sfo4.dsl.speakeasy.net (HELO ?192.168.213.92?) (smtp@66.93.171.34)
  by mail.guba.com with ESMTPA; 19 May 2006 16:28:30 -0000
From: Dennis Watson <dennis@guba.com>
Organization: Guba.com
To: java-user@lucene.apache.org
Subject: Re: OutOfMemory and IOException Access Denied errors
Date: Fri, 19 May 2006 09:34:16 -0700
User-Agent: KMail/1.8.2
Cc: Rahil <qamarr@cs.man.ac.uk>
References: <OFDEFE804C.D1CED810-ON80257173.00505150-80257173.0050D427@SAAConsultants.com> <446DEA68.4070506@cs.man.ac.uk>
In-Reply-To: <446DEA68.4070506@cs.man.ac.uk>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605190934.16475.dennis@guba.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Rahil,

Your out of memory error is likely due to a mysql bug outlined here:

   http://bugs.mysql.com/bug.php?id=7698

There is a work around presented in the article.  I have been able to select 
large datasets from mysql while indexing by using the SQL_BIG_RESULT hint in 
mysql and pumping up the max heap size on the java side via -Xmx 2048M.

I am not sure about the IOException except perhaps there is a stale lock file 
or otherwise corrupted index?


Dennis


On Friday 19 May 2006 08:55, Rahil wrote:
> Thanks Paul and Otis
>
> I basically applied the same mechanism used in creating indexes in MySQL
> to Lucene. So I didnt use any fetchSize. But Ill implement it now and
> see how it performs. Will also look into DBSight.
>
> However when executing the query by limiting the result set to 100000
> the query executed fine but it led to an IOException in the Lucene index
> creation. I might be wrong but I think that this IOException has nothing
> to do with the MySQL code but rather with the inclusion of the Document
> object to the index. Im attaching a bit more of my code below.
>
> -------
>
> The main method has the following method calls :
>
>         //establish a connection with MySQL
>         Connection conn  = lucene.connectMySQL();
>
>         //run SQL query
>         ResultSet rs = lucene.executeQuery(conn);
>
>         //build the index
>         lucene.indexResultSet(rs);
>
> private ResultSet executeQuery(Connection conn) {
>
>         ResultSet resultSet = null;
>         System.out.println("Executing query...");
>
>         try {
>             String sql = "SELECT CONCEPTID, TERM, DESCRIPTIONTYPE FROM
> sct_descriptions_20050731 limit 10000";
>             PreparedStatement stmt = conn.prepareStatement(sql);
>             resultSet = stmt.executeQuery();
>         } catch (SQLException e) {
>             e.printStackTrace();
>         }
>         return resultSet;
>     }
>
> private IndexWriter getIndexWriter(boolean create) throws IOException{
>
>         if(indexWriter == null)
>             indexWriter = new IndexWriter(asksPath+"index",new
> StandardAnalyzer(),create);
>
>         return indexWriter;
>     }
> private void indexResultSet(ResultSet rs) throws IOException{
>
>         Document lucDoc = null;
>
>         indexWriter = getIndexWriter(true); //problem when I set it to
> 'false'. Theres a javacc error which does not appear once I delete all
> the files in the 'index' directory and set the flag to 'true'
>         System.out.println("Starting to Index resultset ...");
>         try {
>             while(rs.next()){
>                 lucDoc = new Document();
>
> lucDoc.add(Field.Keyword("conceptId",rs.getString("CONCEPTID")));
>                 lucDoc.add(Field.Text("term",rs.getString("TERM")));
>
> lucDoc.add(Field.UnIndexed("descriptionType",rs.getString("DESCRIPTIONTYPE"
>)));
>
>                 indexWriter.addDocument(lucDoc);
>             }
>
>             rs.close();
>             closeIndexWriter();
>
>             //System.out.println("Completed indexing resultset");
>
>         } catch (SQLException e) {
>             e.printStackTrace();
>         }
>
>     }
>
>
> --------
>
> Thanks for all your help
>
> Rahil
>
> Paul.Illingworth@saaconsultants.com wrote:
> >I guess you are executing your SQL and getting the whole result set. There
> >are options on the JDBC Statement class that can be used for controlling
> >the fetch size - by using these you should be able to limit the amount of
> >data returned from the database so you don't get OOM. I haven't used these
> >so I am guessing a little.  Are you pulling the whole result set into
> >memory and then adding it to your index or are you iterating through
> > result set adding one entry at a time to your index? The latter would be
> > better. There is also something called DBSight (that I know very little
> > about) but it seems to do exactly what you are trying to do.
> >
> >Regards
> >
> >Paul I.
> >
> >
> >
> >             Otis Gospodnetic
> >             <otis_gospodnetic
> >             @yahoo.com>                                                To
> >                                       java-user@lucene.apache.org
> >             19/05/2006 15:24                                           cc
> >
> >                                                                   Subject
> >             Please respond to         Re: OutOfMemory and IOException
> >             java-user@lucene.         Access Denied errors
> >                apache.org
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >It's impossible to tell from the code you provided, but you are most
> > likely just leaking memory/resources somewhere.  For example, ResultSet's
> > and other DB operations should typically be placed in a try/catch/FINALLY
> > block, where the finally block ensures all DB resources are
> >closed/released.
> >
> >Otis
> >
> >----- Original Message ----
> >From: Rahil <qamarr@cs.man.ac.uk>
> >To: Lucene User Group <java-user@lucene.apache.org>
> >Sent: Friday, May 19, 2006 8:27:55 AM
> >Subject: OutOfMemory and IOException Access Denied errors
> >
> >  Hi
> >
> >I am new to Lucene so am perhaps missing something obvious. I have
> >included Lucene 1.9.1 in my classpath and am trying to integrate it with
> >MySQL.
> >
> >I have a table which has near a million records in it. According to the
> >documentation on Lucene I have read so far, my understanding is that I
> >need to (1) make a connection with MySQL then (2) execute the query
> >normally in SQL syntax. (3) Then pass the ResultSet to the method to
> >create indexes. (4) I can then pass a queryString to the searchIndex()
> >custom method to locate the queryString.
> >
> >PROBLEMS:
> >
> >(a) The first problem I had was when trying to execute the query on the
> >million records table in Step 1. It resulted in an OutOfMemory error due
> >to the size of the table. How can I get around this problem so that the
> >query executes on the entire table at one time?
> >
> >As a workaround, I limited the number of results to 100,000 which worked
> >fine.
> >
> >(b) But I then received an IOException when the index was being written
> >to the Document object. The Exception stack trace is shown below:
> >
> >---
> >Exception in thread "main" java.io.IOException: Access is denied
> >at java.io.WinNTFileSystem.createFileExclusively(Native Method)
> >at java.io.File.createNewFile(File.java:850)
> >at org.apache.lucene.store.FSDirectory$1.obtain(FSDirectory.java:324)
> >at org.apache.lucene.store.Lock.obtain(Lock.java:92)
> >at org.apache.lucene.store.Lock$With.run(Lock.java:147)
> >at org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:442)
> >at
> >org.apache.lucene.index.IndexWriter.maybeMergeSegments(IndexWriter.java:40
> >1)
> >
> >at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:260)
> >at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:244)
> >at man.ac.uk.most.LuceneIndex.indexResultSet(LuceneIndex.java:102) ---
> >error line in my piece of code !
> >at man.ac.uk.most.LuceneIndex.main(LuceneIndex.java:40)
> >at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
> >at
> >sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:
> >39)
> >
> >at
> >sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorIm
> >pl.java:25)
> >
> >at java.lang.reflect.Method.invoke(Method.java:585)
> >at com.intellij.rt.execution.application.AppMain.main(AppMain.java:78)
> >
> >---
> >
> >Line 102 is present in the block of code in my program as such
> >
> >----
> >while(rs.next()){
> >lucDoc = new Document();
> >lucDoc.add(Field.Keyword("conceptId",rs.getString("CONCEPTID")));
> >lucDoc.add(Field.Text("term",rs.getString("TERM")));
> >lucDoc.add(Field.UnIndexed("descriptionType",rs.getString("DESCRIPTIONTYPE
> >")));
> >
> >
> >indexWriter.addDocument(lucDoc); --- problem line 102
> >}
> >
> >rs.close();
> >closeIndexWriter();
> >
> >
> >----
> >
> >If I limit Step 1 to execute 10000 records then the program runs fine
> >and theres no problem. However I need to index the entire table either
> >as a single query or an incremental query.
> >
> >Can someone please help me with these problems.
> >
> >Thanks
> >Rahil
> >
> >
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >For additional commands, e-mail: java-user-help@lucene.apache.org
>
> /

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20759-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 19 17:20:11 2006
Return-Path: <java-user-return-20759-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13264 invoked from network); 19 May 2006 17:20:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2006 17:20:11 -0000
Received: (qmail 54558 invoked by uid 500); 19 May 2006 17:20:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54529 invoked by uid 500); 19 May 2006 17:20:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54518 invoked by uid 99); 19 May 2006 17:20:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 10:20:04 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [130.88.192.208] (HELO t8.cs.man.ac.uk) (130.88.192.208)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 10:20:02 -0700
Received: from cspool52 ([130.88.195.152])
	by t8 with esmtp (Exim 4.14)
	id 1Fh8dA-0005BQ-4V
	for java-user@lucene.apache.org; Fri, 19 May 2006 18:19:16 +0100
Message-ID: <446DFDF9.5010401@cs.man.ac.uk>
Date: Fri, 19 May 2006 18:18:49 +0100
From: Rahil <qamarr@cs.man.ac.uk>
Reply-To:  qamarr@cs.man.ac.uk
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.2) Gecko/20040804 Netscape/7.2 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: OutOfMemory and IOException Access Denied errors
References: <OFDEFE804C.D1CED810-ON80257173.00505150-80257173.0050D427@SAAConsultants.com> <446DEA68.4070506@cs.man.ac.uk> <200605190934.16475.dennis@guba.com>
In-Reply-To: <200605190934.16475.dennis@guba.com>
Content-Type: multipart/alternative;
 boundary="------------040606060501000903060807"
X-Spam-Score: -2.3 (--)
X-Scanner: exiscan for exim4 (http://duncanthrax.net/exiscan/) *1Fh8dA-0005BQ-4V*MH77z4qp.SY*
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------040606060501000903060807
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

Hi Dennis

Dennis Watson wrote:

>Hi Rahil,
>
>Your out of memory error is likely due to a mysql bug outlined here:
>
>   http://bugs.mysql.com/bug.php?id=7698
>
>There is a work around presented in the article.  I have been able to select 
>large datasets from mysql while indexing by using the SQL_BIG_RESULT hint in 
>mysql and pumping up the max heap size on the java side via -Xmx 2048M.
>  
>
Thanks for the article. My query executed in no time without any errors !!!

>I am not sure about the IOException except perhaps there is a stale lock file 
>or otherwise corrupted index?
>  
>
Still getting this error. Ill have a read at some more documentation 
over the weekend and see if I can resolve this issue. In the meanwhile 
if you or anyone else comes up with a solution or suggestion that would 
be great.

Thanks again
Rahil

>
>Dennis
>
>
>On Friday 19 May 2006 08:55, Rahil wrote:
>  
>
>>Thanks Paul and Otis
>>
>>I basically applied the same mechanism used in creating indexes in MySQL
>>to Lucene. So I didnt use any fetchSize. But Ill implement it now and
>>see how it performs. Will also look into DBSight.
>>
>>However when executing the query by limiting the result set to 100000
>>the query executed fine but it led to an IOException in the Lucene index
>>creation. I might be wrong but I think that this IOException has nothing
>>to do with the MySQL code but rather with the inclusion of the Document
>>object to the index. Im attaching a bit more of my code below.
>>
>>-------
>>
>>The main method has the following method calls :
>>
>>        //establish a connection with MySQL
>>        Connection conn  = lucene.connectMySQL();
>>
>>        //run SQL query
>>        ResultSet rs = lucene.executeQuery(conn);
>>
>>        //build the index
>>        lucene.indexResultSet(rs);
>>
>>private ResultSet executeQuery(Connection conn) {
>>
>>        ResultSet resultSet = null;
>>        System.out.println("Executing query...");
>>
>>        try {
>>            String sql = "SELECT CONCEPTID, TERM, DESCRIPTIONTYPE FROM
>>sct_descriptions_20050731 limit 10000";
>>            PreparedStatement stmt = conn.prepareStatement(sql);
>>            resultSet = stmt.executeQuery();
>>        } catch (SQLException e) {
>>            e.printStackTrace();
>>        }
>>        return resultSet;
>>    }
>>
>>private IndexWriter getIndexWriter(boolean create) throws IOException{
>>
>>        if(indexWriter == null)
>>            indexWriter = new IndexWriter(asksPath+"index",new
>>StandardAnalyzer(),create);
>>
>>        return indexWriter;
>>    }
>>private void indexResultSet(ResultSet rs) throws IOException{
>>
>>        Document lucDoc = null;
>>
>>        indexWriter = getIndexWriter(true); //problem when I set it to
>>'false'. Theres a javacc error which does not appear once I delete all
>>the files in the 'index' directory and set the flag to 'true'
>>        System.out.println("Starting to Index resultset ...");
>>        try {
>>            while(rs.next()){
>>                lucDoc = new Document();
>>
>>lucDoc.add(Field.Keyword("conceptId",rs.getString("CONCEPTID")));
>>                lucDoc.add(Field.Text("term",rs.getString("TERM")));
>>
>>lucDoc.add(Field.UnIndexed("descriptionType",rs.getString("DESCRIPTIONTYPE"
>>)));
>>
>>                indexWriter.addDocument(lucDoc);
>>            }
>>
>>            rs.close();
>>            closeIndexWriter();
>>
>>            //System.out.println("Completed indexing resultset");
>>
>>        } catch (SQLException e) {
>>            e.printStackTrace();
>>        }
>>
>>    }
>>
>>
>>--------
>>
>>Thanks for all your help
>>
>>Rahil
>>
>>Paul.Illingworth@saaconsultants.com wrote:
>>    
>>
>>>I guess you are executing your SQL and getting the whole result set. There
>>>are options on the JDBC Statement class that can be used for controlling
>>>the fetch size - by using these you should be able to limit the amount of
>>>data returned from the database so you don't get OOM. I haven't used these
>>>so I am guessing a little.  Are you pulling the whole result set into
>>>memory and then adding it to your index or are you iterating through
>>>result set adding one entry at a time to your index? The latter would be
>>>better. There is also something called DBSight (that I know very little
>>>about) but it seems to do exactly what you are trying to do.
>>>
>>>Regards
>>>
>>>Paul I.
>>>
>>>
>>>
>>>            Otis Gospodnetic
>>>            <otis_gospodnetic
>>>            @yahoo.com>                                                To
>>>                                      java-user@lucene.apache.org
>>>            19/05/2006 15:24                                           cc
>>>
>>>                                                                  Subject
>>>            Please respond to         Re: OutOfMemory and IOException
>>>            java-user@lucene.         Access Denied errors
>>>               apache.org
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>It's impossible to tell from the code you provided, but you are most
>>>likely just leaking memory/resources somewhere.  For example, ResultSet's
>>>and other DB operations should typically be placed in a try/catch/FINALLY
>>>block, where the finally block ensures all DB resources are
>>>closed/released.
>>>
>>>Otis
>>>
>>>----- Original Message ----
>>>From: Rahil <qamarr@cs.man.ac.uk>
>>>To: Lucene User Group <java-user@lucene.apache.org>
>>>Sent: Friday, May 19, 2006 8:27:55 AM
>>>Subject: OutOfMemory and IOException Access Denied errors
>>>
>>> Hi
>>>
>>>I am new to Lucene so am perhaps missing something obvious. I have
>>>included Lucene 1.9.1 in my classpath and am trying to integrate it with
>>>MySQL.
>>>
>>>I have a table which has near a million records in it. According to the
>>>documentation on Lucene I have read so far, my understanding is that I
>>>need to (1) make a connection with MySQL then (2) execute the query
>>>normally in SQL syntax. (3) Then pass the ResultSet to the method to
>>>create indexes. (4) I can then pass a queryString to the searchIndex()
>>>custom method to locate the queryString.
>>>
>>>PROBLEMS:
>>>
>>>(a) The first problem I had was when trying to execute the query on the
>>>million records table in Step 1. It resulted in an OutOfMemory error due
>>>to the size of the table. How can I get around this problem so that the
>>>query executes on the entire table at one time?
>>>
>>>As a workaround, I limited the number of results to 100,000 which worked
>>>fine.
>>>
>>>(b) But I then received an IOException when the index was being written
>>>to the Document object. The Exception stack trace is shown below:
>>>
>>>---
>>>Exception in thread "main" java.io.IOException: Access is denied
>>>at java.io.WinNTFileSystem.createFileExclusively(Native Method)
>>>at java.io.File.createNewFile(File.java:850)
>>>at org.apache.lucene.store.FSDirectory$1.obtain(FSDirectory.java:324)
>>>at org.apache.lucene.store.Lock.obtain(Lock.java:92)
>>>at org.apache.lucene.store.Lock$With.run(Lock.java:147)
>>>at org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:442)
>>>at
>>>org.apache.lucene.index.IndexWriter.maybeMergeSegments(IndexWriter.java:40
>>>1)
>>>
>>>at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:260)
>>>at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:244)
>>>at man.ac.uk.most.LuceneIndex.indexResultSet(LuceneIndex.java:102) ---
>>>error line in my piece of code !
>>>at man.ac.uk.most.LuceneIndex.main(LuceneIndex.java:40)
>>>at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
>>>at
>>>sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:
>>>39)
>>>
>>>at
>>>sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorIm
>>>pl.java:25)
>>>
>>>at java.lang.reflect.Method.invoke(Method.java:585)
>>>at com.intellij.rt.execution.application.AppMain.main(AppMain.java:78)
>>>
>>>---
>>>
>>>Line 102 is present in the block of code in my program as such
>>>
>>>----
>>>while(rs.next()){
>>>lucDoc = new Document();
>>>lucDoc.add(Field.Keyword("conceptId",rs.getString("CONCEPTID")));
>>>lucDoc.add(Field.Text("term",rs.getString("TERM")));
>>>lucDoc.add(Field.UnIndexed("descriptionType",rs.getString("DESCRIPTIONTYPE
>>>")));
>>>
>>>
>>>indexWriter.addDocument(lucDoc); --- problem line 102
>>>}
>>>
>>>rs.close();
>>>closeIndexWriter();
>>>
>>>
>>>----
>>>
>>>If I limit Step 1 to execute 10000 records then the program runs fine
>>>and theres no problem. However I need to index the entire table either
>>>as a single query or an incremental query.
>>>
>>>Can someone please help me with these problems.
>>>
>>>Thanks
>>>Rahil
>>>
>>>
>>>
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>>
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>>      
>>>
>>/
>>    
>>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>  
>


--------------040606060501000903060807--

From java-user-return-20760-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 19 21:12:59 2006
Return-Path: <java-user-return-20760-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80341 invoked from network); 19 May 2006 21:12:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 May 2006 21:12:59 -0000
Received: (qmail 59987 invoked by uid 500); 19 May 2006 21:12:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59382 invoked by uid 500); 19 May 2006 21:12:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59371 invoked by uid 99); 19 May 2006 21:12:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 14:12:53 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 14:12:52 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 578655B770; Fri, 19 May 2006 14:12:32 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 549637F403
	for <java-user@lucene.apache.org>; Fri, 19 May 2006 14:12:32 -0700 (PDT)
Date: Fri, 19 May 2006 14:12:32 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene User Group <java-user@lucene.apache.org>
Subject: Re: Need some Advice on Searching
In-Reply-To: <a171080c0605190144s25f51b6cl9dcce7459832c0f6@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0605191400130.27909@hal.rescomp.berkeley.edu>
References: <a171080c0605190144s25f51b6cl9dcce7459832c0f6@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


i assume when you say this...

: 1. I need to temporarilly index sets of documents on the Fly say 100 at a
: Time.

you mean that you'll have lots of temporary indexes of a few hundrad
documents and then you'll do a bunch of queries and throw the index away.
Even if i'm wrong most of the rest of my advice will wtill be usefull, but
its' good to clarify.

: My problem is that for these queries I need to know which Documents hit. I
: also need to know which terms hit and if possible
: the location of the hits for each term in the hit Document.

knowing which docs match your is easy.  knowing where in a document a
particular term matches can be done using the TermPositions APIs ... but
it does you that info as a number of "terms" which for HTML content may be
confusing depending on how your analyzer deals with that HTML.

if you have complex boolean queries and you need to know which individual
pat of the query matched that's not really trivial.  you didn't mention
anything about "score" or "relevancy" in your email, so i'm guessing all
you care about is boolean "did it match or not" logic .. in that case
using Filters directly (without ever searching) is your friend.  You can
build a Filter for each individual clause, intersect/union the bitsets to
get the final set of matching documents for your whole query, but
inspect the individual bitsets to know he specifics about which ones match
which documents.

some people don't like Filters because of how much space they take up for
really large indexes, but if you've only got 100 docs ... there's no
reason not to use them


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20761-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 20 04:05:52 2006
Return-Path: <java-user-return-20761-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58701 invoked from network); 20 May 2006 04:05:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 May 2006 04:05:52 -0000
Received: (qmail 24510 invoked by uid 500); 20 May 2006 04:05:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24475 invoked by uid 500); 20 May 2006 04:05:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24464 invoked by uid 99); 20 May 2006 04:05:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 21:05:46 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of wouter@2at.nl designates 213.154.233.61 as permitted sender)
Received: from [213.154.233.61] (HELO kronos.2at.net) (213.154.233.61)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 21:05:46 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Scoring purely on term frequencies
Date: Sat, 20 May 2006 06:05:28 +0200
Message-ID: <B50FE8BF4F9CF24FB800E28DBB1A2FE026CE0F@gaia.2at.local>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Scoring purely on term frequencies
Thread-Index: AcZ7wqFdxW2gVEA0SAWo+JwdHF4M5A==
From: "W.H. van Atteveldt" <wouter@2at.nl>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dear list,

I am interested in using Lucene for analyzing documents based on
occurrence of certain keywords. As such, I am not interested in the
'top' or 'best' documents, but I do want to know exactly how many words
in the query matched.

Thus, instead of the complicated formula used by default, I really just
want to use Score(q,d) =3D Sum_{t in q} freq(q,d).

[Of course, if the query is "the man", I do not want to count 'the'
before man; since 'the' I think is a Term (right?), this does not quite
hold. I want to count every occurrence of the combination 'the man']

(a)
I tried extending a SimilarityDelegator(DefaultSimilarity) and make tf
return freq and coord,idf,*Norm return 1.0f. This worked but produced
scores like 0.61 (approx) and 0.5 where it should have returned 3 and 2
(on a simple test)

(b)=20
I suppose I could extend Similarity itself but the documentation is
quite sketchy on which methods are actually used, and something like
coord or idf is simply meaningless in my case. I could return 1.0 like
above but somehow it doesn't feel right. That said, I haven't tried it
yet :-)

(c)
I could skip the Searcher and directly use the IndexReader. With simple
term queries this is trivial and works as expected, but I would like to
be able to use "the man" and "the article"~3 style queries. I could go
ahead and look at the positions, but it seems like someone should
already have implemented this before. Can anyone point me in the
direction of something that gives me a frequency if I give it a query
(rather than a term).

Any help greatly appreciated!

Wouter

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20762-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 20 06:27:29 2006
Return-Path: <java-user-return-20762-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77778 invoked from network); 20 May 2006 06:27:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 May 2006 06:27:28 -0000
Received: (qmail 95027 invoked by uid 500); 20 May 2006 06:27:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94924 invoked by uid 500); 20 May 2006 06:27:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94912 invoked by uid 99); 20 May 2006 06:27:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 23:27:21 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dayzman@gmail.com designates 64.233.166.176 as permitted sender)
Received: from [64.233.166.176] (HELO py-out-1112.google.com) (64.233.166.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 23:27:21 -0700
Received: by py-out-1112.google.com with SMTP id c39so1025758pyd
        for <java-user@lucene.apache.org>; Fri, 19 May 2006 23:27:00 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=pXVrRRmm0WcfcRlOXBAPJvWi34RBLCX6o+L7dZhsM1S+PYGNqtTFQb9hHH8VAEwldRdwx9U6MdThXU4pDaGLiwES6ZRyPJQxv2fGW8ujkzBB8LcNTij3kr6rog4J0bb6JGkqPz12jQONDFJq7PAVJtyg/7mod85Hzvd7JDakjqM=
Received: by 10.35.31.14 with SMTP id i14mr417139pyj;
        Fri, 19 May 2006 23:27:00 -0700 (PDT)
Received: by 10.35.93.3 with HTTP; Fri, 19 May 2006 23:27:00 -0700 (PDT)
Message-ID: <429c032d0605192327m58d558dcuec041dec283314c3@mail.gmail.com>
Date: Sat, 20 May 2006 14:27:00 +0800
From: "Michael Chan" <dayzman@gmail.com>
To: java-user@lucene.apache.org
Subject: Matching at least N terms of subqueries
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Is there any way to make sure, e.g. at least 2, terms of a subquery
are contained in the results? For example, with the query
"OR(t1,t2,t3) AND OR(t4,t5,t6)", the docs returned must contain either
2 or more of (t2,t3,t3) and either 2 or more of (t4,t5,t6). I've read
about Similarity, but it seems to restrict over whole queries rather
than getting down into subqueries.

Thanks.

Michael

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20763-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 20 06:30:58 2006
Return-Path: <java-user-return-20763-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78010 invoked from network); 20 May 2006 06:30:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 May 2006 06:30:58 -0000
Received: (qmail 96778 invoked by uid 500); 20 May 2006 06:30:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96742 invoked by uid 500); 20 May 2006 06:30:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96731 invoked by uid 99); 20 May 2006 06:30:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 23:30:52 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 May 2006 23:30:51 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 3E8225B77B; Fri, 19 May 2006 23:30:24 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 335C37F403
	for <java-user@lucene.apache.org>; Fri, 19 May 2006 23:30:24 -0700 (PDT)
Date: Fri, 19 May 2006 23:30:24 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Matching at least N terms of subqueries
In-Reply-To: <429c032d0605192327m58d558dcuec041dec283314c3@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0605192329480.11603@hal.rescomp.berkeley.edu>
References: <429c032d0605192327m58d558dcuec041dec283314c3@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


take a look at BooleanQuery.setMinimumNumberShouldMatch(int)

: Date: Sat, 20 May 2006 14:27:00 +0800
: From: Michael Chan <dayzman@gmail.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: Matching at least N terms of subqueries
:
: Hi,
:
: Is there any way to make sure, e.g. at least 2, terms of a subquery
: are contained in the results? For example, with the query
: "OR(t1,t2,t3) AND OR(t4,t5,t6)", the docs returned must contain either
: 2 or more of (t2,t3,t3) and either 2 or more of (t4,t5,t6). I've read
: about Similarity, but it seems to restrict over whole queries rather
: than getting down into subqueries.
:
: Thanks.
:
: Michael
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20764-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 21 02:46:58 2006
Return-Path: <java-user-return-20764-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88018 invoked from network); 21 May 2006 02:46:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 May 2006 02:46:57 -0000
Received: (qmail 32060 invoked by uid 500); 21 May 2006 02:46:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32028 invoked by uid 500); 21 May 2006 02:46:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32017 invoked by uid 99); 21 May 2006 02:46:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 20 May 2006 19:46:52 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.177] (HELO hnexfe11.hetnet.nl) (195.121.6.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 20 May 2006 19:46:50 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe11.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Sun, 21 May 2006 04:46:26 +0200
Subject: TokenStream per Field instance?
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
Content-Type: text/plain
Organization: snigel heavy industries
Date: Sun, 21 May 2006 04:46:24 +0200
Message-Id: <1148179584.4761.85.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 21 May 2006 02:46:26.0332 (UTC) FILETIME=[C10F95C0:01C67C80]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

My software looks like this:

[Content]----- {0..* ordered} ->[Classification]
                                   tokenStreamFactory():TokenStream

I need to create a new Field for each Classification of MyDocument.

Every Classification can have an own tokenization scheme, and they will
in some cases use the same field name. 

I could not figure out a good way to send the tokens to Lucene, so I
stored the indexOf order as field value and look it up from my analyzer:

for (final Content content : contents) {
  Document doc = documentFactory();
  PerFieldsAnalyzer perFieldsAnalyzer = new PerFieldsAnalyzer();
  Analyzer classifierAnalyzer = new Analyzer() {
    public TokenStream tokenStream(String fn, final Reader r) {
    return new TokenStream() {
      TokenStream ts = null;
      public Token next() throws IOException {
        if (ts == null) {
          ts =
content.getClassifications().get(r.read()).tokenStreamFactory();
        }
        return ts.next();        
      }
    };
  };

  int cnt = 0;
  for (Classification c : myDocument) {
    doc.add(new Field(c.getFieldName(), new String(new char[]{cnt}, ...
    perFieldsAnalyzer.add(c.getFieldName(), clazzifierAnalyzer);
  }
  indexWriter.add(doc, perFieldsAnalyzer);

}

Do I have any alternatives?


What I really want is:
{
  for (Classification c : myDocument) {
    doc.add(new Field(c.getFieldName(), c.tokenStreamFactory()...
  }
  indexWriter.add(doc, perFieldsAnalyzer);
}





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20765-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 21 09:19:04 2006
Return-Path: <java-user-return-20765-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28926 invoked from network); 21 May 2006 09:19:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 May 2006 09:19:04 -0000
Received: (qmail 67927 invoked by uid 500); 21 May 2006 09:18:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67899 invoked by uid 500); 21 May 2006 09:18:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67888 invoked by uid 99); 21 May 2006 09:18:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 May 2006 02:18:57 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.143.78.232] (HELO xmail.me.corp.entopia.com) (212.143.78.232)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 May 2006 02:18:55 -0700
Subject: RE: Scoring purely on term frequencies
Date: Sun, 21 May 2006 12:18:32 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Message-ID: <39B0FB508E5D7540ACA5AD57225E150D41517B@xmail.me.corp.entopia.com>
Content-class: urn:content-classes:message
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Scoring purely on term frequencies
Thread-Index: AcZ7wqFdxW2gVEA0SAWo+JwdHF4M5AA8gEBw
From: "Ziv Gome" <zgome@entopia.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Wouter,

My thought would be to go for plan (b) (have not tested it though). This
would produce simply the sum of frequencies of the different terms (I'm
referring to a real multi-term query, not a phrase as you mentioned -
"the man" - which should work).=20
The problem I see is that it you loose the ability to use boosts (I
assume this is fine by you).=20

I don't see a problem here, (referring to "doesn't feel right"...) - you
simply want a different scoring - "just give me the damn frequency",
right? In that situation, you should disable all the idf, coord, norm
and sqrt manipulations that Lucene did in order to produce "smarter"
scores, which takes into account and balance other properties of the
query (different terms and their IDFs); the document (lengthNorm); the
index (IDF's); and behavior of frequencies (tf implementation as sqrt).
The frameworks makes these smarter adjustments possible, it does not
mean you need it in your case.=20

Ziv

=20

-----Original Message-----
From: W.H. van Atteveldt [mailto:wouter@2at.nl]=20
Sent: Saturday, May 20, 2006 7:05 AM
To: java-user@lucene.apache.org
Subject: Scoring purely on term frequencies

Dear list,

I am interested in using Lucene for analyzing documents based on
occurrence of certain keywords. As such, I am not interested in the
'top' or 'best' documents, but I do want to know exactly how many words
in the query matched.

Thus, instead of the complicated formula used by default, I really just
want to use Score(q,d) =3D Sum_{t in q} freq(q,d).

[Of course, if the query is "the man", I do not want to count 'the'
before man; since 'the' I think is a Term (right?), this does not quite
hold. I want to count every occurrence of the combination 'the man']

(a)
I tried extending a SimilarityDelegator(DefaultSimilarity) and make tf
return freq and coord,idf,*Norm return 1.0f. This worked but produced
scores like 0.61 (approx) and 0.5 where it should have returned 3 and 2
(on a simple test)

(b)=20
I suppose I could extend Similarity itself but the documentation is
quite sketchy on which methods are actually used, and something like
coord or idf is simply meaningless in my case. I could return 1.0 like
above but somehow it doesn't feel right. That said, I haven't tried it
yet :-)

(c)
I could skip the Searcher and directly use the IndexReader. With simple
term queries this is trivial and works as expected, but I would like to
be able to use "the man" and "the article"~3 style queries. I could go
ahead and look at the positions, but it seems like someone should
already have implemented this before. Can anyone point me in the
direction of something that gives me a frequency if I give it a query
(rather than a term).

Any help greatly appreciated!

Wouter

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20766-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 21 11:38:02 2006
Return-Path: <java-user-return-20766-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48351 invoked from network); 21 May 2006 11:38:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 May 2006 11:38:02 -0000
Received: (qmail 28081 invoked by uid 500); 21 May 2006 11:37:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27505 invoked by uid 500); 21 May 2006 11:37:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27494 invoked by uid 99); 21 May 2006 11:37:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 May 2006 04:37:56 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dayzman@gmail.com designates 64.233.166.183 as permitted sender)
Received: from [64.233.166.183] (HELO py-out-1112.google.com) (64.233.166.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 May 2006 04:37:56 -0700
Received: by py-out-1112.google.com with SMTP id c39so1220791pyd
        for <java-user@lucene.apache.org>; Sun, 21 May 2006 04:37:35 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=cNdl0DYFYqEmRdt4Aoo36x3ETsNwLmfuosPVcVlsRLgg7K/GmtygVO95DesG3ufsDwU8LWRtNjtzMC0+M3AKA91RCzdLIwyIfhEK5msbBjw74dECzl7CaPQdXoh624Ss60IPgJyBWe1KED/8XB28CbW73tqNsegXgwiQKrgbmpU=
Received: by 10.35.91.10 with SMTP id t10mr1894876pyl;
        Sun, 21 May 2006 04:37:35 -0700 (PDT)
Received: by 10.35.93.3 with HTTP; Sun, 21 May 2006 04:37:35 -0700 (PDT)
Message-ID: <429c032d0605210437y64186efbu844ddb04e4330679@mail.gmail.com>
Date: Sun, 21 May 2006 19:37:35 +0800
From: "Michael Chan" <dayzman@gmail.com>
To: java-user@lucene.apache.org
Subject: SpanScorer Out Of Bounds
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Somehow, after running many searches using instances of SpanQuery
(mostly SpanNearQuery), I get the ArrayIndexOutOfBounds exception:

"bash-2.03$ java.lang.ArrayIndexOutOfBoundsException: 2147483647
        at org.apache.lucene.search.spans.SpanScorer.score(SpanScorer.java:=
72)
        at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScor=
er.java:82)
        at org.apache.lucene.search.BooleanScorer2$2.score(BooleanScorer2.j=
ava:186)
        at org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.jav=
a:327)
        at org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.jav=
a:291)
        at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java=
:132)
        at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java=
:99)
        at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
        at org.apache.lucene.search.Hits.<init>(Hits.java:44)
        at org.apache.lucene.search.Searcher.search(Searcher.java:44)
        at org.apache.lucene.search.Searcher.search(Searcher.java:36)
...
<traces to my program>"

Is there a counter or something in play? Is it a cache or some sort?

Any help will be much appreciated.

Thanks.

Michael

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20767-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 21 14:23:28 2006
Return-Path: <java-user-return-20767-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72467 invoked from network); 21 May 2006 14:23:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 May 2006 14:23:28 -0000
Received: (qmail 26998 invoked by uid 500); 21 May 2006 14:23:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26975 invoked by uid 500); 21 May 2006 14:23:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26964 invoked by uid 99); 21 May 2006 14:23:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 May 2006 07:23:21 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dayzman@gmail.com designates 64.233.166.181 as permitted sender)
Received: from [64.233.166.181] (HELO py-out-1112.google.com) (64.233.166.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 May 2006 07:23:21 -0700
Received: by py-out-1112.google.com with SMTP id c39so1242914pyd
        for <java-user@lucene.apache.org>; Sun, 21 May 2006 07:23:00 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=gb0+54YnyZMiaCqZcu9RszEu+G6V0vAfkWKmc7lyDpSfqxR587KFQhFeSDoI0rnLDTlWBy1qEn33FVLwWIIuxs5wW+lolmqwBWitldIq3lfpuh4UkoRixtge9SH4hHoKjwA/b+uz+6dNB3FrR7XYKRaGp4B9CsFZnzu4PORp+mo=
Received: by 10.35.82.15 with SMTP id j15mr2501112pyl;
        Sun, 21 May 2006 07:22:59 -0700 (PDT)
Received: by 10.35.93.3 with HTTP; Sun, 21 May 2006 07:22:59 -0700 (PDT)
Message-ID: <429c032d0605210722r45f9463cy7b5cfa368cf97227@mail.gmail.com>
Date: Sun, 21 May 2006 22:22:59 +0800
From: "Michael Chan" <dayzman@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Matching at least N terms of subqueries
In-Reply-To: <Pine.LNX.4.58.0605192329480.11603@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <429c032d0605192327m58d558dcuec041dec283314c3@mail.gmail.com>
	 <Pine.LNX.4.58.0605192329480.11603@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Come to think of it... I can only use SpanOrQuery because I'm
"wrapping" it with a SpanNearQuery. Unless, there is a way to make
Span(Near)Query take a BooleanQuery as its clause. Is there a way to
set the min. number of terms to be matched in an OR subquery inside a
SpanNearQuery?

Thanks.

Michael

On 5/20/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
> take a look at BooleanQuery.setMinimumNumberShouldMatch(int)
>
> : Date: Sat, 20 May 2006 14:27:00 +0800
> : From: Michael Chan <dayzman@gmail.com>
> : Reply-To: java-user@lucene.apache.org
> : To: java-user@lucene.apache.org
> : Subject: Matching at least N terms of subqueries
> :
> : Hi,
> :
> : Is there any way to make sure, e.g. at least 2, terms of a subquery
> : are contained in the results? For example, with the query
> : "OR(t1,t2,t3) AND OR(t4,t5,t6)", the docs returned must contain either
> : 2 or more of (t2,t3,t3) and either 2 or more of (t4,t5,t6). I've read
> : about Similarity, but it seems to restrict over whole queries rather
> : than getting down into subqueries.
> :
> : Thanks.
> :
> : Michael
> :
> : ---------------------------------------------------------------------
> : To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> : For additional commands, e-mail: java-user-help@lucene.apache.org
> :
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20768-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 21 15:32:41 2006
Return-Path: <java-user-return-20768-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83913 invoked from network); 21 May 2006 15:32:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 May 2006 15:32:41 -0000
Received: (qmail 60852 invoked by uid 500); 21 May 2006 15:32:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60819 invoked by uid 500); 21 May 2006 15:32:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60808 invoked by uid 99); 21 May 2006 15:32:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 May 2006 08:32:34 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 194.52.12.17 is neither permitted nor denied by domain of marcus.falck@observer.se)
Received: from [194.52.12.17] (HELO mail1.observergroup.com) (194.52.12.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 May 2006 08:32:33 -0700
Received: (qmail 15662 invoked by uid 509); 21 May 2006 17:32:06 +0200
Received: from 10.8.1.20 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.20):. 
 Processed in 0.084114 secs); 21 May 2006 15:32:06 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.20):. Processed in 0.084114 secs Process 15656)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.20)
  by mail1.observergroup.com with SMTP; 21 May 2006 17:32:06 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C67CEB.AE7FB2B2"
Subject: Date first best practises
Date: Sun, 21 May 2006 17:31:51 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C33B5E0@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Date first best practises
Thread-Index: AcZ86652J7JhDpriRwu8w/G1EiKNTg==
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C67CEB.AE7FB2B2
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,
=20
I will use Lucene to index 200 million documents (doc size 2kb -> 20 =
kb).
With the following requirements:
IndexSearcher needs to be created atleast every 5 minute.
The ranking/scoring/sorting will need to reply the hits ordered by date =
desc.
=20
Will the sorting be good enough on a machine with 4GB of RAM? Since the =
cache will be destroyed every time I open a new IndexSercher i need to =
know how long it will take to rebuild it (the index is stored on a SAN).
=20
Or do I have to change the scoring so I wont need to access the date =
field?
=20
If i will have to change the scoring does anybody have any tips on where =
to begin?
=20
/
Regards
Marcus

------_=_NextPart_001_01C67CEB.AE7FB2B2--

From java-user-return-20769-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 21 15:45:56 2006
Return-Path: <java-user-return-20769-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86303 invoked from network); 21 May 2006 15:45:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 May 2006 15:45:55 -0000
Received: (qmail 67396 invoked by uid 500); 21 May 2006 15:45:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67365 invoked by uid 500); 21 May 2006 15:45:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67354 invoked by uid 99); 21 May 2006 15:45:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 May 2006 08:45:49 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 May 2006 08:45:48 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id ACB1C33CB17; Sun, 21 May 2006 11:45:27 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 35E4733CB16
	for <java-user@lucene.apache.org>; Sun, 21 May 2006 11:45:25 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C33B5E0@S1SE1MAIL.emea1.ad.group>
References: <8834A84C87A2C148AD46921BB8BFC97C33B5E0@S1SE1MAIL.emea1.ad.group>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <6F6AA422-007F-4603-A0E9-43E322FECCFC@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Date first best practises
Date: Sun, 21 May 2006 11:45:18 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_SORBS_DUL autolearn=no version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 21, 2006, at 11:31 AM, Marcus Falck wrote:
> I will use Lucene to index 200 million documents (doc size 2kb ->  
> 20 kb).
> With the following requirements:
> IndexSearcher needs to be created atleast every 5 minute.
> The ranking/scoring/sorting will need to reply the hits ordered by  
> date desc.
>
> Will the sorting be good enough on a machine with 4GB of RAM? Since  
> the cache will be destroyed every time I open a new IndexSercher i  
> need to know how long it will take to rebuild it (the index is  
> stored on a SAN).

My hunch is that sorting will be fine, but you'll want to warm up the  
caches before putting a new IndexSearcher into production use.  Solr  
does this by running a configurable set of queries against an index  
before swapping out the old IndexSearcher with a new warmed up one.

> Or do I have to change the scoring so I wont need to access the  
> date field?
>
> If i will have to change the scoring does anybody have any tips on  
> where to begin?

Solr's FunctionQuery (isn't it time we move this to the core of  
Lucene?! :) might be able to help you out in this situation, but it  
sounds like sorting is what you want to use, not scoring tweaks.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20770-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 21 16:16:14 2006
Return-Path: <java-user-return-20770-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90192 invoked from network); 21 May 2006 16:16:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 May 2006 16:16:13 -0000
Received: (qmail 87014 invoked by uid 500); 21 May 2006 16:16:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85992 invoked by uid 500); 21 May 2006 16:16:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85981 invoked by uid 99); 21 May 2006 16:16:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 May 2006 09:16:08 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 194.52.12.17 is neither permitted nor denied by domain of marcus.falck@observer.se)
Received: from [194.52.12.17] (HELO mail1.observergroup.com) (194.52.12.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 May 2006 09:16:08 -0700
Received: (qmail 17774 invoked by uid 509); 21 May 2006 18:15:45 +0200
Received: from 10.8.1.20 by mail1 (envelope-from <marcus.falck@observer.se>, uid 508) with qmail-scanner-1.25-st-qms 
 (clamdscan: 0.85.1/1049. spamassassin: 3.0.2. perlscan: 1.25-st-qms.  
 Clear:RC:1(10.8.1.20):. 
 Processed in 0.088836 secs); 21 May 2006 16:15:45 -0000
X-Antivirus-MYDOMAIN-Mail-From: marcus.falck@observer.se via mail1
X-Antivirus-MYDOMAIN: 1.25-st-qms (Clear:RC:1(10.8.1.20):. Processed in 0.088836 secs Process 17767)
Received: from unknown (HELO S1SE1MAIL.emea1.ad.group) (10.8.1.20)
  by mail1.observergroup.com with SMTP; 21 May 2006 18:15:45 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C67CF1.D024B11E"
Subject: SV: Date first best practises
Date: Sun, 21 May 2006 18:12:56 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C33B5E1@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <8834A84C87A2C148AD46921BB8BFC97C33B5E1@S1SE1MAIL.emea1.ad.group>
Thread-Topic: Date first best practises
Thread-Index: AcZ87a4dp40TLjlKS82NMrBhAoEm3AAA73e/
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C67CF1.D024B11E
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Thanks.
I preffer sorting. But I'm afraid that it won't be enough.=20
How long time do you think it will take to rebuild the caches?
If I use a sort on the datefield and perform a query (with that sort) =
will it always rebuild the whole cache or
just the cache for the actual hits?
=20
/
Marcus

________________________________

Fr=E5n: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Skickat: s=F6 2006-05-21 17:45
Till: java-user@lucene.apache.org
=C4mne: Re: Date first best practises




On May 21, 2006, at 11:31 AM, Marcus Falck wrote:
> I will use Lucene to index 200 million documents (doc size 2kb ->=20
> 20 kb).
> With the following requirements:
> IndexSearcher needs to be created atleast every 5 minute.
> The ranking/scoring/sorting will need to reply the hits ordered by=20
> date desc.
>
> Will the sorting be good enough on a machine with 4GB of RAM? Since=20
> the cache will be destroyed every time I open a new IndexSercher i=20
> need to know how long it will take to rebuild it (the index is=20
> stored on a SAN).

My hunch is that sorting will be fine, but you'll want to warm up the=20
caches before putting a new IndexSearcher into production use.  Solr=20
does this by running a configurable set of queries against an index=20
before swapping out the old IndexSearcher with a new warmed up one.

> Or do I have to change the scoring so I wont need to access the=20
> date field?
>
> If i will have to change the scoring does anybody have any tips on=20
> where to begin?

Solr's FunctionQuery (isn't it time we move this to the core of=20
Lucene?! :) might be able to help you out in this situation, but it=20
sounds like sorting is what you want to use, not scoring tweaks.

        Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





------_=_NextPart_001_01C67CF1.D024B11E
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------_=_NextPart_001_01C67CF1.D024B11E--

From java-user-return-20771-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 21 18:01:53 2006
Return-Path: <java-user-return-20771-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5297 invoked from network); 21 May 2006 18:01:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 May 2006 18:01:52 -0000
Received: (qmail 44679 invoked by uid 500); 21 May 2006 18:01:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44653 invoked by uid 500); 21 May 2006 18:01:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44639 invoked by uid 99); 21 May 2006 18:01:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 May 2006 11:01:47 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 May 2006 11:01:46 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 10CE95B78F; Sun, 21 May 2006 11:01:08 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 1D0027F403
	for <java-user@lucene.apache.org>; Sun, 21 May 2006 11:01:07 -0700 (PDT)
Date: Sun, 21 May 2006 11:01:07 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Matching at least N terms of subqueries
In-Reply-To: <429c032d0605210722r45f9463cy7b5cfa368cf97227@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0605211058490.8230@hal.rescomp.berkeley.edu>
References: <429c032d0605192327m58d558dcuec041dec283314c3@mail.gmail.com> 
 <Pine.LNX.4.58.0605192329480.11603@hal.rescomp.berkeley.edu>
 <429c032d0605210722r45f9463cy7b5cfa368cf97227@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

: "wrapping" it with a SpanNearQuery. Unless, there is a way to make
: Span(Near)Query take a BooleanQuery as its clause. Is there a way to

ope .. span queries can only contain other span queries -- they need the
sub queries to propogate up the span information which normal queries
don't know about.

: set the min. number of terms to be matched in an OR subquery inside a
: SpanNearQuery?

not that i know of ... but you might be able to adopt the code from
BooleanQUery ... I've never looked at SpanOrQuery close enough to see how
hard it would be.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20772-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 21 18:07:28 2006
Return-Path: <java-user-return-20772-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5848 invoked from network); 21 May 2006 18:07:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 May 2006 18:07:28 -0000
Received: (qmail 49955 invoked by uid 500); 21 May 2006 18:07:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49911 invoked by uid 500); 21 May 2006 18:07:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49900 invoked by uid 99); 21 May 2006 18:07:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 May 2006 11:07:23 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 May 2006 11:07:22 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 6CB255B779; Sun, 21 May 2006 11:07:02 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 6675E7F403
	for <java-user@lucene.apache.org>; Sun, 21 May 2006 11:07:02 -0700 (PDT)
Date: Sun, 21 May 2006 11:07:02 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: SV: Date first best practises
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C33B5E1@S1SE1MAIL.emea1.ad.group>
Message-ID: <Pine.LNX.4.58.0605211103570.8230@hal.rescomp.berkeley.edu>
References: <8834A84C87A2C148AD46921BB8BFC97C33B5E1@S1SE1MAIL.emea1.ad.group>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: If I use a sort on the datefield and perform a query (with that sort)
: will it always rebuild the whole cache or just the cache for the actual
: hits?

the FieldCache is built for all documents so that it's completleyte
reusable for any search that sorts on that field -- as long as you keep
your IndexSearcher open.

-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20773-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 21 18:18:15 2006
Return-Path: <java-user-return-20773-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7349 invoked from network); 21 May 2006 18:18:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 May 2006 18:18:15 -0000
Received: (qmail 60778 invoked by uid 500); 21 May 2006 18:18:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60468 invoked by uid 500); 21 May 2006 18:18:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60457 invoked by uid 99); 21 May 2006 18:18:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 May 2006 11:18:09 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.25] (HELO smtp-vbr5.xs4all.nl) (194.109.24.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 May 2006 11:18:08 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr5.xs4all.nl (8.13.6/8.13.6) with ESMTP id k4LIHkS8081072
	for <java-user@lucene.apache.org>; Sun, 21 May 2006 20:17:46 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Matching at least N terms of subqueries
Date: Sun, 21 May 2006 20:17:44 +0200
User-Agent: KMail/1.8.2
References: <429c032d0605192327m58d558dcuec041dec283314c3@mail.gmail.com> <429c032d0605210722r45f9463cy7b5cfa368cf97227@mail.gmail.com> <Pine.LNX.4.58.0605211058490.8230@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0605211058490.8230@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605212017.44846.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Sunday 21 May 2006 20:01, Chris Hostetter wrote:
> : "wrapping" it with a SpanNearQuery. Unless, there is a way to make
> : Span(Near)Query take a BooleanQuery as its clause. Is there a way to
> 
> ope .. span queries can only contain other span queries -- they need the
> sub queries to propogate up the span information which normal queries
> don't know about.
> 
> : set the min. number of terms to be matched in an OR subquery inside a
> : SpanNearQuery?
> 
> not that i know of ... but you might be able to adopt the code from
> BooleanQUery ... I've never looked at SpanOrQuery close enough to see how
> hard it would be.

Another solution is to use a boolean query with a minimum number
of matching clauses, where the Nth clause has a form like this:
SpanNearQuery(commonTerm, termN).

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20774-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 02:57:00 2006
Return-Path: <java-user-return-20774-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18648 invoked from network); 22 May 2006 02:56:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 02:56:59 -0000
Received: (qmail 96141 invoked by uid 500); 22 May 2006 02:56:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95485 invoked by uid 500); 22 May 2006 02:56:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95469 invoked by uid 99); 22 May 2006 02:56:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 May 2006 19:56:53 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of zhenjian@gmail.com designates 64.233.184.229 as permitted sender)
Received: from [64.233.184.229] (HELO wr-out-0506.google.com) (64.233.184.229)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 May 2006 19:56:53 -0700
Received: by wr-out-0506.google.com with SMTP id i28so1009177wra
        for <java-user@lucene.apache.org>; Sun, 21 May 2006 19:56:32 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=oiZ7HxEqhjG2ZgeHjMGjC8VaP3/cUv1sz/brkx31V0kE69k7Z+u1ylwqmZIxn6/4H8m+FBDnb6+JTHKiFcYbZ+TANLmfkd6k5biypW3rjpe5lalbeDAwtaeomqHQ62GVHuZGnLRAsNjmVRU26c3arWce0znGFlO2u//udN1mzLI=
Received: by 10.65.194.12 with SMTP id w12mr386511qbp;
        Sun, 21 May 2006 19:56:32 -0700 (PDT)
Received: by 10.65.197.1 with HTTP; Sun, 21 May 2006 19:56:32 -0700 (PDT)
Message-ID: <4ba70b40605211956w4c9f25c4y37fd2691f42b9800@mail.gmail.com>
Date: Mon, 22 May 2006 10:56:32 +0800
From: "Zhenjian YU" <zhenjian@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: does anybody have the experience to do some pooling upon lucene?
In-Reply-To: <4A6F7A42-7755-457A-83AB-FF118954D932@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_49257_23934237.1148266592409"
References: <4ba70b40605190213m4368f944r38da4120a50bf5e2@mail.gmail.com>
	 <4A6F7A42-7755-457A-83AB-FF118954D932@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_49257_23934237.1148266592409
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi, Erik,

Thanks for your prompt response.

I didn't dig the source code of lucence deep enough, but I noticed that the
IndexSearcher uses an IndexReader, while the cost of initializing
IndexReader is a bit high.

My application is a webapp, so I think it may be good if I cache some
instances of IndexSearcher to provide service for my webapp. I haven't done
any performance testing yet. Maybe I test it later to see the difference
between caching and without caching.

Best Regards,
Zhenjian

On 5/19/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
> A single IndexSearcher is all a system needs to use (in the basic
> sense).  Pooling multiple instances pointing to the same index won't
> benefit your performance.  Things get trickier when you are updating
> the index and want to see the updates.
>
>         Erik
>
>
> On May 19, 2006, at 5:13 AM, Zhenjian YU wrote:
>
> > I'm using apache commons pooling library to pool the IndexSearcher,
> > so that
> > my system
> > can provide high performance.
> >
> > I wonder if it is reasonable to pooling objects of lucene?
> > If yes, is there any other objects I can also pool?
> >
> > Thank you!
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_49257_23934237.1148266592409--

From java-user-return-20775-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 06:03:52 2006
Return-Path: <java-user-return-20775-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58887 invoked from network); 22 May 2006 06:03:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 06:03:52 -0000
Received: (qmail 57397 invoked by uid 500); 22 May 2006 06:03:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57364 invoked by uid 500); 22 May 2006 06:03:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57353 invoked by uid 99); 22 May 2006 06:03:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 May 2006 23:03:46 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.160.230.41] (HELO mout.perfora.net) (217.160.230.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 May 2006 23:03:45 -0700
Received: from [61.12.8.66] (helo=[192.168.1.245])
	by mrelay.perfora.net (node=mrelayus1) with ESMTP (Nemesis),
	id 0MKp2t-1Fi3Vf3o3y-00022F; Mon, 22 May 2006 02:03:24 -0400
Message-ID: <447152DA.4000802@insideview.com>
Date: Mon, 22 May 2006 11:27:46 +0530
From: Harini Raghavan <harini.raghavan@insideview.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: indexing in lucene 1.9.1
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: perfora.net abuse@perfora.net login:9759476ad67fa08aca5d9352c82c69ea
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi All,
We have recently upgraded from lucene 1.4.3 to lucene 1.9.1 version. 
After the upgrade, we are facing some issues:
1. Indexing seems to be behaving differently. There were more than 300 
segment files(.cfs) in the index and the IndexSearcher is taking forever 
to refresh the index. Have there been any changes in 1.9.1 wrt default 
values for merging segment files/ indexing?
2. Our application downloads documents and indexes them every min as a 
continuous process. So, we have a Quartz job that refreshes the Index 
Searcher every 4 hours. Would this have any effect on the indexing 
process/ add more no of segments?
Any help would be appreciated.
Thanks,
Harini

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20776-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 06:08:53 2006
Return-Path: <java-user-return-20776-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59724 invoked from network); 22 May 2006 06:08:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 06:08:52 -0000
Received: (qmail 63727 invoked by uid 500); 22 May 2006 06:08:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63250 invoked by uid 500); 22 May 2006 06:08:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63237 invoked by uid 99); 22 May 2006 06:08:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 May 2006 23:08:46 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of paulo.silveira@gmail.com designates 66.249.92.171 as permitted sender)
Received: from [66.249.92.171] (HELO ug-out-1314.google.com) (66.249.92.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 May 2006 23:08:45 -0700
Received: by ug-out-1314.google.com with SMTP id u2so1059157uge
        for <java-user@lucene.apache.org>; Sun, 21 May 2006 23:08:24 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:sender:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition:x-google-sender-auth;
        b=Nqhxydk4lzplRXi85r4bwXdliIDa9eXTzcDlUcVBY0n0vDRmkQqdYdTiGlnWWRo+yCm+2bK4ASiGZRctFGKUYzl6Jg+u22ikPz0c1qPkBvEtE59HhHIz2fo+yE81Ww+yl2CNQJzL8EaNGiBnUxqCwtvIvY0SXHMF64DOkn2V584=
Received: by 10.78.42.7 with SMTP id p7mr1037322hup;
        Sun, 21 May 2006 23:08:24 -0700 (PDT)
Received: by 10.78.24.5 with HTTP; Sun, 21 May 2006 23:08:24 -0700 (PDT)
Message-ID: <6026e8b0605212308t60dd59c6n6eac470ab710540d@mail.gmail.com>
Date: Mon, 22 May 2006 03:08:24 -0300
From: "Paulo Silveira" <paulo.silveira@caelum.com.br>
Sender: paulo.silveira@gmail.com
To: java-user@lucene.apache.org
Subject: should I avoid create many Fields for a Document?
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Google-Sender-Auth: e6584a5867fb4ab9
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello

What is the best way to search? Should I separate all the fields, or
create a big one that have all fields? Does this impact the
performance dramatically?

Creating a big field I would not need to create a BooleanQuery...

last time I did not get any clues, lets see if this time will be better...

thanks!

--=20
Paulo E. A. Silveira
Caelum Ensino e Solu=E7=F5es em Java
http://www.caelum.com.br/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20777-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 06:58:43 2006
Return-Path: <java-user-return-20777-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70468 invoked from network); 22 May 2006 06:58:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 06:58:43 -0000
Received: (qmail 9077 invoked by uid 500); 22 May 2006 06:58:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8753 invoked by uid 500); 22 May 2006 06:58:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8742 invoked by uid 99); 22 May 2006 06:58:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 May 2006 23:58:34 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dlager@gmail.com designates 64.233.184.236 as permitted sender)
Received: from [64.233.184.236] (HELO wr-out-0506.google.com) (64.233.184.236)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 May 2006 23:58:33 -0700
Received: by wr-out-0506.google.com with SMTP id 50so545351wri
        for <java-user@lucene.apache.org>; Sun, 21 May 2006 23:58:12 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Acubqd3uZV3J6JA53jdei2u2sWfj10Uhnp22Fdf2Ua0bdAHN5t9DT+D45balECTB5NhFuo7ZHLL5+wZtkJfwFi5kOBLhvNZaGFz3JzvieUPxYLBIkY9/a5ZvAu7ranaGJ3ebqWGtsxUViCAQd8wWEM7kpX+oWy0rzDaqciR0SDU=
Received: by 10.54.97.15 with SMTP id u15mr3100528wrb;
        Sun, 21 May 2006 23:58:12 -0700 (PDT)
Received: by 10.54.157.8 with HTTP; Sun, 21 May 2006 23:58:12 -0700 (PDT)
Message-ID: <a171080c0605212358i767c6801lb47529bb881c1985@mail.gmail.com>
Date: Mon, 22 May 2006 08:58:12 +0200
From: "=?ISO-8859-1?Q?David_Ahlschl=E4ger?=" <dlager@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Need some Advice on Searching
In-Reply-To: <Pine.LNX.4.58.0605191400130.27909@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4444_24726673.1148281092360"
References: <a171080c0605190144s25f51b6cl9dcce7459832c0f6@mail.gmail.com>
	 <Pine.LNX.4.58.0605191400130.27909@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_4444_24726673.1148281092360
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

On 19/05/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
>
> i assume when you say this...
>
> : 1. I need to temporarilly index sets of documents on the Fly say 100 at
> a
> : Time.
>
> you mean that you'll have lots of temporary indexes of a few hundrad
> documents and then you'll do a bunch of queries and throw the index away.
> Even if i'm wrong most of the rest of my advice will wtill be usefull, bu=
t
> its' good to clarify.


Correct I will throw them away!

: My problem is that for these queries I need to know which Documents hit. =
I
> : also need to know which terms hit and if possible
> : the location of the hits for each term in the hit Document.
>
> knowing which docs match your is easy.  knowing where in a document a
> particular term matches can be done using the TermPositions APIs ... but
> it does you that info as a number of "terms" which for HTML content may b=
e
> confusing depending on how your analyzer deals with that HTML.


Okay based on your answer and a little testing just to see what it gives me
- I assume
Lucene only stores the Term Offset (which is Analyser Dependent) and not th=
e
Actual Offset as retrieved from the Plain Text Stream for the Term.

if you have complex boolean queries and you need to know which individual
> pat of the query matched that's not really trivial.  you didn't mention
> anything about "score" or "relevancy" in your email, so i'm guessing all
> you care about is boolean "did it match or not" logic .. in that case
> using Filters directly (without ever searching) is your friend.  You can
> build a Filter for each individual clause, intersect/union the bitsets to
> get the final set of matching documents for your whole query, but
> inspect the individual bitsets to know he specifics about which ones matc=
h
> which documents.


Score/Relavence is not Important. I need the Yes/No logic with the what
caused the Match Info. Could you mayby explain the intersect/union the
bitsets and the interogating to know
what matched?

some people don't like Filters because of how much space they take up for
> really large indexes, but if you've only got 100 docs ... there's no
> reason not to use them


Nope will never have any really large Indexes here 100 to 200 docs at the
most.

-Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
> Thanx for the Relpy much appreciated.

------=_Part_4444_24726673.1148281092360--

From java-user-return-20778-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 07:35:12 2006
Return-Path: <java-user-return-20778-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82202 invoked from network); 22 May 2006 07:35:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 07:35:12 -0000
Received: (qmail 27433 invoked by uid 500); 22 May 2006 07:34:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25507 invoked by uid 500); 22 May 2006 07:34:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25210 invoked by uid 99); 22 May 2006 07:34:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 00:34:20 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 00:10:22 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 471F95B77B; Mon, 22 May 2006 00:09:55 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 3C0507F403
	for <java-user@lucene.apache.org>; Mon, 22 May 2006 00:09:55 -0700 (PDT)
Date: Mon, 22 May 2006 00:09:55 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Need some Advice on Searching
In-Reply-To: <a171080c0605212358i767c6801lb47529bb881c1985@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0605220001280.5990@hal.rescomp.berkeley.edu>
References: <a171080c0605190144s25f51b6cl9dcce7459832c0f6@mail.gmail.com> 
 <Pine.LNX.4.58.0605191400130.27909@hal.rescomp.berkeley.edu>
 <a171080c0605212358i767c6801lb47529bb881c1985@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Score/Relavence is not Important. I need the Yes/No logic with the what
: caused the Match Info. Could you mayby explain the intersect/union the
: bitsets and the interogating to know
: what matched?

let's say hypothetically the logical "query" you want is "(A OR B) AND (C
OR D)"  where A, B, C, and D can all be represented as Lucene Query
objects.

that means you can say something like...

   BitSet a = (new QueryFilter(A)).bits(reader);
   BitSet b = (new QueryFilter(B)).bits(reader);
   BitSet c = (new QueryFilter(C)).bits(reader);
   BitSet d = (new QueryFilter(D)).bits(reader);

   BitSet result = c.clone().or(d).and(a.clone().or(b));

...now each set bit in result corrisponds to a document that matches your
whole "query" (the bitIndex is the doc id). and for any given set bit, you
can look at a-d to find out which of the sub queries it matched on.

(QueryFilter isn't neccessary, any filter that selects the documents you
want will work, QueryFilter is just handy for illustrating my point
easily).


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20779-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 09:16:01 2006
Return-Path: <java-user-return-20779-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14571 invoked from network); 22 May 2006 09:16:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 09:16:01 -0000
Received: (qmail 70130 invoked by uid 500); 22 May 2006 09:15:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70104 invoked by uid 500); 22 May 2006 09:15:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70093 invoked by uid 99); 22 May 2006 09:15:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 02:15:54 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.79.216.190] (HELO cluster-e.mailcontrol.com) (217.79.216.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 02:15:52 -0700
Received: from c1-ex002.groupinfra.com ([213.86.115.109])
	by rly33e.srv.mailcontrol.com (MailControl) with ESMTP id k4M9F49o027752
	for <java-user@lucene.apache.org>; Mon, 22 May 2006 10:15:30 +0100
Received: from uk-ex004.groupinfra.com ([158.234.68.230]) by c1-ex002.groupinfra.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 22 May 2006 10:15:23 +0100
Received: from uk-ex010.groupinfra.com ([158.234.9.225]) by uk-ex004.groupinfra.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 22 May 2006 10:15:23 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Searching API: QueryParser vs Programatic queries
Date: Mon, 22 May 2006 10:15:23 +0100
Message-ID: <62B402A996F16B42BF6E568382E0FEAF16FFE4@uk-ex010.groupinfra.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Searching API: QueryParser vs Programatic queries
Thread-Index: AcZ7Lh8ZwpEQHMEzSDCc8/yoWiGT4gCUJB9Q
From: "Irving, Dave" <dave.irving@logicacmg.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 22 May 2006 09:15:23.0916 (UTC) FILETIME=[41C20CC0:01C67D80]
X-Scanned-By: MailControl A-06-00-05 (www.mailcontrol.com) on 10.69.0.143
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Im very new to Lucene - so sorry if my question seems pretty dumb.

In the application Im writing, I've been "struggling with myself" over
whether I should be building up queries programatically, or using the
Query Parser.

My searchable fields are driven by meta-data, and I only want to support
a few query types. It seems "cleaner" to build the queries up
programatically rather than converting the query to a string and
throwing it through the QueryParser.

However, then we hit the problem that the QueryParser takes care of
Analysing the search strings - so to do this we'd have to write some
utility stuff to perform the analysis as we're building up the queries /
terms.

And then I think "might as well just use the QueryParser!".

So here's what Im wondering (which probably sounds very dumb to
experienced Lucene'rs):

- Is there maybe some room for more utility classes in Lucene which make
this easier? E.g: When building up a document, we don't have to worry
about running content through an analyser - but unless we use
QueryParser, there doesn't seem to be corresponding behaviour on the
search side.
- So, Im thinking some kind of factory / builder or something, where you
can register an Analyser (possibly a per field wrapper), and then it is
applied per field as the query is being built up programatically.

Maybe this is just an "extraction" refactoring to take this behaviour
out of QueryParser (which could delegate to it).

The result could be that more users opt for a programatic build up of
queries (because it's become easier to do..) rather than falling back on
QueryParser in cases where it may not be the best choice.


Sorry if I rambled too much :o)

Dave


This e-mail and any attachment is for authorised use by the intended recipi=
ent(s) only. It may contain proprietary material, confidential information =
and/or be subject to legal privilege. It should not be copied, disclosed to=
, retained or used by, any other party. If you are not an intended recipien=
t then please promptly delete this e-mail and any attachment and all copies=
 and inform the sender. Thank you.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20780-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 10:03:56 2006
Return-Path: <java-user-return-20780-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29430 invoked from network); 22 May 2006 10:03:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 10:03:56 -0000
Received: (qmail 21704 invoked by uid 500); 22 May 2006 10:03:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21679 invoked by uid 500); 22 May 2006 10:03:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21668 invoked by uid 99); 22 May 2006 10:03:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 03:03:48 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of danutchi@gmail.com designates 66.249.82.198 as permitted sender)
Received: from [66.249.82.198] (HELO wx-out-0102.google.com) (66.249.82.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 03:03:47 -0700
Received: by wx-out-0102.google.com with SMTP id t4so185512wxc
        for <java-user@lucene.apache.org>; Mon, 22 May 2006 03:03:25 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=N4kNKmw8EM08qq2oUYzoceI51YX/66RtD41uZZ8Xti7VUkyz5Fk+3RSdtE9Ejp11PntU2OtZGPbe97yH+Q0qGxdl0wSyOvQ88s66GrfuDNfX8U7ZrZBepKVOvMjA4DgH5bTCcgm/jQvK90fCLh0DuIpN4jPoxmephvCZ9Kg8EgE=
Received: by 10.70.77.7 with SMTP id z7mr4954975wxa;
        Mon, 22 May 2006 03:03:25 -0700 (PDT)
Received: by 10.70.33.17 with HTTP; Mon, 22 May 2006 03:03:25 -0700 (PDT)
Message-ID: <d7a865a50605220303w4e597b9ap1e439b1ac8133728@mail.gmail.com>
Date: Mon, 22 May 2006 12:03:25 +0200
From: "Dan Wiggin" <danutchi@gmail.com>
To: java-user@lucene.apache.org
Subject: What is more efficient?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_97615_15858062.1148292205005"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_97615_15858062.1148292205005
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

If I work with groups, whats the best option do do? Use a multiple lucene
index for every group or is bettter an unique index.
For example:
I'm working with groups of people, and the action to add or delete is in
group level but the search is on all groups.
What do you think is the best implementation in lucene? I have any number o=
f
index limitation in Multisearcher?

------=_Part_97615_15858062.1148292205005--

From java-user-return-20781-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 11:39:09 2006
Return-Path: <java-user-return-20781-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69260 invoked from network); 22 May 2006 11:39:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 11:39:09 -0000
Received: (qmail 51783 invoked by uid 500); 22 May 2006 11:39:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51746 invoked by uid 500); 22 May 2006 11:39:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51735 invoked by uid 99); 22 May 2006 11:39:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 04:39:02 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of richmondmike@gmail.com designates 66.249.92.171 as permitted sender)
Received: from [66.249.92.171] (HELO ug-out-1314.google.com) (66.249.92.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 04:39:02 -0700
Received: by ug-out-1314.google.com with SMTP id u2so1110316uge
        for <java-user@lucene.apache.org>; Mon, 22 May 2006 04:38:40 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=icUG+f+5sNiQajZZ9+2JpHTSmmHvfwMwZazfDPW6ZaAy+bmQV7nUg0EgePfVOibyG3N1DQQkr/N40gZFYygUgB8FJZZ0F8rYAPHGQVaxm39IhSVDHeZDKbqf8/AfkLykfB6D0bRDsmrCl9EV9vxsMGwO/HRjYfK5dh4XPqbbBgA=
Received: by 10.67.101.10 with SMTP id d10mr3681129ugm;
        Mon, 22 May 2006 04:38:40 -0700 (PDT)
Received: by 10.67.95.1 with HTTP; Mon, 22 May 2006 04:38:40 -0700 (PDT)
Message-ID: <931ca11b0605220438i138a0f1co92a0374e4500f8ee@mail.gmail.com>
Date: Mon, 22 May 2006 07:38:40 -0400
From: "Mike Richmond" <richmondmike@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: indexing in lucene 1.9.1
In-Reply-To: <447152DA.4000802@insideview.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <447152DA.4000802@insideview.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello Harini,

When you are finished indexing the documents are you running the
optimize() method on the IndexWriter before closing it?  This should
reduce the number of segments and make searching faster.  Just a
thought.


--Mike



On 5/22/06, Harini Raghavan <harini.raghavan@insideview.com> wrote:
> Hi All,
> We have recently upgraded from lucene 1.4.3 to lucene 1.9.1 version.
> After the upgrade, we are facing some issues:
> 1. Indexing seems to be behaving differently. There were more than 300
> segment files(.cfs) in the index and the IndexSearcher is taking forever
> to refresh the index. Have there been any changes in 1.9.1 wrt default
> values for merging segment files/ indexing?
> 2. Our application downloads documents and indexes them every min as a
> continuous process. So, we have a Quartz job that refreshes the Index
> Searcher every 4 hours. Would this have any effect on the indexing
> process/ add more no of segments?
> Any help would be appreciated.
> Thanks,
> Harini
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20782-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 12:11:39 2006
Return-Path: <java-user-return-20782-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75935 invoked from network); 22 May 2006 12:11:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 12:11:38 -0000
Received: (qmail 89193 invoked by uid 500); 22 May 2006 12:11:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89161 invoked by uid 500); 22 May 2006 12:11:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89149 invoked by uid 99); 22 May 2006 12:11:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 05:11:32 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.160.230.40] (HELO mout.perfora.net) (217.160.230.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 05:11:31 -0700
Received: from [61.12.8.66] (helo=[192.168.1.245])
	by mrelay.perfora.net (node=mrelayus0) with ESMTP (Nemesis),
	id 0MKoyl-1Fi9Fb2EDh-0006NM; Mon, 22 May 2006 08:11:10 -0400
Message-ID: <4471A90D.6080204@insideview.com>
Date: Mon, 22 May 2006 17:35:33 +0530
From: Harini Raghavan <harini.raghavan@insideview.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: indexing in lucene 1.9.1
References: <447152DA.4000802@insideview.com> <931ca11b0605220438i138a0f1co92a0374e4500f8ee@mail.gmail.com>
In-Reply-To: <931ca11b0605220438i138a0f1co92a0374e4500f8ee@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: perfora.net abuse@perfora.net login:9759476ad67fa08aca5d9352c82c69ea
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Mike,

Yes you are right, when we run the optimize(), it creates one large 
segment file and makes the searching faster. But  the issue is our index 
keeps growing every minute as we download documents add to the index, so 
we cannot call optimize so often. The indexing seemed to be fine till we 
migrated to lucene 1.9.1.

I just compared the IndexWriter classes in 1.4.3 and 1.9.1 versions and 
found that there are some changes wrt to creating new segments. Any idea 
if that has impacted indexing? Has anyone else faced a similar issue 
with the new version of lucene?

-Harini

Mike Richmond wrote:

> Hello Harini,
>
> When you are finished indexing the documents are you running the
> optimize() method on the IndexWriter before closing it?  This should
> reduce the number of segments and make searching faster.  Just a
> thought.
>
>
> --Mike
>
>
>
> On 5/22/06, Harini Raghavan <harini.raghavan@insideview.com> wrote:
>
>> Hi All,
>> We have recently upgraded from lucene 1.4.3 to lucene 1.9.1 version.
>> After the upgrade, we are facing some issues:
>> 1. Indexing seems to be behaving differently. There were more than 300
>> segment files(.cfs) in the index and the IndexSearcher is taking forever
>> to refresh the index. Have there been any changes in 1.9.1 wrt default
>> values for merging segment files/ indexing?
>> 2. Our application downloads documents and indexes them every min as a
>> continuous process. So, we have a Quartz job that refreshes the Index
>> Searcher every 4 hours. Would this have any effect on the indexing
>> process/ add more no of segments?
>> Any help would be appreciated.
>> Thanks,
>> Harini
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20783-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 12:37:21 2006
Return-Path: <java-user-return-20783-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84499 invoked from network); 22 May 2006 12:37:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 12:37:21 -0000
Received: (qmail 59300 invoked by uid 500); 22 May 2006 12:37:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59275 invoked by uid 500); 22 May 2006 12:37:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59260 invoked by uid 99); 22 May 2006 12:37:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 05:37:15 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=DATE_IN_PAST_12_24
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [203.92.45.238] (HELO noidagw01.naukri.com) (203.92.45.238)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 05:37:13 -0700
Received: from [192.168.2.40] ([192.168.2.40])
	by noidagw01.naukri.com (8.13.4/8.13.4) with ESMTP id k4MCUut3008836
	for <java-user@lucene.apache.org>; Mon, 22 May 2006 18:00:56 +0530
Message-ID: <44710096.1030109@naukri.com>
Date: Mon, 22 May 2006 05:36:46 +0530
From: Kapil Chhabra <kapil.chhabra@naukri.com>
User-Agent: Thunderbird 1.5 (X11/20060313)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Aggregating category hits
References: <200605161004.k4GA4OZU044340@pigeon.ciao.com> <4469A662.6090407@naukri.com>
In-Reply-To: <4469A662.6090407@naukri.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Jelda,
Is there any way by which I can achieve sorting of search results along 
with overriding the collect method of the HitCollector in this case?
I have been using

srch.search(query,sort);

If I replace it with srch.search(query, new HitCollector(){ impl of the 
collect method to collect counts }),
I will have no way to sort my results.

Any pointers?

Regards,
kapilChhabra

Kapil Chhabra wrote:
> Thanks a lot Jelda.
> I'll try this get back with the performance comparison chart.
>
> Regards,
> kapilChhabra
>
> Ramana Jelda wrote:
>> Hi Kapil,
>> As I remember FieldCache is in lucene api since 1.4 .
>> Ok . Anyhow here is suedo code that can help.
>>
>> //1. initialize reader on opening documentId to the categoryid 
>> relation as
>> below. Depending on your requirement you can either 
>> getStringIndex().. I get
>> StringIndex in //my project.
>>
>> String[] docId2CategoryIdRelation=FieldCache.DEFAULT.getStrings(reader,
>> categoryFieldName);
>>
>> //2. cache it
>> //3. search as usal with your Query providing your own HitCollector
>> //4. use docId2CategoryIdRelation to retrieve category id for each 
>> result
>> document
>> String yourCategoryId=    docId2CategoryIdRelation[resultDocId]
>> //5.Increment yourCategoryId count (do lazy initialization of 
>> categoryCounts
>> holder.FAQ.)
>>
>> //6 You are done.. :)
>>
>> All the best,
>> Jelda
>>
>>
>>
>>
>>  
>>> -----Original Message-----
>>> From: Kapil Chhabra [mailto:kapil.chhabra@naukri.com] Sent: Tuesday, 
>>> May 16, 2006 11:50 AM
>>> To: java-user@lucene.apache.org
>>> Subject: Re: Aggregating category hits
>>>
>>> Hi Jelda,
>>> I have not yet migrated to Lucene 1.9 and I guess FieldCache has 
>>> been introduced in this release.
>>> Can you please give me a pointer to your strategy of FieldCache?
>>>
>>> Thanks & Regards,
>>> Kapil Chhabra
>>>
>>>
>>> Ramana Jelda wrote:
>>>    
>>>> But this BitSet strategy is more memory consuming mainly if       
>>> you have    
>>>> documents in million numbers and categories in thousands.
>>>> So I preferred in my project FieldCache strategy.
>>>>
>>>> Jelda
>>>>
>>>>        
>>>>> -----Original Message-----
>>>>> From: Kapil Chhabra [mailto:kapil.chhabra@naukri.com]
>>>>> Sent: Tuesday, May 16, 2006 7:38 AM
>>>>> To: java-user@lucene.apache.org
>>>>> Subject: Re: Aggregating category hits
>>>>>
>>>>> Even I am doing the same in my application.
>>>>> Once in a day, all the filters [for different categories] are 
>>>>> initialized. Each time a query is fired, the Query BitSet is ANDed 
>>>>> with the BitSet of each filter. The cardinality obtained is the 
>>>>> desired output.
>>>>> @Eric: I would like to know more about the implementation         
>>> with DocSet    
>>>>> in place of Bitset.
>>>>>
>>>>> Regards,
>>>>> kapilChhabra
>>>>>
>>>>>
>>>>> Erik Hatcher wrote:
>>>>>            
>>>>>> On May 15, 2006, at 5:07 PM, Marvin Humphrey wrote:
>>>>>>                
>>>>>>> If you needed to know not just the total number of hits, but the 
>>>>>>> number of hits in each "category", how would you handle that?
>>>>>>>
>>>>>>> For instance, a search for "egg" would have to produce             
>>> the 20 most    
>>>>>>> relevant documents for "egg", but also a list like this:
>>>>>>>
>>>>>>> Holiday & Seasonal / Easter 75
>>>>>>> Books / Cooking 52
>>>>>>> Miscellaneous 44
>>>>>>> Kitchen Collectibles 43
>>>>>>> Hobbies / Crafts 17
>>>>>>> [...]
>>>>>>>
>>>>>>> It seems to me that you'd have to retrieve each hit's
>>>>>>>                     
>>>>> stored fields
>>>>>            
>>>>>>> and examine the contents of a "category" field. That's a lot of 
>>>>>>> overhead. Is there another way?
>>>>>>>                     
>>>>>> My first implementation of faceted browsing uses BitSet's           
>>> that get    
>>>>>> pre-loaded for each category value (each unique term in a           
>>> "category"
>>>    
>>>>>> field, for example). And to intersect that with an actual           
>>> Query, it    
>>>>>> gets run through the QueryFilter to get its BitSet and then AND'd 
>>>>>> together with each of the category BitSet's. Sounds like           
>>> a lot, but    
>>>>>> for my applications there are not tons of these BitSet's and the 
>>>>>> performance has been outstanding. Now that I'm doing more
>>>>>>                 
>>>>> with Solr,
>>>>>            
>>>>>> I'm beginning to leverage its amazing caching infrastructure and 
>>>>>> replacing BitSet's with DocSet's.
>>>>>>
>>>>>> Erik
>>>>>>
>>>>>>
>>>>>>
>>>>>>                 
>>> ---------------------------------------------------------------------
>>>    
>>>>>            
>>>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>>>
>>>>>>
>>>>>>                 
>>> ---------------------------------------------------------------------
>>>    
>>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>>
>>>>>             
>>>>
>>>>       
>>> ---------------------------------------------------------------------
>>>    
>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>
>>>>
>>>>         
>>>     
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>   
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20784-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 12:52:44 2006
Return-Path: <java-user-return-20784-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89357 invoked from network); 22 May 2006 12:52:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 12:52:44 -0000
Received: (qmail 88992 invoked by uid 500); 22 May 2006 12:52:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88966 invoked by uid 500); 22 May 2006 12:52:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88955 invoked by uid 99); 22 May 2006 12:52:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 05:52:37 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ramana.jelda@ciao-group.com designates 194.112.113.90 as permitted sender)
Received: from [194.112.113.90] (HELO pigeon.ciao.com) (194.112.113.90)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 05:52:35 -0700
Received: from Jelda (gateway.ciao.com [194.221.9.215])
	by pigeon.ciao.com (8.13.3/8.13.3) with ESMTP id k4MCqCuf017313
	for <java-user@lucene.apache.org>; Mon, 22 May 2006 14:52:12 +0200 (CEST)
	(envelope-from ramana.jelda@ciao-group.com)
Message-Id: <200605221252.k4MCqCuf017313@pigeon.ciao.com>
From: "Ramana Jelda" <ramana.jelda@ciao-group.com>
To: <java-user@lucene.apache.org>
Subject: RE: Aggregating category hits
Date: Mon, 22 May 2006 14:52:07 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <44710096.1030109@naukri.com>
Thread-Index: AcZ9nHnk8GyB8FoISZ++AQYzcoG5kwAASiYA
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
X-Scanned-By: MIMEDefang 2.52 on 194.112.113.90
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I think, if you dig a little bit what lucene is when asked to do Sort then
you will get the information what you are looking for. 

Here is some help.
Lucene uses TopFieldDocCollector for sorting purpose(lookat implementation
of IndexSearcher).
So your HitCollector will extend this TopFieldDocCollector, so that you will
do your work what ever you want to do  and also let TopFieldDocCollector do
its work (sorting..).I think I don't need to explain you more. 

Then you are done. 

Have fun,
Jelda




> -----Original Message-----
> From: Kapil Chhabra [mailto:kapil.chhabra@naukri.com] 
> Sent: Monday, May 22, 2006 2:07 AM
> To: java-user@lucene.apache.org
> Subject: Re: Aggregating category hits
> 
> Hi Jelda,
> Is there any way by which I can achieve sorting of search 
> results along with overriding the collect method of the 
> HitCollector in this case?
> I have been using
> 
> srch.search(query,sort);
> 
> If I replace it with srch.search(query, new HitCollector(){ 
> impl of the collect method to collect counts }), I will have 
> no way to sort my results.
> 
> Any pointers?
> 
> Regards,
> kapilChhabra
> 
> Kapil Chhabra wrote:
> > Thanks a lot Jelda.
> > I'll try this get back with the performance comparison chart.
> >
> > Regards,
> > kapilChhabra
> >
> > Ramana Jelda wrote:
> >> Hi Kapil,
> >> As I remember FieldCache is in lucene api since 1.4 .
> >> Ok . Anyhow here is suedo code that can help.
> >>
> >> //1. initialize reader on opening documentId to the categoryid 
> >> relation as below. Depending on your requirement you can either 
> >> getStringIndex().. I get StringIndex in //my project.
> >>
> >> String[] 
> >> docId2CategoryIdRelation=FieldCache.DEFAULT.getStrings(reader,
> >> categoryFieldName);
> >>
> >> //2. cache it
> >> //3. search as usal with your Query providing your own 
> HitCollector 
> >> //4. use docId2CategoryIdRelation to retrieve category id for each 
> >> result document
> >> String yourCategoryId=    docId2CategoryIdRelation[resultDocId]
> >> //5.Increment yourCategoryId count (do lazy initialization of 
> >> categoryCounts
> >> holder.FAQ.)
> >>
> >> //6 You are done.. :)
> >>
> >> All the best,
> >> Jelda
> >>
> >>
> >>
> >>
> >>  
> >>> -----Original Message-----
> >>> From: Kapil Chhabra [mailto:kapil.chhabra@naukri.com] 
> Sent: Tuesday, 
> >>> May 16, 2006 11:50 AM
> >>> To: java-user@lucene.apache.org
> >>> Subject: Re: Aggregating category hits
> >>>
> >>> Hi Jelda,
> >>> I have not yet migrated to Lucene 1.9 and I guess FieldCache has 
> >>> been introduced in this release.
> >>> Can you please give me a pointer to your strategy of FieldCache?
> >>>
> >>> Thanks & Regards,
> >>> Kapil Chhabra
> >>>
> >>>
> >>> Ramana Jelda wrote:
> >>>    
> >>>> But this BitSet strategy is more memory consuming mainly 
> if       
> >>> you have    
> >>>> documents in million numbers and categories in thousands.
> >>>> So I preferred in my project FieldCache strategy.
> >>>>
> >>>> Jelda
> >>>>
> >>>>        
> >>>>> -----Original Message-----
> >>>>> From: Kapil Chhabra [mailto:kapil.chhabra@naukri.com]
> >>>>> Sent: Tuesday, May 16, 2006 7:38 AM
> >>>>> To: java-user@lucene.apache.org
> >>>>> Subject: Re: Aggregating category hits
> >>>>>
> >>>>> Even I am doing the same in my application.
> >>>>> Once in a day, all the filters [for different categories] are 
> >>>>> initialized. Each time a query is fired, the Query 
> BitSet is ANDed 
> >>>>> with the BitSet of each filter. The cardinality obtained is the 
> >>>>> desired output.
> >>>>> @Eric: I would like to know more about the 
> implementation         
> >>> with DocSet    
> >>>>> in place of Bitset.
> >>>>>
> >>>>> Regards,
> >>>>> kapilChhabra
> >>>>>
> >>>>>
> >>>>> Erik Hatcher wrote:
> >>>>>            
> >>>>>> On May 15, 2006, at 5:07 PM, Marvin Humphrey wrote:
> >>>>>>                
> >>>>>>> If you needed to know not just the total number of 
> hits, but the 
> >>>>>>> number of hits in each "category", how would you handle that?
> >>>>>>>
> >>>>>>> For instance, a search for "egg" would have to 
> produce             
> >>> the 20 most    
> >>>>>>> relevant documents for "egg", but also a list like this:
> >>>>>>>
> >>>>>>> Holiday & Seasonal / Easter 75
> >>>>>>> Books / Cooking 52
> >>>>>>> Miscellaneous 44
> >>>>>>> Kitchen Collectibles 43
> >>>>>>> Hobbies / Crafts 17
> >>>>>>> [...]
> >>>>>>>
> >>>>>>> It seems to me that you'd have to retrieve each hit's
> >>>>>>>                     
> >>>>> stored fields
> >>>>>            
> >>>>>>> and examine the contents of a "category" field. 
> That's a lot of 
> >>>>>>> overhead. Is there another way?
> >>>>>>>                     
> >>>>>> My first implementation of faceted browsing uses 
> BitSet's           
> >>> that get    
> >>>>>> pre-loaded for each category value (each unique term 
> in a           
> >>> "category"
> >>>    
> >>>>>> field, for example). And to intersect that with an 
> actual           
> >>> Query, it    
> >>>>>> gets run through the QueryFilter to get its BitSet and 
> then AND'd 
> >>>>>> together with each of the category BitSet's. Sounds 
> like           
> >>> a lot, but    
> >>>>>> for my applications there are not tons of these 
> BitSet's and the 
> >>>>>> performance has been outstanding. Now that I'm doing more
> >>>>>>                 
> >>>>> with Solr,
> >>>>>            
> >>>>>> I'm beginning to leverage its amazing caching 
> infrastructure and 
> >>>>>> replacing BitSet's with DocSet's.
> >>>>>>
> >>>>>> Erik
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>                 
> >>> 
> --------------------------------------------------------------------
> >>> -
> >>>    
> >>>>>            
> >>>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>>>>> For additional commands, e-mail: 
> java-user-help@lucene.apache.org
> >>>>>>
> >>>>>>
> >>>>>>                 
> >>> 
> --------------------------------------------------------------------
> >>> -
> >>>    
> >>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>>>> For additional commands, e-mail: 
> java-user-help@lucene.apache.org
> >>>>>
> >>>>>             
> >>>>
> >>>>       
> >>> 
> --------------------------------------------------------------------
> >>> -
> >>>    
> >>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>>> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>>>
> >>>>
> >>>>         
> >>>     
> >>
> >>
> >> 
> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >>   
> >
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20785-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 13:48:39 2006
Return-Path: <java-user-return-20785-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15428 invoked from network); 22 May 2006 13:48:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 13:48:39 -0000
Received: (qmail 4282 invoked by uid 500); 22 May 2006 13:48:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4254 invoked by uid 500); 22 May 2006 13:48:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4238 invoked by uid 99); 22 May 2006 13:48:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 06:48:30 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of daniel.armbrust.list@gmail.com designates 64.233.166.179 as permitted sender)
Received: from [64.233.166.179] (HELO py-out-1112.google.com) (64.233.166.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 06:48:29 -0700
Received: by py-out-1112.google.com with SMTP id c39so1453187pyd
        for <java-user@lucene.apache.org>; Mon, 22 May 2006 06:48:06 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=h40VFcfFrOMXFxE6rdno30qvbZspXIptH2DIs8Y98TFCN4VAOuzL5oFJo4UQutEdHx0noNB1835ykQwxLAw0m/f/b5+2ch/Hk5y/A2kfmFH/Ehg0OqljErAS5AW7IIffN5vViKBPF42McF/zZ3LXlhhANtTerx60TltrWn2o1wo=
Received: by 10.35.18.4 with SMTP id v4mr2563255pyi;
        Mon, 22 May 2006 06:48:06 -0700 (PDT)
Received: from ?172.24.51.72? ( [129.176.197.15])
        by mx.gmail.com with ESMTP id w54sm1101636pye.2006.05.22.06.48.06;
        Mon, 22 May 2006 06:48:06 -0700 (PDT)
Message-ID: <4471C115.80309@gmail.com>
Date: Mon, 22 May 2006 08:48:05 -0500
From: Dan Armbrust <daniel.armbrust.list@gmail.com>
User-Agent: Thunderbird 1.5.0.2 (Windows/20060308)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: OutOfMemory and IOException Access Denied errors
References: <OFDEFE804C.D1CED810-ON80257173.00505150-80257173.0050D427@SAAConsultants.com> <446DEA68.4070506@cs.man.ac.uk> <200605190934.16475.dennis@guba.com> <446DFDF9.5010401@cs.man.ac.uk>
In-Reply-To: <446DFDF9.5010401@cs.man.ac.uk>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>> Your out of memory error is likely due to a mysql bug outlined here:
>>
>>   http://bugs.mysql.com/bug.php?id=7698
> Thanks for the article. My query executed in no time without any errors !!!


The MySQL drivers are horrible at dealing with large result sets - that 
article gives you the workaround to tell it to bring the results back as 
they are needed (like it should in the first place) but I have found 
that it isn't reliable - it tends to drop out at random points during 
the query - so you will get a different number of rows each time you 
rerun the query.  In MySQL - the only reliable way I have found to get 
all of the results from a large table is to use their "limit" keyword in 
the query, and only ask it for X (I usually use 10,000, but use whatever 
works best with your system) number of rows as a time, and then keep 
rerunning the query, incrementing up the start position of the "limit" 
keyword.  This issue also varies a lot from version to version of the 
driver - some versions have been completely broken, and others are only 
slightly broken.  To bad we can't get lucene quality code everywhere :)



 >> Exception in thread "main" java.io.IOException: Access is denied

To me, that really seems like you have an issue with the location that 
you are writing the index to.  I would make sure you have full write 
permissions to the location, and make sure there aren't some old / 
invalid files sitting in there.

Dan


-- 
****************************
Daniel Armbrust
Biomedical Informatics
Mayo Clinic Rochester
daniel.armbrust(at)mayo.edu
http://informatics.mayo.edu/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20786-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 14:22:27 2006
Return-Path: <java-user-return-20786-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26813 invoked from network); 22 May 2006 14:22:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 14:22:27 -0000
Received: (qmail 77597 invoked by uid 500); 22 May 2006 14:22:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77574 invoked by uid 500); 22 May 2006 14:22:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77563 invoked by uid 99); 22 May 2006 14:22:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 07:22:20 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.57] (HELO web50303.mail.yahoo.com) (206.190.38.57)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 22 May 2006 07:22:19 -0700
Received: (qmail 53607 invoked by uid 60001); 22 May 2006 14:21:54 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=scu8/ks0VhTea5AtKjnPRvrdrLtSDB8G0KUBgTeBWeMtPZgfUDxjlBqT8d9HNj+54XWUVrt+jmVN4OMmxoArtCfOBofjolxEaMB+BX1I1ulziIlO5XU7Y5THEcSGS+WTD+pTQufJXmlJBwMm89EOOw/BtDWMUcgvJXOyKsd8p38=  ;
Message-ID: <20060522142154.53605.qmail@web50303.mail.yahoo.com>
Date: Mon, 22 May 2006 07:21:54 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: What is more efficient?
To: java-user@lucene.apache.org
In-Reply-To: <d7a865a50605220303w4e597b9ap1e439b1ac8133728@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The usual answer: it depends :)
Over on http://www.simpy.com I have similar functionality (groups), and I have them as separate indices.

If you want to be able to reindex individual groups separately, you;ll want them in separate groups.
If groups in aggregate will get very large, perhaps keeping them separate is more scalable.
If you want to distribute groups over multiple servers, keep them separate.
If they are heterogeneous (different fields), this may be another reason to keep them separate.
etc.

Of course, if some of the above don't hold or are not a requirement, a single group may be the way to go for you.

Otis


----- Original Message ----
From: Dan Wiggin <danutchi@gmail.com>
To: java-user@lucene.apache.org
Sent: Monday, May 22, 2006 6:03:25 AM
Subject: What is more efficient?

If I work with groups, whats the best option do do? Use a multiple lucene
index for every group or is bettter an unique index.
For example:
I'm working with groups of people, and the action to add or delete is in
group level but the search is on all groups.
What do you think is the best implementation in lucene? I have any number of
index limitation in Multisearcher?




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20787-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 14:29:15 2006
Return-Path: <java-user-return-20787-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29280 invoked from network); 22 May 2006 14:29:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 14:29:14 -0000
Received: (qmail 91163 invoked by uid 500); 22 May 2006 14:29:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91075 invoked by uid 500); 22 May 2006 14:29:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91064 invoked by uid 99); 22 May 2006 14:29:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 07:29:08 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.58] (HELO web50304.mail.yahoo.com) (206.190.38.58)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 22 May 2006 07:29:05 -0700
Received: (qmail 12695 invoked by uid 60001); 22 May 2006 14:28:41 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=HIKi2IAPi34uDWwRRjJn+CeU4twsBr1BIAD3+K0CWTUHCg4jQrPySHLqruv8Z6lqdi92n4j4TCIEi99pa4JXoxFGhqvJ0klWmjc7vGYI8VxZFZ/iDW+Blf3/79m8jiHHuwHy9PfgzKeNrrFAzzo2kFNn6njdz1TiSklaK5TkAlI=  ;
Message-ID: <20060522142841.12693.qmail@web50304.mail.yahoo.com>
Date: Mon, 22 May 2006 07:28:41 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: should I avoid create many Fields for a Document?
To: java-user@lucene.apache.org
In-Reply-To: <6026e8b0605212308t60dd59c6n6eac470ab710540d@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Uh, another it depends answer.
Some people prefer one aggregate field, others do not.
If you care about field normalization (shorter fields with matches in them =
shoring higher than longer fields with equal number of matches in them), I'=
d say keep them separate.
If you want to boost individual fields differently at search time, keep the=
m separate.

Over at http://www.simpy.com/ I tend to keep fields separate.  Some of the =
fields that indices at Simpy have are: title, tags, url, etc.  When a user =
performs a search I can use MultiFieldQueryParser and soon I'll be able to =
boost these fields differently (e.g. crowd-supplied tags may get a boost ov=
er web page author-supplied titles).

Also, I probably don't care about the URL length, so I don't need normaliza=
tion there.  That saves some RAM and doesn't hurt scoring.

Otis

----- Original Message ----
From: Paulo Silveira <paulo.silveira@caelum.com.br>
To: java-user@lucene.apache.org
Sent: Monday, May 22, 2006 2:08:24 AM
Subject: should I avoid create many Fields for a Document?

Hello

What is the best way to search? Should I separate all the fields, or
create a big one that have all fields? Does this impact the
performance dramatically?

Creating a big field I would not need to create a BooleanQuery...

last time I did not get any clues, lets see if this time will be better...

thanks!

--=20
Paulo E. A. Silveira
Caelum Ensino e Solu=C3=A7=C3=B5es em Java
http://www.caelum.com.br/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20788-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 14:35:46 2006
Return-Path: <java-user-return-20788-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31415 invoked from network); 22 May 2006 14:35:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 14:35:46 -0000
Received: (qmail 3905 invoked by uid 500); 22 May 2006 14:35:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3871 invoked by uid 500); 22 May 2006 14:35:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3860 invoked by uid 99); 22 May 2006 14:35:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 07:35:40 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.56] (HELO web50302.mail.yahoo.com) (206.190.38.56)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 22 May 2006 07:35:39 -0700
Received: (qmail 97352 invoked by uid 60001); 22 May 2006 14:35:18 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=Io9YC+B/+d8rhLb0sWxsSSdW5nQ3vdW8oKGPZjZUppaWz8mxkwe76gIjno70/poscvW7UVbMxT8yVfEb6ObAVEhDE1pYtJLSaeFUnym5V0FhAS7mElDV/EYtk0gWNl9UPr80NdW9OuN+APFxJsXJvvpasbwnCHcqtoqNXOHfy0c=  ;
Message-ID: <20060522143518.97349.qmail@web50302.mail.yahoo.com>
Date: Mon, 22 May 2006 07:35:17 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: SpanScorer Out Of Bounds
To: java-user@lucene.apache.org
In-Reply-To: <429c032d0605210437y64186efbu844ddb04e4330679@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Michael,
I don't see any responses to your problem.  It's early, so you may get some, but this sounds like a case for JIRA.
Also, please try to write and attach (to your JIRA case) a unit test that demonstrates a problem, something we can run and debug this.  Without that we may not be able to fix this.

Otis


----- Original Message ----
From: Michael Chan <dayzman@gmail.com>
To: java-user@lucene.apache.org
Sent: Sunday, May 21, 2006 7:37:35 AM
Subject: SpanScorer Out Of Bounds

Hi,

Somehow, after running many searches using instances of SpanQuery
(mostly SpanNearQuery), I get the ArrayIndexOutOfBounds exception:

"bash-2.03$ java.lang.ArrayIndexOutOfBoundsException: 2147483647
        at org.apache.lucene.search.spans.SpanScorer.score(SpanScorer.java:72)
        at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:82)
        at org.apache.lucene.search.BooleanScorer2$2.score(BooleanScorer2.java:186)
        at org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java:327)
        at org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java:291)
        at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:132)
        at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:99)
        at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
        at org.apache.lucene.search.Hits.<init>(Hits.java:44)
        at org.apache.lucene.search.Searcher.search(Searcher.java:44)
        at org.apache.lucene.search.Searcher.search(Searcher.java:36)
...
<traces to my program>"

Is there a counter or something in play? Is it a cache or some sort?

Any help will be much appreciated.

Thanks.

Michael

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20789-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 14:39:32 2006
Return-Path: <java-user-return-20789-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32946 invoked from network); 22 May 2006 14:39:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 14:39:31 -0000
Received: (qmail 12043 invoked by uid 500); 22 May 2006 14:39:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11961 invoked by uid 500); 22 May 2006 14:39:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11929 invoked by uid 99); 22 May 2006 14:39:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 07:39:22 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dragon-fly999@hotmail.com designates 207.46.9.114 as permitted sender)
Received: from [207.46.9.114] (HELO hotmail.com) (207.46.9.114)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 07:39:21 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Mon, 22 May 2006 07:39:00 -0700
Message-ID: <BAY119-F343E58C08C3CD596E23CF0B99A0@phx.gbl>
Received: from 207.46.9.123 by by119fd.bay119.hotmail.msn.com with HTTP;
	Mon, 22 May 2006 14:38:35 GMT
X-Originating-IP: [206.35.175.10]
X-Originating-Email: [dragon-fly999@hotmail.com]
X-Sender: dragon-fly999@hotmail.com
From: "Dragon Fly" <dragon-fly999@hotmail.com>
To: java-user@lucene.apache.org
Subject: Performance ...
Date: Mon, 22 May 2006 10:38:35 -0400
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 22 May 2006 14:39:00.0364 (UTC) FILETIME=[76DCE4C0:01C67DAD]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

The search results of my Lucene application are always sorted 
alphabetically.
Therefore, score and relevance are not needed.  With that said, is there
anything that I can "disable" to:

(a) Improve the search performance
(b) Reduce the size of the index
(c) Shorten the indexing time

Thank you.

_________________________________________________________________
Dont just search. Find. Check out the new MSN Search! 
http://search.msn.click-url.com/go/onm00200636ave/direct/01/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20790-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 14:59:46 2006
Return-Path: <java-user-return-20790-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43588 invoked from network); 22 May 2006 14:59:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 14:59:46 -0000
Received: (qmail 54133 invoked by uid 500); 22 May 2006 14:59:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54067 invoked by uid 500); 22 May 2006 14:59:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54009 invoked by uid 99); 22 May 2006 14:59:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 07:59:30 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.60] (HELO web50306.mail.yahoo.com) (206.190.38.60)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 22 May 2006 07:59:28 -0700
Received: (qmail 28711 invoked by uid 60001); 22 May 2006 14:59:07 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=g13Wc8hMYxQaCdcBKH/zQ1EK47ZWYPL+YPAFn/14XTmwsvnM54+/wTxHQ+Py/1h04eDEmbsppjDiAPJ6z9Y0lDlKuqie5xNYewrPcZ9H1udSAjuBfKhntd7qwqlh05MrJtvk3MDKli+z7RoZpyeH/bHHyuqvD5QZTV2UxN2ZMmM=  ;
Message-ID: <20060522145907.28709.qmail@web50306.mail.yahoo.com>
Date: Mon, 22 May 2006 07:59:07 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Searching API: QueryParser vs Programatic queries
To: java-user@lucene.apache.org
In-Reply-To: <62B402A996F16B42BF6E568382E0FEAF16FFE4@uk-ex010.groupinfra.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dave,
You said you are new to Lucene and you didn't mention this class explicitly, so you may not be aware of it yet: PerFieldAnalyzerWrapper.
It sounds like this may be what you are after.

Otis

----- Original Message ----
From: "Irving, Dave" <dave.irving@logicacmg.com>
To: java-user@lucene.apache.org
Sent: Monday, May 22, 2006 5:15:23 AM
Subject: Searching API: QueryParser vs Programatic queries

Hi,

Im very new to Lucene - so sorry if my question seems pretty dumb.

In the application Im writing, I've been "struggling with myself" over
whether I should be building up queries programatically, or using the
Query Parser.

My searchable fields are driven by meta-data, and I only want to support
a few query types. It seems "cleaner" to build the queries up
programatically rather than converting the query to a string and
throwing it through the QueryParser.

However, then we hit the problem that the QueryParser takes care of
Analysing the search strings - so to do this we'd have to write some
utility stuff to perform the analysis as we're building up the queries /
terms.

And then I think "might as well just use the QueryParser!".

So here's what Im wondering (which probably sounds very dumb to
experienced Lucene'rs):

- Is there maybe some room for more utility classes in Lucene which make
this easier? E.g: When building up a document, we don't have to worry
about running content through an analyser - but unless we use
QueryParser, there doesn't seem to be corresponding behaviour on the
search side.
- So, Im thinking some kind of factory / builder or something, where you
can register an Analyser (possibly a per field wrapper), and then it is
applied per field as the query is being built up programatically.

Maybe this is just an "extraction" refactoring to take this behaviour
out of QueryParser (which could delegate to it).

The result could be that more users opt for a programatic build up of
queries (because it's become easier to do..) rather than falling back on
QueryParser in cases where it may not be the best choice.


Sorry if I rambled too much :o)

Dave


This e-mail and any attachment is for authorised use by the intended recipient(s) only. It may contain proprietary material, confidential information and/or be subject to legal privilege. It should not be copied, disclosed to, retained or used by, any other party. If you are not an intended recipient then please promptly delete this e-mail and any attachment and all copies and inform the sender. Thank you.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20791-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 15:09:48 2006
Return-Path: <java-user-return-20791-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49126 invoked from network); 22 May 2006 15:09:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 15:09:48 -0000
Received: (qmail 84886 invoked by uid 500); 22 May 2006 15:09:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84857 invoked by uid 500); 22 May 2006 15:09:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84844 invoked by uid 99); 22 May 2006 15:09:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 08:09:41 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.79.216.190] (HELO cluster-e.mailcontrol.com) (217.79.216.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 08:09:39 -0700
Received: from c1-ex001.groupinfra.com ([213.86.115.108])
	by rly19e.srv.mailcontrol.com (MailControl) with ESMTP id k4MF97eX030679
	for <java-user@lucene.apache.org>; Mon, 22 May 2006 16:09:17 +0100
Received: from uk-ex003.groupinfra.com ([158.234.38.247]) by c1-ex001.groupinfra.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 22 May 2006 16:08:32 +0100
Received: from uk-ex010.groupinfra.com ([158.234.9.225]) by uk-ex003.groupinfra.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 22 May 2006 16:08:31 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Searching API: QueryParser vs Programatic queries
Date: Mon, 22 May 2006 16:08:31 +0100
Message-ID: <62B402A996F16B42BF6E568382E0FEAF16FFEB@uk-ex010.groupinfra.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Searching API: QueryParser vs Programatic queries
Thread-Index: AcZ9sF7JnrFjIl/hRKegcBeJxMH1VgAAGbFQ
From: "Irving, Dave" <dave.irving@logicacmg.com>
To: <java-user@lucene.apache.org>,
        "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
X-OriginalArrivalTime: 22 May 2006 15:08:31.0736 (UTC) FILETIME=[96AECF80:01C67DB1]
X-Scanned-By: MailControl A-06-00-05 (www.mailcontrol.com) on 10.69.0.129
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Otis,

Thanks for your reply.
Yeah, Im aware of PerFieldAnalyserWrapper - and I think it could help in
the solution - but not on its own.
Here's what I mean:

When we build a document Field, we suppy either a String or a Reader.
The framework takes care of running the contents through an Analyser
(per field or otherwise) when we add the document to an index.

However, on the searching side of things, we don't have similar
functionality unless we use the QueryParser.
If we build queries programatically, then we have to make sure (by hand)
that we run search terms through the appropriate analyser whilst
constructing the query.

Its in this area that I wonder whether additional utility classes could
make programatic construction of queries somewhat easier.

Dave

> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
> Sent: 22 May 2006 15:59
> To: java-user@lucene.apache.org
> Subject: Re: Searching API: QueryParser vs Programatic queries
>=20
> Dave,
> You said you are new to Lucene and you didn't mention this=20
> class explicitly, so you may not be aware of it yet:=20
> PerFieldAnalyzerWrapper.
> It sounds like this may be what you are after.
>=20
> Otis
>=20
> ----- Original Message ----
> From: "Irving, Dave" <dave.irving@logicacmg.com>
> To: java-user@lucene.apache.org
> Sent: Monday, May 22, 2006 5:15:23 AM
> Subject: Searching API: QueryParser vs Programatic queries
>=20
> Hi,
>=20
> Im very new to Lucene - so sorry if my question seems pretty dumb.
>=20
> In the application Im writing, I've been "struggling with=20
> myself" over whether I should be building up queries=20
> programatically, or using the Query Parser.
>=20
> My searchable fields are driven by meta-data, and I only want=20
> to support a few query types. It seems "cleaner" to build the=20
> queries up programatically rather than converting the query=20
> to a string and throwing it through the QueryParser.
>=20
> However, then we hit the problem that the QueryParser takes=20
> care of Analysing the search strings - so to do this we'd=20
> have to write some utility stuff to perform the analysis as=20
> we're building up the queries / terms.
>=20
> And then I think "might as well just use the QueryParser!".
>=20
> So here's what Im wondering (which probably sounds very dumb=20
> to experienced Lucene'rs):
>=20
> - Is there maybe some room for more utility classes in Lucene=20
> which make this easier? E.g: When building up a document, we=20
> don't have to worry about running content through an analyser=20
> - but unless we use QueryParser, there doesn't seem to be=20
> corresponding behaviour on the search side.
> - So, Im thinking some kind of factory / builder or=20
> something, where you can register an Analyser (possibly a per=20
> field wrapper), and then it is applied per field as the query=20
> is being built up programatically.
>=20
> Maybe this is just an "extraction" refactoring to take this=20
> behaviour out of QueryParser (which could delegate to it).
>=20
> The result could be that more users opt for a programatic=20
> build up of queries (because it's become easier to do..)=20
> rather than falling back on QueryParser in cases where it may=20
> not be the best choice.
>=20
>=20
> Sorry if I rambled too much :o)
>=20
> Dave
>=20
>=20
> This e-mail and any attachment is for authorised use by the=20
> intended recipient(s) only. It may contain proprietary=20
> material, confidential information and/or be subject to legal=20
> privilege. It should not be copied, disclosed to, retained or=20
> used by, any other party. If you are not an intended=20
> recipient then please promptly delete this e-mail and any=20
> attachment and all copies and inform the sender. Thank you.
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20792-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 15:17:02 2006
Return-Path: <java-user-return-20792-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51383 invoked from network); 22 May 2006 15:17:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 15:17:02 -0000
Received: (qmail 5930 invoked by uid 500); 22 May 2006 15:16:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5894 invoked by uid 500); 22 May 2006 15:16:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5883 invoked by uid 99); 22 May 2006 15:16:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 08:16:55 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of rrprabhu@gmail.com designates 64.233.166.179 as permitted sender)
Received: from [64.233.166.179] (HELO py-out-1112.google.com) (64.233.166.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 08:16:54 -0700
Received: by py-out-1112.google.com with SMTP id c39so1477924pyd
        for <java-user@lucene.apache.org>; Mon, 22 May 2006 08:16:34 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=R26mjuLuqGsUeNGUnVno77mLeBcPowvazkJi5WvtUb9FWI3Bnr/89tNljyHZiKHfS3TOCcP3ESYVBxJN84y9KyqhWULXIBGbUpSC3VHM7FHOiRp/Ko4YnQMogT3mRSEkNyW2W9avGGifeS+uqOvFDvBGp8UCq3q+pEUFTkjypUY=
Received: by 10.35.66.13 with SMTP id t13mr1187636pyk;
        Mon, 22 May 2006 08:16:33 -0700 (PDT)
Received: by 10.35.58.19 with HTTP; Mon, 22 May 2006 08:16:33 -0700 (PDT)
Message-ID: <f13b62210605220816lfca143i4566b456ff4da56c@mail.gmail.com>
Date: Mon, 22 May 2006 20:46:33 +0530
From: "Raghavendra Prabhu" <rrprabhu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Searching API: QueryParser vs Programatic queries
In-Reply-To: <62B402A996F16B42BF6E568382E0FEAF16FFEB@uk-ex010.groupinfra.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_15303_9745389.1148310993836"
References: <62B402A996F16B42BF6E568382E0FEAF16FFEB@uk-ex010.groupinfra.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_15303_9745389.1148310993836
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

If i understand correctly, is it that you dont want to make use of query
parse?

You need to parse a query string without using query parser and construct
the query and still want an analyzer applied on the outcome search.


On 5/22/0 p6, Irving, Dave <dave.irving@logicacmg.com> wrote:

> Hi Otis,
>
> Thanks for your reply.
> Yeah, Im aware of PerFieldAnalyserWrapper - and I think it could help in
> the solution - but not on its own.
> Here's what I mean:
>
> When we build a document Field, we suppy either a String or a Reader.
> The framework takes care of running the contents through an Analyser
> (per field or otherwise) when we add the document to an index.
>
> However, on the searching side of things, we don't have similar
> functionality unless we use the QueryParser.
> If we build queries programatically, then we have to make sure (by hand)
> that we run search terms through the appropriate analyser whilst
> constructing the query.
>
> Its in this area that I wonder whether additional utility classes could
> make programatic construction of queries somewhat easier.
>
> Dave
>
> > -----Original Message-----
> > From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> > Sent: 22 May 2006 15:59
> > To: java-user@lucene.apache.org
> > Subject: Re: Searching API: QueryParser vs Programatic queries
> >
> > Dave,
> > You said you are new to Lucene and you didn't mention this
> > class explicitly, so you may not be aware of it yet:
> > PerFieldAnalyzerWrapper.
> > It sounds like this may be what you are after.
> >
> > Otis
> >
> > ----- Original Message ----
> > From: "Irving, Dave" <dave.irving@logicacmg.com>
> > To: java-user@lucene.apache.org
> > Sent: Monday, May 22, 2006 5:15:23 AM
> > Subject: Searching API: QueryParser vs Programatic queries
> >
> > Hi,
> >
> > Im very new to Lucene - so sorry if my question seems pretty dumb.
> >
> > In the application Im writing, I've been "struggling with
> > myself" over whether I should be building up queries
> > programatically, or using the Query Parser.
> >
> > My searchable fields are driven by meta-data, and I only want
> > to support a few query types. It seems "cleaner" to build the
> > queries up programatically rather than converting the query
> > to a string and throwing it through the QueryParser.
> >
> > However, then we hit the problem that the QueryParser takes
> > care of Analysing the search strings - so to do this we'd
> > have to write some utility stuff to perform the analysis as
> > we're building up the queries / terms.
> >
> > And then I think "might as well just use the QueryParser!".
> >
> > So here's what Im wondering (which probably sounds very dumb
> > to experienced Lucene'rs):
> >
> > - Is there maybe some room for more utility classes in Lucene
> > which make this easier? E.g: When building up a document, we
> > don't have to worry about running content through an analyser
> > - but unless we use QueryParser, there doesn't seem to be
> > corresponding behaviour on the search side.
> > - So, Im thinking some kind of factory / builder or
> > something, where you can register an Analyser (possibly a per
> > field wrapper), and then it is applied per field as the query
> > is being built up programatically.
> >
> > Maybe this is just an "extraction" refactoring to take this
> > behaviour out of QueryParser (which could delegate to it).
> >
> > The result could be that more users opt for a programatic
> > build up of queries (because it's become easier to do..)
> > rather than falling back on QueryParser in cases where it may
> > not be the best choice.
> >
> >
> > Sorry if I rambled too much :o)
> >
> > Dave
> >
> >
> > This e-mail and any attachment is for authorised use by the
> > intended recipient(s) only. It may contain proprietary
> > material, confidential information and/or be subject to legal
> > privilege. It should not be copied, disclosed to, retained or
> > used by, any other party. If you are not an intended
> > recipient then please promptly delete this e-mail and any
> > attachment and all copies and inform the sender. Thank you.
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_15303_9745389.1148310993836--

From java-user-return-20793-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 15:41:18 2006
Return-Path: <java-user-return-20793-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64906 invoked from network); 22 May 2006 15:41:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 15:41:18 -0000
Received: (qmail 57808 invoked by uid 500); 22 May 2006 15:41:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57747 invoked by uid 500); 22 May 2006 15:41:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57696 invoked by uid 99); 22 May 2006 15:41:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 08:41:10 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.166.177 as permitted sender)
Received: from [64.233.166.177] (HELO py-out-1112.google.com) (64.233.166.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 08:41:09 -0700
Received: by py-out-1112.google.com with SMTP id c39so1485032pyd
        for <java-user@lucene.apache.org>; Mon, 22 May 2006 08:40:46 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=ZK0Sn062fNh7SH1lsHjy+OTbhGfZ3WmQapx/eZU+PR9eIfyI/FvmMuGeTjhKZ0pcieMTDjHx26jJCtA+jDuMXYMwdPqWalGpwajxHUccN3ZyhJ2IcY0PZaKHarXi5WGd2x57182JThdD8uWYwxzFgMiumZlADiRcCNnbYPLjHdQ=
Received: by 10.35.17.8 with SMTP id u8mr630634pyi;
        Mon, 22 May 2006 08:40:46 -0700 (PDT)
Received: by 10.35.107.3 with HTTP; Mon, 22 May 2006 08:40:46 -0700 (PDT)
Message-ID: <c68e39170605220840s77e23aeg2bde5320d7329770@mail.gmail.com>
Date: Mon, 22 May 2006 11:40:46 -0400
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Performance ...
In-Reply-To: <BAY119-F343E58C08C3CD596E23CF0B99A0@phx.gbl>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <BAY119-F343E58C08C3CD596E23CF0B99A0@phx.gbl>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 5/22/06, Dragon Fly <dragon-fly999@hotmail.com> wrote:
> The search results of my Lucene application are always sorted
> alphabetically.
> Therefore, score and relevance are not needed.  With that said, is there
> anything that I can "disable" to:
>
> (a) Improve the search performance
> (b) Reduce the size of the index
> (c) Shorten the indexing time

omitNorms on all your fields will reduce memory consumption and will
also improve (b) and (c) primarily.  (see JavaDoc for Field)

-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20794-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 15:45:23 2006
Return-Path: <java-user-return-20794-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66169 invoked from network); 22 May 2006 15:45:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 15:45:22 -0000
Received: (qmail 70155 invoked by uid 500); 22 May 2006 15:45:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70127 invoked by uid 500); 22 May 2006 15:45:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70116 invoked by uid 99); 22 May 2006 15:45:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 08:45:16 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.79.216.190] (HELO cluster-e.mailcontrol.com) (217.79.216.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 08:45:13 -0700
Received: from c1-ex002.groupinfra.com ([213.86.115.109])
	by rly08e.srv.mailcontrol.com (MailControl) with ESMTP id k4MFiiLU009255
	for <java-user@lucene.apache.org>; Mon, 22 May 2006 16:44:51 +0100
Received: from uk-ex004.groupinfra.com ([158.234.68.230]) by c1-ex002.groupinfra.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 22 May 2006 16:44:24 +0100
Received: from uk-ex010.groupinfra.com ([158.234.9.225]) by uk-ex004.groupinfra.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 22 May 2006 16:44:24 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Searching API: QueryParser vs Programatic queries
Date: Mon, 22 May 2006 16:44:24 +0100
Message-ID: <62B402A996F16B42BF6E568382E0FEAF16FFEE@uk-ex010.groupinfra.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Searching API: QueryParser vs Programatic queries
Thread-Index: AcZ9ssi9SGvyJA0GS0W/Zz5xf/VK2gAAtieg
From: "Irving, Dave" <dave.irving@logicacmg.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 22 May 2006 15:44:24.0467 (UTC) FILETIME=[99CF7E30:01C67DB6]
X-Scanned-By: MailControl A-06-00-05 (www.mailcontrol.com) on 10.69.0.118
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> You need to parse a query string without using query parser and=20
> construct the query and still want an analyzer applied on the outcome
search

Not quite. The user is presented with a list of (UI) fields, and each
field already knows whether its an "OR" "AND" etc.
So, there is no query String as such.
For this reason, it seems to make more sense to build the query up
programmatically - as my field meta data can drive this.
However, if I do that, I have to do the work of extracting terms by
running through an analyser for each field manually.
This is also done by the query parser.

So, right now, if Im being lazy, the easiest thing to do is construct a
query string based on the meta data, and then run that through the query
parser. This just doesn't -- feel right -- from a design perspective
though :o)

The logic I could see being extracted out would be some of the stuff in
QueryParser#getFieldQuery(String field, String queryText).


> -----Original Message-----
> From: Raghavendra Prabhu [mailto:rrprabhu@gmail.com]=20
> Sent: 22 May 2006 16:17
> To: java-user@lucene.apache.org
> Subject: Re: Searching API: QueryParser vs Programatic queries
>=20
> If i understand correctly, is it that you dont want to make=20
> use of query parse?
>=20
> You need to parse a query string without using query parser=20
> and construct the query and still want an analyzer applied on=20
> the outcome search.
>=20
>=20
> On 5/22/0 p6, Irving, Dave <dave.irving@logicacmg.com> wrote:
>=20
> > Hi Otis,
> >
> > Thanks for your reply.
> > Yeah, Im aware of PerFieldAnalyserWrapper - and I think it=20
> could help=20
> > in the solution - but not on its own.
> > Here's what I mean:
> >
> > When we build a document Field, we suppy either a String or=20
> a Reader.
> > The framework takes care of running the contents through an=20
> Analyser=20
> > (per field or otherwise) when we add the document to an index.
> >
> > However, on the searching side of things, we don't have similar=20
> > functionality unless we use the QueryParser.
> > If we build queries programatically, then we have to make sure (by=20
> > hand) that we run search terms through the appropriate=20
> analyser whilst=20
> > constructing the query.
> >
> > Its in this area that I wonder whether additional utility classes=20
> > could make programatic construction of queries somewhat easier.
> >
> > Dave
> >
> > > -----Original Message-----
> > > From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
> > > Sent: 22 May 2006 15:59
> > > To: java-user@lucene.apache.org
> > > Subject: Re: Searching API: QueryParser vs Programatic queries
> > >
> > > Dave,
> > > You said you are new to Lucene and you didn't mention this class=20
> > > explicitly, so you may not be aware of it yet:
> > > PerFieldAnalyzerWrapper.
> > > It sounds like this may be what you are after.
> > >
> > > Otis
> > >
> > > ----- Original Message ----
> > > From: "Irving, Dave" <dave.irving@logicacmg.com>
> > > To: java-user@lucene.apache.org
> > > Sent: Monday, May 22, 2006 5:15:23 AM
> > > Subject: Searching API: QueryParser vs Programatic queries
> > >
> > > Hi,
> > >
> > > Im very new to Lucene - so sorry if my question seems pretty dumb.
> > >
> > > In the application Im writing, I've been "struggling with myself"=20
> > > over whether I should be building up queries programatically, or=20
> > > using the Query Parser.
> > >
> > > My searchable fields are driven by meta-data, and I only want to=20
> > > support a few query types. It seems "cleaner" to build=20
> the queries=20
> > > up programatically rather than converting the query to a=20
> string and=20
> > > throwing it through the QueryParser.
> > >
> > > However, then we hit the problem that the QueryParser=20
> takes care of=20
> > > Analysing the search strings - so to do this we'd have to=20
> write some=20
> > > utility stuff to perform the analysis as we're building up the=20
> > > queries / terms.
> > >
> > > And then I think "might as well just use the QueryParser!".
> > >
> > > So here's what Im wondering (which probably sounds very dumb to=20
> > > experienced Lucene'rs):
> > >
> > > - Is there maybe some room for more utility classes in=20
> Lucene which=20
> > > make this easier? E.g: When building up a document, we=20
> don't have to=20
> > > worry about running content through an analyser
> > > - but unless we use QueryParser, there doesn't seem to be=20
> > > corresponding behaviour on the search side.
> > > - So, Im thinking some kind of factory / builder or=20
> something, where=20
> > > you can register an Analyser (possibly a per field wrapper), and=20
> > > then it is applied per field as the query is being built up=20
> > > programatically.
> > >
> > > Maybe this is just an "extraction" refactoring to take this=20
> > > behaviour out of QueryParser (which could delegate to it).
> > >
> > > The result could be that more users opt for a programatic=20
> build up=20
> > > of queries (because it's become easier to do..) rather=20
> than falling=20
> > > back on QueryParser in cases where it may not be the best choice.
> > >
> > >
> > > Sorry if I rambled too much :o)
> > >
> > > Dave
> > >
> > >
> > > This e-mail and any attachment is for authorised use by=20
> the intended=20
> > > recipient(s) only. It may contain proprietary material,=20
> confidential=20
> > > information and/or be subject to legal privilege. It=20
> should not be=20
> > > copied, disclosed to, retained or used by, any other=20
> party. If you=20
> > > are not an intended recipient then please promptly delete this=20
> > > e-mail and any attachment and all copies and inform the sender.=20
> > > Thank you.
> > >
> > >=20
> --------------------------------------------------------------------
> > > - To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> > >
> > >
> > >
> > >=20
> --------------------------------------------------------------------
> > > - To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
> >=20
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20795-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 15:52:02 2006
Return-Path: <java-user-return-20795-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68419 invoked from network); 22 May 2006 15:52:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 15:52:02 -0000
Received: (qmail 88245 invoked by uid 500); 22 May 2006 15:51:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88213 invoked by uid 500); 22 May 2006 15:51:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88202 invoked by uid 99); 22 May 2006 15:51:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 08:51:55 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [12.154.210.214] (HELO rectangular.com) (12.154.210.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 08:51:53 -0700
Received: from [67.189.26.9] (helo=[10.0.1.3])
	by rectangular.com with esmtpa (Exim 4.44)
	id 1FiCqR-000I27-Ar
	for java-user@lucene.apache.org; Mon, 22 May 2006 09:01:23 -0700
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <62B402A996F16B42BF6E568382E0FEAF16FFEE@uk-ex010.groupinfra.com>
References: <62B402A996F16B42BF6E568382E0FEAF16FFEE@uk-ex010.groupinfra.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <4B4A467E-A6B3-47B0-A0BE-49577DAECF46@rectangular.com>
Content-Transfer-Encoding: 7bit
From: Marvin Humphrey <marvin@rectangular.com>
Subject: Re: Searching API: QueryParser vs Programatic queries
Date: Mon, 22 May 2006 08:51:31 -0700
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 22, 2006, at 8:44 AM, Irving, Dave wrote:

> So, right now, if Im being lazy, the easiest thing to do is  
> construct a
> query string based on the meta data, and then run that through the  
> query
> parser. This just doesn't -- feel right -- from a design perspective
> though :o)

How about building a larger BooleanQuery by combining the output of  
the QueryParser with custom-built Query objects based on your metadata?

Marvin Humphrey
Rectangular Research
http://www.rectangular.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20796-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 16:55:37 2006
Return-Path: <java-user-return-20796-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88244 invoked from network); 22 May 2006 16:55:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 16:55:37 -0000
Received: (qmail 13747 invoked by uid 500); 22 May 2006 16:55:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13719 invoked by uid 500); 22 May 2006 16:55:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13707 invoked by uid 99); 22 May 2006 16:55:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 09:55:30 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jjl@panix.com designates 166.84.1.73 as permitted sender)
Received: from [166.84.1.73] (HELO mail2.panix.com) (166.84.1.73)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 09:55:28 -0700
Received: from mailspool2.panix.com (mailspool2.panix.com [166.84.1.79])
	by mail2.panix.com (Postfix) with ESMTP id A9D779DA40
	for <java-user@lucene.apache.org>; Mon, 22 May 2006 12:55:05 -0400 (EDT)
Received: from [192.168.1.3] (pool-70-107-44-90.ny325.east.verizon.net [70.107.44.90])
	by mailspool2.panix.com (Postfix) with ESMTP id A28FEA77502
	for <java-user@lucene.apache.org>; Mon, 22 May 2006 12:55:05 -0400 (EDT)
Mime-Version: 1.0
Message-Id: <p06230974c09794d8a0be@[192.168.1.3]>
In-Reply-To:
 <62B402A996F16B42BF6E568382E0FEAF16FFE4@uk-ex010.groupinfra.com>
References:
 <62B402A996F16B42BF6E568382E0FEAF16FFE4@uk-ex010.groupinfra.com>
Date: Mon, 22 May 2006 12:54:50 -0400
To: java-user@lucene.apache.org
From: "J.J. Larrea" <jjl@panix.com>
Subject: Re: Searching API: QueryParser vs Programatic queries
Content-Type: text/plain; charset="us-ascii"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

At 10:15 AM +0100 5/22/06, Irving, Dave wrote:
>- Is there maybe some room for more utility classes in Lucene which make
>this easier? E.g: When building up a document, we don't have to worry
>about running content through an analyser - but unless we use
>QueryParser, there doesn't seem to be corresponding behaviour on the
>search side.
>- So, Im thinking some kind of factory / builder or something, where you
>can register an Analyser (possibly a per field wrapper), and then it is
>applied per field as the query is being built up programatically.
>
>Maybe this is just an "extraction" refactoring to take this behaviour
>out of QueryParser (which could delegate to it).
>
>The result could be that more users opt for a programatic build up of
>queries (because it's become easier to do..) rather than falling back on
>QueryParser in cases where it may not be the best choice.

I concur with your thoughts that there is room for such utility classes, and that those would increase the use of programmatic queries.  I say this as a developer who also "lazed out" and opted to simply construct a string and let the QP do all the work (but who then had to subclass and finally copy-and-modify QP to make it conform to requirements).

The underlying issue may be that there are two quite different concerns bundled into QueryParser:
 - Parsing a string into a set of discrete query requests
 - Constructing Query objects to meet those requests

If you take a look at http://issues.apache.org/jira/browse/LUCENE-344 you'll see that someone else (Matthew Denner) also had this belief, and went so far as to implement a QueryFactory interface and a couple of implementing classes.  One has the construction logic now found in QueryParser.  Then there is a decorator class which adds the functionality of MultiFieldQueryParser and another which lower-cases terms.

Perhaps something along those lines that should be considered for the next break in API continuity eg. Lucene 2.0.  It seems much cleaner than subclassing QP when all that is needed is a variant in Query construction logic, and it also provides a higher-level interface for constructing Query objects (especially TermQuery) like you were proposing.  Unfortunately the actual LUCENE-344 patch appears out of date with changes in QueryParser, MultiFieldQueryParser, etc.  But perhaps just the QueryFactory part would be a good starting point for what you want to do.

Anyway, just a thought.

- J.J.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20797-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 17:00:49 2006
Return-Path: <java-user-return-20797-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89212 invoked from network); 22 May 2006 17:00:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 17:00:49 -0000
Received: (qmail 19671 invoked by uid 500); 22 May 2006 17:00:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19346 invoked by uid 500); 22 May 2006 17:00:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 9691 invoked by uid 99); 22 May 2006 13:51:00 -0000
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jwilsonsprings@adelphia.net designates 68.168.78.205 as permitted sender)
Subject: Searching missing documents after doing an addIndexes
From: Jim Wilson <jwilsonsprings@adelphia.net>
To: java-user@lucene.apache.org
Content-Type: text/plain
Date: Mon, 22 May 2006 07:50:35 -0600
Message-Id: <1148305835.32238.120.camel@p450.local>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 (2.0.2-27) 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am using 1.9.1(java).

I am trying to add documents to an existing index that may or may not
exist. I use a RAMDirectory to build a temp index that is later merged.
Before adding a new document, I search the existing index (using unique
key) to see if it is there. If not, I add it. 

In reading the documentation, I understood that I can search while an
index is being updated. It was not clear if that search would include
recently added items. I had assumed it would. However, it appears to not
find them unless I close and re-open the searcher...

The net result is that I get duplicate documents as the search does not
find the document if I recently added it.

Note that the duplicate CANNOT come from the RAMDirectory (i.e.,
getNewDocuments), as it is guaranteed to have no duplicates in it. The
search is failing to find documents that have been recently added via a
"addIndexes".

Can anyone clarify this behavior, i.e., why does search not find
recently added documents unless I close and re-open it?

I have code that does roughly the following:

RAMDirectory added = new RAMDirectory(...)

IndexWriter writer = new IndexWriter(the main index);
IndexWriter ramWriter = new IndexWriter(added)
IndexSearcher searcher = new IndexSearcher(...)

for (Document d : getNewDocuments()) {
	... build a query
  if (searcher.search(...) == 0) {
     // doesn't exist, so we can add it
  }
  if (timeToMerge) {
    writer.addIndexes(new Directory[] {added});
    added.close();se();
    added = new RAMDirectory();
    ramWriter.close();
    ramWriter = new IndexWriter(added, new StandardAnalyzer(), true);
    // for some reason the searcher won't see the new indices
    // unless the following two lines are here
    searcher.close();
    searcher = new IndexSearcher(current.getDirectory());
  }
}

Jim Wilson
Colorado Springs, CO 
719-266-4431 (Home)
719-661-6768 (Cell)
jwilsonsprings@adelphia.net
IM:jwilsonsprings
Registered Linux User # 302849


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20798-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 17:02:48 2006
Return-Path: <java-user-return-20798-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90761 invoked from network); 22 May 2006 17:02:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 17:02:48 -0000
Received: (qmail 26017 invoked by uid 500); 22 May 2006 17:02:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25945 invoked by uid 500); 22 May 2006 17:02:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25934 invoked by uid 99); 22 May 2006 17:02:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 10:02:42 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 10:02:41 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 4E27433CAB9; Mon, 22 May 2006 13:02:21 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id 24DE933C68A
	for <java-user@lucene.apache.org>; Mon, 22 May 2006 13:02:20 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <4ba70b40605211956w4c9f25c4y37fd2691f42b9800@mail.gmail.com>
References: <4ba70b40605190213m4368f944r38da4120a50bf5e2@mail.gmail.com> <4A6F7A42-7755-457A-83AB-FF118954D932@ehatchersolutions.com> <4ba70b40605211956w4c9f25c4y37fd2691f42b9800@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <FBD04C2F-2104-4A12-AE82-B4697874D59D@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: does anybody have the experience to do some pooling upon lucene?
Date: Mon, 22 May 2006 13:02:16 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 21, 2006, at 10:56 PM, Zhenjian YU wrote:
> I didn't dig the source code of lucence deep enough, but I noticed  
> that the
> IndexSearcher uses an IndexReader, while the cost of initializing
> IndexReader is a bit high.

The key is the IndexReader.

> My application is a webapp, so I think it may be good if I cache some
> instances of IndexSearcher to provide service for my webapp. I  
> haven't done
> any performance testing yet. Maybe I test it later to see the  
> difference
> between caching and without caching.

It is best to keep only a single IndexSearcher/IndexReader  
combination around.  There is no need to have more than one instance,  
and in fact it is a waste of resources to do so.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20799-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 19:40:27 2006
Return-Path: <java-user-return-20799-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41855 invoked from network); 22 May 2006 19:40:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 19:40:26 -0000
Received: (qmail 25239 invoked by uid 500); 22 May 2006 19:40:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25208 invoked by uid 500); 22 May 2006 19:40:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25197 invoked by uid 99); 22 May 2006 19:40:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 12:40:20 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 12:40:19 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id E4DBA5B773; Mon, 22 May 2006 12:39:48 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id C95D77F403
	for <java-user@lucene.apache.org>; Mon, 22 May 2006 12:39:48 -0700 (PDT)
Date: Mon, 22 May 2006 12:39:48 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Searching missing documents after doing an addIndexes
In-Reply-To: <1148305835.32238.120.camel@p450.local>
Message-ID: <Pine.LNX.4.58.0605221236310.14488@hal.rescomp.berkeley.edu>
References: <1148305835.32238.120.camel@p450.local>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Can anyone clarify this behavior, i.e., why does search not find
: recently added documents unless I close and re-open it?

this is by design .. an IndexReader (and hence an IndexSearcher) maintain
consistent views of the index at the moment they were open by hanging on
to the open filehandles and segment information.  no changes made to the
index after they've been open ever show up in that instance (but they will
show up in other instances you open after those changes.

the two main reasons for this behavior that i know of are:

  1) it gives yo ua consistent view for as long as you want it -- you can
choose when you get to see updates.
  2) it allows the IndexReader to maintain caches of information (like the
FieldCache and CachingWrapperFilter for example .. i'm sure there are
other peices of information that get cached, but i can't think of
specifics off the top of my head)



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20800-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 20:03:47 2006
Return-Path: <java-user-return-20800-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48950 invoked from network); 22 May 2006 20:03:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 20:03:47 -0000
Received: (qmail 54207 invoked by uid 500); 22 May 2006 20:03:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53569 invoked by uid 500); 22 May 2006 20:03:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53542 invoked by uid 99); 22 May 2006 20:03:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 13:03:41 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [216.231.31.101] (HELO bulbasaur.wynnesystems.com) (216.231.31.101)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 13:03:40 -0700
X-SEF-Processed: 5_0_0_910__2006_05_22_13_07_41
X-SEF-37DF5EA0-ABAA-4294-A0CB-59A2F25D2F34: 1
Received: from Unknown [10.35.10.5] by bulbasaur.wynnesystems.com - SurfControl E-mail Filter (5.0); Mon, 22 May 2006 13:07:40 -0700
Content-class: urn:content-classes:message
Subject: incremental updates
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C67DDB.60FD3B9A"
Date: Mon, 22 May 2006 13:07:30 -0700
Message-ID: <D2D2FEE335CE304C81F17C83626158E2E088F9@wsdmnsvr>
X-MimeOLE: Produced By Microsoft Exchange V6.5
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: incremental updates
Thread-Index: AcZ6yDCJUSITJhOyT5qY1AJ1wKb5tgDEyUgg
From: "Van Nguyen" <vnguyen@wynnesystems.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C67DDB.60FD3B9A
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I'm pretty new to lucene and was wondering if there are any resources on=0D=
=0Ahow to do incremental updates in lucene.=0D=0A=20=0D=0AThanks!=0D=0A=20=0D=
=0AVan Nguyen=0D=0AWynne Systems, Inc.=0D=0A19800 MacArthur Blvd., Suite 90=
0=0D=0AIrvine, CA  92612-2421=0D=0A949.224.6300 ext 223=0D=0A949.225.6540 (=
fax)=0D=0A866.901.9284 (toll-free)=0D=0Awww.wynnesystems.com=0D=0A<blocked:=
:blocked::blocked::blocked::http://www.wynnesystems.com/> =20=0D=0A=20=0D=0A=
This communication and any documents, files, or previous electronic mail me=
ssages attached to it constitute=0D=0Aan electronic communication within th=
e scope of the Electronic Communication Privacy Act, 18 USCA 2510.=20=0D=0A=
This communication may contain non-public, confidential, or legally privile=
ged information intended for the=20=0D=0Asole use of the designated recipie=
nt(s). The unlawful interception, use or disclosure of such information is =0D=
=0Astrictly prohibited under 18 USCA 2511 and any applicable laws.=0D=0A
------_=_NextPart_001_01C67DDB.60FD3B9A--


From java-user-return-20801-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 20:11:39 2006
Return-Path: <java-user-return-20801-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51483 invoked from network); 22 May 2006 20:11:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 20:11:39 -0000
Received: (qmail 67651 invoked by uid 500); 22 May 2006 20:11:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67255 invoked by uid 500); 22 May 2006 20:11:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67241 invoked by uid 99); 22 May 2006 20:11:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 13:11:32 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.177 as permitted sender)
Received: from [64.233.166.177] (HELO py-out-1112.google.com) (64.233.166.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 13:11:31 -0700
Received: by py-out-1112.google.com with SMTP id c39so1549937pyd
        for <java-user@lucene.apache.org>; Mon, 22 May 2006 13:11:11 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=oxdkziVd5ECwMjBAk0GBzyCwGOW3MQHPa7YeEcvZLpfp2awN8KMy70GSCS4yKtNfRAr7UCf0qph63mPpyQ6GukBpAOkyxSjFJSEPux1rvtcux+lvMJDh17HTFFupJlh6SmeDlcN3dzYMV3/Xjpc06127mEcOh5EmAhLEZmLWMb0=
Received: by 10.35.70.17 with SMTP id x17mr3064685pyk;
        Mon, 22 May 2006 13:11:10 -0700 (PDT)
Received: by 10.35.17.5 with HTTP; Mon, 22 May 2006 13:11:10 -0700 (PDT)
Message-ID: <359a92830605221311p1403ea95y862fc165efdd53fb@mail.gmail.com>
Date: Mon, 22 May 2006 16:11:10 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Searching API: QueryParser vs Programatic queries
In-Reply-To: <p06230974c09794d8a0be@192.168.1.3>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_187736_24683642.1148328670900"
References: <62B402A996F16B42BF6E568382E0FEAF16FFE4@uk-ex010.groupinfra.com>
	 <p06230974c09794d8a0be@192.168.1.3>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_187736_24683642.1148328670900
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

There's a long scree that I'm leaving at the bottom because I put effort
into it and I like to rant. But here's, perhaps, an approach.

Maybe I'm mis-interpreting what you're trying to do. I'm assuming that you
have several search fields (I'm not exactly sure what "driven by meta-data"
means in this case, but what the heck).

It seems to me that you can always do something like:

BooleanQuery bq;
QueryParser qp1 =3D new QueryParser("field1", "<your query fragment here>",
analyzer);
Query q1 =3D qp1.parse("search term or clause);
bq.add(q1,,,);

QueryParser qp2 =3D new QueryParser("field2", "<your query fragment here>",
analyzer);
Query q2 =3D qp2.parse("search term or clause);
bq.add(q2....);

.
.
.

and eventually submit the query you've build up in bq.

You can arbitrarily build these up. In other words, your q1, q2, q3, etc ca=
n
be the same field for the first N clauses, and another field for the second
M clauses. Or you could build up the <query fragment> to consist of all the
terms for a particular field.


As I said, I have no clue whether this is possible in your application. If
not, see below <G>.

********************Scree starts here***********************************

I've had similar arguments with myself. But I'm getting less forgiving with
myself when I reinvent wheels, and firmly slap my own wrists.

Pretend you are talking to your boss/technical lead/coworker. I'm assuming
you actually want to get a product out the door. Your manager asks: "How ca=
n
you justify spending the time to create, debug and maintain code that has
already been written for you for the sake of cleanliness at the expense of
the other things you could be contributing instead"?

There are some very good answers to this, but most of the ones I've tried t=
o
use involve a lot of hand-waving on the order of "If we ever extend the
application......", or "It would be cleaner".  At which point the
conversation *should* go something like this....

Manager: "let me get this straight. You can spend 10 minutes right now
implementing the pass-to-the-query-parser solution and an unknown amount
(but probably way more than your initial estimate)
implementing/debugging/testing a 'cleaner' solution. Is that right?"

You: "Yes but....."

Manager: "Furthermore, the functionality you want to add is *already* built
into the 'use-the-parser' solution, right?"

You: "Yes, but...."

Manager: "And the amount of time you'll spend debugging this, not to mentio=
n
the amount of *other* people's time you'll spend identifying any bugs and
figuring out that it's in this new code will only increase as the longer an=
y
bugs to undetected, right?

You: "Yes, but..."

Manager: "Do it the use-the-parser way. We can always implement it the othe=
r
way if we have time. It doesn't cost us *any* time to implement the 'use th=
e
query parser' way, whereas your way has a measurable cost now, an unknown
cost in the future and no measurable gain. Add a big comment if you want
about how I forced you to do this ugly thing.....".

Of course there are good reasons to take the time now *if* it will save
time/effort in the future. But this sure doesn't seem like one of those
situations to me. Not to mention that it'll be MUCH simpler for the next
person looking at it to understand. Here are several things off the top of
my head that'll become maintenance issues for a custom solution, that are
*all* taken care of by the use-the-parser solution

1> How are you going to handle stop words?
2> Will you ever want to change analyzers to, say, keep URLs together? Or
maybe break them up?
3> What happens if you want to use the RegularExpressionAnalyzer to, say,
remove all punctuation or other user-entered junk?
4> Will you remember all the ins-and-outs of this code in even 1 month? Wha=
t
about the next poor joker who has to figure it out?

None of this is to say that your suggestion that there be utility classes
that allow this sort of thing doesn't have merit. But I have to wonder
whether it would be effort well spent for you at this time, in this project
<G>.

As you can see, this is one of my hot-button issues <G>. If you want to
really see me go off the deep end, just *mention* premature
optimizations........

Best
Erick

------=_Part_187736_24683642.1148328670900--

From java-user-return-20802-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 21:47:12 2006
Return-Path: <java-user-return-20802-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81170 invoked from network); 22 May 2006 21:47:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 21:47:11 -0000
Received: (qmail 26495 invoked by uid 500); 22 May 2006 21:47:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26461 invoked by uid 500); 22 May 2006 21:47:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26450 invoked by uid 99); 22 May 2006 21:47:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 14:47:05 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.227.126.183] (HELO moutng.kundenserver.de) (212.227.126.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 14:47:02 -0700
Received: from [84.131.66.7] (helo=[192.168.115.23])
	by mrelayeu.kundenserver.de (node=mrelayeu1) with ESMTP (Nemesis),
	id 0MKwpI-1FiIEY3n1R-00074N; Mon, 22 May 2006 23:46:39 +0200
Message-ID: <44723058.8070000@rc.ag>
Date: Mon, 22 May 2006 23:42:48 +0200
From: Hannes Carl Meyer <developers@rc.ag>
Reply-To:  java-user@lucene.apache.org
User-Agent: Thunderbird 1.5.0.2 (Windows/20060308)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Checking for duplicates inside index
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: kundenserver.de abuse@kundenserver.de login:a42d25494c1e4d7d8aa0d52bc18a9cb2
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi All,

I'm indexing ~10000 documents per day but since I'm getting a lot of 
real duplicates (100% the same document content) I want to check the 
content before indexing...

My idea is to create a checksum of the documents content and store it 
within document inside the index, before indexing a new document I will 
compare the new documents
checksum with the ones in the index.

Is that a good idea? does someone have experiences with that method? any 
tools available?

Thank you and kind regards

Hannes

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20803-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 21:54:38 2006
Return-Path: <java-user-return-20803-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82884 invoked from network); 22 May 2006 21:54:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 21:54:38 -0000
Received: (qmail 34733 invoked by uid 500); 22 May 2006 21:54:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34708 invoked by uid 500); 22 May 2006 21:54:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34697 invoked by uid 99); 22 May 2006 21:54:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 14:54:32 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 14:54:29 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id A66CC5B773; Mon, 22 May 2006 14:54:07 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 1B0437F403
	for <java-user@lucene.apache.org>; Mon, 22 May 2006 14:54:07 -0700 (PDT)
Date: Mon, 22 May 2006 14:54:07 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>
Subject: RE: Searching API: QueryParser vs Programatic queries
In-Reply-To: <62B402A996F16B42BF6E568382E0FEAF16FFEE@uk-ex010.groupinfra.com>
Message-ID: <Pine.LNX.4.58.0605221448270.20141@hal.rescomp.berkeley.edu>
References: <62B402A996F16B42BF6E568382E0FEAF16FFEE@uk-ex010.groupinfra.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Not quite. The user is presented with a list of (UI) fields, and each
: field already knows whether its an "OR" "AND" etc.
: So, there is no query String as such.
: For this reason, it seems to make more sense to build the query up
: programmatically - as my field meta data can drive this.
: However, if I do that, I have to do the work of extracting terms by
: running through an analyser for each field manually.
: This is also done by the query parser.

typically, when build queries up from form data, each piece of data falls
into one of 2 categories:

  1) data which doesn't need analyzed because the field it's going to
     query on wasn't tokenized (ie: a date field, or a numeric field, or a
     boolean field)
  2) data whcih is typed by the user in a text box, and not only needs
     analyzed, but may also need some parsing (ie: to support "quoted
     phrases" or +mandatory and -prohibited terms)

in the first case, build your query clauses progromatically.

in the second case make a QueryParser on the fly with the defaultField set
to whatever makes sense and let it handle parsing the users text (and
applying hte correct analyzer using PerFieldAnalyzer.  if there are
special characters you want it to ignore, then escape them first.

i discussed this a little more recently...

http://www.nabble.com/RE%3A+Building+queries-t1635907.html#a4436416



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20804-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 22:05:07 2006
Return-Path: <java-user-return-20804-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85496 invoked from network); 22 May 2006 22:05:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 22:05:07 -0000
Received: (qmail 42888 invoked by uid 500); 22 May 2006 22:05:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42242 invoked by uid 500); 22 May 2006 22:05:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42231 invoked by uid 99); 22 May 2006 22:05:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 15:05:01 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.176] (HELO hnexfe10.hetnet.nl) (195.121.6.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 15:05:00 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe10.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Tue, 23 May 2006 00:04:34 +0200
Subject: Re: Checking for duplicates inside index
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <44723058.8070000@rc.ag>
References: <44723058.8070000@rc.ag>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Tue, 23 May 2006 00:04:35 +0200
Message-Id: <1148335475.16696.6.camel@limax.snigel.net>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 22 May 2006 22:04:35.0070 (UTC) FILETIME=[B5FD49E0:01C67DEB]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Mon, 2006-05-22 at 23:42 +0200, Hannes Carl Meyer wrote:
> 
> I'm indexing ~10000 documents per day but since I'm getting a lot of 
> real duplicates (100% the same document content) I want to check the 
> content before indexing...
> 
> My idea is to create a checksum of the documents content and store it 
> within document inside the index, before indexing a new document I
> will compare the new documents checksum with the ones in the index.
> 
> Is that a good idea? does someone have experiences with that method?
> any tools available? 

That could work.

You will need a big sum though. MD5?



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20805-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 22:16:44 2006
Return-Path: <java-user-return-20805-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87652 invoked from network); 22 May 2006 22:16:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 22:16:44 -0000
Received: (qmail 50712 invoked by uid 500); 22 May 2006 22:16:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49714 invoked by uid 500); 22 May 2006 22:16:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49703 invoked by uid 99); 22 May 2006 22:16:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 15:16:39 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.60] (HELO ylpvm29.prodigy.net) (207.115.57.60)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 15:16:38 -0700
Received: from pimout5-ext.prodigy.net (pimout5-int.prodigy.net [207.115.4.21])
	by ylpvm29.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k4MMFNNJ007985
	for <java-user@lucene.apache.org>; Mon, 22 May 2006 18:15:23 -0400
X-ORBL: [69.228.218.244]
Received: from [192.168.168.15] (adsl-69-228-218-244.dsl.pltn13.pacbell.net [69.228.218.244])
	by pimout5-ext.prodigy.net (8.13.6 out.dk/8.13.6) with ESMTP id k4MMGF6T267906;
	Mon, 22 May 2006 18:16:15 -0400
Message-ID: <4472382E.7020107@apache.org>
Date: Mon, 22 May 2006 15:16:14 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.8 (X11/20060502)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: How are results merged from a multisearcher?
References: <cefddd100605180910t9bac60axfe4fcb50972bfb7c@mail.gmail.com>	 <200605182250.40962@danielnaber.de>	 <cefddd100605181426tde8296fw7419928232bb8b3d@mail.gmail.com>	 <200605182344.29708@danielnaber.de> <cefddd100605190904l54996345j9d9bc5647d5007d@mail.gmail.com>
In-Reply-To: <cefddd100605190904l54996345j9d9bc5647d5007d@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Tom Emerson wrote:
> Thanks for the clarification. What then is the difference between a
> MultiSearcher and using an IndexSearcher on a MultiReader?

The results should be identical.  A MultiSearcher permits use of 
ParallelMultiSearcher and RemoteSearchable, for parallel and/or 
distributed operation.  But, for single-threaded searching, a 
MultiReader is probably fastest.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20806-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 22 22:54:53 2006
Return-Path: <java-user-return-20806-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4207 invoked from network); 22 May 2006 22:54:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 May 2006 22:54:52 -0000
Received: (qmail 3961 invoked by uid 500); 22 May 2006 22:54:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3927 invoked by uid 500); 22 May 2006 22:54:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3916 invoked by uid 99); 22 May 2006 22:54:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 15:54:47 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.60] (HELO ylpvm29.prodigy.net) (207.115.57.60)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 15:54:47 -0700
Received: from pimout5-ext.prodigy.net (pimout5-int.prodigy.net [207.115.4.21])
	by ylpvm29.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k4MMrWNJ017519
	for <java-user@lucene.apache.org>; Mon, 22 May 2006 18:53:32 -0400
X-ORBL: [69.228.218.244]
Received: from [192.168.168.15] (adsl-69-228-218-244.dsl.pltn13.pacbell.net [69.228.218.244])
	by pimout5-ext.prodigy.net (8.13.6 out.dk/8.13.6) with ESMTP id k4MMsOHF208748;
	Mon, 22 May 2006 18:54:25 -0400
Message-ID: <44724120.6060906@apache.org>
Date: Mon, 22 May 2006 15:54:24 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.8 (X11/20060502)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Changing the scoring (newest doc date first)
References: <8834A84C87A2C148AD46921BB8BFC97C33B5CE@S1SE1MAIL.emea1.ad.group>
In-Reply-To: <8834A84C87A2C148AD46921BB8BFC97C33B5CE@S1SE1MAIL.emea1.ad.group>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Marcus Falck wrote:
> There is however one LARGE problem that we have run into. All search result should be displayed sorted with the newest document at top. We tried to accomplish this using Lucene's sort capabilites but quickly ran into large performance bottlenecks. So i figured since the default sort is by relevance i would like to change the relevance so that we don't even need to sort the documents. I guess alot of people at this mail list can give me valuable hints about how to accomplish this! 
> (Since i now about the ability to sort by index id (which i haven't tried) I can also add that i can't guarantee that all documents will be added in correct date order (remember the several systems,  the future plans is to buy content from different actors on the market and index it up).

A HitCollector should help.  Matching documents are passed to a 
HitCollector in the order they were added to the index.  So if newer 
documents were added to your index later, then the newest N documents 
are simply the last N documents passed to the HitCollector.

Could that work?

Cheers,

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20807-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 01:47:34 2006
Return-Path: <java-user-return-20807-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66877 invoked from network); 23 May 2006 01:47:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 01:47:34 -0000
Received: (qmail 78970 invoked by uid 500); 23 May 2006 01:47:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78944 invoked by uid 500); 23 May 2006 01:47:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78933 invoked by uid 99); 23 May 2006 01:47:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 18:47:29 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [63.100.163.104] (HELO hermes.corp.cyveillance.com) (63.100.163.104)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 18:47:29 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Checking for duplicates inside index
Date: Mon, 22 May 2006 21:47:07 -0400
Message-ID: <63434C14F9A6F74CB36B85033E4C30CA0255FA89@hermes.corp.cyveillance.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Checking for duplicates inside index
Thread-Index: AcZ968lbPEqHqcKxQheyc2SaVIaXMAAHiv3A
From: "Omar Didi" <odidi@Cyveillance.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

you have two choices that I can think of:
1- before adding a document, check if it does't exist in the index. you =
can do this by querying on a unique field if you have it .
2- you can index all your documents, and once the indexing is done you =
can dedupe. (Lucene has built in methods that can help with this)


if your index doesn't have a unique key, you need to add one like the =
one you suggested.

-----Original Message-----
From: karl wettin [mailto:kalle@snigel.net]
Sent: Monday, May 22, 2006 6:05 PM
To: java-user@lucene.apache.org
Subject: Re: Checking for duplicates inside index


On Mon, 2006-05-22 at 23:42 +0200, Hannes Carl Meyer wrote:
>=20
> I'm indexing ~10000 documents per day but since I'm getting a lot of=20
> real duplicates (100% the same document content) I want to check the=20
> content before indexing...
>=20
> My idea is to create a checksum of the documents content and store it=20
> within document inside the index, before indexing a new document I
> will compare the new documents checksum with the ones in the index.
>=20
> Is that a good idea? does someone have experiences with that method?
> any tools available?=20

That could work.

You will need a big sum though. MD5?



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20808-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 01:59:20 2006
Return-Path: <java-user-return-20808-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69559 invoked from network); 23 May 2006 01:59:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 01:59:20 -0000
Received: (qmail 91660 invoked by uid 500); 23 May 2006 01:59:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91633 invoked by uid 500); 23 May 2006 01:59:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91622 invoked by uid 99); 23 May 2006 01:59:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 18:59:14 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.172.74.40] (HELO kazeon.com) (209.172.74.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 18:59:13 -0700
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5
Subject: RE: Checking for duplicates inside index
Date: Mon, 22 May 2006 19:01:11 -0700
Message-ID: <4E022DDAB8F45741914ACD6EDFE2309B0275F663@BIGFOOT.kazeon.local>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Checking for duplicates inside index
Thread-Index: AcZ968lbPEqHqcKxQheyc2SaVIaXMAAHiv3AAABcbWA=
From: "Eugene Tuan" <eugene@kazeon.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I have created a method that can delete duplicate docs. Basically,
during indexing, a doc is associated with an id (a term field defined by
you.) that is indexed. Then, call the method to delete duplicates
whenever you update index.=20

I haven't contributed back to Lucene community yet because our code is
in beta testing now.=20

My former colleague, Chris, has received agreement from Doug Cutting
since last August that this feature is nice to have.

Eugene


-----Original Message-----
From: Omar Didi [mailto:odidi@Cyveillance.com]=20
Sent: Monday, May 22, 2006 6:47 PM
To: java-user@lucene.apache.org
Subject: RE: Checking for duplicates inside index

you have two choices that I can think of:
1- before adding a document, check if it does't exist in the index. you
can do this by querying on a unique field if you have it .
2- you can index all your documents, and once the indexing is done you
can dedupe. (Lucene has built in methods that can help with this)


if your index doesn't have a unique key, you need to add one like the
one you suggested.

-----Original Message-----
From: karl wettin [mailto:kalle@snigel.net]
Sent: Monday, May 22, 2006 6:05 PM
To: java-user@lucene.apache.org
Subject: Re: Checking for duplicates inside index


On Mon, 2006-05-22 at 23:42 +0200, Hannes Carl Meyer wrote:
>=20
> I'm indexing ~10000 documents per day but since I'm getting a lot of=20
> real duplicates (100% the same document content) I want to check the=20
> content before indexing...
>=20
> My idea is to create a checksum of the documents content and store it=20
> within document inside the index, before indexing a new document I
> will compare the new documents checksum with the ones in the index.
>=20
> Is that a good idea? does someone have experiences with that method?
> any tools available?=20

That could work.

You will need a big sum though. MD5?



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20809-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 03:41:06 2006
Return-Path: <java-user-return-20809-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89256 invoked from network); 23 May 2006 03:41:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 03:41:06 -0000
Received: (qmail 75024 invoked by uid 500); 23 May 2006 03:41:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74980 invoked by uid 500); 23 May 2006 03:41:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74969 invoked by uid 99); 23 May 2006 03:41:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 20:41:00 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of zhenjian@gmail.com designates 64.233.184.234 as permitted sender)
Received: from [64.233.184.234] (HELO wr-out-0506.google.com) (64.233.184.234)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 20:40:59 -0700
Received: by wr-out-0506.google.com with SMTP id i28so1248682wra
        for <java-user@lucene.apache.org>; Mon, 22 May 2006 20:40:39 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=YwCQ0LdTqfKwR7Ep7x0L7CYybQAhWiNGvLCCrbMotNBfVn3hnoH3YuPPCNvDLUcM7BfL0gCDZinBN4bXLhzzvwcFc/66+HYH22JidsfGKLBFLI2aASGweeHKq0jMq7/J/VWFBROGPzu3eDCCQhH+bA4eF4OwOmjxV6eOR0P98J0=
Received: by 10.65.183.19 with SMTP id k19mr1414754qbp;
        Mon, 22 May 2006 20:40:39 -0700 (PDT)
Received: by 10.65.197.1 with HTTP; Mon, 22 May 2006 20:40:38 -0700 (PDT)
Message-ID: <4ba70b40605222040h22a444a4y8d3425b79ba44bf7@mail.gmail.com>
Date: Tue, 23 May 2006 11:40:38 +0800
From: "Zhenjian YU" <zhenjian@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: does anybody have the experience to do some pooling upon lucene?
In-Reply-To: <FBD04C2F-2104-4A12-AE82-B4697874D59D@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_8523_10817245.1148355638980"
References: <4ba70b40605190213m4368f944r38da4120a50bf5e2@mail.gmail.com>
	 <4A6F7A42-7755-457A-83AB-FF118954D932@ehatchersolutions.com>
	 <4ba70b40605211956w4c9f25c4y37fd2691f42b9800@mail.gmail.com>
	 <FBD04C2F-2104-4A12-AE82-B4697874D59D@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_8523_10817245.1148355638980
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

OK, got it. Thanks.

On 5/23/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
>
> On May 21, 2006, at 10:56 PM, Zhenjian YU wrote:
> > I didn't dig the source code of lucence deep enough, but I noticed
> > that the
> > IndexSearcher uses an IndexReader, while the cost of initializing
> > IndexReader is a bit high.
>
> The key is the IndexReader.
>
> > My application is a webapp, so I think it may be good if I cache some
> > instances of IndexSearcher to provide service for my webapp. I
> > haven't done
> > any performance testing yet. Maybe I test it later to see the
> > difference
> > between caching and without caching.
>
> It is best to keep only a single IndexSearcher/IndexReader
> combination around.  There is no need to have more than one instance,
> and in fact it is a waste of resources to do so.
>
>         Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_8523_10817245.1148355638980--

From java-user-return-20810-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 04:03:54 2006
Return-Path: <java-user-return-20810-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92431 invoked from network); 23 May 2006 04:03:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 04:03:53 -0000
Received: (qmail 96462 invoked by uid 500); 23 May 2006 04:03:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96174 invoked by uid 500); 23 May 2006 04:03:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96163 invoked by uid 99); 23 May 2006 04:03:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 21:03:47 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [68.142.198.208] (HELO smtp109.sbc.mail.mud.yahoo.com) (68.142.198.208)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 22 May 2006 21:03:47 -0700
Received: (qmail 2298 invoked from network); 23 May 2006 04:03:25 -0000
Received: from unknown (HELO ?192.168.1.109?) (kkrugler@pacbell.net@64.71.164.125 with plain)
  by smtp109.sbc.mail.mud.yahoo.com with SMTP; 23 May 2006 04:03:25 -0000
Mime-Version: 1.0
Message-Id: <p06230908c097e94d3015@[192.168.1.109]>
In-Reply-To: <1148335475.16696.6.camel@limax.snigel.net>
References: <44723058.8070000@rc.ag>
 <1148335475.16696.6.camel@limax.snigel.net>
Date: Mon, 22 May 2006 20:53:03 -0700
To: java-user@lucene.apache.org
From: Ken Krugler <kkrugler_lists@transpac.com>
Subject: Re: Checking for duplicates inside index
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>On Mon, 2006-05-22 at 23:42 +0200, Hannes Carl Meyer wrote:
>>
>  > I'm indexing ~10000 documents per day but since I'm getting a lot of
>>  real duplicates (100% the same document content) I want to check the
>>  content before indexing...
>>
>  > My idea is to create a checksum of the documents content and store it
>  > within document inside the index, before indexing a new document I
>  > will compare the new documents checksum with the ones in the index.
>  >
>>  Is that a good idea? does someone have experiences with that method?
>>  any tools available?
>
>That could work.
>
>You will need a big sum though. MD5?

Just as a reference, Nutch uses an MD5 digest to detect duplicate web 
pages. It works fine, except of course when two docs differ by only 
an insignificant text delta. There's some recent work in this area - 
check out TextProfileSignature.

-- Ken
-- 
Ken Krugler
Krugle, Inc.
+1 530-210-6378
"Find Code, Find Answers"

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20811-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 05:30:37 2006
Return-Path: <java-user-return-20811-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9906 invoked from network); 23 May 2006 05:30:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 05:30:37 -0000
Received: (qmail 61814 invoked by uid 500); 23 May 2006 05:30:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61760 invoked by uid 500); 23 May 2006 05:30:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61728 invoked by uid 99); 23 May 2006 05:30:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 22:30:29 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dayzman@gmail.com designates 64.233.166.180 as permitted sender)
Received: from [64.233.166.180] (HELO py-out-1112.google.com) (64.233.166.180)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 22:30:28 -0700
Received: by py-out-1112.google.com with SMTP id c39so1646179pyd
        for <java-user@lucene.apache.org>; Mon, 22 May 2006 22:30:07 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=LlyKri0aJrqFJwyUX7rVmmCwCg/F+Qwh2ZB49TL32fAtQyfpWWnztmMDcZKxih9GMq1VDQj+ZXZmsftOX9e4m+JuzfiI4bCvIExudKlbbFfjV3nJjPexp+d36Ns3muEBj2aN9mUB5nOEwvBtdo6wecmeP9MhUCV3yUrcxXrvEwU=
Received: by 10.35.21.1 with SMTP id y1mr1685477pyi;
        Mon, 22 May 2006 22:30:07 -0700 (PDT)
Received: by 10.35.93.3 with HTTP; Mon, 22 May 2006 22:30:07 -0700 (PDT)
Message-ID: <429c032d0605222230r78cc7dadg10ee5ac278f2e8fc@mail.gmail.com>
Date: Tue, 23 May 2006 13:30:07 +0800
From: "Michael Chan" <dayzman@gmail.com>
To: java-user@lucene.apache.org, "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
Subject: Re: SpanScorer Out Of Bounds
In-Reply-To: <20060522143518.97349.qmail@web50302.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <429c032d0605210437y64186efbu844ddb04e4330679@mail.gmail.com>
	 <20060522143518.97349.qmail@web50302.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Otis,

Thanks for that. I found out that it's a memory usage problem rather
than one on Lucene's part.

Thanks.

Michael

On 5/22/06, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
> Hi Michael,
> I don't see any responses to your problem.  It's early, so you may get so=
me, but this sounds like a case for JIRA.
> Also, please try to write and attach (to your JIRA case) a unit test that=
 demonstrates a problem, something we can run and debug this.  Without that=
 we may not be able to fix this.
>
> Otis
>
>
> ----- Original Message ----
> From: Michael Chan <dayzman@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Sunday, May 21, 2006 7:37:35 AM
> Subject: SpanScorer Out Of Bounds
>
> Hi,
>
> Somehow, after running many searches using instances of SpanQuery
> (mostly SpanNearQuery), I get the ArrayIndexOutOfBounds exception:
>
> "bash-2.03$ java.lang.ArrayIndexOutOfBoundsException: 2147483647
>         at org.apache.lucene.search.spans.SpanScorer.score(SpanScorer.jav=
a:72)
>         at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionSc=
orer.java:82)
>         at org.apache.lucene.search.BooleanScorer2$2.score(BooleanScorer2=
.java:186)
>         at org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.j=
ava:327)
>         at org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.j=
ava:291)
>         at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.ja=
va:132)
>         at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.ja=
va:99)
>         at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
>         at org.apache.lucene.search.Hits.<init>(Hits.java:44)
>         at org.apache.lucene.search.Searcher.search(Searcher.java:44)
>         at org.apache.lucene.search.Searcher.search(Searcher.java:36)
> ...
> <traces to my program>"
>
> Is there a counter or something in play? Is it a cache or some sort?
>
> Any help will be much appreciated.
>
> Thanks.
>
> Michael
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20812-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 05:36:48 2006
Return-Path: <java-user-return-20812-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14225 invoked from network); 23 May 2006 05:36:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 05:36:47 -0000
Received: (qmail 67509 invoked by uid 500); 23 May 2006 05:36:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67445 invoked by uid 500); 23 May 2006 05:36:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67273 invoked by uid 99); 23 May 2006 05:36:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 22:36:29 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dayzman@gmail.com designates 64.233.166.181 as permitted sender)
Received: from [64.233.166.181] (HELO py-out-1112.google.com) (64.233.166.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 22:36:27 -0700
Received: by py-out-1112.google.com with SMTP id c39so1647244pyd
        for <java-user@lucene.apache.org>; Mon, 22 May 2006 22:36:07 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=ovWDxHhurPkq3/u9dqR9bpZ3+v2iEbNksAgFScq1zisEABFrdlVdOLAal1ZsN8MyLMBgME+sogKgv0gH+HMOyOlP6uxDSmWL1F1wwdcKgkpfVB99Osa22w0/DKoHKEaWSKHShouhQuMZVPsRw+HOE094kzbezdtItw99z55u5pg=
Received: by 10.35.87.8 with SMTP id p8mr3222761pyl;
        Mon, 22 May 2006 22:36:07 -0700 (PDT)
Received: by 10.35.93.3 with HTTP; Mon, 22 May 2006 22:36:07 -0700 (PDT)
Message-ID: <429c032d0605222236j16b7a1f8ka02f00c027c26736@mail.gmail.com>
Date: Tue, 23 May 2006 13:36:07 +0800
From: "Michael Chan" <dayzman@gmail.com>
To: java-user@lucene.apache.org
Subject: Making SpanQuery more effiicent
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

As I use SpanQuery purely for the use of slop, I was wondering how to
make SpanQuery more efficient,. Since I don't need any span
information, is there a way to disable the computation for span and
other unneeded overhead?

Thanks.

Michael

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20813-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 06:27:04 2006
Return-Path: <java-user-return-20813-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25652 invoked from network); 23 May 2006 06:27:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 06:27:04 -0000
Received: (qmail 21273 invoked by uid 500); 23 May 2006 06:27:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20786 invoked by uid 500); 23 May 2006 06:26:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20775 invoked by uid 99); 23 May 2006 06:26:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 23:26:58 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dayzman@gmail.com designates 64.233.166.178 as permitted sender)
Received: from [64.233.166.178] (HELO py-out-1112.google.com) (64.233.166.178)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 23:26:56 -0700
Received: by py-out-1112.google.com with SMTP id c39so1655622pyd
        for <java-user@lucene.apache.org>; Mon, 22 May 2006 23:26:36 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=uugWOCz6PpxcPEBCoPiD3EAc74raItpJ5qYWZud1VqNdK0Cp96/ygfK1PmLR45iW31LsX3jl/r4pjytCLsR7gyFvqu1/odfCxpXRkbI96vaKvK5RaaSxHbzLV7i5hYPxpTofMNg7UTqRXk/oJYnFTrCW0lkMYXUiL65U5/BVXAM=
Received: by 10.35.78.9 with SMTP id f9mr278281pyl;
        Mon, 22 May 2006 23:26:36 -0700 (PDT)
Received: by 10.35.93.3 with HTTP; Mon, 22 May 2006 23:26:36 -0700 (PDT)
Message-ID: <429c032d0605222326g7b7e2a5bn7ceec4bb8ad1fe5c@mail.gmail.com>
Date: Tue, 23 May 2006 14:26:36 +0800
From: "Michael Chan" <dayzman@gmail.com>
To: java-user@lucene.apache.org
Subject: Running 20mil queries against an index
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I'm trying to run 20mil+ queries against an index containing 2mil
documents, and it has been quite slow. I've been reading about
MemoryIndex, but it is only a single-document index. As I have quite a
bit of RAM (~20gb), is there a way I could store the index in RAM or
any other way that makes use of it to improve performance?

Thanks.

Michael

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20814-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 06:49:08 2006
Return-Path: <java-user-return-20814-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30550 invoked from network); 23 May 2006 06:49:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 06:49:08 -0000
Received: (qmail 39566 invoked by uid 500); 23 May 2006 06:49:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39354 invoked by uid 500); 23 May 2006 06:49:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39343 invoked by uid 99); 23 May 2006 06:49:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 23:49:01 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.79.216.190] (HELO cluster-e.mailcontrol.com) (217.79.216.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 23:48:58 -0700
Received: from c1-ex002.groupinfra.com ([213.86.115.109])
	by rly04e.srv.mailcontrol.com (MailControl) with ESMTP id k4N6ma9D018093
	for <java-user@lucene.apache.org>; Tue, 23 May 2006 07:48:36 +0100
Received: from uk-ex004.groupinfra.com ([158.234.68.230]) by c1-ex002.groupinfra.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 23 May 2006 07:48:35 +0100
Received: from uk-ex010.groupinfra.com ([158.234.9.225]) by uk-ex004.groupinfra.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 23 May 2006 07:48:35 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: FW: Searching API: QueryParser vs Programatic queries
Date: Tue, 23 May 2006 07:48:35 +0100
Message-ID: <DBC3F0E83850C4419A75B1181B5BFE9F083C30@uk-ex010.groupinfra.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Searching API: QueryParser vs Programatic queries
Thread-Index: AcZ92/ARQ/B3fZiySOu3iRcCQ7xrywAVzplg
From: "Irving, Dave" <dave.irving@logicacmg.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 23 May 2006 06:48:35.0762 (UTC) FILETIME=[EA1A2920:01C67E34]
X-Scanned-By: MailControl A-06-00-05 (www.mailcontrol.com) on 10.69.0.114
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Erick Erickson wrote:

...

> It seems to me that you can always do something like:
> BooleanQuery bq;
> QueryParser qp1 =3D new QueryParser("field1", "<your query fragment
here>", analyzer);=20
> Query q1 =3D qp1.parse("search term or clause); bq.add(q1,,,);
> QueryParser qp2 =3D new QueryParser("field2", "<your query fragment
here>", analyzer);=20
> Query q2 =3D qp2.parse("search term or clause); bq.add(q2....);


> and eventually submit the query you've build up in bq.

<snip/>

Thanks for the idea - someone else also mentioned it yesterday, and I
think its possibly the way I'll go.
The only problem I have with this is that QueryParser also parses out
operators in the queries. No problem - I could just override the
relevant factory methods and throw an exception to indicate the operator
isn't supported.
However, QueryParser also parses out operators like "+" etc - which I
(and my Analyser) may want to include in the search (for example, I
might be searching for C++). So then, I've also got to escape these in
the user query... And so the work mounts up :o)

> As I said, I have no clue whether this is possible in your
application. If not, see below <G>.

> ********************Scree starts
here***********************************

> I've had similar arguments with myself. But I'm getting less forgiving
with myself=20
> when I reinvent wheels, and firmly slap my own wrists.

> Pretend you are talking to your boss/technical lead/coworker. I'm
assuming you actually=20
> want to get a product out the door. Your manager asks: "How can you
justify spending=20
> the time to create, debug and maintain code that has already been
written for you for=20
> the sake of cleanliness at the expense of the other things you could
be contributing instead"?

In this instance, I have the luxuary that this project is something Im
doing in my own time as a hobby. I can therefore afford time to mull
over my design, and maybe even contribute something back to the lucene
community in the process. After all, I owe Lucene big time :o)

<snip/>

> As you can see, this is one of my hot-button issues <G>.=20

:o)

> If you want to really see me go off the deep end,=20
> just *mention* premature optimizations........

I'd have to agree with you on that one.... :o)

> Best
> Erick


Dave


This e-mail and any attachment is for authorised use by the intended recipi=
ent(s) only. It may contain proprietary material, confidential information =
and/or be subject to legal privilege. It should not be copied, disclosed to=
, retained or used by, any other party. If you are not an intended recipien=
t then please promptly delete this e-mail and any attachment and all copies=
 and inform the sender. Thank you.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20815-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 06:56:48 2006
Return-Path: <java-user-return-20815-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32152 invoked from network); 23 May 2006 06:56:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 06:56:47 -0000
Received: (qmail 48582 invoked by uid 500); 23 May 2006 06:56:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48549 invoked by uid 500); 23 May 2006 06:56:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48538 invoked by uid 99); 23 May 2006 06:56:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 23:56:41 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.79.216.190] (HELO cluster-e.mailcontrol.com) (217.79.216.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 May 2006 23:56:40 -0700
Received: from c1-ex002.groupinfra.com ([213.86.115.109])
	by rly33e.srv.mailcontrol.com (MailControl) with ESMTP id k4N6uIU9023359
	for <java-user@lucene.apache.org>; Tue, 23 May 2006 07:56:18 +0100
Received: from uk-ex003.groupinfra.com ([158.234.38.247]) by c1-ex002.groupinfra.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 23 May 2006 07:56:17 +0100
Received: from uk-ex010.groupinfra.com ([158.234.9.225]) by uk-ex003.groupinfra.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 23 May 2006 07:56:17 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Searching API: QueryParser vs Programatic queries
Date: Tue, 23 May 2006 07:56:17 +0100
Message-ID: <DBC3F0E83850C4419A75B1181B5BFE9F083C32@uk-ex010.groupinfra.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Searching API: QueryParser vs Programatic queries
Thread-Index: AcZ9wJPsPhN/P0goShemQUuuaP82dQAdScJw
From: "Irving, Dave" <dave.irving@logicacmg.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 23 May 2006 06:56:17.0650 (UTC) FILETIME=[FD68AD20:01C67E35]
X-Scanned-By: MailControl A-06-00-05 (www.mailcontrol.com) on 10.69.0.143
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

J.J. Larrea wrote:=20

> I concur with your thoughts that there is room for such=20
> utility classes, and that those would increase the use of=20
> programmatic queries.  I say this as a developer who also=20
> "lazed out" and opted to simply construct a string and let=20
> the QP do all the work (but who then had to subclass and=20
> finally copy-and-modify QP to make it conform to requirements).
>=20
> The underlying issue may be that there are two quite=20
> different concerns bundled into QueryParser:
>  - Parsing a string into a set of discrete query requests
>  - Constructing Query objects to meet those requests

Yeah - I agree. It seems that QueryParser has too many responsibilities.

> If you take a look at=20
> http://issues.apache.org/jira/browse/LUCENE-344 you'll see=20
> that someone else (Matthew Denner) also had this belief, and=20
> went so far as to implement a QueryFactory interface and a=20
> couple of implementing classes.  One has the construction=20
> logic now found in QueryParser.  Then there is a decorator=20
> class which adds the functionality of MultiFieldQueryParser=20
> and another which lower-cases terms.

Thanks for the link - I'll certainly take a look at that patch.

> Perhaps something along those lines that should be considered=20
> for the next break in API continuity eg. Lucene 2.0.  It=20
> seems much cleaner than subclassing QP when all that is=20
> needed is a variant in Query construction logic, and it also=20
> provides a higher-level interface for constructing Query=20
> objects (especially TermQuery) like you were proposing.=20=20
> Unfortunately the actual LUCENE-344 patch appears out of date=20
> with changes in QueryParser, MultiFieldQueryParser, etc.  But=20
> perhaps just the QueryFactory part would be a good starting=20
> point for what you want to do.
>=20
> Anyway, just a thought.

Many thanks for the ideas

> - J.J.

Dave


This e-mail and any attachment is for authorised use by the intended recipi=
ent(s) only. It may contain proprietary material, confidential information =
and/or be subject to legal privilege. It should not be copied, disclosed to=
, retained or used by, any other party. If you are not an intended recipien=
t then please promptly delete this e-mail and any attachment and all copies=
 and inform the sender. Thank you.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20816-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 07:25:32 2006
Return-Path: <java-user-return-20816-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46399 invoked from network); 23 May 2006 07:25:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 07:25:32 -0000
Received: (qmail 96563 invoked by uid 500); 23 May 2006 07:25:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96369 invoked by uid 500); 23 May 2006 07:25:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96357 invoked by uid 99); 23 May 2006 07:25:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 00:25:25 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.44 as permitted sender)
Received: from [80.67.18.44] (HELO smtprelay06.ispgateway.de) (80.67.18.44)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 00:25:24 -0700
Received: (qmail 27798 invoked from network); 23 May 2006 07:25:01 -0000
Received: from unknown (HELO p5496f64c.dip.t-dialin.net) ([pbs]695637@[84.150.246.76])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay06.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 23 May 2006 07:25:01 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Running 20mil queries against an index
Date: Tue, 23 May 2006 09:26:08 +0200
User-Agent: KMail/1.8.2
References: <429c032d0605222326g7b7e2a5bn7ceec4bb8ad1fe5c@mail.gmail.com>
In-Reply-To: <429c032d0605222326g7b7e2a5bn7ceec4bb8ad1fe5c@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605230926.08939@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Dienstag 23 Mai 2006 08:26, Michael Chan wrote:

> As I have quite a
> bit of RAM (~20gb), is there a way I could store the index in RAM or
> any other way that makes use of it to improve performance?

RAMDirectory has just been fixed (in SVN) to work with indexes > 2 GB.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20817-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 07:31:02 2006
Return-Path: <java-user-return-20817-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47829 invoked from network); 23 May 2006 07:31:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 07:31:02 -0000
Received: (qmail 3417 invoked by uid 500); 23 May 2006 07:30:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3390 invoked by uid 500); 23 May 2006 07:30:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3379 invoked by uid 99); 23 May 2006 07:30:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 00:30:54 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.79.216.190] (HELO cluster-e.mailcontrol.com) (217.79.216.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 00:30:52 -0700
Received: from c1-ex001.groupinfra.com ([213.86.115.108])
	by rly16e.srv.mailcontrol.com (MailControl) with ESMTP id k4N7UTnX021368
	for <java-user@lucene.apache.org>; Tue, 23 May 2006 08:30:30 +0100
Received: from uk-ex003.groupinfra.com ([158.234.38.247]) by c1-ex001.groupinfra.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 23 May 2006 08:30:25 +0100
Received: from uk-ex010.groupinfra.com ([158.234.9.225]) by uk-ex003.groupinfra.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 23 May 2006 08:30:25 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Searching API: QueryParser vs Programatic queries
Date: Tue, 23 May 2006 08:30:24 +0100
Message-ID: <DBC3F0E83850C4419A75B1181B5BFE9F083C34@uk-ex010.groupinfra.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Searching API: QueryParser vs Programatic queries
Thread-Index: AcZ96lN6qpvRt6vgTtu6TesVOphZkwATJhLg
From: "Irving, Dave" <dave.irving@logicacmg.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 23 May 2006 07:30:25.0032 (UTC) FILETIME=[C1BE6080:01C67E3A]
X-Scanned-By: MailControl A-06-00-05 (www.mailcontrol.com) on 10.69.0.126
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Chris Hostetter wrote:

> typically, when build queries up from form data, each piece=20
> of data falls into one of 2 categories:
>=20
>   1) data which doesn't need analyzed because the field it's going to
>      query on wasn't tokenized (ie: a date field, or a=20
> numeric field, or a
>      boolean field)

But couldn't even these simple field types also need analysing?=20
E.g, I could have a very simple number field - so I need to pad it at
both index and search time to a certain number of characters. Isn't a
custom TokenFilter added to an analyser a reasonable way to handle such
fields (keeping the logic of how to transform input into Term all in one
place).

>   2) data whcih is typed by the user in a text box, and not only needs
>      analyzed, but may also need some parsing (ie: to support "quoted
>      phrases" or +mandatory and -prohibited terms)
>=20
> in the first case, build your query clauses progromatically.
>=20
> in the second case make a QueryParser on the fly with the=20
> defaultField set to whatever makes sense and let it handle=20
> parsing the users text (and applying hte correct analyzer=20
> using PerFieldAnalyzer.  if there are special characters you=20
> want it to ignore, then escape them first.
=20
Yeah, one of my fields is "keywords" - in to which the user can type a
list of terms - all of which need to be analysed.
It seems all I logically want to do is extract the terms from the input
- running each through an analyser - and then combining them in to a
boolean query.
However, a typical search will be "C++" - so Im also going to have to
escape the content - because Im using a QueryParser.

I certainly agree that I can accomplish what I want by escaping, running
thru the query parser and combining using boolean queries.=20

I think the query factory patch (LUCENE-344) is pretty close to what I
was trying to get at.
The ability to say the following would be really cool:

Query keywordsQuery =3D queryFactory.getFieldQuery("keywords",
someAnalyser, keyworkdsText);

The factory lets us get to the guts of running the content through the
analyser, and extracting a query in various ways - without having to do
extra work (escaping, overriding unsupported methods) so that we can
achieve the same goal with the Query Parser. Seems like a nice
Separation of Concerns.

The QueryParser then adds the -- parsing -- on top of this, but can
delegate for query delegation.

> i discussed this a little more recently...
>=20
> http://www.nabble.com/RE%3A+Building+queries-t1635907.html#a4436416
>=20

Indeed. I apologise - I should have stuck with that original thread.
Sorry for the carelessness.

>=20
> -Hoss
>=20

Dave
=20


This e-mail and any attachment is for authorised use by the intended recipi=
ent(s) only. It may contain proprietary material, confidential information =
and/or be subject to legal privilege. It should not be copied, disclosed to=
, retained or used by, any other party. If you are not an intended recipien=
t then please promptly delete this e-mail and any attachment and all copies=
 and inform the sender. Thank you.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20818-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 07:32:57 2006
Return-Path: <java-user-return-20818-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48514 invoked from network); 23 May 2006 07:32:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 07:32:56 -0000
Received: (qmail 8147 invoked by uid 500); 23 May 2006 07:32:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8116 invoked by uid 500); 23 May 2006 07:32:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8105 invoked by uid 99); 23 May 2006 07:32:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 00:32:49 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.79.216.190] (HELO cluster-e.mailcontrol.com) (217.79.216.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 00:32:47 -0700
Received: from c1-ex001.groupinfra.com ([213.86.115.108])
	by rly19e.srv.mailcontrol.com (MailControl) with ESMTP id k4N7WNEU014649
	for <java-user@lucene.apache.org>; Tue, 23 May 2006 08:32:25 +0100
Received: from uk-ex003.groupinfra.com ([158.234.38.247]) by c1-ex001.groupinfra.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 23 May 2006 08:32:23 +0100
Received: from uk-ex010.groupinfra.com ([158.234.9.225]) by uk-ex003.groupinfra.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 23 May 2006 08:32:23 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Searching API: QueryParser vs Programatic queries
Date: Tue, 23 May 2006 08:32:23 +0100
Message-ID: <DBC3F0E83850C4419A75B1181B5BFE9F083C35@uk-ex010.groupinfra.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Searching API: QueryParser vs Programatic queries
Thread-Index: AcZ96lN6qpvRt6vgTtu6TesVOphZkwATJhLgAAEE02A=
From: "Irving, Dave" <dave.irving@logicacmg.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 23 May 2006 07:32:23.0327 (UTC) FILETIME=[0840C2F0:01C67E3B]
X-Scanned-By: MailControl A-06-00-05 (www.mailcontrol.com) on 10.69.0.129
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> The QueryParser then adds the -- parsing -- on top of this, but can
delegate for query delegation.

That sould be "query creation", of course.
=20

> -----Original Message-----
> From: Irving, Dave [mailto:dave.irving@logicacmg.com]=20
> Sent: 23 May 2006 08:30
> To: java-user@lucene.apache.org
> Subject: RE: Searching API: QueryParser vs Programatic queries
>=20
> Chris Hostetter wrote:
>=20
> > typically, when build queries up from form data, each piece of data=20
> > falls into one of 2 categories:
> >=20
> >   1) data which doesn't need analyzed because the field=20
> it's going to
> >      query on wasn't tokenized (ie: a date field, or a=20
> numeric field,=20
> > or a
> >      boolean field)
>=20
> But couldn't even these simple field types also need analysing?=20
> E.g, I could have a very simple number field - so I need to=20
> pad it at both index and search time to a certain number of=20
> characters. Isn't a custom TokenFilter added to an analyser a=20
> reasonable way to handle such fields (keeping the logic of=20
> how to transform input into Term all in one place).
>=20
> >   2) data whcih is typed by the user in a text box, and not=20
> only needs
> >      analyzed, but may also need some parsing (ie: to=20
> support "quoted
> >      phrases" or +mandatory and -prohibited terms)
> >=20
> > in the first case, build your query clauses progromatically.
> >=20
> > in the second case make a QueryParser on the fly with the=20
> defaultField=20
> > set to whatever makes sense and let it handle parsing the=20
> users text=20
> > (and applying hte correct analyzer using PerFieldAnalyzer. =20
> if there=20
> > are special characters you want it to ignore, then escape=20
> them first.
> =20
> Yeah, one of my fields is "keywords" - in to which the user=20
> can type a list of terms - all of which need to be analysed.
> It seems all I logically want to do is extract the terms from=20
> the input
> - running each through an analyser - and then combining them=20
> in to a boolean query.
> However, a typical search will be "C++" - so Im also going to=20
> have to escape the content - because Im using a QueryParser.
>=20
> I certainly agree that I can accomplish what I want by=20
> escaping, running thru the query parser and combining using=20
> boolean queries.=20
>=20
> I think the query factory patch (LUCENE-344) is pretty close=20
> to what I was trying to get at.
> The ability to say the following would be really cool:
>=20
> Query keywordsQuery =3D queryFactory.getFieldQuery("keywords",
> someAnalyser, keyworkdsText);
>=20
> The factory lets us get to the guts of running the content=20
> through the analyser, and extracting a query in various ways=20
> - without having to do extra work (escaping, overriding=20
> unsupported methods) so that we can achieve the same goal=20
> with the Query Parser. Seems like a nice Separation of Concerns.
>=20
> The QueryParser then adds the -- parsing -- on top of this,=20
> but can delegate for query delegation.
>=20
> > i discussed this a little more recently...
> >=20
> > http://www.nabble.com/RE%3A+Building+queries-t1635907.html#a4436416
> >=20
>=20
> Indeed. I apologise - I should have stuck with that original thread.
> Sorry for the carelessness.
>=20
> >=20
> > -Hoss
> >=20
>=20
> Dave
> =20
>=20
>=20
> This e-mail and any attachment is for authorised use by the=20
> intended recipient(s) only. It may contain proprietary=20
> material, confidential information and/or be subject to legal=20
> privilege. It should not be copied, disclosed to, retained or=20
> used by, any other party. If you are not an intended=20
> recipient then please promptly delete this e-mail and any=20
> attachment and all copies and inform the sender. Thank you.
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20819-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 08:34:44 2006
Return-Path: <java-user-return-20819-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63533 invoked from network); 23 May 2006 08:34:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 08:34:44 -0000
Received: (qmail 75217 invoked by uid 500); 23 May 2006 08:34:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74738 invoked by uid 500); 23 May 2006 08:34:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74727 invoked by uid 99); 23 May 2006 08:34:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 01:34:37 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: 69.8.212.30 is neither permitted nor denied by domain of marcus.falck@observer.se)
Received: from [69.8.212.30] (HELO colomail.bacons.com) (69.8.212.30)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 01:34:35 -0700
Received: from s2na1excluster.na1.ad.group ([10.12.10.31]) by colomail.bacons.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 23 May 2006 03:34:12 -0500
Received: from S1SE1MAIL.emea1.ad.group ([10.8.1.20]) by s2na1excluster.na1.ad.group with Microsoft SMTPSVC(6.0.3790.1830);
	 Tue, 23 May 2006 03:34:12 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01C67E42.05C5C93D"
Subject: RE: Changing the scoring (newest doc date first)
Date: Tue, 23 May 2006 10:21:06 +0200
Message-ID: <8834A84C87A2C148AD46921BB8BFC97C33B5E4@S1SE1MAIL.emea1.ad.group>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <8834A84C87A2C148AD46921BB8BFC97C33B5E4@S1SE1MAIL.emea1.ad.group>
Thread-Topic: Changing the scoring (newest doc date first)
Thread-Index: AcZ98sj1kfrcBDeDQCGt0cZe//52NAATw2mk
From: "Marcus Falck" <marcus.falck@observer.se>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 23 May 2006 08:34:12.0425 (UTC) FILETIME=[AB0C3390:01C67E43]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C67E42.05C5C93D
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hmm.
Not sure that I understand exactly what you mean.
Doesn't your solution require me to add all documents in correct date =
range?
Since I will index articles from different systems I can't guarantee =
that all articles will be added to the index in correct date order.
=20
/
Marcus

________________________________

From: Doug Cutting [mailto:cutting@apache.org]
Sent: Tue 5/23/2006 12:54 AM
To: java-user@lucene.apache.org
Subject: Re: Changing the scoring (newest doc date first)



Marcus Falck wrote:=20
> There is however one LARGE problem that we have run into. All search =
result should be displayed sorted with the newest document at top. We =
tried to accomplish this using Lucene's sort capabilites but quickly ran =
into large performance bottlenecks. So i figured since the default sort =
is by relevance i would like to change the relevance so that we don't =
even need to sort the documents. I guess alot of people at this mail =
list can give me valuable hints about how to accomplish this!=20

> (Since i now about the ability to sort by index id (which i haven't =
tried) I can also add that i can't guarantee that all documents will be =
added in correct date order (remember the several systems,  the future =
plans is to buy content from different actors on the market and index it =
up).

A HitCollector should help.  Matching documents are passed to a=20
HitCollector in the order they were added to the index.  So if newer=20
documents were added to your index later, then the newest N documents=20
are simply the last N documents passed to the HitCollector.=20

Could that work?=20

Cheers,=20

Doug=20

---------------------------------------------------------------------=20
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org=20
For additional commands, e-mail: java-user-help@lucene.apache.org=20



------_=_NextPart_001_01C67E42.05C5C93D
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
------_=_NextPart_001_01C67E42.05C5C93D--

From java-user-return-20820-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 09:18:06 2006
Return-Path: <java-user-return-20820-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75497 invoked from network); 23 May 2006 09:18:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 09:18:06 -0000
Received: (qmail 32831 invoked by uid 500); 23 May 2006 09:17:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32804 invoked by uid 500); 23 May 2006 09:17:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32793 invoked by uid 99); 23 May 2006 09:17:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 02:17:59 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [149.77.160.1] (HELO master.hyd.deshaw.com) (149.77.160.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 02:17:58 -0700
Received: from mshydpub1.hyd.deshaw.com (mshydpub1.hyd.deshaw.com [149.77.160.67])
 by master.hyd.deshaw.com (8.12.7/8.12.7/2.0.kim.desco.357) with ESMTP id k4N9HXR8011686
 for <java-user@lucene.apache.org>; Tue, 23 May 2006 14:47:33 +0530 (IST)
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: ORing complementary queries gives no results
Date: Tue, 23 May 2006 14:47:32 +0530
Message-ID: <E817F096B8D59B4E9D1E437917B1083107D1AF@mshydpub1.hyd.deshaw.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: ORing complementary queries gives no results
Thread-Index: AcZ+Sbj43143NMWbTFCANaXNfBCp6g==
From: "Satuluri, Venu_Madhav" <Venu.Madhav.Satuluri@deshaw.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,

I build Query objects programmatically. I do this by getting a
TermQuery/PhraseQuery/whatever for each term in the user query, make a
BooleanClause by specifying isRequired and isProhibited depending on
whether the term has an "and" or an "or" or an "or not" etc prefixed
before it (I use 1.4.3, which is why I use isRequired, isProhibited
instead of BooleanClause.OCCUR). I combine all the BooleanClauses in the
end to get my final Query.

This is working fine, except for one case where I ORed two complementary
queries, i.e. I searched for "name:xyz or -name:xyz". Both of these
queries independently produce results but both joined together don't.
The isRequired parameter is false for both the parts of the query, while
isProhibited is true for the second and false for the first. Shouldn't
this query return all the documents which have some value of the field
"name"?

Thanks,
Venu

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20821-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 10:05:36 2006
Return-Path: <java-user-return-20821-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87214 invoked from network); 23 May 2006 10:05:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 10:05:35 -0000
Received: (qmail 88361 invoked by uid 500); 23 May 2006 10:05:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88335 invoked by uid 500); 23 May 2006 10:05:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88324 invoked by uid 99); 23 May 2006 10:05:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 03:05:26 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=MAILTO_TO_SPAM_ADDR,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dayzman@gmail.com designates 64.233.166.178 as permitted sender)
Received: from [64.233.166.178] (HELO py-out-1112.google.com) (64.233.166.178)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 03:05:25 -0700
Received: by py-out-1112.google.com with SMTP id c39so1695454pyd
        for <java-user@lucene.apache.org>; Tue, 23 May 2006 03:05:04 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=gb1YXdh2nBR/KfG1aYrf8h8lmagtP2SXiLI+ba/MPafcb30UC8uBU1DvDtiEOdY5N5bhERChoBCrWLtvbR+4l+SOcte0eGehMMQVZUM6jaQh41ei10bD5vy0KaOxeBzbObwmh4IXetBWrNH4ooTWKzvCG7PKtAWGl0toZPpKPNQ=
Received: by 10.35.78.13 with SMTP id f13mr518454pyl;
        Tue, 23 May 2006 03:05:04 -0700 (PDT)
Received: by 10.35.93.3 with HTTP; Tue, 23 May 2006 03:05:04 -0700 (PDT)
Message-ID: <429c032d0605230305g3f003521rc2e7546a83d19a3b@mail.gmail.com>
Date: Tue, 23 May 2006 18:05:04 +0800
From: "Michael Chan" <dayzman@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Running 20mil queries against an index
In-Reply-To: <200605230926.08939@danielnaber.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <429c032d0605222326g7b7e2a5bn7ceec4bb8ad1fe5c@mail.gmail.com>
	 <200605230926.08939@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for that. Does anyone know how much RAM a 5gb index will need?
With mx set to 27gb, it crashes when it flushes buffer at one point.

"bash-2.03$ Exception in thread "main" java.lang.ExceptionInInitializerErro=
r
        at TaxonomyFinder.RelatedCatsFinder.<init>(RelatedCatsFinder.java:4=
6)
        at wikipedia.WikipediaAnalyser$ExtractAbstractHandler.endElement(Wi=
kipediaAnalyser.java:295)
        at org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown
Source)
        at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(U=
nknown
Source)
        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentCo=
ntentDispatcher.dispatch(Unknown
Source)
        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocume=
nt(Unknown
Source)
        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Sourc=
e)
        at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Sourc=
e)
        at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
        at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source=
)
        at wikipedia.WikipediaAnalyser.parseAbstracts(WikipediaAnalyser.jav=
a:184)
        at wikipedia.WikipediaAnalyser.getRelatedCategories(WikipediaAnalys=
er.java:127)
        at TaxonomyFinder.TaxonomyTreeMaker.main(TaxonomyTreeMaker.java:492=
)
Caused by: java.lang.ArrayIndexOutOfBoundsException: -2097152
        at java.util.Vector.elementAt(Unknown Source)
        at org.apache.lucene.store.RAMOutputStream.flushBuffer(RAMOutputStr=
eam.java:82)
        at org.apache.lucene.store.BufferedIndexOutput.flush(BufferedIndexO=
utput.java:84)
        at org.apache.lucene.store.BufferedIndexOutput.writeBytes(BufferedI=
ndexOutput.java:52)
        at org.apache.lucene.store.RAMDirectory.<init>(RAMDirectory.java:68=
)
        at org.apache.lucene.store.RAMDirectory.<init>(RAMDirectory.java:95=
)
        at word_coocurrence.WordCooccurrenceFinder.<clinit>(WordCooccurrenc=
eFinder.java:50)
        ... 13 more"

I build the RAMDirectory from a FSDirectory, using the following:

=09=09try {
=09=09=09m_searcher =3D new IndexSearcher(new RAMDirectory("index"));
=09=09} catch (IOException e) {
=09=09=09e.printStackTrace();
=09=09=09System.exit(1);
=09=09}

where "index" is the path for the index.

Any help will be much appreciated.

Michael

On 5/23/06, Daniel Naber <lucenelist2005@danielnaber.de> wrote:
> On Dienstag 23 Mai 2006 08:26, Michael Chan wrote:
>
> > As I have quite a
> > bit of RAM (~20gb), is there a way I could store the index in RAM or
> > any other way that makes use of it to improve performance?
>
> RAMDirectory has just been fixed (in SVN) to work with indexes > 2 GB.
>
> Regards
>  Daniel
>
> --
> http://www.danielnaber.de
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20822-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 10:27:10 2006
Return-Path: <java-user-return-20822-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94817 invoked from network); 23 May 2006 10:27:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 10:27:09 -0000
Received: (qmail 22963 invoked by uid 500); 23 May 2006 10:27:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22931 invoked by uid 500); 23 May 2006 10:27:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22920 invoked by uid 99); 23 May 2006 10:27:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 03:27:03 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of muralidharan@gmail.com designates 66.249.82.197 as permitted sender)
Received: from [66.249.82.197] (HELO wx-out-0102.google.com) (66.249.82.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 03:27:02 -0700
Received: by wx-out-0102.google.com with SMTP id t4so339402wxc
        for <java-user@lucene.apache.org>; Tue, 23 May 2006 03:26:41 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=djHf7jcYsp3LJHdA7UEHLUpdv463IP22LM4laOZn91UuFYBwmZwhh7IYuyNIahR8wOOMpZurX15CDd/wsmXKOFO+M1wIhyYpszspFitLRB+uh+TL5lgkf24smwmv+KT1Xwyp7V8TGJlxQcHcua6Iij5dRCyCR+Fw/25iBXGYpuU=
Received: by 10.70.133.7 with SMTP id g7mr6208723wxd;
        Tue, 23 May 2006 03:26:41 -0700 (PDT)
Received: by 10.70.11.8 with HTTP; Tue, 23 May 2006 03:26:41 -0700 (PDT)
Message-ID: <26fbe3a70605230326o665dbd6diea94f7d7cf27b4a4@mail.gmail.com>
Date: Tue, 23 May 2006 15:56:41 +0530
From: "Muralidharan V" <muralidharan@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Running 20mil queries against an index
In-Reply-To: <429c032d0605222326g7b7e2a5bn7ceec4bb8ad1fe5c@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_141613_17190318.1148380001552"
References: <429c032d0605222326g7b7e2a5bn7ceec4bb8ad1fe5c@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_141613_17190318.1148380001552
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

On 5/23/06, Michael Chan <dayzman@gmail.com> wrote:
>
> As I have quite a bit of RAM (~20gb)


And I once had a 486 with 2MB RAM, which was later 'upgraded' to 4MB :-)

------=_Part_141613_17190318.1148380001552--

From java-user-return-20823-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 11:27:26 2006
Return-Path: <java-user-return-20823-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19330 invoked from network); 23 May 2006 11:27:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 11:27:24 -0000
Received: (qmail 19386 invoked by uid 500); 23 May 2006 11:27:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19362 invoked by uid 500); 23 May 2006 11:27:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19342 invoked by uid 99); 23 May 2006 11:27:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 04:27:16 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 04:27:14 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 96EFB33CB36; Tue, 23 May 2006 07:26:52 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 9915733CB35
	for <java-user@lucene.apache.org>; Tue, 23 May 2006 07:26:51 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <429c032d0605222236j16b7a1f8ka02f00c027c26736@mail.gmail.com>
References: <429c032d0605222236j16b7a1f8ka02f00c027c26736@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <D6C4D9DA-BCE0-4DF3-A2ED-8F1607AA4871@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Making SpanQuery more effiicent
Date: Tue, 23 May 2006 07:26:45 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_SORBS_DUL autolearn=no version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

PhraseQuery has a slop factor also - would it work for you instead of  
SpanNearQuery?

	Erik

On May 23, 2006, at 1:36 AM, Michael Chan wrote:

> Hi,
>
> As I use SpanQuery purely for the use of slop, I was wondering how to
> make SpanQuery more efficient,. Since I don't need any span
> information, is there a way to disable the computation for span and
> other unneeded overhead?
>
> Thanks.
>
> Michael
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20824-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 11:45:06 2006
Return-Path: <java-user-return-20824-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25925 invoked from network); 23 May 2006 11:45:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 11:45:06 -0000
Received: (qmail 43142 invoked by uid 500); 23 May 2006 11:45:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43106 invoked by uid 500); 23 May 2006 11:45:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43093 invoked by uid 99); 23 May 2006 11:45:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 04:45:00 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dayzman@gmail.com designates 64.233.166.178 as permitted sender)
Received: from [64.233.166.178] (HELO py-out-1112.google.com) (64.233.166.178)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 04:44:59 -0700
Received: by py-out-1112.google.com with SMTP id c39so1716044pyd
        for <java-user@lucene.apache.org>; Tue, 23 May 2006 04:44:39 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=apOnwdPNh1SofoOrLWghIiy9/RrRNOlC4bKsH2RYKioAUA4/N8jxJh7QVhxXRVOE3AZbm5PQ6Qc3B1Lyf3sl7/nIEdZHQBDOs02YL1Tus+rVh5pjwEGeGm+UQV7ZQ9Ss8uMwP/HryC3vRGAqTd8BKXnIUL8KKRDvYg2mfsgRIn4=
Received: by 10.35.34.18 with SMTP id m18mr1015639pyj;
        Tue, 23 May 2006 04:44:39 -0700 (PDT)
Received: by 10.35.93.3 with HTTP; Tue, 23 May 2006 04:44:38 -0700 (PDT)
Message-ID: <429c032d0605230444u73608b9axb9437b699232ba73@mail.gmail.com>
Date: Tue, 23 May 2006 19:44:38 +0800
From: "Michael Chan" <dayzman@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Making SpanQuery more effiicent
In-Reply-To: <D6C4D9DA-BCE0-4DF3-A2ED-8F1607AA4871@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <429c032d0605222236j16b7a1f8ka02f00c027c26736@mail.gmail.com>
	 <D6C4D9DA-BCE0-4DF3-A2ED-8F1607AA4871@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Erik,

Unfortunately, I want to have subqueries inside my query (e.g. (t1 AND
t2) NEAR (t3 OR t4)), and PhraseQuery seems to allow only Terms inside
it.

Michael

On 5/23/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
> PhraseQuery has a slop factor also - would it work for you instead of
> SpanNearQuery?
>
>         Erik
>
> On May 23, 2006, at 1:36 AM, Michael Chan wrote:
>
> > Hi,
> >
> > As I use SpanQuery purely for the use of slop, I was wondering how to
> > make SpanQuery more efficient,. Since I don't need any span
> > information, is there a way to disable the computation for span and
> > other unneeded overhead?
> >
> > Thanks.
> >
> > Michael
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20825-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 12:15:34 2006
Return-Path: <java-user-return-20825-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38502 invoked from network); 23 May 2006 12:15:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 12:15:33 -0000
Received: (qmail 87130 invoked by uid 500); 23 May 2006 12:15:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87100 invoked by uid 500); 23 May 2006 12:15:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87089 invoked by uid 99); 23 May 2006 12:15:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 05:15:27 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.240] (HELO web26203.mail.ukl.yahoo.com) (217.12.10.240)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 23 May 2006 05:15:25 -0700
Received: (qmail 41441 invoked by uid 60001); 23 May 2006 12:15:01 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.es;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=M1HvW2CV1pmrl3+AVNjgnPlj/qM+312l0N2Ht3jbdU8iySJqjyWmRaD+1vhIx6q/T2ttT/hOpx4pU0XpLFKlkr8hL7uJoAnhYC/Udu0F6R8oYKjyix+3nTWKlUKn6p44BGyyt68fsyPFF/6p+FJwYVBJgoiQFd2xVb/5sZ6mGyc=  ;
Message-ID: <20060523121501.41439.qmail@web26203.mail.ukl.yahoo.com>
Received: from [195.55.30.21] by web26203.mail.ukl.yahoo.com via HTTP; Tue, 23 May 2006 14:15:01 CEST
Date: Tue, 23 May 2006 14:15:01 +0200 (CEST)
From: =?iso-8859-1?q?Alberto=20Marqu=FFffffe9s?= <alberto_marques@yahoo.es>
Subject: updating the data in Lucene
To: lucene <java-user@lucene.apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-644722091-1148386501=:40826"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-644722091-1148386501=:40826
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

I have a question about like updating the data in Lucene. Supposing that I have indexed a directory if I want to refresh index (to return to index single files that has been modified). In order to maintain the data updated. There is faster form to do the one that using: IndexWriter(indexDir, new Analizer(), true); indexaria all the files again.
		
---------------------------------

LLama Gratis a cualquier PC del Mundo.
Llamadas a fijos y mviles desde 1 cntimo por minuto.
http://es.voice.yahoo.com
--0-644722091-1148386501=:40826--

From java-user-return-20826-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 12:17:37 2006
Return-Path: <java-user-return-20826-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39356 invoked from network); 23 May 2006 12:17:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 12:17:37 -0000
Received: (qmail 90994 invoked by uid 500); 23 May 2006 12:17:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90966 invoked by uid 500); 23 May 2006 12:17:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90955 invoked by uid 99); 23 May 2006 12:17:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 05:17:29 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dayzman@gmail.com designates 64.233.166.182 as permitted sender)
Received: from [64.233.166.182] (HELO py-out-1112.google.com) (64.233.166.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 05:17:28 -0700
Received: by py-out-1112.google.com with SMTP id c39so1724060pyd
        for <java-user@lucene.apache.org>; Tue, 23 May 2006 05:17:07 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=oCyBIY74O2/xWhiR1OwbBvP8tlytzHSQw+xK9iZCHNLqYNuelapj8vWfZX8qbYsjQsEHDe9A8S/zWBE7ViCNSkVPy2imLXq4XrjUEds1giEmk+Oabx6aYViu7nsCXTiwQUGXe7djGlIlOzUe4swXajfzuOFYTV2dUuxK2pCI/Mc=
Received: by 10.35.112.3 with SMTP id p3mr674793pym;
        Tue, 23 May 2006 05:17:07 -0700 (PDT)
Received: by 10.35.93.3 with HTTP; Tue, 23 May 2006 05:17:07 -0700 (PDT)
Message-ID: <429c032d0605230517y4e144af9p2899aee0edec9d97@mail.gmail.com>
Date: Tue, 23 May 2006 20:17:07 +0800
From: "Michael Chan" <dayzman@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Running 20mil queries against an index
In-Reply-To: <26fbe3a70605230326o665dbd6diea94f7d7cf27b4a4@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <429c032d0605222326g7b7e2a5bn7ceec4bb8ad1fe5c@mail.gmail.com>
	 <26fbe3a70605230326o665dbd6diea94f7d7cf27b4a4@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I think I've fixed the problem by changing/fixing RAMOutputStream.java.

On 5/23/06, Muralidharan V <muralidharan@gmail.com> wrote:
> On 5/23/06, Michael Chan <dayzman@gmail.com> wrote:
> >
> > As I have quite a bit of RAM (~20gb)
>
>
> And I once had a 486 with 2MB RAM, which was later 'upgraded' to 4MB :-)
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20827-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 13:13:14 2006
Return-Path: <java-user-return-20827-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71693 invoked from network); 23 May 2006 13:13:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 13:13:14 -0000
Received: (qmail 7177 invoked by uid 500); 23 May 2006 13:13:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7143 invoked by uid 500); 23 May 2006 13:13:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7132 invoked by uid 99); 23 May 2006 13:13:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 06:13:05 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mailing.patrick.kimber@gmail.com designates 64.233.162.206 as permitted sender)
Received: from [64.233.162.206] (HELO nz-out-0102.google.com) (64.233.162.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 06:13:04 -0700
Received: by nz-out-0102.google.com with SMTP id o37so1333684nzf
        for <java-user@lucene.apache.org>; Tue, 23 May 2006 06:12:44 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=oa8T6Wq6wmhETEPn3pckgvouNhcRk2iC/iPGXZLEg0evCoG6EdmvL9VTmkX3PsifXHtJlTuPyPyEmmwmsFXcNMwVh3oQLIrHzwFt4kL/iXINVYG3ko3vGMkUQBLlElF6dCerL+lr2zRm3BfG+E/dbkg7xIqbJ5UoCtBH+mXi+Dc=
Received: by 10.65.210.4 with SMTP id m4mr1784942qbq;
        Tue, 23 May 2006 06:12:43 -0700 (PDT)
Received: by 10.65.186.18 with HTTP; Tue, 23 May 2006 06:12:43 -0700 (PDT)
Message-ID: <4f9b23800605230612t3a72d4aawdaffa36807d0526@mail.gmail.com>
Date: Tue, 23 May 2006 14:12:43 +0100
From: "Patrick Kimber" <mailing.patrick.kimber@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: similar ArrayIndexOutOfBoundsException on searching and optimizing
In-Reply-To: <4448E2B5.10607@unc.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <4448E2B5.10607@unc.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Adam

We are getting the same error.  Did you manage to work out what was
causing the problem?

Thanks
Patrick

On 21/04/06, Adam Constabaris <adamc@unc.edu> wrote:
> This is a puzzler, I'm not sure if I'm doing something wrong or whether
> I have a poisoned document, a corrupted index (failing to close my
> IndexModifier properly?) or what.  The setup is this: I have two
> processes (the backend and frontend of a CMS) that run in two different
> VMs -- both use Lucene 1.9.1 with the PorterStemmerAnalyzer wrapper over
> the StandardAnalyzer (from lucene-memory AnalyzerUtils).
>
> The backend is responsible for index creation, updates, etc., while the
> frontend process uses the created index.  What's puzzling is that some
> queries will die with an ArrayIndexOutOfBoundsException being thrown out
> of the BitVector class:
>
> Caused by: java.lang.ArrayIndexOutOfBoundsException: 240
>          at org.apache.lucene.util.BitVector.get(BitVector.java:63)
>          at
> org.apache.lucene.index.SegmentTermDocs.read(SegmentTermDocs.java:133)
>          at org.apache.lucene.search.TermScorer.next(TermScorer.java:105)
>          at
> org.apache.lucene.search.DisjunctionSumScorer.advanceAfterCurrent(Disjunc=
tionSumScorer.java:151)
>          at
> org.apache.lucene.search.DisjunctionSumScorer.next(DisjunctionSumScorer.j=
ava:125)
>          at
> org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java:290)
>          at
> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:132)
>       at
> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:99)
>          at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
>          at org.apache.lucene.search.Hits.<init>(Hits.java:44)
>          at org.apache.lucene.search.Searcher.search(Searcher.java:44)
>          at org.apache.lucene.search.Searcher.search(Searcher.java:36)
>
> The only pattern I've been able to discern in queries that cause this
> problem is that (a) they search the "contents" field (tokenized,
> unstored, TermVector.YES), and (b) it *seems* that it mostly happens
> with longer terms in the query.  Although the frontend defaults to a
> multifield query, the same happens when I use "contents:<<term>>" and
> does not happen if I specify <<term>> and any other of the default
> fields used by the MultiFieldQueryParser.
>
> Here's where it gets interesting: I've noticed that calling optimize()
> on the index as it's created by the server process is also throwing a
> hissy fit, with an *eerily similar* index:
>
> java.lang.ArrayIndexOutOfBoundsException: 239
>          at org.apache.lucene.util.BitVector.get(BitVector.java:63)
>          at
> org.apache.lucene.index.SegmentReader.isDeleted(SegmentReader.java:288)
>          at
> org.apache.lucene.index.SegmentMerger.mergeFields(SegmentMerger.java:185)
>          at
> org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:88)
>          at
> org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:681)
>          at
> org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:658)
>          at
> org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:517)
>          at
> org.apache.lucene.index.IndexWriter.addIndexes(IndexWriter.java:553)
>
> Does anybody have any ideas about what I might be doing wrong, or if
> I've possibly uncovered a bug?  I'm too new to the scene to know where I
> ought to start with this.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20828-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 13:29:21 2006
Return-Path: <java-user-return-20828-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85630 invoked from network); 23 May 2006 13:29:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 13:29:20 -0000
Received: (qmail 42662 invoked by uid 500); 23 May 2006 13:29:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42614 invoked by uid 500); 23 May 2006 13:29:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42574 invoked by uid 99); 23 May 2006 13:29:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 06:29:13 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 06:29:11 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 39CB333CB3C; Tue, 23 May 2006 09:28:51 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id 8D77B33CB3B
	for <java-user@lucene.apache.org>; Tue, 23 May 2006 09:28:50 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <20060523121501.41439.qmail@web26203.mail.ukl.yahoo.com>
References: <20060523121501.41439.qmail@web26203.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
Message-Id: <A4931850-92F6-4B4E-B501-9B053A04AC8A@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: updating the data in Lucene
Date: Tue, 23 May 2006 09:28:48 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 23, 2006, at 8:15 AM, Alberto Marqu=FFffffe9s wrote:
> I have a question about like updating the data in Lucene. Supposing =20=

> that I have indexed a directory if I want to refresh index (to =20
> return to index single files that has been modified). In order to =20
> maintain the data updated. There is faster form to do the one that =20
> using: IndexWriter(indexDir, new Analizer(), true); indexaria all =20
> the files again.
> 	=09

absolutely.  you'll need to create the logic to do incremental =20
indexing, but lucene supports deleting and adding documents.  an =20
"update" consists of locating the document to be updated in the =20
index, deleting it, and re-adding the document.

	- erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20829-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 14:23:21 2006
Return-Path: <java-user-return-20829-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97555 invoked from network); 23 May 2006 14:23:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 14:23:21 -0000
Received: (qmail 16690 invoked by uid 500); 23 May 2006 14:23:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16666 invoked by uid 500); 23 May 2006 14:23:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16655 invoked by uid 99); 23 May 2006 14:23:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 07:23:12 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.182 as permitted sender)
Received: from [64.233.166.182] (HELO py-out-1112.google.com) (64.233.166.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 07:23:11 -0700
Received: by py-out-1112.google.com with SMTP id c39so1759087pyd
        for <java-user@lucene.apache.org>; Tue, 23 May 2006 07:22:51 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=Z3O8MaK7aMIqG/Loi6PTEauQOnV+lpVrE8n9oTuoFzVWIZfGJ8HMBa0MWXQgWxzacdXIs8/eFW92ltoLkK/UGmPYfXfFz+E8EK+WSYCzXWiY1l7AQwz91ev1jNskiH0nfLzu/p5+hhvwNNty9q80tKRhyjWucapK/4IzBCuvIKM=
Received: by 10.35.91.10 with SMTP id t10mr1324526pyl;
        Tue, 23 May 2006 07:22:51 -0700 (PDT)
Received: by 10.35.17.5 with HTTP; Tue, 23 May 2006 07:22:51 -0700 (PDT)
Message-ID: <359a92830605230722k622a1ca2p42485c581dbcae7f@mail.gmail.com>
Date: Tue, 23 May 2006 10:22:51 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: An arguable bug in Lucene 1.9.1
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_202010_18033234.1148394171173"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_202010_18033234.1148394171173
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I'm constructing a BooleanQuery across several fields with SpanNearQuerys.
In the degenerate case of spanning *one* term, AND adding a non-span clause=
,
I get an exception thrown. Of course you can argue that a span query over
one term is silly and shouldn't be done, but I thought I'd mention this. I'=
m
content with whatever y'all decide.

Here's the results of a BooleanQuery.toString:

+(spanNear([person:john], 20, false) spanNear([text:john], 5, false))
+groupid:14075

This results in the following stack trace:

ava.lang.ArrayIndexOutOfBoundsException: 4
    at org.apache.lucene.search.BooleanScorer2$Coordinator.coordFactor(
BooleanScorer2.java:54)
    at org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java
:328)
    at org.apache.lucene.search.ConjunctionScorer.score(
ConjunctionScorer.java:82)
    at org.apache.lucene.search.BooleanScorer2$2.score(BooleanScorer2.java
:186)
    at org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java
:327)
    at org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java
:291)
    at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:132=
)
    at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:110=
)
    at org.apache.lucene.search.Searcher.search(Searcher.java:76)
   ****my code here

If I take off the end clause, or have more than one string in the span, it
works. e.g.

+(spanNear([person:john], 20, false) spanNear([text:john], 5, false))

works, as does:

+(spanNear([person:john, person:johnson], 20, false) spanNear([text:john,
text:johnson], 5, false)) +groupid:14075

Of course I can (and will) intercept the creation of the span queries when
there is only one term and use TermQuery instead. I suspect that this is
better practice anyway.

I'll be happy to enter this in bugs database if you think I should.

Best
Erick

------=_Part_202010_18033234.1148394171173--

From java-user-return-20830-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 14:28:20 2006
Return-Path: <java-user-return-20830-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2555 invoked from network); 23 May 2006 14:28:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 14:28:18 -0000
Received: (qmail 27555 invoked by uid 500); 23 May 2006 14:25:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20658 invoked by uid 500); 23 May 2006 14:24:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19894 invoked by uid 99); 23 May 2006 14:24:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 07:24:22 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jtheg@adelphia.net designates 68.168.78.205 as permitted sender)
Received: from [68.168.78.205] (HELO mta11.adelphia.net) (68.168.78.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 06:56:40 -0700
Received: from p450.local ([68.64.24.169]) by mta11.adelphia.net
          (InterMail vM.6.01.05.02 201-2131-123-102-20050715) with ESMTP
          id <20060523135619.YMHV9009.mta11.adelphia.net@p450.local>
          for <java-user@lucene.apache.org>;
          Tue, 23 May 2006 09:56:19 -0400
Subject: RE: Checking for duplicates inside index
From: Jimmy the Geek <jtheg@adelphia.net>
To: java-user@lucene.apache.org
In-Reply-To: <4E022DDAB8F45741914ACD6EDFE2309B0275F663@BIGFOOT.kazeon.local>
References: <4E022DDAB8F45741914ACD6EDFE2309B0275F663@BIGFOOT.kazeon.local>
Content-Type: text/plain
Date: Tue, 23 May 2006 07:56:19 -0600
Message-Id: <1148392579.32238.134.camel@p450.local>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 (2.0.2-27) 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Any chance I could get my hands on code to "de-dup". I have a current
method I think is quite sub-optimal, as I am searching the index for a
dup on every insert.... Not a very good method I think...

Or any other suggestions on good ways to prevent duplicates? I am
indexing with a field that has a unique ID, so it should be fairly
straightforward...

Thanks.
On Mon, 2006-05-22 at 19:01 -0700, Eugene Tuan wrote:
> I have created a method that can delete duplicate docs. Basically,
> during indexing, a doc is associated with an id (a term field defined by
> you.) that is indexed. Then, call the method to delete duplicates
> whenever you update index. 
> 
> I haven't contributed back to Lucene community yet because our code is
> in beta testing now. 
> 
> My former colleague, Chris, has received agreement from Doug Cutting
> since last August that this feature is nice to have.
> 
> Eugene
> 
> 
> -----Original Message-----
> From: Omar Didi [mailto:odidi@Cyveillance.com] 
> Sent: Monday, May 22, 2006 6:47 PM
> To: java-user@lucene.apache.org
> Subject: RE: Checking for duplicates inside index
> 
> you have two choices that I can think of:
> 1- before adding a document, check if it does't exist in the index. you
> can do this by querying on a unique field if you have it .
> 2- you can index all your documents, and once the indexing is done you
> can dedupe. (Lucene has built in methods that can help with this)
> 
> 
> if your index doesn't have a unique key, you need to add one like the
> one you suggested.
> 
> -----Original Message-----
> From: karl wettin [mailto:kalle@snigel.net]
> Sent: Monday, May 22, 2006 6:05 PM
> To: java-user@lucene.apache.org
> Subject: Re: Checking for duplicates inside index
> 
> 
> On Mon, 2006-05-22 at 23:42 +0200, Hannes Carl Meyer wrote:
> > 
> > I'm indexing ~10000 documents per day but since I'm getting a lot of 
> > real duplicates (100% the same document content) I want to check the 
> > content before indexing...
> > 
> > My idea is to create a checksum of the documents content and store it 
> > within document inside the index, before indexing a new document I
> > will compare the new documents checksum with the ones in the index.
> > 
> > Is that a good idea? does someone have experiences with that method?
> > any tools available? 
> 
> That could work.
> 
> You will need a big sum though. MD5?
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20831-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 14:29:24 2006
Return-Path: <java-user-return-20831-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6832 invoked from network); 23 May 2006 14:29:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 14:29:23 -0000
Received: (qmail 61170 invoked by uid 500); 23 May 2006 14:28:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61049 invoked by uid 500); 23 May 2006 14:28:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60957 invoked by uid 99); 23 May 2006 14:28:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 07:28:27 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [152.2.1.139] (HELO smtp.unc.edu) (152.2.1.139)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 07:28:22 -0700
Received: from [152.2.190.32] (batmanuel.its.unc.edu [152.2.190.32])
	(authenticated bits=0)
	by smtp.unc.edu (8.13.4/8.13.4) with ESMTP id k4NERdFH023564
	for <java-user@lucene.apache.org>; Tue, 23 May 2006 10:27:40 -0400 (EDT)
Message-ID: <44731BDB.8010606@unc.edu>
Date: Tue, 23 May 2006 10:27:39 -0400
From: Adam Constabaris <adamc@unc.edu>
User-Agent: Thunderbird 1.5.0.2 (X11/20060420)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: [Spam:5.0] Re: similar ArrayIndexOutOfBoundsException on searching
 and optimizing
References: <4448E2B5.10607@unc.edu> <4f9b23800605230612t3a72d4aawdaffa36807d0526@mail.gmail.com>
In-Reply-To: <4f9b23800605230612t3a72d4aawdaffa36807d0526@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Scanned-By: ITS Messaging Systems (outgoing) on 152.2.1.139
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Patrick Kimber wrote:
> Hi Adam
> 
> We are getting the same error.  Did you manage to work out what was
> causing the problem?
> 
> Thanks
> Patrick

I can't say anything definitive about this, but I think it was due to a 
corrupted index; on the hunch that the index creation/update threads 
were reliably putting bad data into the index, I got more careful about 
the way the IndexModifier was being used: the updating process runs a 
series of tasks periodically, and by calling modifier.flush() at the end 
of each processing run, the AIOB exceptions went away.  I never resolved 
why the indices in the error messages were so similar, however.  I hope 
that helps in some small way (or a large way, but I'm a realist =).

AC

> 
> On 21/04/06, Adam Constabaris <adamc@unc.edu> wrote:
>> This is a puzzler, I'm not sure if I'm doing something wrong or whether
>> I have a poisoned document, a corrupted index (failing to close my
>> IndexModifier properly?) or what.  The setup is this: I have two
>> processes (the backend and frontend of a CMS) that run in two different
>> VMs -- both use Lucene 1.9.1 with the PorterStemmerAnalyzer wrapper over
>> the StandardAnalyzer (from lucene-memory AnalyzerUtils).
>>
>> The backend is responsible for index creation, updates, etc., while the
>> frontend process uses the created index.  What's puzzling is that some
>> queries will die with an ArrayIndexOutOfBoundsException being thrown out
>> of the BitVector class:
>>
>> Caused by: java.lang.ArrayIndexOutOfBoundsException: 240
>>          at org.apache.lucene.util.BitVector.get(BitVector.java:63)
>>          at
>> org.apache.lucene.index.SegmentTermDocs.read(SegmentTermDocs.java:133)
>>          at org.apache.lucene.search.TermScorer.next(TermScorer.java:105)
>>          at
>> org.apache.lucene.search.DisjunctionSumScorer.advanceAfterCurrent(DisjunctionSumScorer.java:151) 
>>
>>          at
>> org.apache.lucene.search.DisjunctionSumScorer.next(DisjunctionSumScorer.java:125) 
>>
>>          at
>> org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java:290)
>>          at
>> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:132)
>>       at
>> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:99)
>>          at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
>>          at org.apache.lucene.search.Hits.<init>(Hits.java:44)
>>          at org.apache.lucene.search.Searcher.search(Searcher.java:44)
>>          at org.apache.lucene.search.Searcher.search(Searcher.java:36)
>>
>> The only pattern I've been able to discern in queries that cause this
>> problem is that (a) they search the "contents" field (tokenized,
>> unstored, TermVector.YES), and (b) it *seems* that it mostly happens
>> with longer terms in the query.  Although the frontend defaults to a
>> multifield query, the same happens when I use "contents:<<term>>" and
>> does not happen if I specify <<term>> and any other of the default
>> fields used by the MultiFieldQueryParser.
>>
>> Here's where it gets interesting: I've noticed that calling optimize()
>> on the index as it's created by the server process is also throwing a
>> hissy fit, with an *eerily similar* index:
>>
>> java.lang.ArrayIndexOutOfBoundsException: 239
>>          at org.apache.lucene.util.BitVector.get(BitVector.java:63)
>>          at
>> org.apache.lucene.index.SegmentReader.isDeleted(SegmentReader.java:288)
>>          at
>> org.apache.lucene.index.SegmentMerger.mergeFields(SegmentMerger.java:185)
>>          at
>> org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:88)
>>          at
>> org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:681)
>>          at
>> org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:658)
>>          at
>> org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:517)
>>          at
>> org.apache.lucene.index.IndexWriter.addIndexes(IndexWriter.java:553)
>>
>> Does anybody have any ideas about what I might be doing wrong, or if
>> I've possibly uncovered a bug?  I'm too new to the scene to know where I
>> ought to start with this.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20832-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 14:38:11 2006
Return-Path: <java-user-return-20832-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10237 invoked from network); 23 May 2006 14:38:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 14:38:11 -0000
Received: (qmail 89363 invoked by uid 500); 23 May 2006 14:38:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89332 invoked by uid 500); 23 May 2006 14:38:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89317 invoked by uid 99); 23 May 2006 14:38:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 07:38:05 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 07:38:04 -0700
Received: from localhost ([127.0.0.1] helo=talk.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1FiY11-0006IW-VJ
	for java-user@lucene.apache.org; Tue, 23 May 2006 07:37:44 -0700
Message-ID: <4524125.post@talk.nabble.com>
Date: Tue, 23 May 2006 07:37:43 -0700 (PDT)
From: AsifTheManRahman <a4rahman@engmail.uwaterloo.ca>
To: java-user@lucene.apache.org
Subject: Re: Analyzer question
In-Reply-To: <50f433360605190759i210366c9i14e1a9019b5999fe@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-Sender: a4rahman@engmail.uwaterloo.ca
X-Nabble-From: AsifTheManRahman <a4rahman@engmail.uwaterloo.ca>
References: <4469840.post@talk.nabble.com> <50f433360605190759i210366c9i14e1a9019b5999fe@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Thanks Jeff. :)
--
View this message in context: http://www.nabble.com/Analyzer+question-t1650271.html#a4524125
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20833-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 14:58:25 2006
Return-Path: <java-user-return-20833-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24103 invoked from network); 23 May 2006 14:58:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 14:58:25 -0000
Received: (qmail 43974 invoked by uid 500); 23 May 2006 14:58:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43941 invoked by uid 500); 23 May 2006 14:58:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43930 invoked by uid 99); 23 May 2006 14:58:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 07:58:17 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.180 as permitted sender)
Received: from [64.233.166.180] (HELO py-out-1112.google.com) (64.233.166.180)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 07:58:17 -0700
Received: by py-out-1112.google.com with SMTP id c39so1771424pyd
        for <java-user@lucene.apache.org>; Tue, 23 May 2006 07:57:56 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=rE3UyUUzl+P6KWVuQk497S4SRk4pOJVy200iOzHKOMteR6kVrl8URUZ89hEL9xXH1brdBfZyLr2hQKiq/55DA/M0qt7RfIyp1zPM3A0eSmyBNmuPb+9JZwKuc0R8bw4XOfTc2NVLayMR4fsJImpTnRQsNVIWHEreyHrFzafdFWE=
Received: by 10.35.36.13 with SMTP id o13mr884830pyj;
        Tue, 23 May 2006 07:57:56 -0700 (PDT)
Received: by 10.35.17.5 with HTTP; Tue, 23 May 2006 07:57:56 -0700 (PDT)
Message-ID: <359a92830605230757j1aef371av87e2f4b542b23779@mail.gmail.com>
Date: Tue, 23 May 2006 10:57:56 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: An arguable bug in Lucene 1.9.1
In-Reply-To: <359a92830605230722k622a1ca2p42485c581dbcae7f@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_203138_4499382.1148396276499"
References: <359a92830605230722k622a1ca2p42485c581dbcae7f@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_203138_4499382.1148396276499
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hold the presses. I can't get my junit test to show this as a problem. So
I'm exploring further. It may be some weird interaction with my index. I'll
post more later.

Sorry for the spam.

Erick

------=_Part_203138_4499382.1148396276499--

From java-user-return-20834-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 14:58:45 2006
Return-Path: <java-user-return-20834-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24197 invoked from network); 23 May 2006 14:58:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 14:58:45 -0000
Received: (qmail 45351 invoked by uid 500); 23 May 2006 14:58:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45324 invoked by uid 500); 23 May 2006 14:58:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45310 invoked by uid 99); 23 May 2006 14:58:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 07:58:37 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.12.138] (HELO smtp801.mail.ukl.yahoo.com) (217.12.12.138)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 23 May 2006 07:58:36 -0700
Received: (qmail 99269 invoked from network); 23 May 2006 14:58:12 -0000
Received: from unknown (HELO MalcolmPC) (malcyclark@btinternet.com@81.153.220.122 with login)
  by smtp801.mail.ukl.yahoo.com with SMTP; 23 May 2006 14:58:12 -0000
Message-ID: <00fc01c67e79$50206240$0201a8c0@MalcolmPC>
From: "Malcolm Clark" <malcyclark@btinternet.com>
To: <java-user@lucene.apache.org>
Subject: Scoring
Date: Tue, 23 May 2006 15:58:11 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00F9_01C67E81.B13920F0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2869
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00F9_01C67E81.B13920F0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi experts,
I'm currently indexing the New INEX collection using lucene and =
pondering this question.
When searching how do I retrieve the score based on a section or =
paragraph etc, and not the document score, when the documents are =
indexed in multi-fields (XML).
Can anyone point me in the correct direction?
Thanks,
Malcolm
------=_NextPart_000_00F9_01C67E81.B13920F0--


From java-user-return-20835-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 15:02:24 2006
Return-Path: <java-user-return-20835-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26637 invoked from network); 23 May 2006 15:02:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 15:02:23 -0000
Received: (qmail 51347 invoked by uid 500); 23 May 2006 15:02:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51319 invoked by uid 500); 23 May 2006 15:02:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51308 invoked by uid 99); 23 May 2006 15:02:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 08:02:18 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mailing.patrick.kimber@gmail.com designates 64.233.162.196 as permitted sender)
Received: from [64.233.162.196] (HELO nz-out-0102.google.com) (64.233.162.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 08:02:17 -0700
Received: by nz-out-0102.google.com with SMTP id o37so1358910nzf
        for <java-user@lucene.apache.org>; Tue, 23 May 2006 08:01:56 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=ugNNftbFgBh3rm5gOq1iKr0snEGDVobg/eM8jeJ60pBxp93k8xhRZBgvIxSteBNnWRT7ESYfpRP+MjmZs4PZN7DoCkf9Bi7vfujrvZk09H9l1FEvbb/VhpFo1PYFytYAhA+BHWU+S2qBfb4aUv6ZhyKT4PiywfVHot2QcwvFGCM=
Received: by 10.65.20.1 with SMTP id x1mr741815qbi;
        Tue, 23 May 2006 08:01:56 -0700 (PDT)
Received: by 10.65.186.18 with HTTP; Tue, 23 May 2006 08:01:56 -0700 (PDT)
Message-ID: <4f9b23800605230801o71ddd169qbeae599f0e60771a@mail.gmail.com>
Date: Tue, 23 May 2006 16:01:56 +0100
From: "Patrick Kimber" <mailing.patrick.kimber@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: [Spam:5.0] Re: similar ArrayIndexOutOfBoundsException on searching and optimizing
In-Reply-To: <44731BDB.8010606@unc.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <4448E2B5.10607@unc.edu>
	 <4f9b23800605230612t3a72d4aawdaffa36807d0526@mail.gmail.com>
	 <44731BDB.8010606@unc.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Adam

Thanks for your help.

Patrick

On 23/05/06, Adam Constabaris <adamc@unc.edu> wrote:
> Patrick Kimber wrote:
> > Hi Adam
> >
> > We are getting the same error.  Did you manage to work out what was
> > causing the problem?
> >
> > Thanks
> > Patrick
>
> I can't say anything definitive about this, but I think it was due to a
> corrupted index; on the hunch that the index creation/update threads
> were reliably putting bad data into the index, I got more careful about
> the way the IndexModifier was being used: the updating process runs a
> series of tasks periodically, and by calling modifier.flush() at the end
> of each processing run, the AIOB exceptions went away.  I never resolved
> why the indices in the error messages were so similar, however.  I hope
> that helps in some small way (or a large way, but I'm a realist =3D).
>
> AC
>
> >
> > On 21/04/06, Adam Constabaris <adamc@unc.edu> wrote:
> >> This is a puzzler, I'm not sure if I'm doing something wrong or whethe=
r
> >> I have a poisoned document, a corrupted index (failing to close my
> >> IndexModifier properly?) or what.  The setup is this: I have two
> >> processes (the backend and frontend of a CMS) that run in two differen=
t
> >> VMs -- both use Lucene 1.9.1 with the PorterStemmerAnalyzer wrapper ov=
er
> >> the StandardAnalyzer (from lucene-memory AnalyzerUtils).
> >>
> >> The backend is responsible for index creation, updates, etc., while th=
e
> >> frontend process uses the created index.  What's puzzling is that some
> >> queries will die with an ArrayIndexOutOfBoundsException being thrown o=
ut
> >> of the BitVector class:
> >>
> >> Caused by: java.lang.ArrayIndexOutOfBoundsException: 240
> >>          at org.apache.lucene.util.BitVector.get(BitVector.java:63)
> >>          at
> >> org.apache.lucene.index.SegmentTermDocs.read(SegmentTermDocs.java:133)
> >>          at org.apache.lucene.search.TermScorer.next(TermScorer.java:1=
05)
> >>          at
> >> org.apache.lucene.search.DisjunctionSumScorer.advanceAfterCurrent(Disj=
unctionSumScorer.java:151)
> >>
> >>          at
> >> org.apache.lucene.search.DisjunctionSumScorer.next(DisjunctionSumScore=
r.java:125)
> >>
> >>          at
> >> org.apache.lucene.search.BooleanScorer2.score(BooleanScorer2.java:290)
> >>          at
> >> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:132)
> >>       at
> >> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:99)
> >>          at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:65)
> >>          at org.apache.lucene.search.Hits.<init>(Hits.java:44)
> >>          at org.apache.lucene.search.Searcher.search(Searcher.java:44)
> >>          at org.apache.lucene.search.Searcher.search(Searcher.java:36)
> >>
> >> The only pattern I've been able to discern in queries that cause this
> >> problem is that (a) they search the "contents" field (tokenized,
> >> unstored, TermVector.YES), and (b) it *seems* that it mostly happens
> >> with longer terms in the query.  Although the frontend defaults to a
> >> multifield query, the same happens when I use "contents:<<term>>" and
> >> does not happen if I specify <<term>> and any other of the default
> >> fields used by the MultiFieldQueryParser.
> >>
> >> Here's where it gets interesting: I've noticed that calling optimize()
> >> on the index as it's created by the server process is also throwing a
> >> hissy fit, with an *eerily similar* index:
> >>
> >> java.lang.ArrayIndexOutOfBoundsException: 239
> >>          at org.apache.lucene.util.BitVector.get(BitVector.java:63)
> >>          at
> >> org.apache.lucene.index.SegmentReader.isDeleted(SegmentReader.java:288=
)
> >>          at
> >> org.apache.lucene.index.SegmentMerger.mergeFields(SegmentMerger.java:1=
85)
> >>          at
> >> org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:88)
> >>          at
> >> org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:681=
)
> >>          at
> >> org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:658=
)
> >>          at
> >> org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:517)
> >>          at
> >> org.apache.lucene.index.IndexWriter.addIndexes(IndexWriter.java:553)
> >>
> >> Does anybody have any ideas about what I might be doing wrong, or if
> >> I've possibly uncovered a bug?  I'm too new to the scene to know where=
 I
> >> ought to start with this.
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20836-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 15:14:22 2006
Return-Path: <java-user-return-20836-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33334 invoked from network); 23 May 2006 15:14:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 15:14:21 -0000
Received: (qmail 92285 invoked by uid 500); 23 May 2006 15:14:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92254 invoked by uid 500); 23 May 2006 15:14:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92243 invoked by uid 99); 23 May 2006 15:14:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 08:14:15 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.166.181 as permitted sender)
Received: from [64.233.166.181] (HELO py-out-1112.google.com) (64.233.166.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 08:14:14 -0700
Received: by py-out-1112.google.com with SMTP id c39so1776630pyd
        for <java-user@lucene.apache.org>; Tue, 23 May 2006 08:13:54 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=QZOg3otYUd3BX8bXj0x4uEccqcE63U342vcw1pnFRmKjI6kV7JxFh2NRHT1w7n6gT7cHKjh8tyRZiaC5Q8GrhshKPuHX3MD+7eIYpq6qFYZMcrgT7hRJW0urKVyk1QhJBfrx1K1w7PBlBE5PKoLiqxKFb3VBznxNrLwjhBNZW38=
Received: by 10.35.127.7 with SMTP id e7mr2198197pyn;
        Tue, 23 May 2006 08:13:54 -0700 (PDT)
Received: by 10.35.107.3 with HTTP; Tue, 23 May 2006 08:13:54 -0700 (PDT)
Message-ID: <c68e39170605230813y7d2438d4kd5315de863e5762e@mail.gmail.com>
Date: Tue, 23 May 2006 11:13:54 -0400
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Checking for duplicates inside index
In-Reply-To: <1148392579.32238.134.camel@p450.local>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <4E022DDAB8F45741914ACD6EDFE2309B0275F663@BIGFOOT.kazeon.local>
	 <1148392579.32238.134.camel@p450.local>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 5/23/06, Jimmy the Geek <jtheg@adelphia.net> wrote:
> Or any other suggestions on good ways to prevent duplicates? I am
> indexing with a field that has a unique ID, so it should be fairly
> straightforward...

Solr does this efficiently:
http://www.mail-archive.com/java-user@lucene.apache.org/msg05729.html

-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20837-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 15:55:00 2006
Return-Path: <java-user-return-20837-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51736 invoked from network); 23 May 2006 15:55:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 15:55:00 -0000
Received: (qmail 83083 invoked by uid 500); 23 May 2006 15:54:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83036 invoked by uid 500); 23 May 2006 15:54:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83008 invoked by uid 99); 23 May 2006 15:54:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 08:54:49 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [208.32.117.78] (HELO mail.materialogic.com) (208.32.117.78)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 08:54:49 -0700
Received: from mail.materialogic.com (localhost [127.0.0.1])
	by mail.materialogic.com (Postfix) with SMTP
	id 691403DA31; Tue, 23 May 2006 10:54:28 -0500 (CDT)
Received: from mail.materialogic.com ([127.0.0.1])
	by back131.materialogic.com ([192.168.1.131])
	with SMTP (gateway) id A000C964C10; Tue, 23 May 2006 10:54:28 -0500
Received: from ist38 (ist38.materialogic.com [192.168.1.38])
	by mail.materialogic.com (Postfix) with ESMTP id 533093DA31
	for <java-user@lucene.apache.org>; Tue, 23 May 2006 10:54:28 -0500 (CDT)
From: "James Maes" <jmaes@materialogic.com>
To: <java-user@lucene.apache.org>
Subject: Problem using SpellChecker with run time strings
Date: Tue, 23 May 2006 10:50:06 -0500
Message-ID: <007f01c67e80$8fcfc5f0$2601a8c0@materialogic.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
Thread-index: AcZ+gI++UP640rK1QNeQn9sIoMembA==
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Here is the problem:

We have implemented the lucene eninge within our application server which is
built ontop of Tomcat.  We've had no problems creating the indexes or
searching them.  The problems we are having are all related to the
SpellChecker part of the system.

It seems to be related to Strings and when they are created.  When all
strings (fields to index, word to search, etc..) are known at compile time,
every thing works great.  When things are defined at run time (ie, user
input, config files, etc..) things break. 

An simple example.  (word is read in from a user and then passed to this
method and is set to "post card")

String[]suggestions = null;

// Using user defined runtime string //
suggestions = speller.suggestSimilar(word, 5);
System.out.println("suggestions ["+ suggestions.length +"]");


// Using hard coded compile time string //
suggestions = speller.suggestSimilar("post card", 5);
System.out.println("suggestions ["+ suggestions.length +"]");


Results:
     [java] suggestions [0] 
     [java] suggestions [3] 

We've tried this 10 diffent ways, and keep on getting the same results. 

>From a little bit of searching that I did, it looks like Lucence is using ==
instead of .equals() for some internal stuff.  Is that related to my issues
and if so, any good ideas on what I need to do to avoid it?


Just in case, here is some related system information:

System Information:
       OS: Linux (Suse 9.2)
       Java SDK Version: 1.5.6
       Lucene Version: 1.9.1
       Installed Jars: 
		lucene-core-1.9.1.jar  
		lucene-snowball-1.9.1.jar  
		lucene-spellchecker-1.9.1.jar



Thanks
-JM

James Maes
Software Architect
Materialogic
PH: 800-333-7144
PH: 314-997-4342 Ext. 3422
FX: 314-997-7814



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20838-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 16:46:23 2006
Return-Path: <java-user-return-20838-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72328 invoked from network); 23 May 2006 16:46:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 16:46:23 -0000
Received: (qmail 85875 invoked by uid 500); 23 May 2006 16:46:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85349 invoked by uid 500); 23 May 2006 16:46:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85324 invoked by uid 99); 23 May 2006 16:46:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 09:46:17 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.176] (HELO hnexfe10.hetnet.nl) (195.121.6.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 09:46:15 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe10.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Tue, 23 May 2006 18:45:53 +0200
Subject: Re: Problem using SpellChecker with run time strings
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <007f01c67e80$8fcfc5f0$2601a8c0@materialogic.com>
References: <007f01c67e80$8fcfc5f0$2601a8c0@materialogic.com>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Tue, 23 May 2006 18:45:51 +0200
Message-Id: <1148402751.15051.2.camel@limax.snigel.net>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 23 May 2006 16:45:53.0632 (UTC) FILETIME=[5B232600:01C67E88]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tue, 2006-05-23 at 10:50 -0500, James Maes wrote:

> It seems to be related to Strings and when they are created. 


Try to create a new instance of SpellChecker for each suggestion. Will
it work? Then you have hit the bug where the per instance float for
maximum score (accuracy) is modified instead of using it local in the
method.

Something like this:

public String[] suggestSimilair(... {
    float accuracy = this.accuracy // add this line in
}

I'll pop a patch in the Jira later today.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20839-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 16:56:15 2006
Return-Path: <java-user-return-20839-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75085 invoked from network); 23 May 2006 16:56:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 16:56:14 -0000
Received: (qmail 5762 invoked by uid 500); 23 May 2006 16:56:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5739 invoked by uid 500); 23 May 2006 16:56:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5722 invoked by uid 99); 23 May 2006 16:56:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 09:56:08 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.187] (HELO hnexfe17.hetnet.nl) (195.121.6.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 09:56:07 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe17.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 23 May 2006 18:55:45 +0200
Subject: Re: incremental updates
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <D2D2FEE335CE304C81F17C83626158E2E088F9@wsdmnsvr>
References: <D2D2FEE335CE304C81F17C83626158E2E088F9@wsdmnsvr>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Tue, 23 May 2006 18:55:43 +0200
Message-Id: <1148403344.15369.1.camel@limax.snigel.net>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 23 May 2006 16:55:46.0140 (UTC) FILETIME=[BC4CB1C0:01C67E89]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Mon, 2006-05-22 at 13:07 -0700, Van Nguyen wrote:
> I'm pretty new to lucene and was wondering if there are any resources on
> how to do incremental updates in lucene.

What do you mean by incremental updates? You add data to your corpus by
using the IndexWriter.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20840-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 17:10:12 2006
Return-Path: <java-user-return-20840-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79937 invoked from network); 23 May 2006 17:10:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 17:10:11 -0000
Received: (qmail 20512 invoked by uid 500); 23 May 2006 17:10:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20470 invoked by uid 500); 23 May 2006 17:10:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20440 invoked by uid 99); 23 May 2006 17:10:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 10:10:04 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dragon-fly999@hotmail.com designates 207.46.9.113 as permitted sender)
Received: from [207.46.9.113] (HELO hotmail.com) (207.46.9.113)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 10:10:02 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Tue, 23 May 2006 10:09:41 -0700
Message-ID: <BAY119-F33478E755972956AF93DC2B99B0@phx.gbl>
Received: from 207.46.9.123 by by119fd.bay119.hotmail.msn.com with HTTP;
	Tue, 23 May 2006 17:09:38 GMT
X-Originating-IP: [206.35.175.10]
X-Originating-Email: [dragon-fly999@hotmail.com]
X-Sender: dragon-fly999@hotmail.com
In-Reply-To: <c68e39170605220840s77e23aeg2bde5320d7329770@mail.gmail.com>
From: "Dragon Fly" <dragon-fly999@hotmail.com>
To: java-user@lucene.apache.org
Subject: Re: Performance ...
Date: Tue, 23 May 2006 13:09:38 -0400
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 23 May 2006 17:09:41.0963 (UTC) FILETIME=[AE7D29B0:01C67E8B]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'll give it a try, thanks.

>From: "Yonik Seeley" <yseeley@gmail.com>
>Reply-To: java-user@lucene.apache.org
>To: java-user@lucene.apache.org
>Subject: Re: Performance ...
>Date: Mon, 22 May 2006 11:40:46 -0400
>
>On 5/22/06, Dragon Fly <dragon-fly999@hotmail.com> wrote:
>>The search results of my Lucene application are always sorted
>>alphabetically.
>>Therefore, score and relevance are not needed.  With that said, is there
>>anything that I can "disable" to:
>>
>>(a) Improve the search performance
>>(b) Reduce the size of the index
>>(c) Shorten the indexing time
>
>omitNorms on all your fields will reduce memory consumption and will
>also improve (b) and (c) primarily.  (see JavaDoc for Field)
>
>-Yonik
>http://incubator.apache.org/solr Solr, the open-source Lucene search server
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>

_________________________________________________________________
Is your PC infected? Get a FREE online computer virus scan from McAfee 
Security. http://clinic.mcafee.com/clinic/ibuy/campaign.asp?cid=3963


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20841-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 17:42:14 2006
Return-Path: <java-user-return-20841-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88444 invoked from network); 23 May 2006 17:42:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 17:42:14 -0000
Received: (qmail 65202 invoked by uid 500); 23 May 2006 17:42:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65178 invoked by uid 500); 23 May 2006 17:42:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65167 invoked by uid 99); 23 May 2006 17:42:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 10:42:07 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.85.25] (HELO web36608.mail.mud.yahoo.com) (209.191.85.25)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 23 May 2006 10:42:07 -0700
Received: (qmail 85900 invoked by uid 60001); 23 May 2006 17:41:46 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type;
  b=bnmBggB67Gl9uB21QiZqncnBBbnqpFepM8xFUUWI1LbEw7WlPRlVuD7Jvbv5Yrlw8E82fJ+59Q+J3+JKleWPEOJ98y2g1aPTSxMmSzjRt9eN0RwbfD/PntO5j0h2JvHsqASLG7toPClaDqAdQZBv7YDykH6jDEWSqo908OJoWaU=  ;
Message-ID: <20060523174146.85898.qmail@web36608.mail.mud.yahoo.com>
Date: Tue, 23 May 2006 10:41:46 -0700 (PDT)
From: Marc Dauncey <marc_dauncey@yahoo.com>
Reply-To: Marc Dauncey <marc_dauncey@yahoo.com>
Subject: Web services for querying and return of results
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Has anyone used this as a delivery mechanism for Lucene query results?

A quick search on Google reveals a Lucene Web Service project on SourceForge, but what i want to know is whether people on the list know of any big drawbacks, specifically, how well could I expect this to perform, as compared to passing back a Hits object to clients.

The advantages I can see advocating SOAP are light coupling of search clients and servers, plus ease of consumption with lots of systems, devices, cocoon etc.

Does anyone use this in their application and how have you found it?

Many thanks


Marc



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20842-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 17:52:02 2006
Return-Path: <java-user-return-20842-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90525 invoked from network); 23 May 2006 17:52:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 17:52:01 -0000
Received: (qmail 78501 invoked by uid 500); 23 May 2006 17:51:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78437 invoked by uid 500); 23 May 2006 17:51:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78402 invoked by uid 99); 23 May 2006 17:51:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 10:51:51 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 10:51:50 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 77DCB33CB57; Tue, 23 May 2006 13:51:29 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id 0905933CB57
	for <java-user@lucene.apache.org>; Tue, 23 May 2006 13:51:27 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <20060523174146.85898.qmail@web36608.mail.mud.yahoo.com>
References: <20060523174146.85898.qmail@web36608.mail.mud.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <D332BBB0-41B9-41E8-A072-10B09B2EA465@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Web services for querying and return of results
Date: Tue, 23 May 2006 13:51:25 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 23, 2006, at 1:41 PM, Marc Dauncey wrote:

> Has anyone used this as a delivery mechanism for Lucene query results?
>
> A quick search on Google reveals a Lucene Web Service project on  
> SourceForge, but what i want to know is whether people on the list  
> know of any big drawbacks, specifically, how well could I expect  
> this to perform, as compared to passing back a Hits object to clients.
>
> The advantages I can see advocating SOAP are light coupling of  
> search clients and servers, plus ease of consumption with lots of  
> systems, devices, cocoon etc.
>
> Does anyone use this in their application and how have you found it?

The web applications I've built around Lucene mostly all support "web  
services" (lower cased).  Atom, RSS, OpenSearch, and Solr's custom  
XML all qualify.  I'm currently leveraging Solr in a Ruby on Rails  
front-end and it is working very well.  SOAP works too, but I prefer  
a lighter-weight mechanism.  With all of these, care must be taken to  
only send back a paged subset of matching documents, of course.

There are many factors involved in determining how any kind of web  
service wrapper around Lucene will perform, so its hard to say.  The  
real question is: does it perform well enough in your environment?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20843-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 18:18:50 2006
Return-Path: <java-user-return-20843-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1888 invoked from network); 23 May 2006 18:18:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 18:18:50 -0000
Received: (qmail 24464 invoked by uid 500); 23 May 2006 18:18:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24413 invoked by uid 500); 23 May 2006 18:18:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24393 invoked by uid 99); 23 May 2006 18:18:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 11:18:44 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 11:18:43 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 2C5C15B773; Tue, 23 May 2006 11:18:23 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 257D87F403
	for <java-user@lucene.apache.org>; Tue, 23 May 2006 11:18:23 -0700 (PDT)
Date: Tue, 23 May 2006 11:18:23 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: ORing complementary queries gives no results
In-Reply-To: <E817F096B8D59B4E9D1E437917B1083107D1AF@mshydpub1.hyd.deshaw.com>
Message-ID: <Pine.LNX.4.58.0605231113430.28612@hal.rescomp.berkeley.edu>
References: <E817F096B8D59B4E9D1E437917B1083107D1AF@mshydpub1.hyd.deshaw.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I suspect the final query structure isn't what you think it is ... take a
look at the toString on your query.

in general, there is no way to just do a "NOT foo" type query ...
prohibiting things only makes sense in the context of selecting something
else ... i'm guessing the query structure you acctually have is...

	name:xyz -name:xyz

...which means positively select anything matching name:xyz and then
prohibit anything matching name:xyz ... hence the empty set.

if you truely want a "NOT foo" style clause which you can then combine
with other queries in a true boolean set fashion, you'll need to use a
MatchAllDocs query or soemthing like it...

       name:xyz (field_every_doc_has_set_to_true:true -name:xyz)



: Date: Tue, 23 May 2006 14:47:32 +0530
: From: "Satuluri, Venu_Madhav" <Venu.Madhav.Satuluri@deshaw.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: ORing complementary queries gives no results
:
: Hi all,
:
: I build Query objects programmatically. I do this by getting a
: TermQuery/PhraseQuery/whatever for each term in the user query, make a
: BooleanClause by specifying isRequired and isProhibited depending on
: whether the term has an "and" or an "or" or an "or not" etc prefixed
: before it (I use 1.4.3, which is why I use isRequired, isProhibited
: instead of BooleanClause.OCCUR). I combine all the BooleanClauses in the
: end to get my final Query.
:
: This is working fine, except for one case where I ORed two complementary
: queries, i.e. I searched for "name:xyz or -name:xyz". Both of these
: queries independently produce results but both joined together don't.
: The isRequired parameter is false for both the parts of the query, while
: isProhibited is true for the second and false for the first. Shouldn't
: this query return all the documents which have some value of the field
: "name"?
:
: Thanks,
: Venu
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20844-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 18:30:22 2006
Return-Path: <java-user-return-20844-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6421 invoked from network); 23 May 2006 18:30:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 18:30:22 -0000
Received: (qmail 46362 invoked by uid 500); 23 May 2006 18:30:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45431 invoked by uid 500); 23 May 2006 18:30:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45420 invoked by uid 99); 23 May 2006 18:30:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 11:30:16 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 11:30:15 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 0D6DB5B773; Tue, 23 May 2006 11:29:45 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 803DE7F403
	for <java-user@lucene.apache.org>; Tue, 23 May 2006 11:29:45 -0700 (PDT)
Date: Tue, 23 May 2006 11:29:45 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Making SpanQuery more effiicent
In-Reply-To: <429c032d0605230444u73608b9axb9437b699232ba73@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0605231126480.28612@hal.rescomp.berkeley.edu>
References: <429c032d0605222236j16b7a1f8ka02f00c027c26736@mail.gmail.com> 
 <D6C4D9DA-BCE0-4DF3-A2ED-8F1607AA4871@ehatchersolutions.com>
 <429c032d0605230444u73608b9axb9437b699232ba73@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Unfortunately, I want to have subqueries inside my query (e.g. (t1 AND
: t2) NEAR (t3 OR t4)), and PhraseQuery seems to allow only Terms inside
: it.

In that case, you aren't just using SpanQuery for the use of slop -- you
are using the Span information, you just don't realize it (that's how all
of the SpanQueries work -- the get the Slop information from the sub
queries and propogate them up.  (which is also why you can't use just any
only Query as a clause in a SpanNearQuery)

: > > As I use SpanQuery purely for the use of slop, I was wondering how to
: > > make SpanQuery more efficient,. Since I don't need any span
: > > information, is there a way to disable the computation for span and
: > > other unneeded overhead?



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20845-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 18:58:40 2006
Return-Path: <java-user-return-20845-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15385 invoked from network); 23 May 2006 18:58:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 18:58:40 -0000
Received: (qmail 93419 invoked by uid 500); 23 May 2006 18:58:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93386 invoked by uid 500); 23 May 2006 18:58:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93369 invoked by uid 99); 23 May 2006 18:58:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 11:58:34 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.85.24] (HELO web36607.mail.mud.yahoo.com) (209.191.85.24)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 23 May 2006 11:58:32 -0700
Received: (qmail 64325 invoked by uid 60001); 23 May 2006 18:58:11 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=nS+9Q94FwQPhXH/Tc8CJLpMgH1QLYbQBPrz49MGjdhGVyheq05YiF2NjCRtMpMJTZRC0q5rFdXQ0EOK7VMs9d3a7QvFfUnIMsf6+ahCeQOuFPSPWz7fgyDZhBaEKc8FJe5x0QTl2l3guCWfg5MqdxQdvto3gjoa5L3y4yQGpAk0=  ;
Message-ID: <20060523185811.64323.qmail@web36607.mail.mud.yahoo.com>
Date: Tue, 23 May 2006 11:58:11 -0700 (PDT)
From: Marc Dauncey <marc_dauncey@yahoo.com>
Reply-To: Marc Dauncey <marc_dauncey@yahoo.com>
Subject: Re: Web services for querying and return of results
To: java-user@lucene.apache.org
In-Reply-To: <D332BBB0-41B9-41E8-A072-10B09B2EA465@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Erik, many thanks for your response - a typical search application that will consume the web service will typically want to display 25 results per page.  Most users will only be interested in the first few pages, but there are certain searches with users that will want to examine many pages of results.

I was hoping to avoid maintaining hits on the session so pagination will requery the index.  The options are to either to render a load of documents as xml and then let the client cache the results itself, or simply to return 25 results for each subsequent page.

I guess it also depends on the amount of text being returned in fields - we have probably a core set of around 10 fields returned for every query and then a larger set of fields that are used for very particular searches.

Both search clients and server will be internal to the company - although its a possibility it could be opened up externally at a later date.

Does this sound like an appropriate use of the technology?

Thanks

Marc

----- Original Message ----
From: Erik Hatcher <erik@ehatchersolutions.com>
To: java-user@lucene.apache.org
Sent: Tuesday, 23 May, 2006 6:51:25 PM
Subject: Re: Web services for querying and return of results


On May 23, 2006, at 1:41 PM, Marc Dauncey wrote:

> Has anyone used this as a delivery mechanism for Lucene query results?
>
> A quick search on Google reveals a Lucene Web Service project on  
> SourceForge, but what i want to know is whether people on the list  
> know of any big drawbacks, specifically, how well could I expect  
> this to perform, as compared to passing back a Hits object to clients.
>
> The advantages I can see advocating SOAP are light coupling of  
> search clients and servers, plus ease of consumption with lots of  
> systems, devices, cocoon etc.
>
> Does anyone use this in their application and how have you found it?

The web applications I've built around Lucene mostly all support "web  
services" (lower cased).  Atom, RSS, OpenSearch, and Solr's custom  
XML all qualify.  I'm currently leveraging Solr in a Ruby on Rails  
front-end and it is working very well.  SOAP works too, but I prefer  
a lighter-weight mechanism.  With all of these, care must be taken to  
only send back a paged subset of matching documents, of course.

There are many factors involved in determining how any kind of web  
service wrapper around Lucene will perform, so its hard to say.  The  
real question is: does it perform well enough in your environment?

    Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20846-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 19:38:16 2006
Return-Path: <java-user-return-20846-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34491 invoked from network); 23 May 2006 19:38:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 19:38:15 -0000
Received: (qmail 52373 invoked by uid 500); 23 May 2006 19:38:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52346 invoked by uid 500); 23 May 2006 19:38:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52335 invoked by uid 99); 23 May 2006 19:38:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 12:38:09 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 12:38:09 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id CA0525B773; Tue, 23 May 2006 12:37:43 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id B619D7F403;
	Tue, 23 May 2006 12:37:43 -0700 (PDT)
Date: Tue, 23 May 2006 12:37:43 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org,
	Marc Dauncey <marc_dauncey@yahoo.com>
Subject: Re: Web services for querying and return of results
In-Reply-To: <20060523185811.64323.qmail@web36607.mail.mud.yahoo.com>
Message-ID: <Pine.LNX.4.58.0605231200070.500@hal.rescomp.berkeley.edu>
References: <20060523185811.64323.qmail@web36607.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


The usage you describe sounds perfectly suited for Solr ... without even
needing heavy customizations or custom plugins...

: Hi Erik, many thanks for your response - a typical search application
: that will consume the web service will typically want to display 25
: results per page.  Most users will only be interested in the first few
: pages, but there are certain searches with users that will want to
: examine many pages of results.

Solr's standard request handler has options for specifying that you want
results 1-25, or 26-50, etc...

: I was hoping to avoid maintaining hits on the session so pagination will
: requery the index.  The options are to either to render a load of
: documents as xml and then let the client cache the results itself, or
: simply to return 25 results for each subsequent page.

Solr has internal caching with "smart warming" ... not only will the
results of a search still be there if your user comes back and asks for
page#2, even if you update the index and delete some documents and add
some new documents Solr will rerun your recent searches in the background
to "warm" the new cache.

: I guess it also depends on the amount of text being returned in fields -
: we have probably a core set of around 10 fields returned for every query
: and then a larger set of fields that are used for very particular
: searches.

Solr's standard request handler lets you specify which stored fields you
want by name at query time.

http://incubator.apache.org/solr/
http://incubator.apache.org/solr/tutorial.html


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20847-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 19:53:31 2006
Return-Path: <java-user-return-20847-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40729 invoked from network); 23 May 2006 19:53:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 19:53:30 -0000
Received: (qmail 71906 invoked by uid 500); 23 May 2006 19:53:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71508 invoked by uid 500); 23 May 2006 19:53:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 67925 invoked by uid 99); 23 May 2006 19:47:42 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of petedaly@gmail.com designates 64.233.162.207 as permitted sender)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=sQtYhM0cMmoyJ8CIUIrp9UL8zTi65oKEw2/+jiyxJfBV5Mol8p5wX+SP0FIMDSUETTEsgCofaNYXF+5vHWA7kN07Ut8qtj78GMkr0xmImWe6RlJWt0N2yQHWOzF4LrrZ9Dde5kFkfe4LrntBR8GmErhzh/bqh8J6jKLHT6eWat4=
Message-ID: <6f0a20e10605231247r3428bde6jf9f8d3ee95e8a04a@mail.gmail.com>
Date: Tue, 23 May 2006 15:47:20 -0400
From: "Peter A. Daly" <petedaly@gmail.com>
Reply-To: petedaly@ix.netcom.com
To: java-user@lucene.apache.org, "Marc Dauncey" <marc_dauncey@yahoo.com>
Subject: Re: Web services for querying and return of results
In-Reply-To: <20060523185811.64323.qmail@web36607.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <D332BBB0-41B9-41E8-A072-10B09B2EA465@ehatchersolutions.com>
	 <20060523185811.64323.qmail@web36607.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Marc,
To me it sounds like Lucene may certainly be a good tool for what you descr=
ibe.

In terms of Hit caching.  Depending on how exactly you are using it,
lucene can be insanely fast, making hit caching not necessary.  I
believe it also does internal caching to some degree as long as you
are using single IndexSearcher object instance.

Somewhat related to your caching question...One thing I've been told
and strongly believe from experience is that due to the raw power and
speed of Lucene, sometimes the brute force approach to solving a
search problem is faster in terms of both implementation and
performance when compared to engineering an elegant solution.  For
many tasks, Lucene is really that fast.

If nothing else, it's worth putting together a prototype to see it
works well for what you need.  From your brief description, Lucene may
be perfect.

-Pete

On 5/23/06, Marc Dauncey <marc_dauncey@yahoo.com> wrote:
> Hi Erik, many thanks for your response - a typical search application tha=
t will consume the web service will typically want to display 25 results pe=
r page.  Most users will only be interested in the first few pages, but the=
re are certain searches with users that will want to examine many pages of =
results.
>
> I was hoping to avoid maintaining hits on the session so pagination will =
requery the index.  The options are to either to render a load of documents=
 as xml and then let the client cache the results itself, or simply to retu=
rn 25 results for each subsequent page.
>
> I guess it also depends on the amount of text being returned in fields - =
we have probably a core set of around 10 fields returned for every query an=
d then a larger set of fields that are used for very particular searches.
>
> Both search clients and server will be internal to the company - although=
 its a possibility it could be opened up externally at a later date.
>
> Does this sound like an appropriate use of the technology?
>
> Thanks
>
> Marc
>
> ----- Original Message ----
> From: Erik Hatcher <erik@ehatchersolutions.com>
> To: java-user@lucene.apache.org
> Sent: Tuesday, 23 May, 2006 6:51:25 PM
> Subject: Re: Web services for querying and return of results
>
>
> On May 23, 2006, at 1:41 PM, Marc Dauncey wrote:
>
> > Has anyone used this as a delivery mechanism for Lucene query results?
> >
> > A quick search on Google reveals a Lucene Web Service project on
> > SourceForge, but what i want to know is whether people on the list
> > know of any big drawbacks, specifically, how well could I expect
> > this to perform, as compared to passing back a Hits object to clients.
> >
> > The advantages I can see advocating SOAP are light coupling of
> > search clients and servers, plus ease of consumption with lots of
> > systems, devices, cocoon etc.
> >
> > Does anyone use this in their application and how have you found it?
>
> The web applications I've built around Lucene mostly all support "web
> services" (lower cased).  Atom, RSS, OpenSearch, and Solr's custom
> XML all qualify.  I'm currently leveraging Solr in a Ruby on Rails
> front-end and it is working very well.  SOAP works too, but I prefer
> a lighter-weight mechanism.  With all of these, care must be taken to
> only send back a paged subset of matching documents, of course.
>
> There are many factors involved in determining how any kind of web
> service wrapper around Lucene will perform, so its hard to say.  The
> real question is: does it perform well enough in your environment?
>
>     Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20848-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 20:54:50 2006
Return-Path: <java-user-return-20848-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64345 invoked from network); 23 May 2006 20:54:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 20:54:50 -0000
Received: (qmail 66991 invoked by uid 500); 23 May 2006 20:54:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66543 invoked by uid 500); 23 May 2006 20:54:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66532 invoked by uid 99); 23 May 2006 20:54:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 13:54:45 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of tremerson@gmail.com designates 64.233.162.206 as permitted sender)
Received: from [64.233.162.206] (HELO nz-out-0102.google.com) (64.233.162.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 13:54:44 -0700
Received: by nz-out-0102.google.com with SMTP id o37so1437400nzf
        for <java-user@lucene.apache.org>; Tue, 23 May 2006 13:54:23 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=kuaCCxxo4dd9YWBWcMBqoAvwJGROBrX2ezhH7jCy/8bwhWFkwhYt9G02TcMNbKZjlsPT/uIxY6plVEnknHjOxQd1Lk9nKeALiUnTSN4JWhRNXw9Z954B7c3637NprRM2EPrC+VP7jdpUtOpXRTwpp5chmrUpRY1r8JDAD3kbuUc=
Received: by 10.36.38.12 with SMTP id l12mr7710664nzl;
        Tue, 23 May 2006 13:54:23 -0700 (PDT)
Received: by 10.36.129.11 with HTTP; Tue, 23 May 2006 13:54:23 -0700 (PDT)
Message-ID: <cefddd100605231354x18f4f12dg6e6bb31ad842ed3d@mail.gmail.com>
Date: Tue, 23 May 2006 16:54:23 -0400
From: "Tom Emerson" <tremerson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: How are results merged from a multisearcher?
In-Reply-To: <4472382E.7020107@apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_20032_18596823.1148417663830"
References: <cefddd100605180910t9bac60axfe4fcb50972bfb7c@mail.gmail.com>
	 <200605182250.40962@danielnaber.de>
	 <cefddd100605181426tde8296fw7419928232bb8b3d@mail.gmail.com>
	 <200605182344.29708@danielnaber.de>
	 <cefddd100605190904l54996345j9d9bc5647d5007d@mail.gmail.com>
	 <4472382E.7020107@apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_20032_18596823.1148417663830
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: base64
Content-Disposition: inline

RG91ZywKClRoYW5rcyBtdWNoIGZvciB0aGUgY2xhcmlmaWNhdGlvbi4gVGhhdCBoZWxwcyBwdXQg
ZXZlcnl0aGluZyBpbiB0aGUgcmlnaHQKZnJhbWUgZm9yIG1lIQoKICAgIC10cmVlCgpPbiA1LzIy
LzA2LCBEb3VnIEN1dHRpbmcgPGN1dHRpbmdAYXBhY2hlLm9yZz4gd3JvdGU6Cj4KPiBUb20gRW1l
cnNvbiB3cm90ZToKPiA+IFRoYW5rcyBmb3IgdGhlIGNsYXJpZmljYXRpb24uIFdoYXQgdGhlbiBp
cyB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIGEKPiA+IE11bHRpU2VhcmNoZXIgYW5kIHVzaW5nIGFu
IEluZGV4U2VhcmNoZXIgb24gYSBNdWx0aVJlYWRlcj8KPgo+IFRoZSByZXN1bHRzIHNob3VsZCBi
ZSBpZGVudGljYWwuICBBIE11bHRpU2VhcmNoZXIgcGVybWl0cyB1c2Ugb2YKPiBQYXJhbGxlbE11
bHRpU2VhcmNoZXIgYW5kIFJlbW90ZVNlYXJjaGFibGUsIGZvciBwYXJhbGxlbCBhbmQvb3IKPiBk
aXN0cmlidXRlZCBvcGVyYXRpb24uICBCdXQsIGZvciBzaW5nbGUtdGhyZWFkZWQgc2VhcmNoaW5n
LCBhCj4gTXVsdGlSZWFkZXIgaXMgcHJvYmFibHkgZmFzdGVzdC4KPgo+IERvdWcKPgo+IC0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLQo+IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGphdmEtdXNlci11bnN1YnNjcmliZUBs
dWNlbmUuYXBhY2hlLm9yZwo+IEZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IGphdmEt
dXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3JnCj4KPgoKCi0tIApUb20gRW1lcnNvbgp0cmVtZXJz
b25AZ21haWwuY29tCmh0dHA6Ly93d3cuZHJlYW1lcnNyZWFsbS5uZXQvfnRyZWUK
------=_Part_20032_18596823.1148417663830--

From java-user-return-20849-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 21:29:43 2006
Return-Path: <java-user-return-20849-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81194 invoked from network); 23 May 2006 21:29:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 21:29:43 -0000
Received: (qmail 36571 invoked by uid 500); 23 May 2006 21:29:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36202 invoked by uid 500); 23 May 2006 21:29:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36190 invoked by uid 99); 23 May 2006 21:29:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 14:29:37 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [12.154.210.214] (HELO rectangular.com) (12.154.210.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 14:29:35 -0700
Received: from [67.189.26.9] (helo=[10.0.1.3])
	by rectangular.com with esmtpa (Exim 4.44)
	id 1FiebD-000Ki6-Is
	for java-user@lucene.apache.org; Tue, 23 May 2006 14:39:31 -0700
Mime-Version: 1.0 (Apple Message framework v750)
Content-Transfer-Encoding: 7bit
Message-Id: <33BDD8B4-5F9A-4F23-854A-81BD86DDB7CD@rectangular.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: Marvin Humphrey <marvin@rectangular.com>
Subject: Per-Field Similarity
Date: Tue, 23 May 2006 14:29:12 -0700
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Greets,

Is it possible to have an IndexWriter apply different Similarity  
models to different Fields?

Marvin Humphrey
Rectangular Research
http://www.rectangular.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20850-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 21:38:12 2006
Return-Path: <java-user-return-20850-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83956 invoked from network); 23 May 2006 21:38:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 21:38:12 -0000
Received: (qmail 47036 invoked by uid 500); 23 May 2006 21:38:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47008 invoked by uid 500); 23 May 2006 21:38:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46997 invoked by uid 99); 23 May 2006 21:38:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 14:38:06 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.173] (HELO hnexfe07.hetnet.nl) (195.121.6.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 14:38:05 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe07.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Tue, 23 May 2006 23:37:42 +0200
Subject: Re: Problem using SpellChecker with run time strings
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <1148402751.15051.2.camel@limax.snigel.net>
References: <007f01c67e80$8fcfc5f0$2601a8c0@materialogic.com>
	 <1148402751.15051.2.camel@limax.snigel.net>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Tue, 23 May 2006 23:37:16 +0200
Message-Id: <1148420236.4632.6.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 23 May 2006 21:37:42.0337 (UTC) FILETIME=[1F238310:01C67EB1]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tue, 2006-05-23 at 18:45 +0200, karl wettin wrote:
> On Tue, 2006-05-23 at 10:50 -0500, James Maes wrote:
> 
> > It seems to be related to Strings and when they are created. 
> 
> the bug where the per instance float for maximum score (accuracy) is
> modified instead of using it local in the method.

> I'll pop a patch in the Jira later today.

http://issues.apache.org/jira/browse/LUCENE-575


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20851-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 21:38:34 2006
Return-Path: <java-user-return-20851-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84046 invoked from network); 23 May 2006 21:38:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 21:38:33 -0000
Received: (qmail 48380 invoked by uid 500); 23 May 2006 21:38:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48352 invoked by uid 500); 23 May 2006 21:38:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48340 invoked by uid 99); 23 May 2006 21:38:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 14:38:27 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.28.230.86] (HELO mail.shadowtv.com) (66.28.230.86)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 14:38:26 -0700
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Subject: Removing search results that fall within a time range
Date: Tue, 23 May 2006 17:38:04 -0400
Message-ID: <FBE94E5DDA0CD94A826E996AB16FCC8CE60A18@shadowmail1.shadowusers.shadowtv.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Removing search results that fall within a time range
Thread-Index: AcZ+qx/6NzPLNJOGTlyNLkXLfN5aNwABCWOw
From: "Benjamin Stein" <ben@shadowtv.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have a requirement to only return one result for all documents whose
timestamps fall within N seconds of one another. (where timestamp is a
field and N is an integer).

For example, Document A is timestamped "12:00:00" and Document B has
timestamp "12:00:30", Document B should be discarded.  On the other
hand, if Document B has timestamp "12:01:00" then I should return both
(assuming 30 < N < 59 seconds). =20

Similarly, if Documents A, B, and C have timestamps "12:00:00",
"12:00:30", and "12:01:00" respectively, only Document A should be
returned (because B is close to A, and C is close to B).

If it helps to simplify things, we can assume results are sorted by
time.  Also, I can apply logic at index time or at search time. =20

Any suggestions?  This is a pretty tough concept to search the archives
for...

--Ben


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20852-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 21:50:21 2006
Return-Path: <java-user-return-20852-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88726 invoked from network); 23 May 2006 21:50:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 21:50:21 -0000
Received: (qmail 60859 invoked by uid 500); 23 May 2006 21:50:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60811 invoked by uid 500); 23 May 2006 21:50:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60781 invoked by uid 99); 23 May 2006 21:50:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 14:50:08 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 14:50:06 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 2E0765B77E; Tue, 23 May 2006 14:49:40 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 245967F403
	for <java-user@lucene.apache.org>; Tue, 23 May 2006 14:49:40 -0700 (PDT)
Date: Tue, 23 May 2006 14:49:40 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Per-Field Similarity
In-Reply-To: <33BDD8B4-5F9A-4F23-854A-81BD86DDB7CD@rectangular.com>
Message-ID: <Pine.LNX.4.58.0605231442070.9525@hal.rescomp.berkeley.edu>
References: <33BDD8B4-5F9A-4F23-854A-81BD86DDB7CD@rectangular.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Is it possible to have an IndexWriter apply different Similarity
: models to different Fields?

As far as i know, the only way Similarity comes into play when using an
IndexWriter is lengthNorm, and it is passed the fieldName so it's easy to
make it's behavior field specific (SimilarityDelegator makes it easy to do
this)

At query time things like coord and queryNorm don't erreally make sense as
field specific methods; the idf method on the other hand takes in a Term
(or a Collection of Terms) so it's also easy to customize.

tf and sloppyFreq however are somewhat frustrating ... i've definitely
wished more then once that they took in a field name as a parameter.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20853-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 21:58:53 2006
Return-Path: <java-user-return-20853-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91682 invoked from network); 23 May 2006 21:58:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 21:58:51 -0000
Received: (qmail 75373 invoked by uid 500); 23 May 2006 21:58:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75295 invoked by uid 500); 23 May 2006 21:58:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75186 invoked by uid 99); 23 May 2006 21:58:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 14:58:38 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.176] (HELO hnexfe10.hetnet.nl) (195.121.6.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 14:58:35 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe10.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Tue, 23 May 2006 23:58:13 +0200
Subject: Re: Per-Field Similarity
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <33BDD8B4-5F9A-4F23-854A-81BD86DDB7CD@rectangular.com>
References: <33BDD8B4-5F9A-4F23-854A-81BD86DDB7CD@rectangular.com>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Tue, 23 May 2006 23:58:12 +0200
Message-Id: <1148421492.4632.21.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 23 May 2006 21:58:13.0327 (UTC) FILETIME=[FCDDADF0:01C67EB3]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tue, 2006-05-23 at 14:29 -0700, Marvin Humphrey wrote:
> Greets,
> 
> Is it possible to have an IndexWriter apply different Similarity  
> models to different Fields?

You only want to apply this to the norms? Are up for an ad-hoc solution?

Refactor :

class DocumentWriter {
  private final void writeNorms(String segment) throws IOException { 
    for(int n = 0; n < fieldInfos.size(); n++){
      FieldInfo fi = fieldInfos.fieldInfo(n);
      if(fi.isIndexed && !fi.omitNorms){
        float norm = fieldBoosts[n] * similarity.lengthNorm(fi.name,

to this:
        float norm = fieldBoosts[n] * fi.similarity.lengthNorm(fi.name,

You'll have to hack the similarity in FieldInfos.add(Document) and Field
or Document. If I was to add more than one Field with the same name in a
Document I'd probably hack it in the Document.


 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20854-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 22:04:27 2006
Return-Path: <java-user-return-20854-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94234 invoked from network); 23 May 2006 22:04:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 22:04:27 -0000
Received: (qmail 85014 invoked by uid 500); 23 May 2006 22:04:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84989 invoked by uid 500); 23 May 2006 22:04:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84977 invoked by uid 99); 23 May 2006 22:04:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 15:04:21 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 15:04:17 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 30EEB5B77E; Tue, 23 May 2006 15:03:57 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 2E3DA7F403
	for <java-user@lucene.apache.org>; Tue, 23 May 2006 15:03:57 -0700 (PDT)
Date: Tue, 23 May 2006 15:03:57 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Per-Field Similarity
In-Reply-To: <1148421492.4632.21.camel@localhost>
Message-ID: <Pine.LNX.4.58.0605231502550.9525@hal.rescomp.berkeley.edu>
References: <33BDD8B4-5F9A-4F23-854A-81BD86DDB7CD@rectangular.com>
 <1148421492.4632.21.camel@localhost>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Refactor :
:
: class DocumentWriter {
:   private final void writeNorms(String segment) throws IOException {
:     for(int n = 0; n < fieldInfos.size(); n++){
:       FieldInfo fi = fieldInfos.fieldInfo(n);
:       if(fi.isIndexed && !fi.omitNorms){
:         float norm = fieldBoosts[n] * similarity.lengthNorm(fi.name,
:
: to this:
:         float norm = fieldBoosts[n] * fi.similarity.lengthNorm(fi.name,

Why wouldn't you just provide your own Similarity instance that looked at
the fieldName passed to the lengthNorm method?


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20855-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 22:24:14 2006
Return-Path: <java-user-return-20855-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1157 invoked from network); 23 May 2006 22:24:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 22:24:14 -0000
Received: (qmail 16042 invoked by uid 500); 23 May 2006 22:24:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16017 invoked by uid 500); 23 May 2006 22:24:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16006 invoked by uid 99); 23 May 2006 22:24:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 15:24:08 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.177] (HELO hnexfe11.hetnet.nl) (195.121.6.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 15:24:07 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe11.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Wed, 24 May 2006 00:23:44 +0200
Subject: Re: Per-Field Similarity
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <Pine.LNX.4.58.0605231442070.9525@hal.rescomp.berkeley.edu>
References: <33BDD8B4-5F9A-4F23-854A-81BD86DDB7CD@rectangular.com>
	 <Pine.LNX.4.58.0605231442070.9525@hal.rescomp.berkeley.edu>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Wed, 24 May 2006 00:23:43 +0200
Message-Id: <1148423024.4632.47.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 23 May 2006 22:23:44.0840 (UTC) FILETIME=[8DB80480:01C67EB7]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tue, 2006-05-23 at 14:49 -0700, Chris Hostetter wrote:
> i've definitely wished more then once that they took in a field name
> as a parameter.

+1 for starting a branch with non-depricated radically reconstructed
fields after release of 2.0. 

I'd be happy to document all design discussions with UML. If it works
well in theory someone is bound to type in the code. Maybe even I.

I'm sure it will find its way back to the trunk if it is good enough.

And maybe some Scorer-people should join in to glance at a more
pluggable per-search scoring strategy without all the hardwired code.
Have a look at per-term position  boosting, et.c. 

That would be really great. 

Anyone with six months of vacation?


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20856-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 22:30:49 2006
Return-Path: <java-user-return-20856-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4519 invoked from network); 23 May 2006 22:30:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 22:30:49 -0000
Received: (qmail 34365 invoked by uid 500); 23 May 2006 22:30:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34341 invoked by uid 500); 23 May 2006 22:30:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34329 invoked by uid 99); 23 May 2006 22:30:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 15:30:43 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.172] (HELO hnexfe06.hetnet.nl) (195.121.6.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 15:30:42 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe06.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Wed, 24 May 2006 00:30:20 +0200
Subject: Re: Per-Field Similarity
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <Pine.LNX.4.58.0605231502550.9525@hal.rescomp.berkeley.edu>
References: <33BDD8B4-5F9A-4F23-854A-81BD86DDB7CD@rectangular.com>
	 <1148421492.4632.21.camel@localhost>
	 <Pine.LNX.4.58.0605231502550.9525@hal.rescomp.berkeley.edu>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Wed, 24 May 2006 00:30:19 +0200
Message-Id: <1148423420.4632.56.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 23 May 2006 22:30:21.0068 (UTC) FILETIME=[79E39CC0:01C67EB8]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tue, 2006-05-23 at 15:03 -0700, Chris Hostetter wrote:
> 
> Why wouldn't you just provide your own Similarity instance that looked
> at the fieldName passed to the lengthNorm method? 

Perhaps one reason could be.. hmm. that it would make it one similarity
per field and IndexWriter and he really want per document and field.

But really, I'm just reaching out to save my face. 




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20857-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 22:38:43 2006
Return-Path: <java-user-return-20857-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7679 invoked from network); 23 May 2006 22:38:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 22:38:42 -0000
Received: (qmail 46842 invoked by uid 500); 23 May 2006 22:38:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46812 invoked by uid 500); 23 May 2006 22:38:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46801 invoked by uid 99); 23 May 2006 22:38:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 15:38:36 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [216.231.31.101] (HELO bulbasaur.wynnesystems.com) (216.231.31.101)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 15:38:36 -0700
X-SEF-Processed: 5_0_0_910__2006_05_23_15_42_35
X-SEF-37DF5EA0-ABAA-4294-A0CB-59A2F25D2F34: 1
Received: from Unknown [10.35.10.5] by bulbasaur.wynnesystems.com - SurfControl E-mail Filter (5.0); Tue, 23 May 2006 15:42:34 -0700
Content-class: urn:content-classes:message
Subject: sorting issues
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C67EBA.2F3C2348"
Date: Tue, 23 May 2006 15:42:24 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Message-ID: <D2D2FEE335CE304C81F17C83626158E2E08A6A@wsdmnsvr>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: sorting issues
Thread-Index: AcZ+uijNZ4oqf0iJTYaPgWKxnc+onw==
From: "Van Nguyen" <vnguyen@wynnesystems.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C67EBA.2F3C2348
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Does anyone have any sorting issues in lucene=3F  When lucene is returning=0D=
=0Aresults from my query, I get results similar to this:=0D=0A=20=0D=0AE.D.=
 BULLARD=0D=0AE.D. BULLARD=0D=0AMINE SAFETY APPL MSA=0D=0ANORTH SAFETY PROD=
UCT=0D=0ANORTH SAFETY PRODUCT=0D=0AMINE SAFETY APPL MSA=0D=0AMINE SAFETY AP=
PL MSA=0D=0ANORTH SAFETY PRODUCT=0D=0A...=0D=0A=20=0D=0AVan=20=0D=0AThis co=
mmunication and any documents, files, or previous electronic mail messages =
attached to it constitute=0D=0Aan electronic communication within the scope=
 of the Electronic Communication Privacy Act, 18 USCA 2510.=20=0D=0AThis co=
mmunication may contain non-public, confidential, or legally privileged inf=
ormation intended for the=20=0D=0Asole use of the designated recipient(s). =
The unlawful interception, use or disclosure of such information is=20=0D=0A=
strictly prohibited under 18 USCA 2511 and any applicable laws.=0D=0A
------_=_NextPart_001_01C67EBA.2F3C2348--


From java-user-return-20858-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 22:42:25 2006
Return-Path: <java-user-return-20858-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8991 invoked from network); 23 May 2006 22:42:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 22:42:24 -0000
Received: (qmail 52208 invoked by uid 500); 23 May 2006 22:42:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51899 invoked by uid 500); 23 May 2006 22:42:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51888 invoked by uid 99); 23 May 2006 22:42:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 15:42:17 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=UPPERCASE_25_50
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.176] (HELO hnexfe10.hetnet.nl) (195.121.6.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 15:42:17 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe10.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Wed, 24 May 2006 00:41:53 +0200
Subject: Re: sorting issues
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <D2D2FEE335CE304C81F17C83626158E2E08A6A@wsdmnsvr>
References: <D2D2FEE335CE304C81F17C83626158E2E08A6A@wsdmnsvr>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Wed, 24 May 2006 00:41:52 +0200
Message-Id: <1148424112.4632.61.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 23 May 2006 22:41:53.0483 (UTC) FILETIME=[1699C1B0:01C67EBA]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tue, 2006-05-23 at 15:42 -0700, Van Nguyen wrote:
> 
> Does anyone have any sorting issues in lucene?  When lucene is
> returning results from my query, I get results similar to this:
>  
> E.D. BULLARD
> E.D. BULLARD
> MINE SAFETY APPL MSA
> NORTH SAFETY PRODUCT
> NORTH SAFETY PRODUCT
> MINE SAFETY APPL MSA
> MINE SAFETY APPL MSA
> NORTH SAFETY PRODUCT 

What did you expect, and why?


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20859-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 22:44:36 2006
Return-Path: <java-user-return-20859-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10487 invoked from network); 23 May 2006 22:44:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 22:44:36 -0000
Received: (qmail 59181 invoked by uid 500); 23 May 2006 22:44:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59063 invoked by uid 500); 23 May 2006 22:44:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58981 invoked by uid 99); 23 May 2006 22:44:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 15:44:28 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.174] (HELO hnexfe08.hetnet.nl) (195.121.6.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 15:44:27 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe08.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Wed, 24 May 2006 00:44:05 +0200
Subject: Re: Removing search results that fall within a time range
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <FBE94E5DDA0CD94A826E996AB16FCC8CE60A18@shadowmail1.shadowusers.shadowtv.com>
References:
	 <FBE94E5DDA0CD94A826E996AB16FCC8CE60A18@shadowmail1.shadowusers.shadowtv.com>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Wed, 24 May 2006 00:44:04 +0200
Message-Id: <1148424245.4632.65.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 23 May 2006 22:44:05.0634 (UTC) FILETIME=[655E6620:01C67EBA]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tue, 2006-05-23 at 17:38 -0400, Benjamin Stein wrote:
> I have a requirement to only return one result for all documents whose
> timestamps fall within N seconds of one another. (where timestamp is a
> field and N is an integer).
> 
> For example, Document A is timestamped "12:00:00" and Document B has
> timestamp "12:00:30", Document B should be discarded.  On the other
> hand, if Document B has timestamp "12:01:00" then I should return both
> (assuming 30 < N < 59 seconds).  
> 
> Similarly, if Documents A, B, and C have timestamps "12:00:00",
> "12:00:30", and "12:01:00" respectively, only Document A should be
> returned (because B is close to A, and C is close to B).
> 
> If it helps to simplify things, we can assume results are sorted by
> time.  Also, I can apply logic at index time or at search time.  
> 
> Any suggestions?  This is a pretty tough concept to search the
> archives for... 

How big is the corpus and how many hits do you estimate a search can
result in? Can you just take the penalty from iterating the hits?


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20860-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 22:55:32 2006
Return-Path: <java-user-return-20860-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14444 invoked from network); 23 May 2006 22:55:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 22:55:32 -0000
Received: (qmail 75916 invoked by uid 500); 23 May 2006 22:55:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75647 invoked by uid 500); 23 May 2006 22:55:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75635 invoked by uid 99); 23 May 2006 22:55:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 15:55:26 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [216.231.31.101] (HELO bulbasaur.wynnesystems.com) (216.231.31.101)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 15:55:24 -0700
X-SEF-Processed: 5_0_0_910__2006_05_23_15_59_25
X-SEF-37DF5EA0-ABAA-4294-A0CB-59A2F25D2F34: 1
Received: from Unknown [10.35.10.5] by bulbasaur.wynnesystems.com - SurfControl E-mail Filter (5.0); Tue, 23 May 2006 15:59:25 -0700
Content-class: urn:content-classes:message
Subject: RE: sorting issues
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Tue, 23 May 2006 15:59:13 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Message-ID: <D2D2FEE335CE304C81F17C83626158E2E08A71@wsdmnsvr>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: sorting issues
Thread-Index: AcZ+usQgok7XGtlRRV2nqFINHN5xKwAAQs7g
From: "Van Nguyen" <vnguyen@wynnesystems.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I was expecting it to be sorted alphabetically by a field....=0D=0A=0D=0AI =
think I may have figured out my own question.  I was tokenizing the=0D=0Afi=
eld I wanted to sort.  Changed it so that it's not tokenizing that=0D=0Afie=
ld and I'm getting the results that I was expecting.=0D=0A=0D=0AThanks,=0D=0A=0D=
=0AVan Nguyen=0D=0AWynne Systems, Inc.=0D=0A=0D=0A-----Original Message----=
-=0D=0AFrom: karl wettin [mailto:kalle@snigel.net]=20=0D=0ASent: Tuesday, M=
ay 23, 2006 3:42 PM=0D=0ATo: java-user@lucene.apache.org=0D=0ASubject: Re: =
sorting issues=0D=0A=0D=0AOn Tue, 2006-05-23 at 15:42 -0700, Van Nguyen wro=
te:=0D=0A>=20=0D=0A> Does anyone have any sorting issues in lucene=3F  When=
 lucene is=20=0D=0A> returning results from my query, I get results similar=
 to this:=0D=0A> =20=0D=0A> E.D. BULLARD=0D=0A> E.D. BULLARD=0D=0A> MINE SA=
FETY APPL MSA=0D=0A> NORTH SAFETY PRODUCT=0D=0A> NORTH SAFETY PRODUCT=0D=0A=
> MINE SAFETY APPL MSA=0D=0A> MINE SAFETY APPL MSA=0D=0A> NORTH SAFETY PROD=
UCT=0D=0A=0D=0AWhat did you expect, and why=3F=0D=0A=0D=0A=0D=0A-----------=
----------------------------------------------------------=0D=0ATo unsubscr=
ibe, e-mail: java-user-unsubscribe@lucene.apache.org=0D=0AFor additional co=
mmands, e-mail: java-user-help@lucene.apache.org=0D=0A=0D=0A=0D=0AThis comm=
unication and any documents, files, or previous electronic mail messages at=
tached to it constitute=0D=0Aan electronic communication within the scope o=
f the Electronic Communication Privacy Act, 18 USCA 2510.=20=0D=0AThis comm=
unication may contain non-public, confidential, or legally privileged infor=
mation intended for the=20=0D=0Asole use of the designated recipient(s). Th=
e unlawful interception, use or disclosure of such information is=20=0D=0As=
trictly prohibited under 18 USCA 2511 and any applicable laws.=0D=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20861-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 23:09:20 2006
Return-Path: <java-user-return-20861-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20118 invoked from network); 23 May 2006 23:09:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 23:09:19 -0000
Received: (qmail 96899 invoked by uid 500); 23 May 2006 23:09:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96862 invoked by uid 500); 23 May 2006 23:09:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96850 invoked by uid 99); 23 May 2006 23:09:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 16:09:14 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [12.154.210.214] (HELO rectangular.com) (12.154.210.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 16:09:13 -0700
Received: from marvin by rectangular.com with local (Exim 4.44)
	id 1Fig9e-000Kto-Oh
	for java-user@lucene.apache.org; Tue, 23 May 2006 16:19:10 -0700
Date: Tue, 23 May 2006 16:19:10 -0700
From: Marvin Humphrey <marvin@rectangular.com>
To: java-user@lucene.apache.org
Subject: Re: Per-Field Similarity
Message-ID: <20060523231910.GA80260@rectangular.com>
References: <33BDD8B4-5F9A-4F23-854A-81BD86DDB7CD@rectangular.com> <Pine.LNX.4.58.0605231442070.9525@hal.rescomp.berkeley.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <Pine.LNX.4.58.0605231442070.9525@hal.rescomp.berkeley.edu>
User-Agent: Mutt/1.4.2.1i
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tue, May 23, 2006 at 02:49:40PM -0700, Chris Hostetter wrote:
> 
> : Is it possible to have an IndexWriter apply different Similarity
> : models to different Fields?
> 
> As far as i know, the only way Similarity comes into play when using an
> IndexWriter is lengthNorm, and it is passed the fieldName so it's easy to
> make it's behavior field specific (SimilarityDelegator makes it easy to do
> this)

Ah.  KinoSearch's implementation inadvertently differs: lengthNorm takes only
the number of tokens.  It didn't occur to me that the problem had been solved
that way.

A while ago, I changed lengthNorm to use either the number of tokens or 100,
whichever was greater.  That had the intended effect, which was to downgrade 
the type of "stub" documents Lucene tends to boost.  However, it had the
undesirable effect of no longer boosting exact title matches.  

The answer is to use Lucene's default lengthNorm for title and the modified
lengthNorm for bodytext.  Wasn't sure how to do that in Lucene; now I know.

Marvin Humphrey
Rectangular Research
http://www.rectangular.com/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20862-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 23:21:34 2006
Return-Path: <java-user-return-20862-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24676 invoked from network); 23 May 2006 23:21:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 23:21:34 -0000
Received: (qmail 17947 invoked by uid 500); 23 May 2006 23:21:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17901 invoked by uid 500); 23 May 2006 23:21:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17876 invoked by uid 99); 23 May 2006 23:21:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 16:21:24 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.217.22.128] (HELO file1.syd.nuix.com.au) (203.217.22.128)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 16:21:18 -0700
Received: from [192.168.222.102] (demo1.syd.nuix.com.au [192.168.222.102])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 3BF0CB762D
	for <java-user@lucene.apache.org>; Wed, 24 May 2006 09:20:45 +1000 (EST)
Message-ID: <447399FE.2020806@nuix.com.au>
Date: Wed, 24 May 2006 09:25:50 +1000
From: Daniel Noll <daniel@nuix.com.au>
Organization: NUIX Pty Limited
User-Agent: Thunderbird 1.5.0.2 (Windows/20060308)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: updating the data in Lucene
References: <20060523121501.41439.qmail@web26203.mail.ukl.yahoo.com> <A4931850-92F6-4B4E-B501-9B053A04AC8A@ehatchersolutions.com>
In-Reply-To: <A4931850-92F6-4B4E-B501-9B053A04AC8A@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:
> 
> On May 23, 2006, at 8:15 AM, Alberto Marquffffe9s wrote:
>> I have a question about like updating the data in Lucene. Supposing 
>> that I have indexed a directory if I want to refresh index (to return 
>> to index single files that has been modified). In order to maintain 
>> the data updated. There is faster form to do the one that using: 
>> IndexWriter(indexDir, new Analizer(), true); indexaria all the files 
>> again.
>>        
> 
> absolutely.  you'll need to create the logic to do incremental indexing, 
> but lucene supports deleting and adding documents.  an "update" consists 
> of locating the document to be updated in the index, deleting it, and 
> re-adding the document.

Although, one should note that this is semantically different from 
"updating" a document.  Deleting the document and re-adding it results 
in the text index IDs changing, whereas a true, in-place update would not.

The ability to do a true, in-place update is like the holy grail of 
Lucene. :-)

Daniel


-- 
Daniel Noll

Nuix Pty Ltd
Suite 79, 89 Jones St, Ultimo NSW 2007, Australia    Ph: +61 2 9280 0699
Web: http://www.nuix.com.au/                        Fax: +61 2 9212 6902

This message is intended only for the named recipient. If you are not
the intended recipient you are notified that disclosing, copying,
distributing or taking any action in reliance on the contents of this
message or attachment is strictly prohibited.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20863-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 23 23:28:22 2006
Return-Path: <java-user-return-20863-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29485 invoked from network); 23 May 2006 23:28:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 May 2006 23:28:22 -0000
Received: (qmail 29063 invoked by uid 500); 23 May 2006 23:28:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29038 invoked by uid 500); 23 May 2006 23:28:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29027 invoked by uid 99); 23 May 2006 23:28:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 16:28:15 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.28.230.86] (HELO mail.shadowtv.com) (66.28.230.86)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 16:28:15 -0700
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Subject: RE: Removing search results that fall within a time range
Date: Tue, 23 May 2006 19:27:53 -0400
Message-ID: <FBE94E5DDA0CD94A826E996AB16FCC8CE60A19@shadowmail1.shadowusers.shadowtv.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Removing search results that fall within a time range
Thread-Index: AcZ+unRe8GiYf2SRQ3uCwala+ZbUvgABC7Rg
From: "Benjamin Stein" <ben@shadowtv.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

=20

> -----Original Message-----
> From: karl wettin [mailto:kalle@snigel.net]=20
> Sent: Tuesday, May 23, 2006 6:44 PM
> To: java-user@lucene.apache.org
> Subject: Re: Removing search results that fall within a time range
>=20
> On Tue, 2006-05-23 at 17:38 -0400, Benjamin Stein wrote:
> > I have a requirement to only return one result for all=20
> documents whose=20
> > timestamps fall within N seconds of one another. (where=20
> timestamp is a=20
> > field and N is an integer).
> >=20
> > For example, Document A is timestamped "12:00:00" and=20
> Document B has=20
> > timestamp "12:00:30", Document B should be discarded.  On the other=20
> > hand, if Document B has timestamp "12:01:00" then I should=20
> return both=20
> > (assuming 30 < N < 59 seconds).
> >=20
> > Similarly, if Documents A, B, and C have timestamps "12:00:00",=20
> > "12:00:30", and "12:01:00" respectively, only Document A should be=20
> > returned (because B is close to A, and C is close to B).
> >=20
> > If it helps to simplify things, we can assume results are sorted by=20
> > time.  Also, I can apply logic at index time or at search time.
> >=20
> > Any suggestions?  This is a pretty tough concept to search the=20
> > archives for...
>=20

> How big is the corpus and how many hits do you estimate a=20
> search can result in? Can you just take the penalty from=20
> iterating the hits?
>=20

The corpus is very big.  Approximately 300,000,000 documents and
growing.  I would estimate potentially a huge number of hits per search.

We currently do iterate through the hits and process them like you
suggest, but that requires some impressive kludges to work :)  Just
wondering if there was a clever way to push this logic into the
index/search process.

My other plan was to create a class that implements Searchable
interface.  This class will just forward all search requests to a
private IndexSearcher data member and post-process the results before
returning.  I will then pass an array of these customized searchers to a
ParallelMultiSearcher.  Given enough parallel processing, this might
work in a reasonable timeframe. =20



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20864-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 01:49:51 2006
Return-Path: <java-user-return-20864-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72298 invoked from network); 24 May 2006 01:49:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 01:49:51 -0000
Received: (qmail 60458 invoked by uid 500); 24 May 2006 01:49:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60418 invoked by uid 500); 24 May 2006 01:49:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60407 invoked by uid 99); 24 May 2006 01:49:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 18:49:45 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 May 2006 18:49:44 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 1F0E95B780; Tue, 23 May 2006 18:49:17 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 1537E7F403
	for <java-user@lucene.apache.org>; Tue, 23 May 2006 18:49:17 -0700 (PDT)
Date: Tue, 23 May 2006 18:49:17 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re: Removing search results that fall within a time range
In-Reply-To: <FBE94E5DDA0CD94A826E996AB16FCC8CE60A18@shadowmail1.shadowusers.shadowtv.com>
Message-ID: <Pine.LNX.4.58.0605231827410.25034@hal.rescomp.berkeley.edu>
References: <FBE94E5DDA0CD94A826E996AB16FCC8CE60A18@shadowmail1.shadowusers.shadowtv.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


A pretty big variable here in trying to find a "clever" solution to your
problem is: how many results do you want?

Do you need all of them for some sort of downstream processing, or are you
only interested in the first M? ... how big is M?

Assuming M is something managable, i would try writing a HitCollector
that maintains a bounded, sorted, list of (doc,date) pairs (sorted
on the date).

when you collect a new match X, you scan the list looking for for any item
I such that X.date-M <= I.date || I.date <= X.date+M .. for all things you
find that meet that critera (they should all be in a clump since teh list
is sorted) remove all but the one with the lowest date, and then either
replace that one with X, or throw away X if it's not the lowest date (ie:
collecting B after A and C in your A B C example below)

One thing to watch out for: make sure your bounded, sorted, list is
bounded by M+1, and then throw away the last item when you are done ..
if you limit it to M items you might fill up and start ignoring items
outside of the range of the list, and then the last doc you collect might
be like "B" and cause two items to be removed, leaving you with one less
result then you wanted.


: Date: Tue, 23 May 2006 17:38:04 -0400
: From: Benjamin Stein <ben@shadowtv.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: Removing search results that fall within a time range
:
: I have a requirement to only return one result for all documents whose
: timestamps fall within N seconds of one another. (where timestamp is a
: field and N is an integer).
:
: For example, Document A is timestamped "12:00:00" and Document B has
: timestamp "12:00:30", Document B should be discarded.  On the other
: hand, if Document B has timestamp "12:01:00" then I should return both
: (assuming 30 < N < 59 seconds).
:
: Similarly, if Documents A, B, and C have timestamps "12:00:00",
: "12:00:30", and "12:01:00" respectively, only Document A should be
: returned (because B is close to A, and C is close to B).
:
: If it helps to simplify things, we can assume results are sorted by
: time.  Also, I can apply logic at index time or at search time.
:
: Any suggestions?  This is a pretty tough concept to search the archives
: for...
:
: --Ben
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20865-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 07:43:26 2006
Return-Path: <java-user-return-20865-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57696 invoked from network); 24 May 2006 07:43:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 07:43:25 -0000
Received: (qmail 77620 invoked by uid 500); 24 May 2006 07:43:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77343 invoked by uid 500); 24 May 2006 07:43:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77317 invoked by uid 99); 24 May 2006 07:43:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 00:43:07 -0700
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=EXTRA_MPART_TYPE,HTML_FONT_BIG,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Vikas_Khengare@symantec.com designates 143.127.12.110 as permitted sender)
Received: from [143.127.12.110] (HELO gold.veritas.com) (143.127.12.110)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 00:43:05 -0700
Received: from sxchcon2-int.veritas.com (HELO SVLXCHCON2.enterprise.veritas.com) ([10.137.18.172])
  by gold.veritas.com with ESMTP; 24 May 2006 00:42:45 -0700
X-IronPort-AV: i="4.05,165,1146466800"; 
   d="jpg'145?scan'145,208,217,145"; a="59814966:sNHT139046472"
Received: from itpxchcon2.enterprise.veritas.com ([10.216.17.4]) by SVLXCHCON2.enterprise.veritas.com with Microsoft SMTPSVC(6.0.3790.211);
	 Wed, 24 May 2006 00:42:01 -0700
Received: from ITPXCHCLN1.enterprise.veritas.com ([10.216.17.2]) by itpxchcon2.enterprise.veritas.com with Microsoft SMTPSVC(6.0.3790.211);
	 Wed, 24 May 2006 13:11:29 +0530
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/related;
	type="multipart/alternative";
	boundary="----_=_NextPart_001_01C67F05.77D89226"
Subject: Can I do "Google Suggest" Like Search? - - - from - - -vikas
Date: Wed, 24 May 2006 13:11:29 +0530
Message-ID: <2B63BBC3F2F85B45A985FAD965DE969ECA1BF4@ITPXCHCLN1.enterprise.veritas.com>
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
Thread-Topic: Can I do "Google Suggest" Like Search? - - - from - - -vikas
Thread-Index: AcZ/BXgqOoMHCOgrTyu35e7WXgYuTw==
From: "Vikas Khengare" <Vikas_Khengare@symantec.com>
To: <lucene-user@jakarta.apache.org>,
	<java-dev@lucene.apache.org>,
	<java-user@lucene.apache.org>
X-OriginalArrivalTime: 24 May 2006 07:41:29.0409 (UTC) FILETIME=[78280310:01C67F05]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C67F05.77D89226
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_002_01C67F05.77D89226"


------_=_NextPart_002_01C67F05.77D89226
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi Friend

=20

=20

            I want to perform search like "Google search" which will
give suggestions to user.

So when I type "L" it will give me search options names which will start
from "L". Then when I will type "Lu" then it should give me options for
names which are starting from "Lu". & so on ......

=20

1) Does Lucene provide any API for doing so?

2) Can I use Sort / Filter classes for it?

3) Or do I need to handle it in java (may be any other language)?

=20

           =20

=20

            =20

=20

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D

=20

with best regards

from .........

vikas r. khengare

Veritas Software India Private Ltd.=20

Symantec Corporation

Pune, India

=20

                        [ Enjoy your life today.... because yesterday
had gone.... and tommorow may never come . ]

=20


------_=_NextPart_002_01C67F05.77D89226
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" =
xmlns:o=3D"urn:schemas-microsoft-com:office:office" =
xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:st1=3D"urn:schemas-microsoft-com:office:smarttags" =
xmlns=3D"http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<meta name=3DGenerator content=3D"Microsoft Word 11 (filtered medium)">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]--><o:SmartTagType
 namespaceuri=3D"urn:schemas-microsoft-com:office:smarttags" =
name=3D"country-region"/>
<o:SmartTagType =
namespaceuri=3D"urn:schemas-microsoft-com:office:smarttags"
 name=3D"City"/>
<o:SmartTagType =
namespaceuri=3D"urn:schemas-microsoft-com:office:smarttags"
 name=3D"place"/>
<!--[if !mso]>
<style>
st1\:*{behavior:url(#default#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"Comic Sans MS";
	panose-1:3 15 7 2 3 3 2 2 2 4;}
@font-face
	{font-family:"Harlow Solid Italic";
	panose-1:4 3 6 4 2 15 2 2 13 2;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
h1
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:Arial;}
h3
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:13.0pt;
	font-family:Arial;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:Arial;
	color:windowtext;}
span.Heading1Char
	{font-family:Arial;
	font-weight:bold;}
span.Heading3Char
	{font-family:Arial;
	font-weight:bold;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
-->
</style>

</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Hi Friend<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp; I
want to perform search like &#8220;Google search&#8221; which will give
suggestions to user.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>So when I type </span></font><span =
class=3DHeading3Char><b><font
size=3D4 face=3DArial><span =
style=3D'font-size:13.0pt'>&#8220;L&#8221;</span></font></b></span><font
size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'> it will
give me search options names which will start from &#8220;L&#8221;. Then =
when I
will type </span></font><span class=3DHeading3Char><b><font size=3D4 =
face=3DArial><span
style=3D'font-size:13.0pt'>&#8220;Lu&#8221;</span></font></b></span><font=
 size=3D2
face=3DArial><span style=3D'font-size:10.0pt;font-family:Arial'> then it =
should
give me options for names which are starting from &#8220;Lu&#8221;. =
&amp; so on
&#8230;&#8230;<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>1) Does Lucene provide any API for doing =
so?<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>2) Can I use Sort / Filter classes for =
it?<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>3) Or do I need to handle it in java (may be any =
other
language)?<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp; <o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp; <img
width=3D370 height=3D334 id=3D"_x0000_i1026" =
src=3D"cid:image001.jpg@01C67F33.91D73E60"><o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#4040ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#4040FF;font-style:italic'><o:p>&nbsp;</o:p></span></font></i></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#4040ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#4040FF;font-style:italic'>with best =
regards</span></font></i><font
size=3D2 color=3Dblack face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
color:black'><o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#4040ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#4040FF;font-style:italic'>from .........</span></font></i><font =
size=3D2
color=3Dblack face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
color:black'><o:p></o:p></span></font></p>

<p class=3DMsoNormal><i><font size=3D5 color=3D"#ff40ff" face=3D"Harlow =
Solid Italic"><span
style=3D'font-size:16.0pt;font-family:"Harlow Solid =
Italic";color:#FF40FF;
font-style:italic'>vikas r. khengare<o:p></o:p></span></font></i></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#333333" face=3DArial><span
style=3D'font-size:10.0pt;font-family:Arial;color:#333333'>Veritas =
Software India
Private Ltd. <o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#333333" face=3DArial><span
style=3D'font-size:10.0pt;font-family:Arial;color:#333333'>Symantec =
Corporation<o:p></o:p></span></font></p>

<p class=3DMsoNormal><st1:place w:st=3D"on"><st1:City w:st=3D"on"><font =
size=3D2
  color=3D"#333333" face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
  color:#333333'>Pune</span></font></st1:City><font size=3D2 =
color=3D"#333333"
 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;color:#333333'>, =
<st1:country-region
 w:st=3D"on">India</st1:country-region></span></font></st1:place><font =
size=3D2
color=3D"#333333" face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
color:#333333'><o:p></o:p></span></font></p>

<p class=3DMsoNormal><i><font size=3D5 color=3D"#ff40ff" face=3D"Harlow =
Solid Italic"><span
style=3D'font-size:16.0pt;font-family:"Harlow Solid =
Italic";color:#FF40FF;
font-style:italic'><img width=3D130 height=3D40 id=3D"_x0000_i1025"
src=3D"cid:image002.jpg@01C67F33.91D73E60"></span></font></i><font =
size=3D5
color=3Dblack face=3D"Harlow Solid Italic"><span =
style=3D'font-size:16.0pt;
font-family:"Harlow Solid =
Italic";color:black'><o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#ff40ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#FF40FF;font-style:italic'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;
</span></font></i><i><font color=3Dblack face=3D"Comic Sans MS"><span
style=3D'font-family:"Comic Sans MS";color:black;font-style:italic'>[ =
Enjoy your
life today.... because yesterday had gone....&nbsp;and =
</span></font></i><i><font
color=3D"#ff7f00" face=3D"Comic Sans MS"><span =
style=3D'font-family:"Comic Sans MS";
color:#FF7F00;font-style:italic'>tommorow may never =
come</span></font></i><i><font
color=3Dblack face=3D"Comic Sans MS"><span style=3D'font-family:"Comic =
Sans MS";
color:black;font-style:italic'> . ]</span></font></i><font size=3D2 =
color=3Dblack
face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;color:black'><o:p></o:p></spa=
n></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

</div>

</body>

</html>

------_=_NextPart_002_01C67F05.77D89226--

------_=_NextPart_001_01C67F05.77D89226--

From java-user-return-20866-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 07:43:26 2006
Return-Path: <java-user-return-20866-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57711 invoked from network); 24 May 2006 07:43:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 07:43:25 -0000
Received: (qmail 77637 invoked by uid 500); 24 May 2006 07:43:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77499 invoked by uid 500); 24 May 2006 07:43:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77342 invoked by uid 500); 24 May 2006 07:43:07 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 77318 invoked by uid 99); 24 May 2006 07:43:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 00:43:07 -0700
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=EXTRA_MPART_TYPE,HTML_FONT_BIG,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Vikas_Khengare@symantec.com designates 143.127.12.110 as permitted sender)
Received: from [143.127.12.110] (HELO gold.veritas.com) (143.127.12.110)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 00:43:05 -0700
Received: from sxchcon2-int.veritas.com (HELO SVLXCHCON2.enterprise.veritas.com) ([10.137.18.172])
  by gold.veritas.com with ESMTP; 24 May 2006 00:42:45 -0700
X-IronPort-AV: i="4.05,165,1146466800"; 
   d="jpg'145?scan'145,208,217,145"; a="59814966:sNHT139046472"
Received: from itpxchcon2.enterprise.veritas.com ([10.216.17.4]) by SVLXCHCON2.enterprise.veritas.com with Microsoft SMTPSVC(6.0.3790.211);
	 Wed, 24 May 2006 00:42:01 -0700
Received: from ITPXCHCLN1.enterprise.veritas.com ([10.216.17.2]) by itpxchcon2.enterprise.veritas.com with Microsoft SMTPSVC(6.0.3790.211);
	 Wed, 24 May 2006 13:11:29 +0530
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/related;
	type="multipart/alternative";
	boundary="----_=_NextPart_001_01C67F05.77D89226"
Subject: Can I do "Google Suggest" Like Search? - - - from - - -vikas
Date: Wed, 24 May 2006 13:11:29 +0530
Message-ID: <2B63BBC3F2F85B45A985FAD965DE969ECA1BF4@ITPXCHCLN1.enterprise.veritas.com>
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
Thread-Topic: Can I do "Google Suggest" Like Search? - - - from - - -vikas
Thread-Index: AcZ/BXgqOoMHCOgrTyu35e7WXgYuTw==
From: "Vikas Khengare" <Vikas_Khengare@symantec.com>
To: <lucene-user@jakarta.apache.org>,
	<java-dev@lucene.apache.org>,
	<java-user@lucene.apache.org>
X-OriginalArrivalTime: 24 May 2006 07:41:29.0409 (UTC) FILETIME=[78280310:01C67F05]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C67F05.77D89226
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_002_01C67F05.77D89226"


------_=_NextPart_002_01C67F05.77D89226
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi Friend

=20

=20

            I want to perform search like "Google search" which will
give suggestions to user.

So when I type "L" it will give me search options names which will start
from "L". Then when I will type "Lu" then it should give me options for
names which are starting from "Lu". & so on ......

=20

1) Does Lucene provide any API for doing so?

2) Can I use Sort / Filter classes for it?

3) Or do I need to handle it in java (may be any other language)?

=20

           =20

=20

            =20

=20

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D

=20

with best regards

from .........

vikas r. khengare

Veritas Software India Private Ltd.=20

Symantec Corporation

Pune, India

=20

                        [ Enjoy your life today.... because yesterday
had gone.... and tommorow may never come . ]

=20


------_=_NextPart_002_01C67F05.77D89226
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" =
xmlns:o=3D"urn:schemas-microsoft-com:office:office" =
xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:st1=3D"urn:schemas-microsoft-com:office:smarttags" =
xmlns=3D"http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<meta name=3DGenerator content=3D"Microsoft Word 11 (filtered medium)">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]--><o:SmartTagType
 namespaceuri=3D"urn:schemas-microsoft-com:office:smarttags" =
name=3D"country-region"/>
<o:SmartTagType =
namespaceuri=3D"urn:schemas-microsoft-com:office:smarttags"
 name=3D"City"/>
<o:SmartTagType =
namespaceuri=3D"urn:schemas-microsoft-com:office:smarttags"
 name=3D"place"/>
<!--[if !mso]>
<style>
st1\:*{behavior:url(#default#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"Comic Sans MS";
	panose-1:3 15 7 2 3 3 2 2 2 4;}
@font-face
	{font-family:"Harlow Solid Italic";
	panose-1:4 3 6 4 2 15 2 2 13 2;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
h1
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:Arial;}
h3
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:13.0pt;
	font-family:Arial;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:Arial;
	color:windowtext;}
span.Heading1Char
	{font-family:Arial;
	font-weight:bold;}
span.Heading3Char
	{font-family:Arial;
	font-weight:bold;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
-->
</style>

</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Hi Friend<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp; I
want to perform search like &#8220;Google search&#8221; which will give
suggestions to user.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>So when I type </span></font><span =
class=3DHeading3Char><b><font
size=3D4 face=3DArial><span =
style=3D'font-size:13.0pt'>&#8220;L&#8221;</span></font></b></span><font
size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'> it will
give me search options names which will start from &#8220;L&#8221;. Then =
when I
will type </span></font><span class=3DHeading3Char><b><font size=3D4 =
face=3DArial><span
style=3D'font-size:13.0pt'>&#8220;Lu&#8221;</span></font></b></span><font=
 size=3D2
face=3DArial><span style=3D'font-size:10.0pt;font-family:Arial'> then it =
should
give me options for names which are starting from &#8220;Lu&#8221;. =
&amp; so on
&#8230;&#8230;<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>1) Does Lucene provide any API for doing =
so?<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>2) Can I use Sort / Filter classes for =
it?<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>3) Or do I need to handle it in java (may be any =
other
language)?<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp; <o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp; <img
width=3D370 height=3D334 id=3D"_x0000_i1026" =
src=3D"cid:image001.jpg@01C67F33.91D73E60"><o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#4040ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#4040FF;font-style:italic'><o:p>&nbsp;</o:p></span></font></i></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#4040ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#4040FF;font-style:italic'>with best =
regards</span></font></i><font
size=3D2 color=3Dblack face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
color:black'><o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#4040ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#4040FF;font-style:italic'>from .........</span></font></i><font =
size=3D2
color=3Dblack face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
color:black'><o:p></o:p></span></font></p>

<p class=3DMsoNormal><i><font size=3D5 color=3D"#ff40ff" face=3D"Harlow =
Solid Italic"><span
style=3D'font-size:16.0pt;font-family:"Harlow Solid =
Italic";color:#FF40FF;
font-style:italic'>vikas r. khengare<o:p></o:p></span></font></i></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#333333" face=3DArial><span
style=3D'font-size:10.0pt;font-family:Arial;color:#333333'>Veritas =
Software India
Private Ltd. <o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#333333" face=3DArial><span
style=3D'font-size:10.0pt;font-family:Arial;color:#333333'>Symantec =
Corporation<o:p></o:p></span></font></p>

<p class=3DMsoNormal><st1:place w:st=3D"on"><st1:City w:st=3D"on"><font =
size=3D2
  color=3D"#333333" face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
  color:#333333'>Pune</span></font></st1:City><font size=3D2 =
color=3D"#333333"
 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;color:#333333'>, =
<st1:country-region
 w:st=3D"on">India</st1:country-region></span></font></st1:place><font =
size=3D2
color=3D"#333333" face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
color:#333333'><o:p></o:p></span></font></p>

<p class=3DMsoNormal><i><font size=3D5 color=3D"#ff40ff" face=3D"Harlow =
Solid Italic"><span
style=3D'font-size:16.0pt;font-family:"Harlow Solid =
Italic";color:#FF40FF;
font-style:italic'><img width=3D130 height=3D40 id=3D"_x0000_i1025"
src=3D"cid:image002.jpg@01C67F33.91D73E60"></span></font></i><font =
size=3D5
color=3Dblack face=3D"Harlow Solid Italic"><span =
style=3D'font-size:16.0pt;
font-family:"Harlow Solid =
Italic";color:black'><o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#ff40ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#FF40FF;font-style:italic'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;
</span></font></i><i><font color=3Dblack face=3D"Comic Sans MS"><span
style=3D'font-family:"Comic Sans MS";color:black;font-style:italic'>[ =
Enjoy your
life today.... because yesterday had gone....&nbsp;and =
</span></font></i><i><font
color=3D"#ff7f00" face=3D"Comic Sans MS"><span =
style=3D'font-family:"Comic Sans MS";
color:#FF7F00;font-style:italic'>tommorow may never =
come</span></font></i><i><font
color=3Dblack face=3D"Comic Sans MS"><span style=3D'font-family:"Comic =
Sans MS";
color:black;font-style:italic'> . ]</span></font></i><font size=3D2 =
color=3Dblack
face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;color:black'><o:p></o:p></spa=
n></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

</div>

</body>

</html>

------_=_NextPart_002_01C67F05.77D89226--

------_=_NextPart_001_01C67F05.77D89226--

From java-user-return-20867-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 07:46:31 2006
Return-Path: <java-user-return-20867-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58759 invoked from network); 24 May 2006 07:46:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 07:46:30 -0000
Received: (qmail 84616 invoked by uid 500); 24 May 2006 07:46:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84579 invoked by uid 500); 24 May 2006 07:46:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84568 invoked by uid 99); 24 May 2006 07:46:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 00:46:24 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.227.126.186] (HELO moutng.kundenserver.de) (212.227.126.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 00:46:23 -0700
Received: from [84.131.9.232] (helo=[192.168.115.123])
	by mrelayeu.kundenserver.de (node=mrelayeu10) with ESMTP (Nemesis),
	id 0ML31I-1Fio483IEK-0006Dp; Wed, 24 May 2006 09:46:01 +0200
Message-ID: <44740E50.7050601@rc.ag>
Date: Wed, 24 May 2006 09:42:08 +0200
From: Hannes Carl Meyer <developers@rc.ag>
Reply-To:  java-user@lucene.apache.org
User-Agent: Thunderbird 1.5.0.2 (Windows/20060308)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Checking for duplicates inside index
References: <44723058.8070000@rc.ag> <1148335475.16696.6.camel@limax.snigel.net> <p06230908c097e94d3015@[192.168.1.109]>
In-Reply-To: <p06230908c097e94d3015@[192.168.1.109]>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: kundenserver.de abuse@kundenserver.de login:a42d25494c1e4d7d8aa0d52bc18a9cb2
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Ken Krugler schrieb:
>> On Mon, 2006-05-22 at 23:42 +0200, Hannes Carl Meyer wrote:
>>>
>>  > I'm indexing ~10000 documents per day but since I'm getting a lot of
>>>  real duplicates (100% the same document content) I want to check the
>>>  content before indexing...
>>>
>>  > My idea is to create a checksum of the documents content and store it
>>  > within document inside the index, before indexing a new document I
>>  > will compare the new documents checksum with the ones in the index.
>>  >
>>>  Is that a good idea? does someone have experiences with that method?
>>>  any tools available?
>>
>> That could work.
>>
>> You will need a big sum though. MD5?
>
> Just as a reference, Nutch uses an MD5 digest to detect duplicate web 
> pages. It works fine, except of course when two docs differ by only an 
> insignificant text delta. There's some recent work in this area - 
> check out TextProfileSignature.
>
> -- Ken
Hi,

thank you very much - I'm currently checking the possibilities and I 
found an interesting "hash algorithm" called nilsimsa 
http://ixazon.dynip.com/~cmeclax/nilsimsa.html (still searching for a 
java implementation).

H.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20868-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 07:57:42 2006
Return-Path: <java-user-return-20868-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62982 invoked from network); 24 May 2006 07:57:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 07:57:42 -0000
Received: (qmail 834 invoked by uid 500); 24 May 2006 07:57:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 795 invoked by uid 500); 24 May 2006 07:57:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 783 invoked by uid 99); 24 May 2006 07:57:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 00:57:37 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 00:57:36 -0700
Received: from [192.168.0.252] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id k4O7vGE19562
	for <java-user@lucene.apache.org>; Wed, 24 May 2006 02:57:16 -0500
Message-ID: <4474125B.7090603@getopt.org>
Date: Wed, 24 May 2006 09:59:23 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Thunderbird 1.5.0.2 (Windows/20060308)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Checking for duplicates inside index
References: <44723058.8070000@rc.ag> <1148335475.16696.6.camel@limax.snigel.net> <p06230908c097e94d3015@[192.168.1.109]> <44740E50.7050601@rc.ag>
In-Reply-To: <44740E50.7050601@rc.ag>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hannes Carl Meyer wrote:
> Ken Krugler schrieb:
>>> On Mon, 2006-05-22 at 23:42 +0200, Hannes Carl Meyer wrote:
>>>>
>>>  > I'm indexing ~10000 documents per day but since I'm getting a lot of
>>>>  real duplicates (100% the same document content) I want to check the
>>>>  content before indexing...
>>>>
>>>  > My idea is to create a checksum of the documents content and 
>>> store it
>>>  > within document inside the index, before indexing a new document I
>>>  > will compare the new documents checksum with the ones in the index.
>>>  >
>>>>  Is that a good idea? does someone have experiences with that method?
>>>>  any tools available?
>>>
>>> That could work.
>>>
>>> You will need a big sum though. MD5?
>>
>> Just as a reference, Nutch uses an MD5 digest to detect duplicate web 
>> pages. It works fine, except of course when two docs differ by only 
>> an insignificant text delta. There's some recent work in this area - 
>> check out TextProfileSignature.
>>
>> -- Ken
> Hi,
>
> thank you very much - I'm currently checking the possibilities and I 
> found an interesting "hash algorithm" called nilsimsa 
> http://ixazon.dynip.com/~cmeclax/nilsimsa.html (still searching for a 
> java implementation).

Please read the archives of nilsimsa mailing list - the algorithm was 
found to be problematic.

-- 
Best regards,
Andrzej Bialecki     <><
 ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20869-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 08:03:42 2006
Return-Path: <java-user-return-20869-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65209 invoked from network); 24 May 2006 08:03:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 08:03:41 -0000
Received: (qmail 11295 invoked by uid 500); 24 May 2006 08:03:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10776 invoked by uid 500); 24 May 2006 08:03:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10763 invoked by uid 500); 24 May 2006 08:03:34 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 10757 invoked by uid 99); 24 May 2006 08:03:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 01:03:34 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_FONT_BIG,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of zhenjian@gmail.com designates 64.233.162.192 as permitted sender)
Received: from [64.233.162.192] (HELO nz-out-0102.google.com) (64.233.162.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 01:03:33 -0700
Received: by nz-out-0102.google.com with SMTP id o37so1533765nzf
        for <lucene-user@jakarta.apache.org>; Wed, 24 May 2006 01:03:13 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
        b=oqUGQYSAE2YPp/mArUvuqT1gMnr8QBMO/cBwHIcYWf4X+L00+ovfr3h018SwB3YwHrMZ3cGFGtQH1hveSAEPgVZnomX1dDtP0YHQAcCxNV3xYJiMZcXzK25/k3lVhjUsDV87E/Joz9lXNY/Md09Ol2s2HbYGEgh0cvZDPGL3cmo=
Received: by 10.64.179.11 with SMTP id b11mr624105qbf;
        Wed, 24 May 2006 01:03:12 -0700 (PDT)
Received: by 10.65.197.1 with HTTP; Wed, 24 May 2006 01:03:12 -0700 (PDT)
Message-ID: <4ba70b40605240103u1f2830a0ud7d791f65ae1dd1f@mail.gmail.com>
Date: Wed, 24 May 2006 16:03:12 +0800
From: "Zhenjian YU" <zhenjian@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Can I do "Google Suggest" Like Search? - - - from - - -vikas
Cc: lucene-user@jakarta.apache.org, java-dev@lucene.apache.org
In-Reply-To: <2B63BBC3F2F85B45A985FAD965DE969ECA1BF4@ITPXCHCLN1.enterprise.veritas.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_32684_24929290.1148457792883"
References: <2B63BBC3F2F85B45A985FAD965DE969ECA1BF4@ITPXCHCLN1.enterprise.veritas.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_32684_24929290.1148457792883
Content-Type: text/plain; charset=WINDOWS-1252; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

hi, *vikas,

*the ajax way should work for you.

while in the lucene part, you should do something to handle the prefix
query.

Best Regards,
Zhenjian

On 5/24/06, Vikas Khengare <Vikas_Khengare@symantec.com> wrote:
>
>  Hi Friend
>
>
>
>
>
>             I want to perform search like "Google search" which will give
> suggestions to user.
>
> So when I type *"L"* it will give me search options names which will star=
t
> from "L". Then when I will type *"Lu"* then it should give me options for
> names which are starting from "Lu". & so on =85=85
>
>
>
> 1) Does Lucene provide any API for doing so?
>
> 2) Can I use Sort / Filter classes for it?
>
> 3) Or do I need to handle it in java (may be any other language)?
>
>
>
>
>
>
>
>
>
>
>
>
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>
> * *
>
> *with best regards*
>
> *from .........*
>
> *vikas r. khengare*
>
> Veritas Software India Private Ltd.
>
> Symantec Corporation
>
> Pune, India
>
> **
>
> *                        **[ Enjoy your life today.... because yesterday
> had gone.... and **tommorow may never come** . ]*
>
>
>

------=_Part_32684_24929290.1148457792883--

From java-user-return-20870-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 08:03:49 2006
Return-Path: <java-user-return-20870-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65273 invoked from network); 24 May 2006 08:03:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 08:03:48 -0000
Received: (qmail 11433 invoked by uid 500); 24 May 2006 08:03:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11320 invoked by uid 500); 24 May 2006 08:03:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11246 invoked by uid 99); 24 May 2006 08:03:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 01:03:36 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_FONT_BIG,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of zhenjian@gmail.com designates 64.233.162.196 as permitted sender)
Received: from [64.233.162.196] (HELO nz-out-0102.google.com) (64.233.162.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 01:03:35 -0700
Received: by nz-out-0102.google.com with SMTP id o37so1533767nzf
        for <java-user@lucene.apache.org>; Wed, 24 May 2006 01:03:13 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
        b=oqUGQYSAE2YPp/mArUvuqT1gMnr8QBMO/cBwHIcYWf4X+L00+ovfr3h018SwB3YwHrMZ3cGFGtQH1hveSAEPgVZnomX1dDtP0YHQAcCxNV3xYJiMZcXzK25/k3lVhjUsDV87E/Joz9lXNY/Md09Ol2s2HbYGEgh0cvZDPGL3cmo=
Received: by 10.64.179.11 with SMTP id b11mr624105qbf;
        Wed, 24 May 2006 01:03:12 -0700 (PDT)
Received: by 10.65.197.1 with HTTP; Wed, 24 May 2006 01:03:12 -0700 (PDT)
Message-ID: <4ba70b40605240103u1f2830a0ud7d791f65ae1dd1f@mail.gmail.com>
Date: Wed, 24 May 2006 16:03:12 +0800
From: "Zhenjian YU" <zhenjian@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Can I do "Google Suggest" Like Search? - - - from - - -vikas
Cc: lucene-user@jakarta.apache.org, java-dev@lucene.apache.org
In-Reply-To: <2B63BBC3F2F85B45A985FAD965DE969ECA1BF4@ITPXCHCLN1.enterprise.veritas.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_32684_24929290.1148457792883"
References: <2B63BBC3F2F85B45A985FAD965DE969ECA1BF4@ITPXCHCLN1.enterprise.veritas.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_32684_24929290.1148457792883
Content-Type: text/plain; charset=WINDOWS-1252; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

hi, *vikas,

*the ajax way should work for you.

while in the lucene part, you should do something to handle the prefix
query.

Best Regards,
Zhenjian

On 5/24/06, Vikas Khengare <Vikas_Khengare@symantec.com> wrote:
>
>  Hi Friend
>
>
>
>
>
>             I want to perform search like "Google search" which will give
> suggestions to user.
>
> So when I type *"L"* it will give me search options names which will star=
t
> from "L". Then when I will type *"Lu"* then it should give me options for
> names which are starting from "Lu". & so on =85=85
>
>
>
> 1) Does Lucene provide any API for doing so?
>
> 2) Can I use Sort / Filter classes for it?
>
> 3) Or do I need to handle it in java (may be any other language)?
>
>
>
>
>
>
>
>
>
>
>
>
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>
> * *
>
> *with best regards*
>
> *from .........*
>
> *vikas r. khengare*
>
> Veritas Software India Private Ltd.
>
> Symantec Corporation
>
> Pune, India
>
> **
>
> *                        **[ Enjoy your life today.... because yesterday
> had gone.... and **tommorow may never come** . ]*
>
>
>

------=_Part_32684_24929290.1148457792883--

From java-user-return-20871-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 08:15:45 2006
Return-Path: <java-user-return-20871-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67925 invoked from network); 24 May 2006 08:15:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 08:15:44 -0000
Received: (qmail 23785 invoked by uid 500); 24 May 2006 08:15:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22751 invoked by uid 500); 24 May 2006 08:15:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22722 invoked by uid 99); 24 May 2006 08:15:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 01:15:26 -0700
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=EXTRA_MPART_TYPE,HTML_FONT_BIG,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Vikas_Khengare@symantec.com designates 143.127.12.110 as permitted sender)
Received: from [143.127.12.110] (HELO gold.veritas.com) (143.127.12.110)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 01:15:25 -0700
Received: from sxchcon1-int.veritas.com (HELO SVLXCHCON1.enterprise.veritas.com) ([10.137.18.171])
  by gold.veritas.com with ESMTP; 24 May 2006 01:15:00 -0700
X-IronPort-AV: i="4.05,165,1146466800"; 
   d="jpg'145?scan'145,208,217,145"; a="59815932:sNHT113564456"
Received: from itpxchcon2.enterprise.veritas.com ([10.216.17.4]) by SVLXCHCON1.enterprise.veritas.com with Microsoft SMTPSVC(6.0.3790.211);
	 Wed, 24 May 2006 01:15:00 -0700
Received: from ITPXCHCLN1.enterprise.veritas.com ([10.216.17.2]) by itpxchcon2.enterprise.veritas.com with Microsoft SMTPSVC(6.0.3790.211);
	 Wed, 24 May 2006 13:44:56 +0530
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/related;
	type="multipart/alternative";
	boundary="----_=_NextPart_001_01C67F0A.241A413E"
Subject: RE: Can I do "Google Suggest" Like Search? - - - from - - -vikas
Date: Wed, 24 May 2006 13:44:56 +0530
Message-ID: <2B63BBC3F2F85B45A985FAD965DE969ECA1C0B@ITPXCHCLN1.enterprise.veritas.com>
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
Thread-Topic: RE: Can I do "Google Suggest" Like Search? - - - from - - -vikas
Thread-Index: AcZ/CiRc+yy9kzX6RQ+5TGoH77XlYA==
From: "Vikas Khengare" <Vikas_Khengare@symantec.com>
To: <java-user@lucene.apache.org>
Cc: <lucene-user@jakarta.apache.org>,
	<java-dev@lucene.apache.org>
X-OriginalArrivalTime: 24 May 2006 08:14:56.0155 (UTC) FILETIME=[244526B0:01C67F0A]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C67F0A.241A413E
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_002_01C67F0A.241A413E"


------_=_NextPart_002_01C67F0A.241A413E
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

=20

Hi Zhenjian YU

=20

      I have implemented that with AJAX Search But when I type "a" in
textbox. It gives me all results which contains letter "a".

So I am getting "America", "Asia", "Flag" & "Zhenjian" also.

But in actual I want only "America" & "Asia".

=20

Thanks

=20

-----Original Message-----
From: Zhenjian YU [mailto:zhenjian@gmail.com]=20
Sent: Wednesday, May 24, 2006 1:33 PM
To: java-user@lucene.apache.org
Cc: lucene-user@jakarta.apache.org; java-dev@lucene.apache.org
Subject: Re: Can I do "Google Suggest" Like Search? - - - from - -
-vikas

=20

hi, *vikas,

=20

*the ajax way should work for you.

=20

while in the lucene part, you should do something to handle the prefix

query.

=20

Best Regards,

Zhenjian

=20

On 5/24/06, Vikas Khengare <Vikas_Khengare@symantec.com> wrote:

>=20

>  Hi Friend

>=20

>             I want to perform search like "Google search" which will
give

> suggestions to user.

>=20

> So when I type *"L"* it will give me search options names which will
start

> from "L". Then when I will type *"Lu"* then it should give me options
for

> names which are starting from "Lu". & so on ......

>=20

>=20

>=20

> 1) Does Lucene provide any API for doing so?

>=20

> 2) Can I use Sort / Filter classes for it?

>=20

> 3) Or do I need to handle it in java (may be any other language)?

>=20

=20

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D

=20

with best regards

from .........

vikas r. khengare

Veritas Software India Private Ltd.=20

Symantec Corporation

Pune, India

=20

                        [ Enjoy your life today.... because yesterday
had gone.... and tommorow may never come . ]

=20


------_=_NextPart_002_01C67F0A.241A413E
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" =
xmlns:o=3D"urn:schemas-microsoft-com:office:office" =
xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:st1=3D"urn:schemas-microsoft-com:office:smarttags" =
xmlns=3D"http://www.w3.org/TR/REC-html40">

<head>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<meta name=3DGenerator content=3D"Microsoft Word 11 (filtered medium)">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]--><o:SmartTagType
 namespaceuri=3D"urn:schemas-microsoft-com:office:smarttags" =
name=3D"country-region"/>
<o:SmartTagType =
namespaceuri=3D"urn:schemas-microsoft-com:office:smarttags"
 name=3D"City"/>
<o:SmartTagType =
namespaceuri=3D"urn:schemas-microsoft-com:office:smarttags"
 name=3D"place"/>
<!--[if !mso]>
<style>
st1\:*{behavior:url(#default#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"Comic Sans MS";
	panose-1:3 15 7 2 3 3 2 2 2 4;}
@font-face
	{font-family:"Harlow Solid Italic";
	panose-1:4 3 6 4 2 15 2 2 13 2;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p.MsoPlainText, li.MsoPlainText, div.MsoPlainText
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Courier New";}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:Arial;
	color:windowtext;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
-->
</style>

</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>Hi Zhenjian YU<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; I have implemented that with AJAX =
Search But when I type &quot;<b><font
color=3Dblue><span =
style=3D'color:blue;font-weight:bold'>a</span></font></b>&quot; in
textbox. It gives me all results which contains letter =
&quot;a&quot;.<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>So I am getting &quot;<st1:country-region w:st=3D"on"><b><font
 color=3Dblue><span =
style=3D'color:blue;font-weight:bold'>A</span></font></b>merica</st1:coun=
try-region>&quot;,
&quot;<st1:place w:st=3D"on"><b><font color=3Dblue><span =
style=3D'color:blue;
 font-weight:bold'>A</span></font></b>sia</st1:place>&quot;, =
&quot;Fl<b><font
color=3Dblue><span =
style=3D'color:blue;font-weight:bold'>a</span></font></b>g&quot;
&amp; &quot;Zhenji<b><font color=3Dblue><span =
style=3D'color:blue;font-weight:bold'>a</span></font></b>n&quot;
also.<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>But in actual I want only &quot;<st1:country-region =
w:st=3D"on">America</st1:country-region>&quot;
&amp; &quot;<st1:place =
w:st=3D"on">Asia</st1:place>&quot;.<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>Thanks<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>-----Original Message-----<br>
From: Zhenjian YU [mailto:zhenjian@gmail.com] <br>
Sent: Wednesday, May 24, 2006 1:33 PM<br>
To: java-user@lucene.apache.org<br>
Cc: lucene-user@jakarta.apache.org; java-dev@lucene.apache.org<br>
Subject: Re: Can I do &quot;Google Suggest&quot; Like Search? - - - from =
- -
-vikas<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>hi, *vikas,<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>*the <st1:place w:st=3D"on"><st1:City =
w:st=3D"on">ajax</st1:City></st1:place>
way should work for you.<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>while in the lucene part, you should do something to handle the =
prefix<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>query.<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>Best Regards,<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>Zhenjian<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>On 5/24/06, Vikas Khengare &lt;Vikas_Khengare@symantec.com&gt; =
wrote:<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt;&nbsp; Hi Friend<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp; I want to perform search like &quot;Google
search&quot; which will give<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt; suggestions to user.<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt; So when I type *&quot;L&quot;* it will give me search =
options
names which will start<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt; from &quot;L&quot;. Then when I will type *&quot;Lu&quot;* =
then it
should give me options for<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt; names which are starting from &quot;Lu&quot;. &amp; so on
&#8230;&#8230;<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt; 1) Does Lucene provide any API for doing =
so?<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt; 2) Can I use Sort / Filter classes for =
it?<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt; 3) Or do I need to handle it in java (may be any other =
language)?<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#4040ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#4040FF;font-style:italic'><o:p>&nbsp;</o:p></span></font></i></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#4040ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#4040FF;font-style:italic'>with best =
regards</span></font></i><font
size=3D2 color=3Dblack face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
color:black'><o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#4040ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#4040FF;font-style:italic'>from .........</span></font></i><font =
size=3D2
color=3Dblack face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
color:black'><o:p></o:p></span></font></p>

<p class=3DMsoNormal><i><font size=3D5 color=3D"#ff40ff" face=3D"Harlow =
Solid Italic"><span
style=3D'font-size:16.0pt;font-family:"Harlow Solid =
Italic";color:#FF40FF;
font-style:italic'>vikas r. khengare<o:p></o:p></span></font></i></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#333333" face=3DArial><span
style=3D'font-size:10.0pt;font-family:Arial;color:#333333'>Veritas =
Software India
Private Ltd. <o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#333333" face=3DArial><span
style=3D'font-size:10.0pt;font-family:Arial;color:#333333'>Symantec =
Corporation<o:p></o:p></span></font></p>

<p class=3DMsoNormal><st1:place w:st=3D"on"><st1:City w:st=3D"on"><font =
size=3D2
  color=3D"#333333" face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
  color:#333333'>Pune</span></font></st1:City><font size=3D2 =
color=3D"#333333"
 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;color:#333333'>, =
<st1:country-region
 w:st=3D"on">India</st1:country-region></span></font></st1:place><font =
size=3D2
color=3D"#333333" face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
color:#333333'><o:p></o:p></span></font></p>

<p class=3DMsoNormal><i><font size=3D5 color=3D"#ff40ff" face=3D"Harlow =
Solid Italic"><span
style=3D'font-size:16.0pt;font-family:"Harlow Solid =
Italic";color:#FF40FF;
font-style:italic'><img width=3D130 height=3D40 id=3D"_x0000_i1025"
src=3D"cid:image001.jpg@01C67F38.3DF8A7C0"></span></font></i><font =
size=3D5
color=3Dblack face=3D"Harlow Solid Italic"><span =
style=3D'font-size:16.0pt;
font-family:"Harlow Solid =
Italic";color:black'><o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#ff40ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#FF40FF;font-style:italic'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;
</span></font></i><i><font color=3Dblack face=3D"Comic Sans MS"><span
style=3D'font-family:"Comic Sans MS";color:black;font-style:italic'>[ =
Enjoy your
life today.... because yesterday had gone....&nbsp;and =
</span></font></i><i><font
color=3D"#ff7f00" face=3D"Comic Sans MS"><span =
style=3D'font-family:"Comic Sans MS";
color:#FF7F00;font-style:italic'>tommorow may never =
come</span></font></i><i><font
color=3Dblack face=3D"Comic Sans MS"><span style=3D'font-family:"Comic =
Sans MS";
color:black;font-style:italic'> . ]</span></font></i><font size=3D2 =
color=3Dblack
face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;color:black'><o:p></o:p></spa=
n></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

</div>

</body>

</html>

------_=_NextPart_002_01C67F0A.241A413E--

------_=_NextPart_001_01C67F0A.241A413E--

From java-user-return-20872-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 08:15:45 2006
Return-Path: <java-user-return-20872-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67922 invoked from network); 24 May 2006 08:15:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 08:15:44 -0000
Received: (qmail 23778 invoked by uid 500); 24 May 2006 08:15:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22768 invoked by uid 500); 24 May 2006 08:15:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22725 invoked by uid 500); 24 May 2006 08:15:26 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 22721 invoked by uid 99); 24 May 2006 08:15:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 01:15:26 -0700
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=EXTRA_MPART_TYPE,HTML_FONT_BIG,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Vikas_Khengare@symantec.com designates 143.127.12.110 as permitted sender)
Received: from [143.127.12.110] (HELO gold.veritas.com) (143.127.12.110)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 01:15:25 -0700
Received: from sxchcon1-int.veritas.com (HELO SVLXCHCON1.enterprise.veritas.com) ([10.137.18.171])
  by gold.veritas.com with ESMTP; 24 May 2006 01:15:00 -0700
X-IronPort-AV: i="4.05,165,1146466800"; 
   d="jpg'145?scan'145,208,217,145"; a="59815932:sNHT113564456"
Received: from itpxchcon2.enterprise.veritas.com ([10.216.17.4]) by SVLXCHCON1.enterprise.veritas.com with Microsoft SMTPSVC(6.0.3790.211);
	 Wed, 24 May 2006 01:15:00 -0700
Received: from ITPXCHCLN1.enterprise.veritas.com ([10.216.17.2]) by itpxchcon2.enterprise.veritas.com with Microsoft SMTPSVC(6.0.3790.211);
	 Wed, 24 May 2006 13:44:56 +0530
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/related;
	type="multipart/alternative";
	boundary="----_=_NextPart_001_01C67F0A.241A413E"
Subject: RE: Can I do "Google Suggest" Like Search? - - - from - - -vikas
Date: Wed, 24 May 2006 13:44:56 +0530
Message-ID: <2B63BBC3F2F85B45A985FAD965DE969ECA1C0B@ITPXCHCLN1.enterprise.veritas.com>
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
Thread-Topic: RE: Can I do "Google Suggest" Like Search? - - - from - - -vikas
Thread-Index: AcZ/CiRc+yy9kzX6RQ+5TGoH77XlYA==
From: "Vikas Khengare" <Vikas_Khengare@symantec.com>
To: <java-user@lucene.apache.org>
Cc: <lucene-user@jakarta.apache.org>,
	<java-dev@lucene.apache.org>
X-OriginalArrivalTime: 24 May 2006 08:14:56.0155 (UTC) FILETIME=[244526B0:01C67F0A]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C67F0A.241A413E
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_002_01C67F0A.241A413E"


------_=_NextPart_002_01C67F0A.241A413E
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

=20

Hi Zhenjian YU

=20

      I have implemented that with AJAX Search But when I type "a" in
textbox. It gives me all results which contains letter "a".

So I am getting "America", "Asia", "Flag" & "Zhenjian" also.

But in actual I want only "America" & "Asia".

=20

Thanks

=20

-----Original Message-----
From: Zhenjian YU [mailto:zhenjian@gmail.com]=20
Sent: Wednesday, May 24, 2006 1:33 PM
To: java-user@lucene.apache.org
Cc: lucene-user@jakarta.apache.org; java-dev@lucene.apache.org
Subject: Re: Can I do "Google Suggest" Like Search? - - - from - -
-vikas

=20

hi, *vikas,

=20

*the ajax way should work for you.

=20

while in the lucene part, you should do something to handle the prefix

query.

=20

Best Regards,

Zhenjian

=20

On 5/24/06, Vikas Khengare <Vikas_Khengare@symantec.com> wrote:

>=20

>  Hi Friend

>=20

>             I want to perform search like "Google search" which will
give

> suggestions to user.

>=20

> So when I type *"L"* it will give me search options names which will
start

> from "L". Then when I will type *"Lu"* then it should give me options
for

> names which are starting from "Lu". & so on ......

>=20

>=20

>=20

> 1) Does Lucene provide any API for doing so?

>=20

> 2) Can I use Sort / Filter classes for it?

>=20

> 3) Or do I need to handle it in java (may be any other language)?

>=20

=20

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D

=20

with best regards

from .........

vikas r. khengare

Veritas Software India Private Ltd.=20

Symantec Corporation

Pune, India

=20

                        [ Enjoy your life today.... because yesterday
had gone.... and tommorow may never come . ]

=20


------_=_NextPart_002_01C67F0A.241A413E
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" =
xmlns:o=3D"urn:schemas-microsoft-com:office:office" =
xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:st1=3D"urn:schemas-microsoft-com:office:smarttags" =
xmlns=3D"http://www.w3.org/TR/REC-html40">

<head>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<meta name=3DGenerator content=3D"Microsoft Word 11 (filtered medium)">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]--><o:SmartTagType
 namespaceuri=3D"urn:schemas-microsoft-com:office:smarttags" =
name=3D"country-region"/>
<o:SmartTagType =
namespaceuri=3D"urn:schemas-microsoft-com:office:smarttags"
 name=3D"City"/>
<o:SmartTagType =
namespaceuri=3D"urn:schemas-microsoft-com:office:smarttags"
 name=3D"place"/>
<!--[if !mso]>
<style>
st1\:*{behavior:url(#default#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"Comic Sans MS";
	panose-1:3 15 7 2 3 3 2 2 2 4;}
@font-face
	{font-family:"Harlow Solid Italic";
	panose-1:4 3 6 4 2 15 2 2 13 2;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p.MsoPlainText, li.MsoPlainText, div.MsoPlainText
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Courier New";}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:Arial;
	color:windowtext;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
-->
</style>

</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>Hi Zhenjian YU<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; I have implemented that with AJAX =
Search But when I type &quot;<b><font
color=3Dblue><span =
style=3D'color:blue;font-weight:bold'>a</span></font></b>&quot; in
textbox. It gives me all results which contains letter =
&quot;a&quot;.<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>So I am getting &quot;<st1:country-region w:st=3D"on"><b><font
 color=3Dblue><span =
style=3D'color:blue;font-weight:bold'>A</span></font></b>merica</st1:coun=
try-region>&quot;,
&quot;<st1:place w:st=3D"on"><b><font color=3Dblue><span =
style=3D'color:blue;
 font-weight:bold'>A</span></font></b>sia</st1:place>&quot;, =
&quot;Fl<b><font
color=3Dblue><span =
style=3D'color:blue;font-weight:bold'>a</span></font></b>g&quot;
&amp; &quot;Zhenji<b><font color=3Dblue><span =
style=3D'color:blue;font-weight:bold'>a</span></font></b>n&quot;
also.<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>But in actual I want only &quot;<st1:country-region =
w:st=3D"on">America</st1:country-region>&quot;
&amp; &quot;<st1:place =
w:st=3D"on">Asia</st1:place>&quot;.<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>Thanks<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>-----Original Message-----<br>
From: Zhenjian YU [mailto:zhenjian@gmail.com] <br>
Sent: Wednesday, May 24, 2006 1:33 PM<br>
To: java-user@lucene.apache.org<br>
Cc: lucene-user@jakarta.apache.org; java-dev@lucene.apache.org<br>
Subject: Re: Can I do &quot;Google Suggest&quot; Like Search? - - - from =
- -
-vikas<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>hi, *vikas,<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>*the <st1:place w:st=3D"on"><st1:City =
w:st=3D"on">ajax</st1:City></st1:place>
way should work for you.<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>while in the lucene part, you should do something to handle the =
prefix<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>query.<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>Best Regards,<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>Zhenjian<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>On 5/24/06, Vikas Khengare &lt;Vikas_Khengare@symantec.com&gt; =
wrote:<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt;&nbsp; Hi Friend<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp; I want to perform search like &quot;Google
search&quot; which will give<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt; suggestions to user.<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt; So when I type *&quot;L&quot;* it will give me search =
options
names which will start<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt; from &quot;L&quot;. Then when I will type *&quot;Lu&quot;* =
then it
should give me options for<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt; names which are starting from &quot;Lu&quot;. &amp; so on
&#8230;&#8230;<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt; 1) Does Lucene provide any API for doing =
so?<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt; 2) Can I use Sort / Filter classes for =
it?<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt; 3) Or do I need to handle it in java (may be any other =
language)?<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#4040ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#4040FF;font-style:italic'><o:p>&nbsp;</o:p></span></font></i></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#4040ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#4040FF;font-style:italic'>with best =
regards</span></font></i><font
size=3D2 color=3Dblack face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
color:black'><o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#4040ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#4040FF;font-style:italic'>from .........</span></font></i><font =
size=3D2
color=3Dblack face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
color:black'><o:p></o:p></span></font></p>

<p class=3DMsoNormal><i><font size=3D5 color=3D"#ff40ff" face=3D"Harlow =
Solid Italic"><span
style=3D'font-size:16.0pt;font-family:"Harlow Solid =
Italic";color:#FF40FF;
font-style:italic'>vikas r. khengare<o:p></o:p></span></font></i></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#333333" face=3DArial><span
style=3D'font-size:10.0pt;font-family:Arial;color:#333333'>Veritas =
Software India
Private Ltd. <o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#333333" face=3DArial><span
style=3D'font-size:10.0pt;font-family:Arial;color:#333333'>Symantec =
Corporation<o:p></o:p></span></font></p>

<p class=3DMsoNormal><st1:place w:st=3D"on"><st1:City w:st=3D"on"><font =
size=3D2
  color=3D"#333333" face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
  color:#333333'>Pune</span></font></st1:City><font size=3D2 =
color=3D"#333333"
 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;color:#333333'>, =
<st1:country-region
 w:st=3D"on">India</st1:country-region></span></font></st1:place><font =
size=3D2
color=3D"#333333" face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
color:#333333'><o:p></o:p></span></font></p>

<p class=3DMsoNormal><i><font size=3D5 color=3D"#ff40ff" face=3D"Harlow =
Solid Italic"><span
style=3D'font-size:16.0pt;font-family:"Harlow Solid =
Italic";color:#FF40FF;
font-style:italic'><img width=3D130 height=3D40 id=3D"_x0000_i1025"
src=3D"cid:image001.jpg@01C67F38.3DF8A7C0"></span></font></i><font =
size=3D5
color=3Dblack face=3D"Harlow Solid Italic"><span =
style=3D'font-size:16.0pt;
font-family:"Harlow Solid =
Italic";color:black'><o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#ff40ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#FF40FF;font-style:italic'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;
</span></font></i><i><font color=3Dblack face=3D"Comic Sans MS"><span
style=3D'font-family:"Comic Sans MS";color:black;font-style:italic'>[ =
Enjoy your
life today.... because yesterday had gone....&nbsp;and =
</span></font></i><i><font
color=3D"#ff7f00" face=3D"Comic Sans MS"><span =
style=3D'font-family:"Comic Sans MS";
color:#FF7F00;font-style:italic'>tommorow may never =
come</span></font></i><i><font
color=3Dblack face=3D"Comic Sans MS"><span style=3D'font-family:"Comic =
Sans MS";
color:black;font-style:italic'> . ]</span></font></i><font size=3D2 =
color=3Dblack
face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;color:black'><o:p></o:p></spa=
n></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

</div>

</body>

</html>

------_=_NextPart_002_01C67F0A.241A413E--

------_=_NextPart_001_01C67F0A.241A413E--

From java-user-return-20873-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 08:28:55 2006
Return-Path: <java-user-return-20873-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72547 invoked from network); 24 May 2006 08:28:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 08:28:55 -0000
Received: (qmail 45932 invoked by uid 500); 24 May 2006 08:28:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45896 invoked by uid 500); 24 May 2006 08:28:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45864 invoked by uid 99); 24 May 2006 08:28:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 01:28:41 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_FONT_BIG,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of zhenjian@gmail.com designates 64.233.162.198 as permitted sender)
Received: from [64.233.162.198] (HELO nz-out-0102.google.com) (64.233.162.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 01:28:39 -0700
Received: by nz-out-0102.google.com with SMTP id o37so1537322nzf
        for <java-user@lucene.apache.org>; Wed, 24 May 2006 01:28:19 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
        b=AX67KmFxuJiByD8KClw2sR9QimGiKrUBw3ML0Id8IbDPXnZg4es9uGQ6oPSnl+oyMT/Lg4QhH9YtPS0oMS+s0clK5gL4duYCVxGg4ySfJccGmi2630eCtkaDl3vX3WNtIXhzlwyr61rbaLdsv5qQM1MKW4HC35kTmToaIn/OiEs=
Received: by 10.64.152.19 with SMTP id z19mr2742287qbd;
        Wed, 24 May 2006 01:28:19 -0700 (PDT)
Received: by 10.65.197.1 with HTTP; Wed, 24 May 2006 01:28:19 -0700 (PDT)
Message-ID: <4ba70b40605240128j63478390t734b09afe47db35f@mail.gmail.com>
Date: Wed, 24 May 2006 16:28:19 +0800
From: "Zhenjian YU" <zhenjian@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Can I do "Google Suggest" Like Search? - - - from - - -vikas
Cc: lucene-user@jakarta.apache.org, java-dev@lucene.apache.org
In-Reply-To: <2B63BBC3F2F85B45A985FAD965DE969ECA1C0B@ITPXCHCLN1.enterprise.veritas.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_32992_7424900.1148459299076"
References: <2B63BBC3F2F85B45A985FAD965DE969ECA1C0B@ITPXCHCLN1.enterprise.veritas.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_32992_7424900.1148459299076
Content-Type: text/plain; charset=WINDOWS-1252; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi Vikas,

Seems that you can use the WildCardQuery to do this, just put "a*" as the
query term.
But take caution to use WildCardQuery, because it can bring the performance
of your system down.

Yes, you can also implement your own filter to filter out the results which
don't starting with "a".

Either way is a solution.

Best Regards,
Zhenjian

On 5/24/06, Vikas Khengare <Vikas_Khengare@symantec.com> wrote:
>
>
>
> Hi Zhenjian YU
>
>
>
>       I have implemented that with AJAX Search But when I type "*a*" in
> textbox. It gives me all results which contains letter "a".
>
> So I am getting "*A*merica", "*A*sia", "Fl*a*g" & "Zhenji*a*n" also.
>
> But in actual I want only "America" & "Asia".
>
>
>
> Thanks
>
>
>
> -----Original Message-----
> From: Zhenjian YU [mailto:zhenjian@gmail.com]
> Sent: Wednesday, May 24, 2006 1:33 PM
> To: java-user@lucene.apache.org
> Cc: lucene-user@jakarta.apache.org; java-dev@lucene.apache.org
> Subject: Re: Can I do "Google Suggest" Like Search? - - - from - - -vikas
>
>
>
> hi, *vikas,
>
>
>
> *the ajax way should work for you.
>
>
>
> while in the lucene part, you should do something to handle the prefix
>
> query.
>
>
>
> Best Regards,
>
> Zhenjian
>
>
>
> On 5/24/06, Vikas Khengare <Vikas_Khengare@symantec.com> wrote:
>
> >
>
> >  Hi Friend
>
> >
>
> >             I want to perform search like "Google search" which will
> give
>
> > suggestions to user.
>
> >
>
> > So when I type *"L"* it will give me search options names which will
> start
>
> > from "L". Then when I will type *"Lu"* then it should give me options
> for
>
> > names which are starting from "Lu". & so on =85=85
>
> >
>
> >
>
> >
>
> > 1) Does Lucene provide any API for doing so?
>
> >
>
> > 2) Can I use Sort / Filter classes for it?
>
> >
>
> > 3) Or do I need to handle it in java (may be any other language)?
>
> >
>
>
>
>
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>
> * *
>
> *with best regards*
>
> *from .........*
>
> *vikas r. khengare*
>
> Veritas Software India Private Ltd.
>
> Symantec Corporation
>
> Pune, India
>
> **
>
> *                        **[ Enjoy your life today.... because yesterday
> had gone.... and **tommorow may never come** . ]*
>
>
>

------=_Part_32992_7424900.1148459299076--

From java-user-return-20874-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 08:28:55 2006
Return-Path: <java-user-return-20874-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72584 invoked from network); 24 May 2006 08:28:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 08:28:55 -0000
Received: (qmail 46010 invoked by uid 500); 24 May 2006 08:28:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45910 invoked by uid 500); 24 May 2006 08:28:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45867 invoked by uid 500); 24 May 2006 08:28:41 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 45852 invoked by uid 99); 24 May 2006 08:28:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 01:28:41 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_FONT_BIG,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of zhenjian@gmail.com designates 64.233.162.196 as permitted sender)
Received: from [64.233.162.196] (HELO nz-out-0102.google.com) (64.233.162.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 01:28:40 -0700
Received: by nz-out-0102.google.com with SMTP id o37so1537320nzf
        for <lucene-user@jakarta.apache.org>; Wed, 24 May 2006 01:28:19 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
        b=AX67KmFxuJiByD8KClw2sR9QimGiKrUBw3ML0Id8IbDPXnZg4es9uGQ6oPSnl+oyMT/Lg4QhH9YtPS0oMS+s0clK5gL4duYCVxGg4ySfJccGmi2630eCtkaDl3vX3WNtIXhzlwyr61rbaLdsv5qQM1MKW4HC35kTmToaIn/OiEs=
Received: by 10.64.152.19 with SMTP id z19mr2742287qbd;
        Wed, 24 May 2006 01:28:19 -0700 (PDT)
Received: by 10.65.197.1 with HTTP; Wed, 24 May 2006 01:28:19 -0700 (PDT)
Message-ID: <4ba70b40605240128j63478390t734b09afe47db35f@mail.gmail.com>
Date: Wed, 24 May 2006 16:28:19 +0800
From: "Zhenjian YU" <zhenjian@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Can I do "Google Suggest" Like Search? - - - from - - -vikas
Cc: lucene-user@jakarta.apache.org, java-dev@lucene.apache.org
In-Reply-To: <2B63BBC3F2F85B45A985FAD965DE969ECA1C0B@ITPXCHCLN1.enterprise.veritas.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_32992_7424900.1148459299076"
References: <2B63BBC3F2F85B45A985FAD965DE969ECA1C0B@ITPXCHCLN1.enterprise.veritas.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_32992_7424900.1148459299076
Content-Type: text/plain; charset=WINDOWS-1252; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi Vikas,

Seems that you can use the WildCardQuery to do this, just put "a*" as the
query term.
But take caution to use WildCardQuery, because it can bring the performance
of your system down.

Yes, you can also implement your own filter to filter out the results which
don't starting with "a".

Either way is a solution.

Best Regards,
Zhenjian

On 5/24/06, Vikas Khengare <Vikas_Khengare@symantec.com> wrote:
>
>
>
> Hi Zhenjian YU
>
>
>
>       I have implemented that with AJAX Search But when I type "*a*" in
> textbox. It gives me all results which contains letter "a".
>
> So I am getting "*A*merica", "*A*sia", "Fl*a*g" & "Zhenji*a*n" also.
>
> But in actual I want only "America" & "Asia".
>
>
>
> Thanks
>
>
>
> -----Original Message-----
> From: Zhenjian YU [mailto:zhenjian@gmail.com]
> Sent: Wednesday, May 24, 2006 1:33 PM
> To: java-user@lucene.apache.org
> Cc: lucene-user@jakarta.apache.org; java-dev@lucene.apache.org
> Subject: Re: Can I do "Google Suggest" Like Search? - - - from - - -vikas
>
>
>
> hi, *vikas,
>
>
>
> *the ajax way should work for you.
>
>
>
> while in the lucene part, you should do something to handle the prefix
>
> query.
>
>
>
> Best Regards,
>
> Zhenjian
>
>
>
> On 5/24/06, Vikas Khengare <Vikas_Khengare@symantec.com> wrote:
>
> >
>
> >  Hi Friend
>
> >
>
> >             I want to perform search like "Google search" which will
> give
>
> > suggestions to user.
>
> >
>
> > So when I type *"L"* it will give me search options names which will
> start
>
> > from "L". Then when I will type *"Lu"* then it should give me options
> for
>
> > names which are starting from "Lu". & so on =85=85
>
> >
>
> >
>
> >
>
> > 1) Does Lucene provide any API for doing so?
>
> >
>
> > 2) Can I use Sort / Filter classes for it?
>
> >
>
> > 3) Or do I need to handle it in java (may be any other language)?
>
> >
>
>
>
>
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>
> * *
>
> *with best regards*
>
> *from .........*
>
> *vikas r. khengare*
>
> Veritas Software India Private Ltd.
>
> Symantec Corporation
>
> Pune, India
>
> **
>
> *                        **[ Enjoy your life today.... because yesterday
> had gone.... and **tommorow may never come** . ]*
>
>
>

------=_Part_32992_7424900.1148459299076--

From java-user-return-20875-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 08:41:21 2006
Return-Path: <java-user-return-20875-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76063 invoked from network); 24 May 2006 08:41:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 08:41:12 -0000
Received: (qmail 66423 invoked by uid 500); 24 May 2006 08:41:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66397 invoked by uid 500); 24 May 2006 08:41:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66386 invoked by uid 99); 24 May 2006 08:41:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 01:41:06 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.191.85.28] (HELO web36611.mail.mud.yahoo.com) (209.191.85.28)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 24 May 2006 01:41:05 -0700
Received: (qmail 1401 invoked by uid 60001); 24 May 2006 08:40:44 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=6GejaqLhjrQW+Kz3wyWFRTyH1CMO7Y/pTlbYg6GDmcdR1dqoy0H4Gc3pEsbnIvUPMiYwH/KAkF+gJDBczZub75r0BCOEY98nItscltQPt0vj69msBlcrqVTnd37m3jMrhJtBWdIaFxLdedmyyonk/Gove0+u4QjOL7a3mfXvS6s=  ;
Message-ID: <20060524084044.1399.qmail@web36611.mail.mud.yahoo.com>
Date: Wed, 24 May 2006 01:40:44 -0700 (PDT)
From: Marc Dauncey <marc_dauncey@yahoo.com>
Reply-To: Marc Dauncey <marc_dauncey@yahoo.com>
Subject: Re: Web services for querying and return of results
To: java-user@lucene.apache.org
In-Reply-To: <Pine.LNX.4.58.0605231200070.500@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for the reply everyone - useful advice.  We are already engaged in designing a solution around Lucene, the web services in that context was the thing I specifically needed advice on.

Solr sounds very interesting though - how do you maintain the cache?  Are you storing filters?  And how do you persist these, via the session or using some kind of register?  I was considering designing something like this but felt that state management was something I wanted to avoid doing if possible, because it limits how many users we can service, if a lot of data is being kept round for caching.  Would be very interested in how you managed to do this, and still make Solr scalable.

I know this is kind of wandering off the point of web services, but grateful to share your knowledge and experience!

Marc

----- Original Message ----
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org; Marc Dauncey <marc_dauncey@yahoo.com>
Sent: Tuesday, 23 May, 2006 8:37:43 PM
Subject: Re: Web services for querying and return of results


The usage you describe sounds perfectly suited for Solr ... without even
needing heavy customizations or custom plugins...

: Hi Erik, many thanks for your response - a typical search application
: that will consume the web service will typically want to display 25
: results per page.  Most users will only be interested in the first few
: pages, but there are certain searches with users that will want to
: examine many pages of results.

Solr's standard request handler has options for specifying that you want
results 1-25, or 26-50, etc...

: I was hoping to avoid maintaining hits on the session so pagination will
: requery the index.  The options are to either to render a load of
: documents as xml and then let the client cache the results itself, or
: simply to return 25 results for each subsequent page.

Solr has internal caching with "smart warming" ... not only will the
results of a search still be there if your user comes back and asks for
page#2, even if you update the index and delete some documents and add
some new documents Solr will rerun your recent searches in the background
to "warm" the new cache.

: I guess it also depends on the amount of text being returned in fields -
: we have probably a core set of around 10 fields returned for every query
: and then a larger set of fields that are used for very particular
: searches.

Solr's standard request handler lets you specify which stored fields you
want by name at query time.

http://incubator.apache.org/solr/
http://incubator.apache.org/solr/tutorial.html


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20876-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 09:30:26 2006
Return-Path: <java-user-return-20876-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91523 invoked from network); 24 May 2006 09:30:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 09:30:25 -0000
Received: (qmail 29952 invoked by uid 500); 24 May 2006 09:30:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29781 invoked by uid 500); 24 May 2006 09:30:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29760 invoked by uid 99); 24 May 2006 09:30:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 02:30:12 -0700
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=EXTRA_MPART_TYPE,HTML_FONT_BIG,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Vikas_Khengare@symantec.com designates 143.127.12.111 as permitted sender)
Received: from [143.127.12.111] (HELO silver.veritas.com) (143.127.12.111)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 02:30:10 -0700
Received: from sxchcon2-int.veritas.com (HELO SVLXCHCON2.enterprise.veritas.com) ([10.137.18.172])
  by silver.veritas.com with ESMTP; 24 May 2006 02:29:50 -0700
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAA==
X-IronPort-AV: i="4.05,165,1146466800"; 
   d="jpg'145?scan'145,208,217,145"; a="38461196:sNHT81470284"
Received: from PUNAXCHECNPIN02.enterprise.veritas.com ([10.217.161.22]) by SVLXCHCON2.enterprise.veritas.com with Microsoft SMTPSVC(6.0.3790.211);
	 Wed, 24 May 2006 02:29:49 -0700
Received: from ITPXCHCLN1.enterprise.veritas.com ([10.216.17.2]) by PUNAXCHECNPIN02.enterprise.veritas.com with Microsoft SMTPSVC(6.0.3790.1433);
	 Wed, 24 May 2006 14:59:45 +0530
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/related;
	type="multipart/alternative";
	boundary="----_=_NextPart_001_01C67F14.97AE38EE"
Subject: Re: Can I do "Google Suggest" Like Search? - - - from - - -vikas
Date: Wed, 24 May 2006 14:59:45 +0530
Message-ID: <2B63BBC3F2F85B45A985FAD965DE969ECA1C48@ITPXCHCLN1.enterprise.veritas.com>
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
Thread-Topic: Re: Can I do "Google Suggest" Like Search? - - - from - - -vikas
Thread-Index: AcZ/FJf0jxuqriKZTYeO7sSFcCWjyg==
From: "Vikas Khengare" <Vikas_Khengare@symantec.com>
To: <java-user@lucene.apache.org>
Cc: <lucene-user@jakarta.apache.org>,
	<java-dev@lucene.apache.org>
X-OriginalArrivalTime: 24 May 2006 09:29:45.0263 (UTC) FILETIME=[97FCABF0:01C67F14]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C67F14.97AE38EE
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_002_01C67F14.97AE38EE"


------_=_NextPart_002_01C67F14.97AE38EE
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi Zhenjian YU

=20

      Means Now I have 2 options

1.    WildCardQuery

2.       PrefixQuery

A] If I use WildCardQuery it will search "a" in whole word and then
return result

      e.g If I type "a" then it will return all results which contain
"a" in their spelling.

But I want when user type "a" it will show only "America" & "Asia"

And when I type "as" then it will show only "Asia".

Does WildCardQuery has that capacity to do?

Because this will send query to search engine as "a*" and "as*" ......

=20

B] I think so PrefixQuery will do it. Because It will search for those
terms in index who has "a" or "as" as prefix.

=20

Thanks

     =20

=20

=20

Hi Vikas,

=20

Seems that you can use the WildCardQuery to do this, just put "a*" as
the query term.

But take caution to use WildCardQuery, because it can bring the
performance of your system down.

=20

Yes, you can also implement your own filter to filter out the results
which don't starting with "a".

=20

Either way is a solution.

=20

Best Regards,

Zhenjian

=20

On 5/24/06, Vikas Khengare <Vikas_Khengare@symantec.com> wrote:

>=20

>=20

>=20

> Hi Zhenjian YU

>=20

>=20

>=20

>       I have implemented that with AJAX Search But when I type "*a*"=20

> in textbox. It gives me all results which contains letter "a".

>=20

> So I am getting "*A*merica", "*A*sia", "Fl*a*g" & "Zhenji*a*n" also.

>=20

> But in actual I want only "America" & "Asia".

>=20

>=20

>=20

> Thanks

>=20

>=20

>=20

> -----Original Message-----

> From: Zhenjian YU [mailto:zhenjian@gmail.com]

> Sent: Wednesday, May 24, 2006 1:33 PM

> To: java-user@lucene.apache.org

> Cc: lucene-user@jakarta.apache.org; java-dev@lucene.apache.org

> Subject: Re: Can I do "Google Suggest" Like Search? - - - from - -=20

> -vikas

>=20

>=20

>=20

> hi, *vikas,

> *the ajax way should work for you.

> while in the lucene part, you should do something to handle the prefix

> query.

>=20

> Best Regards,

>=20

> Zhenjian

>=20

>=20

>=20

> On 5/24/06, Vikas Khengare <Vikas_Khengare@symantec.com> wrote:

>=20

> >

>=20

> >  Hi Friend

> >             I want to perform search like "Google search" which will
give

>=20

> > suggestions to user.

>=20

> > So when I type *"L"* it will give me search options names which will

> start

>=20

> > from "L". Then when I will type *"Lu"* then it should give me=20

> > options

> for

>=20

> > names which are starting from "Lu". & so on ......

>=20

> > 1) Does Lucene provide any API for doing so?

> > 2) Can I use Sort / Filter classes for it?

> > 3) Or do I need to handle it in java (may be any other language)?

=20

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D

=20

with best regards

from .........

vikas r. khengare

Veritas Software India Private Ltd.=20

Symantec Corporation

Pune, India

=20

                        [ Enjoy your life today.... because yesterday
had gone.... and tommorow may never come . ]

=20


------_=_NextPart_002_01C67F14.97AE38EE
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" =
xmlns:o=3D"urn:schemas-microsoft-com:office:office" =
xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:st1=3D"urn:schemas-microsoft-com:office:smarttags" =
xmlns=3D"http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<meta name=3DGenerator content=3D"Microsoft Word 11 (filtered medium)">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]--><o:SmartTagType
 namespaceuri=3D"urn:schemas-microsoft-com:office:smarttags" =
name=3D"country-region"/>
<o:SmartTagType =
namespaceuri=3D"urn:schemas-microsoft-com:office:smarttags"
 name=3D"City"/>
<o:SmartTagType =
namespaceuri=3D"urn:schemas-microsoft-com:office:smarttags"
 name=3D"place"/>
<!--[if !mso]>
<style>
st1\:*{behavior:url(#default#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"Comic Sans MS";
	panose-1:3 15 7 2 3 3 2 2 2 4;}
@font-face
	{font-family:"Harlow Solid Italic";
	panose-1:4 3 6 4 2 15 2 2 13 2;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:Arial;
	color:windowtext;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:1917472000;
	mso-list-type:hybrid;
	mso-list-template-ids:906660986 928011806 67698713 67698715 67698703 =
67698713 67698715 67698703 67698713 67698715;}
@list l0:level1
	{mso-level-tab-stop:1.25in;
	mso-level-number-position:left;
	margin-left:1.25in;
	text-indent:-.25in;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Hi </span></font><font size=3D2 face=3D"Courier =
New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>Zhenjian =
YU<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Means Now I =
have 2
options<o:p></o:p></span></font></p>

<p class=3DMsoNormal =
style=3D'margin-left:1.25in;text-indent:-.25in;mso-list:l0 level1 =
lfo1'><![if !supportLists]><font
size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;font-family:"Courier New"'><span
style=3D'mso-list:Ignore'>1.<font size=3D1 face=3D"Times New =
Roman"><span
style=3D'font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; =
</span></font></span></span></font><![endif]><font
size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>WildCardQuery<o:p></o:p></span></font></p>

<p class=3DMsoNormal =
style=3D'margin-left:1.25in;text-indent:-.25in;mso-list:l0 level1 =
lfo1'><![if !supportLists]><font
size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'><span
style=3D'mso-list:Ignore'>2.<font size=3D1 face=3D"Times New =
Roman"><span
style=3D'font:7.0pt "Times New =
Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
</span></font></span></span></font><![endif]><font
size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>PrefixQuery</span></font><font
size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'><o:p></o:p></span></font></p=
>

<p class=3DMsoNormal style=3D'margin-left:.5in'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>A] If I use =
WildCardQuery it
will search &#8220;a&#8221; in whole word and then return =
result<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'margin-left:.5in'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; e.g
If I type &#8220;a&#8221; then it will return all results which contain =
&#8220;a&#8221;
in their spelling.<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'margin-left:.5in'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>But I want when =
user type &#8220;a&#8221;
it will show only &#8220;<st1:country-region =
w:st=3D"on">America</st1:country-region>&#8221;
&amp; &#8220;<st1:place =
w:st=3D"on">Asia</st1:place>&#8221;<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'margin-left:.5in'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>And when I type =
&#8220;as&#8221;
then it will show only &#8220;<st1:place =
w:st=3D"on">Asia</st1:place>&#8221;.<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'margin-left:.5in'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>Does WildCardQuery =
has that
capacity to do?<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'margin-left:.5in'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>Because this will =
send query
to search engine as &#8220;<b><font color=3Dblue><span =
style=3D'color:blue;
font-weight:bold'>a*</span></font></b>&#8221; and &#8220;<b><font =
color=3Dblue><span
style=3D'color:blue;font-weight:bold'>as*</span></font></b>&#8221; =
&#8230;&#8230;<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'margin-left:.5in'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'margin-left:.5in'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>B] I think so =
PrefixQuery
will do it. Because It will search for those terms in index who has =
&#8220;a&#8221;
or &#8220;as&#8221; as prefix.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'>Thanks</span></font><font size=3D2 =
face=3DArial><span
style=3D'font-size:10.0pt;font-family:Arial'><o:p></o:p></span></font></p=
>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
</span></font><font
size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'><o:p></o:p></span></font></p=
>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>Hi =
Vikas,<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>Seems that you can =
use the
WildCardQuery to do this, just put &quot;a*&quot; as the query =
term.<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>But take caution to =
use
WildCardQuery, because it can bring the performance of your system =
down.<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>Yes, you can also =
implement
your own filter to filter out the results which don't starting with
&quot;a&quot;.<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>Either way is a =
solution.<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>Best =
Regards,<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>Zhenjian<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>On 5/24/06, Vikas =
Khengare
&lt;Vikas_Khengare@symantec.com&gt; wrote:<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; Hi Zhenjian =
YU<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
I have implemented that with AJAX Search But when I type &quot;*a*&quot; =
<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; in textbox. It =
gives me
all results which contains letter =
&quot;a&quot;.<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; So I am =
getting
&quot;*A*merica&quot;, &quot;*A*sia&quot;, &quot;Fl*a*g&quot; &amp;
&quot;Zhenji*a*n&quot; also.<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; But in actual =
I want
only &quot;<st1:country-region =
w:st=3D"on">America</st1:country-region>&quot;
&amp; &quot;<st1:place =
w:st=3D"on">Asia</st1:place>&quot;.<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; =
Thanks<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; -----Original
Message-----<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; From: Zhenjian =
YU [<a
href=3D"mailto:zhenjian@gmail.com">mailto:zhenjian@gmail.com</a>]<o:p></o=
:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; Sent: =
Wednesday, May
24, 2006 1:33 PM<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; To:
java-user@lucene.apache.org<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; Cc:
lucene-user@jakarta.apache.org; =
java-dev@lucene.apache.org<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; Subject: Re: =
Can I do
&quot;Google Suggest&quot; Like Search? - - - from - - =
<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; =
-vikas<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; hi, =
*vikas,<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; *the <st1:City =
w:st=3D"on"><st1:place
 w:st=3D"on">ajax</st1:place></st1:City> way should work for =
you.<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; while in the =
lucene
part, you should do something to handle the =
prefix<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; =
query.<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; Best =
Regards,<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; =
Zhenjian<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; On 5/24/06, =
Vikas
Khengare &lt;Vikas_Khengare@symantec.com&gt; =
wrote:<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; =
&gt;<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; &gt;&nbsp; Hi =
Friend<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; =
&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;
I want to perform search like &quot;Google search&quot; which will =
give<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; &gt; =
suggestions to
user.<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; &gt; So when I =
type
*&quot;L&quot;* it will give me search options names which =
will<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; =
start<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; &gt; from
&quot;L&quot;. Then when I will type *&quot;Lu&quot;* then it should =
give me <o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; &gt; =
options<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; =
for<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; &gt; names =
which are
starting from &quot;Lu&quot;. &amp; so on =
&#8230;&#8230;<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; &gt; 1) Does =
Lucene
provide any API for doing so?<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; &gt; 2) Can I =
use Sort
/ Filter classes for it?<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; &gt; 3) Or do =
I need to
handle it in java (may be any other =
language)?<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#4040ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#4040FF;font-style:italic'><o:p>&nbsp;</o:p></span></font></i></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#4040ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#4040FF;font-style:italic'>with best =
regards</span></font></i><font
size=3D2 color=3Dblack face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
color:black'><o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#4040ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#4040FF;font-style:italic'>from .........</span></font></i><font =
size=3D2
color=3Dblack face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
color:black'><o:p></o:p></span></font></p>

<p class=3DMsoNormal><i><font size=3D5 color=3D"#ff40ff" face=3D"Harlow =
Solid Italic"><span
style=3D'font-size:16.0pt;font-family:"Harlow Solid =
Italic";color:#FF40FF;
font-style:italic'>vikas r. khengare<o:p></o:p></span></font></i></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#333333" face=3DArial><span
style=3D'font-size:10.0pt;font-family:Arial;color:#333333'>Veritas =
Software India
Private Ltd. <o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#333333" face=3DArial><span
style=3D'font-size:10.0pt;font-family:Arial;color:#333333'>Symantec =
Corporation<o:p></o:p></span></font></p>

<p class=3DMsoNormal><st1:place w:st=3D"on"><st1:City w:st=3D"on"><font =
size=3D2
  color=3D"#333333" face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
  color:#333333'>Pune</span></font></st1:City><font size=3D2 =
color=3D"#333333"
 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;color:#333333'>, =
<st1:country-region
 w:st=3D"on">India</st1:country-region></span></font></st1:place><font =
size=3D2
color=3D"#333333" face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
color:#333333'><o:p></o:p></span></font></p>

<p class=3DMsoNormal><i><font size=3D5 color=3D"#ff40ff" face=3D"Harlow =
Solid Italic"><span
style=3D'font-size:16.0pt;font-family:"Harlow Solid =
Italic";color:#FF40FF;
font-style:italic'><img border=3D0 width=3D130 height=3D40 =
id=3D"_x0000_i1025"
src=3D"cid:image001.jpg@01C67F42.B1A334B0"></span></font></i><font =
size=3D5
color=3Dblack face=3D"Harlow Solid Italic"><span =
style=3D'font-size:16.0pt;
font-family:"Harlow Solid =
Italic";color:black'><o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#ff40ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#FF40FF;font-style:italic'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;
</span></font></i><i><font color=3Dblack face=3D"Comic Sans MS"><span
style=3D'font-family:"Comic Sans MS";color:black;font-style:italic'>[ =
Enjoy your
life today.... because yesterday had gone....&nbsp;and =
</span></font></i><i><font
color=3D"#ff7f00" face=3D"Comic Sans MS"><span =
style=3D'font-family:"Comic Sans MS";
color:#FF7F00;font-style:italic'>tommorow may never =
come</span></font></i><i><font
color=3Dblack face=3D"Comic Sans MS"><span style=3D'font-family:"Comic =
Sans MS";
color:black;font-style:italic'> . ]</span></font></i><font size=3D2 =
color=3Dblack
face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;color:black'><o:p></o:p></spa=
n></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

</div>

</body>

</html>

------_=_NextPart_002_01C67F14.97AE38EE--

------_=_NextPart_001_01C67F14.97AE38EE--

From java-user-return-20877-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 09:30:35 2006
Return-Path: <java-user-return-20877-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91667 invoked from network); 24 May 2006 09:30:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 09:30:35 -0000
Received: (qmail 30515 invoked by uid 500); 24 May 2006 09:30:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30462 invoked by uid 500); 24 May 2006 09:30:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30434 invoked by uid 500); 24 May 2006 09:30:16 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 30415 invoked by uid 99); 24 May 2006 09:30:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 02:30:16 -0700
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=EXTRA_MPART_TYPE,HTML_FONT_BIG,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Vikas_Khengare@symantec.com designates 143.127.12.111 as permitted sender)
Received: from [143.127.12.111] (HELO silver.veritas.com) (143.127.12.111)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 02:30:14 -0700
Received: from sxchcon2-int.veritas.com (HELO SVLXCHCON2.enterprise.veritas.com) ([10.137.18.172])
  by silver.veritas.com with ESMTP; 24 May 2006 02:29:50 -0700
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAA==
X-IronPort-AV: i="4.05,165,1146466800"; 
   d="jpg'145?scan'145,208,217,145"; a="38461196:sNHT81470284"
Received: from PUNAXCHECNPIN02.enterprise.veritas.com ([10.217.161.22]) by SVLXCHCON2.enterprise.veritas.com with Microsoft SMTPSVC(6.0.3790.211);
	 Wed, 24 May 2006 02:29:49 -0700
Received: from ITPXCHCLN1.enterprise.veritas.com ([10.216.17.2]) by PUNAXCHECNPIN02.enterprise.veritas.com with Microsoft SMTPSVC(6.0.3790.1433);
	 Wed, 24 May 2006 14:59:45 +0530
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/related;
	type="multipart/alternative";
	boundary="----_=_NextPart_001_01C67F14.97AE38EE"
Subject: Re: Can I do "Google Suggest" Like Search? - - - from - - -vikas
Date: Wed, 24 May 2006 14:59:45 +0530
Message-ID: <2B63BBC3F2F85B45A985FAD965DE969ECA1C48@ITPXCHCLN1.enterprise.veritas.com>
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
Thread-Topic: Re: Can I do "Google Suggest" Like Search? - - - from - - -vikas
Thread-Index: AcZ/FJf0jxuqriKZTYeO7sSFcCWjyg==
From: "Vikas Khengare" <Vikas_Khengare@symantec.com>
To: <java-user@lucene.apache.org>
Cc: <lucene-user@jakarta.apache.org>,
	<java-dev@lucene.apache.org>
X-OriginalArrivalTime: 24 May 2006 09:29:45.0263 (UTC) FILETIME=[97FCABF0:01C67F14]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C67F14.97AE38EE
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_002_01C67F14.97AE38EE"


------_=_NextPart_002_01C67F14.97AE38EE
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi Zhenjian YU

=20

      Means Now I have 2 options

1.    WildCardQuery

2.       PrefixQuery

A] If I use WildCardQuery it will search "a" in whole word and then
return result

      e.g If I type "a" then it will return all results which contain
"a" in their spelling.

But I want when user type "a" it will show only "America" & "Asia"

And when I type "as" then it will show only "Asia".

Does WildCardQuery has that capacity to do?

Because this will send query to search engine as "a*" and "as*" ......

=20

B] I think so PrefixQuery will do it. Because It will search for those
terms in index who has "a" or "as" as prefix.

=20

Thanks

     =20

=20

=20

Hi Vikas,

=20

Seems that you can use the WildCardQuery to do this, just put "a*" as
the query term.

But take caution to use WildCardQuery, because it can bring the
performance of your system down.

=20

Yes, you can also implement your own filter to filter out the results
which don't starting with "a".

=20

Either way is a solution.

=20

Best Regards,

Zhenjian

=20

On 5/24/06, Vikas Khengare <Vikas_Khengare@symantec.com> wrote:

>=20

>=20

>=20

> Hi Zhenjian YU

>=20

>=20

>=20

>       I have implemented that with AJAX Search But when I type "*a*"=20

> in textbox. It gives me all results which contains letter "a".

>=20

> So I am getting "*A*merica", "*A*sia", "Fl*a*g" & "Zhenji*a*n" also.

>=20

> But in actual I want only "America" & "Asia".

>=20

>=20

>=20

> Thanks

>=20

>=20

>=20

> -----Original Message-----

> From: Zhenjian YU [mailto:zhenjian@gmail.com]

> Sent: Wednesday, May 24, 2006 1:33 PM

> To: java-user@lucene.apache.org

> Cc: lucene-user@jakarta.apache.org; java-dev@lucene.apache.org

> Subject: Re: Can I do "Google Suggest" Like Search? - - - from - -=20

> -vikas

>=20

>=20

>=20

> hi, *vikas,

> *the ajax way should work for you.

> while in the lucene part, you should do something to handle the prefix

> query.

>=20

> Best Regards,

>=20

> Zhenjian

>=20

>=20

>=20

> On 5/24/06, Vikas Khengare <Vikas_Khengare@symantec.com> wrote:

>=20

> >

>=20

> >  Hi Friend

> >             I want to perform search like "Google search" which will
give

>=20

> > suggestions to user.

>=20

> > So when I type *"L"* it will give me search options names which will

> start

>=20

> > from "L". Then when I will type *"Lu"* then it should give me=20

> > options

> for

>=20

> > names which are starting from "Lu". & so on ......

>=20

> > 1) Does Lucene provide any API for doing so?

> > 2) Can I use Sort / Filter classes for it?

> > 3) Or do I need to handle it in java (may be any other language)?

=20

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D

=20

with best regards

from .........

vikas r. khengare

Veritas Software India Private Ltd.=20

Symantec Corporation

Pune, India

=20

                        [ Enjoy your life today.... because yesterday
had gone.... and tommorow may never come . ]

=20


------_=_NextPart_002_01C67F14.97AE38EE
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" =
xmlns:o=3D"urn:schemas-microsoft-com:office:office" =
xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:st1=3D"urn:schemas-microsoft-com:office:smarttags" =
xmlns=3D"http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<meta name=3DGenerator content=3D"Microsoft Word 11 (filtered medium)">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]--><o:SmartTagType
 namespaceuri=3D"urn:schemas-microsoft-com:office:smarttags" =
name=3D"country-region"/>
<o:SmartTagType =
namespaceuri=3D"urn:schemas-microsoft-com:office:smarttags"
 name=3D"City"/>
<o:SmartTagType =
namespaceuri=3D"urn:schemas-microsoft-com:office:smarttags"
 name=3D"place"/>
<!--[if !mso]>
<style>
st1\:*{behavior:url(#default#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"Comic Sans MS";
	panose-1:3 15 7 2 3 3 2 2 2 4;}
@font-face
	{font-family:"Harlow Solid Italic";
	panose-1:4 3 6 4 2 15 2 2 13 2;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:Arial;
	color:windowtext;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:1917472000;
	mso-list-type:hybrid;
	mso-list-template-ids:906660986 928011806 67698713 67698715 67698703 =
67698713 67698715 67698703 67698713 67698715;}
@list l0:level1
	{mso-level-tab-stop:1.25in;
	mso-level-number-position:left;
	margin-left:1.25in;
	text-indent:-.25in;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Hi </span></font><font size=3D2 face=3D"Courier =
New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>Zhenjian =
YU<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Means Now I =
have 2
options<o:p></o:p></span></font></p>

<p class=3DMsoNormal =
style=3D'margin-left:1.25in;text-indent:-.25in;mso-list:l0 level1 =
lfo1'><![if !supportLists]><font
size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;font-family:"Courier New"'><span
style=3D'mso-list:Ignore'>1.<font size=3D1 face=3D"Times New =
Roman"><span
style=3D'font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; =
</span></font></span></span></font><![endif]><font
size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>WildCardQuery<o:p></o:p></span></font></p>

<p class=3DMsoNormal =
style=3D'margin-left:1.25in;text-indent:-.25in;mso-list:l0 level1 =
lfo1'><![if !supportLists]><font
size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'><span
style=3D'mso-list:Ignore'>2.<font size=3D1 face=3D"Times New =
Roman"><span
style=3D'font:7.0pt "Times New =
Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
</span></font></span></span></font><![endif]><font
size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>PrefixQuery</span></font><font
size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'><o:p></o:p></span></font></p=
>

<p class=3DMsoNormal style=3D'margin-left:.5in'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>A] If I use =
WildCardQuery it
will search &#8220;a&#8221; in whole word and then return =
result<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'margin-left:.5in'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; e.g
If I type &#8220;a&#8221; then it will return all results which contain =
&#8220;a&#8221;
in their spelling.<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'margin-left:.5in'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>But I want when =
user type &#8220;a&#8221;
it will show only &#8220;<st1:country-region =
w:st=3D"on">America</st1:country-region>&#8221;
&amp; &#8220;<st1:place =
w:st=3D"on">Asia</st1:place>&#8221;<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'margin-left:.5in'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>And when I type =
&#8220;as&#8221;
then it will show only &#8220;<st1:place =
w:st=3D"on">Asia</st1:place>&#8221;.<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'margin-left:.5in'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>Does WildCardQuery =
has that
capacity to do?<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'margin-left:.5in'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>Because this will =
send query
to search engine as &#8220;<b><font color=3Dblue><span =
style=3D'color:blue;
font-weight:bold'>a*</span></font></b>&#8221; and &#8220;<b><font =
color=3Dblue><span
style=3D'color:blue;font-weight:bold'>as*</span></font></b>&#8221; =
&#8230;&#8230;<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'margin-left:.5in'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'margin-left:.5in'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>B] I think so =
PrefixQuery
will do it. Because It will search for those terms in index who has =
&#8220;a&#8221;
or &#8220;as&#8221; as prefix.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'>Thanks</span></font><font size=3D2 =
face=3DArial><span
style=3D'font-size:10.0pt;font-family:Arial'><o:p></o:p></span></font></p=
>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
</span></font><font
size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'><o:p></o:p></span></font></p=
>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>Hi =
Vikas,<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>Seems that you can =
use the
WildCardQuery to do this, just put &quot;a*&quot; as the query =
term.<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>But take caution to =
use
WildCardQuery, because it can bring the performance of your system =
down.<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>Yes, you can also =
implement
your own filter to filter out the results which don't starting with
&quot;a&quot;.<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>Either way is a =
solution.<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>Best =
Regards,<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>Zhenjian<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>On 5/24/06, Vikas =
Khengare
&lt;Vikas_Khengare@symantec.com&gt; wrote:<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; Hi Zhenjian =
YU<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
I have implemented that with AJAX Search But when I type &quot;*a*&quot; =
<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; in textbox. It =
gives me
all results which contains letter =
&quot;a&quot;.<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; So I am =
getting
&quot;*A*merica&quot;, &quot;*A*sia&quot;, &quot;Fl*a*g&quot; &amp;
&quot;Zhenji*a*n&quot; also.<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; But in actual =
I want
only &quot;<st1:country-region =
w:st=3D"on">America</st1:country-region>&quot;
&amp; &quot;<st1:place =
w:st=3D"on">Asia</st1:place>&quot;.<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; =
Thanks<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; -----Original
Message-----<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; From: Zhenjian =
YU [<a
href=3D"mailto:zhenjian@gmail.com">mailto:zhenjian@gmail.com</a>]<o:p></o=
:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; Sent: =
Wednesday, May
24, 2006 1:33 PM<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; To:
java-user@lucene.apache.org<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; Cc:
lucene-user@jakarta.apache.org; =
java-dev@lucene.apache.org<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; Subject: Re: =
Can I do
&quot;Google Suggest&quot; Like Search? - - - from - - =
<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; =
-vikas<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; hi, =
*vikas,<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; *the <st1:City =
w:st=3D"on"><st1:place
 w:st=3D"on">ajax</st1:place></st1:City> way should work for =
you.<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; while in the =
lucene
part, you should do something to handle the =
prefix<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; =
query.<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; Best =
Regards,<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; =
Zhenjian<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; On 5/24/06, =
Vikas
Khengare &lt;Vikas_Khengare@symantec.com&gt; =
wrote:<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; =
&gt;<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; &gt;&nbsp; Hi =
Friend<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; =
&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;
I want to perform search like &quot;Google search&quot; which will =
give<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; &gt; =
suggestions to
user.<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; &gt; So when I =
type
*&quot;L&quot;* it will give me search options names which =
will<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; =
start<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; &gt; from
&quot;L&quot;. Then when I will type *&quot;Lu&quot;* then it should =
give me <o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; &gt; =
options<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; =
for<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; &gt; names =
which are
starting from &quot;Lu&quot;. &amp; so on =
&#8230;&#8230;<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&gt;<o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; &gt; 1) Does =
Lucene
provide any API for doing so?<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; &gt; 2) Can I =
use Sort
/ Filter classes for it?<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&gt; &gt; 3) Or do =
I need to
handle it in java (may be any other =
language)?<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#4040ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#4040FF;font-style:italic'><o:p>&nbsp;</o:p></span></font></i></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#4040ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#4040FF;font-style:italic'>with best =
regards</span></font></i><font
size=3D2 color=3Dblack face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
color:black'><o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#4040ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#4040FF;font-style:italic'>from .........</span></font></i><font =
size=3D2
color=3Dblack face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
color:black'><o:p></o:p></span></font></p>

<p class=3DMsoNormal><i><font size=3D5 color=3D"#ff40ff" face=3D"Harlow =
Solid Italic"><span
style=3D'font-size:16.0pt;font-family:"Harlow Solid =
Italic";color:#FF40FF;
font-style:italic'>vikas r. khengare<o:p></o:p></span></font></i></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#333333" face=3DArial><span
style=3D'font-size:10.0pt;font-family:Arial;color:#333333'>Veritas =
Software India
Private Ltd. <o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#333333" face=3DArial><span
style=3D'font-size:10.0pt;font-family:Arial;color:#333333'>Symantec =
Corporation<o:p></o:p></span></font></p>

<p class=3DMsoNormal><st1:place w:st=3D"on"><st1:City w:st=3D"on"><font =
size=3D2
  color=3D"#333333" face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
  color:#333333'>Pune</span></font></st1:City><font size=3D2 =
color=3D"#333333"
 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;color:#333333'>, =
<st1:country-region
 w:st=3D"on">India</st1:country-region></span></font></st1:place><font =
size=3D2
color=3D"#333333" face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
color:#333333'><o:p></o:p></span></font></p>

<p class=3DMsoNormal><i><font size=3D5 color=3D"#ff40ff" face=3D"Harlow =
Solid Italic"><span
style=3D'font-size:16.0pt;font-family:"Harlow Solid =
Italic";color:#FF40FF;
font-style:italic'><img border=3D0 width=3D130 height=3D40 =
id=3D"_x0000_i1025"
src=3D"cid:image001.jpg@01C67F42.B1A334B0"></span></font></i><font =
size=3D5
color=3Dblack face=3D"Harlow Solid Italic"><span =
style=3D'font-size:16.0pt;
font-family:"Harlow Solid =
Italic";color:black'><o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#ff40ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#FF40FF;font-style:italic'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;
</span></font></i><i><font color=3Dblack face=3D"Comic Sans MS"><span
style=3D'font-family:"Comic Sans MS";color:black;font-style:italic'>[ =
Enjoy your
life today.... because yesterday had gone....&nbsp;and =
</span></font></i><i><font
color=3D"#ff7f00" face=3D"Comic Sans MS"><span =
style=3D'font-family:"Comic Sans MS";
color:#FF7F00;font-style:italic'>tommorow may never =
come</span></font></i><i><font
color=3Dblack face=3D"Comic Sans MS"><span style=3D'font-family:"Comic =
Sans MS";
color:black;font-style:italic'> . ]</span></font></i><font size=3D2 =
color=3Dblack
face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;color:black'><o:p></o:p></spa=
n></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

</div>

</body>

</html>

------_=_NextPart_002_01C67F14.97AE38EE--

------_=_NextPart_001_01C67F14.97AE38EE--

From java-user-return-20878-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 09:42:47 2006
Return-Path: <java-user-return-20878-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95431 invoked from network); 24 May 2006 09:42:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 09:42:47 -0000
Received: (qmail 63275 invoked by uid 500); 24 May 2006 09:42:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63247 invoked by uid 500); 24 May 2006 09:42:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63236 invoked by uid 99); 24 May 2006 09:42:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 02:42:40 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.213] (HELO web26002.mail.ukl.yahoo.com) (217.12.10.213)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 24 May 2006 02:42:39 -0700
Received: (qmail 76365 invoked by uid 60001); 24 May 2006 09:42:17 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=TydH7zky/kiYF+yBV7GsFCShtjSPcKZhSkgVeii6Dd1p63qHmj56a6cIgZKMU5gT7sjdfqe297R8AZKzXMp79AKEokBIrvmzAD1yIXhOv6xpobHetSSjBk8sP/3t5fEmClc4Go45cAeSmDm2i0y50HHt3mbaOh2JxziQG+Devqk=  ;
Message-ID: <20060524094217.76363.qmail@web26002.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26002.mail.ukl.yahoo.com via HTTP; Wed, 24 May 2006 10:42:17 BST
Date: Wed, 24 May 2006 10:42:17 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Web services for querying and return of results
To: java-user@lucene.apache.org, Marc Dauncey <marc_dauncey@yahoo.com>
In-Reply-To: <20060524084044.1399.qmail@web36611.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Marc,
If you're looking to expose the full lucene search
functionality to clients other than Java you will need
a query syntax which goes beyond the built in
QueryParser syntax e.g. adds support for defining
filters, span queries etc in a Java-independent way.

If so, the XMLQueryParser in the contrib section
provides this capability and may be of interest.
It defines an extensible syntax for expressing all
lucene query and filter objects in XML and so is well
suited to exposing in a web service.

Cheers,
Mark




		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20879-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 10:07:10 2006
Return-Path: <java-user-return-20879-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6795 invoked from network); 24 May 2006 10:07:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 10:07:09 -0000
Received: (qmail 7677 invoked by uid 500); 24 May 2006 10:07:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7651 invoked by uid 500); 24 May 2006 10:07:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7639 invoked by uid 99); 24 May 2006 10:07:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 03:07:01 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.221] (HELO web26010.mail.ukl.yahoo.com) (217.12.10.221)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 24 May 2006 03:07:00 -0700
Received: (qmail 52383 invoked by uid 60001); 24 May 2006 10:06:38 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=6fjx71iZ+VzXzQfN4PVh3xyDbgXzhg3cWRnJJZ4mFxJ2+kxU+4jLS++PQdjzVjGRbJ04oHaiaLWF+ycIXKqZ979t0D+iTwC2WZGgrf3vexA5USC0h8o3xnL/SWbM8BySkWvtjPAEqPr4fCWaZJhCJzi1KbYwhBuTsW5KK1NRgPI=  ;
Message-ID: <20060524100638.52381.qmail@web26010.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26010.mail.ukl.yahoo.com via HTTP; Wed, 24 May 2006 11:06:38 BST
Date: Wed, 24 May 2006 11:06:38 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Can I do "Google Suggest" Like Search? - - - from - - -vikas
To: java-user@lucene.apache.org
In-Reply-To: <2B63BBC3F2F85B45A985FAD965DE969ECA1C48@ITPXCHCLN1.enterprise.veritas.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Tips:

1) Don't send to 3 mail lists when 1 will do please
continue this conversation on java-user only.

2) Most "suggest" tools work off an index of previous
searches (not documents). Do you have a large set of
searches? If not, making sensible suggestions based on
document content can be much more compute intensive.
My assumption here is you are having to work with doc
content.

3) You don't need to go to the expense of running a
query and ranking and scoring documents - look at the
lower level APIs terms() and termDocs() - use them to
find the matching terms

4) word suggestions ideally shouldn't be independent
of each other - look at completed words in the query
string and use them to inform the selection of
suggestions for the incomplete term being typed. The
termDocs()/termPositions() apis give you all the data
you need to establish what docs/positions exist for
completed terms and these can be cross-referenced with
the list of docs/positions for the "alternative" terms
under consideration. A high proximity between
completed term occurences and a suggested term's
occurences makes a strong candidate. A fast way to do
proximity tests might be to compared sorted arrays of
numbers where each number represents a term using a
function like:
  termspaceNumber=[DocNumber * maxNumTermsPerDoc]+
termPositionInDoc

You could then compare long[]completedTermOccurences
with long[]suggestedAlternativeTermOccurences looking
for matches where numbers differ by 1 or 2.

A faster (rougher) comparison solution which ignored
word proximity would be just to compare bitsets of doc
ids looking for high levels of
overlap(intersection/union).

You can use TermEnum.docFreq() to quickly rule out
very rare words from your calculations.

Cheers,
Mark

Send instant messages to your online friends http://uk.messenger.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20880-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 10:27:53 2006
Return-Path: <java-user-return-20880-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16866 invoked from network); 24 May 2006 10:27:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 10:27:53 -0000
Received: (qmail 48017 invoked by uid 500); 24 May 2006 10:27:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47990 invoked by uid 500); 24 May 2006 10:27:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47979 invoked by uid 99); 24 May 2006 10:27:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 03:27:45 -0700
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=EXTRA_MPART_TYPE,HTML_FONT_BIG,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Vikas_Khengare@symantec.com designates 143.127.12.111 as permitted sender)
Received: from [143.127.12.111] (HELO silver.veritas.com) (143.127.12.111)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 03:27:43 -0700
Received: from sxchcon1-int.veritas.com (HELO SVLXCHCON1.enterprise.veritas.com) ([10.137.18.171])
  by silver.veritas.com with ESMTP; 24 May 2006 03:26:55 -0700
X-BrightmailFiltered: true
X-Brightmail-Tracker: AAAAAA==
X-IronPort-AV: i="4.05,165,1146466800"; 
   d="jpg'145?scan'145,208,217,145"; a="38462591:sNHT77378391182"
Received: from itpxchcon2.enterprise.veritas.com ([10.216.17.4]) by SVLXCHCON1.enterprise.veritas.com with Microsoft SMTPSVC(6.0.3790.211);
	 Wed, 24 May 2006 03:26:49 -0700
Received: from ITPXCHCLN1.enterprise.veritas.com ([10.216.17.2]) by itpxchcon2.enterprise.veritas.com with Microsoft SMTPSVC(6.0.3790.211);
	 Wed, 24 May 2006 15:55:47 +0530
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/related;
	type="multipart/alternative";
	boundary="----_=_NextPart_001_01C67F1C.6BA079EE"
Subject: RE: Can I do "Google Suggest" Like Search? - - - from - - -vikas
Date: Wed, 24 May 2006 15:55:46 +0530
Message-ID: <2B63BBC3F2F85B45A985FAD965DE969ECA1C80@ITPXCHCLN1.enterprise.veritas.com>
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
Thread-Topic: RE: Can I do "Google Suggest" Like Search? - - - from - - -vikas
Thread-Index: AcZ/HGuj/mayVP59Rfq7CF9tKGLT3g==
From: "Vikas Khengare" <Vikas_Khengare@symantec.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 24 May 2006 10:25:47.0159 (UTC) FILETIME=[6BD54A70:01C67F1C]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C67F1C.6BA079EE
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_002_01C67F1C.6BA079EE"


------_=_NextPart_002_01C67F1C.6BA079EE
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

=20

Hi Mark

=20

      You are right; I want suggestions from doc content only not
general words. What will happen if I send PrefixQuery in each char input
from user then I will get results [No problem about number of hits to
show user] using AJAX. So when user type "a" Onkeyup I will send query
through AJAX to search engine with prefixquery then I will get results.

e.g. Field("Country","America")

      Field("Country","Africa")

      Field("Country","Aegentina")

=20

So If search in "Country" for "a*" it will return me all values which
are starting from "a" So I will get results as I want.

=20

Is this one right?

=20

Or What is other way to do so?

=20

=20

=20

=20

-----Original Message-----
From: mark harwood [mailto:markharw00d@yahoo.co.uk]=20
Sent: Wednesday, May 24, 2006 3:37 PM
To: java-user@lucene.apache.org
Subject: Re: Can I do "Google Suggest" Like Search? - - - from - -
-vikas

=20

Tips:

=20

1) Don't send to 3 mail lists when 1 will do please

continue this conversation on java-user only.

=20

2) Most "suggest" tools work off an index of previous

searches (not documents). Do you have a large set of

searches? If not, making sensible suggestions based on

document content can be much more compute intensive.

My assumption here is you are having to work with doc

content.

=20

3) You don't need to go to the expense of running a

query and ranking and scoring documents - look at the

lower level APIs terms() and termDocs() - use them to

find the matching terms

=20

4) word suggestions ideally shouldn't be independent

of each other - look at completed words in the query

string and use them to inform the selection of

suggestions for the incomplete term being typed. The

termDocs()/termPositions() apis give you all the data

you need to establish what docs/positions exist for

completed terms and these can be cross-referenced with

the list of docs/positions for the "alternative" terms

under consideration. A high proximity between

completed term occurences and a suggested term's

occurences makes a strong candidate. A fast way to do

proximity tests might be to compared sorted arrays of

numbers where each number represents a term using a

function like:

  termspaceNumber=3D[DocNumber * maxNumTermsPerDoc]+

termPositionInDoc

=20

You could then compare long[]completedTermOccurences

with long[]suggestedAlternativeTermOccurences looking

for matches where numbers differ by 1 or 2.

=20

A faster (rougher) comparison solution which ignored

word proximity would be just to compare bitsets of doc

ids looking for high levels of

overlap(intersection/union).

=20

You can use TermEnum.docFreq() to quickly rule out

very rare words from your calculations.

=20

Cheers,

Mark

=20

Send instant messages to your online friends
http://uk.messenger.yahoo.com=20

=20

---------------------------------------------------------------------

To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org

For additional commands, e-mail: java-user-help@lucene.apache.org

=20

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D

=20

with best regards

from .........

vikas r. khengare

Veritas Software India Private Ltd.=20

Symantec Corporation

Pune, India

=20

                        [ Enjoy your life today.... because yesterday
had gone.... and tommorow may never come . ]

=20


------_=_NextPart_002_01C67F1C.6BA079EE
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" =
xmlns:o=3D"urn:schemas-microsoft-com:office:office" =
xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:st1=3D"urn:schemas-microsoft-com:office:smarttags" =
xmlns=3D"http://www.w3.org/TR/REC-html40">

<head>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<meta name=3DGenerator content=3D"Microsoft Word 11 (filtered medium)">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]--><o:SmartTagType
 namespaceuri=3D"urn:schemas-microsoft-com:office:smarttags" =
name=3D"country-region"/>
<o:SmartTagType =
namespaceuri=3D"urn:schemas-microsoft-com:office:smarttags"
 name=3D"City"/>
<o:SmartTagType =
namespaceuri=3D"urn:schemas-microsoft-com:office:smarttags"
 name=3D"place"/>
<!--[if !mso]>
<style>
st1\:*{behavior:url(#default#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"Comic Sans MS";
	panose-1:3 15 7 2 3 3 2 2 2 4;}
@font-face
	{font-family:"Harlow Solid Italic";
	panose-1:4 3 6 4 2 15 2 2 13 2;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p.MsoPlainText, li.MsoPlainText, div.MsoPlainText
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Courier New";}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:Arial;
	color:windowtext;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
-->
</style>

</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>Hi Mark<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; You are right; I want suggestions =
from doc content only not
general words. What will happen if I send PrefixQuery in each char input =
from
user then I will get results [No problem about number of hits to show =
user]
using AJAX. So when user type &quot;a&quot; Onkeyup I will send query =
through <st1:place
w:st=3D"on"><st1:City w:st=3D"on">AJAX</st1:City></st1:place> to search =
engine with
prefixquery then I will get results.<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>e.g.  Field(&quot;Country&quot;,&quot;<st1:place =
w:st=3D"on"><st1:country-region
 =
w:st=3D"on">America</st1:country-region></st1:place>&quot;)<o:p></o:p></s=
pan></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
Field(&quot;Country&quot;,&quot;<st1:place =
w:st=3D"on">Africa</st1:place>&quot;)<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
Field(&quot;Country&quot;,&quot;Aegentina&quot;)<o:p></o:p></span></font>=
</p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>So If search in &quot;Country&quot; for &quot;a*&quot; it will =
return
me all values which are starting from &quot;a&quot; So I will get =
results as I
want.<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>Is this one right?<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>Or What is other way to do so?<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><img width=3D366 height=3D326 id=3D"_x0000_i1027"
src=3D"cid:image001.jpg@01C67F4A.853A5D60"><o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>-----Original Message-----<br>
From: mark harwood [mailto:markharw00d@yahoo.co.uk] <br>
Sent: Wednesday, May 24, 2006 3:37 PM<br>
To: java-user@lucene.apache.org<br>
Subject: Re: Can I do &quot;Google Suggest&quot; Like Search? - - - from =
- -
-vikas<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>Tips:<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>1) Don't send to 3 mail lists when 1 will do =
please<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>continue this conversation on java-user =
only.<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>2) Most &quot;suggest&quot; tools work off an index of =
previous<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>searches (not documents). Do you have a large set =
of<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>searches? If not, making sensible suggestions based =
on<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>document content can be much more compute =
intensive.<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>My assumption here is you are having to work with =
doc<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>content.<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>3) You don't need to go to the expense of running =
a<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>query and ranking and scoring documents - look at =
the<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>lower level APIs terms() and termDocs() - use them =
to<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>find the matching terms<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>4) word suggestions ideally shouldn't be =
independent<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>of each other - look at completed words in the =
query<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>string and use them to inform the selection =
of<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>suggestions for the incomplete term being typed. =
The<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>termDocs()/termPositions() apis give you all the =
data<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>you need to establish what docs/positions exist =
for<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>completed terms and these can be cross-referenced =
with<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>the list of docs/positions for the &quot;alternative&quot; =
terms<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>under consideration. A high proximity =
between<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>completed term occurences and a suggested =
term's<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>occurences makes a strong candidate. A fast way to =
do<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>proximity tests might be to compared sorted arrays =
of<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>numbers where each number represents a term using =
a<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>function like:<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>&nbsp; termspaceNumber=3D[DocNumber * =
maxNumTermsPerDoc]+<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>termPositionInDoc<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>You could then compare =
long[]completedTermOccurences<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>with long[]suggestedAlternativeTermOccurences =
looking<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>for matches where numbers differ by 1 or =
2.<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>A faster (rougher) comparison solution which =
ignored<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>word proximity would be just to compare bitsets of =
doc<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>ids looking for high levels of<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>overlap(intersection/union).<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>You can use TermEnum.docFreq() to quickly rule =
out<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>very rare words from your =
calculations.<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>Cheers,<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>Mark<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>Send instant messages to your online friends
http://uk.messenger.yahoo.com <o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>-----------------------------------------------------------------=
----<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>To unsubscribe, e-mail: =
java-user-unsubscribe@lucene.apache.org<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'>For additional commands, e-mail: =
java-user-help@lucene.apache.org<o:p></o:p></span></font></p>

<p class=3DMsoPlainText><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:
10.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#4040ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#4040FF;font-style:italic'><o:p>&nbsp;</o:p></span></font></i></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#4040ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#4040FF;font-style:italic'>with best =
regards</span></font></i><font
size=3D2 color=3Dblack face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
color:black'><o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#4040ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#4040FF;font-style:italic'>from .........</span></font></i><font =
size=3D2
color=3Dblack face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
color:black'><o:p></o:p></span></font></p>

<p class=3DMsoNormal><i><font size=3D5 color=3D"#ff40ff" face=3D"Harlow =
Solid Italic"><span
style=3D'font-size:16.0pt;font-family:"Harlow Solid =
Italic";color:#FF40FF;
font-style:italic'>vikas r. khengare<o:p></o:p></span></font></i></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#333333" face=3DArial><span
style=3D'font-size:10.0pt;font-family:Arial;color:#333333'>Veritas =
Software India
Private Ltd. <o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#333333" face=3DArial><span
style=3D'font-size:10.0pt;font-family:Arial;color:#333333'>Symantec =
Corporation<o:p></o:p></span></font></p>

<p class=3DMsoNormal><st1:place w:st=3D"on"><st1:City w:st=3D"on"><font =
size=3D2
  color=3D"#333333" face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
  color:#333333'>Pune</span></font></st1:City><font size=3D2 =
color=3D"#333333"
 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;color:#333333'>, =
<st1:country-region
 w:st=3D"on">India</st1:country-region></span></font></st1:place><font =
size=3D2
color=3D"#333333" face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
color:#333333'><o:p></o:p></span></font></p>

<p class=3DMsoNormal><i><font size=3D5 color=3D"#ff40ff" face=3D"Harlow =
Solid Italic"><span
style=3D'font-size:16.0pt;font-family:"Harlow Solid =
Italic";color:#FF40FF;
font-style:italic'><img width=3D130 height=3D40 id=3D"_x0000_i1025"
src=3D"cid:image002.jpg@01C67F4A.853A5D60"></span></font></i><font =
size=3D5
color=3Dblack face=3D"Harlow Solid Italic"><span =
style=3D'font-size:16.0pt;
font-family:"Harlow Solid =
Italic";color:black'><o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'line-height:14.4pt'><i><font size=3D3 =
color=3D"#ff40ff"
face=3D"Comic Sans MS"><span =
style=3D'font-size:12.0pt;font-family:"Comic Sans MS";
color:#FF40FF;font-style:italic'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;
</span></font></i><i><font color=3Dblack face=3D"Comic Sans MS"><span
style=3D'font-family:"Comic Sans MS";color:black;font-style:italic'>[ =
Enjoy your
life today.... because yesterday had gone....&nbsp;and =
</span></font></i><i><font
color=3D"#ff7f00" face=3D"Comic Sans MS"><span =
style=3D'font-family:"Comic Sans MS";
color:#FF7F00;font-style:italic'>tommorow may never =
come</span></font></i><i><font
color=3Dblack face=3D"Comic Sans MS"><span style=3D'font-family:"Comic =
Sans MS";
color:black;font-style:italic'> . ]</span></font></i><font size=3D2 =
color=3Dblack
face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;color:black'><o:p></o:p></spa=
n></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

</div>

</body>

</html>

------_=_NextPart_002_01C67F1C.6BA079EE--

------_=_NextPart_001_01C67F1C.6BA079EE--

From java-user-return-20881-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 11:08:55 2006
Return-Path: <java-user-return-20881-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30834 invoked from network); 24 May 2006 11:08:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 11:08:54 -0000
Received: (qmail 3451 invoked by uid 500); 24 May 2006 11:08:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3045 invoked by uid 500); 24 May 2006 11:08:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3027 invoked by uid 99); 24 May 2006 11:08:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 04:08:48 -0700
X-ASF-Spam-Status: No, hits=3.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DRUGS_ERECTILE,DRUGS_ERECTILE_OBFU,FUZZY_VPILL
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.218] (HELO web26007.mail.ukl.yahoo.com) (217.12.10.218)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 24 May 2006 04:08:46 -0700
Received: (qmail 25372 invoked by uid 60001); 24 May 2006 11:08:21 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=M7blk2cwp4s6pI77L1bVwwWeiz/gx5/eByMiFeMXCJSIt1L5CDRvhHIc1s8tzGt9BFmvdmLgWEipjiQxiJkCBOZn3YNOFfwCTJebaS1y9gQhaQGXE0tOO0J9BV85n8Fym3laVtH+EXb7ScCyLeGjU41Yu+gMDwVu9PxLOzod040=  ;
Message-ID: <20060524110821.25370.qmail@web26007.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26007.mail.ukl.yahoo.com via HTTP; Wed, 24 May 2006 12:08:21 BST
Date: Wed, 24 May 2006 12:08:21 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: RE: Can I do "Google Suggest" Like Search? - - - from - - -vikas
To: java-user@lucene.apache.org
In-Reply-To: <2B63BBC3F2F85B45A985FAD965DE969ECA1C80@ITPXCHCLN1.enterprise.veritas.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>>What will happen if I send PrefixQuery

A search returns a list of docs - you want a list of
words which is why I suggested using the IndexReader
"terms" APIs which PrefixQuery uses internally.

If you are not in a position to try the more complex
solution I outlined earlier (this bases suggestions on
multiple terms in the query string) then you *could*
use PrefixQuery as follows:

        IndexReader
reader=IndexReader.open("/indexes/nasa");
        String incompleteWord="Am";
        PrefixQuery pq=new PrefixQuery(new
Term("contents",incompleteWord.toLowerCase()));
        HashSet suggestedTerms=new HashSet();
       
pq.rewrite(reader).extractTerms(suggestedTerms);
        for (Iterator iter =
suggestedTerms.iterator(); iter.hasNext();)
        {
            Term term = (Term) iter.next();
            System.out.println(term.text());          
 
        }

Using this technique on a completely free-text field
(i.e. something other than the "country" field in your
example) will probably make poorly informed
suggestions and I would refer to my previous post for
a better solution.


Cheers
Mark





--- Vikas Khengare <Vikas_Khengare@symantec.com>
wrote:

>  
> 
> Hi Mark
> 
>  
> 
>       You are right; I want suggestions from doc
> content only not
> general words. What will happen if I send
> PrefixQuery in each char input
> from user then I will get results [No problem about
> number of hits to
> show user] using AJAX. So when user type "a" Onkeyup
> I will send query
> through AJAX to search engine with prefixquery then
> I will get results.
> 
> e.g. Field("Country","America")
> 
>       Field("Country","Africa")
> 
>       Field("Country","Aegentina")
> 
>  
> 
> So If search in "Country" for "a*" it will return me
> all values which
> are starting from "a" So I will get results as I
> want.
> 
>  
> 
> Is this one right?
> 
>  
> 
> Or What is other way to do so?
> 
>  
> 
>  
> 
>  
> 
>  
> 
> -----Original Message-----
> From: mark harwood [mailto:markharw00d@yahoo.co.uk] 
> Sent: Wednesday, May 24, 2006 3:37 PM
> To: java-user@lucene.apache.org
> Subject: Re: Can I do "Google Suggest" Like Search?
> - - - from - -
> -vikas
> 
>  
> 
> Tips:
> 
>  
> 
> 1) Don't send to 3 mail lists when 1 will do please
> 
> continue this conversation on java-user only.
> 
>  
> 
> 2) Most "suggest" tools work off an index of
> previous
> 
> searches (not documents). Do you have a large set of
> 
> searches? If not, making sensible suggestions based
> on
> 
> document content can be much more compute intensive.
> 
> My assumption here is you are having to work with
> doc
> 
> content.
> 
>  
> 
> 3) You don't need to go to the expense of running a
> 
> query and ranking and scoring documents - look at
> the
> 
> lower level APIs terms() and termDocs() - use them
> to
> 
> find the matching terms
> 
>  
> 
> 4) word suggestions ideally shouldn't be independent
> 
> of each other - look at completed words in the query
> 
> string and use them to inform the selection of
> 
> suggestions for the incomplete term being typed. The
> 
> termDocs()/termPositions() apis give you all the
> data
> 
> you need to establish what docs/positions exist for
> 
> completed terms and these can be cross-referenced
> with
> 
> the list of docs/positions for the "alternative"
> terms
> 
> under consideration. A high proximity between
> 
> completed term occurences and a suggested term's
> 
> occurences makes a strong candidate. A fast way to
> do
> 
> proximity tests might be to compared sorted arrays
> of
> 
> numbers where each number represents a term using a
> 
> function like:
> 
>   termspaceNumber=[DocNumber * maxNumTermsPerDoc]+
> 
> termPositionInDoc
> 
>  
> 
> You could then compare long[]completedTermOccurences
> 
> with long[]suggestedAlternativeTermOccurences
> looking
> 
> for matches where numbers differ by 1 or 2.
> 
>  
> 
> A faster (rougher) comparison solution which ignored
> 
> word proximity would be just to compare bitsets of
> doc
> 
> ids looking for high levels of
> 
> overlap(intersection/union).
> 
>  
> 
> You can use TermEnum.docFreq() to quickly rule out
> 
> very rare words from your calculations.
> 
>  
> 
> Cheers,
> 
> Mark
> 
>  
> 
> Send instant messages to your online friends
> http://uk.messenger.yahoo.com 
> 
>  
> 
>
---------------------------------------------------------------------
> 
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> 
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
>  
> 
>
========================================================================
> ==========================
> 
>  
> 
> with best regards
> 
> from .........
> 
> vikas r. khengare
> 
> Veritas Software India Private Ltd. 
> 
> Symantec Corporation
> 
> Pune, India
> 
>  
> 
>                         [ Enjoy your life today....
> because 
=== message truncated ===



		
___________________________________________________________ 
All New Yahoo! Mail  Tired of Vi@gr@! come-ons? Let our SpamGuard protect you. http://uk.docs.yahoo.com/nowyoucan.html

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20882-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 13:34:47 2006
Return-Path: <java-user-return-20882-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86968 invoked from network); 24 May 2006 13:34:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 13:34:47 -0000
Received: (qmail 82961 invoked by uid 500); 24 May 2006 13:34:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82927 invoked by uid 500); 24 May 2006 13:34:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82916 invoked by uid 99); 24 May 2006 13:34:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 06:34:40 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [149.77.160.1] (HELO master.hyd.deshaw.com) (149.77.160.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 06:34:38 -0700
Received: from mshydpub1.hyd.deshaw.com (mshydpub1.hyd.deshaw.com [149.77.160.67])
 by master.hyd.deshaw.com (8.12.7/8.12.7/2.0.kim.desco.357) with ESMTP id k4ODYDR8020896
 for <java-user@lucene.apache.org>; Wed, 24 May 2006 19:04:13 +0530 (IST)
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: RE: ORing complementary queries gives no results
Date: Wed, 24 May 2006 19:04:13 +0530
Message-ID: <E817F096B8D59B4E9D1E437917B1083103D78B@mshydpub1.hyd.deshaw.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: ORing complementary queries gives no results
Thread-Index: AcZ+lX8LsUu0XMGrRpC9xSCK/Dy8BQAoOLTw
From: "Satuluri, Venu_Madhav" <Venu.Madhav.Satuluri@deshaw.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Chris,

Yes, if I want to get "name:xyz or -name:xys" to work as I expect it to,
then I must replace "-name:xyz" with "(alwaysTrueField:true -name:xyz)".

Thanks a lot.

Venu

-----Original Message-----
From: Chris Hostetter [mailto:hossman_lucene@fucit.org]=20
Sent: Tuesday, May 23, 2006 11:48 PM
To: java-user@lucene.apache.org
Subject: Re: ORing complementary queries gives no results



I suspect the final query structure isn't what you think it is ... take
a
look at the toString on your query.

in general, there is no way to just do a "NOT foo" type query ...
prohibiting things only makes sense in the context of selecting
something
else ... i'm guessing the query structure you acctually have is...

	name:xyz -name:xyz

...which means positively select anything matching name:xyz and then
prohibit anything matching name:xyz ... hence the empty set.

if you truely want a "NOT foo" style clause which you can then combine
with other queries in a true boolean set fashion, you'll need to use a
MatchAllDocs query or soemthing like it...

       name:xyz (field_every_doc_has_set_to_true:true -name:xyz)



: Date: Tue, 23 May 2006 14:47:32 +0530
: From: "Satuluri, Venu_Madhav" <Venu.Madhav.Satuluri@deshaw.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: ORing complementary queries gives no results
:
: Hi all,
:
: I build Query objects programmatically. I do this by getting a
: TermQuery/PhraseQuery/whatever for each term in the user query, make a
: BooleanClause by specifying isRequired and isProhibited depending on
: whether the term has an "and" or an "or" or an "or not" etc prefixed
: before it (I use 1.4.3, which is why I use isRequired, isProhibited
: instead of BooleanClause.OCCUR). I combine all the BooleanClauses in
the
: end to get my final Query.
:
: This is working fine, except for one case where I ORed two
complementary
: queries, i.e. I searched for "name:xyz or -name:xyz". Both of these
: queries independently produce results but both joined together don't.
: The isRequired parameter is false for both the parts of the query,
while
: isProhibited is true for the second and false for the first. Shouldn't
: this query return all the documents which have some value of the field
: "name"?
:
: Thanks,
: Venu
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20883-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 15:47:40 2006
Return-Path: <java-user-return-20883-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44190 invoked from network); 24 May 2006 15:47:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 15:47:40 -0000
Received: (qmail 75065 invoked by uid 500); 24 May 2006 15:47:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75035 invoked by uid 500); 24 May 2006 15:47:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75022 invoked by uid 99); 24 May 2006 15:47:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 08:47:32 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.11.62] (HELO smtp008.mail.ukl.yahoo.com) (217.12.11.62)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 24 May 2006 08:47:30 -0700
Received: (qmail 70063 invoked from network); 24 May 2006 15:22:27 -0000
Received: from unknown (HELO ?192.168.0.2?) (qamar?rahil@80.7.120.90 with plain)
  by smtp008.mail.ukl.yahoo.com with SMTP; 24 May 2006 15:22:27 -0000
Message-ID: <44747A31.4080404@cs.man.ac.uk>
Date: Wed, 24 May 2006 16:22:25 +0100
From: Rahil <qamarr@cs.man.ac.uk>
Reply-To:  qamarr@cs.man.ac.uk
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.2) Gecko/20040804 Netscape/7.2 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re:  IOException Access Denied errors [ modified]
References: <OFDEFE804C.D1CED810-ON80257173.00505150-80257173.0050D427@SAAConsultants.com> <446DEA68.4070506@cs.man.ac.uk> <200605190934.16475.dennis@guba.com> <446DFDF9.5010401@cs.man.ac.uk> <4471C115.80309@gmail.com>
In-Reply-To: <4471C115.80309@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Dan

Dan Armbrust wrote:

>
>
> The MySQL drivers are horrible at dealing with large result sets - 
> that article gives you the workaround to tell it to bring the results 
> back as they are needed (like it should in the first place) but I have 
> found that it isn't reliable - it tends to drop out at random points 
> during the query - so you will get a different number of rows each 
> time you rerun the query.  In MySQL - the only reliable way I have 
> found to get all of the results from a large table is to use their 
> "limit" keyword in the query, and only ask it for X (I usually use 
> 10,000, but use whatever works best with your system) number of rows 
> as a time, and then keep rerunning the query, incrementing up the 
> start position of the "limit" keyword.  This issue also varies a lot 
> from version to version of the driver - some versions have been 
> completely broken, and others are only slightly broken.  To bad we 
> can't get lucene quality code everywhere :)

The incremental query seems to work better. Thanks.

>
>
>
> >> Exception in thread "main" java.io.IOException: Access is denied
>
> To me, that really seems like you have an issue with the location that 
> you are writing the index to.  I would make sure you have full write 
> permissions to the location, and make sure there aren't some old / 
> invalid files sitting in there.

Oh Im really quite tired of trying to resolve this "Access denied" 
issue. Ive deleted and recreated the index directory umpteen times! 
Finally I created a brand new directory in a brand new location and ran 
my index program. Lucene seemed to index the results from the first 
30000 queries (increments of 10000) successfully but then finally threw 
this age-old error yet again !! ..  Can you or anyone else make any 
sense of this? I surely cant !

Also the indexing seems to be noticeably slow. For indexing every 10000 
result sets by allocating 1.4gb of memory at run time, it takes 
approximately 20 seconds. With a database of a million records the total 
time in indexing will take ~ 35 mins. Is that normal?

Thanks
Rahil

>
> Dan
>
>


		
___________________________________________________________ 
Try the all-new Yahoo! Mail. "The New Version is radically easier to use"  The Wall Street Journal 
http://uk.docs.yahoo.com/nowyoucan.html

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20884-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 15:55:24 2006
Return-Path: <java-user-return-20884-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47249 invoked from network); 24 May 2006 15:55:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 15:55:24 -0000
Received: (qmail 87784 invoked by uid 500); 24 May 2006 15:55:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87749 invoked by uid 500); 24 May 2006 15:55:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87738 invoked by uid 99); 24 May 2006 15:55:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 08:55:17 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.75.234.2] (HELO smtpgate.saa-cons.co.uk) (194.75.234.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 08:55:12 -0700
Received: (from uucp@localhost)
	by smtpgate.saa-cons.co.uk (8.8.8/8.8.8) id QAA05384
	for <java-user@lucene.apache.org>; Wed, 24 May 2006 16:54:59 +0100 (BST)
	(envelope-from Paul.Illingworth@saaconsultants.com)
Received: from domino-mail.saa-cons.co.uk(10.10.10.4) by smtpgate.saa-cons.co.uk via smap (V2.1)
	id xma005373; Wed, 24 May 06 16:54:34 +0100
In-Reply-To: <44747A31.4080404@cs.man.ac.uk>
Subject: Re:  IOException Access Denied errors [ modified]
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5.4 March 27, 2005
Message-ID: <OF2B28B28B.467BB6C9-ON80257178.00572DA2-80257178.005757AD@SAAConsultants.com>
From: Paul.Illingworth@saaconsultants.com
Date: Wed, 24 May 2006 16:54:24 +0100
X-MIMETrack: Serialize by Router on domino-mail/Saa(Release 6.5.1|January 21, 2004) at
 24/05/2006 16:54:25
MIME-Version: 1.0
Content-type: text/plain; charset=UTF-8
Content-transfer-encoding: base64
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

DQoNCg0KDQoNCkkgY2FuIG9ubHkgdGhpbmsgdGhhdCB0aGUgcHJvYmxlbSB5b3UncmUgaGF2aW5n
IGlzIHBlY3VsaWFyIHRvIHlvdXIgc2V0dXANCm9yIHRoZSB3YXkgaW4gd2hpY2ggeW91IGFyZSB1
c2luZyBMdWNlbmUuIEEgd2lsZCBndWVzcyAtIGFyZSB5b3UgcmVhY2hpbmcNCnF1b3RhIGxpbWl0
cyBvbiB5b3VyIGZpbGVzeXN0ZW0gb3Igc29tZXRoaW5nIGxpa2UgdGhpcz8NCg0KUmVnYXJkcw0K
UGF1bCBJLi4NCg0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICBSYWhpbCAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAg
ICAgICAgICAgIDxxYW1hcnJAY3MubWFuLmFjICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgLnVrPiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUbyANCiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZyAgICAgICAgIA0K
ICAgICAgICAgICAgIDI0LzA1LzIwMDYgMTY6MjIgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgY2MgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdWJqZWN0
IA0KICAgICAgICAgICAgIFBsZWFzZSByZXNwb25kIHRvICAgICAgICAgUmU6ICBJT0V4Y2VwdGlv
biBBY2Nlc3MgRGVuaWVkICAgICAgDQogICAgICAgICAgICAgamF2YS11c2VyQGx1Y2VuZS4gICAg
ICAgICBlcnJvcnMgWyBtb2RpZmllZF0gICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAg
ICBhcGFjaGUub3JnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCg0KDQoNCg0K
SGkgRGFuDQoNCkRhbiBBcm1icnVzdCB3cm90ZToNCg0KPg0KPg0KPiBUaGUgTXlTUUwgZHJpdmVy
cyBhcmUgaG9ycmlibGUgYXQgZGVhbGluZyB3aXRoIGxhcmdlIHJlc3VsdCBzZXRzIC0NCj4gdGhh
dCBhcnRpY2xlIGdpdmVzIHlvdSB0aGUgd29ya2Fyb3VuZCB0byB0ZWxsIGl0IHRvIGJyaW5nIHRo
ZSByZXN1bHRzDQo+IGJhY2sgYXMgdGhleSBhcmUgbmVlZGVkIChsaWtlIGl0IHNob3VsZCBpbiB0
aGUgZmlyc3QgcGxhY2UpIGJ1dCBJIGhhdmUNCj4gZm91bmQgdGhhdCBpdCBpc24ndCByZWxpYWJs
ZSAtIGl0IHRlbmRzIHRvIGRyb3Agb3V0IGF0IHJhbmRvbSBwb2ludHMNCj4gZHVyaW5nIHRoZSBx
dWVyeSAtIHNvIHlvdSB3aWxsIGdldCBhIGRpZmZlcmVudCBudW1iZXIgb2Ygcm93cyBlYWNoDQo+
IHRpbWUgeW91IHJlcnVuIHRoZSBxdWVyeS4gIEluIE15U1FMIC0gdGhlIG9ubHkgcmVsaWFibGUg
d2F5IEkgaGF2ZQ0KPiBmb3VuZCB0byBnZXQgYWxsIG9mIHRoZSByZXN1bHRzIGZyb20gYSBsYXJn
ZSB0YWJsZSBpcyB0byB1c2UgdGhlaXINCj4gImxpbWl0IiBrZXl3b3JkIGluIHRoZSBxdWVyeSwg
YW5kIG9ubHkgYXNrIGl0IGZvciBYIChJIHVzdWFsbHkgdXNlDQo+IDEwLDAwMCwgYnV0IHVzZSB3
aGF0ZXZlciB3b3JrcyBiZXN0IHdpdGggeW91ciBzeXN0ZW0pIG51bWJlciBvZiByb3dzDQo+IGFz
IGEgdGltZSwgYW5kIHRoZW4ga2VlcCByZXJ1bm5pbmcgdGhlIHF1ZXJ5LCBpbmNyZW1lbnRpbmcg
dXAgdGhlDQo+IHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSAibGltaXQiIGtleXdvcmQuICBUaGlzIGlz
c3VlIGFsc28gdmFyaWVzIGEgbG90DQo+IGZyb20gdmVyc2lvbiB0byB2ZXJzaW9uIG9mIHRoZSBk
cml2ZXIgLSBzb21lIHZlcnNpb25zIGhhdmUgYmVlbg0KPiBjb21wbGV0ZWx5IGJyb2tlbiwgYW5k
IG90aGVycyBhcmUgb25seSBzbGlnaHRseSBicm9rZW4uICBUbyBiYWQgd2UNCj4gY2FuJ3QgZ2V0
IGx1Y2VuZSBxdWFsaXR5IGNvZGUgZXZlcnl3aGVyZSA6KQ0KDQpUaGUgaW5jcmVtZW50YWwgcXVl
cnkgc2VlbXMgdG8gd29yayBiZXR0ZXIuIFRoYW5rcy4NCg0KPg0KPg0KPg0KPiA+PiBFeGNlcHRp
b24gaW4gdGhyZWFkICJtYWluIiBqYXZhLmlvLklPRXhjZXB0aW9uOiBBY2Nlc3MgaXMgZGVuaWVk
DQo+DQo+IFRvIG1lLCB0aGF0IHJlYWxseSBzZWVtcyBsaWtlIHlvdSBoYXZlIGFuIGlzc3VlIHdp
dGggdGhlIGxvY2F0aW9uIHRoYXQNCj4geW91IGFyZSB3cml0aW5nIHRoZSBpbmRleCB0by4gIEkg
d291bGQgbWFrZSBzdXJlIHlvdSBoYXZlIGZ1bGwgd3JpdGUNCj4gcGVybWlzc2lvbnMgdG8gdGhl
IGxvY2F0aW9uLCBhbmQgbWFrZSBzdXJlIHRoZXJlIGFyZW4ndCBzb21lIG9sZCAvDQo+IGludmFs
aWQgZmlsZXMgc2l0dGluZyBpbiB0aGVyZS4NCg0KT2ggSW0gcmVhbGx5IHF1aXRlIHRpcmVkIG9m
IHRyeWluZyB0byByZXNvbHZlIHRoaXMgIkFjY2VzcyBkZW5pZWQiDQppc3N1ZS4gSXZlIGRlbGV0
ZWQgYW5kIHJlY3JlYXRlZCB0aGUgaW5kZXggZGlyZWN0b3J5IHVtcHRlZW4gdGltZXMhDQpGaW5h
bGx5IEkgY3JlYXRlZCBhIGJyYW5kIG5ldyBkaXJlY3RvcnkgaW4gYSBicmFuZCBuZXcgbG9jYXRp
b24gYW5kIHJhbg0KbXkgaW5kZXggcHJvZ3JhbS4gTHVjZW5lIHNlZW1lZCB0byBpbmRleCB0aGUg
cmVzdWx0cyBmcm9tIHRoZSBmaXJzdA0KMzAwMDAgcXVlcmllcyAoaW5jcmVtZW50cyBvZiAxMDAw
MCkgc3VjY2Vzc2Z1bGx5IGJ1dCB0aGVuIGZpbmFsbHkgdGhyZXcNCnRoaXMgYWdlLW9sZCBlcnJv
ciB5ZXQgYWdhaW4gISEgLi4gIENhbiB5b3Ugb3IgYW55b25lIGVsc2UgbWFrZSBhbnkNCnNlbnNl
IG9mIHRoaXM/IEkgc3VyZWx5IGNhbnQgIQ0KDQpBbHNvIHRoZSBpbmRleGluZyBzZWVtcyB0byBi
ZSBub3RpY2VhYmx5IHNsb3cuIEZvciBpbmRleGluZyBldmVyeSAxMDAwMA0KcmVzdWx0IHNldHMg
YnkgYWxsb2NhdGluZyAxLjRnYiBvZiBtZW1vcnkgYXQgcnVuIHRpbWUsIGl0IHRha2VzDQphcHBy
b3hpbWF0ZWx5IDIwIHNlY29uZHMuIFdpdGggYSBkYXRhYmFzZSBvZiBhIG1pbGxpb24gcmVjb3Jk
cyB0aGUgdG90YWwNCnRpbWUgaW4gaW5kZXhpbmcgd2lsbCB0YWtlIH4gMzUgbWlucy4gSXMgdGhh
dCBub3JtYWw/DQoNClRoYW5rcw0KUmFoaWwNCg0KPg0KPiBEYW4NCj4NCj4NCg0KDQoNCl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fDQpU
cnkgdGhlIGFsbC1uZXcgWWFob28hIE1haWwuICJUaGUgTmV3IFZlcnNpb24gaXMgcmFkaWNhbGx5
IGVhc2llciB0byB1c2UiIOKAkw0KVGhlIFdhbGwgU3RyZWV0IEpvdXJuYWwNCmh0dHA6Ly91ay5k
b2NzLnlhaG9vLmNvbS9ub3d5b3VjYW4uaHRtbA0KDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2Ny
aWJlLCBlLW1haWw6IGphdmEtdXNlci11bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZw0KRm9y
IGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogamF2YS11c2VyLWhlbHBAbHVjZW5lLmFwYWNo
ZS5vcmcNCg0K




From java-user-return-20885-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 16:05:37 2006
Return-Path: <java-user-return-20885-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52541 invoked from network); 24 May 2006 16:05:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 16:05:37 -0000
Received: (qmail 10776 invoked by uid 500); 24 May 2006 16:05:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10742 invoked by uid 500); 24 May 2006 16:05:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10729 invoked by uid 99); 24 May 2006 16:05:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 09:05:30 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.75.234.2] (HELO smtpgate.saa-cons.co.uk) (194.75.234.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 09:05:29 -0700
Received: (from uucp@localhost)
	by smtpgate.saa-cons.co.uk (8.8.8/8.8.8) id RAA05684
	for <java-user@lucene.apache.org>; Wed, 24 May 2006 17:05:16 +0100 (BST)
	(envelope-from Paul.Illingworth@saaconsultants.com)
Received: from domino-mail.saa-cons.co.uk(10.10.10.4) by smtpgate.saa-cons.co.uk via smap (V2.1)
	id xmaa05674; Wed, 24 May 06 17:05:03 +0100
In-Reply-To: <OF2B28B28B.467BB6C9-ON80257178.00572DA2-80257178.005757AD@SAAConsultants.com>
Subject: Re:  IOException Access Denied errors [ modified]
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5.4 March 27, 2005
Message-ID: <OF967AEA7A.518BCDE3-ON80257178.00581B00-80257178.00584DDD@SAAConsultants.com>
From: Paul.Illingworth@saaconsultants.com
Date: Wed, 24 May 2006 17:04:54 +0100
X-MIMETrack: Serialize by Router on domino-mail/Saa(Release 6.5.1|January 21, 2004) at
 24/05/2006 17:04:55
MIME-Version: 1.0
Content-type: text/plain; charset=UTF-8
Content-transfer-encoding: base64
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

DQoNCg0KDQoNCkFub3RoZXIgd2lsZCBndWVzcyAtIGl0IHNlZW1zIHRvIGJlIHRocm93aW5nIHRo
ZSBleGNlcHRpb24gd2hlbiBtZXJnaW5nDQpzZWdtZW50cy4gQXJlIHlvdSBzdXJlIHlvdSd2ZSBn
b3Qgd3JpdGUgYWNjZXNzIHRvIHRoZSBkaXJlY3RvcnkgdGhhdCB0aGUNCmxvY2sgZmlsZSBpcyBi
ZWluZyBjcmVhdGVkIGluLiBMdWNlbmUgSW4gQWN0aW9uIGhhcyBzb21lIGRldGFpbHMgYWJvdXQN
CmluZGV4IGxvY2tpbmcgYW5kIGhvdyB5b3UgY2FuIGNoYW5nZSB0aGUgbG9jYXRpb24gb2YgdGhl
IGxvY2sgZmlsZSAtIEknbQ0Kbm90IHN1cmUgaWYgdGhpcyBoYXMgYmVlbiB0d2Vha2VkIGluIDEu
OSB0aG91Z2guDQoNClJlZ2FyZHMgKGFnYWluKQ0KUGF1bCBJLg0KDQoNCiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIA0KICAgICAgICAgICAgIFBhdWwuSWxsaW5nd29ydGhAICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgc2FhY29uc3VsdGFudHMuY28g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAg
ICBtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIFRvIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgamF2YS11c2Vy
QGx1Y2VuZS5hcGFjaGUub3JnICAgICAgICAgDQogICAgICAgICAgICAgMjQvMDUvMjAwNiAxNjo1
NCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYyANCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIFN1YmplY3QgDQogICAgICAgICAgICAgUGxlYXNlIHJlc3Bv
bmQgdG8gICAgICAgICBSZTogIElPRXhjZXB0aW9uIEFjY2VzcyBEZW5pZWQgICAgICANCiAgICAg
ICAgICAgICBqYXZhLXVzZXJAbHVjZW5lLiAgICAgICAgIGVycm9ycyBbIG1vZGlmaWVkXSAgICAg
ICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGFwYWNoZS5vcmcgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAN
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIA0KDQoNCg0KDQoNCg0KDQoNCg0KSSBjYW4gb25seSB0aGluayB0
aGF0IHRoZSBwcm9ibGVtIHlvdSdyZSBoYXZpbmcgaXMgcGVjdWxpYXIgdG8geW91ciBzZXR1cA0K
b3IgdGhlIHdheSBpbiB3aGljaCB5b3UgYXJlIHVzaW5nIEx1Y2VuZS4gQSB3aWxkIGd1ZXNzIC0g
YXJlIHlvdSByZWFjaGluZw0KcXVvdGEgbGltaXRzIG9uIHlvdXIgZmlsZXN5c3RlbSBvciBzb21l
dGhpbmcgbGlrZSB0aGlzPw0KDQpSZWdhcmRzDQpQYXVsIEkuLg0KDQoNCg0KICAgICAgICAgICAg
IFJhaGlsDQogICAgICAgICAgICAgPHFhbWFyckBjcy5tYW4uYWMNCiAgICAgICAgICAgICAudWs+
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRv
DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqYXZhLXVzZXJAbHVjZW5l
LmFwYWNoZS5vcmcNCiAgICAgICAgICAgICAyNC8wNS8yMDA2IDE2OjIyICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNjDQoNCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdWJqZWN0DQogICAg
ICAgICAgICAgUGxlYXNlIHJlc3BvbmQgdG8gICAgICAgICBSZTogIElPRXhjZXB0aW9uIEFjY2Vz
cyBEZW5pZWQNCiAgICAgICAgICAgICBqYXZhLXVzZXJAbHVjZW5lLiAgICAgICAgIGVycm9ycyBb
IG1vZGlmaWVkXQ0KICAgICAgICAgICAgICAgIGFwYWNoZS5vcmcNCg0KDQoNCg0KDQoNCg0KDQoN
CkhpIERhbg0KDQpEYW4gQXJtYnJ1c3Qgd3JvdGU6DQoNCj4NCj4NCj4gVGhlIE15U1FMIGRyaXZl
cnMgYXJlIGhvcnJpYmxlIGF0IGRlYWxpbmcgd2l0aCBsYXJnZSByZXN1bHQgc2V0cyAtDQo+IHRo
YXQgYXJ0aWNsZSBnaXZlcyB5b3UgdGhlIHdvcmthcm91bmQgdG8gdGVsbCBpdCB0byBicmluZyB0
aGUgcmVzdWx0cw0KPiBiYWNrIGFzIHRoZXkgYXJlIG5lZWRlZCAobGlrZSBpdCBzaG91bGQgaW4g
dGhlIGZpcnN0IHBsYWNlKSBidXQgSSBoYXZlDQo+IGZvdW5kIHRoYXQgaXQgaXNuJ3QgcmVsaWFi
bGUgLSBpdCB0ZW5kcyB0byBkcm9wIG91dCBhdCByYW5kb20gcG9pbnRzDQo+IGR1cmluZyB0aGUg
cXVlcnkgLSBzbyB5b3Ugd2lsbCBnZXQgYSBkaWZmZXJlbnQgbnVtYmVyIG9mIHJvd3MgZWFjaA0K
PiB0aW1lIHlvdSByZXJ1biB0aGUgcXVlcnkuICBJbiBNeVNRTCAtIHRoZSBvbmx5IHJlbGlhYmxl
IHdheSBJIGhhdmUNCj4gZm91bmQgdG8gZ2V0IGFsbCBvZiB0aGUgcmVzdWx0cyBmcm9tIGEgbGFy
Z2UgdGFibGUgaXMgdG8gdXNlIHRoZWlyDQo+ICJsaW1pdCIga2V5d29yZCBpbiB0aGUgcXVlcnks
IGFuZCBvbmx5IGFzayBpdCBmb3IgWCAoSSB1c3VhbGx5IHVzZQ0KPiAxMCwwMDAsIGJ1dCB1c2Ug
d2hhdGV2ZXIgd29ya3MgYmVzdCB3aXRoIHlvdXIgc3lzdGVtKSBudW1iZXIgb2Ygcm93cw0KPiBh
cyBhIHRpbWUsIGFuZCB0aGVuIGtlZXAgcmVydW5uaW5nIHRoZSBxdWVyeSwgaW5jcmVtZW50aW5n
IHVwIHRoZQ0KPiBzdGFydCBwb3NpdGlvbiBvZiB0aGUgImxpbWl0IiBrZXl3b3JkLiAgVGhpcyBp
c3N1ZSBhbHNvIHZhcmllcyBhIGxvdA0KPiBmcm9tIHZlcnNpb24gdG8gdmVyc2lvbiBvZiB0aGUg
ZHJpdmVyIC0gc29tZSB2ZXJzaW9ucyBoYXZlIGJlZW4NCj4gY29tcGxldGVseSBicm9rZW4sIGFu
ZCBvdGhlcnMgYXJlIG9ubHkgc2xpZ2h0bHkgYnJva2VuLiAgVG8gYmFkIHdlDQo+IGNhbid0IGdl
dCBsdWNlbmUgcXVhbGl0eSBjb2RlIGV2ZXJ5d2hlcmUgOikNCg0KVGhlIGluY3JlbWVudGFsIHF1
ZXJ5IHNlZW1zIHRvIHdvcmsgYmV0dGVyLiBUaGFua3MuDQoNCj4NCj4NCj4NCj4gPj4gRXhjZXB0
aW9uIGluIHRocmVhZCAibWFpbiIgamF2YS5pby5JT0V4Y2VwdGlvbjogQWNjZXNzIGlzIGRlbmll
ZA0KPg0KPiBUbyBtZSwgdGhhdCByZWFsbHkgc2VlbXMgbGlrZSB5b3UgaGF2ZSBhbiBpc3N1ZSB3
aXRoIHRoZSBsb2NhdGlvbiB0aGF0DQo+IHlvdSBhcmUgd3JpdGluZyB0aGUgaW5kZXggdG8uICBJ
IHdvdWxkIG1ha2Ugc3VyZSB5b3UgaGF2ZSBmdWxsIHdyaXRlDQo+IHBlcm1pc3Npb25zIHRvIHRo
ZSBsb2NhdGlvbiwgYW5kIG1ha2Ugc3VyZSB0aGVyZSBhcmVuJ3Qgc29tZSBvbGQgLw0KPiBpbnZh
bGlkIGZpbGVzIHNpdHRpbmcgaW4gdGhlcmUuDQoNCk9oIEltIHJlYWxseSBxdWl0ZSB0aXJlZCBv
ZiB0cnlpbmcgdG8gcmVzb2x2ZSB0aGlzICJBY2Nlc3MgZGVuaWVkIg0KaXNzdWUuIEl2ZSBkZWxl
dGVkIGFuZCByZWNyZWF0ZWQgdGhlIGluZGV4IGRpcmVjdG9yeSB1bXB0ZWVuIHRpbWVzIQ0KRmlu
YWxseSBJIGNyZWF0ZWQgYSBicmFuZCBuZXcgZGlyZWN0b3J5IGluIGEgYnJhbmQgbmV3IGxvY2F0
aW9uIGFuZCByYW4NCm15IGluZGV4IHByb2dyYW0uIEx1Y2VuZSBzZWVtZWQgdG8gaW5kZXggdGhl
IHJlc3VsdHMgZnJvbSB0aGUgZmlyc3QNCjMwMDAwIHF1ZXJpZXMgKGluY3JlbWVudHMgb2YgMTAw
MDApIHN1Y2Nlc3NmdWxseSBidXQgdGhlbiBmaW5hbGx5IHRocmV3DQp0aGlzIGFnZS1vbGQgZXJy
b3IgeWV0IGFnYWluICEhIC4uICBDYW4geW91IG9yIGFueW9uZSBlbHNlIG1ha2UgYW55DQpzZW5z
ZSBvZiB0aGlzPyBJIHN1cmVseSBjYW50ICENCg0KQWxzbyB0aGUgaW5kZXhpbmcgc2VlbXMgdG8g
YmUgbm90aWNlYWJseSBzbG93LiBGb3IgaW5kZXhpbmcgZXZlcnkgMTAwMDANCnJlc3VsdCBzZXRz
IGJ5IGFsbG9jYXRpbmcgMS40Z2Igb2YgbWVtb3J5IGF0IHJ1biB0aW1lLCBpdCB0YWtlcw0KYXBw
cm94aW1hdGVseSAyMCBzZWNvbmRzLiBXaXRoIGEgZGF0YWJhc2Ugb2YgYSBtaWxsaW9uIHJlY29y
ZHMgdGhlIHRvdGFsDQp0aW1lIGluIGluZGV4aW5nIHdpbGwgdGFrZSB+IDM1IG1pbnMuIElzIHRo
YXQgbm9ybWFsPw0KDQpUaGFua3MNClJhaGlsDQoNCj4NCj4gRGFuDQo+DQo+DQoNCg0KDQpfX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXw0K
VHJ5IHRoZSBhbGwtbmV3IFlhaG9vISBNYWlsLiAiVGhlIE5ldyBWZXJzaW9uIGlzIHJhZGljYWxs
eSBlYXNpZXIgdG8gdXNlIiDigJMNClRoZSBXYWxsIFN0cmVldCBKb3VybmFsDQpodHRwOi8vdWsu
ZG9jcy55YWhvby5jb20vbm93eW91Y2FuLmh0bWwNCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpUbyB1bnN1YnNj
cmliZSwgZS1tYWlsOiBqYXZhLXVzZXItdW5zdWJzY3JpYmVAbHVjZW5lLmFwYWNoZS5vcmcNCkZv
ciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFj
aGUub3JnDQoNCg==




From java-user-return-20886-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 16:31:29 2006
Return-Path: <java-user-return-20886-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63702 invoked from network); 24 May 2006 16:31:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 16:31:28 -0000
Received: (qmail 66110 invoked by uid 500); 24 May 2006 16:31:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66084 invoked by uid 500); 24 May 2006 16:31:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66072 invoked by uid 99); 24 May 2006 16:31:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 09:31:22 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dayzman@gmail.com designates 66.249.82.206 as permitted sender)
Received: from [66.249.82.206] (HELO wx-out-0102.google.com) (66.249.82.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 09:31:21 -0700
Received: by wx-out-0102.google.com with SMTP id s7so623339wxc
        for <java-user@lucene.apache.org>; Wed, 24 May 2006 09:31:00 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=YvoUf5OYbYh2n5BYY8ULGvDdzJ0u7SHqZ02v5idGyrmrSm52u/oi4e3UB1XQ4RyJhpr0wMLfkz5pfyoARuJVV36Zm65kGQevtob0vdjut5t4dtCU7SnjN7/3x9zvxi7oXG5FsfEzzsbq8Xzv++u9jqshnaQ6Y3dqEQMgha0pyzg=
Received: by 10.70.48.18 with SMTP id v18mr7948412wxv;
        Wed, 24 May 2006 09:31:00 -0700 (PDT)
Received: by 10.70.73.8 with HTTP; Wed, 24 May 2006 09:31:00 -0700 (PDT)
Message-ID: <429c032d0605240931y26f962b5k22654dc4e85f4de4@mail.gmail.com>
Date: Thu, 25 May 2006 00:31:00 +0800
From: "Michael Chan" <dayzman@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Making SpanQuery more effiicent
In-Reply-To: <Pine.LNX.4.58.0605231126480.28612@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <429c032d0605222236j16b7a1f8ka02f00c027c26736@mail.gmail.com>
	 <D6C4D9DA-BCE0-4DF3-A2ED-8F1607AA4871@ehatchersolutions.com>
	 <429c032d0605230444u73608b9axb9437b699232ba73@mail.gmail.com>
	 <Pine.LNX.4.58.0605231126480.28612@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I see.

Also, as I'm only interested in the number of results returned and not
in the ranking of documents returned, is there any component I can
simplify in order to improve search performance? Perhaps, Scorer or
Similarity?

Thanks.

Michael

On 5/24/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
> : Unfortunately, I want to have subqueries inside my query (e.g. (t1 AND
> : t2) NEAR (t3 OR t4)), and PhraseQuery seems to allow only Terms inside
> : it.
>
> In that case, you aren't just using SpanQuery for the use of slop -- you
> are using the Span information, you just don't realize it (that's how all
> of the SpanQueries work -- the get the Slop information from the sub
> queries and propogate them up.  (which is also why you can't use just any
> only Query as a clause in a SpanNearQuery)
>
> : > > As I use SpanQuery purely for the use of slop, I was wondering how =
to
> : > > make SpanQuery more efficient,. Since I don't need any span
> : > > information, is there a way to disable the computation for span and
> : > > other unneeded overhead?
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20887-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 17:05:31 2006
Return-Path: <java-user-return-20887-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77110 invoked from network); 24 May 2006 17:05:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 17:05:31 -0000
Received: (qmail 27929 invoked by uid 500); 24 May 2006 17:05:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27908 invoked by uid 500); 24 May 2006 17:05:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27897 invoked by uid 99); 24 May 2006 17:05:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 10:05:24 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.11.62] (HELO smtp008.mail.ukl.yahoo.com) (217.12.11.62)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 24 May 2006 10:05:23 -0700
Received: (qmail 24371 invoked from network); 24 May 2006 16:45:17 -0000
Received: from unknown (HELO ?192.168.0.2?) (qamar?rahil@80.7.120.90 with plain)
  by smtp008.mail.ukl.yahoo.com with SMTP; 24 May 2006 16:45:16 -0000
Message-ID: <44748D9A.5020800@cs.man.ac.uk>
Date: Wed, 24 May 2006 17:45:14 +0100
From: Rahil <qamarr@cs.man.ac.uk>
Reply-To:  qamarr@cs.man.ac.uk
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.2) Gecko/20040804 Netscape/7.2 (ax)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: IOException Access Denied errors [ modified]
References: <OF967AEA7A.518BCDE3-ON80257178.00581B00-80257178.00584DDD@SAAConsultants.com>
In-Reply-To: <OF967AEA7A.518BCDE3-ON80257178.00581B00-80257178.00584DDD@SAAConsultants.com>
Content-Type: multipart/alternative;
 boundary="------------080407000805090102030001"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------080407000805090102030001
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit

Hi Paul

Paul.Illingworth@saaconsultants.com wrote:

>I can only think that the problem you're having is peculiar to your setup
>or the way in which you are using Lucene. A wild guess - are you reaching
>quota limits on your filesystem or something like this?
>  
>
No I have around 50GB free on my extrenal disk in which Im creating the 
indexes. So hopefully that shouldnt be the problem.

>
>
>Another wild guess - it seems to be throwing the exception when merging
>segments. Are you sure you've got write access to the directory that the
>lock file is being created in. Lucene In Action has some details about
>index locking and how you can change the location of the lock file - I'm
>not sure if this has been tweaked in 1.9 though.
>  
>
Its a very elementary question but where are the lock files created in? 
I had assumed the lock files to be a part of the index dicrectory. I 
havent manually assigned any locking directory so have no clue. Could 
you please shed some light ???

Thanks
Rahil

>Regards (again)
>Paul I.
>
>
>                                                                           
>             Paul.Illingworth@                                             
>             saaconsultants.co                                             
>             m                                                          To 
>                                       java-user@lucene.apache.org         
>             24/05/2006 16:54                                           cc 
>                                                                           
>                                                                   Subject 
>             Please respond to         Re:  IOException Access Denied      
>             java-user@lucene.         errors [ modified]                  
>                apache.org                                                 
>                                                                           
>                                                                           
>                                                                           
>                                                                           
>                                                                           
>
>
>
>
>
>
>
>
>
>I can only think that the problem you're having is peculiar to your setup
>or the way in which you are using Lucene. A wild guess - are you reaching
>quota limits on your filesystem or something like this?
>
>Regards
>Paul I..
>
>
>
>             Rahil
>             <qamarr@cs.man.ac
>             .uk>                                                       To
>                                       java-user@lucene.apache.org
>             24/05/2006 16:22                                           cc
>
>                                                                   Subject
>             Please respond to         Re:  IOException Access Denied
>             java-user@lucene.         errors [ modified]
>                apache.org
>
>
>
>
>
>
>
>
>
>Hi Dan
>
>Dan Armbrust wrote:
>
>  
>
>>The MySQL drivers are horrible at dealing with large result sets -
>>that article gives you the workaround to tell it to bring the results
>>back as they are needed (like it should in the first place) but I have
>>found that it isn't reliable - it tends to drop out at random points
>>during the query - so you will get a different number of rows each
>>time you rerun the query.  In MySQL - the only reliable way I have
>>found to get all of the results from a large table is to use their
>>"limit" keyword in the query, and only ask it for X (I usually use
>>10,000, but use whatever works best with your system) number of rows
>>as a time, and then keep rerunning the query, incrementing up the
>>start position of the "limit" keyword.  This issue also varies a lot
>>from version to version of the driver - some versions have been
>>completely broken, and others are only slightly broken.  To bad we
>>can't get lucene quality code everywhere :)
>>    
>>
>
>The incremental query seems to work better. Thanks.
>
>  
>
>>
>>    
>>
>>>>Exception in thread "main" java.io.IOException: Access is denied
>>>>        
>>>>
>>To me, that really seems like you have an issue with the location that
>>you are writing the index to.  I would make sure you have full write
>>permissions to the location, and make sure there aren't some old /
>>invalid files sitting in there.
>>    
>>
>
>Oh Im really quite tired of trying to resolve this "Access denied"
>issue. Ive deleted and recreated the index directory umpteen times!
>Finally I created a brand new directory in a brand new location and ran
>my index program. Lucene seemed to index the results from the first
>30000 queries (increments of 10000) successfully but then finally threw
>this age-old error yet again !! ..  Can you or anyone else make any
>sense of this? I surely cant !
>
>Also the indexing seems to be noticeably slow. For indexing every 10000
>result sets by allocating 1.4gb of memory at run time, it takes
>approximately 20 seconds. With a database of a million records the total
>time in indexing will take ~ 35 mins. Is that normal?
>
>Thanks
>Rahil
>
>  
>
>>Dan
>>
>>
>>    
>>
>
>
>
>___________________________________________________________
>Try the all-new Yahoo! Mail. "The New Version is radically easier to use" 
>The Wall Street Journal
>http://uk.docs.yahoo.com/nowyoucan.html
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>  
>
>------------------------------------------------------------------------
>
>No virus found in this incoming message.
>Checked by AVG Free Edition.
>Version: 7.1.394 / Virus Database: 268.7.0/346 - Release Date: 23/05/2006
>  
>

-- 
Rahil Qamar

Ph.D. Student
Room 2.89 Kilburn Building
University of Manchester
Work number: +44 (0) 161 275 5719
Email: qamarr@cs.man.ac.uk
Website: http://www.rahilqamar.com/


--------------080407000805090102030001--

	
	
		
___________________________________________________________ 
All new Yahoo! Mail "The new Interface is stunning in its simplicity and ease of use." - PC Magazine 
http://uk.docs.yahoo.com/nowyoucan.html

From java-user-return-20888-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 17:10:41 2006
Return-Path: <java-user-return-20888-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78718 invoked from network); 24 May 2006 17:10:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 17:10:40 -0000
Received: (qmail 38169 invoked by uid 500); 24 May 2006 17:10:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38146 invoked by uid 500); 24 May 2006 17:10:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38135 invoked by uid 99); 24 May 2006 17:10:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 10:10:33 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.212.68.130] (HELO uksmtp03.informa.com) (213.212.68.130)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 10:10:32 -0700
Received: from ukexfe01.UK.CorpLAN.net (ukexfe01.uk.corplan.net [192.168.45.51])
	by uksmtp03.informa.com (8.13.6/8.13.6) with ESMTP id k4OH6gk7000560
	for <java-user@lucene.apache.org>; Wed, 24 May 2006 18:06:42 +0100
Received: from UKEXBE01.UK.CorpLAN.net ([10.10.4.122]) by ukexfe01.UK.CorpLAN.net with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 24 May 2006 18:10:10 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Handling hyphens and other puncuation in proper nouns
Date: Wed, 24 May 2006 18:10:09 +0100
Message-ID: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F48C@UKEXBE01.UK.CorpLAN.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Handling hyphens and other puncuation in proper nouns
Thread-Index: AcZ/VOpzATLt2zKlRqyY1Ylze0jKUA==
From: <Tim.Wright@informa.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 24 May 2006 17:10:10.0534 (UTC) FILETIME=[E9EE8060:01C67F54]
X-Proofpoint-Spam-Details: rule=notspam policy=default score=0 mlx=0 adultscore=0 adjust=0 reason=mlx engine=3.1.0-06051700 definitions=3.0.0-06052406
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,

We're having issues searching for proper nouns (names) which have
punctuation in; things like "a-blah" or "blah'x". I suspect the
StandardAnalyzer is replacing the punctuation with spaces, and we get
back results that just contain "blah".=20

Any suggestions? I'm guessing we could write our own Analyzer, but I
suspect this has come up before and wondered if there was an easier way
to solve the problem!

Many thanks,=20

Tim.
---------------------------------------------------------------------------=
-----------------------------------------------------------------
The information contained in this email message may be confidential. If you=
 are not the intended recipient, any use, interference with, disclosure or =
copying of this material is unauthorised and prohibited. Although this mess=
age and any attachments are believed to be free of viruses, no responsibili=
ty is accepted by Informa for any loss or damage arising in any way from re=
ceipt or use thereof.  Messages to and from the company are monitored for o=
perational reasons and in accordance with lawful business practices.=20
If you have received this message in error, please notify us by return and =
delete the message and any attachments.  Further enquiries/returns can be s=
ent to postmaster@informa.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20889-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 17:25:02 2006
Return-Path: <java-user-return-20889-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83329 invoked from network); 24 May 2006 17:25:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 17:25:01 -0000
Received: (qmail 58955 invoked by uid 500); 24 May 2006 17:24:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58010 invoked by uid 500); 24 May 2006 17:24:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57999 invoked by uid 99); 24 May 2006 17:24:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 10:24:56 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of danutchi@gmail.com designates 66.249.82.203 as permitted sender)
Received: from [66.249.82.203] (HELO wx-out-0102.google.com) (66.249.82.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 10:24:55 -0700
Received: by wx-out-0102.google.com with SMTP id h28so830173wxd
        for <java-user@lucene.apache.org>; Wed, 24 May 2006 10:24:34 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=uLs8dS404FQtXNA7rseWJ9Xcz0HZxcFp5E7mEJfBQ0nHhxu3fd9BNHX0EIkvedUUkti7yO7VUvcqr0/8dGomsqdJsKX3reS+2hsOvLLzBJutOAaWvk95kV9JwR42cdyehRXl60iwYZ0wPRHo7cRFCqa//QSdt8gvhpqjNJPMrg0=
Received: by 10.70.111.12 with SMTP id j12mr8002230wxc;
        Wed, 24 May 2006 10:24:34 -0700 (PDT)
Received: by 10.70.33.17 with HTTP; Wed, 24 May 2006 10:24:34 -0700 (PDT)
Message-ID: <d7a865a50605241024n187a4f3bpc2153d10db1f501f@mail.gmail.com>
Date: Wed, 24 May 2006 19:24:34 +0200
From: "Dan Wiggin" <danutchi@gmail.com>
To: java-user@lucene.apache.org
Subject: Question about special characters
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_126412_5852989.1148491474680"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_126412_5852989.1148491474680
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I need some functionality and I don't know how to do.
The problem is special characters like =E0, =E4 , =E7 or =F1 latin characte=
rs in the
text.
Now I use iso latin filter, but the problem is when I want to obtain most
term used. These term are stored without ` =B4 ^ or another "character
attribute".
For example "pl=E0nt=EFu=E7" (it isn't a real word) is stored like the term
"plantiuc".
How can I do to have in term vector the word "pl=E0nt=EFu=E7".

thks for all replies.
PD: excuse if this question is solved somewhere, but I don't saw it.

------=_Part_126412_5852989.1148491474680--

From java-user-return-20890-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 17:52:59 2006
Return-Path: <java-user-return-20890-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92857 invoked from network); 24 May 2006 17:52:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 17:52:59 -0000
Received: (qmail 11990 invoked by uid 500); 24 May 2006 17:52:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11714 invoked by uid 500); 24 May 2006 17:52:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11693 invoked by uid 99); 24 May 2006 17:52:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 10:52:52 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of daniel.armbrust.list@gmail.com designates 64.233.166.178 as permitted sender)
Received: from [64.233.166.178] (HELO py-out-1112.google.com) (64.233.166.178)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 10:52:46 -0700
Received: by py-out-1112.google.com with SMTP id c39so2111316pyd
        for <java-user@lucene.apache.org>; Wed, 24 May 2006 10:52:26 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=jdSRgKHGgm8ejCd80j59D7vX1ARWCsLAwCpEQ/PzcS0Q4OQ+MMAqukOs86T+ohHzrVDkwNhMHF3KFu3qZ+XWhzB1Cy6o1wjVCRYmyix09aXJ3eLwWTO+M5kFB2aPAC4qCgBZGP8laD/HMcECR/esfyKhe1E3Sm9HaFiumvQtaWo=
Received: by 10.35.22.17 with SMTP id z17mr1266643pyi;
        Wed, 24 May 2006 10:52:25 -0700 (PDT)
Received: from ?172.24.51.72? ( [129.176.197.15])
        by mx.gmail.com with ESMTP id i64sm385522pye.2006.05.24.10.52.25;
        Wed, 24 May 2006 10:52:25 -0700 (PDT)
Message-ID: <44749D58.1080108@gmail.com>
Date: Wed, 24 May 2006 12:52:24 -0500
From: Dan Armbrust <daniel.armbrust.list@gmail.com>
User-Agent: Thunderbird 1.5.0.2 (Windows/20060308)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: IOException Access Denied errors [ modified]
References: <OF967AEA7A.518BCDE3-ON80257178.00581B00-80257178.00584DDD@SAAConsultants.com> <44748D9A.5020800@cs.man.ac.uk>
In-Reply-To: <44748D9A.5020800@cs.man.ac.uk>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Rahil wrote:
> No I have around 50GB free on my extrenal disk in which Im creating the 
> indexes. So hopefully that shouldnt be the problem.

How is the external disk mounted?  Samba from unix?  NTFS?  I wonder if 
there isn't something strange going on here.

Have you tried building the index on a local file system?

> Its a very elementary question but where are the lock files created in? 
> I had assumed the lock files to be a part of the index dicrectory. I 
> havent manually assigned any locking directory so have no clue. Could 
> you please shed some light ???

System temp folder, I believe.
Where that is depends on what OS you are using.


-- 
****************************
Daniel Armbrust
Biomedical Informatics
Mayo Clinic Rochester
daniel.armbrust(at)mayo.edu
http://informatics.mayo.edu/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20891-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 24 18:11:27 2006
Return-Path: <java-user-return-20891-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2770 invoked from network); 24 May 2006 18:11:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 May 2006 18:11:27 -0000
Received: (qmail 54871 invoked by uid 500); 24 May 2006 18:11:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54839 invoked by uid 500); 24 May 2006 18:11:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54828 invoked by uid 99); 24 May 2006 18:11:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 11:11:20 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 11:11:19 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id B44A25B772; Wed, 24 May 2006 11:10:52 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id AA4B07F403;
	Wed, 24 May 2006 11:10:52 -0700 (PDT)
Date: Wed, 24 May 2006 11:10:52 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org,
	Marc Dauncey <marc_dauncey@yahoo.com>
Subject: Re: Web services for querying and return of results
In-Reply-To: <20060524084044.1399.qmail@web36611.mail.mud.yahoo.com>
Message-ID: <Pine.LNX.4.58.0605241104510.8452@hal.rescomp.berkeley.edu>
References: <20060524084044.1399.qmail@web36611.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Solr sounds very interesting though - how do you maintain the cache?
: Are you storing filters?  And how do you persist these, via the session
: or using some kind of register?  I was considering designing something
: like this but felt that state management was something I wanted to avoid
: doing if possible, because it limits how many users we can service, if a
: lot of data is being kept round for caching.  Would be very interested
: in how you managed to do this, and still make Solr scalable.

this question would probably make more sense on the solr-user mailing
list, but the short answer is: No session state, just Caches of
Query=>DocSet when scoring isn't used, and Query => DocList (when scoring
is used).  The caches are maintained on a per searcher basis, and a single
searcher is used to serve all requests untill a "commit" is made, a new
searcher is opened and it's caches are "warmed" using the keys of the old
searchers cache before any user queries are sent to it.

(A DocSet is like a BitSet, but there is support for alternate compact
representations when the number of docs is small, a DocList is a "window"
into ordered results -- think a single page of paginated results)



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20892-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 25 00:18:39 2006
Return-Path: <java-user-return-20892-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72895 invoked from network); 25 May 2006 00:18:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2006 00:18:39 -0000
Received: (qmail 55523 invoked by uid 500); 25 May 2006 00:18:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54731 invoked by uid 500); 25 May 2006 00:18:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54717 invoked by uid 99); 25 May 2006 00:18:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 17:18:32 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.183 as permitted sender)
Received: from [64.233.166.183] (HELO py-out-1112.google.com) (64.233.166.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 17:18:32 -0700
Received: by py-out-1112.google.com with SMTP id i49so547951pyi
        for <java-user@lucene.apache.org>; Wed, 24 May 2006 17:18:09 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=JTtKsbCoyBlLyP9zEcUbPwHOufs1qjsL9kpdPHxBiemhA63jIkAOkq9EdZA/xiquJLffBIL9NPnfvVOG2HzMSjhsRRIgHZHSKimmeizLmRTQRjBxfMuYUrx1kctKF5o5OzdMoEjqnYVUFK96PfjyDoptSYgWLd8pDwDlsEXk7YU=
Received: by 10.35.112.3 with SMTP id p3mr3263284pym;
        Wed, 24 May 2006 17:18:08 -0700 (PDT)
Received: by 10.35.17.5 with HTTP; Wed, 24 May 2006 17:18:08 -0700 (PDT)
Message-ID: <359a92830605241718s18366b57g7bbc7c6c0eb1613d@mail.gmail.com>
Date: Wed, 24 May 2006 20:18:08 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Handling hyphens and other puncuation in proper nouns
In-Reply-To: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F48C@UKEXBE01.UK.CorpLAN.net>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_30188_22255412.1148516288942"
References: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F48C@UKEXBE01.UK.CorpLAN.net>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_30188_22255412.1148516288942
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

There are several analyzers provided with Lucene that you could check out.
SimpleAnalyzer, WhitespaceAnalyzer and KeywordAnalyzer all come to mind.
Certainly WhitespaceAnalyzer won't break at the hyphen etc.

NOTE: be sure you pay attention to what analyzer is used if you are using
QueryParser, since the terms in the query are analyzed too.

 I've had fun with PerFieldAnalyzerWrapper to handle different analyzers fo=
r
different fields if that's something you want to do.

See Analyzer in the JavaDoc, it lists "all known subclasses" which will lea=
d
you to the ones mentioned above plus quite a few others. PatternAnalyzer
works with regular expressions. How cool is that?

You *may* want to get into your own analyzer and/or pre-processing the
tokens before indexing and/or before querying. For instance, should O'Brian
match OBrian? (notice the apostrophe, it may not be obvious depending on
your font).

Best
Erick

------=_Part_30188_22255412.1148516288942--

From java-user-return-20893-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 25 00:29:31 2006
Return-Path: <java-user-return-20893-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77983 invoked from network); 25 May 2006 00:29:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2006 00:29:31 -0000
Received: (qmail 66027 invoked by uid 500); 25 May 2006 00:29:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65995 invoked by uid 500); 25 May 2006 00:29:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65984 invoked by uid 99); 25 May 2006 00:29:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 17:29:25 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.181 as permitted sender)
Received: from [64.233.166.181] (HELO py-out-1112.google.com) (64.233.166.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 17:29:25 -0700
Received: by py-out-1112.google.com with SMTP id i49so551432pyi
        for <java-user@lucene.apache.org>; Wed, 24 May 2006 17:29:04 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=rUMrgctrVrX2ZQGMIhKTrT1ghGyUBy41fxL/DmytCCWY8YKGXbgmmeykT81u3vAFhA5Ili1HPen26596uN0PpTyZb2NNFUlxHTeG7TchqCqnSZwfRm6tU2SbiJr8jWu7u3Yx4jRvDYJfy5X8BMXjXTe2s9+vbMm6Y8Tv0HN1CHA=
Received: by 10.35.123.2 with SMTP id a2mr3249186pyn;
        Wed, 24 May 2006 17:29:04 -0700 (PDT)
Received: by 10.35.17.5 with HTTP; Wed, 24 May 2006 17:29:04 -0700 (PDT)
Message-ID: <359a92830605241729v26418505qf1b6cb968a697f78@mail.gmail.com>
Date: Wed, 24 May 2006 20:29:04 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: IOException Access Denied errors [ modified]
In-Reply-To: <44749D58.1080108@gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_30320_25619700.1148516944054"
References: <OF967AEA7A.518BCDE3-ON80257178.00581B00-80257178.00584DDD@SAAConsultants.com>
	 <44748D9A.5020800@cs.man.ac.uk> <44749D58.1080108@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_30320_25619700.1148516944054
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I wonder if it would shed any light on the issue if you separated the two?
In other words, what would happen if you mocked up your MySQL connection an=
d
just generated "responses" for Lucene to index without having the database
drivers even loaded?

Also, you could write the data from MySQL out to a flat file, say in some
fixed format. If that worked, then index from the flat file instead of the
database and see if the issue went away (I guess I'm thinking two separate
programs here, up to you).

At least that *might* give you a clue where the issue was. Note: I'm *not*
suggesting that this is what you do in production, but since we're all
stumped on what's going on, maybe this would help pinpoint where the proble=
m
is.

Of course, in the unfortunate case that all the above worked, you're reduce=
d
to "something is wonky when the two try to play together", which isn't very
helpful :(. But at least you'd be more confident that it wasn't something
head-slapping obvious.

FWIW
Erick

------=_Part_30320_25619700.1148516944054--

From java-user-return-20894-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 25 03:04:11 2006
Return-Path: <java-user-return-20894-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14464 invoked from network); 25 May 2006 03:04:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2006 03:04:10 -0000
Received: (qmail 80481 invoked by uid 500); 25 May 2006 03:04:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80448 invoked by uid 500); 25 May 2006 03:04:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80436 invoked by uid 99); 25 May 2006 03:04:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 20:04:04 -0700
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=DRUGS_ERECTILE,DRUGS_ERECTILE_OBFU,FUZZY_VPILL,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of zhenjian@gmail.com designates 64.233.162.198 as permitted sender)
Received: from [64.233.162.198] (HELO nz-out-0102.google.com) (64.233.162.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 20:04:03 -0700
Received: by nz-out-0102.google.com with SMTP id o37so1730978nzf
        for <java-user@lucene.apache.org>; Wed, 24 May 2006 20:03:42 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=dP458nQR8bcX5+Z6BYU92PJOQ/Uth8aydUevw9Lvm5x0YkxeSb3kcrfXXB146Nl211inSMZxP0sdaUyWthW2XvNuBuwpehjougMw0KCZt0s0V4GFwj0mgW5MMN+sFU1XerNzQWLRm3pm0OZdWd5sIMbCWipdvmo+FLiNXid44TI=
Received: by 10.65.20.1 with SMTP id x1mr2555177qbi;
        Wed, 24 May 2006 20:03:42 -0700 (PDT)
Received: by 10.65.197.1 with HTTP; Wed, 24 May 2006 20:03:42 -0700 (PDT)
Message-ID: <4ba70b40605242003l47815285meefe9e0dc8e14d4f@mail.gmail.com>
Date: Thu, 25 May 2006 11:03:42 +0800
From: "Zhenjian YU" <zhenjian@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Can I do "Google Suggest" Like Search? - - - from - - -vikas
In-Reply-To: <20060524110821.25370.qmail@web26007.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_51127_1060710.1148526222163"
References: <2B63BBC3F2F85B45A985FAD965DE969ECA1C80@ITPXCHCLN1.enterprise.veritas.com>
	 <20060524110821.25370.qmail@web26007.mail.ukl.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_51127_1060710.1148526222163
Content-Type: text/plain; charset=WINDOWS-1252; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

yes, PrefixQuery will help.

On 5/24/06, mark harwood <markharw00d@yahoo.co.uk> wrote:
>
> >>What will happen if I send PrefixQuery
>
> A search returns a list of docs - you want a list of
> words which is why I suggested using the IndexReader
> "terms" APIs which PrefixQuery uses internally.
>
> If you are not in a position to try the more complex
> solution I outlined earlier (this bases suggestions on
> multiple terms in the query string) then you *could*
> use PrefixQuery as follows:
>
>         IndexReader
> reader=3DIndexReader.open("/indexes/nasa");
>         String incompleteWord=3D"Am";
>         PrefixQuery pq=3Dnew PrefixQuery(new
> Term("contents",incompleteWord.toLowerCase()));
>         HashSet suggestedTerms=3Dnew HashSet();
>
> pq.rewrite(reader).extractTerms(suggestedTerms);
>         for (Iterator iter =3D
> suggestedTerms.iterator(); iter.hasNext();)
>         {
>             Term term =3D (Term) iter.next();
>             System.out.println(term.text());
>
>         }
>
> Using this technique on a completely free-text field
> (i.e. something other than the "country" field in your
> example) will probably make poorly informed
> suggestions and I would refer to my previous post for
> a better solution.
>
>
> Cheers
> Mark
>
>
>
>
>
> --- Vikas Khengare <Vikas_Khengare@symantec.com>
> wrote:
>
> >
> >
> > Hi Mark
> >
> >
> >
> >       You are right; I want suggestions from doc
> > content only not
> > general words. What will happen if I send
> > PrefixQuery in each char input
> > from user then I will get results [No problem about
> > number of hits to
> > show user] using AJAX. So when user type "a" Onkeyup
> > I will send query
> > through AJAX to search engine with prefixquery then
> > I will get results.
> >
> > e.g. Field("Country","America")
> >
> >       Field("Country","Africa")
> >
> >       Field("Country","Aegentina")
> >
> >
> >
> > So If search in "Country" for "a*" it will return me
> > all values which
> > are starting from "a" So I will get results as I
> > want.
> >
> >
> >
> > Is this one right?
> >
> >
> >
> > Or What is other way to do so?
> >
> >
> >
> >
> >
> >
> >
> >
> >
> > -----Original Message-----
> > From: mark harwood [mailto:markharw00d@yahoo.co.uk]
> > Sent: Wednesday, May 24, 2006 3:37 PM
> > To: java-user@lucene.apache.org
> > Subject: Re: Can I do "Google Suggest" Like Search?
> > - - - from - -
> > -vikas
> >
> >
> >
> > Tips:
> >
> >
> >
> > 1) Don't send to 3 mail lists when 1 will do please
> >
> > continue this conversation on java-user only.
> >
> >
> >
> > 2) Most "suggest" tools work off an index of
> > previous
> >
> > searches (not documents). Do you have a large set of
> >
> > searches? If not, making sensible suggestions based
> > on
> >
> > document content can be much more compute intensive.
> >
> > My assumption here is you are having to work with
> > doc
> >
> > content.
> >
> >
> >
> > 3) You don't need to go to the expense of running a
> >
> > query and ranking and scoring documents - look at
> > the
> >
> > lower level APIs terms() and termDocs() - use them
> > to
> >
> > find the matching terms
> >
> >
> >
> > 4) word suggestions ideally shouldn't be independent
> >
> > of each other - look at completed words in the query
> >
> > string and use them to inform the selection of
> >
> > suggestions for the incomplete term being typed. The
> >
> > termDocs()/termPositions() apis give you all the
> > data
> >
> > you need to establish what docs/positions exist for
> >
> > completed terms and these can be cross-referenced
> > with
> >
> > the list of docs/positions for the "alternative"
> > terms
> >
> > under consideration. A high proximity between
> >
> > completed term occurences and a suggested term's
> >
> > occurences makes a strong candidate. A fast way to
> > do
> >
> > proximity tests might be to compared sorted arrays
> > of
> >
> > numbers where each number represents a term using a
> >
> > function like:
> >
> >   termspaceNumber=3D[DocNumber * maxNumTermsPerDoc]+
> >
> > termPositionInDoc
> >
> >
> >
> > You could then compare long[]completedTermOccurences
> >
> > with long[]suggestedAlternativeTermOccurences
> > looking
> >
> > for matches where numbers differ by 1 or 2.
> >
> >
> >
> > A faster (rougher) comparison solution which ignored
> >
> > word proximity would be just to compare bitsets of
> > doc
> >
> > ids looking for high levels of
> >
> > overlap(intersection/union).
> >
> >
> >
> > You can use TermEnum.docFreq() to quickly rule out
> >
> > very rare words from your calculations.
> >
> >
> >
> > Cheers,
> >
> > Mark
> >
> >
> >
> > Send instant messages to your online friends
> > http://uk.messenger.yahoo.com
> >
> >
> >
> >
> ---------------------------------------------------------------------
> >
> > To unsubscribe, e-mail:
> > java-user-unsubscribe@lucene.apache.org
> >
> > For additional commands, e-mail:
> > java-user-help@lucene.apache.org
> >
> >
> >
> >
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> > =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
> >
> >
> >
> > with best regards
> >
> > from .........
> >
> > vikas r. khengare
> >
> > Veritas Software India Private Ltd.
> >
> > Symantec Corporation
> >
> > Pune, India
> >
> >
> >
> >                         [ Enjoy your life today....
> > because
> =3D=3D=3D message truncated =3D=3D=3D
>
>
>
>
> ___________________________________________________________
> All New Yahoo! Mail =96 Tired of Vi@gr@! come-ons? Let our SpamGuard prot=
ect
> you. http://uk.docs.yahoo.com/nowyoucan.html
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_51127_1060710.1148526222163--

From java-user-return-20895-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 25 03:50:15 2006
Return-Path: <java-user-return-20895-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24272 invoked from network); 25 May 2006 03:50:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2006 03:50:15 -0000
Received: (qmail 25075 invoked by uid 500); 25 May 2006 03:50:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25048 invoked by uid 500); 25 May 2006 03:50:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25027 invoked by uid 99); 25 May 2006 03:50:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 20:50:04 -0700
X-ASF-Spam-Status: No, hits=3.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,SPF_HELO_PASS,SPF_PASS,URIBL_SBL
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of youbo2004@hotmail.com designates 65.54.168.35 as permitted sender)
Received: from [65.54.168.35] (HELO hotmail.com) (65.54.168.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 May 2006 20:50:04 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 24 May 2006 20:49:43 -0700
Message-ID: <BAY113-F25B9A9027E2342B175CEB3A7990@phx.gbl>
Received: from 65.54.168.200 by by113fd.bay113.hotmail.msn.com with HTTP;
	Thu, 25 May 2006 03:49:39 GMT
X-Originating-IP: [219.223.194.194]
X-Originating-Email: [youbo2004@hotmail.com]
X-Sender: youbo2004@hotmail.com
From: "youbo youbo" <youbo2004@hotmail.com>
To: java-dev@lucene.apache.org, java-user@lucene.apache.org
Subject: after search,how can i kown whether each of the filed of the hit docs is hited?
Date: Thu, 25 May 2006 03:49:39 +0000
Mime-Version: 1.0
Content-Type: text/plain; charset=gb2312; format=flowed
X-OriginalArrivalTime: 25 May 2006 03:49:43.0406 (UTC) FILETIME=[41F218E0:01C67FAE]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I want to highlight the hited field, so I must kown which field is 
hited,and load text of this field from database,and highlight it.To make 
index file smaller,the text of the field not store in index.

_________________________________________________________________
 MSN Messenger:  http://messenger.msn.com/cn  


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20896-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 25 09:51:57 2006
Return-Path: <java-user-return-20896-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5091 invoked from network); 25 May 2006 09:51:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2006 09:51:56 -0000
Received: (qmail 40054 invoked by uid 500); 25 May 2006 09:51:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39829 invoked by uid 500); 25 May 2006 09:51:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39818 invoked by uid 99); 25 May 2006 09:51:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 02:51:50 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.175] (HELO hnexfe09.hetnet.nl) (195.121.6.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 02:51:49 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe09.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Thu, 25 May 2006 11:51:27 +0200
Subject: sitegeist
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
Content-Type: text/plain
Organization: snigel heavy industries
Date: Thu, 25 May 2006 11:51:22 +0200
Message-Id: <1148550683.4682.65.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 25 May 2006 09:51:27.0576 (UTC) FILETIME=[CAA39D80:01C67FE0]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Did anyone write some neat tool for statistical analysis of hits over
time? I need one. And it must be fast. Was thinking something like this:

List<TimeFrame> timeFrames;

class TimeFrame {
  Date from;
  Date to;

  void add(Hits hits) {
    int score = 10;
    for (int d = 0; score<0 && d<hits.length(); d++) {          
      increaseScore(it.next(), score);
      score--;
    } 

    // I would then apply similar scoring on most top classifications
    // (categories or what not) in the hits.
  }  
}


But I only work the hits. Perhaps I should work the queries too?

Any great ideas?





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20897-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 25 13:32:42 2006
Return-Path: <java-user-return-20897-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75284 invoked from network); 25 May 2006 13:32:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2006 13:32:41 -0000
Received: (qmail 20911 invoked by uid 500); 25 May 2006 13:32:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20681 invoked by uid 500); 25 May 2006 13:32:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20663 invoked by uid 99); 25 May 2006 13:32:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 06:32:34 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dayzman@gmail.com designates 66.249.82.198 as permitted sender)
Received: from [66.249.82.198] (HELO wx-out-0102.google.com) (66.249.82.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 06:32:33 -0700
Received: by wx-out-0102.google.com with SMTP id h28so887362wxd
        for <java-user@lucene.apache.org>; Thu, 25 May 2006 06:32:10 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=PdbFsgq32e3uNxozGtQXenjhZFJ7z8DQK6+GsDhCMmKC3pTjvlsfiDLtUne2MWKYQNZYFw7IxYinZAunnp4RwR+SuWN08mzxCYxOAxHWUq6YvOjoNHEQT/WCZWvu5q0TheTFv8MZU8QZvJzwdelAscjnLDLQLHZdPKA42nJBx/Q=
Received: by 10.70.40.10 with SMTP id n10mr196328wxn;
        Thu, 25 May 2006 06:32:07 -0700 (PDT)
Received: by 10.70.76.20 with HTTP; Thu, 25 May 2006 06:32:07 -0700 (PDT)
Message-ID: <429c032d0605250632q5407025dkeabc5d0240ece7d0@mail.gmail.com>
Date: Thu, 25 May 2006 21:32:07 +0800
From: "Michael Chan" <dayzman@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Making SpanQuery more effiicent
In-Reply-To: <429c032d0605240931y26f962b5k22654dc4e85f4de4@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <429c032d0605222236j16b7a1f8ka02f00c027c26736@mail.gmail.com>
	 <D6C4D9DA-BCE0-4DF3-A2ED-8F1607AA4871@ehatchersolutions.com>
	 <429c032d0605230444u73608b9axb9437b699232ba73@mail.gmail.com>
	 <Pine.LNX.4.58.0605231126480.28612@hal.rescomp.berkeley.edu>
	 <429c032d0605240931y26f962b5k22654dc4e85f4de4@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

After some more research, it seems that one of the bottlenecks is
Spans.next(), can I drop anything out in order to improve performance?
Most of the queries are SpanNearQuery with SpanOrQuery as its clauses.

Any help would be much appreciated.

Regards,

Michael

On 5/25/06, Michael Chan <dayzman@gmail.com> wrote:
> I see.
>
> Also, as I'm only interested in the number of results returned and not
> in the ranking of documents returned, is there any component I can
> simplify in order to improve search performance? Perhaps, Scorer or
> Similarity?
>
> Thanks.
>
> Michael
>
> On 5/24/06, Chris Hostetter <hossman_lucene@fucit.org> wrote:
> >
> > : Unfortunately, I want to have subqueries inside my query (e.g. (t1 AN=
D
> > : t2) NEAR (t3 OR t4)), and PhraseQuery seems to allow only Terms insid=
e
> > : it.
> >
> > In that case, you aren't just using SpanQuery for the use of slop -- yo=
u
> > are using the Span information, you just don't realize it (that's how a=
ll
> > of the SpanQueries work -- the get the Slop information from the sub
> > queries and propogate them up.  (which is also why you can't use just a=
ny
> > only Query as a clause in a SpanNearQuery)
> >
> > : > > As I use SpanQuery purely for the use of slop, I was wondering ho=
w to
> > : > > make SpanQuery more efficient,. Since I don't need any span
> > : > > information, is there a way to disable the computation for span a=
nd
> > : > > other unneeded overhead?
> >
> >
> >
> > -Hoss
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20898-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 25 14:19:04 2006
Return-Path: <java-user-return-20898-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89138 invoked from network); 25 May 2006 14:19:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2006 14:19:04 -0000
Received: (qmail 18662 invoked by uid 500); 25 May 2006 14:18:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18627 invoked by uid 500); 25 May 2006 14:18:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18616 invoked by uid 99); 25 May 2006 14:18:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 07:18:57 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [62.73.153.71] (HELO uksmtp02.informa.com) (62.73.153.71)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 07:18:56 -0700
Received: from ukexfe02.UK.CorpLAN.net (ukexfe02.uk.corplan.net [192.168.45.52])
	by uksmtp02.informa.com (8.13.6/8.13.6) with ESMTP id k4PEFGbb005131
	for <java-user@lucene.apache.org>; Thu, 25 May 2006 15:15:16 +0100
Received: from UKEXBE01.UK.CorpLAN.net ([10.10.4.122]) by ukexfe02.UK.CorpLAN.net with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 25 May 2006 15:18:34 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Search oddities
Date: Thu, 25 May 2006 15:18:32 +0100
Message-ID: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F497@UKEXBE01.UK.CorpLAN.net>
In-Reply-To: <359a92830605241718s18366b57g7bbc7c6c0eb1613d@mail.gmail.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Search oddities
Thread-Index: AcZ/kMc6s7xfgsgMTeSxhkcDbOg9zAAdJ4kQ
From: <Tim.Wright@informa.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 25 May 2006 14:18:34.0221 (UTC) FILETIME=[1B4391D0:01C68006]
X-Proofpoint-Spam-Details: rule=notspam policy=default score=0 mlx=0 adultscore=0 adjust=0 reason=mlx engine=3.1.0-06051700 definitions=3.0.0-06052500
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

It appears that I was confused about the way analyzers are working. I
assumed that a typical analyzer would just remove hyphens and treat the
phrase as a space. We're just using StandardAnalyzer.=20

When we search (using QueryParser) for the phrase "t-mobile" (including
quotes) we're getting results back which only have the phrase "mobile"
in them. I would assume the analyzer would convert this to the "t
mobile" (again, in quotes) and would only return documents containing
that phrase.=20

Oddly, however, if we search for "pay-tv", we only get back documents
that actually have the phrase "pay tv" or "pay-tv" - nothing which just
has "pay" or "tv".=20

I'm not quite sure why "t-mobile" is behaving differently to "pay-tv".
If anyone could point me in the right direction I'd be very grateful!

Many thanks,=20

Tim.
---------------------------------------------------------------------------=
-----------------------------------------------------------------
The information contained in this email message may be confidential. If you=
 are not the intended recipient, any use, interference with, disclosure or =
copying of this material is unauthorised and prohibited. Although this mess=
age and any attachments are believed to be free of viruses, no responsibili=
ty is accepted by Informa for any loss or damage arising in any way from re=
ceipt or use thereof.  Messages to and from the company are monitored for o=
perational reasons and in accordance with lawful business practices.=20
If you have received this message in error, please notify us by return and =
delete the message and any attachments.  Further enquiries/returns can be s=
ent to postmaster@informa.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20899-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 25 14:36:24 2006
Return-Path: <java-user-return-20899-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95228 invoked from network); 25 May 2006 14:36:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2006 14:36:24 -0000
Received: (qmail 80179 invoked by uid 500); 25 May 2006 14:36:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80122 invoked by uid 500); 25 May 2006 14:36:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80108 invoked by uid 99); 25 May 2006 14:36:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 07:36:14 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [63.100.163.104] (HELO hermes.corp.cyveillance.com) (63.100.163.104)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 07:36:13 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: best way to get specific results
Date: Thu, 25 May 2006 10:35:52 -0400
Message-ID: <63434C14F9A6F74CB36B85033E4C30CA0255FA8C@hermes.corp.cyveillance.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Search oddities
Thread-Index: AcZ/kMc6s7xfgsgMTeSxhkcDbOg9zAAdJ4kQAAB2BVA=
From: "Omar Didi" <odidi@Cyveillance.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,

I need to be able to get specific documents out of the returned =
documents without the need to retrieve all the other documents.
just to describe my case, the user is allowed to specify in the =
queryString the page number and number of results to return. for example =
if a query returns 1000 results, the user is interested only in the =
results between 500&550. the way I implemented it is run a normal query =
using IndexSercher.search(Query()) and then get the specified documents =
out of the hits object.
I am wondering if there is a more efficient way than this, is using =
TopDocs better than the hits object, knowing that some users may need =
more than a 1000 docs back in one query?.

thank you for your help,

Omar.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20900-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 25 15:00:53 2006
Return-Path: <java-user-return-20900-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5929 invoked from network); 25 May 2006 15:00:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2006 15:00:52 -0000
Received: (qmail 44928 invoked by uid 500); 25 May 2006 15:00:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44892 invoked by uid 500); 25 May 2006 15:00:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44881 invoked by uid 99); 25 May 2006 15:00:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 08:00:46 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.14 as permitted sender)
Received: from [80.67.18.14] (HELO smtprelay02.ispgateway.de) (80.67.18.14)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 08:00:44 -0700
Received: (qmail 27435 invoked from network); 25 May 2006 15:00:21 -0000
Received: from unknown (HELO p5496dcda.dip.t-dialin.net) ([pbs]695637@[84.150.220.218])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 25 May 2006 15:00:21 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Search oddities
Date: Thu, 25 May 2006 17:01:42 +0200
User-Agent: KMail/1.8.2
References: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F497@UKEXBE01.UK.CorpLAN.net>
In-Reply-To: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F497@UKEXBE01.UK.CorpLAN.net>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605251701.42402@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Donnerstag 25 Mai 2006 16:18, Tim.Wright@informa.com wrote:

> When we search (using QueryParser) for the phrase "t-mobile" (including
> quotes)

t-mobile becomes "t mobile", but "t" is a stopword by default. Why? Maybe 
the person who added it has a dislike for German Telekom :-) But 
seriously, you should probably file a bug report. Workaround for now is to 
use your own stopwords.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20901-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 25 15:48:53 2006
Return-Path: <java-user-return-20901-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25925 invoked from network); 25 May 2006 15:48:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2006 15:48:52 -0000
Received: (qmail 59052 invoked by uid 500); 25 May 2006 15:48:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58891 invoked by uid 500); 25 May 2006 15:48:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58880 invoked by uid 99); 25 May 2006 15:48:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 08:48:45 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 08:48:45 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id A55DC33CB6A; Thu, 25 May 2006 11:48:24 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id E8BFE33CB67
	for <java-user@lucene.apache.org>; Thu, 25 May 2006 11:48:23 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <200605251701.42402@danielnaber.de>
References: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F497@UKEXBE01.UK.CorpLAN.net> <200605251701.42402@danielnaber.de>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <35F8393E-4275-420D-A430-CD4BB551D6CF@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Search oddities
Date: Thu, 25 May 2006 11:48:19 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 25, 2006, at 11:01 AM, Daniel Naber wrote:

> On Donnerstag 25 Mai 2006 16:18, Tim.Wright@informa.com wrote:
>
>> When we search (using QueryParser) for the phrase "t- 
>> mobile" (including
>> quotes)
>
> t-mobile becomes "t mobile", but "t" is a stopword by default. Why?  
> Maybe
> the person who added it has a dislike for German Telekom :-) But
> seriously, you should probably file a bug report. Workaround for  
> now is to
> use your own stopwords.

"t" is a stop word because words like "don't" get analyzed into [don]  
[t].

In the short term, its not really a bug but just the nature of how it  
was meant to be.  Changing the default stop words in the 1.9/2.0  
releases isn't going to happen... but certainly lobbying for this to  
be more sensible in the future is worth it.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20902-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 25 16:24:28 2006
Return-Path: <java-user-return-20902-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35701 invoked from network); 25 May 2006 16:24:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2006 16:24:28 -0000
Received: (qmail 34877 invoked by uid 500); 25 May 2006 16:24:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34697 invoked by uid 500); 25 May 2006 16:24:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34686 invoked by uid 99); 25 May 2006 16:24:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 09:24:22 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.16 as permitted sender)
Received: from [80.67.18.16] (HELO smtprelay04.ispgateway.de) (80.67.18.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 09:24:21 -0700
Received: (qmail 9556 invoked from network); 25 May 2006 16:23:58 -0000
Received: from unknown (HELO p5496ee42.dip.t-dialin.net) ([pbs]695637@[84.150.238.66])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay04.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 25 May 2006 16:23:58 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Search oddities
Date: Thu, 25 May 2006 18:25:17 +0200
User-Agent: KMail/1.8.2
References: <9239D85FA271BB4FBC6AE3D2AE8D685A06E8F497@UKEXBE01.UK.CorpLAN.net> <200605251701.42402@danielnaber.de> <35F8393E-4275-420D-A430-CD4BB551D6CF@ehatchersolutions.com>
In-Reply-To: <35F8393E-4275-420D-A430-CD4BB551D6CF@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200605251825.17872@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Donnerstag 25 Mai 2006 17:48, Erik Hatcher wrote:

> "t" is a stop word because words like "don't" get analyzed into [don] =C2=
=A0
> [t].

Maybe it should, but it doesn't it seems: don't gets parsed as field:don't=
=20
using StandardAnalyzer and QueryParser. Mhh, maybe this is because people=20
use different characters:

don't
don=C2=B4t
don`t

Only the first (and correct?) one is not split up using StandardAnalyzer.

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20903-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 25 16:48:19 2006
Return-Path: <java-user-return-20903-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42142 invoked from network); 25 May 2006 16:48:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2006 16:48:19 -0000
Received: (qmail 85255 invoked by uid 500); 25 May 2006 16:48:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84807 invoked by uid 500); 25 May 2006 16:48:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84789 invoked by uid 99); 25 May 2006 16:48:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 09:48:13 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.167.177.42] (HELO mail.bluecatnetworks.com) (209.167.177.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 09:48:12 -0700
Received: from [172.18.10.1] ([172.18.10.1]:49457 "EHLO blazer.dyadem-hq1.corp")
	by mail.bluecatnetworks.com with ESMTP id S83074AbWEYQrv (ORCPT
	<rfc822;java-user@lucene.apache.org>);
	Thu, 25 May 2006 12:47:51 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6801A.F613CDC5"
Subject: Integrating a J2EE Application into "Generic" Enterprise Search
Date:	Thu, 25 May 2006 12:47:51 -0400
Message-ID: <2606103D52C8CD4CBA78A89696EEA073AAB7C3@blazer.dyadem-hq1.corp>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Integrating a J2EE Application into "Generic" Enterprise Search
thread-index: AcaAGvYhdZPy9qFTRaC9+6FCgDgNEg==
From:	"Nicholas Van Weerdenburg" <nvanweerdenburg@dyadem.com>
To:	<java-user@lucene.apache.org>
X-BCN:	Meridius 1000 Version 3.2 on mail.bluecatnetworks.com
X-BCN-Sender: nvanweerdenburg@dyadem.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C6801A.F613CDC5
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,

=20

I am planning to integrate Lucene into our application. However, I also
want to support the general enterprise search market and what our
customers have installed.

=20

Ideally, we would develop:

=20

1.	generic search support services

	a.	index records into logical "document-centric" records
with urls for access.
	b.	Triggers to generated updated records in real time.
	c.	Batch indexer for generation of intial data for search
engine.

2.	specific search enginer support - e.g. lucene, retrievalware,
etc.

=20

Are there any enterprise search intergration standards (e.g. xml
schema)?

=20

Any recommendations for best approaching this?

=20

Thanks,

Nick

=20


------_=_NextPart_001_01C6801A.F613CDC5--


From java-user-return-20904-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 25 17:52:55 2006
Return-Path: <java-user-return-20904-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61995 invoked from network); 25 May 2006 17:52:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2006 17:52:54 -0000
Received: (qmail 85329 invoked by uid 500); 25 May 2006 17:52:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85304 invoked by uid 500); 25 May 2006 17:52:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85293 invoked by uid 99); 25 May 2006 17:52:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 10:52:48 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of danutchi@gmail.com designates 66.249.82.207 as permitted sender)
Received: from [66.249.82.207] (HELO wx-out-0102.google.com) (66.249.82.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 10:52:47 -0700
Received: by wx-out-0102.google.com with SMTP id h28so927613wxd
        for <java-user@lucene.apache.org>; Thu, 25 May 2006 10:52:26 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=HgNm698k1xu9103ix7NogZaHd1kq8tiMFcKrisD3PreJ6hWB6hrdZq1b6ecTL7Qr+sYgiSSnQh7Fh51iapMov0gC+QBAqLXE3Az1Zxn3CQUf68JmM6UgHH68zDuly/l8yi5ama/B6l2ppH+cLPdwDoFWCamYUyYlVTD15hXvXAI=
Received: by 10.70.66.13 with SMTP id o13mr480349wxa;
        Thu, 25 May 2006 10:52:26 -0700 (PDT)
Received: by 10.70.33.17 with HTTP; Thu, 25 May 2006 10:52:26 -0700 (PDT)
Message-ID: <d7a865a50605251052r2ae4c334m6bd471b5c4246eac@mail.gmail.com>
Date: Thu, 25 May 2006 19:52:26 +0200
From: "Dan Wiggin" <danutchi@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Question about special characters
In-Reply-To: <d7a865a50605241024n187a4f3bpc2153d10db1f501f@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_137250_11266998.1148579546360"
References: <d7a865a50605241024n187a4f3bpc2153d10db1f501f@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_137250_11266998.1148579546360
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

My own solution until I have another one better, I use FuzzyQuery for every
term in the phrase.
For example "My work is the worst" ->> My~ work~ is~ the~ worst
What do you think about this uggly solution? I don't have anything more
ideas.

2006/5/24, Dan Wiggin <danutchi@gmail.com>:
>
> I need some functionality and I don't know how to do.
> The problem is special characters like =E0, =E4 , =E7 or =F1 latin charac=
ters in
> the text.
> Now I use iso latin filter, but the problem is when I want to obtain most
> term used. These term are stored without ` =B4 ^ or another "character
> attribute".
> For example "pl=E0nt=EFu=E7" (it isn't a real word) is stored like the te=
rm
> "plantiuc".
> How can I do to have in term vector the word "pl=E0nt=EFu=E7".
>
> thks for all replies.
> PD: excuse if this question is solved somewhere, but I don't saw it.
>

------=_Part_137250_11266998.1148579546360--

From java-user-return-20905-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 25 18:22:19 2006
Return-Path: <java-user-return-20905-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69154 invoked from network); 25 May 2006 18:22:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2006 18:22:19 -0000
Received: (qmail 34837 invoked by uid 500); 25 May 2006 18:22:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34810 invoked by uid 500); 25 May 2006 18:22:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34799 invoked by uid 99); 25 May 2006 18:22:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 11:22:12 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 11:22:11 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id D40AB5B771; Thu, 25 May 2006 11:21:44 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id C493E7F403
	for <java-user@lucene.apache.org>; Thu, 25 May 2006 11:21:44 -0700 (PDT)
Date: Thu, 25 May 2006 11:21:44 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: best way to get specific results
In-Reply-To: <63434C14F9A6F74CB36B85033E4C30CA0255FA8C@hermes.corp.cyveillance.com>
Message-ID: <Pine.LNX.4.58.0605251116210.8803@hal.rescomp.berkeley.edu>
References: <63434C14F9A6F74CB36B85033E4C30CA0255FA8C@hermes.corp.cyveillance.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: if a query returns 1000 results, the user is interested only in the
: results between 500&550. the way I implemented it is run a normal query
: using IndexSercher.search(Query()) and then get the specified documents
: out of the hits object. I am wondering if there is a more efficient way
: than this, is using TopDocs better than the hits object, knowing that
: some users may need more than a 1000 docs back in one query?.

generally speaking, yes TopDocs (or TopFieldDocs) are better then Hits if
you plan on acessing morethen the first 100 or so results .. Hits will
reexecute your search over and over as you ask for higher numbered
results, while with TopDocs you search is executed once, and you are given
only the Doc IDs of the first N docs you asked for, with no other
processing done behind the scenes  (in your case, it sounds like N would
be 550, and you'd start accessing the ScoreDoc[] at 500.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20906-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 25 18:25:52 2006
Return-Path: <java-user-return-20906-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70123 invoked from network); 25 May 2006 18:25:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2006 18:25:52 -0000
Received: (qmail 41955 invoked by uid 500); 25 May 2006 18:25:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41904 invoked by uid 500); 25 May 2006 18:25:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41840 invoked by uid 99); 25 May 2006 18:25:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 11:25:39 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 11:25:38 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 252B25B77B; Thu, 25 May 2006 11:25:16 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 1D32C7F403
	for <java-user@lucene.apache.org>; Thu, 25 May 2006 11:25:16 -0700 (PDT)
Date: Thu, 25 May 2006 11:25:16 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Question about special characters
In-Reply-To: <d7a865a50605251052r2ae4c334m6bd471b5c4246eac@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0605251122420.8803@hal.rescomp.berkeley.edu>
References: <d7a865a50605241024n187a4f3bpc2153d10db1f501f@mail.gmail.com>
 <d7a865a50605251052r2ae4c334m6bd471b5c4246eac@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=iso-8859-1
Content-Transfer-Encoding: QUOTED-PRINTABLE
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I think I'm missing something here.  the whole point of the
ISOLatin1AccentFilter is to replace accented characters with their
unaccented equivalent -- it sounds like that's working just fine, If you
want teh words in teh term vector to contain the accents, why don't you
stop using that filter?

if the problem is that you need to be able to match on both the accented
form and the non accented form, perhaps you should have two fields, or
modify the ISOLatin1AccentFilter so it puts both versions of the token in
the TokenStream with the same position?


: > The problem is special characters like =E0, =E4 , =E7 or =F1 latin char=
acters in
: > the text.
: > Now I use iso latin filter, but the problem is when I want to obtain mo=
st
: > term used. These term are stored without ` =B4 ^ or another "character
: > attribute".
: > For example "pl=E0nt=EFu=E7" (it isn't a real word) is stored like the =
term
: > "plantiuc".
: > How can I do to have in term vector the word "pl=E0nt=EFu=E7".
: >
: > thks for all replies.
: > PD: excuse if this question is solved somewhere, but I don't saw it.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20907-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 25 19:09:34 2006
Return-Path: <java-user-return-20907-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91459 invoked from network); 25 May 2006 19:09:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2006 19:09:34 -0000
Received: (qmail 49002 invoked by uid 500); 25 May 2006 19:09:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48915 invoked by uid 500); 25 May 2006 19:09:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48887 invoked by uid 99); 25 May 2006 19:09:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 12:09:13 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [67.104.155.162] (HELO exch1.leadscope.com) (67.104.155.162)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 12:09:11 -0700
Received: from ASSP-nospam ([192.168.1.204]) by exch1.leadscope.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 25 May 2006 15:08:50 -0400
Received: from 192.168.1.205 ([192.168.1.205] helo=exch1.leadscope.com) by ASSP-nospam ; 25 May 06 19:08:50 -0000
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6802E.A8525FCE"
Subject: Boolean query term match count
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
Date: Thu, 25 May 2006 15:08:50 -0400
Message-ID: <349E22F852C07A4DA7623A81DEE61304017C49@exch1.leadscope.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Boolean query term match count
Thread-Index: AcaALqjVHMcXsuvcTneZjIVZ3+XfYQ==
From: "Crump, Michael" <mcrump@leadscope.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 25 May 2006 19:08:50.0870 (UTC) FILETIME=[A8654D60:01C6802E]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C6802E.A8525FCE
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

Hello,

=20

I'm working on a search application and I need to know if it is possible
to get the number of terms that actually matched a Boolean query.  For
example let's say I have field test with values aaa bbb ccc d e f and I
constructed a Boolean query like this:  test:aaa OR test:bbb OR test:e
is it possible to get the count - 3 for the the terms (aaa, bbb, e) that
matched from the test field.  If not would it be possible to modify the
BooleanScorer to accomplish this?

=20

TIA,

=20

Michael=20


------_=_NextPart_001_01C6802E.A8525FCE--

From java-user-return-20908-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu May 25 21:05:41 2006
Return-Path: <java-user-return-20908-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34735 invoked from network); 25 May 2006 21:05:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 May 2006 21:05:40 -0000
Received: (qmail 18084 invoked by uid 500); 25 May 2006 21:05:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18054 invoked by uid 500); 25 May 2006 21:05:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18043 invoked by uid 99); 25 May 2006 21:05:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 14:05:33 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.33] (HELO smtp-vbr13.xs4all.nl) (194.109.24.33)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 14:05:33 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr13.xs4all.nl (8.13.6/8.13.6) with ESMTP id k4PL5BRL055838
	for <java-user@lucene.apache.org>; Thu, 25 May 2006 23:05:12 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Boolean query term match count
Date: Thu, 25 May 2006 23:05:10 +0200
User-Agent: KMail/1.8.2
References: <349E22F852C07A4DA7623A81DEE61304017C49@exch1.leadscope.com>
In-Reply-To: <349E22F852C07A4DA7623A81DEE61304017C49@exch1.leadscope.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605252305.10843.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thursday 25 May 2006 21:08, Crump, Michael wrote:
> Hello,
> 
>  
> 
> I'm working on a search application and I need to know if it is possible
> to get the number of terms that actually matched a Boolean query.  For
> example let's say I have field test with values aaa bbb ccc d e f and I
> constructed a Boolean query like this:  test:aaa OR test:bbb OR test:e
> is it possible to get the count - 3 for the the terms (aaa, bbb, e) that
> matched from the test field.  If not would it be possible to modify the
> BooleanScorer to accomplish this?

Have  a look at Similarity and DefaultSimilarity. It looks like
you need your own Similarity with a non constant coord()
implementation, and some constant value for the rest of the
methods in there.
The first argument to coord() is the number of matching
clauses for a document for a boolean query.
The value returned by coord() will be used in the calculation
of the score value for the document.

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20909-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 01:49:15 2006
Return-Path: <java-user-return-20909-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16755 invoked from network); 26 May 2006 01:49:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 01:49:14 -0000
Received: (qmail 82799 invoked by uid 500); 26 May 2006 01:49:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82770 invoked by uid 500); 26 May 2006 01:49:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82759 invoked by uid 99); 26 May 2006 01:49:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 18:49:08 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.166.182 as permitted sender)
Received: from [64.233.166.182] (HELO py-out-1112.google.com) (64.233.166.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 18:49:06 -0700
Received: by py-out-1112.google.com with SMTP id t32so773963pyc
        for <java-user@lucene.apache.org>; Thu, 25 May 2006 18:48:45 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Paikcx8NO3pW8IlH6mI0ZLKmJpdAuGHggcTKvNTkHqzhFipaVr9v+4XlVAZjGi/JbiPXM3E/EP7fGtPU6FO56r5yDDpYDiZJnby2+o2o2VknW0VGl6dCljv84V3463oPj5Xr1YhXwab06WAZHreojdVvQ/987BNG8RJT6FC4eLE=
Received: by 10.35.8.1 with SMTP id l1mr1539751pyi;
        Thu, 25 May 2006 18:48:45 -0700 (PDT)
Received: by 10.35.107.3 with HTTP; Thu, 25 May 2006 18:48:45 -0700 (PDT)
Message-ID: <c68e39170605251848s6cd6c485w5b42528a49633992@mail.gmail.com>
Date: Thu, 25 May 2006 21:48:45 -0400
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Integrating a J2EE Application into "Generic" Enterprise Search
In-Reply-To: <2606103D52C8CD4CBA78A89696EEA073AAB7C3@blazer.dyadem-hq1.corp>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <2606103D52C8CD4CBA78A89696EEA073AAB7C3@blazer.dyadem-hq1.corp>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 5/25/06, Nicholas Van Weerdenburg <nvanweerdenburg@dyadem.com> wrote:
> Are there any enterprise search intergration standards (e.g. xml
> schema)?

It may or may not be what you are looking for, but there is Solr, a
lucene-based search server with XML/HTTP interfaces.  It's primarily
meant to be a standaone server (think database), but it is possible to
embed.  See my sig for the link.

-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20910-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 02:15:40 2006
Return-Path: <java-user-return-20910-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22697 invoked from network); 26 May 2006 02:15:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 02:15:40 -0000
Received: (qmail 8990 invoked by uid 500); 26 May 2006 02:15:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8675 invoked by uid 500); 26 May 2006 02:15:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8663 invoked by uid 99); 26 May 2006 02:15:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 19:15:34 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chris.lu@gmail.com designates 64.233.162.202 as permitted sender)
Received: from [64.233.162.202] (HELO nz-out-0102.google.com) (64.233.162.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 19:15:33 -0700
Received: by nz-out-0102.google.com with SMTP id o37so1961327nzf
        for <java-user@lucene.apache.org>; Thu, 25 May 2006 19:15:12 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=VnbxtL4oZ1iW5i1JV6pChiFqH2TNy/tzgbe08VomGs6GSVUyApsGoZhxU0Z1ZofgEyl0dTXl+bwEh/xEsFYk1uhT8eYxIeyaOzmNy55VqOWU8cBfu+z+K4EYI20dJ6B8B8X+DdTv4ZBEqrytEHByz8tVfmlsQYfUqwqrAfJUYyY=
Received: by 10.65.219.8 with SMTP id w8mr1306186qbq;
        Thu, 25 May 2006 19:15:12 -0700 (PDT)
Received: by 10.65.84.15 with HTTP; Thu, 25 May 2006 19:15:12 -0700 (PDT)
Message-ID: <6e3ae6310605251915y2a10b010mdbef9040ee1df683@mail.gmail.com>
Date: Thu, 25 May 2006 19:15:12 -0700
From: "Chris Lu" <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Integrating a J2EE Application into "Generic" Enterprise Search
In-Reply-To: <c68e39170605251848s6cd6c485w5b42528a49633992@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <2606103D52C8CD4CBA78A89696EEA073AAB7C3@blazer.dyadem-hq1.corp>
	 <c68e39170605251848s6cd6c485w5b42528a49633992@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Solr is nice when you can change the existing enterprise applications,
extract content and post xml content to the server. But definately
still a lot of coding.

I would say DBSight is another alternative here. It has similar
architecture as Solr, but it crawls databases by configurable SQLs.
Only need to plug into any existing databases by JDBC, and it can fit
any schema. No xml, xslt efforts. Usually in 15 minutes you can have a
google-like search.

Chris
--------------------------
Lucene Search on Any Databases/Applications
http://www.dbsight.net

On 5/25/06, Yonik Seeley <yseeley@gmail.com> wrote:
> On 5/25/06, Nicholas Van Weerdenburg <nvanweerdenburg@dyadem.com> wrote:
> > Are there any enterprise search intergration standards (e.g. xml
> > schema)?
>
> It may or may not be what you are looking for, but there is Solr, a
> lucene-based search server with XML/HTTP interfaces.  It's primarily
> meant to be a standaone server (think database), but it is possible to
> embed.  See my sig for the link.
>
> -Yonik
> http://incubator.apache.org/solr Solr, the open-source Lucene search serv=
er
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20911-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 03:31:46 2006
Return-Path: <java-user-return-20911-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46365 invoked from network); 26 May 2006 03:31:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 03:31:46 -0000
Received: (qmail 73676 invoked by uid 500); 26 May 2006 03:31:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73637 invoked by uid 500); 26 May 2006 03:31:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73626 invoked by uid 99); 26 May 2006 03:31:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 20:31:40 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.167.177.42] (HELO mail.bluecatnetworks.com) (209.167.177.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 20:31:39 -0700
Received: from [172.18.10.1] ([172.18.10.1]:42091 "EHLO blazer.dyadem-hq1.corp")
	by mail.bluecatnetworks.com with ESMTP id S94254AbWEZDbS convert rfc822-to-8bit
	(ORCPT <rfc822;java-user@lucene.apache.org>);
	Thu, 25 May 2006 23:31:18 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 8BIT
Subject: RE: Integrating a J2EE Application into "Generic" Enterprise Search
Date:	Thu, 25 May 2006 23:31:18 -0400
Message-ID: <2606103D52C8CD4CBA78A89696EEA073ACE697@blazer.dyadem-hq1.corp>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Integrating a J2EE Application into "Generic" Enterprise Search
thread-index: AcaAakiRYnKQoWPMQyWI7sAH5tXsDAACgOty
From:	"Nicholas Van Weerdenburg" <nvanweerdenburg@dyadem.com>
To:	<java-user@lucene.apache.org>, <java-user@lucene.apache.org>
X-BCN:	Meridius 1000 Version 3.2 on mail.bluecatnetworks.com
X-BCN-Sender: nvanweerdenburg@dyadem.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Both sound interesting, but what I want is to be able to generate the intermediate xml that most enterprise search servers could use to quickly integrate with them.

e.g. 
customer 1 uses retrievalware for enterprise search
customer 2 uses Solr
customer 3 uses yyy.

How do I build our my functionality to support RetrievalWare, Solr, and YYY?

One thought is to build a directory view that invites crawlers in to auto-index.

DBSight sounds interesting but it does't help me with other enterprise search tools from the sounds of it. I'm also thinking that our database schema is resistant to sql-oriented queries.

Thanks,
Nick


-----Original Message-----
From:	Chris Lu [mailto:chris.lu@gmail.com]
Sent:	Thu 5/25/2006 10:15 PM
To:	java-user@lucene.apache.org
Cc:	
Subject:	Re: Integrating a J2EE Application into "Generic" Enterprise Search

Solr is nice when you can change the existing enterprise applications,
extract content and post xml content to the server. But definately
still a lot of coding.

I would say DBSight is another alternative here. It has similar
architecture as Solr, but it crawls databases by configurable SQLs.
Only need to plug into any existing databases by JDBC, and it can fit
any schema. No xml, xslt efforts. Usually in 15 minutes you can have a
google-like search.

Chris
--------------------------
Lucene Search on Any Databases/Applications
http://www.dbsight.net

On 5/25/06, Yonik Seeley <yseeley@gmail.com> wrote:
> On 5/25/06, Nicholas Van Weerdenburg <nvanweerdenburg@dyadem.com> wrote:
> > Are there any enterprise search intergration standards (e.g. xml
> > schema)?
>
> It may or may not be what you are looking for, but there is Solr, a
> lucene-based search server with XML/HTTP interfaces.  It's primarily
> meant to be a standaone server (think database), but it is possible to
> embed.  See my sig for the link.
>
> -Yonik
> http://incubator.apache.org/solr Solr, the open-source Lucene search server
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org






---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20912-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 04:44:56 2006
Return-Path: <java-user-return-20912-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59069 invoked from network); 26 May 2006 04:44:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 04:44:56 -0000
Received: (qmail 36325 invoked by uid 500); 26 May 2006 04:44:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36302 invoked by uid 500); 26 May 2006 04:44:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36291 invoked by uid 99); 26 May 2006 04:44:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 21:44:49 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chauhan.cs@gmail.com designates 64.233.162.198 as permitted sender)
Received: from [64.233.162.198] (HELO nz-out-0102.google.com) (64.233.162.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 May 2006 21:44:48 -0700
Received: by nz-out-0102.google.com with SMTP id o37so1982191nzf
        for <java-user@lucene.apache.org>; Thu, 25 May 2006 21:44:28 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=A+MEjytTJCS1rTlMlFB8tZkaFd8V9G3bibegdv8P0oZN/9mN3FXFrtKbyULhz/NNAlzlnVUzFZAS90qQMYECkKiAskx5ahleh5hKVuxW1hCn5KBbH4gQ3mYshAXuXSLh+Cdgv0apwrGI9pyY6ZaEqV7E60X/Z5H19o/OUH17fnY=
Received: by 10.64.180.11 with SMTP id c11mr110748qbf;
        Thu, 25 May 2006 21:44:28 -0700 (PDT)
Received: by 10.64.150.17 with HTTP; Thu, 25 May 2006 21:44:28 -0700 (PDT)
Message-ID: <a799e2730605252144h3eaa3650s72042955651e1d6f@mail.gmail.com>
Date: Fri, 26 May 2006 10:14:28 +0530
From: "Chandrakant Singh" <chauhan.cs@gmail.com>
To: java-user@lucene.apache.org
Subject: Search in Jasper Report
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_172707_13898777.1148618668204"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_172707_13898777.1148618668204
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi All,
 I m using Jasper report as a report tool.In my application a report has 30=
0
pages. How can i use Lucene to search in  .jasper file.

Reg.
Chandrakant S Chouhan

------=_Part_172707_13898777.1148618668204--

From java-user-return-20913-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 07:31:52 2006
Return-Path: <java-user-return-20913-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98477 invoked from network); 26 May 2006 07:31:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 07:31:52 -0000
Received: (qmail 75964 invoked by uid 500); 26 May 2006 07:31:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75760 invoked by uid 500); 26 May 2006 07:31:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75745 invoked by uid 99); 26 May 2006 07:31:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 00:31:44 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of danutchi@gmail.com designates 66.249.82.194 as permitted sender)
Received: from [66.249.82.194] (HELO wx-out-0102.google.com) (66.249.82.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 00:31:43 -0700
Received: by wx-out-0102.google.com with SMTP id s16so6885wxc
        for <java-user@lucene.apache.org>; Fri, 26 May 2006 00:31:23 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=SgIpI4+P8TLsscuivQhr5c5gtr6+toVT+yDSibSpvKrmcSEY2qvAt+mjEyyj7nFmuopPLnCfv8r8IetWn5rdbcGnKOdNYCqGEheQlmOZwCgQYNMVtRJzcXks1zd6ry9hyTuKkVo69M8ehZ3HK05CiLB8C/4q6rlc6+uvIeg05Jc=
Received: by 10.70.53.1 with SMTP id b1mr401419wxa;
        Fri, 26 May 2006 00:31:23 -0700 (PDT)
Received: by 10.70.33.17 with HTTP; Fri, 26 May 2006 00:31:23 -0700 (PDT)
Message-ID: <d7a865a50605260031mf4bb8c3jb026edf05a967328@mail.gmail.com>
Date: Fri, 26 May 2006 09:31:23 +0200
From: "Dan Wiggin" <danutchi@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Question about special characters
In-Reply-To: <Pine.LNX.4.58.0605251122420.8803@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_142407_18113901.1148628683147"
References: <d7a865a50605241024n187a4f3bpc2153d10db1f501f@mail.gmail.com>
	 <d7a865a50605251052r2ae4c334m6bd471b5c4246eac@mail.gmail.com>
	 <Pine.LNX.4.58.0605251122420.8803@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_142407_18113901.1148628683147
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Thks for the reply, ut I don't know how to do this change in
SOLatin1AccentFilter.
Can you give me some advice in this action?

2006/5/25, Chris Hostetter <hossman_lucene@fucit.org>:
>
>
> I think I'm missing something here.  the whole point of the
> ISOLatin1AccentFilter is to replace accented characters with their
> unaccented equivalent -- it sounds like that's working just fine, If you
> want teh words in teh term vector to contain the accents, why don't you
> stop using that filter?
>
> if the problem is that you need to be able to match on both the accented
> form and the non accented form, perhaps you should have two fields, or
> modify the ISOLatin1AccentFilter so it puts both versions of the token in
> the TokenStream with the same position?
>
>
> : > The problem is special characters like =E0, =E4 , =E7 or =F1 latin ch=
aracters
> in
> : > the text.
> : > Now I use iso latin filter, but the problem is when I want to obtain
> most
> : > term used. These term are stored without ` =B4 ^ or another "characte=
r
> : > attribute".
> : > For example "pl=E0nt=EFu=E7" (it isn't a real word) is stored like th=
e term
> : > "plantiuc".
> : > How can I do to have in term vector the word "pl=E0nt=EFu=E7".
> : >
> : > thks for all replies.
> : > PD: excuse if this question is solved somewhere, but I don't saw it.
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_142407_18113901.1148628683147--

From java-user-return-20914-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 07:43:09 2006
Return-Path: <java-user-return-20914-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1221 invoked from network); 26 May 2006 07:43:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 07:43:08 -0000
Received: (qmail 90731 invoked by uid 500); 26 May 2006 07:42:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90683 invoked by uid 500); 26 May 2006 07:42:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90660 invoked by uid 99); 26 May 2006 07:42:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 00:42:55 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.97.205.201] (HELO mail.seseit.com) (209.97.205.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 00:42:54 -0700
Received: by mail.seseit.com (Postfix, from userid 65534)
	id 143D7187AC; Fri, 26 May 2006 07:42:33 +0000 (GMT)
Received: from max (spc1-lewi6-0-0-cust524.asfd.broadband.ntl.com [81.103.210.13])
	by mail.seseit.com (Postfix) with ESMTP id 4CF42187A9;
	Fri, 26 May 2006 07:42:30 +0000 (GMT)
From: "Rob Staveley (Tom)" <rstaveley@seseit.com>
To: <lucene-user@jakarta.apache.org>, <java-user@lucene.apache.org>
Subject: Seeing what's occupying all the space in the index
Date: Fri, 26 May 2006 08:42:34 +0100
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
Content-Type: multipart/signed;
	protocol="application/x-pkcs7-signature";
	micalg=SHA1;
	boundary="----=_NextPart_000_0064_01C680A0.554DE9D0"
Thread-Index: AcaAl/OEGWuCPWnhTb6WNlBzB0ap2g==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
Message-Id: <20060526074230.4CF42187A9@mail.seseit.com>
X-Spam-Checker-Version: SpamAssassin 3.0.3 (2005-04-27) on mini.seseit.net
X-Spam-Level: X
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=1.7 required=5.0 tests=MSGID_FROM_MTA_ID 
	autolearn=no version=3.0.3
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0064_01C680A0.554DE9D0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

I am indexing e-mail in a compound index and for e-mail which is stored in
~60G (in Bzip2 compressed form), I have an index which is now 80G.

Is there a tool I can use to see how much of the index is occupied by the
different fields I am indexing?

PS: I am a newbie to the mailing list - I hope I've got the etiquette right

------=_NextPart_000_0064_01C680A0.554DE9D0
Content-Type: application/x-pkcs7-signature;
	name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="smime.p7s"

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIKaDCCAj0w
ggGmAhEAzbp/VvDf5LxU/iKss3KqVTANBgkqhkiG9w0BAQIFADBfMQswCQYDVQQGEwJVUzEXMBUG
A1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVibGljIFByaW1hcnkgQ2Vy
dGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNOTYwMTI5MDAwMDAwWhcNMjgwODAxMjM1OTU5WjBfMQsw
CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVi
bGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwgZ8wDQYJKoZIhvcNAQEBBQADgY0A
MIGJAoGBAOUZv22jVmEtmUhx9mfeuY3rt56GgAqRDvo4Ja9GiILlc6igmyRdDR/MZW4MsNBWhBiH
mgabEKFz37RYOWtuwfYV1aioP6oSBo0xrH+wNNePNGeICc0UEeJORVZpH3gCgNrcR5EpuzbJY1zF
4Ncth3uhtzKwezC6Ki8xqu6jZ9rbAgMBAAEwDQYJKoZIhvcNAQECBQADgYEATD+4i8Zo3+5DMw5d
6abLB4RNejP/khv0Nq3YlSI2aBFsfELM85wuxAc/FLAPT/+Qknb54rxK6Y/NoIAK98Up8YIiXbix
3YEjo3slFUYweRb46gVLlH8dwhzI47f0EEA8E8NfH1PoSOSGtHuhNbB7Jbq4046rPzidADQAmPPR
cZQwggNiMIICy6ADAgECAhAL2gsXwT+JjqsJdHq0zi4zMA0GCSqGSIb3DQEBAgUAMF8xCzAJBgNV
BAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE3MDUGA1UECxMuQ2xhc3MgMSBQdWJsaWMg
UHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTAeFw05ODA1MTIwMDAwMDBaFw0wODA1MTIy
MzU5NTlaMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMIGfMA0GCSqGSIb3DQEB
AQUAA4GNADCBiQKBgQC7WkSKBBa7Vf0DeootlE8VeDa4DUqyb5xUv7zodyqdufBou5XZMUFweoFL
uUgTVi3HCOGEQqvAopKrRFyqQvCCDgLpL/vCO7u+yScKXbawNkIztW5UiE+HSr8Z2vkV6A+Hthzj
zMaajn9qJJLj/OBluqexfu/J2zdqyErICQbkmQIDAQABo4GwMIGtMA8GA1UdEwQIMAYBAf8CAQAw
RwYDVR0gBEAwPjA8BgtghkgBhvhFAQcBATAtMCsGCCsGAQUFBwIBFh93d3cudmVyaXNpZ24uY29t
L3JlcG9zaXRvcnkvUlBBMDEGA1UdHwQqMCgwJqAkoCKGIGh0dHA6Ly9jcmwudmVyaXNpZ24uY29t
L3BjYTEuY3JsMAsGA1UdDwQEAwIBBjARBglghkgBhvhCAQEEBAMCAQYwDQYJKoZIhvcNAQECBQAD
gYEAAn2eb0VLOKC43ulTZCG85Ewrjx7+kkCs2Ao5aqEyISwHm6tZ/tJiGn1VOLA3c9z0B2ZjYr3h
U3BSh+eo2FLpWy2q4d7PrDFU1IsZyNgjqO8EKzJ9LBgcyHyJqC538kTRZQpNdLXu0xuSc3QuiTs1
E3LnQDGa07LEq+dWvovj+xUwggS9MIIEJqADAgECAhB1uB0L6Y5EVCCaaM0jkP2tMA0GCSqGSIb3
DQEBBQUAMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMB4XDTA1MTAwNDAwMDAw
MFoXDTA2MTAxODIzNTk1OVowggEZMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMW
VmVyaVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0
b3J5L1JQQSBJbmNvcnAuIGJ5IFJlZi4sTElBQi5MVEQoYyk5ODEeMBwGA1UECxMVUGVyc29uYSBO
b3QgVmFsaWRhdGVkMTMwMQYDVQQLEypEaWdpdGFsIElEIENsYXNzIDEgLSBOZXRzY2FwZSBGdWxs
IFNlcnZpY2UxGzAZBgNVBAMUElJvYiBTdGF2ZWxleSAoVG9tKTEjMCEGCSqGSIb3DQEJARYUcnN0
YXZlbGV5QHNlc2VpdC5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCm4C+s/DP/
NIW0DrHFueJPsZAZxTzi8Aw2bXOUQbHRDNlSO7nWoDPlkTs5RQl0tsJUDlB5TubjJGWKGBdRePXq
ueK/8yj23cBTzKRTU2gNG6cmmc/f/HwHcuc4MCpW9+okvFCPeaFNzuBPPvegjewz3BL3ewfjeOKr
ly//fr/8JBVW19EgK070C2COZgegYNQ5NeV4Y4oDjqETADQDDnYuTe7EMBuSMysmOSgkCfVzEG4h
8N+1ImW6hWe+bH6Rify+q9eZAQint7sSFGZv3ZbBgmE654FKrvE7O8BOOP807/yaJUBlpDkF/X8G
UwvYNwhH/zbHN1BSCD3tstcSIUGHAgMBAAGjgcswgcgwCQYDVR0TBAIwADBEBgNVHSAEPTA7MDkG
C2CGSAGG+EUBBxcDMCowKAYIKwYBBQUHAgEWHGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9ycGEw
CwYDVR0PBAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMEBggrBgEFBQcDAjAUBgpghkgBhvhFAQYH
BAYWBE5vbmUwMwYDVR0fBCwwKjAooCagJIYiaHR0cDovL2NybC52ZXJpc2lnbi5jb20vY2xhc3Mx
LmNybDANBgkqhkiG9w0BAQUFAAOBgQCtsGmCX3v78Qn3I5DAo9mJDenolmgmBjmlaSJr1e5nSBLv
CEflpx3FaZuirDQNJ/sTxtUCJhlv/kTLuczeJkSDj1ALhqeYH1GX9T5zFY+3GCQqTJcTIarHSqZC
PQzwv3dwZCRE0fuELb6oobi4kGA5PXbu3+P7upHSBAmN81O00TGCBL8wggS7AgEBMIHhMIHMMRcw
FQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29yazFG
MEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNvcnAuIEJ5IFJlZi4s
TElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJbmRpdmlkdWFsIFN1
YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L6Y5EVCCaaM0jkP2tMAkGBSsOAwIa
BQCgggKyMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTA2MDUyNjA3
NDIzNFowIwYJKoZIhvcNAQkEMRYEFBhzgHlAOqjWBiG7vu1r4B88czo6MGcGCSqGSIb3DQEJDzFa
MFgwCgYIKoZIhvcNAwcwDgYIKoZIhvcNAwICAgCAMA0GCCqGSIb3DQMCAgFAMAcGBSsOAwIHMA0G
CCqGSIb3DQMCAgEoMAcGBSsOAwIaMAoGCCqGSIb3DQIFMIHyBgkrBgEEAYI3EAQxgeQwgeEwgcwx
FzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3Jr
MUYwRAYDVQQLEz13d3cudmVyaXNpZ24uY29tL3JlcG9zaXRvcnkvUlBBIEluY29ycC4gQnkgUmVm
LixMSUFCLkxURChjKTk4MUgwRgYDVQQDEz9WZXJpU2lnbiBDbGFzcyAxIENBIEluZGl2aWR1YWwg
U3Vic2NyaWJlci1QZXJzb25hIE5vdCBWYWxpZGF0ZWQCEHW4HQvpjkRUIJpozSOQ/a0wgfQGCyqG
SIb3DQEJEAILMYHkoIHhMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVy
aVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5
L1JQQSBJbmNvcnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xh
c3MgMSBDQSBJbmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L
6Y5EVCCaaM0jkP2tMA0GCSqGSIb3DQEBAQUABIIBAFAg34DWdsi0ZL31Yu3yxyDNkiybWjcGEGqu
P9lfhb8G86SHx5ey2yx5ywoc8xgsihfRa7y6GmiWNj5TgqsMBgCXRr1t2F3/Z+X/YiLsb8vTKVmZ
HHri+yzO3sUmuR4i1sBA4icsLdxgjJq5Zi0RJzr2KawRB4I9pQFmrafFF28ZoQyEZc4bi3SPBUSM
5e2trhK2wQRLcFA2xSdLmkLOcJEebGhRvjdXzBh2Zpr0HevjVdq2Jqa4uWh7LQOq0XlqzheQ6pGR
sBLl0BobvytKjKTnJrFjL4IWwb3UpeDX7EGsaUldVQbJL10GPVIunkXNatQElxmVrKSkAvvGmYzH
xzYAAAAAAAA=

------=_NextPart_000_0064_01C680A0.554DE9D0--


From java-user-return-20915-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 07:43:09 2006
Return-Path: <java-user-return-20915-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1223 invoked from network); 26 May 2006 07:43:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 07:43:08 -0000
Received: (qmail 90815 invoked by uid 500); 26 May 2006 07:42:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90702 invoked by uid 500); 26 May 2006 07:42:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90681 invoked by uid 500); 26 May 2006 07:42:56 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 90661 invoked by uid 99); 26 May 2006 07:42:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 00:42:55 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.97.205.201] (HELO mail.seseit.com) (209.97.205.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 00:42:54 -0700
Received: by mail.seseit.com (Postfix, from userid 65534)
	id 143D7187AC; Fri, 26 May 2006 07:42:33 +0000 (GMT)
Received: from max (spc1-lewi6-0-0-cust524.asfd.broadband.ntl.com [81.103.210.13])
	by mail.seseit.com (Postfix) with ESMTP id 4CF42187A9;
	Fri, 26 May 2006 07:42:30 +0000 (GMT)
From: "Rob Staveley (Tom)" <rstaveley@seseit.com>
To: <lucene-user@jakarta.apache.org>, <java-user@lucene.apache.org>
Subject: Seeing what's occupying all the space in the index
Date: Fri, 26 May 2006 08:42:34 +0100
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
Content-Type: multipart/signed;
	protocol="application/x-pkcs7-signature";
	micalg=SHA1;
	boundary="----=_NextPart_000_0064_01C680A0.554DE9D0"
Thread-Index: AcaAl/OEGWuCPWnhTb6WNlBzB0ap2g==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
Message-Id: <20060526074230.4CF42187A9@mail.seseit.com>
X-Spam-Checker-Version: SpamAssassin 3.0.3 (2005-04-27) on mini.seseit.net
X-Spam-Level: X
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=1.7 required=5.0 tests=MSGID_FROM_MTA_ID 
	autolearn=no version=3.0.3
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0064_01C680A0.554DE9D0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

I am indexing e-mail in a compound index and for e-mail which is stored in
~60G (in Bzip2 compressed form), I have an index which is now 80G.

Is there a tool I can use to see how much of the index is occupied by the
different fields I am indexing?

PS: I am a newbie to the mailing list - I hope I've got the etiquette right

------=_NextPart_000_0064_01C680A0.554DE9D0
Content-Type: application/x-pkcs7-signature;
	name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="smime.p7s"

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIKaDCCAj0w
ggGmAhEAzbp/VvDf5LxU/iKss3KqVTANBgkqhkiG9w0BAQIFADBfMQswCQYDVQQGEwJVUzEXMBUG
A1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVibGljIFByaW1hcnkgQ2Vy
dGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNOTYwMTI5MDAwMDAwWhcNMjgwODAxMjM1OTU5WjBfMQsw
CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVi
bGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwgZ8wDQYJKoZIhvcNAQEBBQADgY0A
MIGJAoGBAOUZv22jVmEtmUhx9mfeuY3rt56GgAqRDvo4Ja9GiILlc6igmyRdDR/MZW4MsNBWhBiH
mgabEKFz37RYOWtuwfYV1aioP6oSBo0xrH+wNNePNGeICc0UEeJORVZpH3gCgNrcR5EpuzbJY1zF
4Ncth3uhtzKwezC6Ki8xqu6jZ9rbAgMBAAEwDQYJKoZIhvcNAQECBQADgYEATD+4i8Zo3+5DMw5d
6abLB4RNejP/khv0Nq3YlSI2aBFsfELM85wuxAc/FLAPT/+Qknb54rxK6Y/NoIAK98Up8YIiXbix
3YEjo3slFUYweRb46gVLlH8dwhzI47f0EEA8E8NfH1PoSOSGtHuhNbB7Jbq4046rPzidADQAmPPR
cZQwggNiMIICy6ADAgECAhAL2gsXwT+JjqsJdHq0zi4zMA0GCSqGSIb3DQEBAgUAMF8xCzAJBgNV
BAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE3MDUGA1UECxMuQ2xhc3MgMSBQdWJsaWMg
UHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTAeFw05ODA1MTIwMDAwMDBaFw0wODA1MTIy
MzU5NTlaMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMIGfMA0GCSqGSIb3DQEB
AQUAA4GNADCBiQKBgQC7WkSKBBa7Vf0DeootlE8VeDa4DUqyb5xUv7zodyqdufBou5XZMUFweoFL
uUgTVi3HCOGEQqvAopKrRFyqQvCCDgLpL/vCO7u+yScKXbawNkIztW5UiE+HSr8Z2vkV6A+Hthzj
zMaajn9qJJLj/OBluqexfu/J2zdqyErICQbkmQIDAQABo4GwMIGtMA8GA1UdEwQIMAYBAf8CAQAw
RwYDVR0gBEAwPjA8BgtghkgBhvhFAQcBATAtMCsGCCsGAQUFBwIBFh93d3cudmVyaXNpZ24uY29t
L3JlcG9zaXRvcnkvUlBBMDEGA1UdHwQqMCgwJqAkoCKGIGh0dHA6Ly9jcmwudmVyaXNpZ24uY29t
L3BjYTEuY3JsMAsGA1UdDwQEAwIBBjARBglghkgBhvhCAQEEBAMCAQYwDQYJKoZIhvcNAQECBQAD
gYEAAn2eb0VLOKC43ulTZCG85Ewrjx7+kkCs2Ao5aqEyISwHm6tZ/tJiGn1VOLA3c9z0B2ZjYr3h
U3BSh+eo2FLpWy2q4d7PrDFU1IsZyNgjqO8EKzJ9LBgcyHyJqC538kTRZQpNdLXu0xuSc3QuiTs1
E3LnQDGa07LEq+dWvovj+xUwggS9MIIEJqADAgECAhB1uB0L6Y5EVCCaaM0jkP2tMA0GCSqGSIb3
DQEBBQUAMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMB4XDTA1MTAwNDAwMDAw
MFoXDTA2MTAxODIzNTk1OVowggEZMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMW
VmVyaVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0
b3J5L1JQQSBJbmNvcnAuIGJ5IFJlZi4sTElBQi5MVEQoYyk5ODEeMBwGA1UECxMVUGVyc29uYSBO
b3QgVmFsaWRhdGVkMTMwMQYDVQQLEypEaWdpdGFsIElEIENsYXNzIDEgLSBOZXRzY2FwZSBGdWxs
IFNlcnZpY2UxGzAZBgNVBAMUElJvYiBTdGF2ZWxleSAoVG9tKTEjMCEGCSqGSIb3DQEJARYUcnN0
YXZlbGV5QHNlc2VpdC5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCm4C+s/DP/
NIW0DrHFueJPsZAZxTzi8Aw2bXOUQbHRDNlSO7nWoDPlkTs5RQl0tsJUDlB5TubjJGWKGBdRePXq
ueK/8yj23cBTzKRTU2gNG6cmmc/f/HwHcuc4MCpW9+okvFCPeaFNzuBPPvegjewz3BL3ewfjeOKr
ly//fr/8JBVW19EgK070C2COZgegYNQ5NeV4Y4oDjqETADQDDnYuTe7EMBuSMysmOSgkCfVzEG4h
8N+1ImW6hWe+bH6Rify+q9eZAQint7sSFGZv3ZbBgmE654FKrvE7O8BOOP807/yaJUBlpDkF/X8G
UwvYNwhH/zbHN1BSCD3tstcSIUGHAgMBAAGjgcswgcgwCQYDVR0TBAIwADBEBgNVHSAEPTA7MDkG
C2CGSAGG+EUBBxcDMCowKAYIKwYBBQUHAgEWHGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9ycGEw
CwYDVR0PBAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMEBggrBgEFBQcDAjAUBgpghkgBhvhFAQYH
BAYWBE5vbmUwMwYDVR0fBCwwKjAooCagJIYiaHR0cDovL2NybC52ZXJpc2lnbi5jb20vY2xhc3Mx
LmNybDANBgkqhkiG9w0BAQUFAAOBgQCtsGmCX3v78Qn3I5DAo9mJDenolmgmBjmlaSJr1e5nSBLv
CEflpx3FaZuirDQNJ/sTxtUCJhlv/kTLuczeJkSDj1ALhqeYH1GX9T5zFY+3GCQqTJcTIarHSqZC
PQzwv3dwZCRE0fuELb6oobi4kGA5PXbu3+P7upHSBAmN81O00TGCBL8wggS7AgEBMIHhMIHMMRcw
FQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29yazFG
MEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNvcnAuIEJ5IFJlZi4s
TElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJbmRpdmlkdWFsIFN1
YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L6Y5EVCCaaM0jkP2tMAkGBSsOAwIa
BQCgggKyMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTA2MDUyNjA3
NDIzNFowIwYJKoZIhvcNAQkEMRYEFBhzgHlAOqjWBiG7vu1r4B88czo6MGcGCSqGSIb3DQEJDzFa
MFgwCgYIKoZIhvcNAwcwDgYIKoZIhvcNAwICAgCAMA0GCCqGSIb3DQMCAgFAMAcGBSsOAwIHMA0G
CCqGSIb3DQMCAgEoMAcGBSsOAwIaMAoGCCqGSIb3DQIFMIHyBgkrBgEEAYI3EAQxgeQwgeEwgcwx
FzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3Jr
MUYwRAYDVQQLEz13d3cudmVyaXNpZ24uY29tL3JlcG9zaXRvcnkvUlBBIEluY29ycC4gQnkgUmVm
LixMSUFCLkxURChjKTk4MUgwRgYDVQQDEz9WZXJpU2lnbiBDbGFzcyAxIENBIEluZGl2aWR1YWwg
U3Vic2NyaWJlci1QZXJzb25hIE5vdCBWYWxpZGF0ZWQCEHW4HQvpjkRUIJpozSOQ/a0wgfQGCyqG
SIb3DQEJEAILMYHkoIHhMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVy
aVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5
L1JQQSBJbmNvcnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xh
c3MgMSBDQSBJbmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L
6Y5EVCCaaM0jkP2tMA0GCSqGSIb3DQEBAQUABIIBAFAg34DWdsi0ZL31Yu3yxyDNkiybWjcGEGqu
P9lfhb8G86SHx5ey2yx5ywoc8xgsihfRa7y6GmiWNj5TgqsMBgCXRr1t2F3/Z+X/YiLsb8vTKVmZ
HHri+yzO3sUmuR4i1sBA4icsLdxgjJq5Zi0RJzr2KawRB4I9pQFmrafFF28ZoQyEZc4bi3SPBUSM
5e2trhK2wQRLcFA2xSdLmkLOcJEebGhRvjdXzBh2Zpr0HevjVdq2Jqa4uWh7LQOq0XlqzheQ6pGR
sBLl0BobvytKjKTnJrFjL4IWwb3UpeDX7EGsaUldVQbJL10GPVIunkXNatQElxmVrKSkAvvGmYzH
xzYAAAAAAAA=

------=_NextPart_000_0064_01C680A0.554DE9D0--


From java-user-return-20916-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 09:07:39 2006
Return-Path: <java-user-return-20916-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20769 invoked from network); 26 May 2006 09:07:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 09:07:38 -0000
Received: (qmail 80312 invoked by uid 500); 26 May 2006 09:07:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80259 invoked by uid 500); 26 May 2006 09:07:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80226 invoked by uid 99); 26 May 2006 09:07:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 02:07:29 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of edgar.meij@gmail.com designates 64.233.162.204 as permitted sender)
Received: from [64.233.162.204] (HELO nz-out-0102.google.com) (64.233.162.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 02:07:26 -0700
Received: by nz-out-0102.google.com with SMTP id 13so22230nzp
        for <java-user@lucene.apache.org>; Fri, 26 May 2006 02:07:05 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=PG1dlKhRfgTUE4IhDMOo9U74Uu9V4cSZoxoMtfkeDGks8rZfNiOOazk+YmY30D/0xJeX4FVCZv7BfpXHkttVaHxvXjcxxF632kLBrv7c4agpoG+xWeyGBy/kZ5CM/d+MS3yHpbCZgs1bzgPI8NA+WPZi4TGxmWoHauHYgPSn2Ho=
Received: by 10.65.249.15 with SMTP id b15mr192711qbs;
        Fri, 26 May 2006 02:06:58 -0700 (PDT)
Received: by 10.65.113.15 with HTTP; Fri, 26 May 2006 02:06:58 -0700 (PDT)
Message-ID: <c5beb01f0605260206w56d6825bwd99d1112982a7a66@mail.gmail.com>
Date: Fri, 26 May 2006 11:06:58 +0200
From: "Edgar Meij" <edgar.meij@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Implemented subclasses of Similarity class in Lucene
In-Reply-To: <20060331012843.92213.qmail@web53510.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <442C5FB0.50503@apache.org>
	 <20060331012843.92213.qmail@web53510.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Ganesh,

We have developed a Language Modeling extension to Lucene at the
University of Amsterdam. It can be found here:

http://ilps.science.uva.nl/Resources/#lm-lucen

It was build around Lucene 1.4.3, so it isn't source compatible with
the latest Lucene version. We are currently working on
integrating/updating it to Lucene 1.9.

Best,

Edgar Meij


On 3/31/06, Ganesh Ramakrishnan <ganesh_ramakrishnan1978@yahoo.com> wrote:
> Hi
>
> Is anyone aware of subclasses of the Similarity class in Lucene? Two subc=
lasses are: DefaultSimilarity and  SimilarityDelegator . Are any other impl=
emented subclasses of Similarity, developed by anyone else available on the=
 web?  For example, Language Model based similarity, or Okapi-BM similarity=
 or different TFIDF weighing scehemes for similarity.
>
>   If so, can you point me to them?
>
>   Thanks and regards,
>   Ganesh.
>
> ---------------------------------
> Yahoo! Messenger with Voice. PC-to-Phone calls for ridiculously low rates=
.
>


--=20
'An approximate answer to the right question is worth a great deal
more than a precise answer to the wrong question'

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20917-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 09:34:17 2006
Return-Path: <java-user-return-20917-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28861 invoked from network); 26 May 2006 09:34:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 09:34:16 -0000
Received: (qmail 23577 invoked by uid 500); 26 May 2006 09:34:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23540 invoked by uid 500); 26 May 2006 09:34:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23529 invoked by uid 99); 26 May 2006 09:34:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 02:34:09 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.97.205.201] (HELO mail.seseit.com) (209.97.205.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 02:34:08 -0700
Received: by mail.seseit.com (Postfix, from userid 65534)
	id 4F3AC187AC; Fri, 26 May 2006 09:33:46 +0000 (GMT)
Received: from max (unknown [213.166.4.230])
	by mail.seseit.com (Postfix) with ESMTP id 60EB0187A9
	for <java-user@lucene.apache.org>; Fri, 26 May 2006 09:33:44 +0000 (GMT)
From: "Rob Staveley (Tom)" <rstaveley@seseit.com>
To: <java-user@lucene.apache.org>
Subject: RE: Seeing what's occupying all the space in the index
Date: Fri, 26 May 2006 10:33:50 +0100
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
Content-Type: multipart/signed;
	protocol="application/x-pkcs7-signature";
	micalg=SHA1;
	boundary="----=_NextPart_000_0082_01C680AF.E0C58130"
In-Reply-To: <20060526074230.4CF42187A9@mail.seseit.com>
Thread-Index: AcaAl/OEGWuCPWnhTb6WNlBzB0ap2gADLWjQ
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
Message-Id: <20060526093344.60EB0187A9@mail.seseit.com>
X-Spam-Checker-Version: SpamAssassin 3.0.3 (2005-04-27) on mini.seseit.net
X-Spam-Level: X
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=1.7 required=5.0 tests=MSGID_FROM_MTA_ID 
	autolearn=no version=3.0.3
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0082_01C680AF.E0C58130
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

In my index of e-mail message parts, it looks like 23K is being used up for
each indexed message part, which is way more than I'd expect. 

I have a total of 37 fields per message part.
I tokenize, index and do not store message part bodies.
I store a <= 300 character synopsis of each message part.
All of the other fields are message metadata, which is tokenized, indexed
and stored but these rarely exceed 100 characters - they are for example To,
From, Cc, Subject, Date

I'm still using Lucene 1.4.3, but am in the process of migrating to 1.9.

Is there any way that I can get a picture of what's occupying all the space?

------=_NextPart_000_0082_01C680AF.E0C58130
Content-Type: application/x-pkcs7-signature;
	name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="smime.p7s"

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIKaDCCAj0w
ggGmAhEAzbp/VvDf5LxU/iKss3KqVTANBgkqhkiG9w0BAQIFADBfMQswCQYDVQQGEwJVUzEXMBUG
A1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVibGljIFByaW1hcnkgQ2Vy
dGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNOTYwMTI5MDAwMDAwWhcNMjgwODAxMjM1OTU5WjBfMQsw
CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVi
bGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwgZ8wDQYJKoZIhvcNAQEBBQADgY0A
MIGJAoGBAOUZv22jVmEtmUhx9mfeuY3rt56GgAqRDvo4Ja9GiILlc6igmyRdDR/MZW4MsNBWhBiH
mgabEKFz37RYOWtuwfYV1aioP6oSBo0xrH+wNNePNGeICc0UEeJORVZpH3gCgNrcR5EpuzbJY1zF
4Ncth3uhtzKwezC6Ki8xqu6jZ9rbAgMBAAEwDQYJKoZIhvcNAQECBQADgYEATD+4i8Zo3+5DMw5d
6abLB4RNejP/khv0Nq3YlSI2aBFsfELM85wuxAc/FLAPT/+Qknb54rxK6Y/NoIAK98Up8YIiXbix
3YEjo3slFUYweRb46gVLlH8dwhzI47f0EEA8E8NfH1PoSOSGtHuhNbB7Jbq4046rPzidADQAmPPR
cZQwggNiMIICy6ADAgECAhAL2gsXwT+JjqsJdHq0zi4zMA0GCSqGSIb3DQEBAgUAMF8xCzAJBgNV
BAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE3MDUGA1UECxMuQ2xhc3MgMSBQdWJsaWMg
UHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTAeFw05ODA1MTIwMDAwMDBaFw0wODA1MTIy
MzU5NTlaMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMIGfMA0GCSqGSIb3DQEB
AQUAA4GNADCBiQKBgQC7WkSKBBa7Vf0DeootlE8VeDa4DUqyb5xUv7zodyqdufBou5XZMUFweoFL
uUgTVi3HCOGEQqvAopKrRFyqQvCCDgLpL/vCO7u+yScKXbawNkIztW5UiE+HSr8Z2vkV6A+Hthzj
zMaajn9qJJLj/OBluqexfu/J2zdqyErICQbkmQIDAQABo4GwMIGtMA8GA1UdEwQIMAYBAf8CAQAw
RwYDVR0gBEAwPjA8BgtghkgBhvhFAQcBATAtMCsGCCsGAQUFBwIBFh93d3cudmVyaXNpZ24uY29t
L3JlcG9zaXRvcnkvUlBBMDEGA1UdHwQqMCgwJqAkoCKGIGh0dHA6Ly9jcmwudmVyaXNpZ24uY29t
L3BjYTEuY3JsMAsGA1UdDwQEAwIBBjARBglghkgBhvhCAQEEBAMCAQYwDQYJKoZIhvcNAQECBQAD
gYEAAn2eb0VLOKC43ulTZCG85Ewrjx7+kkCs2Ao5aqEyISwHm6tZ/tJiGn1VOLA3c9z0B2ZjYr3h
U3BSh+eo2FLpWy2q4d7PrDFU1IsZyNgjqO8EKzJ9LBgcyHyJqC538kTRZQpNdLXu0xuSc3QuiTs1
E3LnQDGa07LEq+dWvovj+xUwggS9MIIEJqADAgECAhB1uB0L6Y5EVCCaaM0jkP2tMA0GCSqGSIb3
DQEBBQUAMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMB4XDTA1MTAwNDAwMDAw
MFoXDTA2MTAxODIzNTk1OVowggEZMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMW
VmVyaVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0
b3J5L1JQQSBJbmNvcnAuIGJ5IFJlZi4sTElBQi5MVEQoYyk5ODEeMBwGA1UECxMVUGVyc29uYSBO
b3QgVmFsaWRhdGVkMTMwMQYDVQQLEypEaWdpdGFsIElEIENsYXNzIDEgLSBOZXRzY2FwZSBGdWxs
IFNlcnZpY2UxGzAZBgNVBAMUElJvYiBTdGF2ZWxleSAoVG9tKTEjMCEGCSqGSIb3DQEJARYUcnN0
YXZlbGV5QHNlc2VpdC5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCm4C+s/DP/
NIW0DrHFueJPsZAZxTzi8Aw2bXOUQbHRDNlSO7nWoDPlkTs5RQl0tsJUDlB5TubjJGWKGBdRePXq
ueK/8yj23cBTzKRTU2gNG6cmmc/f/HwHcuc4MCpW9+okvFCPeaFNzuBPPvegjewz3BL3ewfjeOKr
ly//fr/8JBVW19EgK070C2COZgegYNQ5NeV4Y4oDjqETADQDDnYuTe7EMBuSMysmOSgkCfVzEG4h
8N+1ImW6hWe+bH6Rify+q9eZAQint7sSFGZv3ZbBgmE654FKrvE7O8BOOP807/yaJUBlpDkF/X8G
UwvYNwhH/zbHN1BSCD3tstcSIUGHAgMBAAGjgcswgcgwCQYDVR0TBAIwADBEBgNVHSAEPTA7MDkG
C2CGSAGG+EUBBxcDMCowKAYIKwYBBQUHAgEWHGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9ycGEw
CwYDVR0PBAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMEBggrBgEFBQcDAjAUBgpghkgBhvhFAQYH
BAYWBE5vbmUwMwYDVR0fBCwwKjAooCagJIYiaHR0cDovL2NybC52ZXJpc2lnbi5jb20vY2xhc3Mx
LmNybDANBgkqhkiG9w0BAQUFAAOBgQCtsGmCX3v78Qn3I5DAo9mJDenolmgmBjmlaSJr1e5nSBLv
CEflpx3FaZuirDQNJ/sTxtUCJhlv/kTLuczeJkSDj1ALhqeYH1GX9T5zFY+3GCQqTJcTIarHSqZC
PQzwv3dwZCRE0fuELb6oobi4kGA5PXbu3+P7upHSBAmN81O00TGCBL8wggS7AgEBMIHhMIHMMRcw
FQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29yazFG
MEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNvcnAuIEJ5IFJlZi4s
TElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJbmRpdmlkdWFsIFN1
YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L6Y5EVCCaaM0jkP2tMAkGBSsOAwIa
BQCgggKyMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTA2MDUyNjA5
MzM1MFowIwYJKoZIhvcNAQkEMRYEFEZ88/SxfDjnhP7Cvbu02qsw/IjmMGcGCSqGSIb3DQEJDzFa
MFgwCgYIKoZIhvcNAwcwDgYIKoZIhvcNAwICAgCAMA0GCCqGSIb3DQMCAgFAMAcGBSsOAwIHMA0G
CCqGSIb3DQMCAgEoMAcGBSsOAwIaMAoGCCqGSIb3DQIFMIHyBgkrBgEEAYI3EAQxgeQwgeEwgcwx
FzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3Jr
MUYwRAYDVQQLEz13d3cudmVyaXNpZ24uY29tL3JlcG9zaXRvcnkvUlBBIEluY29ycC4gQnkgUmVm
LixMSUFCLkxURChjKTk4MUgwRgYDVQQDEz9WZXJpU2lnbiBDbGFzcyAxIENBIEluZGl2aWR1YWwg
U3Vic2NyaWJlci1QZXJzb25hIE5vdCBWYWxpZGF0ZWQCEHW4HQvpjkRUIJpozSOQ/a0wgfQGCyqG
SIb3DQEJEAILMYHkoIHhMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVy
aVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5
L1JQQSBJbmNvcnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xh
c3MgMSBDQSBJbmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L
6Y5EVCCaaM0jkP2tMA0GCSqGSIb3DQEBAQUABIIBAFBuhobKq1TenUduYesIuSheAVVyTgwxrztH
5NpTuussrdHnbHfq50KUsIpJFp/0aRDtGrcpurNEgbPlMoWPYXwQ+xG422uiTwCtH621lXH0YVdo
EKnuTwk+39lRDazQGcV1Q/SbH9XszWFZq8RUjbeHsPLx5uSIV1eF+M76+WJnJfoFvnm3X+3qEQEq
cd5ygC7HEt6UqGrIVihcB+utS3caKkW0HBk1f1XWHLXGClfiAidNXji0XnuKxslQ+CQxSSLFU9G8
1H9+anjuPfHAi/toPVZgYVQ3ThEtd2HHaRLgD7xEoz00OV3FQJC4hJA/9rLOP1UM0eZQNgvpt5EU
omMAAAAAAAA=

------=_NextPart_000_0082_01C680AF.E0C58130--


From java-user-return-20918-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 11:43:33 2006
Return-Path: <java-user-return-20918-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70152 invoked from network); 26 May 2006 11:43:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 11:43:33 -0000
Received: (qmail 19768 invoked by uid 500); 26 May 2006 11:43:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18998 invoked by uid 500); 26 May 2006 11:43:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18981 invoked by uid 99); 26 May 2006 11:43:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 04:43:27 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 04:43:26 -0700
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.153E719F@mailer.syr.edu>; Fri, 26 May 2006 7:43:05 -0400
Message-ID: <4476E94F.3070703@syr.edu>
Date: Fri, 26 May 2006 07:41:03 -0400
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Thunderbird 1.5.0.2 (Windows/20060308)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Seeing what's occupying all the space in the index
References: <20060526093344.60EB0187A9@mail.seseit.com>
In-Reply-To: <20060526093344.60EB0187A9@mail.seseit.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Give Luke a try.  Google for "Luke Lucene" and you should find it.  
Otherwise check the Lucene website for a reference.

Rob Staveley (Tom) wrote:
> In my index of e-mail message parts, it looks like 23K is being used up for
> each indexed message part, which is way more than I'd expect. 
>
> I have a total of 37 fields per message part.
> I tokenize, index and do not store message part bodies.
> I store a <= 300 character synopsis of each message part.
> All of the other fields are message metadata, which is tokenized, indexed
> and stored but these rarely exceed 100 characters - they are for example To,
> From, Cc, Subject, Date
>
> I'm still using Lucene 1.4.3, but am in the process of migrating to 1.9.
>
> Is there any way that I can get a picture of what's occupying all the space?
>   

-- 

Grant Ingersoll 
Sr. Software Engineer 
Center for Natural Language Processing 
Syracuse University 
School of Information Studies 
335 Hinds Hall 
Syracuse, NY 13244 

http://www.cnlp.org 
Voice:  315-443-5484 
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20919-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 12:31:50 2006
Return-Path: <java-user-return-20919-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82308 invoked from network); 26 May 2006 12:31:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 12:31:50 -0000
Received: (qmail 98632 invoked by uid 500); 26 May 2006 12:31:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98601 invoked by uid 500); 26 May 2006 12:31:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98590 invoked by uid 99); 26 May 2006 12:31:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 05:31:43 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.97.205.201] (HELO mail.seseit.com) (209.97.205.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 05:31:42 -0700
Received: by mail.seseit.com (Postfix, from userid 65534)
	id A181F187AC; Fri, 26 May 2006 12:31:18 +0000 (GMT)
Received: from max (unknown [213.166.4.230])
	by mail.seseit.com (Postfix) with ESMTP id 331FC187A9
	for <java-user@lucene.apache.org>; Fri, 26 May 2006 12:31:15 +0000 (GMT)
From: "Rob Staveley (Tom)" <rstaveley@seseit.com>
To: <java-user@lucene.apache.org>
Subject: RE: Seeing what's occupying all the space in the index
Date: Fri, 26 May 2006 13:31:22 +0100
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
Content-Type: multipart/signed;
	protocol="application/x-pkcs7-signature";
	micalg=SHA1;
	boundary="----=_NextPart_000_0096_01C680C8.AD648B60"
In-Reply-To: <4476E94F.3070703@syr.edu>
Thread-Index: AcaAuZvtrJ02wR7DRd++HJozHMRS7QABkvSQ
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
Message-Id: <20060526123115.331FC187A9@mail.seseit.com>
X-Spam-Checker-Version: SpamAssassin 3.0.3 (2005-04-27) on mini.seseit.net
X-Spam-Level: X
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=1.7 required=5.0 tests=MSGID_FROM_MTA_ID 
	autolearn=no version=3.0.3
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0096_01C680C8.AD648B60
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

The server is headless (i.e. no X-Windows). I've tried lucli, but that
doesn't have Luke's whistles and bells. Does Luke have a non-GUI equivalent,
Grant?

-----Original Message-----
From: Grant Ingersoll [mailto:gsingers@syr.edu] 
Sent: 26 May 2006 12:41
To: java-user@lucene.apache.org
Subject: Re: Seeing what's occupying all the space in the index

Give Luke a try.  Google for "Luke Lucene" and you should find it.  
Otherwise check the Lucene website for a reference.

------=_NextPart_000_0096_01C680C8.AD648B60
Content-Type: application/x-pkcs7-signature;
	name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="smime.p7s"

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIKaDCCAj0w
ggGmAhEAzbp/VvDf5LxU/iKss3KqVTANBgkqhkiG9w0BAQIFADBfMQswCQYDVQQGEwJVUzEXMBUG
A1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVibGljIFByaW1hcnkgQ2Vy
dGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNOTYwMTI5MDAwMDAwWhcNMjgwODAxMjM1OTU5WjBfMQsw
CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVi
bGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwgZ8wDQYJKoZIhvcNAQEBBQADgY0A
MIGJAoGBAOUZv22jVmEtmUhx9mfeuY3rt56GgAqRDvo4Ja9GiILlc6igmyRdDR/MZW4MsNBWhBiH
mgabEKFz37RYOWtuwfYV1aioP6oSBo0xrH+wNNePNGeICc0UEeJORVZpH3gCgNrcR5EpuzbJY1zF
4Ncth3uhtzKwezC6Ki8xqu6jZ9rbAgMBAAEwDQYJKoZIhvcNAQECBQADgYEATD+4i8Zo3+5DMw5d
6abLB4RNejP/khv0Nq3YlSI2aBFsfELM85wuxAc/FLAPT/+Qknb54rxK6Y/NoIAK98Up8YIiXbix
3YEjo3slFUYweRb46gVLlH8dwhzI47f0EEA8E8NfH1PoSOSGtHuhNbB7Jbq4046rPzidADQAmPPR
cZQwggNiMIICy6ADAgECAhAL2gsXwT+JjqsJdHq0zi4zMA0GCSqGSIb3DQEBAgUAMF8xCzAJBgNV
BAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE3MDUGA1UECxMuQ2xhc3MgMSBQdWJsaWMg
UHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTAeFw05ODA1MTIwMDAwMDBaFw0wODA1MTIy
MzU5NTlaMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMIGfMA0GCSqGSIb3DQEB
AQUAA4GNADCBiQKBgQC7WkSKBBa7Vf0DeootlE8VeDa4DUqyb5xUv7zodyqdufBou5XZMUFweoFL
uUgTVi3HCOGEQqvAopKrRFyqQvCCDgLpL/vCO7u+yScKXbawNkIztW5UiE+HSr8Z2vkV6A+Hthzj
zMaajn9qJJLj/OBluqexfu/J2zdqyErICQbkmQIDAQABo4GwMIGtMA8GA1UdEwQIMAYBAf8CAQAw
RwYDVR0gBEAwPjA8BgtghkgBhvhFAQcBATAtMCsGCCsGAQUFBwIBFh93d3cudmVyaXNpZ24uY29t
L3JlcG9zaXRvcnkvUlBBMDEGA1UdHwQqMCgwJqAkoCKGIGh0dHA6Ly9jcmwudmVyaXNpZ24uY29t
L3BjYTEuY3JsMAsGA1UdDwQEAwIBBjARBglghkgBhvhCAQEEBAMCAQYwDQYJKoZIhvcNAQECBQAD
gYEAAn2eb0VLOKC43ulTZCG85Ewrjx7+kkCs2Ao5aqEyISwHm6tZ/tJiGn1VOLA3c9z0B2ZjYr3h
U3BSh+eo2FLpWy2q4d7PrDFU1IsZyNgjqO8EKzJ9LBgcyHyJqC538kTRZQpNdLXu0xuSc3QuiTs1
E3LnQDGa07LEq+dWvovj+xUwggS9MIIEJqADAgECAhB1uB0L6Y5EVCCaaM0jkP2tMA0GCSqGSIb3
DQEBBQUAMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMB4XDTA1MTAwNDAwMDAw
MFoXDTA2MTAxODIzNTk1OVowggEZMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMW
VmVyaVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0
b3J5L1JQQSBJbmNvcnAuIGJ5IFJlZi4sTElBQi5MVEQoYyk5ODEeMBwGA1UECxMVUGVyc29uYSBO
b3QgVmFsaWRhdGVkMTMwMQYDVQQLEypEaWdpdGFsIElEIENsYXNzIDEgLSBOZXRzY2FwZSBGdWxs
IFNlcnZpY2UxGzAZBgNVBAMUElJvYiBTdGF2ZWxleSAoVG9tKTEjMCEGCSqGSIb3DQEJARYUcnN0
YXZlbGV5QHNlc2VpdC5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCm4C+s/DP/
NIW0DrHFueJPsZAZxTzi8Aw2bXOUQbHRDNlSO7nWoDPlkTs5RQl0tsJUDlB5TubjJGWKGBdRePXq
ueK/8yj23cBTzKRTU2gNG6cmmc/f/HwHcuc4MCpW9+okvFCPeaFNzuBPPvegjewz3BL3ewfjeOKr
ly//fr/8JBVW19EgK070C2COZgegYNQ5NeV4Y4oDjqETADQDDnYuTe7EMBuSMysmOSgkCfVzEG4h
8N+1ImW6hWe+bH6Rify+q9eZAQint7sSFGZv3ZbBgmE654FKrvE7O8BOOP807/yaJUBlpDkF/X8G
UwvYNwhH/zbHN1BSCD3tstcSIUGHAgMBAAGjgcswgcgwCQYDVR0TBAIwADBEBgNVHSAEPTA7MDkG
C2CGSAGG+EUBBxcDMCowKAYIKwYBBQUHAgEWHGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9ycGEw
CwYDVR0PBAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMEBggrBgEFBQcDAjAUBgpghkgBhvhFAQYH
BAYWBE5vbmUwMwYDVR0fBCwwKjAooCagJIYiaHR0cDovL2NybC52ZXJpc2lnbi5jb20vY2xhc3Mx
LmNybDANBgkqhkiG9w0BAQUFAAOBgQCtsGmCX3v78Qn3I5DAo9mJDenolmgmBjmlaSJr1e5nSBLv
CEflpx3FaZuirDQNJ/sTxtUCJhlv/kTLuczeJkSDj1ALhqeYH1GX9T5zFY+3GCQqTJcTIarHSqZC
PQzwv3dwZCRE0fuELb6oobi4kGA5PXbu3+P7upHSBAmN81O00TGCBL8wggS7AgEBMIHhMIHMMRcw
FQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29yazFG
MEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNvcnAuIEJ5IFJlZi4s
TElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJbmRpdmlkdWFsIFN1
YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L6Y5EVCCaaM0jkP2tMAkGBSsOAwIa
BQCgggKyMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTA2MDUyNjEy
MzEyMVowIwYJKoZIhvcNAQkEMRYEFPAN1cnY0EEEZiahdcenfDMig0P4MGcGCSqGSIb3DQEJDzFa
MFgwCgYIKoZIhvcNAwcwDgYIKoZIhvcNAwICAgCAMA0GCCqGSIb3DQMCAgFAMAcGBSsOAwIHMA0G
CCqGSIb3DQMCAgEoMAcGBSsOAwIaMAoGCCqGSIb3DQIFMIHyBgkrBgEEAYI3EAQxgeQwgeEwgcwx
FzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3Jr
MUYwRAYDVQQLEz13d3cudmVyaXNpZ24uY29tL3JlcG9zaXRvcnkvUlBBIEluY29ycC4gQnkgUmVm
LixMSUFCLkxURChjKTk4MUgwRgYDVQQDEz9WZXJpU2lnbiBDbGFzcyAxIENBIEluZGl2aWR1YWwg
U3Vic2NyaWJlci1QZXJzb25hIE5vdCBWYWxpZGF0ZWQCEHW4HQvpjkRUIJpozSOQ/a0wgfQGCyqG
SIb3DQEJEAILMYHkoIHhMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVy
aVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5
L1JQQSBJbmNvcnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xh
c3MgMSBDQSBJbmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L
6Y5EVCCaaM0jkP2tMA0GCSqGSIb3DQEBAQUABIIBAI1iD9rYa1YU8Fc144ew34un7X5a/DrDDc7i
3l60AnjKXXrBxb/viMpHZOrTTZnRpfbcWKNl4qohgNiCV1Ys59MAMYLkJAVIkqSVybP0NBdgK2mb
OkKlFRHdZEMVL4zM64mMJCkxRKaP7cmcfEWupUPKFVE6ctwSOUnxc9fAlUqRF6rECql5x21Dk7Jh
Zis/E9xhkZSTwLCgFjPtwV5MlX0mZFhXO0+k62nAoXmAGlV035C4OxFDrmdRnlPMH/Tm4GMFOXMz
ADpGrFgTr/gKHUIm2/cSelTzJIgw1FA+ap5tbXfKvuubi4J4FPsOMXWGgx/9rnVS54xNy7DNcX1h
lO0AAAAAAAA=

------=_NextPart_000_0096_01C680C8.AD648B60--


From java-user-return-20920-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 12:36:55 2006
Return-Path: <java-user-return-20920-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83707 invoked from network); 26 May 2006 12:36:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 12:36:55 -0000
Received: (qmail 10444 invoked by uid 500); 26 May 2006 12:36:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10298 invoked by uid 500); 26 May 2006 12:36:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10287 invoked by uid 99); 26 May 2006 12:36:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 05:36:47 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [130.159.196.96] (HELO smtphost.cis.strath.ac.uk) (130.159.196.96)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 05:36:46 -0700
Received: from [130.159.185.52] (ws-murat.cis.strath.ac.uk [130.159.185.52])
	by smtphost.cis.strath.ac.uk (8.13.4/8.13.4/Debian-3sarge1) with ESMTP id k4QCaEVW028033
	for <java-user@lucene.apache.org>; Fri, 26 May 2006 13:36:16 +0100
Message-ID: <4476F63E.7030103@cis.strath.ac.uk>
Date: Fri, 26 May 2006 13:36:14 +0100
From: Murat Yakici <murat.yakici@cis.strath.ac.uk>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Implemented subclasses of Similarity class in Lucene
References: <442C5FB0.50503@apache.org>	 <20060331012843.92213.qmail@web53510.mail.yahoo.com> <c5beb01f0605260206w56d6825bwd99d1112982a7a66@mail.gmail.com>
In-Reply-To: <c5beb01f0605260206w56d6825bwd99d1112982a7a66@mail.gmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-CIS-MailScanner: Found to be clean
X-CIS-MailScanner-SpamCheck: not spam (whitelisted),
	SpamAssassin (score=0.02, required 6, autolearn=disabled, AWL 0.02)
X-CIS-MailScanner-From: murat.yakici@cis.strath.ac.uk
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Edgar,
While doing the integration/updating for Lucene 1.9, could you be more 
open and clear about the design so that people can
1)Understand it,
2)Extend it,

Just an recommendation.

Cheers,
Murat

Edgar Meij wrote:

> Hi Ganesh,
> 
> We have developed a Language Modeling extension to Lucene at the
> University of Amsterdam. It can be found here:
> 
> http://ilps.science.uva.nl/Resources/#lm-lucen
> 
> It was build around Lucene 1.4.3, so it isn't source compatible with
> the latest Lucene version. We are currently working on
> integrating/updating it to Lucene 1.9.
> 
> Best,
> 
> Edgar Meij
> 
> 
> On 3/31/06, Ganesh Ramakrishnan <ganesh_ramakrishnan1978@yahoo.com> wrote:
> 
>> Hi
>>
>> Is anyone aware of subclasses of the Similarity class in Lucene? Two 
>> subclasses are: DefaultSimilarity and  SimilarityDelegator . Are any 
>> other implemented subclasses of Similarity, developed by anyone else 
>> available on the web?  For example, Language Model based similarity, 
>> or Okapi-BM similarity or different TFIDF weighing scehemes for 
>> similarity.
>>
>>   If so, can you point me to them?
>>
>>   Thanks and regards,
>>   Ganesh.
>>
>> ---------------------------------
>> Yahoo! Messenger with Voice. PC-to-Phone calls for ridiculously low 
>> rates.
>>
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20921-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 12:43:24 2006
Return-Path: <java-user-return-20921-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85784 invoked from network); 26 May 2006 12:43:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 12:43:24 -0000
Received: (qmail 21804 invoked by uid 500); 26 May 2006 12:43:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21591 invoked by uid 500); 26 May 2006 12:43:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21580 invoked by uid 99); 26 May 2006 12:43:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 05:43:15 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 05:43:14 -0700
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.153E746C@mailer.syr.edu>; Fri, 26 May 2006 8:42:54 -0400
Message-ID: <4476F754.6010904@syr.edu>
Date: Fri, 26 May 2006 08:40:52 -0400
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Thunderbird 1.5.0.2 (Windows/20060308)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Seeing what's occupying all the space in the index
References: <20060526123115.331FC187A9@mail.seseit.com>
In-Reply-To: <20060526123115.331FC187A9@mail.seseit.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I don't believe it does.  Is there anyway you can mount the drive where 
the index lives?  Can you copy the index to someplace that allows you to 
run Luke?

Otherwise, you could write a simple standalone program that dumps the 
terms and their freqs from the command line.  I don't think it would 
take too many lines of code.  I believe somewhere in the contrib package 
there is some code named HighFreqTerms.java that will dump out the 
highest n occurring terms.

Rob Staveley (Tom) wrote:
> The server is headless (i.e. no X-Windows). I've tried lucli, but that
> doesn't have Luke's whistles and bells. Does Luke have a non-GUI equivalent,
> Grant?
>
> -----Original Message-----
> From: Grant Ingersoll [mailto:gsingers@syr.edu] 
> Sent: 26 May 2006 12:41
> To: java-user@lucene.apache.org
> Subject: Re: Seeing what's occupying all the space in the index
>
> Give Luke a try.  Google for "Luke Lucene" and you should find it.  
> Otherwise check the Lucene website for a reference.
>   

-- 

Grant Ingersoll 
Sr. Software Engineer 
Center for Natural Language Processing 
Syracuse University 
School of Information Studies 
335 Hinds Hall 
Syracuse, NY 13244 

http://www.cnlp.org 
Voice:  315-443-5484 
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20922-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 13:43:16 2006
Return-Path: <java-user-return-20922-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17727 invoked from network); 26 May 2006 13:43:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 13:43:16 -0000
Received: (qmail 53431 invoked by uid 500); 26 May 2006 13:43:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52874 invoked by uid 500); 26 May 2006 13:43:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52862 invoked by uid 99); 26 May 2006 13:43:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 06:43:09 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.151.89.70] (HELO server) (213.151.89.70)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 06:43:08 -0700
Received: from [85.207.40.193] (helo=[10.10.1.71])
	by server with esmtp (Exim 4.50)
	id 1Fjccf-0004nn-5N
	for java-user@lucene.apache.org; Fri, 26 May 2006 15:45:01 +0200
Message-ID: <447705BF.60007@tejnora.cz>
Date: Fri, 26 May 2006 15:42:23 +0200
From: Karel Tejnora <karel@tejnora.cz>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Seeing what's occupying all the space in the index
References: <20060526123115.331FC187A9@mail.seseit.com> <4476F754.6010904@syr.edu>
In-Reply-To: <4476F754.6010904@syr.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-SA-Exim-Connect-IP: 85.207.40.193
X-SA-Exim-Mail-From: karel@tejnora.cz
X-SA-Exim-Scanned: No (on server); SAEximRunCond expanded to false
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Or you can use ssh -X for X11 forwarding. I don't know how it's working 
in windows (some x client app) but great on linux(es) with huge bandwidth.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20923-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 14:10:38 2006
Return-Path: <java-user-return-20923-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27608 invoked from network); 26 May 2006 14:10:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 14:10:38 -0000
Received: (qmail 2382 invoked by uid 500); 26 May 2006 14:10:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2358 invoked by uid 500); 26 May 2006 14:10:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2345 invoked by uid 99); 26 May 2006 14:10:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 07:10:31 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.97.205.201] (HELO mail.seseit.com) (209.97.205.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 07:10:28 -0700
Received: by mail.seseit.com (Postfix, from userid 65534)
	id E9DAF187AC; Fri, 26 May 2006 14:10:06 +0000 (GMT)
Received: from max (unknown [213.166.4.230])
	by mail.seseit.com (Postfix) with ESMTP id 73A90187A9
	for <java-user@lucene.apache.org>; Fri, 26 May 2006 14:10:05 +0000 (GMT)
From: "Rob Staveley (Tom)" <rstaveley@seseit.com>
To: <java-user@lucene.apache.org>
Subject: RE: Seeing what's occupying all the space in the index
Date: Fri, 26 May 2006 15:10:11 +0100
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
Content-Type: multipart/signed;
	protocol="application/x-pkcs7-signature";
	micalg=SHA1;
	boundary="----=_NextPart_000_00BD_01C680D6.7B639BC0"
In-Reply-To: <447705BF.60007@tejnora.cz>
Thread-Index: AcaAylXtd1Lzvl8ETxOVnDxum/LtXAAAiUWQ
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
Message-Id: <20060526141005.73A90187A9@mail.seseit.com>
X-Spam-Checker-Version: SpamAssassin 3.0.3 (2005-04-27) on mini.seseit.net
X-Spam-Level: X
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=1.7 required=5.0 tests=MSGID_FROM_MTA_ID 
	autolearn=no version=3.0.3
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00BD_01C680D6.7B639BC0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Luke is working nicely with a XWin32 demo server, I just downloaded from
StarNet, with a bit of SSH tunnelling :-)  [I couldn't immediately figure
out how to do it with Cygwin/X.]

However, I can't see how Luke is going to show me what's occupying most of
my index. 

-----Original Message-----
From: Karel Tejnora [mailto:karel@tejnora.cz] 
Sent: 26 May 2006 14:42
To: java-user@lucene.apache.org
Subject: Re: Seeing what's occupying all the space in the index

Or you can use ssh -X for X11 forwarding. I don't know how it's working in
windows (some x client app) but great on linux(es) with huge bandwidth.

------=_NextPart_000_00BD_01C680D6.7B639BC0
Content-Type: application/x-pkcs7-signature;
	name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="smime.p7s"

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIKaDCCAj0w
ggGmAhEAzbp/VvDf5LxU/iKss3KqVTANBgkqhkiG9w0BAQIFADBfMQswCQYDVQQGEwJVUzEXMBUG
A1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVibGljIFByaW1hcnkgQ2Vy
dGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNOTYwMTI5MDAwMDAwWhcNMjgwODAxMjM1OTU5WjBfMQsw
CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVi
bGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwgZ8wDQYJKoZIhvcNAQEBBQADgY0A
MIGJAoGBAOUZv22jVmEtmUhx9mfeuY3rt56GgAqRDvo4Ja9GiILlc6igmyRdDR/MZW4MsNBWhBiH
mgabEKFz37RYOWtuwfYV1aioP6oSBo0xrH+wNNePNGeICc0UEeJORVZpH3gCgNrcR5EpuzbJY1zF
4Ncth3uhtzKwezC6Ki8xqu6jZ9rbAgMBAAEwDQYJKoZIhvcNAQECBQADgYEATD+4i8Zo3+5DMw5d
6abLB4RNejP/khv0Nq3YlSI2aBFsfELM85wuxAc/FLAPT/+Qknb54rxK6Y/NoIAK98Up8YIiXbix
3YEjo3slFUYweRb46gVLlH8dwhzI47f0EEA8E8NfH1PoSOSGtHuhNbB7Jbq4046rPzidADQAmPPR
cZQwggNiMIICy6ADAgECAhAL2gsXwT+JjqsJdHq0zi4zMA0GCSqGSIb3DQEBAgUAMF8xCzAJBgNV
BAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE3MDUGA1UECxMuQ2xhc3MgMSBQdWJsaWMg
UHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTAeFw05ODA1MTIwMDAwMDBaFw0wODA1MTIy
MzU5NTlaMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMIGfMA0GCSqGSIb3DQEB
AQUAA4GNADCBiQKBgQC7WkSKBBa7Vf0DeootlE8VeDa4DUqyb5xUv7zodyqdufBou5XZMUFweoFL
uUgTVi3HCOGEQqvAopKrRFyqQvCCDgLpL/vCO7u+yScKXbawNkIztW5UiE+HSr8Z2vkV6A+Hthzj
zMaajn9qJJLj/OBluqexfu/J2zdqyErICQbkmQIDAQABo4GwMIGtMA8GA1UdEwQIMAYBAf8CAQAw
RwYDVR0gBEAwPjA8BgtghkgBhvhFAQcBATAtMCsGCCsGAQUFBwIBFh93d3cudmVyaXNpZ24uY29t
L3JlcG9zaXRvcnkvUlBBMDEGA1UdHwQqMCgwJqAkoCKGIGh0dHA6Ly9jcmwudmVyaXNpZ24uY29t
L3BjYTEuY3JsMAsGA1UdDwQEAwIBBjARBglghkgBhvhCAQEEBAMCAQYwDQYJKoZIhvcNAQECBQAD
gYEAAn2eb0VLOKC43ulTZCG85Ewrjx7+kkCs2Ao5aqEyISwHm6tZ/tJiGn1VOLA3c9z0B2ZjYr3h
U3BSh+eo2FLpWy2q4d7PrDFU1IsZyNgjqO8EKzJ9LBgcyHyJqC538kTRZQpNdLXu0xuSc3QuiTs1
E3LnQDGa07LEq+dWvovj+xUwggS9MIIEJqADAgECAhB1uB0L6Y5EVCCaaM0jkP2tMA0GCSqGSIb3
DQEBBQUAMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMB4XDTA1MTAwNDAwMDAw
MFoXDTA2MTAxODIzNTk1OVowggEZMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMW
VmVyaVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0
b3J5L1JQQSBJbmNvcnAuIGJ5IFJlZi4sTElBQi5MVEQoYyk5ODEeMBwGA1UECxMVUGVyc29uYSBO
b3QgVmFsaWRhdGVkMTMwMQYDVQQLEypEaWdpdGFsIElEIENsYXNzIDEgLSBOZXRzY2FwZSBGdWxs
IFNlcnZpY2UxGzAZBgNVBAMUElJvYiBTdGF2ZWxleSAoVG9tKTEjMCEGCSqGSIb3DQEJARYUcnN0
YXZlbGV5QHNlc2VpdC5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCm4C+s/DP/
NIW0DrHFueJPsZAZxTzi8Aw2bXOUQbHRDNlSO7nWoDPlkTs5RQl0tsJUDlB5TubjJGWKGBdRePXq
ueK/8yj23cBTzKRTU2gNG6cmmc/f/HwHcuc4MCpW9+okvFCPeaFNzuBPPvegjewz3BL3ewfjeOKr
ly//fr/8JBVW19EgK070C2COZgegYNQ5NeV4Y4oDjqETADQDDnYuTe7EMBuSMysmOSgkCfVzEG4h
8N+1ImW6hWe+bH6Rify+q9eZAQint7sSFGZv3ZbBgmE654FKrvE7O8BOOP807/yaJUBlpDkF/X8G
UwvYNwhH/zbHN1BSCD3tstcSIUGHAgMBAAGjgcswgcgwCQYDVR0TBAIwADBEBgNVHSAEPTA7MDkG
C2CGSAGG+EUBBxcDMCowKAYIKwYBBQUHAgEWHGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9ycGEw
CwYDVR0PBAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMEBggrBgEFBQcDAjAUBgpghkgBhvhFAQYH
BAYWBE5vbmUwMwYDVR0fBCwwKjAooCagJIYiaHR0cDovL2NybC52ZXJpc2lnbi5jb20vY2xhc3Mx
LmNybDANBgkqhkiG9w0BAQUFAAOBgQCtsGmCX3v78Qn3I5DAo9mJDenolmgmBjmlaSJr1e5nSBLv
CEflpx3FaZuirDQNJ/sTxtUCJhlv/kTLuczeJkSDj1ALhqeYH1GX9T5zFY+3GCQqTJcTIarHSqZC
PQzwv3dwZCRE0fuELb6oobi4kGA5PXbu3+P7upHSBAmN81O00TGCBL8wggS7AgEBMIHhMIHMMRcw
FQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29yazFG
MEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNvcnAuIEJ5IFJlZi4s
TElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJbmRpdmlkdWFsIFN1
YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L6Y5EVCCaaM0jkP2tMAkGBSsOAwIa
BQCgggKyMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTA2MDUyNjE0
MTAxMFowIwYJKoZIhvcNAQkEMRYEFIezf3hgdeZuK0II0pAkUCBqU9i7MGcGCSqGSIb3DQEJDzFa
MFgwCgYIKoZIhvcNAwcwDgYIKoZIhvcNAwICAgCAMA0GCCqGSIb3DQMCAgFAMAcGBSsOAwIHMA0G
CCqGSIb3DQMCAgEoMAcGBSsOAwIaMAoGCCqGSIb3DQIFMIHyBgkrBgEEAYI3EAQxgeQwgeEwgcwx
FzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3Jr
MUYwRAYDVQQLEz13d3cudmVyaXNpZ24uY29tL3JlcG9zaXRvcnkvUlBBIEluY29ycC4gQnkgUmVm
LixMSUFCLkxURChjKTk4MUgwRgYDVQQDEz9WZXJpU2lnbiBDbGFzcyAxIENBIEluZGl2aWR1YWwg
U3Vic2NyaWJlci1QZXJzb25hIE5vdCBWYWxpZGF0ZWQCEHW4HQvpjkRUIJpozSOQ/a0wgfQGCyqG
SIb3DQEJEAILMYHkoIHhMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVy
aVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5
L1JQQSBJbmNvcnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xh
c3MgMSBDQSBJbmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L
6Y5EVCCaaM0jkP2tMA0GCSqGSIb3DQEBAQUABIIBAG6MUqYKp+X0cedPE5NtnWgr2pgF6AHqC2UP
CtiXQsSROx+hX9oYuRUtLldUFgwjZJ52IQ2puzX8x2c7LlLbC9Co33Fo7gy1td2f37DNA4GDO85W
I1wF2mvFZ6lR+hPkQP+di7KrIY8QFm2RVT0gAAocM/akOqojsu359Zs2oyzonm0k5/uAY539BtMd
b/lvvsT822SWxiru84ffqydeUhcKkLOweDxVIx7DeIn091wXaHEmi8V0sONLYfTEM8CeoDxF2cpf
/rFoeBfVq2c0fQBUiRHNuMB1XPoALQwq+nTsc9SvjzxizDfmwFAGGAA2+FuDbu/ORilAasa3cxkP
ex0AAAAAAAA=

------=_NextPart_000_00BD_01C680D6.7B639BC0--


From java-user-return-20924-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 14:15:14 2006
Return-Path: <java-user-return-20924-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28885 invoked from network); 26 May 2006 14:15:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 14:15:14 -0000
Received: (qmail 13775 invoked by uid 500); 26 May 2006 14:15:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13708 invoked by uid 500); 26 May 2006 14:15:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13680 invoked by uid 99); 26 May 2006 14:15:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 07:15:07 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dayzman@gmail.com designates 66.249.82.195 as permitted sender)
Received: from [66.249.82.195] (HELO wx-out-0102.google.com) (66.249.82.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 07:15:06 -0700
Received: by wx-out-0102.google.com with SMTP id s16so50612wxc
        for <java-user@lucene.apache.org>; Fri, 26 May 2006 07:14:46 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=UAF6Z5XgNVqXb6lRuXmo0SgblVD38iLjfc4kJ3sPzi+CPGvqLomJhySqzB54ksXX5s+LTJ/It3RTHfKRdbnMP0KNciobesFYq9SU9aeneIQ3x2SvvDA/gMd39VAgg01msimcNpkGAU9HLErucpChGgMd6rYm/A59tLUAuXmtEfA=
Received: by 10.70.69.13 with SMTP id r13mr312805wxa;
        Fri, 26 May 2006 07:14:29 -0700 (PDT)
Received: by 10.70.76.20 with HTTP; Fri, 26 May 2006 07:14:29 -0700 (PDT)
Message-ID: <429c032d0605260714p69ad26a2n1cfae95724bf866d@mail.gmail.com>
Date: Fri, 26 May 2006 22:14:29 +0800
From: "Michael Chan" <dayzman@gmail.com>
To: java-user@lucene.apache.org
Subject: BufferedIndexInput.readByte performance
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I have a 5gb index containing 2mil documents and am trying to run
1mil+ queries against it. Most of the queries are SpanQueries and it
occurs to me that the search performance is quite slow when using 2, 3
SpanOrQueries nested inside a SpanNearQuery, which in turn is nested
inside another SpanNearQuery. The response time is around 3-5 seconds
even when the index is stored as a RAMDirectory, and
BufferedIndexInput.readByte() appears to be the bottleneck. Is this
performance typical? As I don't need any sorting of the results and
only need the number of results returned, is there anything, besides
Field.setOmitNorm(true), I can modify to improve performance?

Cheers,

Michael

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20925-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 14:51:10 2006
Return-Path: <java-user-return-20925-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44026 invoked from network); 26 May 2006 14:51:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 14:51:09 -0000
Received: (qmail 10489 invoked by uid 500); 26 May 2006 14:51:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10460 invoked by uid 500); 26 May 2006 14:51:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10426 invoked by uid 99); 26 May 2006 14:51:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 07:51:02 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.97.205.201] (HELO mail.seseit.com) (209.97.205.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 07:51:01 -0700
Received: by mail.seseit.com (Postfix, from userid 65534)
	id DC6F0187AC; Fri, 26 May 2006 14:50:38 +0000 (GMT)
Received: from max (unknown [213.166.4.230])
	by mail.seseit.com (Postfix) with ESMTP id 76356187A9
	for <java-user@lucene.apache.org>; Fri, 26 May 2006 14:50:37 +0000 (GMT)
From: "Rob Staveley (Tom)" <rstaveley@seseit.com>
To: <java-user@lucene.apache.org>
Subject: RE: Seeing what's occupying all the space in the index
Date: Fri, 26 May 2006 15:50:43 +0100
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
Content-Type: multipart/signed;
	protocol="application/x-pkcs7-signature";
	micalg=SHA1;
	boundary="----=_NextPart_000_00CD_01C680DC.250542A0"
In-Reply-To: <20060526141005.73A90187A9@mail.seseit.com>
Thread-Index: AcaAylXtd1Lzvl8ETxOVnDxum/LtXAAAiUWQAAE5VuA=
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
Message-Id: <20060526145037.76356187A9@mail.seseit.com>
X-Spam-Checker-Version: SpamAssassin 3.0.3 (2005-04-27) on mini.seseit.net
X-Spam-Level: X
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=1.7 required=5.0 tests=MSGID_FROM_MTA_ID 
	autolearn=no version=3.0.3
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00CD_01C680DC.250542A0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

 > I can't see how Luke is going to show me what's occupying most of my
index. 

I do however notice that none of my stored fields are stored compressed.
Presumably Field.Store COMPRESS is something that is new in Lucene 1.9 and
wasn't available in 1.4.3??  However, it is still hard to see what's causing
the index to grow by 25kB with each document I index.

Is there anything I can learn from the index directory's file listing?
Here's the top of file listing in descending order of size from the index
directory:

--------8<--------
rob@dev:~/dat/indexd/index-1$ ls -lS | more
total 95374800
-rw-r--r--    1 rob dev 4449248724 May 26 00:32 _2fyfe.cfs
-rw-r--r--    1 rob dev 2522952122 May 26 14:17 _2k5vi.fdt
-rw-r--r--    1 rob dev 2413775516 May 26 01:16 _2g6l3.fdt
-rw-r--r--    1 rob dev 2368881846 May 25 18:14 _2ehe7.fdt
-rw-r--r--    1 rob dev 2344670598 May 25 16:31 _2dn69.fdt
-rw-r--r--    1 rob dev 2324315860 May 25 14:10 _2cxea.fdt
-rw-r--r--    1 rob dev 2259070168 May 25 10:28 _2aeb0.fdt
-rw-r--r--    1 rob dev 2113143078 May 24 13:39 _24xxv.fdt
-rw-r--r--    1 rob dev 2005876265 May 23 16:47 _21143.fdt
-rw-r--r--    1 rob dev 1994658169 May 23 16:09 _20mgq.fdt
-rw-r--r--    1 rob dev 1991402285 May 23 14:21 _20id9.fdt
-rw-r--r--    1 rob dev 1973739578 May 23 12:17 _1zvpr.fdt
-rw-r--r--    1 rob dev 1964392156 May 23 11:14 _1zjra.fdt
-rw-r--r--    1 rob dev 1957195484 May 23 10:27 _1zanx.fdt
-rw-r--r--    1 rob dev 1940435968 May 12 13:58 _1374v.cfs
-rw-r--r--    1 rob dev 1932876050 May 23 08:34 _1yep1.fdt
-rw-r--r--    1 rob dev 1908759860 May 22 22:26 _1xhs9.fdt
-rw-r--r--    1 rob dev 1862224271 May 22 14:24 _1vxc8.fdt
-rw-r--r--    1 rob dev 1775652952 May 21 19:15 _1slqr.fdt
-rw-r--r--    1 rob dev 1674336305 May 20 10:10 _1oaje.fdt
-rw-r--r--    1 rob dev 1641906176 May 17 12:24 _1f3lp.cfs
-rw-r--r--    1 rob dev 1626645390 May 19 16:39 _1mjaa.fdt
-rw-r--r--    1 rob dev 1412089155 May 17 12:21 _1f3lp.fdt
-rw-r--r--    1 rob dev 1400399872 May 19 16:51 _1mjaa.cfs
-rw-r--r--    1 rob dev 1090611130 May 12 13:51 _1374v.fdt
-rw-r--r--    1 rob dev 1059463168 May 16 09:24 _1azb3.fdt
-rw-r--r--    1 rob dev 1052419072 May 11 16:36 _1168u.cfs
-rw-r--r--    1 rob dev 1034522679 May 11 16:34 _1168u.fdt
-rw-r--r--    1 rob dev 1023033344 May 23 14:51 _20m4q.fdt
-rw-r--r--    1 rob dev 857224192 May  4 18:16 _lluq.cfs
-rw-r--r--    1 rob dev 821198047 May 26 14:21 _2k5vi.prx
-rw-r--r--    1 rob dev 808694510 May  8 14:09 _sunn.fdt
-rw-r--r--    1 rob dev 786164503 May 26 01:26 _2g6l3.prx
-rw-r--r--    1 rob dev 780030917 May 26 14:21 _2k5vi.frq
-rw-r--r--    1 rob dev 772484883 May 25 18:19 _2ehe7.prx
-rw-r--r--    1 rob dev 763351845 May 25 16:41 _2dn69.prx
-rw-r--r--    1 rob dev 755794097 May 25 14:14 _2cxea.prx
-rw-r--r--    1 rob dev 745972375 May 26 01:26 _2g6l3.frq
-rw-r--r--    1 rob dev 732753582 May 25 10:45 _2aeb0.prx
-rw-r--r--    1 rob dev 732496935 May 25 18:19 _2ehe7.frq
-rw-r--r--    1 rob dev 724428884 May 25 16:41 _2dn69.frq
-rw-r--r--    1 rob dev 719733760 May 25 09:49 _29vyk.fdt
-rw-r--r--    1 rob dev 717613127 May 25 14:14 _2cxea.frq
-rw-r--r--    1 rob dev 696849854 May 25 10:45 _2aeb0.frq
-rw-r--r--    1 rob dev 686227498 May 24 13:59 _24xxv.prx
--------8<--------

------=_NextPart_000_00CD_01C680DC.250542A0
Content-Type: application/x-pkcs7-signature;
	name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="smime.p7s"

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIKaDCCAj0w
ggGmAhEAzbp/VvDf5LxU/iKss3KqVTANBgkqhkiG9w0BAQIFADBfMQswCQYDVQQGEwJVUzEXMBUG
A1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVibGljIFByaW1hcnkgQ2Vy
dGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNOTYwMTI5MDAwMDAwWhcNMjgwODAxMjM1OTU5WjBfMQsw
CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVi
bGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwgZ8wDQYJKoZIhvcNAQEBBQADgY0A
MIGJAoGBAOUZv22jVmEtmUhx9mfeuY3rt56GgAqRDvo4Ja9GiILlc6igmyRdDR/MZW4MsNBWhBiH
mgabEKFz37RYOWtuwfYV1aioP6oSBo0xrH+wNNePNGeICc0UEeJORVZpH3gCgNrcR5EpuzbJY1zF
4Ncth3uhtzKwezC6Ki8xqu6jZ9rbAgMBAAEwDQYJKoZIhvcNAQECBQADgYEATD+4i8Zo3+5DMw5d
6abLB4RNejP/khv0Nq3YlSI2aBFsfELM85wuxAc/FLAPT/+Qknb54rxK6Y/NoIAK98Up8YIiXbix
3YEjo3slFUYweRb46gVLlH8dwhzI47f0EEA8E8NfH1PoSOSGtHuhNbB7Jbq4046rPzidADQAmPPR
cZQwggNiMIICy6ADAgECAhAL2gsXwT+JjqsJdHq0zi4zMA0GCSqGSIb3DQEBAgUAMF8xCzAJBgNV
BAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE3MDUGA1UECxMuQ2xhc3MgMSBQdWJsaWMg
UHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTAeFw05ODA1MTIwMDAwMDBaFw0wODA1MTIy
MzU5NTlaMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMIGfMA0GCSqGSIb3DQEB
AQUAA4GNADCBiQKBgQC7WkSKBBa7Vf0DeootlE8VeDa4DUqyb5xUv7zodyqdufBou5XZMUFweoFL
uUgTVi3HCOGEQqvAopKrRFyqQvCCDgLpL/vCO7u+yScKXbawNkIztW5UiE+HSr8Z2vkV6A+Hthzj
zMaajn9qJJLj/OBluqexfu/J2zdqyErICQbkmQIDAQABo4GwMIGtMA8GA1UdEwQIMAYBAf8CAQAw
RwYDVR0gBEAwPjA8BgtghkgBhvhFAQcBATAtMCsGCCsGAQUFBwIBFh93d3cudmVyaXNpZ24uY29t
L3JlcG9zaXRvcnkvUlBBMDEGA1UdHwQqMCgwJqAkoCKGIGh0dHA6Ly9jcmwudmVyaXNpZ24uY29t
L3BjYTEuY3JsMAsGA1UdDwQEAwIBBjARBglghkgBhvhCAQEEBAMCAQYwDQYJKoZIhvcNAQECBQAD
gYEAAn2eb0VLOKC43ulTZCG85Ewrjx7+kkCs2Ao5aqEyISwHm6tZ/tJiGn1VOLA3c9z0B2ZjYr3h
U3BSh+eo2FLpWy2q4d7PrDFU1IsZyNgjqO8EKzJ9LBgcyHyJqC538kTRZQpNdLXu0xuSc3QuiTs1
E3LnQDGa07LEq+dWvovj+xUwggS9MIIEJqADAgECAhB1uB0L6Y5EVCCaaM0jkP2tMA0GCSqGSIb3
DQEBBQUAMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMB4XDTA1MTAwNDAwMDAw
MFoXDTA2MTAxODIzNTk1OVowggEZMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMW
VmVyaVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0
b3J5L1JQQSBJbmNvcnAuIGJ5IFJlZi4sTElBQi5MVEQoYyk5ODEeMBwGA1UECxMVUGVyc29uYSBO
b3QgVmFsaWRhdGVkMTMwMQYDVQQLEypEaWdpdGFsIElEIENsYXNzIDEgLSBOZXRzY2FwZSBGdWxs
IFNlcnZpY2UxGzAZBgNVBAMUElJvYiBTdGF2ZWxleSAoVG9tKTEjMCEGCSqGSIb3DQEJARYUcnN0
YXZlbGV5QHNlc2VpdC5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCm4C+s/DP/
NIW0DrHFueJPsZAZxTzi8Aw2bXOUQbHRDNlSO7nWoDPlkTs5RQl0tsJUDlB5TubjJGWKGBdRePXq
ueK/8yj23cBTzKRTU2gNG6cmmc/f/HwHcuc4MCpW9+okvFCPeaFNzuBPPvegjewz3BL3ewfjeOKr
ly//fr/8JBVW19EgK070C2COZgegYNQ5NeV4Y4oDjqETADQDDnYuTe7EMBuSMysmOSgkCfVzEG4h
8N+1ImW6hWe+bH6Rify+q9eZAQint7sSFGZv3ZbBgmE654FKrvE7O8BOOP807/yaJUBlpDkF/X8G
UwvYNwhH/zbHN1BSCD3tstcSIUGHAgMBAAGjgcswgcgwCQYDVR0TBAIwADBEBgNVHSAEPTA7MDkG
C2CGSAGG+EUBBxcDMCowKAYIKwYBBQUHAgEWHGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9ycGEw
CwYDVR0PBAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMEBggrBgEFBQcDAjAUBgpghkgBhvhFAQYH
BAYWBE5vbmUwMwYDVR0fBCwwKjAooCagJIYiaHR0cDovL2NybC52ZXJpc2lnbi5jb20vY2xhc3Mx
LmNybDANBgkqhkiG9w0BAQUFAAOBgQCtsGmCX3v78Qn3I5DAo9mJDenolmgmBjmlaSJr1e5nSBLv
CEflpx3FaZuirDQNJ/sTxtUCJhlv/kTLuczeJkSDj1ALhqeYH1GX9T5zFY+3GCQqTJcTIarHSqZC
PQzwv3dwZCRE0fuELb6oobi4kGA5PXbu3+P7upHSBAmN81O00TGCBL8wggS7AgEBMIHhMIHMMRcw
FQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29yazFG
MEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNvcnAuIEJ5IFJlZi4s
TElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJbmRpdmlkdWFsIFN1
YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L6Y5EVCCaaM0jkP2tMAkGBSsOAwIa
BQCgggKyMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTA2MDUyNjE0
NTA0MlowIwYJKoZIhvcNAQkEMRYEFDPtx5asFuJxEZzzUBQwC7F03LI1MGcGCSqGSIb3DQEJDzFa
MFgwCgYIKoZIhvcNAwcwDgYIKoZIhvcNAwICAgCAMA0GCCqGSIb3DQMCAgFAMAcGBSsOAwIHMA0G
CCqGSIb3DQMCAgEoMAcGBSsOAwIaMAoGCCqGSIb3DQIFMIHyBgkrBgEEAYI3EAQxgeQwgeEwgcwx
FzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3Jr
MUYwRAYDVQQLEz13d3cudmVyaXNpZ24uY29tL3JlcG9zaXRvcnkvUlBBIEluY29ycC4gQnkgUmVm
LixMSUFCLkxURChjKTk4MUgwRgYDVQQDEz9WZXJpU2lnbiBDbGFzcyAxIENBIEluZGl2aWR1YWwg
U3Vic2NyaWJlci1QZXJzb25hIE5vdCBWYWxpZGF0ZWQCEHW4HQvpjkRUIJpozSOQ/a0wgfQGCyqG
SIb3DQEJEAILMYHkoIHhMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVy
aVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5
L1JQQSBJbmNvcnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xh
c3MgMSBDQSBJbmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L
6Y5EVCCaaM0jkP2tMA0GCSqGSIb3DQEBAQUABIIBAIwa9Up9QKO9itcsggMb9oT6cBlBg1JAEVzi
+BsE5Grz/D6JvfMiHN7JTFihRE4ETLvIDiEDy2F7L7xil3RS9w5fIOSEnRNrVf9Q1Ja0Sj9XFMZE
FKxju0H7G0L4Fbr2PPEUcrVmqWMHzLNk8blsYZi+j9T1dfM4rjPFEPAOA0KeS7ZT/2mDdWmeEc++
96/+ejaGmTAKNs1axnD7RIDmJynjBGAGXpudM7783ZanJcEsa4CgELkcFNWCrF0+AZYO41Y7iZAg
A9jA9IZrN4BodK7bSEC0BOiq2IJkltlo3YqYpry7RO22DvWCeDiV5YHWzKED4rNzlPt0TGVfKx10
D8kAAAAAAAA=

------=_NextPart_000_00CD_01C680DC.250542A0--


From java-user-return-20926-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 14:57:37 2006
Return-Path: <java-user-return-20926-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47105 invoked from network); 26 May 2006 14:57:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 14:57:37 -0000
Received: (qmail 19554 invoked by uid 500); 26 May 2006 14:57:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19516 invoked by uid 500); 26 May 2006 14:57:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19505 invoked by uid 99); 26 May 2006 14:57:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 07:57:30 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 07:57:28 -0700
Received: from [192.168.0.252] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id k4QEv5208911;
	Fri, 26 May 2006 09:57:06 -0500
Message-ID: <4477175A.20101@getopt.org>
Date: Fri, 26 May 2006 16:57:30 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Thunderbird 1.5.0.2 (Windows/20060308)
MIME-Version: 1.0
To: Dennis Kubes <nutch-dev@dragonflymc.com>
CC: java-user@lucene.apache.org
Subject: Re: Run-Time Error
References: <20060526123115.331FC187A9@mail.seseit.com>
In-Reply-To: <20060526123115.331FC187A9@mail.seseit.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dennis Kubes wrote:
> The server is headless (i.e. no X-Windows). I've tried lucli, but that
> doesn't have Luke's whistles and bells. Does Luke have a non-GUI equivalent,
> Grant?
>   

You can tunnel your X session through ssh. If that's not possible, AND 
you are familiar with Lucene API, then you can use BeanShell - just put 
the bsh*.jar in lib/, and then do:

# bin/nutch bsh.Interpreter
BeanShell 2.0b4 - by Pat Niemeyer (pat@pat.net)
bsh % import org.apache.lucene.index.*;
bsh % import org.apache.lucene.document.*;
bsh % ir = IndexReader.open("indexes/part-00001");
bsh % print(ir.numDocs());
1524567
bsh %

Have fun!

-- 
Best regards,
Andrzej Bialecki     <><
 ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20927-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 15:20:25 2006
Return-Path: <java-user-return-20927-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55790 invoked from network); 26 May 2006 15:20:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 15:20:25 -0000
Received: (qmail 66591 invoked by uid 500); 26 May 2006 15:20:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66559 invoked by uid 500); 26 May 2006 15:20:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66548 invoked by uid 99); 26 May 2006 15:20:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 08:20:17 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of charliecmo@gmail.com designates 64.233.184.230 as permitted sender)
Received: from [64.233.184.230] (HELO wr-out-0506.google.com) (64.233.184.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 08:20:16 -0700
Received: by wr-out-0506.google.com with SMTP id i3so408114wra
        for <java-user@lucene.apache.org>; Fri, 26 May 2006 08:19:55 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:date:x-mailer:reply-to:x-priority:message-id:to:subject:in-reply-to:references:mime-version:content-type:content-transfer-encoding:from;
        b=tp1Pbal6nIpJMNdloqOen0rMBjbaGt7ZwiX4ZaNuq2dgE3ijVR4EkC6zg1wUi0iGLQY4/hnpiwCclKx7JuwKFcfIOl5qSCln3B+hf0aP8iaq8DLDWmy1swGGhx/JfJf4zJwnixeVoV8a2HVPq2C4aQtoqn2bZcalwBN/KTbz40Q=
Received: by 10.54.93.10 with SMTP id q10mr629838wrb;
        Fri, 26 May 2006 08:19:55 -0700 (PDT)
Received: from cmo.mshome.net ( [129.111.226.36])
        by mx.gmail.com with ESMTP id 7sm1378066wrl.2006.05.26.08.19.54;
        Fri, 26 May 2006 08:19:54 -0700 (PDT)
Date: Fri, 26 May 2006 10:19:50 -0500
X-Mailer: The Bat! (v3.5) Professional
Reply-To: Charlie  <CharlieCMO@gmail.com>
X-Priority: 3 (Normal)
Message-ID: <837803276.20060526101950@gmail.com>
To: Murat Yakici <java-user@lucene.apache.org>
Subject: Re[2]: Implemented subclasses of Similarity class in Lucene
In-Reply-To: <4476F63E.7030103@cis.strath.ac.uk>
References: <442C5FB0.50503@apache.org>
 <20060331012843.92213.qmail@web53510.mail.yahoo.com>
 <c5beb01f0605260206w56d6825bwd99d1112982a7a66@mail.gmail.com>
 <4476F63E.7030103@cis.strath.ac.uk>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
From: Charlie <charliecmo@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Edgar,

Are there any technical reports explaining your design and
implementation of LM on Lucene?  Or what source files are exactly "LM
extension"?
-- 
Best regards,
 Charlie


---
Friday, May 26, 2006, 7:36:14 AM, you wrote:

> Hi Edgar,
> While doing the integration/updating for Lucene 1.9, could you be more
> open and clear about the design so that people can
> 1)Understand it,
> 2)Extend it,

> Just an recommendation.

> Cheers,
> Murat

> Edgar Meij wrote:

>> Hi Ganesh,
>> 
>> We have developed a Language Modeling extension to Lucene at the
>> University of Amsterdam. It can be found here:
>> 
>> http://ilps.science.uva.nl/Resources/#lm-lucen
>> 
>> It was build around Lucene 1.4.3, so it isn't source compatible with
>> the latest Lucene version. We are currently working on
>> integrating/updating it to Lucene 1.9.
>> 
>> Best,
>> 
>> Edgar Meij
>> 
>> 
>> On 3/31/06, Ganesh Ramakrishnan
>> <ganesh_ramakrishnan1978@yahoo.com> wrote:
>> 
>>> Hi
>>>
>>> Is anyone aware of subclasses of the Similarity class in Lucene? Two
>>> subclasses are: DefaultSimilarity and  SimilarityDelegator . Are any
>>> other implemented subclasses of Similarity, developed by anyone else
>>> available on the web?  For example, Language Model based similarity,
>>> or Okapi-BM similarity or different TFIDF weighing scehemes for 
>>> similarity.
>>>
>>>   If so, can you point me to them?
>>>
>>>   Thanks and regards,
>>>   Ganesh.
>>>




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20928-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 15:47:50 2006
Return-Path: <java-user-return-20928-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64479 invoked from network); 26 May 2006 15:47:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 15:47:50 -0000
Received: (qmail 9176 invoked by uid 500); 26 May 2006 15:47:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9150 invoked by uid 500); 26 May 2006 15:47:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9139 invoked by uid 99); 26 May 2006 15:47:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 08:47:43 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of richmondmike@gmail.com designates 66.249.92.174 as permitted sender)
Received: from [66.249.92.174] (HELO ug-out-1314.google.com) (66.249.92.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 08:47:42 -0700
Received: by ug-out-1314.google.com with SMTP id u2so186141uge
        for <java-user@lucene.apache.org>; Fri, 26 May 2006 08:47:21 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=qa74+Y/NbZD6wTTbwwmHFzeMdoDpOoNPoFqHaLM/zkbO5ac1EgbUZ9Uf6I+CXhxNmCCRShm0x1/EW40vGWDIyfzmxRhm0hB8boLOplxAay152LL+wJvv9gcI0/22OHC0Udy8l76OcDPbrKLfh+nuU4vut4xvwAYDJMWSHTWU6VY=
Received: by 10.67.108.27 with SMTP id k27mr59807ugm;
        Fri, 26 May 2006 08:46:34 -0700 (PDT)
Received: by 10.67.95.1 with HTTP; Fri, 26 May 2006 08:46:34 -0700 (PDT)
Message-ID: <931ca11b0605260846t2459313ch14e9a02f857158df@mail.gmail.com>
Date: Fri, 26 May 2006 11:46:34 -0400
From: "Mike Richmond" <richmondmike@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: sorting issues
In-Reply-To: <D2D2FEE335CE304C81F17C83626158E2E08A71@wsdmnsvr>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <D2D2FEE335CE304C81F17C83626158E2E08A71@wsdmnsvr>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm running into similar sort issues when I try to sort my results on
a date field that was created using the DateTools class as follows:

DateTools.dateToString(dateObj, DateTools.Resolution.SECOND);

I am then storing this in a stored, untokenized field named "date".
When I sort the results by date, I am not getting them in date order.

Ex (dates converted back to a more readable format):

05/26/06 at 08:03:34 AM
05/25/06 at 01:36:57 PM
05/26/06 at 06:58:09 AM

Do I need to have a tokenized date field to get the results that I am expec=
ting?


Thanks,

Mike



On 5/23/06, Van Nguyen <vnguyen@wynnesystems.com> wrote:
> I was expecting it to be sorted alphabetically by a field....
>
> I think I may have figured out my own question.  I was tokenizing the
> field I wanted to sort.  Changed it so that it's not tokenizing that
> field and I'm getting the results that I was expecting.
>
> Thanks,
>
> Van Nguyen
> Wynne Systems, Inc.
>
> -----Original Message-----
> From: karl wettin [mailto:kalle@snigel.net]
> Sent: Tuesday, May 23, 2006 3:42 PM
> To: java-user@lucene.apache.org
> Subject: Re: sorting issues
>
> On Tue, 2006-05-23 at 15:42 -0700, Van Nguyen wrote:
> >
> > Does anyone have any sorting issues in lucene?  When lucene is
> > returning results from my query, I get results similar to this:
> >
> > E.D. BULLARD
> > E.D. BULLARD
> > MINE SAFETY APPL MSA
> > NORTH SAFETY PRODUCT
> > NORTH SAFETY PRODUCT
> > MINE SAFETY APPL MSA
> > MINE SAFETY APPL MSA
> > NORTH SAFETY PRODUCT
>
> What did you expect, and why?
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> This communication and any documents, files, or previous electronic mail =
messages attached to it constitute
> an electronic communication within the scope of the Electronic Communicat=
ion Privacy Act, 18 USCA 2510.
> This communication may contain non-public, confidential, or legally privi=
leged information intended for the
> sole use of the designated recipient(s). The unlawful interception, use o=
r disclosure of such information is
> strictly prohibited under 18 USCA 2511 and any applicable laws.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20929-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 16:27:07 2006
Return-Path: <java-user-return-20929-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77018 invoked from network); 26 May 2006 16:27:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 16:27:07 -0000
Received: (qmail 83028 invoked by uid 500); 26 May 2006 16:27:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82995 invoked by uid 500); 26 May 2006 16:27:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82984 invoked by uid 99); 26 May 2006 16:27:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 09:27:01 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.26] (HELO smtp-vbr6.xs4all.nl) (194.109.24.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 09:27:00 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr6.xs4all.nl (8.13.6/8.13.6) with ESMTP id k4QGQcIr093719
	for <java-user@lucene.apache.org>; Fri, 26 May 2006 18:26:38 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: BufferedIndexInput.readByte performance
Date: Fri, 26 May 2006 18:26:37 +0200
User-Agent: KMail/1.8.2
References: <429c032d0605260714p69ad26a2n1cfae95724bf866d@mail.gmail.com>
In-Reply-To: <429c032d0605260714p69ad26a2n1cfae95724bf866d@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605261826.37597.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Friday 26 May 2006 16:14, Michael Chan wrote:
> Hi,
> 
> I have a 5gb index containing 2mil documents and am trying to run
> 1mil+ queries against it. Most of the queries are SpanQueries and it
> occurs to me that the search performance is quite slow when using 2, 3
> SpanOrQueries nested inside a SpanNearQuery, which in turn is nested
> inside another SpanNearQuery. The response time is around 3-5 seconds
> even when the index is stored as a RAMDirectory, and
> BufferedIndexInput.readByte() appears to be the bottleneck. Is this
> performance typical? As I don't need any sorting of the results and

That is indeed typical.

> only need the number of results returned, is there anything, besides
> Field.setOmitNorm(true), I can modify to improve performance?

A few things might help:
- use getSpans() on the scorer of the query, iterate the resulting Spans
  and count the number of different doc values.
  This saves the scoring and the sorting on score value.
- Sort the queries alphabetically, to try and maximize cache usage.
- Increase the skip interval when creating the index, by default lucene uses
  16, but nutch uses a higher value. I've never done this myself, but
  you could specifically ask on how to do this.
- In case you use ordered SpanNearQuery, the implementation here might be
  somewhat faster:
  http://issues.apache.org/jira/browse/LUCENE-413
- Specialize the PriorityQueue used in SpanNearQuery, somewhat more intricate
  than this one for disjunctions:
  http://issues.apache.org/jira/browse/LUCENE-365

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20930-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 16:51:08 2006
Return-Path: <java-user-return-20930-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82131 invoked from network); 26 May 2006 16:51:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 16:51:08 -0000
Received: (qmail 12630 invoked by uid 500); 26 May 2006 16:51:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11967 invoked by uid 500); 26 May 2006 16:51:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11954 invoked by uid 99); 26 May 2006 16:51:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 09:51:01 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 09:51:00 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id D69A85B785; Fri, 26 May 2006 09:50:22 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 88E927F403
	for <java-user@lucene.apache.org>; Fri, 26 May 2006 09:50:22 -0700 (PDT)
Date: Fri, 26 May 2006 09:50:20 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: RE: Seeing what's occupying all the space in the index
In-Reply-To: <20060526145037.76356187A9@mail.seseit.com>
Message-ID: <Pine.LNX.4.58.0605260947200.2562@hal.rescomp.berkeley.edu>
References: <20060526145037.76356187A9@mail.seseit.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


are you by any chance using different field names for each document -- or
do you have a wide range of field names that aren't the same for each
document? ... you mentioned indexing emails, email has a very loose header
structure that allows MTAs to add arbitrary "X" headers, are you
converting every header to an indexed field?

the reason i ask is that anytime you have an indexed field with and you
don't OMIT_NORMS when you add the field, lucene allocates one byte per
document for that field to store the norm value -- even most of those
documents don't have that field.

if you've got ~25,000 documents in your index, and you add a new document
with an indexed field no other document has, then you'll see at least a
25K increase in index size because of those norms.

(OMIT_NORMS is your friend).



: Date: Fri, 26 May 2006 15:50:43 +0100
: From: "Rob Staveley (Tom)" <rstaveley@seseit.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: RE: Seeing what's occupying all the space in the index
:
:  > I can't see how Luke is going to show me what's occupying most of my
: index.
:
: I do however notice that none of my stored fields are stored compressed.
: Presumably Field.Store COMPRESS is something that is new in Lucene 1.9 and
: wasn't available in 1.4.3??  However, it is still hard to see what's causing
: the index to grow by 25kB with each document I index.
:
: Is there anything I can learn from the index directory's file listing?
: Here's the top of file listing in descending order of size from the index
: directory:
:
: --------8<--------
: rob@dev:~/dat/indexd/index-1$ ls -lS | more
: total 95374800
: -rw-r--r--    1 rob dev 4449248724 May 26 00:32 _2fyfe.cfs
: -rw-r--r--    1 rob dev 2522952122 May 26 14:17 _2k5vi.fdt
: -rw-r--r--    1 rob dev 2413775516 May 26 01:16 _2g6l3.fdt
: -rw-r--r--    1 rob dev 2368881846 May 25 18:14 _2ehe7.fdt
: -rw-r--r--    1 rob dev 2344670598 May 25 16:31 _2dn69.fdt
: -rw-r--r--    1 rob dev 2324315860 May 25 14:10 _2cxea.fdt
: -rw-r--r--    1 rob dev 2259070168 May 25 10:28 _2aeb0.fdt
: -rw-r--r--    1 rob dev 2113143078 May 24 13:39 _24xxv.fdt
: -rw-r--r--    1 rob dev 2005876265 May 23 16:47 _21143.fdt
: -rw-r--r--    1 rob dev 1994658169 May 23 16:09 _20mgq.fdt
: -rw-r--r--    1 rob dev 1991402285 May 23 14:21 _20id9.fdt
: -rw-r--r--    1 rob dev 1973739578 May 23 12:17 _1zvpr.fdt
: -rw-r--r--    1 rob dev 1964392156 May 23 11:14 _1zjra.fdt
: -rw-r--r--    1 rob dev 1957195484 May 23 10:27 _1zanx.fdt
: -rw-r--r--    1 rob dev 1940435968 May 12 13:58 _1374v.cfs
: -rw-r--r--    1 rob dev 1932876050 May 23 08:34 _1yep1.fdt
: -rw-r--r--    1 rob dev 1908759860 May 22 22:26 _1xhs9.fdt
: -rw-r--r--    1 rob dev 1862224271 May 22 14:24 _1vxc8.fdt
: -rw-r--r--    1 rob dev 1775652952 May 21 19:15 _1slqr.fdt
: -rw-r--r--    1 rob dev 1674336305 May 20 10:10 _1oaje.fdt
: -rw-r--r--    1 rob dev 1641906176 May 17 12:24 _1f3lp.cfs
: -rw-r--r--    1 rob dev 1626645390 May 19 16:39 _1mjaa.fdt
: -rw-r--r--    1 rob dev 1412089155 May 17 12:21 _1f3lp.fdt
: -rw-r--r--    1 rob dev 1400399872 May 19 16:51 _1mjaa.cfs
: -rw-r--r--    1 rob dev 1090611130 May 12 13:51 _1374v.fdt
: -rw-r--r--    1 rob dev 1059463168 May 16 09:24 _1azb3.fdt
: -rw-r--r--    1 rob dev 1052419072 May 11 16:36 _1168u.cfs
: -rw-r--r--    1 rob dev 1034522679 May 11 16:34 _1168u.fdt
: -rw-r--r--    1 rob dev 1023033344 May 23 14:51 _20m4q.fdt
: -rw-r--r--    1 rob dev 857224192 May  4 18:16 _lluq.cfs
: -rw-r--r--    1 rob dev 821198047 May 26 14:21 _2k5vi.prx
: -rw-r--r--    1 rob dev 808694510 May  8 14:09 _sunn.fdt
: -rw-r--r--    1 rob dev 786164503 May 26 01:26 _2g6l3.prx
: -rw-r--r--    1 rob dev 780030917 May 26 14:21 _2k5vi.frq
: -rw-r--r--    1 rob dev 772484883 May 25 18:19 _2ehe7.prx
: -rw-r--r--    1 rob dev 763351845 May 25 16:41 _2dn69.prx
: -rw-r--r--    1 rob dev 755794097 May 25 14:14 _2cxea.prx
: -rw-r--r--    1 rob dev 745972375 May 26 01:26 _2g6l3.frq
: -rw-r--r--    1 rob dev 732753582 May 25 10:45 _2aeb0.prx
: -rw-r--r--    1 rob dev 732496935 May 25 18:19 _2ehe7.frq
: -rw-r--r--    1 rob dev 724428884 May 25 16:41 _2dn69.frq
: -rw-r--r--    1 rob dev 719733760 May 25 09:49 _29vyk.fdt
: -rw-r--r--    1 rob dev 717613127 May 25 14:14 _2cxea.frq
: -rw-r--r--    1 rob dev 696849854 May 25 10:45 _2aeb0.frq
: -rw-r--r--    1 rob dev 686227498 May 24 13:59 _24xxv.prx
: --------8<--------
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20931-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 16:52:25 2006
Return-Path: <java-user-return-20931-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82654 invoked from network); 26 May 2006 16:52:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 16:52:25 -0000
Received: (qmail 17424 invoked by uid 500); 26 May 2006 16:52:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17393 invoked by uid 500); 26 May 2006 16:52:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17381 invoked by uid 99); 26 May 2006 16:52:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 09:52:18 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 09:52:18 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id CB6915B763; Fri, 26 May 2006 09:51:57 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id C818B7F403
	for <java-user@lucene.apache.org>; Fri, 26 May 2006 09:51:57 -0700 (PDT)
Date: Fri, 26 May 2006 09:51:57 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re: Seeing what's occupying all the space in the index
In-Reply-To: <20060526074230.4CF42187A9@mail.seseit.com>
Message-ID: <Pine.LNX.4.58.0605260950510.2562@hal.rescomp.berkeley.edu>
References: <20060526074230.4CF42187A9@mail.seseit.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: PS: I am a newbie to the mailing list - I hope I've got the etiquette right

you may have figured this out already, but please CC email to
multiple lucene mailing lists -- in this particular case,
lucene-users@jakarta is just a legacy alias that points at java-user@lucene -- so
there's *really* no reason to send to both.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20932-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 17:14:34 2006
Return-Path: <java-user-return-20932-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88081 invoked from network); 26 May 2006 17:14:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 17:14:34 -0000
Received: (qmail 58197 invoked by uid 500); 26 May 2006 17:14:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58131 invoked by uid 500); 26 May 2006 17:14:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58059 invoked by uid 99); 26 May 2006 17:14:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 10:14:22 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.97.205.201] (HELO mail.seseit.com) (209.97.205.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 10:14:21 -0700
Received: by mail.seseit.com (Postfix, from userid 65534)
	id EB97A187AC; Fri, 26 May 2006 17:13:58 +0000 (GMT)
Received: from max (unknown [213.166.4.230])
	by mail.seseit.com (Postfix) with ESMTP id 84738187A9
	for <java-user@lucene.apache.org>; Fri, 26 May 2006 17:13:57 +0000 (GMT)
From: "Rob Staveley (Tom)" <rstaveley@seseit.com>
To: <java-user@lucene.apache.org>
Subject: RE: Seeing what's occupying all the space in the index
Date: Fri, 26 May 2006 18:14:04 +0100
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
Content-Type: multipart/signed;
	protocol="application/x-pkcs7-signature";
	micalg=SHA1;
	boundary="----=_NextPart_000_010C_01C680F0.2B706390"
In-Reply-To: <20060526145037.76356187A9@mail.seseit.com>
Thread-Index: AcaAylXtd1Lzvl8ETxOVnDxum/LtXAAAiUWQAAE5VuAAAgGd8A==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
Message-Id: <20060526171357.84738187A9@mail.seseit.com>
X-Spam-Checker-Version: SpamAssassin 3.0.3 (2005-04-27) on mini.seseit.net
X-Spam-Level: X
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=1.7 required=5.0 tests=MSGID_FROM_MTA_ID 
	autolearn=no version=3.0.3
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_010C_01C680F0.2B706390
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

> Is there anything I can learn from the index directory's file listing?

Running this nasty little BASH one-liner...

$ for i in `ls * | perl -nle 'if (/^.+(\..+)/) {print $1;}' | sort |
uniq`;do ls -l *$i | awk '{SUM = SUM + $5} END {if (SUM > 1e10) {print
"'$i': ", SUM}}'; done       

... I see....

	.cfs:  1.23155e+10
	.fdt:  5.06108e+10
	.frq:  1.27472e+10
	.prx:  1.3444e+10

That means I have 98 GB of files, with: 

	51 GB devoted to field data (.fdt), 
	13 BG devoted to term positions (.prx)
	13 BG devoted to term frequencies (.frq)
	12 BG devoted to compound files for the field index (.cfs)

Does that seem reasonable, bearing in mind I have only indexed 4.3 million
Lucene documents? That's 22.8 kB per Lucene document, and apart from a 300
character synopsis the fields are all much less than 100 characters long,
and yet this suggests that the index is providing 600 bytes per field.


------=_NextPart_000_010C_01C680F0.2B706390
Content-Type: application/x-pkcs7-signature;
	name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="smime.p7s"

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIKaDCCAj0w
ggGmAhEAzbp/VvDf5LxU/iKss3KqVTANBgkqhkiG9w0BAQIFADBfMQswCQYDVQQGEwJVUzEXMBUG
A1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVibGljIFByaW1hcnkgQ2Vy
dGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNOTYwMTI5MDAwMDAwWhcNMjgwODAxMjM1OTU5WjBfMQsw
CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVi
bGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwgZ8wDQYJKoZIhvcNAQEBBQADgY0A
MIGJAoGBAOUZv22jVmEtmUhx9mfeuY3rt56GgAqRDvo4Ja9GiILlc6igmyRdDR/MZW4MsNBWhBiH
mgabEKFz37RYOWtuwfYV1aioP6oSBo0xrH+wNNePNGeICc0UEeJORVZpH3gCgNrcR5EpuzbJY1zF
4Ncth3uhtzKwezC6Ki8xqu6jZ9rbAgMBAAEwDQYJKoZIhvcNAQECBQADgYEATD+4i8Zo3+5DMw5d
6abLB4RNejP/khv0Nq3YlSI2aBFsfELM85wuxAc/FLAPT/+Qknb54rxK6Y/NoIAK98Up8YIiXbix
3YEjo3slFUYweRb46gVLlH8dwhzI47f0EEA8E8NfH1PoSOSGtHuhNbB7Jbq4046rPzidADQAmPPR
cZQwggNiMIICy6ADAgECAhAL2gsXwT+JjqsJdHq0zi4zMA0GCSqGSIb3DQEBAgUAMF8xCzAJBgNV
BAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE3MDUGA1UECxMuQ2xhc3MgMSBQdWJsaWMg
UHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTAeFw05ODA1MTIwMDAwMDBaFw0wODA1MTIy
MzU5NTlaMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMIGfMA0GCSqGSIb3DQEB
AQUAA4GNADCBiQKBgQC7WkSKBBa7Vf0DeootlE8VeDa4DUqyb5xUv7zodyqdufBou5XZMUFweoFL
uUgTVi3HCOGEQqvAopKrRFyqQvCCDgLpL/vCO7u+yScKXbawNkIztW5UiE+HSr8Z2vkV6A+Hthzj
zMaajn9qJJLj/OBluqexfu/J2zdqyErICQbkmQIDAQABo4GwMIGtMA8GA1UdEwQIMAYBAf8CAQAw
RwYDVR0gBEAwPjA8BgtghkgBhvhFAQcBATAtMCsGCCsGAQUFBwIBFh93d3cudmVyaXNpZ24uY29t
L3JlcG9zaXRvcnkvUlBBMDEGA1UdHwQqMCgwJqAkoCKGIGh0dHA6Ly9jcmwudmVyaXNpZ24uY29t
L3BjYTEuY3JsMAsGA1UdDwQEAwIBBjARBglghkgBhvhCAQEEBAMCAQYwDQYJKoZIhvcNAQECBQAD
gYEAAn2eb0VLOKC43ulTZCG85Ewrjx7+kkCs2Ao5aqEyISwHm6tZ/tJiGn1VOLA3c9z0B2ZjYr3h
U3BSh+eo2FLpWy2q4d7PrDFU1IsZyNgjqO8EKzJ9LBgcyHyJqC538kTRZQpNdLXu0xuSc3QuiTs1
E3LnQDGa07LEq+dWvovj+xUwggS9MIIEJqADAgECAhB1uB0L6Y5EVCCaaM0jkP2tMA0GCSqGSIb3
DQEBBQUAMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMB4XDTA1MTAwNDAwMDAw
MFoXDTA2MTAxODIzNTk1OVowggEZMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMW
VmVyaVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0
b3J5L1JQQSBJbmNvcnAuIGJ5IFJlZi4sTElBQi5MVEQoYyk5ODEeMBwGA1UECxMVUGVyc29uYSBO
b3QgVmFsaWRhdGVkMTMwMQYDVQQLEypEaWdpdGFsIElEIENsYXNzIDEgLSBOZXRzY2FwZSBGdWxs
IFNlcnZpY2UxGzAZBgNVBAMUElJvYiBTdGF2ZWxleSAoVG9tKTEjMCEGCSqGSIb3DQEJARYUcnN0
YXZlbGV5QHNlc2VpdC5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCm4C+s/DP/
NIW0DrHFueJPsZAZxTzi8Aw2bXOUQbHRDNlSO7nWoDPlkTs5RQl0tsJUDlB5TubjJGWKGBdRePXq
ueK/8yj23cBTzKRTU2gNG6cmmc/f/HwHcuc4MCpW9+okvFCPeaFNzuBPPvegjewz3BL3ewfjeOKr
ly//fr/8JBVW19EgK070C2COZgegYNQ5NeV4Y4oDjqETADQDDnYuTe7EMBuSMysmOSgkCfVzEG4h
8N+1ImW6hWe+bH6Rify+q9eZAQint7sSFGZv3ZbBgmE654FKrvE7O8BOOP807/yaJUBlpDkF/X8G
UwvYNwhH/zbHN1BSCD3tstcSIUGHAgMBAAGjgcswgcgwCQYDVR0TBAIwADBEBgNVHSAEPTA7MDkG
C2CGSAGG+EUBBxcDMCowKAYIKwYBBQUHAgEWHGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9ycGEw
CwYDVR0PBAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMEBggrBgEFBQcDAjAUBgpghkgBhvhFAQYH
BAYWBE5vbmUwMwYDVR0fBCwwKjAooCagJIYiaHR0cDovL2NybC52ZXJpc2lnbi5jb20vY2xhc3Mx
LmNybDANBgkqhkiG9w0BAQUFAAOBgQCtsGmCX3v78Qn3I5DAo9mJDenolmgmBjmlaSJr1e5nSBLv
CEflpx3FaZuirDQNJ/sTxtUCJhlv/kTLuczeJkSDj1ALhqeYH1GX9T5zFY+3GCQqTJcTIarHSqZC
PQzwv3dwZCRE0fuELb6oobi4kGA5PXbu3+P7upHSBAmN81O00TGCBL8wggS7AgEBMIHhMIHMMRcw
FQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29yazFG
MEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNvcnAuIEJ5IFJlZi4s
TElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJbmRpdmlkdWFsIFN1
YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L6Y5EVCCaaM0jkP2tMAkGBSsOAwIa
BQCgggKyMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTA2MDUyNjE3
MTQwM1owIwYJKoZIhvcNAQkEMRYEFKv7id6FsXJSJ3doiowjE+4VEA+OMGcGCSqGSIb3DQEJDzFa
MFgwCgYIKoZIhvcNAwcwDgYIKoZIhvcNAwICAgCAMA0GCCqGSIb3DQMCAgFAMAcGBSsOAwIHMA0G
CCqGSIb3DQMCAgEoMAcGBSsOAwIaMAoGCCqGSIb3DQIFMIHyBgkrBgEEAYI3EAQxgeQwgeEwgcwx
FzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3Jr
MUYwRAYDVQQLEz13d3cudmVyaXNpZ24uY29tL3JlcG9zaXRvcnkvUlBBIEluY29ycC4gQnkgUmVm
LixMSUFCLkxURChjKTk4MUgwRgYDVQQDEz9WZXJpU2lnbiBDbGFzcyAxIENBIEluZGl2aWR1YWwg
U3Vic2NyaWJlci1QZXJzb25hIE5vdCBWYWxpZGF0ZWQCEHW4HQvpjkRUIJpozSOQ/a0wgfQGCyqG
SIb3DQEJEAILMYHkoIHhMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVy
aVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5
L1JQQSBJbmNvcnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xh
c3MgMSBDQSBJbmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L
6Y5EVCCaaM0jkP2tMA0GCSqGSIb3DQEBAQUABIIBAGtn3qRXFAbZg7yLRwqLEsWnx7yygoOBPNl2
33xRBAHdrPaG2DOPTV92c/1pqmUdxL+m44ze/FwViG9SDswGmEh927VwNR9OLk5i9A0tQH5GlEc7
0bGbegfgHhHnvBOKsQ0mxMKDJePxDwBhOP7WgO1wD9kZ+Cs1mXiH69M+CnkgynclEMs4XXkcJvEg
F274uxh2Ir5jUmuXzV8A9NjKc8GeER0pt9B+Tbk94Qg2vrS4zmBEjkxZlGHstYNHQN+BbkuJTybr
fpzEHeX3aypFeuffZj2yxuLTT9uUzj+/O+OHt8v1s18f8LNPyc5CLP3Guqiu1z1hIKayJwQpHWXl
rTgAAAAAAAA=

------=_NextPart_000_010C_01C680F0.2B706390--


From java-user-return-20933-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 17:22:42 2006
Return-Path: <java-user-return-20933-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90012 invoked from network); 26 May 2006 17:22:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 17:22:42 -0000
Received: (qmail 73125 invoked by uid 500); 26 May 2006 17:22:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73096 invoked by uid 500); 26 May 2006 17:22:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73085 invoked by uid 99); 26 May 2006 17:22:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 10:22:35 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [68.142.198.205] (HELO smtp106.sbc.mail.mud.yahoo.com) (68.142.198.205)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 26 May 2006 10:22:34 -0700
Received: (qmail 69716 invoked from network); 26 May 2006 17:22:11 -0000
Received: from unknown (HELO ?192.168.1.101?) (kkrugler@pacbell.net@64.71.164.125 with plain)
  by smtp106.sbc.mail.mud.yahoo.com with SMTP; 26 May 2006 17:22:10 -0000
Mime-Version: 1.0
Message-Id: <p06230906c09ce68df4a3@[192.168.1.101]>
In-Reply-To: <200605261826.37597.paul.elschot@xs4all.nl>
References: <429c032d0605260714p69ad26a2n1cfae95724bf866d@mail.gmail.com>
 <200605261826.37597.paul.elschot@xs4all.nl>
Date: Fri, 26 May 2006 10:13:18 -0700
To: java-user@lucene.apache.org
From: Ken Krugler <kkrugler_lists@transpac.com>
Subject: Re: BufferedIndexInput.readByte performance
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>On Friday 26 May 2006 16:14, Michael Chan wrote:
>>  Hi,
>>
>  > I have a 5gb index containing 2mil documents and am trying to run
>>  1mil+ queries against it. Most of the queries are SpanQueries and it
>>  occurs to me that the search performance is quite slow when using 2, 3
>>  SpanOrQueries nested inside a SpanNearQuery, which in turn is nested
>>  inside another SpanNearQuery. The response time is around 3-5 seconds
>>  even when the index is stored as a RAMDirectory, and
>>  BufferedIndexInput.readByte() appears to be the bottleneck. Is this
>  > performance typical? As I don't need any sorting of the results and
>
>That is indeed typical.
>
>  > only need the number of results returned, is there anything, besides
>>  Field.setOmitNorm(true), I can modify to improve performance?
>
>A few things might help:
>- use getSpans() on the scorer of the query, iterate the resulting Spans
>   and count the number of different doc values.
>   This saves the scoring and the sorting on score value.
>- Sort the queries alphabetically, to try and maximize cache usage.
>- Increase the skip interval when creating the index, by default lucene uses
>   16, but nutch uses a higher value. I've never done this myself, but
>   you could specifically ask on how to do this.

I'm curious how increasing the skip interval would improve 
performance. From what I've read on-list and in-code, having a 
smaller skip interval means trading more memory for faster term 
lookup. I think Nutch uses a larger default value (128) to better 
handle big (e.g. 10M) indexes, at the expense of slightly slower 
performance.

Also, the use of a sorted index would seem to offer the biggest 
potential speed win, though that would require a good way of ordering 
the index, and it seems like there would be lots of tuning required 
to pick the right cut-off value for searches.

Thanks,

-- Ken
-- 
Ken Krugler
Krugle, Inc.
+1 530-210-6378
"Find Code, Find Answers"

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20934-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 17:24:10 2006
Return-Path: <java-user-return-20934-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90180 invoked from network); 26 May 2006 17:24:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 17:24:09 -0000
Received: (qmail 75222 invoked by uid 500); 26 May 2006 17:24:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75182 invoked by uid 500); 26 May 2006 17:24:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75171 invoked by uid 99); 26 May 2006 17:24:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 10:24:02 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.97.205.201] (HELO mail.seseit.com) (209.97.205.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 10:24:02 -0700
Received: by mail.seseit.com (Postfix, from userid 65534)
	id 2E789187AC; Fri, 26 May 2006 17:23:41 +0000 (GMT)
Received: from max (unknown [213.166.4.230])
	by mail.seseit.com (Postfix) with ESMTP id C7E9E187A9
	for <java-user@lucene.apache.org>; Fri, 26 May 2006 17:23:39 +0000 (GMT)
From: "Rob Staveley (Tom)" <rstaveley@seseit.com>
To: <java-user@lucene.apache.org>
Subject: RE: Seeing what's occupying all the space in the index
Date: Fri, 26 May 2006 18:23:48 +0100
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
Content-Type: multipart/signed;
	protocol="application/x-pkcs7-signature";
	micalg=SHA1;
	boundary="----=_NextPart_000_0113_01C680F1.87ADDD30"
In-Reply-To: <Pine.LNX.4.58.0605260947200.2562@hal.rescomp.berkeley.edu>
Thread-Index: AcaA5JP38KP6Al7LTSGu9a4fos3x5gAA4Bmw
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
Message-Id: <20060526172339.C7E9E187A9@mail.seseit.com>
X-Spam-Checker-Version: SpamAssassin 3.0.3 (2005-04-27) on mini.seseit.net
X-Spam-Level: X
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=1.7 required=5.0 tests=MSGID_FROM_MTA_ID 
	autolearn=no version=3.0.3
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0113_01C680F1.87ADDD30
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

That's a really good idea, but I've got a total of 38 fields only. It is
true that some of them are empty, but that can't account for the bulk.

-----Original Message-----
From: Chris Hostetter [mailto:hossman_lucene@fucit.org] 
Sent: 26 May 2006 17:50
To: java-user@lucene.apache.org
Subject: RE: Seeing what's occupying all the space in the index


are you by any chance using different field names for each document -- or do
you have a wide range of field names that aren't the same for each document?
... you mentioned indexing emails, email has a very loose header structure
that allows MTAs to add arbitrary "X" headers, are you converting every
header to an indexed field?

the reason i ask is that anytime you have an indexed field with and you
don't OMIT_NORMS when you add the field, lucene allocates one byte per
document for that field to store the norm value -- even most of those
documents don't have that field.

if you've got ~25,000 documents in your index, and you add a new document
with an indexed field no other document has, then you'll see at least a 25K
increase in index size because of those norms.

(OMIT_NORMS is your friend).

------=_NextPart_000_0113_01C680F1.87ADDD30
Content-Type: application/x-pkcs7-signature;
	name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="smime.p7s"

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIKaDCCAj0w
ggGmAhEAzbp/VvDf5LxU/iKss3KqVTANBgkqhkiG9w0BAQIFADBfMQswCQYDVQQGEwJVUzEXMBUG
A1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVibGljIFByaW1hcnkgQ2Vy
dGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNOTYwMTI5MDAwMDAwWhcNMjgwODAxMjM1OTU5WjBfMQsw
CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVi
bGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwgZ8wDQYJKoZIhvcNAQEBBQADgY0A
MIGJAoGBAOUZv22jVmEtmUhx9mfeuY3rt56GgAqRDvo4Ja9GiILlc6igmyRdDR/MZW4MsNBWhBiH
mgabEKFz37RYOWtuwfYV1aioP6oSBo0xrH+wNNePNGeICc0UEeJORVZpH3gCgNrcR5EpuzbJY1zF
4Ncth3uhtzKwezC6Ki8xqu6jZ9rbAgMBAAEwDQYJKoZIhvcNAQECBQADgYEATD+4i8Zo3+5DMw5d
6abLB4RNejP/khv0Nq3YlSI2aBFsfELM85wuxAc/FLAPT/+Qknb54rxK6Y/NoIAK98Up8YIiXbix
3YEjo3slFUYweRb46gVLlH8dwhzI47f0EEA8E8NfH1PoSOSGtHuhNbB7Jbq4046rPzidADQAmPPR
cZQwggNiMIICy6ADAgECAhAL2gsXwT+JjqsJdHq0zi4zMA0GCSqGSIb3DQEBAgUAMF8xCzAJBgNV
BAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE3MDUGA1UECxMuQ2xhc3MgMSBQdWJsaWMg
UHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTAeFw05ODA1MTIwMDAwMDBaFw0wODA1MTIy
MzU5NTlaMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMIGfMA0GCSqGSIb3DQEB
AQUAA4GNADCBiQKBgQC7WkSKBBa7Vf0DeootlE8VeDa4DUqyb5xUv7zodyqdufBou5XZMUFweoFL
uUgTVi3HCOGEQqvAopKrRFyqQvCCDgLpL/vCO7u+yScKXbawNkIztW5UiE+HSr8Z2vkV6A+Hthzj
zMaajn9qJJLj/OBluqexfu/J2zdqyErICQbkmQIDAQABo4GwMIGtMA8GA1UdEwQIMAYBAf8CAQAw
RwYDVR0gBEAwPjA8BgtghkgBhvhFAQcBATAtMCsGCCsGAQUFBwIBFh93d3cudmVyaXNpZ24uY29t
L3JlcG9zaXRvcnkvUlBBMDEGA1UdHwQqMCgwJqAkoCKGIGh0dHA6Ly9jcmwudmVyaXNpZ24uY29t
L3BjYTEuY3JsMAsGA1UdDwQEAwIBBjARBglghkgBhvhCAQEEBAMCAQYwDQYJKoZIhvcNAQECBQAD
gYEAAn2eb0VLOKC43ulTZCG85Ewrjx7+kkCs2Ao5aqEyISwHm6tZ/tJiGn1VOLA3c9z0B2ZjYr3h
U3BSh+eo2FLpWy2q4d7PrDFU1IsZyNgjqO8EKzJ9LBgcyHyJqC538kTRZQpNdLXu0xuSc3QuiTs1
E3LnQDGa07LEq+dWvovj+xUwggS9MIIEJqADAgECAhB1uB0L6Y5EVCCaaM0jkP2tMA0GCSqGSIb3
DQEBBQUAMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMB4XDTA1MTAwNDAwMDAw
MFoXDTA2MTAxODIzNTk1OVowggEZMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMW
VmVyaVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0
b3J5L1JQQSBJbmNvcnAuIGJ5IFJlZi4sTElBQi5MVEQoYyk5ODEeMBwGA1UECxMVUGVyc29uYSBO
b3QgVmFsaWRhdGVkMTMwMQYDVQQLEypEaWdpdGFsIElEIENsYXNzIDEgLSBOZXRzY2FwZSBGdWxs
IFNlcnZpY2UxGzAZBgNVBAMUElJvYiBTdGF2ZWxleSAoVG9tKTEjMCEGCSqGSIb3DQEJARYUcnN0
YXZlbGV5QHNlc2VpdC5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCm4C+s/DP/
NIW0DrHFueJPsZAZxTzi8Aw2bXOUQbHRDNlSO7nWoDPlkTs5RQl0tsJUDlB5TubjJGWKGBdRePXq
ueK/8yj23cBTzKRTU2gNG6cmmc/f/HwHcuc4MCpW9+okvFCPeaFNzuBPPvegjewz3BL3ewfjeOKr
ly//fr/8JBVW19EgK070C2COZgegYNQ5NeV4Y4oDjqETADQDDnYuTe7EMBuSMysmOSgkCfVzEG4h
8N+1ImW6hWe+bH6Rify+q9eZAQint7sSFGZv3ZbBgmE654FKrvE7O8BOOP807/yaJUBlpDkF/X8G
UwvYNwhH/zbHN1BSCD3tstcSIUGHAgMBAAGjgcswgcgwCQYDVR0TBAIwADBEBgNVHSAEPTA7MDkG
C2CGSAGG+EUBBxcDMCowKAYIKwYBBQUHAgEWHGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9ycGEw
CwYDVR0PBAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMEBggrBgEFBQcDAjAUBgpghkgBhvhFAQYH
BAYWBE5vbmUwMwYDVR0fBCwwKjAooCagJIYiaHR0cDovL2NybC52ZXJpc2lnbi5jb20vY2xhc3Mx
LmNybDANBgkqhkiG9w0BAQUFAAOBgQCtsGmCX3v78Qn3I5DAo9mJDenolmgmBjmlaSJr1e5nSBLv
CEflpx3FaZuirDQNJ/sTxtUCJhlv/kTLuczeJkSDj1ALhqeYH1GX9T5zFY+3GCQqTJcTIarHSqZC
PQzwv3dwZCRE0fuELb6oobi4kGA5PXbu3+P7upHSBAmN81O00TGCBL8wggS7AgEBMIHhMIHMMRcw
FQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29yazFG
MEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNvcnAuIEJ5IFJlZi4s
TElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJbmRpdmlkdWFsIFN1
YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L6Y5EVCCaaM0jkP2tMAkGBSsOAwIa
BQCgggKyMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTA2MDUyNjE3
MjM0N1owIwYJKoZIhvcNAQkEMRYEFCH03bPRtqhEbVmOIsK6zdwwBxO5MGcGCSqGSIb3DQEJDzFa
MFgwCgYIKoZIhvcNAwcwDgYIKoZIhvcNAwICAgCAMA0GCCqGSIb3DQMCAgFAMAcGBSsOAwIHMA0G
CCqGSIb3DQMCAgEoMAcGBSsOAwIaMAoGCCqGSIb3DQIFMIHyBgkrBgEEAYI3EAQxgeQwgeEwgcwx
FzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3Jr
MUYwRAYDVQQLEz13d3cudmVyaXNpZ24uY29tL3JlcG9zaXRvcnkvUlBBIEluY29ycC4gQnkgUmVm
LixMSUFCLkxURChjKTk4MUgwRgYDVQQDEz9WZXJpU2lnbiBDbGFzcyAxIENBIEluZGl2aWR1YWwg
U3Vic2NyaWJlci1QZXJzb25hIE5vdCBWYWxpZGF0ZWQCEHW4HQvpjkRUIJpozSOQ/a0wgfQGCyqG
SIb3DQEJEAILMYHkoIHhMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVy
aVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5
L1JQQSBJbmNvcnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xh
c3MgMSBDQSBJbmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L
6Y5EVCCaaM0jkP2tMA0GCSqGSIb3DQEBAQUABIIBAIR0YRiYn9KQoOJOh8VNt/0mWlkq3FFOLcPl
DszFZZ49J592K8k2yt1zFjHHy34NIpwvNPE+BreZIwgPgjryg7ZSQSBi/Lvp+aAZT2wJ2Ifx0bzE
9Z+h98wUECvN+HJyilq6UAW8erpP5ssUQnkGuRPJ+JnJWac+6ZM5aBS7vLzubmZeZodmdyC3XwcF
qOgHP68G5z581iMqpcDjRoLw/rnFxZNJA9NX6+AULwWeV/KTW3vO13EjYJ0VbBSo4RqZ07DAoz1T
ndjrThqClFJSfEjzoMJoRxiUR4PnsdHIimkwwUSycExgg+i24z/830q0oLsse2BuXXP/R3Ma/l0K
rP0AAAAAAAA=

------=_NextPart_000_0113_01C680F1.87ADDD30--


From java-user-return-20935-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 17:37:48 2006
Return-Path: <java-user-return-20935-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92588 invoked from network); 26 May 2006 17:37:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 17:37:48 -0000
Received: (qmail 92337 invoked by uid 500); 26 May 2006 17:37:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92306 invoked by uid 500); 26 May 2006 17:37:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92295 invoked by uid 99); 26 May 2006 17:37:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 10:37:40 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 10:37:38 -0700
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.153EA35A@mailer.syr.edu>; Fri, 26 May 2006 13:37:18 -0400
Message-ID: <44773CE5.3010209@syr.edu>
Date: Fri, 26 May 2006 13:37:41 -0400
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Thunderbird 1.5.0.2 (Windows/20060308)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Seeing what's occupying all the space in the index
References: <20060526171357.84738187A9@mail.seseit.com>
In-Reply-To: <20060526171357.84738187A9@mail.seseit.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

It seems odd to me that if you are using the CFS format, why you would 
have the .fdt, .frq and .prx files in addition to the .cfs files.  My 
understanding is all files (except deletable and segment) get put inside 
of the CFS file.  Looking at my indices, I only have the CFS file.  Are 
you optimizing your indices after you are done indexing?  Are you 
turning off compound file format?

Can you try a smaller sample in a clean directory and see what size it 
is (so that it doesn't take as long to index)?

Rob Staveley (Tom) wrote:
>> Is there anything I can learn from the index directory's file listing?
>>     
>
> Running this nasty little BASH one-liner...
>
> $ for i in `ls * | perl -nle 'if (/^.+(\..+)/) {print $1;}' | sort |
> uniq`;do ls -l *$i | awk '{SUM = SUM + $5} END {if (SUM > 1e10) {print
> "'$i': ", SUM}}'; done       
>
> ... I see....
>
> 	.cfs:  1.23155e+10
> 	.fdt:  5.06108e+10
> 	.frq:  1.27472e+10
> 	.prx:  1.3444e+10
>
> That means I have 98 GB of files, with: 
>
> 	51 GB devoted to field data (.fdt), 
> 	13 BG devoted to term positions (.prx)
> 	13 BG devoted to term frequencies (.frq)
> 	12 BG devoted to compound files for the field index (.cfs)
>
> Does that seem reasonable, bearing in mind I have only indexed 4.3 million
> Lucene documents? That's 22.8 kB per Lucene document, and apart from a 300
> character synopsis the fields are all much less than 100 characters long,
> and yet this suggests that the index is providing 600 bytes per field.
>
>   

-- 

Grant Ingersoll 
Sr. Software Engineer 
Center for Natural Language Processing 
Syracuse University 
School of Information Studies 
335 Hinds Hall 
Syracuse, NY 13244 

http://www.cnlp.org 
Voice:  315-443-5484 
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20936-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 18:12:31 2006
Return-Path: <java-user-return-20936-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4298 invoked from network); 26 May 2006 18:12:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 18:12:31 -0000
Received: (qmail 43984 invoked by uid 500); 26 May 2006 18:12:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43911 invoked by uid 500); 26 May 2006 18:12:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43895 invoked by uid 99); 26 May 2006 18:12:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 11:12:24 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.97.205.201] (HELO mail.seseit.com) (209.97.205.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 11:12:23 -0700
Received: by mail.seseit.com (Postfix, from userid 65534)
	id 4D8F1187AC; Fri, 26 May 2006 18:12:00 +0000 (GMT)
Received: from max (unknown [213.166.4.230])
	by mail.seseit.com (Postfix) with ESMTP id 6E449187A9
	for <java-user@lucene.apache.org>; Fri, 26 May 2006 18:11:54 +0000 (GMT)
From: "Rob Staveley (Tom)" <rstaveley@seseit.com>
To: <java-user@lucene.apache.org>
Subject: RE: Seeing what's occupying all the space in the index
Date: Fri, 26 May 2006 19:11:55 +0100
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
Content-Type: multipart/signed;
	protocol="application/x-pkcs7-signature";
	micalg=SHA1;
	boundary="----=_NextPart_000_0126_01C680F8.40DDA4B0"
In-Reply-To: <44773CE5.3010209@syr.edu>
Thread-Index: AcaA6xjlmyZifsEhRIqyp2xjUwKmewAAwUCw
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
Message-Id: <20060526181154.6E449187A9@mail.seseit.com>
X-Spam-Checker-Version: SpamAssassin 3.0.3 (2005-04-27) on mini.seseit.net
X-Spam-Level: X
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=1.7 required=5.0 tests=MSGID_FROM_MTA_ID 
	autolearn=no version=3.0.3
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0126_01C680F8.40DDA4B0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Interesting. I am explicitly turning on the compound file format when I
start my application, but I am suspicious about my optimizing thread. It
*ought* to be optimising every 30 minutes, using thread synchronisation to
prevent the writer from trying to write while optimisation takes place, but
it is possible that I'm screwing up there (I'll add some diagnostics to
check that optimisation and index writing are mutually exclusive). When I
stopped my daemon and manually optimised, it took 11 minutes to optimise the
index. Is your understanding that .fdt, .frq and .prx files are working
files pre-optimisation and then when optimize() is called they should all
get absorbed into the .cfs? Manual optimisation only clawed back 1G, but I
didn't look to see if .fdt, .frq and .prx files were absorbed into the .cfs
files in the process. I'll investigate that now.

> Can you try a smaller sample in a clean directory and see what size it is
(so that it doesn't take as long to index)?

I'll try tee-ing off a message feed and index in a new index. I'm working
with a live message feed.

-----Original Message-----
From: Grant Ingersoll [mailto:gsingers@syr.edu] 
Sent: 26 May 2006 18:38
To: java-user@lucene.apache.org
Subject: Re: Seeing what's occupying all the space in the index

It seems odd to me that if you are using the CFS format, why you would have
the .fdt, .frq and .prx files in addition to the .cfs files.  My
understanding is all files (except deletable and segment) get put inside of
the CFS file.  Looking at my indices, I only have the CFS file.  Are you
optimizing your indices after you are done indexing?  Are you turning off
compound file format?

Can you try a smaller sample in a clean directory and see what size it is
(so that it doesn't take as long to index)?

------=_NextPart_000_0126_01C680F8.40DDA4B0
Content-Type: application/x-pkcs7-signature;
	name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="smime.p7s"

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIKaDCCAj0w
ggGmAhEAzbp/VvDf5LxU/iKss3KqVTANBgkqhkiG9w0BAQIFADBfMQswCQYDVQQGEwJVUzEXMBUG
A1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVibGljIFByaW1hcnkgQ2Vy
dGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNOTYwMTI5MDAwMDAwWhcNMjgwODAxMjM1OTU5WjBfMQsw
CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVi
bGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwgZ8wDQYJKoZIhvcNAQEBBQADgY0A
MIGJAoGBAOUZv22jVmEtmUhx9mfeuY3rt56GgAqRDvo4Ja9GiILlc6igmyRdDR/MZW4MsNBWhBiH
mgabEKFz37RYOWtuwfYV1aioP6oSBo0xrH+wNNePNGeICc0UEeJORVZpH3gCgNrcR5EpuzbJY1zF
4Ncth3uhtzKwezC6Ki8xqu6jZ9rbAgMBAAEwDQYJKoZIhvcNAQECBQADgYEATD+4i8Zo3+5DMw5d
6abLB4RNejP/khv0Nq3YlSI2aBFsfELM85wuxAc/FLAPT/+Qknb54rxK6Y/NoIAK98Up8YIiXbix
3YEjo3slFUYweRb46gVLlH8dwhzI47f0EEA8E8NfH1PoSOSGtHuhNbB7Jbq4046rPzidADQAmPPR
cZQwggNiMIICy6ADAgECAhAL2gsXwT+JjqsJdHq0zi4zMA0GCSqGSIb3DQEBAgUAMF8xCzAJBgNV
BAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE3MDUGA1UECxMuQ2xhc3MgMSBQdWJsaWMg
UHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTAeFw05ODA1MTIwMDAwMDBaFw0wODA1MTIy
MzU5NTlaMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMIGfMA0GCSqGSIb3DQEB
AQUAA4GNADCBiQKBgQC7WkSKBBa7Vf0DeootlE8VeDa4DUqyb5xUv7zodyqdufBou5XZMUFweoFL
uUgTVi3HCOGEQqvAopKrRFyqQvCCDgLpL/vCO7u+yScKXbawNkIztW5UiE+HSr8Z2vkV6A+Hthzj
zMaajn9qJJLj/OBluqexfu/J2zdqyErICQbkmQIDAQABo4GwMIGtMA8GA1UdEwQIMAYBAf8CAQAw
RwYDVR0gBEAwPjA8BgtghkgBhvhFAQcBATAtMCsGCCsGAQUFBwIBFh93d3cudmVyaXNpZ24uY29t
L3JlcG9zaXRvcnkvUlBBMDEGA1UdHwQqMCgwJqAkoCKGIGh0dHA6Ly9jcmwudmVyaXNpZ24uY29t
L3BjYTEuY3JsMAsGA1UdDwQEAwIBBjARBglghkgBhvhCAQEEBAMCAQYwDQYJKoZIhvcNAQECBQAD
gYEAAn2eb0VLOKC43ulTZCG85Ewrjx7+kkCs2Ao5aqEyISwHm6tZ/tJiGn1VOLA3c9z0B2ZjYr3h
U3BSh+eo2FLpWy2q4d7PrDFU1IsZyNgjqO8EKzJ9LBgcyHyJqC538kTRZQpNdLXu0xuSc3QuiTs1
E3LnQDGa07LEq+dWvovj+xUwggS9MIIEJqADAgECAhB1uB0L6Y5EVCCaaM0jkP2tMA0GCSqGSIb3
DQEBBQUAMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMB4XDTA1MTAwNDAwMDAw
MFoXDTA2MTAxODIzNTk1OVowggEZMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMW
VmVyaVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0
b3J5L1JQQSBJbmNvcnAuIGJ5IFJlZi4sTElBQi5MVEQoYyk5ODEeMBwGA1UECxMVUGVyc29uYSBO
b3QgVmFsaWRhdGVkMTMwMQYDVQQLEypEaWdpdGFsIElEIENsYXNzIDEgLSBOZXRzY2FwZSBGdWxs
IFNlcnZpY2UxGzAZBgNVBAMUElJvYiBTdGF2ZWxleSAoVG9tKTEjMCEGCSqGSIb3DQEJARYUcnN0
YXZlbGV5QHNlc2VpdC5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCm4C+s/DP/
NIW0DrHFueJPsZAZxTzi8Aw2bXOUQbHRDNlSO7nWoDPlkTs5RQl0tsJUDlB5TubjJGWKGBdRePXq
ueK/8yj23cBTzKRTU2gNG6cmmc/f/HwHcuc4MCpW9+okvFCPeaFNzuBPPvegjewz3BL3ewfjeOKr
ly//fr/8JBVW19EgK070C2COZgegYNQ5NeV4Y4oDjqETADQDDnYuTe7EMBuSMysmOSgkCfVzEG4h
8N+1ImW6hWe+bH6Rify+q9eZAQint7sSFGZv3ZbBgmE654FKrvE7O8BOOP807/yaJUBlpDkF/X8G
UwvYNwhH/zbHN1BSCD3tstcSIUGHAgMBAAGjgcswgcgwCQYDVR0TBAIwADBEBgNVHSAEPTA7MDkG
C2CGSAGG+EUBBxcDMCowKAYIKwYBBQUHAgEWHGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9ycGEw
CwYDVR0PBAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMEBggrBgEFBQcDAjAUBgpghkgBhvhFAQYH
BAYWBE5vbmUwMwYDVR0fBCwwKjAooCagJIYiaHR0cDovL2NybC52ZXJpc2lnbi5jb20vY2xhc3Mx
LmNybDANBgkqhkiG9w0BAQUFAAOBgQCtsGmCX3v78Qn3I5DAo9mJDenolmgmBjmlaSJr1e5nSBLv
CEflpx3FaZuirDQNJ/sTxtUCJhlv/kTLuczeJkSDj1ALhqeYH1GX9T5zFY+3GCQqTJcTIarHSqZC
PQzwv3dwZCRE0fuELb6oobi4kGA5PXbu3+P7upHSBAmN81O00TGCBL8wggS7AgEBMIHhMIHMMRcw
FQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29yazFG
MEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNvcnAuIEJ5IFJlZi4s
TElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJbmRpdmlkdWFsIFN1
YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L6Y5EVCCaaM0jkP2tMAkGBSsOAwIa
BQCgggKyMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTA2MDUyNjE4
MTE1NVowIwYJKoZIhvcNAQkEMRYEFCcCA88QTfOT4Kx3JSZlrdRHagfGMGcGCSqGSIb3DQEJDzFa
MFgwCgYIKoZIhvcNAwcwDgYIKoZIhvcNAwICAgCAMA0GCCqGSIb3DQMCAgFAMAcGBSsOAwIHMA0G
CCqGSIb3DQMCAgEoMAcGBSsOAwIaMAoGCCqGSIb3DQIFMIHyBgkrBgEEAYI3EAQxgeQwgeEwgcwx
FzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3Jr
MUYwRAYDVQQLEz13d3cudmVyaXNpZ24uY29tL3JlcG9zaXRvcnkvUlBBIEluY29ycC4gQnkgUmVm
LixMSUFCLkxURChjKTk4MUgwRgYDVQQDEz9WZXJpU2lnbiBDbGFzcyAxIENBIEluZGl2aWR1YWwg
U3Vic2NyaWJlci1QZXJzb25hIE5vdCBWYWxpZGF0ZWQCEHW4HQvpjkRUIJpozSOQ/a0wgfQGCyqG
SIb3DQEJEAILMYHkoIHhMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVy
aVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5
L1JQQSBJbmNvcnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xh
c3MgMSBDQSBJbmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L
6Y5EVCCaaM0jkP2tMA0GCSqGSIb3DQEBAQUABIIBAGiNHYvbq9+/9IU5DqeAz8mrTzw1fhOV2+E8
GrdvHzUA2cdFoR/zETQOdSX0ZkpKCXwCC7ngK4R1uZOmEhKNT0U6XerUeYrAD7JD9pa1+Y/fuwkY
kIDVo+gK1dtUygQm3LLe0XzEt4+9thFbzJD4A3xdxPoh8yAjjAJnHPxTDCsY1+LtbobeRTonIUwQ
Ua1MJ8BwXfBsV+Bs331jjJR4EtsKkktiony6xAUK32FDcJIQ8rDsuEu5ZDj9Y8Wt0wFBwDD62I8L
IW5bcSI3/1dLrI92IwvqF3cM0GIF/7ofiT1OwvwBXoKyJF9umLht7K091yac/z9ym+TcJUQrez7Q
BR8AAAAAAAA=

------=_NextPart_000_0126_01C680F8.40DDA4B0--


From java-user-return-20937-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 18:24:03 2006
Return-Path: <java-user-return-20937-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7480 invoked from network); 26 May 2006 18:24:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 18:24:02 -0000
Received: (qmail 64650 invoked by uid 500); 26 May 2006 18:23:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64568 invoked by uid 500); 26 May 2006 18:23:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64523 invoked by uid 99); 26 May 2006 18:23:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 11:23:46 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.57.43] (HELO ylpvm12.prodigy.net) (207.115.57.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 11:23:45 -0700
Received: from pimout7-ext.prodigy.net (pimout7-int.prodigy.net [207.115.4.147])
	by ylpvm12.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id k4QINGum007584
	for <java-user@lucene.apache.org>; Fri, 26 May 2006 14:23:18 -0400
X-ORBL: [69.228.218.244]
Received: from [192.168.168.15] (adsl-69-228-218-244.dsl.pltn13.pacbell.net [69.228.218.244])
	by pimout7-ext.prodigy.net (8.13.6 out.dk/8.13.6) with ESMTP id k4QINHZ2175294;
	Fri, 26 May 2006 14:23:18 -0400
Message-ID: <44774795.3010402@apache.org>
Date: Fri, 26 May 2006 11:23:17 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.8 (X11/20060502)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Seeing what's occupying all the space in the index
References: <20060526074230.4CF42187A9@mail.seseit.com>
In-Reply-To: <20060526074230.4CF42187A9@mail.seseit.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Rob Staveley (Tom) wrote:
> Is there a tool I can use to see how much of the index is occupied by the
> different fields I am indexing?

Note that IndexReader has a main() that will list the contents of 
compound index files.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20938-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 18:32:54 2006
Return-Path: <java-user-return-20938-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10538 invoked from network); 26 May 2006 18:32:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 18:32:54 -0000
Received: (qmail 89830 invoked by uid 500); 26 May 2006 18:32:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89801 invoked by uid 500); 26 May 2006 18:32:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89790 invoked by uid 99); 26 May 2006 18:32:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 11:32:47 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of richmondmike@gmail.com designates 66.249.92.168 as permitted sender)
Received: from [66.249.92.168] (HELO ug-out-1314.google.com) (66.249.92.168)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 11:32:46 -0700
Received: by ug-out-1314.google.com with SMTP id u2so243498uge
        for <java-user@lucene.apache.org>; Fri, 26 May 2006 11:32:24 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=kVEcMXN9vzE8XPQG0zH/pC4M9rNl2JavKK1PVQo/kHb4dGVgXAYqphIPWhxiKBhrBDgmRjOjsgGzI0g3FTOOyammlNgCBOHMZroUVTrkDpbHxS0rkaMZKNBiUXGEwDfmZnH/qzP7e0oYqX0oh1L3wKvl08rgr+OzKofjukzkRuw=
Received: by 10.66.222.9 with SMTP id u9mr2658ugg;
        Fri, 26 May 2006 11:32:23 -0700 (PDT)
Received: by 10.67.95.1 with HTTP; Fri, 26 May 2006 11:32:23 -0700 (PDT)
Message-ID: <931ca11b0605261132g1a6f048w755dfa3e4b247368@mail.gmail.com>
Date: Fri, 26 May 2006 14:32:23 -0400
From: "Mike Richmond" <richmondmike@gmail.com>
To: java-user@lucene.apache.org
Subject: Get index name from a hit
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

When using a MultiSearcher Is there anyway to get the name of the
index that a hit came from?  One way would be to add the index name as
a field to each document, but I am hoping to avoid this.


Thanks,

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20939-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 18:46:56 2006
Return-Path: <java-user-return-20939-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15286 invoked from network); 26 May 2006 18:46:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 18:46:56 -0000
Received: (qmail 14307 invoked by uid 500); 26 May 2006 18:46:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14284 invoked by uid 500); 26 May 2006 18:46:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14273 invoked by uid 99); 26 May 2006 18:46:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 11:46:49 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.28] (HELO smtp-vbr8.xs4all.nl) (194.109.24.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 11:46:48 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr8.xs4all.nl (8.13.6/8.13.6) with ESMTP id k4QIkQSV092948
	for <java-user@lucene.apache.org>; Fri, 26 May 2006 20:46:27 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: BufferedIndexInput.readByte performance; skipping
Date: Fri, 26 May 2006 20:46:26 +0200
User-Agent: KMail/1.8.2
References: <429c032d0605260714p69ad26a2n1cfae95724bf866d@mail.gmail.com> <200605261826.37597.paul.elschot@xs4all.nl> <p06230906c09ce68df4a3@[192.168.1.101]>
In-Reply-To: <p06230906c09ce68df4a3@[192.168.1.101]>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605262046.26432.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Friday 26 May 2006 19:13, Ken Krugler wrote:
> >On Friday 26 May 2006 16:14, Michael Chan wrote:
> >>  Hi,
> >>
> >  > I have a 5gb index containing 2mil documents and am trying to run
> >>  1mil+ queries against it. Most of the queries are SpanQueries and it
> >>  occurs to me that the search performance is quite slow when using 2, 3
> >>  SpanOrQueries nested inside a SpanNearQuery, which in turn is nested
> >>  inside another SpanNearQuery. The response time is around 3-5 seconds
> >>  even when the index is stored as a RAMDirectory, and
> >>  BufferedIndexInput.readByte() appears to be the bottleneck. Is this
> >  > performance typical? As I don't need any sorting of the results and
> >
> >That is indeed typical.
> >
> >  > only need the number of results returned, is there anything, besides
> >>  Field.setOmitNorm(true), I can modify to improve performance?
> >
> >A few things might help:
> >- use getSpans() on the scorer of the query, iterate the resulting Spans
> >   and count the number of different doc values.
> >   This saves the scoring and the sorting on score value.
> >- Sort the queries alphabetically, to try and maximize cache usage.
> >- Increase the skip interval when creating the index, by default lucene 
uses
> >   16, but nutch uses a higher value. I've never done this myself, but
> >   you could specifically ask on how to do this.
> 
> I'm curious how increasing the skip interval would improve 
> performance. From what I've read on-list and in-code, having a 

I meant the skip interval between documents for a single term.
Enlarging that allows to skipTo(docNr) to be faster in TermQuery
and SpanTermQuery by needing fewer iterations under the covers
when the docNr is "far ahead".

> smaller skip interval means trading more memory for faster term 
> lookup. I think Nutch uses a larger default value (128) to better 
> handle big (e.g. 10M) indexes, at the expense of slightly slower 
> performance.

I think you mean the skip interval between terms in the index,
IndexWriter.DEFAULT_TERM_INDEX_INTERVAL .

> 
> Also, the use of a sorted index would seem to offer the biggest 
> potential speed win, though that would require a good way of ordering 
> the index, and it seems like there would be lots of tuning required 
> to pick the right cut-off value for searches.

The index for terms -> documents -> positions is sorted.
The skip interval I meant is in the terms -> documents part,
and it is not directly accessible for normal use.

Internally this is TermInfosWriter.skipInterval.
(Class TermInfosWriter is package private in org.apache.lucene.index).
Quoting from the javadocs for Lucene internals on
TermInfosWriter.skipInterval:
"The fraction of TermDocs entries stored in skip tables, used to accellerate 
TermDocs.skipTo(int). Larger values result in smaller indexes, greater 
acceleration, but fewer accelerable cases, while smaller values result in 
bigger indexes, less acceleration and more accelerable cases.
More detailed experiments would be useful here."

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20940-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 18:53:28 2006
Return-Path: <java-user-return-20940-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17226 invoked from network); 26 May 2006 18:53:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 18:53:28 -0000
Received: (qmail 22648 invoked by uid 500); 26 May 2006 18:53:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22499 invoked by uid 500); 26 May 2006 18:53:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22488 invoked by uid 99); 26 May 2006 18:53:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 11:53:21 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.97.205.201] (HELO mail.seseit.com) (209.97.205.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 11:53:19 -0700
Received: by mail.seseit.com (Postfix, from userid 65534)
	id BC261187AC; Fri, 26 May 2006 18:52:57 +0000 (GMT)
Received: from max (unknown [213.166.4.230])
	by mail.seseit.com (Postfix) with ESMTP id 8D015187A9
	for <java-user@lucene.apache.org>; Fri, 26 May 2006 18:52:55 +0000 (GMT)
From: "Rob Staveley (Tom)" <rstaveley@seseit.com>
To: <java-user@lucene.apache.org>
Subject: RE: Seeing what's occupying all the space in the index
Date: Fri, 26 May 2006 19:53:02 +0100
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <20060526181154.6E449187A9@mail.seseit.com>
Content-Type: multipart/signed;
	protocol="application/x-pkcs7-signature";
	micalg=SHA1;
	boundary="----=_NextPart_000_013B_01C680FD.FEEE5030"
Thread-Index: AcaA6xjlmyZifsEhRIqyp2xjUwKmewAAwUCwAAGYbKA=
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
Message-Id: <20060526185255.8D015187A9@mail.seseit.com>
X-Spam-Checker-Version: SpamAssassin 3.0.3 (2005-04-27) on mini.seseit.net
X-Spam-Level: X
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=1.7 required=5.0 tests=MSGID_FROM_MTA_ID 
	autolearn=no version=3.0.3
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_013B_01C680FD.FEEE5030
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

I just tried to optimise my index, using the lucli command line client, and
got:

--------8<--------
lucli> optimize
Starting to optimize index.
java.io.IOException: Cannot overwrite:
/mnt/sdb1/lucene-index/index-1/_2lhqi.fnm
        at
org.apache.lucene.store.FSDirectory.createOutput(FSDirectory.java:322)
        at org.apache.lucene.index.FieldInfos.write(FieldInfos.java:255)
        at
org.apache.lucene.index.SegmentMerger.mergeFields(SegmentMerger.java:176)
        at
org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:88)
        at
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:707)
        at
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:684)
        at
org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:543)
        at lucli.LuceneMethods.optimize(LuceneMethods.java:192)
        at lucli.Lucli.handleCommand(Lucli.java:223)
        at lucli.Lucli.<init>(Lucli.java:148)
        at lucli.Lucli.main(Lucli.java:175)
--------8<--------

It isn't a permissions issue - there are read+write permissions on
_2lhqi.fnm for the user. Does that mean that I have a file called
_2lhqi.fnm, which shouldn't be there - possibly from a previous attempt to
optimise the index, which got interrupted?

Bearing in mind that the index is 4 million documents, I'm reluctant to
re-index everything. If temporary files persist after an interrupted
optimize(), what's the wise/expedient thing to do under these circumstances?

------=_NextPart_000_013B_01C680FD.FEEE5030
Content-Type: application/x-pkcs7-signature;
	name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="smime.p7s"

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIKaDCCAj0w
ggGmAhEAzbp/VvDf5LxU/iKss3KqVTANBgkqhkiG9w0BAQIFADBfMQswCQYDVQQGEwJVUzEXMBUG
A1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVibGljIFByaW1hcnkgQ2Vy
dGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNOTYwMTI5MDAwMDAwWhcNMjgwODAxMjM1OTU5WjBfMQsw
CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVi
bGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwgZ8wDQYJKoZIhvcNAQEBBQADgY0A
MIGJAoGBAOUZv22jVmEtmUhx9mfeuY3rt56GgAqRDvo4Ja9GiILlc6igmyRdDR/MZW4MsNBWhBiH
mgabEKFz37RYOWtuwfYV1aioP6oSBo0xrH+wNNePNGeICc0UEeJORVZpH3gCgNrcR5EpuzbJY1zF
4Ncth3uhtzKwezC6Ki8xqu6jZ9rbAgMBAAEwDQYJKoZIhvcNAQECBQADgYEATD+4i8Zo3+5DMw5d
6abLB4RNejP/khv0Nq3YlSI2aBFsfELM85wuxAc/FLAPT/+Qknb54rxK6Y/NoIAK98Up8YIiXbix
3YEjo3slFUYweRb46gVLlH8dwhzI47f0EEA8E8NfH1PoSOSGtHuhNbB7Jbq4046rPzidADQAmPPR
cZQwggNiMIICy6ADAgECAhAL2gsXwT+JjqsJdHq0zi4zMA0GCSqGSIb3DQEBAgUAMF8xCzAJBgNV
BAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE3MDUGA1UECxMuQ2xhc3MgMSBQdWJsaWMg
UHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTAeFw05ODA1MTIwMDAwMDBaFw0wODA1MTIy
MzU5NTlaMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMIGfMA0GCSqGSIb3DQEB
AQUAA4GNADCBiQKBgQC7WkSKBBa7Vf0DeootlE8VeDa4DUqyb5xUv7zodyqdufBou5XZMUFweoFL
uUgTVi3HCOGEQqvAopKrRFyqQvCCDgLpL/vCO7u+yScKXbawNkIztW5UiE+HSr8Z2vkV6A+Hthzj
zMaajn9qJJLj/OBluqexfu/J2zdqyErICQbkmQIDAQABo4GwMIGtMA8GA1UdEwQIMAYBAf8CAQAw
RwYDVR0gBEAwPjA8BgtghkgBhvhFAQcBATAtMCsGCCsGAQUFBwIBFh93d3cudmVyaXNpZ24uY29t
L3JlcG9zaXRvcnkvUlBBMDEGA1UdHwQqMCgwJqAkoCKGIGh0dHA6Ly9jcmwudmVyaXNpZ24uY29t
L3BjYTEuY3JsMAsGA1UdDwQEAwIBBjARBglghkgBhvhCAQEEBAMCAQYwDQYJKoZIhvcNAQECBQAD
gYEAAn2eb0VLOKC43ulTZCG85Ewrjx7+kkCs2Ao5aqEyISwHm6tZ/tJiGn1VOLA3c9z0B2ZjYr3h
U3BSh+eo2FLpWy2q4d7PrDFU1IsZyNgjqO8EKzJ9LBgcyHyJqC538kTRZQpNdLXu0xuSc3QuiTs1
E3LnQDGa07LEq+dWvovj+xUwggS9MIIEJqADAgECAhB1uB0L6Y5EVCCaaM0jkP2tMA0GCSqGSIb3
DQEBBQUAMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMB4XDTA1MTAwNDAwMDAw
MFoXDTA2MTAxODIzNTk1OVowggEZMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMW
VmVyaVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0
b3J5L1JQQSBJbmNvcnAuIGJ5IFJlZi4sTElBQi5MVEQoYyk5ODEeMBwGA1UECxMVUGVyc29uYSBO
b3QgVmFsaWRhdGVkMTMwMQYDVQQLEypEaWdpdGFsIElEIENsYXNzIDEgLSBOZXRzY2FwZSBGdWxs
IFNlcnZpY2UxGzAZBgNVBAMUElJvYiBTdGF2ZWxleSAoVG9tKTEjMCEGCSqGSIb3DQEJARYUcnN0
YXZlbGV5QHNlc2VpdC5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCm4C+s/DP/
NIW0DrHFueJPsZAZxTzi8Aw2bXOUQbHRDNlSO7nWoDPlkTs5RQl0tsJUDlB5TubjJGWKGBdRePXq
ueK/8yj23cBTzKRTU2gNG6cmmc/f/HwHcuc4MCpW9+okvFCPeaFNzuBPPvegjewz3BL3ewfjeOKr
ly//fr/8JBVW19EgK070C2COZgegYNQ5NeV4Y4oDjqETADQDDnYuTe7EMBuSMysmOSgkCfVzEG4h
8N+1ImW6hWe+bH6Rify+q9eZAQint7sSFGZv3ZbBgmE654FKrvE7O8BOOP807/yaJUBlpDkF/X8G
UwvYNwhH/zbHN1BSCD3tstcSIUGHAgMBAAGjgcswgcgwCQYDVR0TBAIwADBEBgNVHSAEPTA7MDkG
C2CGSAGG+EUBBxcDMCowKAYIKwYBBQUHAgEWHGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9ycGEw
CwYDVR0PBAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMEBggrBgEFBQcDAjAUBgpghkgBhvhFAQYH
BAYWBE5vbmUwMwYDVR0fBCwwKjAooCagJIYiaHR0cDovL2NybC52ZXJpc2lnbi5jb20vY2xhc3Mx
LmNybDANBgkqhkiG9w0BAQUFAAOBgQCtsGmCX3v78Qn3I5DAo9mJDenolmgmBjmlaSJr1e5nSBLv
CEflpx3FaZuirDQNJ/sTxtUCJhlv/kTLuczeJkSDj1ALhqeYH1GX9T5zFY+3GCQqTJcTIarHSqZC
PQzwv3dwZCRE0fuELb6oobi4kGA5PXbu3+P7upHSBAmN81O00TGCBL8wggS7AgEBMIHhMIHMMRcw
FQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29yazFG
MEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNvcnAuIEJ5IFJlZi4s
TElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJbmRpdmlkdWFsIFN1
YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L6Y5EVCCaaM0jkP2tMAkGBSsOAwIa
BQCgggKyMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTA2MDUyNjE4
NTMwMVowIwYJKoZIhvcNAQkEMRYEFE3tpfDue/DJ3m7D1euQ82HBtuK3MGcGCSqGSIb3DQEJDzFa
MFgwCgYIKoZIhvcNAwcwDgYIKoZIhvcNAwICAgCAMA0GCCqGSIb3DQMCAgFAMAcGBSsOAwIHMA0G
CCqGSIb3DQMCAgEoMAcGBSsOAwIaMAoGCCqGSIb3DQIFMIHyBgkrBgEEAYI3EAQxgeQwgeEwgcwx
FzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3Jr
MUYwRAYDVQQLEz13d3cudmVyaXNpZ24uY29tL3JlcG9zaXRvcnkvUlBBIEluY29ycC4gQnkgUmVm
LixMSUFCLkxURChjKTk4MUgwRgYDVQQDEz9WZXJpU2lnbiBDbGFzcyAxIENBIEluZGl2aWR1YWwg
U3Vic2NyaWJlci1QZXJzb25hIE5vdCBWYWxpZGF0ZWQCEHW4HQvpjkRUIJpozSOQ/a0wgfQGCyqG
SIb3DQEJEAILMYHkoIHhMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVy
aVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5
L1JQQSBJbmNvcnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xh
c3MgMSBDQSBJbmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L
6Y5EVCCaaM0jkP2tMA0GCSqGSIb3DQEBAQUABIIBAC2AAUZCrnKf2MkuxOFMtzLCxZCtwckqabZY
ob9f++iysHzp1OXdUTDt/Y+EPbZP1VGfG/a66bwEAnAZsN4pnbovMh+lheBVwG6KyqbNJB7tRlxc
93JP/3DWg31BHtIz7pt6BlNQ2ZKMjynTlGN2XFb3iL3lPymRwBlRFNJ8fEWvtcritHK4NFAZ7B+h
Oiu6oYaMeGtKSYpAnDO/VTg6xKJomEUOUf8te+7UTqJrHEEFTC6cuhzZVqV/J54r7LOmow0i3kAd
4fy5evnjmsgb7vCgL6SX0Pzws1zonwajhotLRpJrKey5TLT9g/FBEe8l/ZzaLFtE2euHkb63GAsD
WrgAAAAAAAA=

------=_NextPart_000_013B_01C680FD.FEEE5030--


From java-user-return-20941-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 19:13:19 2006
Return-Path: <java-user-return-20941-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22857 invoked from network); 26 May 2006 19:13:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 19:13:18 -0000
Received: (qmail 46027 invoked by uid 500); 26 May 2006 19:13:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46004 invoked by uid 500); 26 May 2006 19:13:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45993 invoked by uid 99); 26 May 2006 19:13:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 12:13:11 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.97.205.201] (HELO mail.seseit.com) (209.97.205.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 12:13:09 -0700
Received: by mail.seseit.com (Postfix, from userid 65534)
	id 865C9187AC; Fri, 26 May 2006 19:12:48 +0000 (GMT)
Received: from max (unknown [213.166.4.230])
	by mail.seseit.com (Postfix) with ESMTP id CD244187A9
	for <java-user@lucene.apache.org>; Fri, 26 May 2006 19:12:46 +0000 (GMT)
From: "Rob Staveley (Tom)" <rstaveley@seseit.com>
To: <java-user@lucene.apache.org>
Subject: RE: Seeing what's occupying all the space in the index
Date: Fri, 26 May 2006 20:12:55 +0100
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <44774795.3010402@apache.org>
Content-Type: multipart/signed;
	protocol="application/x-pkcs7-signature";
	micalg=SHA1;
	boundary="----=_NextPart_000_0159_01C68100.C616BD80"
Thread-Index: AcaA8Y7sSmKDsYfITZWkGnvhCINCoAABSnpw
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
Message-Id: <20060526191246.CD244187A9@mail.seseit.com>
X-Spam-Checker-Version: SpamAssassin 3.0.3 (2005-04-27) on mini.seseit.net
X-Spam-Level: X
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=1.7 required=5.0 tests=MSGID_FROM_MTA_ID 
	autolearn=no version=3.0.3
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0159_01C68100.C616BD80
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

> Note that IndexReader has a main() that will list the contents of compound
index files.

It looks like some of my index is compound and some isn't. My not very well
informed guess is that an optimize() got interrupted somewhere along the
line.

If I try to optimize the index now, it throws exceptions.

lucli> optimize
Starting to optimize index.
java.io.IOException: Cannot overwrite: /mnt/sdb1/index/index-1/_2lhqi.fnm
        at
org.apache.lucene.store.FSDirectory.createOutput(FSDirectory.java:322)
        at org.apache.lucene.index.FieldInfos.write(FieldInfos.java:255)
        at
org.apache.lucene.index.SegmentMerger.mergeFields(SegmentMerger.java:176)
        at
org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:88)
        at
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:707)
        at
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:684)
        at
org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:543)
        at lucli.LuceneMethods.optimize(LuceneMethods.java:192)
        at lucli.Lucli.handleCommand(Lucli.java:223)
        at lucli.Lucli.<init>(Lucli.java:148)
        at lucli.Lucli.main(Lucli.java:175)

Would the smart thing to do at this point be to use IndexReader's main()
method to extract the contents of the compound files and then to attempt to
merge them with the unmerged indexes? [I'll need to delve further into
Doug's excellent LIA to figure out how to do this.]

To recap, I have 98 GB of files in my index, with: 

	51 GB devoted to field data (.fdt), 
	13 GB devoted to term positions (.prx)
	13 GB devoted to term frequencies (.frq)
	12 GB devoted to compound files for the field index (.cfs)

I seem to have the same mess on a parallel system too - I'm indexing in two
data centres.

------=_NextPart_000_0159_01C68100.C616BD80
Content-Type: application/x-pkcs7-signature;
	name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="smime.p7s"

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIKaDCCAj0w
ggGmAhEAzbp/VvDf5LxU/iKss3KqVTANBgkqhkiG9w0BAQIFADBfMQswCQYDVQQGEwJVUzEXMBUG
A1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVibGljIFByaW1hcnkgQ2Vy
dGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNOTYwMTI5MDAwMDAwWhcNMjgwODAxMjM1OTU5WjBfMQsw
CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVi
bGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwgZ8wDQYJKoZIhvcNAQEBBQADgY0A
MIGJAoGBAOUZv22jVmEtmUhx9mfeuY3rt56GgAqRDvo4Ja9GiILlc6igmyRdDR/MZW4MsNBWhBiH
mgabEKFz37RYOWtuwfYV1aioP6oSBo0xrH+wNNePNGeICc0UEeJORVZpH3gCgNrcR5EpuzbJY1zF
4Ncth3uhtzKwezC6Ki8xqu6jZ9rbAgMBAAEwDQYJKoZIhvcNAQECBQADgYEATD+4i8Zo3+5DMw5d
6abLB4RNejP/khv0Nq3YlSI2aBFsfELM85wuxAc/FLAPT/+Qknb54rxK6Y/NoIAK98Up8YIiXbix
3YEjo3slFUYweRb46gVLlH8dwhzI47f0EEA8E8NfH1PoSOSGtHuhNbB7Jbq4046rPzidADQAmPPR
cZQwggNiMIICy6ADAgECAhAL2gsXwT+JjqsJdHq0zi4zMA0GCSqGSIb3DQEBAgUAMF8xCzAJBgNV
BAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE3MDUGA1UECxMuQ2xhc3MgMSBQdWJsaWMg
UHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTAeFw05ODA1MTIwMDAwMDBaFw0wODA1MTIy
MzU5NTlaMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMIGfMA0GCSqGSIb3DQEB
AQUAA4GNADCBiQKBgQC7WkSKBBa7Vf0DeootlE8VeDa4DUqyb5xUv7zodyqdufBou5XZMUFweoFL
uUgTVi3HCOGEQqvAopKrRFyqQvCCDgLpL/vCO7u+yScKXbawNkIztW5UiE+HSr8Z2vkV6A+Hthzj
zMaajn9qJJLj/OBluqexfu/J2zdqyErICQbkmQIDAQABo4GwMIGtMA8GA1UdEwQIMAYBAf8CAQAw
RwYDVR0gBEAwPjA8BgtghkgBhvhFAQcBATAtMCsGCCsGAQUFBwIBFh93d3cudmVyaXNpZ24uY29t
L3JlcG9zaXRvcnkvUlBBMDEGA1UdHwQqMCgwJqAkoCKGIGh0dHA6Ly9jcmwudmVyaXNpZ24uY29t
L3BjYTEuY3JsMAsGA1UdDwQEAwIBBjARBglghkgBhvhCAQEEBAMCAQYwDQYJKoZIhvcNAQECBQAD
gYEAAn2eb0VLOKC43ulTZCG85Ewrjx7+kkCs2Ao5aqEyISwHm6tZ/tJiGn1VOLA3c9z0B2ZjYr3h
U3BSh+eo2FLpWy2q4d7PrDFU1IsZyNgjqO8EKzJ9LBgcyHyJqC538kTRZQpNdLXu0xuSc3QuiTs1
E3LnQDGa07LEq+dWvovj+xUwggS9MIIEJqADAgECAhB1uB0L6Y5EVCCaaM0jkP2tMA0GCSqGSIb3
DQEBBQUAMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMB4XDTA1MTAwNDAwMDAw
MFoXDTA2MTAxODIzNTk1OVowggEZMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMW
VmVyaVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0
b3J5L1JQQSBJbmNvcnAuIGJ5IFJlZi4sTElBQi5MVEQoYyk5ODEeMBwGA1UECxMVUGVyc29uYSBO
b3QgVmFsaWRhdGVkMTMwMQYDVQQLEypEaWdpdGFsIElEIENsYXNzIDEgLSBOZXRzY2FwZSBGdWxs
IFNlcnZpY2UxGzAZBgNVBAMUElJvYiBTdGF2ZWxleSAoVG9tKTEjMCEGCSqGSIb3DQEJARYUcnN0
YXZlbGV5QHNlc2VpdC5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCm4C+s/DP/
NIW0DrHFueJPsZAZxTzi8Aw2bXOUQbHRDNlSO7nWoDPlkTs5RQl0tsJUDlB5TubjJGWKGBdRePXq
ueK/8yj23cBTzKRTU2gNG6cmmc/f/HwHcuc4MCpW9+okvFCPeaFNzuBPPvegjewz3BL3ewfjeOKr
ly//fr/8JBVW19EgK070C2COZgegYNQ5NeV4Y4oDjqETADQDDnYuTe7EMBuSMysmOSgkCfVzEG4h
8N+1ImW6hWe+bH6Rify+q9eZAQint7sSFGZv3ZbBgmE654FKrvE7O8BOOP807/yaJUBlpDkF/X8G
UwvYNwhH/zbHN1BSCD3tstcSIUGHAgMBAAGjgcswgcgwCQYDVR0TBAIwADBEBgNVHSAEPTA7MDkG
C2CGSAGG+EUBBxcDMCowKAYIKwYBBQUHAgEWHGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9ycGEw
CwYDVR0PBAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMEBggrBgEFBQcDAjAUBgpghkgBhvhFAQYH
BAYWBE5vbmUwMwYDVR0fBCwwKjAooCagJIYiaHR0cDovL2NybC52ZXJpc2lnbi5jb20vY2xhc3Mx
LmNybDANBgkqhkiG9w0BAQUFAAOBgQCtsGmCX3v78Qn3I5DAo9mJDenolmgmBjmlaSJr1e5nSBLv
CEflpx3FaZuirDQNJ/sTxtUCJhlv/kTLuczeJkSDj1ALhqeYH1GX9T5zFY+3GCQqTJcTIarHSqZC
PQzwv3dwZCRE0fuELb6oobi4kGA5PXbu3+P7upHSBAmN81O00TGCBL8wggS7AgEBMIHhMIHMMRcw
FQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29yazFG
MEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNvcnAuIEJ5IFJlZi4s
TElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJbmRpdmlkdWFsIFN1
YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L6Y5EVCCaaM0jkP2tMAkGBSsOAwIa
BQCgggKyMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTA2MDUyNjE5
MTI1NVowIwYJKoZIhvcNAQkEMRYEFOKw22wm8cQNAgHoLK2eqcDG/8KnMGcGCSqGSIb3DQEJDzFa
MFgwCgYIKoZIhvcNAwcwDgYIKoZIhvcNAwICAgCAMA0GCCqGSIb3DQMCAgFAMAcGBSsOAwIHMA0G
CCqGSIb3DQMCAgEoMAcGBSsOAwIaMAoGCCqGSIb3DQIFMIHyBgkrBgEEAYI3EAQxgeQwgeEwgcwx
FzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3Jr
MUYwRAYDVQQLEz13d3cudmVyaXNpZ24uY29tL3JlcG9zaXRvcnkvUlBBIEluY29ycC4gQnkgUmVm
LixMSUFCLkxURChjKTk4MUgwRgYDVQQDEz9WZXJpU2lnbiBDbGFzcyAxIENBIEluZGl2aWR1YWwg
U3Vic2NyaWJlci1QZXJzb25hIE5vdCBWYWxpZGF0ZWQCEHW4HQvpjkRUIJpozSOQ/a0wgfQGCyqG
SIb3DQEJEAILMYHkoIHhMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVy
aVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5
L1JQQSBJbmNvcnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xh
c3MgMSBDQSBJbmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L
6Y5EVCCaaM0jkP2tMA0GCSqGSIb3DQEBAQUABIIBAFCmeRW+NQxoJ1L2+0ZNR4aoutDOBSXuZ/n8
/4uWKZxR0hRHeA16goAijPRD0szkgcz18OYWdHOp7tkpKM4wWplEmke7X0/VOngbpLXkoVWqGYVZ
/mj9TgR3c8D9NQ+YlGnmN7iBf0cLoTqXl7UWae+eq0puKnTOdeScuQ2eNzEHCN6BM9EENUba3bt8
f5hn2SXgCChT0SZUd3t7+2F35sROgp6dLqVANtNcGIQVotnlNFbasfAFQu5o6pQ3oMzNPUkGqPB3
xWu/jRVPwSR5udkxdsWMV6GbBGCGD+ZziiHeiIWklroi6i9UB2RuChhFtopHdGcLIcms0cTmdwaL
5M4AAAAAAAA=

------=_NextPart_000_0159_01C68100.C616BD80--


From java-user-return-20942-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 19:25:44 2006
Return-Path: <java-user-return-20942-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35482 invoked from network); 26 May 2006 19:25:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 19:25:44 -0000
Received: (qmail 60305 invoked by uid 500); 26 May 2006 19:25:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60283 invoked by uid 500); 26 May 2006 19:25:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60257 invoked by uid 99); 26 May 2006 19:25:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 12:25:37 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 12:25:36 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 2F8D333CBBA; Fri, 26 May 2006 15:25:16 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [172.16.1.101] (va-71-53-203-135.dhcp.sprint-hsd.net [71.53.203.135])
	by ehatchersolutions.com (Postfix) with ESMTP id 821F833CBB8
	for <java-user@lucene.apache.org>; Fri, 26 May 2006 15:25:14 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <931ca11b0605261132g1a6f048w755dfa3e4b247368@mail.gmail.com>
References: <931ca11b0605261132g1a6f048w755dfa3e4b247368@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E326DE95-1D87-44A1-9AB0-5E79ACC5018F@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Get index name from a hit
Date: Fri, 26 May 2006 15:25:08 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-0.9 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_SORBS_DUL autolearn=no version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm running out the door, so only a quick reply... yes you can.  Look  
at the subSearcher(?) method - that'll give you the index.  Your  
application will need to keep track of which indexes correspond to  
which indices.   Check the archives for the answer too, sorry for the  
short reply.

	Erik

On May 26, 2006, at 2:32 PM, Mike Richmond wrote:

> When using a MultiSearcher Is there anyway to get the name of the
> index that a hit came from?  One way would be to add the index name as
> a field to each document, but I am hoping to avoid this.
>
>
> Thanks,
>
> Mike
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20943-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 20:18:11 2006
Return-Path: <java-user-return-20943-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50533 invoked from network); 26 May 2006 20:18:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 20:18:10 -0000
Received: (qmail 43631 invoked by uid 500); 26 May 2006 20:18:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43605 invoked by uid 500); 26 May 2006 20:18:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43588 invoked by uid 99); 26 May 2006 20:18:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 13:18:01 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.97.205.201] (HELO mail.seseit.com) (209.97.205.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 13:17:57 -0700
Received: by mail.seseit.com (Postfix, from userid 65534)
	id 59D9A187AC; Fri, 26 May 2006 20:17:35 +0000 (GMT)
Received: from max (unknown [213.166.4.230])
	by mail.seseit.com (Postfix) with ESMTP id E5B51187A9
	for <java-user@lucene.apache.org>; Fri, 26 May 2006 20:17:32 +0000 (GMT)
From: "Rob Staveley (Tom)" <rstaveley@seseit.com>
To: <java-user@lucene.apache.org>
Subject: RE: Seeing what's occupying all the space in the index
Date: Fri, 26 May 2006 21:17:37 +0100
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <20060526181154.6E449187A9@mail.seseit.com>
Content-Type: multipart/signed;
	protocol="application/x-pkcs7-signature";
	micalg=SHA1;
	boundary="----=_NextPart_000_0178_01C68109.CFB7B610"
Thread-Index: AcaA6xjlmyZifsEhRIqyp2xjUwKmewAAwUCwAAR+YAA=
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
Message-Id: <20060526201732.E5B51187A9@mail.seseit.com>
X-Spam-Checker-Version: SpamAssassin 3.0.3 (2005-04-27) on mini.seseit.net
X-Spam-Level: X
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=1.7 required=5.0 tests=MSGID_FROM_MTA_ID 
	autolearn=no version=3.0.3
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0178_01C68109.CFB7B610
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Indexing 55648 documents in a new clean directory, I see only .cfs files (+
deletable  + segments). Disk usage is 65K for all of these, which means that
each message takes ~1K of index space rather than > 10K as it does in my
99GB index.

Bearing in mind that the large index has > 5 million Lucene documents
indexed in it now, do you reckon I can merge the .fdt, .prx and .frq into a
compound index?

-----Original Message-----
From: Grant Ingersoll [mailto:gsingers@syr.edu]
Sent: 26 May 2006 18:38
To: java-user@lucene.apache.org
Subject: Re: Seeing what's occupying all the space in the index

> Can you try a smaller sample in a clean directory and see what size it is
(so that it doesn't take as long to index)?

------=_NextPart_000_0178_01C68109.CFB7B610
Content-Type: application/x-pkcs7-signature;
	name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="smime.p7s"

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIKaDCCAj0w
ggGmAhEAzbp/VvDf5LxU/iKss3KqVTANBgkqhkiG9w0BAQIFADBfMQswCQYDVQQGEwJVUzEXMBUG
A1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVibGljIFByaW1hcnkgQ2Vy
dGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNOTYwMTI5MDAwMDAwWhcNMjgwODAxMjM1OTU5WjBfMQsw
CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVi
bGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwgZ8wDQYJKoZIhvcNAQEBBQADgY0A
MIGJAoGBAOUZv22jVmEtmUhx9mfeuY3rt56GgAqRDvo4Ja9GiILlc6igmyRdDR/MZW4MsNBWhBiH
mgabEKFz37RYOWtuwfYV1aioP6oSBo0xrH+wNNePNGeICc0UEeJORVZpH3gCgNrcR5EpuzbJY1zF
4Ncth3uhtzKwezC6Ki8xqu6jZ9rbAgMBAAEwDQYJKoZIhvcNAQECBQADgYEATD+4i8Zo3+5DMw5d
6abLB4RNejP/khv0Nq3YlSI2aBFsfELM85wuxAc/FLAPT/+Qknb54rxK6Y/NoIAK98Up8YIiXbix
3YEjo3slFUYweRb46gVLlH8dwhzI47f0EEA8E8NfH1PoSOSGtHuhNbB7Jbq4046rPzidADQAmPPR
cZQwggNiMIICy6ADAgECAhAL2gsXwT+JjqsJdHq0zi4zMA0GCSqGSIb3DQEBAgUAMF8xCzAJBgNV
BAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE3MDUGA1UECxMuQ2xhc3MgMSBQdWJsaWMg
UHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTAeFw05ODA1MTIwMDAwMDBaFw0wODA1MTIy
MzU5NTlaMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMIGfMA0GCSqGSIb3DQEB
AQUAA4GNADCBiQKBgQC7WkSKBBa7Vf0DeootlE8VeDa4DUqyb5xUv7zodyqdufBou5XZMUFweoFL
uUgTVi3HCOGEQqvAopKrRFyqQvCCDgLpL/vCO7u+yScKXbawNkIztW5UiE+HSr8Z2vkV6A+Hthzj
zMaajn9qJJLj/OBluqexfu/J2zdqyErICQbkmQIDAQABo4GwMIGtMA8GA1UdEwQIMAYBAf8CAQAw
RwYDVR0gBEAwPjA8BgtghkgBhvhFAQcBATAtMCsGCCsGAQUFBwIBFh93d3cudmVyaXNpZ24uY29t
L3JlcG9zaXRvcnkvUlBBMDEGA1UdHwQqMCgwJqAkoCKGIGh0dHA6Ly9jcmwudmVyaXNpZ24uY29t
L3BjYTEuY3JsMAsGA1UdDwQEAwIBBjARBglghkgBhvhCAQEEBAMCAQYwDQYJKoZIhvcNAQECBQAD
gYEAAn2eb0VLOKC43ulTZCG85Ewrjx7+kkCs2Ao5aqEyISwHm6tZ/tJiGn1VOLA3c9z0B2ZjYr3h
U3BSh+eo2FLpWy2q4d7PrDFU1IsZyNgjqO8EKzJ9LBgcyHyJqC538kTRZQpNdLXu0xuSc3QuiTs1
E3LnQDGa07LEq+dWvovj+xUwggS9MIIEJqADAgECAhB1uB0L6Y5EVCCaaM0jkP2tMA0GCSqGSIb3
DQEBBQUAMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMB4XDTA1MTAwNDAwMDAw
MFoXDTA2MTAxODIzNTk1OVowggEZMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMW
VmVyaVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0
b3J5L1JQQSBJbmNvcnAuIGJ5IFJlZi4sTElBQi5MVEQoYyk5ODEeMBwGA1UECxMVUGVyc29uYSBO
b3QgVmFsaWRhdGVkMTMwMQYDVQQLEypEaWdpdGFsIElEIENsYXNzIDEgLSBOZXRzY2FwZSBGdWxs
IFNlcnZpY2UxGzAZBgNVBAMUElJvYiBTdGF2ZWxleSAoVG9tKTEjMCEGCSqGSIb3DQEJARYUcnN0
YXZlbGV5QHNlc2VpdC5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCm4C+s/DP/
NIW0DrHFueJPsZAZxTzi8Aw2bXOUQbHRDNlSO7nWoDPlkTs5RQl0tsJUDlB5TubjJGWKGBdRePXq
ueK/8yj23cBTzKRTU2gNG6cmmc/f/HwHcuc4MCpW9+okvFCPeaFNzuBPPvegjewz3BL3ewfjeOKr
ly//fr/8JBVW19EgK070C2COZgegYNQ5NeV4Y4oDjqETADQDDnYuTe7EMBuSMysmOSgkCfVzEG4h
8N+1ImW6hWe+bH6Rify+q9eZAQint7sSFGZv3ZbBgmE654FKrvE7O8BOOP807/yaJUBlpDkF/X8G
UwvYNwhH/zbHN1BSCD3tstcSIUGHAgMBAAGjgcswgcgwCQYDVR0TBAIwADBEBgNVHSAEPTA7MDkG
C2CGSAGG+EUBBxcDMCowKAYIKwYBBQUHAgEWHGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9ycGEw
CwYDVR0PBAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMEBggrBgEFBQcDAjAUBgpghkgBhvhFAQYH
BAYWBE5vbmUwMwYDVR0fBCwwKjAooCagJIYiaHR0cDovL2NybC52ZXJpc2lnbi5jb20vY2xhc3Mx
LmNybDANBgkqhkiG9w0BAQUFAAOBgQCtsGmCX3v78Qn3I5DAo9mJDenolmgmBjmlaSJr1e5nSBLv
CEflpx3FaZuirDQNJ/sTxtUCJhlv/kTLuczeJkSDj1ALhqeYH1GX9T5zFY+3GCQqTJcTIarHSqZC
PQzwv3dwZCRE0fuELb6oobi4kGA5PXbu3+P7upHSBAmN81O00TGCBL8wggS7AgEBMIHhMIHMMRcw
FQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29yazFG
MEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNvcnAuIEJ5IFJlZi4s
TElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJbmRpdmlkdWFsIFN1
YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L6Y5EVCCaaM0jkP2tMAkGBSsOAwIa
BQCgggKyMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTA2MDUyNjIw
MTczNlowIwYJKoZIhvcNAQkEMRYEFEI8vuF17+Gud+AlUjwfLibjaOH3MGcGCSqGSIb3DQEJDzFa
MFgwCgYIKoZIhvcNAwcwDgYIKoZIhvcNAwICAgCAMA0GCCqGSIb3DQMCAgFAMAcGBSsOAwIHMA0G
CCqGSIb3DQMCAgEoMAcGBSsOAwIaMAoGCCqGSIb3DQIFMIHyBgkrBgEEAYI3EAQxgeQwgeEwgcwx
FzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3Jr
MUYwRAYDVQQLEz13d3cudmVyaXNpZ24uY29tL3JlcG9zaXRvcnkvUlBBIEluY29ycC4gQnkgUmVm
LixMSUFCLkxURChjKTk4MUgwRgYDVQQDEz9WZXJpU2lnbiBDbGFzcyAxIENBIEluZGl2aWR1YWwg
U3Vic2NyaWJlci1QZXJzb25hIE5vdCBWYWxpZGF0ZWQCEHW4HQvpjkRUIJpozSOQ/a0wgfQGCyqG
SIb3DQEJEAILMYHkoIHhMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVy
aVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5
L1JQQSBJbmNvcnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xh
c3MgMSBDQSBJbmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L
6Y5EVCCaaM0jkP2tMA0GCSqGSIb3DQEBAQUABIIBADNuIvvJlCgK/dzVK72hpRKkOR8ibpxh+6rf
wKcgQbVqvngwIOgu7H5LK9PRvsZln9MUjJL7WM380MYJSJxal8Bq86cgVhw7uqL/28uu6XTcK9CN
hPMraDf8EqXEsIDj17OrePgFVMD+hiezpKX4K1nqe5MvP+Nmln+1yYVtEcJ4pLF77DBrTCpTgSpL
YbeKGt5HItd4mmsP7WMjV6VseCO7VxsjtByLJ6pBOp9F0FsmzgMNHwiOG6dXD9uaMV0JO94aESH2
/0W02Ox3ihvg9YiOx3boGPQxp8zd1Ai+muO9Bx9M4o39ZKMdH5aQ3AiYZBiRU1Kwop6yIVnwaD1Q
WmQAAAAAAAA=

------=_NextPart_000_0178_01C68109.CFB7B610--


From java-user-return-20944-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 20:27:07 2006
Return-Path: <java-user-return-20944-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52202 invoked from network); 26 May 2006 20:27:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 20:27:06 -0000
Received: (qmail 50744 invoked by uid 500); 26 May 2006 20:27:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50708 invoked by uid 500); 26 May 2006 20:27:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50697 invoked by uid 99); 26 May 2006 20:27:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 13:27:00 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.18.29] (HELO mailer.syr.edu) (128.230.18.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 13:26:58 -0700
Received: from [128.230.84.109] (istcnlpd9hb3r31.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.153EB41B@mailer.syr.edu>; Fri, 26 May 2006 16:26:38 -0400
Message-ID: <447764AE.7020400@syr.edu>
Date: Fri, 26 May 2006 16:27:26 -0400
From: Grant Ingersoll <gsingers@syr.edu>
User-Agent: Thunderbird 1.5.0.2 (Windows/20060308)
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Seeing what's occupying all the space in the index
References: <20060526201732.E5B51187A9@mail.seseit.com>
In-Reply-To: <20060526201732.E5B51187A9@mail.seseit.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

It kind of sounds like those files are corrupted, but I can't say for 
sure.  When you look in Luke at your index (the one with all the files, 
not the new one) do you see all the documents you would expect to see 
with values that seem reasonable?  Also, in Luke, you can see a listing 
of all the files it thinks are in the index, do they match with what you 
see via a file listing on the command line?

Also, you may want to see if you have any stale locks or the like that 
is preventing you from doing an optimize.

Rob Staveley (Tom) wrote:
> Indexing 55648 documents in a new clean directory, I see only .cfs files (+
> deletable  + segments). Disk usage is 65K for all of these, which means that
> each message takes ~1K of index space rather than > 10K as it does in my
> 99GB index.
>
> Bearing in mind that the large index has > 5 million Lucene documents
> indexed in it now, do you reckon I can merge the .fdt, .prx and .frq into a
> compound index?
>
> -----Original Message-----
> From: Grant Ingersoll [mailto:gsingers@syr.edu]
> Sent: 26 May 2006 18:38
> To: java-user@lucene.apache.org
> Subject: Re: Seeing what's occupying all the space in the index
>
>   
>> Can you try a smaller sample in a clean directory and see what size it is
>>     
> (so that it doesn't take as long to index)?
>   

-- 

Grant Ingersoll 
Sr. Software Engineer 
Center for Natural Language Processing 
Syracuse University 
School of Information Studies 
335 Hinds Hall 
Syracuse, NY 13244 

http://www.cnlp.org 
Voice:  315-443-5484 
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20945-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 20:35:32 2006
Return-Path: <java-user-return-20945-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54156 invoked from network); 26 May 2006 20:35:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 20:35:32 -0000
Received: (qmail 66533 invoked by uid 500); 26 May 2006 20:35:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65752 invoked by uid 500); 26 May 2006 20:35:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65740 invoked by uid 99); 26 May 2006 20:35:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 13:35:25 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.15 as permitted sender)
Received: from [80.67.18.15] (HELO smtprelay03.ispgateway.de) (80.67.18.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 13:35:24 -0700
Received: (qmail 22984 invoked from network); 26 May 2006 20:35:01 -0000
Received: from unknown (HELO p5496fbed.dip.t-dialin.net) ([pbs]695637@[84.150.251.237])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay03.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 26 May 2006 20:35:01 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: sorting issues
Date: Fri, 26 May 2006 22:36:28 +0200
User-Agent: KMail/1.8.2
References: <D2D2FEE335CE304C81F17C83626158E2E08A71@wsdmnsvr> <931ca11b0605260846t2459313ch14e9a02f857158df@mail.gmail.com>
In-Reply-To: <931ca11b0605260846t2459313ch14e9a02f857158df@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200605262236.28141@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Freitag 26 Mai 2006 17:46, Mike Richmond wrote:

> I am then storing this in a stored, untokenized field named "date".

=46rom the API docs:

The field must be indexed, but should not be tokenized, and does not need=20
to be stored (unless you happen to want it back with the rest of your=20
document data). In other words:=20
document.add (new Field ("byNumber", Integer.toString(x), Field.Store.NO,=20
=46ield.Index.UN_TOKENIZED));

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20946-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 20:50:46 2006
Return-Path: <java-user-return-20946-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56438 invoked from network); 26 May 2006 20:50:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 20:50:46 -0000
Received: (qmail 84549 invoked by uid 500); 26 May 2006 20:50:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84520 invoked by uid 500); 26 May 2006 20:50:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84508 invoked by uid 99); 26 May 2006 20:50:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 13:50:39 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of leandro.saad@gmail.com designates 66.249.82.197 as permitted sender)
Received: from [66.249.82.197] (HELO wx-out-0102.google.com) (66.249.82.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 13:50:39 -0700
Received: by wx-out-0102.google.com with SMTP id s16so105986wxc
        for <java-user@lucene.apache.org>; Fri, 26 May 2006 13:50:18 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=YW3fgaFtq73NtwJ17uRwIfvgFDge0zdX53UxFTraOwb01nDWzx75FLs3q2u4cIE7iIaGVXeKzmU/YPrw3uShpGzijeNWHBpAh42VarDAtXJBV9bIDafDFvduUU3Tlt3s50yBmoC28vCR+wO70vDgY6VDRzHQBRu4XKu/q2FhYr0=
Received: by 10.70.96.2 with SMTP id t2mr731025wxb;
        Fri, 26 May 2006 13:50:18 -0700 (PDT)
Received: by 10.70.73.3 with HTTP; Fri, 26 May 2006 13:50:18 -0700 (PDT)
Message-ID: <27bc81750605261350t16f1c388x39a75fee38c6f9eb@mail.gmail.com>
Date: Fri, 26 May 2006 17:50:18 -0300
From: "Leandro Saad" <leandro.saad@gmail.com>
To: java-user@lucene.apache.org
Subject: Index evolution
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_5428_12692514.1148676618435"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_5428_12692514.1148676618435
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi all. I'm very new to lucene. All I have done is read some docs about how
it works, which brings to the question:

How easy is to add new fields to the documents in the index?
Suppose that today I can search for book title and decide that including th=
e
author in the search would be a good idea. How easy is to do that with
lucene?

--=20
Leandro Rodrigo Saad Cruz
CTO - InterBusiness Technologies
db.apache.org/ojb
guara-framework.sf.net
xingu.sf.net

------=_Part_5428_12692514.1148676618435--

From java-user-return-20947-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 21:06:09 2006
Return-Path: <java-user-return-20947-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60550 invoked from network); 26 May 2006 21:06:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 21:06:08 -0000
Received: (qmail 97982 invoked by uid 500); 26 May 2006 21:06:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97391 invoked by uid 500); 26 May 2006 21:06:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97380 invoked by uid 99); 26 May 2006 21:06:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 14:06:00 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of leandro.saad@gmail.com designates 66.249.82.197 as permitted sender)
Received: from [66.249.82.197] (HELO wx-out-0102.google.com) (66.249.82.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 14:06:00 -0700
Received: by wx-out-0102.google.com with SMTP id s16so107581wxc
        for <java-user@lucene.apache.org>; Fri, 26 May 2006 14:05:39 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=S94fxeIfpeRc9OgHaLCL37UdSz0SRMrPWX7pWfPUcSacIPW6Lg0IZYWzR2gWhwhIbqU1+5p+KVlnPppRuSbDdtm7TsEW8jbAU+npPKK9kkGUn5tJ3anV0dUt0Fp9ZxHQvmtr3vxj11MmgMix+6oVgJNId5ciWMms2Oj4cUvjKXw=
Received: by 10.70.67.4 with SMTP id p4mr719998wxa;
        Fri, 26 May 2006 14:05:39 -0700 (PDT)
Received: by 10.70.73.3 with HTTP; Fri, 26 May 2006 14:05:39 -0700 (PDT)
Message-ID: <27bc81750605261405i6f08dacfo9158f7eaca342386@mail.gmail.com>
Date: Fri, 26 May 2006 18:05:39 -0300
From: "Leandro Saad" <leandro.saad@gmail.com>
To: java-user@lucene.apache.org
Subject: Joining searches on multiple indexes
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_5657_4807336.1148677539323"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_5657_4807336.1148677539323
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

My second question is: can I join the results os multiple indexes using a
common field?
If I have user info in 2 different sources (index)and want to search for
fields on both, but the search should
join the resulting records using a common field (user id for example). Is
this possible?

--=20
Leandro Rodrigo Saad Cruz
CTO - InterBusiness Technologies
db.apache.org/ojb
guara-framework.sf.net
xingu.sf.net

------=_Part_5657_4807336.1148677539323--

From java-user-return-20948-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 21:48:25 2006
Return-Path: <java-user-return-20948-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73437 invoked from network); 26 May 2006 21:48:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 21:48:25 -0000
Received: (qmail 30350 invoked by uid 500); 26 May 2006 21:48:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30309 invoked by uid 500); 26 May 2006 21:48:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30294 invoked by uid 99); 26 May 2006 21:48:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 14:48:19 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.97.205.201] (HELO mail.seseit.com) (209.97.205.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 14:48:18 -0700
Received: by mail.seseit.com (Postfix, from userid 65534)
	id 036DA187AC; Fri, 26 May 2006 21:47:57 +0000 (GMT)
Received: from max (unknown [213.166.4.230])
	by mail.seseit.com (Postfix) with ESMTP id CD6C5187A9
	for <java-user@lucene.apache.org>; Fri, 26 May 2006 21:47:41 +0000 (GMT)
From: "Rob Staveley (Tom)" <rstaveley@seseit.com>
To: <java-user@lucene.apache.org>
Subject: RE: Seeing what's occupying all the space in the index
Date: Fri, 26 May 2006 22:47:49 +0100
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <447764AE.7020400@syr.edu>
Content-Type: multipart/signed;
	protocol="application/x-pkcs7-signature";
	micalg=SHA1;
	boundary="----=_NextPart_000_019C_01C68116.69EBC300"
Thread-Index: AcaBAsAh9Yg3SciSTRmqY5OffC9lzgABTvEw
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2869
Message-Id: <20060526214741.CD6C5187A9@mail.seseit.com>
X-Spam-Checker-Version: SpamAssassin 3.0.3 (2005-04-27) on mini.seseit.net
X-Spam-Level: X
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=1.7 required=5.0 tests=MSGID_FROM_MTA_ID 
	autolearn=no version=3.0.3
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_019C_01C68116.69EBC300
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Luke shows the total index size the same, and yes, it appears to list all
the files. There are 997 of them which are tough to count using that
interface with Cygwin/X.

> Also, you may want to see if you have any stale locks or the like that is
preventing you from doing an optimize.

No lock files, but optimize() is failing now with the following error:
	java.io.IOException: Cannot overwrite:
/mnt/sdb1/index/index-1/_2lhqi.fnm

Also, using Doug Cutting's suggestion, I see several compound file contents
as follows:

--------8<--------
$JAVA_HOME/bin/java -Xmx128M org.apache.lucene.index.IndexReader
~/dat/indexd/index-1/_2lhqh.cfs
_1168u.f1: 0 bytes
_1168u.f10: 0 bytes
_1168u.f11: 0 bytes
_1168u.f12: 0 bytes
_1168u.f13: 0 bytes
_1168u.f14: 0 bytes
_1168u.f15: 0 bytes
_1168u.f16: 0 bytes
_1168u.f17: 0 bytes
_1168u.f18: 0 bytes
_1168u.f19: 0 bytes
_1168u.f2: 0 bytes
_1168u.f20: 0 bytes
_1168u.f21: 0 bytes
_1168u.f22: 0 bytes
_1168u.f23: 0 bytes
_1168u.f24: 0 bytes
_1168u.f25: 0 bytes
_1168u.f26: 0 bytes
_1168u.f27: 0 bytes
_1168u.f28: 0 bytes
_1168u.f29: 0 bytes
_1168u.f3: 0 bytes
_1168u.f30: 0 bytes
_1168u.f31: 0 bytes
_1168u.f32: 0 bytes
_1168u.f33: 0 bytes
_1168u.f34: 1052419072 bytes
_1168u.f4: 0 bytes
_1168u.f5: 0 bytes
_1168u.f6: 0 bytes
_1168u.f7: 0 bytes
_1168u.f8: 0 bytes
_1168u.f9: 0 bytes
_1168u.fdt: 0 bytes
_1168u.fdx: 0 bytes
_1168u.fnm: 0 bytes
_1168u.frq: 0 bytes
_1168u.prx: 0 bytes
_1168u.tii: 0 bytes
_1168u.tis: 0 bytes
--------8<--------

That presumably isn't healthy.

-----Original Message-----
From: Grant Ingersoll [mailto:gsingers@syr.edu] 
Sent: 26 May 2006 21:27
To: java-user@lucene.apache.org
Subject: Re: Seeing what's occupying all the space in the index

It kind of sounds like those files are corrupted, but I can't say for sure.
When you look in Luke at your index (the one with all the files, not the new
one) do you see all the documents you would expect to see with values that
seem reasonable?  Also, in Luke, you can see a listing of all the files it
thinks are in the index, do they match with what you see via a file listing
on the command line?

Also, you may want to see if you have any stale locks or the like that is
preventing you from doing an optimize.

Rob Staveley (Tom) wrote:
> Indexing 55648 documents in a new clean directory, I see only .cfs 
> files (+ deletable  + segments). Disk usage is 65K for all of these, 
> which means that each message takes ~1K of index space rather than > 
> 10K as it does in my 99GB index.
>
> Bearing in mind that the large index has > 5 million Lucene documents 
> indexed in it now, do you reckon I can merge the .fdt, .prx and .frq 
> into a compound index?
>
> -----Original Message-----
> From: Grant Ingersoll [mailto:gsingers@syr.edu]
> Sent: 26 May 2006 18:38
> To: java-user@lucene.apache.org
> Subject: Re: Seeing what's occupying all the space in the index
>
>   
>> Can you try a smaller sample in a clean directory and see what size 
>> it is
>>     
> (so that it doesn't take as long to index)?
>   

-- 

Grant Ingersoll
Sr. Software Engineer
Center for Natural Language Processing
Syracuse University
School of Information Studies
335 Hinds Hall
Syracuse, NY 13244 

http://www.cnlp.org
Voice:  315-443-5484
Fax: 315-443-6886 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

------=_NextPart_000_019C_01C68116.69EBC300
Content-Type: application/x-pkcs7-signature;
	name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="smime.p7s"

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIKaDCCAj0w
ggGmAhEAzbp/VvDf5LxU/iKss3KqVTANBgkqhkiG9w0BAQIFADBfMQswCQYDVQQGEwJVUzEXMBUG
A1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVibGljIFByaW1hcnkgQ2Vy
dGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNOTYwMTI5MDAwMDAwWhcNMjgwODAxMjM1OTU5WjBfMQsw
CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xNzA1BgNVBAsTLkNsYXNzIDEgUHVi
bGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwgZ8wDQYJKoZIhvcNAQEBBQADgY0A
MIGJAoGBAOUZv22jVmEtmUhx9mfeuY3rt56GgAqRDvo4Ja9GiILlc6igmyRdDR/MZW4MsNBWhBiH
mgabEKFz37RYOWtuwfYV1aioP6oSBo0xrH+wNNePNGeICc0UEeJORVZpH3gCgNrcR5EpuzbJY1zF
4Ncth3uhtzKwezC6Ki8xqu6jZ9rbAgMBAAEwDQYJKoZIhvcNAQECBQADgYEATD+4i8Zo3+5DMw5d
6abLB4RNejP/khv0Nq3YlSI2aBFsfELM85wuxAc/FLAPT/+Qknb54rxK6Y/NoIAK98Up8YIiXbix
3YEjo3slFUYweRb46gVLlH8dwhzI47f0EEA8E8NfH1PoSOSGtHuhNbB7Jbq4046rPzidADQAmPPR
cZQwggNiMIICy6ADAgECAhAL2gsXwT+JjqsJdHq0zi4zMA0GCSqGSIb3DQEBAgUAMF8xCzAJBgNV
BAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjE3MDUGA1UECxMuQ2xhc3MgMSBQdWJsaWMg
UHJpbWFyeSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTAeFw05ODA1MTIwMDAwMDBaFw0wODA1MTIy
MzU5NTlaMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMIGfMA0GCSqGSIb3DQEB
AQUAA4GNADCBiQKBgQC7WkSKBBa7Vf0DeootlE8VeDa4DUqyb5xUv7zodyqdufBou5XZMUFweoFL
uUgTVi3HCOGEQqvAopKrRFyqQvCCDgLpL/vCO7u+yScKXbawNkIztW5UiE+HSr8Z2vkV6A+Hthzj
zMaajn9qJJLj/OBluqexfu/J2zdqyErICQbkmQIDAQABo4GwMIGtMA8GA1UdEwQIMAYBAf8CAQAw
RwYDVR0gBEAwPjA8BgtghkgBhvhFAQcBATAtMCsGCCsGAQUFBwIBFh93d3cudmVyaXNpZ24uY29t
L3JlcG9zaXRvcnkvUlBBMDEGA1UdHwQqMCgwJqAkoCKGIGh0dHA6Ly9jcmwudmVyaXNpZ24uY29t
L3BjYTEuY3JsMAsGA1UdDwQEAwIBBjARBglghkgBhvhCAQEEBAMCAQYwDQYJKoZIhvcNAQECBQAD
gYEAAn2eb0VLOKC43ulTZCG85Ewrjx7+kkCs2Ao5aqEyISwHm6tZ/tJiGn1VOLA3c9z0B2ZjYr3h
U3BSh+eo2FLpWy2q4d7PrDFU1IsZyNgjqO8EKzJ9LBgcyHyJqC538kTRZQpNdLXu0xuSc3QuiTs1
E3LnQDGa07LEq+dWvovj+xUwggS9MIIEJqADAgECAhB1uB0L6Y5EVCCaaM0jkP2tMA0GCSqGSIb3
DQEBBQUAMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1
c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNv
cnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJ
bmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkMB4XDTA1MTAwNDAwMDAw
MFoXDTA2MTAxODIzNTk1OVowggEZMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMW
VmVyaVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0
b3J5L1JQQSBJbmNvcnAuIGJ5IFJlZi4sTElBQi5MVEQoYyk5ODEeMBwGA1UECxMVUGVyc29uYSBO
b3QgVmFsaWRhdGVkMTMwMQYDVQQLEypEaWdpdGFsIElEIENsYXNzIDEgLSBOZXRzY2FwZSBGdWxs
IFNlcnZpY2UxGzAZBgNVBAMUElJvYiBTdGF2ZWxleSAoVG9tKTEjMCEGCSqGSIb3DQEJARYUcnN0
YXZlbGV5QHNlc2VpdC5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCm4C+s/DP/
NIW0DrHFueJPsZAZxTzi8Aw2bXOUQbHRDNlSO7nWoDPlkTs5RQl0tsJUDlB5TubjJGWKGBdRePXq
ueK/8yj23cBTzKRTU2gNG6cmmc/f/HwHcuc4MCpW9+okvFCPeaFNzuBPPvegjewz3BL3ewfjeOKr
ly//fr/8JBVW19EgK070C2COZgegYNQ5NeV4Y4oDjqETADQDDnYuTe7EMBuSMysmOSgkCfVzEG4h
8N+1ImW6hWe+bH6Rify+q9eZAQint7sSFGZv3ZbBgmE654FKrvE7O8BOOP807/yaJUBlpDkF/X8G
UwvYNwhH/zbHN1BSCD3tstcSIUGHAgMBAAGjgcswgcgwCQYDVR0TBAIwADBEBgNVHSAEPTA7MDkG
C2CGSAGG+EUBBxcDMCowKAYIKwYBBQUHAgEWHGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9ycGEw
CwYDVR0PBAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMEBggrBgEFBQcDAjAUBgpghkgBhvhFAQYH
BAYWBE5vbmUwMwYDVR0fBCwwKjAooCagJIYiaHR0cDovL2NybC52ZXJpc2lnbi5jb20vY2xhc3Mx
LmNybDANBgkqhkiG9w0BAQUFAAOBgQCtsGmCX3v78Qn3I5DAo9mJDenolmgmBjmlaSJr1e5nSBLv
CEflpx3FaZuirDQNJ/sTxtUCJhlv/kTLuczeJkSDj1ALhqeYH1GX9T5zFY+3GCQqTJcTIarHSqZC
PQzwv3dwZCRE0fuELb6oobi4kGA5PXbu3+P7upHSBAmN81O00TGCBL8wggS7AgEBMIHhMIHMMRcw
FQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29yazFG
MEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5L1JQQSBJbmNvcnAuIEJ5IFJlZi4s
TElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xhc3MgMSBDQSBJbmRpdmlkdWFsIFN1
YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L6Y5EVCCaaM0jkP2tMAkGBSsOAwIa
BQCgggKyMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTA2MDUyNjIx
NDc0OVowIwYJKoZIhvcNAQkEMRYEFLnCYHLzW6ZqvJi02QNMYu9U1PFaMGcGCSqGSIb3DQEJDzFa
MFgwCgYIKoZIhvcNAwcwDgYIKoZIhvcNAwICAgCAMA0GCCqGSIb3DQMCAgFAMAcGBSsOAwIHMA0G
CCqGSIb3DQMCAgEoMAcGBSsOAwIaMAoGCCqGSIb3DQIFMIHyBgkrBgEEAYI3EAQxgeQwgeEwgcwx
FzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3Jr
MUYwRAYDVQQLEz13d3cudmVyaXNpZ24uY29tL3JlcG9zaXRvcnkvUlBBIEluY29ycC4gQnkgUmVm
LixMSUFCLkxURChjKTk4MUgwRgYDVQQDEz9WZXJpU2lnbiBDbGFzcyAxIENBIEluZGl2aWR1YWwg
U3Vic2NyaWJlci1QZXJzb25hIE5vdCBWYWxpZGF0ZWQCEHW4HQvpjkRUIJpozSOQ/a0wgfQGCyqG
SIb3DQEJEAILMYHkoIHhMIHMMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVy
aVNpZ24gVHJ1c3QgTmV0d29yazFGMEQGA1UECxM9d3d3LnZlcmlzaWduLmNvbS9yZXBvc2l0b3J5
L1JQQSBJbmNvcnAuIEJ5IFJlZi4sTElBQi5MVEQoYyk5ODFIMEYGA1UEAxM/VmVyaVNpZ24gQ2xh
c3MgMSBDQSBJbmRpdmlkdWFsIFN1YnNjcmliZXItUGVyc29uYSBOb3QgVmFsaWRhdGVkAhB1uB0L
6Y5EVCCaaM0jkP2tMA0GCSqGSIb3DQEBAQUABIIBAA4Mkplbvzpm6dg9Sc6Vo9fYJLl2eic5znDK
QPGA0O/zJChFdKktpuJe4mUdKKqptPosqpZEjxZfoc79qJ5xQyDYIqQNTCuaS8z8bQC52njDIgv3
v102ij6iEj33x3kLT+TBpWpy40v+b9pEWb70q5e+TL1jkxXs6sDklfxfgyakmHeTwgrnbt0HHQgQ
P7NqLUBJdjrvnQ+IXJOpcKb+1a6oq7XWz/a/EAiyCd3u15tij9raBMg7GFaOc2H0AwEFCYwr+pjG
CzTup7Oc01fSqod8DEr37NoMVqm6uZuvHuNq2Se0a0ogI0Bs7kUhrEm4lQiP0ANK6orxgiNv3LWY
19sAAAAAAAA=

------=_NextPart_000_019C_01C68116.69EBC300--


From java-user-return-20949-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 22:52:58 2006
Return-Path: <java-user-return-20949-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84416 invoked from network); 26 May 2006 22:52:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 22:52:58 -0000
Received: (qmail 89701 invoked by uid 500); 26 May 2006 22:52:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89186 invoked by uid 500); 26 May 2006 22:52:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89175 invoked by uid 99); 26 May 2006 22:52:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 15:52:51 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 15:52:51 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 718635B763; Fri, 26 May 2006 15:52:24 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 653397F403
	for <java-user@lucene.apache.org>; Fri, 26 May 2006 15:52:24 -0700 (PDT)
Date: Fri, 26 May 2006 15:52:24 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Question about special characters
In-Reply-To: <d7a865a50605260031mf4bb8c3jb026edf05a967328@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0605261541290.24266@hal.rescomp.berkeley.edu>
References: <d7a865a50605241024n187a4f3bpc2153d10db1f501f@mail.gmail.com> 
 <d7a865a50605251052r2ae4c334m6bd471b5c4246eac@mail.gmail.com> 
 <Pine.LNX.4.58.0605251122420.8803@hal.rescomp.berkeley.edu>
 <d7a865a50605260031mf4bb8c3jb026edf05a967328@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=iso-8859-1
Content-Transfer-Encoding: QUOTED-PRINTABLE
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Thks for the reply, ut I don't know how to do this change in
: SOLatin1AccentFilter.
: Can you give me some advice in this action?

I've never really looked at the internals of ISOLatin1AccentFilter, but
the basic idea is to subclass it with a new TokenFilter that maintains a
one token "buffer" of the token stream, and every other time next is
called you either return the token from the buffer (as is) or you return a
token with the accents striped. sinve ISOLatin1AccentFilter has a method
called removeAccents i'm guessing it would look soemthing like
this...

   public class YourTokenFilter extends
     private Token bufToken =3D null;
     public Token next() {
       if (null !=3D bufToken) {
          Token t =3D bufToken;
          bufToken=3Dnull;
          return t;
       }
       Token t =3D input.next
       bufToken =3D new Token(removeAccents(t.termText()),
                            t.startOffset(),t.endOffset(),t.type());
       bufToken.setPositionIncrement(0);
       return t;
     }
   }


=2E..but i haven't tested that (or ever written a TokenFilter of my own for
that matter.)


:
: 2006/5/25, Chris Hostetter <hossman_lucene@fucit.org>:
: >
: >
: > I think I'm missing something here.  the whole point of the
: > ISOLatin1AccentFilter is to replace accented characters with their
: > unaccented equivalent -- it sounds like that's working just fine, If yo=
u
: > want teh words in teh term vector to contain the accents, why don't you
: > stop using that filter?
: >
: > if the problem is that you need to be able to match on both the accente=
d
: > form and the non accented form, perhaps you should have two fields, or
: > modify the ISOLatin1AccentFilter so it puts both versions of the token =
in
: > the TokenStream with the same position?
: >
: >
: > : > The problem is special characters like =E0, =E4 , =E7 or =F1 latin =
characters
: > in
: > : > the text.
: > : > Now I use iso latin filter, but the problem is when I want to obtai=
n
: > most
: > : > term used. These term are stored without ` =B4 ^ or another "charac=
ter
: > : > attribute".
: > : > For example "pl=E0nt=EFu=E7" (it isn't a real word) is stored like =
the term
: > : > "plantiuc".
: > : > How can I do to have in term vector the word "pl=E0nt=EFu=E7".
: > : >
: > : > thks for all replies.
: > : > PD: excuse if this question is solved somewhere, but I don't saw it=
=2E
: >
: >
: >
: > -Hoss
: >
: >
: > ---------------------------------------------------------------------
: > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: > For additional commands, e-mail: java-user-help@lucene.apache.org
: >
: >
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20950-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 23:08:13 2006
Return-Path: <java-user-return-20950-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87653 invoked from network); 26 May 2006 23:08:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 23:08:12 -0000
Received: (qmail 3988 invoked by uid 500); 26 May 2006 23:08:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3958 invoked by uid 500); 26 May 2006 23:08:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3947 invoked by uid 99); 26 May 2006 23:08:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 16:08:06 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.174] (HELO hnexfe08.hetnet.nl) (195.121.6.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 16:07:52 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe08.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Sat, 27 May 2006 01:07:29 +0200
Subject: Re: Index evolution
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <27bc81750605261350t16f1c388x39a75fee38c6f9eb@mail.gmail.com>
References: <27bc81750605261350t16f1c388x39a75fee38c6f9eb@mail.gmail.com>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Sat, 27 May 2006 01:07:28 +0200
Message-Id: <1148684848.5049.13.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 26 May 2006 23:07:30.0000 (UTC) FILETIME=[29ACE500:01C68119]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Fri, 2006-05-26 at 17:50 -0300, Leandro Saad wrote:
> Hi all. I'm very new to lucene. All I have done is read some docs about how
> it works, which brings to the question:
> 
> How easy is to add new fields to the documents in the index?
> Suppose that today I can search for book title and decide that including the
> author in the search would be a good idea. How easy is to do that with
> lucene?

If you know what analyzers you used, all values are stored (in the index
or somewhere else) and have some way to identify a document, then it is
easy to build a new document, delete the old and add the new.

It is possible to to merge new fields to existing documents in an index,
but it is not very easy. Nor is it fast. Luke contains code that tampers
with your index.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20951-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 23:11:18 2006
Return-Path: <java-user-return-20951-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88351 invoked from network); 26 May 2006 23:11:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 23:11:18 -0000
Received: (qmail 10905 invoked by uid 500); 26 May 2006 23:11:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10431 invoked by uid 500); 26 May 2006 23:11:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10420 invoked by uid 99); 26 May 2006 23:11:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 16:11:12 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 16:11:11 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id AA7525B763; Fri, 26 May 2006 16:10:51 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id A5DDB7F403
	for <java-user@lucene.apache.org>; Fri, 26 May 2006 16:10:51 -0700 (PDT)
Date: Fri, 26 May 2006 16:10:51 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Index evolution
In-Reply-To: <27bc81750605261350t16f1c388x39a75fee38c6f9eb@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0605261608290.24266@hal.rescomp.berkeley.edu>
References: <27bc81750605261350t16f1c388x39a75fee38c6f9eb@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: How easy is to add new fields to the documents in the index?
: Suppose that today I can search for book title and decide that including the
: author in the search would be a good idea. How easy is to do that with
: lucene?

very.  whenevery you add a document, you specify what fields that document
has -- those fields don't have to be the same as any other document in the
past, even if there is a field with that name in some documents, but it
has differnet properties (ie stored/unstored tokenized/untokenized) that's
irrelevant to any documents you add going forward.

modifying exiting documents however (ie; to add an author field to all of
your existing "book" records) is not currently possible.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20952-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 23:12:29 2006
Return-Path: <java-user-return-20952-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88522 invoked from network); 26 May 2006 23:12:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 23:12:28 -0000
Received: (qmail 12234 invoked by uid 500); 26 May 2006 23:12:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12154 invoked by uid 500); 26 May 2006 23:12:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12112 invoked by uid 99); 26 May 2006 23:12:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 16:12:08 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 16:12:08 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id AF1605B766; Fri, 26 May 2006 16:11:45 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id AB67C7F403
	for <java-user@lucene.apache.org>; Fri, 26 May 2006 16:11:45 -0700 (PDT)
Date: Fri, 26 May 2006 16:11:45 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Joining searches on multiple indexes
In-Reply-To: <27bc81750605261405i6f08dacfo9158f7eaca342386@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0605261610550.24266@hal.rescomp.berkeley.edu>
References: <27bc81750605261405i6f08dacfo9158f7eaca342386@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


There is nothing special in lucene to help you do this ... it would have
to be done in your own code.

: If I have user info in 2 different sources (index)and want to search for
: fields on both, but the search should
: join the resulting records using a common field (user id for example). Is
: this possible?



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20953-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri May 26 23:18:32 2006
Return-Path: <java-user-return-20953-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89543 invoked from network); 26 May 2006 23:18:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 May 2006 23:18:31 -0000
Received: (qmail 20002 invoked by uid 500); 26 May 2006 23:18:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19973 invoked by uid 500); 26 May 2006 23:18:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19959 invoked by uid 99); 26 May 2006 23:18:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 16:18:26 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.174] (HELO hnexfe08.hetnet.nl) (195.121.6.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 16:18:24 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe08.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Sat, 27 May 2006 01:18:03 +0200
Subject: Re: sitegeist
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <1148550683.4682.65.camel@localhost>
References: <1148550683.4682.65.camel@localhost>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Sat, 27 May 2006 01:17:51 +0200
Message-Id: <1148685472.5049.16.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 26 May 2006 23:18:03.0437 (UTC) FILETIME=[A33BB5D0:01C6811A]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I did it like below, but used the lucene score instead.

Will report back with results in a month or so.

On Thu, 2006-05-25 at 11:51 +0200, karl wettin wrote:
> Did anyone write some neat tool for statistical analysis of hits over
> time? I need one. And it must be fast. Was thinking something like this:
> 
> List<TimeFrame> timeFrames;
> 
> class TimeFrame {
>   Date from;
>   Date to;
> 
>   void add(Hits hits) {
>     int score = 10;
>     for (int d = 0; score<0 && d<hits.length(); d++) {          
>       increaseScore(it.next(), score);
>       score--;
>     } 
> 
>     // I would then apply similar scoring on most top classifications
>     // (categories or what not) in the hits.
>   }  
> }
> 
> 
> But I only work the hits. Perhaps I should work the queries too?
> 
> Any great ideas?
> 
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20954-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 27 06:02:48 2006
Return-Path: <java-user-return-20954-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45704 invoked from network); 27 May 2006 06:02:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 May 2006 06:02:48 -0000
Received: (qmail 95792 invoked by uid 500); 27 May 2006 06:02:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94773 invoked by uid 500); 27 May 2006 06:02:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94762 invoked by uid 99); 27 May 2006 06:02:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 23:02:42 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.174] (HELO hnexfe08.hetnet.nl) (195.121.6.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 May 2006 23:02:41 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe08.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Sat, 27 May 2006 08:02:19 +0200
Subject: Re: TokenStream per Field instance?
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <1148179584.4761.85.camel@localhost>
References: <1148179584.4761.85.camel@localhost>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Sat, 27 May 2006 08:02:18 +0200
Message-Id: <1148709738.5049.35.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 27 May 2006 06:02:20.0078 (UTC) FILETIME=[1D5164E0:01C68153]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Sun, 2006-05-21 at 04:46 +0200, karl wettin wrote:
> Do I have any alternatives?
> 
> 
> What I really want is:
> {
>   for (Classification c : myDocument) {
>     doc.add(new Field(c.getFieldName(), c.tokenStreamFactory()...
>   }
>   indexWriter.add(doc, perFieldsAnalyzer);
> }

Patch now in Jira.

http://issues.apache.org/jira/browse/LUCENE-580?page=all 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20955-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 27 08:38:26 2006
Return-Path: <java-user-return-20955-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68385 invoked from network); 27 May 2006 08:38:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 May 2006 08:38:26 -0000
Received: (qmail 61615 invoked by uid 500); 27 May 2006 08:38:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61282 invoked by uid 500); 27 May 2006 08:38:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61271 invoked by uid 99); 27 May 2006 08:38:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 May 2006 01:38:19 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.175] (HELO hnexfe09.hetnet.nl) (195.121.6.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 May 2006 01:38:19 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe09.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Sat, 27 May 2006 10:37:56 +0200
Subject: Re: IndexUpdateListener
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <08C9FF7A-5997-4FEB-967E-4CB9CDF8BD4E@ehatchersolutions.com>
References: <1147525928.4931.17.camel@localhost>
	 <E1FF6873-3904-44E1-84C4-7A0334D5B556@ehatchersolutions.com>
	 <1147617149.4931.106.camel@localhost>
	 <c68e39170605140750q7d6de2b2i9998daf90d2651f6@mail.gmail.com>
	 <1147628914.4931.115.camel@localhost>
	 <08C9FF7A-5997-4FEB-967E-4CB9CDF8BD4E@ehatchersolutions.com>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Sat, 27 May 2006 10:37:35 +0200
Message-Id: <1148719055.5049.43.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 27 May 2006 08:37:56.0946 (UTC) FILETIME=[DA866320:01C68168]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Sun, 2006-05-14 at 22:32 -0400, Erik Hatcher wrote:
> 
> On May 14, 2006, at 1:48 PM, karl wettin wrote:
> >> An app using Lucene still needs to coordinate all the activity
> >> surrounding IndexReaders and IndexWriters, including explicit  
> >> closure, so the app will know anyway when the index has changed, 
> >> right?
> >
> > A car could go 600 miles in reverse, but I'd prefere not. :)
> 
> Right, so what Yonik is saying is Solr implements most (if not all)  
> of your needs in this regard right now.  It is a working  
> implementation of your stated end goals, but it is at a different  
> layer than you'd like....
> 
> >
> >> (unless you are talking about adding the callbacks to 
> >> IndexModifier)
> >
> > As deep as possible.
> >
> > All the user would need to know is Directory.getListerners()
> 
> At this point we have to stop speculating and someone implement this  
> in their local version of Lucene with performance profiling before  
> and after listeners are added and ensure that we don't slow Lucene  
> down with such things and then contribute the code along with use and
> test cases. 

As always no test cases, but the results is a couple of decorators on
reader & writer that keeps track of what is going on. It would be
possible to add hooks further down the rabbit hole:

http://issues.apache.org/jira/browse/LUCENE-581


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20956-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 27 11:36:59 2006
Return-Path: <java-user-return-20956-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96582 invoked from network); 27 May 2006 11:36:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 May 2006 11:36:59 -0000
Received: (qmail 59043 invoked by uid 500); 27 May 2006 11:36:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59019 invoked by uid 500); 27 May 2006 11:36:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59008 invoked by uid 99); 27 May 2006 11:36:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 May 2006 04:36:50 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.16 as permitted sender)
Received: from [80.67.18.16] (HELO smtprelay04.ispgateway.de) (80.67.18.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 May 2006 04:36:49 -0700
Received: (qmail 4897 invoked from network); 27 May 2006 11:36:26 -0000
Received: from unknown (HELO p5496e509.dip.t-dialin.net) ([pbs]695637@[84.150.229.9])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay04.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 27 May 2006 11:36:26 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Fwd: Lucene 2.0.0 release available
Date: Sat, 27 May 2006 13:37:54 +0200
User-Agent: KMail/1.8.2
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605271337.54996@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


----------  Forwarded Message  ----------

Subject: Lucene 2.0.0 release available
Date: Samstag 27 Mai 2006 05:57
From: Doug Cutting <cutting@apache.org>
To: java-dev@lucene.apache.org

Release 2.0.0 of Lucene is now available from:

http://www.apache.org/dyn/closer.cgi/lucene/java/

This is mostly a bugfix release from release 1.9.1. Note however that
deprecated 1.x features have now been removed. Any code that compiles
against Lucene 1.9.1 without deprecation warnings should work without
further changes with any 2.x release.

The detailed change log is at:

http://svn.apache.org/repos/asf/lucene/java/tags/lucene_2_0_0/CHANGES.txt

Doug


---------------------------------------------------------------------
To unsubscribe, e-mail: java-dev-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-dev-help@lucene.apache.org

-------------------------------------------------------

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20957-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 27 11:39:42 2006
Return-Path: <java-user-return-20957-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96948 invoked from network); 27 May 2006 11:39:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 May 2006 11:39:42 -0000
Received: (qmail 63629 invoked by uid 500); 27 May 2006 11:39:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63593 invoked by uid 500); 27 May 2006 11:39:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63582 invoked by uid 99); 27 May 2006 11:39:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 May 2006 04:39:36 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dayzman@gmail.com designates 64.233.162.197 as permitted sender)
Received: from [64.233.162.197] (HELO nz-out-0102.google.com) (64.233.162.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 May 2006 04:39:36 -0700
Received: by nz-out-0102.google.com with SMTP id 13so233979nzp
        for <java-user@lucene.apache.org>; Sat, 27 May 2006 04:39:15 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=VBIlWleQbUeQsEgorp6+ujLgKs28SABo/GicTwR8qr7M3cH18VzRQcKkyibzRmywVVc/kuMLQyOyfRCo6Ox+w2N9Xhcufex5eTKDGF70y8XE2//AzOJX8teJizPHhgWiwWX8tG0nk1EoasfvRSf3o0GVZiWlkD2mxyH5mfnESOY=
Received: by 10.64.131.14 with SMTP id e14mr132921qbd;
        Sat, 27 May 2006 04:39:15 -0700 (PDT)
Received: by 10.64.250.3 with HTTP; Sat, 27 May 2006 04:39:15 -0700 (PDT)
Message-ID: <429c032d0605270439r329abfc8l468dd467ee8084e0@mail.gmail.com>
Date: Sat, 27 May 2006 19:39:15 +0800
From: "Michael Chan" <dayzman@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: BufferedIndexInput.readByte performance
In-Reply-To: <200605261826.37597.paul.elschot@xs4all.nl>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <429c032d0605260714p69ad26a2n1cfae95724bf866d@mail.gmail.com>
	 <200605261826.37597.paul.elschot@xs4all.nl>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> A few things might help:
> - use getSpans() on the scorer of the query, iterate the resulting Spans
>   and count the number of different doc values.
>   This saves the scoring and the sorting on score value.

Thanks for your advice. I was wondering, is each span given by
getSpans() a unique match according to the given query?

Michael

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20958-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 27 13:02:40 2006
Return-Path: <java-user-return-20958-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16813 invoked from network); 27 May 2006 13:02:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 May 2006 13:02:40 -0000
Received: (qmail 13808 invoked by uid 500); 27 May 2006 13:02:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12892 invoked by uid 500); 27 May 2006 13:02:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12881 invoked by uid 99); 27 May 2006 13:02:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 May 2006 06:02:34 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.28] (HELO smtp-vbr8.xs4all.nl) (194.109.24.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 May 2006 06:02:33 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr8.xs4all.nl (8.13.6/8.13.6) with ESMTP id k4RD2BTe053112
	for <java-user@lucene.apache.org>; Sat, 27 May 2006 15:02:12 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: BufferedIndexInput.readByte performance; Spans not unique
Date: Sat, 27 May 2006 15:02:11 +0200
User-Agent: KMail/1.8.2
References: <429c032d0605260714p69ad26a2n1cfae95724bf866d@mail.gmail.com> <200605261826.37597.paul.elschot@xs4all.nl> <429c032d0605270439r329abfc8l468dd467ee8084e0@mail.gmail.com>
In-Reply-To: <429c032d0605270439r329abfc8l468dd467ee8084e0@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605271502.11447.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Saturday 27 May 2006 13:39, Michael Chan wrote:
> > A few things might help:
> > - use getSpans() on the scorer of the query, iterate the resulting Spans
> >   and count the number of different doc values.
> >   This saves the scoring and the sorting on score value.
> 
> Thanks for your advice. I was wondering, is each span given by
> getSpans() a unique match according to the given query?

Not always: it is possible for different terms to be indexed in the
same position, and it is also possible to create a SpanOrQuery
in which the same Span(Term)Query occurs more than once.
The spans will be ordered, so in case they are not unique, the
ones with the same begin/end positions in the same doc will
be consecutive.

Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20959-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 27 13:44:33 2006
Return-Path: <java-user-return-20959-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28233 invoked from network); 27 May 2006 13:44:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 May 2006 13:44:32 -0000
Received: (qmail 35535 invoked by uid 500); 27 May 2006 13:44:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34877 invoked by uid 500); 27 May 2006 13:44:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34861 invoked by uid 99); 27 May 2006 13:44:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 May 2006 06:44:26 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.57] (HELO web50303.mail.yahoo.com) (206.190.38.57)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 27 May 2006 06:44:24 -0700
Received: (qmail 41398 invoked by uid 60001); 27 May 2006 13:44:03 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:Cc:In-Reply-To:MIME-Version:Content-Type;
  b=jXyatZndZ7tpj07y5Ap3oGbGh2Db52YdTXuCqb0rt+XVYMUVbn6P+9eXr3YXu/hQve4XXDxZHrVR1brqKVYTM0d7C6DSRAQym3I+q4P8texRyUjjlQovhsQbXo3/Dj7uUmyBOyCmC4orNtiwtZmccCO4E2Q/rLBEQr3/tZ/sMoU=  ;
Message-ID: <20060527134403.41396.qmail@web50303.mail.yahoo.com>
Date: Sat, 27 May 2006 06:44:03 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Query Contains All The Symbols
To: java-user@lucene.apache.org
Cc: Sajid Khan <assamhelp@yahoo.co.in>
In-Reply-To: <4587449.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Email java-user, not java-dev.

If those characters are in the index and your query doesn't get them, maybe they are getting stripped from your query.
Print the query.  Try creating the query programmatically (not via QueryParser).

Otis

----- Original Message ----
From: Sajid Khan <assamhelp@yahoo.co.in>
To: java-dev@lucene.apache.org
Sent: Friday, May 26, 2006 10:25:10 PM
Subject: Query Contains All The Symbols


Hi All,
       I am trying to query for the Symbols(like @,#,%,&...) in Lucene
Index, but not giving any results, though the symbols are there in the
document. 
      Can anybody give a solution for the problem.

Regards
Sajid
--
View this message in context: http://www.nabble.com/Query+Contains+All+The+Symbols-t1690485.html#a4587449
Sent from the Lucene - Java Developer forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-dev-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-dev-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20960-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat May 27 22:34:33 2006
Return-Path: <java-user-return-20960-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11715 invoked from network); 27 May 2006 22:34:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 May 2006 22:34:33 -0000
Received: (qmail 77812 invoked by uid 500); 27 May 2006 22:34:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77781 invoked by uid 500); 27 May 2006 22:34:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77770 invoked by uid 99); 27 May 2006 22:34:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 May 2006 15:34:26 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.175] (HELO hnexfe09.hetnet.nl) (195.121.6.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 May 2006 15:34:24 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe09.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Sun, 28 May 2006 00:34:02 +0200
Subject: Searcher.search():Hits
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
Content-Type: text/plain
Organization: snigel heavy industries
Date: Sun, 28 May 2006 00:34:01 +0200
Message-Id: <1148769241.30969.61.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 27 May 2006 22:34:02.0780 (UTC) FILETIME=[A7B12DC0:01C681DD]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Is there a one method all searches are routed though that I can
interface with a decorator or so to catch all Hits created?


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20961-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 28 01:22:16 2006
Return-Path: <java-user-return-20961-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36864 invoked from network); 28 May 2006 01:22:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 May 2006 01:22:16 -0000
Received: (qmail 75021 invoked by uid 500); 28 May 2006 01:22:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74981 invoked by uid 500); 28 May 2006 01:22:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74970 invoked by uid 99); 28 May 2006 01:22:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 May 2006 18:22:10 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.184.236 as permitted sender)
Received: from [64.233.184.236] (HELO wr-out-0506.google.com) (64.233.184.236)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 May 2006 18:22:09 -0700
Received: by wr-out-0506.google.com with SMTP id i3so620295wra
        for <java-user@lucene.apache.org>; Sat, 27 May 2006 18:21:48 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=RxO0EOpBsHhbmj+z4Sxsr/KSNJLFNj+7++p6rwfd4noaZ93++uVkRCuDkyVOfSCJT3J6gItyltmMeDWXe34tqnnwbkwD4q1sJOT1SZLX8xDCQmza8j+RC08okHi4rDadPgpOrrfv8KtLT/ehwKBRTm/R3QCaSjfP1WcN64rWzGI=
Received: by 10.54.118.2 with SMTP id q2mr886260wrc;
        Sat, 27 May 2006 18:21:48 -0700 (PDT)
Received: by 10.54.125.14 with HTTP; Sat, 27 May 2006 18:21:48 -0700 (PDT)
Message-ID: <c68e39170605271821o5a0deddarf9e626bc1bfb1960@mail.gmail.com>
Date: Sat, 27 May 2006 21:21:48 -0400
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Searcher.search():Hits
In-Reply-To: <1148769241.30969.61.camel@localhost>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <1148769241.30969.61.camel@localhost>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 5/27/06, karl wettin <kalle@snigel.net> wrote:
> Is there a one method all searches are routed though that I can
> interface with a decorator or so to catch all Hits created?

Search results, or only actual Hits objects?
For Hits, perhaps the 4 methods on Searcher that return Hits.

But IMO, callbacks and decorators shouldn't be spread all over
Lucene... it's easy cache Hits at a higher layer... create a
CachingSearcher or something.  You need to write code to use lucene
for your specific application anyway.

-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20962-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 28 03:11:07 2006
Return-Path: <java-user-return-20962-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45970 invoked from network); 28 May 2006 03:11:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 May 2006 03:11:07 -0000
Received: (qmail 18451 invoked by uid 500); 28 May 2006 03:11:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18421 invoked by uid 500); 28 May 2006 03:11:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18410 invoked by uid 99); 28 May 2006 03:11:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 May 2006 20:11:00 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.177] (HELO hnexfe11.hetnet.nl) (195.121.6.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 May 2006 20:10:59 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe11.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Sun, 28 May 2006 05:10:38 +0200
Subject: Re: Searcher.search():Hits
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <c68e39170605271821o5a0deddarf9e626bc1bfb1960@mail.gmail.com>
References: <1148769241.30969.61.camel@localhost>
	 <c68e39170605271821o5a0deddarf9e626bc1bfb1960@mail.gmail.com>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Sun, 28 May 2006 05:10:36 +0200
Message-Id: <1148785836.30969.180.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 28 May 2006 03:10:38.0815 (UTC) FILETIME=[4BB326F0:01C68204]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Sat, 2006-05-27 at 21:21 -0400, Yonik Seeley wrote:
> On 5/27/06, karl wettin <kalle@snigel.net> wrote:
> > Is there a one method all searches are routed though that I can
> > interface with a decorator or so to catch all Hits created?
> 
> Search results, or only actual Hits objects?
> For Hits, perhaps the 4 methods on Searcher that return Hits.

I want to catch all search results created by the searcher.

> But IMO, callbacks and decorators shouldn't be spread all over
> Lucene... it's easy cache Hits at a higher layer... create a
> CachingSearcher or something.  You need to write code to use lucene
> for your specific application anyway. 

No callbacks here. Just decorator. Simple JIT-optimized pattern that in
my view fits exceptionally well in a project with many implementations.

It is about reusing code by skipping dependencies to some ad-hoc layer.

This time I will use it to transparently connect any searcher to my
statistical analysis of queries and results.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20963-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 28 03:20:45 2006
Return-Path: <java-user-return-20963-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46786 invoked from network); 28 May 2006 03:20:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 May 2006 03:20:45 -0000
Received: (qmail 24158 invoked by uid 500); 28 May 2006 03:20:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24130 invoked by uid 500); 28 May 2006 03:20:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24119 invoked by uid 99); 28 May 2006 03:20:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 May 2006 20:20:39 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.184.231 as permitted sender)
Received: from [64.233.184.231] (HELO wr-out-0506.google.com) (64.233.184.231)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 May 2006 20:20:39 -0700
Received: by wr-out-0506.google.com with SMTP id i3so627820wra
        for <java-user@lucene.apache.org>; Sat, 27 May 2006 20:20:16 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=oxmG2GSjTYBRLSqiBT0+sxobdz/MQ+itj2iCy3GiGpN4KC/tIrLsNK7fiB2H4h3Eo7tE0+pJwvH+XeSxyfhSzih1X1K2z49ZYKtp3lkwY19LC1YFYczjAOlzjudMkJQaBdYwApf+WwzrP0aHfJtOEId8cRfz12LNNr1BfGNVZZY=
Received: by 10.54.77.13 with SMTP id z13mr908959wra;
        Sat, 27 May 2006 20:20:16 -0700 (PDT)
Received: by 10.54.125.14 with HTTP; Sat, 27 May 2006 20:20:16 -0700 (PDT)
Message-ID: <c68e39170605272020j2892284bg59618a1dd0407a92@mail.gmail.com>
Date: Sat, 27 May 2006 23:20:16 -0400
From: "Yonik Seeley" <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Searcher.search():Hits
In-Reply-To: <1148785836.30969.180.camel@localhost>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <1148769241.30969.61.camel@localhost>
	 <c68e39170605271821o5a0deddarf9e626bc1bfb1960@mail.gmail.com>
	 <1148785836.30969.180.camel@localhost>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 5/27/06, karl wettin <kalle@snigel.net> wrote:
> This time I will use it to transparently connect any searcher to my
> statistical analysis of queries and results.

Ah, I read too quickly and saw "catch" as "cache" in your original
email.  Anyway, to your original question, no, there isn't a single
method that all searches go through.

-Yonik
http://incubator.apache.org/solr Solr, the open-source Lucene search server

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20964-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 28 08:10:00 2006
Return-Path: <java-user-return-20964-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99245 invoked from network); 28 May 2006 08:10:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 May 2006 08:10:00 -0000
Received: (qmail 27091 invoked by uid 500); 28 May 2006 08:09:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27065 invoked by uid 500); 28 May 2006 08:09:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27054 invoked by uid 99); 28 May 2006 08:09:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 28 May 2006 01:09:53 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dayzman@gmail.com designates 64.233.162.203 as permitted sender)
Received: from [64.233.162.203] (HELO nz-out-0102.google.com) (64.233.162.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 28 May 2006 01:09:50 -0700
Received: by nz-out-0102.google.com with SMTP id 13so346812nzp
        for <java-user@lucene.apache.org>; Sun, 28 May 2006 01:09:30 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=i+RVEbu379rdqTxskMS2Au3ID0pPK+FSOvMfKGba4ju8A+88TVunid1X0uWU81mDK+1JHNvUO7zyWHQm+qQZfTLnNFIScadGI8oWljirHV/hRk1caDaRE1+MiJltzcpjAUaM3XzSKaSU0cLXeaFlRIuW226I8ZuUN3Frgw6i0to=
Received: by 10.64.178.17 with SMTP id a17mr430985qbf;
        Sun, 28 May 2006 01:09:30 -0700 (PDT)
Received: by 10.64.250.3 with HTTP; Sun, 28 May 2006 01:09:30 -0700 (PDT)
Message-ID: <429c032d0605280109i7f0c8392x6d0017a5f6b70aac@mail.gmail.com>
Date: Sun, 28 May 2006 16:09:30 +0800
From: "Michael Chan" <dayzman@gmail.com>
To: java-user@lucene.apache.org
Subject: MMapDirectory vs RAMDirectory
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

On a 64-bit platform with 30gb RAM and 8 real CPUs, should
MMapDirectory or RAMDirectory provide better search performance on a
5gb index?

Cheers,

Michael

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20965-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun May 28 08:28:35 2006
Return-Path: <java-user-return-20965-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 490 invoked from network); 28 May 2006 08:28:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 May 2006 08:28:35 -0000
Received: (qmail 35459 invoked by uid 500); 28 May 2006 08:28:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35425 invoked by uid 500); 28 May 2006 08:28:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35407 invoked by uid 99); 28 May 2006 08:28:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 28 May 2006 01:28:29 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.146.176.253] (HELO web25915.mail.ukl.yahoo.com) (217.146.176.253)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 28 May 2006 01:28:27 -0700
Received: (qmail 97133 invoked by uid 60001); 28 May 2006 08:28:05 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=vhLd/aTwbpe35suGyxm6hH3NIgOJI16FbWnpOhDtAavygBFrFP1czj6GTyZeN9RyiSzJ/bPM02EH9yyXAg2YSkdBtUzxrE5QQmhEK0guC5NhnemzP/MS/5G95gbbj9OJvFUbrXYkL6CjMxILWFDL8XofLfLEnzxYxBdv2ODkVJQ=  ;
Message-ID: <20060528082805.97131.qmail@web25915.mail.ukl.yahoo.com>
Date: Sun, 28 May 2006 08:28:05 +0000 (GMT)
From: eks dev <eksdev@yahoo.co.uk>
Reply-To: eks dev <eksdev@yahoo.co.uk>
Subject: Re: MMapDirectory vs RAMDirectory
To: java-user@lucene.apache.org
In-Reply-To: <429c032d0605280109i7f0c8392x6d0017a5f6b70aac@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

If you can use all that memory for index, I would say RAM. For long running indexes (to get os cache populated), MMAP will do just as good  if you have any file system worth using.

----- Original Message ----
From: Michael Chan <dayzman@gmail.com>
To: java-user@lucene.apache.org
Sent: Sunday, 28 May, 2006 10:09:30 AM
Subject: MMapDirectory vs RAMDirectory

Hi,

On a 64-bit platform with 30gb RAM and 8 real CPUs, should
MMapDirectory or RAMDirectory provide better search performance on a
5gb index?

Cheers,

Michael

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20966-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 29 03:21:13 2006
Return-Path: <java-user-return-20966-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71823 invoked from network); 29 May 2006 03:21:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 May 2006 03:21:13 -0000
Received: (qmail 97463 invoked by uid 500); 29 May 2006 03:21:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97426 invoked by uid 500); 29 May 2006 03:21:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97415 invoked by uid 99); 29 May 2006 03:21:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 28 May 2006 20:21:07 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of janssen@parc.com designates 13.1.64.93 as permitted sender)
Received: from [13.1.64.93] (HELO alpha.xerox.com) (13.1.64.93)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 28 May 2006 20:21:07 -0700
Received: from synergy1.parc.xerox.com ([13.1.101.60]) by alpha.xerox.com with SMTP id <224185(1)>; Sun, 28 May 2006 20:20:31 PDT
Received: from parc.com ([127.0.0.1]) by synergy1.parc.xerox.com with SMTP id <58641>; Sun, 28 May 2006 20:20:25 PDT
To: java-user@lucene.apache.org
Subject: IMAP server that uses Lucene?
Date: Sun, 28 May 2006 20:20:16 PDT
From: Bill Janssen <janssen@parc.com>
Message-Id: <06May28.202025pdt."58641"@synergy1.parc.xerox.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi!

I've got oodles of email stored in MH (one file per message,
hierarchical directories) format.  I'm looking for an IMAP server that
will use Lucene to index that mail and perform the various search
parts of the IMAP protocol.  Ideally, the mail would not have to be
converted to another email format, but can be if necessary.

I know how to index mail, so tropo.com isn't terribly interesting.
I'm not sure I understand just what ZOE does, but it doesn't seem to
be an IMAP server.

Any pointers?  

Bill

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20967-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 29 04:01:12 2006
Return-Path: <java-user-return-20967-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76831 invoked from network); 29 May 2006 04:01:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 May 2006 04:01:12 -0000
Received: (qmail 16290 invoked by uid 500); 29 May 2006 04:01:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16266 invoked by uid 500); 29 May 2006 04:01:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16255 invoked by uid 99); 29 May 2006 04:01:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 28 May 2006 21:01:05 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.121.6.172] (HELO hnexfe06.hetnet.nl) (195.121.6.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 28 May 2006 21:01:04 -0700
Received: from [192.168.0.101] ([86.85.154.64]) by hnexfe06.hetnet.nl with Microsoft SMTPSVC(5.0.2195.6874);
	 Mon, 29 May 2006 06:00:42 +0200
Subject: Re: IMAP server that uses Lucene?
From: karl wettin <kalle@snigel.net>
To: java-user@lucene.apache.org
In-Reply-To: <06May28.202025pdt."58641"@synergy1.parc.xerox.com>
References: <06May28.202025pdt."58641"@synergy1.parc.xerox.com>
Content-Type: text/plain
Organization: snigel heavy industries
Date: Mon, 29 May 2006 06:00:40 +0200
Message-Id: <1148875241.5030.8.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 29 May 2006 04:00:42.0427 (UTC) FILETIME=[7467B8B0:01C682D4]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Sun, 2006-05-28 at 20:20 -0700, Bill Janssen wrote:
> Hi!
> 
> I've got oodles of email stored in MH (one file per message,
> hierarchical directories) format.  I'm looking for an IMAP server that
> will use Lucene to index that mail and perform the various search
> parts of the IMAP protocol.  Ideally, the mail would not have to be
> converted to another email format, but can be if necessary.
> 
> I know how to index mail, so tropo.com isn't terribly interesting.
> I'm not sure I understand just what ZOE does, but it doesn't seem to
> be an IMAP server.
> 
> Any pointers?  

Apache James? They may or may not have an IMAP implementation you can
extend to use Lucene when issuing a SEARCH command. Or do you want an
index parallel to the IMAP?


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20968-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 29 04:58:15 2006
Return-Path: <java-user-return-20968-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84317 invoked from network); 29 May 2006 04:58:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 May 2006 04:58:15 -0000
Received: (qmail 58839 invoked by uid 500); 29 May 2006 04:58:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58802 invoked by uid 500); 29 May 2006 04:58:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58791 invoked by uid 99); 29 May 2006 04:58:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 28 May 2006 21:58:10 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of heng.mei@gmail.com designates 64.233.184.236 as permitted sender)
Received: from [64.233.184.236] (HELO wr-out-0506.google.com) (64.233.184.236)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 28 May 2006 21:58:09 -0700
Received: by wr-out-0506.google.com with SMTP id i3so746540wra
        for <java-user@lucene.apache.org>; Sun, 28 May 2006 21:57:49 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=RJ+l1+umyIg4trbUqAft9g3cS6FQ980/AQvxDh5W1sl+DgsrZ1jk95IDCVm6hwNe0LHgVqwcVYmVd/Ni78/CzjxTbeUBXcU/5kXfepUhNXNqOD0anEE6bgwsvsqTrzDPHsvb0E46YFBV42ckwlyOiYc0qkE1Ghez9SrCPPH8cMs=
Received: by 10.54.109.14 with SMTP id h14mr1744134wrc;
        Sun, 28 May 2006 21:56:56 -0700 (PDT)
Received: by 10.54.138.8 with HTTP; Sun, 28 May 2006 21:57:45 -0700 (PDT)
Message-ID: <b9fbc60a0605282157v12949cddk283297ba2a967583@mail.gmail.com>
Date: Sun, 28 May 2006 21:57:45 -0700
From: "Heng Mei" <heng.mei@gmail.com>
To: java-user@lucene.apache.org
Subject: search performance degrades by order of magnitude when using SortField.
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Lucene experts,

I'm having a problem with Sort performance during searches.  I'm using
Lucene 1.9.1.

I need to Sort by a date field in the document.  When I use the
default Sort.RELEVANCE, query response time is ~6ms.  However, when I
specify a sort, e.g. Searcher.search( query, new Sort( "mydatefield" )
 ), the query response time gets multiplied by a factor of 10 or 20.
Also, CPU usage shoots up to nearly 90%.   Is this expected behavior?
I thought the default sort and sort by field should perform roughly
the same when the values are cached in memory, since they both have to
do a top-K ranking over the same number of raw hits.   The performance
gets disproportionately worse as I increase the number of parallel
threads that query the same Searcher object.

Also, in my previous experience with sorting by a field in Lucene, I
seem to remember there being a preload time when you first search with
a sort by field, sometimes taking 30 seconds or so to load all of the
field's values into the in-memory cache associated with the Searcher
object.  This initial preload time doesn't seem to be happening in my
case -- does that mean that for some reason Lucene is not caching the
field values?

I have an index of 1 million documents, taking up about 1.7G of
diskspace.  I specify -Xmx2000m when running my java search
application.

Any advice or insight would be much appreciated.

Thanks,
~Heng

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20969-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 29 06:27:41 2006
Return-Path: <java-user-return-20969-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 637 invoked from network); 29 May 2006 06:27:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 May 2006 06:27:41 -0000
Received: (qmail 23446 invoked by uid 500); 29 May 2006 06:27:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23416 invoked by uid 500); 29 May 2006 06:27:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23404 invoked by uid 99); 29 May 2006 06:27:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 28 May 2006 23:27:34 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 28 May 2006 23:27:31 -0700
Received: from localhost ([127.0.0.1] helo=talk.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1FkbDZ-0003da-FD
	for java-user@lucene.apache.org; Sun, 28 May 2006 23:27:09 -0700
Message-ID: <4606464.post@talk.nabble.com>
Date: Sun, 28 May 2006 23:27:09 -0700 (PDT)
From: Sajid Khan <assamhelp@yahoo.co.in>
To: java-user@lucene.apache.org
Subject: Re: Query Contains All The Symbols
In-Reply-To: <20060527134403.41396.qmail@web50303.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-Sender: assamhelp@yahoo.co.in
X-Nabble-From: Sajid Khan <assamhelp@yahoo.co.in>
References: <20060527134403.41396.qmail@web50303.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Thank You, for your reply.  I will try to write the code. After that i will
let you know.

Regards
Sajid
--
View this message in context: http://www.nabble.com/Re%3A+Query+Contains+All+The+Symbols-t1691532.html#a4606464
Sent from the Lucene - Java Users forum at Nabble.com.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20970-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 29 06:35:25 2006
Return-Path: <java-user-return-20970-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2182 invoked from network); 29 May 2006 06:35:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 May 2006 06:35:24 -0000
Received: (qmail 31290 invoked by uid 500); 29 May 2006 06:35:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31261 invoked by uid 500); 29 May 2006 06:35:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31250 invoked by uid 99); 29 May 2006 06:35:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 28 May 2006 23:35:18 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [17.250.248.172] (HELO smtpout.mac.com) (17.250.248.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 28 May 2006 23:35:17 -0700
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/8.12.11/smtpout02/MantshX 4.0) with ESMTP id k4T6Yv4b003307
	for <java-user@lucene.apache.org>; Sun, 28 May 2006 23:34:57 -0700 (PDT)
Received: from [10.0.1.7] (adsl-84-226-44-113.adslplus.ch [84.226.44.113])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 4.0) with ESMTP id k4T6YnP5012051
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NO)
	for <java-user@lucene.apache.org>; Sun, 28 May 2006 23:34:56 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v624)
In-Reply-To: <06May28.202025pdt.58641@synergy1.parc.xerox.com>
References: <06May28.202025pdt.58641@synergy1.parc.xerox.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <e4cd1cf0a9aff4e8c9c61eaa8e7bf010@mac.com>
Content-Transfer-Encoding: quoted-printable
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: IMAP server that uses Lucene?
Date: Mon, 29 May 2006 08:34:46 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.624)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 29, 2006, at 05:20, Bill Janssen wrote:

> I'm not sure I understand just what ZOE does, but it doesn't seem to
> be an IMAP server.

ZO=CB can access an IMAP server to index it, but doesn't act as an IMAP=20=

server itself even though it provides other services (e.g. HTTP, SMTP,=20=

POP, FTP, etc).

http://zoe.nu/

As far as I know Apache's JAMES doesn't provide any IMAP interface=20
either, just plain POP, SMTP and NNTP. There is some "experimental"=20
IMAP code in their repository for the last couple of years.

http://james.apache.org/FAQ.html#6

JBoss Mail Server purports to provide an IMAP server, not sure how far=20=

along it is though.

http://labs.jboss.com/portal/jbossmail/index.html

There is something called "Dwarf Mail Server", which provides an=20
IMAP4rev1 implementation, but is not open source last time I checked.

http://www.gnome.sk/Dwarf/dwarf_mail.html

Considering how, hmmm, "byzantine" the IMAP protocol is, the paucity of=20=

implementations shouldn't come as a surprise :(

Cheers

--
PA, Onnay Equitursay
http://alt.textdrive.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20971-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 29 10:34:56 2006
Return-Path: <java-user-return-20971-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75146 invoked from network); 29 May 2006 10:34:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 May 2006 10:34:56 -0000
Received: (qmail 65881 invoked by uid 500); 29 May 2006 10:34:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64706 invoked by uid 500); 29 May 2006 10:34:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64692 invoked by uid 99); 29 May 2006 10:34:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 May 2006 03:34:49 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of andyhugb@gmail.com designates 64.233.162.201 as permitted sender)
Received: from [64.233.162.201] (HELO nz-out-0102.google.com) (64.233.162.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 May 2006 03:34:48 -0700
Received: by nz-out-0102.google.com with SMTP id 13so513877nzp
        for <java-user@lucene.apache.org>; Mon, 29 May 2006 03:34:27 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=QHkJL1LG7ea2NYocfYXFfWZ4gh79N3jivthFZBmSxllRishQnc3EH6pGLlYhTkiMv34WoICteeN6JqaJhRdBxBEC1dQucjMdVqYkJMGMAPO4QUn1yHOPrzOCereBkIdVg0dpxlYKCIoem3kQj7pX3VAijsqZYvSCFSIXitHWwG8=
Received: by 10.65.159.19 with SMTP id l19mr888313qbo;
        Mon, 29 May 2006 03:34:27 -0700 (PDT)
Received: by 10.64.151.8 with HTTP; Mon, 29 May 2006 03:34:27 -0700 (PDT)
Message-ID: <4f2c7c9b0605290334g332e507akc112b34c4cda31f6@mail.gmail.com>
Date: Mon, 29 May 2006 18:34:27 +0800
From: "hu andy" <andyhugb@gmail.com>
To: java-user@lucene.apache.org
Subject: Maybe a bug of lucene 1.9
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_294626_11369231.1148898867264"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_294626_11369231.1148898867264
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I indexed a collection of Chinese documents. I use a special segmentation
api to do the analysis, because the segmentation of Chinese is different
from English.

 A strange thing happened.   With lucene 1.4 or lucene 2.0, it will be all
right to retrieve the corresponding documents given the terms that exist in
the index  *.tis file(I wrote a program to pick the terms from the .tis fil=
e
and search them).  But with 1.9, for some terms that existed in the index, =
I
couldn't retrieve the corresponding document.

Can anybody give me some advice about this? Thank you in advance.

------=_Part_294626_11369231.1148898867264--

From java-user-return-20972-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 29 13:55:20 2006
Return-Path: <java-user-return-20972-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47393 invoked from network); 29 May 2006 13:55:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 May 2006 13:55:19 -0000
Received: (qmail 49721 invoked by uid 500); 29 May 2006 13:55:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49695 invoked by uid 500); 29 May 2006 13:55:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49684 invoked by uid 99); 29 May 2006 13:55:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 May 2006 06:55:13 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.73.178.234] (HELO web60811.mail.yahoo.com) (209.73.178.234)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 29 May 2006 06:55:12 -0700
Received: (qmail 51300 invoked by uid 60001); 29 May 2006 13:54:47 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=JRmxrQZFnT2PoWhzDLm/kTSK5U7YcyBHLl5/JRIb08hw4UvUqXvZLcLKKyR+eMeJ7qUeRfWHqbx9f1z4n5v4asoa7wR8xlui4M4/Yr8J68N+ms5WKh3ggiIbWL1qdq6tTKqhbPkhtSZnGGA8SsmqPdZTtWPnK/TWzPRUUbt8MCE=  ;
Message-ID: <20060529135447.51298.qmail@web60811.mail.yahoo.com>
Received: from [212.179.71.70] by web60811.mail.yahoo.com via HTTP; Mon, 29 May 2006 06:54:47 PDT
Date: Mon, 29 May 2006 06:54:47 -0700 (PDT)
From: zzzzz shalev <zzzzz_shalev@yahoo.com>
Subject: fastest way to get raw hit count
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-42304451-1148910887=:49163"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-42304451-1148910887=:49163
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

hi all,
   
  is there a faster way to retrieve ONLY the count of results for a query?
   
  lucene ranks (scores) the first batch of docs and sorts them by rank, this is functionality i dont need in certain queries and i assume, not doing this can return the count faster then the hits.length()
   
  any ideas???
   
  thanks,,,

		
---------------------------------
New Yahoo! Messenger with Voice. Call regular phones from your PC and save big.
--0-42304451-1148910887=:49163--

From java-user-return-20973-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 29 17:28:57 2006
Return-Path: <java-user-return-20973-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4419 invoked from network); 29 May 2006 17:28:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 May 2006 17:28:57 -0000
Received: (qmail 55966 invoked by uid 500); 29 May 2006 17:28:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55932 invoked by uid 500); 29 May 2006 17:28:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55921 invoked by uid 99); 29 May 2006 17:28:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 May 2006 10:28:50 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.25] (HELO smtp-vbr5.xs4all.nl) (194.109.24.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 May 2006 10:28:49 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr5.xs4all.nl (8.13.6/8.13.6) with ESMTP id k4THSR8b020334
	for <java-user@lucene.apache.org>; Mon, 29 May 2006 19:28:27 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: fastest way to get raw hit count
Date: Mon, 29 May 2006 19:28:27 +0200
User-Agent: KMail/1.8.2
References: <20060529135447.51298.qmail@web60811.mail.yahoo.com>
In-Reply-To: <20060529135447.51298.qmail@web60811.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200605291928.27227.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Monday 29 May 2006 15:54, zzzzz shalev wrote:
> hi all,
>    
>   is there a faster way to retrieve ONLY the count of results for a query?
>    
>   lucene ranks (scores) the first batch of docs and sorts them by rank, this 
is functionality i dont need in certain queries and i assume, not doing this 
can return the count faster then the hits.length()

Untested:

Scorer scorer =
 query.weight(indexSearcher).scorer(indexSearcher.getIndexReader());

int docCount = 0;
while (scorer.next()) docCount++;


Regards,
Paul Elschot

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20974-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 29 21:27:39 2006
Return-Path: <java-user-return-20974-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69563 invoked from network); 29 May 2006 21:27:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 May 2006 21:27:39 -0000
Received: (qmail 24266 invoked by uid 500); 29 May 2006 21:27:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24158 invoked by uid 500); 29 May 2006 21:27:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24147 invoked by uid 99); 29 May 2006 21:27:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 May 2006 14:27:33 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 May 2006 14:27:32 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 2DAAC5B76E; Mon, 29 May 2006 14:27:12 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 2472E7F403
	for <java-user@lucene.apache.org>; Mon, 29 May 2006 14:27:12 -0700 (PDT)
Date: Mon, 29 May 2006 14:27:12 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: fastest way to get raw hit count
In-Reply-To: <200605291928.27227.paul.elschot@xs4all.nl>
Message-ID: <Pine.LNX.4.58.0605291424210.1754@hal.rescomp.berkeley.edu>
References: <20060529135447.51298.qmail@web60811.mail.yahoo.com>
 <200605291928.27227.paul.elschot@xs4all.nl>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Scorer scorer =
:  query.weight(indexSearcher).scorer(indexSearcher.getIndexReader());

You'd need to rewrite the query first to be safe.

A slightly higher level API approach would be a HitCollector that just
counts the hits...

http://lucene.apache.org/java/docs/api/org/apache/lucene/search/HitCollector.html

   Searcher searcher = new IndexSearcher(indexReader);
   final int[] count = new int[0]; // use array container since need final
   searcher.search(query, new HitCollector() {
      public void collect(int doc, float score) {
         count[0]++;
      }
    });
    System.out.println("count of matches: " + count[0]):



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20975-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 29 21:56:53 2006
Return-Path: <java-user-return-20975-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75519 invoked from network); 29 May 2006 21:56:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 May 2006 21:56:53 -0000
Received: (qmail 51767 invoked by uid 500); 29 May 2006 21:56:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51738 invoked by uid 500); 29 May 2006 21:56:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51727 invoked by uid 99); 29 May 2006 21:56:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 May 2006 14:56:48 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 May 2006 14:56:47 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 42E9B5B776; Mon, 29 May 2006 14:56:25 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 3D0897F403
	for <java-user@lucene.apache.org>; Mon, 29 May 2006 14:56:25 -0700 (PDT)
Date: Mon, 29 May 2006 14:56:25 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: search performance degrades by order of magnitude when using
 SortField.
In-Reply-To: <b9fbc60a0605282157v12949cddk283297ba2a967583@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0605291439100.1754@hal.rescomp.berkeley.edu>
References: <b9fbc60a0605282157v12949cddk283297ba2a967583@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

: default Sort.RELEVANCE, query response time is ~6ms.  However, when I
: specify a sort, e.g. Searcher.search( query, new Sort( "mydatefield" )
:  ), the query response time gets multiplied by a factor of 10 or 20.
	...
: do a top-K ranking over the same number of raw hits.   The performance
: gets disproportionately worse as I increase the number of parallel
: threads that query the same Searcher object.

How many sequential queries are you running against the same Searcher
instance? ... the performance drop you are seeing may be a result of each
of those threads trying to build the same FieldCache on your sort field in
parrallel.

being 10x or 20x slower sounds like a lot .. but 10x 6ms is still only
60ms :) .. have you timed how long it takes just to build a FieldCache on
that field?

: Also, in my previous experience with sorting by a field in Lucene, I
: seem to remember there being a preload time when you first search with
: a sort by field, sometimes taking 30 seconds or so to load all of the
: field's values into the in-memory cache associated with the Searcher
: object.  This initial preload time doesn't seem to be happening in my
: case -- does that mean that for some reason Lucene is not caching the
: field values?

that's the FieldCache initialization i was refering to -- it's based on
reusing the same instenad of IndexReader (or IndexSearcher), as long as
you are using the same instance over and over you'll reuse the
FieldCache and only pay that cost once (or maybe N times if you have N
parrallel query threads and they all try to hit the FieldCache
immediately).

30 seconds sounds extremely long though ... you may be remembering
incorrectly how significant the penalty was.

: I have an index of 1 million documents, taking up about 1.7G of
: diskspace.  I specify -Xmx2000m when running my java search
: application.

the big issue when sorting on a field is what type of data is in that
field: is it a int? a long? a String? .. if it is a String how often does
the same String value appear for multiple documents? .. these all affect
how much RAM the FieldCache takes up.  you mentioned sorting by date, did
you store the date as a String? in what format? with what precision?




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20976-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon May 29 22:44:46 2006
Return-Path: <java-user-return-20976-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85468 invoked from network); 29 May 2006 22:44:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 May 2006 22:44:46 -0000
Received: (qmail 94829 invoked by uid 500); 29 May 2006 22:44:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94789 invoked by uid 500); 29 May 2006 22:44:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94777 invoked by uid 99); 29 May 2006 22:44:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 May 2006 15:44:40 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [209.73.178.237] (HELO web60814.mail.yahoo.com) (209.73.178.237)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 29 May 2006 15:44:38 -0700
Received: (qmail 26108 invoked by uid 60001); 29 May 2006 22:44:17 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=3doeZLRC4dXJjMKcK/yGD/6oKLQbFD/CzxsepdjHk3EWWf1LfDtDu+k4rSPNAZ0sLQc87FUewlwhMFSicR/cDZRiJGu7GErGB/7wzfxaPXAOovGtcKpGdSFB2rjYcmdCSatoFBC12W11KhclBFirk0fE3mHvFAm8autiYas5F7A=  ;
Message-ID: <20060529224417.26106.qmail@web60814.mail.yahoo.com>
Received: from [212.199.22.118] by web60814.mail.yahoo.com via HTTP; Mon, 29 May 2006 15:44:17 PDT
Date: Mon, 29 May 2006 15:44:17 -0700 (PDT)
From: zzzzz shalev <zzzzz_shalev@yahoo.com>
Subject: Re: Aggregating category hits
To: java-user@lucene.apache.org
In-Reply-To: <0E1423F2-DD3C-424D-84D1-7ED0BB795F44@rectangular.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-525499398-1148942657=:20946"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-525499398-1148942657=:20946
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

i know im a little late replying to this thread, but, in my humble opinion the best way to aggregate values (not necessarily terms, but whole values in fields) is as follows:
   
  startup stage:
   
  for each field you would like to aggregate create a hashmap
   
  open an index reader and run through all the docs
   
  get the values to be aggregated from the fields of each doc
   
  create a hashcode for each value from each field collected, the hashcode should have some sort of prefix indicating which field its from (for exampe: 1 = author, 2 = ....) and hence which hash it is stored in (at retrieval time, this prefix can be used to easily retrieve the value from the correct hash)
   
  place the hashcode/value in the appropriate hash
   
  create an arraylist
   
  at index X in the arraylist place an int array of all the hashcodes associated with doc id X
   
  so for example: if i have doc id 0 which contains the values: william shakespeare and the value 1797 the array list at index 0 will have an int array containing 2 values (the 2 hashcodes of shaklespeare and 1797)
   
  run time:
   
  at run time receive the hits and iterate through the doc ids , aggregate the values with direct access into the arraylist (for doc id 10 go to index 10 in the arraylist to retrieve the array of hashcodes) and lookups into the hashmaps
   
  i tested this today on a small index approx 400,000 docs (1GB of data) but i ran queries returning over 100,000 results
   
  my response time was about 550 milliseconds on large (over 100,000) result sets
   
  another point, this method should be scalable for much larger indexes as well, as it is linear to the result set size and not the index size (which is a HUGE bonus)
   
  if anyone wants the code let me know,
   
   
  

Marvin Humphrey <marvin@rectangular.com> wrote:
  
Thanks, all.

The field cache and the bitsets both seem like good options until the 
collection grows too large, provided that the index does not need to 
be updated very frequently. Then for large collections, there's 
statistical sampling. Any of those options seems preferable to 
retrieving all docs all the time.

Marvin Humphrey
Rectangular Research
http://www.rectangular.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



		
---------------------------------
Feel free to call! Free PC-to-PC calls. Low rates on PC-to-Phone.  Get Yahoo! Messenger with Voice
--0-525499398-1148942657=:20946--

From java-user-return-20977-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 08:45:21 2006
Return-Path: <java-user-return-20977-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10433 invoked from network); 30 May 2006 08:45:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 08:45:20 -0000
Received: (qmail 29825 invoked by uid 500); 30 May 2006 08:45:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28976 invoked by uid 500); 30 May 2006 08:45:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28960 invoked by uid 99); 30 May 2006 08:45:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 01:45:13 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.200.76.18] (HELO mail4.niit.com) (203.200.76.18)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 01:45:12 -0700
Received: from 172.17.8.245 [172.17.8.245]
	by mail4.niit.com
	with XWall v3.33 ;
	Tue, 30 May 2006 14:14:44 +0530
Received: by ho-kkj-msg3.in.niit.com with Internet Mail Service (5.5.2657.72)
	id <LRJWXRNM>; Tue, 30 May 2006 14:14:42 +0530
From: Amaresh Kumar Yadav <Amaresh.Yadav@niit.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: RE: fastest way to get raw hit count
Date: Tue, 30 May 2006 14:14:40 +0530
X-Assembled-By: XWall v3.33
X-Mailer: Internet Mail Service (5.5.2657.72)
Message-ID: <934F531A825AFF4F863658E2402E06470763759D@ho-kkj-msg3.in.niit.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,

=20      when i search for a particular text by lucene search engine. I get
correct number of document for that word but its document name and summary
is return as null.=20

display message is :

Document Summary=20
null null=20
null null=20
null null=20
null null=20

if someone has any idea about this error, please help.

Regards..

Amaresh Yadav

-----Original Message-----
From: zzzzz shalev [mailto:zzzzz_shalev@yahoo.com]
Sent: Monday, May 29, 2006 7:25 PM
To: java-user@lucene.apache.org
Subject: fastest way to get raw hit count


hi all,
=20 =20
=20 is there a faster way to retrieve ONLY the count of results for a query?
=20 =20
=20 lucene ranks (scores) the first batch of docs and sorts them by rank, th=
is
is functionality i dont need in certain queries and i assume, not doing this
can return the count faster then the hits.length()
=20 =20
=20 any ideas???
=20 =20
=20 thanks,,,

=09=09
---------------------------------
New Yahoo! Messenger with Voice. Call regular phones from your PC and save
big.

----------------------------------------------------------------------
DISCLAIMER

This email and any files transmitted with it are confidential and are solely=
 for the use of the individual or entity to which it is addressed. Any use, =
distribution, copying or disclosure by any other person is strictly prohibit=
ed. If you receive this transmission in error, please notify the sender by r=
eply email and then destroy the message. Opinions, conclusions and other inf=
ormation in this message that do not relate to official business of the comp=
any shall be understood to be neither given nor endorsed by NIIT Ltd. or NII=
T Technologies Ltd. Any information contained in this email, when addressed =
to Clients is subject to the terms and conditions in governing client contra=
ct.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20978-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 08:48:17 2006
Return-Path: <java-user-return-20978-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11009 invoked from network); 30 May 2006 08:48:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 08:48:17 -0000
Received: (qmail 34090 invoked by uid 500); 30 May 2006 08:48:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33885 invoked by uid 500); 30 May 2006 08:48:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33874 invoked by uid 99); 30 May 2006 08:48:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 01:48:10 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.200.76.18] (HELO mail4.niit.com) (203.200.76.18)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 01:48:10 -0700
Received: from 172.17.8.245 [172.17.8.245]
	by mail4.niit.com
	with XWall v3.33 ;
	Tue, 30 May 2006 14:17:45 +0530
Received: by ho-kkj-msg3.in.niit.com with Internet Mail Service (5.5.2657.72)
	id <LRJWXR3V>; Tue, 30 May 2006 14:17:43 +0530
From: Amaresh Kumar Yadav <Amaresh.Yadav@niit.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: return document name as null Please help
Date: Tue, 30 May 2006 14:17:43 +0530
X-Assembled-By: XWall v3.33
X-Mailer: Internet Mail Service (5.5.2657.72)
Message-ID: <934F531A825AFF4F863658E2402E0647076375CE@ho-kkj-msg3.in.niit.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,

=20      when i search for a particular text by lucene search engine. I get
correct number of document for that word but its document name and summary
is return as null.=20

display message is :

Document Summary=20
null null=20
null null=20
null null=20
null null=20

if someone has any idea about this error, please help.

Regards..

Amaresh Yadav

----------------------------------------------------------------------
DISCLAIMER

This email and any files transmitted with it are confidential and are solely=
 for the use of the individual or entity to which it is addressed. Any use, =
distribution, copying or disclosure by any other person is strictly prohibit=
ed. If you receive this transmission in error, please notify the sender by r=
eply email and then destroy the message. Opinions, conclusions and other inf=
ormation in this message that do not relate to official business of the comp=
any shall be understood to be neither given nor endorsed by NIIT Ltd. or NII=
T Technologies Ltd. Any information contained in this email, when addressed =
to Clients is subject to the terms and conditions in governing client contra=
ct.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20979-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 09:01:32 2006
Return-Path: <java-user-return-20979-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20255 invoked from network); 30 May 2006 09:01:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 09:01:32 -0000
Received: (qmail 81259 invoked by uid 500); 30 May 2006 09:01:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80815 invoked by uid 500); 30 May 2006 09:01:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80792 invoked by uid 99); 30 May 2006 09:01:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 02:01:25 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.93.125.162] (HELO cpanel37.gzo.com) (69.93.125.162)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 02:01:25 -0700
Received: from bizhan.fors.com ([213.234.218.76] helo=pb)
	by cpanel37.gzo.com with esmtpa (Exim 4.52)
	id 1Fl062-0006Vu-Vu
	for java-user@lucene.apache.org; Tue, 30 May 2006 04:01:03 -0500
From: "Pasha Bizhan" <lucene-list@lucenedotnet.com>
To: <java-user@lucene.apache.org>
Subject: RE: return document name as null Please help
Date: Tue, 30 May 2006 13:08:42 +0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1506
In-Reply-To: <934F531A825AFF4F863658E2402E0647076375CE@ho-kkj-msg3.in.niit.com>
Thread-Index: AcaDxchd9fsX1gW7QNu9O3LPr792gQAApgKQ
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - cpanel37.gzo.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - lucenedotnet.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060530090125.612D910FB00F@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi, 

> From: Amaresh Kumar Yadav [mailto:Amaresh.Yadav@niit.com] 

>        when i search for a particular text by lucene search 
> engine. I get correct number of document for that word but 
> its document name and summary is return as null. 

Are your document's name and summary Stored (Store.YES)? 

Pasha Bizhan
 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20980-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 09:23:14 2006
Return-Path: <java-user-return-20980-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28072 invoked from network); 30 May 2006 09:23:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 09:23:14 -0000
Received: (qmail 14184 invoked by uid 500); 30 May 2006 09:23:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14159 invoked by uid 500); 30 May 2006 09:23:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14148 invoked by uid 99); 30 May 2006 09:23:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 02:23:07 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of andyhugb@gmail.com designates 64.233.162.197 as permitted sender)
Received: from [64.233.162.197] (HELO nz-out-0102.google.com) (64.233.162.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 02:23:06 -0700
Received: by nz-out-0102.google.com with SMTP id 13so703644nzp
        for <java-user@lucene.apache.org>; Tue, 30 May 2006 02:22:46 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=qbtdWTXDfNg2ubf5HQDxUFZMaxRi04S/AsWLimkDEF+nLqdwH8PjiCYnuSe61c1Jrom6/2SrCwGxhsC8HIHlHCzw92HpxdzSzID9yAPFMbcR8V/oScNL6hN2gAU8IXqdxUPsJiB1JH3k2WqVrEKfcW9WOnk3kA9yLcCMNJeOGPE=
Received: by 10.64.151.13 with SMTP id y13mr1590647qbd;
        Tue, 30 May 2006 02:22:46 -0700 (PDT)
Received: by 10.64.151.8 with HTTP; Tue, 30 May 2006 02:22:46 -0700 (PDT)
Message-ID: <4f2c7c9b0605300222q6f00678ase5070f578b14f6a4@mail.gmail.com>
Date: Tue, 30 May 2006 17:22:46 +0800
From: "hu andy" <andyhugb@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Maybe a bug of lucene 1.9
In-Reply-To: <4f2c7c9b0605290334g332e507akc112b34c4cda31f6@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_6065_465001.1148980966244"
References: <4f2c7c9b0605290334g332e507akc112b34c4cda31f6@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_6065_465001.1148980966244
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

2006/5/29, hu andy <andyhugb@gmail.com>:
>
>  I indexed a collection of Chinese documents. I use a special segmentation
> api to do the analysis, because the segmentation of Chinese is different
> from English.
>
>  A strange thing happened.   With lucene 1.4 or lucene 2.0, it will be all
> right to retrieve the corresponding documents given the terms that exist in
> the index  *.tis file(I wrote a program to pick the terms from the .tis file
> and search them).  But with 1.9, for some terms that existed in the index,
> I couldn't retrieve the corresponding document.
>
> Can anybody give me some advice about this? Thank you in advance.
>

------=_Part_6065_465001.1148980966244--

From java-user-return-20981-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 10:36:54 2006
Return-Path: <java-user-return-20981-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45041 invoked from network); 30 May 2006 10:36:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 10:36:54 -0000
Received: (qmail 18231 invoked by uid 500); 30 May 2006 10:36:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18207 invoked by uid 500); 30 May 2006 10:36:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18196 invoked by uid 99); 30 May 2006 10:36:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 03:36:46 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.200.76.18] (HELO mail4.niit.com) (203.200.76.18)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 03:36:45 -0700
Received: from 172.17.8.245 [172.17.8.245]
	by mail4.niit.com
	with XWall v3.33 ;
	Tue, 30 May 2006 16:06:21 +0530
Received: by ho-kkj-msg3.in.niit.com with Internet Mail Service (5.5.2657.72)
	id <LRJWXTSC>; Tue, 30 May 2006 16:06:19 +0530
From: Amaresh Kumar Yadav <Amaresh.Yadav@niit.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: RE: return document name as null Please help
Date: Tue, 30 May 2006 16:06:17 +0530
X-Assembled-By: XWall v3.33
X-Mailer: Internet Mail Service (5.5.2657.72)
Message-ID: <934F531A825AFF4F863658E2402E064707637CCC@ho-kkj-msg3.in.niit.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

do we need some setting in any jsp or other file for document  ???

Regards..
Amaresh

-----Original Message-----
From: Pasha Bizhan [mailto:lucene-list@lucenedotnet.com]
Sent: Tuesday, May 30, 2006 2:39 PM
To: java-user@lucene.apache.org
Subject: RE: return document name as null Please help


Hi,=20

> From: Amaresh Kumar Yadav [mailto:Amaresh.Yadav@niit.com]=20

>        when i search for a particular text by lucene search=20
> engine. I get correct number of document for that word but=20
> its document name and summary is return as null.=20

Are your document's name and summary Stored (Store.YES)?=20

Pasha Bizhan
=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

----------------------------------------------------------------------
DISCLAIMER

This email and any files transmitted with it are confidential and are solely=
 for the use of the individual or entity to which it is addressed. Any use, =
distribution, copying or disclosure by any other person is strictly prohibit=
ed. If you receive this transmission in error, please notify the sender by r=
eply email and then destroy the message. Opinions, conclusions and other inf=
ormation in this message that do not relate to official business of the comp=
any shall be understood to be neither given nor endorsed by NIIT Ltd. or NII=
T Technologies Ltd. Any information contained in this email, when addressed =
to Clients is subject to the terms and conditions in governing client contra=
ct.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20982-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 10:41:07 2006
Return-Path: <java-user-return-20982-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45654 invoked from network); 30 May 2006 10:41:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 10:41:06 -0000
Received: (qmail 28099 invoked by uid 500); 30 May 2006 10:41:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28066 invoked by uid 500); 30 May 2006 10:41:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27989 invoked by uid 99); 30 May 2006 10:40:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 03:40:59 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.93.125.162] (HELO cpanel37.gzo.com) (69.93.125.162)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 03:40:59 -0700
Received: from bizhan.fors.com ([213.234.218.76] helo=pb)
	by cpanel37.gzo.com with esmtpa (Exim 4.52)
	id 1Fl1eO-00085C-FK
	for java-user@lucene.apache.org; Tue, 30 May 2006 05:40:36 -0500
From: "Pasha Bizhan" <lucene-list@lucenedotnet.com>
To: <java-user@lucene.apache.org>
Subject: RE: return document name as null Please help
Date: Tue, 30 May 2006 14:48:25 +0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1506
In-Reply-To: <934F531A825AFF4F863658E2402E064707637CCC@ho-kkj-msg3.in.niit.com>
Thread-Index: AcaD1PQ0CfTRUzXORziKKvKrLpvWnQAAX+XQ
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - cpanel37.gzo.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - lucenedotnet.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060530104059.4BBAA10FB004@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi, 

> From: Amaresh Kumar Yadav [mailto:Amaresh.Yadav@niit.com] 
> 
> do we need some setting in any jsp or other file for document  ???

You need to specify Stored (Store.YES) attribute for a field during
indexing.

Pasha Bizhan


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20983-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 10:52:50 2006
Return-Path: <java-user-return-20983-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47793 invoked from network); 30 May 2006 10:52:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 10:52:49 -0000
Received: (qmail 37946 invoked by uid 500); 30 May 2006 10:52:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37199 invoked by uid 500); 30 May 2006 10:52:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37188 invoked by uid 99); 30 May 2006 10:52:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 03:52:43 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.200.76.18] (HELO mail4.niit.com) (203.200.76.18)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 03:52:43 -0700
Received: from 172.17.8.245 [172.17.8.245]
	by mail4.niit.com
	with XWall v3.33 ;
	Tue, 30 May 2006 16:22:18 +0530
Received: by ho-kkj-msg3.in.niit.com with Internet Mail Service (5.5.2657.72)
	id <LRJWXT7A>; Tue, 30 May 2006 16:22:16 +0530
From: Amaresh Kumar Yadav <Amaresh.Yadav@niit.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: RE: return document name as null Please help
Date: Tue, 30 May 2006 16:22:14 +0530
X-Assembled-By: XWall v3.33
X-Mailer: Internet Mail Service (5.5.2657.72)
Message-ID: <934F531A825AFF4F863658E2402E064707637DC5@ho-kkj-msg3.in.niit.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks Pasha,

do i need specify Store.YES on comond prompt ???

How, please make it more clear  ?????

Regards..

Amaresh

-----Original Message-----
From: Pasha Bizhan [mailto:lucene-list@lucenedotnet.com]
Sent: Tuesday, May 30, 2006 4:18 PM
To: java-user@lucene.apache.org
Subject: RE: return document name as null Please help


Hi,=20

> From: Amaresh Kumar Yadav [mailto:Amaresh.Yadav@niit.com]=20
>=20
> do we need some setting in any jsp or other file for document  ???

You need to specify Stored (Store.YES) attribute for a field during
indexing.

Pasha Bizhan


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

----------------------------------------------------------------------
DISCLAIMER

This email and any files transmitted with it are confidential and are solely=
 for the use of the individual or entity to which it is addressed. Any use, =
distribution, copying or disclosure by any other person is strictly prohibit=
ed. If you receive this transmission in error, please notify the sender by r=
eply email and then destroy the message. Opinions, conclusions and other inf=
ormation in this message that do not relate to official business of the comp=
any shall be understood to be neither given nor endorsed by NIIT Ltd. or NII=
T Technologies Ltd. Any information contained in this email, when addressed =
to Clients is subject to the terms and conditions in governing client contra=
ct.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20984-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 11:38:15 2006
Return-Path: <java-user-return-20984-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62375 invoked from network); 30 May 2006 11:38:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 11:38:15 -0000
Received: (qmail 4695 invoked by uid 500); 30 May 2006 11:38:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3826 invoked by uid 500); 30 May 2006 11:38:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3815 invoked by uid 99); 30 May 2006 11:38:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 04:38:09 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.93.125.162] (HELO cpanel37.gzo.com) (69.93.125.162)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 04:38:08 -0700
Received: from bizhan.fors.com ([213.234.218.76] helo=pb)
	by cpanel37.gzo.com with esmtpa (Exim 4.52)
	id 1Fl2Xh-0006PS-OQ
	for java-user@lucene.apache.org; Tue, 30 May 2006 06:37:46 -0500
From: "Pasha Bizhan" <lucene-list@lucenedotnet.com>
To: <java-user@lucene.apache.org>
Subject: RE: return document name as null Please help
Date: Tue, 30 May 2006 15:45:35 +0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1506
In-Reply-To: <934F531A825AFF4F863658E2402E064707637DC5@ho-kkj-msg3.in.niit.com>
Thread-Index: AcaD1y4Gh1Ka/rstQPCkR+91KKsfQAABuSzA
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - cpanel37.gzo.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - lucenedotnet.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060530113808.E63A410FB009@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi, 

> From: Amaresh Kumar Yadav [mailto:Amaresh.Yadav@niit.com] 
> 
> do i need specify Store.YES on comond prompt ???
> 
> How, please make it more clear  ?????

Your source code for indexing contains something like this:
---------------------------------------------
    doc.add(new Field(filedName,  fieldValue, Field.Store.YES,
Field.Index.UN_TOKENIZED));
---------------------------------------------

Or
Could you please provide your source code? How do you index your data?

Pasha Bizhan


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20985-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 12:39:14 2006
Return-Path: <java-user-return-20985-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86390 invoked from network); 30 May 2006 12:39:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 12:39:14 -0000
Received: (qmail 18506 invoked by uid 500); 30 May 2006 12:39:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18478 invoked by uid 500); 30 May 2006 12:39:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18467 invoked by uid 99); 30 May 2006 12:39:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 05:39:04 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=MIME_BOUND_NEXTPART
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.200.76.18] (HELO mail4.niit.com) (203.200.76.18)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 05:39:02 -0700
Received: from 172.17.8.245 [172.17.8.245]
	by mail4.niit.com
	with XWall v3.33 ;
	Tue, 30 May 2006 18:08:36 +0530
Received: by ho-kkj-msg3.in.niit.com with Internet Mail Service (5.5.2657.72)
	id <L9CJ965P>; Tue, 30 May 2006 18:08:34 +0530
From: Amaresh Kumar Yadav <Amaresh.Yadav@niit.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: RE: return document name as null Please help
Date: Tue, 30 May 2006 18:08:33 +0530
X-Assembled-By: XWall v3.33
X-Mailer: Internet Mail Service (5.5.2657.72)
Message-ID: <934F531A825AFF4F863658E2402E064707659856@ho-kkj-msg3.in.niit.com>
Mime-Version: 1.0
Content-Type: multipart/mixed;
	boundary="_NextPart_1_qmZrHLajoetbkwlTZTViemHPfyb"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--_NextPart_1_qmZrHLajoetbkwlTZTViemHPfyb
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Dear Pasha,

I am using attached source code for indexing on windows plateform.
after compiling and making war file, build folder is created which contains
two jar files lucene-core-1.9.2-dev and  lucene-demos-1.9.2-dev
then  i set class path to lucene-core-1.9.2-dev and lucene-demos-1.9.2-dev
after setting class path i used "java org.apache.lucene.demo.IndexFiles
C:\workspace1\lucene\src" command on dos prompt for indexing

after indexing i deploy the war file on my server . and then access
http://172.17.24.81:8181/luceneweb/index.jsp   which search keyword and
return null file name link.

Regards..

Amaresh


-----Original Message-----
From: Pasha Bizhan [mailto:lucene-list@lucenedotnet.com]
Sent: Tuesday, May 30, 2006 5:16 PM
To: java-user@lucene.apache.org
Subject: RE: return document name as null Please help


Hi,=20

> From: Amaresh Kumar Yadav [mailto:Amaresh.Yadav@niit.com]=20
>=20
> do i need specify Store.YES on comond prompt ???
>=20
> How, please make it more clear  ?????

Your source code for indexing contains something like this:
---------------------------------------------
=20   doc.add(new Field(filedName,  fieldValue, Field.Store.YES,
Field.Index.UN_TOKENIZED));
---------------------------------------------

Or
Could you please provide your source code? How do you index your data?

Pasha Bizhan


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

----------------------------------------------------------------------
DISCLAIMER

This email and any files transmitted with it are confidential and are solely=
 for the use of the individual or entity to which it is addressed. Any use, =
distribution, copying or disclosure by any other person is strictly prohibit=
ed. If you receive this transmission in error, please notify the sender by r=
eply email and then destroy the message. Opinions, conclusions and other inf=
ormation in this message that do not relate to official business of the comp=
any shall be understood to be neither given nor endorsed by NIIT Ltd. or NII=
T Technologies Ltd. Any information contained in this email, when addressed =
to Clients is subject to the terms and conditions in governing client contra=
ct.


--_NextPart_1_qmZrHLajoetbkwlTZTViemHPfyb
Content-Type: application/x-zip; name="demo.zip"
Content-Disposition: attachment; filename="demo.zip"
Content-Transfer-Encoding: base64

UEsDBBQAAAAIAFMNXDR198qVkgMAAOkHAAAVAAAAZGVtby9EZWxldGVGaWxlcy5qYXZhrVXbjts2
EH1efcVAT/LaldygT+u4gLveRY0mXmDlTRAkQUFLY5mtRCoktbYR+N87Q8m3XJA8VDAsiZzLmTOH
o1pk/4oCQZsiFrXI1hiXTYYK4xwrPQqC5Po6gGu41fXOyGLt4MVw+Bss1ggTbw6pXrmNMAj3ulG5
cFIrcmCfV5ICWcyB1tGAO/l0OwN4g8aSA7yIhxCxQdhthb0Rh9jpBiqxA6UdNBYphrSwkiUCbjOs
HUgFma7qUgqVIWykW/s8XZSYY7zrYuilE2QuyKGmt9W5IQjXgeZr7Vx9kySbzebACdGTlK2pTV7N
bu/m6d0vBLpzelIlWgsGPzXSUMHLHYiaQGViSVBLsSF+QRQGac9pBr0x0klVDMB29HGYXFpn5LJx
F5wdIFLl5wbEmlAQTlKYpSH8MUln6YCDvJ0t/nx4WsDbyePjZL6Y3aXw8Ai3D/PpbDF7mNPbPUzm
7+Cv2Xw6ACTGKA9ua8MVEEzJbGLuqUsRLyCsdAvJ1pjJlcyoNFU0rJ9CP6NRVBHUaCppuauWAOYc
ppSVdF4Z9uu6OFESBJRWG/cNHVqnDcZT4jWjp93oR5b36c/YSoKxjWf8/4iCIP3QdkF1jYIk+Skz
f25giiU6pLbprKlQOZKu0RW3zdsSC8LRpld3plUnT0cRYuakbpYkIchKQZ1pY92T9C18DgDoVxv5
LByeb0U9+LyH711JApZaRNZ0RinA/4CRULQoLTc4g2ctczptUkUpKVUV7z+CMIXtecwA7SIdZdbM
GMJ/xLP4zuyJzyt+2Sj5qcG/Oe/v4cjHkiuIOHZcoiro3I/HMDzkoUw767CK0ZiYeFKuVFH4xGlv
IIR+i6A3+sJ4K130a7e69//O7I4hj7qic3h4GsOZ3uIC3fElCj2B4QBWorSnXGeao4Hhb+PzxVjX
qKJjBvLrHFlZnniyV7jx71FYC7emHEzE++HHYxaqGHJPYE7mbZ64XYg4xilsV7tu3ImogyczdXju
B3B1dUVLJ6V0euCOsuVlXBKbVggZKYnq112cM28akjQGpGGsNDtECTK/OThfdw88cSIuRlIZwxHd
Xh6qqcR2qrOoR4v9/qnx367Ii4mBHvK33wrZ1iiPvMEXXJ129jylLkyyUluMjgbHlp02WiERBy5b
Q3TnP1n8ucOvdHoBlhwa/tQKDw5ZVrc8BOh09wPfhA+qxV/R0D5q2hu+blei3pmM98E++A9QSwME
FAAAAAgATb5UNAY6MZFRBAAAFwoAABYAAABkZW1vL0ZpbGVEb2N1bWVudC5qYXZhpVZRb+M2DH5e
fgWRl0sK1ykOe7rkCmRtihnXpkOd7tC9DIpNx1pty5PkplnR/z5Stpym1+IOW15iS9RH8uNHyrVI
7sUGQelNKGqR5BgWTYIVhimWajoYTI6OBnAEZ6reabnJLXw8OfkZVjnC3JlDrDK7FRrhQjVVKqxU
FR3gM5eSgAymQOuowe7PdDsB/I7a0AH4GJ7AiA2G3dZwPGWInWqgFDuolIXGIGFIA5ksEPAxwdqC
rCBRZV1IUSUIW2lz56dDCRnjrsNQayvIXNCBmt6yl4YgbBc0/3Jr60+TyXa79ZwQPZOiNTWTy+hs
sYwXxxR0d+i2KtAY0Ph3IzUlvN6BqCmoRKwp1EJsiV8QG420ZxUHvdXSymoTgOnoY5hUGqvlurEH
nPkQKfOXBsSaqGA4jyGKh/DLPI7igEG+Rqtfr29X8HV+czNfrqJFDNc3cHa9PI9W0fWS3i5gvryD
L9HyPAAkxsgPPtaaM6AwJbOJqaMuRjwIIVNtSKbGRGYyodSqTcP62agH1BVlBDXqUhquqqEAU4Yp
ZCmtU4b5Ni92NBkMyK3SFv4SDyKUKrygGk/fWrxBQQDT/sAbwlVJU2Jlw3NhcaVUYaY/Ytw9/Ijt
hcQibXsD5tBYWUi7c+SU4p45uHQHwGOSZLUqSXmcQOjSrZs1yQOSQhDrvOxt4WkAwMBX4h6JQfBe
HX4HMWCVzupT98+92BvlwhC5JDTqEgrSfGpNm6K1nRXydJaoFE9rYfPZxD0eHyeq4t7g0LkyvFeJ
En2TcMMFIDgaYxUJPHBgTWXVPVbyH1Jj1lJy6KNUKakE0/f8UPIWvBHQ7DjwSA4dnmjB2X+iUdi2
v2bCbVKq2efhu5UPc1sWw9P+fTYRp9NWlgeRcmBcqPcizZqiAG/0LS0OrVXmSyao0ABdpQ03QNJL
on8YcUEhG7sD9KPiqa05kPxSWTdbF27k8bh8GvwE7sBkwpIjqqDCLXVzWZMQPQ3OondIq/CZzfau
acZ6lHma9qV/VYS+ACyJFIZsMgwBbnlsdls2F5YHlIeT1OWPZDySIQneoNBJzrNwHABNL4ql+mDB
q6dzxjiSJAVbpVPTapyCDkWajjhs13Wj1n0AWbhB+xs9jwjTbYUxazO8W8R+IeIowtvln6vrL4tl
9MfifPxGyt9T4WH23tAz4NFeM/EfGdgT+F0i+kgCrx3Y697Kkp5iui2qzSgLOcerzp4J2xveoFFF
w6oKr6Ll7Wox3sP9L1rf6ha+/F7x6c2Yz9hdK3R3dr0UeEyjWl4Zx+KjPcAksvdziFrbU98SzV8O
7dAKPRr1E7Z4+wuFb0BMrDkIdY18VbsLb2cslh/oBsZMNIUFrGhQELc9aJQ5SDJhj44AQfJoC89j
hMe3uzcFTZJcaJFY+vihTxaaLJmQxbt17hkKoF31MY+y8UviNdpGt+EeTIBundZ4Kj2zfa3lA+v8
5cUzGsPT8+DZHRn8C1BLAwQKAAAAAADRVb40AAAAAAAAAAAAAAAACgAAAGRlbW8vaHRtbC9QSwME
FAAAAAgATL5UNLEM40QiCgAAcyEAABcAAABkZW1vL2h0bWwvRW50aXRpZXMuamF2YX1Z23LbOBJ9
jr4C66lKpMQjS5RsU+vNg+JoNqqZtVOxvTPZqTxAJCQhw1sA0rKzk3/fxoUgu51ZV/kiHvblNLob
aLjiyR98J1ipdmNe8WQvxlmTiEKMU5GX432dZxeDwcnLlwP2kl2W1aOSu33Noslkzm73gi2tDLsp
t/WBK8F+Kpsi5bUsCxAwMr9I0KZFyuC5UKzuZDxyzP4tlAYBFo0nbGheOPLQ0ejCqHgsG5bzR1aU
NWu0AB1Ss63MBBMPiahqJguWlHmVSV4kgh1kvbd2vJax0fHR6yg3NYfXOQhU8Gnbf5Hx2jttvvZ1
Xf395ORwOLSBgRidZO5VffLL+nJ1dbP6EZz2QndFJrRmSnxppALCm0fGK3Aq4RtwNeMHCDLjOyUA
q0vj9EHJWha7Y6Z9+IyaVOpayU1To5i1LgLz/gsQNV6wo+UNW98csTfLm/XNsVHy6/r23fXdLft1
+eHD8up2vbph1x/Y5fXV2/Xt+voKPv3Ellcf2c/rq7fHTEDEwI54qJRhAG5KE02R2tDdCIFc2JbO
JV2JRG5lAtSKXWOSaFfeC1UAI1YJlUttVlWDg6lRk8lc1jYz9FNextDJYABmS1Wzz/yej5taZuOX
kHxVs4EgsiTj4NuqqCFmQrP/DhjTRl8CqVDwjL3jel/bUKciKY3+16wQh+75cDaZmITCYjcQy2L3
+yfGRNEX888nD9PJ5BN48V0xb2roPwnj3OPI+saY3LKhezJO9lwt6/ZTJopdvR+OfpyO2OvX7MXF
ixFjJyeQOTkEkNWKy8yo0yKXSZmZUrJfThz883p0s9HW8HByzJ7qvvgLL7zVH160jsJLRW3oQehf
s+ii91DxVD7Aw+kkPH2iL3L6fnvB/vyTfRd6sKaeWQuvXl0MngW1Z63ab/73JQjypIZlSNjrwTOz
EuHRcGjUjtZFLXZCjSuutIAPwyfhsIZGx8770ai1oUTdKGgV47p0Czb00DcmMkjsNhp+NTU46Fd2
5FNqvBOtuVE/IJr9DbKmybIRcHNWdItb1f7h0ZE3ODDf8MPn9vdSy6Vjm1o6ZBWsiltkcE+H9XZ6
3ctvmu0WArhxv/rp7JChl3/JIi9nSnpoNEt4fXIBv/7hjcDfr151iWIWwKwMWPZLLLtAgPxnEzP4
Y5T0w/MZ1NlCYs+ft2X2++dPIWgmOZy30GorUaTD7qXRxbNntjr2HGqDs4Ln0PcsDoSonKmlkFIu
9J0D8eQ7lhJjwFkwe8vy5nK9Zvc8awRW80Tw6PkPR1i2aHKhYBn/yjkXGPDv/zk96H76pPEv46T9
9qQj3ZcyZTxNcTM6tsti+bSr2OZy1bS5fMyG3ys0JzXqWe71FAu26zoKHcotmwU/hU5FHXZ+GF+P
nhcbXR0dw8fp2cSrd4CEzT0zyPRsigDYMGovESGgMmcPJzHDEo1SogBkejZHwKN9alWdImCj7jdc
WYkzBGiRtMbPEdDkWasqxsbhoOElFggoVbp1wDlmnvEvTWl5nGPmcADyNs4xc71/bAHMXIldC2Dm
OU+UN46Zp50EZl5ljc5tEM8xc91UkVcVU2DmAcycJ3B4sQRjzBz2O+WYx5g59HruVMURkUhTG5Vp
TNZcpNKlTzynXk29Kswc1iP3AGauwnrEmPkWymU6t8bjp0BkgcUTYGYlFiTbvzRCWx4LzHy5U9D4
LICZL9soTheY+TKRKrHuLjDzJZyoUieBmS/b5J0uMPOlKXunCjNfrjLpAcz8so37dIGZr1oe0QQz
X7U8oglmvmp5RBPMfNW6G00w83VnAzNfdzYw83VnAzNfdzYw89XtO1cf0QQzv2qjG00w8+vg1RQz
vw5eTTHz6+DVFDO/DjammPl1cHeKmdcyF9qpwsyvNZyn91YVZn7XuYuZ33XuYuZ3nbuY+V3wKsLM
PwZVEWYOU8uHK6sqIh3uq0+4KMLMeXA3wsx5ZwMz58HdCDPnIboRZs47Hpg5b+sjikiHE627M8w8
aesjmmHmIvCYYeYi8Jhh5iLwmGHmIrg7w8xlZwMzl50NzFx2NjBz2dnAzEW99/Uxx8yLEN05Zl4G
r+aYeRm8mmPmZfBqjpmXnQ3S24O7c8w8lffSS2DmZaiPOWbedO5i5k1w9xQzb4K7p5h5E7w6xcwf
O1WYeb0vVeFUkZNMpwoz3xalO2XMSRddZtXe7qkL0kveiNrttQvSS/7J89xLYBtvRVZ7AEd3VWkJ
8+vR8YL0kv90NnB0V/45ADi6t3svsiC9ZF22qkgv+RmO114CM/+F55vUIAvSS/7VONsAYOZXHYCZ
/yYDgJlf26OMYU56yftOAjP/sC89c9JLbuTOh520jFvu3VqQlnEXwk5axvu9bCUwwcsOwATf6wBQ
gmLnvSLNMuQVqcFNWHNSg7uQV6QG05BXpAZFIEhq8GuwQWpQhLwiNViHvCI1KENekRr8I+QVqcEs
5BWpwTykzylmXnQAZv4QsuQUMy9DXp1i5lWQIHOUCnlF5iht8sr0hgWZo3RIODJH1SHhyBzVhPUg
c1QV8orMUUkHYOZVSLgzyrxNODJH2RXUj3B2X5DJxLhld6MFmUwqee+NkHFi02Sujcb0cLAXWSbN
pBrTLb1ScMYyQjHdwN73ELKDZbLwCEkimBB05hCykAchhbIezMn4J3O+c9rmJP5KcM9nTsa5WvHU
y5AY8ExsbTjjU3Iiz7hyQ2N8SoaRpoeQCbSHYKZpD8Fe73sISZtWXXxGumS2bGXOSJE1PQTnh+oh
OEHSHoLt7DuErM+2VNxmT3xOxg+YXt3gDgj2TTxIO/UZBPsm8qp+9Aj2oOCbjDuEzA1Sy8LbIYND
ASejwsvg9SnavgEIqV1Vpq027IFu3KAMCNlzc1k02tkhm25WHrilCghZBZ7KxMk8qayy8h6QjUwW
25YP2cl4sWt9IzsWd5dDBqHVqEIMyIEy4VWQwdFJmg4hh2l/PWUQzNT8l0XMbQxIjmoZIkpaa1J6
QvE5udsxPa9yMSC17VqLkYnJsG3+N2VbHyCktnsy2INdD8Ex0M3Gex2TVdAhOjE5UBStECBnVJto
kScXSQEhd2jmVsrxIbt02U6+gJC8dl3UyJCdRKf+gi1e0Ogkwt0mxXRbUj2EdKRtVtrMihfkgk/1
ENph/WovJsQD1UNoZX11sYatlKxCBT3exAC2OZJVWbOxcQME5+heQLPyMphPKnnuZUidfml83Ggt
5j4LyHpmvkAY6aC78Jxce7S3TTOiqBQBIGfmhNtTEpuRU53uAJwvH9sBakaKqR3e2Dm5vmlnTXZO
J/bCX2nH9AZO5B2Ck7LeSycV02uwr4fis5Oht1pfDw4wCNaWqTwg5C4z6xC88EXq5l1AyLaS9xCS
etrfjMb0Fkn1EHJdvOkQkhZpQMiMp3oI9m3TQ7BvKd/thC0yejP0toc8aQ25reaY3l5k2l8Cx3Ts
Vx1CZ47GXWYz6HTGg4H5L8i3wf8AUEsDBBQAAAAIAEy+VDTG8NGQhRAAAIJPAAAZAAAAZGVtby9o
dG1sL0hUTUxQYXJzZXIuamF2Ye0ca1PbxvY7v2LjDxkpgLBFmvZiSC+lbksHUhqcZnozDKPIixHI
kiutQyjlv9+z74dWsklJZ25v9QHs3bNnz/uxkrz1DH2PC1wlBE/QN7c7PyYfkoODHfRtiYqSIDzJ
CCKXWY3yrMAR+mF8fHSSVDWuoiuARM+21uZJep1MMSqraZTAl0sc5YsUcEYTPCujSzLLh2tr2Wxe
VgTRRVFWRs+G1siCZHl0UpVzXJEM1wA/X7zPsxSleVLXxq4IVuV4hgtijh6URU0SOna3hpBYCiME
/mUFQadvjo/3X/96fjR69f34B7SH4n4f9kDolFRZMf1mcXEBqElGcgyTBb6xJgJ7eTh0F9aL2Syp
bpcvRc9QzJZrVtEMk2ScTOs9ulaPB8Y2KF1UFbB8zEH3ikWe+2dBEAQ+KgjKfI6LKbkE4vp05H1Z
5jgpOLMHJZUmoUxfJHmNTYCsGAt5eKYEJf7JU3LrX5dcEFy1LGNzp2A+1krBIS5zGD29rQmeRVNM
hJhugx6zyhrPEzDgsuoxob3GyQS0Ms/m+LCgShHCeFtlRIz/tCB0ZF5lH8Dw0fHtCQxODov5gsCW
OJmJ1eKLxiFXMHjAYi/4SX2TK4wl3JQ9W+GPoLNJjdyJO7pamXNzYRDeMQAEBgji4BaD0P2yZU3a
6yoNwcur8qZGhz+NPqZ4TrKysNFTIN8OUoMXwHDQhabCZFEVLJpE4PRZnrzPMax4uddgPTo5PBmd
nx7+ZyR3FLtuPXtGB56hf0/wvMIpC1tvamwEg+C7LMcGrhBMEgwnmbCFWzpAOEvQBfxR9NORVyX5
rlwUE8UJ4qxQDgLqrs5OAcPAhMSIFfsIIwa7ZR7lldEGOgTPrarFHBhy98suUCCtmRtWKEQKOLm1
g/LRkmtrC9Xz5KZA4Cw1JQioEFJBN5dUAAGpFiABpfbbIgVCi+x3PAkoz3qK02THkD/+sJwm4vYQ
qhXg6zB+PVQDN0lGgkE/lCP3a/qvtBW6Q0RKLsIgjOD/LGhI2AinIBERnGq/oNf+EbRH0DILCcn6
jPeUZ7m/j/mKtB3xBMkDkZOvH1XU/j2dLSVuCVhjcsRhG1UIgxT6AXDIOXKR12EULFgTwOpwNDSp
i6Bsqkj9NoMdATCkIqDD+LcFJOWg11PcaxflCDDkbHsK1rmeKnKzoXiPNbXbjdKgm54hGPsS5NAA
t5IzrbXcNBiYSK2lvIyANQZyQb+5ZgP13oy/2xy8+GbUc7cWCMz9eD0SWLQ5KASOMTN1YfGSfJa5
+Aw3b7kjB+OKXOZY1KsonPQqYa5maOAcKkV+KLMJSiaTcSkDgjQrqGNCQ3UNU991TV27qgBN5nOo
hAKGSXKzmqeavt3p+Ii2NdnF7T51ZO239w1/tZkFimw+O61W1MC2pwyNaeZ5cponuSbv1KEU5ZbE
GwJ6YmeIp08RHzHdFt0xdV9kRVZfQtXEAFYVmtsu0FDrsyzYgOA8Z3FQB+n6oeJn/0Tjsr7HRK6U
z1cJr4luqBNJgbAZfydhqVNUCIHmUeY/Gm9Vd2G3XRueRkuxYIMaDYMzKdY5ANpALDIZE8si5BPN
r2bHY2WOnfWQDlFG5HYMjUOJOZlqhGhVN/c16892EABLjFp1DNrRnas9BqPmLP0xOxNGIaQDBpzk
Mp8wUdFC/tsyXdBjAS0uFiDNCsUR37i8xpC+OHboRXB+PthhX/zlxE1G0ksUBFdX5wW53tvbHIRf
889BuMM/aOg0Ad89TatsDoEd4uuOOQ5Ce5XMsDX2LU7zxiA4HOVp4BuMrcG3ZTWxBkYFqPvWGmIy
tUZOFkWqSENI+6NV1UzwRbLIDThgNk8G7/pnoCD4PMWFs1KKUw5L9/4EGTqyQoj5rd7PvowTBm05
9LIY8goc/ANW0dFHQb+S6pAceSymPBaHxGDXFg/YwTQ0LjJQW1oWkKLxOaEuFVCQdmZEMiVRNkum
4PXeUyF+NXe3rbplfw60lAIGBi1jNMFpOcGKogeS5PiQlyIG85lEYnk1au59agVX99JZZuVd28LB
wBcOGuSAx+tZFql1NaviszZUs39q4OJtVktS4Pn9YblgsIFITHHqw8zDmSMPMvBpWIQpTrcsFPkY
daoBVy00ZkflDa4OQHGCx+wiYHXH29Pz0dHo+DQCvCTJijoQy0OkI6KhLUMu+qRWLBFV3+G0KCvM
9urtsuQPyZxWaNcYz8HRk/SaFgpZgXbHh+Oj0UuBTRcxHfiOR+P9VnR0UmKTp8EduE7Hvx6NWpGx
WYmNq6MDVzab9kTP48V2ePz9S1FeshwVP27K36+cdPVAJ4qX5dTY9ow2exR0KD/6NFZGTL4dwUXB
GE79sK30Zr8k+cIQnBz+eVESPGgZNzIpSCIGSUhERq7jxTC1HOiLlCs2bSfJSS9kMDF6Yh9UIR2l
e+96aB1AOBr42DszamTm0NqFnj416LOvAHXRUoDyevTwpXU96lz/w3h8sjn6+c3hL72wFYU108L3
XWO1czNKSsIT26wL5OI0SWIvurOnQ5KUeCgwO7jmRvdrzU+OUrokl/L9DUtYe4BE5A24/wmpNE4v
G1FJxaVtX1wyo5vGulKce+7DZ4e2lqQP/I2KSUvm53lcxwB//jdTvtWJPyR0ecOWt/qTQK1FWNt1
x87+WUqSh61DKWdDyo6MhYS/aEqYooOR+HwQxKFpQj6Sedw1aG4AHeRljRtgq11drN3bJ1+fnlHc
1LEioy1q5HBj8+jNi/JziYVeK/vrC7+/KguIHQsQS/3CiR0+Olh2QZdfy1huWAO9HmoR9GovHOi1
MvNd1hE3rMOL+nOKi16OldDLYyn0Etbypd9aBERHA8ev5W0cvyy1rrmfzKivMY6qqqyC3nFWs5t+
8s4SSQh7CojW9Be0u4btep1JgZ/sLE8InGSvjuWRkWCLF+Tbn7WB8Ffi3tzjj3ptVq81s1K+/mpZ
X7Ith//EWV+jefI5pdXW+A5E/pxcPP2Df49P6o1WkvW//vKDFKOm6oowj+qV7JDGPP7scM1PqMzc
89dmEBYASkLcjp/LBV6H/sRaRLIJ2cEqR8zwuHJqH3jP3W1vfK4ndKBtEwEjyzGUdmgwFA1sEG0y
Gi+TeuxI/YvPLPX4z0vde7xpS/2Lh0o9fojUY5/U/bX/wHOM1BVAloWPjntvxs2FTgdubG/cqrDy
6YvHzaeCPhD2J+e+gbf5NRX/YqkaNRmGSFvhfA2ueIpUnkxf8T6OPuD7MU9CLeU8AWJhaMi/1GRe
1pz8Ok0K/oXtxekg1S26kwH8CUBtA9ZwKOhLE5B3cFSW18klTianizTFdY1y+nSAyg7sUQAOz2jN
KUa6X/IBB/0NRt+wYUM+fuLPwk/8mPwMVueHSVIwIhovSnKj8wytnVvAza7Ss0AM2I87dFAWr0BZ
/FDKvAu8lDWewGXF93FSJFP6ID79cl6XiyrlT4Gzh/4PLpNKPMAFBGT0Sazzmn0faoyiiKd/NxAL
CGxSiIBaF48S5ihfow1qw7A0z2owRb2fFGoOJgWV0P4lf0BLcesRfo1nR/sevCK62EqDuXdnIhAh
/uAXHRo8P6Ow4hUHH/B53wCQEVFOibjObFwuFqAsqGu4xlKDiDN01/8Yp1/iDfVv0IcL/m9/JT7E
4r/8zgDUBAN9735gsAYQn6V/ntPP94p2W1Q//ngAvlpzCcTnFSlqQaycic9aVFJhqnqf3qRuUsTe
n/CZbiDfaTGf6a/Fo+cqjJn2KshyzTqoxSOAEGNkbjZdQSzzO03g7GGuFwsZuEzp3A1gZnOgBqYM
tM+/X5QVYuE4Y2PwbxcNnsP/9fVQWMO77MxA4FugNCGeANLL+TDHYOgo0HnPrDJe48MiIw+XdCQW
LpGsBPu7ytBjrK/5g7j/2OnntNNVhPyPibom2lYVKAk6xkZmf0cb+j+Ugp3PVVlmd0h0Pyi1Jt3t
Jl9c5hP2gZNLS9dADiHRNYRRAU2Zvq9KzEk2xxezmxDNSflFeukUk1cw3C14dsDGUFBG6MsNnCFO
ulTM+vpQfKfw6+tXrAx5iaCEcu7dyepEDj1ALxoPkgpBFJupr6EBI9rytO1GNCU1jahZ7Qo2QpRG
F1lVu88884vulRpi5lfbzQH90onW6r1l9bbGgQIuYSZg4R/srGMq3nn2nXcwW3RKa26a/BXORvso
X+BkYT9PimnEzkeha2xWqY3F1LFkoepOcnpa2zijCdNecadM7Mpokfe4A7OexinqNzdNO9OLhH03
9awxIacPbyxe7hyoeYNvZfwKw5oHz/KF96akeAug2TTch8cL4ARZJw36jApmjKc2xFe9JT1bAGcb
ahScCGXUIh5on4K1yWRyjqkVCQVT5W6gLPSQLjljpv5EBpO2zp2epwBblNJ2A+FOwkyTL+46XzA7
b1vFhjEaIfMvjbV2LHXDRwcbY+VXIE78UfIijAF2sFr+r01h7phm4gvGDKMTgZmQXAFRli1T56JR
w6uI5N7i3OW6cTJiaY0ftO5pHYTuK5wCb6AEb2h6r4O2kJlrqBXeho990MC8XBJU69+O+AWnBAQN
wPjjHBekou8C86DqAnG5NM5MxLpbZ9LIIdykPIctNWGMyg3ZAU2/f+bBBGmCHSoZM/LAxXV4GdE3
2FojbFO9UCt7ucdLAfftMu3OfDe0Dg2FHfIlwe8U0Pr6mZUlRTAVMUMgArvsW5ikzAzGFbQqG1qq
ESEKtwwxsPJS0SZYVyMyeMp8iD9mNaEqsJ5dZ5trCxgVUEhC3qeFIubItb1EWPyyCD0vxtFlUh+X
FR7pQZNOrn4oN6QAAjYSBpiZvlgVhCrNceXIBZH8VQ6TBjlqF1WKMfvVjHbB2sg8hZ5NChXzkz1H
8O4C1CJfeXkeOblf83+me3NkobvMrfYo6BMJa+sK3EXK2KBcSVs6AjdZ24YMi97jjrWJBo75q0gj
fmDA7jHaqkfd4RuUVnhWfsD7eW5YEgMTlgtmBJ2VFUHkzPZAmLtP1dsDR7UKC3ccQ09WucCi2UvL
lfVKMX/mmJsbBCXKzpZRYleFB28f5a0008QUniuO54ryF8N/13RlUmJn0RTdUxQMdnevwtCJTvwy
GHNZoldbn9HOXEPolCBT8C2xzEwNRkNlOh27rZ/55lawd5Nu07xFV3glC1yRXHS15Kad/gaSv17A
AhpYJ2wGczX+zQnzmrg6+x0HIcC2W6tvgSNKtQ+3XxFQvSF6nwR2KSzKBs8tbMbWhka+wSumQ/6q
1ZqvBmQpGRf052nO6csj7JcUGJktsJOsXgLsJHtbGTpsqBsR2lJ9wowdycnOfY78nfukNDMXDY2s
RX/p8URRIdDIGCXVtOuu65z39aZDyRv0meuI7F58f4ciEDeYPRmDAQ0EUOwFanosYlzP7YZQtmZz
VUubxnLlu+PToS1241d1ArwgM25St0ifwgoNSGpapM414rTbBlvIPTATclEycCXAx/l2MtxCGQg0
Q6pjCh1K7SHZ03J9I36vXcpDnIKYpx+SW048FYV6LIL3RoZR0FlqRJaYJJmwwdYWnWBivkyKSW64
rU627PkPDonkb4CVCxKBlgqSF4H5+0D0zS8AZVPQxGLEQhua4boGd+/C0ju9zuZzQBJFEX1kTYKK
fk8PMF+SX/iDom7XJWeVGRLVm6sn7TjM/dr92n8BUEsDBBQAAAAIAEy+VDStbJmQjwsAAFIkAAAX
AAAAZGVtby9odG1sL0hUTUxQYXJzZXIuamrlWW1z2kgS/mx+RUd7lRUJFjZ1dVVnAzliywkVjL1G
3mzWm3LJMGDFQuKkIcQbe3/7dffM6A1Msncfrq6OVEE00+/9dPeM3HzxogYv4Che3CfB7FZCa2/v
r+DdCugt/DH+jOKpXPmJgJN4GU18GcQRMhDPIBiLKBUTwHWRgMx59E4DfhZJigzQcvbAJgJLb1n1
QxJxHy9h7t9DFEtYpgJlBClMg1CA+DIWCwlBBON4vggDPxoLWAXylvVoKQ7J+KBlxDfSR3IfGRb4
NC0Sgi+10fS5lXJx0GyuVivHZ4OdOJk1Q0WaNgf9I3c4cnfRaM10GYUiTSER/1wGCTp8cw/+Ao0a
+zdoauivIE7AnyUC92RMRq+SQAbRrAGpDh+JmQSpTIKbpSzFzJiInhcJMGp+BFZvBP2RBa97o/6o
QULe9723Z5cevO9dXPSGXt8dwdkFHJ0Nj/te/2yITyfQG36Ad/3hcQMERgz1iC+LhDxAMwOKpphw
6EZClEyYxsqkdCHGwTQYo2vRbOnPBMzizyKJ0CNYiGQepJTVFA2ckJgwmAeSkZGu+0WKmrVaswlv
vdPBuZ+kInE+farV4oXi+FoDGHk9r38EHZj6YSoQGnB27vVP+7+6197ZO3d4fdob9t64F0ghkyUT
NJvH7uvLN9eDs7N3vbdu73jD3mbex1rtvHcxci+uX7tv+kM7t6teqyEe7shhRIQBR7hER4QzEfPY
uZXz8LBWwyDGiYRP/mffCWLnxWFpZSmD0DlPYgyVDESK9IvlDaIFxqGPScj1se96L6UIjhE7EkaX
p6e9iw/XA3f4xnuLdmNNohAME6Ijmr1eTqcU40Ai+DoQiVVpwy6zU6GVGdPlfO4n999mxdS2mD33
BeZC+p4/SzvEm6/bBTUwXiaJiOSpIu1EyzDcvHsURxL/m1GQ86GIZljlHdijlZs4DgXWATt7RJ1A
SFHEiSEIIk/HY8OWtmTz5kjeb+bzp1IkT7Dx3gjxUeLUHoo4xNXRfSrF3JkJqcN0b1thgEBKxcJP
fBkn3AThQvhUMotgIfoRJUUH4z22EL1+tpS0skiCzz66f3p/jouTfrRYSlQp/Lnm1g+5DMPB9Cil
zHCWPeUcBSaF1g3KxBfM2iSF6gahmSVkoF5ntuuKChCGGBSFG4DH72Fd9yJNxnVsNkm8SqF/5vLM
wKZSVkFET2kx+Zyi+/Y2UYmQyyTiAeVgjQchtX7k6HbWwuCc98/d6xE2r1zrI5Vvk2YtYFX9YyKw
H4996vOX2HfzjmCf4PAryKojQBFG/oQZm7XM8AoLD83MfloZxpInduYJKFfIA5uKt6LJZgkcKDZW
69GQRhRzfW2MUQP6WMdJslygQ1V9wRRsg20Fs7oOKcpU2EcQ7OCH+jaOHn8VARZISmpRl/YdVrfk
pk0tvA5Zgu+jMZoTBb+LiU2e0dYOqSw3jIeHUoU4Kt31Guq8wYW7w9rOyg+kvb+nkWKwor5N8kmm
I2MVE7vu4O/cXgtZoVuii7r3pJsjV/v/iJyZGjpUm+A1UlPpfwZgeoo6al6pTlAZn/9h7DZrqSgx
vhrCVMiBol07BjClDjiSY9M3TBshndEiIJA27wCHRescPLckMn2P50xCTp2cpmU8KuNUtC2rbizM
i0gJEDg0y1vIV60lPRwLmdwAj6eBkOWxOh+x/22aTYcF8tJ0pMNOdfrYRaElVjXHkacgXNtf5GmA
demd7O7/7bVrVVVrAUV96kBgl2yriNAyPEa1Brcxn4eF2lFINhoVmUpkqVJowVSKxmWxqJUrWcY+
x8EE/MnEi00pG/zgeaFeyNEapttVTOflp0nxtoUnDpslGbO/rwi5XjdXMdC1M5je96gqsRYf12qw
7BcqL7u0FYn6YFlG/2Fhm6vJbKvRsu4mFUkWjVJw12LxrNy4nz8HtVIsRfjKmZ0GUZDe0mWVCJ6O
T/XUzfcnAw8pwhCof+V9NP12UPlHn/FfdjiQWfaUNxrfDl2hhXGTdzYfuklyIU163to5iMzwod6Y
HcXLd5TGhltJFtwyaeGsXNnUfBWCPPElNLEb3+pmz3KPc3dK6NkpAceCvI9we90pQUZt630zCHQ4
s8vOK76+HAASG1F5upi6kq9qxpgm2yvlzNzPs+pCGIGOya0fTUKRRcHO48G+K0owt6oY1eE9JZJh
ZBePZPVDxiZv8VsIPDXECUIgTfFWv02KNboLFgsU4jgOhcmQevGdwKmVL0zigjlYI2o2DhGnTGoX
eB+zQ4VzF0QTeNYBDLEbTTKax8LbCHd4XH4XUePA0NJxPF7OEVubAXNQI2xkhj7WlH0S7/gKNDao
ijCfr8W7LSdF1+cDyM6xGIeGdgshtgWySAveQjgaJ8HiO+hkp/0+TibdTLNuudIJ5pg7zOzahbzI
60ZYCvfdMi8v4kHcmYhxPBGZrG8JO19GY9n9NwxpM9S7eZyzSn+aq/4C2u7ZSZeT9gh4LRzfgs0o
2FgE1UoRGk2MJYaMCva3kLLfANmicszfhfTnhbcdj0ws9zttlDf05+gWw8nMQLVIedxXkcE6HMQr
kRz5qTkmBlObW+/70bU7cE9HzhibpI93Wluz1yHvbIVgZU0CCm92NIseaP1ZFCeCdVltboNYtlT8
d0IsEFv++I56ZRBB2+t7A7erpeV9fIu8U9frPSmONo008/Zoi6yR92HgPimMd400Ff8tsoL5DCWp
Abwuq3/6pltTcbMpb71E5Y2k2/TkskSlzZatDi797IdLjHh+6vM/C+gNPB7NJBWFkkUqRyZVegqR
vXjQyACwbrEfSqvONC1qf8Xrmco4l5Z1ZcFLJFFi8L/Wx2xU4W3LzrP2/HkNLbVhm84IfbboJlJj
p7aRvvW88133p8v+z1adqPlyVjV3Bw9DO5WXmsbWKuZ3yNzKiUELIrEbjgtGTR5b2CmeY0jmozlI
VYOxzbexUlAIf22zP+Y17H/JJ9MGX9XMd53ek7XVqOxSV1MdK0druZFlJy7dsRj4TGka8ROfr9ml
lHrxA2R/S7BbBFIS89MylmK/C+2jME6FefqWoCInmqP+S0hfE/S9JrRKnK0/YUIrN6G1ZkJrzQR6
PaPiqg8CG04XHGPaVlPBhqzT4AgsZElZoZsOzzmT001aeXSVjhWoWqmz23p9n7UZIvRmX8nVKyh7
v4txeyjytKo8rSpPC3nM7CweVzL9bbU6ohsxS9NUHE6SpZ4NXGv8hycduTYUmPFc3U750YIunrLp
vQkOEV6hpIEetQeAhBbYVtOqv4Irq2ftWr9aDcvH39+tj6qbc8RxOxeE3CzF5OaApYD1DL/+nBQW
Y4LO1jzb3S3abPaKhC1FSGRQJWwpkXTEO2DAYhQHrkeIUb/2lfUSbWtaH+svaXF4edpFm3+z0NCH
fGToj+K5Qkca1o9IYWTZ1l8oYoa7gf8c2uZnFNxlK35AamVFNSgNaw9//44smhIZDWVl5637S3mn
wbJOtKwpUzKpOpsesNPWc4tcraQCLbOtQ7L8gSmsH5CKjd60c2X9gqxfOINoRYGmblTyQYrNs9uj
827u+ehcGY1CAIX8Jukroa8oN5jPv0z3xxUu0rngHZ826O/zoZ9KB6Av6U/Wvjqv7vph6BD020VE
d4ELoVwHVDQo2v7jCrHZsLo63wRU/O5a2tCsogjDTVMzRa4XihqBduye9C4HXkE/QriiXCOdk/DH
Bt8bVoflEpwajLp6FXRb+cgeZXnW8tDyDtfCAfTo7K9WTZmza/ghJ9DxTleTFp0psK27w1324E+4
s7PdD+1DqQ2UItqArfaomYZO/4jdJhejlk1k1NRBIjSpStTaqm70rn9utJlrVrfAYUZqyax88upA
/chwU4kqTOKD0sh+KgZmZK6raBVUcLDXdbQOSjN5TYdRkk+68hQpDj2tadfUzq6pmsIcJHBZu7tP
lkg+HZ/U09J6ukWH8ql5oNFblv8vUEsDBBQAAAAIAEy+VDQq5gT5MwIAAOYFAAAiAAAAZGVtby9o
dG1sL0hUTUxQYXJzZXJDb25zdGFudHMuamF2YXVTYW/aMBD9nl/h8WVSNdISKIUWKjGatptoxwRd
J4198IKBjMRmiTO1qvrfd3Zi+0gZn3jP7053l/eOj8gN4yyjki3Jx+fzz/QvHY/PyZUgXEjClrEk
chPnJIk588nt/G4ypVnOsrHguaRc5v5vKCFHx96ORlu6ZkRka58C2DA/KSJo7i9ZKvyNTJMLz9sV
v5I4IjGXLFvRiB1qSV48jygJCb9ckyE5uajgLMrinZxJmkmgW4ae0/U9TRlQgaGuWJRUXNtwY5Gm
jMsWcJ0aFwB3arhHkS0Bdw2ehHOAZwbeP9wB7Bl4G34H2Dcw5DKWz2o6N/VO7QmMHXg2VdAOOy14
pBeyo5aLztmTpjv7dMjVeC077ygz67e6iAv/FDTJFWtHh0NVxT0k/EaTQlf3Efm1EJKpUwUndVYd
K7C7lMJq1MAdOxE5c006e/LAyE/fynV3u0f1fZRe9zmrPcA6mu8dKNCd+m8LFN+GrYxVwuvRw2SO
ffYYg+d5eW1stJKHK2KrjVZgZXvs9r7WXqBzgN93neaRR7sHX4LSivA0k1nM1z9+Eim2jH9KVfaG
EB0Cv8YAknPZ+FCCRWOQ610WDUMNqsxYzcAkBle9azZdicKogUqJq4aMOAAJcQDy4UCZDod1NBCc
uv86FOjJJqLOwRd1VJUFtMRwf+m6WpsfyReLxXu8M+AG6qBvTcSKbGMIUhC4Xi4HjkMhqAmD/wlR
R+x9NGGzeYkGwn5HIiN5Bau8ev8AUEsDBBQAAAAIAEy+VDQpdyCB2BEAABqtAAAlAAAAZGVtby9o
dG1sL0hUTUxQYXJzZXJUb2tlbk1hbmFnZXIuamF2Ye0daXPbNva7fwWqD6lUyyoPibKjJDup47TZ
Kmk29nZ3JvZkaImyadOkl6ISZ13/98VFEiAB8NBleYXxIeF8Fx7eewTAn38Cvzq+E9qRMwa/fH/+
d/urfXj4HLwJgB9EwBm7EYgu3SnwXN/pgN9O3g8/2uHUCU+Ca8d/b/v2hRN2rmAr8NPPO7f26Bpm
gCC86Njwy6XT8WYj2H9n7NwEncvoxhvsuDe3QRgB1KbjBp2f+JxZ5Hqdj2Fw64SR60wHOzu3s3PP
HYGRZ0+nEgAA7MFzbhw/YmscBv40smHezv0OALSbZNyPoetHx1Ho2Ddg7JzPLujnl+D4+zRybjrB
LBow7b4G7hhMnehNWrcp7GvaAveZHsfTAXjYuQ3dr5DOYOL6tgdgC3B1dRwFt7Ca618M3QiywXsz
sb9oTVR4G0zbwAv8C2CPIvero7UwHmD6zY1Gl6AJy1voO86EaWRPHaA9p99gcieg2aRtwTOg3ZnG
sAV+eAm0YSutBVPoRLPQB4Y22Mnm7ekDtntd1b2o93tuINTk6urGhvA744/BFFXXeVj4BjAl9X93
/TGkpTGQ1kA9wg75Cg9CVNlemBp5kmlqkvUKSWbMR7IC9DO4Z0pjKE0xtmKAzVUCbC4A4O4qAe4u
AODeKgHuzQfw2JnYMy8Cz2V1HnZkms0Oow+F2ox2dnX1PvjqkOpSrYj7iJu3UZdgF+qPgRSC4PZ1
BKmQAoA+XEOq0cGzlERFA66A0BC2HTDA0oHl4xLM/+VGl/Bz5ExZGsQgkE9TVF4Tmij8Dlea0Sw8
vLRDmO/6t7PoyxQvOh34Z4zym60B4e8IdZGsWO/+OLobObeRG/jAQQtWBjXSRsAcDHAx7VGDLAc1
2Jxbw5oU9vwyZml5eRN3qsNOycpWLLEsHrreBlpLKcGy4QRSvEhWULCls0BL50CMMsUvnpCgmMCm
WsuLVj21EsqoGcWanNc2YlIbEFcKFGTVna6lLCa2iN4rKySZrtTCcg75dZ1SMumYUWgcC8oLjxEL
T+CNNaE2xJxIWfES12y1wEuWFxKIcNUBWLU46lJxNMqLY7c0K80CqTg4qNnT3EKh1xMKc3lCoa9N
KAypUJg1hSKno3S1Zc4u/2YbdBM4AMtMkOiSblmx6S5YbIx6YtNdntgYaxMbUyo23fJio2ullUlv
wbw06/GytzxemmvjZVfKy14FXupGWV5aC+Zltx4vreXxsrs2XvakvLSq8NKq6vcCASE4r8pqA7jI
GaZUu9fjfU/FexwIvLo6vHRG1x9ej8fNrB9HolxhMPPH08+44AxhRrM4wlxd4fJjJ/p8deU73zBi
h360u3sGWYrLBklVvsekQ4qKBEwIIKFWDGYYEc/TSbzgcVASHpR1F5HuPuOuzsjg4Nul6zmgifN2
dxG2qPti2p18C3joIkdnHGMj8YxTapNKhOG5fKPEmJXIkfYvQL41J/ZZSATYSkdVV0K++RmGAJHF
HVEAkDb6fAbbnrvRn85IgzzFI2p32rCd/J1kkjhz52EgVYpp2AdDc0xiBug71A4fUdyaTBQ/gtCk
sA9oJmk1fR1B+DSKLSOMKOS1n9R1E/eSEV6NTh86dlL5qo2jKqjfuz7FBBdOghA0BwNucqJ5vLtL
ZxlWz0kbRkd9ct75bvQJz81moodQ21g3vwBWN25wnzbES4OHoB+CFy9iTc4osvdIZw+D4PY5lMk0
m+kCJFqXwX1vzz0riKmTwDQbY0kSCzhE2TRbgkqgSFMYmXAASY4Hh80M0O1LB0gF3NBbov44TZ8k
utjIkEPRoslEY9IQrj+ecPFJklBl9eHKI4QrwbOJ3BSYDKt4lByTSELdYJF9BXGSQAcTlWpdF8ED
eGrqmhDqBxUmDMcsrZhIlEJaIYVYUduX9pv2CO3ZXvkerVrCK6RhPdEpZqoMRJDw1CpmKSUOsobK
81Yxe0pphgUSVzWRlzWPm2LJVIBiKEDpVYVDRSOzImBmDjASCqtMupcKkMXjg1LCrJLkvBij0Lxu
VuVOd0OxlU9aBbI9BbL7+4+Vr9CB1ftVUbXWuJArwOoXqUgIhdnd0Lm0r6C5oe1XI7hK0x1UXQ2k
K5PA1Kol9UpDqoQVpQI+r6dBblntHYBnz0Bs8clMrRhKrSoIUi3Jruy9EqunLjbDVGOrlNZyNHQ9
+gl1hN6rM5F0qfYqR2+lJdWvCoxqWj9+BuzXYoDUCFqwR6OyG1WG4wGOJ/Rt9HcMvyyI8Iaa7vlN
dCBjHFemtCHVbgmWE2fzsSylQBcZNFEBo7KNliRYMtQoyYWuC0fyygagITW1lidYK8UyeUYhKmc8
dxpobrrI4IpDpMk4ccVcIOQF0I0ktHKfdpeJPyb1nwGtz4G/+jgkyVe5/iQQ62j0/1r1iXJOC9uo
Fqw81oXu7XKIsUb3VhW5eMzI1vO2dJV9sBx0F2mXGbVwVil1nRqhegUvk/FM9isDozKM+w6Bov8Y
aV/LJhbYowUW3PrMLZXPuJypUW/pV64BQu1Rza4rsISehtlCP96nbfEDXgOCzlond5NJC7x6xSll
YswYj8CaqTy5msnj+M+ucYaE2NhIz6iy0C4F8Q2eAgkWP4i2GjDiJj0okikme+/JlgumnJIiswMC
pIDs7vJtMLPQPgtOuWFeNafpVg1jH+yBZnarRoJui+EM3XTFD1NtRxtA8lXmSAsdhLSqctZD+9KL
z6vkDpD0mvT8iLw7Um2Zm2CSqts9MDW1tcrFpGie0/+TIjM0NwJJrFKWBXpBqpiFMSDA66j59m+I
n0qVgL54q4LY0lnU5gM5T+Z50iOmeDG5t7EcPknmk5ylG0L/PLE3zyitwpblmaQy7bcBgrDxptnm
WmbCIwn9WjdkzH+WXT1uzkrsy86y96ufZc+dfmBgQR+Q6GzkmfL+fGfK+6XPlAuPEqWnBLU2MFMN
U+YUeR+1KXGIPJWcJXkCelJ16wnUXCJVVmdibtK0CKtTuPNJHUessNnn/9wMVdqbm0b5PJk3zwBd
saV5UGBpbpIIbLrpqT+1oGBXGhTslgsKdrdBwQ0PCsbYLiQoKHtiAVJ9JXxqARYaFBSqzBLQy7a4
gxT6blnA5goK5ngyl3lW+JxoGxRcalDwkdM/T+xtUDCXSplqBc9rH7MgbIOCjysoaK4pKKgeN2cl
mrKgoLmAoKD5RIKC5nxBQbNsUNAU3vvFBQWZywdIE+ENc3yTanFEs0Ic0Vym82AmVbfOwxLiiJIj
GfNcCSGLdIB0O6kw2AH4RVR8v4bSeVjs3RaGbMMaSE0B4aY1wCMiPpxV0dlQOYA0FrzoAydSRiq5
WMxC1YY9BZaLPEor5lsx07a+FJ8k6kUtsWsRr62/BfhUi3VL8bc2WRA23d8yn5i/ZS3pNSXx8Z9h
5RchZE7E834cSYzU5Ypz87E+aKglL2eweoGWKEIH5EQ381CKN3OqYj+/I6wWiJzbY8kcYWsBjrD1
RBxhaz5H2CrrCJe/gV2HnbIzoVh+WGzqvnbBWu9rF6zFvHahPJUNOCRznXEpcqeLLC9LzASt/eYC
azm3Gltre3OBtZg3F3C7yqqsF4AjRxw8MtrA4M6vcoZTPZ6XfDFBqsGXFF3aPpqmaXmPpseTNC0g
KCO7mxWkzr3wEiKwyEfTXeG+8SVCXzFaVPRoWsCTucIpQpi3j6ZX9mj6kdM/T+zNC5U8jkfTMv2x
AYKwfTT9yDYN6tJNg3q5TYP6Us8PbE0zmpZjmtkTPi3gwV/xvjtduO8OzG2aNfnbrrF7sz58RKBm
DEjF9Y4Jl0X3a1a9XFVlCEokYO5wvoxsSprVXaPI9ocFyjlAsDDXZ6HrjA6qAlTmRkbLYG/VLTiI
qle9h1F+KzHrxshfdKGSwso3JEv10GpnxNaxEGVLBWV981m6DYCRF12Xv+whGTq9lszMvG8xSVXV
ysJ6l14jxiEp24NScL1XRVjKXAmta/XuhK6quQpvscd0kQmlGpaqt55JL+FjYDmQPb5Wg1L1puwy
l0br0mVEDcv+OnUo/cjorG1wIJc2zvASIbg0m2sbqOBONz61TfTGmjbRq8fNRU0M2d4BYwF7B4wn
snfAmG/vgPFoNtETu0kXNxGwT0MvGmqD9A7LMnsTjAq78I1lRuOspOo2GFfTRljxLvzim/H0Em/x
ezq78MXvBir7wNeSvedSbVgLTwoK+xdiWYLNshdUgpTNQuu+4gNlVSR5Se+7kEqwUnwXfPxAbeVK
o3kyrihZMm88cYEiWidssfIjGlXe9rU9oiHKLjyisdIpuA0tAD7VYt1yQgsbLAib7s5bm+HNI8FO
XupPHA0EdOxqAPpafwM7XvAXvXgVvaYF/bfaoNcG+9DVaQP43WI+9PBn1JJ8N3EBftH/7NyDA3Lj
EocRDw0xpI7juxv7ggLQaLRB47TfPdUt81Tvwl/LONV7Ovyvwd8uLPZnnhf/xVW7+mmvB38ayfek
1g5buepf2FkvM95O47Tbx+N0jUbZXjBwp32rkWbhL0Uk8pw7zJoP9k3Knsabo7ev/zk8aRCaN5AL
6/rHo9C9jfi8E/sizng9gXQ++s/M9qZ8nX/MgsjRBXkGn3cY3Nw4fqQLc3FdCTKpnH0bUnRiTPbQ
e4+gnOEfKDjQ90ZZRb8a+WfiTwYWtl5aahAA6UemvkZg5IBDSwiGLgpOgmvHjyFDGuJ84oz6k6G6
1fG1e5s26pJtDZQYIaTiKHLG4Ni9ufUcNImP8ZzmJvggHzHAfWMXGzEdEg5nGvtnsrrxisXU7lln
LAgjpFkSf5ry6beT98OPdjh1Qoz8e9uHszBs5sAlgDI79rM1OoQ8bz37ItZ10WUYfMPQHIVhEDYb
R58+/fHpOTi0fT+IwAyuj3YsKMxQI8+eTgFciS9hsR/4e7QKnAnuCGIMQfS+/9cJOw2yiLCUxDqX
kPShHookHhPPuvi0yKU7bVIS4DGPsaFwEjSTisyAXwN3TAMgBYTMLFbZ5YMEeSDLmFlDV904R0UB
kA/DZGNTDKhxpSQGBdwBgZFGeqBw0/c3k8ASDg6hhdHYHwB3bw8aINog5n0svJ/dM7alVo1MQmbQ
JtXYkdQQdIjEOc4Cr16CffDXX0kd6DRoeYEmknQRxoKN/j0H7y78AKltCPVX24OjxiKLJyc0lBpg
N+14FzQ6gHyc+XBy+hfOuAO1KNd3592HP18P3735Mjz697vD18MvxyevT44I1oztzMuIlwjHww6j
AIh6u7p663oe/hwzmxQgicOfOhBDUs7ZWmTQqEMtKK6McCEiyN/g0uzK/plrcEY7c1EZMvRRq5d4
aWyBv/Hmz69OhLtotiAJ3Rva8ty5cP2h6ztZa+nCiX6Jy5ottvZh4M1ufFl9Upq0cPyxpPcjUsLW
lPZ8FJfR2tQuizBraOSX4RycHygzM8nTAk5DxFl4psVfUoWSySFsiicFYTkE8AO0/agwACwN8XML
BC6pNb11Rq7txasj4lFaSHvHXwa0ObE6CdQw6+iPt8jxwiF0JqJ8D8mBCQhNX/LpHstyKtIiWxiz
igKMKfqQNFKZxGn36QhZTyLZo8TihGWZmTFxHcrILPrQyEZ/0+cew0TXgMSNyXiMOThyvkl2oUh3
UyWklj2K0VKQsaLLHS1GATEeglfozYBxm/v4gwBQPY1KJf4e6wtmXOCl4qkzeOZgMFYDg6GCwVwN
DKYKhu5qYOiqYOitBoaeCgZrNTBYKhj6q4GhL4SBTldOIfwui76kKiCnQHaBDl4kTy9BmjidfW6P
rme3TQrrHo/NHmCDTjQ2Rn0x3mbAwT8UK2vSYB9fSkJ+rdxjrHsWrjKqnaLJeKsZ2wWNsMfG8flF
XNV0wAIjW0NwSiNojJ3HR0mrglkb0FHgR64/c+KlPAdlLE9w8XeQ2frFK2M6sQ1GZS2oxM4k7WwU
1QCpVQLTeRB4ju0jYI8dzOaJDUlIS0mkTRpfEwmunsbdsI0BxEaG3mK4kw4ehTMnJRgPNZ0SL+Ba
Cq3eRgMZuGLTl58izAOlH0/9H5HDwmWFP7Z4uU+5srs7yBck1Gf2aUsEMNMm6Y5RKT9Q5FkYJHRd
FF3o6DIPjQLUZidAmyFKm8OpzULTjimb9cxijwxHNTAcKMAKf/4HUEsDBBQAAAAIAEy+VDSY9LaI
EggAAOQYAAAdAAAAZGVtby9odG1sL1BhcnNlRXhjZXB0aW9uLmphdmGdWGtv48YV/e5fccMvK9kO
15sWLWDHARJ3UbhIkQDepihsoxiRI2tsakadGVqrJPvfe+48SOpl2RFgS+TMPXMf5z7I98f0d6ml
FV7W9MPq/B/iWVxdndPfDGnjSdbKk58pR43SsqSfhXXy4+dKLrwyunzEbvpFWocL+lN5Rsfvjxai
ehIPkox9KAUuZrJs2gpnlLWcm3Lm583F0dH74+MjOqZPDC0zHuHCz6xZalrOpKYFn0bSWmMdCYuf
ujKt9tLKumTx/5iWKqGBsGhUpXyzospK2EJm8igr78hMo/r9GX61kDRZsXglGpj1gB2S5tLPTE0P
yRnrhpLSYVNerVk6aGdZj6Eqc1Or6SoeWjXCwSJDVeu8matfJa1Ma6NFZOXCWI/zWXwuq5nQys0d
OUONgVbC8W5s8yIdv2gnMJOmSja144Ph7XgrnrShtPzspa4d9Xd+OzoiCq6n7PzKaOdtW3lohMvW
gQeT1dAlxW6fFBFk0zPZLURXnXc3jsl7XUQQpOUyBayLV4jSUvlZQI8WU1G11krtP5knqYvTKF4g
+JCUdbh7I//XgiXSFackNJT3fPd6DkYW5KSHXp8AODGmkUJHhGkjHqhwQFGiueoVLdghokE8IMhh
xH3J30rXqmKW+ZnwEWPLyKVIzuTwR06GPdHOck8EmJGOFIjr2oW0Ka6dH+R84VeE3YE14VxDU2Mr
GZZh7E1YK3Ls4E7EAy5LSMUnTi8xaeANbyLEAhI+wgdezqVznMApsoCfn8ed/FknwTl9a6VrmxC4
B+n/GWW/C/vf43/i57rUKISKhtH8RTQhnjs/0O/2/vaedkf6RdHoD8j2PMD+fdvHWPgtLAb3j4pi
fBEvt8hBl4EOcXloCRY2DIt7diuP3XutinK94nzk0Ape/7KR0RyvpjFLTrwBsWL5RCiZk5zfXFn4
cgkGy2dpExVauzAuVKlQzMBY/YTQcjZnsFww5XpxVCmb50Iju/H1JN3GvomcieeOVxq8Eg3yZEVf
kypliYRNGLWp2jkciOxJm7fYm/I4F4bA3D9aFurY6+AurrRR3MpGPgvkhdKcACK0u3hmbJGDileZ
WgIE9jIMHJxLgoQrh0EoU1rszYvxGvte4t4UdUl2BNiNFrmf83kdO9989RHrXeNZWMVxoFqiG88x
G6BKzVQ1O1ADs2e6QhiiAU9ZCVKK6TQ0bY64k2CSV1Vq4Umy6GtMV+NGToLSEqQfZwfDI9b4EP5c
6nfYeLFtl4qHg20+5loo8TSDIRPJJQvSoGYNL1Zgk5u2TbMCL66n25b1QsH0murYPcRwrjkN54Wj
IkJM39w2ow5L1TQ0Cl4CGRHJiUxt0ULPWLXDzoH9kRHbhXbd6I+YzzBVebvKWYxCYZGS/EOn3wgA
KrB8wJwHU4NIWIgQg1UeadAOgAdpRDDmXAggH+1oFCcLZTEd1krHQnwMNjWtdOPo6zCsxdQlkYbP
heEWFYkQvbdl6cs9YneoBRSewqmsJLf32EL7wtCZvzH7UTf9hdasdOJ+p12KiamC5+tQOAaujQi1
nCJvuhLX15OyLANLBfuRfWunotq2eEdr22FmShImY0groNbC1rEYq9ABpN7J2wiSydu6XPg7iLXS
RvQTE3SpnDzFAMN5n+xcn9pi+d1TnDkK2Q85TyLI+mjCGJiLW6t5WAr592LqJYfvzD/G4n6Xu4Dw
iCQMGOEP1SY/kaTstGbeh9mOQ/om9yVP80SHKS7ku80+CzNWN7QlRk05A9id1RNmCYQ4KjOLfOSu
Z+C4yq8bHyGCZrVyi0aswsPQLm4MJrKutagpjb7aroV5mZJfY5sohwCxVXwJ/xN+l6iXVBRxnRN1
Lj7f8MPOJZ3FmzxpjHhFhXv4+nZPopaN1A9+hi0nJ71OrHQG3Sd5q+6TcC9HA1UOSV0kmS/pu9P5
Mer8+IqTsWuodj/00clwdrvdi3P7eH9PJ1RQsakOu2C/2CHFMGJ9uKevYMg+7QpUna1DhxukaYJm
+BQ7qADaoIwzET72D+l0l2kRGxFcsDEelxpPqftJksK3gw4qWZPOZQt6p/EGnFU+4UmNLjes7iUG
ETm7v+g2TFA0njZd0UuJuv6vdJVYSBcOUfN+kKJkIt8PltHAUwNV7wrubfxOBWqfbHuknMgHpX/k
dfj8FJWgaef6pb1XYcfF5kEliyB0F13yv5h37KwPa7UgA/1b5L6MaJ8n1E1CkMTIeFCajOahYB/I
hglZ3840rk5xeddwyi+JwnNvcG58VA7UijUawwu/yAq71+fEXNIMk/hm5bycc/n72RoUQr8aFeEN
mJOo/IJfDpwiijo8Hw4V+Fced43GU5UnK5ZUzSCCM6xLUwbmn0igmp7jy7MonFoxPzawXFrjJzHu
TBj6wjANV0KHMA5hRPv+5ur6OoonYxuFo0Tzgo1DBqdbkO3DHu/90GIct31i81ua4cqo4zwbiH/5
clciAz9RDGLr2YzHD0xRaLoj3sRY3/uRGo+75X4jnyXgnTM6H97j24b7a34eH+59dzd5t7k72lSK
xQJkGRV3d5NifPEGRH8Y0b8NUR9G1G9DnB5GnL4N0R5GtG9DLA4j3hVvg3z3Csh3b4O8ewXk3Ssh
MfSLtvGbgFyYR0iBS1rPAWTO2edvzuj335Ff9B0u/irH6wkRPzmNuQGf4cO19To+lpX5rSAOOKUP
f9lSlHYY1DKAK107iVVl5Lr0xSzx51Pqr8dbgBt9YO851Wxb9KAT845BY+47Qm9rREZ3+HL0f1BL
AwQUAAAACABMvlQ05O50t9MCAACCBQAAGwAAAGRlbW8vaHRtbC9QYXJzZXJUaHJlYWQuamF2Ya1U
TVPbMBA9k1+xk5OhqcMwPcH04EIonuajg00ZTh3F3tgqtqRKa4LbyX/vynEggWt9iRW/9/bt27WN
yB5FgaBtEQojshLDqslQYZhjrcOS6upiMBifnAzgBC61aa0sSoKz09NPkJYIUceBRK9oLSzCtW5U
LkhqxQTPmUpWc5gD/48W6JXTPxnBD7SOCXAWnkLgAcP+0fD4wku0uoFatKA0QeOQNaSDlawQ8DlD
QyAVZLo2lRQqQ1hLKrs6vUroNR56Db0kwXDBBMOn1T4QBPWm/VUSmfPxeL1e74LhjMbVFurG0/hy
Mk8mH9l0T7pTFToHFn830nLDyxaEYVOZWLLVSqw5ZBCFRX5G2pteW0lSFSNwfXxeJpeOrFw2dJDZ
ziJ3vg/g1ISCYZRAnAzhS5TEyciL3MfpzeIuhfvo9jaap/EkgcUtXC7mV3EaL+Z8uoZo/gDf4vnV
CJAT4zr4bKzvgG1KnybmXXQJ4oGFld5acgYzuZIZt6aKxi9RoZ/QKu4IDNpaOj9VxwZzL1PJWlK3
Ge59X77QeDDgstoS/BJPIpQ6POHVyyrBlr4L69CmpUWRs09ClTvoj38HADfpbLrFgOl+mAkHrGAf
ctyRoMfCZzC8aLDxHNMseWTwpGUOtlEBQ4/4AhiPeWcUN0hgpMFFQ36K/jZWnRjZtpft749eiF0d
yHXW1KheeCzRw3dOQm/yqocFfvu7awOZoKyEoPM/6ZbevzB4/FIQIGkdYR3qhkJjpaJKBcMOD9GS
Q8X8HIbwATAskGY8Zh5YcPy+RKofUc0KO7GW5/xfK6ykElXV7in2XfdhhFmlHb62DeBalZVWK/mH
dz3Yor2jowO6a+pa2DZ0SFNUBZV7sw6Tu9ksun34OZ3Mv6Y3rH3IJUkVXvqPBxLyIpBt8C2Gvzty
1UZVFezom11Pg21nfXbx4s1sGIzbrBLiD21qRfbS36bbuM3gH1BLAwQUAAAACABMvlQ05NshkxcI
AADBJQAAHwAAAGRlbW8vaHRtbC9TaW1wbGVDaGFyU3RyZWFtLmphdmHVWm1T20YQ/u5fsZlOExlj
Y9pMm8aFaSAkQ4e0MyHtF+IPsnzGAlnySKcATfzfu/f+IskWhiZTDYPtu71nd29fbvfsvR14S1KS
h5RM4eju5e/hp/D4+CW8ziDNKJBpTIHO4wKSOCUDOI8Xy4Qcz8P8nOYkXAyukB7+JnkRZyn8OBjC
zl5nGUbX4SWBLL8chPhhTgZJGSGXwZQsssGcLpJRp7O3s9OBHXiVAsdckJSGlKFkM4hTSvJZGBEw
rHbhZk5ygtIQKPgIoFhhUZQLFJ1mDCzKECRGiDS5g1fnx6enECFAGCFcAcFNTOdZSaFM4yibEljm
WUSKIk4vu4MOk7yzLCdJHEGUIG5F2c7nDoCkKJiwEcziNExgkmUJCVM5+CYJL+EAZmFSkBGuQGVg
Us6K+B/9ETctTsJJogdodk3SI3IZpyPDQy5cZgXC9ff5TJ5REjFbyUlmlotx7VSUJeUiZZOVWTGF
qMPqSoaIM/veMqXjMief2JacFsfvbS3XUZ69MZQOKfOeQZwN3pNwSnJkvyyp2GuPkFnxYsy0mpG8
KvMivP2D3FLOLZ3W6xWnR+VMTDlzn7J4Cie3yzCdIsEsUOLf5OHyVZ6V6bSL9Mz0+Eg5UnIjREE8
fC+GpY2hBz8Mn7/gNgFhXUEuTCVX4PDGBcqA65aINTS/E2+kmAxmhv7uqAAeBT7ndwUli0GY5+Fd
lC3vAqHVruWPu0bZXRjuKk+GvkXTHbUCHdpY9orNTx3XXRkcLnfbLspdNknHLFOnsxjfWmm93Ea7
lyYyFs36zboIp6nTRs1srY8F4CLeSyede2wMV69KOAcCC3ribVV2i8tKvyOYcL6i338jz/umbvJA
e/YP6pGlDeVLFNJoDsGHeZ7dsEMTaNfPdpTN8Sx5kudZHtDBJaHv8GzHOiTQ3rHqSLGUYuhPLI/K
aX0qo4QTc2AzeC2kOltWNYfImzhJjtgR0hXyFPp8O/3z5DYiS1bedLTYLEP7O3NghKjoyOgtEbWM
DbmdkVtyH3JNuzaFQw5gao3649R+7K1yaxf9rOwPLBR9iX6FYXdLCZzIFo91gvNKozEjePt4aHug
jdnsDTaQrVDfMh5qV9lvS0Sal7aEvj5rt3clnZgXNcpB8zvPU4IY11oF1QD/TXWec/e33WFshOp7
67td5o79/SZPtKSIkqzAiHSsaYK3Jl6CRkPaEJ6/YFzHZllOaJmb3eMvPKcENfwAbWek7/eFSxqw
CTY35TIYWmJ5fu1tBXjpwwcU2hNLPJFbZCeCGgFf+oGBtEwtDkPROYAoXiHCEeYKbKv03tYKKKbE
5kHUlPT+Wk6xdzzDQ+eYZ/5AcLFrZj7e6ylEtl12b1BJdPWNg5rlhx0rBPTBs9+1Ng+s4LR7lTVc
3EZGPGx5xEz57GP6rMGvPTlZTLfx1bUKiNcCO1V25EUVqaMQdXv2MX8GL+tF4cq4ouAzQZNfj3yU
tBGlRqFGFOqhCLX6/VF1kKv9AvOH0v0pDH/udtcxmZJZWCbUZWHTrMyZzjss4b6saRKVkJqU3ZSZ
VpVKTcCZAGl9kov28lCfaXYO4XNWScToez112NUc5GAdhUNroQxGkcWVKt4+OOCH/lFqeJhqRTHQ
+cHHF9PVSFeGk2LJAS4Iv90B2IHfpgTdKuL3S3KkIAS+w/rsJJ0KJD6+ZxmBHW1IIPnohGzUd415
X65MhyaebK6Oo+1bvs/IpVqfe0hcQXgAf57AN0pgcv1anLVyrMHgh4I8JPlV1yIrU8qAOJIIE0wD
Ylw4EK9XJrolUEvsAnGiG8CJqcVsvv5lXeDdLU0LeYvIhCpomFPeY3XADKjOR96fzditpojKz1J2
XcdgkEhAoYHswDSuGNUJ3oLH5LcvI6qmwtTBZ8rNSd1Fk6QYaxLTAqp7ogqJ3ajVET3Obm79eGaw
Cgh2/xxojoaba7Xnw19+6m6pRyOzff5nQbt+/p6cpjH9H7gaizDlSOgAZZLAly8WZ3iiHG+QkPSS
zkXgqUOsnae28tVW3trKX1WN5VUtzXWdU+Wq6+CmTnPiXrxXUtx9Tb/10xwXUoTtImOzEms4NYdF
Y8CdWh79CAEi4tTpGQ0DoYcSt/tYOaOdCls/XzcB1ijTPguud6OH7VN7F5Bs/xMnaKnXVjHy+Hu2
8XnUJGKci+ZxeglvCT1d8ItWAysPHNmD1F2xyZKSWU/g1F7Cq6rQTt490zA7vXVrxOqlNvQ27G4N
6FBLpwTy+8iLMdubc6SPb3kxjGerfTEiSFBs+8REmrF9VRJYTNheSgzxNH6RofcNydnSXcaGy8zW
V3bvcytEuW8Bw+wbFvtdjf4AH62AjjbLNJSM/bUVy4Dpj6WX4EttzL/OUseRTUmDRdNIj6kKxhk0
FYscdpvSd4TOM/ZTBQinV2Uhv2oPseqQC9NyMWE/VJhlufyZAwYg+z1EKHx1wHH2PIkFmG7aZAMY
i6+Rz3gkyw84ZYeoyglQc8ksvdV2xDXhbNyHWeLAWMKJWtn7gbqPtK7rGmEqoYrrjW0VqGdiJjy7
/kb3uBIv16awk5txy24XXsezmSAQFlCfldo38xhr3iDGVpRJ9PSp49/SDS6uVNkN3yuRx/Jah88z
5r2eT1HZOg0nv/A/08U9e1yJLXF7xvMursciDOTHq/HIRtejAh/RcLFBMrTOZliMDUXMrnP5uxVY
LiI3qpVqGgHaCaeJlVF6PYebwxC0yzZb6ImxUKN19LNJA6j9Umq9SfW3nOJVphSzRlLqrOIbFheu
Ov8CUEsDBBQAAAAIAEy+VDTFdYqguAIAAAgHAAATAAAAZGVtby9odG1sL1RhZ3MuamF2YYVT0U7b
MBR9z1dc9amgLmGM7WFsk7pSRDXWSqQM8TQ5zm3s4drBdho6xL/vOoQNRK31oVJ87jn3nOvrmvEb
ViEYW6WsZlxgqhqOGtMS1yYVfq2OkyTb309gHyam3lpZCQ+HBwdHsBQI444DuVn5llmEU9Poknlp
NBEC51ySmsMS6Bwt+H+cHhnBD7SOCHCYHsAwFAx6aLB3HCS2poE124I2HhqHpCEdrKRCwDuOtQep
gZt1rSTTHKGVXnR9epU0aFz3GqbwjMoZEWr6Wj0vBOZ70+EnvK8/Zlnbtk+DoRll6rHUZeezyXSe
T9+Q6Z50qRU6BxZvG2kpcLEFVpMpzgqyqlhLQwZWWSTMm2C6tdJLXY3A9eMLMqV03sqi8S9m9mSR
kj8voKkxDYNxDrN8AF/H+SwfBZGr2fJscbmEq/HFxXi+nE1zWFzAZDE/mS1nizl9ncJ4fg3fZvOT
ESBNjPrgXW1DArIpwzSx7EaXI76wsDKPllyNXK4kp2i6asISVWaDVlMiqNGupQu36shgGWSUXEvf
bYZ7nSs0ypKE2hrr4RfbsLTxUqUToxTyjnT8Gj1jTuTodyDdaZLUTUHzp13RTAFXjMItWeXgPkkA
uqUGcsaNDktBTpUCH/AQsRWSi/Dv0dH9owPBNhhurqBrIM82XECorK2pQxxzg1r+7pcfQiCA3oEL
yZ+MkDm4yn9Oz6ffc/gMzzKmbqu5sIZksKSyocYW+pTDPXoNpPgodR86/FVJWVkOB5+E7V7MLiAj
hCJn4RGF62QewjFkXwZQGgoXHpfuV5MCKloy+qCVIPvSq+0u2SLWr+j67ULqyHkWA0q5iVHikC9j
nCiiZIwSRW5jjBhQKMNvbhu6gRjzvxWlj04jhoi3MUoUEYdRSgwR76KUGCKOopQYIt5HKTFEfIhS
euQheUj+AFBLAwQUAAAACABMvlQ0Y8gAIy0DAAC6BgAAEwAAAGRlbW8vaHRtbC9UZXN0LmphdmGV
U8Fy0zAQPZOvWHyy26CEDqcWDqGkg4eSMHWg0+n0oNgbRyBLRpJrMkz+nZWtJil0YMhF8ert27dv
VzXPv/ESQZuS8Zrna2SyyVEhK7DSbO0qeTYYjI6OBnAE57reGFGuHZyMx69gsUaYdDmQ6ZVruUG4
0I0quBNaUYLPuRTEZrEAiqMBt88JN0P4gsZSApywMcQeEIWrKDnzFBvdQMU3oLSDxiJxCAsrIRHw
R461A6Eg11UtBVc5QivcuqsTWJjnuAkceuk4wTkl1PS1OgQCd0G0/62dq09Ho7ZtH4whj0ayh9rR
ZXo+nWXTFyQ6JH1WEq0Fg98bYajh5QZ4TaJyviSpkrdkMvDSIN057UW3RjihyiHYYJ+nKYR1Riwb
98izB4nU+SGAXOMKokkGaRbB20mWZkNPcp0u3s8/L+B6cnU1mS3SaQbzKzifz96li3Q+o68LmMxu
4EM6ezcEJMeoDv6oje+AZArvJhaddRniIwkr3UuyNeZiJXJqTZWNX6JS36NR1BHUaCph/VQtCSw8
jRSVcN1m2D/78oVGgwGV1cbBV37PmdDsiFYvl5wkLdA6+DkAqJslOQrWM+Vwr0VBYxUqzsgSVd7e
ATflfULURrcW0vm02xAqOoRUOTSmqcm3XbTjBBAriKMXhTARo+lxaWNPczu+S5KAANhV8Jtn4Q0o
bOGC/vfYl3cJkzSZ2O9s9+u6aJyQbGIM31hmqbe4y95hvJexULTCRDg+o+N1z88kqtKtKXJ87DU8
yzbWYcWoA1aTECdVT3Ur7ojtmRfSv4k/hQ3hEFlzY7HL3anYducWUFoMoR71mMnb4VO2g6cH0efs
lPz3FHxmqurGkdXIKyLpbG6k7IU6s9lNI9wFfQdZjzt7v/h4+cnLMr06E5L2ccLvxxFM1o3bmRwt
hJN4ChEcw1Q5erA0HFS5LjDuKVmJrgPFSfJXpqypKm42/+IKsH+xnWtyUrnTaIe6FApnTbVEc4Xc
PzDTH33Lv98eVAyBfb1uLfuFB0n5PRHzh6ehHafw8zCbpxFJoHpSvAyVtjRHxaXcz9W/RD/bQJ74
QbNcaosPD2vbbeB28AtQSwMEFAAAAAgATL5UNNoAFfk4BAAAcgoAABQAAABkZW1vL2h0bWwvVG9r
ZW4uamF2YY1WTW/jNhC9+1fM0QlcpUBvyWmboG36gRbdoHumpZHFDUUKJGXHWOx/7xuSkmXHWzRA
Eskcvnkz73Hou1v6mS17FbmhH4/3v6q9eny8pydH1kXiRkeKnQ5ktOWKXtwr2+ozgugf9kE7Sz9U
39Pt3WpQ9avaMTm/qxReOq7MWAO6arh3VRd787Ba3d3eruiWnjjUXm85AJtJ22FEFoGmED2rvloJ
5GoYt0bXVBsVQk5NX1YrooRCwPlgsTnyjj2AVKTmDPdV24Zcm/kn+IroRV7s2G/Za7vLMOEYIveE
hYYj+x6lNrQ9Um7GX8oH9htSQFMU1dZwRuXABSlgb4GKzmOztolBqxFbVdWjsyEqG0NqXZVC7/C3
FIgaEtmHs+K2vNP2d3BJmdPbozNjb+cyU47BBR1FiMwJOX2IVHfKqxrFZKyzLjwQ22YGxvP/gM0w
EGIBfdHba1XNNWyWBWwmAptT9vPaX8AAVoBCpPtkq1zc9UwfF5HnOB/Ic8uebS17E4Tlt4hPd6NR
ntbW2e/CwLVW5qZYsPWuP/lykjXZkui5lKyzxVJDrm0rOzY4D6QXHcyxvbJKTNupkI4ZQpu8FNCn
o4MsKYuTFqWnVrNpTi5jyQrzGTNZWgj5EY2y5pgzTsLIkjLBwbyl7AUVbP8T5PxBB6QKzMhv3IFa
8FbFEcPSXrXDgYOT8V5gZnrvdMlHVhp+qe6iIhoDS/Gk6ppxzosaUzvSuXZ1PXoavAarJOPUiBQE
b6Hhqo1pDECAvsfcwkRDJwbPNV7gjv+QPBPP2sIspPBrHYWx7i7oXKhxJkQG+dSxXcD0GAdSgxUt
ryCeASavzpWdDDZPm0syh04DUIbN6G3ZvvR5hkIP9tqNF61FkHfjDtvjvJIFS2TyvINrnM0oo43a
LCbMOdj60LkTwQUOpXFrzE11OtnpCKZVsdGl4qkMqcJJG6/5ISMtZW6dEdfislofdOyc+CHfDX7P
dil/grmZTjJkKmBhVvy9LqWEb/h7WfO5z/9m0aVccjKcvjW5ossP6xssfZEgAuEkahlqRF+vQis0
81CIuO1nruNGbq6GWzWaWNEv7sB7ub0wEo5upANuoY08ZZgaXaoxfWK+C0rOMG7znZsRMZOUnFGX
L7W9MmMayK79DZdW0fWj7gcIoZomjwnsmK0YoAkam2aKEQ8trJIjC8hPiOA3BSSeGXdqD3ILTm0p
twYWWD0/vRQ7T8aY6pT0pTg9sRUtn58w6XRvhkw3uJ4hNmQw+pXpPoFkJPwIPfrjmL8EnO7x5ye6
n9olChQW65uHxfZSfjanJCiNAAa+b2CKVnIcbCKclJDD3iuEcJPgMsxeeZ2+dRQ8NQzeYRhKYfE4
ZOkwRcX+OqF5Mvym0SAMVRne4Z3xhAL+tdoiaJrTh1yDXNy5Wws7Zurr0+c0L9Fkt/OWLBsi9k0W
/rr6F1BLAwQUAAAACABMvlQ02WN338oFAAB6EAAAHAAAAGRlbW8vaHRtbC9Ub2tlbk1nckVycm9y
LmphdmG1V99v2zYQfs9fcfBL5MR10h/YAKftkDrukCFtiiQoNiBAQEsnW6tMaiRlx1vzv+8jRcmW
nSX1w/RgmdTxu493x7vj0QH9ypK1sJzQh+XgNzEXw+GAzhRJZYmTzJKdZobyTHKfbtQ3lp8meqS1
0v0/IUxfWZtMSXrdP6aDo71CxN/EhEnpSV9gMOV+XsZQ0U94pvpTO8tP9vaKcpxnMcW5MKYNSnxv
WSaG/Gjvnz0iOjpwv3RAlzrJpMgNpRCcC52p0pBmYZQ0tJguSchqHam0om2XBVOM6TFjQquF7FdY
R3sVcg19wfdZLHLiankcl5qTRha/xgoLyqkjQJm0dDH6/Xx4enE3urq6vKJ3dHyyAXkqSVjLs8LS
wu1zJhKQUBSDsWUSZDhWMgEYsGXMjrSo9VhnFCyRMKZ+ksf1zenN+fAOdEZXDZmXm2RudAYPO+1T
ISeeB6ySybnIs4TysHsHzk9qO//89fTi/Oyu3r3TPoLCV5sKz9hy7KIqEtjjWGQ5/qvSYpfdSjVA
M9ghV6rACO7hHXZ9cXn55e5sdDMa3ozOoP/1pv5zmWBLlo0HroLEx4gb8n3MhXVh62Kkigs6h5+y
PKepmHMAUZKrUIK7xmrO9AZhl5ds1rk5Oj5shirhTRpXXOQiBotSFhqSYpyz84EWMI42NPaEMsS9
wWlx5kL4lTKLgYW5WBScdAMW/1VmUM/Smtpgk2wOgxkL6MkapUKrYP2W4a69HIkkGXlkE4UZAHTJ
nzU81dyHMk1Zw3AWKmFgyYvWl6h7EuTdbvBTD93ZjJxNMn8o8Hrr8PvgPbFTLKPs8HClDb5dZDae
UuSEHNapjbJut/m8EnS6hGE6psH6nJtW0may5JMt2f3b8f6mdLUnpKcCmSbq3N6OO92THRDt84h2
N0T5PKLcDTF9HjHdDVE/j6h3Q+w8j3jb2Q1y/wcg93eDvP0ByNsfhEw4FWVuNwGzlKIIR+Adtc8A
Ts7x/atj+v4d54veY/Azd9sHonrqYwyEzjGeDh0iAVp2WdSq6isU9OjlT1tE6ZENlQ7A9E05rlJL
ZJrjSy/oTY9W4+4W4ANxDss9QrOtJ55uL33WiLVE/QZkqWWN3Oy1Qn7YSsZO2KDKJmyrijRjY1y/
4rKWS6hV+7CYIqui9WmqQ8jTAadVplwpzUKxAXK+3kiEMkFfkO9n7BP+gMIcntHlx2sGknsGDYhx
8YBPCMDSuKINWh41gK7Wo0lB33LtijbWt4q4KxCLaYaw8X1Qq61ZAfjpC7R2noDr8UiWszEHC/hS
+cTKocrLmcTKuPqzy9rTFOZwWgvNaXYPeeH7JHRF7No1OISf5I6hrzyV8Zw6hboEG+IgNAU2iH9G
ORzQH6r0vWBcGqtm2d+8Mm3T+dXxAH/PVJKlSwfnacB/U9VqCbeqbDiGoZf0oRSNlcrZ9aWVr3u+
XciD13qr5sF5obfeSziL9mrIlcl6od6Weoj3KhtUByHqtBtZ2NR7Fed5/Wit/H5InV7tvseEgosh
1ke8yliVSCvww2BTOqqD+RfqvMX/9xAYEJJJx+WSrZaj7/uoyzSqN9J1Oly6d2+sw8t1Ed3w3c12
e+Q+r2vtCB9GA9pSs7JYg/xoTqiDAtcKFVzuw2KskmVzjah879vnJnaWqtTtoKm7Qvro7zFiVuRw
qSsj7v70jTeaVtcXP95OC4Q+rl8BDSQQ1i+QC5A+kBFj1ggMsF0G6iEHGuVoumjxyupEszox1HE1
QbtOsEpzA/qC2ESuTpELkbvG5QRghdKW+nio00JItZq1zOFypimRYqothpZUc4U5DxdD0PemKoQ2
7aY+3AJDiE/YfqrsGG1GNbQUWLou0fJlIDjENdDqMrYKhoLa+oaY5mLuplKV52rRugAGCq0raK3+
4b8lAuXg9+rYVleMFXXPOQoiTaVrLgoo1dWKk2d0/b8J5HHuzstRK4012lea17S2NLZUhdPdq1WE
3T7s/QtQSwMEFAAAAAgAopC+NCkcOCxrBQAA/AwAABYAAABkZW1vL0hUTUxEb2N1bWVudC5qYXZh
pVbfb9s2EH6e/4qDXyJnrhwUfVqwB69xUKOpXUTOig4DBlqibS6SqJFUHG/o/77vSMp2MqdbMQFB
LPJ+fvfdnRqR34u1JG3WqWhEvpFp2eaylmkhK33Z643Oz3t0Tm91szNqvXH0+uLiDS02ksZenDK9
clthJF3rti6EU7qGAuvcKBiysiCcS0PuoBNvhvSzNBYK9Dq9oIQF+vGqP7hkEzvdUiV2VGtHrZWw
oSytVClJPuaycaRqynXVlErUuaStchvvJ1pJ2cbnaEMvnYC4gEKDt9WxIAkXg+Zn41zzw2i03W47
TADPqAyidnQzfTuZZZNXCDoq3dWltJaM/KNVBgkvdyQaBJWLJUItxRb4klgbiTunOeitUU7V6yHZ
CB+bKZR1Ri1b9wSzLkRkfiwA1ERN/XFG06xPP42zaTZkI5+mi3fzuwV9Gt/ejmeL6SSj+S29nc+u
povpfIa3axrPPtP76exqSBKIwY98bAxngDAVoykLD10m5ZMQVjqEZBuZq5XKkVq9bpk/a/0gTY2M
qJGmUparahFgwWZKVSnnmWH/mRc7GvV6cKuNo9/Fg0iVTs8vu5MTzNR5W8nafV0I9E03rirTd4sP
Nx+FsdIEOtOYWqdK5XY+n0rcc9g3Xo2uom3r71iVOnc29YE27RKFpbwUwIsFOhX6q0dkOU/cboRB
tUwmG/qRsp11skrX0n00Gvi4XdJnEqdWNsIIp01/kLLK2CUXID7sRC/RXIaqI8ZWFck1k3818M6I
RiO0VCPrghoB6gNvQguCKzVoJsgGPfDNtjmuaYs+cBvhqJSPKtdrI5qNyjtTFlCy/Fo9SBsKLSoJ
Wtu2BCLCegvlfdc8vhE3Shph8s0uJYyF1nbG6rYsKfm1vcAzYPK2PAqWmjtUU8xcMkgyBwI738e6
9thzHk7vw+pk2afPc2V05d842dTLGelaU9PKowyZZJAa2ZQil0mow5DOQjBnA/reqxD1w0l/f3AF
ewutS5s6VeFXAD5Zpai2+6ALkF4WyWB4JHgrrS5bJneaTbjNeHLRl68V8XVryuTw2hWzOzElOIPz
fQJd4EhhdDa4/M6jEi89zjZMPosoN9Ie4wFjqW2XgQjJxdAfcDJT9OHjfJWwxcFlMFihiQN/PMCS
u/dUJnvGdz86VkYUURqjt5am84mf0sBmSNPaSWPaBrNrf0oHGqMNMYWpllsMpapBc3Z95yX2LnEK
dCB2cB46JjRDUXheMIaerqhXWVANGhfUZ+70QdM7HvjxyncD2NlZUIwLhBOVyhTUY2rzFEfNMXfh
vj5z4Oa9rNWfMnYB2/Edt9WmsIGPiDMVRZFwpNcskQT3w69TFNUYBvk0Q1fI9POEx3p8woUvXXo3
+20xfz+ZTX+ZXA1OQMBFpipSNlT1uG2fQdMJMjydpVMwfRM8naFvQmkfySHt/9eVH6azu8Vk8BzF
A7zfBCv68ohZvL8jNqxNOVbyksdvjm4CN0VZ7kBtpI0/v1SDtUX4jvGQWP91YzmcIvRxx/whqWPQ
A8ThCCp7dCPa2AFG8YLWQQEQvQgysgATeZ+snvFtNv8PeHC7T+umdaiEFBUysbEpn93A/KXXOCxh
THD/L8gfzhMYicIHCnaoO7F+xTMMu67AosAoqbuFdCsFvihePYiyxd1CProILCoDrLaqLDtr6Lsj
tHjJRGRfxKlzBbBC2Ny7wWMyOEUP21aVwDI7Gj5d68QKs9swnGO5OxMb5Q7fGv7zA597GA+7F6OL
zp4El4Wz5MQYeVLX2fxU+E45ng3Pg3cdsUPDxyyeJvZilN7mkxgXfPKvEZ5sw7jW/O4/3g/xHGeH
7WvUA0+942+0BLv2S++LV+n9DVBLAwQUAAAACACikL40KRw4LGsFAAD8DAAAGgAAAGRlbW8vSFRN
TERvY3VtZW50LmphdmEuYmFrpVbfb9s2EH6e/4qDXyJnrhwUfVqwB69xUKOpXUTOig4DBlqibS6S
qJFUHG/o/77vSMp2MqdbMQFBLPJ+fvfdnRqR34u1JG3WqWhEvpFp2eaylmkhK33Z643Oz3t0Tm91
szNqvXH0+uLiDS02ksZenDK9clthJF3rti6EU7qGAuvcKBiysiCcS0PuoBNvhvSzNBYK9Dq9oIQF
+vGqP7hkEzvdUiV2VGtHrZWwoSytVClJPuaycaRqynXVlErUuaStchvvJ1pJ2cbnaEMvnYC4gEKD
t9WxIAkXg+Zn41zzw2i03W47TADPqAyidnQzfTuZZZNXCDoq3dWltJaM/KNVBgkvdyQaBJWLJUIt
xRb4klgbiTunOeitUU7V6yHZCB+bKZR1Ri1b9wSzLkRkfiwA1ERN/XFG06xPP42zaTZkI5+mi3fz
uwV9Gt/ejmeL6SSj+S29nc+upovpfIa3axrPPtP76exqSBKIwY98bAxngDAVoykLD10m5ZMQVjqE
ZBuZq5XKkVq9bpk/a/0gTY2MqJGmUparahFgwWZKVSnnmWH/mRc7GvV6cKuNo9/Fg0iVTs8vu5MT
zNR5W8nafV0I9E03rirTd4sPNx+FsdIEOtOYWqdK5XY+n0rcc9g3Xo2uom3r71iVOnc29YE27RKF
pbwUwIsFOhX6q0dkOU/cboRBtUwmG/qRsp11skrX0n00Gvi4XdJnEqdWNsIIp01/kLLK2CUXID7s
RC/RXIaqI8ZWFck1k3818M6IRiO0VCPrghoB6gNvQguCKzVoJsgGPfDNtjmuaYs+cBvhqJSPKtdr
I5qNyjtTFlCy/Fo9SBsKLSoJWtu2BCLCegvlfdc8vhE3Shph8s0uJYyF1nbG6rYsKfm1vcAzYPK2
PAqWmjtUU8xcMkgyBwI738e69thzHk7vw+pk2afPc2V05d842dTLGelaU9PKowyZZJAa2ZQil0mo
w5DOQjBnA/reqxD1w0l/f3AFewutS5s6VeFXAD5Zpai2+6ALkF4WyWB4JHgrrS5bJneaTbjNeHLR
l68V8XVryuTw2hWzOzElOIPzfQJd4EhhdDa4/M6jEi89zjZMPosoN9Ie4wFjqW2XgQjJxdAfcDJT
9OHjfJWwxcFlMFihiQN/PMCSu/dUJnvGdz86VkYUURqjt5am84mf0sBmSNPaSWPaBrNrf0oHGqMN
MYWpllsMpapBc3Z95yX2LnEKdCB2cB46JjRDUXheMIaerqhXWVANGhfUZ+70QdM7HvjxyncD2NlZ
UIwLhBOVyhTUY2rzFEfNMXfhvj5z4Oa9rNWfMnYB2/Edt9WmsIGPiDMVRZFwpNcskQT3w69TFNUY
Bvk0Q1fI9POEx3p8woUvXXo3+20xfz+ZTX+ZXA1OQMBFpipSNlT1uG2fQdMJMjydpVMwfRM8naFv
QmkfySHt/9eVH6azu8Vk8BzFA7zfBCv68ohZvL8jNqxNOVbyksdvjm4CN0VZ7kBtpI0/v1SDtUX4
jvGQWP91YzmcIvRxx/whqWPQA8ThCCp7dCPa2AFG8YLWQQEQvQgysgATeZ+snvFtNv8PeHC7T+um
daiEFBUysbEpn93A/KXXOCxhTHD/L8gfzhMYicIHCnaoO7F+xTMMu67AosAoqbuFdCsFvihePYiy
xd1CProILCoDrLaqLDtr6LsjtHjJRGRfxKlzBbBC2Ny7wWMyOEUP21aVwDI7Gj5d68QKs9swnGO5
OxMb5Q7fGv7zA597GA+7F6OLzp4El4Wz5MQYeVLX2fxU+E45ng3Pg3cdsUPDxyyeJvZilN7mkxgX
fPKvEZ5sw7jW/O4/3g/xHGeH7WvUA0+942+0BLv2S++LV+n9DVBLAwQUAAAACABTDVw0mC2uNxQF
AAAuDAAAFAAAAGRlbW8vSW5kZXhGaWxlcy5qYXZhlVZtcxo3EP7Or9jclxwxOdxMP4W4M9TYU6Yp
dIxTN+NmMuJuATWHdJV0xiTxf++udG/EJGk9HuCk1b48++xzKkT6QawRtFknohDpBpO8TFFhkuFW
j3q94bNnPXgG57rYG7neOHhxevojXG8Qxt4cFnrldsIgXOpSZcJJregAn3ktyZHFDGgdDbj2TLUz
gD/QWDoAL5JTiNkgqrai/ohd7HUJW7EHpR2UFsmHtLCSOQLep1g4kApSvS1yKVSKsJNu4+NUXhL2
8bbyoZdOkLmgAwU9rbqGIFyVNP9tnCteDoe73a7GhOAZ5sHUDl9Pzy9mi4vnlHR16I3K0Vow+E8p
DRW83IMoKKlULCnVXOwIXxBrg7TnNCe9M9JJtR6AreBjN5m0zshl6Q4wq1OkyrsGhJpQEI0XMF1E
8PN4MV0M2MnN9PqX+ZtruBlfXY1n19OLBcyv4Hw+m0yvp/MZPV3CePYWfp3OJgNAQozi4H1huAJK
UzKamHnoFogHKax0SMkWmMqVTKk0tS6ZP2t9h0ZRRVCg2UrLXbWUYMZucrmVzjPDPq6LAw17PQqr
jTvCQ6FEvrfSJtaRO2GyZFH9GPPORzSjrx+WFO0+mfLnDSHOtrXx3+JOJFInl8Sm0bHFmXae0hee
aZT8I6vp/Ct7pZN5MhEOwwCBTwBEnoPDe+cJXCMhqKkGU6fNPmEginJJvIE0F9QOf+7SW3/qAdB/
YeQd+e3sxH349NCjLcsQp+ScYAHeAurwxZ/vJ9MrOAOFO78YRx4TP1/s8H+mRxmEBKtod1pmNF1S
xQtiplrfvgNh1rbv8wUIizS6zJEziBidr2hN0in2ldHavW8i/xSNvDe5gpi9JzmqNU362Rmc1pEo
1t463CZoTEIoKZerOHrDgV9CBCchh/7oC+N76eIfqlWPYojSIMcW1hHIj+Lo0rVxzoViibLijubU
o0lj/pTCNo5OIHraYjmAIkdBE5VhjtROyagb66LvJMif/qPT5UynE2m6LWaMbk/f9VvUngSjphr4
/BnqtVSoKxTZ90qc6LTconJtEb7Ayska3XhpdU7S9Ltwm7gf6tXUTAbGx/XqEp4NBWRtbHAgMqQf
vCwUdPw/w8AzxlSkwQv180Jc2TlKsa6oIwFee7EGrLPRdn3gt77Umbg/IJ/lIxIdwOT9MeeJAIdI
HVAhSZK2SM8YwtfGIbVB1dNvBpqT7mzlRwp14Ct4SHTYbbBoNtJcW79aLXsEUWVH8Dsal0y52ddy
S3bwPIDfWaHiqHRH5NzKPJcWU60yG9UBHyAVLt3QhLXaCfht5tGRkm8ews8xcrBzlkeOVh2D6C8V
3v5beo01M+9tfwsrxO+WPl3B9BLWtuAxUwZhzlgW+4FYG6N3pM6dEkL+wyF1zhOcueff9KwFQVDd
RjgqxQvFEv0INPPJFscGsdmTdlKTqbtfKyzJbghy5r8TAt61bfSJ0WVhOgdSR5rCVJc53SDStDSN
SR3KwhOiQpnn3SjgX/0xNQQkxTgd0derELISY1o5OTk8cozYjUbx2UHwcCvf9Tu51gPe/fUAmJNK
dMo+whORZTx43Hjfq9ZlVwn4r5oFOlCrWsxJ1Q9Js+r9dBy1mTGiDli8HF/FdlQqcYLvc1u6MyFf
BgRFDYgaIevLKzaU8XTlK5xIU757Zajo3hXVDO5G8urItclwa/U3YKJLzSMvtOqpgw3mRXOwmrSj
dxlYqRUetutxlQ+deSHBfej9C1BLAwQUAAAACABTDVw0IDFr5lUHAACZFQAAEwAAAGRlbW8vSW5k
ZXhIVE1MLmphdmG9WG1v20YM/lz/CkYfOrlxlLTYp7opkCUpZiwvQ+wuKLpgOEtn+1a97e4Ux23z
30fei15sJ007YAIaSyceyXtIPqRasvgTm3Mo5DxiJYsXPEqrmOc8SnhWDHu9/RcvevACjotyJcV8
oeHVwcHPMFlwODLiMC5meskkh3dFlSdMiyLHDbTnTKAixRPAdS5BN3vcmwH8waXCDfAqOoCQBAL3
KugPScWqqCBjK8gLDZXiqEMomImUA7+LealB5BAXWZkKlscclkIvjB2nJSIdH5yOYqoZijPcUOLT
rC0ITDun6VpoXb7e318ulx4ThGc/taJq/2x0fHoxPt1Dp92m93nKlQLJ/6mExANPV8BKdCpmU3Q1
ZUvEF9hccnynC3J6KYUW+XwAysFHahKhtBTTSncw8y7iydsCiBrLITgaw2gcwC9H49F4QEquR5Nf
L99P4Pro6uroYjI6HcPlFRxfXpyMJqPLC3x6B0cXH+C30cXJADgihnb4XSnpBOimIDR5YqAbc95x
YVZYl1TJYzETMR4tn1eUP/PilsscTwQll5lQFFWFDiakJhWZ0CYz1Oa5yNB+r4dmC6m35CHLWbpS
QkVKozomk2jsbo7ozWcuhw9vToq4yniuoxN384isQM/uohH9veIseVRvS/YaI/kE2QnC8iSh07xq
BP9mtywSRfQOU767WGmRRidMb1s+kpKtlC1eME4i5BS7XyfnZ6Z8VESgl9UUcxTilGHojZwR+NID
KKW4ReXNatiHL/e91htFEY1hWhQpx0RMeMopo+EQZixVfPgMYH8ftKw4JJWkN1YE87ZEe5uaWshj
JZkAPLNK+B3mPWkwKD2w08bBFFazM+dLuwmmnBRMK5HqTQUed6hEMmpt9+kDIgFSy3QhCYNHcEVY
Ub0F1mm/LXB7htwTjjUB8fEGmJzf9g3QgBCt3B2AFXAuH0JgboKhe+uxjhEedN4j7d5SjoAskCkP
Ia/SdNjrKq0UFSoqbSL9cc+qusE7a/ON+Xl7A29I018J0lmMh169DWp1YgYh+R+lPJ8j3x4ewkG/
PgGaWynNs4hLGSHMuU7zMHhPtl9DALvWjf6wFpdcVzL3z/feCsEaCoIeXT4Y4s8baFnFhd3dtlXv
1UdxEyENIzBhYM8U9FHOBbRkEmnMnbUobbOqLw+70bO7K24aL++Bp8TB26xYDK2ZthUXpg0zdfio
OLaaELBz2D7t3sv2Ub8b4nWQva22gMsbrBfKI3/I/kZcTlzZSC9OC2G/kx079oQGdl9JVPtmIyYp
lpWqbbeIo4uHiQbytgrJuYF9Hjj0Wo7ZX1v3zqcWIYRuGy2vN46wv6HOqokU1+fs7p3gaXJmIhC+
PDBXLfgN79yxWZIYy+bEvhxt8IpKN8G7xBzJxOe69qMoCtZ9KqyMAbvzIk4L1Q6BCRHPk+0BWjcf
omQ053oiMhSDPRvcZqW2ts1vnGYwopCJNBWKx0WeqMCbuoeY6XgB4akZ1Yj4eZPGW7XFrKIRk5ks
5uTDMfUmdGu3lavBn7md9DIcWeqkN+LndqX2mrLj3jI2XLP0E9SEBguBfC7jxYrGMeR9bMrYcgaw
XBCPfuK8NKTZYn6YySKzurodiTSoVR5HAOdCZXRqrugVDoBEADn+m71G5uhDkSZ1V1GInlU35a5A
kiGE0z4OSfECJyvekh3Q4IhyKZ8hQCnqHNK0FsZ9CrJVsyFsvDOzHJgha6PxmdbUpLJpIdTHBp1O
NFjrPH0fDL2QxVJBE2Ab3Qc4QOS4Rv6xNF1BVeLHAvdZaRs+ZmxrCsCM57mt37qgaGlzHqDLtW5U
YXVF+JCpkCqA2nsYoEAwgAB5emi9EboT3prBajgIiS6zebLaQm04P2v6qthCcTalQuehcQxTese2
aXj+HLpvohnxDkpgZzVebyX/TuXUJBp0KoUuavR++o1Q26tKpmuu4M+dxppZaxkGRXu6tQ0dQf8q
N0paPaa+25gNe16iG7uayWpszUI3Sh3vHtiwliCOjqjlPWvCVuQ/aViwWytuPsceygDn6hOLp/9Y
XZBAJNSJ56HQTieuQmbIfTVFeab0Q6MZMAlDUoF8q8O6LOgJIbLfxj7x7GdApPDjwJhVBicjT2vm
I6wtv23kskNte+ayCtDFCj/db3m6chyI2rI64g0q9URhacXoo8Gi6RL11GPOhST+O8N+24+wL6lr
pPkwiBY6S7EKvn61hUvmzFrX/ce2b9n9xM36TpvRrrUZl9zmFjV4/nFl3ZmI3QAuqCWv16PLMZe+
+ImMU1BsmYkCgkTSqxX9VyJBkQ47bKWBiP5DhUk+KchQH5PgoEtAm0T4jRGPru9krR/nre9grvvW
/bdZrBXk/wn59S+rDS899DStgJk7zHd2G/tWfe1sCVpnQG3seOBpfT1n/U1Djv7aFmM04CJMuqjE
wqDEIgu6oXCjLErX6lF8Sxzceb40RG4GDbLBms/9etuPHOSHj/HQIVpYE8403uGkLKgz0CjkT9bz
f+97971/AVBLAwQUAAAACABTDVw0Ut9eN54HAADdFQAAFQAAAGRlbW8vU2VhcmNoRmlsZXMuamF2
YZVYbXMaNxD+zq/Y3of0CPggnX7oxKUdGtsN09RODW6nk/F0xCFAzaG7SDoT2vq/d1cv9wKGuvcB
n6TVs7vPvkjngqUf2YpDrlYJK1i65klWplzyZME3+XmnM3j5sgMv4U1e7JRYrQ18NRx+DbM1h7EV
h2m+NFumOFzlpVwwI3KJG2jPO4FAmi8A57kCU+/xK334lSuNG+CrZAgxCUR+KeqeE8QuL2HDdiBz
A6XmiCE0LEXGgX9OeWFASEjzTZEJJlMOW2HWVo9HSQjjd4+Rzw1DcYYbChwtm4LAjDeanrUxxevB
YLvdBk6QnkHmRPXg3eTN5fX08gyN9pvuZMa1BsU/lUKhw/MdsAKNStkcTc3YFvkFtlIc10xORm+V
MEKu+qA9fQSzENooMS9Ni7NgInreFEDWmIRoPIXJNIIfxtPJtE8gv01mb2/uZvDb+PZ2fD2bXE7h
5hbe3FxfTGaTm2scXcH4+nf4aXJ90QeOjKEe/rlQ5AGaKYhNvrDUTTlvmbDMnUm64KlYihRdk6uS
8meVP3Al0SMouNoITVHVaOCCYDKxEcZmhj70ixQNOh1UmysDf7IHlog8+aFcLjlSecsZyp/vL09k
UZqpUZxtjkhcYZIc23xzaZMH7WmvlUZkyQUz/Lyy57AumGTZTgudjOnlrwb+CVltkAqmFsnUvzxj
8yJPyw2XJrnwLydkBbL6GVnB3z2nj8kiP4ar5+3QnKl0nUztn+dIWtjni/9ScrX7b7G3wugTUp8I
5T1TmiuH6N5dD4Mp5TWnZrHBCJxlQnKYM+pODh2o3yWUikU5x8qFNGNYEM4JSiYNf3c6AIR1p11Z
yFxtsB2pfIPViNUheLawNcKyzI10AnBtpahDYrousPixA2xQmdphvQKWR6mpbhh2DcOpL7lFKiQI
OWAHzlC02EIj8oy6YYpdIGXYHB2Y9wZhMqZW5HCW8dTVnm2PzC/IcjNHUBR0llJjUqWEvERylw7M
WYKaJkvrk2+afkOaS9tRc5lhvwPyAhk2+Ucu+yQna5IcHHFAMGKBLmFzzLyY30mS8IDGIoPUsOfY
aNa4Z2HDAlAo8YDFCZp6SQjQjeSWYJfE2MgMl2jbQXpj9Ki1BwzsHUS69eS845Zc3NuAcRNCoF/N
jV0PCqBLDFAsJJ1a9qGDKnEJMQpaaP6xpYsi/uHeURS3kc1a5VsNjV5VKVPclEqiNYnbWOvqBiVe
UeVtncUxGv0YEvn5RVGZ7Ml/yMUCgySkNxu9wKzSld37VnvnSk2Hxcg7Et3R8LVtvkduIEmzAD+c
2d6Fx6C6x4GvN3pVvODMgKR36gOCu2uCXWNb+uOLlfbcR44nsYSYrE4yLldYGt/BEF68gDg6W0cJ
nuUs03b9w/C+C//8AzjPs+JgqVvnwXSnDd8kWEMJci9NJmPrcpUXXoB/FiYedls54SlyLo4gsi/e
0mZu0BqVHtaQbi8Hz0dY3FnmfcTm4dkZwdDNzfM849g2kBnKTvSFt3AsVVdeVw1lf6i9xQQqLB7+
+RYaHOJEr1fzQQxHLmpt2sR9gzWonHZrvVf35/VSrxcGj8AzughZUMvFSdDA1v8A9QyehK1Z/h/A
LgQncasoTTC2KzzECjq/cBBXerrPUMS2p7XYmBtV8ie329CfBGglx38w0Kl/7U+zmSr3Z9ScTPKC
y9gmQ9d3ZTKrofILl5Bdr6ECkXy737ndWr9hcMAMN5NwogaA1rXF7/eUh/sasPDituzf5+Kgo32B
pSt/qyrRq5BHwaW6aKQHb2PENFVfa8P+bugiLozPATm4Pce+LdEBF93Nrs6+ibrt5rRd00dXTHnT
ru6qGoIXR57BAE8j/FIz9lKA1xVVZcx+04wje317DVEgs+pM9oQa0dFH0XmHo7iWIXOcgLOFWjaN
fWvCkw8Xzl51K8VzBPlYbbdKbXXvUEXjBukK0UL3XVPpV2mw39ibnT9yqWQbd67QHeg5+MTkzp/Y
ndq1C3TFhTX9jKrk9Ndfy/Su0tfw2TcOPL0wNHD8wRB40RdgxAbvYhrvWDJdb5j6WJFy4a9YyvgE
oom40XmeOgEc7l7zp+dZvoQeUanHK9wR5U/RPENfkN1ejNuSFTc0jrtn1od63O1F2NkqqMcqsw4R
yeg6aXoYOJMbluF9x7hwhmu5bmToUmBK2OP27WQ2/eP95e0f78c/XqIfr4ZBaUVd4Bfpc6/fQktp
mO6N2mjtM9N4on5mZp1sxJ7h/YCxB3EkklbYRRNRq1A2YmlzjW1PJxnYPEM2scXYwwaVbOi/K43n
qSAipaOoZx0Qi1hgtECnueJh0g5wvmE+PXQRErI+zOh5bBodPp4pZuilxcJXRGpu8e2lQCJRCNcp
b+KIxlFLkDiwUgdd2wMduhbj+WizKLEdgHbvOeG1G2Ey3lRvJ6I9YbLASR4x4Wl+cXpGu1wb2lex
p+OxMdo7V45q2HMzus4dne5/RvTPKx+JtkO1qkbYnjwen3ww12Qu8YaJX3sMP3MfeAPb9/cwbMG3
a/w7yvk2kYenEn4L4xG4G8gufA9tL54+l+r1cDS1jqJhdUCl+Jk7pg8Cmv5SftltbD1wIzDWvF25
u0qSZrn2mh87j51/AVBLAwQKAAAAAAD0jb40AAAAAAAAAAAAAAAABQAAAGRlbW8vUEsBAhQAFAAA
AAgAUw1cNHX3ypWSAwAA6QcAABUAAAAAAAAAAQAgAAAAAAAAAGRlbW8vRGVsZXRlRmlsZXMuamF2
YVBLAQIUABQAAAAIAE2+VDQGOjGRUQQAABcKAAAWAAAAAAAAAAEAIAAAAMUDAABkZW1vL0ZpbGVE
b2N1bWVudC5qYXZhUEsBAhQACgAAAAAA0VW+NAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAwAAAASggA
AGRlbW8vaHRtbC9QSwECFAAUAAAACABMvlQ0sQzjRCIKAABzIQAAFwAAAAAAAAABACAAAAByCAAA
ZGVtby9odG1sL0VudGl0aWVzLmphdmFQSwECFAAUAAAACABMvlQ0xvDRkIUQAACCTwAAGQAAAAAA
AAABACAAAADJEgAAZGVtby9odG1sL0hUTUxQYXJzZXIuamF2YVBLAQIUABQAAAAIAEy+VDStbJmQ
jwsAAFIkAAAXAAAAAAAAAAEAIAAAAIUjAABkZW1vL2h0bWwvSFRNTFBhcnNlci5qalBLAQIUABQA
AAAIAEy+VDQq5gT5MwIAAOYFAAAiAAAAAAAAAAEAIAAAAEkvAABkZW1vL2h0bWwvSFRNTFBhcnNl
ckNvbnN0YW50cy5qYXZhUEsBAhQAFAAAAAgATL5UNCl3IIHYEQAAGq0AACUAAAAAAAAAAQAgAAAA
vDEAAGRlbW8vaHRtbC9IVE1MUGFyc2VyVG9rZW5NYW5hZ2VyLmphdmFQSwECFAAUAAAACABMvlQ0
mPS2iBIIAADkGAAAHQAAAAAAAAABACAAAADXQwAAZGVtby9odG1sL1BhcnNlRXhjZXB0aW9uLmph
dmFQSwECFAAUAAAACABMvlQ05O50t9MCAACCBQAAGwAAAAAAAAABACAAAAAkTAAAZGVtby9odG1s
L1BhcnNlclRocmVhZC5qYXZhUEsBAhQAFAAAAAgATL5UNOTbIZMXCAAAwSUAAB8AAAAAAAAAAQAg
AAAAME8AAGRlbW8vaHRtbC9TaW1wbGVDaGFyU3RyZWFtLmphdmFQSwECFAAUAAAACABMvlQ0xXWK
oLgCAAAIBwAAEwAAAAAAAAABACAAAACEVwAAZGVtby9odG1sL1RhZ3MuamF2YVBLAQIUABQAAAAI
AEy+VDRjyAAjLQMAALoGAAATAAAAAAAAAAEAIAAAAG1aAABkZW1vL2h0bWwvVGVzdC5qYXZhUEsB
AhQAFAAAAAgATL5UNNoAFfk4BAAAcgoAABQAAAAAAAAAAQAgAAAAy10AAGRlbW8vaHRtbC9Ub2tl
bi5qYXZhUEsBAhQAFAAAAAgATL5UNNljd9/KBQAAehAAABwAAAAAAAAAAQAgAAAANWIAAGRlbW8v
aHRtbC9Ub2tlbk1nckVycm9yLmphdmFQSwECFAAUAAAACACikL40KRw4LGsFAAD8DAAAFgAAAAAA
AAABACAAAAA5aAAAZGVtby9IVE1MRG9jdW1lbnQuamF2YVBLAQIUABQAAAAIAKKQvjQpHDgsawUA
APwMAAAaAAAAAAAAAAEAIAAAANhtAABkZW1vL0hUTUxEb2N1bWVudC5qYXZhLmJha1BLAQIUABQA
AAAIAFMNXDSYLa43FAUAAC4MAAAUAAAAAAAAAAEAIAAAAHtzAABkZW1vL0luZGV4RmlsZXMuamF2
YVBLAQIUABQAAAAIAFMNXDQgMWvmVQcAAJkVAAATAAAAAAAAAAEAIAAAAMF4AABkZW1vL0luZGV4
SFRNTC5qYXZhUEsBAhQAFAAAAAgAUw1cNFLfXjeeBwAA3RUAABUAAAAAAAAAAQAgAAAAR4AAAGRl
bW8vU2VhcmNoRmlsZXMuamF2YVBLAQIUAAoAAAAAAPSNvjQAAAAAAAAAAAAAAAAFAAAAAAAAAAAA
MAAAABiIAABkZW1vL1BLBQYAAAAAFQAVAKcFAAA7iAAAAAA=


--_NextPart_1_qmZrHLajoetbkwlTZTViemHPfyb
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--_NextPart_1_qmZrHLajoetbkwlTZTViemHPfyb--

From java-user-return-20986-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 12:46:08 2006
Return-Path: <java-user-return-20986-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88008 invoked from network); 30 May 2006 12:46:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 12:46:08 -0000
Received: (qmail 37606 invoked by uid 500); 30 May 2006 12:46:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37578 invoked by uid 500); 30 May 2006 12:46:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37567 invoked by uid 99); 30 May 2006 12:46:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 05:46:01 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of john.wang@gmail.com designates 64.233.166.182 as permitted sender)
Received: from [64.233.166.182] (HELO py-out-1112.google.com) (64.233.166.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 05:46:00 -0700
Received: by py-out-1112.google.com with SMTP id d42so127850pyd
        for <java-user@lucene.apache.org>; Tue, 30 May 2006 05:45:39 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=XX1jFVTCITEffU2DmbL2ikX91mtBnAfgsOVN3qqt+OjSQ+kzl3IZUJkQE2x3p4eVqQdOZD4edoyGECeu0L/RBQeCxGbn89usNXaUSRAOTIdeHETd61wwApZ9K2l7AUYG3EcxrK/f3vr7UO/DQXFHsYThpP9ZPIb9K8o3l0yT0kQ=
Received: by 10.35.31.14 with SMTP id i14mr106730pyj;
        Tue, 30 May 2006 05:45:39 -0700 (PDT)
Received: by 10.35.48.5 with HTTP; Tue, 30 May 2006 05:45:39 -0700 (PDT)
Message-ID: <8837fb770605300545i4d01788br9de39d2c8bc9e2c6@mail.gmail.com>
Date: Tue, 30 May 2006 08:45:39 -0400
From: "John Wang" <john.wang@gmail.com>
To: java-user@lucene.apache.org
Subject: merge factor and real time indexing
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_7873_18680721.1148993139448"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_7873_18680721.1148993139448
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi folks:

    I am working on an application that requires real time indexing, e.g.
for every insert, I open the writer, add a document and then closes the
writer.

    I want to control the number of files created, and according to the
documentation, a small mergeFactor is desired. However, I am experiencing
the opposite, see the following code segment:

public static void main(String[] args) throws IOException{
        int mfactor=10;
        int mbuffer=1000;


        IndexModifier writer=null;
        File dir=new File("/tmp/john/");

        long start=System.currentTimeMillis();
        for (int i=0;i<5000;++i){
            try{
                boolean create=!IndexReader.indexExists(dir);
                writer=new IndexModifier(dir,new StandardAnalyzer(),create);
                writer.setMergeFactor(mfactor);
                writer.setMaxBufferedDocs(mbuffer);
                    Document doc=new Document();
                    doc.add(new Field("test","this is a test doc",
Field.Store.YES,Field.Index.TOKENIZED,Field.TermVector.YES));
                    writer.addDocument(doc);
            }
            finally{
                if (writer!=null){
                    writer.close();
                }
            }

        }
        long end=System.currentTimeMillis();

        System.out.println("took: "+(end-start));

    }

If I set the mfactor value to a high number, e.g. 1000, indexing takes much
longer but the number of files decreases dramatically.

Is this expected or are there any better ways of tuning the indexing
parameters so that I limit the number of open files while gettting a decent
indexing speed?

Thanks

-John

------=_Part_7873_18680721.1148993139448--

From java-user-return-20987-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 13:09:19 2006
Return-Path: <java-user-return-20987-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97978 invoked from network); 30 May 2006 13:09:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 13:09:19 -0000
Received: (qmail 92552 invoked by uid 500); 30 May 2006 13:09:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92297 invoked by uid 500); 30 May 2006 13:09:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92286 invoked by uid 99); 30 May 2006 13:09:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 06:09:12 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.93.125.162] (HELO cpanel37.gzo.com) (69.93.125.162)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 06:09:10 -0700
Received: from bizhan.fors.com ([213.234.218.76] helo=pb)
	by cpanel37.gzo.com with esmtpa (Exim 4.52)
	id 1Fl3xn-0007aF-8M
	for java-user@lucene.apache.org; Tue, 30 May 2006 08:08:47 -0500
From: "Pasha Bizhan" <lucene-list@lucenedotnet.com>
To: <java-user@lucene.apache.org>
Subject: RE: return document name as null Please help
Date: Tue, 30 May 2006 17:16:36 +0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1506
In-Reply-To: <934F531A825AFF4F863658E2402E064707659856@ho-kkj-msg3.in.niit.com>
Thread-Index: AcaD5g2RJA7dkuxDQfaa9/CMHIEG8wABBXYA
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - cpanel37.gzo.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - lucenedotnet.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060530130911.BC71210FB00F@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi, 

> From: Amaresh Kumar Yadav [mailto:Amaresh.Yadav@niit.com] 
> 
> I am using attached source code for indexing on windows plateform.
> after compiling and making war file, build folder is created 

I guess you use lucene demo for files not for html files. 

In this case documents don't contain the fileds "title" and "summary".
And you should use "path" field instead of "title" field.

Edit results.jps
<%
                        Document doc = hits.doc(i);                    //get
the next document 
-                        String doctitle = doc.get("title");
//get its title
+                        String doctitle = doc.get("path");            //get
its title

                        String url = doc.get("url");                   //get
its url field
                        if ((doctitle == null) || doctitle.equals("")) //use
the url if it has no title
...

Also, use Luke to inspect your index.

Pasha Bizhan



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20988-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 15:03:35 2006
Return-Path: <java-user-return-20988-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45820 invoked from network); 30 May 2006 15:03:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 15:03:34 -0000
Received: (qmail 48067 invoked by uid 500); 30 May 2006 15:03:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47946 invoked by uid 500); 30 May 2006 15:03:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47754 invoked by uid 99); 30 May 2006 15:03:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 08:03:25 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.202] (HELO web50311.mail.yahoo.com) (206.190.39.202)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 30 May 2006 08:03:22 -0700
Received: (qmail 94234 invoked by uid 60001); 30 May 2006 15:03:01 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=TLEAijWq/nyMhB/U2y83dpq8zJw7hKfrZ3j034JHMHIZ9GYIIHlECwi4zsyVThCvJGJMWTV0y7Qz4fE+XkE/rawx0gwuTuks5ZK+wUG+JaUiO28OMCQEK0GlFRjpQpUkMygRWTcEBRbXqgcMkO9yaNL84IF1fSCIErqpUH9d9o8=  ;
Message-ID: <20060530150301.94232.qmail@web50311.mail.yahoo.com>
Date: Tue, 30 May 2006 08:03:01 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: merge factor and real time indexing
To: java-user@lucene.apache.org
In-Reply-To: <8837fb770605300545i4d01788br9de39d2c8bc9e2c6@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

John,
I can't spot anything wrong in the code.  I assume you are certain there are no IOException, no issues with locks, and that your writer is really getting close()d.  I haven't used IndexModifier, and since that's a layer on top of the real IndexWriter with the same API exposed, I would just use IndexWriter directly and see if that makes a difference.  If it does, then maybe there is a bug in IndexModifier.

Otis

----- Original Message ----
From: John Wang <john.wang@gmail.com>
To: java-user@lucene.apache.org
Sent: Tuesday, May 30, 2006 5:45:39 AM
Subject: merge factor and real time indexing

Hi folks:

    I am working on an application that requires real time indexing, e.g.
for every insert, I open the writer, add a document and then closes the
writer.

    I want to control the number of files created, and according to the
documentation, a small mergeFactor is desired. However, I am experiencing
the opposite, see the following code segment:

public static void main(String[] args) throws IOException{
        int mfactor=10;
        int mbuffer=1000;


        IndexModifier writer=null;
        File dir=new File("/tmp/john/");

        long start=System.currentTimeMillis();
        for (int i=0;i<5000;++i){
            try{
                boolean create=!IndexReader.indexExists(dir);
                writer=new IndexModifier(dir,new StandardAnalyzer(),create);
                writer.setMergeFactor(mfactor);
                writer.setMaxBufferedDocs(mbuffer);
                    Document doc=new Document();
                    doc.add(new Field("test","this is a test doc",
Field.Store.YES,Field.Index.TOKENIZED,Field.TermVector.YES));
                    writer.addDocument(doc);
            }
            finally{
                if (writer!=null){
                    writer.close();
                }
            }

        }
        long end=System.currentTimeMillis();

        System.out.println("took: "+(end-start));

    }

If I set the mfactor value to a high number, e.g. 1000, indexing takes much
longer but the number of files decreases dramatically.

Is this expected or are there any better ways of tuning the indexing
parameters so that I limit the number of open files while gettting a decent
indexing speed?

Thanks

-John




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20989-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 15:09:33 2006
Return-Path: <java-user-return-20989-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48238 invoked from network); 30 May 2006 15:09:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 15:09:32 -0000
Received: (qmail 66547 invoked by uid 500); 30 May 2006 15:09:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65904 invoked by uid 500); 30 May 2006 15:09:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65890 invoked by uid 99); 30 May 2006 15:09:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 08:09:27 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.178 as permitted sender)
Received: from [64.233.166.178] (HELO py-out-1112.google.com) (64.233.166.178)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 08:09:26 -0700
Received: by py-out-1112.google.com with SMTP id d42so170287pyd
        for <java-user@lucene.apache.org>; Tue, 30 May 2006 08:09:06 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=NB+18+tnm+Cw9HwtK2NTsLnQXVXcexXHLiH1ngL38jPgryRObHYNqNetOs4RWthoiHf4o4+5nQNFHHCb1BNeL5qXtP4Fo0og+0x1voVqqoD4yaBLaAfoAmi4Q1lUxy1xdYDFoWi5KqnsVR8dgC0UBucpcqXaL0EAKKDOKoHPVvA=
Received: by 10.35.37.18 with SMTP id p18mr2593121pyj;
        Tue, 30 May 2006 08:09:05 -0700 (PDT)
Received: by 10.35.17.5 with HTTP; Tue, 30 May 2006 08:09:05 -0700 (PDT)
Message-ID: <359a92830605300809n632aed1bl2ea57a11a2beb8fb@mail.gmail.com>
Date: Tue, 30 May 2006 11:09:05 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: fastest way to get raw hit count
In-Reply-To: <934F531A825AFF4F863658E2402E06470763759D@ho-kkj-msg3.in.niit.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_12356_11333698.1149001745944"
References: <934F531A825AFF4F863658E2402E06470763759D@ho-kkj-msg3.in.niit.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_12356_11333698.1149001745944
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

How did you store the data when you indexed it? If you didn't store it, it
won't be available for retrieval (although it will be available for
searching if you indexed it with, say Field.Index.TOKENIZED). See
Field.Store.YES.

These are for the Document.add call.

Best
Erick

P.S. It would be better if you started a new thread when asking a question
unrelated to the current thread.

------=_Part_12356_11333698.1149001745944--

From java-user-return-20990-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 15:13:13 2006
Return-Path: <java-user-return-20990-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50251 invoked from network); 30 May 2006 15:13:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 15:13:12 -0000
Received: (qmail 75521 invoked by uid 500); 30 May 2006 15:13:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75480 invoked by uid 500); 30 May 2006 15:13:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75469 invoked by uid 99); 30 May 2006 15:13:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 08:13:06 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.61] (HELO web50307.mail.yahoo.com) (206.190.38.61)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 30 May 2006 08:13:05 -0700
Received: (qmail 22538 invoked by uid 60001); 30 May 2006 15:12:41 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=v9V+BWiAMPzBASdxGFP4BF3f50o0XGJ9sWgQqthIiZM1+QEwxV1dbc/NtDB+tChgrOsXavQzt5ZlVwzZiJIbhMSaP0xnQXwNYsAtjLBp922GGA3b1I7tBRP7qR2Di6A+kwb/7bqN/FIVqCTX/m914Hg+U0Gfv9pD3EiLTV8wsio=  ;
Message-ID: <20060530151241.22536.qmail@web50307.mail.yahoo.com>
Date: Tue, 30 May 2006 08:12:41 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Maybe a bug of lucene 1.9
To: java-user@lucene.apache.org
In-Reply-To: <4f2c7c9b0605290334g332e507akc112b34c4cda31f6@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Andy,

Since you said things work with Lucene 2.0, but not 1.9, I imagine this is due to some bug in 1.9 that was fixed for 2.0.  Which one, I don't know.  Since 2.0 is out now, this may no longer be an issue for you.

Your tool for picking terms from the .tis file sounds interesting.  If you want to contribute that, please attach it to a JIRA issue.  One day we should have a set of tools for dissecting and analyzing indices, and this type of tool might help with that.

Otis

----- Original Message ----
From: hu andy <andyhugb@gmail.com>
To: java-user@lucene.apache.org
Sent: Monday, May 29, 2006 3:34:27 AM
Subject: Maybe a bug of lucene 1.9

I indexed a collection of Chinese documents. I use a special segmentation
api to do the analysis, because the segmentation of Chinese is different
from English.

 A strange thing happened.   With lucene 1.4 or lucene 2.0, it will be all
right to retrieve the corresponding documents given the terms that exist in
the index  *.tis file(I wrote a program to pick the terms from the .tis file
and search them).  But with 1.9, for some terms that existed in the index, I
couldn't retrieve the corresponding document.

Can anybody give me some advice about this? Thank you in advance.




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20991-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 15:15:09 2006
Return-Path: <java-user-return-20991-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50762 invoked from network); 30 May 2006 15:15:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 15:15:08 -0000
Received: (qmail 79170 invoked by uid 500); 30 May 2006 15:15:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79142 invoked by uid 500); 30 May 2006 15:15:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79130 invoked by uid 99); 30 May 2006 15:15:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 08:15:02 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [62.160.235.108] (HELO mh4.cvf.fr) (62.160.235.108)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 08:15:00 -0700
Received: from [10.175.254.140] (helo=ms.int75.cvf)
	by mh4.cvf.fr with esmtp id 1Fl5va-0006qO-00; Tue, 30 May 2006 17:14:38 +0200
Received: from [127.0.0.1] (helo=sdalouche1.dev75.cvf)
	by ms.int75.cvf with esmtp id 1Fl5va-0008Bd-00; Tue, 30 May 2006 17:14:38 +0200
Subject: Lucene search optimization
From: Sami Dalouche <skoobi@free.fr>
To: java-user@lucene.apache.org
Content-Type: text/plain
Date: Tue, 30 May 2006 17:12:07 +0200
Message-Id: <1149001927.19768.19.camel@samcvf>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-complaints-to: abuse@cvf.fr
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I have 2 million documents, with a name property. (~15 to 20
characters).
Fuzzy searching against this property takes around 3 seconds, which is
way too much for what I plan to do, so I am considering the possible
optimizations. I can add a property to each of the documents, that could
partition the document space into 400 spaces. Each space would then be
limited to 5000 documents, which should be small enough to make the
fuzzy search faster.

However, my question is : how do I take advantage of this additional
property ? Using a traditional RDBMS, I would add an index on the field,
but on Lucene, I'm not sure of how to proceed. Would filters be the way
to go ?
(http://lucene.apache.org/java/docs/api/org/apache/lucene/search/Filter.html) 
Could a Caching Wrapperfilter help even more ?
(http://lucene.apache.org/java/docs/api/org/apache/lucene/search/CachingWrapperFilter.html) 

Additionnally, the additional property is an id, so can I store it as a
number so that it is faster (I guess) than string comparison ?

Thanks a lot,
Sami Dalouche




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20992-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 15:23:01 2006
Return-Path: <java-user-return-20992-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53505 invoked from network); 30 May 2006 15:23:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 15:23:01 -0000
Received: (qmail 89289 invoked by uid 500); 30 May 2006 15:22:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89252 invoked by uid 500); 30 May 2006 15:22:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89241 invoked by uid 99); 30 May 2006 15:22:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 08:22:55 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 08:22:54 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id E4C4733CBAD; Tue, 30 May 2006 11:22:33 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id 1C61033CBA9
	for <java-user@lucene.apache.org>; Tue, 30 May 2006 11:22:33 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <1149001927.19768.19.camel@samcvf>
References: <1149001927.19768.19.camel@samcvf>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <79CBF2E8-3D89-4598-8807-26B7DCF2561F@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene search optimization
Date: Tue, 30 May 2006 11:22:30 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Sami,

You're on to the right approach seeking something other than  
FuzzyQuery.  FuzzyQuery is rarely generally useful and there are  
other ways to achieve the same sort of thing (soundex, metaphone) in  
an efficient manner.

If you could share some details about these properties and how you  
need to query them I'm sure the community could offer suggestions on  
an efficient and clean implementation.  Without details, its not  
possible to (easily) know how recommend a specific technique.

	Erik


On May 30, 2006, at 11:12 AM, Sami Dalouche wrote:

> Hi,
>
> I have 2 million documents, with a name property. (~15 to 20
> characters).
> Fuzzy searching against this property takes around 3 seconds, which is
> way too much for what I plan to do, so I am considering the possible
> optimizations. I can add a property to each of the documents, that  
> could
> partition the document space into 400 spaces. Each space would then be
> limited to 5000 documents, which should be small enough to make the
> fuzzy search faster.
>
> However, my question is : how do I take advantage of this additional
> property ? Using a traditional RDBMS, I would add an index on the  
> field,
> but on Lucene, I'm not sure of how to proceed. Would filters be the  
> way
> to go ?
> (http://lucene.apache.org/java/docs/api/org/apache/lucene/search/ 
> Filter.html)
> Could a Caching Wrapperfilter help even more ?
> (http://lucene.apache.org/java/docs/api/org/apache/lucene/search/ 
> CachingWrapperFilter.html)
>
> Additionnally, the additional property is an id, so can I store it  
> as a
> number so that it is faster (I guess) than string comparison ?
>
> Thanks a lot,
> Sami Dalouche
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20993-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 15:28:26 2006
Return-Path: <java-user-return-20993-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57971 invoked from network); 30 May 2006 15:28:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 15:28:26 -0000
Received: (qmail 678 invoked by uid 500); 30 May 2006 15:28:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 296 invoked by uid 500); 30 May 2006 15:28:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 285 invoked by uid 99); 30 May 2006 15:28:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 08:28:20 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 08:28:19 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id C532533CBAE; Tue, 30 May 2006 11:27:58 -0400 (EDT)
X-Spam-Checker-Version: SpamAssassin 3.1.1 (2006-03-10) on javelina
X-Spam-Level: 
Received: from [128.143.193.79] (d-128-193-79.bootp.Virginia.EDU [128.143.193.79])
	by ehatchersolutions.com (Postfix) with ESMTP id F2C7433CBA9
	for <java-user@lucene.apache.org>; Tue, 30 May 2006 11:27:55 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v750)
In-Reply-To: <4f2c7c9b0605290334g332e507akc112b34c4cda31f6@mail.gmail.com>
References: <4f2c7c9b0605290334g332e507akc112b34c4cda31f6@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; delsp=yes; format=flowed
Message-Id: <C0FEEF53-423D-4F27-A1C0-F32C5CC9BEE1@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Maybe a bug of lucene 1.9
Date: Tue, 30 May 2006 11:27:53 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.750)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.1.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On May 29, 2006, at 6:34 AM, hu andy wrote:
> I indexed a collection of Chinese documents. I use a special =20
> segmentation
> api to do the analysis, because the segmentation of Chinese is =20
> different
> from English.

I'll second Otis' request about the special segmentation api.  If it =20
is open source, I'd love to tinker with it.  =E4=B8=AD=E6=96=87=E6=98=AF=E4=
=B8=8D=E5=A4=AA=E9=9A=BE=E3=80=82  :)

> A strange thing happened.   With lucene 1.4 or lucene 2.0, it will =20
> be all
> right to retrieve the corresponding documents given the terms that =20
> exist in
> the index  *.tis file(I wrote a program to pick the terms from =20
> the .tis file
> and search them).  But with 1.9, for some terms that existed in the =20=

> index, I
> couldn't retrieve the corresponding document.
>
> Can anybody give me some advice about this? Thank you in advance.

If you can share an example that demonstrates an issue, we'd love to =20
have it and incorporate it into our test suite and fix the =20
implementation if a bug exists.   A working example of a bug can get =20
fixed much easier than looking for needles in a haystack.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20994-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 15:56:20 2006
Return-Path: <java-user-return-20994-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68418 invoked from network); 30 May 2006 15:56:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 15:56:19 -0000
Received: (qmail 44016 invoked by uid 500); 30 May 2006 15:56:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43037 invoked by uid 500); 30 May 2006 15:56:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43026 invoked by uid 99); 30 May 2006 15:56:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 08:56:14 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.214] (HELO web26003.mail.ukl.yahoo.com) (217.12.10.214)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 30 May 2006 08:56:12 -0700
Received: (qmail 21373 invoked by uid 60001); 30 May 2006 15:55:48 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=e+MhaaaRoSGA1a3pXzuKKHzYD8/3inLLDQ5r7qnuHDH2NTiXo13xpTPYHtY+i1RI97bJiLcxAVs11TCCbptNe27hTsetc0uly/47PrmSDNe12ColGJiEEA2x2lXB313aI95xg8sbi7mFyl2pSrH+LFnoY4KA9F5FzHfPug/oicE=  ;
Message-ID: <20060530155548.21371.qmail@web26003.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26003.mail.ukl.yahoo.com via HTTP; Tue, 30 May 2006 16:55:48 BST
Date: Tue, 30 May 2006 16:55:48 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Lucene search optimization
To: java-user@lucene.apache.org
In-Reply-To: <1149001927.19768.19.camel@samcvf>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Take a look at "FuzzyLikeThisQuery" in
contrib\queries.

I use it for name searches on large indexes. 
Unlike FuzzyQuery it:
a) limits the number of query terms produced
b) provides better ranking (disables idf factor which
otherwise boosts rare misspellings)

The cost of running a query is strongly related to the
quantity of terms in the query.
FuzzyQuery only limits the number of terms by quality
(which means you can unexpectedly produce a large
quantity of terms and therefore have a slow query).
FuzzyLikeThis is more explicit - it limits the
*quantity* of terms used (and automatically shortlists
to the best quality terms using the same edit-distance
metric as FuzzyQuery for ranking quality). 


Cheers,
Mark



	
	
		
___________________________________________________________ 
All new Yahoo! Mail "The new Interface is stunning in its simplicity and ease of use." - PC Magazine 
http://uk.docs.yahoo.com/nowyoucan.html

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20995-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 15:57:52 2006
Return-Path: <java-user-return-20995-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69175 invoked from network); 30 May 2006 15:57:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 15:57:52 -0000
Received: (qmail 45659 invoked by uid 500); 30 May 2006 15:57:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45313 invoked by uid 500); 30 May 2006 15:57:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45302 invoked by uid 99); 30 May 2006 15:57:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 08:57:46 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.200.76.18] (HELO mail4.niit.com) (203.200.76.18)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 08:57:45 -0700
Received: from 172.17.8.245 [172.17.8.245]
	by mail4.niit.com
	with XWall v3.33 ;
	Tue, 30 May 2006 21:27:19 +0530
Received: by ho-kkj-msg3.in.niit.com with Internet Mail Service (5.5.2657.72)
	id <L9CJ98Z0>; Tue, 30 May 2006 21:27:18 +0530
From: Amaresh Kumar Yadav <Amaresh.Yadav@niit.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: RE: return document name as null Please help
Date: Tue, 30 May 2006 21:27:17 +0530
X-Assembled-By: XWall v3.33
X-Mailer: Internet Mail Service (5.5.2657.72)
Message-ID: <934F531A825AFF4F863658E2402E064707659C6A@ho-kkj-msg3.in.niit.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks Pasha,

I got success.

Regards..

Amaresh

-----Original Message-----
From: Pasha Bizhan [mailto:lucene-list@lucenedotnet.com]
Sent: Tuesday, May 30, 2006 6:47 PM
To: java-user@lucene.apache.org
Subject: RE: return document name as null Please help


Hi,=20

> From: Amaresh Kumar Yadav [mailto:Amaresh.Yadav@niit.com]=20
>=20
> I am using attached source code for indexing on windows plateform.
> after compiling and making war file, build folder is created=20

I guess you use lucene demo for files not for html files.=20

In this case documents don't contain the fileds "title" and "summary".
And you should use "path" field instead of "title" field.

Edit results.jps
<%
=20                       Document doc =3D hits.doc(i);                    /=
/get
the next document=20
-                        String doctitle =3D doc.get("title");
//get its title
+                        String doctitle =3D doc.get("path");            //g=
et
its title

=20                       String url =3D doc.get("url");                   /=
/get
its url field
=20                       if ((doctitle =3D=3D null) || doctitle.equals(""))=
 //use
the url if it has no title
...

Also, use Luke to inspect your index.

Pasha Bizhan



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
=0D

----------------------------------------------------------------------
DISCLAIMER

This email and any files transmitted with it are confidential and are solely=
 for the use of the individual or entity to which it is addressed. Any use, =
distribution, copying or disclosure by any other person is strictly prohibit=
ed. If you receive this transmission in error, please notify the sender by r=
eply email and then destroy the message. Opinions, conclusions and other inf=
ormation in this message that do not relate to official business of the comp=
any shall be understood to be neither given nor endorsed by NIIT Ltd. or NII=
T Technologies Ltd. Any information contained in this email, when addressed =
to Clients is subject to the terms and conditions in governing client contra=
ct.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20996-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 16:05:00 2006
Return-Path: <java-user-return-20996-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71623 invoked from network); 30 May 2006 16:05:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 16:05:00 -0000
Received: (qmail 58678 invoked by uid 500); 30 May 2006 16:04:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58650 invoked by uid 500); 30 May 2006 16:04:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58639 invoked by uid 99); 30 May 2006 16:04:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 09:04:53 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.200.76.18] (HELO mail4.niit.com) (203.200.76.18)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 09:04:53 -0700
Received: from 172.17.8.245 [172.17.8.245]
	by mail4.niit.com
	with XWall v3.33 ;
	Tue, 30 May 2006 21:34:28 +0530
Received: by ho-kkj-msg3.in.niit.com with Internet Mail Service (5.5.2657.72)
	id <L9CJ986A>; Tue, 30 May 2006 21:34:27 +0530
From: Amaresh Kumar Yadav <Amaresh.Yadav@niit.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: Can we search data stored  in oracle database  ??
Date: Tue, 30 May 2006 21:34:27 +0530
X-Assembled-By: XWall v3.33
X-Mailer: Internet Mail Service (5.5.2657.72)
Message-ID: <934F531A825AFF4F863658E2402E064707659C73@ho-kkj-msg3.in.niit.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi All,

=20       Can we search data which is stored in oracle database, by lucene
search engine  ????????

anybody has idea   ??????

Infact  i have some data which is stored in a table on oracle database,
presently i search the data through query..Now i want to optimize it by
lucene search engine.Is that possible?????


Regards...


Amaresh Yadav

----------------------------------------------------------------------
DISCLAIMER

This email and any files transmitted with it are confidential and are solely=
 for the use of the individual or entity to which it is addressed. Any use, =
distribution, copying or disclosure by any other person is strictly prohibit=
ed. If you receive this transmission in error, please notify the sender by r=
eply email and then destroy the message. Opinions, conclusions and other inf=
ormation in this message that do not relate to official business of the comp=
any shall be understood to be neither given nor endorsed by NIIT Ltd. or NII=
T Technologies Ltd. Any information contained in this email, when addressed =
to Clients is subject to the terms and conditions in governing client contra=
ct.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20997-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 16:12:05 2006
Return-Path: <java-user-return-20997-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73514 invoked from network); 30 May 2006 16:12:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 16:12:04 -0000
Received: (qmail 77464 invoked by uid 500); 30 May 2006 16:11:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77243 invoked by uid 500); 30 May 2006 16:11:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 67055 invoked by uid 99); 30 May 2006 16:08:04 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=FORGED_MSGID_AOL,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of prasen.bea@gmail.com designates 64.233.162.205 as permitted sender)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:user-agent:mime-version:to:subject:content-type:content-transfer-encoding:from;
        b=VgOWA0NInT6ykz1YxWQW8UCe6TXGP0dabyFIzCNdtVg2wqCM6+Xv0cTuZ2VyjAJiO0MxBUe5i5o6BwnXLoFamMqrsQyWEpcQxamvBz8beILPd2tbrb3uncRi0ljjT8FkTOx91rGaRrHkbhBXVMBj/4bRoOR1wBpiOI0m5C21SCE=
Message-ID: <447C6DC3.4040109@aol.com>
Date: Tue, 30 May 2006 21:37:31 +0530
User-Agent: Thunderbird 1.5 (X11/20060313)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Enforcing Primary key uniqueness in lucene index
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
From: Prasenjit Mukherjee <prasen.bea@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I want to enforce the concept of a unique primary key in lucene index by 
having a field whose values has to be unique for all lucene documents. 
One way  is to do a search just before indexing, but that seems to 
consume lot of time as you have to create a new IndexSearcher every time 
you want to index/search.

Won't it be nice if we could do it while indexing itself ?

thanks,
Prasen



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20998-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 17:13:59 2006
Return-Path: <java-user-return-20998-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1478 invoked from network); 30 May 2006 17:13:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 17:13:59 -0000
Received: (qmail 5521 invoked by uid 500); 30 May 2006 17:13:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5471 invoked by uid 500); 30 May 2006 17:13:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5457 invoked by uid 99); 30 May 2006 17:13:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 10:13:52 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.151.89.70] (HELO server) (213.151.89.70)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 10:13:50 -0700
Received: from [85.207.40.193] (helo=[10.10.1.71])
	by server with esmtp (Exim 4.50)
	id 1Fl7p2-00007H-U4
	for java-user@lucene.apache.org; Tue, 30 May 2006 19:16:00 +0200
Message-ID: <447C7D1E.7080802@tejnora.cz>
Date: Tue, 30 May 2006 19:13:02 +0200
From: Karel Tejnora <karel@tejnora.cz>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Enforcing Primary key uniqueness in lucene index
References: <447C6DC3.4040109@aol.com>
In-Reply-To: <447C6DC3.4040109@aol.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-SA-Exim-Connect-IP: 85.207.40.193
X-SA-Exim-Mail-From: karel@tejnora.cz
X-SA-Exim-Scanned: No (on server); SAEximRunCond expanded to false
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You can use jdbm.sf.net for holding your_id to lucene_id relation in a 
transaction hashtable on the disk.

Also Yonik will say solr at incubator.apache.org/solr has this 
constraint check implemented.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-20999-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 17:26:59 2006
Return-Path: <java-user-return-20999-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5698 invoked from network); 30 May 2006 17:26:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 17:26:58 -0000
Received: (qmail 26036 invoked by uid 500); 30 May 2006 17:26:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25991 invoked by uid 500); 30 May 2006 17:26:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25980 invoked by uid 99); 30 May 2006 17:26:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 10:26:53 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of alsor.net@gmail.com designates 64.233.182.189 as permitted sender)
Received: from [64.233.182.189] (HELO nf-out-0910.google.com) (64.233.182.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 10:26:52 -0700
Received: by nf-out-0910.google.com with SMTP id l36so163658nfa
        for <java-user@lucene.apache.org>; Tue, 30 May 2006 10:26:31 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=Ga+3VRgrycd8qva3ymb7tsDzq7/fjVTr3QWpBKrm2OCSG/W0dAlD4M/jkDa5HdDZf0XEU/NNheG6GbHEPEw5Y30a9NvTxWQE9/3439cGHztfm08JaIhxBXYM5k2lkHhcAGGjzwTRaSGi1t5Ec48XifUZrS7X0G5kxx0itXzfZXU=
Received: by 10.49.33.18 with SMTP id l18mr2759002nfj;
        Tue, 30 May 2006 10:26:31 -0700 (PDT)
Received: by 10.48.214.7 with HTTP; Tue, 30 May 2006 10:26:30 -0700 (PDT)
Message-ID: <3572a02b0605301026p2b5c56d9sbcc66bcea5795cb8@mail.gmail.com>
Date: Tue, 30 May 2006 21:26:30 +0400
From: "Alexey Sorokin" <alsor.net@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Can we search data stored in oracle database ??
In-Reply-To: <934F531A825AFF4F863658E2402E064707659C73@ho-kkj-msg3.in.niit.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <934F531A825AFF4F863658E2402E064707659C73@ho-kkj-msg3.in.niit.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-109358021acbfc89456e446740dc2bbf9049950f

2006/5/30, Amaresh Kumar Yadav <Amaresh.Yadav@niit.com>:
> Hi All,
>
>         Can we search data which is stored in oracle database, by lucene
> search engine  ????????
>
> anybody has idea   ??????
>
> Infact  i have some data which is stored in a table on oracle database,
> presently i search the data through query..Now i want to optimize it by
> lucene search engine.Is that possible?????
>
>
> Regards...
>
>
> Amaresh Yadav
>
> ----------------------------------------------------------------------
> DISCLAIMER
>
> This email and any files transmitted with it are confidential and are solely for the use of the individual or entity to which it is addressed. Any use, distribution, copying or disclosure by any other person is strictly prohibited. If you receive this transmission in error, please notify the sender by reply email and then destroy the message. Opinions, conclusions and other information in this message that do not relate to official business of the company shall be understood to be neither given nor endorsed by NIIT Ltd. or NIIT Technologies Ltd. Any information contained in this email, when addressed to Clients is subject to the terms and conditions in governing client contract.
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
ICQ: 166072598

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21000-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 18:45:41 2006
Return-Path: <java-user-return-21000-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42283 invoked from network); 30 May 2006 18:45:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 18:45:41 -0000
Received: (qmail 81878 invoked by uid 500); 30 May 2006 18:45:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81849 invoked by uid 500); 30 May 2006 18:45:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81836 invoked by uid 99); 30 May 2006 18:45:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 11:45:35 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [17.250.248.186] (HELO smtpout.mac.com) (17.250.248.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 11:45:33 -0700
Received: from mac.com (smtpin02-en2 [10.13.10.147])
	by smtpout.mac.com (Xserve/8.12.11/smtpout16/MantshX 4.0) with ESMTP id k4UIjDOe006229
	for <java-user@lucene.apache.org>; Tue, 30 May 2006 11:45:13 -0700 (PDT)
Received: from [127.0.0.1] (216-12-26-38.va.mvl.ntelos.net [216.12.26.38])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin02/MantshX 4.0) with ESMTP id k4UIj2Do014609
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <java-user@lucene.apache.org>; Tue, 30 May 2006 11:45:12 -0700 (PDT)
Message-ID: <447C92B2.4030209@mac.com>
Date: Tue, 30 May 2006 14:45:06 -0400
From: "Michael J. Prichard" <michael_prichard@mac.com>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Document design, analyzer questions?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

I am working on a system that will index emails and their attachments.  
I have all the pieces working that parse the documents and I am now 
working on the actual indexing part.  I would like to have synonym 
searching as well.

Question is two fold.  One, here is the layout I was thinking:

Field 	Type 	Indexed/Unindexed 	Stored/UnStored
ItemID 	
	Unindexed 	Stored
ItemGUID 	
	Unindexed 	Stored
ItemType 	
	Indexed 	Stored
ItemDate 	Field 	Indexed 	Unstored
ItemKeywords 	Field 	Indexed 	Unstored
ItemName 	Field 	Indexed 	Unstored
ItemContent 	Field 	Indexed 	Unstored
ItemFrom 	Field 	Indexed 	Unstored
ItemTo 	Field 	Indexed 	Unstored
ItemCC 	Field 	Indexed 	Unstored
ItemBCC 	Field 	Indexed 	Unstored


Searches will be combinations of To, From, CC, Date and Content.   Does 
this look ok?

Also, any recommendations on what analyzer to use?  I was thinking the 
synonym analyzer based on the one in the Lucene in Action book.

Thanks,
Michael

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21001-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 19:17:26 2006
Return-Path: <java-user-return-21001-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53520 invoked from network); 30 May 2006 19:17:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 19:17:25 -0000
Received: (qmail 30199 invoked by uid 500); 30 May 2006 19:17:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29966 invoked by uid 500); 30 May 2006 19:17:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29955 invoked by uid 99); 30 May 2006 19:17:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 12:17:18 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [216.240.153.78] (HELO mail.prostate90.com) (216.240.153.78)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 12:17:16 -0700
Received: from samlaptop (unknown [81.56.241.124])
	by mail.prostate90.com (Postfix) with ESMTP id 54173150012;
	Tue, 30 May 2006 12:17:03 -0700 (PDT)
Subject: Re: Lucene search optimization
From: Sami Dalouche <skoobi@free.fr>
To: java-user@lucene.apache.org
In-Reply-To: <79CBF2E8-3D89-4598-8807-26B7DCF2561F@ehatchersolutions.com>
References: <1149001927.19768.19.camel@samcvf>
	 <79CBF2E8-3D89-4598-8807-26B7DCF2561F@ehatchersolutions.com>
Content-Type: text/plain; charset=UTF-8
Date: Tue, 30 May 2006 21:16:47 +0200
Message-Id: <1149016608.24214.9.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I didn't want to bother you with the exact details of my document, but
since you're asking.. :-)

So, I have the list of all world cities, and would like to let the users
search for their city, allowing them to do small mistakes.
Additionnally, since cities have sometimes different names, spellings,
etc (like a small city near mine which is called Le Perray en Yvelines,
sometimes spellt Le-Perray-en-Yvelines, Le Perray en Ynes, Le Perray,
etc). 

The way to limit the number of returned documents that I was thinking of
was to specify the country, which would then divide the search space,
but if you think of something better, I am open to any suggestion.

Soundex and metaphones are specific to languages, right ? Would it work
for cities ?

The cities are available as XML from http://www.sirika.com/data/xmlgz/

If you need more information, just ask.
Regards,
Sami Dalouche


Le mardi 30 mai 2006  11:22 -0400, Erik Hatcher a crit :
> Sami,
> 
> You're on to the right approach seeking something other than  
> FuzzyQuery.  FuzzyQuery is rarely generally useful and there are  
> other ways to achieve the same sort of thing (soundex, metaphone) in  
> an efficient manner.
> 
> If you could share some details about these properties and how you  
> need to query them I'm sure the community could offer suggestions on  
> an efficient and clean implementation.  Without details, its not  
> possible to (easily) know how recommend a specific technique.
> 
> 	Erik
> 
> 
> On May 30, 2006, at 11:12 AM, Sami Dalouche wrote:
> 
> > Hi,
> >
> > I have 2 million documents, with a name property. (~15 to 20
> > characters).
> > Fuzzy searching against this property takes around 3 seconds, which is
> > way too much for what I plan to do, so I am considering the possible
> > optimizations. I can add a property to each of the documents, that  
> > could
> > partition the document space into 400 spaces. Each space would then be
> > limited to 5000 documents, which should be small enough to make the
> > fuzzy search faster.
> >
> > However, my question is : how do I take advantage of this additional
> > property ? Using a traditional RDBMS, I would add an index on the  
> > field,
> > but on Lucene, I'm not sure of how to proceed. Would filters be the  
> > way
> > to go ?
> > (http://lucene.apache.org/java/docs/api/org/apache/lucene/search/ 
> > Filter.html)
> > Could a Caching Wrapperfilter help even more ?
> > (http://lucene.apache.org/java/docs/api/org/apache/lucene/search/ 
> > CachingWrapperFilter.html)
> >
> > Additionnally, the additional property is an id, so can I store it  
> > as a
> > number so that it is faster (I guess) than string comparison ?
> >
> > Thanks a lot,
> > Sami Dalouche
> >
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21002-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 20:58:44 2006
Return-Path: <java-user-return-21002-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93759 invoked from network); 30 May 2006 20:58:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 20:58:44 -0000
Received: (qmail 89212 invoked by uid 500); 30 May 2006 20:58:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89191 invoked by uid 500); 30 May 2006 20:58:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89170 invoked by uid 99); 30 May 2006 20:58:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 13:58:37 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 13:58:37 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 6517B5B772; Tue, 30 May 2006 13:58:10 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 55E4A7F403
	for <java-user@lucene.apache.org>; Tue, 30 May 2006 13:58:10 -0700 (PDT)
Date: Tue, 30 May 2006 13:58:10 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Lucene search optimization
In-Reply-To: <1149001927.19768.19.camel@samcvf>
Message-ID: <Pine.LNX.4.58.0605301354320.2240@hal.rescomp.berkeley.edu>
References: <1149001927.19768.19.camel@samcvf>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Fuzzy searching against this property takes around 3 seconds, which is
: way too much for what I plan to do, so I am considering the possible

whenever anyone has a question about how to speed up a search, and the
current amount of time the search takes is more then a second, there are a
few questions i allways want to ask:

 1) what method exactly on the Searcher interface are you using the
    execute the search?
 2) what exactly are you timing? (the time the search method call takes?,
    the time it takes you to iterate over the results? etc...)
 3) are you sorting by any particular field?
 4) are you reusing the Searcher instance for more then one query?   are
    you timing more then one query and taking the average?


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21003-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 21:02:23 2006
Return-Path: <java-user-return-21003-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94878 invoked from network); 30 May 2006 21:02:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 21:02:23 -0000
Received: (qmail 93822 invoked by uid 500); 30 May 2006 21:02:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93795 invoked by uid 500); 30 May 2006 21:02:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 48244 invoked by uid 99); 30 May 2006 18:27:27 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of shalsey@verisign.com designates 216.168.239.74 as permitted sender)
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-7"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5
Subject: RE: Changing the scoring (newest doc date first)
Date: Tue, 30 May 2006 20:26:55 +0200
Message-ID: <EB84F4B13FB22344803AC2EA8B7480C049AD48@BER2WNEXMB01.vcorp.ad.vrsn.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Changing the scoring (newest doc date first)
Thread-Index: AcZ98sj1kfrcBDeDQCGt0cZe//52NAATw2mkAXQSZLA=
From: "Halsey, Stephen" <shalsey@verisign.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 30 May 2006 18:26:56.0890 (UTC) FILETIME=[A20325A0:01C68416]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I'm interested in getting a date ordered search on a very large index =
too, as we are having some scaling issues with the Sort object and its =
regeneration, and so was interested in your question and the answers =
above.   Aviran mentioned using a boost in the query to get a rough sort =
on dates, and I was wondering if you could take this idea further by =
giving each document a boost value when its put in the index of the =
seconds since the epoch for the date you want that document to have, and =
then set your Searcher so that it ONLY uses that boost factor when =
scoring documents, ignoring all other factors such as term frequency etc =
etc?

Maybe you could achieve this by making your own copy of the =
DefaultSimilarity class which currently looks like this:-

package org.apache.lucene.search;

/**
 * Copyright 2004 The Apache Software Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or =
implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/** Expert: Default scoring implementation. */
public class DefaultSimilarity extends Similarity {
  /** Implemented as <code>1/sqrt(numTerms)</code>. */
  public float lengthNorm(String fieldName, int numTerms) {
    return (float)(1.0 / Math.sqrt(numTerms));
  }
 =20
  /** Implemented as <code>1/sqrt(sumOfSquaredWeights)</code>. */
  public float queryNorm(float sumOfSquaredWeights) {
    return (float)(1.0 / Math.sqrt(sumOfSquaredWeights));
  }

  /** Implemented as <code>sqrt(freq)</code>. */
  public float tf(float freq) {
    return (float)Math.sqrt(freq);
  }
   =20
  /** Implemented as <code>1 / (distance + 1)</code>. */
  public float sloppyFreq(int distance) {
    return 1.0f / (distance + 1);
  }
   =20
  /** Implemented as <code>log(numDocs/(docFreq+1)) + 1</code>. */
  public float idf(int docFreq, int numDocs) {
    return (float)(Math.log(numDocs/(double)(docFreq+1)) + 1.0);
  }
   =20
  /** Implemented as <code>overlap / maxOverlap</code>. */
  public float coord(int overlap, int maxOverlap) {
    return overlap / (float)maxOverlap;
  }
}

and calling it something like SimilarityUsingBoostOnly and then make =
each of the above return 1 always, and then the formula:-

The score of query q for document d is defined in terms of these methods =
as follows:
score(q,d) =3D
	=D3 	( tf(t in d) * idf(t)^2 * getBoost(t in q) * getBoost(t.field in =
d) * lengthNorm(t.field in d) ) 	 * coord(q,d) * =
queryNorm(sumOfSqaredWeights)
t in q

at:-

http://lucene.apache.org/java/docs/api/org/apache/lucene/search/Similarit=
y.html

will always just return the boost set for that document as the score.

Then use setSimilarity(Similarity similarity) at:-

http://lucene.apache.org/java/docs/api/org/apache/lucene/search/Searcher.=
html#setSimilarity(org.apache.lucene.search.Similarity)

to set the Similarity to SimilarityUsingBoostOnly for your Searcher, and =
then every doc you add to the index use:-

http://lucene.apache.org/java/docs/api/org/apache/lucene/document/Documen=
t.html#setBoost(float)

to set the boost of the document to the number of seconds since the =
epoch that equates to the date you want to set it to.  Float is limited =
to 3.4028235E38 and so 38 zeros seems enough to store this.

The downside that I can see is that you can't then use this index for =
normal relevance based sorting as all the boosts will change the =
relevance, unless you can change the code to ignore the boosts when you =
do a relevance search?  Is ignoring this document-wide boost factor =
something people think could be easily do-able?  If so then does this =
seem like a way of getting date ordered searching working on a very =
large index?

thanks



Steve.=20

-----Original Message-----
From: Marcus Falck [mailto:marcus.falck@observer.se]=20
Sent: 23 May 2006 09:21
To: java-user@lucene.apache.org
Subject: RE: Changing the scoring (newest doc date first)

Hmm.
Not sure that I understand exactly what you mean.
Doesn't your solution require me to add all documents in correct date =
range?
Since I will index articles from different systems I can't guarantee =
that all articles will be added to the index in correct date order.
=20
/
Marcus

________________________________

From: Doug Cutting [mailto:cutting@apache.org]
Sent: Tue 5/23/2006 12:54 AM
To: java-user@lucene.apache.org
Subject: Re: Changing the scoring (newest doc date first)



Marcus Falck wrote:=20
> There is however one LARGE problem that we have run into. All search =
result should be displayed sorted with the newest document at top. We =
tried to accomplish this using Lucene's sort capabilites but quickly ran =
into large performance bottlenecks. So i figured since the default sort =
is by relevance i would like to change the relevance so that we don't =
even need to sort the documents. I guess alot of people at this mail =
list can give me valuable hints about how to accomplish this!=20

> (Since i now about the ability to sort by index id (which i haven't =
tried) I can also add that i can't guarantee that all documents will be =
added in correct date order (remember the several systems,  the future =
plans is to buy content from different actors on the market and index it =
up).

A HitCollector should help.  Matching documents are passed to a =
HitCollector in the order they were added to the index.  So if newer =
documents were added to your index later, then the newest N documents =
are simply the last N documents passed to the HitCollector.=20

Could that work?=20

Cheers,=20

Doug=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org=20



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21004-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 23:31:31 2006
Return-Path: <java-user-return-21004-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68650 invoked from network); 30 May 2006 23:31:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 23:31:31 -0000
Received: (qmail 14280 invoked by uid 500); 30 May 2006 23:31:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14111 invoked by uid 500); 30 May 2006 23:31:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14064 invoked by uid 99); 30 May 2006 23:31:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 16:31:12 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of john.wang@gmail.com designates 64.233.166.183 as permitted sender)
Received: from [64.233.166.183] (HELO py-out-1112.google.com) (64.233.166.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 16:31:12 -0700
Received: by py-out-1112.google.com with SMTP id d42so290569pyd
        for <java-user@lucene.apache.org>; Tue, 30 May 2006 16:30:51 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=qt+bRAh4tfsk1wgevW+Wp1eYlxYFX+8zEbtTLw+th8pMbIAc3nnLETQRXDVIFBBIL03mtycv2xmQlZvWDwPLGJdnPOUBhEDqu0cmJG+SFDn6nbIoIh2wurvhKgU6c6CnPksrt72jSSpoWiehzt1H081myQJ17xSzWzasAOs6qE4=
Received: by 10.35.84.12 with SMTP id m12mr3196679pyl;
        Tue, 30 May 2006 16:30:51 -0700 (PDT)
Received: by 10.35.48.5 with HTTP; Tue, 30 May 2006 16:30:51 -0700 (PDT)
Message-ID: <8837fb770605301630m786f8f61g7e766e582813b331@mail.gmail.com>
Date: Tue, 30 May 2006 19:30:51 -0400
From: "John Wang" <john.wang@gmail.com>
To: java-user@lucene.apache.org, "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
Subject: Re: merge factor and real time indexing
In-Reply-To: <20060530150301.94232.qmail@web50311.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_17934_635816.1149031851091"
References: <8837fb770605300545i4d01788br9de39d2c8bc9e2c6@mail.gmail.com>
	 <20060530150301.94232.qmail@web50311.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_17934_635816.1149031851091
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi Otis:

    Thanks for your reply.

    The problem is the setting of maxBufferedDocs (see the code snippet from
my previous email). I wouldn't think it would affect things but it does.

-John

On 5/30/06, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
>
> John,
> I can't spot anything wrong in the code.  I assume you are certain there
> are no IOException, no issues with locks, and that your writer is really
> getting close()d.  I haven't used IndexModifier, and since that's a layer on
> top of the real IndexWriter with the same API exposed, I would just use
> IndexWriter directly and see if that makes a difference.  If it does, then
> maybe there is a bug in IndexModifier.
>
> Otis
>
> ----- Original Message ----
> From: John Wang <john.wang@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Tuesday, May 30, 2006 5:45:39 AM
> Subject: merge factor and real time indexing
>
> Hi folks:
>
>     I am working on an application that requires real time indexing, e.g.
> for every insert, I open the writer, add a document and then closes the
> writer.
>
>     I want to control the number of files created, and according to the
> documentation, a small mergeFactor is desired. However, I am experiencing
> the opposite, see the following code segment:
>
> public static void main(String[] args) throws IOException{
>         int mfactor=10;
>         int mbuffer=1000;
>
>
>         IndexModifier writer=null;
>         File dir=new File("/tmp/john/");
>
>         long start=System.currentTimeMillis();
>         for (int i=0;i<5000;++i){
>             try{
>                 boolean create=!IndexReader.indexExists(dir);
>                 writer=new IndexModifier(dir,new
> StandardAnalyzer(),create);
>                 writer.setMergeFactor(mfactor);
>                 writer.setMaxBufferedDocs(mbuffer);
>                     Document doc=new Document();
>                     doc.add(new Field("test","this is a test doc",
> Field.Store.YES,Field.Index.TOKENIZED,Field.TermVector.YES));
>                     writer.addDocument(doc);
>             }
>             finally{
>                 if (writer!=null){
>                     writer.close();
>                 }
>             }
>
>         }
>         long end=System.currentTimeMillis();
>
>         System.out.println("took: "+(end-start));
>
>     }
>
> If I set the mfactor value to a high number, e.g. 1000, indexing takes
> much
> longer but the number of files decreases dramatically.
>
> Is this expected or are there any better ways of tuning the indexing
> parameters so that I limit the number of open files while gettting a
> decent
> indexing speed?
>
> Thanks
>
> -John
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_17934_635816.1149031851091--

From java-user-return-21005-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue May 30 23:52:53 2006
Return-Path: <java-user-return-21005-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74304 invoked from network); 30 May 2006 23:52:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 May 2006 23:52:53 -0000
Received: (qmail 38447 invoked by uid 500); 30 May 2006 23:52:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38163 invoked by uid 500); 30 May 2006 23:52:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38152 invoked by uid 99); 30 May 2006 23:52:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 16:52:47 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of erickerickson@gmail.com designates 64.233.166.182 as permitted sender)
Received: from [64.233.166.182] (HELO py-out-1112.google.com) (64.233.166.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 16:52:46 -0700
Received: by py-out-1112.google.com with SMTP id d42so294285pyd
        for <java-user@lucene.apache.org>; Tue, 30 May 2006 16:52:23 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=iB8IjWXN7HaGT0miozSOy7U3ZgbnKUthW42Qgi1AF4kx95KatSQ4/bGEnJn7w2avSk2ecAKgjxB7LHA6rzqjuzI3i7S1STvRKbLmeYzAoj+pPHspDgSTsQIUm0pM5ieipznsLOatJfq8tuHJQomc0Zwn7o18YTglG8X0gerunDI=
Received: by 10.35.111.7 with SMTP id o7mr4585023pym;
        Tue, 30 May 2006 16:52:23 -0700 (PDT)
Received: by 10.35.17.5 with HTTP; Tue, 30 May 2006 16:52:23 -0700 (PDT)
Message-ID: <359a92830605301652hea9c411ra8e15929b009af72@mail.gmail.com>
Date: Tue, 30 May 2006 19:52:23 -0400
From: "Erick Erickson" <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: merge factor and real time indexing
In-Reply-To: <8837fb770605301630m786f8f61g7e766e582813b331@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_23324_11040144.1149033143487"
References: <8837fb770605300545i4d01788br9de39d2c8bc9e2c6@mail.gmail.com>
	 <20060530150301.94232.qmail@web50311.mail.yahoo.com>
	 <8837fb770605301630m786f8f61g7e766e582813b331@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_23324_11040144.1149033143487
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

John:

I realize this is test code, but is it really measuring something
meaningful? If you really need to open/modify/close for each document, then
I've got to assume that the rate they're coming in is slow enough that the
time it takes for this operation is not very important.

And if they *are* coming in quickly, then you could hold open the modifier
longer and amortize the time it takes to open etc. over indexing multiple
documents. I realize that's "near real time" and not real-time, but....

Otis: What are the rules for reading an index that's being modified? Here's
the sequence that I'm unclear about.

open reader0
open writer
add document 1
***at this point, am I right that document1 is not visible to reader0?
close reader0
open reader1
***Now, is document 1 visible to reader1? Even though the writer is still
open?



Where I'm going with this is wondering whether John needs to close/open the
writer except very rarely but still be able to pick up modifications from a
newly opened reader.

Which, of course, leads to the question where his performance needs to be.
It may be real-time, but how close is "close enough" to real-time?

FWIW
Erick

Thanks
Erick

------=_Part_23324_11040144.1149033143487--

From java-user-return-21006-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 03:58:50 2006
Return-Path: <java-user-return-21006-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52525 invoked from network); 31 May 2006 03:58:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 03:58:50 -0000
Received: (qmail 42901 invoked by uid 500); 31 May 2006 03:58:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42858 invoked by uid 500); 31 May 2006 03:58:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42847 invoked by uid 99); 31 May 2006 03:58:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 May 2006 20:58:44 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.242] (HELO web50309.mail.yahoo.com) (206.190.38.242)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 30 May 2006 20:58:44 -0700
Received: (qmail 50162 invoked by uid 60001); 31 May 2006 03:58:19 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=jLd837ftpHAxtd8FPICEaCSzDSOyiWb68Oucw8EmO8HWgFVgUCTQGNhdnSjiv4+gPn9RW9OTkqMIslbxmGrARQs/zGjSOdq0cCds+BiPLGIsgr2KCXH361mTM0sVTPqvLPhW76mK0AHU4S7SItsUC0tnmUWShig0eFfgiFNz7hM=  ;
Message-ID: <20060531035819.50160.qmail@web50309.mail.yahoo.com>
Date: Tue, 30 May 2006 20:58:19 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: merge factor and real time indexing
To: java-user@lucene.apache.org
In-Reply-To: <359a92830605301652hea9c411ra8e15929b009af72@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Erick,
Otis: What are the rules for reading an index that's being modified? Here's
the sequence that I'm unclear about.

open reader0
open writer
add document 1
***at this point, am I right that document1 is not visible to reader0?

OG: correct.

close reader0
open reader1
***Now, is document 1 visible to reader1? Even though the writer is still
open?

OG: I believe reader1 will see document1 if it has been flushed to disk (i.e. is not in that in-memory buffer whose size is controlled via maxBufferedDocs).

Where I'm going with this is wondering whether John needs to close/open the
writer except very rarely but still be able to pick up modifications from a
newly opened reader.

OG: I think so.  As long as he doesn't need to delete any documents, of course.

Which, of course, leads to the question where his performance needs to be.
It may be real-time, but how close is "close enough" to real-time?

FWIW
Erick

Thanks
Erick

OG: Otis





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21007-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 07:48:04 2006
Return-Path: <java-user-return-21007-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11598 invoked from network); 31 May 2006 07:48:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 07:48:03 -0000
Received: (qmail 41704 invoked by uid 500); 31 May 2006 07:47:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41676 invoked by uid 500); 31 May 2006 07:47:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41665 invoked by uid 99); 31 May 2006 07:47:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 00:47:56 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [62.160.235.108] (HELO mh4.cvf.fr) (62.160.235.108)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 00:47:56 -0700
Received: from [10.175.254.140] (helo=ms.int75.cvf)
	by mh4.cvf.fr with esmtp 
	for <java-user@lucene.apache.org>id 1FlLQU-0002pK-00; Wed, 31 May 2006 09:47:34 +0200
Received: from [127.0.0.1] (helo=sdalouche1.dev75.cvf)
	by ms.int75.cvf with esmtp id 1FlLQU-00049A-00
	for <java-user@lucene.apache.org>; Wed, 31 May 2006 09:47:34 +0200
Subject: Re: Lucene search optimization
From: Sami Dalouche <skoobi@free.fr>
To: java-user@lucene.apache.org
In-Reply-To: <Pine.LNX.4.58.0605301354320.2240@hal.rescomp.berkeley.edu>
References: <1149001927.19768.19.camel@samcvf>
	 <Pine.LNX.4.58.0605301354320.2240@hal.rescomp.berkeley.edu>
Content-Type: text/plain
Date: Wed, 31 May 2006 09:44:54 +0200
Message-Id: <1149061494.362.7.camel@samcvf>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 7bit
X-complaints-to: abuse@cvf.fr
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

1) Actually, I am not using Lucene directly, but a wrapper called
compass. I am using the find() method of the CompassSession, which code
is :
public CompassHits find(String query) throws CompassException {
        return createQueryBuilder().queryString(query).toQuery().hits();
    }
And all of these objects are pure wrappers around lucene equivalents,
nothing more.


2) What I am timing is only the find call :
-- start timer
CompassHits hits = compassSession.find("cityName:"+ name+"~");
-- stop timer

3) I am not sorting anything, but lucene is returning the hits by
relevance. Does this count as sorting ?

4) I tried to time the thing for ~10 queries, and the results are
roughly the same. Can go down to 2 seconds, which is still way too
much...

Thanks for helping
sami Dalouche

On Tue, 2006-05-30 at 13:58 -0700, Chris Hostetter wrote:
> : Fuzzy searching against this property takes around 3 seconds, which is
> : way too much for what I plan to do, so I am considering the possible
> 
> whenever anyone has a question about how to speed up a search, and the
> current amount of time the search takes is more then a second, there are a
> few questions i allways want to ask:
> 
>  1) what method exactly on the Searcher interface are you using the
>     execute the search?
>  2) what exactly are you timing? (the time the search method call takes?,
>     the time it takes you to iterate over the results? etc...)
>  3) are you sorting by any particular field?
>  4) are you reusing the Searcher instance for more then one query?   are
>     you timing more then one query and taking the average?
> 
> 
> -Hoss
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21008-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 08:13:15 2006
Return-Path: <java-user-return-21008-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17736 invoked from network); 31 May 2006 08:13:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 08:13:14 -0000
Received: (qmail 82005 invoked by uid 500); 31 May 2006 08:13:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81851 invoked by uid 500); 31 May 2006 08:13:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81839 invoked by uid 99); 31 May 2006 08:13:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 01:13:08 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [161.74.14.112] (HELO isls-mx10.wmin.ac.uk) (161.74.14.112)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 01:13:07 -0700
Received: from groucho.wmin.ac.uk ([161.74.160.74])
	by isls-mx10.wmin.ac.uk with esmtp (Exim 4.60)
	(envelope-from <courtes@wmin.ac.uk>)
	id 1FlLor-0001h7-Tp
	for java-user@lucene.apache.org; Wed, 31 May 2006 09:12:46 +0100
Received: from [127.0.0.1] (unknown [83.245.116.86])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by groucho.wmin.ac.uk (Postfix) with ESMTP id B19B5917C7
	for <java-user@lucene.apache.org>; Wed, 31 May 2006 09:12:45 +0100 (BST)
Message-ID: <447D5000.8020003@wmin.ac.uk>
Date: Wed, 31 May 2006 09:12:48 +0100
From: Simon Courtenage <courtes@westminster.ac.uk>
Organization: University of Westminster
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: [Java-lucene] Problem with Web demo in lucene 2.0?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I'm new to Lucene but trying it out.  I've successfully installed the 
luceneweb.war for the indexHTML
web demo, but am getting an error when tomcat tries to compile the 
results.jsp part of the demo as it
tries to answer a search query.  The error message (see below) says that 
the QueryParser.parse() method
in results.jsp takes three arguments, but the compiler complains that it 
should only take one.

Here is the error message I get:

------ error message

org.apache.jasper.JasperException: Unable to compile class for JSP

An error occurred at line: 60 in the jsp file: /results.jsp
Generated servlet error:
The method parse(String) in the type QueryParser is not applicable for 
the arguments (String, String, Analyzer)


    
org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:510)
    
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:375)
    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:314)
    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:264)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:802)

---------------

Is there a simple solution to this?

Many thanks!!

Simon Courtenage

-- 
Dr. Simon Courtenage
Software Systems Engineering Research Group
Dept. of Software Engineering, Cavendish School of Computer Science
University of Westminster, London, UK
Email: courtes@wmin.ac.uk   Web: http://users.cscs.wmin.ac.uk/~courtes | http://www.sse.wmin.ac.uk


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21009-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 08:29:30 2006
Return-Path: <java-user-return-21009-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21131 invoked from network); 31 May 2006 08:29:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 08:29:30 -0000
Received: (qmail 12434 invoked by uid 500); 31 May 2006 08:29:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12395 invoked by uid 500); 31 May 2006 08:29:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12384 invoked by uid 99); 31 May 2006 08:29:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 01:29:22 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.212] (HELO web26001.mail.ukl.yahoo.com) (217.12.10.212)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 31 May 2006 01:29:21 -0700
Received: (qmail 16311 invoked by uid 60001); 31 May 2006 08:28:59 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=eihDIdCYAVDFez9S5GfHIssnjSi0cKabf0YMdoa/8UqXB5RpJ9VGgCggPdtPJMzemubDA8IC/SHvmb38Os24ii5HIGYGx2lqzmdK6I2l2IaomSjYJ4JBrlx060LyyRBGxIzCUAzDGUDa69VrvZ2SsKzdrqMSjs5dbgGUproLexo=  ;
Message-ID: <20060531082859.16309.qmail@web26001.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26001.mail.ukl.yahoo.com via HTTP; Wed, 31 May 2006 09:28:59 BST
Date: Wed, 31 May 2006 09:28:59 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Lucene search optimization
To: java-user@lucene.apache.org
In-Reply-To: <1149061494.362.7.camel@samcvf>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>>Actually, I am not using Lucene directly, but a
wrapper called compass


I don't know what controls it offers you then.
One option which could offer a speed up is to raise
the minimum quality match threshold above the default
of 0.5 and use a query string like this:

  cityName:London~0.8 

This would reduce the number of alternative terms
considered and therefore the query time.


--- Sami Dalouche <skoobi@free.fr> wrote:

> Hi,
> 
> 1) Actually, I am not using Lucene directly, but a
> wrapper called
> compass. I am using the find() method of the
> CompassSession, which code
> is :
> public CompassHits find(String query) throws
> CompassException {
>         return
>
createQueryBuilder().queryString(query).toQuery().hits();
>     }
> And all of these objects are pure wrappers around
> lucene equivalents,
> nothing more.
> 
> 
> 2) What I am timing is only the find call :
> -- start timer
> CompassHits hits = compassSession.find("cityName:"+
> name+"~");
> -- stop timer
> 
> 3) I am not sorting anything, but lucene is
> returning the hits by
> relevance. Does this count as sorting ?
> 
> 4) I tried to time the thing for ~10 queries, and
> the results are
> roughly the same. Can go down to 2 seconds, which is
> still way too
> much...
> 
> Thanks for helping
> sami Dalouche
> 
> On Tue, 2006-05-30 at 13:58 -0700, Chris Hostetter
> wrote:
> > : Fuzzy searching against this property takes
> around 3 seconds, which is
> > : way too much for what I plan to do, so I am
> considering the possible
> > 
> > whenever anyone has a question about how to speed
> up a search, and the
> > current amount of time the search takes is more
> then a second, there are a
> > few questions i allways want to ask:
> > 
> >  1) what method exactly on the Searcher interface
> are you using the
> >     execute the search?
> >  2) what exactly are you timing? (the time the
> search method call takes?,
> >     the time it takes you to iterate over the
> results? etc...)
> >  3) are you sorting by any particular field?
> >  4) are you reusing the Searcher instance for more
> then one query?   are
> >     you timing more then one query and taking the
> average?
> > 
> > 
> > -Hoss
> > 
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail:
> java-user-help@lucene.apache.org
> > 
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 



		
___________________________________________________________ 
The all-new Yahoo! Mail goes wherever you go - free your email address from your Internet provider. http://uk.docs.yahoo.com/nowyoucan.html

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21010-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 10:16:04 2006
Return-Path: <java-user-return-21010-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53610 invoked from network); 31 May 2006 10:16:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 10:16:04 -0000
Received: (qmail 92950 invoked by uid 500); 31 May 2006 10:16:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92780 invoked by uid 500); 31 May 2006 10:15:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92769 invoked by uid 99); 31 May 2006 10:15:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 03:15:57 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.200.76.18] (HELO mail4.niit.com) (203.200.76.18)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 03:15:56 -0700
Received: from 172.17.8.245 [172.17.8.245]
	by mail4.niit.com
	with XWall v3.33 ;
	Wed, 31 May 2006 15:45:30 +0530
Received: by ho-kkj-msg3.in.niit.com with Internet Mail Service (5.5.2657.72)
	id <L9CJ0GZ2>; Wed, 31 May 2006 15:45:29 +0530
From: Amaresh Kumar Yadav <Amaresh.Yadav@niit.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: how to craete index with particular ID
Date: Wed, 31 May 2006 15:45:29 +0530
X-Assembled-By: XWall v3.33
X-Mailer: Internet Mail Service (5.5.2657.72)
Message-ID: <934F531A825AFF4F863658E2402E0647076BD571@ho-kkj-msg3.in.niit.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi All,

Infact i want to search data which is stored  in a table on oracle...

my table contains two fields "doctitle" and "docpath", first field(doctitle)
represents location of some document and second field(docpath)represents
documents title.

I want to apply lucene search on doctitle.

What i want to do for  search ...

First create a text file which contains data(that is retrived by oracle
query) which is stored in table.

Now i want to creat index for this file.

now i want to search on title of document which is stored in the text file.

after searching i want to disply corresponding path from index file.

How should i creat such index file  ???

how should i proceed????


With Thanks & Regards

Amaresh

----------------------------------------------------------------------
DISCLAIMER

This email and any files transmitted with it are confidential and are solely=
 for the use of the individual or entity to which it is addressed. Any use, =
distribution, copying or disclosure by any other person is strictly prohibit=
ed. If you receive this transmission in error, please notify the sender by r=
eply email and then destroy the message. Opinions, conclusions and other inf=
ormation in this message that do not relate to official business of the comp=
any shall be understood to be neither given nor endorsed by NIIT Ltd. or NII=
T Technologies Ltd. Any information contained in this email, when addressed =
to Clients is subject to the terms and conditions in governing client contra=
ct.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21011-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 10:29:33 2006
Return-Path: <java-user-return-21011-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56303 invoked from network); 31 May 2006 10:29:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 10:29:33 -0000
Received: (qmail 11189 invoked by uid 500); 31 May 2006 10:29:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11156 invoked by uid 500); 31 May 2006 10:29:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11145 invoked by uid 99); 31 May 2006 10:29:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 03:29:26 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.93.125.162] (HELO cpanel37.gzo.com) (69.93.125.162)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 03:29:26 -0700
Received: from bizhan.fors.com ([213.234.218.76] helo=pb)
	by cpanel37.gzo.com with esmtpa (Exim 4.52)
	id 1FlNwl-0000Oj-CY
	for java-user@lucene.apache.org; Wed, 31 May 2006 05:29:03 -0500
From: "Pasha Bizhan" <lucene-list@lucenedotnet.com>
To: <java-user@lucene.apache.org>
Subject: RE: how to craete index with particular ID
Date: Wed, 31 May 2006 14:36:44 +0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1506
In-Reply-To: <934F531A825AFF4F863658E2402E0647076BD571@ho-kkj-msg3.in.niit.com>
Thread-Index: AcaEmzdYs+N3VowKSUCmb9XApGcEnQAAd++w
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - cpanel37.gzo.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - lucenedotnet.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20060531102926.8C28A10FB014@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi, 

> From: Amaresh Kumar Yadav [mailto:Amaresh.Yadav@niit.com] 
> 
> First create a text file which contains data(that is retrived 
> by oracle query) which is stored in table.

You have not to create text file for indexing. You can index your data
immediately:
	open IndexWriter
	execute select
	for each row in result set:
		- create Document for each row
		- create field for each db-field
		- add document into index
	close IndexWriter
 
> Now i want to creat index for this file.
> 
> now i want to search on title of document which is stored in 
> the text file.
> 
> after searching i want to disply corresponding path from index file.
> 
> How should i creat such index file  ???
> 
> how should i proceed????

See http://wiki.apache.org/jakarta-lucene/LuceneFAQ for more details.

Pasha Bizhan


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21012-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 10:51:00 2006
Return-Path: <java-user-return-21012-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61426 invoked from network); 31 May 2006 10:51:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 10:51:00 -0000
Received: (qmail 40984 invoked by uid 500); 31 May 2006 10:50:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39912 invoked by uid 500); 31 May 2006 10:50:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39901 invoked by uid 99); 31 May 2006 10:50:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 03:50:54 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of alsor.net@gmail.com designates 64.233.182.188 as permitted sender)
Received: from [64.233.182.188] (HELO nf-out-0910.google.com) (64.233.182.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 03:50:53 -0700
Received: by nf-out-0910.google.com with SMTP id n15so5385nfc
        for <java-user@lucene.apache.org>; Wed, 31 May 2006 03:50:31 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=sQG6z8XPE/SirrpKjKMuXw2YmTkZ4bj2aYhWWeCpjKJwl/tc3NDY2ZG8ojn0gTJFTFPSblMs7IoP6aswB7Cb/Uubxwe8d5DCzFg3k4zxvJ1TzgJH/w4JU5W8iofisi31VHmBR4mzADU9QuCgq3CZvnqBEyzAZh3mPzIxtQcRxBQ=
Received: by 10.48.14.12 with SMTP id 12mr64766nfn;
        Wed, 31 May 2006 03:50:30 -0700 (PDT)
Received: by 10.48.214.7 with HTTP; Wed, 31 May 2006 03:50:30 -0700 (PDT)
Message-ID: <3572a02b0605310350k4e4538b9pe18fe429308062ba@mail.gmail.com>
Date: Wed, 31 May 2006 14:50:30 +0400
From: "Alexey Sorokin" <alsor.net@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: how to craete index with particular ID
In-Reply-To: <934F531A825AFF4F863658E2402E0647076BD571@ho-kkj-msg3.in.niit.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <934F531A825AFF4F863658E2402E0647076BD571@ho-kkj-msg3.in.niit.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Actually you don't need to create text file. Get data from db and
create Document that put in index. At least you must store ID of row
in Document. Or you may store doctitle and docpath too.

For each row you shoul do something like this:

import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;

Document doc = new Document();
doc.add(new Field("ID", [here you row ID value], Field.Store.YES,
Field.Index.UN_TOKENIZED));
doc.add(new Field("TITLE", [here value of doctitle field],
Field.Store.NO, Field.Index.TOKENIZED));
doc.add(new Field("PATH", [here value of docpath field],
Field.Store.NO, Field.Index.TOKENIZED));
indexWriter.addDocument(doc);

After searcing you have Hits, get doc from Hits and get value of "ID"
field of that doc - now you may get row from table by ID and receive
any data.

2006/5/31, Amaresh Kumar Yadav <Amaresh.Yadav@niit.com>:
> Hi All,
>
> Infact i want to search data which is stored  in a table on oracle...
>
> my table contains two fields "doctitle" and "docpath", first field(doctitle)
> represents location of some document and second field(docpath)represents
> documents title.
>
> I want to apply lucene search on doctitle.
>
> What i want to do for  search ...
>
> First create a text file which contains data(that is retrived by oracle
> query) which is stored in table.
>
> Now i want to creat index for this file.
>
> now i want to search on title of document which is stored in the text file.
>
> after searching i want to disply corresponding path from index file.
>
> How should i creat such index file  ???
>
> how should i proceed????
>
>
> With Thanks & Regards
>
> Amaresh
>
> ----------------------------------------------------------------------
> DISCLAIMER
>
> This email and any files transmitted with it are confidential and are solely for the use of the individual or entity to which it is addressed. Any use, distribution, copying or disclosure by any other person is strictly prohibited. If you receive this transmission in error, please notify the sender by reply email and then destroy the message. Opinions, conclusions and other information in this message that do not relate to official business of the company shall be understood to be neither given nor endorsed by NIIT Ltd. or NIIT Technologies Ltd. Any information contained in this email, when addressed to Clients is subject to the terms and conditions in governing client contract.
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
ICQ: 166072598

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21013-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 11:22:54 2006
Return-Path: <java-user-return-21013-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73571 invoked from network); 31 May 2006 11:22:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 11:22:53 -0000
Received: (qmail 80794 invoked by uid 500); 31 May 2006 11:22:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80765 invoked by uid 500); 31 May 2006 11:22:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80754 invoked by uid 99); 31 May 2006 11:22:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 04:22:46 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of saikrishna@students.iiit.net designates 202.65.145.5 as permitted sender)
Received: from [202.65.145.5] (HELO students.iiit.net) (202.65.145.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 04:22:45 -0700
Received: from students.iiit.net (localhost.localdomain [127.0.0.1])
	by students.iiit.net (8.13.6/8.13.0) with ESMTP id k4VBM8Xf016977
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <java-user@lucene.apache.org>; Wed, 31 May 2006 16:52:08 +0530
Received: from localhost (saikrishna@localhost)
	by students.iiit.net (8.13.6/8.12.8/Submit) with ESMTP id k4VBM7nh016961
	for <java-user@lucene.apache.org>; Wed, 31 May 2006 16:52:08 +0530
Date: Wed, 31 May 2006 16:52:07 +0530 (IST)
From: saikrishna <saikrishna@students.iiit.net>
To: java-user@lucene.apache.org
Subject: Re : good link to start working on Lucene
Message-ID: <Pine.LNX.4.61.0605311647150.14318@students.iiit.net>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
X-IIITH-MailScanner-Information: Please contact the IIIT Server Room (111) for more information
X-IIITH-MailScanner: Found to be clean
X-IIITH-MailScanner-From: saikrishna@students.iiit.net
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hai ,
 	I am completly new to lucene.And unfortunatly I couldn't find good
 	site to start working with Lucene.
 	Can some suggest me good link to work on Lucene ( relevent
   	to Indexing and searching )

regards,
Saikrishna.
-- 
*******************************************************************************
*******************************************************************************
Success makes life easy but not living easy
**
Remember Things can be difficult but not impossible

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21014-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 11:30:17 2006
Return-Path: <java-user-return-21014-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76859 invoked from network); 31 May 2006 11:30:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 11:30:17 -0000
Received: (qmail 92584 invoked by uid 500); 31 May 2006 11:30:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92470 invoked by uid 500); 31 May 2006 11:30:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92459 invoked by uid 99); 31 May 2006 11:30:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 04:30:11 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of alsor.net@gmail.com designates 64.233.182.188 as permitted sender)
Received: from [64.233.182.188] (HELO nf-out-0910.google.com) (64.233.182.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 04:30:10 -0700
Received: by nf-out-0910.google.com with SMTP id n15so15190nfc
        for <java-user@lucene.apache.org>; Wed, 31 May 2006 04:29:49 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=WJmaUEjWmXQFFVbSZC9EovW5XX9aX0UeeP/oN20klbDM+iCw5W+/TfjyD5Q2ugvR+u5iNl/J04r5FPhm8M9lE3jftK6cWDxvTWAsdzT7kBAF1NZJiLs/P7jt9cgS+tPHChRL1G0+Xg12LS4ItGeDhhGY4KYVoggS2L+GvlSDgPE=
Received: by 10.48.14.12 with SMTP id 12mr108058nfn;
        Wed, 31 May 2006 04:29:48 -0700 (PDT)
Received: by 10.48.214.7 with HTTP; Wed, 31 May 2006 04:29:48 -0700 (PDT)
Message-ID: <3572a02b0605310429m5fd41094q32da3174af11142f@mail.gmail.com>
Date: Wed, 31 May 2006 15:29:48 +0400
From: "Alexey Sorokin" <alsor.net@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Re : good link to start working on Lucene
In-Reply-To: <Pine.LNX.4.61.0605311647150.14318@students.iiit.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <Pine.LNX.4.61.0605311647150.14318@students.iiit.net>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

http://lucene.apache.org/java/docs/api/overview-summary.html#overview_description

2006/5/31, saikrishna <saikrishna@students.iiit.net>:
>
> Hai ,
>         I am completly new to lucene.And unfortunatly I couldn't find good
>         site to start working with Lucene.
>         Can some suggest me good link to work on Lucene ( relevent
>         to Indexing and searching )
>
> regards,
> Saikrishna.
> --
> *******************************************************************************
> *******************************************************************************
> Success makes life easy but not living easy
> **
> Remember Things can be difficult but not impossible
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
ICQ: 166072598

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21015-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 11:33:21 2006
Return-Path: <java-user-return-21015-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77454 invoked from network); 31 May 2006 11:33:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 11:33:21 -0000
Received: (qmail 580 invoked by uid 500); 31 May 2006 11:33:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 551 invoked by uid 500); 31 May 2006 11:33:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 539 invoked by uid 99); 31 May 2006 11:33:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 04:33:14 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.200.76.18] (HELO mail4.niit.com) (203.200.76.18)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 04:33:13 -0700
Received: from 172.17.8.245 [172.17.8.245]
	by mail4.niit.com
	with XWall v3.33 ;
	Wed, 31 May 2006 17:02:46 +0530
Received: by ho-kkj-msg3.in.niit.com with Internet Mail Service (5.5.2657.72)
	id <L9CJ02H7>; Wed, 31 May 2006 17:02:46 +0530
From: Amaresh Kumar Yadav <Amaresh.Yadav@niit.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: RE: Re : good link to start working on Lucene
Date: Wed, 31 May 2006 17:02:45 +0530
X-Assembled-By: XWall v3.33
X-Mailer: Internet Mail Service (5.5.2657.72)
Message-ID: <934F531A825AFF4F863658E2402E0647076BDA78@ho-kkj-msg3.in.niit.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

http://lucene.apache.org/java/docs/gettingstarted.html

Regards,
Amaresh

-----Original Message-----
From: saikrishna [mailto:saikrishna@students.iiit.net]
Sent: Wednesday, May 31, 2006 4:52 PM
To: java-user@lucene.apache.org
Subject: Re : good link to start working on Lucene



Hai ,
=20	I am completly new to lucene.And unfortunatly I couldn't find good
=20	site to start working with Lucene.
=20	Can some suggest me good link to work on Lucene ( relevent
=20  	to Indexing and searching )

regards,
Saikrishna.
--=20
****************************************************************************
***
****************************************************************************
***
Success makes life easy but not living easy
**
Remember Things can be difficult but not impossible

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

----------------------------------------------------------------------
DISCLAIMER

This email and any files transmitted with it are confidential and are solely=
 for the use of the individual or entity to which it is addressed. Any use, =
distribution, copying or disclosure by any other person is strictly prohibit=
ed. If you receive this transmission in error, please notify the sender by r=
eply email and then destroy the message. Opinions, conclusions and other inf=
ormation in this message that do not relate to official business of the comp=
any shall be understood to be neither given nor endorsed by NIIT Ltd. or NII=
T Technologies Ltd. Any information contained in this email, when addressed =
to Clients is subject to the terms and conditions in governing client contra=
ct.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21016-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 11:45:15 2006
Return-Path: <java-user-return-21016-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82285 invoked from network); 31 May 2006 11:45:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 11:45:14 -0000
Received: (qmail 20855 invoked by uid 500); 31 May 2006 11:45:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20681 invoked by uid 500); 31 May 2006 11:45:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20670 invoked by uid 99); 31 May 2006 11:45:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 04:45:07 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [62.23.157.12] (HELO srv-mail.Keljob.com) (62.23.157.12)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 31 May 2006 04:45:04 -0700
Received: from ft.keljob.com ([192.168.1.206]) by srv-mail.Keljob.com with Microsoft SMTPSVC(6.0.3790.0);
	 Wed, 31 May 2006 13:44:50 +0200
Date: Wed, 31 May 2006 13:44:32 +0200
From: Sven Duzont <sven.duzont@laposte.net>
X-Mailer: The Bat! (v3.62.14) Professional
Reply-To: Sven Duzont <sven.duzont@laposte.net>
X-Priority: 3 (Normal)
Message-ID: <1714068243.20060531134432@laposte.net>
To: Amaresh Kumar Yadav <java-user@lucene.apache.org>
Subject: Re[2]: Re : good link to start working on Lucene
In-Reply-To: <934F531A825AFF4F863658E2402E0647076BDA78@ho-kkj-msg3.in.niit.com>
References: <934F531A825AFF4F863658E2402E0647076BDA78@ho-kkj-msg3.in.niit.com>
MIME-Version: 1.0
Content-Type: multipart/alternative;
 boundary="----------5A1721112F8C0CCB"
X-OriginalArrivalTime: 31 May 2006 11:44:50.0027 (UTC) FILETIME=[9FB1C3B0:01C684A7]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------------5A1721112F8C0CCB
Content-Type: text/plain; charset=iso-8859-15
Content-Transfer-Encoding: 8bit

Hello, 

Or you can purchase the Book "Lucene in Action"
You will find the t.o.c and some sample chapters here http://lucenebook.com

Have a nice day

 --- Sven

Le mercredi 31 mai 2006  13:32:45, vous criviez :

AKY> http://lucene.apache.org/java/docs/gettingstarted.html

AKY> Regards,
AKY> Amaresh

AKY> -----Original Message-----
AKY> From: saikrishna [mailto:saikrishna@students.iiit.net]
AKY> Sent: Wednesday, May 31, 2006 4:52 PM
AKY> To: java-user@lucene.apache.org
AKY> Subject: Re : good link to start working on Lucene



AKY> Hai ,
AKY>         I am completly new to lucene.And unfortunatly I couldn't find good
AKY>         site to start working with Lucene.
AKY>         Can some suggest me good link to work on Lucene ( relevent
AKY>         to Indexing and searching )

AKY> regards,
AKY> Saikrishna.



-- 
Cordialement,
 Sven                            mailto:sven.duzont@laposte.net
------------5A1721112F8C0CCB--


From java-user-return-21017-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 12:22:05 2006
Return-Path: <java-user-return-21017-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95040 invoked from network); 31 May 2006 12:22:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 12:22:05 -0000
Received: (qmail 70522 invoked by uid 500); 31 May 2006 12:21:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70477 invoked by uid 500); 31 May 2006 12:21:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70466 invoked by uid 99); 31 May 2006 12:21:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 05:21:59 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Kinnar.Sen@hcl.in designates 203.105.185.19 as permitted sender)
Received: from [203.105.185.19] (HELO nda-hclin-gws01.hcl.in) (203.105.185.19)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 31 May 2006 05:21:58 -0700
Received: from nda-hclin-gws01.hcl.in (nda-hclin-gws01 [10.248.64.134])
	by localhost.hcl.in (Postfix) with SMTP id 64E8E9E004B
	for <java-user@lucene.apache.org>; Wed, 31 May 2006 17:51:06 +0530 (IST)
Received: from nda-egw01-out.corp.hcl.in (unknown [10.248.64.37])by 
	nda-hclin-gws01.hcl.in (Postfix) with ESMTP id 635649E0042for 
	<java-user@lucene.apache.org>; Wed, 31 May 2006 17:51:06 +0530 (IST)
Received: from HSDLNTD1110010.noida.hcltech.com ([10.112.8.20]) by 
	nda-egw01-out.corp.hcl.in with Microsoft SMTPSVC(6.0.3790.1830); Wed, 31 
	May 2006 17:51:31 +0530
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: RE: My first question
Date: Wed, 31 May 2006 17:52:48 +0530
Message-ID: <539C0A297AA0C74581CB5AF82D5372910125433F@HSDLNTD1110010.noida.hcltech.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: My first question
Thread-Index: AcZ6e4Xz1kvnQPXuSM+uhW0ejtLvDAKMTlCg
From: "Kinnar Kumar Sen, Noida" <Kinnar.Sen@hcl.in>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 31 May 2006 12:21:31.0484 (UTC) 
	FILETIME=[BFDD71C0:01C684AC]
X-imss-version: 2.038
X-imss-result: Passed
X-imss-scores: Clean:29.89272 C:2 M:3 S:5 R:5
X-imss-settings: Baseline:2 C:2 M:2 S:2 R:2 (0.1500 0.1500)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi All

Can any one tell me how many simultaneous queries can a Lucene Index
Support=0D

Regards and Thanks
Kinnar


DISCLAIMER:
---------------------------------------------------------------------------=
--------------------------------------------

The contents of this e-mail and any attachment(s) are confidential and=
 intended for the named recipient(s) only.=0D
It shall not attach any liability on the originator or HCL or its=
 affiliates. Any views or opinions presented in=0D
this email are solely those of the author and may not necessarily reflect=
 the opinions of HCL or its affiliates.=0D
Any form of reproduction, dissemination, copying, disclosure, modification,=
 distribution and / or publication of=0D
this message without the prior written consent of the author of this e-mail=
 is strictly prohibited. If you have=0D
received this email in error please delete it and notify the sender=
 immediately. Before opening any mail and=0D
attachments please check them for viruses and defect.

---------------------------------------------------------------------------=
--------------------------------------------

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21018-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 15:47:52 2006
Return-Path: <java-user-return-21018-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75079 invoked from network); 31 May 2006 15:47:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 15:47:51 -0000
Received: (qmail 66554 invoked by uid 500); 31 May 2006 15:47:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66524 invoked by uid 500); 31 May 2006 15:47:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66513 invoked by uid 99); 31 May 2006 15:47:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 08:47:43 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mile.rosu@level7.ro designates 193.230.233.11 as permitted sender)
Received: from [193.230.233.11] (HELO mail.datagroup.ro) (193.230.233.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 08:47:43 -0700
Received: from webserver.level7.ro (localhost [127.0.0.1])
	by webserver.level7.ro (Postfix) with ESMTP id D5B56A6610
	for <java-user@lucene.apache.org>; Wed, 31 May 2006 18:47:19 +0300 (EEST)
Received: by mail.datagroup.ro (Postfix, from userid 107)
	id C8403A6625; Wed, 31 May 2006 18:47:19 +0300 (EEST)
X-Spam-Checker-Version: SpamAssassin 3.1.0 (2005-09-13) on webserver.level7.ro
X-Spam-Level: 
Received: from nemo.level7.local (nemo.intranet [10.0.0.8])
	by mail.datagroup.ro (Postfix) with ESMTP id 94A1EA6610
	for <java-user@lucene.apache.org>; Wed, 31 May 2006 18:47:12 +0300 (EEST)
Content-class: urn:content-classes:message
Subject: Removing brackets before indexing
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Wed, 31 May 2006 18:47:12 +0300
X-MimeOLE: Produced By Microsoft Exchange V6.5
Message-ID: <7688DA376E992B408BEFBF22A9F7F618305512@nemo.intranet>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Removing brackets before indexing
thread-index: AcZ6aJpXRJJO2hWGS46Hzt9xjunH5wKYC5wg
From: "Mile Rosu" <mile.rosu@level7.ro>
To: <java-user@lucene.apache.org>
X-Anti-Virus: Kaspersky Anti-Virus for MailServers 5.5.10/RELEASE, bases: 31052006 #185572, status: clean
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-104.4 required=5.0 tests=ALL_TRUSTED,BAYES_00,
	USER_IN_WHITELIST autolearn=ham version=3.1.0
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello!

I am currently trying to index latin language documents, in which
missing letters are appended to words by using square brackets, like
this : "[divinit]atis".=20

Could you tell me please which would be the best practice to remove the
brackets before adding into the Lucene index? (in the example to store
the word "divinitatis").

Thank you a lot,
Mile Rosu

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21019-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 16:36:49 2006
Return-Path: <java-user-return-21019-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5186 invoked from network); 31 May 2006 16:36:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 16:36:48 -0000
Received: (qmail 20855 invoked by uid 500); 31 May 2006 16:36:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20832 invoked by uid 500); 31 May 2006 16:36:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20821 invoked by uid 99); 31 May 2006 16:36:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 09:36:41 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.39.227] (HELO web50314.mail.yahoo.com) (206.190.39.227)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 31 May 2006 09:36:41 -0700
Received: (qmail 72796 invoked by uid 60001); 31 May 2006 16:36:20 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=sB/Qe711oQIG6Sa++0y5/mCL4CdcZEw2413e8L7hH9d2ZaY/WgD+7BOZtmSSKMScwjyzwsXjDQhimtJa2cqaixqFTFqaBfhB/iCstS8/WtO8coc7slK9t95HlTrq3mBBJQYDkr7StvczvYZK5+Y/JPnbX6w01kYQubU7PQzzGiA=  ;
Message-ID: <20060531163620.72794.qmail@web50314.mail.yahoo.com>
Date: Wed, 31 May 2006 09:36:20 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Removing brackets before indexing
To: java-user@lucene.apache.org
In-Reply-To: <7688DA376E992B408BEFBF22A9F7F618305512@nemo.intranet>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Mile,

Any Analyzer that uses a Tokenizer that throws out non-characters will do.
For example, take a look at SimpleAnalyzer.  It uses LowerCaseTokenizer.  If you read the javadoc for LowerCaseTokenizer, I think you will see it suits you.

Otis

----- Original Message ----
From: Mile Rosu <mile.rosu@level7.ro>
To: java-user@lucene.apache.org
Sent: Wednesday, May 31, 2006 11:47:12 AM
Subject: Removing brackets before indexing

Hello!

I am currently trying to index latin language documents, in which
missing letters are appended to words by using square brackets, like
this : "[divinit]atis". 

Could you tell me please which would be the best practice to remove the
brackets before adding into the Lucene index? (in the example to store
the word "divinitatis").

Thank you a lot,
Mile Rosu

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21020-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 16:39:34 2006
Return-Path: <java-user-return-21020-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5864 invoked from network); 31 May 2006 16:39:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 16:39:34 -0000
Received: (qmail 26529 invoked by uid 500); 31 May 2006 16:39:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26498 invoked by uid 500); 31 May 2006 16:39:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26485 invoked by uid 99); 31 May 2006 16:39:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 09:39:26 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.56] (HELO web50302.mail.yahoo.com) (206.190.38.56)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 31 May 2006 09:39:24 -0700
Received: (qmail 48656 invoked by uid 60001); 31 May 2006 16:39:03 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=2GNfvbsKrQD39IStRG+ZRyxv3/Pg5+kTrOcpkQGAH23Ii0DXYopHlPGmRm50ppkJ9g4tJdT1WjzEQAQxBox7X051SYBR2b682vehk6K0Cbhjc+qP42XR0qMWYV4UZKqLU0reui3rLNilkdlz33bNhhkud4BeXAzLLx4iu/PKHTM=  ;
Message-ID: <20060531163903.48654.qmail@web50302.mail.yahoo.com>
Date: Wed, 31 May 2006 09:39:03 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: My first question
To: java-user@lucene.apache.org
In-Reply-To: <539C0A297AA0C74581CB5AF82D5372910125433F@HSDLNTD1110010.noida.hcltech.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

It depends on:
- query complexity/type
- size of the index
- hardware (CPU, disk, RAM)
- acceptable latency
...

Otis

----- Original Message ----
From: "Kinnar Kumar Sen, Noida" <Kinnar.Sen@hcl.in>
To: java-user@lucene.apache.org
Sent: Wednesday, May 31, 2006 8:22:48 AM
Subject: RE: My first question


Hi All

Can any one tell me how many simultaneous queries can a Lucene Index
Support


Regards and Thanks
Kinnar


DISCLAIMER:
-----------------------------------------------------------------------------------------------------------------------

The contents of this e-mail and any attachment(s) are confidential and intended for the named recipient(s) only.

It shall not attach any liability on the originator or HCL or its affiliates. Any views or opinions presented in

this email are solely those of the author and may not necessarily reflect the opinions of HCL or its affiliates.

Any form of reproduction, dissemination, copying, disclosure, modification, distribution and / or publication of

this message without the prior written consent of the author of this e-mail is strictly prohibited. If you have

received this email in error please delete it and notify the sender immediately. Before opening any mail and

attachments please check them for viruses and defect.

-----------------------------------------------------------------------------------------------------------------------

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21021-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 17:31:18 2006
Return-Path: <java-user-return-21021-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25830 invoked from network); 31 May 2006 17:31:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 17:31:18 -0000
Received: (qmail 24422 invoked by uid 500); 31 May 2006 17:31:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24393 invoked by uid 500); 31 May 2006 17:31:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24382 invoked by uid 99); 31 May 2006 17:31:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 10:31:11 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 10:31:09 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 56DCC5B772; Wed, 31 May 2006 10:30:49 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 522F77F403
	for <java-user@lucene.apache.org>; Wed, 31 May 2006 10:30:49 -0700 (PDT)
Date: Wed, 31 May 2006 10:30:49 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Lucene search optimization
In-Reply-To: <1149061494.362.7.camel@samcvf>
Message-ID: <Pine.LNX.4.58.0605311015570.30931@hal.rescomp.berkeley.edu>
References: <1149001927.19768.19.camel@samcvf> 
 <Pine.LNX.4.58.0605301354320.2240@hal.rescomp.berkeley.edu>
 <1149061494.362.7.camel@samcvf>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: public CompassHits find(String query) throws CompassException {
:         return createQueryBuilder().queryString(query).toQuery().hits();
:     }
: And all of these objects are pure wrappers around lucene equivalents,
: nothing more.

: 2) What I am timing is only the find call :
: -- start timer
: CompassHits hits = compassSession.find("cityName:"+ name+"~");
: -- stop timer

ok, but a thin wrapper arround *which* lucene equivilents? .. there are
many different methods for doing a search in lucene, each with a different
usage pattern and performance characteristics ... if for example that code
uses a HitCollector and just pulls back the IDs into the CompassHits
that's going to be faster then if it gets a Hits obejct and then iterates
over each Hit storing the full Document in the CompassHits object --
especially if you've got more then 50 or so results ... in which case
using a Hits object will acctaully result in your search being executed
again and again as you iterate farther down the list of results.

exactly what those methods do can make a big difference.

then again: maybe they don't,  maybe fuzzy queries really are that slow (i
don't know, i've never used them) I just want to make sure you think about
those issues.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21022-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 17:40:41 2006
Return-Path: <java-user-return-21022-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27737 invoked from network); 31 May 2006 17:40:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 17:40:41 -0000
Received: (qmail 40666 invoked by uid 500); 31 May 2006 17:40:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39692 invoked by uid 500); 31 May 2006 17:40:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39673 invoked by uid 99); 31 May 2006 17:40:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 10:40:34 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [17.250.248.172] (HELO smtpout.mac.com) (17.250.248.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 10:40:33 -0700
Received: from mac.com (smtpin01-en2 [10.13.10.146])
	by smtpout.mac.com (Xserve/8.12.11/smtpout02/MantshX 4.0) with ESMTP id k4VHeDbb029041
	for <java-user@lucene.apache.org>; Wed, 31 May 2006 10:40:13 -0700 (PDT)
Received: from [127.0.0.1] (216-12-26-38.va.mvl.ntelos.net [216.12.26.38])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin01/MantshX 4.0) with ESMTP id k4VHe7wf004433
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <java-user@lucene.apache.org>; Wed, 31 May 2006 10:40:12 -0700 (PDT)
Message-ID: <447DD4FC.4060406@mac.com>
Date: Wed, 31 May 2006 13:40:12 -0400
From: "Michael J. Prichard" <michael_prichard@mac.com>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Document design and analyzer questions?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

I will try this again....

I am working on a system that will index emails and their attachments.  
I have all the pieces working that parse the documents and I am now 
working on the actual indexing part.  I would like to have synonym 
searching as well.

Question is two fold.  One, here is the layout I was thinking:

ItemID:  Unindexed, Stored
ItemGUID: Unindexed, Stored
ItemType: Indexed, Stored
ItemDate: Indexed, Unstored
ItemKeywords: Indexed, Unstored
ItemName: Indexed, Unstored
ItemContent: Indexed, Unstored
ItemFrom: Indexed, Unstored
ItemTo: Indexed, Unstored
ItemCC: Indexed, Unstored
ItemBCC: Indexed, Unstored

Searches will be combinations of To, From, CC, Date and Content.   Does 
this look ok?

Also, any recommendations on what analyzer to use?  I was thinking the 
synonym analyzer based on the one in the Lucene in Action book.

Thanks,
Michael

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21023-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 17:50:10 2006
Return-Path: <java-user-return-21023-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31930 invoked from network); 31 May 2006 17:50:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 17:50:09 -0000
Received: (qmail 66736 invoked by uid 500); 31 May 2006 17:50:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66546 invoked by uid 500); 31 May 2006 17:50:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66535 invoked by uid 99); 31 May 2006 17:50:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 10:50:02 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 10:50:00 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 4B7FE5B772; Wed, 31 May 2006 10:49:38 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 37B797F403
	for <java-user@lucene.apache.org>; Wed, 31 May 2006 10:49:38 -0700 (PDT)
Date: Wed, 31 May 2006 10:49:38 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: Lucene Users <java-user@lucene.apache.org>
Subject: Re: Document design and analyzer questions?
In-Reply-To: <447DD4FC.4060406@mac.com>
Message-ID: <Pine.LNX.4.58.0605311044500.941@hal.rescomp.berkeley.edu>
References: <447DD4FC.4060406@mac.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Question is two fold.  One, here is the layout I was thinking:

my rule of thumb: if a field is going to contain less then a few dozen
bytes (ie: a date, an email address, etc) you might as well store it ...
it will make your life easier when looking at your results.

another important thing you should consider is field norms: they don't
make sense for most date fields or numeric fields, or fields where the
length is fairly irrelevant (ie: email addresses, guids, document types)

: Also, any recommendations on what analyzer to use?  I was thinking the
: synonym analyzer based on the one in the Lucene in Action book.

you are probably going to want to use PerFieldAnalyzer so you can use a
differnet analyzer for the fields that store email addresses then the
analyzer you use for the body text ... if i'm searching for
emails from "bob@car.com" i dont want it matching on emails from
"bob@automobile.com"



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21024-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 18:57:45 2006
Return-Path: <java-user-return-21024-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58824 invoked from network); 31 May 2006 18:57:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 18:57:45 -0000
Received: (qmail 91511 invoked by uid 500); 31 May 2006 18:57:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91480 invoked by uid 500); 31 May 2006 18:57:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91469 invoked by uid 99); 31 May 2006 18:57:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 11:57:37 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of richmondmike@gmail.com designates 64.233.182.189 as permitted sender)
Received: from [64.233.182.189] (HELO nf-out-0910.google.com) (64.233.182.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 11:57:36 -0700
Received: by nf-out-0910.google.com with SMTP id h2so148679nfe
        for <java-user@lucene.apache.org>; Wed, 31 May 2006 11:57:15 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=effLw4OjvlHSQziMHKg+milKXkp9OCsI41Jpl/R+n0veLsI6fc7n9t/vK+27DWBOCZ8fdDgbW8AyxJpRqmrtXOh/Pi0mRXlUez/OapoXYLSJGw4iNeks0hjupaeuSD8r5cdqCkasGQOeBAylJEvsD9B4g2wHWZaBMWP6gIyuTb8=
Received: by 10.49.43.6 with SMTP id v6mr714164nfj;
        Wed, 31 May 2006 11:57:15 -0700 (PDT)
Received: by 10.67.95.1 with HTTP; Wed, 31 May 2006 11:57:15 -0700 (PDT)
Message-ID: <931ca11b0605311157q6f4fd0d7pa39a9e4d199848f9@mail.gmail.com>
Date: Wed, 31 May 2006 14:57:15 -0400
From: "Mike Richmond" <richmondmike@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Get index name from a hit
In-Reply-To: <E326DE95-1D87-44A1-9AB0-5E79ACC5018F@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <931ca11b0605261132g1a6f048w755dfa3e4b247368@mail.gmail.com>
	 <E326DE95-1D87-44A1-9AB0-5E79ACC5018F@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for the quick Reply Erik; subSearcher did the trick.


--Mike



On 5/26/06, Erik Hatcher <erik@ehatchersolutions.com> wrote:
> I'm running out the door, so only a quick reply... yes you can.  Look
> at the subSearcher(?) method - that'll give you the index.  Your
> application will need to keep track of which indexes correspond to
> which indices.   Check the archives for the answer too, sorry for the
> short reply.
>
>         Erik
>
> On May 26, 2006, at 2:32 PM, Mike Richmond wrote:
>
> > When using a MultiSearcher Is there anyway to get the name of the
> > index that a hit came from?  One way would be to add the index name as
> > a field to each document, but I am hoping to avoid this.
> >
> >
> > Thanks,
> >
> > Mike
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21025-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 19:22:15 2006
Return-Path: <java-user-return-21025-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73752 invoked from network); 31 May 2006 19:22:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 19:22:14 -0000
Received: (qmail 21015 invoked by uid 500); 31 May 2006 19:22:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20339 invoked by uid 500); 31 May 2006 19:22:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20323 invoked by uid 99); 31 May 2006 19:22:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 12:22:08 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [216.240.153.78] (HELO mail.prostate90.com) (216.240.153.78)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 12:22:06 -0700
Received: from samlaptop (lns-bzn-48f-81-56-241-124.adsl.proxad.net [81.56.241.124])
	by mail.prostate90.com (Postfix) with ESMTP id BD5EA150235
	for <java-user@lucene.apache.org>; Wed, 31 May 2006 12:21:34 -0700 (PDT)
Subject: Re: Lucene search optimization
From: Sami Dalouche <skoobi@free.fr>
To: java-user@lucene.apache.org
In-Reply-To: <20060531082859.16309.qmail@web26001.mail.ukl.yahoo.com>
References: <20060531082859.16309.qmail@web26001.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=utf-8
Date: Wed, 31 May 2006 21:21:15 +0200
Message-Id: <1149103276.1307.2.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi,

Compass offers me any kind of control Lucene does. it gives access to
the low level Lucene API if you want too, so if you have a nice way of
optimizing it, I can have Compass adapt to that.


I tried the cityName:city~0.8, and it is still not fast enough..
something around 2 seconds... to return only 2 results...
(city:Rambouillet~0.8)

Sami Dalouche

Le mercredi 31 mai 2006  09:28 +0100, mark harwood a crit :
> >>Actually, I am not using Lucene directly, but a
> wrapper called compass
> 
> 
> I don't know what controls it offers you then.
> One option which could offer a speed up is to raise
> the minimum quality match threshold above the default
> of 0.5 and use a query string like this:
> 
>   cityName:London~0.8 
> 
> This would reduce the number of alternative terms
> considered and therefore the query time.
> 
> 
> --- Sami Dalouche <skoobi@free.fr> wrote:
> 
> > Hi,
> > 
> > 1) Actually, I am not using Lucene directly, but a
> > wrapper called
> > compass. I am using the find() method of the
> > CompassSession, which code
> > is :
> > public CompassHits find(String query) throws
> > CompassException {
> >         return
> >
> createQueryBuilder().queryString(query).toQuery().hits();
> >     }
> > And all of these objects are pure wrappers around
> > lucene equivalents,
> > nothing more.
> > 
> > 
> > 2) What I am timing is only the find call :
> > -- start timer
> > CompassHits hits = compassSession.find("cityName:"+
> > name+"~");
> > -- stop timer
> > 
> > 3) I am not sorting anything, but lucene is
> > returning the hits by
> > relevance. Does this count as sorting ?
> > 
> > 4) I tried to time the thing for ~10 queries, and
> > the results are
> > roughly the same. Can go down to 2 seconds, which is
> > still way too
> > much...
> > 
> > Thanks for helping
> > sami Dalouche
> > 
> > On Tue, 2006-05-30 at 13:58 -0700, Chris Hostetter
> > wrote:
> > > : Fuzzy searching against this property takes
> > around 3 seconds, which is
> > > : way too much for what I plan to do, so I am
> > considering the possible
> > > 
> > > whenever anyone has a question about how to speed
> > up a search, and the
> > > current amount of time the search takes is more
> > then a second, there are a
> > > few questions i allways want to ask:
> > > 
> > >  1) what method exactly on the Searcher interface
> > are you using the
> > >     execute the search?
> > >  2) what exactly are you timing? (the time the
> > search method call takes?,
> > >     the time it takes you to iterate over the
> > results? etc...)
> > >  3) are you sorting by any particular field?
> > >  4) are you reusing the Searcher instance for more
> > then one query?   are
> > >     you timing more then one query and taking the
> > average?
> > > 
> > > 
> > > -Hoss
> > > 
> > > 
> > >
> >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> > java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail:
> > java-user-help@lucene.apache.org
> > > 
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail:
> > java-user-help@lucene.apache.org
> > 
> > 
> 
> 
> 
> 		
> ___________________________________________________________ 
> The all-new Yahoo! Mail goes wherever you go - free your email address from your Internet provider. http://uk.docs.yahoo.com/nowyoucan.html
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21026-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 19:24:39 2006
Return-Path: <java-user-return-21026-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76207 invoked from network); 31 May 2006 19:24:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 19:24:38 -0000
Received: (qmail 23867 invoked by uid 500); 31 May 2006 19:24:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23843 invoked by uid 500); 31 May 2006 19:24:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23832 invoked by uid 99); 31 May 2006 19:24:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 12:24:32 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [216.240.153.78] (HELO mail.prostate90.com) (216.240.153.78)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 12:24:29 -0700
Received: from samlaptop (unknown [81.56.241.124])
	by mail.prostate90.com (Postfix) with ESMTP id 38AAD150235
	for <java-user@lucene.apache.org>; Wed, 31 May 2006 12:24:13 -0700 (PDT)
Subject: Re: Lucene search optimization
From: Sami Dalouche <skoobi@free.fr>
To: java-user@lucene.apache.org
In-Reply-To: <20060530155548.21371.qmail@web26003.mail.ukl.yahoo.com>
References: <20060530155548.21371.qmail@web26003.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=utf-8
Date: Wed, 31 May 2006 21:23:57 +0200
Message-Id: <1149103437.1307.6.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

thanks for the tip.. However, my slowness issues do not seem to be
caused by the number of search results returned, since cityName:XX~0.8
took 2 seconds to return 2 results....

So, the problem seems to be more related to scanning the index...

Thanks,
Sami Dalouche

Le mardi 30 mai 2006  16:55 +0100, mark harwood a crit :
> Take a look at "FuzzyLikeThisQuery" in
> contrib\queries.
> 
> I use it for name searches on large indexes. 
> Unlike FuzzyQuery it:
> a) limits the number of query terms produced
> b) provides better ranking (disables idf factor which
> otherwise boosts rare misspellings)
> 
> The cost of running a query is strongly related to the
> quantity of terms in the query.
> FuzzyQuery only limits the number of terms by quality
> (which means you can unexpectedly produce a large
> quantity of terms and therefore have a slow query).
> FuzzyLikeThis is more explicit - it limits the
> *quantity* of terms used (and automatically shortlists
> to the best quality terms using the same edit-distance
> metric as FuzzyQuery for ranking quality). 
> 
> 
> Cheers,
> Mark
> 
> 
> 
> 	
> 	
> 		
> ___________________________________________________________ 
> All new Yahoo! Mail "The new Interface is stunning in its simplicity and ease of use." - PC Magazine 
> http://uk.docs.yahoo.com/nowyoucan.html
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21027-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 19:54:06 2006
Return-Path: <java-user-return-21027-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84655 invoked from network); 31 May 2006 19:54:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 19:54:05 -0000
Received: (qmail 66311 invoked by uid 500); 31 May 2006 19:53:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66285 invoked by uid 500); 31 May 2006 19:53:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66268 invoked by uid 99); 31 May 2006 19:53:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 12:53:57 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.11.63] (HELO smtp009.mail.ukl.yahoo.com) (217.12.11.63)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 31 May 2006 12:53:56 -0700
Received: (qmail 41059 invoked from network); 31 May 2006 19:53:34 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Received:Message-ID:Date:From:User-Agent:X-Accept-Language:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding;
  b=RYuLTAnlDdYpmQBfBFKGz/ySIgfdXRhH0e8XKD28OB1524MvG39HrlFmvAYUrqvG6pWwiYLb+MfyDOQsL5b7RfGm/81ki+Bn3tIw3SgMOfb14fe+sSpbTzp9OlDJbANmpPfTd++8hRz9grZqLzQtBV/dbD483kN43be3uw+wkMo=  ;
Received: from unknown (HELO ?127.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp009.mail.ukl.yahoo.com with SMTP; 31 May 2006 19:53:34 -0000
Message-ID: <447DF437.4010202@yahoo.co.uk>
Date: Wed, 31 May 2006 20:53:27 +0100
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 1.0.5 (Windows/20050711)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Lucene search optimization
References: <20060531082859.16309.qmail@web26001.mail.ukl.yahoo.com> <1149103276.1307.2.camel@localhost.localdomain>
In-Reply-To: <1149103276.1307.2.camel@localhost.localdomain>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>>I tried the cityName:city~0.8, and it is still not fast enough..
>>something around 2 seconds... to return only 2 results...

OK, so we trimmed down the search terms we actually used in the query but I suspect what you are seeing is the effect of having to perform edit-distance comparisons on ALL town names to get to this shortlist. If this is the case then you'll probably be seeing a lot of CPU activity. One way of avoiding this is to set the "prefix length" parameter on fuzzy queries to at least one. This determines if you are comparing Rambouillet with ALL terms (as the default zero prefix length setting does) or just those beginning with "R".

Assuming an even spread of town names to letters that would cut the computation down to 1/26th of the original cost.

Cheers
Mark




Sami Dalouche wrote:

>Hi,
>
>Compass offers me any kind of control Lucene does. it gives access to
>the low level Lucene API if you want too, so if you have a nice way of
>optimizing it, I can have Compass adapt to that.
>
>
>I tried the cityName:city~0.8, and it is still not fast enough..
>something around 2 seconds... to return only 2 results...
>(city:Rambouillet~0.8)
>
>Sami Dalouche
>
>Le mercredi 31 mai 2006  09:28 +0100, mark harwood a crit :
>  
>
>>>>Actually, I am not using Lucene directly, but a
>>>>        
>>>>
>>wrapper called compass
>>
>>
>>I don't know what controls it offers you then.
>>One option which could offer a speed up is to raise
>>the minimum quality match threshold above the default
>>of 0.5 and use a query string like this:
>>
>>  cityName:London~0.8 
>>
>>This would reduce the number of alternative terms
>>considered and therefore the query time.
>>
>>
>>--- Sami Dalouche <skoobi@free.fr> wrote:
>>
>>    
>>
>>>Hi,
>>>
>>>1) Actually, I am not using Lucene directly, but a
>>>wrapper called
>>>compass. I am using the find() method of the
>>>CompassSession, which code
>>>is :
>>>public CompassHits find(String query) throws
>>>CompassException {
>>>        return
>>>
>>>      
>>>
>>createQueryBuilder().queryString(query).toQuery().hits();
>>    
>>
>>>    }
>>>And all of these objects are pure wrappers around
>>>lucene equivalents,
>>>nothing more.
>>>
>>>
>>>2) What I am timing is only the find call :
>>>-- start timer
>>>CompassHits hits = compassSession.find("cityName:"+
>>>name+"~");
>>>-- stop timer
>>>
>>>3) I am not sorting anything, but lucene is
>>>returning the hits by
>>>relevance. Does this count as sorting ?
>>>
>>>4) I tried to time the thing for ~10 queries, and
>>>the results are
>>>roughly the same. Can go down to 2 seconds, which is
>>>still way too
>>>much...
>>>
>>>Thanks for helping
>>>sami Dalouche
>>>
>>>On Tue, 2006-05-30 at 13:58 -0700, Chris Hostetter
>>>wrote:
>>>      
>>>
>>>>: Fuzzy searching against this property takes
>>>>        
>>>>
>>>around 3 seconds, which is
>>>      
>>>
>>>>: way too much for what I plan to do, so I am
>>>>        
>>>>
>>>considering the possible
>>>      
>>>
>>>>whenever anyone has a question about how to speed
>>>>        
>>>>
>>>up a search, and the
>>>      
>>>
>>>>current amount of time the search takes is more
>>>>        
>>>>
>>>then a second, there are a
>>>      
>>>
>>>>few questions i allways want to ask:
>>>>
>>>> 1) what method exactly on the Searcher interface
>>>>        
>>>>
>>>are you using the
>>>      
>>>
>>>>    execute the search?
>>>> 2) what exactly are you timing? (the time the
>>>>        
>>>>
>>>search method call takes?,
>>>      
>>>
>>>>    the time it takes you to iterate over the
>>>>        
>>>>
>>>results? etc...)
>>>      
>>>
>>>> 3) are you sorting by any particular field?
>>>> 4) are you reusing the Searcher instance for more
>>>>        
>>>>
>>>then one query?   are
>>>      
>>>
>>>>    you timing more then one query and taking the
>>>>        
>>>>
>>>average?
>>>      
>>>
>>>>-Hoss
>>>>
>>>>
>>>>
>>>>        
>>>>
>>---------------------------------------------------------------------
>>    
>>
>>>>To unsubscribe, e-mail:
>>>>        
>>>>
>>>java-user-unsubscribe@lucene.apache.org
>>>      
>>>
>>>>For additional commands, e-mail:
>>>>        
>>>>
>>>java-user-help@lucene.apache.org
>>>      
>>>
>>>
>>>      
>>>
>>---------------------------------------------------------------------
>>    
>>
>>>To unsubscribe, e-mail:
>>>java-user-unsubscribe@lucene.apache.org
>>>For additional commands, e-mail:
>>>java-user-help@lucene.apache.org
>>>
>>>
>>>      
>>>
>>
>>		
>>___________________________________________________________ 
>>The all-new Yahoo! Mail goes wherever you go - free your email address from your Internet provider. http://uk.docs.yahoo.com/nowyoucan.html
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>    
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>  
>


Send instant messages to your online friends http://uk.messenger.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21028-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 20:05:16 2006
Return-Path: <java-user-return-21028-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87349 invoked from network); 31 May 2006 20:05:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 20:05:15 -0000
Received: (qmail 81487 invoked by uid 500); 31 May 2006 20:05:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81462 invoked by uid 500); 31 May 2006 20:05:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81451 invoked by uid 99); 31 May 2006 20:05:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 13:05:08 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.200] (HELO web25902.mail.ukl.yahoo.com) (217.12.10.200)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 31 May 2006 13:05:06 -0700
Received: (qmail 43620 invoked by uid 60001); 31 May 2006 20:04:45 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=D43rhwSv9XfVO2Bq1vJwdo7wQSgr26zzGcTDV7fvZ4vNvFNojnt4uN2DJJ+ORZCpfCcxWzgEJZgJ26f6UljUtWZXspoOvcnkRPCrMOr2wFngYr2x1fDYFp2vLt3JZPaf5WZ4e6t/yFviS4kMPz5wDj1wlYUweivgQsXR8L3ZA/M=  ;
Message-ID: <20060531200445.43618.qmail@web25902.mail.ukl.yahoo.com>
Date: Wed, 31 May 2006 20:04:45 +0000 (GMT)
From: eks dev <eksdev@yahoo.co.uk>
Reply-To: eks dev <eksdev@yahoo.co.uk>
Subject: Re: Lucene search optimization
To: java-user@lucene.apache.org
In-Reply-To: <447DF437.4010202@yahoo.co.uk>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

or you could try n-gram approach with  Spellchecker (you will find it contr=
ib area).=20
get suggestSimilars() and form your query, or even better ConstantScoringQu=
ery via Filter. It works OK.

Or if you have not so many Terms (could spare to load all terms in memory),=
  you could try  TernarySearchTree, get all Terms that have max N diferent =
characters and than calculate EditDistance only on them, Form Query.... and=
 there you go


Lucene is fast, calculating edit distance is O(n*m) is slow, you have to fi=
gure it out how to reduce number of comparisons....

good luck


----- Original Message ----
From: markharw00d <markharw00d@yahoo.co.uk>
To: java-user@lucene.apache.org
Sent: Wednesday, 31 May, 2006 9:53:27 PM
Subject: Re: Lucene search optimization

>>I tried the cityName:city~0.8, and it is still not fast enough..
>>something around 2 seconds... to return only 2 results...

OK, so we trimmed down the search terms we actually used in the query but I=
 suspect what you are seeing is the effect of having to perform edit-distan=
ce comparisons on ALL town names to get to this shortlist. If this is the c=
ase then you'll probably be seeing a lot of CPU activity. One way of avoidi=
ng this is to set the "prefix length" parameter on fuzzy queries to at leas=
t one. This determines if you are comparing Rambouillet with ALL terms (as =
the default zero prefix length setting does) or just those beginning with "=
R".

Assuming an even spread of town names to letters that would cut the computa=
tion down to 1/26th of the original cost.

Cheers
Mark




Sami Dalouche wrote:

>Hi,
>
>Compass offers me any kind of control Lucene does. it gives access to
>the low level Lucene API if you want too, so if you have a nice way of
>optimizing it, I can have Compass adapt to that.
>
>
>I tried the cityName:city~0.8, and it is still not fast enough..
>something around 2 seconds... to return only 2 results...
>(city:Rambouillet~0.8)
>
>Sami Dalouche
>
>Le mercredi 31 mai 2006 =E0 09:28 +0100, mark harwood a =E9crit :
> =20
>
>>>>Actually, I am not using Lucene directly, but a
>>>>       =20
>>>>
>>wrapper called compass
>>
>>
>>I don't know what controls it offers you then.
>>One option which could offer a speed up is to raise
>>the minimum quality match threshold above the default
>>of 0.5 and use a query string like this:
>>
>>  cityName:London~0.8=20
>>
>>This would reduce the number of alternative terms
>>considered and therefore the query time.
>>
>>
>>--- Sami Dalouche <skoobi@free.fr> wrote:
>>
>>   =20
>>
>>>Hi,
>>>
>>>1) Actually, I am not using Lucene directly, but a
>>>wrapper called
>>>compass. I am using the find() method of the
>>>CompassSession, which code
>>>is :
>>>public CompassHits find(String query) throws
>>>CompassException {
>>>        return
>>>
>>>     =20
>>>
>>createQueryBuilder().queryString(query).toQuery().hits();
>>   =20
>>
>>>    }
>>>And all of these objects are pure wrappers around
>>>lucene equivalents,
>>>nothing more.
>>>
>>>
>>>2) What I am timing is only the find call :
>>>-- start timer
>>>CompassHits hits =3D compassSession.find("cityName:"+
>>>name+"~");
>>>-- stop timer
>>>
>>>3) I am not sorting anything, but lucene is
>>>returning the hits by
>>>relevance. Does this count as sorting ?
>>>
>>>4) I tried to time the thing for ~10 queries, and
>>>the results are
>>>roughly the same. Can go down to 2 seconds, which is
>>>still way too
>>>much...
>>>
>>>Thanks for helping
>>>sami Dalouche
>>>
>>>On Tue, 2006-05-30 at 13:58 -0700, Chris Hostetter
>>>wrote:
>>>     =20
>>>
>>>>: Fuzzy searching against this property takes
>>>>       =20
>>>>
>>>around 3 seconds, which is
>>>     =20
>>>
>>>>: way too much for what I plan to do, so I am
>>>>       =20
>>>>
>>>considering the possible
>>>     =20
>>>
>>>>whenever anyone has a question about how to speed
>>>>       =20
>>>>
>>>up a search, and the
>>>     =20
>>>
>>>>current amount of time the search takes is more
>>>>       =20
>>>>
>>>then a second, there are a
>>>     =20
>>>
>>>>few questions i allways want to ask:
>>>>
>>>> 1) what method exactly on the Searcher interface
>>>>       =20
>>>>
>>>are you using the
>>>     =20
>>>
>>>>    execute the search?
>>>> 2) what exactly are you timing? (the time the
>>>>       =20
>>>>
>>>search method call takes?,
>>>     =20
>>>
>>>>    the time it takes you to iterate over the
>>>>       =20
>>>>
>>>results? etc...)
>>>     =20
>>>
>>>> 3) are you sorting by any particular field?
>>>> 4) are you reusing the Searcher instance for more
>>>>       =20
>>>>
>>>then one query?   are
>>>     =20
>>>
>>>>    you timing more then one query and taking the
>>>>       =20
>>>>
>>>average?
>>>     =20
>>>
>>>>-Hoss
>>>>
>>>>
>>>>
>>>>       =20
>>>>
>>---------------------------------------------------------------------
>>   =20
>>
>>>>To unsubscribe, e-mail:
>>>>       =20
>>>>
>>>java-user-unsubscribe@lucene.apache.org
>>>     =20
>>>
>>>>For additional commands, e-mail:
>>>>       =20
>>>>
>>>java-user-help@lucene.apache.org
>>>     =20
>>>
>>>
>>>     =20
>>>
>>---------------------------------------------------------------------
>>   =20
>>
>>>To unsubscribe, e-mail:
>>>java-user-unsubscribe@lucene.apache.org
>>>For additional commands, e-mail:
>>>java-user-help@lucene.apache.org
>>>
>>>
>>>     =20
>>>
>>
>>       =20
>>___________________________________________________________=20
>>The all-new Yahoo! Mail goes wherever you go - free your email address fr=
om your Internet provider. http://uk.docs.yahoo.com/nowyoucan.html
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>   =20
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> =20
>


Send instant messages to your online friends http://uk.messenger.yahoo.com=
=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21029-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 20:12:03 2006
Return-Path: <java-user-return-21029-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89401 invoked from network); 31 May 2006 20:12:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 20:12:03 -0000
Received: (qmail 95314 invoked by uid 500); 31 May 2006 20:11:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95290 invoked by uid 500); 31 May 2006 20:11:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95279 invoked by uid 99); 31 May 2006 20:11:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 13:11:56 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of andrewhudson@gmail.com designates 64.233.182.187 as permitted sender)
Received: from [64.233.182.187] (HELO nf-out-0910.google.com) (64.233.182.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 13:11:55 -0700
Received: by nf-out-0910.google.com with SMTP id l24so158560nfc
        for <java-user@lucene.apache.org>; Wed, 31 May 2006 13:11:34 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=LcT7vHT3KBfBPKLxWtRZbMAil0KbOmNRQo7SGi1Qy3uitw98jTjYLGNQAcWE/fMMkdFDK1P6lrRaULT2ZHox7G8hvSV2GRjtUuu5c+sP3o8uB9gS0kjT2CBxwPtqeg86khrODzNgHa69mXYWPAGNe6qFAlnoEA0gQt8qV5vCzxI=
Received: by 10.48.238.6 with SMTP id l6mr827472nfh;
        Wed, 31 May 2006 13:11:33 -0700 (PDT)
Received: by 10.66.225.14 with HTTP; Wed, 31 May 2006 13:11:33 -0700 (PDT)
Message-ID: <9d8b72d90605311311q338c844ar4d89603f57481041@mail.gmail.com>
Date: Wed, 31 May 2006 15:11:33 -0500
From: "Andrew Hudson" <andrewhudson@gmail.com>
Reply-To: ahudson@indeed.com
To: java-user@lucene.apache.org
Subject: Inefficiency in MultiReader / MultiTermDocs.skipTo (non optimized indexes)
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_36170_11917576.1149106293200"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_36170_11917576.1149106293200
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

In our application we noticed that anytime there was more than one segment
(as in not optimized) in the index that there was a big drop in
performance.  After thinking about this for a long time it didn't add up,
even if you optimize an index and then add just 1 job the big drop occurs.

I tracked down the inefficiency to MultiTermDocs.skipTo where even in the
comment it said the function was unoptimized, I implemented the function
very similar to how its 'next' function is implemented and the performance
hit vanished:

Here is how the 'next' function is implemented:
  public boolean next() throws IOException {
    if (current != null && current.next()) {
      return true;
    } else if (pointer < readers.length) {
      base = starts[pointer];
      current = termDocs(pointer++);
      return next();
    } else
      return false;
  }

This is how I implemented skipTo:
  /** Much more optimized implementation. Could be
   * optimized to skip entire segments */
  public boolean skipTo(int target) throws IOException {
    if (current != null && current.skipTo(target-base)) {
      return true;
    } else if (pointer < readers.length) {
      base = starts[pointer];
      current = termDocs(pointer++);
      return skipTo(target);
    } else
      return false;
  }

Here is the old implementation, it just calls next over and over:
  /** As yet unoptimized implementation. */
  public boolean skipTo(int target) throws IOException {
    do {
      if (!next())
        return false;
    } while (target > doc());
      return true;
  }

------=_Part_36170_11917576.1149106293200--

From java-user-return-21030-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 20:30:03 2006
Return-Path: <java-user-return-21030-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95062 invoked from network); 31 May 2006 20:30:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 20:30:03 -0000
Received: (qmail 19640 invoked by uid 500); 31 May 2006 20:29:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19611 invoked by uid 500); 31 May 2006 20:29:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19600 invoked by uid 99); 31 May 2006 20:29:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 13:29:57 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [216.240.153.78] (HELO mail.prostate90.com) (216.240.153.78)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 13:29:55 -0700
Received: from samlaptop (lns-bzn-48f-81-56-241-124.adsl.proxad.net [81.56.241.124])
	by mail.prostate90.com (Postfix) with ESMTP id 44D3F150235;
	Wed, 31 May 2006 13:29:38 -0700 (PDT)
Subject: Re: Lucene search optimization
From: Sami Dalouche <skoobi@free.fr>
To: java-user@lucene.apache.org
In-Reply-To: <447DF437.4010202@yahoo.co.uk>
References: <20060531082859.16309.qmail@web26001.mail.ukl.yahoo.com>
	 <1149103276.1307.2.camel@localhost.localdomain>
	 <447DF437.4010202@yahoo.co.uk>
Content-Type: text/plain; charset=UTF-8
Date: Wed, 31 May 2006 22:29:26 +0200
Message-Id: <1149107367.3002.27.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Evolution 2.6.1 
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

thanks for the tip !! Yes, basically, I would like to reduce the number
of comparisons.  Using this prefix length seems doable for my problem..
(even though I'm not 100% sure it is appropriate, this has to be
investigated)

Is there a way to use this prefix length (or something similar) on some
other property than the city ? In fact, I can also index the Country, so
if this prefix length could be useable on the country, this could easily
divide the search space by 400, which is way better than /26...

 
Any idea ?
Sami Dalouche


Le mercredi 31 mai 2006  20:53 +0100, markharw00d a crit :
> >>I tried the cityName:city~0.8, and it is still not fast enough..
> >>something around 2 seconds... to return only 2 results...
> 
> OK, so we trimmed down the search terms we actually used in the query but I suspect what you are seeing is the effect of having to perform edit-distance comparisons on ALL town names to get to this shortlist. If this is the case then you'll probably be seeing a lot of CPU activity. One way of avoiding this is to set the "prefix length" parameter on fuzzy queries to at least one. This determines if you are comparing Rambouillet with ALL terms (as the default zero prefix length setting does) or just those beginning with "R".
> 
> Assuming an even spread of town names to letters that would cut the computation down to 1/26th of the original cost.
> 
> Cheers
> Mark
> 
> 
> 
> 
> Sami Dalouche wrote:
> 
> >Hi,
> >
> >Compass offers me any kind of control Lucene does. it gives access to
> >the low level Lucene API if you want too, so if you have a nice way of
> >optimizing it, I can have Compass adapt to that.
> >
> >
> >I tried the cityName:city~0.8, and it is still not fast enough..
> >something around 2 seconds... to return only 2 results...
> >(city:Rambouillet~0.8)
> >
> >Sami Dalouche
> >
> >Le mercredi 31 mai 2006  09:28 +0100, mark harwood a crit :
> >  
> >
> >>>>Actually, I am not using Lucene directly, but a
> >>>>        
> >>>>
> >>wrapper called compass
> >>
> >>
> >>I don't know what controls it offers you then.
> >>One option which could offer a speed up is to raise
> >>the minimum quality match threshold above the default
> >>of 0.5 and use a query string like this:
> >>
> >>  cityName:London~0.8 
> >>
> >>This would reduce the number of alternative terms
> >>considered and therefore the query time.
> >>
> >>
> >>--- Sami Dalouche <skoobi@free.fr> wrote:
> >>
> >>    
> >>
> >>>Hi,
> >>>
> >>>1) Actually, I am not using Lucene directly, but a
> >>>wrapper called
> >>>compass. I am using the find() method of the
> >>>CompassSession, which code
> >>>is :
> >>>public CompassHits find(String query) throws
> >>>CompassException {
> >>>        return
> >>>
> >>>      
> >>>
> >>createQueryBuilder().queryString(query).toQuery().hits();
> >>    
> >>
> >>>    }
> >>>And all of these objects are pure wrappers around
> >>>lucene equivalents,
> >>>nothing more.
> >>>
> >>>
> >>>2) What I am timing is only the find call :
> >>>-- start timer
> >>>CompassHits hits = compassSession.find("cityName:"+
> >>>name+"~");
> >>>-- stop timer
> >>>
> >>>3) I am not sorting anything, but lucene is
> >>>returning the hits by
> >>>relevance. Does this count as sorting ?
> >>>
> >>>4) I tried to time the thing for ~10 queries, and
> >>>the results are
> >>>roughly the same. Can go down to 2 seconds, which is
> >>>still way too
> >>>much...
> >>>
> >>>Thanks for helping
> >>>sami Dalouche
> >>>
> >>>On Tue, 2006-05-30 at 13:58 -0700, Chris Hostetter
> >>>wrote:
> >>>      
> >>>
> >>>>: Fuzzy searching against this property takes
> >>>>        
> >>>>
> >>>around 3 seconds, which is
> >>>      
> >>>
> >>>>: way too much for what I plan to do, so I am
> >>>>        
> >>>>
> >>>considering the possible
> >>>      
> >>>
> >>>>whenever anyone has a question about how to speed
> >>>>        
> >>>>
> >>>up a search, and the
> >>>      
> >>>
> >>>>current amount of time the search takes is more
> >>>>        
> >>>>
> >>>then a second, there are a
> >>>      
> >>>
> >>>>few questions i allways want to ask:
> >>>>
> >>>> 1) what method exactly on the Searcher interface
> >>>>        
> >>>>
> >>>are you using the
> >>>      
> >>>
> >>>>    execute the search?
> >>>> 2) what exactly are you timing? (the time the
> >>>>        
> >>>>
> >>>search method call takes?,
> >>>      
> >>>
> >>>>    the time it takes you to iterate over the
> >>>>        
> >>>>
> >>>results? etc...)
> >>>      
> >>>
> >>>> 3) are you sorting by any particular field?
> >>>> 4) are you reusing the Searcher instance for more
> >>>>        
> >>>>
> >>>then one query?   are
> >>>      
> >>>
> >>>>    you timing more then one query and taking the
> >>>>        
> >>>>
> >>>average?
> >>>      
> >>>
> >>>>-Hoss
> >>>>
> >>>>
> >>>>
> >>>>        
> >>>>
> >>---------------------------------------------------------------------
> >>    
> >>
> >>>>To unsubscribe, e-mail:
> >>>>        
> >>>>
> >>>java-user-unsubscribe@lucene.apache.org
> >>>      
> >>>
> >>>>For additional commands, e-mail:
> >>>>        
> >>>>
> >>>java-user-help@lucene.apache.org
> >>>      
> >>>
> >>>
> >>>      
> >>>
> >>---------------------------------------------------------------------
> >>    
> >>
> >>>To unsubscribe, e-mail:
> >>>java-user-unsubscribe@lucene.apache.org
> >>>For additional commands, e-mail:
> >>>java-user-help@lucene.apache.org
> >>>
> >>>
> >>>      
> >>>
> >>
> >>		
> >>___________________________________________________________ 
> >>The all-new Yahoo! Mail goes wherever you go - free your email address from your Internet provider. http://uk.docs.yahoo.com/nowyoucan.html
> >>
> >>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>    
> >>
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> >
> >  
> >
> 
> 
> Send instant messages to your online friends http://uk.messenger.yahoo.com 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21031-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 20:39:26 2006
Return-Path: <java-user-return-21031-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97457 invoked from network); 31 May 2006 20:39:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 20:39:26 -0000
Received: (qmail 33182 invoked by uid 500); 31 May 2006 20:39:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33077 invoked by uid 500); 31 May 2006 20:39:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33066 invoked by uid 99); 31 May 2006 20:39:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 13:39:19 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.11.33] (HELO smtp002.mail.ukl.yahoo.com) (217.12.11.33)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 31 May 2006 13:39:17 -0700
Received: (qmail 77400 invoked from network); 31 May 2006 20:38:55 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Received:Message-ID:Date:From:User-Agent:X-Accept-Language:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding;
  b=PBWUQDlu8bvf2iQ47agLRur/36uo2kkHloZaLSA36H/HylIEAO+X8tk7F4q143vtx0ZfGadeF0blzTkDJ7nLJTteZbp2BcQ/SmqboCKIxVkLUhDrnWghCYFH5wHjKyqqNs6/tm7WxzfmxVQugR8UM4SJ8TtYZpAiF7Z8MENufC8=  ;
Received: from unknown (HELO ?127.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp002.mail.ukl.yahoo.com with SMTP; 31 May 2006 20:38:55 -0000
Message-ID: <447DFEDD.5030304@yahoo.co.uk>
Date: Wed, 31 May 2006 21:38:53 +0100
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 1.0.5 (Windows/20050711)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Lucene search optimization
References: <20060531082859.16309.qmail@web26001.mail.ukl.yahoo.com>	 <1149103276.1307.2.camel@localhost.localdomain>	 <447DF437.4010202@yahoo.co.uk> <1149107367.3002.27.camel@localhost.localdomain>
In-Reply-To: <1149107367.3002.27.camel@localhost.localdomain>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

See QueryParser.setFuzzyPrefixLength()

This will apply to all fields parsed by the parser and is probably 
generally advisable anyway to avoid server CPU overload.
Many production apps disable fuzzy searching completely in the search 
syntax for this reason.






		
___________________________________________________________ 
Try the all-new Yahoo! Mail. "The New Version is radically easier to use"  The Wall Street Journal 
http://uk.docs.yahoo.com/nowyoucan.html

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21032-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 20:54:50 2006
Return-Path: <java-user-return-21032-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1272 invoked from network); 31 May 2006 20:54:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 20:54:50 -0000
Received: (qmail 52887 invoked by uid 500); 31 May 2006 20:54:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52625 invoked by uid 500); 31 May 2006 20:54:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52614 invoked by uid 99); 31 May 2006 20:54:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 13:54:43 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_MESSAGE,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [204.90.187.18] (HELO smtp-gw4.us.gxs.com) (204.90.187.18)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 13:54:40 -0700
Received: from unknown (HELO bromail01.internal.gxs.com) ([10.160.0.166])
  by smtp-gw4.us.gxs.com with ESMTP; 31 May 2006 17:00:46 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C684F4.5F6CEBFD"
Subject: java.io.IOException: Cannot delete
Date: Wed, 31 May 2006 16:54:13 -0400
Message-ID: <ABF4E02DA33A6F4BAC41122C7086C8990376A7C4@bromail01.internal.gxs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: java.io.IOException: Cannot delete
Thread-Index: AcaE9F9jG45FkGoSQ1is4CqZU1WaFA==
From: <Charles.Sanders@gxs.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C684F4.5F6CEBFD
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

When attempting to re-create my index, I receive the following error:
=20
java.io.IOException: Cannot delete C:\CatalogCollections\Live\_2s.cfs
 at org.apache.lucene.store.FSDirectory.create(FSDirectory.java:198)
 at
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:144)
 at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:224)
=20
I can create my index and index data with no problems.  If I attempt to
re-create the index before I ever perform a search, the index is
re-created with no exceptions.  But once I perform a search and then
attempt to re-create the index, I always receive the IOException.
=20
To re-create the collection I am using:
IndexWriter writer =3D new IndexWriter(indexDir, new StandardAnalyzer(),
true);
=20
To search the index, I am using:
MultiSearcher
and
QueryParser
=20
I do not understand how the search could contribute to the exception I
am seeing.  Totally baffled.  Any way to determine what "other" process
is using the file mentioned in the exception?
=20
I'm running:
Windows XP
Tomcat 5.5.9
JDK 1.5.0_04
Lucene 2.0 / 1.9.1/ 1.4.3
=20
Any help greatly appreciated.
Charles

------_=_NextPart_001_01C684F4.5F6CEBFD--

From java-user-return-21033-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 21:37:21 2006
Return-Path: <java-user-return-21033-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14251 invoked from network); 31 May 2006 21:37:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 21:37:21 -0000
Received: (qmail 22669 invoked by uid 500); 31 May 2006 21:37:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22580 invoked by uid 500); 31 May 2006 21:37:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22567 invoked by uid 99); 31 May 2006 21:37:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 14:37:14 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist2005@danielnaber.de designates 80.67.18.15 as permitted sender)
Received: from [80.67.18.15] (HELO smtprelay03.ispgateway.de) (80.67.18.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 14:37:11 -0700
Received: (qmail 2568 invoked from network); 31 May 2006 21:36:48 -0000
Received: from unknown (HELO p5496cef7.dip.t-dialin.net) ([pbs]695637@[84.150.206.247])
          (envelope-sender <lucenelist2005@danielnaber.de>)
          by smtprelay03.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 31 May 2006 21:36:48 -0000
From: Daniel Naber <lucenelist2005@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: [Java-lucene] Problem with Web demo in lucene 2.0?
Date: Wed, 31 May 2006 23:38:41 +0200
User-Agent: KMail/1.8.2
References: <447D5000.8020003@wmin.ac.uk>
In-Reply-To: <447D5000.8020003@wmin.ac.uk>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200605312338.41407@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Mittwoch 31 Mai 2006 10:12, Simon Courtenage wrote:

> I'm new to Lucene but trying it out. =C2=A0I've successfully installed the
> luceneweb.war for the indexHTML
> web demo, but am getting an error when tomcat tries to compile the
> results.jsp part of the demo as it
> tries to answer a search query.

There's a bug in the code, as it refers to a deprecated method that has=20
been removed. You need to use this code instead:

          QueryParser qp =3D new QueryParser("contents", analyzer);
          query =3D qp.parse(queryString);

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21034-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed May 31 23:57:32 2006
Return-Path: <java-user-return-21034-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58635 invoked from network); 31 May 2006 23:57:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 31 May 2006 23:57:31 -0000
Received: (qmail 39786 invoked by uid 500); 31 May 2006 23:57:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39621 invoked by uid 500); 31 May 2006 23:57:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39603 invoked by uid 99); 31 May 2006 23:57:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 16:57:23 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of heng.mei@gmail.com designates 64.233.162.192 as permitted sender)
Received: from [64.233.162.192] (HELO nz-out-0102.google.com) (64.233.162.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 16:57:22 -0700
Received: by nz-out-0102.google.com with SMTP id 13so147927nzp
        for <java-user@lucene.apache.org>; Wed, 31 May 2006 16:57:02 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=gvM0pWXVIbpQXxyUkR6nIzKVorogGySM9Qja6PRdFxoGVh0/bAm0s8fUGYbL2Pns4Mn+ojNiZ4VrSeKdM/9r+cEXCzXI+9xugIJg7dUvNjmrN24DbqbkHyCeMGSCrHGp0kKKQ6jdlbChd8+TlrD+lWq27HYD7rNDWZzXFtYUlew=
Received: by 10.64.47.19 with SMTP id u19mr57431qbu;
        Wed, 31 May 2006 16:57:02 -0700 (PDT)
Received: by 10.65.61.11 with HTTP; Wed, 31 May 2006 16:57:02 -0700 (PDT)
Message-ID: <b9fbc60a0605311657w2d201ab3mfcad3fbbb1b1ec9b@mail.gmail.com>
Date: Wed, 31 May 2006 16:57:02 -0700
From: "Heng Mei" <heng.mei@gmail.com>
To: java-user@lucene.apache.org
Subject: lucene memory usage, caching...
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi experts,

Does Lucene do any caching of Document fields during a search?
If I perform a search and retrieve some fields in the Document hits,
then I repeat the same search, are those fields cached in memory?  It
doesn't seem to be -- I'm performing several thousand unique search
and retrievely a large text field from each Document, but the memory
usage by the Lucene java process seems very low compared to the total
size of all those fields.

Just curious if there are any config params or other way to tweak
Lucene's caching strategies...

Thanks,
~Heng

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21035-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 01 00:06:46 2006
Return-Path: <java-user-return-21035-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60964 invoked from network); 1 Jun 2006 00:06:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Jun 2006 00:06:46 -0000
Received: (qmail 49294 invoked by uid 500); 1 Jun 2006 00:06:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49259 invoked by uid 500); 1 Jun 2006 00:06:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49248 invoked by uid 99); 1 Jun 2006 00:06:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 17:06:39 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [216.231.31.101] (HELO bulbasaur.wynnesystems.com) (216.231.31.101)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 17:06:38 -0700
X-SEF-Processed: 5_0_0_910__2006_05_31_17_10_42
X-SEF-37DF5EA0-ABAA-4294-A0CB-59A2F25D2F34: 1
Received: from Unknown [10.35.10.5] by bulbasaur.wynnesystems.com - SurfControl E-mail Filter (5.0); Wed, 31 May 2006 17:10:41 -0700
Content-class: urn:content-classes:message
Subject: fuzzyquery question
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C6850F.D1C802AC"
Date: Wed, 31 May 2006 17:10:15 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Message-ID: <D2D2FEE335CE304C81F17C83626158E2E08F75@wsdmnsvr>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: fuzzyquery question
thread-index: AcaFD8IENtso/P/aSyCcQO4AgFnD5w==
From: "Van Nguyen" <vnguyen@wynnesystems.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C6850F.D1C802AC
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I have a question regarding the results I get back from a fuzzyquery.=0D=0A=
If I were to do a fuzzy search on:=0D=0A=20=0D=0AClassic series=0D=0A=20=0D=
=0AShould it come back with a result like:=0D=0A=20=0D=0AStandard Series No=
n Vented Hat - Class E&G=0D=0A=20=0D=0AIf I do a search on:=0D=0A=20=0D=0AC=
lssic Series=0D=0A=20=0D=0Ait will return the same results I get from a non=
-fuzzy search.=0D=0A=20=0D=0A------=0D=0A=20=0D=0AThis is the code:=0D=0A =0D=
=0AString[] searchTerms =3D however I parse the search string=0D=0A=20=0D=0A=
BooleanQuery query =3D new BooleanQuery();=0D=0A           =20=0D=0A       =
     for (int i=3D0; i<searchTerms.length; i++)=0D=0A            {=0D=0A   =
             Query temp =3D new FuzzyQuery(new Term("CONTENTS",=0D=0Astring=
Field[i]));=0D=0A                // add search words into query=0D=0A      =
          query.add(temp, BooleanClause.Occur.MUST);=0D=0A            }=0D=0A=
Hits hits =3D is.search(query);=0D=0A=20=0D=0AVan Nguyen=0D=0AThis communic=
ation and any documents, files, or previous electronic mail messages attach=
ed to it constitute=0D=0Aan electronic communication within the scope of th=
e Electronic Communication Privacy Act, 18 USCA 2510.=20=0D=0AThis communic=
ation may contain non-public, confidential, or legally privileged informati=
on intended for the=20=0D=0Asole use of the designated recipient(s). The un=
lawful interception, use or disclosure of such information is=20=0D=0Astric=
tly prohibited under 18 USCA 2511 and any applicable laws.=0D=0A
------_=_NextPart_001_01C6850F.D1C802AC--


From java-user-return-21036-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 01 03:03:57 2006
Return-Path: <java-user-return-21036-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4508 invoked from network); 1 Jun 2006 03:03:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Jun 2006 03:03:57 -0000
Received: (qmail 33258 invoked by uid 500); 1 Jun 2006 03:03:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33216 invoked by uid 500); 1 Jun 2006 03:03:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33204 invoked by uid 99); 1 Jun 2006 03:03:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 20:03:50 -0700
X-ASF-Spam-Status: No, hits=2.9 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of charlesmi@gmail.com designates 64.233.182.187 as permitted sender)
Received: from [64.233.182.187] (HELO nf-out-0910.google.com) (64.233.182.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 20:03:49 -0700
Received: by nf-out-0910.google.com with SMTP id x4so365009nfb
        for <java-user@lucene.apache.org>; Wed, 31 May 2006 20:03:28 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=G7R7Ef0dw79k7QV2wqcOXEZwZ4enSpqoDMuk3esQR4NELgzfgcN2Tf3jpIV9+2xK6Lw9dUP5Nueaa3XBKmv/jdRYf80RPoEwTqOUxb4vdY3m9WErRIiJbMQbWtBajQZVizCpvxs0pjjHzmT8b1enC1y2jaU85bNgA/PewFAoQvs=
Received: by 10.48.48.7 with SMTP id v7mr149471nfv;
        Wed, 31 May 2006 20:03:28 -0700 (PDT)
Received: by 10.67.91.1 with HTTP; Wed, 31 May 2006 20:03:28 -0700 (PDT)
Message-ID: <a30e49910605312003h16540d96h1cebf5a1b30e1647@mail.gmail.com>
Date: Wed, 31 May 2006 20:03:28 -0700
From: "Charles Mi" <charlesmi@gmail.com>
To: java-user@lucene.apache.org
Subject: preloading / "warming up" the index
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_16958_30548262.1149131008537"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_16958_30548262.1149131008537
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Is there a way to preload the index into memory when the process starts?
Basically I want to warm up the index before processing user queries. What
are some recommended ways to do this? Thanks.

------=_Part_16958_30548262.1149131008537--

From java-user-return-21037-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 01 03:12:58 2006
Return-Path: <java-user-return-21037-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6230 invoked from network); 1 Jun 2006 03:12:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Jun 2006 03:12:57 -0000
Received: (qmail 45119 invoked by uid 500); 1 Jun 2006 03:12:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44615 invoked by uid 500); 1 Jun 2006 03:12:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44604 invoked by uid 99); 1 Jun 2006 03:12:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 20:12:51 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of monsurh@gmail.com designates 64.233.182.191 as permitted sender)
Received: from [64.233.182.191] (HELO nf-out-0910.google.com) (64.233.182.191)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 20:12:50 -0700
Received: by nf-out-0910.google.com with SMTP id x4so367242nfb
        for <java-user@lucene.apache.org>; Wed, 31 May 2006 20:12:29 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=IlUQ/9WQXX9CXYMqrex04+ZX8vyehiA1CitSDIs6nbIIQvcRWHliAzH18pCkp9LrdoAdBUdAeVmPrmfLZ0wd5Wlf8GDkBjqhntbXXQ+yDZ46zEbAe34aJyvHuOiNl5UHgG5LqAHwwrSqRlc8yezPaQVunadR6P+Px93khwf0V9I=
Received: by 10.48.48.7 with SMTP id v7mr155839nfv;
        Wed, 31 May 2006 20:12:29 -0700 (PDT)
Received: by 10.48.206.7 with HTTP; Wed, 31 May 2006 20:12:29 -0700 (PDT)
Message-ID: <de98de150605312012i6ca825ebwdc59d5944d18a851@mail.gmail.com>
Date: Wed, 31 May 2006 23:12:29 -0400
From: "Monsur Hossain" <monsurh@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: preloading / "warming up" the index
In-Reply-To: <a30e49910605312003h16540d96h1cebf5a1b30e1647@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <a30e49910605312003h16540d96h1cebf5a1b30e1647@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

When Lucene first issues a query, it caches a hash of sort values (one
value per document, plus a bit more if you are sorting on strings),
which takes a while.  Therefore, when our application first starts up,
we issue one query per sort type.  As I understand, it doesn't matter
what the query is or how complicated it is.

Monsur



On 5/31/06, Charles Mi <charlesmi@gmail.com> wrote:
> Is there a way to preload the index into memory when the process starts?
> Basically I want to warm up the index before processing user queries. What
> are some recommended ways to do this? Thanks.
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21038-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 01 03:18:52 2006
Return-Path: <java-user-return-21038-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7594 invoked from network); 1 Jun 2006 03:18:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Jun 2006 03:18:51 -0000
Received: (qmail 51368 invoked by uid 500); 1 Jun 2006 03:18:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50409 invoked by uid 500); 1 Jun 2006 03:18:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50398 invoked by uid 99); 1 Jun 2006 03:18:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 20:18:46 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of appler@gmail.com designates 64.233.166.183 as permitted sender)
Received: from [64.233.166.183] (HELO py-out-1112.google.com) (64.233.166.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 20:18:45 -0700
Received: by py-out-1112.google.com with SMTP id c31so154900pyd
        for <java-user@lucene.apache.org>; Wed, 31 May 2006 20:18:24 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=KV/QJjhenBAIHxxeJ0GYrv3esQyPnCo/J0gzvTdT2w9L2mejXNwsG4NDj4pto8sBzVAFtNOSXgn5aT8djM2t3+LGD0yJLg18ZwyGsdGWYjGya5PmmYP9hGEExRfjX5J43eRs5MCmnq+a0EGMHPDwWd4zRxaFKembAu0bOkAmXD0=
Received: by 10.35.107.20 with SMTP id j20mr111285pym;
        Wed, 31 May 2006 20:18:24 -0700 (PDT)
Received: by 10.35.86.16 with HTTP; Wed, 31 May 2006 20:18:24 -0700 (PDT)
Message-ID: <48b708490605312018k1801ee51sf7e63a6ceda2f6d3@mail.gmail.com>
Date: Thu, 1 Jun 2006 12:18:24 +0900
From: "Cheolgoo Kang" <appler@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: preloading / "warming up" the index
In-Reply-To: <de98de150605312012i6ca825ebwdc59d5944d18a851@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <a30e49910605312003h16540d96h1cebf5a1b30e1647@mail.gmail.com>
	 <de98de150605312012i6ca825ebwdc59d5944d18a851@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Check this out.

http://mail-archives.apache.org/mod_mbox/lucene-java-user/200512.mbox/%3c48b708490512102110s6913a4c3k1c2c152596e50e06@mail.gmail.com%3e


On 6/1/06, Monsur Hossain <monsurh@gmail.com> wrote:
> When Lucene first issues a query, it caches a hash of sort values (one
> value per document, plus a bit more if you are sorting on strings),
> which takes a while.  Therefore, when our application first starts up,
> we issue one query per sort type.  As I understand, it doesn't matter
> what the query is or how complicated it is.
>
> Monsur
>
>
>
> On 5/31/06, Charles Mi <charlesmi@gmail.com> wrote:
> > Is there a way to preload the index into memory when the process starts?
> > Basically I want to warm up the index before processing user queries. What
> > are some recommended ways to do this? Thanks.
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
Cheolgoo

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21039-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 01 03:56:14 2006
Return-Path: <java-user-return-21039-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15595 invoked from network); 1 Jun 2006 03:56:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Jun 2006 03:56:13 -0000
Received: (qmail 81692 invoked by uid 500); 1 Jun 2006 03:56:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81656 invoked by uid 500); 1 Jun 2006 03:56:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81645 invoked by uid 99); 1 Jun 2006 03:56:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 20:56:07 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of charlesmi@gmail.com designates 64.233.182.190 as permitted sender)
Received: from [64.233.182.190] (HELO nf-out-0910.google.com) (64.233.182.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 20:56:06 -0700
Received: by nf-out-0910.google.com with SMTP id x4so376901nfb
        for <java-user@lucene.apache.org>; Wed, 31 May 2006 20:55:45 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=XJmaQtz96nvIp38sLqpxM85jCQ7VUhRjrxPbhYi1MfxQ/r7V6BfwJZCK6CraH5nP4KMOFjy8nh9GfPshktPNd2gKEJ7KKbzcK9/Re4VrrgrQIz6Z7NmYDORYSXoIGr0uX6Lud+tGqw580aOrX6cDjsrUyZqPrK7Oj8oPKND06f4=
Received: by 10.49.43.6 with SMTP id v6mr180993nfj;
        Wed, 31 May 2006 20:55:45 -0700 (PDT)
Received: by 10.67.91.1 with HTTP; Wed, 31 May 2006 20:55:44 -0700 (PDT)
Message-ID: <a30e49910605312055y3eee60d3gd9ddb8a63501fb3b@mail.gmail.com>
Date: Wed, 31 May 2006 20:55:44 -0700
From: "Charles Mi" <charlesmi@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: preloading / "warming up" the index
In-Reply-To: <de98de150605312012i6ca825ebwdc59d5944d18a851@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_17342_7320056.1149134144901"
References: <a30e49910605312003h16540d96h1cebf5a1b30e1647@mail.gmail.com>
	 <de98de150605312012i6ca825ebwdc59d5944d18a851@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_17342_7320056.1149134144901
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Thanks for the advice guys... i'm still not entirely clear on what a search
causes Lucene to do with respect to warming up/caching portions of the index
in memory.

If I warm up lucene using a search for "apple",  does Lucene load the entire
inverted index into Memory, or just the part of the index that contains the
entry for "apple" ?   Basically I'd like to make sure that the entire
inverted index (or as much as possible) is preloaded into memory, so if I
issue a subsequent search for "microsoft", it will be fast.    Does Lucene
have any mechanism for preloading the inverted index into memory?   Also is
there a way to figure out what percentage of lucene's data storage is
occupied by the inverted index, and what percentage is occupied by the other
info, like storing the documents' field values and such.

Thanks!
Charles


On 5/31/06, Monsur Hossain <monsurh@gmail.com> wrote:
>
> When Lucene first issues a query, it caches a hash of sort values (one
> value per document, plus a bit more if you are sorting on strings),
> which takes a while.  Therefore, when our application first starts up,
> we issue one query per sort type.  As I understand, it doesn't matter
> what the query is or how complicated it is.
>
> Monsur
>
>
>
> On 5/31/06, Charles Mi <charlesmi@gmail.com> wrote:
> > Is there a way to preload the index into memory when the process starts?
> > Basically I want to warm up the index before processing user queries.
> What
> > are some recommended ways to do this? Thanks.
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_17342_7320056.1149134144901--

From java-user-return-21040-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 01 03:56:56 2006
Return-Path: <java-user-return-21040-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16770 invoked from network); 1 Jun 2006 03:56:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Jun 2006 03:56:55 -0000
Received: (qmail 83774 invoked by uid 500); 1 Jun 2006 03:56:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83670 invoked by uid 500); 1 Jun 2006 03:56:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83642 invoked by uid 99); 1 Jun 2006 03:56:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 20:56:47 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.200.76.18] (HELO mail4.niit.com) (203.200.76.18)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 20:56:46 -0700
Received: from 172.17.8.245 [172.17.8.245]
	by mail4.niit.com
	with XWall v3.33 ;
	Thu, 1 Jun 2006 09:26:21 +0530
Received: by ho-kkj-msg3.in.niit.com with Internet Mail Service (5.5.2657.72)
	id <L9CJ0NTY>; Thu, 1 Jun 2006 09:26:20 +0530
From: Amaresh Kumar Yadav <Amaresh.Yadav@niit.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: RE: how to craete index with particular ID
Date: Thu, 1 Jun 2006 09:26:19 +0530
X-Assembled-By: XWall v3.33
X-Mailer: Internet Mail Service (5.5.2657.72)
Message-ID: <934F531A825AFF4F863658E2402E0647076E5460@ho-kkj-msg3.in.niit.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

i want to search for text into "title" field only.

how shuold i specify it?

Regards..
Amaresh

-----Original Message-----
From: Alexey Sorokin [mailto:alsor.net@gmail.com]
Sent: Wednesday, May 31, 2006 4:21 PM
To: java-user@lucene.apache.org
Subject: Re: how to craete index with particular ID


Actually you don't need to create text file. Get data from db and
create Document that put in index. At least you must store ID of row
in Document. Or you may store doctitle and docpath too.

For each row you shoul do something like this:

import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;

Document doc =3D new Document();
doc.add(new Field("ID", [here you row ID value], Field.Store.YES,
Field.Index.UN_TOKENIZED));
doc.add(new Field("TITLE", [here value of doctitle field],
Field.Store.NO, Field.Index.TOKENIZED));
doc.add(new Field("PATH", [here value of docpath field],
Field.Store.NO, Field.Index.TOKENIZED));
indexWriter.addDocument(doc);

After searcing you have Hits, get doc from Hits and get value of "ID"
field of that doc - now you may get row from table by ID and receive
any data.

2006/5/31, Amaresh Kumar Yadav <Amaresh.Yadav@niit.com>:
> Hi All,
>
> Infact i want to search data which is stored  in a table on oracle...
>
> my table contains two fields "doctitle" and "docpath", first
field(doctitle)
> represents location of some document and second field(docpath)represents
> documents title.
>
> I want to apply lucene search on doctitle.
>
> What i want to do for  search ...
>
> First create a text file which contains data(that is retrived by oracle
> query) which is stored in table.
>
> Now i want to creat index for this file.
>
> now i want to search on title of document which is stored in the text
file.
>
> after searching i want to disply corresponding path from index file.
>
> How should i creat such index file  ???
>
> how should i proceed????
>
>
> With Thanks & Regards
>
> Amaresh
>
> ----------------------------------------------------------------------
> DISCLAIMER
>
> This email and any files transmitted with it are confidential and are
solely for the use of the individual or entity to which it is addressed. Any
use, distribution, copying or disclosure by any other person is strictly
prohibited. If you receive this transmission in error, please notify the
sender by reply email and then destroy the message. Opinions, conclusions
and other information in this message that do not relate to official
business of the company shall be understood to be neither given nor endorsed
by NIIT Ltd. or NIIT Technologies Ltd. Any information contained in this
email, when addressed to Clients is subject to the terms and conditions in
governing client contract.
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--=20
ICQ: 166072598

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

----------------------------------------------------------------------
DISCLAIMER

This email and any files transmitted with it are confidential and are solely=
 for the use of the individual or entity to which it is addressed. Any use, =
distribution, copying or disclosure by any other person is strictly prohibit=
ed. If you receive this transmission in error, please notify the sender by r=
eply email and then destroy the message. Opinions, conclusions and other inf=
ormation in this message that do not relate to official business of the comp=
any shall be understood to be neither given nor endorsed by NIIT Ltd. or NII=
T Technologies Ltd. Any information contained in this email, when addressed =
to Clients is subject to the terms and conditions in governing client contra=
ct.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21041-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 01 04:34:40 2006
Return-Path: <java-user-return-21041-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25655 invoked from network); 1 Jun 2006 04:34:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Jun 2006 04:34:40 -0000
Received: (qmail 13183 invoked by uid 500); 1 Jun 2006 04:34:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13146 invoked by uid 500); 1 Jun 2006 04:34:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13134 invoked by uid 99); 1 Jun 2006 04:34:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 21:34:33 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.58] (HELO web50304.mail.yahoo.com) (206.190.38.58)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 31 May 2006 21:34:32 -0700
Received: (qmail 56066 invoked by uid 60001); 1 Jun 2006 04:34:11 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=ufLVT4rtSSyq+beNU2jykyvOOhnTTU+IqwSrbRSfBONlbtznnxeE/U57anpNp9h45PEO3sQ48ZeBIDcS3ypprPD89TeG76n0PWjUCyOYmg2Izg80zkvs7Six1rMMhHRFxrYyMr8s76zAG61wmi/fsULU8scK/h3vs5FcoVJQ15c=  ;
Message-ID: <20060601043411.56064.qmail@web50304.mail.yahoo.com>
Date: Wed, 31 May 2006 21:34:11 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: how to craete index with particular ID
To: java-user@lucene.apache.org
In-Reply-To: <934F531A825AFF4F863658E2402E0647076E5460@ho-kkj-msg3.in.niit.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Here's an example that will work with the query parser:

  title:FAQ

Otis

----- Original Message ----
From: Amaresh Kumar Yadav <Amaresh.Yadav@niit.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Sent: Wednesday, May 31, 2006 11:56:19 PM
Subject: RE: how to craete index with particular ID

i want to search for text into "title" field only.

how shuold i specify it?

Regards..
Amaresh

-----Original Message-----
From: Alexey Sorokin [mailto:alsor.net@gmail.com]
Sent: Wednesday, May 31, 2006 4:21 PM
To: java-user@lucene.apache.org
Subject: Re: how to craete index with particular ID


Actually you don't need to create text file. Get data from db and
create Document that put in index. At least you must store ID of row
in Document. Or you may store doctitle and docpath too.

For each row you shoul do something like this:

import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;

Document doc = new Document();
doc.add(new Field("ID", [here you row ID value], Field.Store.YES,
Field.Index.UN_TOKENIZED));
doc.add(new Field("TITLE", [here value of doctitle field],
Field.Store.NO, Field.Index.TOKENIZED));
doc.add(new Field("PATH", [here value of docpath field],
Field.Store.NO, Field.Index.TOKENIZED));
indexWriter.addDocument(doc);

After searcing you have Hits, get doc from Hits and get value of "ID"
field of that doc - now you may get row from table by ID and receive
any data.

2006/5/31, Amaresh Kumar Yadav <Amaresh.Yadav@niit.com>:
> Hi All,
>
> Infact i want to search data which is stored  in a table on oracle...
>
> my table contains two fields "doctitle" and "docpath", first
field(doctitle)
> represents location of some document and second field(docpath)represents
> documents title.
>
> I want to apply lucene search on doctitle.
>
> What i want to do for  search ...
>
> First create a text file which contains data(that is retrived by oracle
> query) which is stored in table.
>
> Now i want to creat index for this file.
>
> now i want to search on title of document which is stored in the text
file.
>
> after searching i want to disply corresponding path from index file.
>
> How should i creat such index file  ???
>
> how should i proceed????
>
>
> With Thanks & Regards
>
> Amaresh
>
> ----------------------------------------------------------------------
> DISCLAIMER
>
> This email and any files transmitted with it are confidential and are
solely for the use of the individual or entity to which it is addressed. Any
use, distribution, copying or disclosure by any other person is strictly
prohibited. If you receive this transmission in error, please notify the
sender by reply email and then destroy the message. Opinions, conclusions
and other information in this message that do not relate to official
business of the company shall be understood to be neither given nor endorsed
by NIIT Ltd. or NIIT Technologies Ltd. Any information contained in this
email, when addressed to Clients is subject to the terms and conditions in
governing client contract.
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
ICQ: 166072598

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

----------------------------------------------------------------------
DISCLAIMER

This email and any files transmitted with it are confidential and are solely for the use of the individual or entity to which it is addressed. Any use, distribution, copying or disclosure by any other person is strictly prohibited. If you receive this transmission in error, please notify the sender by reply email and then destroy the message. Opinions, conclusions and other information in this message that do not relate to official business of the company shall be understood to be neither given nor endorsed by NIIT Ltd. or NIIT Technologies Ltd. Any information contained in this email, when addressed to Clients is subject to the terms and conditions in governing client contract.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21042-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 01 04:38:49 2006
Return-Path: <java-user-return-21042-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28743 invoked from network); 1 Jun 2006 04:38:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Jun 2006 04:38:49 -0000
Received: (qmail 20187 invoked by uid 500); 1 Jun 2006 04:38:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19789 invoked by uid 500); 1 Jun 2006 04:38:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19778 invoked by uid 99); 1 Jun 2006 04:38:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 21:38:42 -0700
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_WHOIS,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.55] (HELO web50301.mail.yahoo.com) (206.190.38.55)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 31 May 2006 21:38:42 -0700
Received: (qmail 35951 invoked by uid 60001); 1 Jun 2006 04:38:21 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=eDuURcJLQphnxJ/IBiunL3SFzWS6qjl07eNXNWK48ljaCNsJ8Hval29AnxAqK4xwf/q18hOG6KdXLes8JEQ0mSY9h86gX50qdHV5fXje417UBPO30Zjnmo7H8SzMTEhUovGPsJYri6XAT8JN8a6oWJgNxtZsQUKoUT0+Yp8TcKY=  ;
Message-ID: <20060601043821.35949.qmail@web50301.mail.yahoo.com>
Date: Wed, 31 May 2006 21:38:21 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Reply-To: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: preloading / "warming up" the index
To: java-user@lucene.apache.org
In-Reply-To: <a30e49910605312055y3eee60d3gd9ddb8a63501fb3b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Look in your index directory and look for a .tii file.  That file is read in RAM (if there is enough of it.  If there is not, you will see OOM).  What Monsur was talking about is related to sorting and warming up of FieldCache instances.  If you don't sort your results by criteria other than the default relevance, you can ignore FieldCache.
Any query should cause Lucene to read the whole .tii in RAM.
If you do not see a .tii file in your index directory, and instead see one or more .cfs file, you are using the compound index format.  Run IndexReader as a java app (e.g. java org.apache.lucene....IndexReader /your/index/dir/file(?)) to get a listing of individual index files inside a single cfs file.

Otis


----- Original Message ----
From: Charles Mi <charlesmi@gmail.com>
To: java-user@lucene.apache.org
Sent: Wednesday, May 31, 2006 11:55:44 PM
Subject: Re: preloading / "warming up" the index

Thanks for the advice guys... i'm still not entirely clear on what a search
causes Lucene to do with respect to warming up/caching portions of the index
in memory.

If I warm up lucene using a search for "apple",  does Lucene load the entire
inverted index into Memory, or just the part of the index that contains the
entry for "apple" ?   Basically I'd like to make sure that the entire
inverted index (or as much as possible) is preloaded into memory, so if I
issue a subsequent search for "microsoft", it will be fast.    Does Lucene
have any mechanism for preloading the inverted index into memory?   Also is
there a way to figure out what percentage of lucene's data storage is
occupied by the inverted index, and what percentage is occupied by the other
info, like storing the documents' field values and such.

Thanks!
Charles


On 5/31/06, Monsur Hossain <monsurh@gmail.com> wrote:
>
> When Lucene first issues a query, it caches a hash of sort values (one
> value per document, plus a bit more if you are sorting on strings),
> which takes a while.  Therefore, when our application first starts up,
> we issue one query per sort type.  As I understand, it doesn't matter
> what the query is or how complicated it is.
>
> Monsur
>
>
>
> On 5/31/06, Charles Mi <charlesmi@gmail.com> wrote:
> > Is there a way to preload the index into memory when the process starts?
> > Basically I want to warm up the index before processing user queries.
> What
> > are some recommended ways to do this? Thanks.
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21043-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 01 04:50:35 2006
Return-Path: <java-user-return-21043-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30354 invoked from network); 1 Jun 2006 04:50:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Jun 2006 04:50:34 -0000
Received: (qmail 29751 invoked by uid 500); 1 Jun 2006 04:50:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29335 invoked by uid 500); 1 Jun 2006 04:50:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29323 invoked by uid 99); 1 Jun 2006 04:50:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 21:50:27 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.200.76.18] (HELO mail4.niit.com) (203.200.76.18)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 21:50:26 -0700
Received: from 172.17.8.245 [172.17.8.245]
	by mail4.niit.com
	with XWall v3.33 ;
	Thu, 1 Jun 2006 10:20:00 +0530
Received: by ho-kkj-msg3.in.niit.com with Internet Mail Service (5.5.2657.72)
	id <L9CJ03LK>; Thu, 1 Jun 2006 10:19:58 +0530
From: Amaresh Kumar Yadav <Amaresh.Yadav@niit.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: RE: how to craete index with particular ID
Date: Thu, 1 Jun 2006 10:19:57 +0530
X-Assembled-By: XWall v3.33
X-Mailer: Internet Mail Service (5.5.2657.72)
Message-ID: <934F531A825AFF4F863658E2402E0647076E576E@ho-kkj-msg3.in.niit.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

where ??

Please send me url..

amaresh

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: Thursday, June 01, 2006 10:04 AM
To: java-user@lucene.apache.org
Subject: Re: how to craete index with particular ID


Here's an example that will work with the query parser:

=20 title:FAQ

Otis

----- Original Message ----
From: Amaresh Kumar Yadav <Amaresh.Yadav@niit.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Sent: Wednesday, May 31, 2006 11:56:19 PM
Subject: RE: how to craete index with particular ID

i want to search for text into "title" field only.

how shuold i specify it?

Regards..
Amaresh

-----Original Message-----
From: Alexey Sorokin [mailto:alsor.net@gmail.com]
Sent: Wednesday, May 31, 2006 4:21 PM
To: java-user@lucene.apache.org
Subject: Re: how to craete index with particular ID


Actually you don't need to create text file. Get data from db and
create Document that put in index. At least you must store ID of row
in Document. Or you may store doctitle and docpath too.

For each row you shoul do something like this:

import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;

Document doc =3D new Document();
doc.add(new Field("ID", [here you row ID value], Field.Store.YES,
Field.Index.UN_TOKENIZED));
doc.add(new Field("TITLE", [here value of doctitle field],
Field.Store.NO, Field.Index.TOKENIZED));
doc.add(new Field("PATH", [here value of docpath field],
Field.Store.NO, Field.Index.TOKENIZED));
indexWriter.addDocument(doc);

After searcing you have Hits, get doc from Hits and get value of "ID"
field of that doc - now you may get row from table by ID and receive
any data.

2006/5/31, Amaresh Kumar Yadav <Amaresh.Yadav@niit.com>:
> Hi All,
>
> Infact i want to search data which is stored  in a table on oracle...
>
> my table contains two fields "doctitle" and "docpath", first
field(doctitle)
> represents location of some document and second field(docpath)represents
> documents title.
>
> I want to apply lucene search on doctitle.
>
> What i want to do for  search ...
>
> First create a text file which contains data(that is retrived by oracle
> query) which is stored in table.
>
> Now i want to creat index for this file.
>
> now i want to search on title of document which is stored in the text
file.
>
> after searching i want to disply corresponding path from index file.
>
> How should i creat such index file  ???
>
> how should i proceed????
>
>
> With Thanks & Regards
>
> Amaresh
>
> ----------------------------------------------------------------------
> DISCLAIMER
>
> This email and any files transmitted with it are confidential and are
solely for the use of the individual or entity to which it is addressed. Any
use, distribution, copying or disclosure by any other person is strictly
prohibited. If you receive this transmission in error, please notify the
sender by reply email and then destroy the message. Opinions, conclusions
and other information in this message that do not relate to official
business of the company shall be understood to be neither given nor endorsed
by NIIT Ltd. or NIIT Technologies Ltd. Any information contained in this
email, when addressed to Clients is subject to the terms and conditions in
governing client contract.
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--=20
ICQ: 166072598

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

----------------------------------------------------------------------
DISCLAIMER

This email and any files transmitted with it are confidential and are solely
for the use of the individual or entity to which it is addressed. Any use,
distribution, copying or disclosure by any other person is strictly
prohibited. If you receive this transmission in error, please notify the
sender by reply email and then destroy the message. Opinions, conclusions
and other information in this message that do not relate to official
business of the company shall be understood to be neither given nor endorsed
by NIIT Ltd. or NIIT Technologies Ltd. Any information contained in this
email, when addressed to Clients is subject to the terms and conditions in
governing client contract.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

----------------------------------------------------------------------
DISCLAIMER

This email and any files transmitted with it are confidential and are solely=
 for the use of the individual or entity to which it is addressed. Any use, =
distribution, copying or disclosure by any other person is strictly prohibit=
ed. If you receive this transmission in error, please notify the sender by r=
eply email and then destroy the message. Opinions, conclusions and other inf=
ormation in this message that do not relate to official business of the comp=
any shall be understood to be neither given nor endorsed by NIIT Ltd. or NII=
T Technologies Ltd. Any information contained in this email, when addressed =
to Clients is subject to the terms and conditions in governing client contra=
ct.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21044-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 01 04:54:04 2006
Return-Path: <java-user-return-21044-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30721 invoked from network); 1 Jun 2006 04:54:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Jun 2006 04:54:04 -0000
Received: (qmail 32205 invoked by uid 500); 1 Jun 2006 04:53:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32184 invoked by uid 500); 1 Jun 2006 04:53:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32173 invoked by uid 99); 1 Jun 2006 04:53:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 21:53:58 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 21:53:57 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id D198D5B763; Wed, 31 May 2006 21:53:36 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id CE12E7F403
	for <java-user@lucene.apache.org>; Wed, 31 May 2006 21:53:36 -0700 (PDT)
Date: Wed, 31 May 2006 21:53:36 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: preloading / "warming up" the index
In-Reply-To: <a30e49910605312055y3eee60d3gd9ddb8a63501fb3b@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0605312149330.8199@hal.rescomp.berkeley.edu>
References: <a30e49910605312003h16540d96h1cebf5a1b30e1647@mail.gmail.com> 
 <de98de150605312012i6ca825ebwdc59d5944d18a851@mail.gmail.com>
 <a30e49910605312055y3eee60d3gd9ddb8a63501fb3b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: entry for "apple" ?   Basically I'd like to make sure that the entire
: inverted index (or as much as possible) is preloaded into memory, so if I

if you've got enough ram, and you really want everything loaded into
memory, you can allways use a RAMDirectory.

even if you want your index stored on disk for persistence, you can open a
RAMDirectory that mirrors an FSDirectory and use the RAMDirectory for
searching...

http://lucene.apache.org/java/docs/api/org/apache/lucene/store/RAMDirectory.html

...but i have no idea wether this is acctually faster then just trusting
your OS's filesystem cache.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21045-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 01 04:56:55 2006
Return-Path: <java-user-return-21045-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31296 invoked from network); 1 Jun 2006 04:56:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Jun 2006 04:56:55 -0000
Received: (qmail 36338 invoked by uid 500); 1 Jun 2006 04:56:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35793 invoked by uid 500); 1 Jun 2006 04:56:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35753 invoked by uid 99); 1 Jun 2006 04:56:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 21:56:47 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of Kinnar.Sen@hcl.in designates 203.105.185.19 as permitted sender)
Received: from [203.105.185.19] (HELO nda-hclin-gws01.hcl.in) (203.105.185.19)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 31 May 2006 21:56:45 -0700
Received: from nda-hclin-gws01.hcl.in (nda-hclin-gws01 [10.248.64.134])
	by localhost.hcl.in (Postfix) with SMTP
	id 016629E00A5; Thu,  1 Jun 2006 10:25:56 +0530 (IST)
Received: from nda-egw01-out.corp.hcl.in (unknown [10.248.64.37])by 
	nda-hclin-gws01.hcl.in (Postfix) with ESMTPid EA73A9E00A3; Thu,  1 Jun 2006
	 10:25:55 +0530 (IST)
Received: from HSDLNTD1110010.noida.hcltech.com ([10.112.8.20]) by 
	nda-egw01-out.corp.hcl.in with Microsoft SMTPSVC(6.0.3790.1830); Thu, 1 Jun
	 2006 10:26:22 +0530
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: RE: My first question
Date: Thu, 1 Jun 2006 10:28:23 +0530
Message-ID: <539C0A297AA0C74581CB5AF82D5372910128BDCD@HSDLNTD1110010.noida.hcltech.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: My first question
Thread-Index: AcaE0MueS9cmXA7KSHiZkmvoBqfErQAZgCOw
From: "Kinnar Kumar Sen, Noida" <Kinnar.Sen@hcl.in>
To: <java-user@lucene.apache.org>,
	"Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
Cc: "Lokesh Chugh, Noida" <lchugh@hcl.in>
X-OriginalArrivalTime: 01 Jun 2006 04:56:22.0421 (UTC) 
	FILETIME=[BA6F9C50:01C68537]
X-imss-version: 2.038
X-imss-result: Passed
X-imss-scores: Clean:99.90000 C:2 M:3 S:5 R:5
X-imss-settings: Baseline:2 C:2 M:2 S:2 R:2 (0.1500 0.1500)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi Otis

Here are my specifications

--Query Simple query ( one to ten parameters ) and range queries ( three
Parameters )
--Size of index 15 - 20 GB
--Hardware 2 GB RAM 2 CPU machine Intel Xeon 2.4 Ghz
--Latency should be within a second


If you can provide me with some numerical figures on the number of
queries that a single index can support.

It would be also helpful if you can provide me with the exact hardware
specifications that I would need for the above requirement. (If the
above is not sufficient)


Regards and Thanks=0D
Kinnar Kumar Sen=0D

=0D
TO SUCEED BE DIFFERENT BE DARING AND BE THERE FIRST
=0D
=0D

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=0D
Sent: Wednesday, May 31, 2006 10:09 PM
To: java-user@lucene.apache.org
Subject: Re: My first question

It depends on:
- query complexity/type
- size of the index
- hardware (CPU, disk, RAM)
- acceptable latency
...

Otis

----- Original Message ----
From: "Kinnar Kumar Sen, Noida" <Kinnar.Sen@hcl.in>
To: java-user@lucene.apache.org
Sent: Wednesday, May 31, 2006 8:22:48 AM
Subject: RE: My first question


Hi All

Can any one tell me how many simultaneous queries can a Lucene Index
Support


Regards and Thanks
Kinnar


DISCLAIMER:
------------------------------------------------------------------------
-----------------------------------------------

The contents of this e-mail and any attachment(s) are confidential and
intended for the named recipient(s) only.

It shall not attach any liability on the originator or HCL or its
affiliates. Any views or opinions presented in

this email are solely those of the author and may not necessarily
reflect the opinions of HCL or its affiliates.

Any form of reproduction, dissemination, copying, disclosure,
modification, distribution and / or publication of

this message without the prior written consent of the author of this
e-mail is strictly prohibited. If you have

received this email in error please delete it and notify the sender
immediately. Before opening any mail and

attachments please check them for viruses and defect.

------------------------------------------------------------------------
-----------------------------------------------

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


DISCLAIMER:
---------------------------------------------------------------------------=
--------------------------------------------

The contents of this e-mail and any attachment(s) are confidential and=
 intended for the named recipient(s) only.=0D
It shall not attach any liability on the originator or HCL or its=
 affiliates. Any views or opinions presented in=0D
this email are solely those of the author and may not necessarily reflect=
 the opinions of HCL or its affiliates.=0D
Any form of reproduction, dissemination, copying, disclosure, modification,=
 distribution and / or publication of=0D
this message without the prior written consent of the author of this e-mail=
 is strictly prohibited. If you have=0D
received this email in error please delete it and notify the sender=
 immediately. Before opening any mail and=0D
attachments please check them for viruses and defect.

---------------------------------------------------------------------------=
--------------------------------------------

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21046-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 01 04:57:47 2006
Return-Path: <java-user-return-21046-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31538 invoked from network); 1 Jun 2006 04:57:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Jun 2006 04:57:47 -0000
Received: (qmail 37701 invoked by uid 500); 1 Jun 2006 04:57:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37444 invoked by uid 500); 1 Jun 2006 04:57:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37433 invoked by uid 99); 1 Jun 2006 04:57:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 21:57:40 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 21:57:39 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 1A1B95B791; Wed, 31 May 2006 21:57:19 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 0F84A7F403
	for <java-user@lucene.apache.org>; Wed, 31 May 2006 21:57:19 -0700 (PDT)
Date: Wed, 31 May 2006 21:57:19 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: RE: how to craete index with particular ID
In-Reply-To: <934F531A825AFF4F863658E2402E0647076E576E@ho-kkj-msg3.in.niit.com>
Message-ID: <Pine.LNX.4.58.0605312155590.8199@hal.rescomp.berkeley.edu>
References: <934F531A825AFF4F863658E2402E0647076E576E@ho-kkj-msg3.in.niit.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: where ??
:
: Please send me url..

I'm not sure if i understnad your question, but have you had a chance to
take a look at all of the pages linked to from here yet?

	http://lucene.apache.org/java/docs/gettingstarted.html


: -----Original Message-----
: From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
: Sent: Thursday, June 01, 2006 10:04 AM
: To: java-user@lucene.apache.org
: Subject: Re: how to craete index with particular ID
:
:
: Here's an example that will work with the query parser:
:
:   title:FAQ
:
: Otis
:
: ----- Original Message ----
: From: Amaresh Kumar Yadav <Amaresh.Yadav@niit.com>
: To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
: Sent: Wednesday, May 31, 2006 11:56:19 PM
: Subject: RE: how to craete index with particular ID
:
: i want to search for text into "title" field only.
:
: how shuold i specify it?
:
: Regards..
: Amaresh
:
: -----Original Message-----
: From: Alexey Sorokin [mailto:alsor.net@gmail.com]
: Sent: Wednesday, May 31, 2006 4:21 PM
: To: java-user@lucene.apache.org
: Subject: Re: how to craete index with particular ID
:
:
: Actually you don't need to create text file. Get data from db and
: create Document that put in index. At least you must store ID of row
: in Document. Or you may store doctitle and docpath too.
:
: For each row you shoul do something like this:
:
: import org.apache.lucene.document.Document;
: import org.apache.lucene.document.Field;
:
: Document doc = new Document();
: doc.add(new Field("ID", [here you row ID value], Field.Store.YES,
: Field.Index.UN_TOKENIZED));
: doc.add(new Field("TITLE", [here value of doctitle field],
: Field.Store.NO, Field.Index.TOKENIZED));
: doc.add(new Field("PATH", [here value of docpath field],
: Field.Store.NO, Field.Index.TOKENIZED));
: indexWriter.addDocument(doc);
:
: After searcing you have Hits, get doc from Hits and get value of "ID"
: field of that doc - now you may get row from table by ID and receive
: any data.
:
: 2006/5/31, Amaresh Kumar Yadav <Amaresh.Yadav@niit.com>:
: > Hi All,
: >
: > Infact i want to search data which is stored  in a table on oracle...
: >
: > my table contains two fields "doctitle" and "docpath", first
: field(doctitle)
: > represents location of some document and second field(docpath)represents
: > documents title.
: >
: > I want to apply lucene search on doctitle.
: >
: > What i want to do for  search ...
: >
: > First create a text file which contains data(that is retrived by oracle
: > query) which is stored in table.
: >
: > Now i want to creat index for this file.
: >
: > now i want to search on title of document which is stored in the text
: file.
: >
: > after searching i want to disply corresponding path from index file.
: >
: > How should i creat such index file  ???
: >
: > how should i proceed????
: >
: >
: > With Thanks & Regards
: >
: > Amaresh
: >
: > ----------------------------------------------------------------------
: > DISCLAIMER
: >
: > This email and any files transmitted with it are confidential and are
: solely for the use of the individual or entity to which it is addressed. Any
: use, distribution, copying or disclosure by any other person is strictly
: prohibited. If you receive this transmission in error, please notify the
: sender by reply email and then destroy the message. Opinions, conclusions
: and other information in this message that do not relate to official
: business of the company shall be understood to be neither given nor endorsed
: by NIIT Ltd. or NIIT Technologies Ltd. Any information contained in this
: email, when addressed to Clients is subject to the terms and conditions in
: governing client contract.
: >
: >
: >
: > ---------------------------------------------------------------------
: > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: > For additional commands, e-mail: java-user-help@lucene.apache.org
: >
: >
:
:
: --
: ICQ: 166072598
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:
: ----------------------------------------------------------------------
: DISCLAIMER
:
: This email and any files transmitted with it are confidential and are solely
: for the use of the individual or entity to which it is addressed. Any use,
: distribution, copying or disclosure by any other person is strictly
: prohibited. If you receive this transmission in error, please notify the
: sender by reply email and then destroy the message. Opinions, conclusions
: and other information in this message that do not relate to official
: business of the company shall be understood to be neither given nor endorsed
: by NIIT Ltd. or NIIT Technologies Ltd. Any information contained in this
: email, when addressed to Clients is subject to the terms and conditions in
: governing client contract.
:
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:
:
:
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:
: ----------------------------------------------------------------------
: DISCLAIMER
:
: This email and any files transmitted with it are confidential and are solely for the use of the individual or entity to which it is addressed. Any use, distribution, copying or disclosure by any other person is strictly prohibited. If you receive this transmission in error, please notify the sender by reply email and then destroy the message. Opinions, conclusions and other information in this message that do not relate to official business of the company shall be understood to be neither given nor endorsed by NIIT Ltd. or NIIT Technologies Ltd. Any information contained in this email, when addressed to Clients is subject to the terms and conditions in governing client contract.
:
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-21047-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 01 05:17:03 2006
Return-Path: <java-user-return-21047-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35760 invoked from network); 1 Jun 2006 05:17:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Jun 2006 05:17:03 -0000
Received: (qmail 56916 invoked by uid 500); 1 Jun 2006 05:16:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56882 invoked by uid 500); 1 Jun 2006 05:16:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56867 invoked by uid 99); 1 Jun 2006 05:16:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 22:16:55 -0700
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of charlesmi@gmail.com designates 64.233.182.184 as permitted sender)
Received: from [64.233.182.184] (HELO nf-out-0910.google.com) (64.233.182.184)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 22:16:54 -0700
Received: by nf-out-0910.google.com with SMTP id x4so397486nfb
        for <java-user@lucene.apache.org>; Wed, 31 May 2006 22:16:33 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=G82l7eqJ613SrPBOVw+zFlqC30DFel9SJax5dt8IEqaaAIw8PgQ95mbL9fD7ylOL1d79L3dVjxrGdi8uH9gVxPQbjAQijNyJDpb8mYM/BtY3Q4xzW9cKuLqQx1t0/k8OKR3Xu88ezPYA1m99eaUHwRTbwj31z7YVL4CaKRSDMyk=
Received: by 10.48.14.12 with SMTP id 12mr24302nfn;
        Wed, 31 May 2006 22:16:33 -0700 (PDT)
Received: by 10.67.91.1 with HTTP; Wed, 31 May 2006 22:16:32 -0700 (PDT)
Message-ID: <a30e49910605312216h5cdf5e20yf4535795d021ff08@mail.gmail.com>
Date: Wed, 31 May 2006 22:16:32 -0700
From: "Charles Mi" <charlesmi@gmail.com>
To: java-user@lucene.apache.org, "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
Subject: Re: preloading / "warming up" the index
In-Reply-To: <20060601043821.35949.qmail@web50301.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_18168_19067406.1149138992993"
References: <a30e49910605312055y3eee60d3gd9ddb8a63501fb3b@mail.gmail.com>
	 <20060601043821.35949.qmail@web50301.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_18168_19067406.1149138992993
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Is there a way to preload portions of the other files, particularly .tis,
.frq, .prx into memory?  My total index size is roughly 4GB and we have 2GB
memory in the machine... the .tii file is tiny (about 1.5 MB).    Basically,
before my server starts accepting and handling queries, I'd like to load as
much of the index into memory as possible, so that Lucene doesn't have to
always hit the disk for each unique keyword, which is an order of magnitude
slower...  Does Lucene have this preloading feature?

If not, is there a way to approximate the preloading to get Lucene to cache
some of the disk data into memory?   I tried to warm up Lucene by searching
for 1000 random terms... but that doesn't seem to work.  After warming up,
searching for those same exact 1000 terms again was very fast....
but querying 1000 *other* terms was just as slow as the warm up query
speed...

Much thanks,
~Heng


On 5/31/06, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:

> Look in your index directory and look for a .tii file.  That file is read
> in RAM (if there is enough of it.  If there is not, you will see OOM).  What
> Monsur was talking about is related to sorting and warming up of FieldCache
> instances.  If you don't sort your results by criteria other than the
> default relevance, you can ignore FieldCache.
> Any query should cause Lucene to read the whole .tii in RAM.
> If you do not see a .tii file in your index directory, and instead see one
> or more .cfs file, you are using the compound index format.  Run IndexReader
> as a java app (e.g. java org.apache.lucene....IndexReader/your/index/dir/file(?)) to get a listing of individual index files inside a
> single cfs file.
>
> Otis
>
>
> ----- Original Message ----
> From: Charles Mi <charlesmi@gmail.com>
> To: java-user@lucene.apache.org
> Sent: Wednesday, May 31, 2006 11:55:44 PM
> Subject: Re: preloading / "warming up" the index
>
> Thanks for the advice guys... i'm still not entirely clear on what a
> search
> causes Lucene to do with respect to warming up/caching portions of the
> index
> in memory.
>
> If I warm up lucene using a search for "apple",  does Lucene load the
> entire
> inverted index into Memory, or just the part of the index that contains
> the
> entry for "apple" ?   Basically I'd like to make sure that the entire
> inverted index (or as much as possible) is preloaded into memory, so if I
> issue a subsequent search for "microsoft", it will be fast.    Does Lucene
> have any mechanism for preloading the inverted index into memory?   Also
> is
> there a way to figure out what percentage of lucene's data storage is
> occupied by the inverted index, and what percentage is occupied by the
> other
> info, like storing the documents' field values and such.
>
> Thanks!
> Charles
>
>
> On 5/31/06, Monsur Hossain <monsurh@gmail.com> wrote:
> >
> > When Lucene first issues a query, it caches a hash of sort values (one
> > value per document, plus a bit more if you are sorting on strings),
> > which takes a while.  Therefore, when our application first starts up,
> > we issue one query per sort type.  As I understand, it doesn't matter
> > what the query is or how complicated it is.
> >
> > Monsur
> >
> >
> >
> > On 5/31/06, Charles Mi <charlesmi@gmail.com> wrote:
> > > Is there a way to preload the index into memory when the process
> starts?
> > > Basically I want to warm up the index before processing user queries.
> > What
> > > are some recommended ways to do this? Thanks.
> > >
> > >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_18168_19067406.1149138992993--

From java-user-return-21048-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Jun 01 06:47:04 2006
Return-Path: <java-user-return-21048-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65132 invoked from network); 1 Jun 2006 06:47:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Jun 2006 06:47:04 -0000
Received: (qmail 42100 invoked by uid 500); 1 Jun 2006 06:46:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42058 invoked by uid 500); 1 Jun 2006 06:46:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42047 invoked by uid 99); 1 Jun 2006 06:46:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 23:46:56 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of danutchi@gmail.com designates 66.249.82.197 as permitted sender)
Received: from [66.249.82.197] (HELO wx-out-0102.google.com) (66.249.82.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 31 May 2006 23:46:54 -0700
Received: by wx-out-0102.google.com with SMTP id s16so142634wxc
        for <java-user@lucene.apache.org>; Wed, 31 May 2006 23:46:34 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=RqRk3Oqo4biu9TT9XYjCp6VxoT/8qAdbtKLSbQ3x1u1U7EB+4HBeM5DMEiFg/q6LZ19mMN/4hDrTBZcMxIIpinBQuO74Q73IOB3r/PK8qYt8quWoYmm2Sq+mMIOAvTh3lld+EUeaR7AW9vENQOi+R4eSqKZ3mWuT/Mh/ujRPAZo=
Received: by 10.70.9.16 with SMTP id 16mr322769wxi;
        Wed, 31 May 2006 23:46:33 -0700 (PDT)
Received: by 10.70.33.17 with HTTP; Wed, 31 May 2006 23:46:33 -0700 (PDT)
Message-ID: <d7a865a50605312346m4c75d8c5s553cda4b0d03db6c@mail.gmail.com>
Date: Thu, 1 Jun 2006 08:46:33 +0200
From: "Dan Wiggin" <danutchi@gmail.com>
To: java-user@lucene.apache.org
Subject: Multisearcher Lucene IOException
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_25721_12675620.1149144393936"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_25721_12675620.1149144393936
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

StackTrace

java.io.IOException: read past EOF
        at org.apache.lucene.store.InputStream.refill(InputStream.java:154)
        at org.apache.lucene.store.InputStream.readByte(InputStream.java:43)
        at org.apache.lucene.store.InputStream.readBytes(InputStream.java
:57)
        at org.apache.lucene.index.SegmentReader.norms(SegmentReader.java
:356)
        at org.apache.lucene.index.MultiReader.norms(MultiReader.java:159)
        at org.apache.lucene.search.TermQuery$TermWeight.scorer(
TermQuery.java:64)
        at org.apache.lucene.search.BooleanQuery$BooleanWeight.scorer(
BooleanQuery.java:165)
        at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java
:117)
        at org.apache.lucene.search.MultiSearcher.search(MultiSearcher.java
:141)
        at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:64)
        at org.apache.lucene.search.Hits.<init>(Hits.java:51)

The executed code is:
        ArrayList newer = new ArrayList();
        SearchResults sr = null;
        Term searchType=null;
        Term searchIdPortal=null;
        RangeQuery dates = findINTODates(days);
        MultiSearcher searcher=iService.getSearcher();
        BooleanQuery combinada = new BooleanQuery();

        TermQuery searchIdEcat = new TermQuery (new Term (
IndexService.ID_ECAT_lucenedoc,g.getId()));
        combinada.add(searchIdEcat,true,false);

        TermQuery searchGroups = new TermQuery (new Term (
IndexService.ECATID_TYPE_lucenedoc,(new Integer(ToolReference.GROUP_ID
)).toString()));
        combinada.add(searchGroups,true,false);

        if (toolId != null){
            searchType=new Term(IndexService.TYPE_lucenedoc,toolId);
            TermQuery searchThisNow= new TermQuery(searchType);
            combinada.add(searchThisNow,true,false);
        }
        combinada.add(dates,true,false);


        //Tb omitiremos los resultados de comentarios de portalPages y de
Grup Pages
        combinada.add(new TermQuery(new Term(IndexService.TYPE_lucenedoc,
IndexService.GroupPage)),false,true);
        combinada.add(new TermQuery(new Term(IndexService.TYPE_lucenedoc,
IndexService.PortalPage)),false,true);
        combinada.add(new TermQuery(new Term(IndexService.TYPE_lucenedoc,
IndexService.PersonalPage)),false,true);
        combinada.add(new TermQuery(new Term(IndexService.TYPE_lucenedoc,
IndexService.Comentario)),false,true);
        combinada.add(new TermQuery(new Term(IndexService.TYPE_lucenedoc,
IndexService.ATTACHMENT)),false,true);

        try{
            SortField[] sorted = new SortField[2];
            sorted[0]=new SortField(IndexService.DATE_lucenedoc,
SortField.STRING, true);
            sorted[1]=new SortField(IndexService.TIME_lucenedoc,
SortField.STRING, true);

            Hits hitsORDERED =searcher.search(combinada,new Sort(sorted));

            log.debug("Query: "+sorted.toString());



Anyone can tell me what is the problem?
I opened in readonly mode my index with luke and I don't have any problem to
check contents.

Could be my index corrupted?
What is the usually code at startup to do a check of integrity of lucene
index? With this code I can detect if my index is corrupted and force to
create a new index.

thks in advance.

------=_Part_25721_12675620.1149144393936--

